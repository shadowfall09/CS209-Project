{"items":[{"tags":["java","spring","spring-boot","webclient","spring-webclient"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1673146838,"post_id":75045201,"comment_id":132432052,"body_markdown":"Does this answer your question? [Getting the response body in error case with Spring WebClient](https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71643036/getting-the-response-body-in-error-case-with-spring-webclient\">Getting the response body in error case with Spring WebClient</a>"},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1673165776,"post_id":75045201,"comment_id":132433715,"body_markdown":"bodyToMono give you Mono object, not Employee class. Please stay in the reactor environment if you use Mono or Flux otherwise you will experience an operational anomaly.","body":"bodyToMono give you Mono object, not Employee class. Please stay in the reactor environment if you use Mono or Flux otherwise you will experience an operational anomaly."}],"answers":[{"comments":[{"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"score":0,"creation_date":1673282571,"post_id":75051691,"comment_id":132458855,"body_markdown":"The problem is that it generates an NPE exception","body":"The problem is that it generates an NPE exception"},{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1673296455,"post_id":75051691,"comment_id":132463040,"body_markdown":"Are you sure you have posted your entire code? Seems there&#39;s something missing","body":"Are you sure you have posted your entire code? Seems there&#39;s something missing"}],"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673240251,"creation_date":1673216720,"answer_id":75051691,"question_id":75045201,"body_markdown":"Before `bodyToMono()` you can use `onStatus()`\r\n\r\n    .onStatus(httpStatus -&gt; {\r\n        return httpStatus.is4xxClientError(); // handle 4xx or use .is5xxServerError() or .value()\r\n    }, clientResponse -&gt; Mono.error(new RuntimeException(&quot;custom exception&quot;)))\r\n\r\nAnother option is to use `ExchangeFilterFunction` and apply it to your webclient\r\n\r\n    ExchangeFilterFunction responseErrorHandler =\r\n            ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n                clientResponse.statusCode(); // handle any status manually\r\n                return Mono.just(clientResponse);\r\n            });\r\n\r\n    WebClient webClient = WebClient.builder()\r\n            .filter(responseErrorHandler)\r\n\r\n","title":"Spring Boot web Client","body":"<p>Before <code>bodyToMono()</code> you can use <code>onStatus()</code></p>\n<pre><code>.onStatus(httpStatus -&gt; {\n    return httpStatus.is4xxClientError(); // handle 4xx or use .is5xxServerError() or .value()\n}, clientResponse -&gt; Mono.error(new RuntimeException(&quot;custom exception&quot;)))\n</code></pre>\n<p>Another option is to use <code>ExchangeFilterFunction</code> and apply it to your webclient</p>\n<pre><code>ExchangeFilterFunction responseErrorHandler =\n        ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            clientResponse.statusCode(); // handle any status manually\n            return Mono.just(clientResponse);\n        });\n\nWebClient webClient = WebClient.builder()\n        .filter(responseErrorHandler)\n</code></pre>\n"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673289773,"creation_date":1673146081,"question_id":75045201,"body_markdown":"I am having an issue with the web client.\r\n\r\nI am trying to make a post request. The request is good. The thing is, if I add onStatus in order to handle http error codes, I am getting a NPE when calling bodyToMono. If I remove onStatus, I get the response.\r\n\r\nwe could take this as an example:\r\n\r\n    Employee createdEmployee = webClient.post()\r\n    \t\t.uri(&quot;/employees&quot;)\r\n    \t\t.header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n    \t\t.body(Mono.just(empl), Employee.class)\r\n    \t\t.retrieve()\r\n     .onStatus(HttpStatus::isError, clientResponse -&gt; {\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\r\n                return Mono.error(new Exception(&quot;402&quot;));\r\n              }\r\n              log.error(&quot;Error endpoint with status code {}&quot;, clientResponse.statusCode());\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\r\n                return Mono.error(new Exception(&quot;500&quot;));\r\n              }\r\n              if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\r\n                return Mono.error(new Exception(&quot;512&quot;));\r\n              }\r\n              return Mono.error(new Exception(&quot;Error while processing request&quot;));\r\n            })\r\n    \t\t.bodyToMono(Employee.class);\r\n\r\nI wan to handle 4xx and 5xx errors including their specific subtypes (404,402) 500, 512\r\n\r\n\r\n","title":"Spring Boot web Client","body":"<p>I am having an issue with the web client.</p>\n<p>I am trying to make a post request. The request is good. The thing is, if I add onStatus in order to handle http error codes, I am getting a NPE when calling bodyToMono. If I remove onStatus, I get the response.</p>\n<p>we could take this as an example:</p>\n<pre><code>Employee createdEmployee = webClient.post()\n        .uri(&quot;/employees&quot;)\n        .header(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n        .body(Mono.just(empl), Employee.class)\n        .retrieve()\n .onStatus(HttpStatus::isError, clientResponse -&gt; {\n          if (clientResponse.statusCode() == HttpStatus.resolve(402)) {\n            return Mono.error(new Exception(&quot;402&quot;));\n          }\n          log.error(&quot;Error endpoint with status code {}&quot;, clientResponse.statusCode());\n          if (clientResponse.statusCode() == HttpStatus.resolve(500)) {\n            return Mono.error(new Exception(&quot;500&quot;));\n          }\n          if (clientResponse.statusCode() == HttpStatus.resolve(512)) {\n            return Mono.error(new Exception(&quot;512&quot;));\n          }\n          return Mono.error(new Exception(&quot;Error while processing request&quot;));\n        })\n        .bodyToMono(Employee.class);\n</code></pre>\n<p>I wan to handle 4xx and 5xx errors including their specific subtypes (404,402) 500, 512</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673287490,"post_id":75061256,"comment_id":132460569,"body_markdown":"`String b = a.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;);` or parse the result to int if you need an integer","body":"<code>String b = a.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;);</code> or parse the result to int if you need an integer"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1673289358,"post_id":75061256,"comment_id":132461088,"body_markdown":"@BaskarAvinash You can post and accept an Answer to your own Question.","body":"@BaskarAvinash You can post and accept an Answer to your own Question."}],"answers":[{"tags":[],"owner":{"account_id":27157519,"reputation":11,"user_id":20696087,"display_name":"Tanuja doppalapudi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673289698,"creation_date":1673289399,"answer_id":75061612,"question_id":75061256,"body_markdown":"```\r\nString str = &quot;Task1234&quot;;\r\nString number = str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n```\r\nreturn the number which contains your output.","title":"How to separate number from a string","body":"<pre><code>String str = &quot;Task1234&quot;;\nString number = str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n</code></pre>\n<p>return the number which contains your output.</p>\n"}],"owner":{"account_id":25756092,"reputation":9,"user_id":19507731,"display_name":"Baskar Avinash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673289698,"creation_date":1673287321,"question_id":75061256,"body_markdown":"Need to seperate a number from a string \r\n\r\n\r\n\r\nfor example:\r\nstring a=&quot;Task123&quot;;\r\ni need to seperate 123 as a single number from the string a","title":"How to separate number from a string","body":"<p>Need to seperate a number from a string</p>\n<p>for example:\nstring a=&quot;Task123&quot;;\ni need to seperate 123 as a single number from the string a</p>\n"},{"tags":["python","java","android","sockets"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673289091,"post_id":75061544,"comment_id":132461012,"body_markdown":"Why the python tag?","body":"Why the python tag?"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673378426,"post_id":75061544,"comment_id":132484019,"body_markdown":"because my server code is in python","body":"because my server code is in python"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673378503,"post_id":75061544,"comment_id":132484053,"body_markdown":"But it looks irrelevant for the error, because it occurs in android","body":"But it looks irrelevant for the error, because it occurs in android"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673455429,"post_id":75061544,"comment_id":132504632,"body_markdown":"well i was not sure whether the error was occuring because i was trying to send file from python to java ,or not","body":"well i was not sure whether the error was occuring because i was trying to send file from python to java ,or not"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673457490,"post_id":75061544,"comment_id":132505351,"body_markdown":"Sounds like the file is too big","body":"Sounds like the file is too big"},{"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"score":0,"creation_date":1673500640,"post_id":75061544,"comment_id":132514396,"body_markdown":"yeah i want to stream live video on my android app , but it look like instead of taking each frame as packet and displaying it in image view , it keeps collecting the package till it exceeds the memory limit , and then the app crashes","body":"yeah i want to stream live video on my android app , but it look like instead of taking each frame as packet and displaying it in image view , it keeps collecting the package till it exceeds the memory limit , and then the app crashes"}],"owner":{"account_id":27391268,"reputation":1,"user_id":20894225,"display_name":"Om Prakash"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673289442,"creation_date":1673288977,"question_id":75061544,"body_markdown":"well i wrote code in python for server and i am applying simple aruco detection on the video from my webcam and i want to display the result in my android app . But i unable to do so.   \r\n\r\n\r\nAfter runnig the app  it shows these errors\r\nThrowing OutOfMemoryError &quot;Failed to allocate a 268435468 byte allocation with 25165824 free bytes and 380MB until OOM, target footprint 163122328, growth limit 536870912&quot; (VmSize 6267440 kB)\r\n\r\ni tried to change the bytes i am allocating to the array, i also tried solution present here -- \r\n\r\nhttps://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio\r\n \r\nbut still i am getting same error\r\n\r\nhere is my code for \r\n\r\nmainactivity.java\r\n```\r\n\r\n\r\npackage com.example.drone3;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.StrictMode;\r\nimport android.provider.ContactsContract;\r\nimport android.util.DisplayMetrics;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.webkit.WebView;\r\nimport android.widget.Button;\r\nimport android.widget.CompoundButton;\r\nimport android.widget.EditText;\r\nimport android.widget.Switch;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.AsyncTask;\r\nimport android.widget.ImageView;\r\nimport android.widget.VideoView;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.Socket;\r\nimport java.net.UnknownHostException;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.Arrays;\r\n\r\n\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    Button Land,up,forward,rotate;\r\n    EditText editTextAddress, editTextPort;\r\n    Button buttonConnect;\r\n    Switch am;\r\n    ImageView imageV;\r\n    private ImageView screen;\r\n    public void abort(View view){\r\n        up.setEnabled(false);\r\n        forward.setEnabled(false);\r\n        rotate.setEnabled(false);\r\n        am.setEnabled(false);\r\n\r\n    }\r\n    public void onclick(View view){\r\n        Button b=(Button) view;\r\n        String s=b.getText().toString();\r\n        Log.i(&quot;command is:&quot;,s);\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if(getSupportActionBar()!=null)\r\n            this.getSupportActionBar().hide();\r\n        editTextAddress = (EditText)findViewById(R.id.address);\r\n        editTextPort = (EditText)findViewById(R.id.port);\r\n        buttonConnect = (Button)findViewById(R.id.connect);\r\n        buttonConnect.setOnClickListener(buttonConnectOnClickListener);\r\n        am=(Switch) findViewById(R.id.switch1);\r\n        Land=(Button) findViewById(R.id.landbutton);\r\n        up=(Button) findViewById(R.id.upbutton);\r\n        forward=(Button) findViewById(R.id.forwardbutton);\r\n        Log.i(&quot;this shit is working:&quot;,&quot;57&quot;);\r\n        rotate=(Button) findViewById(R.id.rotatebutton);\r\n        am.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                if(am.isChecked()){\r\n                    Land.setEnabled(false);\r\n                    up.setEnabled(false);\r\n                    forward.setEnabled(false);\r\n                    rotate.setEnabled(false);\r\n\r\n                }\r\n                else{\r\n                    Land.setEnabled(true);\r\n                    up.setEnabled(true);\r\n                    forward.setEnabled(true);\r\n                    rotate.setEnabled(true);\r\n                }\r\n            }\r\n        });\r\n        if(Build.VERSION.SDK_INT&gt;9){\r\n            StrictMode.ThreadPolicy BackgroundTask=\r\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(BackgroundTask);\r\n        }\r\n    }\r\n\r\n    View.OnClickListener buttonConnectOnClickListener =\r\n            new View.OnClickListener(){\r\n\r\n                @Override\r\n                public void onClick(View arg0) {\r\n                    MyClientTask myClientTask = new MyClientTask(\r\n                            editTextAddress.getText().toString(),\r\n                            Integer.parseInt(editTextPort.getText().toString()));\r\n                    myClientTask.execute();\r\n                }};\r\n\r\n    public class MyClientTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        String dstAddress;\r\n        int dstPort;\r\n        MyClientTask(String addr, int port){\r\n            dstAddress = addr;\r\n            dstPort = port;\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... arg0) {\r\n            InputStream inputStream;\r\n\r\n                try {\r\n                    Socket socket = new Socket(dstAddress, dstPort);\r\n                    inputStream = socket.getInputStream();\r\n                    ByteArrayOutputStream byteArrayOutputStream =\r\n                            new ByteArrayOutputStream(4*1024);\r\n                    byte[] buffer = new byte[4*1024 ];\r\n\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n                    Log.i(&quot;this shit is working:&quot;,&quot;&quot;+buffer.length);\r\n                    Bitmap bm = BitmapFactory.decodeByteArray(buffer, 0,buffer.length);\r\n\r\n                    imageV.setImageBitmap(bm);\r\n                    Log.i(&quot;this packet&quot;,buffer.toString());\r\n\r\n\r\n\r\n                } catch (Exception e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\nandroidmanifest.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:hardwareAccelerated=&quot;false&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Drone3&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.lib_name&quot;\r\n                android:value=&quot;&quot; /&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nactivity_main.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/imageview&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/landbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:onClick=&quot;abort&quot;\r\n        android:text=&quot;Land&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/rotatebutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;36dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;rotate&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/landbutton&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/upbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;40dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;Up&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/rotatebutton&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/forwardbutton&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginStart=&quot;28dp&quot;\r\n        android:onClick=&quot;onclick&quot;\r\n        android:text=&quot;Forward&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/upbutton&quot; /&gt;\r\n\r\n    &lt;Switch\r\n        android:id=&quot;@+id/switch1&quot;\r\n        android:layout_width=&quot;132dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginBottom=&quot;40dp&quot;\r\n        android:layout_marginEnd=&quot;40dp&quot;\r\n        android:text=&quot;M/A&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;162dp&quot;\r\n        android:layout_height=&quot;66dp&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:text=&quot;OmProduction&quot;\r\n        android:textAlignment=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.595&quot; /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/display&quot;\r\n        android:layout_width=&quot;705dp&quot;\r\n        android:layout_height=&quot;288dp&quot;\r\n        android:layout_marginEnd=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;4dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/address&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:hint=&quot;dstAddress&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/port&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:hint=&quot;dstPort&quot;\r\n        android:minHeight=&quot;48dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/address&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/connect&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:text=&quot;Connect...&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/port&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n```\r\nhere is my python code for server\r\n\r\n```\r\nimport socket\r\nimport cv2\r\nimport pickle\r\nimport struct\r\nfrom cv2 import aruco\r\nimport numpy as np\r\nimport jpysocket\r\nmarker_dict = aruco.Dictionary_get(aruco.DICT_4X4_50)\r\nparam_markers = aruco.DetectorParameters_create()\r\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\nhost_name = socket.gethostname()\r\nprint(&quot;host name&quot;, host_name)\r\nhost_ip = socket.gethostbyname(host_name)\r\nprint(&#39;HOST IP:&#39;, host_ip)\r\nport = 9999\r\nsocket_address = (host_ip, port)\r\nserver_socket.bind(socket_address)\r\nserver_socket.listen(5)\r\nprint(&quot;LISTENING AT:&quot;, socket_address)\r\n\r\nwhile True:\r\n    client_socket, addr = server_socket.accept()\r\n    print(&#39;GOT CONNECTION FROM:&#39;, addr)\r\n    if client_socket:\r\n        vid = cv2.VideoCapture(0)\r\n        while(vid.isOpened()):\r\n            ret, frame = vid.read()\r\n            gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\r\n            marker_corners, marker_IDs, reject = aruco.detectMarkers(\r\n            gray_frame, marker_dict, parameters=param_markers\r\n            )\r\n            if marker_corners:\r\n                for ids, corners in zip(marker_IDs, marker_corners):\r\n                    cv2.polylines(\r\n                        frame, [corners.astype(np.int32)], True, (0, 255, 255), 4, cv2.LINE_AA\r\n                    )\r\n                    corners = corners.reshape(4, 2)\r\n                    corners = corners.astype(int)\r\n                    top_right = corners[0].ravel()\r\n                    top_left = corners[1].ravel()\r\n                    bottom_right = corners[2].ravel()\r\n                    bottom_left = corners[3].ravel()\r\n                    cv2.putText(\r\n                        frame,\r\n                        f&quot;id: {ids[0]}&quot;,\r\n                        top_right,\r\n                        cv2.FONT_HERSHEY_PLAIN,\r\n                        1.3,\r\n                        (200, 100, 0),\r\n                        2,\r\n                        cv2.LINE_AA,\r\n                    )\r\n            a = pickle.dumps(frame)\r\n            message = a\r\n            print(len(message))\r\n            client_socket.send(message)\r\n            cv2.imshow(&#39;TRANSMITTING VIDEO&#39;, frame)\r\n            key = cv2.waitKey(1) &amp; 0xFF\r\n            if key == 27:\r\n                client_socket.close()\r\n```\r\n\r\n\r\n","title":"unable to display in image view the image received from socket programming at the client side","body":"<p>well i wrote code in python for server and i am applying simple aruco detection on the video from my webcam and i want to display the result in my android app . But i unable to do so.</p>\n<p>After runnig the app  it shows these errors\nThrowing OutOfMemoryError &quot;Failed to allocate a 268435468 byte allocation with 25165824 free bytes and 380MB until OOM, target footprint 163122328, growth limit 536870912&quot; (VmSize 6267440 kB)</p>\n<p>i tried to change the bytes i am allocating to the array, i also tried solution present here --</p>\n<p><a href=\"https://stackoverflow.com/questions/32244851/androidjava-lang-outofmemoryerror-failed-to-allocate-a-23970828-byte-allocatio\">Android:java.lang.OutOfMemoryError: Failed to allocate a 23970828 byte allocation with 2097152 free bytes and 2MB until OOM</a></p>\n<p>but still i am getting same error</p>\n<p>here is my code for</p>\n<p>mainactivity.java</p>\n<pre><code>\n\npackage com.example.drone3;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.StrictMode;\nimport android.provider.ContactsContract;\nimport android.util.DisplayMetrics;\nimport android.util.Log;\nimport android.view.View;\nimport android.webkit.WebView;\nimport android.widget.Button;\nimport android.widget.CompoundButton;\nimport android.widget.EditText;\nimport android.widget.Switch;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.os.AsyncTask;\nimport android.widget.ImageView;\nimport android.widget.VideoView;\n\nimport java.io.BufferedInputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.nio.ByteBuffer;\nimport java.util.Arrays;\n\n\n\n\npublic class MainActivity extends AppCompatActivity {\n    Button Land,up,forward,rotate;\n    EditText editTextAddress, editTextPort;\n    Button buttonConnect;\n    Switch am;\n    ImageView imageV;\n    private ImageView screen;\n    public void abort(View view){\n        up.setEnabled(false);\n        forward.setEnabled(false);\n        rotate.setEnabled(false);\n        am.setEnabled(false);\n\n    }\n    public void onclick(View view){\n        Button b=(Button) view;\n        String s=b.getText().toString();\n        Log.i(&quot;command is:&quot;,s);\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if(getSupportActionBar()!=null)\n            this.getSupportActionBar().hide();\n        editTextAddress = (EditText)findViewById(R.id.address);\n        editTextPort = (EditText)findViewById(R.id.port);\n        buttonConnect = (Button)findViewById(R.id.connect);\n        buttonConnect.setOnClickListener(buttonConnectOnClickListener);\n        am=(Switch) findViewById(R.id.switch1);\n        Land=(Button) findViewById(R.id.landbutton);\n        up=(Button) findViewById(R.id.upbutton);\n        forward=(Button) findViewById(R.id.forwardbutton);\n        Log.i(&quot;this shit is working:&quot;,&quot;57&quot;);\n        rotate=(Button) findViewById(R.id.rotatebutton);\n        am.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                if(am.isChecked()){\n                    Land.setEnabled(false);\n                    up.setEnabled(false);\n                    forward.setEnabled(false);\n                    rotate.setEnabled(false);\n\n                }\n                else{\n                    Land.setEnabled(true);\n                    up.setEnabled(true);\n                    forward.setEnabled(true);\n                    rotate.setEnabled(true);\n                }\n            }\n        });\n        if(Build.VERSION.SDK_INT&gt;9){\n            StrictMode.ThreadPolicy BackgroundTask=\n                    new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(BackgroundTask);\n        }\n    }\n\n    View.OnClickListener buttonConnectOnClickListener =\n            new View.OnClickListener(){\n\n                @Override\n                public void onClick(View arg0) {\n                    MyClientTask myClientTask = new MyClientTask(\n                            editTextAddress.getText().toString(),\n                            Integer.parseInt(editTextPort.getText().toString()));\n                    myClientTask.execute();\n                }};\n\n    public class MyClientTask extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        String dstAddress;\n        int dstPort;\n        MyClientTask(String addr, int port){\n            dstAddress = addr;\n            dstPort = port;\n        }\n\n        @Override\n        protected Void doInBackground(Void... arg0) {\n            InputStream inputStream;\n\n                try {\n                    Socket socket = new Socket(dstAddress, dstPort);\n                    inputStream = socket.getInputStream();\n                    ByteArrayOutputStream byteArrayOutputStream =\n                            new ByteArrayOutputStream(4*1024);\n                    byte[] buffer = new byte[4*1024 ];\n\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        byteArrayOutputStream.write(buffer, 0, bytesRead);\n                    }\n                    Log.i(&quot;this shit is working:&quot;,&quot;&quot;+buffer.length);\n                    Bitmap bm = BitmapFactory.decodeByteArray(buffer, 0,buffer.length);\n\n                    imageV.setImageBitmap(bm);\n                    Log.i(&quot;this packet&quot;,buffer.toString());\n\n\n\n                } catch (Exception e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void result) {\n\n        }\n\n    }\n\n}\n\n\n</code></pre>\n<p>androidmanifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n\n\n\n    &lt;application\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:hardwareAccelerated=&quot;false&quot;\n        android:largeHeap=&quot;true&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Drone3&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;meta-data\n                android:name=&quot;android.app.lib_name&quot;\n                android:value=&quot;&quot; /&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/imageview&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/landbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:onClick=&quot;abort&quot;\n        android:text=&quot;Land&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/rotatebutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;36dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;rotate&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/landbutton&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/upbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;40dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;Up&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/rotatebutton&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/forwardbutton&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginStart=&quot;28dp&quot;\n        android:onClick=&quot;onclick&quot;\n        android:text=&quot;Forward&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/upbutton&quot; /&gt;\n\n    &lt;Switch\n        android:id=&quot;@+id/switch1&quot;\n        android:layout_width=&quot;132dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginBottom=&quot;40dp&quot;\n        android:layout_marginEnd=&quot;40dp&quot;\n        android:text=&quot;M/A&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;162dp&quot;\n        android:layout_height=&quot;66dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;OmProduction&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.497&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.595&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/display&quot;\n        android:layout_width=&quot;705dp&quot;\n        android:layout_height=&quot;288dp&quot;\n        android:layout_marginEnd=&quot;16dp&quot;\n        android:layout_marginTop=&quot;4dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:srcCompat=&quot;@drawable/ic_launcher_foreground&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/address&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:hint=&quot;dstAddress&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/port&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:hint=&quot;dstPort&quot;\n        android:minHeight=&quot;48dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/address&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/connect&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:text=&quot;Connect...&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/port&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n</code></pre>\n<p>here is my python code for server</p>\n<pre><code>import socket\nimport cv2\nimport pickle\nimport struct\nfrom cv2 import aruco\nimport numpy as np\nimport jpysocket\nmarker_dict = aruco.Dictionary_get(aruco.DICT_4X4_50)\nparam_markers = aruco.DetectorParameters_create()\nserver_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nhost_name = socket.gethostname()\nprint(&quot;host name&quot;, host_name)\nhost_ip = socket.gethostbyname(host_name)\nprint('HOST IP:', host_ip)\nport = 9999\nsocket_address = (host_ip, port)\nserver_socket.bind(socket_address)\nserver_socket.listen(5)\nprint(&quot;LISTENING AT:&quot;, socket_address)\n\nwhile True:\n    client_socket, addr = server_socket.accept()\n    print('GOT CONNECTION FROM:', addr)\n    if client_socket:\n        vid = cv2.VideoCapture(0)\n        while(vid.isOpened()):\n            ret, frame = vid.read()\n            gray_frame = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n            marker_corners, marker_IDs, reject = aruco.detectMarkers(\n            gray_frame, marker_dict, parameters=param_markers\n            )\n            if marker_corners:\n                for ids, corners in zip(marker_IDs, marker_corners):\n                    cv2.polylines(\n                        frame, [corners.astype(np.int32)], True, (0, 255, 255), 4, cv2.LINE_AA\n                    )\n                    corners = corners.reshape(4, 2)\n                    corners = corners.astype(int)\n                    top_right = corners[0].ravel()\n                    top_left = corners[1].ravel()\n                    bottom_right = corners[2].ravel()\n                    bottom_left = corners[3].ravel()\n                    cv2.putText(\n                        frame,\n                        f&quot;id: {ids[0]}&quot;,\n                        top_right,\n                        cv2.FONT_HERSHEY_PLAIN,\n                        1.3,\n                        (200, 100, 0),\n                        2,\n                        cv2.LINE_AA,\n                    )\n            a = pickle.dumps(frame)\n            message = a\n            print(len(message))\n            client_socket.send(message)\n            cv2.imshow('TRANSMITTING VIDEO', frame)\n            key = cv2.waitKey(1) &amp; 0xFF\n            if key == 27:\n                client_socket.close()\n</code></pre>\n"},{"tags":["java","spring-boot","h2"],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673289254,"creation_date":1673289254,"question_id":75061590,"body_markdown":"I&#39;m trying to implement comment/reply feature in my blog application. I did all the work, but when I try to add comment I get the exception in the title: parentComment is null but it shouldn&#39;t be because it has nullable = false. Now I&#39;ve tried to remove the nullable = false and add @Basic annotation to my Comment entity but then I get another exception and it says:\r\n\r\n&gt; NULL not allowed for column &quot;PARENT_ID&quot;; SQL statement: insert into\r\n&gt; comment (id, author, created_at, parent_id, post_id, text) values\r\n&gt; (default, ?, ?, ?, ?, ?)\r\n\r\nI&#39;ve tried inserting parent_comment as such:\r\n\r\n    public void addComment(Long postId, String commentText){\r\n            Post post = postRepository.findById(postId).get();\r\n            Comment comment = new Comment(commentText, post);\r\n            /*\r\n            comment.setParentComment(comment);\r\n             */\r\n            comment.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(comment);\r\n        }\r\n\r\nbut that didn&#39;t work. I also tried goign to the database and unselecting the &quot;NOT_NULL&quot; in the alter table, but I dunno how to do that in h2-database. Also, I&#39;ve had an idea where I would create a blank comment which would be the parent comment to every comment and try branching the replies to it, but it sounds stupid. Please help :)\r\n\r\nHere are all the files:\r\n\r\nComment.java\r\n\r\n    @Entity\r\n    @Table(name=&quot;COMMENT&quot;)\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    public class Comment {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(nullable = false)\r\n        private String text;\r\n    \r\n        @Column(nullable = false)\r\n        private LocalDateTime createdAt;\r\n    \r\n        private String author;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;parent_id&quot;)\r\n        private Comment parentComment;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;post_id&quot;, nullable = false)\r\n        private Post post;\r\n    \r\n        public Comment(String text, Post post) {\r\n            this.text = text;\r\n            this.post = post;\r\n        }\r\n    \r\n        public Comment(String text, Post post, Comment parentComment) {\r\n            this.text = text;\r\n            this.post = post;\r\n            this.parentComment = parentComment;\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nCommentController.java\r\n    \r\n    import com.hellion.writeup.models.Comment;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.repository.CommentRepository;\r\n    import com.hellion.writeup.repository.PostRepository;\r\n    import com.hellion.writeup.service.AccountService;\r\n    import com.hellion.writeup.service.CommentService;\r\n    import com.hellion.writeup.service.PostService;\r\n    import lombok.Getter;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PreAuthorize;\r\n    import org.springframework.security.core.parameters.P;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.validation.BindingResult;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.security.Principal;\r\n    import java.util.Optional;\r\n    \r\n    @Controller\r\n    public class CommentController{\r\n    \r\n        @Autowired\r\n        private CommentService commentService;\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        @Autowired\r\n        private CommentRepository commentRepository;\r\n    \r\n        @PostMapping(&quot;/post/{postId}/comment&quot;)\r\n        public String addComment(@PathVariable(&quot;postId&quot;) Long postId, @RequestParam String commentText, Model model){\r\n            commentService.addComment(postId, commentText);\r\n            Post post = postRepository.findById(postId).get();\r\n            model.addAttribute(&quot;post&quot;, post);\r\n            return &quot;post&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/comment/{commentId}/reply&quot;)\r\n        public String addReply(@PathVariable(&quot;commentId&quot;)Long commentId, @RequestParam String replyText, Model model){\r\n            commentService.addReply(commentId, replyText);\r\n            Comment comment = commentRepository.findById(commentId).get();\r\n            model.addAttribute(&quot;post&quot;, comment.getPost());\r\n            return &quot;post&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nCommentService.java\r\n\r\n    import com.hellion.writeup.models.Comment;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.repository.CommentRepository;\r\n    import com.hellion.writeup.repository.PostRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    \r\n    @Service\r\n    public class CommentService {\r\n    \r\n        @Autowired\r\n        private CommentRepository commentRepository;\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        public void addComment(Long postId, String commentText){\r\n            Post post = postRepository.findById(postId).get();\r\n            Comment comment = new Comment(commentText, post);\r\n            /*\r\n            comment.setParentComment(comment);\r\n             */\r\n            comment.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(comment);\r\n        }\r\n    \r\n        public void addReply(Long commentId, String replyText){\r\n            Comment comment = commentRepository.findById(commentId).get();\r\n            Comment reply = new Comment(replyText, comment.getPost(), comment);\r\n            reply.setCreatedAt(LocalDateTime.now());\r\n            commentRepository.save(reply);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nand commentRepository is just extends JpaRepository&lt;&gt;{} without any methods.","title":"not-null property references a null or transient value : com.hellion.writeup.models.Comment.parentComment","body":"<p>I'm trying to implement comment/reply feature in my blog application. I did all the work, but when I try to add comment I get the exception in the title: parentComment is null but it shouldn't be because it has nullable = false. Now I've tried to remove the nullable = false and add @Basic annotation to my Comment entity but then I get another exception and it says:</p>\n<blockquote>\n<p>NULL not allowed for column &quot;PARENT_ID&quot;; SQL statement: insert into\ncomment (id, author, created_at, parent_id, post_id, text) values\n(default, ?, ?, ?, ?, ?)</p>\n</blockquote>\n<p>I've tried inserting parent_comment as such:</p>\n<pre><code>public void addComment(Long postId, String commentText){\n        Post post = postRepository.findById(postId).get();\n        Comment comment = new Comment(commentText, post);\n        /*\n        comment.setParentComment(comment);\n         */\n        comment.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(comment);\n    }\n</code></pre>\n<p>but that didn't work. I also tried goign to the database and unselecting the &quot;NOT_NULL&quot; in the alter table, but I dunno how to do that in h2-database. Also, I've had an idea where I would create a blank comment which would be the parent comment to every comment and try branching the replies to it, but it sounds stupid. Please help :)</p>\n<p>Here are all the files:</p>\n<p>Comment.java</p>\n<pre><code>@Entity\n@Table(name=&quot;COMMENT&quot;)\n@NoArgsConstructor\n@Getter\n@Setter\n@AllArgsConstructor\npublic class Comment {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String text;\n\n    @Column(nullable = false)\n    private LocalDateTime createdAt;\n\n    private String author;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;parent_id&quot;)\n    private Comment parentComment;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;post_id&quot;, nullable = false)\n    private Post post;\n\n    public Comment(String text, Post post) {\n        this.text = text;\n        this.post = post;\n    }\n\n    public Comment(String text, Post post, Comment parentComment) {\n        this.text = text;\n        this.post = post;\n        this.parentComment = parentComment;\n    }\n\n\n\n}\n</code></pre>\n<p>CommentController.java</p>\n<pre><code>import com.hellion.writeup.models.Comment;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.repository.CommentRepository;\nimport com.hellion.writeup.repository.PostRepository;\nimport com.hellion.writeup.service.AccountService;\nimport com.hellion.writeup.service.CommentService;\nimport com.hellion.writeup.service.PostService;\nimport lombok.Getter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PreAuthorize;\nimport org.springframework.security.core.parameters.P;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.validation.BindingResult;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.security.Principal;\nimport java.util.Optional;\n\n@Controller\npublic class CommentController{\n\n    @Autowired\n    private CommentService commentService;\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @Autowired\n    private CommentRepository commentRepository;\n\n    @PostMapping(&quot;/post/{postId}/comment&quot;)\n    public String addComment(@PathVariable(&quot;postId&quot;) Long postId, @RequestParam String commentText, Model model){\n        commentService.addComment(postId, commentText);\n        Post post = postRepository.findById(postId).get();\n        model.addAttribute(&quot;post&quot;, post);\n        return &quot;post&quot;;\n    }\n\n    @PostMapping(&quot;/comment/{commentId}/reply&quot;)\n    public String addReply(@PathVariable(&quot;commentId&quot;)Long commentId, @RequestParam String replyText, Model model){\n        commentService.addReply(commentId, replyText);\n        Comment comment = commentRepository.findById(commentId).get();\n        model.addAttribute(&quot;post&quot;, comment.getPost());\n        return &quot;post&quot;;\n    }\n\n}\n</code></pre>\n<p>CommentService.java</p>\n<pre><code>import com.hellion.writeup.models.Comment;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.repository.CommentRepository;\nimport com.hellion.writeup.repository.PostRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.time.LocalDateTime;\n\n\n@Service\npublic class CommentService {\n\n    @Autowired\n    private CommentRepository commentRepository;\n\n    @Autowired\n    private PostRepository postRepository;\n\n    public void addComment(Long postId, String commentText){\n        Post post = postRepository.findById(postId).get();\n        Comment comment = new Comment(commentText, post);\n        /*\n        comment.setParentComment(comment);\n         */\n        comment.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(comment);\n    }\n\n    public void addReply(Long commentId, String replyText){\n        Comment comment = commentRepository.findById(commentId).get();\n        Comment reply = new Comment(replyText, comment.getPost(), comment);\n        reply.setCreatedAt(LocalDateTime.now());\n        commentRepository.save(reply);\n    }\n\n\n}\n</code></pre>\n<p>and commentRepository is just extends JpaRepository&lt;&gt;{} without any methods.</p>\n"},{"tags":["java","spring","spring-boot","mockito","junit4"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1672698114,"post_id":74987487,"comment_id":132330651,"body_markdown":"What if you remove `@Import`?","body":"What if you remove <code>@Import</code>?"},{"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"score":0,"creation_date":1673289136,"post_id":74987487,"comment_id":132461027,"body_markdown":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors.\nThe solution was to add for each testing class like the above the annotation:\n@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)","body":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation: @DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)"}],"answers":[{"tags":[],"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672713830,"creation_date":1672708097,"answer_id":74988280,"question_id":74987487,"body_markdown":"`@Import` is used to load configurations you should use `@SpringApplicationConfiguration` or even better the newer `@SpringBootTest` annotation. `@SpringApplicationConfiguration`\r\n is currently deprecated by the way.\r\n\r\nexample:\r\n\r\n```java\r\n@SpringBootTest(classes = {MyService.class}) // or @SpringApplicationConfiguration with the same paramters\r\n@RunWith(SpringRunner.class)\r\npublic class MyServiceIntegrationTest{\r\n    @Autowired\r\n    private MyService myService;\r\n    \r\n    @MockBean\r\n    private BeanOne beanOne;\r\n\r\n    @MockBean\r\n    private BeanTwo beanTwo;\r\n\r\n    @Test\r\n    public void test(){\r\n        myService.serviceAction();\r\n        verify(beanTwo,times(3)).doSomething();\r\n    }\r\n}\r\n```\r\n\r\ncheck:\r\n* https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\r\n* https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\r\n* https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html","title":"Spring integration testing with mocked dependencies","body":"<p><code>@Import</code> is used to load configurations you should use <code>@SpringApplicationConfiguration</code> or even better the newer <code>@SpringBootTest</code> annotation. <code>@SpringApplicationConfiguration</code>\nis currently deprecated by the way.</p>\n<p>example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(classes = {MyService.class}) // or @SpringApplicationConfiguration with the same paramters\n@RunWith(SpringRunner.class)\npublic class MyServiceIntegrationTest{\n    @Autowired\n    private MyService myService;\n    \n    @MockBean\n    private BeanOne beanOne;\n\n    @MockBean\n    private BeanTwo beanTwo;\n\n    @Test\n    public void test(){\n        myService.serviceAction();\n        verify(beanTwo,times(3)).doSomething();\n    }\n}\n</code></pre>\n<p>check:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/SpringBootTest.html</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/1.4.x/api/org/springframework/boot/test/SpringApplicationConfiguration.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673289180,"creation_date":1673289180,"answer_id":75061575,"question_id":74987487,"body_markdown":"Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation:\r\n```@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)```","title":"Spring integration testing with mocked dependencies","body":"<p>Found the cause - when running the whole testing suite, it was being ran in parallel. In Spring Integration testing there are some shared aspects of the context, and thus it caused some errors. The solution was to add for each testing class like the above the annotation:\n<code>@DirtiesContext(classMode=ClassMode.BEFORE_EACH_TEST_METHOD)</code></p>\n"}],"owner":{"account_id":21451333,"reputation":25,"user_id":15803737,"display_name":"AlonH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061575,"answer_count":2,"score":0,"last_activity_date":1673289180,"creation_date":1672697697,"question_id":74987487,"body_markdown":"I&#39;m using Spring Boot. I have Service class (annotated ```@Service```) with a method annotated with ```@Retryable```.\r\n\r\nFor one of my integration test, I would like to load the Service bean to the context (with all of it&#39;s configurations and annotations).\r\n\r\nThe service has several dependencies. For example,\r\n\r\n```lang-java\r\n@Service\r\n@EnableRetry\r\npublic class MyService{\r\n    private final BeanOne beanOne;\r\n    private final BeanTwo beanTwo;\r\n\r\n    public MyService(BeanOne beanOne, BeanTwo beanTwo){\r\n        this.beanOne = beanOne;\r\n        this.beanTwo = beanTwo\r\n    }\r\n    \r\n    @Retryable(value = RuntimeException.class , maxAttempts = 3)\r\n    public void serviceAction(){\r\n        beanOne.doSomething();\r\n        beanTwo.doSomething();\r\n        doMoreThings();\r\n    }\r\n\r\n    private void doMoreThings(){\r\n        //things\r\n        //eventually throws Runtime Exception\r\n\r\n    }\r\n}\r\n```\r\n\r\nI want to check that I indeed implemented everything regarding the retry correctly.\r\n\r\nI&#39;m trying to write a Spring integration test, when mocking the dependency beans, but still loading the MyService bean to the context (to check the retryable).\r\n\r\nI tried mocking the dependency beans (using JUnit4 and Mockito):\r\n\r\n```lang-java\r\n@Import({MyService.class})\r\n@RunWith(SpringRunner.class)\r\npublic class MyServiceIntegrationTest{\r\n    @Autowired\r\n    private MyService myService;\r\n    \r\n    @MockBean\r\n    private BeanOne beanOne;\r\n\r\n    @MockBean\r\n    private BeanTwo beanTwo;\r\n\r\n    @Test\r\n    public void test(){\r\n        myService.serviceAction();\r\n        verify(beanTwo,times(3)).doSomething();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;m getting NullPointerException on the ```beanOne.doSomething()``` call. **It seems like beanOne and beanTwo fields in ```MyServiceIntegrationTest``` class are indeed mocked, but are not autowired to the actual ```myService```, and instead ```myService```&#39;s fields are null.**\r\nNote that the ```@Retryable``` annotation indeed works (and repeats 3 times), however this is since NullPointerException is a RuntimeException. The code never actually reaches the ```doMoreThings()``` method.","title":"Spring integration testing with mocked dependencies","body":"<p>I'm using Spring Boot. I have Service class (annotated <code>@Service</code>) with a method annotated with <code>@Retryable</code>.</p>\n<p>For one of my integration test, I would like to load the Service bean to the context (with all of it's configurations and annotations).</p>\n<p>The service has several dependencies. For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@EnableRetry\npublic class MyService{\n    private final BeanOne beanOne;\n    private final BeanTwo beanTwo;\n\n    public MyService(BeanOne beanOne, BeanTwo beanTwo){\n        this.beanOne = beanOne;\n        this.beanTwo = beanTwo\n    }\n    \n    @Retryable(value = RuntimeException.class , maxAttempts = 3)\n    public void serviceAction(){\n        beanOne.doSomething();\n        beanTwo.doSomething();\n        doMoreThings();\n    }\n\n    private void doMoreThings(){\n        //things\n        //eventually throws Runtime Exception\n\n    }\n}\n</code></pre>\n<p>I want to check that I indeed implemented everything regarding the retry correctly.</p>\n<p>I'm trying to write a Spring integration test, when mocking the dependency beans, but still loading the MyService bean to the context (to check the retryable).</p>\n<p>I tried mocking the dependency beans (using JUnit4 and Mockito):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Import({MyService.class})\n@RunWith(SpringRunner.class)\npublic class MyServiceIntegrationTest{\n    @Autowired\n    private MyService myService;\n    \n    @MockBean\n    private BeanOne beanOne;\n\n    @MockBean\n    private BeanTwo beanTwo;\n\n    @Test\n    public void test(){\n        myService.serviceAction();\n        verify(beanTwo,times(3)).doSomething();\n    }\n}\n</code></pre>\n<p>However, I'm getting NullPointerException on the <code>beanOne.doSomething()</code> call. <strong>It seems like beanOne and beanTwo fields in <code>MyServiceIntegrationTest</code> class are indeed mocked, but are not autowired to the actual <code>myService</code>, and instead <code>myService</code>'s fields are null.</strong>\nNote that the <code>@Retryable</code> annotation indeed works (and repeats 3 times), however this is since NullPointerException is a RuntimeException. The code never actually reaches the <code>doMoreThings()</code> method.</p>\n"},{"tags":["java","networking","tcp","simulation","sumo"],"answers":[{"comments":[{"owner":{"account_id":7549706,"reputation":3575,"user_id":5731587,"display_name":"Michael"},"score":0,"creation_date":1677685477,"post_id":75037047,"comment_id":133387373,"body_markdown":"Again, this is using TraaS, which is deprecated. Please use https://sumo.dlr.de/docs/Libtraci.html#java","body":"Again, this is using TraaS, which is deprecated. Please use <a href=\"https://sumo.dlr.de/docs/Libtraci.html#java\" rel=\"nofollow noreferrer\">sumo.dlr.de/docs/Libtraci.html#java</a>"},{"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"score":0,"creation_date":1677773523,"post_id":75037047,"comment_id":133407741,"body_markdown":"The libtraci is not Thread-Safe according to the sumo team. There&#39;s no possibility to ask for variables concurrently. But TRAAS is able to provide a thread-safe package. Due to our need to have a thread-safe library we can&#39;t use libtraci.","body":"The libtraci is not Thread-Safe according to the sumo team. There&#39;s no possibility to ask for variables concurrently. But TRAAS is able to provide a thread-safe package. Due to our need to have a thread-safe library we can&#39;t use libtraci."}],"tags":[],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673048172,"creation_date":1673048172,"answer_id":75037047,"question_id":75021692,"body_markdown":"Ok. I have figured it out. On sumo protocol documentation there&#39;s a link to guid developers how to connect to sumo using three languages. Python, C++ and also java. This [link][1] is all I needed. You can build connections from scratch or you can exploit the ones that are already implemented, like simulation step. Below there&#39;s an example:\r\n\r\n    try {\r\n                CommandProcessor cmdPrc=new CommandProcessor(socket);\r\n                cmdPrc.do_SimulationStep(20.0);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\nJust create a socket connection and start sumo. And then, using the codes in the link above it is possible to import and run the simulation. \r\n\r\n  [1]: https://github.com/eclipse/sumo/blob/main/tools/contributed/traas","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>Ok. I have figured it out. On sumo protocol documentation there's a link to guid developers how to connect to sumo using three languages. Python, C++ and also java. This <a href=\"https://github.com/eclipse/sumo/blob/main/tools/contributed/traas\" rel=\"nofollow noreferrer\">link</a> is all I needed. You can build connections from scratch or you can exploit the ones that are already implemented, like simulation step. Below there's an example:</p>\n<pre><code>try {\n            CommandProcessor cmdPrc=new CommandProcessor(socket);\n            cmdPrc.do_SimulationStep(20.0);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n</code></pre>\n<p>Just create a socket connection and start sumo. And then, using the codes in the link above it is possible to import and run the simulation.</p>\n"},{"comments":[{"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"score":0,"creation_date":1673359989,"post_id":75061536,"comment_id":132477512,"body_markdown":"LibSumo doesn&#39;t Provide sumo-gui option in windows. This version that I&#39;m using, is also working with sumo 1.14 and windows sumo-gui.","body":"LibSumo doesn&#39;t Provide sumo-gui option in windows. This version that I&#39;m using, is also working with sumo 1.14 and windows sumo-gui."},{"owner":{"account_id":7549706,"reputation":3575,"user_id":5731587,"display_name":"Michael"},"score":0,"creation_date":1673380106,"post_id":75061536,"comment_id":132484523,"body_markdown":"But libtraci has GUI support and is far better supported. You can just replace libsumo by libtraci in the example above","body":"But libtraci has GUI support and is far better supported. You can just replace libsumo by libtraci in the example above"},{"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"score":0,"creation_date":1673393001,"post_id":75061536,"comment_id":132487891,"body_markdown":"Perfect. I will certainly consider your recommendation. Thanks","body":"Perfect. I will certainly consider your recommendation. Thanks"}],"tags":[],"owner":{"account_id":7549706,"reputation":3575,"user_id":5731587,"display_name":"Michael"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673288923,"creation_date":1673288923,"answer_id":75061536,"question_id":75021692,"body_markdown":"Please do not use TraaS any longer. It is considered deprecated. Use [libsumojni][1] or [libtracijni][2] instead:\r\n\r\n    import org.eclipse.sumo.libsumo.Simulation;\r\n    import org.eclipse.sumo.libsumo.StringVector;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            System.loadLibrary(&quot;libsumojni&quot;);\r\n            Simulation.start(new StringVector(new String[] {&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;}));\r\n            for (int i = 0; i &lt; 5; i++) {\r\n                Simulation.step();\r\n            }\r\n            Simulation.close();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://sumo.dlr.de/docs/Libsumo.html#java\r\n  [2]: https://sumo.dlr.de/docs/Libtraci.html#java","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>Please do not use TraaS any longer. It is considered deprecated. Use <a href=\"https://sumo.dlr.de/docs/Libsumo.html#java\" rel=\"nofollow noreferrer\">libsumojni</a> or <a href=\"https://sumo.dlr.de/docs/Libtraci.html#java\" rel=\"nofollow noreferrer\">libtracijni</a> instead:</p>\n<pre><code>import org.eclipse.sumo.libsumo.Simulation;\nimport org.eclipse.sumo.libsumo.StringVector;\n\npublic class Test {\n    public static void main(String[] args) {\n        System.loadLibrary(&quot;libsumojni&quot;);\n        Simulation.start(new StringVector(new String[] {&quot;sumo&quot;, &quot;-c&quot;, &quot;test.sumocfg&quot;}));\n        for (int i = 0; i &lt; 5; i++) {\n            Simulation.step();\n        }\n        Simulation.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12041596,"reputation":87,"user_id":8808347,"display_name":"mahyar sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673288923,"creation_date":1672936857,"question_id":75021692,"body_markdown":"I&#39;ve been trying to connect to sumo in windows, using java, with sumo version of 1.14.0. I can establish the connection, but I can&#39;t send commands, like simulation step. I have to mention I have codes for older versions of sumo, for the new ones it doesn&#39;t work and I&#39;m up to sort of upgrade the older codes. Anybody got any examples how to execute commands using tcp connection in java?","title":"TCP connection to sumo version 1.14.0 using Java","body":"<p>I've been trying to connect to sumo in windows, using java, with sumo version of 1.14.0. I can establish the connection, but I can't send commands, like simulation step. I have to mention I have codes for older versions of sumo, for the new ones it doesn't work and I'm up to sort of upgrade the older codes. Anybody got any examples how to execute commands using tcp connection in java?</p>\n"},{"tags":["java","xml","xml-namespaces","xom"],"answers":[{"comments":[{"owner":{"account_id":15843,"reputation":13885,"user_id":33889,"accept_rate":82,"display_name":"Michael Rutherfurd"},"score":2,"creation_date":1278574617,"post_id":3201254,"comment_id":3299563,"body_markdown":"From the javadoc Element(String) &quot;Creates a new element in no namespace&quot;","body":"From the javadoc Element(String) &quot;Creates a new element in no namespace&quot;"}],"tags":[],"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1278571780,"creation_date":1278571780,"answer_id":3201254,"question_id":3201190,"body_markdown":"This works for me. However, I&#39;m a bit puzzled as to why the `Element` objects don&#39;t inherit the namespace of their parents, though. (Not an XML nor XOM expert)\r\n\r\nCode:\r\n\r\n    String namespace = &quot;http://my-namespace&quot;;\r\n    Element request = new Element(&quot;request&quot;, namespace);\r\n\r\n    Element type = new Element(&quot;type&quot;, namespace);\r\n    type.appendChild(&quot;Test&quot;);\r\n\r\n    request.appendChild(type);\r\n\r\n    Element data = new Element(&quot;data&quot;, namespace);\r\n    request.appendChild(data);\r\n\r\n    Element myData = new Element(&quot;myData&quot;, namespace);\r\n    myData.appendChild(&quot;test data&quot;);\r\n    data.appendChild(myData);\r\n\r\n    Document doc = new Document(request);\r\n    System.out.println(doc.toXML());\r\n\r\nOutput:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n      &lt;type&gt;Test&lt;/type&gt;\r\n      &lt;data&gt;\r\n        &lt;myData&gt;test data&lt;/myData&gt;\r\n      &lt;/data&gt;\r\n    &lt;/request&gt;","title":"How to set namespace only on first tag with XOM?","body":"<p>This works for me. However, I'm a bit puzzled as to why the <code>Element</code> objects don't inherit the namespace of their parents, though. (Not an XML nor XOM expert)</p>\n\n<p>Code:</p>\n\n<pre><code>String namespace = \"http://my-namespace\";\nElement request = new Element(\"request\", namespace);\n\nElement type = new Element(\"type\", namespace);\ntype.appendChild(\"Test\");\n\nrequest.appendChild(type);\n\nElement data = new Element(\"data\", namespace);\nrequest.appendChild(data);\n\nElement myData = new Element(\"myData\", namespace);\nmyData.appendChild(\"test data\");\ndata.appendChild(myData);\n\nDocument doc = new Document(request);\nSystem.out.println(doc.toXML());\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;request xmlns=\"http://my-namespace\"&gt;\n  &lt;type&gt;Test&lt;/type&gt;\n  &lt;data&gt;\n    &lt;myData&gt;test data&lt;/myData&gt;\n  &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22774,"reputation":18102,"user_id":56524,"accept_rate":45,"display_name":"mP."},"score":0,"creation_date":1348042601,"post_id":6848665,"comment_id":16806645,"body_markdown":"doesnt a namespace set to empty string imply this element should inherit from the first declared namespace ?","body":"doesnt a namespace set to empty string imply this element should inherit from the first declared namespace ?"}],"tags":[],"owner":{"account_id":423970,"reputation":303,"user_id":803692,"display_name":"bovineone"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1311787896,"creation_date":1311787896,"answer_id":6848665,"question_id":3201190,"body_markdown":"I ran into the same problem, and Google lead me here.\r\n\r\n@Michael - That&#39;s what it says in the javadoc, yes, but unfortunately, that&#39;s not how it works when you implement it. The child elements will continue to get blank xmlns attributes unless you do Catchwa&#39;s implementation.\r\n\r\nCatchwa&#39;s implementation works just fine. Only the element I tell it to have a namespace, has a namespace. All empty xmlns attributes are gone. It&#39;s strange.\r\n\r\nIs it a bug? I can&#39;t seem to figure that part out. Or is it just the way XOM works?","title":"How to set namespace only on first tag with XOM?","body":"<p>I ran into the same problem, and Google lead me here.</p>\n\n<p>@Michael - That's what it says in the javadoc, yes, but unfortunately, that's not how it works when you implement it. The child elements will continue to get blank xmlns attributes unless you do Catchwa's implementation.</p>\n\n<p>Catchwa's implementation works just fine. Only the element I tell it to have a namespace, has a namespace. All empty xmlns attributes are gone. It's strange.</p>\n\n<p>Is it a bug? I can't seem to figure that part out. Or is it just the way XOM works?</p>\n"},{"tags":[],"owner":{"account_id":496224,"reputation":963,"user_id":2277627,"accept_rate":20,"display_name":"Elliotte Rusty Harold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458913261,"creation_date":1458913261,"answer_id":36221082,"question_id":3201190,"body_markdown":"Don&#39;t confuse namespaces and namespace declarations. The namespace is an intrinsic property of each element. The namespace declaration is the `xmlns&#39; attribute. They are not the same thing, although they are connected. When you create an element, you set its namespace, not its namespace declaration. \r\n\r\nIn the XOM data model namespaces are not attributes. They are an intrinsic property of the element itself. There is no rule in XML that requires children of an element to be in the same namespace as the parent. Indeed theoretically every element in the document could be in a different namespace. \r\n\r\nIn XOM you specify the namespace of an element or attribute at the same time you specify the local name. When you create an element, the element initially has no parent so there&#39;s no way for XOM to default to giving the element the same namespace as its parent, even if that&#39;s what was wanted (and it&#39;s not). \r\n\r\nWhen the document is serialized the namespaces are represented by `xmlns` and `xmlns:*prefix*` attributes. XOM figures out where to put these elements to match the namespaces you&#39;ve assigned to each element. Just specify the namespace you want for each element in your code, and let XOM figure out where to put the namespace declarations. ","title":"How to set namespace only on first tag with XOM?","body":"<p>Don't confuse namespaces and namespace declarations. The namespace is an intrinsic property of each element. The namespace declaration is the `xmlns' attribute. They are not the same thing, although they are connected. When you create an element, you set its namespace, not its namespace declaration. </p>\n\n<p>In the XOM data model namespaces are not attributes. They are an intrinsic property of the element itself. There is no rule in XML that requires children of an element to be in the same namespace as the parent. Indeed theoretically every element in the document could be in a different namespace. </p>\n\n<p>In XOM you specify the namespace of an element or attribute at the same time you specify the local name. When you create an element, the element initially has no parent so there's no way for XOM to default to giving the element the same namespace as its parent, even if that's what was wanted (and it's not). </p>\n\n<p>When the document is serialized the namespaces are represented by <code>xmlns</code> and <code>xmlns:*prefix*</code> attributes. XOM figures out where to put these elements to match the namespaces you've assigned to each element. Just specify the namespace you want for each element in your code, and let XOM figure out where to put the namespace declarations. </p>\n"},{"tags":[],"owner":{"account_id":18706508,"reputation":16,"user_id":13637554,"display_name":"jakobum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673288836,"creation_date":1673288836,"answer_id":75061525,"question_id":3201190,"body_markdown":"In XOM you can [add a namespace declaration][1] to the root element.\r\n\r\nHere&#39;s a short example with three different namespaces:\r\n\r\n    final String NS_XLINK = &quot;http://www.w3.org/1999/xlink&quot;;\r\n    final String NS_OTHER = &quot;http://other.com&quot;;\r\n    Element root = new Element(&quot;root&quot;, &quot;http://root.com&quot;);\r\n    root.addNamespaceDeclaration(&quot;xlink&quot;, NS_XLINK);\r\n    root.addNamespaceDeclaration(&quot;other&quot;, NS_OTHER);\r\n    root.addAttribute(new Attribute(&quot;xlink:href&quot;, NS_XLINK, &quot;http://somewhere.com&quot;));\r\n    root.appendChild(new Element(&quot;other:alien&quot;, NS_OTHER));\r\n    Document doc = new Document(root);\r\n    System.out.println(doc.toXML());\r\n\r\nwhich produces this result (with additional line breaks inserted for readability):\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n      &lt;?xml version=&quot;1.0&quot;?&gt;\r\n      &lt;root\r\n        xmlns=&quot;http://root.com&quot;\r\n        xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\r\n        xmlns:other=&quot;http://other.com&quot;\r\n        xlink:href=&quot;http://somewhere.com&quot;&gt;\r\n        &lt;other:alien /&gt;\r\n      &lt;/root&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n  [1]: http://www.xom.nu/apidocs/nu/xom/Element.html#addNamespaceDeclaration-java.lang.String-java.lang.String-","title":"How to set namespace only on first tag with XOM?","body":"<p>In XOM you can <a href=\"http://www.xom.nu/apidocs/nu/xom/Element.html#addNamespaceDeclaration-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">add a namespace declaration</a> to the root element.</p>\n<p>Here's a short example with three different namespaces:</p>\n<pre><code>final String NS_XLINK = &quot;http://www.w3.org/1999/xlink&quot;;\nfinal String NS_OTHER = &quot;http://other.com&quot;;\nElement root = new Element(&quot;root&quot;, &quot;http://root.com&quot;);\nroot.addNamespaceDeclaration(&quot;xlink&quot;, NS_XLINK);\nroot.addNamespaceDeclaration(&quot;other&quot;, NS_OTHER);\nroot.addAttribute(new Attribute(&quot;xlink:href&quot;, NS_XLINK, &quot;http://somewhere.com&quot;));\nroot.appendChild(new Element(&quot;other:alien&quot;, NS_OTHER));\nDocument doc = new Document(root);\nSystem.out.println(doc.toXML());\n</code></pre>\n<p>which produces this result (with additional line breaks inserted for readability):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;?xml version=&quot;1.0&quot;?&gt;\n  &lt;root\n    xmlns=&quot;http://root.com&quot;\n    xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n    xmlns:other=&quot;http://other.com&quot;\n    xlink:href=&quot;http://somewhere.com&quot;&gt;\n    &lt;other:alien /&gt;\n  &lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3201254,"answer_count":4,"score":2,"last_activity_date":1673288836,"creation_date":1278570895,"question_id":3201190,"body_markdown":"I am using [XOM][1] to build XML documents in Java.\r\n\r\nI have created a simple XML document, and I want an XML namespace. But when I set the namespace on the first tag, an empty namespace is set on the childs like `xmlns=&quot;&quot;`, how can I get rid of this behaviour? I only want `xmlns` on the first tag.\r\n\r\nI want this XML:\r\n\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n        &lt;type&gt;Test&lt;/type&gt;\r\n        &lt;data&gt;\r\n            &lt;myData&gt;test data&lt;/myData&gt;\r\n        &lt;/data&gt;\r\n    &lt;/request&gt;\r\n\r\nBut this is the XML document output from XOM\r\n\r\n    &lt;request xmlns=&quot;http://my-namespace&quot;&gt;\r\n        &lt;type xmlns=&quot;&quot;&gt;Test&lt;/type&gt;\r\n        &lt;data xmlns=&quot;&quot;&gt;\r\n            &lt;myData&gt;test data&lt;/myData&gt;\r\n        &lt;/data&gt;\r\n    &lt;/request&gt;\r\n\r\nThis is my Java XOM code:\r\n\r\n    String namespace = &quot;http://my-namespace&quot;;\r\n    Element request = new Element(&quot;request&quot;, namespace);\r\n    \t\t\r\n    Element type = new Element(&quot;type&quot;);\r\n    type.appendChild(&quot;Test&quot;);\r\n    \t\t\r\n    request.appendChild(type);\r\n    \t\t\r\n    Element data = new Element(&quot;data&quot;);\r\n    request.appendChild(data);\r\n    \t\t\r\n    Element myData = new Element(&quot;myData&quot;);\r\n    myData.appendChild(&quot;test data&quot;);\r\n    data.appendChild(myData);\r\n    \r\n    Document doc = new Document(request);\r\n    doc.toXML();\r\n\r\n\r\n  [1]: http://www.xom.nu/","title":"How to set namespace only on first tag with XOM?","body":"<p>I am using <a href=\"http://www.xom.nu/\" rel=\"nofollow noreferrer\">XOM</a> to build XML documents in Java.</p>\n\n<p>I have created a simple XML document, and I want an XML namespace. But when I set the namespace on the first tag, an empty namespace is set on the childs like <code>xmlns=\"\"</code>, how can I get rid of this behaviour? I only want <code>xmlns</code> on the first tag.</p>\n\n<p>I want this XML:</p>\n\n<pre><code>&lt;request xmlns=\"http://my-namespace\"&gt;\n    &lt;type&gt;Test&lt;/type&gt;\n    &lt;data&gt;\n        &lt;myData&gt;test data&lt;/myData&gt;\n    &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n\n<p>But this is the XML document output from XOM</p>\n\n<pre><code>&lt;request xmlns=\"http://my-namespace\"&gt;\n    &lt;type xmlns=\"\"&gt;Test&lt;/type&gt;\n    &lt;data xmlns=\"\"&gt;\n        &lt;myData&gt;test data&lt;/myData&gt;\n    &lt;/data&gt;\n&lt;/request&gt;\n</code></pre>\n\n<p>This is my Java XOM code:</p>\n\n<pre><code>String namespace = \"http://my-namespace\";\nElement request = new Element(\"request\", namespace);\n\nElement type = new Element(\"type\");\ntype.appendChild(\"Test\");\n\nrequest.appendChild(type);\n\nElement data = new Element(\"data\");\nrequest.appendChild(data);\n\nElement myData = new Element(\"myData\");\nmyData.appendChild(\"test data\");\ndata.appendChild(myData);\n\nDocument doc = new Document(request);\ndoc.toXML();\n</code></pre>\n"},{"tags":["java","json","serialization","avro"],"answers":[{"comments":[{"owner":{"account_id":1207803,"reputation":29,"user_id":1176988,"display_name":"Arman"},"score":0,"creation_date":1671750809,"post_id":74894040,"comment_id":132170605,"body_markdown":"Correct. However, I get the field type (&quot;string&quot; here) next to the value, which should not be the case in conventional JSON: &quot;address__Id&quot;:{&quot;string&quot;:&quot;215164&quot;} Any idea how to remove that?","body":"Correct. However, I get the field type (&quot;string&quot; here) next to the value, which should not be the case in conventional JSON: &quot;address__Id&quot;:{&quot;string&quot;:&quot;215164&quot;} Any idea how to remove that?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1671813573,"post_id":74894040,"comment_id":132182677,"body_markdown":"@Arman You need to use a **non-nullable**, non-union string field for `address__Id` https://avro.apache.org/docs/1.11.1/specification/#json-encoding","body":"@Arman You need to use a <b>non-nullable</b>, non-union string field for <code>address__Id</code> <a href=\"https://avro.apache.org/docs/1.11.1/specification/#json-encoding\" rel=\"nofollow noreferrer\">avro.apache.org/docs/1.11.1/specification/#json-encoding</a>"}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671744642,"creation_date":1671744642,"answer_id":74894040,"question_id":74893604,"body_markdown":"You can use a JsonEncoder:\r\n\r\n    public String serialiseToJson(MyAvroType value) {\r\n        final ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        final Encoder jsonEncoder = EncoderFactory.get().jsonEncoder(MyAvroType.getClassSchema(), baos);\r\n        final DatumWriter&lt;MyAvroType&gt; writer = new SpecificDatumWriter&lt;&gt;(MyAvroType.class);\r\n    \r\n        writer.write(value, jsonEncoder);\r\n        jsonEncoder.flush();\r\n    \r\n        return new String(baos.toByteArray());\r\n    }\r\n","title":"Generating Json String from Avro Schema and Data Object","body":"<p>You can use a JsonEncoder:</p>\n<pre><code>public String serialiseToJson(MyAvroType value) {\n    final ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    final Encoder jsonEncoder = EncoderFactory.get().jsonEncoder(MyAvroType.getClassSchema(), baos);\n    final DatumWriter&lt;MyAvroType&gt; writer = new SpecificDatumWriter&lt;&gt;(MyAvroType.class);\n\n    writer.write(value, jsonEncoder);\n    jsonEncoder.flush();\n\n    return new String(baos.toByteArray());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1207803,"reputation":29,"user_id":1176988,"display_name":"Arman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673288796,"creation_date":1673288796,"answer_id":75061521,"question_id":74893604,"body_markdown":"I found a way to get the fields in the Avro schema and use them as a filter for custom serializer. See [https://www.baeldung.com/jackson-serialize-field-custom-criteria][1] \r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-serialize-field-custom-criteria","title":"Generating Json String from Avro Schema and Data Object","body":"<p>I found a way to get the fields in the Avro schema and use them as a filter for custom serializer. See <a href=\"https://www.baeldung.com/jackson-serialize-field-custom-criteria\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-serialize-field-custom-criteria</a></p>\n"}],"owner":{"account_id":1207803,"reputation":29,"user_id":1176988,"display_name":"Arman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1490,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75061521,"answer_count":2,"score":-1,"last_activity_date":1673288796,"creation_date":1671741279,"question_id":74893604,"body_markdown":"I have an Avro Schema (org.apache.avro.Schema) and a data object. I want to serialize the object into a JSON string according to the schema. Is there any way to do that?\r\n\r\nThanks in advance!","title":"Generating Json String from Avro Schema and Data Object","body":"<p>I have an Avro Schema (org.apache.avro.Schema) and a data object. I want to serialize the object into a JSON string according to the schema. Is there any way to do that?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","docker"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1673273799,"post_id":75058230,"comment_id":132455204,"body_markdown":"(For the end user, would installing a JVM be easier than installing and configuring Docker?  That doesn&#39;t seem any more complex, and it would presumably avoid the problems you&#39;re describing here.)","body":"(For the end user, would installing a JVM be easier than installing and configuring Docker?  That doesn&#39;t seem any more complex, and it would presumably avoid the problems you&#39;re describing here.)"}],"answers":[{"tags":[],"owner":{"account_id":5347263,"reputation":754,"user_id":4262466,"display_name":"ComradeJoecool"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673288371,"creation_date":1673288371,"answer_id":75061446,"question_id":75058230,"body_markdown":"It looks like MSYS is doing path conversion inside the docker container to be relative to the Git Bash install directory rather than the container filesystem root.\r\n\r\nThere are a few ways to prevent this behavior.\r\n\r\n 1. Use double forward slash &quot;//&quot; on paths inside the container on the docker run line. In your case change all uses of `/tmp/inputs` to `//tmp/inputs` and `/tmp/outputs` to `//tmp/outputs`\r\n 2. Another option is to execute docker with `winpty` in front of docker `winpty docker ...`\r\n 3. Set the special environment variable MSYS_NO_PATHCONV=1 which will prevent git bash from mangling the paths. (I personally prefer this option by setting this variable to be exported in my .bashrc file so that path conversion is always disabled.)\r\n\r\nSee https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3 for more info.","title":"Directory paths are being &quot;translated&quot; in docker run call","body":"<p>It looks like MSYS is doing path conversion inside the docker container to be relative to the Git Bash install directory rather than the container filesystem root.</p>\n<p>There are a few ways to prevent this behavior.</p>\n<ol>\n<li>Use double forward slash &quot;//&quot; on paths inside the container on the docker run line. In your case change all uses of <code>/tmp/inputs</code> to <code>//tmp/inputs</code> and <code>/tmp/outputs</code> to <code>//tmp/outputs</code></li>\n<li>Another option is to execute docker with <code>winpty</code> in front of docker <code>winpty docker ...</code></li>\n<li>Set the special environment variable MSYS_NO_PATHCONV=1 which will prevent git bash from mangling the paths. (I personally prefer this option by setting this variable to be exported in my .bashrc file so that path conversion is always disabled.)</li>\n</ol>\n<p>See <a href=\"https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3\" rel=\"nofollow noreferrer\">https://gist.github.com/borekb/cb1536a3685ca6fc0ad9a028e6a959e3</a> for more info.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673288371,"creation_date":1673272215,"question_id":75058230,"body_markdown":"I am trying to configure a Java application to be able to be built and executed within a Docker container. I&#39;m doing this so that the user does not need to worry about having the Java JDK, or Maven installed in order to build and run it.\r\n\r\nThe application accepts the following command-line arguments:\r\n\r\n    -s (or --source-dir) &lt;directory path&gt; [required]\r\n    -d (or --dest-dir) &lt;directory path&gt; [required]\r\n    -l (or --output-lists) [optional]\r\n    -i (or --include-source) [optional]\r\n\r\nI&#39;ve successfully configured the Dockerfile to build the app and then set up an entry point. I have also provided a bash script that will take care of running the container, and passing user arguments to the Java application.\r\n\r\nWhen I try to run the containerized application with the script, I&#39;m running into a problem where the directory paths I&#39;m specifying are being &quot;translated&quot; into Windows-form paths *within* the container&#39;s context.\r\n\r\nI&#39;m probably not describing this very well, so examples follow. BTW, I am running this in git bash, running on a Windows 11 PC.\r\n\r\nDockerfile:\r\n\r\n\tFROM harbor.hulk.beast-code.com/library/ubi9-0 AS build\r\n\r\n\t# Install Maven (which installs its own Java distribution).\r\n\tRUN dnf install -y maven.noarch\r\n\r\n\tWORKDIR /app-build\r\n\r\n\tCOPY pom.xml .\r\n\tCOPY README.md .\r\n\r\n\tCOPY src ./src\r\n\r\n\t# Build and package application.\r\n\tRUN mvn clean install\r\n\r\n\tFROM harbor.hulk.beast-code.com/library/ubi9-0\r\n\r\n\t# Install JDK and unzip.\r\n\tRUN dnf install -y java-11-openjdk-devel.x86_64\r\n\tRUN dnf install -y unzip.x86_64\r\n\r\n\tWORKDIR /app\r\n\r\n\t# Copy zipped application file from build image.\r\n\tCOPY --from=build /app-build/target/*.zip /app/.\r\n\r\n\t# Unzip zip file.\r\n\tRUN unzip *.zip\r\n\r\n\t# Note: When container is run, volumes must be mounted as follows:\r\n\t# docker run ... -v &lt;Helm chart directory&gt;:/tmp/inputs -v &lt;output directory&gt;:/tmp/outputs helm-template-scanner ...\r\n\tENTRYPOINT [&quot;java&quot;, &quot;-classpath&quot;, &quot;./helm-template-scanner.jar&quot;, &quot;com.beastcode.devops.helm.Main&quot;]\r\n\r\n\tCMD [&quot;--source-dir=/tmp/inputs&quot;, &quot;--dest-dir=/tmp/outputs&quot;]\r\n\r\ndocker-run.sh:\r\n\r\n\t#! bash\r\n\r\n\tshow_usage() {\r\n\t  echo &quot;Usage: $(basename &quot;$0&quot;) [-h] -s &lt;helm chart dir&gt; -d &lt;output dir&gt; [-l] [-i]&quot;\r\n\t  echo &quot;Where:&quot;\r\n\t  echo &quot;  -h        - Display usage and exit.&quot;\r\n\t  echo &quot;  -s &lt;dir&gt;  - Helm chart directory to scan.&quot;\r\n\t  echo &quot;  -d &lt;dir&gt;  - Output directory.&quot;\r\n\t  echo &quot;  -l        - [optional] Writes lists of definitions and references found to files.&quot;\r\n\t  echo &quot;  -i        - [optional] Includes source line for each referenced line number.&quot;\r\n\t  exit 0\r\n\t}\r\n\r\n\twhile getopts &quot;s: d: l i h&quot; flag\r\n\tdo\r\n\t  case &quot;${flag}&quot; in\r\n\t\th) show_usage;;\r\n\t\ts) source_dir=${OPTARG};;\r\n\t\td) dest_dir=${OPTARG};;\r\n\t\tl) output_lists=true;;\r\n\t\ti) include_source=true;;\r\n\t\t\\?) show_usage\r\n\t\t\texit 1\r\n\t  esac\r\n\tdone\r\n\r\n\techo $source_dir\r\n\techo $dest_dir\r\n\techo $output_lists\r\n\techo $include_source\r\n\r\n\t# Check and validate arguments.\r\n\r\n\tif [ -z $source_dir ]; then\r\n\t  echo &quot;Missing Helm chart directory&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\telif [ ! -d $source_dir ]; then\r\n\t  echo &quot;Helm chart directory &#39;$source_dir&#39; does not exist&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\tfi\r\n\r\n\tif [ -z $dest_dir ]; then\r\n\t  echo &quot;Missing output directory&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\telif [ ! -d $dest_dir ]; then\r\n\t  echo &quot;Output directory &#39;$dest_dir&#39; does not exist&quot;\r\n\t  show_usage\r\n\t  exit 1\r\n\tfi\r\n\r\n\tif [ ! -z $output_lists ]; then\r\n\t  output_lists_flag=&quot;--output-lists&quot;\r\n\telse\r\n\t  output_lists_flag=&quot;&quot;\r\n\tfi\r\n\r\n\tif [ ! -z $include_source ]; then\r\n\t  include_source_flag=&quot;--include-source&quot;\r\n\telse\r\n\t  include_source_flag=&quot;&quot;\r\n\tfi\r\n\r\n\t# Run Docker container to execute Java application to scan Helm chart templates.\r\n\tdocker run -it --rm -v $source_dir:/tmp/inputs -v $dest_dir:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs $output_lists_flag $include_source_flag\r\n\r\nSample script execution with tracing turned on:\r\n\r\n\t$ bash -x ./docker-run.sh -s /c/Users/jgagnon/devops/charts/helm/spoe -d $PWD -i\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ source_dir=/c/Users/jgagnon/devops/charts/helm/spoe\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ dest_dir=/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ case &quot;${flag}&quot; in\r\n\t+ include_source=true\r\n\t+ getopts &#39;s: d: l i h&#39; flag\r\n\t+ echo /c/Users/jgagnon/devops/charts/helm/spoe\r\n\t/c/Users/jgagnon/devops/charts/helm/spoe\r\n\t+ echo /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\r\n\t+ echo\r\n\r\n\t+ echo true\r\n\ttrue\r\n\t+ &#39;[&#39; -z /c/Users/jgagnon/devops/charts/helm/spoe &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -d /c/Users/jgagnon/devops/charts/helm/spoe &#39;]&#39;\r\n\t+ &#39;[&#39; -z /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -d /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner &#39;]&#39;\r\n\t+ &#39;[&#39; &#39;!&#39; -z &#39;]&#39;\r\n\t+ output_lists_flag=\r\n\t+ &#39;[&#39; &#39;!&#39; -z true &#39;]&#39;\r\n\t+ include_source_flag=--include-source\r\n\t+ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\r\n\t2023-01-09 13:37:23 INFO  Main:22 - Command line arguments:\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --source-dir=C:/Users/jgagnon/AppData/Local/Temp/inputs\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --dest-dir=C:/Users/jgagnon/AppData/Local/Temp/outputs\r\n\t2023-01-09 13:37:23 INFO  Main:23 - --include-source\r\n\t2023-01-09 13:37:23 ERROR Main:31 - Exception encountered processing CLI arguments\r\n\tjava.lang.RuntimeException: Source directory does not exist or is not readable\r\n\t\t\tat com.beastcode.devops.helm.CommandLineProcessor.validate(CommandLineProcessor.java:77) ~[helm-template-scanner.jar:?]\r\n\t\t\tat com.beastcode.devops.helm.CommandLineProcessor.process(CommandLineProcessor.java:63) ~[helm-template-scanner.jar:?]\r\n\t\t\tat com.beastcode.devops.helm.Main.main(Main.java:29) ~[helm-template-scanner.jar:?]\r\n\tusage: helm-template-scanner -d &lt;arg&gt; [-i] [-l] -s &lt;arg&gt;\r\n\t -d,--dest-dir &lt;arg&gt;     Output destination directory\r\n\t -i,--include-source     Include source line for each reference\r\n\t -l,--output-lists       Output definitions and references lists\r\n\t -s,--source-dir &lt;arg&gt;   Helm chart directory\r\n\r\nNote that the source and dest dir paths have been converted to Windows-form paths from the Unix/Linux-form paths that were provided.\r\n\r\nIf I run this directly on the command line, no exception is thrown and the Java application runs successfully:\r\n\r\n\t$ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\r\n\t2023-01-09 13:28:18 INFO  Main:22 - Command line arguments:\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --source-dir=/tmp/inputs\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --dest-dir=/tmp/outputs\r\n\t2023-01-09 13:28:18 INFO  Main:23 - --include-source\r\n\t2023-01-09 13:28:19 INFO  Main:67 - BY DEFINITION\r\n\t2023-01-09 13:28:19 INFO  Main:69 - definition: &quot;common.affinities.nodes&quot; [/tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl:40]\r\n\t2023-01-09 13:28:19 INFO  Main:69 -   file: /tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl\r\n\t2023-01-09 13:28:19 INFO  Main:69 -     lines:\r\n\t2023-01-09 13:28:19 INFO  Main:69 -       38: {{ include &quot;common.affinities.nodes&quot; (dict &quot;type&quot; &quot;soft&quot; &quot;key&quot; &quot;FOO&quot; &quot;values&quot; (list &quot;BAR&quot; &quot;BAZ&quot;)) -}}\r\n\t...\r\n\r\nWhat is happening here? How can I fix this?\r\n","title":"Directory paths are being &quot;translated&quot; in docker run call","body":"<p>I am trying to configure a Java application to be able to be built and executed within a Docker container. I'm doing this so that the user does not need to worry about having the Java JDK, or Maven installed in order to build and run it.</p>\n<p>The application accepts the following command-line arguments:</p>\n<pre><code>-s (or --source-dir) &lt;directory path&gt; [required]\n-d (or --dest-dir) &lt;directory path&gt; [required]\n-l (or --output-lists) [optional]\n-i (or --include-source) [optional]\n</code></pre>\n<p>I've successfully configured the Dockerfile to build the app and then set up an entry point. I have also provided a bash script that will take care of running the container, and passing user arguments to the Java application.</p>\n<p>When I try to run the containerized application with the script, I'm running into a problem where the directory paths I'm specifying are being &quot;translated&quot; into Windows-form paths <em>within</em> the container's context.</p>\n<p>I'm probably not describing this very well, so examples follow. BTW, I am running this in git bash, running on a Windows 11 PC.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM harbor.hulk.beast-code.com/library/ubi9-0 AS build\n\n# Install Maven (which installs its own Java distribution).\nRUN dnf install -y maven.noarch\n\nWORKDIR /app-build\n\nCOPY pom.xml .\nCOPY README.md .\n\nCOPY src ./src\n\n# Build and package application.\nRUN mvn clean install\n\nFROM harbor.hulk.beast-code.com/library/ubi9-0\n\n# Install JDK and unzip.\nRUN dnf install -y java-11-openjdk-devel.x86_64\nRUN dnf install -y unzip.x86_64\n\nWORKDIR /app\n\n# Copy zipped application file from build image.\nCOPY --from=build /app-build/target/*.zip /app/.\n\n# Unzip zip file.\nRUN unzip *.zip\n\n# Note: When container is run, volumes must be mounted as follows:\n# docker run ... -v &lt;Helm chart directory&gt;:/tmp/inputs -v &lt;output directory&gt;:/tmp/outputs helm-template-scanner ...\nENTRYPOINT [&quot;java&quot;, &quot;-classpath&quot;, &quot;./helm-template-scanner.jar&quot;, &quot;com.beastcode.devops.helm.Main&quot;]\n\nCMD [&quot;--source-dir=/tmp/inputs&quot;, &quot;--dest-dir=/tmp/outputs&quot;]\n</code></pre>\n<p>docker-run.sh:</p>\n<pre><code>#! bash\n\nshow_usage() {\n  echo &quot;Usage: $(basename &quot;$0&quot;) [-h] -s &lt;helm chart dir&gt; -d &lt;output dir&gt; [-l] [-i]&quot;\n  echo &quot;Where:&quot;\n  echo &quot;  -h        - Display usage and exit.&quot;\n  echo &quot;  -s &lt;dir&gt;  - Helm chart directory to scan.&quot;\n  echo &quot;  -d &lt;dir&gt;  - Output directory.&quot;\n  echo &quot;  -l        - [optional] Writes lists of definitions and references found to files.&quot;\n  echo &quot;  -i        - [optional] Includes source line for each referenced line number.&quot;\n  exit 0\n}\n\nwhile getopts &quot;s: d: l i h&quot; flag\ndo\n  case &quot;${flag}&quot; in\n    h) show_usage;;\n    s) source_dir=${OPTARG};;\n    d) dest_dir=${OPTARG};;\n    l) output_lists=true;;\n    i) include_source=true;;\n    \\?) show_usage\n        exit 1\n  esac\ndone\n\necho $source_dir\necho $dest_dir\necho $output_lists\necho $include_source\n\n# Check and validate arguments.\n\nif [ -z $source_dir ]; then\n  echo &quot;Missing Helm chart directory&quot;\n  show_usage\n  exit 1\nelif [ ! -d $source_dir ]; then\n  echo &quot;Helm chart directory '$source_dir' does not exist&quot;\n  show_usage\n  exit 1\nfi\n\nif [ -z $dest_dir ]; then\n  echo &quot;Missing output directory&quot;\n  show_usage\n  exit 1\nelif [ ! -d $dest_dir ]; then\n  echo &quot;Output directory '$dest_dir' does not exist&quot;\n  show_usage\n  exit 1\nfi\n\nif [ ! -z $output_lists ]; then\n  output_lists_flag=&quot;--output-lists&quot;\nelse\n  output_lists_flag=&quot;&quot;\nfi\n\nif [ ! -z $include_source ]; then\n  include_source_flag=&quot;--include-source&quot;\nelse\n  include_source_flag=&quot;&quot;\nfi\n\n# Run Docker container to execute Java application to scan Helm chart templates.\ndocker run -it --rm -v $source_dir:/tmp/inputs -v $dest_dir:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs $output_lists_flag $include_source_flag\n</code></pre>\n<p>Sample script execution with tracing turned on:</p>\n<pre><code>$ bash -x ./docker-run.sh -s /c/Users/jgagnon/devops/charts/helm/spoe -d $PWD -i\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ source_dir=/c/Users/jgagnon/devops/charts/helm/spoe\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ dest_dir=/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n+ getopts 's: d: l i h' flag\n+ case &quot;${flag}&quot; in\n+ include_source=true\n+ getopts 's: d: l i h' flag\n+ echo /c/Users/jgagnon/devops/charts/helm/spoe\n/c/Users/jgagnon/devops/charts/helm/spoe\n+ echo /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n/c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner\n+ echo\n\n+ echo true\ntrue\n+ '[' -z /c/Users/jgagnon/devops/charts/helm/spoe ']'\n+ '[' '!' -d /c/Users/jgagnon/devops/charts/helm/spoe ']'\n+ '[' -z /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner ']'\n+ '[' '!' -d /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner ']'\n+ '[' '!' -z ']'\n+ output_lists_flag=\n+ '[' '!' -z true ']'\n+ include_source_flag=--include-source\n+ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\n2023-01-09 13:37:23 INFO  Main:22 - Command line arguments:\n2023-01-09 13:37:23 INFO  Main:23 - --source-dir=C:/Users/jgagnon/AppData/Local/Temp/inputs\n2023-01-09 13:37:23 INFO  Main:23 - --dest-dir=C:/Users/jgagnon/AppData/Local/Temp/outputs\n2023-01-09 13:37:23 INFO  Main:23 - --include-source\n2023-01-09 13:37:23 ERROR Main:31 - Exception encountered processing CLI arguments\njava.lang.RuntimeException: Source directory does not exist or is not readable\n        at com.beastcode.devops.helm.CommandLineProcessor.validate(CommandLineProcessor.java:77) ~[helm-template-scanner.jar:?]\n        at com.beastcode.devops.helm.CommandLineProcessor.process(CommandLineProcessor.java:63) ~[helm-template-scanner.jar:?]\n        at com.beastcode.devops.helm.Main.main(Main.java:29) ~[helm-template-scanner.jar:?]\nusage: helm-template-scanner -d &lt;arg&gt; [-i] [-l] -s &lt;arg&gt;\n -d,--dest-dir &lt;arg&gt;     Output destination directory\n -i,--include-source     Include source line for each reference\n -l,--output-lists       Output definitions and references lists\n -s,--source-dir &lt;arg&gt;   Helm chart directory\n</code></pre>\n<p>Note that the source and dest dir paths have been converted to Windows-form paths from the Unix/Linux-form paths that were provided.</p>\n<p>If I run this directly on the command line, no exception is thrown and the Java application runs successfully:</p>\n<pre><code>$ docker run -it --rm -v /c/Users/jgagnon/devops/charts/helm/spoe:/tmp/inputs -v /c/Users/jgagnon/workspace/devops-util/java/helm-template-scanner:/tmp/outputs helm-template-scanner --source-dir=/tmp/inputs --dest-dir=/tmp/outputs --include-source\n2023-01-09 13:28:18 INFO  Main:22 - Command line arguments:\n2023-01-09 13:28:18 INFO  Main:23 - --source-dir=/tmp/inputs\n2023-01-09 13:28:18 INFO  Main:23 - --dest-dir=/tmp/outputs\n2023-01-09 13:28:18 INFO  Main:23 - --include-source\n2023-01-09 13:28:19 INFO  Main:67 - BY DEFINITION\n2023-01-09 13:28:19 INFO  Main:69 - definition: &quot;common.affinities.nodes&quot; [/tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl:40]\n2023-01-09 13:28:19 INFO  Main:69 -   file: /tmp/inputs/charts/keycloak/charts/postgresql/charts/common/templates/_affinities.tpl\n2023-01-09 13:28:19 INFO  Main:69 -     lines:\n2023-01-09 13:28:19 INFO  Main:69 -       38: {{ include &quot;common.affinities.nodes&quot; (dict &quot;type&quot; &quot;soft&quot; &quot;key&quot; &quot;FOO&quot; &quot;values&quot; (list &quot;BAR&quot; &quot;BAZ&quot;)) -}}\n...\n</code></pre>\n<p>What is happening here? How can I fix this?</p>\n"},{"tags":["java","iteration","guava","multimap"],"comments":[{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1399334787,"post_id":23483884,"comment_id":36009145,"body_markdown":"Can you format this better?","body":"Can you format this better?"},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399334958,"post_id":23483884,"comment_id":36009183,"body_markdown":"@AnubianNoob Does that look better?","body":"@AnubianNoob Does that look better?"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":1,"creation_date":1399335157,"post_id":23483884,"comment_id":36009235,"body_markdown":"Yup, thanks. I still don&#39;t understand how you get from one dataset to the other, but that might be just me.","body":"Yup, thanks. I still don&#39;t understand how you get from one dataset to the other, but that might be just me."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399335743,"post_id":23483884,"comment_id":36009373,"body_markdown":"I&#39;m trying to take the first dataset which is what i have in the multimap and then make the second dataset.","body":"I&#39;m trying to take the first dataset which is what i have in the multimap and then make the second dataset."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399335913,"post_id":23483884,"comment_id":36009415,"body_markdown":"I formatted again. I hope that help to make it more clear.","body":"I formatted again. I hope that help to make it more clear."},{"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"score":0,"creation_date":1399336380,"post_id":23483884,"comment_id":36009535,"body_markdown":"Guava MultiMap get method returns Collection&lt;V&gt;. Your snippet assumes it is a String. Does this compile?","body":"Guava MultiMap get method returns Collection&lt;V&gt;. Your snippet assumes it is a String. Does this compile?"},{"owner":{"account_id":2529002,"reputation":13456,"user_id":2197700,"accept_rate":80,"display_name":"Anubian Noob"},"score":0,"creation_date":1399336384,"post_id":23483884,"comment_id":36009539,"body_markdown":"I&#39;m not familiar with `MutliMap`s so I have no idea how you go between  the two datasets... However, your question looks clear.","body":"I&#39;m not familiar with <code>MutliMap</code>s so I have no idea how you go between  the two datasets... However, your question looks clear."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399338500,"post_id":23483884,"comment_id":36010094,"body_markdown":"Yes it compiles. I print out to a file the first data set. To make the second data set, I copy and paste it to show you what I&#39;m trying to achieve. SO I  take the first value to start the pairing after it pairs with every other value then I make the second value pair up with any other values that haven&#39;t already made a unique pair.","body":"Yes it compiles. I print out to a file the first data set. To make the second data set, I copy and paste it to show you what I&#39;m trying to achieve. SO I  take the first value to start the pairing after it pairs with every other value then I make the second value pair up with any other values that haven&#39;t already made a unique pair."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1399338735,"post_id":23483884,"comment_id":36010141,"body_markdown":"If you could provide an [SSCCE](http://www.sscce.org/) we could run, we&#39;d likely be able to answer your question in seconds.","body":"If you could provide an <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> we could run, we&#39;d likely be able to answer your question in seconds."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399339048,"post_id":23483884,"comment_id":36010221,"body_markdown":"Has any of edits made it clearer? I can give you the code not a problem. But all that gives you is the mutltmap I already have. I trying to figure how get data in multimap to the format of that other dataset.","body":"Has any of edits made it clearer? I can give you the code not a problem. But all that gives you is the mutltmap I already have. I trying to figure how get data in multimap to the format of that other dataset."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1399339461,"post_id":23483884,"comment_id":36010321,"body_markdown":"@user3590149 It was not clear to me that the first block *was* a Multimap.  I have reformatted your question in a way that makes sense to me, please look over it and make sure it&#39;s still what you&#39;re looking for, I&#39;ll update my answer.","body":"@user3590149 It was not clear to me that the first block <i>was</i> a Multimap.  I have reformatted your question in a way that makes sense to me, please look over it and make sure it&#39;s still what you&#39;re looking for, I&#39;ll update my answer."},{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399341173,"post_id":23483884,"comment_id":36010720,"body_markdown":"Thank you. That seems to be more clear.","body":"Thank you. That seems to be more clear."}],"answers":[{"comments":[{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399338836,"post_id":23484420,"comment_id":36010167,"body_markdown":"Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair.","body":"Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair."}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1673288159,"creation_date":1399338644,"answer_id":23484420,"question_id":23483884,"body_markdown":"*I wrote this answer before the question was updated to more clearly describe the desired behavior, however I suspect this answer will still help some people who stumble on this question trying to understand different ways to iterate over a `Multimap`, so I&#39;m leaving this answer here for posterity.  See my [other answer](https://stackoverflow.com/a/23484617/113632) for what OP was actually looking for.*\r\n\r\n----\r\n\r\nSuppose we start with the following [`Multimap`][1]:\r\n\r\n    Multimap&lt;String, Integer&gt; map = new ImmutableSetMultimap.Builder&lt;String, Integer&gt;()\r\n                                    .put(&quot;one&quot;, 1)\r\n                                    .putAll(&quot;several&quot;, 1, 2, 3)\r\n                                    .putAll(&quot;many&quot;, 1, 2, 3, 4, 5)\r\n                                    .build();\r\n\r\nWe can print it&#39;s contents several ways, let&#39;s try them:\r\n\r\n1. As a raw string:\r\n\r\n        map.toString()\r\n\r\n    &gt;     {one=[1], several=[1, 2, 3], many=[1, 2, 3, 4, 5]}\r\n\r\n1. As a collection of key =&gt; collection pairs, with unique keys:\r\n\r\n        for(String key : map.keySet()) {\r\n          System.out.println(key+&quot;: &quot;+map.get(key));\r\n        }\r\n        \r\n        // OR with the asMap() view\r\n       \r\n        for(Entry&lt;String,Collection&lt;Integer&gt; e : map.asMap().entrySet()) {\r\n          System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\r\n        }\r\n        \r\n    &gt;     one: [1]\r\n        several: [1, 2, 3]\r\n        many: [1, 2, 3, 4, 5]\r\n\r\n1. As a collection of key =&gt; value pairs, with duplicate keys (and possibly values, if it&#39;s a ListMultimap):\r\n\r\n        for(Entry&lt;String, Integer&gt; e : map.entries()) {\r\n          System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\r\n        }\r\n\r\n    &gt;     one: 1\r\n        several: 1\r\n        several: 2\r\n        several: 3\r\n        many: 1\r\n        many: 2\r\n        many: 3\r\n        many: 4\r\n        many: 5\r\n\r\n1. As a collection of values, without concern for their keys:\r\n\r\n        for(Integer v : map.values()) {\r\n          System.out.println(v);\r\n        }\r\n        \r\n    &gt;     1\r\n        1\r\n        2\r\n        3\r\n        1\r\n        2\r\n        3\r\n        4\r\n        5\r\n\r\nThose are *generally* the ways you&#39;d work with a `Multimap`.  You say you&#39;re trying to &quot;print out pairs that aren&#39;t dependent on order&quot; - it&#39;s unclear to me what that means, but if you&#39;re saying you want the output of option 3 to be in an arbitrary order, you could write your strings to a list, then shuffle it, like so:\r\n\r\n    List&lt;String&gt; pairs = new ArrayList&lt;&gt;();\r\n    for(Entry&lt;String, Integer&gt; e : map.entries()) {\r\n      pairs.add(e.getKey()+&quot;: &quot;+e.getValue());\r\n    }\r\n    Collections.shuffle(pairs);\r\n    for(String s : pairs) {\r\n      System.out.println(s);\r\n    }\r\n\r\nThis would print your Multimap&#39;s contents as pairs in arbitrary order.\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSetMultimap.Builder.html","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p><em>I wrote this answer before the question was updated to more clearly describe the desired behavior, however I suspect this answer will still help some people who stumble on this question trying to understand different ways to iterate over a <code>Multimap</code>, so I'm leaving this answer here for posterity.  See my <a href=\"https://stackoverflow.com/a/23484617/113632\">other answer</a> for what OP was actually looking for.</em></p>\n<hr />\n<p>Suppose we start with the following <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/ImmutableSetMultimap.Builder.html\" rel=\"nofollow noreferrer\"><code>Multimap</code></a>:</p>\n<pre><code>Multimap&lt;String, Integer&gt; map = new ImmutableSetMultimap.Builder&lt;String, Integer&gt;()\n                                .put(&quot;one&quot;, 1)\n                                .putAll(&quot;several&quot;, 1, 2, 3)\n                                .putAll(&quot;many&quot;, 1, 2, 3, 4, 5)\n                                .build();\n</code></pre>\n<p>We can print it's contents several ways, let's try them:</p>\n<ol>\n<li><p>As a raw string:</p>\n<pre><code> map.toString()\n</code></pre>\n<blockquote>\n<pre><code>{one=[1], several=[1, 2, 3], many=[1, 2, 3, 4, 5]}\n</code></pre>\n</blockquote>\n</li>\n<li><p>As a collection of key =&gt; collection pairs, with unique keys:</p>\n<pre><code> for(String key : map.keySet()) {\n   System.out.println(key+&quot;: &quot;+map.get(key));\n }\n\n // OR with the asMap() view\n\n for(Entry&lt;String,Collection&lt;Integer&gt; e : map.asMap().entrySet()) {\n   System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\n }\n</code></pre>\n<blockquote>\n<pre><code>one: [1]\n</code></pre>\n</blockquote>\n<pre><code> several: [1, 2, 3]\n many: [1, 2, 3, 4, 5]\n</code></pre>\n</li>\n<li><p>As a collection of key =&gt; value pairs, with duplicate keys (and possibly values, if it's a ListMultimap):</p>\n<pre><code> for(Entry&lt;String, Integer&gt; e : map.entries()) {\n   System.out.println(e.getKey()+&quot;: &quot;+e.getValue());\n }\n</code></pre>\n<blockquote>\n<pre><code>one: 1\n</code></pre>\n</blockquote>\n<pre><code> several: 1\n several: 2\n several: 3\n many: 1\n many: 2\n many: 3\n many: 4\n many: 5\n</code></pre>\n</li>\n<li><p>As a collection of values, without concern for their keys:</p>\n<pre><code> for(Integer v : map.values()) {\n   System.out.println(v);\n }\n</code></pre>\n<blockquote>\n<pre><code>1\n</code></pre>\n</blockquote>\n<pre><code> 1\n 2\n 3\n 1\n 2\n 3\n 4\n 5\n</code></pre>\n</li>\n</ol>\n<p>Those are <em>generally</em> the ways you'd work with a <code>Multimap</code>.  You say you're trying to &quot;print out pairs that aren't dependent on order&quot; - it's unclear to me what that means, but if you're saying you want the output of option 3 to be in an arbitrary order, you could write your strings to a list, then shuffle it, like so:</p>\n<pre><code>List&lt;String&gt; pairs = new ArrayList&lt;&gt;();\nfor(Entry&lt;String, Integer&gt; e : map.entries()) {\n  pairs.add(e.getKey()+&quot;: &quot;+e.getValue());\n}\nCollections.shuffle(pairs);\nfor(String s : pairs) {\n  System.out.println(s);\n}\n</code></pre>\n<p>This would print your Multimap's contents as pairs in arbitrary order.</p>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1399339551,"creation_date":1399339551,"answer_id":23484540,"question_id":23483884,"body_markdown":"Hope this helps...\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    import com.google.common.collect.ArrayListMultimap;\r\n    import com.google.common.collect.Multimap;\r\n    \r\n    public class GuavaSample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMultimap&lt;String, String&gt; multiMap = ArrayListMultimap.create();\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB00515&quot;);\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB00951&quot;);\r\n    \t\tmultiMap.put(&quot;BE0004429&quot;, &quot;DB01582&quot;);\r\n    \r\n    \t\tmultiMap.put(&quot;BE0000059&quot;, &quot;DB00603&quot;);\r\n    \t\tmultiMap.put(&quot;BE0000059&quot;, &quot;DB01285&quot;);\r\n    \r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00366&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00472&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB00856&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB01104&quot;);\r\n    \t\tmultiMap.put(&quot;BE0001052&quot;, &quot;DB01149&quot;);\r\n    \r\n    \t\tfor (String key : multiMap.keySet()) {\r\n    \t\t\tList&lt;String&gt; list = (List&lt;String&gt;) multiMap.get(key);\r\n    \t\t\tfor (int i = 0; i &lt; list.size(); i++) {\r\n    \t\t\t\tfor (int j = i + 1; j &lt; list.size(); j++) {\r\n    \t\t\t\t\tSystem.out.println(list.get(i) + &quot;,&quot; + list.get(j));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>Hope this helps...</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport com.google.common.collect.ArrayListMultimap;\nimport com.google.common.collect.Multimap;\n\npublic class GuavaSample {\n\n    public static void main(String[] args) {\n        Multimap&lt;String, String&gt; multiMap = ArrayListMultimap.create();\n        multiMap.put(\"BE0004429\", \"DB00515\");\n        multiMap.put(\"BE0004429\", \"DB00951\");\n        multiMap.put(\"BE0004429\", \"DB01582\");\n\n        multiMap.put(\"BE0000059\", \"DB00603\");\n        multiMap.put(\"BE0000059\", \"DB01285\");\n\n        multiMap.put(\"BE0001052\", \"DB00366\");\n        multiMap.put(\"BE0001052\", \"DB00472\");\n        multiMap.put(\"BE0001052\", \"DB00856\");\n        multiMap.put(\"BE0001052\", \"DB01104\");\n        multiMap.put(\"BE0001052\", \"DB01149\");\n\n        for (String key : multiMap.keySet()) {\n            List&lt;String&gt; list = (List&lt;String&gt;) multiMap.get(key);\n            for (int i = 0; i &lt; list.size(); i++) {\n                for (int j = i + 1; j &lt; list.size(); j++) {\n                    System.out.println(list.get(i) + \",\" + list.get(j));\n                }\n            }\n            System.out.println();\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"score":0,"creation_date":1399341427,"post_id":23484617,"comment_id":36010770,"body_markdown":"I think this on the right, its going take sec understand. I just little hesitate on what you mean by successive pairs because I sill need to make sure I collect all unique pairs.","body":"I think this on the right, its going take sec understand. I just little hesitate on what you mean by successive pairs because I sill need to make sure I collect all unique pairs."},{"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"score":0,"creation_date":1399342030,"post_id":23484617,"comment_id":36010904,"body_markdown":"@user3590149 I added some example output.  The code in the function does what you describe, &quot;take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after.&quot;","body":"@user3590149 I added some example output.  The code in the function does what you describe, &quot;take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after.&quot;"}],"tags":[],"owner":{"account_id":39409,"reputation":47624,"user_id":113632,"accept_rate":84,"display_name":"dimo414"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1511285415,"creation_date":1399340120,"answer_id":23484617,"question_id":23483884,"body_markdown":"There&#39;s two parts to this question, now that I understand it, and really the fact that you&#39;re working with Multimaps isn&#39;t very important.  It&#39;s valuable to try to break problems into its component parts; when you do the problems often become clearer, even trivial seeming.\r\n\r\n1. How do I print successive pairs from a collection?\r\n\r\n    We need to define a function which will take a Collection (this will let us work with arbitrary Multimaps), and generate your pairs:\r\n\r\n        public static &lt;V&gt; List&lt;String&gt; genPairs(Collection&lt;V&gt; col) {\r\n          List&lt;V&gt; ls = ImmutableList.copyOf(col);\r\n          List&lt;String&gt; ret = new ArrayList&lt;&gt;();\r\n          \r\n          for (int i = 0; i &lt; ls.size()-1; i++) {\r\n            for (int j = i+1; j &lt; ls.size(); j++) {\r\n              ret.add(ls.get(i)+&quot;, &quot;+ls.get(j));\r\n            }\r\n          }\r\n        \r\n          return ret;\r\n        }\r\n\r\n    Demo:\r\n\r\n        for(String pair : genPairs(ImmutableList.of(1,2,3))) {\r\n          System.out.println(pair);\r\n        }\r\n        \r\n    &gt;     1, 2\r\n        1, 3\r\n        2, 3\r\n\r\n2. How do I print successive pairs from the values of a Multimap?\r\n\r\n    This part&#39;s easy, you just loop over the value collections and call the above function:\r\n\r\n        for(Collection&lt;String&gt; col : multimap.asMap().values()) {\r\n          for(String pair : genPairs(col)) {\r\n            System.out.println(pair);\r\n          }\r\n          System.out.println();\r\n        }","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>There's two parts to this question, now that I understand it, and really the fact that you're working with Multimaps isn't very important.  It's valuable to try to break problems into its component parts; when you do the problems often become clearer, even trivial seeming.</p>\n\n<ol>\n<li><p>How do I print successive pairs from a collection?</p>\n\n<p>We need to define a function which will take a Collection (this will let us work with arbitrary Multimaps), and generate your pairs:</p>\n\n<pre><code>public static &lt;V&gt; List&lt;String&gt; genPairs(Collection&lt;V&gt; col) {\n  List&lt;V&gt; ls = ImmutableList.copyOf(col);\n  List&lt;String&gt; ret = new ArrayList&lt;&gt;();\n\n  for (int i = 0; i &lt; ls.size()-1; i++) {\n    for (int j = i+1; j &lt; ls.size(); j++) {\n      ret.add(ls.get(i)+\", \"+ls.get(j));\n    }\n  }\n\n  return ret;\n}\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>for(String pair : genPairs(ImmutableList.of(1,2,3))) {\n  System.out.println(pair);\n}\n</code></pre>\n\n<blockquote>\n<pre><code>1, 2\n1, 3\n2, 3\n</code></pre>\n</blockquote></li>\n<li><p>How do I print successive pairs from the values of a Multimap?</p>\n\n<p>This part's easy, you just loop over the value collections and call the above function:</p>\n\n<pre><code>for(Collection&lt;String&gt; col : multimap.asMap().values()) {\n  for(String pair : genPairs(col)) {\n    System.out.println(pair);\n  }\n  System.out.println();\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":4405640,"reputation":1525,"user_id":3590149,"accept_rate":57,"display_name":"user3590149"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11347,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":23484617,"answer_count":3,"score":5,"last_activity_date":1673288159,"creation_date":1399334743,"question_id":23483884,"body_markdown":"For each key in a Guava Multimap I need to take the corresponding values and make pairs with them that are not dependent on order.Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair. I don&#39;t know how iterate the values so I can print out pairs that aren&#39;t dependent on order. I&#39;m not sure how to index this either. For arrays, I could just use a double loop. \r\n\r\nHere is an example Multimap:\r\n\r\n    BE0004429: [DB00515, DB00951, DB01582]\r\n    BE0000059: [DB00603, DB01285]\r\n    BE0001052: [DB00366, DB00472, DB00856, DB01104, DB01149]\r\n\r\nI want to take that data and change it to this format. Look carefully, I&#39;m trying to take the values of each key and make pairs.\r\n\r\nI want take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after. Until there no more unique pairs.\r\n\r\n    DB00515, DB00951\r\n    DB00515, DB01582\r\n    DB01582, DB00951\r\n\r\n    DB00603, DB01285\r\n\r\n    DB00366, DB00472\r\n    DB00366, DB00856\r\n    DB00366, DB01104\r\n    DB00366, DB01149\r\n    DB00472, DB00856\r\n    DB00472, DB01104\r\n    DB00472, DB01149\r\n    DB00856, DB01104\r\n    DB00856, DB01149\r\n    DB01104, DB01149\r\n    ","title":"How can I iterate through a Guava multimap to print out values as pairs","body":"<p>For each key in a Guava Multimap I need to take the corresponding values and make pairs with them that are not dependent on order.Uniqueness of pairs are not dependent on order for make pairs inside of key.  [A,B] = [B,A].  If the pair [B,A] is found in another key then this should treated as another pair. I don't know how iterate the values so I can print out pairs that aren't dependent on order. I'm not sure how to index this either. For arrays, I could just use a double loop. </p>\n\n<p>Here is an example Multimap:</p>\n\n<pre><code>BE0004429: [DB00515, DB00951, DB01582]\nBE0000059: [DB00603, DB01285]\nBE0001052: [DB00366, DB00472, DB00856, DB01104, DB01149]\n</code></pre>\n\n<p>I want to take that data and change it to this format. Look carefully, I'm trying to take the values of each key and make pairs.</p>\n\n<p>I want take the first value in the each key and pair it up with the other values. Take the second value and pair it with the value after. Until there no more unique pairs.</p>\n\n<pre><code>DB00515, DB00951\nDB00515, DB01582\nDB01582, DB00951\n\nDB00603, DB01285\n\nDB00366, DB00472\nDB00366, DB00856\nDB00366, DB01104\nDB00366, DB01149\nDB00472, DB00856\nDB00472, DB01104\nDB00472, DB01149\nDB00856, DB01104\nDB00856, DB01149\nDB01104, DB01149\n</code></pre>\n"},{"tags":["java","android","webview","android-webview"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673350329,"post_id":75061384,"comment_id":132474069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27264806,"reputation":1,"user_id":20787037,"display_name":"Arun Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673288055,"creation_date":1673288055,"question_id":75061384,"body_markdown":"I Would like to Customize the ui of dropdown popup inside webview.\r\n\r\n[Image](https://i.stack.imgur.com/XKsp3.png)\r\n\r\nCan anyone here helpme to solve this ?","title":"Customize style of dropdown poup in Android WebView","body":"<p>I Would like to Customize the ui of dropdown popup inside webview.</p>\n<p><a href=\"https://i.stack.imgur.com/XKsp3.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>Can anyone here helpme to solve this ?</p>\n"},{"tags":["java","minecraft","minecraft-fabric"],"owner":{"account_id":23684600,"reputation":1,"user_id":17709729,"display_name":"Lurchfresser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673288054,"creation_date":1673284906,"question_id":75060867,"body_markdown":"I am currently learning how to program minecraft mods using fabric. I want to create an Item, which, when used on a creeper, let the player explode, which will also be shown in the deathmessage, that the player was the cause of the death(like when you kill yourself with TNT).\r\n\r\n```\r\npackage net.lurchfresser.tutorialmod.item.custom;\r\n\r\nimport net.minecraft.entity.Entity;\r\nimport net.minecraft.entity.LivingEntity;\r\nimport net.minecraft.entity.damage.DamageSource;\r\nimport net.minecraft.entity.effect.StatusEffect;\r\nimport net.minecraft.entity.effect.StatusEffectInstance;\r\nimport net.minecraft.entity.mob.CreeperEntity;\r\nimport net.minecraft.entity.mob.ZombieEntity;\r\nimport net.minecraft.entity.player.PlayerEntity;\r\nimport net.minecraft.item.Item;\r\nimport net.minecraft.item.ItemStack;\r\nimport net.minecraft.potion.Potion;\r\nimport net.minecraft.util.ActionResult;\r\nimport net.minecraft.util.Hand;\r\nimport net.minecraft.world.World;\r\nimport org.w3c.dom.Text;\r\n\r\n\r\npublic class ConsumerItem extends Item {\r\n    public ConsumerItem(Settings settings){\r\n        super(settings);\r\n    }\r\n\r\n    @Override\r\n    public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\r\n        double x = user.getX();\r\n        double y = user.getY();\r\n        double z = user.getZ();\r\n\r\n        if(!user.world.isClient) {\r\n            if (entity instanceof ZombieEntity) {\r\n                entity.kill();\r\n                user.addStatusEffect(new StatusEffectInstance(StatusEffect.byRawId(19), 100));\r\n            } else if (entity instanceof CreeperEntity) {\r\n                entity.kill();\r\n                user.world.createExplosion(user, null,null, x + 0.5D, y + 0.5d, z + 0.5d,3F,false,World.ExplosionSourceType.MOB);\r\n            }\r\n        }\r\n        return super.useOnEntity(stack, user, entity, hand);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I put the creeper in the first param of the createExplosion method. The Creeper will be the cause of the death. Also trying pass user.getName.toString in the second param(damageSource) didn&#39;t work out.","title":"Minecraft 1.19.3 modding fabric .createExplosion with user as entity and explosion deals player still damage","body":"<p>I am currently learning how to program minecraft mods using fabric. I want to create an Item, which, when used on a creeper, let the player explode, which will also be shown in the deathmessage, that the player was the cause of the death(like when you kill yourself with TNT).</p>\n<pre><code>package net.lurchfresser.tutorialmod.item.custom;\n\nimport net.minecraft.entity.Entity;\nimport net.minecraft.entity.LivingEntity;\nimport net.minecraft.entity.damage.DamageSource;\nimport net.minecraft.entity.effect.StatusEffect;\nimport net.minecraft.entity.effect.StatusEffectInstance;\nimport net.minecraft.entity.mob.CreeperEntity;\nimport net.minecraft.entity.mob.ZombieEntity;\nimport net.minecraft.entity.player.PlayerEntity;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemStack;\nimport net.minecraft.potion.Potion;\nimport net.minecraft.util.ActionResult;\nimport net.minecraft.util.Hand;\nimport net.minecraft.world.World;\nimport org.w3c.dom.Text;\n\n\npublic class ConsumerItem extends Item {\n    public ConsumerItem(Settings settings){\n        super(settings);\n    }\n\n    @Override\n    public ActionResult useOnEntity(ItemStack stack, PlayerEntity user, LivingEntity entity, Hand hand) {\n        double x = user.getX();\n        double y = user.getY();\n        double z = user.getZ();\n\n        if(!user.world.isClient) {\n            if (entity instanceof ZombieEntity) {\n                entity.kill();\n                user.addStatusEffect(new StatusEffectInstance(StatusEffect.byRawId(19), 100));\n            } else if (entity instanceof CreeperEntity) {\n                entity.kill();\n                user.world.createExplosion(user, null,null, x + 0.5D, y + 0.5d, z + 0.5d,3F,false,World.ExplosionSourceType.MOB);\n            }\n        }\n        return super.useOnEntity(stack, user, entity, hand);\n    }\n\n}\n</code></pre>\n<p>If I put the creeper in the first param of the createExplosion method. The Creeper will be the cause of the death. Also trying pass user.getName.toString in the second param(damageSource) didn't work out.</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673287643,"post_id":75061177,"comment_id":132460621,"body_markdown":"try to use an absolute path to app.jar. Maybe the copy and entrypoints uses different working directories","body":"try to use an absolute path to app.jar. Maybe the copy and entrypoints uses different working directories"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673300354,"post_id":75061374,"comment_id":132464075,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75061374/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673287994,"creation_date":1673287994,"answer_id":75061374,"question_id":75061177,"body_markdown":"I&#39;ve found the correct configurations for the dockerfile and relative paths. Since I&#39;ve set the WORKDIR for the buider as ```/tmp/``` my target folder was being generated at ```/tmp/target/```, so specifying the source files with the ```---from=builder``` tag, and updating the path, I was able to succesfully copy the ```.jar``` file\r\n\r\nMy current working dockerfile:\r\n```\r\nFROM maven:3.8.1-openjdk-17 as builder\r\nCOPY src /tmp/src/\r\nCOPY pom.xml /tmp/\r\nWORKDIR /tmp/\r\nRUN mvn clean install\r\n\r\n\r\nFROM maven:3.8.1-openjdk-17\r\nCOPY --from=builder /tmp/target/*.jar app.jar\r\nEXPOSE 8081\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```","title":"Build maven project inside docker container","body":"<p>I've found the correct configurations for the dockerfile and relative paths. Since I've set the WORKDIR for the buider as <code>/tmp/</code> my target folder was being generated at <code>/tmp/target/</code>, so specifying the source files with the <code>---from=builder</code> tag, and updating the path, I was able to succesfully copy the <code>.jar</code> file</p>\n<p>My current working dockerfile:</p>\n<pre><code>FROM maven:3.8.1-openjdk-17 as builder\nCOPY src /tmp/src/\nCOPY pom.xml /tmp/\nWORKDIR /tmp/\nRUN mvn clean install\n\n\nFROM maven:3.8.1-openjdk-17\nCOPY --from=builder /tmp/target/*.jar app.jar\nEXPOSE 8081\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":20141613,"reputation":27,"user_id":14771241,"display_name":"Thiago Salgado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673287994,"creation_date":1673286853,"question_id":75061177,"body_markdown":"I&#39;m having some problems while trying to build a mvn project inside a Docker container. Everytime I try to build using the following Dockerfile, I get this error:\r\n\r\n```\r\n[10/10] COPY target/*.jar app.jar:\r\n------\r\nlstat /var/lib/docker/tmp/buildkit-mount9100795/target: no such file or directory\r\n```\r\n\r\nMy current Dockerfile:\r\n```\r\nFROM maven:3.8.1-openjdk-17 as builder\r\nCOPY src /tmp/src/\r\nCOPY pom.xml /tmp/\r\nWORKDIR /tmp/\r\nRUN mvn clean install\r\n\r\n\r\nFROM maven:3.8.1-openjdk-17\r\nWORKDIR /tmp/app\r\nCOPY target/*.jar app.jar\r\nEXPOSE 8081\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n```","title":"Build maven project inside docker container","body":"<p>I'm having some problems while trying to build a mvn project inside a Docker container. Everytime I try to build using the following Dockerfile, I get this error:</p>\n<pre><code>[10/10] COPY target/*.jar app.jar:\n------\nlstat /var/lib/docker/tmp/buildkit-mount9100795/target: no such file or directory\n</code></pre>\n<p>My current Dockerfile:</p>\n<pre><code>FROM maven:3.8.1-openjdk-17 as builder\nCOPY src /tmp/src/\nCOPY pom.xml /tmp/\nWORKDIR /tmp/\nRUN mvn clean install\n\n\nFROM maven:3.8.1-openjdk-17\nWORKDIR /tmp/app\nCOPY target/*.jar app.jar\nEXPOSE 8081\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n"},{"tags":["java","jconsole"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1673193662,"post_id":75043785,"comment_id":132438527,"body_markdown":"You&#39;ll need to show your docker run command or compose files. Otherwise, this doesn&#39;t seem like a problem specific to any image (kafka, or otherwise).","body":"You&#39;ll need to show your docker run command or compose files. Otherwise, this doesn&#39;t seem like a problem specific to any image (kafka, or otherwise)."},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673207317,"post_id":75043785,"comment_id":132441347,"body_markdown":"Perhaps the docker container doesn&#39;t bind to that port? `docker ps -a` or `netstat -anp | grep 35000` may show a clue..","body":"Perhaps the docker container doesn&#39;t bind to that port? <code>docker ps -a</code> or <code>netstat -anp | grep 35000</code> may show a clue.."},{"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"score":0,"creation_date":1673208485,"post_id":75043785,"comment_id":132441541,"body_markdown":"@murtiko I&#39;ve updated the post with the Docker/Netstat info. Looks like port 35000 is correct. When I look at the logs on the Docker side, the error just says `WARNING: The server has decided to close this client connection.`","body":"@murtiko I&#39;ve updated the post with the Docker/Netstat info. Looks like port 35000 is correct. When I look at the logs on the Docker side, the error just says <code>WARNING: The server has decided to close this client connection.</code>"},{"owner":{"account_id":15285811,"reputation":253,"user_id":11028863,"display_name":"murtiko"},"score":0,"creation_date":1673258429,"post_id":75043785,"comment_id":132449736,"body_markdown":"Yes it looks like the port is correctly configured and being listened on. Strange, maybe [this other question/thread](https://stackoverflow.com/questions/29412072/how-to-access-spring-boot-jmx-remotely) may help. It may not be a problem but i noticed that you provide the jmx related JVM args to jconsole? Afaik these parameters are needed for the vm that you want to monitor, and not jconsole.","body":"Yes it looks like the port is correctly configured and being listened on. Strange, maybe <a href=\"https://stackoverflow.com/questions/29412072/how-to-access-spring-boot-jmx-remotely\">this other question/thread</a> may help. It may not be a problem but i noticed that you provide the jmx related JVM args to jconsole? Afaik these parameters are needed for the vm that you want to monitor, and not jconsole."},{"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"score":1,"creation_date":1673287990,"post_id":75043785,"comment_id":132460720,"body_markdown":"@murtiko Updating to JDK 19 fixed this issue for me. Just posted the answer.","body":"@murtiko Updating to JDK 19 fixed this issue for me. Just posted the answer."}],"answers":[{"tags":[],"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673287961,"creation_date":1673287961,"answer_id":75061368,"question_id":75043785,"body_markdown":"The fix for this issue was to update JDK to the latest version (in my case, JDK 19).\r\nAfter downloading/installing JDK 19 and running the updated JConsole, I no longer had the constant disconnects.\r\n\r\nhttps://www.oracle.com/java/technologies/downloads/#jdk19-windows","title":"JConsole - Constant Disconnects with localhost/Kafka Sandbox","body":"<p>The fix for this issue was to update JDK to the latest version (in my case, JDK 19).\nAfter downloading/installing JDK 19 and running the updated JConsole, I no longer had the constant disconnects.</p>\n<p><a href=\"https://www.oracle.com/java/technologies/downloads/#jdk19-windows\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#jdk19-windows</a></p>\n"}],"owner":{"account_id":3551736,"reputation":1294,"user_id":2966445,"accept_rate":60,"display_name":"user2966445"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061368,"answer_count":1,"score":0,"last_activity_date":1673287961,"creation_date":1673125591,"question_id":75043785,"body_markdown":"I am trying to use JConsole to monitor/view metrics for Kafka Sandbox with Docker containers. As soon as I connect to **locahost:35000**, I receive the error: `&quot;Secure Connection Failed: Retry Insecurely?&quot;` \r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I click `Insecure connection`, the connection works for a split second and then disconnects again with a different error: &quot;`Connection Lost: Reconnect?`&quot;. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nI&#39;ve researched and tried many different combinations of JMX arguments, including the arguments below and none have worked so far. \r\n\r\nThe actual exception returned in the debug log is:\r\n\r\n    java.lang.SecurityException: Expecting a sun.rmi.server.UnicastRef2 remote reference in stub!\r\n\r\nHas anyone been able to fix this issue with JConsole?\r\n\r\n**Current arguments used:**\r\n\r\n    jconsole -debug -J&quot;-Dcom.sun.management.jmxremote=true, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.ssl=false, -Djava.rmi.server.hostname=localhost,  -Dcom.sun.management.jmxremote.local.only=false, -Dcom.sun.management.jmxremote.rmi.port=35000, -Dcom.sun.management.jmxremote.port=35000, -Dcom.sun.management.jmxremote.port=35000&quot;\r\n\r\n**Java Info:**\r\n\r\n    java 14.0.1 2020-04-14\r\n    Java(TM) SE Runtime Environment (build 14.0.1+7)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)\r\n\r\n\r\n**Docker Info:**\r\n\r\n    CONTAINER ID   IMAGE                                      COMMAND                  CREATED      STATUS                  PORTS                                          NAMES\r\n    b21d9589e737   mongodb-kafka-base-setup-mongod:1.0        &quot;bash -c &#39;sleep 10 &amp;…&quot;   4 days ago   Exited (0) 4 days ago                                                  mongo1-setup\r\n    c0a23e041e23   mongodb-kafka-base-mongod:1.0              &quot;docker-entrypoint.s…&quot;   4 days ago   Up 4 days               0.0.0.0:35001-&gt;27017/tcp                       mongo1\r\n    7c56b4ccc89a   confluentinc/cp-kafka-rest:7.2.2           &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               8082/tcp                                       rest-proxy\r\n    3b6fd1821270   confluentinc/cp-schema-registry:7.2.2      &quot;/etc/confluent/dock…&quot;   4 days ago   Exited (1) 4 days ago                                                  schema-registry\r\n    c303de030d9f   confluentinc/cp-kafka-connect-base:7.2.2   &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days (healthy)     8083/tcp, 9092/tcp, 0.0.0.0:35000-&gt;35000/tcp   connect\r\n    4c1665f78d4c   confluentinc/cp-kafka:7.2.2                &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               9092/tcp                                       broker\r\n    b707c2d6b8be   confluentinc/cp-zookeeper:7.2.2            &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               2181/tcp, 2888/tcp, 3888/tcp                   zookeeper\r\n\r\n**Netstat Info:**\r\n\r\n      TCP    0.0.0.0:35000          0.0.0.0:0              LISTENING\r\n      TCP    [::]:35000             [::]:0                 LISTENING\r\n      TCP    [::1]:35000            [::]:0                 LISTENING\r\n\r\n  [1]: https://i.stack.imgur.com/PSVl2.png\r\n  [2]: https://i.stack.imgur.com/WGCH8.png","title":"JConsole - Constant Disconnects with localhost/Kafka Sandbox","body":"<p>I am trying to use JConsole to monitor/view metrics for Kafka Sandbox with Docker containers. As soon as I connect to <strong>locahost:35000</strong>, I receive the error: <code>&quot;Secure Connection Failed: Retry Insecurely?&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/PSVl2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PSVl2.png\" alt=\"enter image description here\" /></a></p>\n<p>If I click <code>Insecure connection</code>, the connection works for a split second and then disconnects again with a different error: &quot;<code>Connection Lost: Reconnect?</code>&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/WGCH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WGCH8.png\" alt=\"enter image description here\" /></a></p>\n<p>I've researched and tried many different combinations of JMX arguments, including the arguments below and none have worked so far.</p>\n<p>The actual exception returned in the debug log is:</p>\n<pre><code>java.lang.SecurityException: Expecting a sun.rmi.server.UnicastRef2 remote reference in stub!\n</code></pre>\n<p>Has anyone been able to fix this issue with JConsole?</p>\n<p><strong>Current arguments used:</strong></p>\n<pre><code>jconsole -debug -J&quot;-Dcom.sun.management.jmxremote=true, -Dcom.sun.management.jmxremote.authenticate=false, -Dcom.sun.management.jmxremote.ssl=false, -Djava.rmi.server.hostname=localhost,  -Dcom.sun.management.jmxremote.local.only=false, -Dcom.sun.management.jmxremote.rmi.port=35000, -Dcom.sun.management.jmxremote.port=35000, -Dcom.sun.management.jmxremote.port=35000&quot;\n</code></pre>\n<p><strong>Java Info:</strong></p>\n<pre><code>java 14.0.1 2020-04-14\nJava(TM) SE Runtime Environment (build 14.0.1+7)\nJava HotSpot(TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)\n</code></pre>\n<p><strong>Docker Info:</strong></p>\n<pre><code>CONTAINER ID   IMAGE                                      COMMAND                  CREATED      STATUS                  PORTS                                          NAMES\nb21d9589e737   mongodb-kafka-base-setup-mongod:1.0        &quot;bash -c 'sleep 10 &amp;…&quot;   4 days ago   Exited (0) 4 days ago                                                  mongo1-setup\nc0a23e041e23   mongodb-kafka-base-mongod:1.0              &quot;docker-entrypoint.s…&quot;   4 days ago   Up 4 days               0.0.0.0:35001-&gt;27017/tcp                       mongo1\n7c56b4ccc89a   confluentinc/cp-kafka-rest:7.2.2           &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               8082/tcp                                       rest-proxy\n3b6fd1821270   confluentinc/cp-schema-registry:7.2.2      &quot;/etc/confluent/dock…&quot;   4 days ago   Exited (1) 4 days ago                                                  schema-registry\nc303de030d9f   confluentinc/cp-kafka-connect-base:7.2.2   &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days (healthy)     8083/tcp, 9092/tcp, 0.0.0.0:35000-&gt;35000/tcp   connect\n4c1665f78d4c   confluentinc/cp-kafka:7.2.2                &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               9092/tcp                                       broker\nb707c2d6b8be   confluentinc/cp-zookeeper:7.2.2            &quot;/etc/confluent/dock…&quot;   4 days ago   Up 4 days               2181/tcp, 2888/tcp, 3888/tcp                   zookeeper\n</code></pre>\n<p><strong>Netstat Info:</strong></p>\n<pre><code>  TCP    0.0.0.0:35000          0.0.0.0:0              LISTENING\n  TCP    [::]:35000             [::]:0                 LISTENING\n  TCP    [::1]:35000            [::]:0                 LISTENING\n</code></pre>\n"},{"tags":["java","arrays","algorithm"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1673284384,"post_id":75060452,"comment_id":132459484,"body_markdown":"Is it possible to do something similar but do it as the company is added to its list.  At that point you know the new count; you then check that count against the min of top-10 and replace/insert as needed; if it&#39;s already in the top-10 then update its count and re-sort top-10.  One optimization is if new count is less than min of top-10 then no further processing needed.","body":"Is it possible to do something similar but do it as the company is added to its list.  At that point you know the new count; you then check that count against the min of top-10 and replace/insert as needed; if it&#39;s already in the top-10 then update its count and re-sort top-10.  One optimization is if new count is less than min of top-10 then no further processing needed."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1673284593,"post_id":75060452,"comment_id":132459567,"body_markdown":"How is _**most popular postcodes**_ defined? Postcode with the highest count of companies?","body":"How is <i><b>most popular postcodes</b></i> defined? Postcode with the highest count of companies?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673285246,"post_id":75060452,"comment_id":132459802,"body_markdown":"@Eritrean, from the O/P code, Yes: The most popular postcodes are those with the highest count of companies.","body":"@Eritrean, from the O/P code, Yes: The most popular postcodes are those with the highest count of companies."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673285877,"post_id":75060452,"comment_id":132460012,"body_markdown":"It strikes me as odd to see code that looks like a sort is being called each iteration in a loop. But, with each invocation of sort, no more than 10 items will be sorted, and the sort will actually be called no more than 10 times. Even so, you might want to consider a [priority queue](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html) or sorted collection.","body":"It strikes me as odd to see code that looks like a sort is being called each iteration in a loop. But, with each invocation of sort, no more than 10 items will be sorted, and the sort will actually be called no more than 10 times. Even so, you might want to consider a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">priority queue</a> or sorted collection."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673286242,"post_id":75060452,"comment_id":132460138,"body_markdown":"If you want to do a web search, try &quot;java find n largest elements in an array&quot; or the same with &quot;array&quot; changed to &quot;collection&quot;   https://en.wikipedia.org/wiki/Selection_algorithm   https://stackoverflow.com/questions/7272534/finding-the-first-n-largest-elements-in-an-array","body":"If you want to do a web search, try &quot;java find n largest elements in an array&quot; or the same with &quot;array&quot; changed to &quot;collection&quot;   <a href=\"https://en.wikipedia.org/wiki/Selection_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Selection_algorithm</a>   <a href=\"https://stackoverflow.com/questions/7272534/finding-the-first-n-largest-elements-in-an-array\" title=\"finding the first n largest elements in an array\">stackoverflow.com/questions/7272534/&hellip;</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1673286427,"post_id":75060452,"comment_id":132460209,"body_markdown":"I saw the following comment to a different question. It might apply here:  &quot;Questions asking about improvements to correct, working code are better suited to CodeReview.SE&quot;","body":"I saw the following comment to a different question. It might apply here:  &quot;Questions asking about improvements to correct, working code are better suited to CodeReview.SE&quot;"},{"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"score":0,"creation_date":1673287149,"post_id":75060452,"comment_id":132460451,"body_markdown":"Thanks Old Dog Programmer. I did try it out with a PriorityQueue, but it didn&#39;t make any significant differance to the execution time, although I do like the idea of using the priority queue OOTB functionlity.","body":"Thanks Old Dog Programmer. I did try it out with a PriorityQueue, but it didn&#39;t make any significant differance to the execution time, although I do like the idea of using the priority queue OOTB functionlity."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673310502,"post_id":75060452,"comment_id":132465993,"body_markdown":"Out of curiosity, what if postcodeToCompaniesList had millions of entries, and you wanted to find the top thousand popular postcodes?  What would be the difference in execution time, if any?","body":"Out of curiosity, what if postcodeToCompaniesList had millions of entries, and you wanted to find the top thousand popular postcodes?  What would be the difference in execution time, if any?"}],"answers":[{"comments":[{"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"score":0,"creation_date":1673287200,"post_id":75061057,"comment_id":132460462,"body_markdown":"Thanks, I will give this a go. I&#39;m still getting to grips with the Stream API","body":"Thanks, I will give this a go. I&#39;m still getting to grips with the Stream API"},{"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"score":0,"creation_date":1673344826,"post_id":75061057,"comment_id":132472402,"body_markdown":"Hay Flavian, I don&#39;t understand the `.forEach(System.out::println);`. I understand the method passing to print them out, but how do I replace this in order to add each element into a List? Currently I have:\n```\nvar recordList = new ArrayList&lt;Record&gt;();\n....\n.forEach(recordList.add(new Record(key, value)));\n```\nBut that dosn&#39;t work. What does .ForEach pass in?","body":"Hay Flavian, I don&#39;t understand the <code>.forEach(System.out::println);</code>. I understand the method passing to print them out, but how do I replace this in order to add each element into a List? Currently I have: ``` var recordList = new ArrayList&lt;Record&gt;(); .... .forEach(recordList.add(new Record(key, value))); ``` But that dosn&#39;t work. What does .ForEach pass in?"},{"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"score":0,"creation_date":1673345126,"post_id":75061057,"comment_id":132472505,"body_markdown":"Sussed it:\n.forEach(item -&gt; recordList.add(new Record(item.getKey(), item.getValue())));","body":"Sussed it: .forEach(item -&gt; recordList.add(new Record(item.getKey(), item.getValue())));"},{"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"score":0,"creation_date":1673365486,"post_id":75061057,"comment_id":132479653,"body_markdown":"You don&#39;t have to print them, I think you can collect them like this:\n\n`List&lt;Entry&lt;String, Integer&gt;&gt; result = counter.entrySet().stream()\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\n        .limit(10)\n        .collect(Collectors.toList());`","body":"You don&#39;t have to print them, I think you can collect them like this:  <code>List&lt;Entry&lt;String, Integer&gt;&gt; result = counter.entrySet().stream()         .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())         .limit(10)         .collect(Collectors.toList());</code>"}],"tags":[],"owner":{"account_id":27413892,"reputation":186,"user_id":20913415,"display_name":"Flavian Iuga"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673286069,"creation_date":1673286069,"answer_id":75061057,"question_id":75060452,"body_markdown":"I&#39;m going to assume List of Company  is a List of Strings to make things simpler. I think this should do it:\r\n\r\n    HashMap&lt;String, Integer&gt; counter = new HashMap&lt;&gt;(); // postcodes counter\r\n    postcodeToCompaniesList.forEach((postcode, company) -&gt; counter.put(postcode, company.size()));\r\n    \r\n    counter.entrySet().stream()\r\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\r\n        .limit(10)\r\n        .forEach(System.out::println);","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>I'm going to assume List of Company  is a List of Strings to make things simpler. I think this should do it:</p>\n<pre><code>HashMap&lt;String, Integer&gt; counter = new HashMap&lt;&gt;(); // postcodes counter\npostcodeToCompaniesList.forEach((postcode, company) -&gt; counter.put(postcode, company.size()));\n\ncounter.entrySet().stream()\n    .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\n    .limit(10)\n    .forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673287150,"creation_date":1673287150,"answer_id":75061224,"question_id":75060452,"body_markdown":"You could stream over your entries sort them by the list size in reverse order, limit to n entries (in your case 10) and collect them in a LinkedHashMap:\r\n\r\n    private static Map&lt;String, List&lt;Company&gt;&gt; topN(Map&lt;String, List&lt;Company&gt;&gt; map, int n) {\r\n        return map.entrySet()\r\n                  .stream()\r\n                  .sorted(Comparator.comparingInt((Map.Entry&lt;String, List&lt;Company&gt;&gt; e) -&gt; e.getValue().size()).reversed())\r\n                  .limit(n)\r\n                  .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\r\n    }\r\n\r\nand use it like below, for example to get the top 7 postcodes:\r\n\r\n    topN(postcodeToCompaniesList, 7)\r\n            .forEach((k,v) -&gt; System.out.printf(&quot;Postcode %s has %d companies.%n&quot;, k, v.size()));","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>You could stream over your entries sort them by the list size in reverse order, limit to n entries (in your case 10) and collect them in a LinkedHashMap:</p>\n<pre><code>private static Map&lt;String, List&lt;Company&gt;&gt; topN(Map&lt;String, List&lt;Company&gt;&gt; map, int n) {\n    return map.entrySet()\n              .stream()\n              .sorted(Comparator.comparingInt((Map.Entry&lt;String, List&lt;Company&gt;&gt; e) -&gt; e.getValue().size()).reversed())\n              .limit(n)\n              .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue, (x, y) -&gt; y, LinkedHashMap::new));\n}\n</code></pre>\n<p>and use it like below, for example to get the top 7 postcodes:</p>\n<pre><code>topN(postcodeToCompaniesList, 7)\n        .forEach((k,v) -&gt; System.out.printf(&quot;Postcode %s has %d companies.%n&quot;, k, v.size()));\n</code></pre>\n"}],"owner":{"account_id":1079990,"reputation":2752,"user_id":1082500,"accept_rate":66,"display_name":"Adam Davies"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75061057,"answer_count":2,"score":0,"last_activity_date":1673287150,"creation_date":1673282808,"question_id":75060452,"body_markdown":"If I had the following\r\n```\r\npostcodeToCompaniesList = new HashMap&lt;String, List&lt;Company&gt;&gt;();\r\n```\r\nAfter some processig the hashmap has many thousands of postcodes, and each postcode is mapped to a list with 1 or more `Company` objects. \r\n\r\nNow I want to get the top 10 most popular postcodes and print out the number of companies at the postcode i.e. `&quot;Postcode SW1A 0AA has 50 companies&quot;`.\r\n \r\nThe approach I&#39;ve taken, and I think this is naive, is to create a Record object to hold the postcode and the corrisponding number of companies at that postcode. I then create a `RecordList` object for managing a list of 10 `Record` objects which have the highest `count` value (see below).\r\n\r\nThe `RecordList.addRecord(Record record)` method adds `records` until 10 are added and then conditionally adds more only if the `count` value is higher than the lowest value currently in the list. Then it sorts the list and removes the lowest value thereby maintaing a count of 10 elements.\r\n\r\n```\r\nfinal class Record implements Comparable&lt;Record&gt; {\r\n    public String postcode;\r\n    public int count;\r\n\r\n    public Record(String postcode, int count){\r\n        this.postcode = postcode;\r\n        this.count = count;\r\n    }\r\n\r\n    @Override \r\n    public int compareTo(Record r){\r\n        return Integer.valueOf(this.count).compareTo(Integer.valueOf(r.count));\r\n    }\r\n}\r\n\r\nfinal class RecordList{\r\n    List&lt;Record&gt; top10 = new ArrayList&lt;Record&gt;();\r\n    \r\n    public void addRecord(Record record){\r\n        if (this.top10.size() &lt; 10){\r\n            this.top10.add(record);\r\n            Collections.sort(this.top10);\r\n        } else if (record.count &gt; this.top10.get(0).count){\r\n            this.top10.add(record);\r\n            Collections.sort(this.top10);\r\n            this.top10.remove(0);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nNext I use a simple loop to loop through all the keys (postcodes) and add them one at a time to the `RecordList` along with the `companyCount`. \r\n\r\n```\r\nRecordList recordList = new RecordList();\r\nSet&lt;String&gt; postcodes = this.postcodeToCompaniesList.keySet();\r\n\r\nfor(String postcode : postcodes){\r\n  int companyCount = this.postcodeToCompaniesList.get(postcode).size();\r\n  recordList.addRecord(new Record(postcode, companyCount));\r\n}\r\n\r\nSystem.out.println(gson.toJson(recordList));\r\n```\r\nThis works. However, I get the feeling that this is an very inefficent way to do this? Maybe Streams would work better??\r\n\r\nWhat are the thoughts from the community? Is there a better, more elegent way to do this?\r\n \r\n\r\n\r\n\r\n","title":"Java Algorithm Optimisation Question using a HashMap of Lists","body":"<p>If I had the following</p>\n<pre><code>postcodeToCompaniesList = new HashMap&lt;String, List&lt;Company&gt;&gt;();\n</code></pre>\n<p>After some processig the hashmap has many thousands of postcodes, and each postcode is mapped to a list with 1 or more <code>Company</code> objects.</p>\n<p>Now I want to get the top 10 most popular postcodes and print out the number of companies at the postcode i.e. <code>&quot;Postcode SW1A 0AA has 50 companies&quot;</code>.</p>\n<p>The approach I've taken, and I think this is naive, is to create a Record object to hold the postcode and the corrisponding number of companies at that postcode. I then create a <code>RecordList</code> object for managing a list of 10 <code>Record</code> objects which have the highest <code>count</code> value (see below).</p>\n<p>The <code>RecordList.addRecord(Record record)</code> method adds <code>records</code> until 10 are added and then conditionally adds more only if the <code>count</code> value is higher than the lowest value currently in the list. Then it sorts the list and removes the lowest value thereby maintaing a count of 10 elements.</p>\n<pre><code>final class Record implements Comparable&lt;Record&gt; {\n    public String postcode;\n    public int count;\n\n    public Record(String postcode, int count){\n        this.postcode = postcode;\n        this.count = count;\n    }\n\n    @Override \n    public int compareTo(Record r){\n        return Integer.valueOf(this.count).compareTo(Integer.valueOf(r.count));\n    }\n}\n\nfinal class RecordList{\n    List&lt;Record&gt; top10 = new ArrayList&lt;Record&gt;();\n    \n    public void addRecord(Record record){\n        if (this.top10.size() &lt; 10){\n            this.top10.add(record);\n            Collections.sort(this.top10);\n        } else if (record.count &gt; this.top10.get(0).count){\n            this.top10.add(record);\n            Collections.sort(this.top10);\n            this.top10.remove(0);\n        }\n    }\n}\n\n</code></pre>\n<p>Next I use a simple loop to loop through all the keys (postcodes) and add them one at a time to the <code>RecordList</code> along with the <code>companyCount</code>.</p>\n<pre><code>RecordList recordList = new RecordList();\nSet&lt;String&gt; postcodes = this.postcodeToCompaniesList.keySet();\n\nfor(String postcode : postcodes){\n  int companyCount = this.postcodeToCompaniesList.get(postcode).size();\n  recordList.addRecord(new Record(postcode, companyCount));\n}\n\nSystem.out.println(gson.toJson(recordList));\n</code></pre>\n<p>This works. However, I get the feeling that this is an very inefficent way to do this? Maybe Streams would work better??</p>\n<p>What are the thoughts from the community? Is there a better, more elegent way to do this?</p>\n"},{"tags":["java","docker","jasper-reports","alpine-linux"],"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1673273817,"post_id":74975762,"comment_id":132455217,"body_markdown":"The duplicate may seem strange, but the linked question contains answers on how to solve your issue (the most upvoted one is unfortunately wrong :), but you will also find the correct solution, which is provide font-extension.","body":"The duplicate may seem strange, but the linked question contains answers on how to solve your issue (the most upvoted one is unfortunately wrong :), but you will also find the correct solution, which is provide font-extension."},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":1,"creation_date":1673286810,"post_id":74975762,"comment_id":132460340,"body_markdown":"As its described in the question, adding font-extension doesnt solve the issue.","body":"As its described in the question, adding font-extension doesnt solve the issue."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1673448474,"post_id":74975762,"comment_id":132501831,"body_markdown":"Please verify that you correctly correctly generated and added the font-extension, I have several application running in container with openjdk generating jasper report with custom fonts and never had similar issue. Font-extension is fundamental if you like to ensure that pdf is always visualizzed correctly (to include the font in the pdf)","body":"Please verify that you correctly correctly generated and added the font-extension, I have several application running in container with openjdk generating jasper report with custom fonts and never had similar issue. Font-extension is fundamental if you like to ensure that pdf is always visualizzed correctly (to include the font in the pdf)"},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1673448655,"post_id":74975762,"comment_id":132501888,"body_markdown":"and do note that jasperreports-fonts do **not** included Times New Roman!, you need to make your own font-extensions to have this font.","body":"and do note that jasperreports-fonts do <b>not</b> included Times New Roman!, you need to make your own font-extensions to have this font."},{"owner":{"account_id":10213320,"reputation":280,"user_id":7539777,"display_name":"akarahman"},"score":1,"creation_date":1691490119,"post_id":74975762,"comment_id":135495571,"body_markdown":"I had the same issue, but I got it resolved by using a different base image `registry.redhat.io/redhat-openjdk-18/openjdk18-openshift`","body":"I had the same issue, but I got it resolved by using a different base image <code>registry.redhat.io&#47;redhat-openjdk-18&#47;openjdk18-openshift</code>"}],"answers":[{"comments":[{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1673273578,"post_id":74978195,"comment_id":132455142,"body_markdown":"For jasper-report you should provide font-extensions instead of installing the fonts, see this [answer](https://stackoverflow.com/a/35549391/5292302) to understand why","body":"For jasper-report you should provide font-extensions instead of installing the fonts, see this <a href=\"https://stackoverflow.com/a/35549391/5292302\">answer</a> to understand why"},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":1,"creation_date":1673286695,"post_id":74978195,"comment_id":132460294,"body_markdown":"Even adding font-extensions, the problem continued. I had to do both.","body":"Even adding font-extensions, the problem continued. I had to do both."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":1,"creation_date":1673448834,"post_id":74978195,"comment_id":132501953,"body_markdown":"You need to add a font-extension that includes the fonts you are using (default jasper report) does not include &quot;Times new Roman&quot;, trust me the idea that you need to install fonts is wrong and you may even serve pdf&#39;s that are not displayed correctly on client platform (if they do not have the font installed), hence you need the extension and make sure that the font is included in pdf that is served.","body":"You need to add a font-extension that includes the fonts you are using (default jasper report) does not include &quot;Times new Roman&quot;, trust me the idea that you need to install fonts is wrong and you may even serve pdf&#39;s that are not displayed correctly on client platform (if they do not have the font installed), hence you need the extension and make sure that the font is included in pdf that is served."},{"owner":{"account_id":9259591,"reputation":248,"user_id":6877157,"display_name":"nkmuturi"},"score":2,"creation_date":1677158958,"post_id":74978195,"comment_id":133285190,"body_markdown":"@PetterFriberg I&#39;m afraid KenobiBastila is correct in my case too: you need to do both. Even simply adding font-extension for font DejaVu (purportedly included in the Jasper report fonts library) doesn&#39;t work. Perhaps there&#39;s something else we&#39;re missing or it&#39;s a version mismatch of sorts? I&#39;m using Jasper 6.20.0 (CE), Spring 2.7.6, and Java 17.","body":"@PetterFriberg I&#39;m afraid KenobiBastila is correct in my case too: you need to do both. Even simply adding font-extension for font DejaVu (purportedly included in the Jasper report fonts library) doesn&#39;t work. Perhaps there&#39;s something else we&#39;re missing or it&#39;s a version mismatch of sorts? I&#39;m using Jasper 6.20.0 (CE), Spring 2.7.6, and Java 17."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1677166156,"post_id":74978195,"comment_id":133287806,"body_markdown":"@nkmuturi if font-extension is not work for your font, there is a problem with the font-extension (font not included correctly, wrong name, problem with classpath), installing fonts on macchine without font-extension will generate pdf that does not have the font included and maybe not correctly viewed on other macchines.","body":"@nkmuturi if font-extension is not work for your font, there is a problem with the font-extension (font not included correctly, wrong name, problem with classpath), installing fonts on macchine without font-extension will generate pdf that does not have the font included and maybe not correctly viewed on other macchines."}],"tags":[],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672619074,"creation_date":1672619074,"answer_id":74978195,"question_id":74975762,"body_markdown":"Solved by adjusting the dockerfile to install the proper microsoft fonts.\r\n\r\n\r\n    FROM openjdk:17-alpine\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n     \r\n\tRUN apk add --no-cache msttcorefonts-installer fontconfig\r\n\tRUN update-ms-fonts\r\n\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\n**References:**\r\n\r\nhttps://stackoverflow.com/questions/56937689/how-to-install-fonts-in-docker","title":"Docker and Spring boot giving &quot;sun.awt.FontConfiguration.head&quot; is null","body":"<p>Solved by adjusting the dockerfile to install the proper microsoft fonts.</p>\n<pre><code>FROM openjdk:17-alpine\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n \nRUN apk add --no-cache msttcorefonts-installer fontconfig\nRUN update-ms-fonts\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p><strong>References:</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/56937689/how-to-install-fonts-in-docker\">How to install fonts in Docker?</a></p>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8441,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673273508,"accepted_answer_id":74978195,"answer_count":1,"score":2,"last_activity_date":1673286767,"creation_date":1672589953,"question_id":74975762,"body_markdown":"I currently have an app built with spring boot. Im using Jasper reports. When I try to generate a report, I get the following error:\r\n\r\n&gt; java.lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\r\n        at java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1260) ~[na:na]\r\n\r\n\r\nThe application works fine on my computer, it only fails in docker.\r\n\r\nHere&#39;s my Dockerfile:\r\n\r\n    FROM openjdk:17-alpine\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n    \r\n    RUN apk update;\r\n    RUN apk add -f apt-utils;\r\n    RUN apk add -f libfreetype6;\r\n    RUN apk add --no-cache -f fontconfig;\r\n    RUN apk add -f fonts-dejavu;\r\n    RUN apk add -f msttcorefonts;\r\n    RUN apk add -f libfontconfig1;\r\n    RUN apk add -f freetype;\r\n    RUN fc-cache --force\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\nI have also added jasperreports-fonts EXTENSION in pom.xml but **THE PROBLEM CONTINUES**.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n        &lt;version&gt;6.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports-fonts --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\r\n        &lt;version&gt;6.20.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n------\r\n**Some more context**\r\n------\r\nIf I do \r\n\r\n    FROM openjdk:17-oracle\r\n    EXPOSE 10093\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} site_informativo.jar\r\n    \r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\r\n\r\n\r\nI get \r\n\r\n&gt; Font &quot;Times New Roman&quot; is not available to the JVM. See the Javadoc\r\n&gt; for more details.\r\n\r\n","title":"Docker and Spring boot giving &quot;sun.awt.FontConfiguration.head&quot; is null","body":"<p>I currently have an app built with spring boot. Im using Jasper reports. When I try to generate a report, I get the following error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot load from short array because &quot;sun.awt.FontConfiguration.head&quot; is null\nat java.desktop/sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1260) ~[na:na]</p>\n</blockquote>\n<p>The application works fine on my computer, it only fails in docker.</p>\n<p>Here's my Dockerfile:</p>\n<pre><code>FROM openjdk:17-alpine\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n\nRUN apk update;\nRUN apk add -f apt-utils;\nRUN apk add -f libfreetype6;\nRUN apk add --no-cache -f fontconfig;\nRUN apk add -f fonts-dejavu;\nRUN apk add -f msttcorefonts;\nRUN apk add -f libfontconfig1;\nRUN apk add -f freetype;\nRUN fc-cache --force\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p>I have also added jasperreports-fonts EXTENSION in pom.xml but <strong>THE PROBLEM CONTINUES</strong>.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n    &lt;version&gt;6.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/net.sf.jasperreports/jasperreports-fonts --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n    &lt;artifactId&gt;jasperreports-fonts&lt;/artifactId&gt;\n    &lt;version&gt;6.20.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2><strong>Some more context</strong></h2>\n<p>If I do</p>\n<pre><code>FROM openjdk:17-oracle\nEXPOSE 10093\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} site_informativo.jar\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/site_informativo.jar&quot;]\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Font &quot;Times New Roman&quot; is not available to the JVM. See the Javadoc\nfor more details.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1673282675,"post_id":75060414,"comment_id":132458894,"body_markdown":"Please post all the relevant code (see [mre]). Are you trying to autowire `AuthenticationManagerBuilder` somewhere in your code?","body":"Please post all the relevant code (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Are you trying to autowire <code>AuthenticationManagerBuilder</code> somewhere in your code?"},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1673283109,"post_id":75060414,"comment_id":132459034,"body_markdown":"I updated post, now there is more info.","body":"I updated post, now there is more info."}],"answers":[{"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1673284672,"post_id":75060564,"comment_id":132459601,"body_markdown":"@Cineczeq You need to keep your `SecurityFilterChain` bean (as shown in your question). Do not remove that.","body":"@Cineczeq You need to keep your <code>SecurityFilterChain</code> bean (as shown in your question). Do not remove that."},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1673285399,"post_id":75060564,"comment_id":132459854,"body_markdown":"I jus updated my post, now I have a new exception. Can you please have a look? Thanks. @Unmitigated","body":"I jus updated my post, now I have a new exception. Can you please have a look? Thanks. @Unmitigated"},{"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"score":0,"creation_date":1673286284,"post_id":75060564,"comment_id":132460158,"body_markdown":"@devwebcl I updated my post again after your update, maybe more info will be helpful. Thanks.","body":"@devwebcl I updated my post again after your update, maybe more info will be helpful. Thanks."},{"owner":{"account_id":10286878,"reputation":582,"user_id":7589862,"display_name":"Thomas Rokicki"},"score":0,"creation_date":1682350344,"post_id":75060564,"comment_id":134197439,"body_markdown":"Typically a new exception means a new problem - it would be best to create a new stack overflow questions rather than pollute this thread. If your exception was fixed please accept the answer that fixed it as correct.","body":"Typically a new exception means a new problem - it would be best to create a new stack overflow questions rather than pollute this thread. If your exception was fixed please accept the answer that fixed it as correct."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284326,"creation_date":1673283439,"answer_id":75060564,"question_id":75060414,"body_markdown":"Instead of using `AuthenticationManagerBuilder`, create a `UserDetailsService` bean.\r\n\r\n```java\r\n@Bean\r\npublic UserDetailsService users() {\r\n\tUserDetails admin = User.withUsername(&quot;admin&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;admin&quot;))\r\n\t\t.roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\r\n\tUserDetails employee = User.withUsername(&quot;employee&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;employee&quot;))\r\n\t\t.roles(&quot;EMPLOYEE&quot;).build();\r\n\tUserDetails client = User.withUsername(&quot;client&quot;)\r\n\t\t.password(passwordEncoder().encode(&quot;client&quot;))\r\n\t\t.roles(&quot;CLIENT&quot;).build();\r\n\treturn new InMemoryUserDetailsManager(admin, employee, client);\r\n}\r\n```","title":"Own login page in spring security 6. new implementation","body":"<p>Instead of using <code>AuthenticationManagerBuilder</code>, create a <code>UserDetailsService</code> bean.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic UserDetailsService users() {\n    UserDetails admin = User.withUsername(&quot;admin&quot;)\n        .password(passwordEncoder().encode(&quot;admin&quot;))\n        .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\n    UserDetails employee = User.withUsername(&quot;employee&quot;)\n        .password(passwordEncoder().encode(&quot;employee&quot;))\n        .roles(&quot;EMPLOYEE&quot;).build();\n    UserDetails client = User.withUsername(&quot;client&quot;)\n        .password(passwordEncoder().encode(&quot;client&quot;))\n        .roles(&quot;CLIENT&quot;).build();\n    return new InMemoryUserDetailsManager(admin, employee, client);\n}\n</code></pre>\n"}],"owner":{"account_id":27228981,"reputation":49,"user_id":20757012,"display_name":"Cineczeq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1956,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1673286552,"creation_date":1673282612,"question_id":75060414,"body_markdown":"I am trying to migrate my project to spring security 6. I can&#39;t use anymore &#39;extends WebSecurityConfigurerAdapter&#39;. In that case I don&#39;t know how I can rebuild my code to use my own login page.\r\nThere is old code:\r\n\r\n```\r\npackage main.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.inMemoryAuthentication()\r\n\t\t\t.withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;)\r\n\t\t\t.and()\r\n\t\t\t.withUser(&quot;employee&quot;).password(passwordEncoder().encode(&quot;employee&quot;)).roles(&quot;EMPLOYEE&quot;)\r\n\t\t\t.and()\r\n\t\t\t.withUser(&quot;client&quot;).password(passwordEncoder().encode(&quot;client&quot;)).roles(&quot;CLIENT&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.authorizeRequests()\r\n\t\t\t.antMatchers(&quot;/&quot;, &quot;/login&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t\t.loginProcessingUrl(&quot;/checkUserAccount&quot;)\r\n\t\t\t\t.defaultSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.permitAll()\r\n\t\t\t.and()\r\n\t\t\t\t.logout()\r\n\t\t\t\t.logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n\t\t\t\t.logoutSuccessUrl(&quot;/&quot;)\r\n\t\t\t\t.invalidateHttpSession(true)\r\n\t\t\t\t.permitAll();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nSo I saw in documentation that I can replace it with SecurityFilterChain method.\r\nMy code after a long time looks like:\r\n\r\n```\r\npackage main.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService users() {\r\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\r\n            .password(passwordEncoder().encode(&quot;admin&quot;))\r\n            .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\r\n        UserDetails employee = User.withUsername(&quot;employee&quot;)\r\n            .password(passwordEncoder().encode(&quot;employee&quot;))\r\n            .roles(&quot;EMPLOYEE&quot;).build();\r\n        UserDetails client = User.withUsername(&quot;client&quot;)\r\n            .password(passwordEncoder().encode(&quot;client&quot;))\r\n            .roles(&quot;CLIENT&quot;).build();\r\n        return new InMemoryUserDetailsManager(admin, employee, client);\r\n    }\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests() \r\n        .requestMatchers(&quot;/&quot;, &quot;/login&quot;)\r\n        .permitAll()\r\n        .and()\r\n            .formLogin()\r\n            .loginPage(&quot;/login&quot;)\r\n            .loginProcessingUrl(&quot;/checkUserAccount&quot;)\r\n            .defaultSuccessUrl(&quot;/&quot;)\r\n            .permitAll()\r\n        .and()\r\n            .logout()\r\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n            .invalidateHttpSession(true)\r\n            .permitAll();\r\n        return http.build();\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nbut sadly it&#39;s thrown:\r\n\r\n    &gt; \r\n    SEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in main.config.SecurityConfiguration: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: No bean named &#39;A Bean named mvcHandlerMappingIntrospector of type org.springframework.web.servlet.handler.HandlerMappingIntrospector is required to use MvcRequestMatcher. Please ensure Spring Security &amp; Spring MVC are configured in a shared ApplicationContext.&#39; available\r\n    \t\r\n\r\nI&#39;m a newbie, thanks for help. \r\n\t\r\nEdit:\r\n\r\nThere is also SecurityInitializer: \r\n\r\n     package main.config;\r\n\r\n    \r\n    import org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\r\n    \r\n    public class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\r\n    \r\n    }\r\n\r\n\r\nAnd this is my login.html:\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    \t  xmlns:th=&quot;http://www.thymeleaf.org&quot;\r\n    \t  xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Home page&lt;/title&gt;\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;http://use.fontawesome.com/releases/v5.3.1/css/all.css&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/login.css&quot;&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div class=&quot;container&quot;&gt;\r\n    \t\t&lt;div class=&quot;d-flex justify-content-center h-100&quot;&gt;\r\n    \t\t\t&lt;div class=&quot;card&quot;&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-header&quot;&gt;\r\n    \t\t\t\t\t&lt;h2&gt;Sign In&lt;/h2&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;div class=&quot;card-body&quot;&gt;\r\n    \t\t\t\t\t&lt;form action=&quot;#&quot; th:action=&quot;@{/checkUserAccount}&quot; method=&quot;post&quot;&gt;\r\n    \t\t\t\t\t\t&lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-login&quot;&gt;\r\n    \t\t\t\t\t\t\tInvalid username and password.\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t\t&lt;div class=&quot;input-group form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;input-group-prepend&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;Login&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;input-group form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;div class=&quot;input-group-prepend&quot;&gt;\r\n    \t\t\t\t\t\t\t\t&lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-key&quot;&gt;&lt;/i&gt;&lt;/span&gt;\r\n    \t\t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t\t&lt;div class=&quot;form-group&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Login&quot; class=&quot;btn login-button&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;a th:href=&quot;@{/}&quot; class=&quot;btn btn-warning float-right&quot;&gt;Back&lt;/a&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;/form&gt;\r\n    \t\t\t\t&lt;/div&gt;\r\n    \t\t\t&lt;/div&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\n\r\n\r\nEdit2: Without SecurityFilterChain it is working but obviously it&#39;s not pointing me to my own login. When i running this now I can see this: \r\n\r\n&gt; Error creating bean with name\r\n&gt; &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;:\r\n&gt; Unsatisfied dependency expressed through method &#39;setFilterChains&#39;\r\n&gt; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in\r\n&gt; main.config.SecurityConfiguration: Failed to instantiate\r\n&gt; [org.springframework.security.web.SecurityFilterChain]: Factory method\r\n&gt; &#39;filterChain&#39; threw exception with message: No bean named &#39;A Bean\r\n&gt; named mvcHandlerMappingIntrospector of type\r\n&gt; org.springframework.web.servlet.handler.HandlerMappingIntrospector is\r\n&gt; required to use MvcRequestMatcher. Please ensure Spring Security &amp;\r\n&gt; Spring MVC are configured in a shared ApplicationContext.&#39; available\r\n\r\nAlso I have those dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n\r\n\r\n","title":"Own login page in spring security 6. new implementation","body":"<p>I am trying to migrate my project to spring security 6. I can't use anymore 'extends WebSecurityConfigurerAdapter'. In that case I don't know how I can rebuild my code to use my own login page.\nThere is old code:</p>\n<pre><code>package main.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n            .inMemoryAuthentication()\n            .withUser(&quot;admin&quot;).password(passwordEncoder().encode(&quot;admin&quot;)).roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;)\n            .and()\n            .withUser(&quot;employee&quot;).password(passwordEncoder().encode(&quot;employee&quot;)).roles(&quot;EMPLOYEE&quot;)\n            .and()\n            .withUser(&quot;client&quot;).password(passwordEncoder().encode(&quot;client&quot;)).roles(&quot;CLIENT&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(&quot;/&quot;, &quot;/login&quot;)\n                .permitAll()\n            .and()\n                .formLogin()\n                .loginPage(&quot;/login&quot;)\n                .loginProcessingUrl(&quot;/checkUserAccount&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .permitAll()\n            .and()\n                .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutSuccessUrl(&quot;/&quot;)\n                .invalidateHttpSession(true)\n                .permitAll();\n    }\n    \n}\n</code></pre>\n<p>So I saw in documentation that I can replace it with SecurityFilterChain method.\nMy code after a long time looks like:</p>\n<pre><code>package main.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.factory.PasswordEncoderFactories;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.util.matcher.AntPathRequestMatcher;\n\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n    }\n\n    @Bean\n    public UserDetailsService users() {\n        UserDetails admin = User.withUsername(&quot;admin&quot;)\n            .password(passwordEncoder().encode(&quot;admin&quot;))\n            .roles(&quot;ADMIN&quot;, &quot;EMPLOYEE&quot;).build();\n        UserDetails employee = User.withUsername(&quot;employee&quot;)\n            .password(passwordEncoder().encode(&quot;employee&quot;))\n            .roles(&quot;EMPLOYEE&quot;).build();\n        UserDetails client = User.withUsername(&quot;client&quot;)\n            .password(passwordEncoder().encode(&quot;client&quot;))\n            .roles(&quot;CLIENT&quot;).build();\n        return new InMemoryUserDetailsManager(admin, employee, client);\n    }\n    \n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests() \n        .requestMatchers(&quot;/&quot;, &quot;/login&quot;)\n        .permitAll()\n        .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .loginProcessingUrl(&quot;/checkUserAccount&quot;)\n            .defaultSuccessUrl(&quot;/&quot;)\n            .permitAll()\n        .and()\n            .logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n            .logoutSuccessUrl(&quot;/&quot;)\n            .invalidateHttpSession(true)\n            .permitAll();\n        return http.build();\n    }\n\n\n}\n</code></pre>\n<p>but sadly it's thrown:</p>\n<pre><code>&gt; \nSEVERE: Exception sending context initialized event to listener instance of class [org.springframework.web.context.ContextLoaderListener]\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in main.config.SecurityConfiguration: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: No bean named 'A Bean named mvcHandlerMappingIntrospector of type org.springframework.web.servlet.handler.HandlerMappingIntrospector is required to use MvcRequestMatcher. Please ensure Spring Security &amp; Spring MVC are configured in a shared ApplicationContext.' available\n    \n</code></pre>\n<p>I'm a newbie, thanks for help.</p>\n<p>Edit:</p>\n<p>There is also SecurityInitializer:</p>\n<pre><code> package main.config;\n\n\nimport org.springframework.security.web.context.AbstractSecurityWebApplicationInitializer;\n\npublic class SecurityInitializer extends AbstractSecurityWebApplicationInitializer {\n\n}\n</code></pre>\n<p>And this is my login.html:</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;\n      xmlns:sec=&quot;http://www.thymeleaf.org/extras/spring-security&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Home page&lt;/title&gt;\n&lt;script src=&quot;https://code.jquery.com/jquery-3.4.1.slim.min.js&quot; integrity=&quot;sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js&quot; integrity=&quot;sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh&quot; crossorigin=&quot;anonymous&quot;&gt;\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n&lt;link rel=&quot;stylesheet&quot; href=&quot;http://use.fontawesome.com/releases/v5.3.1/css/all.css&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;resources/css/login.css&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;div class=&quot;d-flex justify-content-center h-100&quot;&gt;\n            &lt;div class=&quot;card&quot;&gt;\n                &lt;div class=&quot;card-header&quot;&gt;\n                    &lt;h2&gt;Sign In&lt;/h2&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;card-body&quot;&gt;\n                    &lt;form action=&quot;#&quot; th:action=&quot;@{/checkUserAccount}&quot; method=&quot;post&quot;&gt;\n                        &lt;div th:if=&quot;${param.error}&quot; class=&quot;alert alert-login&quot;&gt;\n                            Invalid username and password.\n                        &lt;/div&gt;\n                        \n                        &lt;div class=&quot;input-group form-group&quot;&gt;\n                            &lt;div class=&quot;input-group-prepend&quot;&gt;\n                                &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-user&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;username&quot; placeholder=&quot;Login&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;input-group form-group&quot;&gt;\n                            &lt;div class=&quot;input-group-prepend&quot;&gt;\n                                &lt;span class=&quot;input-group-text&quot;&gt;&lt;i class=&quot;fas fa-key&quot;&gt;&lt;/i&gt;&lt;/span&gt;\n                            &lt;/div&gt;\n                            &lt;input type=&quot;password&quot; class=&quot;form-control&quot; name=&quot;password&quot; placeholder=&quot;Password&quot;&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;form-group&quot;&gt;\n                            &lt;input type=&quot;submit&quot; value=&quot;Login&quot; class=&quot;btn login-button&quot;&gt;\n                            &lt;a th:href=&quot;@{/}&quot; class=&quot;btn btn-warning float-right&quot;&gt;Back&lt;/a&gt;\n                        &lt;/div&gt;\n                    &lt;/form&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Edit2: Without SecurityFilterChain it is working but obviously it's not pointing me to my own login. When i running this now I can see this:</p>\n<blockquote>\n<p>Error creating bean with name\n'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration':\nUnsatisfied dependency expressed through method 'setFilterChains'\nparameter 0: Error creating bean with name 'filterChain' defined in\nmain.config.SecurityConfiguration: Failed to instantiate\n[org.springframework.security.web.SecurityFilterChain]: Factory method\n'filterChain' threw exception with message: No bean named 'A Bean\nnamed mvcHandlerMappingIntrospector of type\norg.springframework.web.servlet.handler.HandlerMappingIntrospector is\nrequired to use MvcRequestMatcher. Please ensure Spring Security &amp;\nSpring MVC are configured in a shared ApplicationContext.' available</p>\n</blockquote>\n<p>Also I have those dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;6.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","maven","maven-bom"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671222363,"post_id":74828566,"comment_id":132060758,"body_markdown":"Can you explain why you need to use that property which is from the BOM file?","body":"Can you explain why you need to use that property which is from the BOM file?"},{"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"score":0,"creation_date":1671226875,"post_id":74828566,"comment_id":132061775,"body_markdown":"The property tag in the pom `&lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;` is being used in one of the classes for accessing a link populated with the retrieved version. Example: `http://example.com/${maven.test.version}`. For this am currently making use of an existing maven-resources-plugin.","body":"The property tag in the pom <code>&lt;maven.test.version&gt;${test.version}&lt;&#47;maven.test.version&gt;</code> is being used in one of the classes for accessing a link populated with the retrieved version. Example: <code>http:&#47;&#47;example.com&#47;${maven.test.version}</code>. For this am currently making use of an existing maven-resources-plugin."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671274366,"post_id":74828566,"comment_id":132067180,"body_markdown":"Why do you need to access a version within a java class?","body":"Why do you need to access a version within a java class?"},{"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"score":0,"creation_date":1671380610,"post_id":74828566,"comment_id":132082697,"body_markdown":"for documentation purposes.","body":"for documentation purposes."}],"answers":[{"tags":[],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673286447,"creation_date":1673286447,"answer_id":75061120,"question_id":74828566,"body_markdown":"I did find this plugin https://gitlab.com/josh-cain/dependencyversion-maven-plugin. \r\n\r\nThis did the job of getting the dependency version from the pom that was getting imported. \r\n\r\nSo using this plugin, now I am able to directly access the version of the dependency which was getting exported as a property using this plugin.\r\n\r\nUsed the below snippet in the code.\r\n\r\n`${group2:artifact2.jar.version}`","title":"Accessing a property from a management pom","body":"<p>I did find this plugin <a href=\"https://gitlab.com/josh-cain/dependencyversion-maven-plugin\" rel=\"nofollow noreferrer\">https://gitlab.com/josh-cain/dependencyversion-maven-plugin</a>.</p>\n<p>This did the job of getting the dependency version from the pom that was getting imported.</p>\n<p>So using this plugin, now I am able to directly access the version of the dependency which was getting exported as a property using this plugin.</p>\n<p>Used the below snippet in the code.</p>\n<p><code>${group2:artifact2.jar.version}</code></p>\n"}],"owner":{"account_id":11298916,"reputation":382,"user_id":8285537,"display_name":"John"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673286447,"creation_date":1671215964,"question_id":74828566,"body_markdown":"In our project, we use a dependency-management pom which is imported into another maven project&#39;s pom. The dependency management pom has some properties. Is there a way to access the properties from the dependency management pom?\r\n\r\nAlso, I looked at other options. Having the dependency-management pom as a parent pom, but the maven project&#39;s pom already has a parent pom declared so that is not an option.\r\n\r\nUsing [properties-maven-plugin][1], but I am not sure how to access the property from another pom using this plugin.\r\n\r\nBelow is the structure am working with.\r\n\r\n** dependency-management pom:\r\n\r\n```\r\n&lt;project&gt;\r\n\t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n\t&lt;groupId&gt;group1&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;artifact1&lt;/artifactId&gt;\r\n\t&lt;name&gt;management-pom&lt;/name&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;test.version&gt;0.2&lt;/test.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;group2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;artifact2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${test.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n     &lt;dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n** pom where dependency-management pom is imported:\r\n```\r\n&lt;project&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;groupId&gt;group3&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;artifact3&lt;/artifactId&gt;\r\n\t&lt;name&gt;war-pom&lt;/name&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t&lt;properties&gt;\r\n        &lt;!--how to access the dependency-management pom&#39;s properties here?--&gt;\r\n\t\t&lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;group2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;artifact2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;group1&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;artifact1&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n        &lt;dependencies&gt;\r\n     &lt;dependencyManagement&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe closest question I found was https://stackoverflow.com/questions/50698654/access-maven-property-using-dependency-management which was asked 4 years ago and it did not have an answer that I was looking for.\r\n\r\nAny help is much appreciated.\r\n\r\n\r\n  [1]: https://www.mojohaus.org/properties-maven-plugin/usage.html","title":"Accessing a property from a management pom","body":"<p>In our project, we use a dependency-management pom which is imported into another maven project's pom. The dependency management pom has some properties. Is there a way to access the properties from the dependency management pom?</p>\n<p>Also, I looked at other options. Having the dependency-management pom as a parent pom, but the maven project's pom already has a parent pom declared so that is not an option.</p>\n<p>Using <a href=\"https://www.mojohaus.org/properties-maven-plugin/usage.html\" rel=\"nofollow noreferrer\">properties-maven-plugin</a>, but I am not sure how to access the property from another pom using this plugin.</p>\n<p>Below is the structure am working with.</p>\n<p>** dependency-management pom:</p>\n<pre><code>&lt;project&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;groupId&gt;group1&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact1&lt;/artifactId&gt;\n    &lt;name&gt;management-pom&lt;/name&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;test.version&gt;0.2&lt;/test.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;group2&lt;/groupId&gt;\n                &lt;artifactId&gt;artifact2&lt;/artifactId&gt;\n                &lt;version&gt;${test.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n     &lt;dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>** pom where dependency-management pom is imported:</p>\n<pre><code>&lt;project&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;groupId&gt;group3&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact3&lt;/artifactId&gt;\n    &lt;name&gt;war-pom&lt;/name&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;!--how to access the dependency-management pom's properties here?--&gt;\n        &lt;maven.test.version&gt;${test.version}&lt;/maven.test.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;group2&lt;/groupId&gt;\n            &lt;artifactId&gt;artifact2&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;group1&lt;/groupId&gt;\n                &lt;artifactId&gt;artifact1&lt;/artifactId&gt;\n                &lt;version&gt;0.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;dependencies&gt;\n     &lt;dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The closest question I found was <a href=\"https://stackoverflow.com/questions/50698654/access-maven-property-using-dependency-management\">Access maven property using dependency management</a> which was asked 4 years ago and it did not have an answer that I was looking for.</p>\n<p>Any help is much appreciated.</p>\n"},{"tags":["java","json","org.json"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673301496,"post_id":75060066,"comment_id":132464380,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75060066/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":4292723,"reputation":16,"user_id":3508630,"display_name":"Sakuragi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673280881,"creation_date":1673280881,"answer_id":75060066,"question_id":75059737,"body_markdown":"Try this instead:\r\n\r\n    JSONObject JSON = new JSONObject(content1.toString());\r\n    JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\r\n    for(int i = 0; i&lt;data.length(); i++) {\r\n      JSONObject ply = data.getJSONObject(i);\r\n      System.out.println(ply.toString());\r\n    }\r\n","title":"Accessing Nested Elements of JSON in Java","body":"<p>Try this instead:</p>\n<pre><code>JSONObject JSON = new JSONObject(content1.toString());\nJSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\nfor(int i = 0; i&lt;data.length(); i++) {\n  JSONObject ply = data.getJSONObject(i);\n  System.out.println(ply.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27479170,"reputation":1,"user_id":20966575,"display_name":"Josh Lukin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285821,"creation_date":1673285821,"answer_id":75061017,"question_id":75059737,"body_markdown":"It turns out I just have to access the particular element in one line:\r\n\r\n    JSONObject JSON = new JSONObject(content1.toString());\r\n        JSONArray data = JSON.getJSONArray(&quot;data&quot;);\r\n        for(int z = 0; z&lt;data.length(); z++)\r\n        {\r\n          //JSONObject ply = new JSONObject(data.getJSONObject(z));\r\n          String name = data.getJSONObject(z).getString(&quot;skaterFullName&quot;);\r\n          System.out.println(name);\r\n        }","title":"Accessing Nested Elements of JSON in Java","body":"<p>It turns out I just have to access the particular element in one line:</p>\n<pre><code>JSONObject JSON = new JSONObject(content1.toString());\n    JSONArray data = JSON.getJSONArray(&quot;data&quot;);\n    for(int z = 0; z&lt;data.length(); z++)\n    {\n      //JSONObject ply = new JSONObject(data.getJSONObject(z));\n      String name = data.getJSONObject(z).getString(&quot;skaterFullName&quot;);\n      System.out.println(name);\n    }\n</code></pre>\n"}],"owner":{"account_id":27479170,"reputation":1,"user_id":20966575,"display_name":"Josh Lukin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673285821,"creation_date":1673279333,"question_id":75059737,"body_markdown":"I have a java project in which I take a JSON and read its contents. I&#39;m using org.json libraries and I would like to iterate through JSONObjects which are nested in a JSONArray, which is nested in a JSONObject. I keep getting this error though: JSONArray initial value should be a string or collection or array. I&#39;m specifically getting the JSON from a web source, but here is an example of one: [`http://jsonblob.com/1062033947625799680`](http://jsonblob.com/1062033947625799680)\r\nI&#39;m particularly concerned about the fact that each player profile is unnamed, but there may be a simple fix for that.\r\n\r\nI&#39;d like to get access to each player profile and here is what I have that is causing an error:\r\n\r\n```\r\nimport org.json.*;\r\nJSONObject JSON = new JSONObject(content1.toString());\r\n        JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\r\n        for(int z = 1; i&lt;data.length(); i++)\r\n        {\r\n          JSONObject ply = new JSONObject(data.getJSONObject(z));\r\n          System.out.println(ply.toString());\r\n        }\r\n```\r\n\r\nI have a feeling I just don&#39;t fully understand the terminology of JSON and/or the library that I&#39;m using, but any help is appreciated.","title":"Accessing Nested Elements of JSON in Java","body":"<p>I have a java project in which I take a JSON and read its contents. I'm using org.json libraries and I would like to iterate through JSONObjects which are nested in a JSONArray, which is nested in a JSONObject. I keep getting this error though: JSONArray initial value should be a string or collection or array. I'm specifically getting the JSON from a web source, but here is an example of one: <a href=\"http://jsonblob.com/1062033947625799680\" rel=\"nofollow noreferrer\"><code>http://jsonblob.com/1062033947625799680</code></a>\nI'm particularly concerned about the fact that each player profile is unnamed, but there may be a simple fix for that.</p>\n<p>I'd like to get access to each player profile and here is what I have that is causing an error:</p>\n<pre><code>import org.json.*;\nJSONObject JSON = new JSONObject(content1.toString());\n        JSONArray data = new JSONArray(JSON.getJSONArray(&quot;data&quot;));\n        for(int z = 1; i&lt;data.length(); i++)\n        {\n          JSONObject ply = new JSONObject(data.getJSONObject(z));\n          System.out.println(ply.toString());\n        }\n</code></pre>\n<p>I have a feeling I just don't fully understand the terminology of JSON and/or the library that I'm using, but any help is appreciated.</p>\n"},{"tags":["java","eclipse","javadoc","comments"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1350070005,"post_id":12865723,"comment_id":17414951,"body_markdown":"These are quite self-explanatory. Are you sure that you need extra info for each of them?","body":"These are quite self-explanatory. Are you sure that you need extra info for each of them?"}],"answers":[{"comments":[{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1350070929,"post_id":12865825,"comment_id":17415325,"body_markdown":"Out of curiosity, Why was it censored?","body":"Out of curiosity, Why was it censored?"}],"tags":[],"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1350070839,"creation_date":1350070148,"answer_id":12865825,"question_id":12865723,"body_markdown":"    //singleLineComment\r\n\r\n    /*multiple\r\n      line\r\n      comment*/\r\n\r\n    //TODO commentTaskTag\r\n    //FIXME commentTaskTag\r\n    //XXX commentTaskTag\r\n\r\n    /**\r\n     * javadoc\r\n     *\r\n     */\r\n\r\n    /**\r\n     * javadocLink\r\n     * {@link}\r\n     */\r\n \r\n    /**\r\n     * javadocTag\r\n     * &lt;a href=&quot;&quot; /&gt;\r\n     */\r\n\r\n    /**\r\n     * javadocKeyword\r\n     * @author Jagger\r\n     */","title":"What is the difference between the Eclipse comment types?","body":"<pre><code>//singleLineComment\n\n/*multiple\n  line\n  comment*/\n\n//TODO commentTaskTag\n//FIXME commentTaskTag\n//XXX commentTaskTag\n\n/**\n * javadoc\n *\n */\n\n/**\n * javadocLink\n * {@link}\n */\n\n/**\n * javadocTag\n * &lt;a href=\"\" /&gt;\n */\n\n/**\n * javadocKeyword\n * @author Jagger\n */\n</code></pre>\n"}],"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1100,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1350084400,"accepted_answer_id":12865825,"answer_count":1,"score":4,"last_activity_date":1673285565,"creation_date":1350069708,"question_id":12865723,"body_markdown":"I am building a nice color scheme at [Eclipse Color Themes][1] (which greatly enhances the Eclipse experience, thank you very much!).  And I see that there are many different comment types.  I understand some of them, but would like to find a definitive description of the varying comment types.  Here they are:\r\n\r\n - singleLineComment\r\n - multiLineComment\r\n - commentTaskTag\r\n - javadoc\r\n - javadocLink\r\n - javadocTag\r\n - javadocKeyword\r\n\r\nIf anyone knows of a link to a place that describes the important features/aspects of these different comment types, please let me know (google search was **very** unsatisfactory).  Thanks!\r\n\r\n  [1]: http://eclipsecolorthemes.org/","title":"What is the difference between the Eclipse comment types?","body":"<p>I am building a nice color scheme at <a href=\"http://eclipsecolorthemes.org/\" rel=\"nofollow\">Eclipse Color Themes</a> (which greatly enhances the Eclipse experience, thank you very much!).  And I see that there are many different comment types.  I understand some of them, but would like to find a definitive description of the varying comment types.  Here they are:</p>\n\n<ul>\n<li>singleLineComment</li>\n<li>multiLineComment</li>\n<li>commentTaskTag</li>\n<li>javadoc</li>\n<li>javadocLink</li>\n<li>javadocTag</li>\n<li>javadocKeyword</li>\n</ul>\n\n<p>If anyone knows of a link to a place that describes the important features/aspects of these different comment types, please let me know (google search was <strong>very</strong> unsatisfactory).  Thanks!</p>\n"},{"tags":["java","amazon-web-services","spring-boot","jwt","amazon-elastic-beanstalk"],"owner":{"account_id":19254744,"reputation":1,"user_id":14071930,"display_name":"Muhammad Munib Ur Rehman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673285461,"creation_date":1673267125,"question_id":75057249,"body_markdown":"I am working on a Spring Boot Application which is deployed on AWS Elastic Beanstalk. I implemented JWT Authentication where we pass Authorization key in header with Bearer token. The problem is; when we run it locally, it works but on elastic beanstalk, Authorization header is dropped and I get Nptr exception.\r\n\r\n\r\n**when I run the application locally and send request from Postman, I get these headers in the application:**\r\n\r\nHttp Request Headers:\r\n\r\n - **authorization: Bearer &lt;jwt-token&gt;**\r\n - user-agent: PostmanRuntime/7.30.0\r\n - accept: */*\r\n - postman-token: &lt;token&gt;\r\n - host: localhost:8080\r\n - accept-encoding: gzip, deflate, br\r\n - connection: keep-alive\r\n - cookie: &lt;token&gt;\r\n\r\n**But**\r\nWhen I deploy it on Elastic Beanstalk and send request from Postman, I get the following headers except **Authorization** header that&#39;s required to store jwt-token.\r\n\r\n - connection: upgrade\r\n - host: 172.31.27.65\r\n - x-real-ip: 172.31.44.173\r\n - x-forwarded-for: 172.31.44.173\r\n - user-agent: ELB-HealthChecker/2.0\r\n - accept-encoding: gzip, compressed\r\n\r\nIt seems like Elastic Application Load Balancer is dropping original request headers and instead adding its headers in the request.","title":"Null Http Request Header &#39;Authorization&#39; Value in spring boot application when deployed on Elastic Beanstalk","body":"<p>I am working on a Spring Boot Application which is deployed on AWS Elastic Beanstalk. I implemented JWT Authentication where we pass Authorization key in header with Bearer token. The problem is; when we run it locally, it works but on elastic beanstalk, Authorization header is dropped and I get Nptr exception.</p>\n<p><strong>when I run the application locally and send request from Postman, I get these headers in the application:</strong></p>\n<p>Http Request Headers:</p>\n<ul>\n<li><strong>authorization: Bearer </strong></li>\n<li>user-agent: PostmanRuntime/7.30.0</li>\n<li>accept: <em>/</em></li>\n<li>postman-token: </li>\n<li>host: localhost:8080</li>\n<li>accept-encoding: gzip, deflate, br</li>\n<li>connection: keep-alive</li>\n<li>cookie: </li>\n</ul>\n<p><strong>But</strong>\nWhen I deploy it on Elastic Beanstalk and send request from Postman, I get the following headers except <strong>Authorization</strong> header that's required to store jwt-token.</p>\n<ul>\n<li>connection: upgrade</li>\n<li>host: 172.31.27.65</li>\n<li>x-real-ip: 172.31.44.173</li>\n<li>x-forwarded-for: 172.31.44.173</li>\n<li>user-agent: ELB-HealthChecker/2.0</li>\n<li>accept-encoding: gzip, compressed</li>\n</ul>\n<p>It seems like Elastic Application Load Balancer is dropping original request headers and instead adding its headers in the request.</p>\n"},{"tags":["java","android","android-studio","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":26814613,"reputation":1,"user_id":20404727,"display_name":"sourav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285429,"creation_date":1673285429,"answer_id":75060953,"question_id":75049345,"body_markdown":"add this dependency and check \r\n\r\nimplementation &#39;com.firebaseui:firebase-ui-database:4.3.2&#39; ","title":"Cannot resolve symbol FirebaseRecyclerOptions","body":"<p>add this dependency and check</p>\n<p>implementation 'com.firebaseui:firebase-ui-database:4.3.2'</p>\n"}],"owner":{"account_id":26021170,"reputation":132,"user_id":19728854,"display_name":"RIZWAN ALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673285429,"creation_date":1673194329,"question_id":75049345,"body_markdown":"I am creating app for my semester project where I use firebase as backend and trying to fetch data from the firebase realtime database but the issue i am facing is that i am using recycle view inside fragment and and when I pasted code from firebase documents its not importing the relative imports and keep giving `cannot resolve error`.\r\n\r\nHere is my fragment class code:\r\n\r\n    public class homeFragrment extends Fragment {\r\n    \r\n      View view;\r\n      RecyclerView recyclerView;\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            view= inflater.inflate(R.layout.fragment_home_fragrment, container, false);\r\n            ImageSlider imageSlider=view.findViewById(R.id.imageSlider);\r\n            recyclerView=view.findViewById(R.id.recview);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n            ArrayList&lt;SlideModel&gt; slideModels=new ArrayList&lt;&gt;();\r\n            slideModels.add(new SlideModel(R.drawable.f, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.s, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.t, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.fo, ScaleTypes.FIT));\r\n            slideModels.add(new SlideModel(R.drawable.fi, ScaleTypes.FIT));\r\n            imageSlider.setImageList(slideModels,ScaleTypes.FIT);\r\n    \r\n            FirebaseRecyclerOptions&lt;model&gt; options =\r\n                    new FirebaseRecyclerOptions.Builder&lt;model&gt;()\r\n                            .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;), model.class)\r\n                            .build();\r\n            return view;\r\n        }\r\n    }\r\n\r\nHere is my build.gradle file looks like:\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.hostelmanagement&#39;\r\n        compileSdk 32\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.hostelmanagement&quot;\r\n            minSdk 21\r\n            targetSdk 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n        implementation &#39;com.google.android.material:material:x.x.x&#39;\r\n        implementation &#39;com.github.denzcoskun:ImageSlideshow:0.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    \r\n    }\r\n\r\n\r\nI also watched a tutorial those guys are also getting auto import but for me it hot happening how to overcome this problem?\r\nThanks in advance.","title":"Cannot resolve symbol FirebaseRecyclerOptions","body":"<p>I am creating app for my semester project where I use firebase as backend and trying to fetch data from the firebase realtime database but the issue i am facing is that i am using recycle view inside fragment and and when I pasted code from firebase documents its not importing the relative imports and keep giving <code>cannot resolve error</code>.</p>\n<p>Here is my fragment class code:</p>\n<pre><code>public class homeFragrment extends Fragment {\n\n  View view;\n  RecyclerView recyclerView;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        view= inflater.inflate(R.layout.fragment_home_fragrment, container, false);\n        ImageSlider imageSlider=view.findViewById(R.id.imageSlider);\n        recyclerView=view.findViewById(R.id.recview);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n        ArrayList&lt;SlideModel&gt; slideModels=new ArrayList&lt;&gt;();\n        slideModels.add(new SlideModel(R.drawable.f, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.s, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.t, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.fo, ScaleTypes.FIT));\n        slideModels.add(new SlideModel(R.drawable.fi, ScaleTypes.FIT));\n        imageSlider.setImageList(slideModels,ScaleTypes.FIT);\n\n        FirebaseRecyclerOptions&lt;model&gt; options =\n                new FirebaseRecyclerOptions.Builder&lt;model&gt;()\n                        .setQuery(FirebaseDatabase.getInstance().getReference().child(&quot;Rooms&quot;), model.class)\n                        .build();\n        return view;\n    }\n}\n</code></pre>\n<p>Here is my build.gradle file looks like:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.hostelmanagement'\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.example.hostelmanagement&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.android.material:material:x.x.x'\n    implementation 'com.github.denzcoskun:ImageSlideshow:0.1.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n\n}\n</code></pre>\n<p>I also watched a tutorial those guys are also getting auto import but for me it hot happening how to overcome this problem?\nThanks in advance.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":26205404,"reputation":61,"user_id":19885064,"display_name":"Michał Mańkowski"},"score":0,"creation_date":1673341676,"post_id":75060894,"comment_id":132471388,"body_markdown":"o wow @Axel Richter great answer! Thank you very much!","body":"o wow @Axel Richter great answer! Thank you very much!"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673285072,"creation_date":1673285072,"answer_id":75060894,"question_id":75056046,"body_markdown":"This seems to be a bug in [Picture.resize(double scaleX, double scaleY)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-double-) and [Picture.resize(double scale)](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-) when either `ClientAnchor.Col1` or `ClientAnchor.Row1` or both are 0. It works when both of the top left anchor cell indexes are greater than 0.\r\n\r\nA workaround is to use `Picture.resize()` first, before resizing with scale. `Picture.resize()` first calculates the bottom right anchor position to fit the full native picture size. After that `Picture.resize(double scaleX, double scaleY)` works properly.\r\n\r\n    ...\r\n            anchor.setCol1(0);\r\n            anchor.setRow1(0);\r\n            final Picture pict = drawing.createPicture( anchor, pictureIndex );\r\n            pict.resize();\r\n            pict.resize(0.1, 0.1);\r\n    ...","title":"Resize Image on workbook sheet does not work in apache poi","body":"<p>This seems to be a bug in <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-double-\" rel=\"nofollow noreferrer\">Picture.resize(double scaleX, double scaleY)</a> and <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Picture.html#resize-double-\" rel=\"nofollow noreferrer\">Picture.resize(double scale)</a> when either <code>ClientAnchor.Col1</code> or <code>ClientAnchor.Row1</code> or both are 0. It works when both of the top left anchor cell indexes are greater than 0.</p>\n<p>A workaround is to use <code>Picture.resize()</code> first, before resizing with scale. <code>Picture.resize()</code> first calculates the bottom right anchor position to fit the full native picture size. After that <code>Picture.resize(double scaleX, double scaleY)</code> works properly.</p>\n<pre><code>...\n        anchor.setCol1(0);\n        anchor.setRow1(0);\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\n        pict.resize();\n        pict.resize(0.1, 0.1);\n...\n</code></pre>\n"}],"owner":{"account_id":26205404,"reputation":61,"user_id":19885064,"display_name":"Michał Mańkowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1673285072,"creation_date":1673260667,"question_id":75056046,"body_markdown":"i am using newest apache poi dependency and want to resize image (to not have it so so big after workbook opened):\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n1) I created new workbook as .xlsm and didnt change default font (it is Calibri 11 px) according to documentation. \r\n2) downloaded image from pexels: [Link To Pexels Image](https://www.pexels.com/pl-pl/zdjecie/natura-srodowisko-widok-z-lotu-ptaka-zdjecie-lotnicze-12850802/)\r\n3) used code like here:\r\n\r\n```\r\nimport org.apache.commons.compress.utils.IOUtils;\r\nimport org.apache.poi.ss.usermodel.*;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n\r\nimport java.io.*;\r\n\r\npublic class ImageResizer {\r\n\r\n    public static  void main (String[] args) throws IOException {\r\n        ImageResizer resizer = new ImageResizer();\r\n    }\r\n    public ImageResizer() throws IOException {\r\n        InputStream inputStream;\r\n        XSSFWorkbook workbook = null;\r\n        XSSFSheet sheet = null;\r\n        Cell cell = null;\r\n        XSSFRow sheetRow = null;\r\n\r\n        try {\r\n            File myFile = new File(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage.xlsm&quot;);\r\n            FileInputStream fis = new FileInputStream(myFile);\r\n            workbook = new XSSFWorkbook (fis);\r\n            fis.close();\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        sheet = workbook.getSheetAt(0);\r\n\r\n        FileInputStream stream = null;\r\n        try {\r\n            stream = new FileInputStream( &quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\pexels-yura-forrat-12850802.jpg&quot; );\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        CreationHelper helper = workbook.getCreationHelper();\r\n        Drawing drawing = sheet.createDrawingPatriarch();\r\n\r\n        ClientAnchor anchor = helper.createClientAnchor();\r\n        final int pictureIndex = workbook.addPicture( stream, Workbook.PICTURE_TYPE_JPEG);\r\n        stream.close();\r\n\r\n        anchor.setCol1( 0 );\r\n        anchor.setRow1( 0);\r\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\r\n        pict.resize(0.1,0.1);\r\n\r\n        FileOutputStream os = new FileOutputStream(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage_Saved.xlsm&quot;);\r\n        workbook.write(os);\r\n        os.close();\r\n        System.out.println(&quot;Done!&quot;);\r\n\r\n        }\r\n\r\n    }\r\n```\r\nAnd pict.resize(0.1, 0.1) method is making my picture very, very small (inside cell is only barely seen dot). I tried also with 0.5, 0.9 and even 2.0 but result is all the same.\r\nWhy? What can i do to resize picture? \r\n\r\nBest,\r\nMichal\r\n\r\n\r\n\r\n","title":"Resize Image on workbook sheet does not work in apache poi","body":"<p>i am using newest apache poi dependency and want to resize image (to not have it so so big after workbook opened):</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ol>\n<li>I created new workbook as .xlsm and didnt change default font (it is Calibri 11 px) according to documentation.</li>\n<li>downloaded image from pexels: <a href=\"https://www.pexels.com/pl-pl/zdjecie/natura-srodowisko-widok-z-lotu-ptaka-zdjecie-lotnicze-12850802/\" rel=\"nofollow noreferrer\">Link To Pexels Image</a></li>\n<li>used code like here:</li>\n</ol>\n<pre><code>import org.apache.commons.compress.utils.IOUtils;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.*;\n\npublic class ImageResizer {\n\n    public static  void main (String[] args) throws IOException {\n        ImageResizer resizer = new ImageResizer();\n    }\n    public ImageResizer() throws IOException {\n        InputStream inputStream;\n        XSSFWorkbook workbook = null;\n        XSSFSheet sheet = null;\n        Cell cell = null;\n        XSSFRow sheetRow = null;\n\n        try {\n            File myFile = new File(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage.xlsm&quot;);\n            FileInputStream fis = new FileInputStream(myFile);\n            workbook = new XSSFWorkbook (fis);\n            fis.close();\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n        sheet = workbook.getSheetAt(0);\n\n        FileInputStream stream = null;\n        try {\n            stream = new FileInputStream( &quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\pexels-yura-forrat-12850802.jpg&quot; );\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n        CreationHelper helper = workbook.getCreationHelper();\n        Drawing drawing = sheet.createDrawingPatriarch();\n\n        ClientAnchor anchor = helper.createClientAnchor();\n        final int pictureIndex = workbook.addPicture( stream, Workbook.PICTURE_TYPE_JPEG);\n        stream.close();\n\n        anchor.setCol1( 0 );\n        anchor.setRow1( 0);\n        final Picture pict = drawing.createPicture( anchor, pictureIndex );\n        pict.resize(0.1,0.1);\n\n        FileOutputStream os = new FileOutputStream(&quot;C:\\\\Users\\\\Luke\\\\Downloads\\\\TestWorkbook_AddingImage_Saved.xlsm&quot;);\n        workbook.write(os);\n        os.close();\n        System.out.println(&quot;Done!&quot;);\n\n        }\n\n    }\n</code></pre>\n<p>And pict.resize(0.1, 0.1) method is making my picture very, very small (inside cell is only barely seen dot). I tried also with 0.5, 0.9 and even 2.0 but result is all the same.\nWhy? What can i do to resize picture?</p>\n<p>Best,\nMichal</p>\n"},{"tags":["java","android","android-recyclerview","exoplayer"],"answers":[{"comments":[{"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"score":0,"creation_date":1673238134,"post_id":75046067,"comment_id":132445463,"body_markdown":"Thanks for suggestion. First of all please suggest in Java. Second thing the Exoplayer instance is used in adapter class, so how to access that in activity or fragment. In above code the exoplayer instance is used in ViewPager which is in Activity or fragment.","body":"Thanks for suggestion. First of all please suggest in Java. Second thing the Exoplayer instance is used in adapter class, so how to access that in activity or fragment. In above code the exoplayer instance is used in ViewPager which is in Activity or fragment."},{"owner":{"account_id":17686219,"reputation":19,"user_id":12839091,"display_name":"monjur"},"score":0,"creation_date":1673244588,"post_id":75046067,"comment_id":132446296,"body_markdown":"Please provide your existing code of fragment/activity adapter and viewHolder class .it will be easier to get the solution. Thanks","body":"Please provide your existing code of fragment/activity adapter and viewHolder class .it will be easier to get the solution. Thanks"}],"tags":[],"owner":{"account_id":17686219,"reputation":19,"user_id":12839091,"display_name":"monjur"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673162105,"creation_date":1673162105,"answer_id":75046067,"question_id":75045996,"body_markdown":"You can use **addOnPageChangeListener** for getting the user interaction for the view pager. add this code snippet in the onCreate method.In my project ,I handle it like this ::\r\n\r\n      binding!!.mediaViewPager.addOnPageChangeListener(object : OnPageChangeListener {\r\n    \r\n                    override fun onPageScrolled(\r\n                        position: Int,\r\n                        positionOffset: Float,\r\n                        positionOffsetPixels: Int\r\n                    ) {\r\n                        if (exoPlayer.isPlaying) {\r\n    \r\n                            exoPlayer.pause()\r\n    \r\n    \r\n                        }\r\n    \r\n                    }\r\n    \r\n                    override fun onPageSelected(position: Int) {\r\n                      \r\n                            if (exoPlayer.isPlaying) {\r\n                                exoPlayer.pause()\r\n                            }\r\n                           \r\n    \r\n                        \r\n    \r\n                    }\r\n    \r\n                    override fun onPageScrollStateChanged(state: Int) {\r\n                      \r\n    \r\n                        exoPlayer.pause()\r\n                       \r\n    \r\n                    }\r\n                })\r\n\r\n","title":"How to manage exoplayer with java in android studio?","body":"<p>You can use <strong>addOnPageChangeListener</strong> for getting the user interaction for the view pager. add this code snippet in the onCreate method.In my project ,I handle it like this ::</p>\n<pre><code>  binding!!.mediaViewPager.addOnPageChangeListener(object : OnPageChangeListener {\n\n                override fun onPageScrolled(\n                    position: Int,\n                    positionOffset: Float,\n                    positionOffsetPixels: Int\n                ) {\n                    if (exoPlayer.isPlaying) {\n\n                        exoPlayer.pause()\n\n\n                    }\n\n                }\n\n                override fun onPageSelected(position: Int) {\n                  \n                        if (exoPlayer.isPlaying) {\n                            exoPlayer.pause()\n                        }\n                       \n\n                    \n\n                }\n\n                override fun onPageScrollStateChanged(state: Int) {\n                  \n\n                    exoPlayer.pause()\n                   \n\n                }\n            })\n</code></pre>\n"}],"owner":{"account_id":21584472,"reputation":690,"user_id":15915172,"display_name":"Rakesh Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673285063,"creation_date":1673161104,"question_id":75045996,"body_markdown":"I am searching Exoplayer using with ViewPager in java but can not find the full tutorial.\r\n\r\nI have issue for stopping and pausing exoplayer while swiping another video. \r\nIs there any tutorial please suggest me.\r\n\r\nAdapter.java\r\n\r\n            package com.daasuu.gpuvideoandroid.Adapter;\r\n        \r\n        import android.content.Context;\r\n        import android.content.Intent;\r\n        import android.util.Log;\r\n        import android.view.LayoutInflater;\r\n        import android.view.View;\r\n        import android.view.ViewGroup;\r\n        import androidx.databinding.DataBindingUtil;\r\n        import androidx.recyclerview.widget.RecyclerView;\r\n        import com.daasuu.gpuvideoandroid.Activity.OtherUser.OtherUserProfileActivity;\r\n        import com.daasuu.gpuvideoandroid.Model.MainVideoDataModel;\r\n        import com.daasuu.gpuvideoandroid.R;\r\n        import com.daasuu.gpuvideoandroid.Utils.VideoCache;\r\n        import com.daasuu.gpuvideoandroid.databinding.ItemMainVideoBinding;\r\n        import com.google.android.exoplayer2.ExoPlayer;\r\n        import com.google.android.exoplayer2.MediaItem;\r\n        import com.google.android.exoplayer2.Player;\r\n        import com.google.android.exoplayer2.SimpleExoPlayer;\r\n        import com.google.android.exoplayer2.source.ProgressiveMediaSource;\r\n        import com.google.android.exoplayer2.ui.PlayerView;\r\n        import com.google.android.exoplayer2.ui.StyledPlayerView;\r\n        import com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\r\n        import com.google.android.exoplayer2.upstream.cache.CacheDataSource;\r\n        \r\n        import java.util.List;\r\n        \r\n        public class MainVideoAdapter2 extends RecyclerView.Adapter&lt;MainVideoAdapter2.MyViewHolder&gt; {\r\n            private Context context;\r\n            private List&lt;MainVideoDataModel&gt; data;\r\n            private boolean likeFlag = false;\r\n            private boolean followFlag = false;\r\n            private boolean isPlaying = false;\r\n            ExoPlayer exoplayer;\r\n            StyledPlayerView styledPlayerView;\r\n        \r\n            public MainVideoAdapter2(Context context, List&lt;MainVideoDataModel&gt; data) {\r\n            this.context = context;\r\n            this.data = data;\r\n            }\r\n        \r\n            @Override\r\n            public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n                ItemMainVideoBinding binding = DataBindingUtil.inflate(LayoutInflater.from(context), R.layout.item_main_video, parent, false);\r\n                return new MyViewHolder(binding);\r\n            }\r\n        \r\n            @Override\r\n            public void onBindViewHolder(MainVideoAdapter2.MyViewHolder holder, int position) {\r\n                MainVideoDataModel model = data.get(position);\r\n                holder.setExoplayerStyled(model.getVideo_url());\r\n        \r\n            }\r\n        \r\n            @Override\r\n            public int getItemCount() {\r\n                return data.size();\r\n            }\r\n        \r\n            public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\r\n                private ItemMainVideoBinding binding;\r\n        \r\n                public MyViewHolder(ItemMainVideoBinding binding) {\r\n                    super(binding.getRoot());\r\n                    this.binding = binding;\r\n        \r\n                    binding.imageUserMainVideo.setOnClickListener(this);\r\n                    binding.videoView.setOnClickListener(this);\r\n                }\r\n        \r\n                //        styled exoplayer with cache\r\n                void setExoplayerStyled(String video_url){\r\n                    binding.progressCircular.setVisibility(View.VISIBLE);\r\n                    exoplayer = new ExoPlayer.Builder(context).build();\r\n                    styledPlayerView = binding.videoStyledPlayerView;\r\n                    styledPlayerView.hideController();\r\n                    styledPlayerView.setUseController(false);\r\n        \r\n                    ProgressiveMediaSource mediaSource = new ProgressiveMediaSource.Factory(\r\n                            new CacheDataSource.Factory()\r\n                                    .setCache(VideoCache.getInstance2(context))\r\n                                    .setUpstreamDataSourceFactory(new DefaultHttpDataSource.Factory()\r\n                                            .setUserAgent(&quot;rgcache&quot;))\r\n                                    .setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\r\n                    ).createMediaSource(MediaItem.fromUri(video_url));\r\n        \r\n                    exoplayer.seekTo(0);\r\n                    exoplayer.prepare();\r\n                    exoplayer.pause();\r\n        \r\n                    styledPlayerView.setPlayer(exoplayer);\r\n                    exoplayer.setPlayWhenReady(false);\r\n        \r\n                    binding.videoStyledPlayerView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\r\n                        @Override\r\n                        public void onViewAttachedToWindow(View view) {\r\n                            styledPlayerView.setKeepScreenOn(true);\r\n                            exoplayer.addMediaSource(mediaSource);\r\n                            exoplayer.prepare();\r\n                            exoplayer.setPlayWhenReady(true);\r\n                            exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\r\n        \r\n                            if(binding.videoStyledPlayerView.getPlayer() != null) {\r\n                                binding.videoStyledPlayerView.getPlayer().play();\r\n                            }\r\n                        }\r\n                        @Override\r\n                        public void onViewDetachedFromWindow(View view) {\r\n                            binding.videoStyledPlayerView.getPlayer().stop();\r\n                            binding.videoStyledPlayerView.getPlayer().clearMediaItems();\r\n                            exoplayer.seekTo(0);\r\n                            exoplayer.setPlayWhenReady(false);\r\n                            exoplayer.stop();\r\n                            if(binding.videoStyledPlayerView.getPlayer() != null) {\r\n                                binding.videoStyledPlayerView.getPlayer().pause();\r\n                            }\r\n                        }\r\n                    });\r\n        \r\n                    //buffering\r\n                    exoplayer.addListener(new Player.Listener() {\r\n                        @Override\r\n                        public void onIsLoadingChanged(boolean isLoading) {\r\n                            Player.Listener.super.onIsLoadingChanged(isLoading);\r\n        //                    Log.e(&quot;onIsLoadingChanged&quot;, String.valueOf(isLoading));\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onPlaybackStateChanged(int playbackState) {\r\n                            Player.Listener.super.onPlaybackStateChanged(playbackState);\r\n                            Log.e(&quot;onPlaybackStateChanged&quot;, String.valueOf(playbackState));\r\n                            binding.imgVideoStop.setVisibility(View.GONE);\r\n                            if (playbackState == 3){\r\n                                binding.progressCircular.setVisibility(View.GONE);\r\n                            }\r\n                        }\r\n        \r\n                        @Override\r\n                        public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\r\n                            Player.Listener.super.onPlayWhenReadyChanged(playWhenReady, reason);\r\n                        }\r\n                    });\r\n        \r\n        //            touch listener play &amp; pause\r\n                    binding.videoStyledPlayerView.getVideoSurfaceView().setOnClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            if (isPlaying == false){\r\n                                binding.imgVideoStop.setVisibility(View.VISIBLE);\r\n                                isPlaying = true;\r\n                                exoplayer.setPlayWhenReady(false);\r\n        \r\n                            }else{\r\n                                binding.imgVideoStop.setVisibility(View.GONE);\r\n                                isPlaying = false;\r\n                                styledPlayerView.setKeepScreenOn(true);\r\n                                styledPlayerView.setPlayer(exoplayer);\r\n                                exoplayer.addMediaSource(mediaSource);\r\n                                exoplayer.prepare();\r\n                                exoplayer.setPlayWhenReady(true);\r\n                                exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n        \r\n                //on click event\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (v == binding.imageUserMainVideo) {\r\n                        context.startActivity(new Intent(context, OtherUserProfileActivity.class));\r\n                    }\r\n                    if (v == binding.videoView) {\r\n                        Log.e(&quot;isPlaying = &quot; , String.valueOf(isPlaying));\r\n                        if (isPlaying) {\r\n                            binding.videoView.pause();\r\n        //                    binding.imgVideoStop.setVisibility(View.VISIBLE);\r\n                            isPlaying = false;\r\n                        } else {\r\n                            binding.videoView.start();\r\n        //                    binding.imgVideoStop.setVisibility(View.GONE);\r\n                            isPlaying = true;\r\n                        }\r\n                    }\r\n        \r\n                }\r\n        \r\n        \r\n            }\r\n        }\r\n\r\n\r\nitem.xml\r\n\r\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n            android:id=&quot;@+id/videoStyledPlayerView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            app:animation_enabled=&quot;true&quot;/&gt;\r\n\r\n**Issues**:\r\n\r\n - After a specific position, it plays previous videos when swipe to next video.\r\n - Plays multiple videos on swipe\r\n - On swipe back(previous videos) don&#39;t stops previous video.\r\n - How to stop when to redirect another activity.\r\n\r\nPlease suggest the solution.","title":"How to manage exoplayer with java in android studio?","body":"<p>I am searching Exoplayer using with ViewPager in java but can not find the full tutorial.</p>\n<p>I have issue for stopping and pausing exoplayer while swiping another video.\nIs there any tutorial please suggest me.</p>\n<p>Adapter.java</p>\n<pre><code>        package com.daasuu.gpuvideoandroid.Adapter;\n    \n    import android.content.Context;\n    import android.content.Intent;\n    import android.util.Log;\n    import android.view.LayoutInflater;\n    import android.view.View;\n    import android.view.ViewGroup;\n    import androidx.databinding.DataBindingUtil;\n    import androidx.recyclerview.widget.RecyclerView;\n    import com.daasuu.gpuvideoandroid.Activity.OtherUser.OtherUserProfileActivity;\n    import com.daasuu.gpuvideoandroid.Model.MainVideoDataModel;\n    import com.daasuu.gpuvideoandroid.R;\n    import com.daasuu.gpuvideoandroid.Utils.VideoCache;\n    import com.daasuu.gpuvideoandroid.databinding.ItemMainVideoBinding;\n    import com.google.android.exoplayer2.ExoPlayer;\n    import com.google.android.exoplayer2.MediaItem;\n    import com.google.android.exoplayer2.Player;\n    import com.google.android.exoplayer2.SimpleExoPlayer;\n    import com.google.android.exoplayer2.source.ProgressiveMediaSource;\n    import com.google.android.exoplayer2.ui.PlayerView;\n    import com.google.android.exoplayer2.ui.StyledPlayerView;\n    import com.google.android.exoplayer2.upstream.DefaultHttpDataSource;\n    import com.google.android.exoplayer2.upstream.cache.CacheDataSource;\n    \n    import java.util.List;\n    \n    public class MainVideoAdapter2 extends RecyclerView.Adapter&lt;MainVideoAdapter2.MyViewHolder&gt; {\n        private Context context;\n        private List&lt;MainVideoDataModel&gt; data;\n        private boolean likeFlag = false;\n        private boolean followFlag = false;\n        private boolean isPlaying = false;\n        ExoPlayer exoplayer;\n        StyledPlayerView styledPlayerView;\n    \n        public MainVideoAdapter2(Context context, List&lt;MainVideoDataModel&gt; data) {\n        this.context = context;\n        this.data = data;\n        }\n    \n        @Override\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n            ItemMainVideoBinding binding = DataBindingUtil.inflate(LayoutInflater.from(context), R.layout.item_main_video, parent, false);\n            return new MyViewHolder(binding);\n        }\n    \n        @Override\n        public void onBindViewHolder(MainVideoAdapter2.MyViewHolder holder, int position) {\n            MainVideoDataModel model = data.get(position);\n            holder.setExoplayerStyled(model.getVideo_url());\n    \n        }\n    \n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n    \n        public class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n            private ItemMainVideoBinding binding;\n    \n            public MyViewHolder(ItemMainVideoBinding binding) {\n                super(binding.getRoot());\n                this.binding = binding;\n    \n                binding.imageUserMainVideo.setOnClickListener(this);\n                binding.videoView.setOnClickListener(this);\n            }\n    \n            //        styled exoplayer with cache\n            void setExoplayerStyled(String video_url){\n                binding.progressCircular.setVisibility(View.VISIBLE);\n                exoplayer = new ExoPlayer.Builder(context).build();\n                styledPlayerView = binding.videoStyledPlayerView;\n                styledPlayerView.hideController();\n                styledPlayerView.setUseController(false);\n    \n                ProgressiveMediaSource mediaSource = new ProgressiveMediaSource.Factory(\n                        new CacheDataSource.Factory()\n                                .setCache(VideoCache.getInstance2(context))\n                                .setUpstreamDataSourceFactory(new DefaultHttpDataSource.Factory()\n                                        .setUserAgent(&quot;rgcache&quot;))\n                                .setFlags(CacheDataSource.FLAG_IGNORE_CACHE_ON_ERROR)\n                ).createMediaSource(MediaItem.fromUri(video_url));\n    \n                exoplayer.seekTo(0);\n                exoplayer.prepare();\n                exoplayer.pause();\n    \n                styledPlayerView.setPlayer(exoplayer);\n                exoplayer.setPlayWhenReady(false);\n    \n                binding.videoStyledPlayerView.addOnAttachStateChangeListener(new View.OnAttachStateChangeListener() {\n                    @Override\n                    public void onViewAttachedToWindow(View view) {\n                        styledPlayerView.setKeepScreenOn(true);\n                        exoplayer.addMediaSource(mediaSource);\n                        exoplayer.prepare();\n                        exoplayer.setPlayWhenReady(true);\n                        exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\n    \n                        if(binding.videoStyledPlayerView.getPlayer() != null) {\n                            binding.videoStyledPlayerView.getPlayer().play();\n                        }\n                    }\n                    @Override\n                    public void onViewDetachedFromWindow(View view) {\n                        binding.videoStyledPlayerView.getPlayer().stop();\n                        binding.videoStyledPlayerView.getPlayer().clearMediaItems();\n                        exoplayer.seekTo(0);\n                        exoplayer.setPlayWhenReady(false);\n                        exoplayer.stop();\n                        if(binding.videoStyledPlayerView.getPlayer() != null) {\n                            binding.videoStyledPlayerView.getPlayer().pause();\n                        }\n                    }\n                });\n    \n                //buffering\n                exoplayer.addListener(new Player.Listener() {\n                    @Override\n                    public void onIsLoadingChanged(boolean isLoading) {\n                        Player.Listener.super.onIsLoadingChanged(isLoading);\n    //                    Log.e(&quot;onIsLoadingChanged&quot;, String.valueOf(isLoading));\n                    }\n    \n                    @Override\n                    public void onPlaybackStateChanged(int playbackState) {\n                        Player.Listener.super.onPlaybackStateChanged(playbackState);\n                        Log.e(&quot;onPlaybackStateChanged&quot;, String.valueOf(playbackState));\n                        binding.imgVideoStop.setVisibility(View.GONE);\n                        if (playbackState == 3){\n                            binding.progressCircular.setVisibility(View.GONE);\n                        }\n                    }\n    \n                    @Override\n                    public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\n                        Player.Listener.super.onPlayWhenReadyChanged(playWhenReady, reason);\n                    }\n                });\n    \n    //            touch listener play &amp; pause\n                binding.videoStyledPlayerView.getVideoSurfaceView().setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        if (isPlaying == false){\n                            binding.imgVideoStop.setVisibility(View.VISIBLE);\n                            isPlaying = true;\n                            exoplayer.setPlayWhenReady(false);\n    \n                        }else{\n                            binding.imgVideoStop.setVisibility(View.GONE);\n                            isPlaying = false;\n                            styledPlayerView.setKeepScreenOn(true);\n                            styledPlayerView.setPlayer(exoplayer);\n                            exoplayer.addMediaSource(mediaSource);\n                            exoplayer.prepare();\n                            exoplayer.setPlayWhenReady(true);\n                            exoplayer.setRepeatMode(exoplayer.REPEAT_MODE_ONE);\n                        }\n                    }\n                });\n            }\n    \n            //on click event\n            @Override\n            public void onClick(View v) {\n                if (v == binding.imageUserMainVideo) {\n                    context.startActivity(new Intent(context, OtherUserProfileActivity.class));\n                }\n                if (v == binding.videoView) {\n                    Log.e(&quot;isPlaying = &quot; , String.valueOf(isPlaying));\n                    if (isPlaying) {\n                        binding.videoView.pause();\n    //                    binding.imgVideoStop.setVisibility(View.VISIBLE);\n                        isPlaying = false;\n                    } else {\n                        binding.videoView.start();\n    //                    binding.imgVideoStop.setVisibility(View.GONE);\n                        isPlaying = true;\n                    }\n                }\n    \n            }\n    \n    \n        }\n    }\n</code></pre>\n<p>item.xml</p>\n<pre><code>&lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:id=&quot;@+id/videoStyledPlayerView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;visible&quot;\n        app:animation_enabled=&quot;true&quot;/&gt;\n</code></pre>\n<p><strong>Issues</strong>:</p>\n<ul>\n<li>After a specific position, it plays previous videos when swipe to next video.</li>\n<li>Plays multiple videos on swipe</li>\n<li>On swipe back(previous videos) don't stops previous video.</li>\n<li>How to stop when to redirect another activity.</li>\n</ul>\n<p>Please suggest the solution.</p>\n"},{"tags":["java","printing","applet"],"comments":[{"owner":{"account_id":52942,"reputation":5873,"user_id":158288,"accept_rate":92,"display_name":"Koekiebox"},"score":0,"creation_date":1290776848,"post_id":1016372,"comment_id":4648812,"body_markdown":"Have you considered using JNLP? If not what happens when you use PrinterJob printJob = PrinterJob.getPrinterJob();","body":"Have you considered using JNLP? If not what happens when you use PrinterJob printJob = PrinterJob.getPrinterJob();"}],"answers":[{"comments":[{"owner":{"account_id":878105,"reputation":85,"user_id":123684,"accept_rate":0,"display_name":"Muhammad Babar Nazir"},"score":0,"creation_date":1245391241,"post_id":1016451,"comment_id":825720,"body_markdown":"i have changed the settings and also printing using the Printable Interface, but now i have to use PrintServiceLookup.lookupDefaultPrintService() it returns null to me.","body":"i have changed the settings and also printing using the Printable Interface, but now i have to use PrintServiceLookup.lookupDefaultPrintService() it returns null to me."},{"owner":{"account_id":5548949,"reputation":207,"user_id":4402750,"display_name":"Nick Falco"},"score":0,"creation_date":1441985821,"post_id":1016451,"comment_id":52912313,"body_markdown":"I am having the same problem.  The PrintServiceLookup.lookupDefaultPrinterService() returns null.  Please let me know if you resolved this problem.","body":"I am having the same problem.  The PrintServiceLookup.lookupDefaultPrinterService() returns null.  Please let me know if you resolved this problem."}],"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1245388976,"creation_date":1245388976,"answer_id":1016451,"question_id":1016372,"body_markdown":"You must change the security settings for java applets first. By default, java applets cannot print.","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>You must change the security settings for java applets first. By default, java applets cannot print.</p>\n"},{"tags":[],"owner":{"account_id":256770,"reputation":131,"user_id":537715,"display_name":"Lacek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1291977429,"creation_date":1291977429,"answer_id":4407959,"question_id":1016372,"body_markdown":"In order to access the printer (or any resource on the host computer for that matter) the jar file in which the applet code resides has to be signed, and the user must accept the signer as a trusted party.\r\nTo sign the jar file, use the jarsigner program, which is part of he JDK. Jarsigner uses its own keystore, so if you have your own certificate, you must import the certificate to a keystore first. It can generate certificates as well, in the case you don&#39;t have any other certificate to sign the jar file with.\r\n\r\n[Documentation of the jarsigner tool can be found here.][1]\r\n\r\nNote that newer Java runtimes do ask the user if (s)he allows the code to access the printer, but I found that regardless of the answer, code in an unsigned jar file is prevented from accessing resources.\r\n\r\n  [1]: http://download.oracle.com/javase/1.3/docs/tooldocs/win32/jarsigner.html","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>In order to access the printer (or any resource on the host computer for that matter) the jar file in which the applet code resides has to be signed, and the user must accept the signer as a trusted party.\nTo sign the jar file, use the jarsigner program, which is part of he JDK. Jarsigner uses its own keystore, so if you have your own certificate, you must import the certificate to a keystore first. It can generate certificates as well, in the case you don't have any other certificate to sign the jar file with.</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.3/docs/tooldocs/win32/jarsigner.html\" rel=\"nofollow\">Documentation of the jarsigner tool can be found here.</a></p>\n\n<p>Note that newer Java runtimes do ask the user if (s)he allows the code to access the printer, but I found that regardless of the answer, code in an unsigned jar file is prevented from accessing resources.</p>\n"},{"tags":[],"owner":{"account_id":4368857,"reputation":11,"user_id":3563770,"display_name":"ferdez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400154322,"creation_date":1400154322,"answer_id":23677285,"question_id":1016372,"body_markdown":"This code is working in an signed applet in windows with 1.7.0_55:\r\n\r\n    import javax.print.Doc;\r\n    import javax.print.DocFlavor;\r\n    import javax.print.DocPrintJob;\r\n    import javax.print.PrintService;\r\n    import javax.print.PrintServiceLookup;\r\n    import javax.print.SimpleDoc;\r\n    import javax.print.attribute.HashDocAttributeSet;\r\n    import javax.print.attribute.HashPrintRequestAttributeSet;\r\n    \r\n    ...\r\n    \r\n    HashDocAttributeSet docAttr=new HashDocAttributeSet();\r\n    HashPrintRequestAttributeSet reqAttr=new HashPrintRequestAttributeSet();\r\n    \r\n    try {\r\n    \tPrintService pserv = PrintServiceLookup.lookupDefaultPrintService();\r\n    \tif (pserv == null) {\r\n    \t\tSystem.out.println(&quot;ERROR-01: no default print service&quot;);\r\n    \t}\r\n    \tSystem.out.println(&quot;Printer: &quot; + pserv.getName());\r\n    \r\n    \tDocPrintJob job = pserv.createPrintJob();\r\n    \tDocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\r\n    \tString content = makeZplLabel();\r\n    \tDoc doc = new SimpleDoc(content.getBytes(), flavor, docAttr);\r\n    \r\n    \tjob.print(doc, reqAttr);\r\n    \r\n    } catch (Exception e) {\r\n    \tSystem.out.println(&quot;ERROR-02:&quot; + e.getMessage());\r\n    }","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>This code is working in an signed applet in windows with 1.7.0_55:</p>\n\n<pre><code>import javax.print.Doc;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.PrintService;\nimport javax.print.PrintServiceLookup;\nimport javax.print.SimpleDoc;\nimport javax.print.attribute.HashDocAttributeSet;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\n\n...\n\nHashDocAttributeSet docAttr=new HashDocAttributeSet();\nHashPrintRequestAttributeSet reqAttr=new HashPrintRequestAttributeSet();\n\ntry {\n    PrintService pserv = PrintServiceLookup.lookupDefaultPrintService();\n    if (pserv == null) {\n        System.out.println(\"ERROR-01: no default print service\");\n    }\n    System.out.println(\"Printer: \" + pserv.getName());\n\n    DocPrintJob job = pserv.createPrintJob();\n    DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\n    String content = makeZplLabel();\n    Doc doc = new SimpleDoc(content.getBytes(), flavor, docAttr);\n\n    job.print(doc, reqAttr);\n\n} catch (Exception e) {\n    System.out.println(\"ERROR-02:\" + e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2266551,"reputation":394,"user_id":1995068,"display_name":"mar-schmidt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464382810,"creation_date":1464382810,"answer_id":37492176,"question_id":1016372,"body_markdown":"Make sure that printer.conf defines `&lt;DefaultPrinter name&gt;` instead of `&lt;Printer name&gt;`. JVM seems to only find a default printer that is defined like this.\r\n\r\nThis code snippet could help out to quickly verify if it works:\r\n\r\n    import javax.print.PrintServiceLookup;\r\n\r\n    public class checkDefaultPrinter {\r\n\t    public static void main(String[] args) {\r\n\t\t    System.out.println(PrintServiceLookup.lookupDefaultPrintService());\r\n    \t}\r\n    }","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>Make sure that printer.conf defines <code>&lt;DefaultPrinter name&gt;</code> instead of <code>&lt;Printer name&gt;</code>. JVM seems to only find a default printer that is defined like this.</p>\n\n<p>This code snippet could help out to quickly verify if it works:</p>\n\n<pre><code>import javax.print.PrintServiceLookup;\n\npublic class checkDefaultPrinter {\n    public static void main(String[] args) {\n        System.out.println(PrintServiceLookup.lookupDefaultPrintService());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8313788,"reputation":1,"user_id":6247893,"display_name":"Dennys Quiroz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284634,"creation_date":1673284634,"answer_id":75060823,"question_id":1016372,"body_markdown":"In windows, make sure the Print Spooler service is running. Also, You can test this code while applying the solution\r\n\r\n    import javax.print.PrintService; \r\n    import javax.print.PrintServiceLookup; \r\n    \r\n    public class JavaPrintBug { \r\n    \r\n        public static void main(String[] args) { \r\n            // returns an empty array unless a user has opened system printer settings \r\n            // only short time ago or an adminstrator has set cupsctl WebInterface=yes \r\n            PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null); \r\n            System.out.println(&quot;Number of printers available: &quot; + printServices.length); // zero \r\n             \r\n             \r\n            // returns null unless a user has opened system printer settings only \r\n            // short time ago or an adminstrator has set cupsctl WebInterface=yes \r\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService(); \r\n            if(null != defaultPrintService) { // will not be entered \r\n                System.out.println(&quot;Default printer: &quot; + defaultPrintService.getName()); \r\n            } \r\n             \r\n            // before entering this loop make sure that NO user has opened system \r\n            // printer settings only short time ago and NO administrator has set \r\n            // cupsctl WebInterface=yes (hWebInterface=no)! \r\n            while(null == PrintServiceLookup.lookupDefaultPrintService()) { \r\n                // while trapped in here, open system printer settings or set \r\n                // cupsctl WebInterface=yes and the loop will be left. \r\n    \t\t\t// In Windows, enable the Print Spooler service\r\n            } \r\n            System.out.println(&quot;Workaround worked!&quot;); \r\n        } \r\n    } \r\n\r\nReference: https://bugs.openjdk.org/browse/JDK-8178715","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p>In windows, make sure the Print Spooler service is running. Also, You can test this code while applying the solution</p>\n<pre><code>import javax.print.PrintService; \nimport javax.print.PrintServiceLookup; \n\npublic class JavaPrintBug { \n\n    public static void main(String[] args) { \n        // returns an empty array unless a user has opened system printer settings \n        // only short time ago or an adminstrator has set cupsctl WebInterface=yes \n        PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null); \n        System.out.println(&quot;Number of printers available: &quot; + printServices.length); // zero \n         \n         \n        // returns null unless a user has opened system printer settings only \n        // short time ago or an adminstrator has set cupsctl WebInterface=yes \n        PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService(); \n        if(null != defaultPrintService) { // will not be entered \n            System.out.println(&quot;Default printer: &quot; + defaultPrintService.getName()); \n        } \n         \n        // before entering this loop make sure that NO user has opened system \n        // printer settings only short time ago and NO administrator has set \n        // cupsctl WebInterface=yes (hWebInterface=no)! \n        while(null == PrintServiceLookup.lookupDefaultPrintService()) { \n            // while trapped in here, open system printer settings or set \n            // cupsctl WebInterface=yes and the loop will be left. \n            // In Windows, enable the Print Spooler service\n        } \n        System.out.println(&quot;Workaround worked!&quot;); \n    } \n} \n</code></pre>\n<p>Reference: <a href=\"https://bugs.openjdk.org/browse/JDK-8178715\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8178715</a></p>\n"}],"owner":{"account_id":878105,"reputation":85,"user_id":123684,"accept_rate":0,"display_name":"Muhammad Babar Nazir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4247,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1673284634,"creation_date":1245386908,"question_id":1016372,"body_markdown":"`PrintServiceLookup.lookupDefaultPrintService()` returns `NULL` as I have a printer installed and set to default printer.\r\n\r\nIf I am using this in a simple program it works fine, but when I try to use it in my applet-based program it returns `NULL`.\r\n\r\nPlease send me some good solution for this problem.","title":"PrintServiceLookup.lookupDefaultPrintService() returns null","body":"<p><code>PrintServiceLookup.lookupDefaultPrintService()</code> returns <code>NULL</code> as I have a printer installed and set to default printer.</p>\n\n<p>If I am using this in a simple program it works fine, but when I try to use it in my applet-based program it returns <code>NULL</code>.</p>\n\n<p>Please send me some good solution for this problem.</p>\n"},{"tags":["java","processing","collision"],"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1672259675,"post_id":74944535,"comment_id":132254794,"body_markdown":"&quot;giving me errors.&quot; - please [edit] and show those errors.","body":"&quot;giving me errors.&quot; - please <a href=\"https://stackoverflow.com/posts/74944535/edit\">edit</a> and show those errors."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672260354,"post_id":74944535,"comment_id":132254946,"body_markdown":"Is your `bullet.width` and `bullet.height` smaller than the speed? If so then one step in speed calculation &quot;teleports&quot; the bullet from one side of the enemy to the other without touching it.","body":"Is your <code>bullet.width</code> and <code>bullet.height</code> smaller than the speed? If so then one step in speed calculation &quot;teleports&quot; the bullet from one side of the enemy to the other without touching it."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672261777,"post_id":74944535,"comment_id":132255303,"body_markdown":"@cyberbrain No my bullet height and width isnt smaller than the speed.","body":"@cyberbrain No my bullet height and width isnt smaller than the speed."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672262603,"post_id":74944535,"comment_id":132255489,"body_markdown":"@hc_dev I delete those errors I cant get them back so far this is the only code that is close to getting what i need sorry about that","body":"@hc_dev I delete those errors I cant get them back so far this is the only code that is close to getting what i need sorry about that"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672434288,"post_id":74944535,"comment_id":132290913,"body_markdown":"in your constructor `Weapons`:  where do `mouseX` and `mouseY` come from?","body":"in your constructor <code>Weapons</code>:  where do <code>mouseX</code> and <code>mouseY</code> come from?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672525206,"post_id":74944535,"comment_id":132303283,"body_markdown":"@cyberbrain From the weapons x and y (the source) to the mouses x and y (the destination) if that helps","body":"@cyberbrain From the weapons x and y (the source) to the mouses x and y (the destination) if that helps"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672564851,"post_id":74944535,"comment_id":132306176,"body_markdown":"What I meant: your code from the question does not show any declaration of `mouseX` and `mouseY` so it will not compile - but if we should help you, please provide a [mre] so we can find out what&#39;s wrong.","body":"What I meant: your code from the question does not show any declaration of <code>mouseX</code> and <code>mouseY</code> so it will not compile - but if we should help you, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> so we can find out what&#39;s wrong."},{"owner":{"account_id":17715726,"reputation":2215,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1672814144,"post_id":74944535,"comment_id":132355631,"body_markdown":"@cyberbrain mouseX and mouseY are system variables in the Processing language:https://processing.org/reference/mouseX.html.  I agree that we still need a minimal example; posted code will not run.  I think there may be other classes for Maincharacter, Enemy, and Goal that we are not being shown.","body":"@cyberbrain mouseX and mouseY are system variables in the Processing language:<a href=\"https://processing.org/reference/mouseX.html\" rel=\"nofollow noreferrer\">processing.org/reference/mouseX.html</a>.  I agree that we still need a minimal example; posted code will not run.  I think there may be other classes for Maincharacter, Enemy, and Goal that we are not being shown."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672921741,"post_id":74944535,"comment_id":132384406,"body_markdown":"@apodidae yh there are other class in my code that are not being shown should I bring it up?","body":"@apodidae yh there are other class in my code that are not being shown should I bring it up?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672921760,"post_id":74944535,"comment_id":132384411,"body_markdown":"@cyberbrain yh there are other class in my code that are not being shown should I bring it up?","body":"@cyberbrain yh there are other class in my code that are not being shown should I bring it up?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672922912,"post_id":74944535,"comment_id":132384819,"body_markdown":"Unfortunately I read that &quot;processing&quot; tag too late, I&#39;m not familiar with it. But: you check the collision in the method `Weapons.crash` - is this called anywhere? If it is called in your code, you should show that code too.","body":"Unfortunately I read that &quot;processing&quot; tag too late, I&#39;m not familiar with it. But: you check the collision in the method <code>Weapons.crash</code> - is this called anywhere? If it is called in your code, you should show that code too."},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1672924582,"post_id":74944535,"comment_id":132385387,"body_markdown":"@cyberbrain weapons.crash is not been called in anywhere in my code","body":"@cyberbrain weapons.crash is not been called in anywhere in my code"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672929005,"post_id":74944535,"comment_id":132387153,"body_markdown":"but is it called from _anywhere_ ? If it is not called at all, this would explain, why you do not detect any hits - the collision detection is done in that method, if it is not called at all then no collision detection happens. (Also `Weapons` does not derive from any class nor implement any interface and the method has default visibility, so a call from &quot;outside&quot; gets unlikelier.)","body":"but is it called from <i>anywhere</i> ? If it is not called at all, this would explain, why you do not detect any hits - the collision detection is done in that method, if it is not called at all then no collision detection happens. (Also <code>Weapons</code> does not derive from any class nor implement any interface and the method has default visibility, so a call from &quot;outside&quot; gets unlikelier.)"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1673193443,"post_id":74944535,"comment_id":132438489,"body_markdown":"@cyberbrain i did call it but it saying that crash doesn&#39;t ( I have update the code in  the main class above).","body":"@cyberbrain i did call it but it saying that crash doesn&#39;t ( I have update the code in  the main class above)."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673199413,"post_id":74944535,"comment_id":132439792,"body_markdown":"so I have to keep on asking ;) (I&#39;m not familiar with processing, sorry): is that `draw` method actually called, where you call the `crash` method? Looks like this is called, but did you actually have a breakpoint or log statement in there to prove it?","body":"so I have to keep on asking ;) (I&#39;m not familiar with processing, sorry): is that <code>draw</code> method actually called, where you call the <code>crash</code> method? Looks like this is called, but did you actually have a breakpoint or log statement in there to prove it?"},{"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"score":0,"creation_date":1673283136,"post_id":74944535,"comment_id":132459046,"body_markdown":"@cyberbrain yeah the draw method get called but the crash method doesnt it keeps saying does not exist.","body":"@cyberbrain yeah the draw method get called but the crash method doesnt it keeps saying does not exist."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673284004,"post_id":74944535,"comment_id":132459351,"body_markdown":"Ok, first of all: reading your code is a bit confusing me because you don&#39;t have a common style for your variable and field names. You should let all your variable and field names start with a lowercase letter - but it is not the source of the problem. Anyways for the problem I will post a real answer now ;)","body":"Ok, first of all: reading your code is a bit confusing me because you don&#39;t have a common style for your variable and field names. You should let all your variable and field names start with a lowercase letter - but it is not the source of the problem. Anyways for the problem I will post a real answer now ;)"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673370938,"post_id":75060784,"comment_id":132481738,"body_markdown":"If this answer is the solution to the problem you posted (not to your full program of course), consider to accept it to signal others that the question could be answered with this.","body":"If this answer is the solution to the problem you posted (not to your full program of course), consider to accept it to signal others that the question could be answered with this."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673284417,"creation_date":1673284417,"answer_id":75060784,"question_id":74944535,"body_markdown":"You are trying to call the method `enemies.crash(W)` but `enemies` is some collection of `Enemy` instances. `Enemy` does not provide the method `crash` as well.\r\n\r\nYou have to loop for each of your enemies all of your weapons and call the method `crash` on the `Weapon` instance giving the current enemy, something like:\r\n\r\n``` lang-java\r\nfor (Enemy enemy: enemies){\r\n  enemy.update();\r\n  if (mainCharacter.crash(enemy)) {\r\n    gameMode = Finish; \r\n  }\r\n  for (Weapons weapon: bullets) {\r\n    weapon.update();\r\n    if (weapon.crash(enemy)) {\r\n      gameMode = Finish;\r\n      // TODO: are you sure that killing an enemy finishes the game?\r\n    }\r\n  }\r\n} \r\n```\r\n(Please note that I used `mainCharacter` instead of `MC` here for better readability.)","title":"Collisions in processing","body":"<p>You are trying to call the method <code>enemies.crash(W)</code> but <code>enemies</code> is some collection of <code>Enemy</code> instances. <code>Enemy</code> does not provide the method <code>crash</code> as well.</p>\n<p>You have to loop for each of your enemies all of your weapons and call the method <code>crash</code> on the <code>Weapon</code> instance giving the current enemy, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Enemy enemy: enemies){\n  enemy.update();\n  if (mainCharacter.crash(enemy)) {\n    gameMode = Finish; \n  }\n  for (Weapons weapon: bullets) {\n    weapon.update();\n    if (weapon.crash(enemy)) {\n      gameMode = Finish;\n      // TODO: are you sure that killing an enemy finishes the game?\n    }\n  }\n} \n</code></pre>\n<p>(Please note that I used <code>mainCharacter</code> instead of <code>MC</code> here for better readability.)</p>\n"}],"owner":{"account_id":22272138,"reputation":11,"user_id":16501922,"display_name":"Cuptius"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673284417,"creation_date":1672257775,"question_id":74944535,"body_markdown":"My game is a shooting game for school. I need help on the collision between my bullet and my enemy. I have placed the bullet class with my player but for some reason it keeps on passing through it and not disappearing. The first example below shows the weapon class which is for the bullet and the one underneath that is the main.\r\n\r\n```\r\nclass Weapons{\r\n  PImage bullet;\r\n  int speed; \r\n  int imageSize = 20;\r\n  float x = 20;\r\n  float y = 20;\r\n  float m;\r\n  int damage = 5;\r\n  int[] src = new int[2];\r\n  float[] dest = new float[2]; \r\n  \r\n\r\n  \r\n  \r\n  Weapons(int x, int y){\r\n    speed = 12;\r\n    dest[0] = mouseX;\r\n    dest[1] = mouseY;\r\n    src[0] = x;\r\n    src[1] = y;\r\n    m = (dest[1]-src[1]) / (dest[0]-src[0]);\r\n    this.x = x;\r\n    this.y = y;\r\n    bullet = loadImage(&quot;bullet.png&quot;);\r\n    bullet.resize(imageSize,imageSize);\r\n    \r\n  }\r\n  \r\n  boolean shooting(){\r\n    image(bullet, x, y); // if attack is true then renfer the image\r\n    x += speed;\r\n    y = (m * (x - dest[0])) + dest[1];\r\n    return (x &gt; width || y &gt; height);   \r\n    \r\n  }\r\n  \r\n  boolean crash(Enemy enemies) {\r\n  //// return the result of checking if the plane has crashed into the bird\r\n  return abs(this.x-enemies.x) &lt; bullet.width &amp;&amp; abs(this.y - enemies.y) &lt; bullet.height;\r\n  \r\n}\r\n  \r\n\r\n  \r\n  }\r\n```\r\n\r\n```\r\nMaincharacter MC;\r\nGoal G; \r\nArrayList&lt;Enemy&gt; enemies = new ArrayList&lt;&gt;();\r\nArrayList&lt;Weapons&gt; bullets = new ArrayList&lt;&gt;();\r\n\r\n\r\nfinal int Playing = 0; \r\nfinal int Finish = 1; \r\n\r\nint gameMode = Playing; \r\n\r\n\r\n//Enemy[] enemies = new Enemy[10];\r\n\r\nPImage background; // creating background \r\nint bgX = 0;\r\n\r\n\r\nvoid setup(){\r\n  size(800,500);\r\n  MC = new Maincharacter(100,3); \r\n  //E1 = new Enemy();\r\n  G = new Goal(100,20);\r\n  \r\n  background = loadImage(&quot;Battleground1.png&quot;);\r\n  background.resize(width*2,height); //set image to be same size as the canvas\r\n  \r\n  for(int i = 0; i&lt;2; i++){ // i represent how many enemy I want.\r\n    enemies.add(new Enemy((int)random(200,850), (int)random(0, height- 150) ) );\r\n  }\r\n\r\n\r\n//for(int i=0 ; i &lt; enemies.length ; i++){ \r\n//enemies[i] = new Enemy(); }\r\n\r\n}\r\n\r\n\r\nvoid draw(){\r\n  if(gameMode == Playing){\r\n    background();\r\n    MC.display(); \r\n    G.display();\r\n    \r\n    for(Enemy E : enemies){\r\n      E.update();\r\n      if (MC.crash(E)){\r\n        gameMode = Finish; \r\n    }\r\n    }\r\n    \r\n      for(Weapons W: bullets){\r\n      W.update();\r\n      if(enemies.crash(W)){ // doesnt exist\r\n        gameMode = Finish;\r\n      }\r\n }\r\n\r\n//  for(int i=0 ; i &lt; enemies.length ; i++){ \r\n//enemies[i].update(); }\r\n\r\n}}\r\n\r\n\r\nvoid keyPressed(){\r\n  // creating  the movemnt for my main charcter\r\n  MC.move();\r\n    if (keyCode == RIGHT || keyCode == 68 ){   \r\n      MC.x += 10; \r\n    } else if (keyCode == UP || keyCode == 87) {\r\n      MC.y -=10;\r\n    } else if (keyCode == LEFT || keyCode == 65){\r\n      MC.x -= 10;\r\n    } else if(keyCode == DOWN || keyCode == 83 ){\r\n      MC.y += 10;\r\n    } else if (keyCode == 32) { // space bar\r\n      MC.attack_function(); // call attack function to create bullet object\r\n    }// make an attack \r\n     \r\n  }\r\n  \r\n  \r\nvoid mousePressed(){ // when mouse is pressed call attack function to create bullet object\r\n  MC.attack_function();\r\n  \r\n}\r\n\r\n\r\n\r\n\r\nvoid background(){\r\n//scrolling background image\r\n  image(background, bgX, height/2); //draw image to fill the canvas\r\n  //draw image again off the right of the canvas\r\n  \r\n  image(background, bgX+background.width, height/2);    \r\n  \r\n  bgX -= 4;\r\n \r\n  if(bgX == -background.width ) //if first image completely off the canvas\r\n  {\r\n    bgX=0; //reset back to initial value background\r\n  }\r\n  \r\n}\r\n\r\n\r\n\r\n  \r\n  ```\r\n\r\n\r\n\r\n\r\nWhat I want is to have bullet colliding with the enemies and then disappearing. ","title":"Collisions in processing","body":"<p>My game is a shooting game for school. I need help on the collision between my bullet and my enemy. I have placed the bullet class with my player but for some reason it keeps on passing through it and not disappearing. The first example below shows the weapon class which is for the bullet and the one underneath that is the main.</p>\n<pre><code>class Weapons{\n  PImage bullet;\n  int speed; \n  int imageSize = 20;\n  float x = 20;\n  float y = 20;\n  float m;\n  int damage = 5;\n  int[] src = new int[2];\n  float[] dest = new float[2]; \n  \n\n  \n  \n  Weapons(int x, int y){\n    speed = 12;\n    dest[0] = mouseX;\n    dest[1] = mouseY;\n    src[0] = x;\n    src[1] = y;\n    m = (dest[1]-src[1]) / (dest[0]-src[0]);\n    this.x = x;\n    this.y = y;\n    bullet = loadImage(&quot;bullet.png&quot;);\n    bullet.resize(imageSize,imageSize);\n    \n  }\n  \n  boolean shooting(){\n    image(bullet, x, y); // if attack is true then renfer the image\n    x += speed;\n    y = (m * (x - dest[0])) + dest[1];\n    return (x &gt; width || y &gt; height);   \n    \n  }\n  \n  boolean crash(Enemy enemies) {\n  //// return the result of checking if the plane has crashed into the bird\n  return abs(this.x-enemies.x) &lt; bullet.width &amp;&amp; abs(this.y - enemies.y) &lt; bullet.height;\n  \n}\n  \n\n  \n  }\n</code></pre>\n<pre><code>Maincharacter MC;\nGoal G; \nArrayList&lt;Enemy&gt; enemies = new ArrayList&lt;&gt;();\nArrayList&lt;Weapons&gt; bullets = new ArrayList&lt;&gt;();\n\n\nfinal int Playing = 0; \nfinal int Finish = 1; \n\nint gameMode = Playing; \n\n\n//Enemy[] enemies = new Enemy[10];\n\nPImage background; // creating background \nint bgX = 0;\n\n\nvoid setup(){\n  size(800,500);\n  MC = new Maincharacter(100,3); \n  //E1 = new Enemy();\n  G = new Goal(100,20);\n  \n  background = loadImage(&quot;Battleground1.png&quot;);\n  background.resize(width*2,height); //set image to be same size as the canvas\n  \n  for(int i = 0; i&lt;2; i++){ // i represent how many enemy I want.\n    enemies.add(new Enemy((int)random(200,850), (int)random(0, height- 150) ) );\n  }\n\n\n//for(int i=0 ; i &lt; enemies.length ; i++){ \n//enemies[i] = new Enemy(); }\n\n}\n\n\nvoid draw(){\n  if(gameMode == Playing){\n    background();\n    MC.display(); \n    G.display();\n    \n    for(Enemy E : enemies){\n      E.update();\n      if (MC.crash(E)){\n        gameMode = Finish; \n    }\n    }\n    \n      for(Weapons W: bullets){\n      W.update();\n      if(enemies.crash(W)){ // doesnt exist\n        gameMode = Finish;\n      }\n }\n\n//  for(int i=0 ; i &lt; enemies.length ; i++){ \n//enemies[i].update(); }\n\n}}\n\n\nvoid keyPressed(){\n  // creating  the movemnt for my main charcter\n  MC.move();\n    if (keyCode == RIGHT || keyCode == 68 ){   \n      MC.x += 10; \n    } else if (keyCode == UP || keyCode == 87) {\n      MC.y -=10;\n    } else if (keyCode == LEFT || keyCode == 65){\n      MC.x -= 10;\n    } else if(keyCode == DOWN || keyCode == 83 ){\n      MC.y += 10;\n    } else if (keyCode == 32) { // space bar\n      MC.attack_function(); // call attack function to create bullet object\n    }// make an attack \n     \n  }\n  \n  \nvoid mousePressed(){ // when mouse is pressed call attack function to create bullet object\n  MC.attack_function();\n  \n}\n\n\n\n\nvoid background(){\n//scrolling background image\n  image(background, bgX, height/2); //draw image to fill the canvas\n  //draw image again off the right of the canvas\n  \n  image(background, bgX+background.width, height/2);    \n  \n  bgX -= 4;\n \n  if(bgX == -background.width ) //if first image completely off the canvas\n  {\n    bgX=0; //reset back to initial value background\n  }\n  \n}\n\n\n\n  \n</code></pre>\n<p>What I want is to have bullet colliding with the enemies and then disappearing.</p>\n"},{"tags":["java","android","android-recyclerview","mediastore"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673284451,"post_id":75060770,"comment_id":132459507,"body_markdown":"Well first tell what is your specific folder?","body":"Well first tell what is your specific folder?"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673322965,"post_id":75060770,"comment_id":132467533,"body_markdown":"&quot;/Android/media/com.whatsapp/WhatsApp/Media/WhatsApp Documents&quot; this is my specific folder @blackapps","body":"&quot;/Android/media/com.whatsapp/WhatsApp/Media/WhatsApp Documents&quot; this is my specific folder @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673341223,"post_id":75060770,"comment_id":132471258,"body_markdown":"You posted an absolute path (starting with a /). That path does not exist on an Android device.","body":"You posted an absolute path (starting with a /). That path does not exist on an Android device."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673341361,"post_id":75060770,"comment_id":132471295,"body_markdown":"Does you code show the files from that folder now?","body":"Does you code show the files from that folder now?"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673342844,"post_id":75060770,"comment_id":132471759,"body_markdown":"how could i define the path? for that specific folder, could you please show one example so that i can get some idea @blackapps","body":"how could i define the path? for that specific folder, could you please show one example so that i can get some idea @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673342952,"post_id":75060770,"comment_id":132471790,"body_markdown":"You posted your path wrong. Post the real path. And you did not tell if the files were listed now.","body":"You posted your path wrong. Post the real path. And you did not tell if the files were listed now."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673344992,"post_id":75060770,"comment_id":132472453,"body_markdown":"ok, so what i want to do is to get all pdf and images from whatsapp document folder,but what my code do is getting all the files from internal storage but i want only to  gets pdf and images from whatsapp document @blackapps","body":"ok, so what i want to do is to get all pdf and images from whatsapp document folder,but what my code do is getting all the files from internal storage but i want only to  gets pdf and images from whatsapp document @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673346725,"post_id":75060770,"comment_id":132472952,"body_markdown":"So you get those files listed now too? I asked that before and i dont see a clear answer.","body":"So you get those files listed now too? I asked that before and i dont see a clear answer."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673348453,"post_id":75060770,"comment_id":132473440,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251004/discussion-between-aisha-and-blackapps).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251004/discussion-between-aisha-and-blackapps\">continue this discussion in chat</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673355788,"post_id":75060770,"comment_id":132475914,"body_markdown":"No chat. Please answer","body":"No chat. Please answer"},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673367121,"post_id":75060770,"comment_id":132480317,"body_markdown":"@blackapps i don&#39;t think you can answer my question, and chat I had started because stack shows &quot;the message Please avoid extended discussions in comments. Would you like to automatically move this discussion to chat?&quot;","body":"@blackapps i don&#39;t think you can answer my question, and chat I had started because stack shows &quot;the message Please avoid extended discussions in comments. Would you like to automatically move this discussion to chat?&quot;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673369668,"post_id":75060770,"comment_id":132481283,"body_markdown":"I understand. But now please first answer my simple question. And im sure i can help with your question after you gave me the required info.","body":"I understand. But now please first answer my simple question. And im sure i can help with your question after you gave me the required info."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673372802,"post_id":75060770,"comment_id":132482368,"body_markdown":"So you get those files listed now too? yes @blackapps","body":"So you get those files listed now too? yes @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673373459,"post_id":75060770,"comment_id":132482586,"body_markdown":"You should use column .RELATIVE_PATH as selection parameter and the relative path of the files as selection argument.","body":"You should use column .RELATIVE_PATH as selection parameter and the relative path of the files as selection argument."},{"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"score":0,"creation_date":1673375389,"post_id":75060770,"comment_id":132483156,"body_markdown":"can you show me one example so that I could understand clearly  @blackapps","body":"can you show me one example so that I could understand clearly  @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1673379674,"post_id":75060770,"comment_id":132484390,"body_markdown":"I will not do that as you added a `mediastore` tag. Click on it and read a couple of pages and you will see. Before you do that you could add to the code you already have such a column and print or log all relative path values. Then you know the value to select for.","body":"I will not do that as you added a <code>mediastore</code> tag. Click on it and read a couple of pages and you will see. Before you do that you could add to the code you already have such a column and print or log all relative path values. Then you know the value to select for."}],"owner":{"account_id":19032700,"reputation":33,"user_id":13894453,"display_name":"Aisha"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284363,"creation_date":1673284363,"question_id":75060770,"body_markdown":"I am trying to list all the files from specific folder but I can&#39;t understand how to do that using media store, the code I have tried ,it list all the files from the internal storage, but I want to list all the files from specific folder not to list all files from internal storage.\r\nplease help out of this problem.\r\n\r\nhere is my code\r\n\r\n     Uri collection;\r\n            final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\r\n            final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;\r\n                    +&quot; OR &quot; + MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\r\n            final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\r\n            final String jpg = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;jpg&quot;);\r\n            final String[] selectionArgs = new String[]{mimeType,jpg};\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n                collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\r\n            }else{\r\n                collection = MediaStore.Files.getContentUri(&quot;external&quot;);\r\n            }\r\n            try (Cursor cursor = getContext().getContentResolver().query(collection, null, selection, selectionArgs, sortOrder)) {\r\n                if ((cursor != null) &amp;&amp; (cursor.getCount() &gt; 0)) {\r\n                    if (cursor.moveToFirst()) {\r\n                        do {\r\n                            @SuppressLint(&quot;Range&quot;) String columnData = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA));\r\n                            @SuppressLint(&quot;Range&quot;) String columnName = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME));\r\n                            @SuppressLint(&quot;Range&quot;) Long date = Long.valueOf(cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATE_MODIFIED)));\r\n                            ModalClass mediaFiles = new ModalClass();\r\n                            mediaFiles.setFileName(columnName);\r\n                            mediaFiles.setPath(columnData);\r\n                            mediaFiles.setDate(date);\r\n                            fileList.add(mediaFiles);\r\n                        } while (cursor.moveToNext());\r\n                    }\r\n                }","title":"how to list all files from specific directory using media store?","body":"<p>I am trying to list all the files from specific folder but I can't understand how to do that using media store, the code I have tried ,it list all the files from the internal storage, but I want to list all the files from specific folder not to list all files from internal storage.\nplease help out of this problem.</p>\n<p>here is my code</p>\n<pre><code> Uri collection;\n        final String sortOrder = MediaStore.Files.FileColumns.DATE_ADDED + &quot; DESC&quot;;\n        final String selection = MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;\n                +&quot; OR &quot; + MediaStore.Files.FileColumns.MIME_TYPE + &quot; = ?&quot;;\n        final String mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;pdf&quot;);\n        final String jpg = MimeTypeMap.getSingleton().getMimeTypeFromExtension(&quot;jpg&quot;);\n        final String[] selectionArgs = new String[]{mimeType,jpg};\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            collection = MediaStore.Files.getContentUri(MediaStore.VOLUME_EXTERNAL);\n        }else{\n            collection = MediaStore.Files.getContentUri(&quot;external&quot;);\n        }\n        try (Cursor cursor = getContext().getContentResolver().query(collection, null, selection, selectionArgs, sortOrder)) {\n            if ((cursor != null) &amp;&amp; (cursor.getCount() &gt; 0)) {\n                if (cursor.moveToFirst()) {\n                    do {\n                        @SuppressLint(&quot;Range&quot;) String columnData = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATA));\n                        @SuppressLint(&quot;Range&quot;) String columnName = cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DISPLAY_NAME));\n                        @SuppressLint(&quot;Range&quot;) Long date = Long.valueOf(cursor.getString(cursor.getColumnIndex(MediaStore.Files.FileColumns.DATE_MODIFIED)));\n                        ModalClass mediaFiles = new ModalClass();\n                        mediaFiles.setFileName(columnName);\n                        mediaFiles.setPath(columnData);\n                        mediaFiles.setDate(date);\n                        fileList.add(mediaFiles);\n                    } while (cursor.moveToNext());\n                }\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"answers":[{"comments":[{"owner":{"account_id":4254480,"reputation":1409,"user_id":3480525,"accept_rate":69,"display_name":"Praveesh P"},"score":0,"creation_date":1444171596,"post_id":32981011,"comment_id":53787501,"body_markdown":"I want it based on the action (action=add or action=minus), not based on prod1 or prod2.","body":"I want it based on the action (action=add or action=minus), not based on prod1 or prod2."},{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":0,"creation_date":1444172521,"post_id":32981011,"comment_id":53787819,"body_markdown":"@PraveeshP let me know if you need any more help","body":"@PraveeshP let me know if you need any more help"}],"tags":[],"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444171905,"creation_date":1444171502,"answer_id":32981011,"question_id":32980948,"body_markdown":"`No` to my knowledge. According to your url end points,\r\n\r\nthey are,\r\n\r\n1. /com/prod1\r\n2. /com/prod2\r\n\r\nFor these you can have 2 controller methods for each of these. \r\n\r\nEDIT:\r\n\r\nIf I understand you correctly,\r\n\r\nInstead of having the above end points, write 2 controller methods for request mappings,\r\n\r\n1. com/add\r\n2. com/minus\r\n\r\nIf you want to have it in a more granular manner, then\r\n\r\n1. com/prod1/add\r\n2. com/prod1/minus\r\n3. com/prod2/add\r\n4. com/prod2/minus\r\n\r\nwrite request mapping methods for the above.\r\n\r\nThen you have,\r\n\r\nhttp://hostname:port/com/prod1/add?id=2\r\nhttp://hostname:port/com/prod1/minus?id=2\r\n\r\nhttp://hostname:port/com/prod2/add?id=2\r\nhttp://hostname:port/com/prod2/munus?id=2\r\n\r\n\r\nOr you can use another approach. which is, Just use the generic end points and depending on your request parameters, redirect to different request mappings such as,\r\n\r\n1. com/add\r\n2. com/minus\r\n\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p><code>No</code> to my knowledge. According to your url end points,</p>\n\n<p>they are,</p>\n\n<ol>\n<li>/com/prod1</li>\n<li>/com/prod2</li>\n</ol>\n\n<p>For these you can have 2 controller methods for each of these. </p>\n\n<p>EDIT:</p>\n\n<p>If I understand you correctly,</p>\n\n<p>Instead of having the above end points, write 2 controller methods for request mappings,</p>\n\n<ol>\n<li>com/add</li>\n<li>com/minus</li>\n</ol>\n\n<p>If you want to have it in a more granular manner, then</p>\n\n<ol>\n<li>com/prod1/add</li>\n<li>com/prod1/minus</li>\n<li>com/prod2/add</li>\n<li>com/prod2/minus</li>\n</ol>\n\n<p>write request mapping methods for the above.</p>\n\n<p>Then you have,</p>\n\n<p><a href=\"http://hostname:port/com/prod1/add?id=2\" rel=\"nofollow\">http://hostname:port/com/prod1/add?id=2</a>\n<a href=\"http://hostname:port/com/prod1/minus?id=2\" rel=\"nofollow\">http://hostname:port/com/prod1/minus?id=2</a></p>\n\n<p><a href=\"http://hostname:port/com/prod2/add?id=2\" rel=\"nofollow\">http://hostname:port/com/prod2/add?id=2</a>\n<a href=\"http://hostname:port/com/prod2/munus?id=2\" rel=\"nofollow\">http://hostname:port/com/prod2/munus?id=2</a></p>\n\n<p>Or you can use another approach. which is, Just use the generic end points and depending on your request parameters, redirect to different request mappings such as,</p>\n\n<ol>\n<li>com/add</li>\n<li>com/minus</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7008474,"reputation":1596,"user_id":5372160,"display_name":"sh0rug0ru"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444172716,"creation_date":1444172716,"answer_id":32981206,"question_id":32980948,"body_markdown":"You cannot have two `@RequestMapping` methods to map to two URLs differing only by query parameters. The `@RequestMapping` only binds to the path portion of the URL.\r\n\r\nYou can have two methods if you dispatch on the `action` value, calling one method for `add` and another for `minus`.\r\n\r\nOr, you can make `add` or `minus` a part of the URL path.","title":"Spring MVC request mapping based on url parameters","body":"<p>You cannot have two <code>@RequestMapping</code> methods to map to two URLs differing only by query parameters. The <code>@RequestMapping</code> only binds to the path portion of the URL.</p>\n\n<p>You can have two methods if you dispatch on the <code>action</code> value, calling one method for <code>add</code> and another for <code>minus</code>.</p>\n\n<p>Or, you can make <code>add</code> or <code>minus</code> a part of the URL path.</p>\n"},{"tags":[],"owner":{"account_id":1538545,"reputation":704,"user_id":1433838,"display_name":"Kirby"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1501963097,"creation_date":1501963097,"answer_id":45525887,"question_id":32980948,"body_markdown":"A couple years between question and answer, but **yes** it is possible to route based on query parameters with Spring MVC:\r\n\r\n    @RequestMapping(path = &quot;/com/{product}&quot;, params = &quot;add&quot;)\r\n    String add(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;add method; product=&quot; + product);\r\n        return &quot;add&quot;;\r\n    }\r\n\r\n    @RequestMapping(path = &quot;/com/{product}&quot;, params = &quot;minus&quot;)\r\n    String minus(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;minus method; product=&quot; + product);\r\n        return &quot;minus&quot;;\r\n    }\r\n\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p>A couple years between question and answer, but <strong>yes</strong> it is possible to route based on query parameters with Spring MVC:</p>\n\n<pre><code>@RequestMapping(path = \"/com/{product}\", params = \"add\")\nString add(@PathVariable(\"product\") String product) {\n    System.out.println(\"add method; product=\" + product);\n    return \"add\";\n}\n\n@RequestMapping(path = \"/com/{product}\", params = \"minus\")\nString minus(@PathVariable(\"product\") String product) {\n    System.out.println(\"minus method; product=\" + product);\n    return \"minus\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673301565,"post_id":75060762,"comment_id":132464404,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75060762/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19178780,"reputation":9,"user_id":14010962,"display_name":"Marcos Pereira"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673284337,"creation_date":1673284337,"answer_id":75060762,"question_id":32980948,"body_markdown":"It is possible with the following code:\r\n\r\n\r\n    @GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=add&quot;)\r\n    public String add(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;add method; product=&quot; + product);\r\n        return &quot;add&quot;;\r\n    }\r\n    \r\n    @GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=minus&quot;)\r\n    public String minus(@PathVariable(&quot;product&quot;) String product) {\r\n        System.out.println(&quot;minus method; product=&quot; + product);\r\n        return &quot;minus&quot;;\r\n    }","title":"Spring MVC request mapping based on url parameters","body":"<p>It is possible with the following code:</p>\n<pre><code>@GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=add&quot;)\npublic String add(@PathVariable(&quot;product&quot;) String product) {\n    System.out.println(&quot;add method; product=&quot; + product);\n    return &quot;add&quot;;\n}\n\n@GetMapping(path = &quot;/com/{product}&quot;, params = &quot;action=minus&quot;)\npublic String minus(@PathVariable(&quot;product&quot;) String product) {\n    System.out.println(&quot;minus method; product=&quot; + product);\n    return &quot;minus&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":4254480,"reputation":1409,"user_id":3480525,"accept_rate":69,"display_name":"Praveesh P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1673284337,"creation_date":1444171093,"question_id":32980948,"body_markdown":"Requirement is to write a controller to handle POST requests from the below urls:\r\n\r\n    http://hostname:port/com/prod1?id=2&amp;action=add\r\n    http://hostname:port/com/prod1?id=2&amp;action=minus\r\n    \r\n    http://hostname:port/com/prod2?id=2&amp;action=add\r\n    http://hostname:port/com/prod2?id=2&amp;action=minus\r\n\r\nCan I have two methods, one for mapping urls with action=add, and another for urls with action=minus? All the requests are POST.\r\n\r\n","title":"Spring MVC request mapping based on url parameters","body":"<p>Requirement is to write a controller to handle POST requests from the below urls:</p>\n\n<pre><code>http://hostname:port/com/prod1?id=2&amp;action=add\nhttp://hostname:port/com/prod1?id=2&amp;action=minus\n\nhttp://hostname:port/com/prod2?id=2&amp;action=add\nhttp://hostname:port/com/prod2?id=2&amp;action=minus\n</code></pre>\n\n<p>Can I have two methods, one for mapping urls with action=add, and another for urls with action=minus? All the requests are POST.</p>\n"},{"tags":["java","eclipse","google-app-engine","plugins"],"comments":[{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1671059202,"post_id":74802612,"comment_id":132018734,"body_markdown":"Have you checked if you managed to follow the steps in this link on [creating an application in GAE standard](https://cloud.google.com/eclipse/docs/creating-new-webapp)?","body":"Have you checked if you managed to follow the steps in this link on <a href=\"https://cloud.google.com/eclipse/docs/creating-new-webapp\" rel=\"nofollow noreferrer\">creating an application in GAE standard</a>?"},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1671089585,"post_id":74802612,"comment_id":132023598,"body_markdown":"Yes, I did @RobertG","body":"Yes, I did @RobertG"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1671107018,"post_id":74802612,"comment_id":132029171,"body_markdown":"Just to note that Eclipse 2022-12 won&#39;t actually run on Java 8, you are probably actually using the built-in Java 17 that is packaged with many Eclipse downloads.","body":"Just to note that Eclipse 2022-12 won&#39;t actually run on Java 8, you are probably actually using the built-in Java 17 that is packaged with many Eclipse downloads."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1671492739,"post_id":74802612,"comment_id":132107256,"body_markdown":"Did the previous comment address your concern? If so, please post it as an answer so that it would be helpful for other community members with similar questions such as yours.","body":"Did the previous comment address your concern? If so, please post it as an answer so that it would be helpful for other community members with similar questions such as yours."},{"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"score":0,"creation_date":1671901063,"post_id":74802612,"comment_id":132195071,"body_markdown":"@greg-449 I understand. The local server works fine with Java 8. I have already updated the installed JREs with eclipse.\nhttps://share.anysnap.app/fz6BjOnOTO89","body":"@greg-449 I understand. The local server works fine with Java 8. I have already updated the installed JREs with eclipse. <a href=\"https://share.anysnap.app/fz6BjOnOTO89\" rel=\"nofollow noreferrer\">share.anysnap.app/fz6BjOnOTO89</a>"}],"owner":{"account_id":12929907,"reputation":291,"user_id":9349267,"display_name":"Udhaya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284172,"creation_date":1671041524,"question_id":74802612,"body_markdown":"- Cloud Tools for Eclipse version: 1.9.1.202211291623\r\n- Google Cloud SDK version: 411.0.0 (auto-managed)\r\n- Eclipse version: 4.26.0.v20221123-1800\r\n- OS: Mac OS X 13.0.1\r\n- Java version: 1.8.0_352\r\n\r\nI&#39;ve a *GAE project*. When I try to deploy, the deploy dialog with the list of GAE projects doesn&#39;t appear. I&#39;ve installed 03-2022 eclipse version and then installed Google Cloud Tools plugin. Then I updated the eclipse version to the latest i.e 12-2022. I&#39;ve also installed https://github.com/ianbrandt/m2e-maven-dependency-plugin\r\n\r\nI also tried to upgrade to 06-2022 &amp; 09-2022, but it doesn&#39;t work.\r\n\r\nI&#39;ve also raised the issue in google-cloud-eclipse.\r\nhttps://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703\r\n\r\nhttps://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0","title":"Deploy to App Engine Standard dialog doesn&#39;t appear - Eclipse Version: 2022-12 (4.26.0)","body":"<ul>\n<li>Cloud Tools for Eclipse version: 1.9.1.202211291623</li>\n<li>Google Cloud SDK version: 411.0.0 (auto-managed)</li>\n<li>Eclipse version: 4.26.0.v20221123-1800</li>\n<li>OS: Mac OS X 13.0.1</li>\n<li>Java version: 1.8.0_352</li>\n</ul>\n<p>I've a <em>GAE project</em>. When I try to deploy, the deploy dialog with the list of GAE projects doesn't appear. I've installed 03-2022 eclipse version and then installed Google Cloud Tools plugin. Then I updated the eclipse version to the latest i.e 12-2022. I've also installed <a href=\"https://github.com/ianbrandt/m2e-maven-dependency-plugin\" rel=\"nofollow noreferrer\">https://github.com/ianbrandt/m2e-maven-dependency-plugin</a></p>\n<p>I also tried to upgrade to 06-2022 &amp; 09-2022, but it doesn't work.</p>\n<p>I've also raised the issue in google-cloud-eclipse.\n<a href=\"https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-eclipse/issues/3703</a></p>\n<p><a href=\"https://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/i06xvbdrksue8c6/Deploy%20Eclipse.mov?dl=0</a></p>\n"},{"tags":["java","android","speech-recognition","speech-to-text"],"owner":{"account_id":16955543,"reputation":165,"user_id":12264042,"display_name":"Rikudou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673284071,"creation_date":1673284071,"question_id":75060703,"body_markdown":"I am working in Android Studio (Java) to try to create a certain app, and a part of what I need this app to do is as follows: When the user clicks on the screen, the app starts listening for speech. Then, when they click on the screen again, the app stops listening. In other words, I need it to be so that the speech recognition does not just stop after about a second of silence. Here is something that I tried (this is an excerpt of my code):\r\n\r\n```\r\nspeechRecognizer.setRecognitionListener(recognitionListener);\r\nButton startSpeech = findViewById(R.id.startSpeech);\r\nstartSpeech.setOnClickListener(new View.OnClickListener() {\r\n  @Override\r\n  public void onClick(View view) {\r\n    TextView textView = findViewById(R.id.spokenWords);\r\n    textView.setText(&quot;Listening&quot;);\r\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\r\n    intent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 10000);\r\n    speechRecognizer.startListening(intent);\r\n\r\n  }\r\n});\r\n```\r\nDoing this does actually allow me to lengthen the time that the speech recognition service runs. Using the parameter of 10000 milliseconds, the recognition runs for a minimum of 10 seconds and then stops. However, I&#39;ve run into a problem with this:\r\n\r\nIf I make the milliseconds parameter too high, then all of a sudden the recognition does not last any longer than a second of silence. For example, when I changed the parameter to 3600000 milliseconds (an hour) and then ran the app, I turned on the speech recognition and then stayed silent. In response to my silence, the speech recognition stopped after about a second of silence (nowhere near an hour). This is unlike when the parameter was 10000 milliseconds where I could remain silent and the recognition still would not stop until at least 10 seconds have passed. Why is this? Is there perhaps a maximum for the EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS constant? If so, what is that maximum?\r\n\r\nMoreover, is there any way to just make the recognition run indefinitely so that I don&#39;t have to worry about a maximum? Thank you.\r\n ","title":"Android Java: Is there a way to to make the runtime for SpeechRecognizer.startListening() indefinite?","body":"<p>I am working in Android Studio (Java) to try to create a certain app, and a part of what I need this app to do is as follows: When the user clicks on the screen, the app starts listening for speech. Then, when they click on the screen again, the app stops listening. In other words, I need it to be so that the speech recognition does not just stop after about a second of silence. Here is something that I tried (this is an excerpt of my code):</p>\n<pre><code>speechRecognizer.setRecognitionListener(recognitionListener);\nButton startSpeech = findViewById(R.id.startSpeech);\nstartSpeech.setOnClickListener(new View.OnClickListener() {\n  @Override\n  public void onClick(View view) {\n    TextView textView = findViewById(R.id.spokenWords);\n    textView.setText(&quot;Listening&quot;);\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    intent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 10000);\n    speechRecognizer.startListening(intent);\n\n  }\n});\n</code></pre>\n<p>Doing this does actually allow me to lengthen the time that the speech recognition service runs. Using the parameter of 10000 milliseconds, the recognition runs for a minimum of 10 seconds and then stops. However, I've run into a problem with this:</p>\n<p>If I make the milliseconds parameter too high, then all of a sudden the recognition does not last any longer than a second of silence. For example, when I changed the parameter to 3600000 milliseconds (an hour) and then ran the app, I turned on the speech recognition and then stayed silent. In response to my silence, the speech recognition stopped after about a second of silence (nowhere near an hour). This is unlike when the parameter was 10000 milliseconds where I could remain silent and the recognition still would not stop until at least 10 seconds have passed. Why is this? Is there perhaps a maximum for the EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS constant? If so, what is that maximum?</p>\n<p>Moreover, is there any way to just make the recognition run indefinitely so that I don't have to worry about a maximum? Thank you.</p>\n"},{"tags":["java","html-to-pdf","openhtmltopdf"],"comments":[{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":3,"creation_date":1537267148,"post_id":52384688,"comment_id":91713321,"body_markdown":"Can it be a font issue?","body":"Can it be a font issue?"},{"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1537267736,"post_id":52384688,"comment_id":91713654,"body_markdown":"Yes, maybe. I&#39;ve found a similar problem there: https://github.com/danfickle/openhtmltopdf/issues/70 \n\n\nBut I don&#39;t use any font for this text.","body":"Yes, maybe. I&#39;ve found a similar problem there: <a href=\"https://github.com/danfickle/openhtmltopdf/issues/70\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf/issues/70</a>    But I don&#39;t use any font for this text."},{"owner":{"account_id":2493093,"reputation":26492,"user_id":2170192,"accept_rate":100,"display_name":"Alex Shesterov"},"score":0,"creation_date":1537268100,"post_id":52384688,"comment_id":91713897,"body_markdown":"Can you please try to explicitly define a Unicode font in the CSS, like suggested here: https://github.com/danfickle/openhtmltopdf/issues/20#issuecomment-210754469 ?","body":"Can you please try to explicitly define a Unicode font in the CSS, like suggested here: <a href=\"https://github.com/danfickle/openhtmltopdf/issues/20#issuecomment-210754469\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf/issues/&hellip;</a> ?"},{"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1537349212,"post_id":52384688,"comment_id":91748786,"body_markdown":"I have ocrb10 font in my html template.\n@font-face {\n            font-family: ocrb10;\n            src: url(&#39;${host}/ocrb10.ttf&#39;)\n        }\n I&#39;ve tried to add &#39;unicode-range: U+?????;&#39; to this font-face but it doesn&#39;t work\n\nI can not find ocrb10 font in Unicode.","body":"I have ocrb10 font in my html template. @font-face {             font-family: ocrb10;             src: url(&#39;${host}/ocrb10.ttf&#39;)         }  I&#39;ve tried to add &#39;unicode-range: U+?????;&#39; to this font-face but it doesn&#39;t work  I can not find ocrb10 font in Unicode."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":0,"creation_date":1652800415,"post_id":52384688,"comment_id":127691378,"body_markdown":"What was the solution in the end?","body":"What was the solution in the end?"},{"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"score":0,"creation_date":1652863131,"post_id":52384688,"comment_id":127706868,"body_markdown":"@ndtreviv the problem has not solved yet","body":"@ndtreviv the problem has not solved yet"}],"answers":[{"tags":[],"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1652887673,"creation_date":1652887047,"answer_id":72291826,"question_id":52384688,"body_markdown":"In case it helps, we&#39;re using `com.openhtmltopdf:openhtmltopdf-pdfbox:1.0.10` and have found a way that works:\r\n\r\n```\r\n        new PdfRendererBuilder()\r\n                .useFastMode()\r\n                .useFont(new File(main.class.getClassLoader().getResource(&quot;arial-unicode-ms.ttf&quot;).getFile()), &quot;Arial Unicode MS&quot;)\r\n                .withW3cDocument(new W3CDom().fromJsoup(Jsoup.parse(html)), null)\r\n                .toStream(os)\r\n                .run();\r\n\r\n```\r\n\r\nIn the html we have a `&lt;style&gt;` element that declares some css for the page, in particular:\r\n\r\n```\r\n    font-family: &quot;Arial Unicode MS&quot;;\r\n```\r\n\r\nUnicode characters then display as they should.","title":"Unicode character Issue - openhtmltopdf library","body":"<p>In case it helps, we're using <code>com.openhtmltopdf:openhtmltopdf-pdfbox:1.0.10</code> and have found a way that works:</p>\n<pre><code>        new PdfRendererBuilder()\n                .useFastMode()\n                .useFont(new File(main.class.getClassLoader().getResource(&quot;arial-unicode-ms.ttf&quot;).getFile()), &quot;Arial Unicode MS&quot;)\n                .withW3cDocument(new W3CDom().fromJsoup(Jsoup.parse(html)), null)\n                .toStream(os)\n                .run();\n\n</code></pre>\n<p>In the html we have a <code>&lt;style&gt;</code> element that declares some css for the page, in particular:</p>\n<pre><code>    font-family: &quot;Arial Unicode MS&quot;;\n</code></pre>\n<p>Unicode characters then display as they should.</p>\n"},{"tags":[],"owner":{"account_id":13103863,"reputation":31,"user_id":9467338,"display_name":"Alper Karaağa&#231;lı"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673283078,"creation_date":1673283078,"answer_id":75060502,"question_id":52384688,"body_markdown":"I am using openhtmltopdf library. I had character problem too. Turkish characters looks like (İ&#214;Ğ -&gt; ###).\r\nPeople already say its about font problem. \r\n\r\nI add useFont method like this and download tff file in resource/fonts/\r\n\r\n\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.useFont(new File(Main.class.getClassLoader().getResource(&quot;fonts/ARIAL.TTF&quot;).getFile()), &quot;Arial&quot;);","title":"Unicode character Issue - openhtmltopdf library","body":"<p>I am using openhtmltopdf library. I had character problem too. Turkish characters looks like (İÖĞ -&gt; ###).\nPeople already say its about font problem.</p>\n<p>I add useFont method like this and download tff file in resource/fonts/</p>\n<pre><code>PdfRendererBuilder builder = new PdfRendererBuilder();\nbuilder.useFont(new File(Main.class.getClassLoader().getResource(&quot;fonts/ARIAL.TTF&quot;).getFile()), &quot;Arial&quot;);\n</code></pre>\n"}],"owner":{"account_id":6177253,"reputation":3107,"user_id":4813777,"display_name":"Taras Melnyk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3154,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1673283078,"creation_date":1537267020,"question_id":52384688,"body_markdown":"I use [openhtmltopdf][1] library (version: 0.0.1-RC15). I have a problem with unicode characters. In PDF file I see &quot;#&quot; symbols instead of &quot;ă&quot; and &quot;ș&quot;.\r\nHow I can fix it? Thank you.\r\n\r\n\r\n  [1]: https://github.com/danfickle/openhtmltopdf","title":"Unicode character Issue - openhtmltopdf library","body":"<p>I use <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtmltopdf</a> library (version: 0.0.1-RC15). I have a problem with unicode characters. In PDF file I see \"#\" symbols instead of \"ă\" and \"ș\".\nHow I can fix it? Thank you.</p>\n"},{"tags":["java","generics","design-patterns"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672934357,"creation_date":1672934357,"answer_id":75021196,"question_id":75021036,"body_markdown":"I guess there&#39;s no real universal answer to this question.\r\n\r\nOne could argue that every time you use `Object` in Java, it&#39;s already somewhat bad since you haven&#39;t defined a proper `Object` containing all of the stuff you need, on the other hand, I really know how much of an annoyance this can be, therefore I try to stick to data structures already available, mainly `Maps`.\r\n\r\nThe main problem is that your method(s) calling the method returning an `Object` need to cast the results anyway - without the knowledge of what this function does, it&#39;s hard to give any real advice here. \r\n\r\nTherefore my approach would be to look at what exactly are we returning and what these objects actually contain. \r\n\r\nI guess the even easier way would be to define a `List&lt;List&lt;String&gt;&gt;` on your `ObjectA` and just check of the existence of that list and modify your other method accordingly, if that does make any sense in the context of `ObjectA` and your methods. \r\n\r\nOther than that, I&#39;d probably go with a `Map&lt;String,Object&gt;` or even `Map&lt;?,Object&gt;`. \r\n\r\n","title":"Make a java method return different objects in one single call","body":"<p>I guess there's no real universal answer to this question.</p>\n<p>One could argue that every time you use <code>Object</code> in Java, it's already somewhat bad since you haven't defined a proper <code>Object</code> containing all of the stuff you need, on the other hand, I really know how much of an annoyance this can be, therefore I try to stick to data structures already available, mainly <code>Maps</code>.</p>\n<p>The main problem is that your method(s) calling the method returning an <code>Object</code> need to cast the results anyway - without the knowledge of what this function does, it's hard to give any real advice here.</p>\n<p>Therefore my approach would be to look at what exactly are we returning and what these objects actually contain.</p>\n<p>I guess the even easier way would be to define a <code>List&lt;List&lt;String&gt;&gt;</code> on your <code>ObjectA</code> and just check of the existence of that list and modify your other method accordingly, if that does make any sense in the context of <code>ObjectA</code> and your methods.</p>\n<p>Other than that, I'd probably go with a <code>Map&lt;String,Object&gt;</code> or even <code>Map&lt;?,Object&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673282311,"creation_date":1672934833,"answer_id":75021302,"question_id":75021036,"body_markdown":"With Java 14+, we have the possibility to use [Records (JEP 395, `openjdk.org`)][jep395]. Without knowing anything of the semantics, I will demonstrate the usage with a generic `record Pair`, but we can of course always find more descriptive names.\r\n\r\nWe define a generic `Pair` of generic types `T` and `U`:\r\n\r\n    record Pair&lt;T, U&gt; (T first, U second) {}\r\n\r\nAnd a dummy-implementation of `ObjectA`:\r\n\r\n    class ObjectA {\r\n      private final String name;\r\n    \r\n      public ObjectA(String name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        return &quot;ObjectA{&quot; +\r\n            &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n            &#39;}&#39;;\r\n      }\r\n    }\r\n\r\nWe can then implement our method like this:\r\n\r\n    public static Pair&lt;List&lt;ObjectA&gt;, List&lt;List&lt;String&gt;&gt;&gt; foo() {\r\n      return new Pair&lt;&gt;(\r\n          List.of(new ObjectA(&quot;one&quot;), new ObjectA(&quot;two&quot;)),\r\n          List.of(\r\n              List.of(&quot;three&quot;, &quot;four&quot;),\r\n              List.of(&quot;five&quot;, &quot;six&quot;),\r\n              List.of(&quot;seven&quot;, &quot;eight&quot;)));\r\n    }\r\n\r\nAnd call it like this:\r\n\r\n    var fooResult = foo();\r\n    System.out.println(fooResult.first()); // prints the List&lt;ObjectA&gt;\r\n    System.out.println(fooResult.second()); // prints the List&lt;List&lt;String&gt;&gt;\r\n    System.out.println(fooResult);\r\n\r\nThis would produce the following output:\r\n\r\n    [ObjectA{name=&#39;one&#39;}, ObjectA{name=&#39;two&#39;}]\r\n    [[three, four], [five, six], [seven, eight]]\r\n    Pair[first=[ObjectA{name=&#39;one&#39;}, ObjectA{name=&#39;two&#39;}], second=[[three, four], [five, six], [seven, eight]]]\r\n\r\n(Sorry, no `Ideone.com` demo, Ideone does not support Java 14+, only Java 12)\r\n\r\n[jep395]: https://openjdk.org/jeps/395","title":"Make a java method return different objects in one single call","body":"<p>With Java 14+, we have the possibility to use <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">Records (JEP 395, <code>openjdk.org</code>)</a>. Without knowing anything of the semantics, I will demonstrate the usage with a generic <code>record Pair</code>, but we can of course always find more descriptive names.</p>\n<p>We define a generic <code>Pair</code> of generic types <code>T</code> and <code>U</code>:</p>\n<pre><code>record Pair&lt;T, U&gt; (T first, U second) {}\n</code></pre>\n<p>And a dummy-implementation of <code>ObjectA</code>:</p>\n<pre><code>class ObjectA {\n  private final String name;\n\n  public ObjectA(String name) {\n    this.name = name;\n  }\n\n  @Override\n  public String toString() {\n    return &quot;ObjectA{&quot; +\n        &quot;name='&quot; + name + '\\'' +\n        '}';\n  }\n}\n</code></pre>\n<p>We can then implement our method like this:</p>\n<pre><code>public static Pair&lt;List&lt;ObjectA&gt;, List&lt;List&lt;String&gt;&gt;&gt; foo() {\n  return new Pair&lt;&gt;(\n      List.of(new ObjectA(&quot;one&quot;), new ObjectA(&quot;two&quot;)),\n      List.of(\n          List.of(&quot;three&quot;, &quot;four&quot;),\n          List.of(&quot;five&quot;, &quot;six&quot;),\n          List.of(&quot;seven&quot;, &quot;eight&quot;)));\n}\n</code></pre>\n<p>And call it like this:</p>\n<pre><code>var fooResult = foo();\nSystem.out.println(fooResult.first()); // prints the List&lt;ObjectA&gt;\nSystem.out.println(fooResult.second()); // prints the List&lt;List&lt;String&gt;&gt;\nSystem.out.println(fooResult);\n</code></pre>\n<p>This would produce the following output:</p>\n<pre><code>[ObjectA{name='one'}, ObjectA{name='two'}]\n[[three, four], [five, six], [seven, eight]]\nPair[first=[ObjectA{name='one'}, ObjectA{name='two'}], second=[[three, four], [five, six], [seven, eight]]]\n</code></pre>\n<p>(Sorry, no <code>Ideone.com</code> demo, Ideone does not support Java 14+, only Java 12)</p>\n"},{"tags":[],"owner":{"account_id":22019476,"reputation":41,"user_id":16288509,"display_name":"Pirooz Azar Abad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936080,"creation_date":1672935493,"answer_id":75021444,"question_id":75021036,"body_markdown":"If I understood your question correctly,\r\nyou should create a class with two fields `List&lt;ObjectA&gt;` and `List&lt;List&lt;String&gt;&gt;`\r\nas a model class. after filling the object with the required data, return it as a return type.\r\n&lt;br&gt;\r\nThe model class sample : \r\n&lt;br&gt;\r\n\r\n    public class TestModel{\r\n      private ObjectA objectA;\r\n      private List&lt;List&lt;String&gt;&gt; listOfStrings ; \r\n    }\r\n\r\nYour method will be : \r\n\r\n    public TestModel doSomething(....){\r\n\r\n    //do something\r\n    ...\r\n\r\n    //in the end\r\n    TestModel testModel = new TestModel();\r\n    testModel.setObjectA(objectA);\r\n    testModel.setListOfStrings(listOfStrings);\r\n    return testModel;\r\n    }","title":"Make a java method return different objects in one single call","body":"<p>If I understood your question correctly,\nyou should create a class with two fields <code>List&lt;ObjectA&gt;</code> and <code>List&lt;List&lt;String&gt;&gt;</code>\nas a model class. after filling the object with the required data, return it as a return type.\n<br>\nThe model class sample :\n<br></p>\n<pre><code>public class TestModel{\n  private ObjectA objectA;\n  private List&lt;List&lt;String&gt;&gt; listOfStrings ; \n}\n</code></pre>\n<p>Your method will be :</p>\n<pre><code>public TestModel doSomething(....){\n\n//do something\n...\n\n//in the end\nTestModel testModel = new TestModel();\ntestModel.setObjectA(objectA);\ntestModel.setListOfStrings(listOfStrings);\nreturn testModel;\n}\n</code></pre>\n"}],"owner":{"account_id":9754626,"reputation":3,"user_id":7231788,"display_name":"Sainadh Makeneni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75021302,"answer_count":3,"score":0,"last_activity_date":1673282311,"creation_date":1672933666,"question_id":75021036,"body_markdown":"I have a java method which has to return both `List&lt;ObjectA&gt;` and a `List&lt;List&lt;String&gt;&gt;` for each and every call made to it.\r\n\r\nOne way I can think of achieving this is by returning `Map&lt;String, Object&gt;` where string will be key and object will be my lists. \r\nBut I think returning a Map is not an elegant way of doing so in my scenario. Any help with this?","title":"Make a java method return different objects in one single call","body":"<p>I have a java method which has to return both <code>List&lt;ObjectA&gt;</code> and a <code>List&lt;List&lt;String&gt;&gt;</code> for each and every call made to it.</p>\n<p>One way I can think of achieving this is by returning <code>Map&lt;String, Object&gt;</code> where string will be key and object will be my lists.\nBut I think returning a Map is not an elegant way of doing so in my scenario. Any help with this?</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":3721300,"reputation":669,"user_id":3096310,"display_name":"bhowden"},"score":0,"creation_date":1403634595,"post_id":24393684,"comment_id":37730695,"body_markdown":"check if the servlet dependency is being downloaded. Try downloading all the dependencies into a separate folder with `mvn dependency:copy-dependencies -Dclassifer=directory` and see if they all make it","body":"check if the servlet dependency is being downloaded. Try downloading all the dependencies into a separate folder with <code>mvn dependency:copy-dependencies -Dclassifer=directory</code> and see if they all make it"}],"answers":[{"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673280198,"creation_date":1403634717,"answer_id":24393830,"question_id":24393684,"body_markdown":"Class is not found at runtime, but it is available at compile time. You need to add the corresponding JAR file so that it can be found at runtime. I generally use Ivy and in Eclipse I do:\r\n\r\nMenu *Project* &amp;rarr; *Properties* &amp;rarr; *Deployment Assembly* &amp;rarr; *Add* &amp;rarr; *Java Build Path Entries* &amp;rarr; *Ivy* &amp;rarr; *Finish*\r\n\r\nThere must be something similar for Maven as well.\r\n\r\nAlso you need `javax.servlet-api` only during compile time as the container you are using to run the server will provide the actual APIs at runtime.\r\n\r\n\r\n\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>Class is not found at runtime, but it is available at compile time. You need to add the corresponding JAR file so that it can be found at runtime. I generally use Ivy and in Eclipse I do:</p>\n<p>Menu <em>Project</em> → <em>Properties</em> → <em>Deployment Assembly</em> → <em>Add</em> → <em>Java Build Path Entries</em> → <em>Ivy</em> → <em>Finish</em></p>\n<p>There must be something similar for Maven as well.</p>\n<p>Also you need <code>javax.servlet-api</code> only during compile time as the container you are using to run the server will provide the actual APIs at runtime.</p>\n"},{"comments":[{"owner":{"account_id":1630071,"reputation":1032,"user_id":1515111,"accept_rate":50,"display_name":"rd22"},"score":0,"creation_date":1454306947,"post_id":24394329,"comment_id":57968223,"body_markdown":"or you can add `&lt;bean class=&quot;org.springframework.mock.web.MockServletContext&quot;/&gt;` to the test configuration file.","body":"or you can add <code>&lt;bean class=&quot;org.springframework.mock.web.MockServletContext&quot;&#47;&gt;</code> to the test configuration file."}],"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1673281921,"creation_date":1403636555,"answer_id":24394329,"question_id":24393684,"body_markdown":"It is a common issue. As [Aniket Thakur said][1], the container will provide all [Java Servlet][2] classes at runtime. But during the tests you **need** a JAR file to provide them.\r\n\r\nThe dependency you added to your POM is only the API: it declares everything but contains no implementation. So it will not help. Anyway, you declare it as &quot;provided&quot; which says to Maven &quot;don&#39;t worry, I know it will be on classpath&quot;.\r\n\r\nYou have to add a dependency that bring the implementation of all [Java EE][3] classes in `test` scope. In my projects I use [GlassFish][4] even if I later use [Tomcat][5] as a Servlet container, but I once found the dependency googling for the same problem:\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt should solve your `NoClassDefFoundError` problem.\r\n\r\n  [1]: https://stackoverflow.com/questions/24393684/constructor-threw-exception-nested-exception-is-java-lang-noclassdeffounderror/24393830#24393830\r\n  [2]: https://en.wikipedia.org/wiki/Jakarta_Servlet\r\n  [3]: https://en.wikipedia.org/wiki/Jakarta_EE\r\n  [4]: https://en.wikipedia.org/wiki/GlassFish\r\n  [5]: https://en.wikipedia.org/wiki/Apache_Tomcat\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>It is a common issue. As <a href=\"https://stackoverflow.com/questions/24393684/constructor-threw-exception-nested-exception-is-java-lang-noclassdeffounderror/24393830#24393830\">Aniket Thakur said</a>, the container will provide all <a href=\"https://en.wikipedia.org/wiki/Jakarta_Servlet\" rel=\"nofollow noreferrer\">Java Servlet</a> classes at runtime. But during the tests you <strong>need</strong> a JAR file to provide them.</p>\n<p>The dependency you added to your POM is only the API: it declares everything but contains no implementation. So it will not help. Anyway, you declare it as &quot;provided&quot; which says to Maven &quot;don't worry, I know it will be on classpath&quot;.</p>\n<p>You have to add a dependency that bring the implementation of all <a href=\"https://en.wikipedia.org/wiki/Jakarta_EE\" rel=\"nofollow noreferrer\">Java EE</a> classes in <code>test</code> scope. In my projects I use <a href=\"https://en.wikipedia.org/wiki/GlassFish\" rel=\"nofollow noreferrer\">GlassFish</a> even if I later use <a href=\"https://en.wikipedia.org/wiki/Apache_Tomcat\" rel=\"nofollow noreferrer\">Tomcat</a> as a Servlet container, but I once found the dependency googling for the same problem:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet&lt;/artifactId&gt;\n    &lt;version&gt;3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should solve your <code>NoClassDefFoundError</code> problem.</p>\n"}],"owner":{"account_id":2280156,"reputation":970,"user_id":2005443,"accept_rate":14,"display_name":"Jaxox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20175,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1673281921,"creation_date":1403634242,"question_id":24393684,"body_markdown":"I am trying to set up the JUnit test with the MockMVC.\r\n\r\nFrom [this link][1] - &quot;either must not use the Servlet API or you need to provide it on the classpath&quot;.\r\n\r\nI added the following to file *pom.xml*, but it didn&#39;t work. What should I do?\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHere is the trace:\r\n\r\n```lang-none\r\norg.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.test.context.web.WebDelegatingSmartContextLoader]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:130)\r\n    at org.springframework.test.context.ContextLoaderUtils.resolveContextLoader(ContextLoaderUtils.java:118)\r\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:594)\r\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:560)\r\n    at org.springframework.test.context.TestContext.&lt;init&gt;(TestContext.java:99)\r\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:117)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:119)\r\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:108)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:31)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\r\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\r\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\r\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\r\n    at org.springframework.test.context.web.WebDelegatingSmartContextLoader.&lt;init&gt;(WebDelegatingSmartContextLoader.java:36)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\r\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)\r\n    ... 22 more\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n    at java.security.AccessController.doPrivileged(Native Method)\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    ... 28 more`enter code here`\r\n```\r\n\r\n&lt;hr/&gt;\r\n\r\nBased on the comments, I changed the scope to compile, and then it seems past the issue of class not found!\r\n\r\n```lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n  [1]: http://forum.spring.io/forum/spring-projects/integration/125805-unit-testing-with-spring-integration\r\n\r\n\r\n","title":"Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext","body":"<p>I am trying to set up the JUnit test with the MockMVC.</p>\n<p>From <a href=\"http://forum.spring.io/forum/spring-projects/integration/125805-unit-testing-with-spring-integration\" rel=\"nofollow noreferrer\">this link</a> - &quot;either must not use the Servlet API or you need to provide it on the classpath&quot;.</p>\n<p>I added the following to file <em>pom.xml</em>, but it didn't work. What should I do?</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is the trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springframework.test.context.web.WebDelegatingSmartContextLoader]: Constructor threw exception; nested exception is java.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:163)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:130)\n    at org.springframework.test.context.ContextLoaderUtils.resolveContextLoader(ContextLoaderUtils.java:118)\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:594)\n    at org.springframework.test.context.ContextLoaderUtils.buildMergedContextConfiguration(ContextLoaderUtils.java:560)\n    at org.springframework.test.context.TestContext.&lt;init&gt;(TestContext.java:99)\n    at org.springframework.test.context.TestContextManager.&lt;init&gt;(TestContextManager.java:117)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTestContextManager(SpringJUnit4ClassRunner.java:119)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.&lt;init&gt;(SpringJUnit4ClassRunner.java:108)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:31)\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:24)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:29)\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:57)\n    at org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:24)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:63)\nCaused by: java.lang.NoClassDefFoundError: javax/servlet/ServletContext\n    at org.springframework.test.context.web.WebDelegatingSmartContextLoader.&lt;init&gt;(WebDelegatingSmartContextLoader.java:36)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:148)\n    ... 22 more\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletContext\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 28 more`enter code here`\n</code></pre>\n<hr/>\n<p>Based on the comments, I changed the scope to compile, and then it seems past the issue of class not found!</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot","httpresponse","response-entity"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673281737,"post_id":75060206,"comment_id":132458547,"body_markdown":"Don&#39;t set it. The serializing stuff will do that if needed. Currently you prbably break it yourself by providingthe content-length (wrongly) which leads to the cut-off.","body":"Don&#39;t set it. The serializing stuff will do that if needed. Currently you prbably break it yourself by providingthe content-length (wrongly) which leads to the cut-off."},{"owner":{"account_id":19654229,"reputation":43,"user_id":14387256,"display_name":"adamB"},"score":0,"creation_date":1673285317,"post_id":75060206,"comment_id":132459829,"body_markdown":"Do you have any links you could share that show this? M.Deinum","body":"Do you have any links you could share that show this? M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673331203,"post_id":75060206,"comment_id":132468721,"body_markdown":"That show what?","body":"That show what?"}],"owner":{"account_id":19654229,"reputation":43,"user_id":14387256,"display_name":"adamB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673281635,"creation_date":1673281635,"question_id":75060206,"body_markdown":"I&#39;m trying to set the content length of my ResponseEntity&lt;List&lt;Object&gt;&gt; but the full list isn&#39;t returned in the response. I tried something like\r\n\r\n   \r\n\r\n        long contentLength = staticMethodGetsContentLength(List&lt;Object&gt; objectList);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Content-Length&quot;, String.valueOf(contentLength));\r\n        return Response.ok().headers(headers).body(objectList);\r\n\r\nand then what is returned is a JSON list like \r\n\r\n**[\r\n   { \r\n    &quot;data&quot;: &quot;data&quot;**\r\n\r\nwithout closing brackets or the full list of objects. Is there an easy fix for this or an alternative to what I&#39;m doing?\r\n\r\n\r\n\r\n","title":"How do I return Http Response Content Length for ResponseEntity&lt;List&lt;Object&gt;&gt; without formatting issues or losing data from my response body?","body":"<p>I'm trying to set the content length of my ResponseEntity&lt;List&gt; but the full list isn't returned in the response. I tried something like</p>\n<pre><code>    long contentLength = staticMethodGetsContentLength(List&lt;Object&gt; objectList);\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Length&quot;, String.valueOf(contentLength));\n    return Response.ok().headers(headers).body(objectList);\n</code></pre>\n<p>and then what is returned is a JSON list like</p>\n<p><strong>[\n{\n&quot;data&quot;: &quot;data&quot;</strong></p>\n<p>without closing brackets or the full list of objects. Is there an easy fix for this or an alternative to what I'm doing?</p>\n"},{"tags":["java","matrix","arraylist"],"comments":[{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1673280114,"post_id":75059886,"comment_id":132457918,"body_markdown":"What is the error?  `N` is not declared. Also it should be `n`","body":"What is the error?  <code>N</code> is not declared. Also it should be <code>n</code>"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1673280309,"post_id":75059886,"comment_id":132458001,"body_markdown":"Initializing a static variable (that therefor doesn&#39;t belong to any object) inside a constructor that creates an object looks like a code smell to me. Apart from that your problem is that Arrays need to be a specific size, so `N` needs to be a variable that at the time of the constructor has a specific numeric value (like `int N = 10;` for example). Initializing an Array undefined dimensions isn&#39;t possible.","body":"Initializing a static variable (that therefor doesn&#39;t belong to any object) inside a constructor that creates an object looks like a code smell to me. Apart from that your problem is that Arrays need to be a specific size, so <code>N</code> needs to be a variable that at the time of the constructor has a specific numeric value (like <code>int N = 10;</code> for example). Initializing an Array undefined dimensions isn&#39;t possible."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":2,"creation_date":1673281677,"post_id":75059886,"comment_id":132458533,"body_markdown":"What is the error? `N` is now declared but not instantiated (set to a value). Also it should be `n`","body":"What is the error? <code>N</code> is now declared but not instantiated (set to a value). Also it should be <code>n</code>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673280729,"creation_date":1673280729,"answer_id":75060047,"question_id":75059886,"body_markdown":"You cannot initialize a multi-dimensional array in one go in Java. First you have to initialize the outer dimension and then in a loop the inner dimension. This is because the inner dimension is not of a fixed size, you could have arrays of various lengths as inner dimension(s).\r\n\r\nAlso please don&#39;t mix generics and arrays in the way you did in your example, bad confusion is likely to happen.\r\n\r\nAnd don&#39;t initialize static variables in the constructor, this should be either done in the declaration or in a static initialization block.\r\n\r\nOne of the ways to initialize a multi-dimensional array could be:\r\n``` lang-java\r\nInteger[][] matrix = new Integer[42][];\r\njava.util.Arrays.setAll(i -&gt; new Integer[123]);\r\n```\r\n(This examples uses the fixed dimension of 42 and 123 for the both dimensions.)\r\n\r\nAs the main question seems to be the initialization, I do not cover Generics, mixing with Lists, and static initialization here.","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>You cannot initialize a multi-dimensional array in one go in Java. First you have to initialize the outer dimension and then in a loop the inner dimension. This is because the inner dimension is not of a fixed size, you could have arrays of various lengths as inner dimension(s).</p>\n<p>Also please don't mix generics and arrays in the way you did in your example, bad confusion is likely to happen.</p>\n<p>And don't initialize static variables in the constructor, this should be either done in the declaration or in a static initialization block.</p>\n<p>One of the ways to initialize a multi-dimensional array could be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[][] matrix = new Integer[42][];\njava.util.Arrays.setAll(i -&gt; new Integer[123]);\n</code></pre>\n<p>(This examples uses the fixed dimension of 42 and 123 for the both dimensions.)</p>\n<p>As the main question seems to be the initialization, I do not cover Generics, mixing with Lists, and static initialization here.</p>\n"},{"tags":[],"owner":{"account_id":25538348,"reputation":15,"user_id":19324961,"display_name":"Nnanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673281302,"creation_date":1673281302,"answer_id":75060144,"question_id":75059886,"body_markdown":"Java will not allow you to create a generic array. Why don&#39;t you do it the other way round? Why not implement the matrix as an `ArrayList` of ArrayLists? I think that would be better.","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>Java will not allow you to create a generic array. Why don't you do it the other way round? Why not implement the matrix as an <code>ArrayList</code> of ArrayLists? I think that would be better.</p>\n"}],"owner":{"account_id":24048140,"reputation":1,"user_id":18026936,"display_name":"ARIF FAISAL"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673281597,"creation_date":1673279999,"question_id":75059886,"body_markdown":"I need to use a N by N matrix, where each cell is of type Arraylist&lt;Integer&gt;.\r\nI declared a 2D array like below:\r\n```\r\npublic static int N;\r\nprivate static ArrayList&lt;Integer&gt;[][] matrix;\r\npublic MyConstructor() {\r\n    matrix = new ArrayList[N][N];\r\n}\r\n```\r\nBut, it shows error.\r\nHow can I initialize that variable &quot;matrix&quot; inside a constructor ?\r\n\r\n\r\n","title":"Initializing 2D arrray of Arraylist&lt;Integer&gt; type","body":"<p>I need to use a N by N matrix, where each cell is of type Arraylist.\nI declared a 2D array like below:</p>\n<pre><code>public static int N;\nprivate static ArrayList&lt;Integer&gt;[][] matrix;\npublic MyConstructor() {\n    matrix = new ArrayList[N][N];\n}\n</code></pre>\n<p>But, it shows error.\nHow can I initialize that variable &quot;matrix&quot; inside a constructor ?</p>\n"},{"tags":["java","rabbitmq","spring-cloud-dataflow"],"answers":[{"comments":[{"owner":{"account_id":27320494,"reputation":11,"user_id":20834279,"display_name":"Emmanuel_Arreola"},"score":0,"creation_date":1671664308,"post_id":74882417,"comment_id":132150138,"body_markdown":"Hi onobc, thanks for the replay, I already check the rabbit source application but at least I&#39;m not able to spot where the suscription to the queue stops. Is there a way to tell Rabbit/AMQP to tell to send this message?","body":"Hi onobc, thanks for the replay, I already check the rabbit source application but at least I&#39;m not able to spot where the suscription to the queue stops. Is there a way to tell Rabbit/AMQP to tell to send this message?"},{"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"score":0,"creation_date":1671757734,"post_id":74882417,"comment_id":132171531,"body_markdown":"@Emmanuel_Arreola\n\nIt seems like the message is not being acknowledged (even though I see you set autoAck to true in the `basicConsume` call).\n\nThe reason you did not find any hints in the RabbitSource is because it leverages Spring Integration to handle pulling in the inbound messages. \n\nI recommend replacing w/ the provided RabbitSource as it is very robust and likely not have this issue. If you continue w/ your custom source you will most likely continue wanting to add more features which are already in the built-in RabbitSource app.","body":"@Emmanuel_Arreola  It seems like the message is not being acknowledged (even though I see you set autoAck to true in the <code>basicConsume</code> call).  The reason you did not find any hints in the RabbitSource is because it leverages Spring Integration to handle pulling in the inbound messages.   I recommend replacing w/ the provided RabbitSource as it is very robust and likely not have this issue. If you continue w/ your custom source you will most likely continue wanting to add more features which are already in the built-in RabbitSource app."},{"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"score":0,"creation_date":1671758445,"post_id":74882417,"comment_id":132171634,"body_markdown":"@Emmanuel_Arreola another reason to go w/ built-in app is performance. It opens a flux to retrieve the messages but w/ a simple supplier approach it will recreate the connection every poll interval.","body":"@Emmanuel_Arreola another reason to go w/ built-in app is performance. It opens a flux to retrieve the messages but w/ a simple supplier approach it will recreate the connection every poll interval."}],"tags":[],"owner":{"account_id":24209301,"reputation":491,"user_id":18166042,"display_name":"onobc"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671662058,"creation_date":1671662058,"answer_id":74882417,"question_id":74881077,"body_markdown":"arreola,\r\n\r\nBecause this is a custom function using Rabbit/AMQP directly, SCDF has no influence. This is therefore more of a Rabbit/AMQP question. \r\n\r\nAlso, you may want to take a look at the [RabbitSource](https://github.com/spring-cloud/stream-applications/tree/main/applications/source/rabbit-source) provided application which may serve as a replacement. ","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>arreola,</p>\n<p>Because this is a custom function using Rabbit/AMQP directly, SCDF has no influence. This is therefore more of a Rabbit/AMQP question.</p>\n<p>Also, you may want to take a look at the <a href=\"https://github.com/spring-cloud/stream-applications/tree/main/applications/source/rabbit-source\" rel=\"nofollow noreferrer\">RabbitSource</a> provided application which may serve as a replacement.</p>\n"},{"tags":[],"owner":{"account_id":27320494,"reputation":11,"user_id":20834279,"display_name":"Emmanuel_Arreola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673281578,"creation_date":1673281578,"answer_id":75060197,"question_id":74881077,"body_markdown":"First I want to thanks @onobc for his/her guidence. And also to end this question, what I use to extract specific headers with payload I use the Transform processor default application with a SPeL expression like this: -**-expression=&quot;new String(headers.get(&#39;LoggerID&#39;) + payload)**. Where LoggerID is the name of the header taht you want to extract.","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>First I want to thanks @onobc for his/her guidence. And also to end this question, what I use to extract specific headers with payload I use the Transform processor default application with a SPeL expression like this: -<strong>-expression=&quot;new String(headers.get('LoggerID') + payload)</strong>. Where LoggerID is the name of the header taht you want to extract.</p>\n"}],"owner":{"account_id":27320494,"reputation":11,"user_id":20834279,"display_name":"Emmanuel_Arreola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75060197,"answer_count":2,"score":1,"last_activity_date":1673281578,"creation_date":1671651851,"question_id":74881077,"body_markdown":"I&#39;m suscribing to a Queue on rabbitMQ server and consuming the messages on it to retrieve the body and one particular header. This is done on Spring cloud Dataflow Source application, the issue is when it starts it keeps executing and returning the last message. What do I need to add so the application only execute when a new Message comes to the queue that is listening to?\r\n\r\nHere is my Supplier Code: \r\n\r\n\r\n```\r\n@Log4j2\r\n@EnableConfigurationProperties({ RabbitMQProperties.class })\r\n@Configuration\r\npublic class ReceiveMessageConfiguration {\r\n\tprivate final static String QUEUE_NAME = &quot;UniversalId&quot;;\r\n\tString payload;\r\n\tConnection connection;\r\n\tChannel channel;\r\n\r\n\r\n\t@Bean\r\n\tpublic Supplier&lt;String&gt; receiverMessage(RabbitMQProperties rabbitMQProperties) throws Exception {\r\n\t\treturn () -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tConnectionFactory factory = new ConnectionFactory();\r\n\t\t\t\tfactory.setHost(&quot;localhost&quot;);\r\n\t\t\t\tfactory.setRequestedHeartbeat(0);\r\n\r\n\t\t\t\tconnection = factory.newConnection();\r\n\t\t\t\tchannel = connection.createChannel();\r\n\r\n\t\t\t\tchannel.queueDeclare(QUEUE_NAME, true, false, false, null);\r\n\r\n\t\t\t\tDeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\r\n\t\t\t\t\tString message = new String(delivery.getBody(), StandardCharsets.UTF_8);\r\n//\t          \tGet headers from properties\r\n\t\t\t\t\tAMQP.BasicProperties properties = delivery.getProperties();\r\n\t\t\t\t\tMap&lt;String, Object&gt; headers = properties.getHeaders();\r\n\r\n//\t\t\t\tExtract and print payload and header\r\n\t\t\t\t\tfor (Map.Entry&lt;String, Object&gt; header : headers.entrySet()) {\r\n\t\t\t\t\t\tif (header.getKey().toString().equals(&quot;UniversalId&quot;)) {\r\n//\t\t\t\t\t\tlog.info(&quot;ID nedeed: &quot; + header.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpayload = message;\r\n\t\t\t\t};\r\n\t\t\t\tchannel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\r\n\t\t\t\t});\r\n\t\t\t\tlog.info(payload);\r\n\t\t\t\tif (payload != null) {\r\n\t\t\t\t\treturn payload;\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} finally {\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tchannel.close();\r\n\t\t\t\t\tconnection.close();\r\n\t\t\t\t} catch (IOException | TimeoutException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn new String(&quot;No message&quot;);\r\n\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nMy properties file is like this: \r\n\r\n```\r\nspring.cloud.stream.function.bindings.receiverMessage-in-0=input\r\nspring.cloud.stream.function.bindings.receiverMessage-out-0=output\r\nspring.cloud.stream.bindings.input.destination=receiverMessage-input\r\nspring.cloud.stream.bindings.output.destination=receiverMessage-output\r\n```\r\n\r\nUpdate: Here is an example of the console messages:\r\n```\r\n2022-12-21T16:25:19.725-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[           main][0;39m [36mm.c.n.r.RabbitMqCustomSourceApplication [0;39m [2m:[0;39m Started RabbitMqCustomSourceApplication in 7.888 seconds (process running for 9.482)\r\n[2m2022-12-21T16:25:20.432-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:21.478-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:22.523-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:23.568-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:24.604-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:25.913-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:27.056-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:28.124-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\r\n[2m2022-12-21T16:25:29.167-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\r\n    {\r\n        &quot;MailRequest&quot;: {\r\n            &quot;action&quot;: &quot;fourth&quot;,\r\n            &quot;mails&quot;: []\r\n        }\r\n    }\r\n]\r\n[2m2022-12-21T16:25:30.233-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\r\n    {\r\n        &quot;MailRequest&quot;: {\r\n            &quot;action&quot;: &quot;fourth&quot;,\r\n            &quot;mails&quot;: []\r\n        }\r\n    }\r\n]\r\n\r\n```\r\n\r\nI already try to change from RabbitMQ API to AMQP API but the behaviour is the same.","title":"How to avoid Spring Cloud Dataflow Source application to keep returning same message","body":"<p>I'm suscribing to a Queue on rabbitMQ server and consuming the messages on it to retrieve the body and one particular header. This is done on Spring cloud Dataflow Source application, the issue is when it starts it keeps executing and returning the last message. What do I need to add so the application only execute when a new Message comes to the queue that is listening to?</p>\n<p>Here is my Supplier Code:</p>\n<pre><code>@Log4j2\n@EnableConfigurationProperties({ RabbitMQProperties.class })\n@Configuration\npublic class ReceiveMessageConfiguration {\n    private final static String QUEUE_NAME = &quot;UniversalId&quot;;\n    String payload;\n    Connection connection;\n    Channel channel;\n\n\n    @Bean\n    public Supplier&lt;String&gt; receiverMessage(RabbitMQProperties rabbitMQProperties) throws Exception {\n        return () -&gt; {\n            try {\n                ConnectionFactory factory = new ConnectionFactory();\n                factory.setHost(&quot;localhost&quot;);\n                factory.setRequestedHeartbeat(0);\n\n                connection = factory.newConnection();\n                channel = connection.createChannel();\n\n                channel.queueDeclare(QUEUE_NAME, true, false, false, null);\n\n                DeliverCallback deliverCallback = (consumerTag, delivery) -&gt; {\n                    String message = new String(delivery.getBody(), StandardCharsets.UTF_8);\n//              Get headers from properties\n                    AMQP.BasicProperties properties = delivery.getProperties();\n                    Map&lt;String, Object&gt; headers = properties.getHeaders();\n\n//              Extract and print payload and header\n                    for (Map.Entry&lt;String, Object&gt; header : headers.entrySet()) {\n                        if (header.getKey().toString().equals(&quot;UniversalId&quot;)) {\n//                      log.info(&quot;ID nedeed: &quot; + header.getValue());\n                        }\n                    }\n                    payload = message;\n                };\n                channel.basicConsume(QUEUE_NAME, true, deliverCallback, consumerTag -&gt; {\n                });\n                log.info(payload);\n                if (payload != null) {\n                    return payload;\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n\n                try {\n                    channel.close();\n                    connection.close();\n                } catch (IOException | TimeoutException e) {\n                    e.printStackTrace();\n                }\n            }\n            return new String(&quot;No message&quot;);\n\n        };\n    }\n}\n</code></pre>\n<p>My properties file is like this:</p>\n<pre><code>spring.cloud.stream.function.bindings.receiverMessage-in-0=input\nspring.cloud.stream.function.bindings.receiverMessage-out-0=output\nspring.cloud.stream.bindings.input.destination=receiverMessage-input\nspring.cloud.stream.bindings.output.destination=receiverMessage-output\n</code></pre>\n<p>Update: Here is an example of the console messages:</p>\n<pre><code>2022-12-21T16:25:19.725-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[           main][0;39m [36mm.c.n.r.RabbitMqCustomSourceApplication [0;39m [2m:[0;39m Started RabbitMqCustomSourceApplication in 7.888 seconds (process running for 9.482)\n[2m2022-12-21T16:25:20.432-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:21.478-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:22.523-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:23.568-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:24.604-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:25.913-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:27.056-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:28.124-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m null\n[2m2022-12-21T16:25:29.167-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\n    {\n        &quot;MailRequest&quot;: {\n            &quot;action&quot;: &quot;fourth&quot;,\n            &quot;mails&quot;: []\n        }\n    }\n]\n[2m2022-12-21T16:25:30.233-06:00[0;39m [32m INFO[0;39m [35m21600[0;39m [2m---[0;39m [2m[   scheduling-1][0;39m [36mm.c.n.r.s.ReceiveMessageConfiguration   [0;39m [2m:[0;39m [\n    {\n        &quot;MailRequest&quot;: {\n            &quot;action&quot;: &quot;fourth&quot;,\n            &quot;mails&quot;: []\n        }\n    }\n]\n\n</code></pre>\n<p>I already try to change from RabbitMQ API to AMQP API but the behaviour is the same.</p>\n"},{"tags":["java","spring-boot","jvm","out-of-memory","activemq-artemis"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673280622,"post_id":75056925,"comment_id":132458118,"body_markdown":"Does this answer your question? [&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;](https://stackoverflow.com/questions/16789288/java-lang-outofmemoryerror-unable-to-create-new-native-thread)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16789288/java-lang-outofmemoryerror-unable-to-create-new-native-thread\">&quot;java.lang.OutOfMemoryError : unable to create new native Thread&quot;</a>"},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1673327769,"post_id":75056925,"comment_id":132468133,"body_markdown":"You might be facing low OS memory condition and/or OS limit on max number of open files or tasks/threads. I recommend reading through the link posted above by Justin. This can help too: https://www.baeldung.com/java-outofmemoryerror-unable-to-create-new-native-thread","body":"You might be facing low OS memory condition and/or OS limit on max number of open files or tasks/threads. I recommend reading through the link posted above by Justin. This can help too: <a href=\"https://www.baeldung.com/java-outofmemoryerror-unable-to-create-new-native-thread\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"owner":{"account_id":27476718,"reputation":1,"user_id":20964577,"display_name":"ATeroiyet"},"score":0,"creation_date":1673426990,"post_id":75056925,"comment_id":132494060,"body_markdown":"I am investigating in root cause , we are using managed domain to setup wildfly . I would to ask here if in this mode of setup wildfly the use of activemq for messaging is to communicate with the other hosts ???","body":"I am investigating in root cause , we are using managed domain to setup wildfly . I would to ask here if in this mode of setup wildfly the use of activemq for messaging is to communicate with the other hosts ???"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1673624917,"post_id":75056925,"comment_id":132548120,"body_markdown":"WildFly does not use ActiveMQ Artemis to communicate with other hosts in any configuration.","body":"WildFly does not use ActiveMQ Artemis to communicate with other hosts in any configuration."}],"owner":{"account_id":27476718,"reputation":1,"user_id":20964577,"display_name":"ATeroiyet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673280605,"creation_date":1673265411,"question_id":75056925,"body_markdown":"I have an application deployed on WildFly, and I use the domain mode.  The VM used for deployment is full saturation when I checked the log I found the size of the server log file so big (approximately 25G). When I checked the log I found this warning is repeated: \r\n\r\n    2023-01-05 09:55:15,693 WARN  [org.apache.activemq.artemis.core.server] (activemq-failure-check-thread) AMQ222082: error on connection failure check: java.lang.OutOfMemoryError: unable to create new native thread\r\n    \tat java.lang.Thread.start0(Native Method)\r\n    \tat java.lang.Thread.start(Thread.java:717)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1378)\r\n    \tat org.apache.activemq.artemis.utils.actors.ProcessorBase.onAddedTaskIfNotRunning(ProcessorBase.java:205)\r\n    \tat org.apache.activemq.artemis.utils.actors.ProcessorBase.task(ProcessorBase.java:193)\r\n    \tat org.apache.activemq.artemis.utils.actors.OrderedExecutor.execute(OrderedExecutor.java:54)\r\n    \tat org.apache.activemq.artemis.core.remoting.server.impl.RemotingServiceImpl$FailureCheckAndFlushThread.run(RemotingServiceImpl.java:709)\r\n\r\nCan anyone here helps with this problem? I don&#39;t know I think that is due to the heap memory, but here I&#39;m in the prod profile so what do you think?","title":"AMQ222082: error on connection failure check: java.lang.OutOfMemoryError: unable to create new native thread","body":"<p>I have an application deployed on WildFly, and I use the domain mode.  The VM used for deployment is full saturation when I checked the log I found the size of the server log file so big (approximately 25G). When I checked the log I found this warning is repeated:</p>\n<pre><code>2023-01-05 09:55:15,693 WARN  [org.apache.activemq.artemis.core.server] (activemq-failure-check-thread) AMQ222082: error on connection failure check: java.lang.OutOfMemoryError: unable to create new native thread\n    at java.lang.Thread.start0(Native Method)\n    at java.lang.Thread.start(Thread.java:717)\n    at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:957)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1378)\n    at org.apache.activemq.artemis.utils.actors.ProcessorBase.onAddedTaskIfNotRunning(ProcessorBase.java:205)\n    at org.apache.activemq.artemis.utils.actors.ProcessorBase.task(ProcessorBase.java:193)\n    at org.apache.activemq.artemis.utils.actors.OrderedExecutor.execute(OrderedExecutor.java:54)\n    at org.apache.activemq.artemis.core.remoting.server.impl.RemotingServiceImpl$FailureCheckAndFlushThread.run(RemotingServiceImpl.java:709)\n</code></pre>\n<p>Can anyone here helps with this problem? I don't know I think that is due to the heap memory, but here I'm in the prod profile so what do you think?</p>\n"},{"tags":["java","android","eclipse"],"owner":{"account_id":17860700,"reputation":233,"user_id":12974287,"display_name":"Alexey Ignatyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1673280319,"creation_date":1673280319,"question_id":75059967,"body_markdown":"I am using Java Eclipse IDE for programming Android application. Recently Google changed requirements for publishing new apk&#39;s: it must have targetSdkVersion&gt;=31.\r\nI tried to sign apk inside Eclipse with targetSdkVersion=31 - but now Android says .apk format is corrupted. \r\n\r\nI undestand that this way of programming for Android is obsolete, but I really don&#39;t like Android Studio.\r\n\r\nMy question is for guys who may still programming for Android under Eclipse: is there are a way to sign .APK inside Eclipse with targetSdkVersion&gt;31?\r\n\r\nThanks.","title":"Programming for Android under Eclipse","body":"<p>I am using Java Eclipse IDE for programming Android application. Recently Google changed requirements for publishing new apk's: it must have targetSdkVersion&gt;=31.\nI tried to sign apk inside Eclipse with targetSdkVersion=31 - but now Android says .apk format is corrupted.</p>\n<p>I undestand that this way of programming for Android is obsolete, but I really don't like Android Studio.</p>\n<p>My question is for guys who may still programming for Android under Eclipse: is there are a way to sign .APK inside Eclipse with targetSdkVersion&gt;31?</p>\n<p>Thanks.</p>\n"},{"tags":["java","locale","dollar-sign","java-19"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673272117,"post_id":75058112,"comment_id":132454636,"body_markdown":"Just for the records: the outcome is the same when you omit the redundant `currencyFormatter.setCurrency(Currency.getInstance(Locale.CANADA_FRENCH));`?","body":"Just for the records: the outcome is the same when you omit the redundant <code>currencyFormatter.setCurrency(Currency.getInstance(Locale.CA&zwnj;&#8203;NADA_FRENCH));</code>?"},{"owner":{"account_id":22507815,"reputation":43,"user_id":16703146,"display_name":"Jakub Bręk"},"score":1,"creation_date":1673272320,"post_id":75058112,"comment_id":132454714,"body_markdown":"The outcome is the same, I mean there is the same difference","body":"The outcome is the same, I mean there is the same difference"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673272557,"post_id":75058112,"comment_id":132454783,"body_markdown":"Only JDK&#160;16 to 18 produce the outcome `100,00 $ CA`. So the change with JDK&#160;19 is a change back to a long standing behavior.","body":"Only JDK 16 to 18 produce the outcome <code>100,00 $ CA</code>. So the change with JDK 19 is a change back to a long standing behavior."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1673275208,"post_id":75058112,"comment_id":132455859,"body_markdown":"Generally speaking: localization data such as this is subject to change. Any release can pull in new data (usually from CLDR or other sources) that changes any specific detail. If your code (or UI) cares about using a *specific* currency sign for a given locale, it&#39;s better to explicitly set it than to depend on what the system provides you.","body":"Generally speaking: localization data such as this is subject to change. Any release can pull in new data (usually from CLDR or other sources) that changes any specific detail. If your code (or UI) cares about using a <i>specific</i> currency sign for a given locale, it&#39;s better to explicitly set it than to depend on what the system provides you."}],"answers":[{"comments":[{"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"score":0,"creation_date":1673281379,"post_id":75059950,"comment_id":132458412,"body_markdown":"See also this related info from Oracle, which also shows how to revert to the previous behaviour: https://docs.oracle.com/javase/10/intl/internationalization-enhancements-jdk-9.htm","body":"See also this related info from Oracle, which also shows how to revert to the previous behaviour: <a href=\"https://docs.oracle.com/javase/10/intl/internationalization-enhancements-jdk-9.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/intl/&hellip;</a>"}],"tags":[],"owner":{"account_id":2844787,"reputation":5391,"user_id":2443502,"accept_rate":91,"display_name":"Marcin Kłopotek"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673280260,"creation_date":1673280260,"answer_id":75059950,"question_id":75058112,"body_markdown":"&gt; I cannot find any details in release notes regarding that change.\r\n\r\nThat&#39;s true. You will not find any because maintaining localization changes is not a responsibility of the JDK team. Each JDK release (since 9, see [JEP-252][1]) uses embeded data from [The Unicode Common Locale Data Repository (CLDR)][2] to produce given locale ouput. The CLDR has it&#39;s own independent maintainers and release cycle and its contnents may change inbetween JDK releases. That means you should be aware of potential changes in that matter without being notified by the JDK team. As Joachim Sauer mentioned in the comment (he was working on JDK and [JEP-252][1] implementation), if your code relies on these changes you can always override the defaults and use custom formatting rules. \r\n\r\nYou can get more context about CLDR in https://stackoverflow.com/questions/51304126/what-is-common-locale-data-repository-cldr-jdk-9.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/252\r\n  [2]: https://cldr.unicode.org/index#h.59ffxi4tj4wz","title":"Currency difference between java 18 and java 19","body":"<blockquote>\n<p>I cannot find any details in release notes regarding that change.</p>\n</blockquote>\n<p>That's true. You will not find any because maintaining localization changes is not a responsibility of the JDK team. Each JDK release (since 9, see <a href=\"https://openjdk.org/jeps/252\" rel=\"nofollow noreferrer\">JEP-252</a>) uses embeded data from <a href=\"https://cldr.unicode.org/index#h.59ffxi4tj4wz\" rel=\"nofollow noreferrer\">The Unicode Common Locale Data Repository (CLDR)</a> to produce given locale ouput. The CLDR has it's own independent maintainers and release cycle and its contnents may change inbetween JDK releases. That means you should be aware of potential changes in that matter without being notified by the JDK team. As Joachim Sauer mentioned in the comment (he was working on JDK and <a href=\"https://openjdk.org/jeps/252\" rel=\"nofollow noreferrer\">JEP-252</a> implementation), if your code relies on these changes you can always override the defaults and use custom formatting rules.</p>\n<p>You can get more context about CLDR in <a href=\"https://stackoverflow.com/questions/51304126/what-is-common-locale-data-repository-cldr-jdk-9\">What is Common Locale Data Repository (CLDR) - JDK 9</a>.</p>\n"}],"owner":{"account_id":22507815,"reputation":43,"user_id":16703146,"display_name":"Jakub Bręk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75059950,"answer_count":1,"score":4,"last_activity_date":1673280260,"creation_date":1673271600,"question_id":75058112,"body_markdown":"I am trying to migrate to java 19 from java 18. \r\nHere is the code I run:\r\n\r\n```\r\nNumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\r\ncurrencyFormatter.setMaximumFractionDigits(2);\r\ncurrencyFormatter.setCurrency(Currency.getInstance(Locale.CANADA_FRENCH));\r\nvar result = currencyFormatter.format(100);\r\nSystem.out.println(result);\r\n```\r\nIt gives different results for those 2 java versions.\r\n\r\nJava 18:\r\n`100,00&#160;$&#160;CA`\r\nJava 19:\r\n`100,00 $`\r\n\r\n\r\n\r\nI cannot find any details in release notes regarding that change. Am I doing something wrong, or this is expected ?","title":"Currency difference between java 18 and java 19","body":"<p>I am trying to migrate to java 19 from java 18.\nHere is the code I run:</p>\n<pre><code>NumberFormat currencyFormatter = NumberFormat.getCurrencyInstance(Locale.CANADA_FRENCH);\ncurrencyFormatter.setMaximumFractionDigits(2);\ncurrencyFormatter.setCurrency(Currency.getInstance(Locale.CANADA_FRENCH));\nvar result = currencyFormatter.format(100);\nSystem.out.println(result);\n</code></pre>\n<p>It gives different results for those 2 java versions.</p>\n<p>Java 18:\n<code>100,00 $ CA</code>\nJava 19:\n<code>100,00 $</code></p>\n<p>I cannot find any details in release notes regarding that change. Am I doing something wrong, or this is expected ?</p>\n"},{"tags":["java","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1673281059,"post_id":75059908,"comment_id":132458289,"body_markdown":"Can you provide more details on what your code is doing? Unless you want to write custom Log4j2 Core components you don&#39;t need [`LogEvent`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html). You rarely need to write custom components, often Log4j2 Core already has the feature you are looking for.","body":"Can you provide more details on what your code is doing? Unless you want to write custom Log4j2 Core components you don&#39;t need <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/LogEvent.html\" rel=\"nofollow noreferrer\"><code>LogEvent</code></a>. You rarely need to write custom components, often Log4j2 Core already has the feature you are looking for."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673314255,"post_id":75059908,"comment_id":132466466,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27479287,"reputation":23,"user_id":20966683,"display_name":"Aleksa Aleksic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673280243,"creation_date":1673280116,"question_id":75059908,"body_markdown":"I am trying to migrate some code from log4j 1.x to 2.x. Some things are easy to replace, but I cannot find the way to replace this:\r\n```\r\nObject obj = event.getMDC(&quot;xxx&quot;); //event is org.apache.log4j.spi.LoggingEvent type from log4j 1.x.\r\n```\r\nI know about the method with the bridge but for now I want to skip it and try to do it like this.\r\n\r\nMDC can be replace with ThreadContext and I see some people using org.apache.logging.log4j.core.LogEvent but it doesn&#39;t contain the same methods as LoggingEvent (examples):\r\n\r\n- `.getRenderMessage()`\r\n- `.getTrowableInformation()`\r\n- `.getMDC();`","title":"Migration to log4j2","body":"<p>I am trying to migrate some code from log4j 1.x to 2.x. Some things are easy to replace, but I cannot find the way to replace this:</p>\n<pre><code>Object obj = event.getMDC(&quot;xxx&quot;); //event is org.apache.log4j.spi.LoggingEvent type from log4j 1.x.\n</code></pre>\n<p>I know about the method with the bridge but for now I want to skip it and try to do it like this.</p>\n<p>MDC can be replace with ThreadContext and I see some people using org.apache.logging.log4j.core.LogEvent but it doesn't contain the same methods as LoggingEvent (examples):</p>\n<ul>\n<li><code>.getRenderMessage()</code></li>\n<li><code>.getTrowableInformation()</code></li>\n<li><code>.getMDC();</code></li>\n</ul>\n"},{"tags":["java","sonarqube","assert"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1651138406,"post_id":72041021,"comment_id":127293998,"body_markdown":"When you change to springframework, Sonar rule probably is not checking those packages/classes. Only the three frameworks that the rule supports: JUnit, FestAssert and AssertJ. If it is test code should be on the src/test. The issue appears in SonarQube interface or in an integration with an IDE?","body":"When you change to springframework, Sonar rule probably is not checking those packages/classes. Only the three frameworks that the rule supports: JUnit, FestAssert and AssertJ. If it is test code should be on the src/test. The issue appears in SonarQube interface or in an integration with an IDE?"},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1651139167,"post_id":72041021,"comment_id":127294336,"body_markdown":"Ah - that makes sense, namely the switch from `assertj` to `springframework`. Sonar does not recognise it as an assertion framework, I guess. There is still confusion here though. This issue appears on a new test class. Other test classes use `assertThat` without problem. The warning shows up on both the SonarQube website and the IDE SonarLint plugin. The code is under `src/main` as this is a standalone integration test module. Renaming it to `src/test` does not fix the issue. Adding `test` to the package name does, but should not be required based on the other test classes.","body":"Ah - that makes sense, namely the switch from <code>assertj</code> to <code>springframework</code>. Sonar does not recognise it as an assertion framework, I guess. There is still confusion here though. This issue appears on a new test class. Other test classes use <code>assertThat</code> without problem. The warning shows up on both the SonarQube website and the IDE SonarLint plugin. The code is under <code>src&#47;main</code> as this is a standalone integration test module. Renaming it to <code>src&#47;test</code> does not fix the issue. Adding <code>test</code> to the package name does, but should not be required based on the other test classes."},{"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"score":0,"creation_date":1651140718,"post_id":72041021,"comment_id":127294897,"body_markdown":"Ran SonarLint against one of the existing test classes and it caught the `assertThat` issue too. I&#39;m guessing the baseline set on the project is excluding it from being reported on the website. So the solution here seems to be to `test` on the package name.","body":"Ran SonarLint against one of the existing test classes and it caught the <code>assertThat</code> issue too. I&#39;m guessing the baseline set on the project is excluding it from being reported on the website. So the solution here seems to be to <code>test</code> on the package name."}],"answers":[{"tags":[],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1673279987,"creation_date":1673279987,"answer_id":75059883,"question_id":72041021,"body_markdown":"To provide an answer, the solution I ended up taking was to rename the package to include `test` in the name. e.g.\r\n\r\n&gt; com.project.integration.test;\r\n\r\nThis feels invasive but it was the lesser evil.","title":"SonarQube &#39;assertThat&#39; causes &#39;assertions should not be used in production code&#39;","body":"<p>To provide an answer, the solution I ended up taking was to rename the package to include <code>test</code> in the name. e.g.</p>\n<blockquote>\n<p>com.project.integration.test;</p>\n</blockquote>\n<p>This feels invasive but it was the lesser evil.</p>\n"}],"owner":{"account_id":399610,"reputation":6990,"user_id":765076,"accept_rate":59,"display_name":"Shane Gannon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2099,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059883,"answer_count":1,"score":0,"last_activity_date":1673279987,"creation_date":1651137137,"question_id":72041021,"body_markdown":"In our SonarQube integration I&#39;ve noticed the use of `org.assertj.core.api.Assertions.assertThat` causes a bug. Namely\r\n\r\n    Assertions should not be used in production code\r\n     \r\n    Bug\r\n     \r\n    Major\r\n    java:S5960\r\n     \r\n    Assertions are intended to be used in test code, but not in production code. It is confusing, and might lead to ClassNotFoundException when the build tools only provide the required dependency in test scope.\r\n    In addition, assertions will throw a sub-class of Error: AssertionError, which should be avoided in production code.\r\n    This rule raises an issue when any assertion intended to be used in test is used in production code.\r\n    Supported frameworks:\r\n     - JUnit\r\n     - FestAssert\r\n     - AssertJ\r\n    Note: this does not apply for assert from Java itself or if the source code package name is related to tests (contains: test or assert or junit).\r\n\r\nTechnically it&#39;s right as this code, which is test code, does not have `test` for example in the package name or even the path. But if the code is switched across to `org.springframework.test.util.AssertionErrors.assertEquals` the problem goes away.\r\n\r\nAny ideas what&#39;s happening here?","title":"SonarQube &#39;assertThat&#39; causes &#39;assertions should not be used in production code&#39;","body":"<p>In our SonarQube integration I've noticed the use of <code>org.assertj.core.api.Assertions.assertThat</code> causes a bug. Namely</p>\n<pre><code>Assertions should not be used in production code\n \nBug\n \nMajor\njava:S5960\n \nAssertions are intended to be used in test code, but not in production code. It is confusing, and might lead to ClassNotFoundException when the build tools only provide the required dependency in test scope.\nIn addition, assertions will throw a sub-class of Error: AssertionError, which should be avoided in production code.\nThis rule raises an issue when any assertion intended to be used in test is used in production code.\nSupported frameworks:\n - JUnit\n - FestAssert\n - AssertJ\nNote: this does not apply for assert from Java itself or if the source code package name is related to tests (contains: test or assert or junit).\n</code></pre>\n<p>Technically it's right as this code, which is test code, does not have <code>test</code> for example in the package name or even the path. But if the code is switched across to <code>org.springframework.test.util.AssertionErrors.assertEquals</code> the problem goes away.</p>\n<p>Any ideas what's happening here?</p>\n"},{"tags":["java","maven","command-line","classpath","manifest.mf"],"comments":[{"owner":{"account_id":9762349,"reputation":3120,"user_id":7237062,"accept_rate":60,"display_name":"LoneWanderer"},"score":1,"creation_date":1552822954,"post_id":55123717,"comment_id":97149413,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/1067563/how-to-resolve-maven-exec-plugin-classpath-too-long-error","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1067563/how-to-resolve-maven-exec-plugin-classpath-too-long-error\" title=\"how to resolve maven exec plugin classpath too long error\">stackoverflow.com/questions/1067563/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1553115586,"post_id":55241312,"comment_id":97271322,"body_markdown":"@Fundhor Do you mean you modified the maven-jdeps-plugin? Are you certain your build was using yuour build of the plugin and not still using the original?","body":"@Fundhor Do you mean you modified the maven-jdeps-plugin? Are you certain your build was using yuour build of the plugin and not still using the original?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1553200641,"post_id":55241312,"comment_id":97307090,"body_markdown":"@Fundhor can you post some code for your usage of the ProcessBuilder API?","body":"@Fundhor can you post some code for your usage of the ProcessBuilder API?"},{"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"score":0,"creation_date":1567669213,"post_id":55241312,"comment_id":102033341,"body_markdown":"For the record, @jon-hanson was right, I did not make the changes correctly. This is the correct solution.","body":"For the record, @jon-hanson was right, I did not make the changes correctly. This is the correct solution."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1552999238,"creation_date":1552999238,"answer_id":55241312,"question_id":55123717,"body_markdown":"The *maven-jdeps-plugin* is using **plexus-utils** to fork out a child process to run the jdeps executable. plexus-utils implements this by building up a command-line and passing it to cmd.exe. This is the wrong approach as it will be subject to the 8192 char limit imposed by cmd.exe. The correct approach would be to use the Java ProcessBuilder API. This itself uses ProcessImpl.create API method, which, on Windows, is implemented by a Win32 API call to CreateProcess. The latter API has a 32k char limit, which should be enough for most use cases.\r\n\r\nThere is a plexus-utils [bug report][1] for this. You may want to raise one with maven-jdeps-plugin as well - the Java ProcessBuilder API is quite usable, so there&#39;s no need to use plexus-utils just to run jdeps.\r\n\r\n\r\n  [1]: https://github.com/codehaus-plexus/plexus-utils/issues/49","title":"Shorten classpath (-cp) for command line","body":"<p>The <em>maven-jdeps-plugin</em> is using <strong>plexus-utils</strong> to fork out a child process to run the jdeps executable. plexus-utils implements this by building up a command-line and passing it to cmd.exe. This is the wrong approach as it will be subject to the 8192 char limit imposed by cmd.exe. The correct approach would be to use the Java ProcessBuilder API. This itself uses ProcessImpl.create API method, which, on Windows, is implemented by a Win32 API call to CreateProcess. The latter API has a 32k char limit, which should be enough for most use cases.</p>\n\n<p>There is a plexus-utils <a href=\"https://github.com/codehaus-plexus/plexus-utils/issues/49\" rel=\"noreferrer\">bug report</a> for this. You may want to raise one with maven-jdeps-plugin as well - the Java ProcessBuilder API is quite usable, so there's no need to use plexus-utils just to run jdeps.</p>\n"},{"tags":[],"owner":{"account_id":245807,"reputation":6998,"user_id":519539,"accept_rate":91,"display_name":"Petro Semeniuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553163949,"creation_date":1553163949,"answer_id":55278302,"question_id":55123717,"body_markdown":"The best is to create _empty_ jar file with classpath configured in manifest.\r\n\r\nOfficial oracle document is at [Adding Classes to the JAR File&#39;s Classpath][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\r\n\r\n`maven-jar` plugin does support updating manifest classpath attribute: https://stackoverflow.com/questions/23688063/how-to-add-class-path-to-the-manifest-file-with-maven","title":"Shorten classpath (-cp) for command line","body":"<p>The best is to create <em>empty</em> jar file with classpath configured in manifest.</p>\n\n<p>Official oracle document is at <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/downman.html\" rel=\"nofollow noreferrer\">Adding Classes to the JAR File's Classpath</a></p>\n\n<p><code>maven-jar</code> plugin does support updating manifest classpath attribute: <a href=\"https://stackoverflow.com/questions/23688063/how-to-add-class-path-to-the-manifest-file-with-maven\">How to add Class-Path to the manifest file with maven</a></p>\n"},{"tags":[],"owner":{"account_id":2788539,"reputation":1194,"user_id":2399289,"display_name":"Giuseppe B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553193222,"creation_date":1553193222,"answer_id":55287087,"question_id":55123717,"body_markdown":"maybe a bit of a cheeky solution but... \r\n\r\nwhat about using an env variable? \r\n\r\n```\r\nset MR=C:\\Users\\Me\\.m2\\repository\\\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-11.0.2\\bin\\jdeps.exe&quot;\r\n    -cp &quot;\r\n        %MR%\\com\\something\\firstJar.jar;\r\n        %MR%\\com\\somethingElse\\secondJar.jar;\r\n```\r\n\r\ndid not test, hope it works...\r\n\r\n","title":"Shorten classpath (-cp) for command line","body":"<p>maybe a bit of a cheeky solution but... </p>\n\n<p>what about using an env variable? </p>\n\n<pre><code>set MR=C:\\Users\\Me\\.m2\\repository\\\n\n\"C:\\Program Files\\Java\\jdk-11.0.2\\bin\\jdeps.exe\"\n    -cp \"\n        %MR%\\com\\something\\firstJar.jar;\n        %MR%\\com\\somethingElse\\secondJar.jar;\n</code></pre>\n\n<p>did not test, hope it works...</p>\n"},{"tags":[],"owner":{"account_id":392800,"reputation":1024,"user_id":754291,"accept_rate":40,"display_name":"April_Nara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553210854,"creation_date":1553210535,"answer_id":55290678,"question_id":55123717,"body_markdown":"This is the reason Maven is meant to mange a large amount of dependency as you can simply place all of them in the .pom file.  The use of the a centralized dependency list allows Maven to be able to see nearly everything you need to run your program.  Take a look at this post that does what you&#39;re trying though add each of your jar&#39;s for Maven to see them. https://stackoverflow.com/questions/6024027/how-do-i-package-and-run-a-simple-command-line-application-with-dependencies-usi\r\n\r\n**Also, a good guide to the .pom basics**\r\nRead the pom guide on www.maven.apache.org.\r\n\r\nMaven will not use cmdline arguments the way you are trying because of the Manifest specifications. This is the fundamental reason programmers, including myself, love Maven so it will really make life much simpler as it&#39;s built to do exactly what you need.  As the files change you have one file to make your updated versions.   ","title":"Shorten classpath (-cp) for command line","body":"<p>This is the reason Maven is meant to mange a large amount of dependency as you can simply place all of them in the .pom file.  The use of the a centralized dependency list allows Maven to be able to see nearly everything you need to run your program.  Take a look at this post that does what you're trying though add each of your jar's for Maven to see them. <a href=\"https://stackoverflow.com/questions/6024027/how-do-i-package-and-run-a-simple-command-line-application-with-dependencies-usi\">How do I package and run a simple command-line application with dependencies using maven?</a></p>\n\n<p><strong>Also, a good guide to the .pom basics</strong>\nRead the pom guide on www.maven.apache.org.</p>\n\n<p>Maven will not use cmdline arguments the way you are trying because of the Manifest specifications. This is the fundamental reason programmers, including myself, love Maven so it will really make life much simpler as it's built to do exactly what you need.  As the files change you have one file to make your updated versions.   </p>\n"},{"comments":[{"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"score":0,"creation_date":1553260799,"post_id":55292700,"comment_id":97329370,"body_markdown":"Thanks Strom, that&#39;s a way to bypass the restriction, but it&#39;s for a shared project, I can&#39;t ask everyone to change its reg.","body":"Thanks Strom, that&#39;s a way to bypass the restriction, but it&#39;s for a shared project, I can&#39;t ask everyone to change its reg."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":1,"creation_date":1672945403,"post_id":55292700,"comment_id":132393166,"body_markdown":"Not sure why, but this regkey was already set to 1 and I still get the error.  Windows Server 2016","body":"Not sure why, but this regkey was already set to 1 and I still get the error.  Windows Server 2016"},{"owner":{"display_name":"user10316640"},"score":1,"creation_date":1673136540,"post_id":55292700,"comment_id":132431061,"body_markdown":"@JGlass, does your class path exceed the new limit? I suggest you to follow the accepted answers solution in addition to this this one.","body":"@JGlass, does your class path exceed the new limit? I suggest you to follow the accepted answers solution in addition to this this one."},{"owner":{"account_id":9709676,"reputation":1447,"user_id":7221628,"accept_rate":100,"display_name":"JGlass"},"score":0,"creation_date":1673294669,"post_id":55292700,"comment_id":132462546,"body_markdown":"@Strom, yeah it exceeds the limit, I will try out the accepted solution, thank you!","body":"@Strom, yeah it exceeds the limit, I will try out the accepted solution, thank you!"}],"tags":[],"owner":{"display_name":"user10316640"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553227095,"creation_date":1553227095,"answer_id":55292700,"question_id":55123717,"body_markdown":"If you are using Windows 10 Anniversary Update or Windows Server 2016, or later, you can increase the maximum path length beyond the 260 character default.\r\n\r\nYou can either copy the following two lines into a file with a `.reg` extension and open it,\r\n\r\n    [HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\FileSystem]\r\n    &quot;LongPathsEnabled&quot;=dword:00000001\r\n\r\nOr, open the Registry Editor and browse to the location, and change the value from 0 to 1.","title":"Shorten classpath (-cp) for command line","body":"<p>If you are using Windows 10 Anniversary Update or Windows Server 2016, or later, you can increase the maximum path length beyond the 260 character default.</p>\n\n<p>You can either copy the following two lines into a file with a <code>.reg</code> extension and open it,</p>\n\n<pre><code>[HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\FileSystem]\n\"LongPathsEnabled\"=dword:00000001\n</code></pre>\n\n<p>Or, open the Registry Editor and browse to the location, and change the value from 0 to 1.</p>\n"},{"tags":[],"owner":{"account_id":6487887,"reputation":1,"user_id":5022840,"display_name":"DavidK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583334156,"creation_date":1583334156,"answer_id":60528938,"question_id":55123717,"body_markdown":"So I did struggle with this problem for a long time and finally found solution to this issue with too long classpath while doing maven build.\r\nThis is a workaround but it works perfectly.\r\n\r\n**Run build from linux - that&#39;t not a joke (sic!)**\r\n\r\n * Turn on WSL(Windows Subsystem for Linux) on Windows by following \r\n https://learn.microsoft.com/en-us/windows/wsl/install-win10\r\n * After all done just Run your Linux subsystem on windows\r\n * edit linux maven settings.xml `/usr/share/maven/conf/settings.xml`\r\n * Add or override `&lt;localRepository&gt;/mnt/c/.m2&lt;/localRepository&gt;` &lt;i&gt;(/mnt/c/.m2)&lt;/i&gt; - is my windows maven repo path seen from WSL\r\n * cd /path/to/your/project\r\n * mvn build","title":"Shorten classpath (-cp) for command line","body":"<p>So I did struggle with this problem for a long time and finally found solution to this issue with too long classpath while doing maven build.\nThis is a workaround but it works perfectly.</p>\n\n<p><strong>Run build from linux - that't not a joke (sic!)</strong></p>\n\n<ul>\n<li>Turn on WSL(Windows Subsystem for Linux) on Windows by following \n<a href=\"https://learn.microsoft.com/en-us/windows/wsl/install-win10\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/windows/wsl/install-win10</a></li>\n<li>After all done just Run your Linux subsystem on windows</li>\n<li>edit linux maven settings.xml <code>/usr/share/maven/conf/settings.xml</code></li>\n<li>Add or override <code>&lt;localRepository&gt;/mnt/c/.m2&lt;/localRepository&gt;</code> <i>(/mnt/c/.m2)</i> - is my windows maven repo path seen from WSL</li>\n<li>cd /path/to/your/project</li>\n<li>mvn build</li>\n</ul>\n"}],"owner":{"account_id":5992306,"reputation":3409,"user_id":4708077,"accept_rate":60,"display_name":"Fundhor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3274,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":55241312,"answer_count":6,"score":13,"last_activity_date":1673279950,"creation_date":1552400366,"question_id":55123717,"body_markdown":"My maven build in failing on jdeps plugin (we need it to upgrade to jdk11).\r\n\r\nThe **command line is too long for windows**.\r\nHere is the error I get:\r\n\r\n\t[ERROR] Failed to execute goal org.apache.maven.plugins:maven-jdeps-plugin:3.1.1:jdkinternals (default) on project myproject:\r\n\t[ERROR] Exit code: 1 - La ligne de commande est trop longue.\r\n\t[ERROR]\r\n\t[ERROR] Command line was: cmd.exe /X /C \r\n\t&quot;\r\n\t\t&quot;C:\\Program Files\\Java\\jdk-11.0.2\\bin\\jdeps.exe&quot;\r\n\t\t-cp &quot;\r\n\t\t\tC:\\Users\\Me\\.m2\\repository\\com\\something\\firstJar.jar;\r\n\t\t\tC:\\Users\\Me\\.m2\\repository\\com\\somethingElse\\secondJar.jar;\r\n\t\t\tC:\\Users\\Me\\.m2\\repository\\com\\somethingDifferent\\someOtherJar.jar;\r\n\t\t\t... and one more\r\n    \t\t... and another one\r\n\t\t\t... I think you get the idea.......&quot;\r\n\t\t--multi-release 9 D:\\git\\myworkspace\\myproject\\target\\classes\r\n\t&quot;\r\n\r\n**How to shorten this command-line?** (and make sure it is not user dependant)\r\n\r\n*Restriction*: It is a shared project, changing anything only on my computer is not a solution.","title":"Shorten classpath (-cp) for command line","body":"<p>My maven build in failing on jdeps plugin (we need it to upgrade to jdk11).</p>\n<p>The <strong>command line is too long for windows</strong>.\nHere is the error I get:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-jdeps-plugin:3.1.1:jdkinternals (default) on project myproject:\n[ERROR] Exit code: 1 - La ligne de commande est trop longue.\n[ERROR]\n[ERROR] Command line was: cmd.exe /X /C \n&quot;\n    &quot;C:\\Program Files\\Java\\jdk-11.0.2\\bin\\jdeps.exe&quot;\n    -cp &quot;\n        C:\\Users\\Me\\.m2\\repository\\com\\something\\firstJar.jar;\n        C:\\Users\\Me\\.m2\\repository\\com\\somethingElse\\secondJar.jar;\n        C:\\Users\\Me\\.m2\\repository\\com\\somethingDifferent\\someOtherJar.jar;\n        ... and one more\n        ... and another one\n        ... I think you get the idea.......&quot;\n    --multi-release 9 D:\\git\\myworkspace\\myproject\\target\\classes\n&quot;\n</code></pre>\n<p><strong>How to shorten this command-line?</strong> (and make sure it is not user dependant)</p>\n<p><em>Restriction</em>: It is a shared project, changing anything only on my computer is not a solution.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1295618346,"post_id":4759570,"comment_id":5265056,"body_markdown":"For pretty much all intents and purpose &quot;core == processor&quot;.","body":"For pretty much all intents and purpose &quot;core == processor&quot;."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":38,"creation_date":1295626540,"post_id":4759570,"comment_id":5266972,"body_markdown":"finding the number of cores the machine has physically is hard using purely Java.  Finding the number of cores the Java program can use at startup is easy, using *Runtime.getRuntime().availableProcessors()*.  Due to the ability of all major modern OSes to set CPU affinity (i.e. restrict an application to only a certain number of cores) this is a concern to keep in mind.","body":"finding the number of cores the machine has physically is hard using purely Java.  Finding the number of cores the Java program can use at startup is easy, using <i>Runtime.getRuntime().availableProcessors()</i>.  Due to the ability of all major modern OSes to set CPU affinity (i.e. restrict an application to only a certain number of cores) this is a concern to keep in mind."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":10,"creation_date":1438142142,"post_id":4759570,"comment_id":51323232,"body_markdown":"Logical or physical cores? There&#39;s an important difference.","body":"Logical or physical cores? There&#39;s an important difference."},{"owner":{"account_id":332245,"reputation":16487,"user_id":657427,"accept_rate":67,"display_name":"Christophe Roussy"},"score":0,"creation_date":1499161932,"post_id":4759570,"comment_id":76782343,"body_markdown":"Also see: https://stackoverflow.com/questions/1980832/java-how-to-scale-threads-according-to-cpu-cores","body":"Also see: <a href=\"https://stackoverflow.com/questions/1980832/java-how-to-scale-threads-according-to-cpu-cores\" title=\"java how to scale threads according to cpu cores\">stackoverflow.com/questions/1980832/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":0,"creation_date":1295619797,"post_id":4759606,"comment_id":5265390,"body_markdown":"No problem, since most of the information gathered from the `Runtime` class is a String, I thought it would be helpful to show this one returns an `int`.","body":"No problem, since most of the information gathered from the <code>Runtime</code> class is a String, I thought it would be helpful to show this one returns an <code>int</code>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":139,"creation_date":1295620152,"post_id":4759606,"comment_id":5265473,"body_markdown":"This will give you the number of logical threads. e.g. If you have hyper-threading on, this will be double the number of cores.","body":"This will give you the number of logical threads. e.g. If you have hyper-threading on, this will be double the number of cores."},{"owner":{"account_id":20937,"reputation":167576,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"score":7,"creation_date":1295620742,"post_id":4759606,"comment_id":5265605,"body_markdown":"@Peter, yeah, good point. I felt myself King of the Hill when performing this action with my i7 machine! :)","body":"@Peter, yeah, good point. I felt myself King of the Hill when performing this action with my i7 machine! :)"},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":19,"creation_date":1295626665,"post_id":4759606,"comment_id":5267005,"body_markdown":"@Peter Lawrey: it only gives the number of logical threads actually available to the JVM (at startup I guess).  Using CPU affinity the user/OS can restrict the number of &quot;cores&quot; a JVM sees.  You can even do it on a running JVM but I&#39;m not too sure how this influence *availableProcessors()*.","body":"@Peter Lawrey: it only gives the number of logical threads actually available to the JVM (at startup I guess).  Using CPU affinity the user/OS can restrict the number of &quot;cores&quot; a JVM sees.  You can even do it on a running JVM but I&#39;m not too sure how this influence <i>availableProcessors()</i>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1295627300,"post_id":4759606,"comment_id":5267197,"body_markdown":"@SyntaxT3rr0r I suspect availableProcessors doesn&#39;t change with the affinity.","body":"@SyntaxT3rr0r I suspect availableProcessors doesn&#39;t change with the affinity."},{"owner":{"account_id":5148,"reputation":2101,"user_id":8137,"display_name":"JW."},"score":31,"creation_date":1339839486,"post_id":4759606,"comment_id":14475520,"body_markdown":"@PeterLawrey: that seems to be incorrect, the Java documentation for availableProcessors() says &quot;This value may change during a particular invocation of the virtual machine. Applications that are sensitive to the number of available processors should therefore occasionally poll this property and adjust their resource usage appropriately.&quot; [source](http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#availableProcessors%28%29)","body":"@PeterLawrey: that seems to be incorrect, the Java documentation for availableProcessors() says &quot;This value may change during a particular invocation of the virtual machine. Applications that are sensitive to the number of available processors should therefore occasionally poll this property and adjust their resource usage appropriately.&quot; <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runtime.html#availableProcessors%28%29\" rel=\"nofollow noreferrer\">source</a>"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1340008799,"post_id":4759606,"comment_id":14503991,"body_markdown":"@JW You could be right, I have never seen someone change the number of virtual CPUs of a running production system before. ;) I tend to only work in real machines which don&#39;t change.","body":"@JW You could be right, I have never seen someone change the number of virtual CPUs of a running production system before. ;) I tend to only work in real machines which don&#39;t change."},{"owner":{"account_id":122100,"reputation":16858,"user_id":315677,"accept_rate":81,"display_name":"Pierre Henry"},"score":13,"creation_date":1350911290,"post_id":4759606,"comment_id":17657430,"body_markdown":"@universe blowing up and such : or the machine actually has more than 2,147,483,647 logical threads available ? ;)","body":"@universe blowing up and such : or the machine actually has more than 2,147,483,647 logical threads available ? ;)"},{"owner":{"account_id":1781636,"reputation":7670,"user_id":1624202,"accept_rate":61,"display_name":"Cruncher"},"score":5,"creation_date":1379081944,"post_id":4759606,"comment_id":27703750,"body_markdown":"@PierreHenry Well, that would be the day that we could solve all NP problems in P time for N &lt;= 2 147 483 647 :)","body":"@PierreHenry Well, that would be the day that we could solve all NP problems in P time for N &lt;= 2 147 483 647 :)"},{"owner":{"account_id":2607631,"reputation":20116,"user_id":2258453,"display_name":"noisesmith"},"score":3,"creation_date":1380154685,"post_id":4759606,"comment_id":28098625,"body_markdown":"@PeterLawrey There are real machines with hot swappable CPUs.","body":"@PeterLawrey There are real machines with hot swappable CPUs."},{"owner":{"account_id":2463632,"reputation":4432,"user_id":2147204,"accept_rate":85,"display_name":"Simon Kissane"},"score":7,"creation_date":1399008801,"post_id":4759606,"comment_id":35892511,"body_markdown":"@PeterLawrey, I can confirm that on Windows 7 SP1 x64 with Java 1.7.0_51, availableProcessors() does change with the affinity. You can easily test this by using jrunscript to call java.lang.Runtime.getRuntime().availableProcessors(), change the processor affinity of jrunscript.exe with Windows task manager, and then run availableProcessors() again, you will see the number will change.","body":"@PeterLawrey, I can confirm that on Windows 7 SP1 x64 with Java 1.7.0_51, availableProcessors() does change with the affinity. You can easily test this by using jrunscript to call java.lang.Runtime.getRuntime().availableProcessors(), change the processor affinity of jrunscript.exe with Windows task manager, and then run availableProcessors() again, you will see the number will change."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":4,"creation_date":1438142484,"post_id":4759606,"comment_id":51323324,"body_markdown":"@PeterLawrey Real machines can gain or lose CPUs as well. I&#39;ve hot-swapped processors (and RAM) on high-end servers with my own two hands.","body":"@PeterLawrey Real machines can gain or lose CPUs as well. I&#39;ve hot-swapped processors (and RAM) on high-end servers with my own two hands."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":2,"creation_date":1594453264,"post_id":4759606,"comment_id":111136403,"body_markdown":"I have a lot of questions to all of you people running software straight on server hardware, rather than in a virtual machine.","body":"I have a lot of questions to all of you people running software straight on server hardware, rather than in a virtual machine."},{"owner":{"account_id":4841703,"reputation":316,"user_id":3906559,"display_name":"GideonleGrange"},"score":2,"creation_date":1596015114,"post_id":4759606,"comment_id":111670759,"body_markdown":"Upvoted for being useful as well as having a sense of humour","body":"Upvoted for being useful as well as having a sense of humour"},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1615340879,"post_id":4759606,"comment_id":117659415,"body_markdown":"@Dragas  I have allot of questions for all you people who can see into the future so clearly","body":"@Dragas  I have allot of questions for all you people who can see into the future so clearly"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1615378313,"post_id":4759606,"comment_id":117670832,"body_markdown":"@dancarter even at the time it was the norm to use virtual machines to separate everything out.","body":"@dancarter even at the time it was the norm to use virtual machines to separate everything out."}],"tags":[],"owner":{"account_id":227533,"reputation":46580,"user_id":489261,"display_name":"darioo"},"comment_count":16,"down_vote_count":1,"up_vote_count":875,"is_accepted":true,"score":874,"last_activity_date":1321520629,"creation_date":1295618285,"answer_id":4759606,"question_id":4759570,"body_markdown":"    int cores = Runtime.getRuntime().availableProcessors();\r\n\r\nIf `cores` is less than one, either your processor is about to die, or your JVM has a serious bug in it, or the universe is about to blow up.","title":"Finding Number of Cores in Java","body":"<pre><code>int cores = Runtime.getRuntime().availableProcessors();\n</code></pre>\n\n<p>If <code>cores</code> is less than one, either your processor is about to die, or your JVM has a serious bug in it, or the universe is about to blow up.</p>\n"},{"comments":[{"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"score":0,"creation_date":1491056613,"post_id":19459145,"comment_id":73391083,"body_markdown":"I have Cygwin installed, but this works from the Windows shell: ```groovy -e &quot;println System.getenv(&#39;NUMBER_OF_PROCESSORS&#39;)&quot;```","body":"I have Cygwin installed, but this works from the Windows shell: <code>groovy -e &quot;println System.getenv(&#39;NUMBER_OF_PROCESSORS&#39;)&quot;</code>"},{"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"score":0,"creation_date":1491056713,"post_id":19459145,"comment_id":73391101,"body_markdown":"I don&#39;t know off the top of my head if this is a standard Windows environment variable, but: ```set NUMBER_OF_PROCESSORS``` works from the Windows command line for me.","body":"I don&#39;t know off the top of my head if this is a standard Windows environment variable, but: <code>set NUMBER_OF_PROCESSORS</code> works from the Windows command line for me."}],"tags":[],"owner":{"account_id":2848673,"reputation":1287,"user_id":2446332,"display_name":"Lyle Z"},"comment_count":2,"down_vote_count":17,"up_vote_count":10,"is_accepted":false,"score":-7,"last_activity_date":1386770109,"creation_date":1382130742,"answer_id":19459145,"question_id":4759570,"body_markdown":"This works on Windows with Cygwin installed:\r\n\r\n`System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;)`","title":"Finding Number of Cores in Java","body":"<p>This works on Windows with Cygwin installed:</p>\n\n<p><code>System.getenv(\"NUMBER_OF_PROCESSORS\")</code></p>\n"},{"comments":[{"owner":{"account_id":55617,"reputation":20495,"user_id":166589,"accept_rate":91,"display_name":"Lyubomyr Shaydariv"},"score":4,"creation_date":1451465123,"post_id":34525706,"comment_id":56793111,"body_markdown":"This is a piece of code that is a good candidate to be OOPed. :)","body":"This is a piece of code that is a good candidate to be OOPed. :)"},{"owner":{"account_id":3675,"reputation":1767,"user_id":5330,"accept_rate":100,"display_name":"Paul Hargreaves"},"score":1,"creation_date":1461093379,"post_id":34525706,"comment_id":61038857,"body_markdown":"The OSValidator class supports OSX, but the getNumberOfCores completely ignores it. As an aside, https://blog.opengroup.org/2015/10/02/mac-os-x-el-capitan-achieves-unix-certification/    so &#39;Mac&#39; should be in your isUnix() but...\nFor BSD, OSX, no lscpu command exists and your getNumberOfCores will return 0.","body":"The OSValidator class supports OSX, but the getNumberOfCores completely ignores it. As an aside, <a href=\"https://blog.opengroup.org/2015/10/02/mac-os-x-el-capitan-achieves-unix-certification/\" rel=\"nofollow noreferrer\">blog.opengroup.org/2015/10/02/&hellip;</a>    so &#39;Mac&#39; should be in your isUnix() but... For BSD, OSX, no lscpu command exists and your getNumberOfCores will return 0."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1465318032,"post_id":34525706,"comment_id":62847037,"body_markdown":"On Linux, you have to multiple &quot;Core(s) per socket&quot; by &quot;Socket(s)&quot;. Also, I would use regular expressions.","body":"On Linux, you have to multiple &quot;Core(s) per socket&quot; by &quot;Socket(s)&quot;. Also, I would use regular expressions."},{"owner":{"account_id":1843044,"reputation":465,"user_id":2891209,"accept_rate":75,"display_name":"JWCompDev"},"score":2,"creation_date":1486264300,"post_id":34525706,"comment_id":71269081,"body_markdown":"Its better to use &quot;OS.contains()&quot; instead of &quot;OS.indexOf()&quot;. It improves readability and is less to type.","body":"Its better to use &quot;OS.contains()&quot; instead of &quot;OS.indexOf()&quot;. It improves readability and is less to type."}],"tags":[],"owner":{"account_id":6664237,"reputation":556,"user_id":5142327,"display_name":"adi9090"},"comment_count":4,"down_vote_count":4,"up_vote_count":41,"is_accepted":false,"score":37,"last_activity_date":1673279939,"creation_date":1451464129,"answer_id":34525706,"question_id":4759570,"body_markdown":"If you want to get number of physical cores you can run cmd and terminal command and then to parse the output to get info you need.Below is shown function that returns number of physical cores .\r\n\r\n\r\n\r\n    private int getNumberOfCPUCores() {\r\n        OSValidator osValidator = new OSValidator();\r\n        String command = &quot;&quot;;\r\n        if(osValidator.isMac()){\r\n            command = &quot;sysctl -n machdep.cpu.core_count&quot;;\r\n        }else if(osValidator.isUnix()){\r\n            command = &quot;lscpu&quot;;\r\n        }else if(osValidator.isWindows()){\r\n            command = &quot;cmd /C WMIC CPU Get /Format:List&quot;;\r\n        }\r\n        Process process = null;\r\n        int numberOfCores = 0;\r\n        int sockets = 0;\r\n        try {\r\n            if(osValidator.isMac()){\r\n                String[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, command};\r\n                process = Runtime.getRuntime().exec(cmd);\r\n            }else{\r\n                process = Runtime.getRuntime().exec(command);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        BufferedReader reader = new BufferedReader(\r\n                new InputStreamReader(process.getInputStream()));\r\n        String line;\r\n\r\n        try {\r\n            while ((line = reader.readLine()) != null) {\r\n                if(osValidator.isMac()){\r\n                    numberOfCores = line.length() &gt; 0 ? Integer.parseInt(line) : 0;\r\n                }else if (osValidator.isUnix()) {\r\n                    if (line.contains(&quot;Core(s) per socket:&quot;)) {\r\n                        numberOfCores = Integer.parseInt(line.split(&quot;\\\\s+&quot;)[line.split(&quot;\\\\s+&quot;).length - 1]);\r\n                    }\r\n                    if(line.contains(&quot;Socket(s):&quot;)){\r\n                        sockets = Integer.parseInt(line.split(&quot;\\\\s+&quot;)[line.split(&quot;\\\\s+&quot;).length - 1]);\r\n                    }\r\n                } else if (osValidator.isWindows()) {\r\n                    if (line.contains(&quot;NumberOfCores&quot;)) {\r\n                        numberOfCores = Integer.parseInt(line.split(&quot;=&quot;)[1]);\r\n                    }\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if(osValidator.isUnix()){\r\n            return numberOfCores * sockets;\r\n        }\r\n        return numberOfCores;\r\n    }\r\n\r\n \r\nOSValidator class:\r\n\r\n    public class OSValidator {\r\n \r\n\tprivate static String OS = System.getProperty(&quot;os.name&quot;).toLowerCase();\r\n \r\n\tpublic static void main(String[] args) {\r\n \r\n\t\tSystem.out.println(OS);\r\n \r\n\t\tif (isWindows()) {\r\n\t\t\tSystem.out.println(&quot;This is Windows&quot;);\r\n\t\t} else if (isMac()) {\r\n\t\t\tSystem.out.println(&quot;This is Mac&quot;);\r\n\t\t} else if (isUnix()) {\r\n\t\t\tSystem.out.println(&quot;This is Unix or Linux&quot;);\r\n\t\t} else if (isSolaris()) {\r\n\t\t\tSystem.out.println(&quot;This is Solaris&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Your OS is not support!!&quot;);\r\n\t\t}\r\n\t}\r\n    \r\n\tpublic static boolean isWindows() {\r\n\t\treturn (OS.contains(&quot;win&quot;));\r\n\t}\r\n \r\n\tpublic static boolean isMac() {\r\n\t\treturn (OS.contains(&quot;mac&quot;));\r\n\t}\r\n \r\n\tpublic static boolean isUnix() {\r\n\t\treturn (OS.contains(&quot;nix&quot;) || OS.contains(&quot;nux&quot;) || OS.contains(&quot;aix&quot;) );\r\n\t}\r\n \r\n\tpublic static boolean isSolaris() {\r\n\t\treturn (OS.contains(&quot;sunos&quot;));\r\n\t}\r\n\tpublic static String getOS(){\r\n\t\tif (isWindows()) {\r\n\t\t\treturn &quot;win&quot;;\r\n\t\t} else if (isMac()) {\r\n\t\t\treturn &quot;osx&quot;;\r\n\t\t} else if (isUnix()) {\r\n\t\t\treturn &quot;uni&quot;;\r\n\t\t} else if (isSolaris()) {\r\n\t\t\treturn &quot;sol&quot;;\r\n\t\t} else {\r\n\t\t\treturn &quot;err&quot;;\r\n\t\t}\r\n\t}\r\n\t\r\n}","title":"Finding Number of Cores in Java","body":"<p>If you want to get number of physical cores you can run cmd and terminal command and then to parse the output to get info you need.Below is shown function that returns number of physical cores .</p>\n<pre><code>private int getNumberOfCPUCores() {\n    OSValidator osValidator = new OSValidator();\n    String command = &quot;&quot;;\n    if(osValidator.isMac()){\n        command = &quot;sysctl -n machdep.cpu.core_count&quot;;\n    }else if(osValidator.isUnix()){\n        command = &quot;lscpu&quot;;\n    }else if(osValidator.isWindows()){\n        command = &quot;cmd /C WMIC CPU Get /Format:List&quot;;\n    }\n    Process process = null;\n    int numberOfCores = 0;\n    int sockets = 0;\n    try {\n        if(osValidator.isMac()){\n            String[] cmd = { &quot;/bin/sh&quot;, &quot;-c&quot;, command};\n            process = Runtime.getRuntime().exec(cmd);\n        }else{\n            process = Runtime.getRuntime().exec(command);\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    BufferedReader reader = new BufferedReader(\n            new InputStreamReader(process.getInputStream()));\n    String line;\n\n    try {\n        while ((line = reader.readLine()) != null) {\n            if(osValidator.isMac()){\n                numberOfCores = line.length() &gt; 0 ? Integer.parseInt(line) : 0;\n            }else if (osValidator.isUnix()) {\n                if (line.contains(&quot;Core(s) per socket:&quot;)) {\n                    numberOfCores = Integer.parseInt(line.split(&quot;\\\\s+&quot;)[line.split(&quot;\\\\s+&quot;).length - 1]);\n                }\n                if(line.contains(&quot;Socket(s):&quot;)){\n                    sockets = Integer.parseInt(line.split(&quot;\\\\s+&quot;)[line.split(&quot;\\\\s+&quot;).length - 1]);\n                }\n            } else if (osValidator.isWindows()) {\n                if (line.contains(&quot;NumberOfCores&quot;)) {\n                    numberOfCores = Integer.parseInt(line.split(&quot;=&quot;)[1]);\n                }\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    if(osValidator.isUnix()){\n        return numberOfCores * sockets;\n    }\n    return numberOfCores;\n}\n</code></pre>\n<p>OSValidator class:</p>\n<pre><code>public class OSValidator {\n\nprivate static String OS = System.getProperty(&quot;os.name&quot;).toLowerCase();\n\npublic static void main(String[] args) {\n\n    System.out.println(OS);\n\n    if (isWindows()) {\n        System.out.println(&quot;This is Windows&quot;);\n    } else if (isMac()) {\n        System.out.println(&quot;This is Mac&quot;);\n    } else if (isUnix()) {\n        System.out.println(&quot;This is Unix or Linux&quot;);\n    } else if (isSolaris()) {\n        System.out.println(&quot;This is Solaris&quot;);\n    } else {\n        System.out.println(&quot;Your OS is not support!!&quot;);\n    }\n}\n\npublic static boolean isWindows() {\n    return (OS.contains(&quot;win&quot;));\n}\n\npublic static boolean isMac() {\n    return (OS.contains(&quot;mac&quot;));\n}\n\npublic static boolean isUnix() {\n    return (OS.contains(&quot;nix&quot;) || OS.contains(&quot;nux&quot;) || OS.contains(&quot;aix&quot;) );\n}\n\npublic static boolean isSolaris() {\n    return (OS.contains(&quot;sunos&quot;));\n}\npublic static String getOS(){\n    if (isWindows()) {\n        return &quot;win&quot;;\n    } else if (isMac()) {\n        return &quot;osx&quot;;\n    } else if (isUnix()) {\n        return &quot;uni&quot;;\n    } else if (isSolaris()) {\n        return &quot;sol&quot;;\n    } else {\n        return &quot;err&quot;;\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":374785,"reputation":456,"user_id":725192,"display_name":"malamut"},"score":1,"creation_date":1574932193,"post_id":52629195,"comment_id":104406213,"body_markdown":"This will also let you use centralProcessor.getPhysicalProcessorCount(), which is probably currently the best way in java to obtain that information. If you have threads which almost constantly have work to do, and you want to know the number of such threads you can start while still leaving a well-defined leftover of CPU capacity for other threads and processes, this is the number the calculation should be based on.","body":"This will also let you use centralProcessor.getPhysicalProcessorCount(), which is probably currently the best way in java to obtain that information. If you have threads which almost constantly have work to do, and you want to know the number of such threads you can start while still leaving a well-defined leftover of CPU capacity for other threads and processes, this is the number the calculation should be based on."}],"tags":[],"owner":{"account_id":476496,"reputation":766,"user_id":887441,"accept_rate":50,"display_name":"Antonio"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1538576424,"creation_date":1538576424,"answer_id":52629195,"question_id":4759570,"body_markdown":"This is an additional way to find out the number of CPU cores (and a lot of other information), but this code requires an additional dependence:\r\n\r\n&gt; Native Operating System and Hardware Information\r\n&gt; https://github.com/oshi/oshi\r\n\r\n    SystemInfo systemInfo = new SystemInfo();\r\n    HardwareAbstractionLayer hardwareAbstractionLayer = systemInfo.getHardware();\r\n    CentralProcessor centralProcessor = hardwareAbstractionLayer.getProcessor();\r\n\r\nGet the number of logical CPUs available for processing:\r\n\r\n    centralProcessor.getLogicalProcessorCount();","title":"Finding Number of Cores in Java","body":"<p>This is an additional way to find out the number of CPU cores (and a lot of other information), but this code requires an additional dependence:</p>\n\n<blockquote>\n  <p>Native Operating System and Hardware Information\n  <a href=\"https://github.com/oshi/oshi\" rel=\"noreferrer\">https://github.com/oshi/oshi</a></p>\n</blockquote>\n\n<pre><code>SystemInfo systemInfo = new SystemInfo();\nHardwareAbstractionLayer hardwareAbstractionLayer = systemInfo.getHardware();\nCentralProcessor centralProcessor = hardwareAbstractionLayer.getProcessor();\n</code></pre>\n\n<p>Get the number of logical CPUs available for processing:</p>\n\n<pre><code>centralProcessor.getLogicalProcessorCount();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":231590,"reputation":322,"user_id":495907,"display_name":"alper"},"score":1,"creation_date":1660910797,"post_id":64446909,"comment_id":129651275,"body_markdown":"`%NUMBER_OF_PROCESSORS%` outputs number of [logical](https://serverfault.com/a/646998) cores","body":"<code>%NUMBER_OF_PROCESSORS%</code> outputs number of <a href=\"https://serverfault.com/a/646998\">logical</a> cores"}],"tags":[],"owner":{"account_id":14716842,"reputation":425,"user_id":10628627,"display_name":"Frans Sj&#246;str&#246;m"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603202860,"creation_date":1603202860,"answer_id":64446909,"question_id":4759570,"body_markdown":"If you want to dubbel check the amount of cores you have on your machine to the number your java program is giving you. \r\n\r\nIn Linux terminal: `lscpu`\r\n\r\nIn Windows terminal (cmd): `echo %NUMBER_OF_PROCESSORS%`\r\n\r\nIn Mac terminal: `sysctl -n hw.ncpu` \r\n\r\n","title":"Finding Number of Cores in Java","body":"<p>If you want to dubbel check the amount of cores you have on your machine to the number your java program is giving you.</p>\n<p>In Linux terminal: <code>lscpu</code></p>\n<p>In Windows terminal (cmd): <code>echo %NUMBER_OF_PROCESSORS%</code></p>\n<p>In Mac terminal: <code>sysctl -n hw.ncpu</code></p>\n"}],"owner":{"account_id":225869,"reputation":54679,"user_id":486578,"accept_rate":58,"display_name":"Damir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201403,"favorite_count":0,"down_vote_count":1,"up_vote_count":485,"accepted_answer_id":4759606,"answer_count":5,"score":484,"last_activity_date":1673279939,"creation_date":1295618089,"question_id":4759570,"body_markdown":"How can I find the number of cores available to my application from within Java code?","title":"Finding Number of Cores in Java","body":"<p>How can I find the number of cores available to my application from within Java code?</p>\n"},{"tags":["java","android","mysql","spinner"],"comments":[{"owner":{"account_id":1253831,"reputation":56648,"user_id":1213708,"display_name":"Nigel Ren"},"score":0,"creation_date":1673278916,"post_id":75059441,"comment_id":132457385,"body_markdown":"Does this relate to PHP (except for where you pass the data onto)?","body":"Does this relate to PHP (except for where you pass the data onto)?"},{"owner":{"account_id":24386141,"reputation":13,"user_id":18316888,"display_name":"oguzunbiri"},"score":0,"creation_date":1673279392,"post_id":75059441,"comment_id":132457588,"body_markdown":"I pass the data to phpmyadmin. codes java code for android","body":"I pass the data to phpmyadmin. codes java code for android"},{"owner":{"account_id":1253831,"reputation":56648,"user_id":1213708,"display_name":"Nigel Ren"},"score":0,"creation_date":1673279455,"post_id":75059441,"comment_id":132457620,"body_markdown":"phpmyadmin is just a tool to manage MySQL.","body":"phpmyadmin is just a tool to manage MySQL."},{"owner":{"account_id":24386141,"reputation":13,"user_id":18316888,"display_name":"oguzunbiri"},"score":0,"creation_date":1673279554,"post_id":75059441,"comment_id":132457654,"body_markdown":"yes I know. I&#39;m saving the data on mysql. the result i want is in above java codes","body":"yes I know. I&#39;m saving the data on mysql. the result i want is in above java codes"}],"answers":[{"comments":[{"owner":{"account_id":24386141,"reputation":13,"user_id":18316888,"display_name":"oguzunbiri"},"score":0,"creation_date":1673279472,"post_id":75059495,"comment_id":132457626,"body_markdown":"How do I equate it to String value? I will pass the value to the database as a string","body":"How do I equate it to String value? I will pass the value to the database as a string"},{"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"score":0,"creation_date":1673281576,"post_id":75059495,"comment_id":132458489,"body_markdown":"You can use String.valueOf(universite.getSelectedItemPosition()); Like this","body":"You can use String.valueOf(universite.getSelectedItemPosition()); Like this"}],"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673278162,"creation_date":1673278162,"answer_id":75059495,"question_id":75059441,"body_markdown":"Try using this, it will give your the position of selected item\r\n\r\n    universite.getSelectedItemPosition()","title":"How to get spinner selected item&#39;s line number?","body":"<p>Try using this, it will give your the position of selected item</p>\n<pre><code>universite.getSelectedItemPosition()\n</code></pre>\n"}],"owner":{"account_id":24386141,"reputation":13,"user_id":18316888,"display_name":"oguzunbiri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75059495,"answer_count":1,"score":1,"last_activity_date":1673279582,"creation_date":1673277940,"question_id":75059441,"body_markdown":"I have to get the line number on the item selected in my spinner when i click on the save button. i need the line number not the text.\r\n\r\n`uni = universite.getSelectedItem().toString();`\r\n\r\nthis code is selecting text. I am saving id in my database. so i need the line number.","title":"How to get spinner selected item&#39;s line number?","body":"<p>I have to get the line number on the item selected in my spinner when i click on the save button. i need the line number not the text.</p>\n<p><code>uni = universite.getSelectedItem().toString();</code></p>\n<p>this code is selecting text. I am saving id in my database. so i need the line number.</p>\n"},{"tags":["java","spring","mongodb","docker","microservices"],"answers":[{"tags":[],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673279430,"creation_date":1673279430,"answer_id":75059761,"question_id":74913108,"body_markdown":"I added &quot;--add-opens&quot;, &quot;java.base/java.time.zone=ALL-UNNAMED&quot; in my docker file, because &quot;--add-opens&quot;, &quot;java.base/java.time=ALL-UNNAMED&quot; would not help.\r\nMy docker file finally:\r\n\r\n    ENTRYPOINT [&quot;java&quot;, &quot;--add-opens&quot;, &quot;java.base/java.time.zone=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.time=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.math=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.lang=ALL-UNNAMED&quot;, \\\r\n                &quot;--add-opens&quot;, &quot;java.management/sun.management=ALL-UNNAMED&quot;, \\\r\n                &quot;-XX:+UseZGC&quot;, &quot;-XX:MinHeapSize=2G&quot;, &quot;-XX:InitialHeapSize=2G&quot;, &quot;-Xss1024k&quot;, \\\r\n                &quot;-XX:ParallelGCThreads=100&quot;, &quot;-XX:ConcGCThreads=25&quot;, &quot;-XX:TieredStopAtLevel=1&quot;, \\\r\n                &quot;-XX:NonProfiledCodeHeapSize=512m&quot;, &quot;-XX:ReservedCodeCacheSize=1G&quot;, &quot;-XX:InitialCodeCacheSize=512m&quot;, &quot;-XX:CodeCacheExpansionSize=2m&quot;, \\ \r\n                &quot;-XX:SoftRefLRUPolicyMSPerMB=0&quot;,&quot;-XX:ZCollectionInterval=30&quot;, &quot;-XX:ZFragmentationLimit=10&quot;, \\\r\n                &quot;-XX:MaxGCPauseMillis=5&quot;, &quot;-XX:+UseCompressedClassPointers&quot;, &quot;-XX:-UseCompressedOops&quot;, &quot;-XX:ZUncommitDelay=30&quot;, \\\r\n                &quot;-XX:InitiatingHeapOccupancyPercent=35&quot;, &quot;-XX:G1HeapRegionSize=16M&quot;, \\\r\n                &quot;-XX:MinMetaspaceFreeRatio=50&quot;, &quot;-XX:MaxMetaspaceFreeRatio=100&quot;,  \\\r\n                &quot;-XX:+UnlockExperimentalVMOptions&quot;,&quot;-jar&quot;,&quot;/opt/myapp.jar&quot;]","title":"Fail: Spring Boot MongoDB ZonedDateTime converters for two databases","body":"<p>I added &quot;--add-opens&quot;, &quot;java.base/java.time.zone=ALL-UNNAMED&quot; in my docker file, because &quot;--add-opens&quot;, &quot;java.base/java.time=ALL-UNNAMED&quot; would not help.\nMy docker file finally:</p>\n<pre><code>ENTRYPOINT [&quot;java&quot;, &quot;--add-opens&quot;, &quot;java.base/java.time.zone=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.time=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.math=ALL-UNNAMED&quot;, &quot;--add-opens&quot;, &quot;java.base/java.lang=ALL-UNNAMED&quot;, \\\n            &quot;--add-opens&quot;, &quot;java.management/sun.management=ALL-UNNAMED&quot;, \\\n            &quot;-XX:+UseZGC&quot;, &quot;-XX:MinHeapSize=2G&quot;, &quot;-XX:InitialHeapSize=2G&quot;, &quot;-Xss1024k&quot;, \\\n            &quot;-XX:ParallelGCThreads=100&quot;, &quot;-XX:ConcGCThreads=25&quot;, &quot;-XX:TieredStopAtLevel=1&quot;, \\\n            &quot;-XX:NonProfiledCodeHeapSize=512m&quot;, &quot;-XX:ReservedCodeCacheSize=1G&quot;, &quot;-XX:InitialCodeCacheSize=512m&quot;, &quot;-XX:CodeCacheExpansionSize=2m&quot;, \\ \n            &quot;-XX:SoftRefLRUPolicyMSPerMB=0&quot;,&quot;-XX:ZCollectionInterval=30&quot;, &quot;-XX:ZFragmentationLimit=10&quot;, \\\n            &quot;-XX:MaxGCPauseMillis=5&quot;, &quot;-XX:+UseCompressedClassPointers&quot;, &quot;-XX:-UseCompressedOops&quot;, &quot;-XX:ZUncommitDelay=30&quot;, \\\n            &quot;-XX:InitiatingHeapOccupancyPercent=35&quot;, &quot;-XX:G1HeapRegionSize=16M&quot;, \\\n            &quot;-XX:MinMetaspaceFreeRatio=50&quot;, &quot;-XX:MaxMetaspaceFreeRatio=100&quot;,  \\\n            &quot;-XX:+UnlockExperimentalVMOptions&quot;,&quot;-jar&quot;,&quot;/opt/myapp.jar&quot;]\n</code></pre>\n"}],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059761,"answer_count":1,"score":0,"last_activity_date":1673279430,"creation_date":1671968956,"question_id":74913108,"body_markdown":"I am configuring Spring Boot with MongoDB using two database instances: primary and secondary: Spring Boot version is 2.7.6. The problem is that I have collection in the database with ZonedDateTime. In case when I have one database connection. it was fine, I just configured customConversions with Zone Date time converters. But now I have two MongoDB configuration files, one for primary and for secondary.\r\n\r\nFirst config:\r\n \r\n```java\r\n@Bean\r\n@Primary\r\n@Override\r\npublic MongoCustomConversions customConversions() {\r\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n    converters.add(new MultipleMongoConfig.DateToZonedDateTimeConverter());\r\n    converters.add(new MultipleMongoConfig.ZonedDateTimeToDateConverter());\r\n    return new MongoCustomConversions(converters);\r\n}\r\n\r\n@Bean\r\n@Primary\r\npublic MongoDatabaseFactory primaryFactory() throws Exception {\r\n    return new SimpleMongoClientDatabaseFactory(((connection)));\r\n}\r\n\r\n@Primary\r\n@Bean(name = &quot;primaryMongoTemplate&quot;)\r\npublic MongoTemplate primaryMongoTemplate() throws Exception {     \r\n    return new MongoTemplate(primaryFactory());\r\n}\r\n```\r\n\r\nSecond:\r\n\r\n```java\r\n@Bean(name = &quot;secondaryMongoTemplate&quot;)\r\npublic MongoTemplate secondaryMongoTemplate() throws Exception {\r\n    return new MongoTemplate(secondaryFactory());\r\n}\r\n\r\n@Bean    \r\n@Override\r\npublic MongoCustomConversions customConversions() {\r\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\r\n    converters.add(new MultipleMongoConfig.DateToZonedDateTimeConverter());\r\n    converters.add(new MultipleMongoConfig.ZonedDateTimeToDateConverter());\r\n    return new MongoCustomConversions(converters);\r\n}\r\n\r\n@Bean\r\npublic MongoDatabaseFactory secondaryFactory() throws Exception {\r\n    return new SimpleMongoClientDatabaseFactory(((connection)));\r\n}\r\n```\r\n\r\nConfiguration in the yaml:\r\n\r\n```yaml\r\nmain:\r\n    allow-bean-definition-overriding: true\r\n```\r\n    \r\nBut exception the same after save in db:\r\n\r\n&gt; org.springframework.web.util.NestedServletException: Request\r\n&gt; processing failed; nested exception is\r\n&gt; org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find\r\n&gt; a codec for class java.time.ZonedDateTime.\r\n\r\nI tried even one customConversion for two db connections, but result the same.\r\n\r\nIn the Maven Java config is 1.8, but application works under openjdk19 docker container.\r\n","title":"Fail: Spring Boot MongoDB ZonedDateTime converters for two databases","body":"<p>I am configuring Spring Boot with MongoDB using two database instances: primary and secondary: Spring Boot version is 2.7.6. The problem is that I have collection in the database with ZonedDateTime. In case when I have one database connection. it was fine, I just configured customConversions with Zone Date time converters. But now I have two MongoDB configuration files, one for primary and for secondary.</p>\n<p>First config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Primary\n@Override\npublic MongoCustomConversions customConversions() {\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\n    converters.add(new MultipleMongoConfig.DateToZonedDateTimeConverter());\n    converters.add(new MultipleMongoConfig.ZonedDateTimeToDateConverter());\n    return new MongoCustomConversions(converters);\n}\n\n@Bean\n@Primary\npublic MongoDatabaseFactory primaryFactory() throws Exception {\n    return new SimpleMongoClientDatabaseFactory(((connection)));\n}\n\n@Primary\n@Bean(name = &quot;primaryMongoTemplate&quot;)\npublic MongoTemplate primaryMongoTemplate() throws Exception {     \n    return new MongoTemplate(primaryFactory());\n}\n</code></pre>\n<p>Second:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(name = &quot;secondaryMongoTemplate&quot;)\npublic MongoTemplate secondaryMongoTemplate() throws Exception {\n    return new MongoTemplate(secondaryFactory());\n}\n\n@Bean    \n@Override\npublic MongoCustomConversions customConversions() {\n    List&lt;Converter&lt;?, ?&gt;&gt; converters = new ArrayList&lt;&gt;();\n    converters.add(new MultipleMongoConfig.DateToZonedDateTimeConverter());\n    converters.add(new MultipleMongoConfig.ZonedDateTimeToDateConverter());\n    return new MongoCustomConversions(converters);\n}\n\n@Bean\npublic MongoDatabaseFactory secondaryFactory() throws Exception {\n    return new SimpleMongoClientDatabaseFactory(((connection)));\n}\n</code></pre>\n<p>Configuration in the yaml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>main:\n    allow-bean-definition-overriding: true\n</code></pre>\n<p>But exception the same after save in db:</p>\n<blockquote>\n<p>org.springframework.web.util.NestedServletException: Request\nprocessing failed; nested exception is\norg.bson.codecs.configuration.CodecConfigurationException: Can't find\na codec for class java.time.ZonedDateTime.</p>\n</blockquote>\n<p>I tried even one customConversion for two db connections, but result the same.</p>\n<p>In the Maven Java config is 1.8, but application works under openjdk19 docker container.</p>\n"},{"tags":["java","maven","java-11"],"comments":[{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1673219197,"post_id":75051537,"comment_id":132443264,"body_markdown":"Do you run the `-U` version with `-Dmaven.test.skip` as well? Have you tried running the &quot;no `-U`&quot; version without `-Dmaven.test.skip`?","body":"Do you run the <code>-U</code> version with <code>-Dmaven.test.skip</code> as well? Have you tried running the &quot;no <code>-U</code>&quot; version without <code>-Dmaven.test.skip</code>?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673249649,"post_id":75051537,"comment_id":132447264,"body_markdown":"without more accurate information where/when etc. the following errors occur `error: cannot access SomeClass. class file for SomeClass not found` it&#39;s hard to help... are those error occuring in your test classes?","body":"without more accurate information where/when etc. the following errors occur <code>error: cannot access SomeClass. class file for SomeClass not found</code> it&#39;s hard to help... are those error occuring in your test classes?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1673281676,"post_id":75051537,"comment_id":132458532,"body_markdown":"my best guess would be that the missing or outdated dependency is in one of the tests, so the -U fails because it cannot update the dependencies and then stops and doesn&#39;t try to do the install phase, but the second attempt just uses stuff on disk and doesn&#39;t execute the tests and if the missing class is only in the test scope, it doesn&#39;t matter and the build succeeds.","body":"my best guess would be that the missing or outdated dependency is in one of the tests, so the -U fails because it cannot update the dependencies and then stops and doesn&#39;t try to do the install phase, but the second attempt just uses stuff on disk and doesn&#39;t execute the tests and if the missing class is only in the test scope, it doesn&#39;t matter and the build succeeds."}],"owner":{"account_id":27471731,"reputation":1,"user_id":20960515,"display_name":"Katie Prochilo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673279405,"creation_date":1673214477,"question_id":75051537,"body_markdown":"I&#39;ve got a project with a bunch of modules that I&#39;m trying to compile and run, and there&#39;s one module giving me trouble. The problem is the same in IntelliJ as on the command line (&quot;error: cannot access SomeClass. class file for SomeClass not found&quot;). This file exists in a dependency for the module I am trying to compile.\r\n\r\nIf I compile this one module with `mvn --update-snapshots -Dmaven.test.skip install`, the build fails. Then I immediately follow this up with `mvn -Dmaven.test.skip install` and it works fine.\r\n\r\nWhy is this? From what I understand about `-U`, if anything, the second build without the flag should also fail since it&#39;d be referencing the newly pulled down snapshots.","title":"Why does compiling with &quot;mvn --update-snapshots install&quot; fail, but immediately following with &quot;mvn install&quot; succeeds?","body":"<p>I've got a project with a bunch of modules that I'm trying to compile and run, and there's one module giving me trouble. The problem is the same in IntelliJ as on the command line (&quot;error: cannot access SomeClass. class file for SomeClass not found&quot;). This file exists in a dependency for the module I am trying to compile.</p>\n<p>If I compile this one module with <code>mvn --update-snapshots -Dmaven.test.skip install</code>, the build fails. Then I immediately follow this up with <code>mvn -Dmaven.test.skip install</code> and it works fine.</p>\n<p>Why is this? From what I understand about <code>-U</code>, if anything, the second build without the flag should also fail since it'd be referencing the newly pulled down snapshots.</p>\n"},{"tags":["java","multidimensional-array","big-o"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":1,"creation_date":1673171894,"post_id":75046878,"comment_id":132434593,"body_markdown":"`n x n` =&gt; `O(n&#178;)` and if you do that 1, 2, 3 times we don&#39;t care but , but if if depends of a variable then it matters `O(m.n&#178;)`","body":"<code>n x n</code> =&gt; <code>O(n&#178;)</code> and if you do that 1, 2, 3 times we don&#39;t care but , but if if depends of a variable then it matters <code>O(m.n&#178;)</code>"},{"owner":{"account_id":20863694,"reputation":459,"user_id":15325295,"display_name":"JackRaBeat"},"score":1,"creation_date":1673173145,"post_id":75046878,"comment_id":132434783,"body_markdown":"I suggest to do to read a bit on big O notation but in a simple way, it&#39;s a way to analyze the algorithm complexity that depended on the size of the input (which usually named with &quot;n&quot;) and not on the constant operations that the algorithm do. so any kind of operation which is not depended on the size of the input is constant and considered O(1) and if you run over all the inputs a constant number of times it consider linear and written as O(n). so if you consider your input as an 2d array in size of n (each dimension) and you run on all the array constant number of times is O(n^2)","body":"I suggest to do to read a bit on big O notation but in a simple way, it&#39;s a way to analyze the algorithm complexity that depended on the size of the input (which usually named with &quot;n&quot;) and not on the constant operations that the algorithm do. so any kind of operation which is not depended on the size of the input is constant and considered O(1) and if you run over all the inputs a constant number of times it consider linear and written as O(n). so if you consider your input as an 2d array in size of n (each dimension) and you run on all the array constant number of times is O(n^2)"},{"owner":{"account_id":6183436,"reputation":2073,"user_id":4818212,"display_name":"AcK"},"score":0,"creation_date":1673176515,"post_id":75046878,"comment_id":132435289,"body_markdown":"The question has nothing to do with Java.","body":"The question has nothing to do with Java."}],"answers":[{"tags":[],"owner":{"account_id":25597717,"reputation":46,"user_id":20396069,"display_name":"Donkassu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673173593,"creation_date":1673173593,"answer_id":75047015,"question_id":75046878,"body_markdown":"The algorithm that you made is initializing a multidimensional array. Although the array is filled by 9 of `&quot;-&quot;`, the Big O Notation implies the upper bound on the complexity of the algorithm which is the maximum number of operations that the algorithm will perform given the worst-case input.\r\nSo, the input value that you have given (3x3) should not be considered to get the Big O Notation of your algorithms.\r\n\r\nSince you have two iterations in your algorithms, the maximum iteration would be n*n, so your Big O is `O(n^2)`.\r\n\r\nBecause your input data is given, which are 3 and 3, you can estimate the time complexity via `O(n^2)`, which is `O(9)`.\r\n\r\nFor more information: https://www.geeksforgeeks.org/difference-between-big-oh-big-omega-and-big-theta/","title":"What would the big O notation be for a 3x3 multidimensional array in java?","body":"<p>The algorithm that you made is initializing a multidimensional array. Although the array is filled by 9 of <code>&quot;-&quot;</code>, the Big O Notation implies the upper bound on the complexity of the algorithm which is the maximum number of operations that the algorithm will perform given the worst-case input.\nSo, the input value that you have given (3x3) should not be considered to get the Big O Notation of your algorithms.</p>\n<p>Since you have two iterations in your algorithms, the maximum iteration would be n*n, so your Big O is <code>O(n^2)</code>.</p>\n<p>Because your input data is given, which are 3 and 3, you can estimate the time complexity via <code>O(n^2)</code>, which is <code>O(9)</code>.</p>\n<p>For more information: <a href=\"https://www.geeksforgeeks.org/difference-between-big-oh-big-omega-and-big-theta/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/difference-between-big-oh-big-omega-and-big-theta/</a></p>\n"},{"tags":[],"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673279323,"creation_date":1673279323,"answer_id":75059735,"question_id":75046878,"body_markdown":"Time complexity describes how an algorithm&#39;s time grows, as a function of the input, as time approaches infinity.\r\n\r\nIn this case, it is clear that the running time depends only on the size of the input, not on its content. So it is up to you to define a variable that describes your input size.\r\n\r\nIn your code example, the input size is constant 3x3, so if this never changes, then you can just say the algorithm has constant time complexity, *O(1)*.\r\n\r\nIf the input can change, then it is up to you to decide how it can change, and how it makes sense to define it. For example, you can say that it is an *n * n* quadratic grid. Fine. Then, clearly both your loops run *n* times, so you get a total complexity of *O(n * n) = O(n&lt;sup&gt;2&lt;/sup&gt;)*.\r\n\r\nIt is also perfectly correct to define *n* as the total number of elements in your array. Then, we have some *n = a * b*. One of your loops runs *a* times, the other *b* times, so in total the complexity becomes *O(a * b) = O(n)*.\r\n\r\nAs for your second question, yes if you apply this for a board *m* times, then your complexity would be *O(m n&lt;sup&gt;2&lt;/sup&gt;)* or *O(m n)*, depending on your chosen definition.\r\n\r\nWhat matters is that you make your definitions clear and define your variables in a way that makes sense for what you are trying to say.","title":"What would the big O notation be for a 3x3 multidimensional array in java?","body":"<p>Time complexity describes how an algorithm's time grows, as a function of the input, as time approaches infinity.</p>\n<p>In this case, it is clear that the running time depends only on the size of the input, not on its content. So it is up to you to define a variable that describes your input size.</p>\n<p>In your code example, the input size is constant 3x3, so if this never changes, then you can just say the algorithm has constant time complexity, <em>O(1)</em>.</p>\n<p>If the input can change, then it is up to you to decide how it can change, and how it makes sense to define it. For example, you can say that it is an <em>n * n</em> quadratic grid. Fine. Then, clearly both your loops run <em>n</em> times, so you get a total complexity of <em>O(n * n) = O(n<sup>2</sup>)</em>.</p>\n<p>It is also perfectly correct to define <em>n</em> as the total number of elements in your array. Then, we have some <em>n = a * b</em>. One of your loops runs <em>a</em> times, the other <em>b</em> times, so in total the complexity becomes <em>O(a * b) = O(n)</em>.</p>\n<p>As for your second question, yes if you apply this for a board <em>m</em> times, then your complexity would be <em>O(m n<sup>2</sup>)</em> or <em>O(m n)</em>, depending on your chosen definition.</p>\n<p>What matters is that you make your definitions clear and define your variables in a way that makes sense for what you are trying to say.</p>\n"}],"owner":{"account_id":26772344,"reputation":21,"user_id":20957016,"display_name":"nono"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1673279323,"creation_date":1673171819,"question_id":75046878,"body_markdown":"I am having trouble figuring out how to calculate the big O notation for a project. What would the big O notation be for a 3x3 grid, or a nxn grid with n being decided by the user. \r\n\r\nAlso, if I output a 3x3 grid multiple times, do I add the big O notations of each array together, or is there just one big O notation for all? \r\n\r\nSorry, I&#39;m a little confused on how big O notation works and how to calculate it, and what parts of code it can be used for.\r\n\r\nI really don&#39;t know what to do, this is the code for my multidimentional array.\r\n\r\n    String board[][] = new String[3][3];\r\n        for (int i = 0; i &lt; board.length; i++) {\r\n\r\n            for (int j = 0; j &lt; board[0].length; j++) {\r\n\r\n                board[i][j] = &quot;-&quot;;\r\n            }\r\n        }","title":"What would the big O notation be for a 3x3 multidimensional array in java?","body":"<p>I am having trouble figuring out how to calculate the big O notation for a project. What would the big O notation be for a 3x3 grid, or a nxn grid with n being decided by the user.</p>\n<p>Also, if I output a 3x3 grid multiple times, do I add the big O notations of each array together, or is there just one big O notation for all?</p>\n<p>Sorry, I'm a little confused on how big O notation works and how to calculate it, and what parts of code it can be used for.</p>\n<p>I really don't know what to do, this is the code for my multidimentional array.</p>\n<pre><code>String board[][] = new String[3][3];\n    for (int i = 0; i &lt; board.length; i++) {\n\n        for (int j = 0; j &lt; board[0].length; j++) {\n\n            board[i][j] = &quot;-&quot;;\n        }\n    }\n</code></pre>\n"},{"tags":["java","loops","lambda","protobuf-java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1673278121,"post_id":75059378,"comment_id":132457021,"body_markdown":"Why is a &quot;lambda&quot; way &quot;cleaner&quot;? You can write something like `foos.foreach( foo -&gt; s+= f.getFooId())` though.","body":"Why is a &quot;lambda&quot; way &quot;cleaner&quot;? You can write something like <code>foos.foreach( foo -&gt; s+= f.getFooId())</code> though."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1673278173,"post_id":75059378,"comment_id":132457047,"body_markdown":"But note: you probably want spaces between the different numbers. Also note: this might turn ugly quickly, depending on the number of entries in list.","body":"But note: you probably want spaces between the different numbers. Also note: this might turn ugly quickly, depending on the number of entries in list."}],"answers":[{"tags":[],"owner":{"account_id":27445147,"reputation":71,"user_id":20939080,"display_name":"Mr.Yin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673278720,"creation_date":1673278207,"answer_id":75059505,"question_id":75059378,"body_markdown":"If you want to use lambda (or like python way), you must know the `stream()` apis (possibly and the google&#39;s guava lib).\r\n\r\n```java\r\n// guava \r\nimport com.google.common.base.Joiner;\r\n\r\nSystem.out.println(Joiner.on(&quot;,&quot;).join(\r\n    foos.stream().map(foo::getFooId).map(String::valueOf).iterator()\r\n));\r\n```","title":"Print a field of a list of protobuf messages in java","body":"<p>If you want to use lambda (or like python way), you must know the <code>stream()</code> apis (possibly and the google's guava lib).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// guava \nimport com.google.common.base.Joiner;\n\nSystem.out.println(Joiner.on(&quot;,&quot;).join(\n    foos.stream().map(foo::getFooId).map(String::valueOf).iterator()\n));\n</code></pre>\n"}],"owner":{"account_id":4667361,"reputation":39,"user_id":3780108,"display_name":"mahb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059505,"answer_count":1,"score":0,"last_activity_date":1673279298,"creation_date":1673277633,"question_id":75059378,"body_markdown":"I have a protobuf message `foo` with some fields including `id` field which is uint32.\r\n\r\n```\r\nmessage foo {\r\nuint32 foo_id = 1;\r\nbool committed = 2;\r\n...\r\n}\r\n```\r\nIn my main class and main function, I have a list of foos: `List&lt;foo&gt; foos`. I want to printout the  `foo_id`s of all foos in line. I know there is straight forward for loop option as follows but was wondering if there is any clean lambda way of doing it.\r\n\r\n\r\nI tried \r\n```\r\nString s = &quot;The list of ids are: &quot;\r\nfor(i = 0; i &lt; foos.size(); i++) {\r\n   s = s + Integer.toString(foos.get(i).getFooId());\r\n}\r\nSystem.out.println(s);\r\n```\r\nbut I&#39;m expecting a better and cleaner way.","title":"Print a field of a list of protobuf messages in java","body":"<p>I have a protobuf message <code>foo</code> with some fields including <code>id</code> field which is uint32.</p>\n<pre><code>message foo {\nuint32 foo_id = 1;\nbool committed = 2;\n...\n}\n</code></pre>\n<p>In my main class and main function, I have a list of foos: <code>List&lt;foo&gt; foos</code>. I want to printout the  <code>foo_id</code>s of all foos in line. I know there is straight forward for loop option as follows but was wondering if there is any clean lambda way of doing it.</p>\n<p>I tried</p>\n<pre><code>String s = &quot;The list of ids are: &quot;\nfor(i = 0; i &lt; foos.size(); i++) {\n   s = s + Integer.toString(foos.get(i).getFooId());\n}\nSystem.out.println(s);\n</code></pre>\n<p>but I'm expecting a better and cleaner way.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":2,"creation_date":1673278253,"post_id":75059484,"comment_id":132457081,"body_markdown":"Is `control` vs `controll` a typo only in the question or also in your code?","body":"Is <code>control</code> vs <code>controll</code> a typo only in the question or also in your code?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673278689,"post_id":75059484,"comment_id":132457259,"body_markdown":"Try it with `java -cp output com.oca.controll.Control` - your package is not part of the classpath.","body":"Try it with <code>java -cp output com.oca.controll.Control</code> - your package is not part of the classpath."}],"answers":[{"tags":[],"owner":{"account_id":8525737,"reputation":909,"user_id":6391256,"display_name":"Vasim Hayat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673279033,"creation_date":1673279033,"answer_id":75059676,"question_id":75059484,"body_markdown":"This will execute you class    \r\n\r\n     java -cp output com.oca.controll.Control","title":"Java program &quot;Error: Could not find or load main class Control&quot;","body":"<p>This will execute you class</p>\n<pre><code> java -cp output com.oca.controll.Control\n</code></pre>\n"}],"owner":{"account_id":2500295,"reputation":1257,"user_id":2175604,"accept_rate":43,"display_name":"techie11"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673282216,"answer_count":1,"score":0,"last_activity_date":1673279033,"creation_date":1673278128,"question_id":75059484,"body_markdown":"I wrote a java program:\r\n\r\n    $ cat com/oca/controll/Controll.java\r\n    package com.oca.controll;\r\n    \r\n    public class Controll {\r\n        public static void main(String[] args){\r\n        ...\r\n        }\r\n        public static void change(Adult adult, int age){\r\n        ...\r\n        }\r\n    }\r\n\r\n    class Adult{\r\n    ...\r\n    }\r\n\r\nand compiled it successfully:\r\n\r\n    $ javac -d output com/oca/controll/Controll.java\r\n    $ ls -l output/com/oca/controll\r\n    -rw-r--r-- 1 user1 abc  483 Jan  9 10:34 Adult.class\r\n    -rw-r--r-- 1 user1 abc 1029 Jan  9 10:34 Controll.class\r\n\r\n\r\nwhen I tried to execute it, it gave the following error:\r\n\r\n    $ java -cp output/com/oca/controll com.oca.controll.Controll\r\n\r\n    Error: Could not find or load main class com.oca.controll.Controll\r\n\r\n\r\nWhat can be wrong here?\r\n\r\n\r\n","title":"Java program &quot;Error: Could not find or load main class Control&quot;","body":"<p>I wrote a java program:</p>\n<pre><code>$ cat com/oca/controll/Controll.java\npackage com.oca.controll;\n\npublic class Controll {\n    public static void main(String[] args){\n    ...\n    }\n    public static void change(Adult adult, int age){\n    ...\n    }\n}\n\nclass Adult{\n...\n}\n</code></pre>\n<p>and compiled it successfully:</p>\n<pre><code>$ javac -d output com/oca/controll/Controll.java\n$ ls -l output/com/oca/controll\n-rw-r--r-- 1 user1 abc  483 Jan  9 10:34 Adult.class\n-rw-r--r-- 1 user1 abc 1029 Jan  9 10:34 Controll.class\n</code></pre>\n<p>when I tried to execute it, it gave the following error:</p>\n<pre><code>$ java -cp output/com/oca/controll com.oca.controll.Controll\n\nError: Could not find or load main class com.oca.controll.Controll\n</code></pre>\n<p>What can be wrong here?</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-platform","dialogflow-es"],"comments":[{"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"score":0,"creation_date":1657518011,"post_id":72915074,"comment_id":128819785,"body_markdown":"Were you able to export this variable &quot;GOOGLE_APPLICATION_CREDENTIALS&quot; upon authenticating your credentials?","body":"Were you able to export this variable &quot;GOOGLE_APPLICATION_CREDENTIALS&quot; upon authenticating your credentials?"},{"owner":{"account_id":16141333,"reputation":25,"user_id":11652374,"display_name":"Cesar Arnouk"},"score":0,"creation_date":1657548466,"post_id":72915074,"comment_id":128830085,"body_markdown":"How would I do that? @PoalaAstrid","body":"How would I do that? @PoalaAstrid"},{"owner":{"account_id":16141333,"reputation":25,"user_id":11652374,"display_name":"Cesar Arnouk"},"score":0,"creation_date":1657554327,"post_id":72915074,"comment_id":128832622,"body_markdown":"Please check the post edit, I now get a different error @PoalaAstrid","body":"Please check the post edit, I now get a different error @PoalaAstrid"}],"answers":[{"tags":[],"owner":{"account_id":25595958,"reputation":1,"user_id":19371728,"display_name":"Poala Astrid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657597867,"creation_date":1657597867,"answer_id":72946833,"question_id":72915074,"body_markdown":"Add this block of code to serve as a your main method inside `DetectIntentTexts` class.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        \r\n        List &lt;String&gt; myArr = new ArrayList&lt;String&gt;(); \r\n        myArr.add(&quot;Tell me your name&quot;);\r\n        try{\r\n        detectIntentTexts(&quot;project-id&quot;,myArr,&quot;123&quot;,&quot;en-us&quot;);\r\n        }\r\n        catch(Exception e){}\r\n  }\r\n ```\r\n \r\n \r\nPut this code inside your `detectIntentTexts` method.\r\n \r\n ```\r\n String jsonPath = &quot;&lt;your_json_file_path&gt;&quot;;\r\n    GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(jsonPath))\r\n        .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\r\n        \r\n    SessionsSettings sessionsSettings =\r\n    SessionsSettings.newBuilder()\r\n            .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\r\n            .build();\r\n    SessionsClient sessionsClient = SessionsClient.create(sessionsSettings);\r\n```\r\n\r\n\r\nAlso, replace this code:  \r\n```try (SessionsClient sessionsClient = SessionsClient.create())```\r\n with this \r\n```try (SessionsClient client = SessionsClient.create(sessionsSettings))```\r\n\r\n\r\nImport these packages to your class.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport com.google.auth.oauth2.GoogleCredentials;\r\nimport java.io.FileInputStream;\r\nimport com.google.common.collect.Lists;\r\nimport com.google.cloud.dialogflow.v2.SessionsSettings;\r\nimport com.google.api.gax.core.FixedCredentialsProvider;\r\n```\r\n\r\n\r\nFinally, add these dependencies to your `pom.xml`.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nThis is the output:\r\n\r\n[![Code output][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sPznE.png","title":"GCP DialogFlow API error: &quot;The Application Default Credentials are not available&quot;","body":"<p>Add this block of code to serve as a your main method inside <code>DetectIntentTexts</code> class.</p>\n<pre><code>    public static void main(String[] args) {\n        \n        List &lt;String&gt; myArr = new ArrayList&lt;String&gt;(); \n        myArr.add(&quot;Tell me your name&quot;);\n        try{\n        detectIntentTexts(&quot;project-id&quot;,myArr,&quot;123&quot;,&quot;en-us&quot;);\n        }\n        catch(Exception e){}\n  }\n</code></pre>\n<p>Put this code inside your <code>detectIntentTexts</code> method.</p>\n<pre><code>String jsonPath = &quot;&lt;your_json_file_path&gt;&quot;;\n   GoogleCredentials credentials = GoogleCredentials.fromStream(new FileInputStream(jsonPath))\n       .createScoped(Lists.newArrayList(&quot;https://www.googleapis.com/auth/cloud-platform&quot;));\n       \n   SessionsSettings sessionsSettings =\n   SessionsSettings.newBuilder()\n           .setCredentialsProvider(FixedCredentialsProvider.create(credentials))\n           .build();\n   SessionsClient sessionsClient = SessionsClient.create(sessionsSettings);\n</code></pre>\n<p>Also, replace this code:<br />\n<code>try (SessionsClient sessionsClient = SessionsClient.create())</code>\nwith this\n<code>try (SessionsClient client = SessionsClient.create(sessionsSettings))</code></p>\n<p>Import these packages to your class.</p>\n<pre><code>import java.util.ArrayList;\nimport com.google.auth.oauth2.GoogleCredentials;\nimport java.io.FileInputStream;\nimport com.google.common.collect.Lists;\nimport com.google.cloud.dialogflow.v2.SessionsSettings;\nimport com.google.api.gax.core.FixedCredentialsProvider;\n</code></pre>\n<p>Finally, add these dependencies to your <code>pom.xml</code>.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.google.auth&lt;/groupId&gt;\n      &lt;artifactId&gt;google-auth-library-oauth2-http&lt;/artifactId&gt;\n      &lt;version&gt;1.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.api&lt;/groupId&gt;\n        &lt;artifactId&gt;gax-grpc&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>This is the output:</p>\n<p><a href=\"https://i.stack.imgur.com/sPznE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sPznE.png\" alt=\"Code output\" /></a></p>\n"}],"owner":{"account_id":16141333,"reputation":25,"user_id":11652374,"display_name":"Cesar Arnouk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673278991,"creation_date":1657301923,"question_id":72915074,"body_markdown":"I am getting the following error when trying to use the Google DialogFlow API in my Spring app:\r\n```\r\njava.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\r\n```\r\n\r\nI followed all the steps from https://cloud.google.com/dialogflow/es/docs/quick/setup#windows successfully, and when I run the command ```gcloud auth application-default print-access-token``` to test out the authentication, it works fine. However from my spring app, I keep getting an error when attempting to use the API. For reference, I am using the following in order to connect my Spring app to the DialogFlow API: https://cloud.google.com/dialogflow/es/docs/quick/api#detect-intent-text-java\r\n\r\nAny advice?\r\n\r\n\r\nEDIT: I manually added the GOOGLE_APPLICATION_CREDENTIALS as an new environment variable, but am now getting the following error/exception:\r\n```\r\njava.lang.NoSuchMethodError: &#39;com.google.auth.oauth2.ServiceAccountCredentials com.google.auth.oauth2.ServiceAccountCredentials.createWithUseJwtAccessWithScope(boolean)&#39;\r\n```","title":"GCP DialogFlow API error: &quot;The Application Default Credentials are not available&quot;","body":"<p>I am getting the following error when trying to use the Google DialogFlow API in my Spring app:</p>\n<pre><code>java.io.IOException: The Application Default Credentials are not available. They are available if running in Google Compute Engine. Otherwise, the environment variable GOOGLE_APPLICATION_CREDENTIALS must be defined pointing to a file defining the credentials. See https://developers.google.com/accounts/docs/application-default-credentials for more information.\n</code></pre>\n<p>I followed all the steps from <a href=\"https://cloud.google.com/dialogflow/es/docs/quick/setup#windows\" rel=\"nofollow noreferrer\">https://cloud.google.com/dialogflow/es/docs/quick/setup#windows</a> successfully, and when I run the command <code>gcloud auth application-default print-access-token</code> to test out the authentication, it works fine. However from my spring app, I keep getting an error when attempting to use the API. For reference, I am using the following in order to connect my Spring app to the DialogFlow API: <a href=\"https://cloud.google.com/dialogflow/es/docs/quick/api#detect-intent-text-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/dialogflow/es/docs/quick/api#detect-intent-text-java</a></p>\n<p>Any advice?</p>\n<p>EDIT: I manually added the GOOGLE_APPLICATION_CREDENTIALS as an new environment variable, but am now getting the following error/exception:</p>\n<pre><code>java.lang.NoSuchMethodError: 'com.google.auth.oauth2.ServiceAccountCredentials com.google.auth.oauth2.ServiceAccountCredentials.createWithUseJwtAccessWithScope(boolean)'\n</code></pre>\n"},{"tags":["java","sql","database","sql-delete"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1391487222,"post_id":21542825,"comment_id":32532635,"body_markdown":"What do you expect it to do?","body":"What do you expect it to do?"}],"answers":[{"comments":[{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":1,"creation_date":1391487497,"post_id":21542836,"comment_id":32532710,"body_markdown":"@jeremyjjbrown no need to escape single quotes","body":"@jeremyjjbrown no need to escape single quotes"},{"owner":{"account_id":3961539,"reputation":151,"user_id":3268379,"accept_rate":14,"display_name":"user3268379"},"score":0,"creation_date":1391487825,"post_id":21542836,"comment_id":32532798,"body_markdown":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;Table WHERE name = &#39;UserTest&#39;&#39;","body":"You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;Table WHERE name = &#39;UserTest&#39;&#39;"},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1391487992,"post_id":21542836,"comment_id":32532832,"body_markdown":"@user3268379 what is your table name? Table is a reserved keyword in mysql","body":"@user3268379 what is your table name? Table is a reserved keyword in mysql"},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1391488035,"post_id":21542836,"comment_id":32532844,"body_markdown":"@jeremyjjbrown yes thats why I mentioned that this is not the proper way of preparedstament and also I have suggested how to do","body":"@jeremyjjbrown yes thats why I mentioned that this is not the proper way of preparedstament and also I have suggested how to do"}],"tags":[],"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1575628871,"creation_date":1391487244,"answer_id":21542836,"question_id":21542825,"body_markdown":"I guess name is a varchar type in DB so do like this     \r\n```java\r\nPreparedStatement st = connection.prepareStatement(&quot;DELETE FROM Table WHERE name = &#39;&quot; + name + &quot;&#39;;&quot;);\r\n```\r\nenclose name within single quotes `&#39;`\r\n\r\nAlso this is not the way you are using is not the proper way of using Preparedstatement\r\n\r\nUs the following way:\r\n```java\r\nPreparedStatement st = connection.prepareStatement(&quot;DELETE FROM Table WHERE name = ?&quot;);\r\nst.setString(1,name);\r\nst.executeUpdate(); \r\n\r\n// your full code after Proper PreparedStatement\r\n\r\npublic static void DeleteRow(String name) {\r\n    try {  \r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection connection = DriverManager.getConnection(url, username, password);\r\n        PreparedStatement st = connection.prepareStatement(&quot;DELETE FROM Table WHERE name = ?&quot;);\r\n        st.setString(1,name);\r\n        st.executeUpdate(); \r\n    } catch(Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}","title":"Java sql delete row","body":"<p>I guess name is a varchar type in DB so do like this     </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement st = connection.prepareStatement(\"DELETE FROM Table WHERE name = '\" + name + \"';\");\n</code></pre>\n\n<p>enclose name within single quotes <code>'</code></p>\n\n<p>Also this is not the way you are using is not the proper way of using Preparedstatement</p>\n\n<p>Us the following way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement st = connection.prepareStatement(\"DELETE FROM Table WHERE name = ?\");\nst.setString(1,name);\nst.executeUpdate(); \n\n// your full code after Proper PreparedStatement\n\npublic static void DeleteRow(String name) {\n    try {  \n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection connection = DriverManager.getConnection(url, username, password);\n        PreparedStatement st = connection.prepareStatement(\"DELETE FROM Table WHERE name = ?\");\n        st.setString(1,name);\n        st.executeUpdate(); \n    } catch(Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":545104,"reputation":7802,"user_id":914763,"accept_rate":83,"display_name":"jeremyjjbrown"},"score":0,"creation_date":1391488042,"post_id":21542862,"comment_id":32532846,"body_markdown":"Your code is vulnerable to SQl injection. https://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java","body":"Your code is vulnerable to SQl injection. <a href=\"https://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java\" rel=\"nofollow noreferrer\">owasp.org/index.php/Preventing_SQL_Injection_in_Java</a>"}],"tags":[],"owner":{"account_id":3074715,"reputation":751,"user_id":2604405,"accept_rate":67,"display_name":"Sudharsun"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1575628730,"creation_date":1391487436,"answer_id":21542862,"question_id":21542825,"body_markdown":" Every open connection must be closed, or it won&#39;t get implemented and no errors will be displayed. First learned lesson.\r\n```java\r\npublic static void DeleteRow(String name) {\r\n    try {  \r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection connection = DriverManager.getConnection(url, username, password);\r\n    \r\n        PreparedStatement st = connection.prepareStatement(&quot;DELETE FROM Table WHERE name = &quot; + name + &quot;;&quot;);\r\n        st.executeUpdate(); \r\n        connection.close();\r\n    } catch(Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}\r\n```\r\nHope this helps\r\n","title":"Java sql delete row","body":"<p>Every open connection must be closed, or it won't get implemented and no errors will be displayed. First learned lesson.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void DeleteRow(String name) {\n    try {  \n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection connection = DriverManager.getConnection(url, username, password);\n\n        PreparedStatement st = connection.prepareStatement(\"DELETE FROM Table WHERE name = \" + name + \";\");\n        st.executeUpdate(); \n        connection.close();\n    } catch(Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":545104,"reputation":7802,"user_id":914763,"accept_rate":83,"display_name":"jeremyjjbrown"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1391488110,"creation_date":1391487701,"answer_id":21542897,"question_id":21542825,"body_markdown":"You should never create a SQL statement in Java with String concatenation, it will be vulnerable to sql injection. Please do it this way.\r\n\r\n    String selectSQL = &quot;DELETE FROM Table WHERE name = ?&quot;;\r\n    connection.prepareStatement(selectSQL);\r\n    preparedStatement.setString(1, name);","title":"Java sql delete row","body":"<p>You should never create a SQL statement in Java with String concatenation, it will be vulnerable to sql injection. Please do it this way.</p>\n\n<pre><code>String selectSQL = \"DELETE FROM Table WHERE name = ?\";\nconnection.prepareStatement(selectSQL);\npreparedStatement.setString(1, name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4618453,"reputation":347,"user_id":3744178,"display_name":"wrecklez"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1403071647,"creation_date":1403071647,"answer_id":24278156,"question_id":21542825,"body_markdown":"try this bro. use Statement\r\n\r\n\r\n    Statement stmt = connection.createStatement();\r\n    String SQL = &quot;DELETE FROM Table WHERE name = &#39;&quot;+name+&quot;&#39;&quot;;\r\n    stmt.executeUpdate(SQL);","title":"Java sql delete row","body":"<p>try this bro. use Statement</p>\n\n<pre><code>Statement stmt = connection.createStatement();\nString SQL = \"DELETE FROM Table WHERE name = '\"+name+\"'\";\nstmt.executeUpdate(SQL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4027871,"reputation":1,"user_id":3315284,"display_name":"Asif alam"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1448485726,"creation_date":1448485726,"answer_id":33926439,"question_id":21542825,"body_markdown":"this will work\r\nString del=&quot;DELETE FROM table WHERE name =(&#39;&quot; + name + &quot;&#39;)&quot;;\r\n\r\n:)","title":"Java sql delete row","body":"<p>this will work\nString del=\"DELETE FROM table WHERE name =('\" + name + \"')\";</p>\n\n<p>:)</p>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1479463864,"creation_date":1479463864,"answer_id":40674335,"question_id":21542825,"body_markdown":" \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n              Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t    \t  Connection con = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;, &quot;MANASH_APPN&quot;,&quot;MANASH&quot;);\r\n\t\t      PreparedStatement ps = con.prepareStatement(&quot;delete from EMP21 where empid = ?&quot;);\r\n\t\t       ps.setInt(1,90);\r\n\t\t       ps.executeUpdate();\r\n\t\t      con.commit();\r\n\t\t      System.out.println(&quot;Records Delete Successfully....&quot;);\r\n\t    \t con.close();","title":"Java sql delete row","body":"<pre><code>          Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n          Connection con = DriverManager.getConnection(\"jdbc:oracle:thin:@localhost:1521:XE\", \"MANASH_APPN\",\"MANASH\");\n          PreparedStatement ps = con.prepareStatement(\"delete from EMP21 where empid = ?\");\n           ps.setInt(1,90);\n           ps.executeUpdate();\n          con.commit();\n          System.out.println(\"Records Delete Successfully....\");\n         con.close();\n</code></pre>\n"}],"owner":{"account_id":3961539,"reputation":151,"user_id":3268379,"accept_rate":14,"display_name":"user3268379"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76831,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":21542836,"answer_count":6,"score":11,"last_activity_date":1673278874,"creation_date":1391487194,"question_id":21542825,"body_markdown":"Hello I am trying to delete a row from my database. I am getting no errors but it is doing nothing, any help or advice would be great!\r\n```java\r\npublic static void DeleteRow(String name) {\r\n    try {  \r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        Connection connection = DriverManager.getConnection(url, username, password);\r\n\r\n        PreparedStatement st = connection.prepareStatement(&quot;DELETE FROM Table WHERE name = &quot; + name + &quot;;&quot;);\r\n        st.executeUpdate();\r\n    } catch(Exception e) {\r\n        System.out.println(e);\r\n    }\r\n}\r\n```","title":"Java sql delete row","body":"<p>Hello I am trying to delete a row from my database. I am getting no errors but it is doing nothing, any help or advice would be great!</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void DeleteRow(String name) {\n    try {  \n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection connection = DriverManager.getConnection(url, username, password);\n\n        PreparedStatement st = connection.prepareStatement(\"DELETE FROM Table WHERE name = \" + name + \";\");\n        st.executeUpdate();\n    } catch(Exception e) {\n        System.out.println(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-intent","android-7.0-nougat","split-screen-multitasking"],"comments":[{"owner":{"account_id":1490668,"reputation":3679,"user_id":1397821,"accept_rate":50,"display_name":"M. Usman Khan"},"score":0,"creation_date":1574937314,"post_id":37907094,"comment_id":104409010,"body_markdown":"https://stackoverflow.com/a/59025977/1397821","body":"<a href=\"https://stackoverflow.com/a/59025977/1397821\">stackoverflow.com/a/59025977/1397821</a>"}],"answers":[{"comments":[{"owner":{"account_id":7726926,"reputation":713,"user_id":5851265,"accept_rate":70,"display_name":"Jack"},"score":1,"creation_date":1540618368,"post_id":42981316,"comment_id":92940694,"body_markdown":"Based on your knowledge, is it possible to start two apps in split mode from within my app that is doesn&#39;t support split mode and in foreground (Which means screen currently not in split mode)?","body":"Based on your knowledge, is it possible to start two apps in split mode from within my app that is doesn&#39;t support split mode and in foreground (Which means screen currently not in split mode)?"},{"owner":{"account_id":7726926,"reputation":713,"user_id":5851265,"accept_rate":70,"display_name":"Jack"},"score":0,"creation_date":1540618471,"post_id":42981316,"comment_id":92940712,"body_markdown":"If you tried a Samsung mobile that supports split screen (Before Google add such feature to Android), you can launch two apps in split mode, I want to do the same but for Android in general not for Samsung mobiles exclusively.","body":"If you tried a Samsung mobile that supports split screen (Before Google add such feature to Android), you can launch two apps in split mode, I want to do the same but for Android in general not for Samsung mobiles exclusively."}],"tags":[],"owner":{"account_id":3014757,"reputation":3692,"user_id":2557258,"display_name":"Yazon2006"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490285237,"creation_date":1490285237,"answer_id":42981316,"question_id":37907094,"body_markdown":"First of all app should be targeted to SDK 24+ version. If it targeted to lower than 24 SDK then split screen mode would not work.\r\nThen carefully read [here][1] and [here][2] \r\n\r\n&gt; If the device is in split-screen mode, the system attempts to create\r\n&gt; the new activity next to the activity that launched it, so the two\r\n&gt; activities share the screen. The system is not guaranteed to be able\r\n&gt; to do this, but it makes the activities adjacent if possible.\r\n&gt; \r\n&gt; This flag is only used in split-screen multi-window mode. The new\r\n&gt; activity will be displayed adjacent to the one launching it. This can\r\n&gt; only be used in conjunction with FLAG_ACTIVITY_NEW_TASK. Also, setting\r\n&gt; FLAG_ACTIVITY_MULTIPLE_TASK is required if you want a new instance of\r\n&gt; an existing activity to be created.\r\n\r\n\r\nIt means that you can&#39;t start split screen mode programmatically. You can just try to launch activity in another part of screen if you are already in split screen mode.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/multi-window.html#overview\r\n  [2]: https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_LAUNCH_ADJACENT","title":"Programmatically open app in split screen","body":"<p>First of all app should be targeted to SDK 24+ version. If it targeted to lower than 24 SDK then split screen mode would not work.\nThen carefully read <a href=\"https://developer.android.com/guide/topics/ui/multi-window.html#overview\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_LAUNCH_ADJACENT\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<blockquote>\n  <p>If the device is in split-screen mode, the system attempts to create\n  the new activity next to the activity that launched it, so the two\n  activities share the screen. The system is not guaranteed to be able\n  to do this, but it makes the activities adjacent if possible.</p>\n  \n  <p>This flag is only used in split-screen multi-window mode. The new\n  activity will be displayed adjacent to the one launching it. This can\n  only be used in conjunction with FLAG_ACTIVITY_NEW_TASK. Also, setting\n  FLAG_ACTIVITY_MULTIPLE_TASK is required if you want a new instance of\n  an existing activity to be created.</p>\n</blockquote>\n\n<p>It means that you can't start split screen mode programmatically. You can just try to launch activity in another part of screen if you are already in split screen mode.</p>\n"},{"tags":[],"owner":{"account_id":22009753,"reputation":31,"user_id":16280201,"display_name":"mzc"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673278825,"creation_date":1627649178,"answer_id":68591204,"question_id":37907094,"body_markdown":"Hi Starting from android 7.0 you can go to Freeform multiwindow mode. Turn on developer options in your device and use following adb commands : \r\n\r\n    adb shell settings put global enable_freeform_support  1\r\n    adb shell settings put global force_resizable_activities  1\r\n\r\nAfter you can use the following function to launch different activities in split screen programmatically: \r\n\r\n    private void goToSplitMode() {\r\n            PackageManager manager = getPackageManager();\r\n            Intent i = manager.getLaunchIntentForPackage(&quot;com.google.android.apps.maps&quot;);\r\n    \r\n            i.addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT |\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK |\r\n                    Intent.FLAG_ACTIVITY_MULTIPLE_TASK);\r\n    \r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            Rect mBounds = new Rect(300, 0, getScreenWidth(this), getScreenHeight(this));\r\n             mOptions = getActivityOptions(MainActivity.this);\r\n            mOptions = mOptions.setLaunchBounds(mBounds);\r\n    \r\n            startActivity(i, mOptions.toBundle());\r\n    \r\n            i = new Intent(this, SplitMainActivity.class);\r\n            mBounds = new Rect(0, 0, 300, getScreenHeight(this));\r\n            mOptions = getActivityOptions(MainActivity.this);\r\n            mOptions = mOptions.setLaunchBounds(mBounds);\r\n    \r\n            i.addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT |\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK |\r\n                    Intent.FLAG_ACTIVITY_MULTIPLE_TASK);\r\n    \r\n            startActivity(i, mOptions.toBundle());\r\n        }\r\n    \r\n        public static ActivityOptions getActivityOptions(Context context) {\r\n            ActivityOptions options = ActivityOptions.makeBasic();\r\n            int freeform_stackId = 5;\r\n            try {\r\n                Method method = ActivityOptions.class.getMethod(&quot;setLaunchWindowingMode&quot;, int.class);\r\n                method.invoke(options, freeform_stackId);\r\n            } catch (Exception e) { /* Gracefully fail */\r\n                }\r\n    \r\n            return options;\r\n        }\r\n\r\n    public static int getScreenWidth(@NonNull Activity activity) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                WindowMetrics windowMetrics = activity.getWindowManager().getCurrentWindowMetrics();\r\n                Insets insets = windowMetrics.getWindowInsets()\r\n                        .getInsetsIgnoringVisibility(WindowInsets.Type.systemBars());\r\n                return windowMetrics.getBounds().width() - insets.left - insets.right;\r\n            } else {\r\n                DisplayMetrics displayMetrics = new DisplayMetrics();\r\n                activity.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n                return displayMetrics.widthPixels;\r\n            }\r\n        }\r\n    \r\n        public static int getScreenHeight(@NonNull Activity activity) {\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                WindowMetrics windowMetrics = activity.getWindowManager().getCurrentWindowMetrics();\r\n                Insets insets = windowMetrics.getWindowInsets()\r\n                        .getInsetsIgnoringVisibility(WindowInsets.Type.systemBars());\r\n                return windowMetrics.getBounds().height() - insets.top - insets.bottom;\r\n            } else {\r\n                DisplayMetrics displayMetrics = new DisplayMetrics();\r\n                activity.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n                return displayMetrics.heightPixels;\r\n            }\r\n        }","title":"Programmatically open app in split screen","body":"<p>Hi Starting from android 7.0 you can go to Freeform multiwindow mode. Turn on developer options in your device and use following adb commands :</p>\n<pre><code>adb shell settings put global enable_freeform_support  1\nadb shell settings put global force_resizable_activities  1\n</code></pre>\n<p>After you can use the following function to launch different activities in split screen programmatically:</p>\n<pre><code>private void goToSplitMode() {\n        PackageManager manager = getPackageManager();\n        Intent i = manager.getLaunchIntentForPackage(&quot;com.google.android.apps.maps&quot;);\n\n        i.addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT |\n                Intent.FLAG_ACTIVITY_NEW_TASK |\n                Intent.FLAG_ACTIVITY_MULTIPLE_TASK);\n\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n        Rect mBounds = new Rect(300, 0, getScreenWidth(this), getScreenHeight(this));\n         mOptions = getActivityOptions(MainActivity.this);\n        mOptions = mOptions.setLaunchBounds(mBounds);\n\n        startActivity(i, mOptions.toBundle());\n\n        i = new Intent(this, SplitMainActivity.class);\n        mBounds = new Rect(0, 0, 300, getScreenHeight(this));\n        mOptions = getActivityOptions(MainActivity.this);\n        mOptions = mOptions.setLaunchBounds(mBounds);\n\n        i.addFlags(Intent.FLAG_ACTIVITY_LAUNCH_ADJACENT |\n                Intent.FLAG_ACTIVITY_NEW_TASK |\n                Intent.FLAG_ACTIVITY_MULTIPLE_TASK);\n\n        startActivity(i, mOptions.toBundle());\n    }\n\n    public static ActivityOptions getActivityOptions(Context context) {\n        ActivityOptions options = ActivityOptions.makeBasic();\n        int freeform_stackId = 5;\n        try {\n            Method method = ActivityOptions.class.getMethod(&quot;setLaunchWindowingMode&quot;, int.class);\n            method.invoke(options, freeform_stackId);\n        } catch (Exception e) { /* Gracefully fail */\n            }\n\n        return options;\n    }\n\npublic static int getScreenWidth(@NonNull Activity activity) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            WindowMetrics windowMetrics = activity.getWindowManager().getCurrentWindowMetrics();\n            Insets insets = windowMetrics.getWindowInsets()\n                    .getInsetsIgnoringVisibility(WindowInsets.Type.systemBars());\n            return windowMetrics.getBounds().width() - insets.left - insets.right;\n        } else {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            activity.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.widthPixels;\n        }\n    }\n\n    public static int getScreenHeight(@NonNull Activity activity) {\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            WindowMetrics windowMetrics = activity.getWindowManager().getCurrentWindowMetrics();\n            Insets insets = windowMetrics.getWindowInsets()\n                    .getInsetsIgnoringVisibility(WindowInsets.Type.systemBars());\n            return windowMetrics.getBounds().height() - insets.top - insets.bottom;\n        } else {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            activity.getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.heightPixels;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6624647,"reputation":2161,"user_id":5115254,"accept_rate":73,"display_name":"vanlooverenkoen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10494,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1673278825,"creation_date":1466338269,"question_id":37907094,"body_markdown":"How do I open another app in a split screen in the android N (SDK 24)?\r\n\r\nIn the documentation I found this:\r\n\r\n---------------------------\r\n**Launch New Activities in Multi-Window Mode**\r\n\r\nWhen you launch a new activity, you can hint to the system that the new activity should be displayed adjacent to the current one, if possible. To do this, use the flag Intent.FLAG_ACTIVITY_LAUNCH_TO_ADJACENT. Passing this flag requests the following behaviour:\r\n\r\nIf the device is in split-screen mode, the system attempts to create the new activity next to the activity that launched it, so the two activities share the screen. The system is not guaranteed to be able to do this, but it makes the activities adjacent if possible.\r\nIf the device is not in split-screen mode, this flag has no effect.\r\nIf a device is in freeform mode and you are launching a new activity, you can specify the new activity&#39;s dimensions and screen location by calling ActivityOptions.setLaunchBounds(). This method has no effect if the device is not in multi-window mode.\r\n\r\n-------------------------\r\nso when I tried this out, the `Intent.FLAG_ACTIVITY_LAUNCH_TO_ADJACENT` flag does not exist. I installed \r\n\r\n- Android 6.x (N) SDK 24 revision 1\r\n- Android N Preview SDK N revision 3\r\n- Android 6.0 (Marshmallow) SDK 23 revision 3\r\n\r\nthis is my gradle:\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 24\r\n        buildToolsVersion &quot;24.0.0&quot;\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;PACKAGENAME&quot;\r\n            minSdkVersion 16\r\n            targetSdkVersion 24\r\n            versionCode 2\r\n            versionName &quot;2.4.1&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        compile &#39;com.android.support:appcompat-v7:24.0.0&#39;\r\n        compile &#39;com.android.support:design:24.0.0&#39;\r\n        compile &#39;org.jsoup:jsoup:1.8.3&#39;\r\n        compile &#39;com.android.support:support-v4:24.0.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.6.2&#39;\r\n        compile &#39;com.squareup.okhttp3:okhttp:3.2.0&#39;\r\n    }\r\n\r\n","title":"Programmatically open app in split screen","body":"<p>How do I open another app in a split screen in the android N (SDK 24)?</p>\n\n<p>In the documentation I found this:</p>\n\n<hr>\n\n<p><strong>Launch New Activities in Multi-Window Mode</strong></p>\n\n<p>When you launch a new activity, you can hint to the system that the new activity should be displayed adjacent to the current one, if possible. To do this, use the flag Intent.FLAG_ACTIVITY_LAUNCH_TO_ADJACENT. Passing this flag requests the following behaviour:</p>\n\n<p>If the device is in split-screen mode, the system attempts to create the new activity next to the activity that launched it, so the two activities share the screen. The system is not guaranteed to be able to do this, but it makes the activities adjacent if possible.\nIf the device is not in split-screen mode, this flag has no effect.\nIf a device is in freeform mode and you are launching a new activity, you can specify the new activity's dimensions and screen location by calling ActivityOptions.setLaunchBounds(). This method has no effect if the device is not in multi-window mode.</p>\n\n<hr>\n\n<p>so when I tried this out, the <code>Intent.FLAG_ACTIVITY_LAUNCH_TO_ADJACENT</code> flag does not exist. I installed </p>\n\n<ul>\n<li>Android 6.x (N) SDK 24 revision 1</li>\n<li>Android N Preview SDK N revision 3</li>\n<li>Android 6.0 (Marshmallow) SDK 23 revision 3</li>\n</ul>\n\n<p>this is my gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 24\n    buildToolsVersion \"24.0.0\"\n\n    defaultConfig {\n        applicationId \"PACKAGENAME\"\n        minSdkVersion 16\n        targetSdkVersion 24\n        versionCode 2\n        versionName \"2.4.1\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:appcompat-v7:24.0.0'\n    compile 'com.android.support:design:24.0.0'\n    compile 'org.jsoup:jsoup:1.8.3'\n    compile 'com.android.support:support-v4:24.0.0'\n    compile 'com.google.code.gson:gson:2.6.2'\n    compile 'com.squareup.okhttp3:okhttp:3.2.0'\n}\n</code></pre>\n"},{"tags":["java","android","kotlin","generics"],"owner":{"account_id":3629850,"reputation":3395,"user_id":3026347,"accept_rate":61,"display_name":"Noorul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673278547,"creation_date":1673278547,"question_id":75059576,"body_markdown":"    package com.hypermarket.ui.main.adapter\r\n\r\n    import android.graphics.Paint\r\n    import android.view.LayoutInflater\r\n    import android.view.View\r\n    import android.view.ViewGroup\r\n    import android.widget.TextView\r\n    import androidx.fragment.app.Fragment\r\n    import androidx.recyclerview.widget.LinearLayoutManager\r\n    import androidx.recyclerview.widget.RecyclerView\r\n    import com.google.android.material.bottomsheet.BottomSheetDialog\r\n    \r\n    class ProductsGridAdapter(\r\n        fragment: Fragment,\r\n        val context: MainActivity,\r\n        private val myPref: PreferencesManager,\r\n        screenName: ScreenType,\r\n        productInterface: ProductInterface,\r\n        rv: RecyclerView,\r\n        isFromDetails: Boolean,\r\n    ) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n        private var items = arrayListOf&lt;ProductModel&gt;()\r\n        var parentFragment: Fragment = fragment\r\n        var bottomSheetDialog: BottomSheetDialog? = null\r\n        var mAdapter: ProductsGridAdapter? = null\r\n        var screenType: ScreenType\r\n        var productInterface: ProductInterface = productInterface\r\n        private var loading = false\r\n        private var onLoadMoreListener: OnLoadMoreListener? = null\r\n        private var recyclerView: RecyclerView\r\n        private var isFromDetails: Boolean? = false\r\n    \r\n     \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            val layoutInflater = LayoutInflater.from(parent.context)\r\n            if (isFromDetails == false) {\r\n                val itemBinding: RowItemProductGridBinding =\r\n                    RowItemProductGridBinding.inflate(layoutInflater, parent, false)\r\n                //itemBinding.productInterface = productInterface\r\n                return ViewHolder(itemBinding)\r\n            } else {\r\n                val itemBinding: RowItemSimilarProductBinding =\r\n                    RowItemSimilarProductBinding.inflate(layoutInflater, parent, false)\r\n                //itemBinding.productInterface = productInterface\r\n                return ViewHolder(itemBinding)\r\n            }\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            if (isFromDetails == true) {\r\n                (holder as ViewHolder&lt;RowItemSimilarProductBinding&gt;).bind(position)\r\n            } else {\r\n                (holder as ViewHolder&lt;RowItemProductGridBinding&gt;).bind(position)\r\n    \r\n            }\r\n        }\r\n    \r\n      \r\n    \r\n        fun &lt;T&gt; getCurrentView(binding: T): View {\r\n            if (isFromDetails == true) {\r\n                return (binding as RowItemSimilarProductBinding).root\r\n            } else {\r\n                return (binding as RowItemProductGridBinding).root\r\n            }\r\n        }\r\n    \r\n        fun &lt;T&gt; getItemSimilarProductBinding(binding: T): RowItemSimilarProductBinding {\r\n            return binding as RowItemSimilarProductBinding\r\n        }\r\n    \r\n        fun &lt;T&gt; getItemProductGridBinding(binding: T): RowItemProductGridBinding {\r\n            return binding as RowItemProductGridBinding\r\n        }\r\n    \r\n        inner class ViewHolder&lt;T&gt;(bindings: T) : RecyclerView.ViewHolder(getCurrentView(bindings)) {\r\n    \r\n    \r\n            private val binding: T = bindings\r\n    \r\n    \r\n            fun bind(position: Int) {\r\n    \r\n                val model: ProductModel = items[position]\r\n                if (isFromDetails == true) {\r\n                    getItemSimilarProductBinding(binding).item = model\r\n                } else {\r\n                    getItemProductGridBinding(binding).item = model\r\n                }\r\n    \r\n                binding.tvMRP.paintFlags = binding.tvMRP.paintFlags or Paint.STRIKE_THRU_TEXT_FLAG\r\n                binding.executePendingBindings()\r\n                binding.ivProduct.setBackgroundResource(0)\r\n    \r\n                if (model.weight_based == Constants.WEIGHT_BASED) {\r\n                    binding.parentView.disabled =\r\n                        AppValidator.toFloat(model.available_qty_weight_based) &lt; AppValidator.toFloat(\r\n                            model.gram_variant_en)\r\n                } else {\r\n                    binding.parentView.disabled = AppValidator.toInt(model.available_qty) == 0\r\n                }\r\n                binding.ivType.setGone()\r\n              \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nHere I want to use two different layout (Which you can see on onCreateViewHolder() method). two different layout has all the property named with one another. only design is different. now I want to use the layout based on `isFromDetails` (Which is boolean value). based on that, I want access the both layout bindings with single variable. is it possible?\r\n\r\n    private val binding: T = bindings\r\n    \r\n\r\n    fun bind(position: Int) {\r\n\r\n            val model: ProductModel = items[position]\r\n            if (isFromDetails == true) {\r\n                getItemSimilarProductBinding(binding).item = model\r\n            } else {\r\n                getItemProductGridBinding(binding).item = model\r\n            }\r\n\r\n            binding.tvMRP.paintFlags = binding.tvMRP.paintFlags or Paint.STRIKE_THRU_TEXT_FLAG\r\n          \r\n            binding.ivType.setGone()\r\n\r\n    }\r\n\r\nhere both layout has tvMRP and ivType.  Is it possible without adding boiler plate code?","title":"How to casting this Generic class for two layouts in Kotlin?","body":"<pre><code>package com.hypermarket.ui.main.adapter\n\nimport android.graphics.Paint\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport androidx.fragment.app.Fragment\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.google.android.material.bottomsheet.BottomSheetDialog\n\nclass ProductsGridAdapter(\n    fragment: Fragment,\n    val context: MainActivity,\n    private val myPref: PreferencesManager,\n    screenName: ScreenType,\n    productInterface: ProductInterface,\n    rv: RecyclerView,\n    isFromDetails: Boolean,\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n    private var items = arrayListOf&lt;ProductModel&gt;()\n    var parentFragment: Fragment = fragment\n    var bottomSheetDialog: BottomSheetDialog? = null\n    var mAdapter: ProductsGridAdapter? = null\n    var screenType: ScreenType\n    var productInterface: ProductInterface = productInterface\n    private var loading = false\n    private var onLoadMoreListener: OnLoadMoreListener? = null\n    private var recyclerView: RecyclerView\n    private var isFromDetails: Boolean? = false\n\n \n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        if (isFromDetails == false) {\n            val itemBinding: RowItemProductGridBinding =\n                RowItemProductGridBinding.inflate(layoutInflater, parent, false)\n            //itemBinding.productInterface = productInterface\n            return ViewHolder(itemBinding)\n        } else {\n            val itemBinding: RowItemSimilarProductBinding =\n                RowItemSimilarProductBinding.inflate(layoutInflater, parent, false)\n            //itemBinding.productInterface = productInterface\n            return ViewHolder(itemBinding)\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        if (isFromDetails == true) {\n            (holder as ViewHolder&lt;RowItemSimilarProductBinding&gt;).bind(position)\n        } else {\n            (holder as ViewHolder&lt;RowItemProductGridBinding&gt;).bind(position)\n\n        }\n    }\n\n  \n\n    fun &lt;T&gt; getCurrentView(binding: T): View {\n        if (isFromDetails == true) {\n            return (binding as RowItemSimilarProductBinding).root\n        } else {\n            return (binding as RowItemProductGridBinding).root\n        }\n    }\n\n    fun &lt;T&gt; getItemSimilarProductBinding(binding: T): RowItemSimilarProductBinding {\n        return binding as RowItemSimilarProductBinding\n    }\n\n    fun &lt;T&gt; getItemProductGridBinding(binding: T): RowItemProductGridBinding {\n        return binding as RowItemProductGridBinding\n    }\n\n    inner class ViewHolder&lt;T&gt;(bindings: T) : RecyclerView.ViewHolder(getCurrentView(bindings)) {\n\n\n        private val binding: T = bindings\n\n\n        fun bind(position: Int) {\n\n            val model: ProductModel = items[position]\n            if (isFromDetails == true) {\n                getItemSimilarProductBinding(binding).item = model\n            } else {\n                getItemProductGridBinding(binding).item = model\n            }\n\n            binding.tvMRP.paintFlags = binding.tvMRP.paintFlags or Paint.STRIKE_THRU_TEXT_FLAG\n            binding.executePendingBindings()\n            binding.ivProduct.setBackgroundResource(0)\n\n            if (model.weight_based == Constants.WEIGHT_BASED) {\n                binding.parentView.disabled =\n                    AppValidator.toFloat(model.available_qty_weight_based) &lt; AppValidator.toFloat(\n                        model.gram_variant_en)\n            } else {\n                binding.parentView.disabled = AppValidator.toInt(model.available_qty) == 0\n            }\n            binding.ivType.setGone()\n          \n    }\n\n\n}\n</code></pre>\n<p>Here I want to use two different layout (Which you can see on onCreateViewHolder() method). two different layout has all the property named with one another. only design is different. now I want to use the layout based on <code>isFromDetails</code> (Which is boolean value). based on that, I want access the both layout bindings with single variable. is it possible?</p>\n<pre><code>private val binding: T = bindings\n\n\nfun bind(position: Int) {\n\n        val model: ProductModel = items[position]\n        if (isFromDetails == true) {\n            getItemSimilarProductBinding(binding).item = model\n        } else {\n            getItemProductGridBinding(binding).item = model\n        }\n\n        binding.tvMRP.paintFlags = binding.tvMRP.paintFlags or Paint.STRIKE_THRU_TEXT_FLAG\n      \n        binding.ivType.setGone()\n\n}\n</code></pre>\n<p>here both layout has tvMRP and ivType.  Is it possible without adding boiler plate code?</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673278536,"creation_date":1673278536,"answer_id":75059572,"question_id":75055458,"body_markdown":"Your error has nothing to do with the `convertAndSend()`.\r\nIt is the problem of the `@RabbitListener` method signature.\r\nSince you don&#39;t deal with request-reply pattern, your listener method must have a `void` return type. Otherwise it tries to send that `MyResponse` object as a reply message body and therefore we see that error trying to resolve `ReplyTo` from default strategy.","title":"Spring AMQP: Amqp.outboundAdapter to @RabbitListener, error sending response due to missing &quot;reply-to&quot; property","body":"<p>Your error has nothing to do with the <code>convertAndSend()</code>.\nIt is the problem of the <code>@RabbitListener</code> method signature.\nSince you don't deal with request-reply pattern, your listener method must have a <code>void</code> return type. Otherwise it tries to send that <code>MyResponse</code> object as a reply message body and therefore we see that error trying to resolve <code>ReplyTo</code> from default strategy.</p>\n"}],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059572,"answer_count":1,"score":0,"last_activity_date":1673278536,"creation_date":1673257522,"question_id":75055458,"body_markdown":"So,\r\n\r\nI have 2 Spring Boot applications (2.6.10) that need to communicate via RabbitMQ / AMQP. App #1 is Spring Integration based and uses \r\n\r\n```java\r\nAmqp.outboundAdapter(rabbitTemplate).routingKey(&quot;app1-to-2&quot;)\r\n```\r\n\r\nto send messages in flow #1\r\n\r\n```java\r\nAmqp.inboundAdapter(connectionFactory, &quot;app2-to-1&quot;)\r\n```\r\n\r\nto receive messages in flow #2\r\n\r\nApp #2 is using RabbitListener to receive messages from App #1, process them immediately and return a reply:\r\n\r\n```java\r\n@RabbitListener(queues={&quot;app1-to-2&quot;})\r\npublic MyResponse handleMessage(final MyRequest request) {\r\n var myResponse = this.process(myRequest);\r\n \r\n rabbitTemplate.convertAndSend(&quot;app2-to-1&quot;,myResponse);\r\n}\r\n```\r\n\r\nHowever, upon receiving `myRequest` in App #2, the response cannot be send, due to:\r\n\r\n&gt; AmqpException: Cannot determine ReplyTo message property value: Request message does not contain reply-to property, and no default response Exchange was set.\r\n\r\nQuestion is: Why is the routing key from convertAndSend ignored or how to set reply-to property with Amqp.outboundAdapter?\r\n","title":"Spring AMQP: Amqp.outboundAdapter to @RabbitListener, error sending response due to missing &quot;reply-to&quot; property","body":"<p>So,</p>\n<p>I have 2 Spring Boot applications (2.6.10) that need to communicate via RabbitMQ / AMQP. App #1 is Spring Integration based and uses</p>\n<pre class=\"lang-java prettyprint-override\"><code>Amqp.outboundAdapter(rabbitTemplate).routingKey(&quot;app1-to-2&quot;)\n</code></pre>\n<p>to send messages in flow #1</p>\n<pre class=\"lang-java prettyprint-override\"><code>Amqp.inboundAdapter(connectionFactory, &quot;app2-to-1&quot;)\n</code></pre>\n<p>to receive messages in flow #2</p>\n<p>App #2 is using RabbitListener to receive messages from App #1, process them immediately and return a reply:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RabbitListener(queues={&quot;app1-to-2&quot;})\npublic MyResponse handleMessage(final MyRequest request) {\n var myResponse = this.process(myRequest);\n \n rabbitTemplate.convertAndSend(&quot;app2-to-1&quot;,myResponse);\n}\n</code></pre>\n<p>However, upon receiving <code>myRequest</code> in App #2, the response cannot be send, due to:</p>\n<blockquote>\n<p>AmqpException: Cannot determine ReplyTo message property value: Request message does not contain reply-to property, and no default response Exchange was set.</p>\n</blockquote>\n<p>Question is: Why is the routing key from convertAndSend ignored or how to set reply-to property with Amqp.outboundAdapter?</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":1156194,"reputation":1430,"user_id":1136734,"accept_rate":93,"display_name":"dave"},"score":0,"creation_date":1465211473,"post_id":37655814,"comment_id":62790787,"body_markdown":"Couple of things to to rule out, try clearing your build folder and stopping java in task manager, this normally fixes most gradle issues I have","body":"Couple of things to to rule out, try clearing your build folder and stopping java in task manager, this normally fixes most gradle issues I have"},{"owner":{"account_id":2903101,"reputation":1789,"user_id":2717821,"display_name":"Deni Erdyneev"},"score":0,"creation_date":1582609815,"post_id":37655814,"comment_id":106826436,"body_markdown":"Look to Build logs more attentively. In my case, I has outdated AppCenter gradle plugin","body":"Look to Build logs more attentively. In my case, I has outdated AppCenter gradle plugin"}],"answers":[{"comments":[{"owner":{"account_id":27050,"reputation":26330,"user_id":70942,"accept_rate":93,"display_name":"ant2009"},"score":16,"creation_date":1478889363,"post_id":38254348,"comment_id":68346528,"body_markdown":"Number 2 solved my problem. The problem I had was I was opening a project in Android Studio 2.2.2 that was created in a version of android studio in version 1.0.0","body":"Number 2 solved my problem. The problem I had was I was opening a project in Android Studio 2.2.2 that was created in a version of android studio in version 1.0.0"},{"owner":{"account_id":1739475,"reputation":1360,"user_id":1591296,"accept_rate":83,"display_name":"Kenneth Browning"},"score":1,"creation_date":1517568507,"post_id":38254348,"comment_id":84158370,"body_markdown":"2) worked for me too. In my case, I replaced the line with:\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip","body":"2) worked for me too. In my case, I replaced the line with: distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-4.1-all.zip"},{"owner":{"account_id":1597837,"reputation":4000,"user_id":1479511,"accept_rate":57,"display_name":"Narendra Singh"},"score":10,"creation_date":1517905296,"post_id":38254348,"comment_id":84273108,"body_markdown":"I already have `distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip` in my gradle-wrapper.properties file, but still having the same error.","body":"I already have <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-4.1-all.zip</code> in my gradle-wrapper.properties file, but still having the same error."},{"owner":{"account_id":420026,"reputation":95122,"user_id":797495,"accept_rate":69,"display_name":"Pedro Lobito"},"score":0,"creation_date":1565787844,"post_id":38254348,"comment_id":101460179,"body_markdown":"It&#39;s amazing how new versions have way more problem than older ones. Long live eclipse...","body":"It&#39;s amazing how new versions have way more problem than older ones. Long live eclipse..."},{"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"score":0,"creation_date":1568377556,"post_id":38254348,"comment_id":102264827,"body_markdown":"I am getting the same error even though I have version `distributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip`. how to solve this?","body":"I am getting the same error even though I have version <code>distributionUrl=https\\:&#47;&#47;services.gradle.org&#47;distributions&#47;g&zwnj;&#8203;radle-4.4-all.zip</code>. how to solve this?"}],"tags":[],"owner":{"account_id":8064412,"reputation":1471,"user_id":6079057,"display_name":"Shangwu"},"comment_count":5,"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1673278248,"creation_date":1467921900,"answer_id":38254348,"question_id":37655814,"body_markdown":"I fixed the error by changing the following things.\r\n\r\n1. Open the file under `your-app-project\\your-app-name\\gradle\\wrapper\\gradle-wrapper.properties`\r\n2. replace the old URL path by this one:\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-2.10-all.zip`\r\n\r\n3. Rename the folder name from `&quot;...\\1.12&quot;` to `your-app-project\\your-app-name\\.gradle\\2.10`\r\n\r\n4. Change the `classpath` of `your-app-project\\your-app-name\\build.gradle` to \r\n`classpath &#39;com.android.tools.build:gradle:2.1.2&#39;`\r\n\r\n5. Replace `runProguard` of `your-app-project\\your-app-name\\app\\build.gradle` by `minifyEnabled`\r\n\r\n6. Click Retry on the error reminder or Reopen your Android Studio and project.\r\n\r\nI am using the latest versions of Android Studio and Gradle.\r\n","title":"Gradle sync failed: Unable to find method","body":"<p>I fixed the error by changing the following things.</p>\n<ol>\n<li><p>Open the file under <code>your-app-project\\your-app-name\\gradle\\wrapper\\gradle-wrapper.properties</code></p>\n</li>\n<li><p>replace the old URL path by this one:\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-2.10-all.zip</code></p>\n</li>\n<li><p>Rename the folder name from <code>&quot;...\\1.12&quot;</code> to <code>your-app-project\\your-app-name\\.gradle\\2.10</code></p>\n</li>\n<li><p>Change the <code>classpath</code> of <code>your-app-project\\your-app-name\\build.gradle</code> to\n<code>classpath 'com.android.tools.build:gradle:2.1.2'</code></p>\n</li>\n<li><p>Replace <code>runProguard</code> of <code>your-app-project\\your-app-name\\app\\build.gradle</code> by <code>minifyEnabled</code></p>\n</li>\n<li><p>Click Retry on the error reminder or Reopen your Android Studio and project.</p>\n</li>\n</ol>\n<p>I am using the latest versions of Android Studio and Gradle.</p>\n"},{"comments":[{"owner":{"account_id":7339032,"reputation":171,"user_id":5589347,"display_name":"KhoaHA"},"score":0,"creation_date":1534130139,"post_id":38516857,"comment_id":90583983,"body_markdown":"Made my day. Tks","body":"Made my day. Tks"}],"tags":[],"owner":{"account_id":6802800,"reputation":1621,"user_id":5235611,"display_name":"KunMing Xie"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1469151178,"creation_date":1469151178,"answer_id":38516857,"question_id":37655814,"body_markdown":"edit Project &gt;&gt; App &gt;&gt; gradle &gt;&gt; wrapper &gt;&gt; gradle-wrapper.properties\r\n\r\n    distributionUrl=http\\://services.gradle.org/distributions/gradle-2.10-bin.zip\r\n\r\nrebuild the project (restart ide in your mind)","title":"Gradle sync failed: Unable to find method","body":"<p>edit Project >> App >> gradle >> wrapper >> gradle-wrapper.properties</p>\n\n<pre><code>distributionUrl=http\\://services.gradle.org/distributions/gradle-2.10-bin.zip\n</code></pre>\n\n<p>rebuild the project (restart ide in your mind)</p>\n"},{"tags":[],"owner":{"account_id":6071062,"reputation":452,"user_id":4739877,"display_name":"Thomas Sunderland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471979053,"creation_date":1471979053,"answer_id":39108869,"question_id":37655814,"body_markdown":"This issue happened to me today with Android Studio 2.2 Beta2 on Windows 7 64-bit.\r\n\r\nNone of the solutions mentioned helped. Finally I was able to resolve the issue by re-importing my project.","title":"Gradle sync failed: Unable to find method","body":"<p>This issue happened to me today with Android Studio 2.2 Beta2 on Windows 7 64-bit.</p>\n\n<p>None of the solutions mentioned helped. Finally I was able to resolve the issue by re-importing my project.</p>\n"},{"tags":[],"owner":{"account_id":12270727,"reputation":101,"user_id":8955933,"display_name":"Raja Muddasar"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1510902480,"creation_date":1510899950,"answer_id":47344517,"question_id":37655814,"body_markdown":"    Project &gt;&gt; App &gt;&gt; gradle &gt;&gt; wrapper &gt;&gt; gradle-wrapper.properties\r\n\r\n    https\\://services.gradle.org/distributions/gradle-4.1-all.zip\r\n\r\nThis will surely work. I was having same issue. Solved by this.\r\n\r\n","title":"Gradle sync failed: Unable to find method","body":"<pre><code>Project &gt;&gt; App &gt;&gt; gradle &gt;&gt; wrapper &gt;&gt; gradle-wrapper.properties\n\nhttps\\://services.gradle.org/distributions/gradle-4.1-all.zip\n</code></pre>\n\n<p>This will surely work. I was having same issue. Solved by this.</p>\n"},{"tags":[],"owner":{"account_id":431235,"reputation":3159,"user_id":871368,"accept_rate":62,"display_name":"gingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511712142,"creation_date":1511712142,"answer_id":47498093,"question_id":37655814,"body_markdown":"For me the solution was to open Settings -&gt; Build, Execution, Deployment -&gt; Gradle and check &quot;Use default gradle wrapper (recommended)&quot;. ","title":"Gradle sync failed: Unable to find method","body":"<p>For me the solution was to open Settings -> Build, Execution, Deployment -> Gradle and check \"Use default gradle wrapper (recommended)\". </p>\n"},{"tags":[],"owner":{"account_id":253979,"reputation":1,"user_id":2418945,"display_name":"Travis Gibson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513534944,"creation_date":1513534944,"answer_id":47858139,"question_id":37655814,"body_markdown":"I was able to copy over the &lt;NEW_PROJECT_FOLDER&gt;/.gradle folder from a new Android project into the one that was having the problem. Then I restarted Android Studio and did a clean/build.  This resolved my issue.","title":"Gradle sync failed: Unable to find method","body":"<p>I was able to copy over the /.gradle folder from a new Android project into the one that was having the problem. Then I restarted Android Studio and did a clean/build.  This resolved my issue.</p>\n"},{"tags":[],"owner":{"account_id":9541981,"reputation":1474,"user_id":7089755,"display_name":"Kokul Jose"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1673278200,"creation_date":1519163632,"answer_id":48894854,"question_id":37655814,"body_markdown":"I faced similar issue and i resolved it by\r\n`Android Studio Version 3.0.1`\r\n\r\n1.Change the classpath of `your-app-project\\your-app-name\\build.gradle` to classpath `&#39;com.android.tools.build:gradle:3.0.1&#39;.`\r\n\r\n2.Replace the old URL path by this one: `distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip`\r\n\r\nMy gradle file was of version 4.1\r\nie; file in following location:(may differ slightly in your machine)\r\n`C:\\Program Files\\Android\\Android Studio\\gradle\\gradle-4.1`\r\n\r\n\r\n","title":"Gradle sync failed: Unable to find method","body":"<p>I faced similar issue and i resolved it by\n<code>Android Studio Version 3.0.1</code></p>\n<p>1.Change the classpath of <code>your-app-project\\your-app-name\\build.gradle</code> to classpath <code>'com.android.tools.build:gradle:3.0.1'.</code></p>\n<p>2.Replace the old URL path by this one: <code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip</code></p>\n<p>My gradle file was of version 4.1\nie; file in following location:(may differ slightly in your machine)\n<code>C:\\Program Files\\Android\\Android Studio\\gradle\\gradle-4.1</code></p>\n"},{"tags":[],"owner":{"account_id":8502292,"reputation":51,"user_id":6374894,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673278170,"creation_date":1521636503,"answer_id":49406739,"question_id":37655814,"body_markdown":"Under `gradle`-&gt;`gradle-wrapper.properties`\r\n \r\n\r\nreplacing \r\n```\r\ndistributionUrl=https\\\\://services.gradle.org/distributions/gradle-2.2.1-all.zip\r\n```\r\n\r\nwith\r\n\r\n```\r\ndistributionUrl=https\\\\://services.gradle.org/distributions/gradle-4.1-all.zip\r\n```\r\nsolved the issue.","title":"Gradle sync failed: Unable to find method","body":"<p>Under <code>gradle</code>-&gt;<code>gradle-wrapper.properties</code></p>\n<p>replacing</p>\n<pre><code>distributionUrl=https\\\\://services.gradle.org/distributions/gradle-2.2.1-all.zip\n</code></pre>\n<p>with</p>\n<pre><code>distributionUrl=https\\\\://services.gradle.org/distributions/gradle-4.1-all.zip\n</code></pre>\n<p>solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":11731478,"reputation":91,"user_id":8586807,"display_name":"syed shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524294808,"creation_date":1524294808,"answer_id":49953339,"question_id":37655814,"body_markdown":"This issue appears when I updated my android studio to 3.1.1\r\n\r\n1.\r\nI have resolved it by changing:\r\n`classpath &#39;com.android.tools.build:gradle:3.1.1&#39;`\r\nin build.gradle (project)\r\n\r\n2.\r\nchange:\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip`\r\nin gradle-wrapper.properties.\r\n(you can check it in explorer C:\\Program Files\\Android\\Android Studio\\gradle\\gradle-4.4)\r\n","title":"Gradle sync failed: Unable to find method","body":"<p>This issue appears when I updated my android studio to 3.1.1</p>\n\n<p>1.\nI have resolved it by changing:\n<code>classpath 'com.android.tools.build:gradle:3.1.1'</code>\nin build.gradle (project)</p>\n\n<p>2.\nchange:\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.4-all.zip</code>\nin gradle-wrapper.properties.\n(you can check it in explorer C:\\Program Files\\Android\\Android Studio\\gradle\\gradle-4.4)</p>\n"},{"tags":[],"owner":{"account_id":5190265,"reputation":1423,"user_id":4153414,"display_name":"Ambilpura Sunil Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556610135,"creation_date":1556610135,"answer_id":55916091,"question_id":37655814,"body_markdown":"        After 1 hour R&amp;D Not Solution as worked for me...\r\n        \r\n        But still i have solution follow this its work 100\r\n        \r\n        step 1: upgrade your build.gradle(Project:&lt;your project name&gt;)\r\n        Example :  classpath &#39;com.android.tools.build:gradle:2.1.3&#39; // old gradle file\r\n                   classpath &#39;com.android.tools.build:gradle:2.3.1&#39; // upgraded file \r\n        \r\n                                    OR\r\n                   classpath &#39;com.android.tools.build:gradle:3.1.0&#39;\r\n        \r\n        Step 2 : Upgrade compileSdkVersion buildToolsVersion \r\n        Example : compileSdkVersion 23    buildToolsVersion &quot;23.0.3 // old api&#39;s\r\n                  compileSdkVersion 25    buildToolsVersion &quot;25.0.2&quot; // upgraded api&#39;s\r\n    \r\n       Step 3:  upgrade gradle-wrapper.properties \r\n         \r\n    Example : distributionUrl=https\\://services.gradle.org/distributions/gradle-2.14.1-all.zip // old or any version\r\n    \r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip // new or any version\r\n\r\nStep 4 : finally goto build&gt;rebuild project...\r\n\r\n......End @Ambilpura\r\n\r\n\r\n\r\n\r\n","title":"Gradle sync failed: Unable to find method","body":"<pre><code>    After 1 hour R&amp;D Not Solution as worked for me...\n\n    But still i have solution follow this its work 100\n\n    step 1: upgrade your build.gradle(Project:&lt;your project name&gt;)\n    Example :  classpath 'com.android.tools.build:gradle:2.1.3' // old gradle file\n               classpath 'com.android.tools.build:gradle:2.3.1' // upgraded file \n\n                                OR\n               classpath 'com.android.tools.build:gradle:3.1.0'\n\n    Step 2 : Upgrade compileSdkVersion buildToolsVersion \n    Example : compileSdkVersion 23    buildToolsVersion \"23.0.3 // old api's\n              compileSdkVersion 25    buildToolsVersion \"25.0.2\" // upgraded api's\n\n   Step 3:  upgrade gradle-wrapper.properties \n\nExample : distributionUrl=https\\://services.gradle.org/distributions/gradle-2.14.1-all.zip // old or any version\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.1-all.zip // new or any version\n</code></pre>\n\n<p>Step 4 : finally goto build>rebuild project...</p>\n\n<p>......End @Ambilpura</p>\n"},{"tags":[],"owner":{"account_id":7771799,"reputation":109,"user_id":5881066,"display_name":"Amrit Kr Lama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572250247,"creation_date":1572250247,"answer_id":58587469,"question_id":37655814,"body_markdown":"The answer is partially reduntant, but it&#39;s for those who are confused with what version of gradle distribution to add. \r\nIt&#39;s the gradle version that&#39;s installed on your machine. \r\n\r\nEx: \r\nCheck your gradle version by:\r\n     &quot;gradle -v&quot; (mine was 5.4.1)\r\n    \r\nUpdate the file &quot;your-app-project\\your-app-name\\gradle\\wrapper\\gradle-wrapper.properties&quot; with\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.4.1-all.zip\r\n\r\nAnd done! It solved the problem for me.","title":"Gradle sync failed: Unable to find method","body":"<p>The answer is partially reduntant, but it's for those who are confused with what version of gradle distribution to add. \nIt's the gradle version that's installed on your machine. </p>\n\n<p>Ex: \nCheck your gradle version by:\n     \"gradle -v\" (mine was 5.4.1)</p>\n\n<p>Update the file \"your-app-project\\your-app-name\\gradle\\wrapper\\gradle-wrapper.properties\" with\ndistributionUrl=https://services.gradle.org/distributions/gradle-5.4.1-all.zip</p>\n\n<p>And done! It solved the problem for me.</p>\n"}],"owner":{"account_id":2541044,"reputation":639,"user_id":2206843,"accept_rate":100,"display_name":"Kal747"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82203,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":38254348,"answer_count":11,"score":52,"last_activity_date":1673278248,"creation_date":1465211134,"question_id":37655814,"body_markdown":"I try to import a project in Android studio. When importing it, i&#39;ve got an Error with Gradle :\r\n\r\n    Gradle sync failed: Unable to find method \r\n    \r\n    &#39;org.gradle.api.artifacts.Configuration.setExtendsFrom(Ljava/lang/Iterable;)Lorg/gradle/api/artifacts/Configuration;&#39;.\r\n\r\nI have tried :\r\n\r\n- Re-download dependencies and sync project: Fail (same error).\r\n\r\n- Stop Gradle build processes: Fail (same error).\r\n\r\n- Delete the .graddle in the home directory: Fail (same error).\r\n\r\n- Invalidate cache and restart Fail (same error).\r\n\r\n- Uninstall and reinstall Android studio and SDK: Fail (same error).\r\n\r\n\r\n**/build.gradle :**\r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:2.1.0&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n        }\r\n    }\r\n\r\n**/app/build.gradle**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    //apply plugin: &#39;android&#39;\r\n\r\n    android {\r\n        compileSdkVersion 17\r\n        buildToolsVersion &#39;20.0.0&#39;\r\n        defaultConfig {\r\n            applicationId &#39;xxx.xxx.xxx&#39;\r\n            minSdkVersion 17\r\n            targetSdkVersion 17\r\n            versionCode 1\r\n            versionName &#39;1.0&#39;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n            buildPB {\r\n                debuggable false\r\n                jniDebuggable false\r\n                renderscriptDebuggable false\r\n\r\n                zipAlignEnabled true\r\n            }\r\n        }\r\n        productFlavors {\r\n        }\r\n    //    lintOptions {\r\n    //        abortOnError false\r\n    //    }\r\n    }\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        // You must install or update the Support Repository through the SDK manager to use this dependency.\r\n        compile (&#39;org.simpleframework:simple-xml:2.7.1&#39;) {\r\n            exclude module: &#39;stax&#39;\r\n            exclude module: &#39;stax-api&#39;\r\n            exclude module: &#39;xpp3&#39;\r\n        }\r\n        compile &#39;net.sf.opencsv:opencsv:2.3&#39;\r\n        compile &#39;de.greenrobot:greendao:1.3.7&#39;\r\n        // You must install or update the Support Repository through the SDK manager to use this dependency.\r\n    //    compile &#39;com.android.support:support-v4:19.+&#39;\r\n    }\r\n\r\n\r\n","title":"Gradle sync failed: Unable to find method","body":"<p>I try to import a project in Android studio. When importing it, i've got an Error with Gradle :</p>\n\n<pre><code>Gradle sync failed: Unable to find method \n\n'org.gradle.api.artifacts.Configuration.setExtendsFrom(Ljava/lang/Iterable;)Lorg/gradle/api/artifacts/Configuration;'.\n</code></pre>\n\n<p>I have tried :</p>\n\n<ul>\n<li><p>Re-download dependencies and sync project: Fail (same error).</p></li>\n<li><p>Stop Gradle build processes: Fail (same error).</p></li>\n<li><p>Delete the .graddle in the home directory: Fail (same error).</p></li>\n<li><p>Invalidate cache and restart Fail (same error).</p></li>\n<li><p>Uninstall and reinstall Android studio and SDK: Fail (same error).</p></li>\n</ul>\n\n<p><strong>/build.gradle :</strong></p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p><strong>/app/build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n//apply plugin: 'android'\n\nandroid {\n    compileSdkVersion 17\n    buildToolsVersion '20.0.0'\n    defaultConfig {\n        applicationId 'xxx.xxx.xxx'\n        minSdkVersion 17\n        targetSdkVersion 17\n        versionCode 1\n        versionName '1.0'\n    }\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        buildPB {\n            debuggable false\n            jniDebuggable false\n            renderscriptDebuggable false\n\n            zipAlignEnabled true\n        }\n    }\n    productFlavors {\n    }\n//    lintOptions {\n//        abortOnError false\n//    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    // You must install or update the Support Repository through the SDK manager to use this dependency.\n    compile ('org.simpleframework:simple-xml:2.7.1') {\n        exclude module: 'stax'\n        exclude module: 'stax-api'\n        exclude module: 'xpp3'\n    }\n    compile 'net.sf.opencsv:opencsv:2.3'\n    compile 'de.greenrobot:greendao:1.3.7'\n    // You must install or update the Support Repository through the SDK manager to use this dependency.\n//    compile 'com.android.support:support-v4:19.+'\n}\n</code></pre>\n"},{"tags":["java","json","apache-kafka","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":13471718,"reputation":563,"user_id":9719998,"display_name":"Rajshree Rai"},"score":3,"creation_date":1678105524,"post_id":75059474,"comment_id":133463026,"body_markdown":"To translate Gary&#39;s answer into code (the first option of specifying the factory name in @KafkaListener): \n\n```@KafkaListener(topics = &quot;mail_confirmation_message&quot;, groupId = &quot;account_confirmation_group_id&quot;, containerFactory = &quot;listenerContainerFactory&quot;)```","body":"To translate Gary&#39;s answer into code (the first option of specifying the factory name in @KafkaListener):   <code>@KafkaListener(topics = &quot;mail_confirmation_message&quot;, groupId = &quot;account_confirmation_group_id&quot;, containerFactory = &quot;listenerContainerFactory&quot;)</code>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1673278090,"creation_date":1673278090,"answer_id":75059474,"question_id":75049783,"body_markdown":"Your listener is using the default (String) deserializer (probably from Boot&#39;s auto configured factory).\r\n\r\n`listenerContainerFactory` - since you are using a non-standard name for the factory, you need to specify it on the `@KafkaListener` (or change the factory bean name to `kafkaListenerContainerFactory`).\r\n\r\n","title":"Kafka issue: MessageConversionException: Cannot convert from [java.lang.String] to [my_custom_model] for GenericMessage [...]","body":"<p>Your listener is using the default (String) deserializer (probably from Boot's auto configured factory).</p>\n<p><code>listenerContainerFactory</code> - since you are using a non-standard name for the factory, you need to specify it on the <code>@KafkaListener</code> (or change the factory bean name to <code>kafkaListenerContainerFactory</code>).</p>\n"}],"owner":{"account_id":24900553,"reputation":43,"user_id":20632942,"display_name":"asdasd-mjeesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4204,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75059474,"answer_count":1,"score":3,"last_activity_date":1673278090,"creation_date":1673197755,"question_id":75049783,"body_markdown":"I have Kafka producer and consumer servers, when I try to send a message I get following exception:\r\n\r\n```\r\norg.springframework.kafka.listener.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\r\nEndpoint handler details:\r\nMethod [public void com.mail.sender.service.senders.GmailConfirmationSenderService.confirmationMessageListener(com.mail.sender.dto.request.AccountRequest)]\r\nBean [com.mail.sender.service.senders.GmailConfirmationSenderService@24787445]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.mail.sender.dto.request.AccountRequest] for GenericMessage [payload={&quot;email&quot;:&quot;ckopo.6ygy@gmail.com&quot;,&quot;username&quot;:&quot;asdasd-mjeesh&quot;,&quot;confirmationTokenDetails&quot;:{&quot;token&quot;:&quot;3fd3c1ee-20ec-420b-8ee9-11d22cd7598e&quot;,&quot;createdAt&quot;:[2016,1,25,21,34,55],&quot;expiredAt&quot;:[2023,1,8,18,19,6,661473300]}}, headers={kafka_offset=12, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@4008ea0f, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=mail_confirmation_message, kafka_receivedTimestamp=1673193848466, __TypeId__=[B@68a9f1ab, kafka_groupId=account_confirmation_group_id}]\r\n```\r\n\r\nConfig for my producer server\r\n```\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServersUrl;\r\n\r\n    public Map&lt;String, Object&gt; producerConfig() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServersUrl);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n        props.put(JsonSerializer.TYPE_MAPPINGS, &quot;accountRequest:com.confirmation_token.model.dto.request.outgoing.AccountRequest&quot;);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, AccountRequest&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, AccountRequest&gt; kafkaTemplate(ProducerFactory&lt;String, AccountRequest&gt; producerFactory) {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory);\r\n    }\r\n}\r\n```\r\n\r\n\r\nHow I send the messages\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class EmailConfirmationSenderServiceCommunication implements ConfirmationSender {\r\n    private final KafkaTemplate&lt;String, AccountRequest&gt; kafkaTemplate;\r\n\r\n    @Override\r\n    public void sendConfirmationToken(AccountRequest accountRequest) {\r\n        kafkaTemplate.send(&quot;mail_confirmation_message&quot;, accountRequest);\r\n        log.info(&quot;Confirmation token={} has been send&quot;, accountRequest);\r\n    }\r\n}\r\n```\r\n\r\nModels on producer side\r\n```\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class AccountRequest {\r\n    private String email;\r\n    private String username;\r\n    private ConfirmationTokenDetailsRequest confirmationTokenDetails;\r\n}\r\n\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ConfirmationTokenDetailsRequest {\r\n    private String token;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime expiredAt;\r\n}\r\n```\r\n\r\nConfig for my consumer server\r\n```\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n    private String bootstrapServerUrl;\r\n\r\n    public Map&lt;String, Object&gt; consumerConfig() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServerUrl);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n        props.put(JsonDeserializer.TYPE_MAPPINGS, &quot;accountRequest:com.mail.sender.dto.request.AccountRequest&quot;);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, AccountRequest&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, AccountRequest&gt;&gt; listenerContainerFactory(\r\n            ConsumerFactory&lt;String, AccountRequest&gt; consumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, AccountRequest&gt; listenerContainerFactory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        listenerContainerFactory.setConsumerFactory(consumerFactory);\r\n        return listenerContainerFactory;\r\n    }\r\n}\r\n```\r\n\r\nConfig for topic\r\n```\r\n@Configuration\r\npublic class KafkaTopicConfig {\r\n\r\n    @Value(&quot;${kafka.topic.names.account.confirmation}&quot;)\r\n    private String accountMailConfirmationTopicName;\r\n\r\n    @Bean\r\n    public NewTopic accountConfirmationTopic() {\r\n        return TopicBuilder\r\n                .name(accountMailConfirmationTopicName)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nHow I try to listen the messages\r\n```\r\n@Service\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class GmailConfirmationSenderService implements EmailSender&lt;AccountRequest&gt; {\r\n    private final String accountConfirmationTemplate;\r\n    private final ApplicationModelValidator applicationModelValidator;\r\n    private final JavaMailSender mailSender;\r\n\r\n    @Value(&quot;${confirmation.link.template}&quot;)\r\n    private String confirmationLink;\r\n\r\n    @KafkaListener(topics = &quot;mail_confirmation_message&quot;, groupId = &quot;account_confirmation_group_id&quot;)\r\n    public void confirmationMessageListener(AccountRequest accountRequest) {\r\n        String validationViolations = applicationModelValidator.validate(accountRequest);\r\n        if (!validationViolations.isBlank()) {\r\n            log.error(validationViolations);\r\n            throw new ModelValidationException(validationViolations);\r\n        }\r\n\r\n        String userConfirmationLink = String.format(\r\n                accountConfirmationTemplate,\r\n                accountRequest.getUsername(),\r\n                confirmationLink + accountRequest.getConfirmationTokenDetails().getToken());\r\n        this.send(accountRequest, userConfirmationLink);\r\n    }\r\n    \r\n    ...\r\n}\r\n\r\n```\r\n\r\nModels on consumer side\r\n```\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class AccountRequest {\r\n    @Email\r\n    private String email;\r\n\r\n    @Length(min = 8, max = 40)\r\n    private String username;\r\n\r\n    @NotNull\r\n    @Valid\r\n    private ConfirmationTokenDetailsRequest confirmationTokenDetails;\r\n}\r\n\r\n@Builder\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class ConfirmationTokenDetailsRequest {\r\n    @NotBlank\r\n    private String token;\r\n\r\n    @PastOrPresent\r\n    private LocalDateTime createdAt;\r\n\r\n    @Future\r\n    private LocalDateTime expiredAt;\r\n}\r\n```\r\n\r\n*In the consumer&#39;s models are annotations for validation, but they don&#39;t affect the process","title":"Kafka issue: MessageConversionException: Cannot convert from [java.lang.String] to [my_custom_model] for GenericMessage [...]","body":"<p>I have Kafka producer and consumer servers, when I try to send a message I get following exception:</p>\n<pre><code>org.springframework.kafka.listener.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\nEndpoint handler details:\nMethod [public void com.mail.sender.service.senders.GmailConfirmationSenderService.confirmationMessageListener(com.mail.sender.dto.request.AccountRequest)]\nBean [com.mail.sender.service.senders.GmailConfirmationSenderService@24787445]; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot handle message; nested exception is org.springframework.messaging.converter.MessageConversionException: Cannot convert from [java.lang.String] to [com.mail.sender.dto.request.AccountRequest] for GenericMessage [payload={&quot;email&quot;:&quot;ckopo.6ygy@gmail.com&quot;,&quot;username&quot;:&quot;asdasd-mjeesh&quot;,&quot;confirmationTokenDetails&quot;:{&quot;token&quot;:&quot;3fd3c1ee-20ec-420b-8ee9-11d22cd7598e&quot;,&quot;createdAt&quot;:[2016,1,25,21,34,55],&quot;expiredAt&quot;:[2023,1,8,18,19,6,661473300]}}, headers={kafka_offset=12, kafka_consumer=org.apache.kafka.clients.consumer.KafkaConsumer@4008ea0f, kafka_timestampType=CREATE_TIME, kafka_receivedPartitionId=0, kafka_receivedTopic=mail_confirmation_message, kafka_receivedTimestamp=1673193848466, __TypeId__=[B@68a9f1ab, kafka_groupId=account_confirmation_group_id}]\n</code></pre>\n<p>Config for my producer server</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServersUrl;\n\n    public Map&lt;String, Object&gt; producerConfig() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServersUrl);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        props.put(JsonSerializer.TYPE_MAPPINGS, &quot;accountRequest:com.confirmation_token.model.dto.request.outgoing.AccountRequest&quot;);\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, AccountRequest&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfig());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, AccountRequest&gt; kafkaTemplate(ProducerFactory&lt;String, AccountRequest&gt; producerFactory) {\n        return new KafkaTemplate&lt;&gt;(producerFactory);\n    }\n}\n</code></pre>\n<p>How I send the messages</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class EmailConfirmationSenderServiceCommunication implements ConfirmationSender {\n    private final KafkaTemplate&lt;String, AccountRequest&gt; kafkaTemplate;\n\n    @Override\n    public void sendConfirmationToken(AccountRequest accountRequest) {\n        kafkaTemplate.send(&quot;mail_confirmation_message&quot;, accountRequest);\n        log.info(&quot;Confirmation token={} has been send&quot;, accountRequest);\n    }\n}\n</code></pre>\n<p>Models on producer side</p>\n<pre><code>@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AccountRequest {\n    private String email;\n    private String username;\n    private ConfirmationTokenDetailsRequest confirmationTokenDetails;\n}\n\n@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ConfirmationTokenDetailsRequest {\n    private String token;\n    private LocalDateTime createdAt;\n    private LocalDateTime expiredAt;\n}\n</code></pre>\n<p>Config for my consumer server</p>\n<pre><code>@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServerUrl;\n\n    public Map&lt;String, Object&gt; consumerConfig() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServerUrl);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(JsonDeserializer.TYPE_MAPPINGS, &quot;accountRequest:com.mail.sender.dto.request.AccountRequest&quot;);\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, AccountRequest&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfig());\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, AccountRequest&gt;&gt; listenerContainerFactory(\n            ConsumerFactory&lt;String, AccountRequest&gt; consumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;String, AccountRequest&gt; listenerContainerFactory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        listenerContainerFactory.setConsumerFactory(consumerFactory);\n        return listenerContainerFactory;\n    }\n}\n</code></pre>\n<p>Config for topic</p>\n<pre><code>@Configuration\npublic class KafkaTopicConfig {\n\n    @Value(&quot;${kafka.topic.names.account.confirmation}&quot;)\n    private String accountMailConfirmationTopicName;\n\n    @Bean\n    public NewTopic accountConfirmationTopic() {\n        return TopicBuilder\n                .name(accountMailConfirmationTopicName)\n                .build();\n    }\n}\n</code></pre>\n<p>How I try to listen the messages</p>\n<pre><code>@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class GmailConfirmationSenderService implements EmailSender&lt;AccountRequest&gt; {\n    private final String accountConfirmationTemplate;\n    private final ApplicationModelValidator applicationModelValidator;\n    private final JavaMailSender mailSender;\n\n    @Value(&quot;${confirmation.link.template}&quot;)\n    private String confirmationLink;\n\n    @KafkaListener(topics = &quot;mail_confirmation_message&quot;, groupId = &quot;account_confirmation_group_id&quot;)\n    public void confirmationMessageListener(AccountRequest accountRequest) {\n        String validationViolations = applicationModelValidator.validate(accountRequest);\n        if (!validationViolations.isBlank()) {\n            log.error(validationViolations);\n            throw new ModelValidationException(validationViolations);\n        }\n\n        String userConfirmationLink = String.format(\n                accountConfirmationTemplate,\n                accountRequest.getUsername(),\n                confirmationLink + accountRequest.getConfirmationTokenDetails().getToken());\n        this.send(accountRequest, userConfirmationLink);\n    }\n    \n    ...\n}\n\n</code></pre>\n<p>Models on consumer side</p>\n<pre><code>@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class AccountRequest {\n    @Email\n    private String email;\n\n    @Length(min = 8, max = 40)\n    private String username;\n\n    @NotNull\n    @Valid\n    private ConfirmationTokenDetailsRequest confirmationTokenDetails;\n}\n\n@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class ConfirmationTokenDetailsRequest {\n    @NotBlank\n    private String token;\n\n    @PastOrPresent\n    private LocalDateTime createdAt;\n\n    @Future\n    private LocalDateTime expiredAt;\n}\n</code></pre>\n<p>*In the consumer's models are annotations for validation, but they don't affect the process</p>\n"},{"tags":["java","sql","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":17583009,"reputation":10299,"user_id":12756381,"display_name":"Greg Pavlik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673277987,"creation_date":1673277987,"answer_id":75059451,"question_id":75058290,"body_markdown":"If you use $$ to terminate the opening and closing of the stored procedure body, you cannot have $$ in anywhere in the body. I don&#39;t know of any escape sequences, but you can use string concatenation instead:\r\n\r\n    CREATE OR REPLACE PROCEDURE validateQuery()\r\n      RETURNS STRING\r\n      LANGUAGE JAVA\r\n      RUNTIME_VERSION = &#39;11&#39;\r\n      PACKAGES = (&#39;com.snowflake:snowpark:latest&#39;)\r\n      HANDLER = &#39;ValidateQuery.validateQuery&#39;\r\n      AS\r\n      $$\r\n        import com.snowflake.snowpark_java.*;\r\n    \r\n        public class ValidateQuery {\r\n          public String validateQuery(Session session) {\r\n            return &quot;String Contains $&quot; + &quot;$&quot;;\r\n          }\r\n        }\r\n      $$;\r\n\r\n|VALIDATEQUERY|\r\n|:---|\r\n|String Contains $$|","title":"How to use escape character for $$ in stored procedure in Snowflake","body":"<p>If you use $$ to terminate the opening and closing of the stored procedure body, you cannot have $$ in anywhere in the body. I don't know of any escape sequences, but you can use string concatenation instead:</p>\n<pre><code>CREATE OR REPLACE PROCEDURE validateQuery()\n  RETURNS STRING\n  LANGUAGE JAVA\n  RUNTIME_VERSION = '11'\n  PACKAGES = ('com.snowflake:snowpark:latest')\n  HANDLER = 'ValidateQuery.validateQuery'\n  AS\n  $$\n    import com.snowflake.snowpark_java.*;\n\n    public class ValidateQuery {\n      public String validateQuery(Session session) {\n        return &quot;String Contains $&quot; + &quot;$&quot;;\n      }\n    }\n  $$;\n</code></pre>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">VALIDATEQUERY</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">String Contains $$</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":27324479,"reputation":27,"user_id":20837666,"display_name":"Sagar Waghmare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673277987,"creation_date":1673272492,"question_id":75058290,"body_markdown":"````\r\nCREATE OR REPLACE PROCEDURE validateQuery() returns String \r\nLANGUAGE java \r\nRUNTIME_VERSION = &#39;11&#39; \r\npackages=(&#39;com.snowflake:snowpark:1.2.0&#39;) HANDLER =&#39;ValidateQuery.validateQuery&#39; as \r\n$$ \r\npublic class ValidateQuery{ public static String validateQuery(Session session) { return &quot;String Contain $$&quot;;}} \r\n$$\r\n````\r\nUse &quot;$$&quot; in Snowflake stored procedure","title":"How to use escape character for $$ in stored procedure in Snowflake","body":"<pre><code>CREATE OR REPLACE PROCEDURE validateQuery() returns String \nLANGUAGE java \nRUNTIME_VERSION = '11' \npackages=('com.snowflake:snowpark:1.2.0') HANDLER ='ValidateQuery.validateQuery' as \n$$ \npublic class ValidateQuery{ public static String validateQuery(Session session) { return &quot;String Contain $$&quot;;}} \n$$\n</code></pre>\n<p>Use &quot;$$&quot; in Snowflake stored procedure</p>\n"},{"tags":["java","swing","intellij-idea"],"owner":{"account_id":27100221,"reputation":25,"user_id":20646932,"display_name":"Eri Leonette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1672927208,"answer_count":0,"score":-1,"last_activity_date":1673277884,"creation_date":1672763986,"question_id":74996161,"body_markdown":"I have a GUI created with the Swing GUI Designer of IntelliJ; it has 3 JPanels. I need to open an existing .java that generates a real time chart with some data read from a .txt.\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class MonitorVentilador {\r\n    private JButton cancelarVentilacionMonitor;\r\n    private JLabel presionLabelMonitor;\r\n    private JLabel flujoLabelMonitor;\r\n    private JLabel volumenLabelMontior;\r\n    private JComboBox comboBox1;\r\n    private JProgressBar progressBar1;\r\n    private JLabel horaMonitor;\r\n    private JLabel horaGeneralMonitor;\r\n    private JPanel monitor;\r\n    private JLabel variablePrincipalDisplay;\r\n    private JLabel variablePEEPMonitor;\r\n    private JLabel variableSecundariaMonitor;\r\n    private JLabel variableTerciariaMonitor;\r\n    private JButton botonAlertasMonitor;\r\n    private JButton manualButton;\r\n    private JButton fiOButton;\r\n    private JButton perfilButton;\r\n    private JSpinner spinner1;\r\n    private JSpinner spinner2;\r\n    private JSpinner spinner3;\r\n    private JSpinner spinner4;\r\n    private JButton configuracionBotonMonitor;\r\n    private JButton regresarMenuPrincipal;\r\n    private JPanel graficaDePresionMonitor;\r\n    private JPanel graficaDeFlujoMonitor;\r\n    private JPanel graficaDeVolimenMonitor;\r\n\r\n    public MonitorVentilador() {\r\n        configuracionBotonMonitor.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                JFrame frameConfigDesdeMonitor = new JFrame();\r\n                ConfigGeneral ventanaConfiguracionInicio = new ConfigGeneral();\r\n                frameConfigDesdeMonitor.setContentPane(ventanaConfiguracionInicio.getConfigGeneral());\r\n                frameConfigDesdeMonitor.setSize(1280, 720);\r\n                frameConfigDesdeMonitor.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n    public JPanel getGraficaDePresionMonitor()\r\n    {\r\n        //\r\n        // Here goes the code to execute the charts program\r\n        //\r\n    }\r\n\r\n    public JPanel getMonitor() {\r\n        return monitor;\r\n    }\r\n}\r\n```\r\n\r\nThe chart program is:\r\n\r\n```\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nimport javax.swing.*;\r\n\r\nimport org.knowm.xchart.QuickChart;\r\nimport org.knowm.xchart.SwingWrapper;\r\nimport org.knowm.xchart.XYChart;\r\n//import org.knowm.xchart.style.Theme;\r\n\r\nimport java.io.File;\r\n\r\npublic class Prueba6GraficaPresion {\r\n    MiGrafica1 grafica1;\r\n    SwingWrapper&lt;XYChart&gt; presion;\r\n    XYChart grafica;\r\n\r\n    public static void main() {\r\n        Prueba6GraficaPresion graficaPresion = new Prueba6GraficaPresion();\r\n        graficaPresion.go();\r\n    }\r\n\r\n    private void go() {\r\n        grafica = QuickChart.getChart(&quot;Presi&#243;n&quot;, &quot;Tiempo&quot;, &quot;cmH2O&quot;, &quot;Presi&#243;n en el sistema&quot;, new double[]{0}, new double[]{0});\r\n        grafica.getStyler().setLegendVisible(false);\r\n        grafica.getStyler().setXAxisTicksVisible(false);\r\n\r\n        presion = new SwingWrapper&lt;XYChart&gt;(grafica);\r\n        presion.displayChart();\r\n\r\n        grafica1 = new MiGrafica1();\r\n        grafica1.execute();\r\n    }\r\n\r\n    private class MiGrafica1 extends SwingWorker&lt;Boolean, double[]&gt;\r\n    {\r\n        LinkedList&lt;Double&gt; variableDesconocida1 = new LinkedList&lt;Double&gt;();\r\n\r\n        public MiGrafica1()\r\n        {\r\n            variableDesconocida1.add(0.0);\r\n        }\r\n\r\n        @Override\r\n        protected Boolean doInBackground() throws Exception\r\n        {\r\n            double valorActual;\r\n            while(!isCancelled())\r\n            {\r\n                File archivoDatos = new File(&quot;C:\\\\Users\\\\pv3\\\\Desktop\\\\PruebaVent1.1\\\\src\\\\ValoresPresi&#243;n.txt&quot;);\r\n                try (Scanner entrada = new Scanner(archivoDatos))\r\n                {\r\n                    while (entrada.hasNextDouble())\r\n                    {\r\n                        valorActual = entrada.nextDouble();\r\n                        variableDesconocida1.add(valorActual);\r\n                        //\r\n                        if(variableDesconocida1.size() &gt; 250)\r\n                        {\r\n                            variableDesconocida1.removeFirst();\r\n                        }\r\n                        double[] arreglo = new double[variableDesconocida1.size()];\r\n                        for (int i = 0; i &lt; variableDesconocida1.size(); i++)\r\n                        {\r\n                            arreglo[i] = variableDesconocida1.get(i);\r\n                        }\r\n                        publish(arreglo);\r\n                        try\r\n                        {\r\n                            Thread.sleep(7);\r\n                        } catch (InterruptedException e){\r\n                            System.out.println(&quot;Worker has stopped... gg&quot;);\r\n                        }\r\n                    }\r\n                }\r\n                // Generaci&#243;n de tablas, esto debe reemplazarse con una funci&#243;n de entrada de datos I/O\r\n                // Debe probarse con los archivos que contienen los datos extra&#237;dos de un ventilador\r\n\r\n                // ACTUALIZACI&#211;N: Statement previamente hecho fue cumplido en el c&#243;digo actual, ahora se debe investigar\r\n                // y realizar con I/O de protocolo USB\r\n            }\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        protected void process(List&lt;double[]&gt; chunks)\r\n        {\r\n            System.out.println(&quot;Numero de chunks&quot; + chunks.size());\r\n            double[] datosActuales = chunks.get(chunks.size() - 1);\r\n\r\n            grafica.updateXYSeries(&quot;Presi&#243;n en el sistema&quot;, null, datosActuales, null);\r\n            presion.repaintChart();\r\n\r\n            long inicio = System.currentTimeMillis();\r\n            long duracion = System.currentTimeMillis() - inicio;\r\n            try\r\n            {\r\n                Thread.sleep(7 - duracion);\r\n            } catch (InterruptedException e) {\r\n            }\r\n        }\r\n    }\r\n    public JPanel exportacionGraficaPresion()\r\n    {\r\n        JPanel monitorPresion1 = new JPanel();\r\n        monitorPresion1.removeAll();\r\n        monitorPresion1.add(presion.displayChart());\r\n        return monitorPresion1;\r\n    }\r\n}\r\n```\r\n\r\n\r\nEdit 1:\r\nI&#39;ve been searching for any class or method to open it directly, but I&#39;ve found nothing.\r\n\r\nI&#39;ve found especially difficult to modify the JPanels generated by the GUI Swing builder incorporated in IntelliJ. I have created some JPanels and hasn&#39;t worked either\r\n\r\nI&#39;ve tried to &quot;export&quot; a JPanel from the chart program to the main program but hasn&#39;t worked yet.","title":"Open a real time Java chart program into a JPanel in another program","body":"<p>I have a GUI created with the Swing GUI Designer of IntelliJ; it has 3 JPanels. I need to open an existing .java that generates a real time chart with some data read from a .txt.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MonitorVentilador {\n    private JButton cancelarVentilacionMonitor;\n    private JLabel presionLabelMonitor;\n    private JLabel flujoLabelMonitor;\n    private JLabel volumenLabelMontior;\n    private JComboBox comboBox1;\n    private JProgressBar progressBar1;\n    private JLabel horaMonitor;\n    private JLabel horaGeneralMonitor;\n    private JPanel monitor;\n    private JLabel variablePrincipalDisplay;\n    private JLabel variablePEEPMonitor;\n    private JLabel variableSecundariaMonitor;\n    private JLabel variableTerciariaMonitor;\n    private JButton botonAlertasMonitor;\n    private JButton manualButton;\n    private JButton fiOButton;\n    private JButton perfilButton;\n    private JSpinner spinner1;\n    private JSpinner spinner2;\n    private JSpinner spinner3;\n    private JSpinner spinner4;\n    private JButton configuracionBotonMonitor;\n    private JButton regresarMenuPrincipal;\n    private JPanel graficaDePresionMonitor;\n    private JPanel graficaDeFlujoMonitor;\n    private JPanel graficaDeVolimenMonitor;\n\n    public MonitorVentilador() {\n        configuracionBotonMonitor.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                JFrame frameConfigDesdeMonitor = new JFrame();\n                ConfigGeneral ventanaConfiguracionInicio = new ConfigGeneral();\n                frameConfigDesdeMonitor.setContentPane(ventanaConfiguracionInicio.getConfigGeneral());\n                frameConfigDesdeMonitor.setSize(1280, 720);\n                frameConfigDesdeMonitor.setVisible(true);\n            }\n        });\n    }\n    public JPanel getGraficaDePresionMonitor()\n    {\n        //\n        // Here goes the code to execute the charts program\n        //\n    }\n\n    public JPanel getMonitor() {\n        return monitor;\n    }\n}\n</code></pre>\n<p>The chart program is:</p>\n<pre><code>\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport javax.swing.*;\n\nimport org.knowm.xchart.QuickChart;\nimport org.knowm.xchart.SwingWrapper;\nimport org.knowm.xchart.XYChart;\n//import org.knowm.xchart.style.Theme;\n\nimport java.io.File;\n\npublic class Prueba6GraficaPresion {\n    MiGrafica1 grafica1;\n    SwingWrapper&lt;XYChart&gt; presion;\n    XYChart grafica;\n\n    public static void main() {\n        Prueba6GraficaPresion graficaPresion = new Prueba6GraficaPresion();\n        graficaPresion.go();\n    }\n\n    private void go() {\n        grafica = QuickChart.getChart(&quot;Presión&quot;, &quot;Tiempo&quot;, &quot;cmH2O&quot;, &quot;Presión en el sistema&quot;, new double[]{0}, new double[]{0});\n        grafica.getStyler().setLegendVisible(false);\n        grafica.getStyler().setXAxisTicksVisible(false);\n\n        presion = new SwingWrapper&lt;XYChart&gt;(grafica);\n        presion.displayChart();\n\n        grafica1 = new MiGrafica1();\n        grafica1.execute();\n    }\n\n    private class MiGrafica1 extends SwingWorker&lt;Boolean, double[]&gt;\n    {\n        LinkedList&lt;Double&gt; variableDesconocida1 = new LinkedList&lt;Double&gt;();\n\n        public MiGrafica1()\n        {\n            variableDesconocida1.add(0.0);\n        }\n\n        @Override\n        protected Boolean doInBackground() throws Exception\n        {\n            double valorActual;\n            while(!isCancelled())\n            {\n                File archivoDatos = new File(&quot;C:\\\\Users\\\\pv3\\\\Desktop\\\\PruebaVent1.1\\\\src\\\\ValoresPresión.txt&quot;);\n                try (Scanner entrada = new Scanner(archivoDatos))\n                {\n                    while (entrada.hasNextDouble())\n                    {\n                        valorActual = entrada.nextDouble();\n                        variableDesconocida1.add(valorActual);\n                        //\n                        if(variableDesconocida1.size() &gt; 250)\n                        {\n                            variableDesconocida1.removeFirst();\n                        }\n                        double[] arreglo = new double[variableDesconocida1.size()];\n                        for (int i = 0; i &lt; variableDesconocida1.size(); i++)\n                        {\n                            arreglo[i] = variableDesconocida1.get(i);\n                        }\n                        publish(arreglo);\n                        try\n                        {\n                            Thread.sleep(7);\n                        } catch (InterruptedException e){\n                            System.out.println(&quot;Worker has stopped... gg&quot;);\n                        }\n                    }\n                }\n                // Generación de tablas, esto debe reemplazarse con una función de entrada de datos I/O\n                // Debe probarse con los archivos que contienen los datos extraídos de un ventilador\n\n                // ACTUALIZACIÓN: Statement previamente hecho fue cumplido en el código actual, ahora se debe investigar\n                // y realizar con I/O de protocolo USB\n            }\n            return true;\n        }\n\n        @Override\n        protected void process(List&lt;double[]&gt; chunks)\n        {\n            System.out.println(&quot;Numero de chunks&quot; + chunks.size());\n            double[] datosActuales = chunks.get(chunks.size() - 1);\n\n            grafica.updateXYSeries(&quot;Presión en el sistema&quot;, null, datosActuales, null);\n            presion.repaintChart();\n\n            long inicio = System.currentTimeMillis();\n            long duracion = System.currentTimeMillis() - inicio;\n            try\n            {\n                Thread.sleep(7 - duracion);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n    public JPanel exportacionGraficaPresion()\n    {\n        JPanel monitorPresion1 = new JPanel();\n        monitorPresion1.removeAll();\n        monitorPresion1.add(presion.displayChart());\n        return monitorPresion1;\n    }\n}\n</code></pre>\n<p>Edit 1:\nI've been searching for any class or method to open it directly, but I've found nothing.</p>\n<p>I've found especially difficult to modify the JPanels generated by the GUI Swing builder incorporated in IntelliJ. I have created some JPanels and hasn't worked either</p>\n<p>I've tried to &quot;export&quot; a JPanel from the chart program to the main program but hasn't worked yet.</p>\n"},{"tags":["java","list","hibernate","arraylist","lambda"],"answers":[{"comments":[{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1673277890,"post_id":75059380,"comment_id":132456929,"body_markdown":"will check asap if it works. it compiles, so this deserves an upvote. I didn&#39;t know the false expression was mandatory..","body":"will check asap if it works. it compiles, so this deserves an upvote. I didn&#39;t know the false expression was mandatory.."},{"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"score":0,"creation_date":1673278783,"post_id":75059380,"comment_id":132457312,"body_markdown":"it keeps deleting every entry from the list.. i clearly messed up brackets. thank you anyway","body":"it keeps deleting every entry from the list.. i clearly messed up brackets. thank you anyway"}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673277637,"creation_date":1673277637,"answer_id":75059380,"question_id":75059289,"body_markdown":"You&#39;re using a ternary expression without the `false` part. If you add ` : false` to your filter it should compile. However, anytime you have code in the format `A ? B : false`, replace it with `A &amp;&amp; B`. In this case:\r\n```\r\nelem -&gt; elem instanceof Refund &amp;&amp; ((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)\r\n```\r\n\r\nIf your Java is recent enough, you can even move the cast into the `instanceof`:\r\n```\r\nelem -&gt; elem instanceof Refund r &amp;&amp; r.getRefundState().getCode().equals(&quot;A&quot;)\r\n```","title":"inline if inside List removeIf","body":"<p>You're using a ternary expression without the <code>false</code> part. If you add <code> : false</code> to your filter it should compile. However, anytime you have code in the format <code>A ? B : false</code>, replace it with <code>A &amp;&amp; B</code>. In this case:</p>\n<pre><code>elem -&gt; elem instanceof Refund &amp;&amp; ((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)\n</code></pre>\n<p>If your Java is recent enough, you can even move the cast into the <code>instanceof</code>:</p>\n<pre><code>elem -&gt; elem instanceof Refund r &amp;&amp; r.getRefundState().getCode().equals(&quot;A&quot;)\n</code></pre>\n"}],"owner":{"account_id":16539707,"reputation":955,"user_id":11961036,"display_name":"Marco Frag Delle Monache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059380,"answer_count":1,"score":0,"last_activity_date":1673277680,"creation_date":1673277210,"question_id":75059289,"body_markdown":"I have a `List`, which is the result of a `Criteria.list()`. This `Criteria` retrieves data from different tables, depending on the data type I select.\r\n\r\nI have three entities, that are linked to tables through Hibernate:\r\n\r\n`File.java`\r\n\r\n    // fields\r\n    // getters and setters\r\n\r\n`Refund.java`\r\n\r\n    // fields\r\n    private RefundState refundState;\r\n    // getters and setters\r\n\r\n`Quotation.java`\r\n\r\n    // fields\r\n    private QuotationState quotationState;\r\n    // getters and setters\r\n\r\n`Refund` and `Quotation` classes extend File. So, Refund and Quotation have some fields in common, that in case I want to get all Files, independently by the type, I can.\r\n\r\nBut this creates a big problem. When I retrieve all Files (both Refunds and Quotations), I need to exclude Quotations and Refunds with specific States. States are different between Quotations and Refunds, so I can&#39;t apply a `Where condition` in the `Criteria`.\r\n\r\nSo, I think I have to manually remove elements from the List of results. And I can, by doing `list.removeIf(Predicate)`.\r\n\r\nBut, as the List is mixed of types, I can&#39;t just `cast`, like so:\r\n\r\n    list.removeIf(elem -&gt; (((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)));\r\n\r\n..because, it breaks when `elem` is a Quotation.\r\nSo, I thought of inlining an if, like so:\r\n\r\n    list.removeIf(elem -&gt; (elem instanceof Refund ? ((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)));\r\n\r\nBut it does not even compile. It says a bracket is missing.\r\n\r\nI **should** avoid using a `forEach` since the ResultSet can be very big.&lt;br&gt;\r\nI **can&#39;t** change any classes.&lt;br&gt;\r\nI **should** avoid making two different `Criteria`s and merging the two lists. I apply other `Where conditions` that I am not able to retrieve within the class I am executing this `removeIf`.\r\n","title":"inline if inside List removeIf","body":"<p>I have a <code>List</code>, which is the result of a <code>Criteria.list()</code>. This <code>Criteria</code> retrieves data from different tables, depending on the data type I select.</p>\n<p>I have three entities, that are linked to tables through Hibernate:</p>\n<p><code>File.java</code></p>\n<pre><code>// fields\n// getters and setters\n</code></pre>\n<p><code>Refund.java</code></p>\n<pre><code>// fields\nprivate RefundState refundState;\n// getters and setters\n</code></pre>\n<p><code>Quotation.java</code></p>\n<pre><code>// fields\nprivate QuotationState quotationState;\n// getters and setters\n</code></pre>\n<p><code>Refund</code> and <code>Quotation</code> classes extend File. So, Refund and Quotation have some fields in common, that in case I want to get all Files, independently by the type, I can.</p>\n<p>But this creates a big problem. When I retrieve all Files (both Refunds and Quotations), I need to exclude Quotations and Refunds with specific States. States are different between Quotations and Refunds, so I can't apply a <code>Where condition</code> in the <code>Criteria</code>.</p>\n<p>So, I think I have to manually remove elements from the List of results. And I can, by doing <code>list.removeIf(Predicate)</code>.</p>\n<p>But, as the List is mixed of types, I can't just <code>cast</code>, like so:</p>\n<pre><code>list.removeIf(elem -&gt; (((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)));\n</code></pre>\n<p>..because, it breaks when <code>elem</code> is a Quotation.\nSo, I thought of inlining an if, like so:</p>\n<pre><code>list.removeIf(elem -&gt; (elem instanceof Refund ? ((Refund) elem).getRefundState().getCode().equals(&quot;A&quot;)));\n</code></pre>\n<p>But it does not even compile. It says a bracket is missing.</p>\n<p>I <strong>should</strong> avoid using a <code>forEach</code> since the ResultSet can be very big.<br>\nI <strong>can't</strong> change any classes.<br>\nI <strong>should</strong> avoid making two different <code>Criteria</code>s and merging the two lists. I apply other <code>Where conditions</code> that I am not able to retrieve within the class I am executing this <code>removeIf</code>.</p>\n"},{"tags":["java","protocol-buffers"],"owner":{"account_id":25251388,"reputation":1,"user_id":19083827,"display_name":"Fabi H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673277634,"creation_date":1673277581,"question_id":75059369,"body_markdown":"I want to get a specific Field from a proto Message with a String, i will try my best to explain what i need to know:\r\n\r\nFor example we have this .proto File:\r\n\r\n\r\n```\r\nmessage Employee {\r\n  string id = 1;\r\n  PersonData person_data = 2;\r\n  ...\r\n}\r\n\r\nmessage PersonData {\r\n  string first_name = 1;\r\n  string surname = 2;\r\n  ...\r\n}\r\n```\r\n\r\nNow iam getting a String with a field name like &quot;person_data.first_name&quot;.\r\n\r\nFor example if you want to get the id you must just write:\r\n\r\n\r\n```\r\nFieldDescriptor fieldDescriptor = message.getDescriptorForType().findFieldByName(&quot;id&quot;);\r\n```\r\n\r\nBut i need the field &quot;first_name&quot;. How can i manage this?\r\nI tried a lot of methods but nothing worked.\r\n\r\nAnyone any ideas?\r\n\r\n","title":"Proto Message - Get Field by String (name)","body":"<p>I want to get a specific Field from a proto Message with a String, i will try my best to explain what i need to know:</p>\n<p>For example we have this .proto File:</p>\n<pre><code>message Employee {\n  string id = 1;\n  PersonData person_data = 2;\n  ...\n}\n\nmessage PersonData {\n  string first_name = 1;\n  string surname = 2;\n  ...\n}\n</code></pre>\n<p>Now iam getting a String with a field name like &quot;person_data.first_name&quot;.</p>\n<p>For example if you want to get the id you must just write:</p>\n<pre><code>FieldDescriptor fieldDescriptor = message.getDescriptorForType().findFieldByName(&quot;id&quot;);\n</code></pre>\n<p>But i need the field &quot;first_name&quot;. How can i manage this?\nI tried a lot of methods but nothing worked.</p>\n<p>Anyone any ideas?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","aggregation"],"owner":{"account_id":5970271,"reputation":229,"user_id":4692781,"accept_rate":67,"display_name":"Jos&#233; Mar&#237;a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673277144,"creation_date":1673277144,"question_id":75059279,"body_markdown":"I have the following method in a MongoDB Repository interface\r\n\r\n    @org.springframework.stereotype.Repository\r\n    public interface AnecdoteRepository extends org.springframework.data.mongodb.repository.MongoRepository&lt;Anecdote, Long&gt; {\r\n    \r\n    \t@Aggregation(pipeline = { &quot;{$sample:{size: 1}}&quot; })\r\n    \tOptional&lt;Anecdote&gt; findRandom();\r\n    \r\n    }\r\n\r\nI have 20 records on `Anecdote` collection, but when I call directly this method, it returns me an empty `Optional`.\r\n\r\nHowever, I have the same aggregation on MongoDB Compass and it returns me an only record, as I want.\r\n\r\n**Aggregation structure**\r\n[![Aggregation structure on MongoDB Compass][1]][1]\r\n\r\n**Result**\r\n[![Aggregation result][2]][2]\r\n\r\nShould I add more records? Or what&#39;s wrong with the first pipeline in aggregation?\r\n\r\nI&#39;m using `spring-boot-starter-data-mongodb` library\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t2awC.png\r\n  [2]: https://i.stack.imgur.com/tRUnj.png","title":"Spring boot - $sample doesn&#39;t work on @Aggregation annotation","body":"<p>I have the following method in a MongoDB Repository interface</p>\n<pre><code>@org.springframework.stereotype.Repository\npublic interface AnecdoteRepository extends org.springframework.data.mongodb.repository.MongoRepository&lt;Anecdote, Long&gt; {\n\n    @Aggregation(pipeline = { &quot;{$sample:{size: 1}}&quot; })\n    Optional&lt;Anecdote&gt; findRandom();\n\n}\n</code></pre>\n<p>I have 20 records on <code>Anecdote</code> collection, but when I call directly this method, it returns me an empty <code>Optional</code>.</p>\n<p>However, I have the same aggregation on MongoDB Compass and it returns me an only record, as I want.</p>\n<p><strong>Aggregation structure</strong>\n<a href=\"https://i.stack.imgur.com/t2awC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t2awC.png\" alt=\"Aggregation structure on MongoDB Compass\" /></a></p>\n<p><strong>Result</strong>\n<a href=\"https://i.stack.imgur.com/tRUnj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tRUnj.png\" alt=\"Aggregation result\" /></a></p>\n<p>Should I add more records? Or what's wrong with the first pipeline in aggregation?</p>\n<p>I'm using <code>spring-boot-starter-data-mongodb</code> library</p>\n"},{"tags":["java","jpa","spring-boot"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1508174629,"post_id":46775794,"comment_id":80497081,"body_markdown":"Remove the parentheses: http://www.h2database.com/html/grammar.html#select","body":"Remove the parentheses: <a href=\"http://www.h2database.com/html/grammar.html#select\" rel=\"nofollow noreferrer\">h2database.com/html/grammar.html#select</a>"},{"owner":{"account_id":1170837,"reputation":5416,"user_id":1148071,"display_name":"cello"},"score":0,"creation_date":1508175535,"post_id":46775794,"comment_id":80497578,"body_markdown":"&quot;it works fine using real database&quot; - h2 is a real database!","body":"&quot;it works fine using real database&quot; - h2 is a real database!"},{"owner":{"account_id":12007921,"reputation":1,"user_id":8785669,"display_name":"Peter_"},"score":0,"creation_date":1508177171,"post_id":46775794,"comment_id":80498463,"body_markdown":"thank you for your answers I edited my post with exmaple how I am using it. Could you provide me an example how to get it work with h2?","body":"thank you for your answers I edited my post with exmaple how I am using it. Could you provide me an example how to get it work with h2?"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1508179251,"post_id":46775794,"comment_id":80499573,"body_markdown":"there is still `TOP(?)` instead of `TOP ?`?","body":"there is still <code>TOP(?)</code> instead of <code>TOP ?</code>?"},{"owner":{"account_id":12007921,"reputation":1,"user_id":8785669,"display_name":"Peter_"},"score":0,"creation_date":1508181671,"post_id":46775794,"comment_id":80500898,"body_markdown":"yes it is copied sql log","body":"yes it is copied sql log"}],"answers":[{"tags":[],"owner":{"account_id":22213643,"reputation":1,"user_id":16452399,"display_name":"luki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673277133,"creation_date":1673277133,"answer_id":75059274,"question_id":46775794,"body_markdown":"H2 doesn&#39;t support select like this (where you use distinct and top together): `select distinct top X attribute` whereas other engines do. I think this is the reason.","title":"H2 db: How to solve Function &quot;TOP&quot; not found; SQL statement","body":"<p>H2 doesn't support select like this (where you use distinct and top together): <code>select distinct top X attribute</code> whereas other engines do. I think this is the reason.</p>\n"}],"owner":{"account_id":12007921,"reputation":1,"user_id":8785669,"display_name":"Peter_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673277133,"creation_date":1508174534,"question_id":46775794,"body_markdown":"Hi I wrote query using spring Specification and it looks like this.\r\n\r\n    select\r\n            distinct TOP(?) project0_.idproject as idprojec1_40_,\r\n            project0_.status as status2_40_ \r\n        from\r\n            project project0_ \r\n        inner join\r\n            project_info projectinf1_ \r\n                on project0_.idproject=projectinf1_.idproject \r\n        where\r\n            lower(projectinf1_.proj_name) like ?\r\nIt works fine using real database but when I use h2 local database I got this error in console:\r\n\r\n&lt;pre&gt;2017-10-16 18:58:56.808  WARN 14500 --- [io-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90022, SQLState: 90022\r\n2017-10-16 18:58:56.808 ERROR 14500 --- [io-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Function &quot;TOP&quot; not found; SQL statement:&lt;/pre&gt;\r\n\r\n&lt;b&gt;application.yml&lt;/b&gt;\r\n&lt;pre&gt;spring:\r\n  \r\n  datasource:    \r\n    driverClassName: org.h2.Driver\r\n    url: jdbc:h2:file:~/project-data/dev;MODE=MSSQLServer\r\n    username: sa\r\n    password:\r\n    initialize: True\r\n    \r\n  jpa:\r\n    properties:\r\n      hibernate:        \r\n        ddl-auto: create \r\n        dialect: org.hibernate.dialect.SQLServer2008Dialect\r\n  \r\n        hbm2ddl:\r\n          auto: create  \r\n          import_files: enums.sql, import.sql&lt;/pre&gt;\r\n\r\nAny suggestions how to solve it?  \r\n**EDIT:**  \r\nUsage  \r\n\r\n    Page&lt;Project&gt; page = projectRepository.findAll(getSpecifications(params), \r\n    getPaging(params));\r\n\r\n    static Pageable getPaging(SearchParams params) {\r\n        Integer pageNumber = params.getPageNumber() != null ? params.getPageNumber() : 0;\r\n        Integer pageSize = params.getPageSize() != null ? params.getPageSize() : 15;\r\n        return new PageRequest(pageNumber, pageSize);\r\n    }\r\n    \r\n    static Specifications&lt;Project&gt; getSpecifications(SearchParams params) {\r\n        return Specifications.where(new SearchSpecifications(params));\r\n    }\r\n\r\n    public class SearchSpecifications implements Specification&lt;Project&gt; {\r\n        // some methods\r\n        @Override\r\n    \tpublic Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n        // conditions\r\n        }\r\n    }\r\n\r\n\r\n","title":"H2 db: How to solve Function &quot;TOP&quot; not found; SQL statement","body":"<p>Hi I wrote query using spring Specification and it looks like this.</p>\n\n<pre><code>select\n        distinct TOP(?) project0_.idproject as idprojec1_40_,\n        project0_.status as status2_40_ \n    from\n        project project0_ \n    inner join\n        project_info projectinf1_ \n            on project0_.idproject=projectinf1_.idproject \n    where\n        lower(projectinf1_.proj_name) like ?\n</code></pre>\n\n<p>It works fine using real database but when I use h2 local database I got this error in console:</p>\n\n<pre>2017-10-16 18:58:56.808  WARN 14500 --- [io-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 90022, SQLState: 90022\n2017-10-16 18:58:56.808 ERROR 14500 --- [io-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Function \"TOP\" not found; SQL statement:</pre>\n\n<p><b>application.yml</b></p>\n\n<pre>spring:\n\n  datasource:    \n    driverClassName: org.h2.Driver\n    url: jdbc:h2:file:~/project-data/dev;MODE=MSSQLServer\n    username: sa\n    password:\n    initialize: True\n\n  jpa:\n    properties:\n      hibernate:        \n        ddl-auto: create \n        dialect: org.hibernate.dialect.SQLServer2008Dialect\n\n        hbm2ddl:\n          auto: create  \n          import_files: enums.sql, import.sql</pre>\n\n<p>Any suggestions how to solve it?<br>\n<strong>EDIT:</strong><br>\nUsage  </p>\n\n<pre><code>Page&lt;Project&gt; page = projectRepository.findAll(getSpecifications(params), \ngetPaging(params));\n\nstatic Pageable getPaging(SearchParams params) {\n    Integer pageNumber = params.getPageNumber() != null ? params.getPageNumber() : 0;\n    Integer pageSize = params.getPageSize() != null ? params.getPageSize() : 15;\n    return new PageRequest(pageNumber, pageSize);\n}\n\nstatic Specifications&lt;Project&gt; getSpecifications(SearchParams params) {\n    return Specifications.where(new SearchSpecifications(params));\n}\n\npublic class SearchSpecifications implements Specification&lt;Project&gt; {\n    // some methods\n    @Override\n    public Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n    // conditions\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":11961012,"reputation":7343,"user_id":8752062,"display_name":"frianH"},"score":0,"creation_date":1568198152,"post_id":57886801,"comment_id":102196379,"body_markdown":"Where the selenium code related?","body":"Where the selenium code related?"},{"owner":{"account_id":6343131,"reputation":15,"user_id":4924469,"display_name":"Dilip Pal"},"score":0,"creation_date":1568199723,"post_id":57886801,"comment_id":102197201,"body_markdown":"@Test(dataProvider = &quot;inputData&quot;)\n\npublic static void testData(String username, String password) {\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, Constants.CHROME_DRIVER);\n\t\tdriver = new ChromeDriver();\n\t\tdriver.manage().window().maximize();\n\t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n\t\tdriver.get(&quot;https://url.com/&quot;);\n\t\tdriver.findElement(By.name(&quot;email&quot;)).sendKeys(username);\n\t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(password);\n\t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;ui fluid large blue submit button&#39;]&quot;)).click();\n\t}","body":"@Test(dataProvider = &quot;inputData&quot;)  public static void testData(String username, String password) { \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, Constants.CHROME_DRIVER); \t\tdriver = new ChromeDriver(); \t\tdriver.manage().window().maximize(); \t\tdriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \t\tdriver.get(&quot;<a href=\"https://url.com/&quot;\" rel=\"nofollow noreferrer\">url.com/&quot;</a>); \t\tdriver.findElement(By.name(&quot;email&quot;)).sendKeys(username); \t\tdriver.findElement(By.name(&quot;password&quot;)).sendKeys(password)&zwnj;&#8203;; \t\tdriver.findElement(By.xpath(&quot;//div[@class=&#39;ui fluid large blue submit button&#39;]&quot;)).click(); \t}"}],"answers":[{"tags":[],"owner":{"account_id":6349534,"reputation":2813,"user_id":4929038,"display_name":"kidney"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568201227,"creation_date":1568201227,"answer_id":57888126,"question_id":57886801,"body_markdown":"You mean as in:\r\n\r\n```java\r\nfor (int i = 1; i &lt; rowCount; i++) {\r\n    row = sheet.getRow(i);\r\n\r\n    for (int j = 0; j &lt; columnCount; j++) {\r\n        cell = row.getCell(j);\r\n        data[i - 1][j] = cell.getStringCellValue();\r\n    }\r\n}\r\n```\r\nThat is, start from the second row?","title":"Read Excel sheet with Apache POI without header using for loop","body":"<p>You mean as in:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 1; i &lt; rowCount; i++) {\n    row = sheet.getRow(i);\n\n    for (int j = 0; j &lt; columnCount; j++) {\n        cell = row.getCell(j);\n        data[i - 1][j] = cell.getStringCellValue();\n    }\n}\n</code></pre>\n\n<p>That is, start from the second row?</p>\n"},{"tags":[],"owner":{"account_id":5809381,"reputation":54,"user_id":4581000,"display_name":"Aventador"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673277113,"creation_date":1673277113,"answer_id":75059270,"question_id":57886801,"body_markdown":"If you want to skip header means top row of your excel file initialize value of i for the for loop with 1 which is responsible to traverse within rows. Top row used to have index value 0. So your for loop code for row and columns should be like this.\r\n\r\n     Object[][] data = new Object[rowCount][columnCount];\r\n            for (int i = 1; i &lt; rowCount; i++) {\r\n                XSSFRow row = sheet.getRow(i);\r\n\r\n                for (int j = 0; j &lt; columnCount; j++) {\r\n                    XSSFCell cell = row.getCell(j);\r\n                    data[i][j] = cell.getStringCellValue();\r\n                    System.out.println(data[i][j]);\r\n                }\r\n\r\n            }","title":"Read Excel sheet with Apache POI without header using for loop","body":"<p>If you want to skip header means top row of your excel file initialize value of i for the for loop with 1 which is responsible to traverse within rows. Top row used to have index value 0. So your for loop code for row and columns should be like this.</p>\n<pre><code> Object[][] data = new Object[rowCount][columnCount];\n        for (int i = 1; i &lt; rowCount; i++) {\n            XSSFRow row = sheet.getRow(i);\n\n            for (int j = 0; j &lt; columnCount; j++) {\n                XSSFCell cell = row.getCell(j);\n                data[i][j] = cell.getStringCellValue();\n                System.out.println(data[i][j]);\n            }\n\n        }\n</code></pre>\n"}],"owner":{"account_id":6343131,"reputation":15,"user_id":4924469,"display_name":"Dilip Pal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":891,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75059270,"answer_count":2,"score":0,"last_activity_date":1673277113,"creation_date":1568196432,"question_id":57886801,"body_markdown":"I want to read Excel file without a header using for loop and want to use that data to pass to another method. I&#39;m unable to do so. Without header works fine.\r\n\r\n    @DataProvider(name = &quot;inputData&quot;)\r\n    \t\r\n    public static Object[][] getExcelData() throws IOException {\r\n    \r\n    \t\tinputStream = new FileInputStream(Constants.TEST_DATA);\r\n    \r\n    \t\tworkbook = new XSSFWorkbook(inputStream);\r\n    \r\n    \t\tsheet = workbook.getSheet(&quot;CRMData&quot;);\r\n    \r\n    \t\tint rowCount = sheet.getLastRowNum() + 1;\r\n    \r\n    \t\tint columnCount = sheet.getRow(0).getLastCellNum();\r\n    \r\n    \t\tObject[][] data = new Object[rowCount][columnCount];\r\n    \r\n    \t\tfor (int i = 0; i &lt; rowCount; i++) {\r\n    \t\t\trow = sheet.getRow(i);\r\n    \r\n    \t\t\tfor (int j = 0; j &lt; columnCount; j++) {\r\n    \t\t\t\tcell = row.getCell(j);\r\n    \t\t\t\tdata[i][j] = cell.getStringCellValue();\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tworkbook.close();\r\n    \t\treturn data;\r\n    \t}\r\n\r\nI expect this method to fetch only test data, not the header, and pass that data to my test case for execution.","title":"Read Excel sheet with Apache POI without header using for loop","body":"<p>I want to read Excel file without a header using for loop and want to use that data to pass to another method. I'm unable to do so. Without header works fine.</p>\n\n<pre><code>@DataProvider(name = \"inputData\")\n\npublic static Object[][] getExcelData() throws IOException {\n\n        inputStream = new FileInputStream(Constants.TEST_DATA);\n\n        workbook = new XSSFWorkbook(inputStream);\n\n        sheet = workbook.getSheet(\"CRMData\");\n\n        int rowCount = sheet.getLastRowNum() + 1;\n\n        int columnCount = sheet.getRow(0).getLastCellNum();\n\n        Object[][] data = new Object[rowCount][columnCount];\n\n        for (int i = 0; i &lt; rowCount; i++) {\n            row = sheet.getRow(i);\n\n            for (int j = 0; j &lt; columnCount; j++) {\n                cell = row.getCell(j);\n                data[i][j] = cell.getStringCellValue();\n\n            }\n        }\n\n        workbook.close();\n        return data;\n    }\n</code></pre>\n\n<p>I expect this method to fetch only test data, not the header, and pass that data to my test case for execution.</p>\n"},{"tags":["java","android"],"owner":{"account_id":27469044,"reputation":1,"user_id":20958304,"display_name":"Carlos Serrano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673277089,"creation_date":1673277089,"question_id":75059264,"body_markdown":"I want to make a query to Firestore database to get a url stored. Then with that url I want to show the .txt that cointains the url.\r\nMy problem is that the code executes automatically and doesn&#39;t wait to end the query.\r\nI want to:\r\n\r\n1. Store the url in a variable.\r\n\r\n2. With that variable take the .txt and read line by line in a texview.\r\n   I can do both, but separately, when I try to do it together I have the problem, I need to wait the result and then continue executing the code. How can I do it?\r\n   My code is:\r\n\r\n```\r\nString idioma, modo, cuento, url_cuento;\r\nFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_reproductor_cuento);\r\n\r\n        //Hacemos llamada a clase para mostrar la pantalla completa\r\n        PantallaCompleta pantallaCompleta = new PantallaCompleta();\r\n        View decorView = getWindow().getDecorView();\r\n        pantallaCompleta.pantallaCompleta(decorView);\r\n\r\n\r\n        //Recogemos los parametros que se pasan por activities\r\n        Bundle extra = this.getIntent().getExtras();\r\n        idioma = extra.getString(&quot;idioma&quot;);\r\n        modo = extra.getString(&quot;modo&quot;);\r\n        cuento = extra.getString(&quot;cuento&quot;);\r\n\r\n        url_cuento = consultaTxtCuento(cuento, idioma);\r\n        new GetData().execute();\r\n    }\r\n\r\npublic String consultaTxtCuento(String cuento, String idioma){\r\n        final String[] urlTxt = new String[1];\r\n        DocumentReference docRef = db.collection(&quot;cuentos&quot;).document(cuento);\r\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\r\n                if (task.isSuccessful()) {\r\n                    DocumentSnapshot document = task.getResult();\r\n                    if (document.exists()) {\r\n                        urlTxt[0] = document.get(&quot;txt_&quot; + idioma).toString();\r\n                        System.out.println(&quot;Se obtiene como URL -&gt; &quot; + urlTxt[0]);\r\n                    }\r\n                } else {\r\n                    Log.d(TAG, &quot;get failed with &quot;, task.getException());\r\n                }\r\n            }\r\n        });\r\n        return urlTxt[0];\r\n    }\r\n\r\n    class GetData extends AsyncTask&lt;String, Void, String&gt; {\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n            HttpURLConnection urlConnection = null;\r\n            String result = &quot;&quot;;\r\n            try {\r\n                URL url = new URL(url_cuento);\r\n                urlConnection = (HttpURLConnection) url.openConnection();\r\n                int code = urlConnection.getResponseCode();\r\n                if(code==200){\r\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\r\n                    if (in != null) {\r\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\r\n                        String line = &quot;&quot;;\r\n                        while ((line = bufferedReader.readLine()) != null)\r\n                            result += line;\r\n                    }\r\n                    in.close();\r\n                }\r\n                return result;\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            finally {\r\n                urlConnection.disconnect();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            super.onPostExecute(result);\r\n        }\r\n    }\r\n```\r\n\r\n\r\nWhat can I do to execute waiting the results? Thanks","title":"How to make a query to Firestore databse, wait the result and look for a url","body":"<p>I want to make a query to Firestore database to get a url stored. Then with that url I want to show the .txt that cointains the url.\nMy problem is that the code executes automatically and doesn't wait to end the query.\nI want to:</p>\n<ol>\n<li><p>Store the url in a variable.</p>\n</li>\n<li><p>With that variable take the .txt and read line by line in a texview.\nI can do both, but separately, when I try to do it together I have the problem, I need to wait the result and then continue executing the code. How can I do it?\nMy code is:</p>\n</li>\n</ol>\n<pre><code>String idioma, modo, cuento, url_cuento;\nFirebaseFirestore db = FirebaseFirestore.getInstance();\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_reproductor_cuento);\n\n        //Hacemos llamada a clase para mostrar la pantalla completa\n        PantallaCompleta pantallaCompleta = new PantallaCompleta();\n        View decorView = getWindow().getDecorView();\n        pantallaCompleta.pantallaCompleta(decorView);\n\n\n        //Recogemos los parametros que se pasan por activities\n        Bundle extra = this.getIntent().getExtras();\n        idioma = extra.getString(&quot;idioma&quot;);\n        modo = extra.getString(&quot;modo&quot;);\n        cuento = extra.getString(&quot;cuento&quot;);\n\n        url_cuento = consultaTxtCuento(cuento, idioma);\n        new GetData().execute();\n    }\n\npublic String consultaTxtCuento(String cuento, String idioma){\n        final String[] urlTxt = new String[1];\n        DocumentReference docRef = db.collection(&quot;cuentos&quot;).document(cuento);\n        docRef.get().addOnCompleteListener(new OnCompleteListener&lt;DocumentSnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;DocumentSnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    DocumentSnapshot document = task.getResult();\n                    if (document.exists()) {\n                        urlTxt[0] = document.get(&quot;txt_&quot; + idioma).toString();\n                        System.out.println(&quot;Se obtiene como URL -&gt; &quot; + urlTxt[0]);\n                    }\n                } else {\n                    Log.d(TAG, &quot;get failed with &quot;, task.getException());\n                }\n            }\n        });\n        return urlTxt[0];\n    }\n\n    class GetData extends AsyncTask&lt;String, Void, String&gt; {\n        @Override\n        protected String doInBackground(String... params) {\n            HttpURLConnection urlConnection = null;\n            String result = &quot;&quot;;\n            try {\n                URL url = new URL(url_cuento);\n                urlConnection = (HttpURLConnection) url.openConnection();\n                int code = urlConnection.getResponseCode();\n                if(code==200){\n                    InputStream in = new BufferedInputStream(urlConnection.getInputStream());\n                    if (in != null) {\n                        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(in));\n                        String line = &quot;&quot;;\n                        while ((line = bufferedReader.readLine()) != null)\n                            result += line;\n                    }\n                    in.close();\n                }\n                return result;\n            } catch (MalformedURLException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            finally {\n                urlConnection.disconnect();\n            }\n            return result;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            super.onPostExecute(result);\n        }\n    }\n</code></pre>\n<p>What can I do to execute waiting the results? Thanks</p>\n"},{"tags":["java","concurrency","completable-future"],"comments":[{"owner":{"account_id":1078629,"reputation":599,"user_id":1076228,"display_name":"fsschmitt"},"score":0,"creation_date":1537529261,"post_id":52441594,"comment_id":91828130,"body_markdown":"Which version o Java are you using? You basically want to use sync methods but you only have async methods available, am I right? Be really aware of what this can do to performance. Check the CompletableFuture docs: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\n\nFeel free to use .get() method to wait on the result of a Future and .allOf() method to create a Future that waits on all other futures to be completed.","body":"Which version o Java are you using? You basically want to use sync methods but you only have async methods available, am I right? Be really aware of what this can do to performance. Check the CompletableFuture docs: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>  Feel free to use .get() method to wait on the result of a Future and .allOf() method to create a Future that waits on all other futures to be completed."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673276960,"creation_date":1537529817,"answer_id":52442903,"question_id":52441594,"body_markdown":"Your current solution calls `supplyAsync()` immediately and later tries to combine the results.\r\n\r\nIf you want to guarantee sequential execution, you should use `thenApply()` or `thenCompose()` instead of `thenCombine()`:\r\n\r\n\tfor (Supplier&lt;Boolean&gt; method : methods)\r\n\t{\r\n\t\tif (future == null)\r\n\t\t{\r\n\t\t\tfuture = CompletableFuture.supplyAsync(method, threadPool);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfuture = future.thenApplyAsync(result -&gt; result &amp;&amp; method.get(), threadPool);\r\n\t\t}\r\n\t}\r\n\r\nNote that this will not call the `method.get()` on the next suppliers if any of them returns false, since `&amp;&amp;` is short-circuiting. You could use a single `&amp;` to force the call anyway, or swap the parameters.\r\n\r\nThis already combines all the boolean results at the end. You can add anything on the resulting `future` after the loop, like more `thenApply()` calls, or a blocking `join()` call to retrieve the `Boolean`.\r\n\r\nNote that this loop can also easily be rewritten using streams:\r\n\r\n\tfuture = Arrays.stream(methods)\r\n\t\t\t.reduce(CompletableFuture.completedFuture(true),\r\n\t\t\t\t\t(f, method) -&gt; f.thenApplyAsync(result -&gt; result &amp;&amp; method.get()),\r\n\t\t\t\t\t(f1, f2) -&gt; f1.thenCombine(f2, (result1, result2) -&gt; result1 &amp;&amp; result2));","title":"Run async actions in sequence","body":"<p>Your current solution calls <code>supplyAsync()</code> immediately and later tries to combine the results.</p>\n<p>If you want to guarantee sequential execution, you should use <code>thenApply()</code> or <code>thenCompose()</code> instead of <code>thenCombine()</code>:</p>\n<pre><code>for (Supplier&lt;Boolean&gt; method : methods)\n{\n    if (future == null)\n    {\n        future = CompletableFuture.supplyAsync(method, threadPool);\n    }\n    else\n    {\n        future = future.thenApplyAsync(result -&gt; result &amp;&amp; method.get(), threadPool);\n    }\n}\n</code></pre>\n<p>Note that this will not call the <code>method.get()</code> on the next suppliers if any of them returns false, since <code>&amp;&amp;</code> is short-circuiting. You could use a single <code>&amp;</code> to force the call anyway, or swap the parameters.</p>\n<p>This already combines all the boolean results at the end. You can add anything on the resulting <code>future</code> after the loop, like more <code>thenApply()</code> calls, or a blocking <code>join()</code> call to retrieve the <code>Boolean</code>.</p>\n<p>Note that this loop can also easily be rewritten using streams:</p>\n<pre><code>future = Arrays.stream(methods)\n        .reduce(CompletableFuture.completedFuture(true),\n                (f, method) -&gt; f.thenApplyAsync(result -&gt; result &amp;&amp; method.get()),\n                (f1, f2) -&gt; f1.thenCombine(f2, (result1, result2) -&gt; result1 &amp;&amp; result2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":387081,"reputation":1374,"user_id":745224,"accept_rate":70,"display_name":"dirkvranckaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594891707,"creation_date":1594891707,"answer_id":62931597,"question_id":52441594,"body_markdown":"You could easily do so by using the Spotify CompletableFutures library: https://github.com/spotify/completable-futures\r\n\r\nThey provide some really useful tools for this, for example an `allAsList` that returns a `CompletableFuture&lt;List&lt;T&gt;&gt;`.","title":"Run async actions in sequence","body":"<p>You could easily do so by using the Spotify CompletableFutures library: <a href=\"https://github.com/spotify/completable-futures\" rel=\"nofollow noreferrer\">https://github.com/spotify/completable-futures</a></p>\n<p>They provide some really useful tools for this, for example an <code>allAsList</code> that returns a <code>CompletableFuture&lt;List&lt;T&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":1144833,"reputation":7270,"user_id":1127843,"accept_rate":86,"display_name":"kayz1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3047,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52442903,"answer_count":2,"score":0,"last_activity_date":1673276960,"creation_date":1537525294,"question_id":52441594,"body_markdown":"I have a sequence of I/O operations (DB, I/O devices...) I need to run in sequence.\r\n\r\n    @SafeVarargs\r\n    public final CompletableFuture&lt;Boolean&gt; execute(final Supplier&lt;Boolean&gt;... methods)\r\n    {\r\n    \tCompletableFuture&lt;Boolean&gt; future = null;\r\n    \r\n    \tfor (Supplier&lt;Boolean&gt; method : methods)\r\n    \t{\r\n    \t\tif (future == null)\r\n    \t\t{\r\n    \t\t\tfuture = CompletableFuture.supplyAsync(method, threadPool);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tfuture.thenCombineAsync(CompletableFuture.supplyAsync(method, threadPool), (result, currentResult) -&gt; result &amp;&amp; currentResult,\r\n    \t\t\t\t\tthreadPool);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \treturn future.exceptionally(this::onException);\r\n    }\r\n\r\nMy code executes randomly. \r\n\r\n 1. What can I do to ensure order?\r\n 2. How can I combine results in the end? If all were true, for instance?\r\n 3. To apply a callback after everything is complete to check the result?","title":"Run async actions in sequence","body":"<p>I have a sequence of I/O operations (DB, I/O devices...) I need to run in sequence.</p>\n\n<pre><code>@SafeVarargs\npublic final CompletableFuture&lt;Boolean&gt; execute(final Supplier&lt;Boolean&gt;... methods)\n{\n    CompletableFuture&lt;Boolean&gt; future = null;\n\n    for (Supplier&lt;Boolean&gt; method : methods)\n    {\n        if (future == null)\n        {\n            future = CompletableFuture.supplyAsync(method, threadPool);\n        }\n        else\n        {\n            future.thenCombineAsync(CompletableFuture.supplyAsync(method, threadPool), (result, currentResult) -&gt; result &amp;&amp; currentResult,\n                    threadPool);\n        }\n    }\n\n    return future.exceptionally(this::onException);\n}\n</code></pre>\n\n<p>My code executes randomly. </p>\n\n<ol>\n<li>What can I do to ensure order?</li>\n<li>How can I combine results in the end? If all were true, for instance?</li>\n<li>To apply a callback after everything is complete to check the result?</li>\n</ol>\n"},{"tags":["java","android","graph","linegraph"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1673500729,"post_id":75059231,"comment_id":132514413,"body_markdown":"I am not very familiar with the LineChart stuff you are using but from what I understood, you want the dates to be arranged in ascending/descending order on the X-axis. If that is correct, I think a proportional conversion of the `Date` string to something like seconds completely should do it.","body":"I am not very familiar with the LineChart stuff you are using but from what I understood, you want the dates to be arranged in ascending/descending order on the X-axis. If that is correct, I think a proportional conversion of the <code>Date</code> string to something like seconds completely should do it."}],"owner":{"account_id":26394012,"reputation":31,"user_id":20045441,"display_name":"wuad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673276920,"creation_date":1673276920,"question_id":75059231,"body_markdown":"I am making an app in android studio with java in which I want to make a line graph with the mpchart android library. The data that I want to represent in my graph is obtained by reading a sqlite database. The idea is that the x axis shows the time and date while the axis and the amount of data. The problem is that the method to insert the values ​​into the dataset with which it is graphed only accepts numeric values ​​and the data that I read from my database are integers and strings, so My question is how to convert the date and time string to an integer so that the graph works for me?\r\nmy code:\r\n\r\nlineGraphClass:\r\n\r\n```\r\npublic class lineGraphClass {\r\n    int count;\r\n    String date;\r\n\r\n    public String getDate() {\r\n\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void setCount(int count) {\r\n\r\n        this.count = count;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nconexionsqlitehelper.class:query database:\r\n\r\n```\r\npublic List&lt;lineGraphClass&gt; dataDebatebyGroupDate(int id){\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n        String query = &quot;SELECT count(arguments.id_arguments),arguments.date_arguments FROM arguments WHERE arguments.arguments_summary_debate_relation =? &quot;;\r\n        Cursor cursor = db.rawQuery(query, new String[]{String.valueOf(id)});\r\n        List&lt;lineGraphClass&gt; data = new ArrayList&lt;lineGraphClass&gt;();\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                lineGraphClass fill_data = new lineGraphClass();\r\n                fill_data.setCount(cursor.getInt(0));\r\n                fill_data.setDate(cursor.getString(1));\r\n                data.add(fill_data);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        db.close();\r\n        return data;\r\n    } \r\n``` \r\n\r\nlineChart.class:class that will draw the line graph\r\n\r\n``` \r\npublic class lineChart extends Fragment {\r\n    public String name,title;\r\n    List&lt;lineGraphClass&gt; data;\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_line_chart, container, false);\r\n        LineChart linechart = view.findViewById(R.id.linechart);\r\n        LineDataSet linedataset = new LineDataSet(fillDataset(),&quot;&quot;);\r\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n        dataSets.add(linedataset);\r\n        LineData linedata = new LineData(dataSets);\r\n        linechart.setData(linedata);\r\n        linechart.invalidate();\r\n        return view;\r\n    }\r\n    private ArrayList&lt;Entry&gt; fillDataset() {\r\n        ConexionSQliteHelper conn = new ConexionSQliteHelper(getContext(), &quot;lala&quot;, null, 40);\r\n        name = getArguments().getString(&quot;name&quot;);\r\n        title = getArguments().getString(&quot;title&quot;);\r\n        int id = conn.requestId(name);\r\n        int id_text_discuss = conn.requestIdDiscuss(id, title);\r\n        data = conn.dataDebatebyGroupDate(id_text_discuss);\r\n        ArrayList&lt;Entry&gt; datavalues = new ArrayList&lt;Entry&gt;();\r\n        for (int i = 0; i &lt; data.size(); i++) {\r\n            datavalues.add(new Entry(data.get(i).getDate(), data.get(i).getCount()));\r\n        }\r\n        return datavalues;\r\n    }\r\n}\r\n``` \r\n\r\n\r\n","title":"how to pass data from string type to integer to make line chart using mpandroidchart","body":"<p>I am making an app in android studio with java in which I want to make a line graph with the mpchart android library. The data that I want to represent in my graph is obtained by reading a sqlite database. The idea is that the x axis shows the time and date while the axis and the amount of data. The problem is that the method to insert the values ​​into the dataset with which it is graphed only accepts numeric values ​​and the data that I read from my database are integers and strings, so My question is how to convert the date and time string to an integer so that the graph works for me?\nmy code:</p>\n<p>lineGraphClass:</p>\n<pre><code>public class lineGraphClass {\n    int count;\n    String date;\n\n    public String getDate() {\n\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n    public int getCount() {\n        return count;\n    }\n\n    public void setCount(int count) {\n\n        this.count = count;\n    }\n}\n\n\n</code></pre>\n<p>conexionsqlitehelper.class:query database:</p>\n<pre><code>public List&lt;lineGraphClass&gt; dataDebatebyGroupDate(int id){\n        SQLiteDatabase db = this.getReadableDatabase();\n        String query = &quot;SELECT count(arguments.id_arguments),arguments.date_arguments FROM arguments WHERE arguments.arguments_summary_debate_relation =? &quot;;\n        Cursor cursor = db.rawQuery(query, new String[]{String.valueOf(id)});\n        List&lt;lineGraphClass&gt; data = new ArrayList&lt;lineGraphClass&gt;();\n        if (cursor.moveToFirst()) {\n            do {\n                lineGraphClass fill_data = new lineGraphClass();\n                fill_data.setCount(cursor.getInt(0));\n                fill_data.setDate(cursor.getString(1));\n                data.add(fill_data);\n            } while (cursor.moveToNext());\n        }\n        db.close();\n        return data;\n    } \n</code></pre>\n<p>lineChart.class:class that will draw the line graph</p>\n<pre><code>public class lineChart extends Fragment {\n    public String name,title;\n    List&lt;lineGraphClass&gt; data;\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_line_chart, container, false);\n        LineChart linechart = view.findViewById(R.id.linechart);\n        LineDataSet linedataset = new LineDataSet(fillDataset(),&quot;&quot;);\n        ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n        dataSets.add(linedataset);\n        LineData linedata = new LineData(dataSets);\n        linechart.setData(linedata);\n        linechart.invalidate();\n        return view;\n    }\n    private ArrayList&lt;Entry&gt; fillDataset() {\n        ConexionSQliteHelper conn = new ConexionSQliteHelper(getContext(), &quot;lala&quot;, null, 40);\n        name = getArguments().getString(&quot;name&quot;);\n        title = getArguments().getString(&quot;title&quot;);\n        int id = conn.requestId(name);\n        int id_text_discuss = conn.requestIdDiscuss(id, title);\n        data = conn.dataDebatebyGroupDate(id_text_discuss);\n        ArrayList&lt;Entry&gt; datavalues = new ArrayList&lt;Entry&gt;();\n        for (int i = 0; i &lt; data.size(); i++) {\n            datavalues.add(new Entry(data.get(i).getDate(), data.get(i).getCount()));\n        }\n        return datavalues;\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","controller","spring-webflux","webtestclient"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":0,"creation_date":1673279756,"post_id":75059061,"comment_id":132457759,"body_markdown":"What type com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;] field has? Deserializer says it cannot construct an object of this type. And could you also post here your DTO classes?","body":"What type com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;] field has? Deserializer says it cannot construct an object of this type. And could you also post here your DTO classes?"},{"owner":{"account_id":25828073,"reputation":11,"user_id":19565778,"display_name":"eyal tamsot"},"score":0,"creation_date":1673343650,"post_id":75059061,"comment_id":132472025,"body_markdown":"Its a string, and its getter returns java&#39;s LocalDateTime after parsing the string.","body":"Its a string, and its getter returns java&#39;s LocalDateTime after parsing the string."}],"owner":{"account_id":25828073,"reputation":11,"user_id":19565778,"display_name":"eyal tamsot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673276140,"creation_date":1673276140,"question_id":75059061,"body_markdown":"I am writing unit tests for my API controller, \r\non one of the tests - i am facing a problem of deserializing an object when it returns from the endpoint, when debugging it in the controller&#39;s function i see that everything goes as expected but the error is being thrown on expectBody(UserDto.class)\r\n\r\nIt works in production but throws error on test context\r\n\r\n\r\n\r\n\r\n``` \r\n        String Id = &quot;123&quot;;\r\n        UserTimestampDto userTimestampDto = new             UserTimestampDto(LocalDateTime.now().toString());\r\n        TimestampsDto timestampsDto = new TimestampsDto(userTimestampDto, userTimestampDto);\r\n        UserDto userDto = new UserDto(&quot;123&quot;,timestampsDto);\r\n\r\n        webTestClient\r\n                .get()\r\n                .uri(uriBuilder -&gt; uriBuilder\r\n                        .path(UserController.BASE_URL + &quot;/&quot; + Id)\r\n                        .build())\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .exchange()\r\n                .expectStatus().isOk()\r\n                .expectBody(UserDto.class)\r\n                .value(userItem -&gt; userItem, equalTo(userDto));\r\n```\r\n\r\nThe Error:\r\n\r\n&gt; org.springframework.core.codec.DecodingException: JSON decoding error: Cannot construct instance of `com.project.v1.model.timestamps.UserTimestampDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.project.v1.model.timestamps.UserTimestampDto` (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n&gt;  at [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 296] (through reference chain: com.project.v1.model.customer.UserDto[&quot;internalTimestamps&quot;]-&gt;com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;])","title":"Object fails to get deserialized when returning back to WebFluxTest context","body":"<p>I am writing unit tests for my API controller,\non one of the tests - i am facing a problem of deserializing an object when it returns from the endpoint, when debugging it in the controller's function i see that everything goes as expected but the error is being thrown on expectBody(UserDto.class)</p>\n<p>It works in production but throws error on test context</p>\n<pre><code>        String Id = &quot;123&quot;;\n        UserTimestampDto userTimestampDto = new             UserTimestampDto(LocalDateTime.now().toString());\n        TimestampsDto timestampsDto = new TimestampsDto(userTimestampDto, userTimestampDto);\n        UserDto userDto = new UserDto(&quot;123&quot;,timestampsDto);\n\n        webTestClient\n                .get()\n                .uri(uriBuilder -&gt; uriBuilder\n                        .path(UserController.BASE_URL + &quot;/&quot; + Id)\n                        .build())\n                .accept(MediaType.APPLICATION_JSON)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(UserDto.class)\n                .value(userItem -&gt; userItem, equalTo(userDto));\n</code></pre>\n<p>The Error:</p>\n<blockquote>\n<p>org.springframework.core.codec.DecodingException: JSON decoding error: Cannot construct instance of <code>com.project.v1.model.timestamps.UserTimestampDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of <code>com.project.v1.model.timestamps.UserTimestampDto</code> (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator)\nat [Source: (org.springframework.core.io.buffer.DefaultDataBuffer$DefaultDataBufferInputStream); line: 1, column: 296] (through reference chain: com.project.v1.model.customer.UserDto[&quot;internalTimestamps&quot;]-&gt;com.project.v1.model.timestamps.TimestampsDto[&quot;createdDate&quot;])</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1618852353,"creation_date":1618851959,"answer_id":67166362,"question_id":67166273,"body_markdown":"`@ManyToOne` should annotate a field not a collection. For collection fields the right annotation is `@OneToMany`.\r\n\r\nSo if you have\r\n\r\n    @ManyToOne\r\n    private List&lt;Something&gt; list;\r\n\r\nthat should be\r\n\r\n \r\n\r\n    @OneToMany\r\n    private List&lt;Something&gt; list;","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p><code>@ManyToOne</code> should annotate a field not a collection. For collection fields the right annotation is <code>@OneToMany</code>.</p>\n<p>So if you have</p>\n<pre><code>@ManyToOne\nprivate List&lt;Something&gt; list;\n</code></pre>\n<p>that should be</p>\n<pre><code>@OneToMany\nprivate List&lt;Something&gt; list;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7400502,"reputation":66,"user_id":5631112,"display_name":"TrueCall"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620393425,"creation_date":1620393425,"answer_id":67435698,"question_id":67166273,"body_markdown":"As Error says manyToOne should not be collection/list but should be single ojbect\r\n\r\n    @ManyToOne\r\n    Somthing somthing; // but not list","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>As Error says manyToOne should not be collection/list but should be single ojbect</p>\n<pre><code>@ManyToOne\nSomthing somthing; // but not list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669813304,"creation_date":1669813304,"answer_id":74628231,"question_id":67166273,"body_markdown":"1- @ManyToOne annotate a field,like that, in Hall classe: \r\n\r\n    @ManyToOne\r\n    private Cinema cinema;\r\n\r\n\r\n2- @OneToMany annotate a collection, like that, in Cinema classe: \r\n\r\n    @OneToMany(mappedBy =&quot;cinema&quot;)\r\n    private Collection&lt;Hall&gt; halls;","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>1- @ManyToOne annotate a field,like that, in Hall classe:</p>\n<pre><code>@ManyToOne\nprivate Cinema cinema;\n</code></pre>\n<p>2- @OneToMany annotate a collection, like that, in Cinema classe:</p>\n<pre><code>@OneToMany(mappedBy =&quot;cinema&quot;)\nprivate Collection&lt;Hall&gt; halls;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17569788,"reputation":495,"user_id":12745710,"display_name":"Emmanuel Ametepee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673276016,"creation_date":1673276016,"answer_id":75059030,"question_id":67166273,"body_markdown":"    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\r\n    private List&lt;Address&gt; address;\r\n\r\nSince is a One-to-Many relationship, you must that, the other side is a list of something, i.e List&lt;Something&gt; something","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<pre><code>@OneToMany(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;)\nprivate List&lt;Address&gt; address;\n</code></pre>\n<p>Since is a One-to-Many relationship, you must that, the other side is a list of something, i.e List something</p>\n"}],"owner":{"account_id":5619788,"reputation":4111,"user_id":4450024,"accept_rate":99,"display_name":"Nu&#241;ito Calzada"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20668,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":67166362,"answer_count":4,"score":7,"last_activity_date":1673276016,"creation_date":1618851601,"question_id":67166273,"body_markdown":"I have this class:\r\n\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;t_user&quot;)\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Data\r\n    public class User implements Serializable, UserDetails {\r\n    \r\n    @Override\r\n    \tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n    \t\treturn null;\r\n    \t}\r\n    ..\r\n    }\r\n\r\n\r\nbut I have this compilation error:\r\n\r\n    &#39;Many To One&#39; attribute type should not be a container \r\n\r\n","title":"&#39;Many To One&#39; attribute type should not be a container","body":"<p>I have this class:</p>\n<pre><code>import org.springframework.security.core.userdetails.UserDetails;\n\n@Entity\n@Table(name=&quot;t_user&quot;)\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonIgnoreProperties(ignoreUnknown = true)\n@Data\npublic class User implements Serializable, UserDetails {\n\n@Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return null;\n    }\n..\n}\n</code></pre>\n<p>but I have this compilation error:</p>\n<pre><code>'Many To One' attribute type should not be a container \n</code></pre>\n"},{"tags":["java","hibernate","ojdbc"],"comments":[{"owner":{"account_id":7767429,"reputation":674,"user_id":5878215,"display_name":"Zorglube"},"score":1,"creation_date":1673275583,"post_id":75058869,"comment_id":132456015,"body_markdown":"Instead of trying to change the way the Class Loader work, maybe you should try to check if it&#39;s really necessary to have 4 versions of the same lib into your classpath.","body":"Instead of trying to change the way the Class Loader work, maybe you should try to check if it&#39;s really necessary to have 4 versions of the same lib into your classpath."}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673275597,"creation_date":1673275203,"question_id":75058869,"body_markdown":"\r\nWe have 4 ojdbc jars namely ojdbc14.jar, ojdbc6.jar, ojdbc7.jar and ojdbc8.jar in the &quot;lib&quot; folder of the java application.\r\nAnd we have declared the necessary configurations for the driver in XML file as shown below,\r\n\r\n\r\n    &lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;  \t\t\t\r\n\r\n\t\r\nIn the above options, Which ojdbc jar does hibernate choose? whether it will select the first jar or will select one of the ojdbc jars at random.\r\n\r\nAnd based on what logic does Hibernate select the appropriate ojdbc jar file?\r\n\r\n\r\nThanks in advance.\r\n\r\n\r\n","title":"How the hibernate selects ojdbc jars if multiple jars are available?","body":"<p>We have 4 ojdbc jars namely ojdbc14.jar, ojdbc6.jar, ojdbc7.jar and ojdbc8.jar in the &quot;lib&quot; folder of the java application.\nAnd we have declared the necessary configurations for the driver in XML file as shown below,</p>\n<pre><code>&lt;property name=&quot;hibernate.connection.driver_class&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;           \n</code></pre>\n<p>In the above options, Which ojdbc jar does hibernate choose? whether it will select the first jar or will select one of the ojdbc jars at random.</p>\n<p>And based on what logic does Hibernate select the appropriate ojdbc jar file?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse","file"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277045,"post_id":75058468,"comment_id":132456560,"body_markdown":"`package vari;` but folder `variable1` - ry creating a folder `vari` and moving the file to it","body":"<code>package vari;</code> but folder <code>variable1</code> - ry creating a folder <code>vari</code> and moving the file to it"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673285301,"post_id":75058468,"comment_id":132459823,"body_markdown":"@user16320675 wouldn&#39;t doing the exact opposite be a whole lot easier? Change &#39;vari&#39; to `variable1`, rebuild and make sure `Exam3` is your main class. It should then run","body":"@user16320675 wouldn&#39;t doing the exact opposite be a whole lot easier? Change &#39;vari&#39; to <code>variable1</code>, rebuild and make sure <code>Exam3</code> is your main class. It should then run"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673286597,"post_id":75058468,"comment_id":132460263,"body_markdown":"@g00se not sure, OP wrote &quot;*This file is from other.*&quot; so I suppose there are other computers/developers involved... It sure is an option, but I do not think that creating a folder and dragging the files into it is that much harder","body":"@g00se not sure, OP wrote &quot;<i>This file is from other.</i>&quot; so I suppose there are other computers/developers involved... It sure is an option, but I do not think that creating a folder and dragging the files into it is that much harder"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1673301670,"post_id":75058468,"comment_id":132464434,"body_markdown":"Welcome! Could you please [read about why &#39;Can somebody help me?&#39; is not really a question by our community&#39;s standards](//meta.stackoverflow.com/a/284237/11107541) and [edit] to apply what you learn to ask your question? You can also see [ask] for further guidance. For example, a better question might look like: &quot;_What is the cause of &lt;specific issue&gt;, and how can the problem be resolved to get &lt;specific correct behaviour&gt;?_&quot;","body":"Welcome! Could you please <a href=\"//meta.stackoverflow.com/a/284237/11107541\">read about why &#39;Can somebody help me?&#39; is not really a question by our community&#39;s standards</a> and <a href=\"https://stackoverflow.com/posts/75058468/edit\">edit</a> to apply what you learn to ask your question? You can also see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for further guidance. For example, a better question might look like: &quot;<i>What is the cause of &lt;specific issue&gt;, and how can the problem be resolved to get &lt;specific correct behaviour&gt;?</i>&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1673304792,"post_id":75058468,"comment_id":132465121,"body_markdown":"The editor icon of `Exam3.java` is an outline `J` (instead of a regular `J` like in `Exam1.java` and `LL.java`), which means the file `Exam3.java` is not contained in a source folder, so it will not be compiled and cannot be run. Move the file `Exam3.java` into a source folder.","body":"The editor icon of <code>Exam3.java</code> is an outline <code>J</code> (instead of a regular <code>J</code> like in <code>Exam1.java</code> and <code>LL.java</code>), which means the file <code>Exam3.java</code> is not contained in a source folder, so it will not be compiled and cannot be run. Move the file <code>Exam3.java</code> into a source folder."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673314360,"post_id":75058468,"comment_id":132466478,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26997204,"reputation":1,"user_id":20559106,"display_name":"Sua"},"score":0,"creation_date":1673541127,"post_id":75058468,"comment_id":132527430,"body_markdown":"Thank you so much everyone! I could not notice the the folder name was different. I changed the name to variable1 in the code.","body":"Thank you so much everyone! I could not notice the the folder name was different. I changed the name to variable1 in the code."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277175,"post_id":75058826,"comment_id":132456630,"body_markdown":"if package is `LL` (not conventional name, BTW; expected all lowercase) then the direct containing folder must also be named `LL` and not `src` as indicated in this answer","body":"if package is <code>LL</code> (not conventional name, BTW; expected all lowercase) then the direct containing folder must also be named <code>LL</code> and not <code>src</code> as indicated in this answer"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673284641,"post_id":75058826,"comment_id":132459594,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75058826/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":19380291,"reputation":27,"user_id":14171709,"display_name":"Dhyan Prasad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275564,"creation_date":1673275014,"answer_id":75058826,"question_id":75058468,"body_markdown":"You need to have a new folder where the file name is the same  as the java public **class name** inside **src** of the new folder. You can do this by creating a new project within eclipseand file with the **same class name**.\r\n\r\nSo your file tree structure would look like **LL &gt; src &gt; LL.java**\r\n\r\nAnd inside the java file provide the following in line 1\r\n\r\n    package LL;","title":"Why eclipse can&#39;t run other people&#39;s java file","body":"<p>You need to have a new folder where the file name is the same  as the java public <strong>class name</strong> inside <strong>src</strong> of the new folder. You can do this by creating a new project within eclipseand file with the <strong>same class name</strong>.</p>\n<p>So your file tree structure would look like <strong>LL &gt; src &gt; LL.java</strong></p>\n<p>And inside the java file provide the following in line 1</p>\n<pre><code>package LL;\n</code></pre>\n"}],"owner":{"account_id":26997204,"reputation":1,"user_id":20559106,"display_name":"Sua"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673275564,"creation_date":1673273314,"question_id":75058468,"body_markdown":"[When I press run, it appears. and none of those &quot;Ant Build&quot; works.](https://i.stack.imgur.com/xHPTB.png)\r\nIf I collect one of those, it shows \r\n\r\n\r\n*Build Failed\r\nReason:\r\nUnable to find an Ant file to run.*\r\n\r\n\r\nThis file is from other. It worked well on his eclipse. Every other my files run well.\r\n\r\n\r\n[This is from my eclips left side.](https://i.stack.imgur.com/zC7L2.png)\r\n\r\n[And this is the folder that is including the files from other.](https://i.stack.imgur.com/INmvh.png)\r\n\r\nExam3, Exam4 are from friend which have probelm right now. I have to run it and check the result. But I can&#39;t. \r\n\r\n\r\n*When I open these files using Visul Studio Code, it works well. \r\n\r\n*I created new file &quot;LL&quot; in eclipse. and it has showed in same folder with Exam3 and Exam4. So the address for the file is correct I guess. \r\n\r\nIt&#39;s been few days since I started learning Java and eclips. So it can be ridiculous question. But I really need your help. Can you help me please? ","title":"Why eclipse can&#39;t run other people&#39;s java file","body":"<p><a href=\"https://i.stack.imgur.com/xHPTB.png\" rel=\"nofollow noreferrer\">When I press run, it appears. and none of those &quot;Ant Build&quot; works.</a>\nIf I collect one of those, it shows</p>\n<p><em>Build Failed\nReason:\nUnable to find an Ant file to run.</em></p>\n<p>This file is from other. It worked well on his eclipse. Every other my files run well.</p>\n<p><a href=\"https://i.stack.imgur.com/zC7L2.png\" rel=\"nofollow noreferrer\">This is from my eclips left side.</a></p>\n<p><a href=\"https://i.stack.imgur.com/INmvh.png\" rel=\"nofollow noreferrer\">And this is the folder that is including the files from other.</a></p>\n<p>Exam3, Exam4 are from friend which have probelm right now. I have to run it and check the result. But I can't.</p>\n<p>*When I open these files using Visul Studio Code, it works well.</p>\n<p>*I created new file &quot;LL&quot; in eclipse. and it has showed in same folder with Exam3 and Exam4. So the address for the file is correct I guess.</p>\n<p>It's been few days since I started learning Java and eclips. So it can be ridiculous question. But I really need your help. Can you help me please?</p>\n"},{"tags":["java","memory","primitive","jvm-hotspot"],"comments":[{"owner":{"account_id":55734,"reputation":35141,"user_id":166955,"display_name":"Geoff Reedy"},"score":7,"creation_date":1327685863,"post_id":9037468,"comment_id":11336292,"body_markdown":"From a certain perspective, this question is unanswerable because the overhead on a boxed primitive is not specified in any specification. It can and will vary from VM to VM and platform to platform. A hardware platform with tagged memory could even have zero overhead.","body":"From a certain perspective, this question is unanswerable because the overhead on a boxed primitive is not specified in any specification. It can and will vary from VM to VM and platform to platform. A hardware platform with tagged memory could even have zero overhead."},{"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"score":0,"creation_date":1327686723,"post_id":9037468,"comment_id":11336547,"body_markdown":"duplicate of [In Java, what is the best way to determine the size of an object?](http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object).","body":"duplicate of <a href=\"http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">In Java, what is the best way to determine the size of an object?</a>."},{"owner":{"account_id":267053,"reputation":29704,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"score":0,"creation_date":1327686843,"post_id":9037468,"comment_id":11336589,"body_markdown":"I think it could also depend on the context you are using the boxed int and any optimizations the runtime compiler is making.","body":"I think it could also depend on the context you are using the boxed int and any optimizations the runtime compiler is making."},{"owner":{"account_id":916642,"reputation":15473,"user_id":949300,"accept_rate":65,"display_name":"user949300"},"score":0,"creation_date":1327689021,"post_id":9037468,"comment_id":11337285,"body_markdown":"See also [is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable](http://stackoverflow.com/questions/8959319/is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable)","body":"See also <a href=\"http://stackoverflow.com/questions/8959319/is-an-array-of-one-boolean-in-java-smaller-than-a-standalone-variable\">is-an-array-of-one-boolean-in-java-smaller-than-a-standalone&zwnj;&#8203;-variable</a>"}],"answers":[{"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1327687013,"post_id":9037586,"comment_id":11336646,"body_markdown":"I&#39;ve got not the slightest idea how you come up with those numbers.. looking at my Hotspot source in `oop.hpp` also makes me none the wiser (I can only find the usual 2 pointers there)","body":"I&#39;ve got not the slightest idea how you come up with those numbers.. looking at my Hotspot source in <code>oop.hpp</code> also makes me none the wiser (I can only find the usual 2 pointers there)"}],"tags":[],"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1327686446,"creation_date":1327685932,"answer_id":9037586,"question_id":9037468,"body_markdown":"It&#39;s more than that. \r\n\r\nEvery object reference has additional overhead, such as a Class reference. Not only that, your 4-byte pointer isn&#39;t quite accurate. It&#39;s a reference, so it&#39;s an ID plus a pointer, AND that pointer may be 8 bytes if you are on a 64 bit JVM.\r\n\r\nThere also appear to be VM implementation differences. Best way to be sure on this would be to pull it up in a profiler.\r\n\r\nMy (Super SWAG) estimate would be.\r\nObject reference 16 bytes (64 bit JVM)\r\nClass reference 16 bytes\r\nprimitive value 4 bytes (Assuming int.)\r\nTotal. 36 bytes.\r\n\r\nEDIT: Now that your specify 32-bit JVM my SWAG would be 20 bytes using same math above.","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>It's more than that. </p>\n\n<p>Every object reference has additional overhead, such as a Class reference. Not only that, your 4-byte pointer isn't quite accurate. It's a reference, so it's an ID plus a pointer, AND that pointer may be 8 bytes if you are on a 64 bit JVM.</p>\n\n<p>There also appear to be VM implementation differences. Best way to be sure on this would be to pull it up in a profiler.</p>\n\n<p>My (Super SWAG) estimate would be.\nObject reference 16 bytes (64 bit JVM)\nClass reference 16 bytes\nprimitive value 4 bytes (Assuming int.)\nTotal. 36 bytes.</p>\n\n<p>EDIT: Now that your specify 32-bit JVM my SWAG would be 20 bytes using same math above.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1327936565,"post_id":9037808,"comment_id":11378886,"body_markdown":"for the sake of completeness: if the object is synchronized upon, there will be a native struct holding the mutex.","body":"for the sake of completeness: if the object is synchronized upon, there will be a native struct holding the mutex."},{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":0,"creation_date":1327939380,"post_id":9037808,"comment_id":11379912,"body_markdown":"@bestsss Right, completely ignored that. I think heavyweight locks are only created if we have a contended lock (assuming biased locking). If we don&#39;t, and don&#39;t use the hashcode of the object I think Hotspot stores the tid in the object header itself. So just calling `synchronized(foo)` may not necessarily allocate any memory.","body":"@bestsss Right, completely ignored that. I think heavyweight locks are only created if we have a contended lock (assuming biased locking). If we don&#39;t, and don&#39;t use the hashcode of the object I think Hotspot stores the tid in the object header itself. So just calling <code>synchronized(foo)</code> may not necessarily allocate any memory."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1327942492,"post_id":9037808,"comment_id":11381078,"body_markdown":"yes. uncontended biased locks do not inflate the header if there is System.identityHashCode() request. The latter is used (unofficiallY) to prevent biased locking on a selected object. (i mean mostly contented -&gt; sometimes i used `Object lock =new Byte(1)` to simplify serialization","body":"yes. uncontended biased locks do not inflate the header if there is System.identityHashCode() request. The latter is used (unofficiallY) to prevent biased locking on a selected object. (i mean mostly contented -&gt; sometimes i used <code>Object lock =new Byte(1)</code> to simplify serialization"}],"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1327687411,"creation_date":1327686959,"answer_id":9037808,"question_id":9037468,"body_markdown":"This is implementation defined, so there&#39;s no specific answer. But I should be able to answer it for Hotspot.\r\n\r\nWhat you need to know is: Hotspot always aligns objects on 8byte boundaries. Furthermore there are 2 words overhead for each and every object. [1]\r\n\r\nIf we put this together we get:\r\n\r\n32bit VM: 4byte integer + 2 words object header = 12bytes. That&#39;s no multiple of 8 so as a result the cost for 1 integer is the next multiple of 8: 16byte. \r\n\r\n64bit VM: 4byte integer + 2 words = 20bytes. Rounding up again: 24byte size.\r\n\r\nThe size of a reference obviously does not play into the size of an object itself, except if it has references to other objects which isn&#39;t the case for a simple int wrapper. If it would, we&#39;d have 4byte per reference for 32bit and 4byte for heaps &lt;= 32gb with `CompressedOops` on modern JVMs (otherwise 8byte) for 64bit JVMs.\r\n\r\n[1] Interested people can look at the code in `share/vm/oops/oop.hpp`","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>This is implementation defined, so there's no specific answer. But I should be able to answer it for Hotspot.</p>\n\n<p>What you need to know is: Hotspot always aligns objects on 8byte boundaries. Furthermore there are 2 words overhead for each and every object. [1]</p>\n\n<p>If we put this together we get:</p>\n\n<p>32bit VM: 4byte integer + 2 words object header = 12bytes. That's no multiple of 8 so as a result the cost for 1 integer is the next multiple of 8: 16byte. </p>\n\n<p>64bit VM: 4byte integer + 2 words = 20bytes. Rounding up again: 24byte size.</p>\n\n<p>The size of a reference obviously does not play into the size of an object itself, except if it has references to other objects which isn't the case for a simple int wrapper. If it would, we'd have 4byte per reference for 32bit and 4byte for heaps &lt;= 32gb with <code>CompressedOops</code> on modern JVMs (otherwise 8byte) for 64bit JVMs.</p>\n\n<p>[1] Interested people can look at the code in <code>share/vm/oops/oop.hpp</code></p>\n"},{"tags":[],"owner":{"account_id":1159513,"reputation":2405,"user_id":1146259,"accept_rate":85,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275425,"creation_date":1327687410,"answer_id":9037904,"question_id":9037468,"body_markdown":"I know this doesn&#39;t exactly answer your question on the storage cost of boxed primitives, but I sense from your question that you are questioning whether or not your use of them is warranted.\r\n\r\nHere is an excerpt from Effective Java (2nd Edition) by Joshua Bloch that should help you decide: \r\n\r\n&gt; So when should you use boxed primitives? They have several legitimate uses. The \r\nfirst is as elements, keys, and values in collections. You can’t put primitives in collections, so you’re forced to use boxed primitives. This is a special case of a more general one. You must use boxed primitives as type parameters in parameterized types (Chapter 5), because the language does not permit you to use primitives. For example, you cannot declare a variable to be of type `Thread Local&lt;int&gt;`, so you must use `ThreadLocal&lt;Integer&gt;` instead. Finally, you must use boxed primitives when making reflective method invocations (Item 53).`\r\n&gt;\r\n&gt; In summary, use primitives in preference to boxed primitives whenever you have the choice. Primitive types are simpler and faster. If you must use boxed primitives, be careful! Autoboxing reduces the verbosity, but not the danger, of using boxed primitives. When your program compares two boxed primitives with the `==` operator, it does an identity comparison, which is almost certainly not what you want. When your program does mixed-type computations involving boxed and unboxed primitives, it does unboxing, and when your program does unboxing, it can throw a `NullPointerException`. Finally, when your program boxes primitive values, it can result in costly and unnecessary object creations.\r\n","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>I know this doesn't exactly answer your question on the storage cost of boxed primitives, but I sense from your question that you are questioning whether or not your use of them is warranted.</p>\n<p>Here is an excerpt from Effective Java (2nd Edition) by Joshua Bloch that should help you decide:</p>\n<blockquote>\n<p>So when should you use boxed primitives? They have several legitimate uses. The\nfirst is as elements, keys, and values in collections. You can’t put primitives in collections, so you’re forced to use boxed primitives. This is a special case of a more general one. You must use boxed primitives as type parameters in parameterized types (Chapter 5), because the language does not permit you to use primitives. For example, you cannot declare a variable to be of type <code>Thread Local&lt;int&gt;</code>, so you must use <code>ThreadLocal&lt;Integer&gt;</code> instead. Finally, you must use boxed primitives when making reflective method invocations (Item 53).`</p>\n<p>In summary, use primitives in preference to boxed primitives whenever you have the choice. Primitive types are simpler and faster. If you must use boxed primitives, be careful! Autoboxing reduces the verbosity, but not the danger, of using boxed primitives. When your program compares two boxed primitives with the <code>==</code> operator, it does an identity comparison, which is almost certainly not what you want. When your program does mixed-type computations involving boxed and unboxed primitives, it does unboxing, and when your program does unboxing, it can throw a <code>NullPointerException</code>. Finally, when your program boxes primitive values, it can result in costly and unnecessary object creations.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568392674,"creation_date":1568392674,"answer_id":57927409,"question_id":9037468,"body_markdown":"One very small addition for these answers is that there is some deduplication happening for boxed primitives. For example, `Integer::valueOf(int)` uses `java.lang.IntegerCache` that uses Integer instances with values in range `-128..127`. So, you have above mentioned sizes for boxed objects, but not each of them would be a separate object.","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>One very small addition for these answers is that there is some deduplication happening for boxed primitives. For example, <code>Integer::valueOf(int)</code> uses <code>java.lang.IntegerCache</code> that uses Integer instances with values in range <code>-128..127</code>. So, you have above mentioned sizes for boxed objects, but not each of them would be a separate object.</p>\n"}],"owner":{"account_id":216313,"reputation":12017,"user_id":471478,"accept_rate":86,"display_name":"scravy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4232,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":9037808,"answer_count":4,"score":17,"last_activity_date":1673275425,"creation_date":1327685368,"question_id":9037468,"body_markdown":"How large, in bytes, is a boxed primitive like `java.lang.Integer` or `java.lang.Character` in Java?\r\n\r\nAn `int` is 4 bytes, a typical pointer is also 4 byte (if not compressed by the JVM). Is the cost for an Integer (without caching) thus `4 bytes + 4 bytes = 8 bytes`? Are there any more hidden fields within the box-object or additional overhead incurred regarding objects (i.e. is there a general cost for objects that I&#39;m not aware of?).\r\n\r\nI&#39;m not interested in caching issues. I know that Integers within a certain range are cached by the JVM.\r\n\r\nOne could rephrase the question: What is the maximum factor to be multiplied on the amount of memory used for boxed values versus primitive values?\r\n\r\n**EDIT:** I do understand that multiple implementations of the JVM exist. What is the typical cost in a typical 32-bit HotSpot Implementation?","title":"What is the storage cost for a boxed primitive in Java?","body":"<p>How large, in bytes, is a boxed primitive like <code>java.lang.Integer</code> or <code>java.lang.Character</code> in Java?</p>\n\n<p>An <code>int</code> is 4 bytes, a typical pointer is also 4 byte (if not compressed by the JVM). Is the cost for an Integer (without caching) thus <code>4 bytes + 4 bytes = 8 bytes</code>? Are there any more hidden fields within the box-object or additional overhead incurred regarding objects (i.e. is there a general cost for objects that I'm not aware of?).</p>\n\n<p>I'm not interested in caching issues. I know that Integers within a certain range are cached by the JVM.</p>\n\n<p>One could rephrase the question: What is the maximum factor to be multiplied on the amount of memory used for boxed values versus primitive values?</p>\n\n<p><strong>EDIT:</strong> I do understand that multiple implementations of the JVM exist. What is the typical cost in a typical 32-bit HotSpot Implementation?</p>\n"},{"tags":["java","spring-boot","spring-security","spring-webflux","reactor"],"answers":[{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673262245,"post_id":75056229,"comment_id":132450974,"body_markdown":"I copy pasted your code and result is the same as in my question:\n`block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-1`\n\nI also tried to replace `Object result = mono.block();` with `Object result = objectMono .block();` but I still see the same error. How can I fix it ?","body":"I copy pasted your code and result is the same as in my question: <code>block()&#47;blockFirst()&#47;blockLast() are blocking, which is not supported in thread parallel-1</code>  I also tried to replace <code>Object result = mono.block();</code> with <code>Object result = objectMono .block();</code> but I still see the same error. How can I fix it ?"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673264320,"post_id":75056229,"comment_id":132451662,"body_markdown":"I&#39;ve been reading your other question about MinIO - can you use `MinioAsyncClient` to remain within an async context? `MinioAsyncClient` methods return Futures, so those would be easy to wrap with `Mono.fromFuture`.","body":"I&#39;ve been reading your other question about MinIO - can you use <code>MinioAsyncClient</code> to remain within an async context? <code>MinioAsyncClient</code> methods return Futures, so those would be easy to wrap with <code>Mono.fromFuture</code>."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673265038,"post_id":75056229,"comment_id":132451880,"body_markdown":"yes, I can switch to `MinioAsyncClient`. If it could fix my issue - please provide details because I don&#39;t understand how could it help for now.","body":"yes, I can switch to <code>MinioAsyncClient</code>. If it could fix my issue - please provide details because I don&#39;t understand how could it help for now."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673266636,"post_id":75056229,"comment_id":132452454,"body_markdown":"To be honest it probably doesn&#39;t, because the CredentialsProvider is still not reactive.\n`block()` most likely still fails because itself is executed on one of the http threads. Can you share the code that surrounds your above block?","body":"To be honest it probably doesn&#39;t, because the CredentialsProvider is still not reactive. <code>block()</code> most likely still fails because itself is executed on one of the http threads. Can you share the code that surrounds your above block?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673268171,"post_id":75056229,"comment_id":132453019,"body_markdown":"1. I end up with the same opinion about usage of `MinioAsyncClient`. \n2. Maybe there is a way to execute Mono on a different thread.\n3. Eventually I want to use this code inside `CredentialsProvider` implementation.  For local testing I just wrote it inside controller method.","body":"1. I end up with the same opinion about usage of <code>MinioAsyncClient</code>.  2. Maybe there is a way to execute Mono on a different thread. 3. Eventually I want to use this code inside <code>CredentialsProvider</code> implementation.  For local testing I just wrote it inside controller method."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673268568,"post_id":75056229,"comment_id":132453151,"body_markdown":"4. Shared the code that surrounds my code block (updated topic)","body":"4. Shared the code that surrounds my code block (updated topic)"},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673272715,"post_id":75056229,"comment_id":132454836,"body_markdown":"I have updated my answer. It might be possible to avoid the `.block()` call completely...","body":"I have updated my answer. It might be possible to avoid the <code>.block()</code> call completely..."},{"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"score":0,"creation_date":1673272781,"post_id":75056229,"comment_id":132454857,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250969/discussion-between-thomas-timbul-and-gstackoverflow).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250969/discussion-between-thomas-timbul-and-gstackoverflow\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673275331,"creation_date":1673261601,"answer_id":75056229,"question_id":75055071,"body_markdown":"`subscribeOn` only applies to the subscribe event, i.e. when you first add your subscription. Events are still published on the default Scheduler, in this case &#39;parallel&#39;.\r\n\r\nTo be able to make blocking calls you need to `publishOn` a non-blocking Scheduler, so for instance:\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    Mono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic())\r\n                                  .publishOn(Schedulers.boundedElastic()); // &lt;- this\r\n\r\n    Object result = mono.block();\r\n\r\nshould do the trick.\r\n\r\nEdit:\r\n\r\nIn your case you should not call `block` directly within the method annotated with `@GetMapping`.\r\n\r\nConsider doing this:\r\n    \r\n    public MinioAsyncClient getOrCreateClientForPrincipal(Object Principal) {\r\n        ...\r\n    }\r\n\r\n    @GetMapping(..)\r\n    public Mono&lt;ResponseEntity&lt;Boolean&gt;&gt; someEndpoint(...) {\r\n        Mono&lt;Boolean&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .publishOn(Schedulers.boundedElastic()) //&lt;-- this allows .block() somewhere downstream\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\r\n                .map(this::getOrCreateClientForPrincipal)\r\n                .flatMap(asyncClient -&gt;\r\n                    {\r\n                        BucketExistsArgs args = ...;\r\n                        try {\r\n                            CompletableFuture&lt;Boolean&gt; existsQuery = asyncClient.bucketExists(args);\r\n                            return Mono.fromFuture(existsQuery)\r\n                                 //allow Future to be cancelled if this Mono is cancelled\r\n                                 .doOnCancel(() -&gt; existsQuery.cancel(true))\r\n                                 //unwrap CompletionException from the Future to its cause\r\n                                 .onErrorMap(CompletionException.class, e -&gt; e.getCause())\r\n                            ;\r\n                            } catch(InsufficientDataException\r\n                                    | InternalException\r\n                                    | InvalidKeyException\r\n                                    | IOException\r\n                                    | NoSuchAlgorithmException\r\n                                    | XmlParserException e) {\r\n                                //We need to catch these only because they&#39;re declared by MinioAsyncClient.\r\n                                //they aren&#39;t actually thrown\r\n                                return Mono.error(e);\r\n                        }\r\n                    }\r\n                )\r\n                //error handling, adapt as necessary\r\n                .onErrorReturn(InsufficientDataException.class, ...)\r\n                .onErrorReturn(InvalidKeyException.class, ...)\r\n                .onErrorReturn(IOException.class, ...)\r\n                .onErrorReturn(NoSuchAlgorithmException.class, ...)\r\n                .onErrorReturn(XmlParserException.class, ...)\r\n            ;\r\n        \r\n        return mono.map(ResponseEntity::ok);\r\n        \r\n    }\r\n\r\nNotes:\r\n\r\nThe method is declared as returning `Mono`, since you are in a reactive context anyway. This makes it easier to return appropriately after processing, instead of using void and pretending to have a &#39;normal&#39; context.\r\n\r\nif `getOrCreateClientForPrincipal` takes &#39;longer&#39;, you could consider making it return `Mono&lt;MinioAsyncclient&gt;` and calling it with `.flatMap`.\r\nShould you follow the suggestion in the other question of caching the client for each principal in order to avoid creation on each call, you can do it in this method. You will need to figure a way of cleaning up that cache, but that&#39;s beyond the scope of this answer.\r\n\r\nError handling:\r\n`MinioAsyncClient` declares a bunch of Exceptions that it won&#39;t actually throw. These Exceptions can certainly be thrown within the `Future` and would be wrapped in a `CompletionException`, which the above code unwraps back to its source. It then provides for returning a default Boolean value for each exception, but here you can use the various `.onError...` methods to handle, propagate, etc.\r\n\r\nYou may even want to move them out one more level and handle on the outermost `mono` to map directly to an appropriate response code.\r\n\r\n\r\nNote how there is no call to `block()` - it shouldn&#39;t really be needed, so in fact this may very well work without the calls to `publishOn` or `subscribeOn`...","title":"How to make blocking call for Mono?(How to get token from ReactiveSecurityContextHolder in a syncronous way)","body":"<p><code>subscribeOn</code> only applies to the subscribe event, i.e. when you first add your subscription. Events are still published on the default Scheduler, in this case 'parallel'.</p>\n<p>To be able to make blocking calls you need to <code>publishOn</code> a non-blocking Scheduler, so for instance:</p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nMono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic())\n                              .publishOn(Schedulers.boundedElastic()); // &lt;- this\n\nObject result = mono.block();\n</code></pre>\n<p>should do the trick.</p>\n<p>Edit:</p>\n<p>In your case you should not call <code>block</code> directly within the method annotated with <code>@GetMapping</code>.</p>\n<p>Consider doing this:</p>\n<pre><code>public MinioAsyncClient getOrCreateClientForPrincipal(Object Principal) {\n    ...\n}\n\n@GetMapping(..)\npublic Mono&lt;ResponseEntity&lt;Boolean&gt;&gt; someEndpoint(...) {\n    Mono&lt;Boolean&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .publishOn(Schedulers.boundedElastic()) //&lt;-- this allows .block() somewhere downstream\n            .subscribeOn(Schedulers.boundedElastic())\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal())\n            .map(this::getOrCreateClientForPrincipal)\n            .flatMap(asyncClient -&gt;\n                {\n                    BucketExistsArgs args = ...;\n                    try {\n                        CompletableFuture&lt;Boolean&gt; existsQuery = asyncClient.bucketExists(args);\n                        return Mono.fromFuture(existsQuery)\n                             //allow Future to be cancelled if this Mono is cancelled\n                             .doOnCancel(() -&gt; existsQuery.cancel(true))\n                             //unwrap CompletionException from the Future to its cause\n                             .onErrorMap(CompletionException.class, e -&gt; e.getCause())\n                        ;\n                        } catch(InsufficientDataException\n                                | InternalException\n                                | InvalidKeyException\n                                | IOException\n                                | NoSuchAlgorithmException\n                                | XmlParserException e) {\n                            //We need to catch these only because they're declared by MinioAsyncClient.\n                            //they aren't actually thrown\n                            return Mono.error(e);\n                    }\n                }\n            )\n            //error handling, adapt as necessary\n            .onErrorReturn(InsufficientDataException.class, ...)\n            .onErrorReturn(InvalidKeyException.class, ...)\n            .onErrorReturn(IOException.class, ...)\n            .onErrorReturn(NoSuchAlgorithmException.class, ...)\n            .onErrorReturn(XmlParserException.class, ...)\n        ;\n    \n    return mono.map(ResponseEntity::ok);\n    \n}\n</code></pre>\n<p>Notes:</p>\n<p>The method is declared as returning <code>Mono</code>, since you are in a reactive context anyway. This makes it easier to return appropriately after processing, instead of using void and pretending to have a 'normal' context.</p>\n<p>if <code>getOrCreateClientForPrincipal</code> takes 'longer', you could consider making it return <code>Mono&lt;MinioAsyncclient&gt;</code> and calling it with <code>.flatMap</code>.\nShould you follow the suggestion in the other question of caching the client for each principal in order to avoid creation on each call, you can do it in this method. You will need to figure a way of cleaning up that cache, but that's beyond the scope of this answer.</p>\n<p>Error handling:\n<code>MinioAsyncClient</code> declares a bunch of Exceptions that it won't actually throw. These Exceptions can certainly be thrown within the <code>Future</code> and would be wrapped in a <code>CompletionException</code>, which the above code unwraps back to its source. It then provides for returning a default Boolean value for each exception, but here you can use the various <code>.onError...</code> methods to handle, propagate, etc.</p>\n<p>You may even want to move them out one more level and handle on the outermost <code>mono</code> to map directly to an appropriate response code.</p>\n<p>Note how there is no call to <code>block()</code> - it shouldn't really be needed, so in fact this may very well work without the calls to <code>publishOn</code> or <code>subscribeOn</code>...</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673275331,"creation_date":1673255202,"question_id":75055071,"body_markdown":"My Task is - get JWT token.(all details are here https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok)\r\n\r\nBut lets discard redundant details. In an nutshell:\r\n\r\nI have a source code:\r\n    \r\n    @GetMapping(..)\r\n    public void someEndpoint(...) {\r\n        Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n        mono.block(); //&lt;-- I need to get the result of Mono execution HERE at this thread in a blocking manner\r\n         ...\r\n    }\r\n\r\nAnd I get the error here:\r\n\r\n    block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\n\r\nBecause it is forbidden to use blocking calls in reactor and bla bla bla although in previous versions of reactor this code was working.\r\n\r\nI started to looking for a solution of my issue and created 2 topics:\r\n\r\n 1. https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\r\n 2. https://stackoverflow.com/questions/74921888/how-to-get-raw-token-from-reactivesecuritycontextholder\r\n\r\nI&#39;ve got an [advice][1] to make blocking call in a way described [here][2]:\r\n\r\nSo my attempts are:\r\n\r\n\r\n**Attempt 1:**\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    Mono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic());\r\n    Object result = objectMono.block();\r\n\r\n   \r\n\r\n**Attempt 2:**\r\n\r\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\r\n                .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\r\n    mono.subscribeOn(Schedulers.boundedElastic());\r\n    Object result = mono.block();\r\n\r\nIn both cases I receive the same error:\r\n\r\n    block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\r\n\r\nHow can I fix it ?\r\n\r\nUPDATE 1:\r\n-\r\nAlso I&#39;ve found the similar topic with the same question but without any answer https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\r\n\r\n\r\nUPDATE 2:\r\n-\r\n\r\nAll code snippets provided below lead to the same error (    `block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2`\r\n)\r\n\r\nA)\r\n\r\n    Mono.just(&quot;qwerty&quot;)\r\n    .subscribeOn(Schedulers.boundedElastic())\r\n    .publishOn(Schedulers.boundedElastic())\r\n    .block()\r\n\r\nB)\r\n\r\n    Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\r\n    Mono&lt;String&gt; blockedMono = customMono\r\n            .subscribeOn(Schedulers.boundedElastic())\r\n            .publishOn(Schedulers.boundedElastic());\r\n    System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\r\n\r\nC)   \r\n\r\n     Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\r\n     Mono&lt;String&gt; blockedMono =  Mono.just(0)\r\n                .subscribeOn(Schedulers.boundedElastic())\r\n                .publishOn(Schedulers.boundedElastic())\r\n                .then(customMono);\r\n    \r\n     System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\r\n\r\n  [1]: https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok#comment132326290_74875058\r\n  [2]: https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\r\n","title":"How to make blocking call for Mono?(How to get token from ReactiveSecurityContextHolder in a syncronous way)","body":"<p>My Task is - get JWT token.(all details are here <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a>)</p>\n<p>But lets discard redundant details. In an nutshell:</p>\n<p>I have a source code:</p>\n<pre><code>@GetMapping(..)\npublic void someEndpoint(...) {\n    Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n        .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\n    mono.block(); //&lt;-- I need to get the result of Mono execution HERE at this thread in a blocking manner\n     ...\n}\n</code></pre>\n<p>And I get the error here:</p>\n<pre><code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\n</code></pre>\n<p>Because it is forbidden to use blocking calls in reactor and bla bla bla although in previous versions of reactor this code was working.</p>\n<p>I started to looking for a solution of my issue and created 2 topics:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok\">How to get jwt token value in spring webflux? (to exchange it with Minio STS token)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/74921888/how-to-get-raw-token-from-reactivesecuritycontextholder\">How to get raw token from ReactiveSecurityContextHolder?</a></li>\n</ol>\n<p>I've got an <a href=\"https://stackoverflow.com/questions/74875058/how-to-get-jwt-token-value-in-spring-webflux-to-exchange-it-with-minio-sts-tok#comment132326290_74875058\">advice</a> to make blocking call in a way described <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">here</a>:</p>\n<p>So my attempts are:</p>\n<p><strong>Attempt 1:</strong></p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nMono&lt;Object&gt; objectMono = mono.subscribeOn(Schedulers.boundedElastic());\nObject result = objectMono.block();\n</code></pre>\n<p><strong>Attempt 2:</strong></p>\n<pre><code>Mono&lt;Object&gt; mono = ReactiveSecurityContextHolder.getContext()\n            .map(securityContext -&gt; securityContext.getAuthentication().getPrincipal());\nmono.subscribeOn(Schedulers.boundedElastic());\nObject result = mono.block();\n</code></pre>\n<p>In both cases I receive the same error:</p>\n<pre><code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2\n</code></pre>\n<p>How can I fix it ?</p>\n<h2>UPDATE 1:</h2>\n<p>Also I've found the similar topic with the same question but without any answer <a href=\"https://stackoverflow.com/questions/70701792/how-do-i-extract-information-from-jwt-which-is-stored-in-reactivesecuritycontext\">How do i extract information from Jwt which is stored in ReactiveSecurityContextHolder. It returns a Mono&lt;String&gt; but I need String</a></p>\n<h2>UPDATE 2:</h2>\n<p>All code snippets provided below lead to the same error (    <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread parallel-2</code>\n)</p>\n<p>A)</p>\n<pre><code>Mono.just(&quot;qwerty&quot;)\n.subscribeOn(Schedulers.boundedElastic())\n.publishOn(Schedulers.boundedElastic())\n.block()\n</code></pre>\n<p>B)</p>\n<pre><code>Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\nMono&lt;String&gt; blockedMono = customMono\n        .subscribeOn(Schedulers.boundedElastic())\n        .publishOn(Schedulers.boundedElastic());\nSystem.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\n</code></pre>\n<p>C)</p>\n<pre><code> Mono&lt;String&gt; customMono = Mono.just(&quot;qwerty&quot;);\n Mono&lt;String&gt; blockedMono =  Mono.just(0)\n            .subscribeOn(Schedulers.boundedElastic())\n            .publishOn(Schedulers.boundedElastic())\n            .then(customMono);\n\n System.out.println(&quot;blockedMono.block(): &quot; + blockedMono.block());\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673246000,"post_id":75052373,"comment_id":132446552,"body_markdown":"There is no `id` value sense `walletId` will resolve to nothing leading to a wrong URL. So check the URL that is being generated.","body":"There is no <code>id</code> value sense <code>walletId</code> will resolve to nothing leading to a wrong URL. So check the URL that is being generated."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673273378,"post_id":75052373,"comment_id":132455073,"body_markdown":"I put `transaction.setId(walletId)` after `if(result.hasErrors())` but its still same URL after submit button","body":"I put <code>transaction.setId(walletId)</code> after <code>if(result.hasErrors())</code> but its still same URL after submit button"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274592,"post_id":75052373,"comment_id":132455564,"body_markdown":"The 404 clearly indicates you are posting to the wrong URL, that **or** your redirect isn&#39;t working. Check your logs and errormessages, for now there is too little information.","body":"The 404 clearly indicates you are posting to the wrong URL, that <b>or</b> your redirect isn&#39;t working. Check your logs and errormessages, for now there is too little information."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274734,"post_id":75052373,"comment_id":132455639,"body_markdown":"When I get form url is `http://localhost:8080/api/transaction/expenseTransaction/5` with 5 as ID at the end and that is fine, when I insert wrong data and click submit I get error on screen and URL is this `http://localhost:8080/api/transaction/saveExpense/5` now if I again insert wrong error it still should be `http://localhost:8080/api/transaction/saveExpense/5` but it is `http://localhost:8080/api/transaction/saveExpense/` without `5` as ID at the end","body":"When I get form url is <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;expenseTransaction&#47;5</code> with 5 as ID at the end and that is fine, when I insert wrong data and click submit I get error on screen and URL is this <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;5</code> now if I again insert wrong error it still should be <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;5</code> but it is <code>http:&#47;&#47;localhost:8080&#47;api&#47;transaction&#47;saveExpense&#47;</code> without <code>5</code> as ID at the end"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274855,"post_id":75052373,"comment_id":132455699,"body_markdown":"Which is what I hinted at in my comment. There is no `id` property in your model, setting it on the transaction won&#39;t help. You need to add a property `id` with the proper value to the `model`. The problem is that initially your property is `id` but in your submit your path variable is suddenly `walletId` now when re-rendering the page no more `id` but a `walletId` is in the model. So the URL generation for `th:action` fails. Put the `walletId` in the model as `id`.","body":"Which is what I hinted at in my comment. There is no <code>id</code> property in your model, setting it on the transaction won&#39;t help. You need to add a property <code>id</code> with the proper value to the <code>model</code>. The problem is that initially your property is <code>id</code> but in your submit your path variable is suddenly <code>walletId</code> now when re-rendering the page no more <code>id</code> but a <code>walletId</code> is in the model. So the URL generation for <code>th:action</code> fails. Put the <code>walletId</code> in the model as <code>id</code>."},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274891,"post_id":75052373,"comment_id":132455719,"body_markdown":"In Form you can see I have `th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;` on tutorial I&#39;m watching it stays like this for example `.../{walletId} (walletId=${wallet.id})}&quot;` but I dont know if that can be a problem since at first and also my form works when all fields are fine","body":"In Form you can see I have <code>th:action=&quot;@{&#47;api&#47;transaction&#47;saveExpense&#47;{walletId} (walletId=${id})}&quot;</code> on tutorial I&#39;m watching it stays like this for example <code>...&#47;{walletId} (walletId=${wallet.id})}&quot;</code> but I dont know if that can be a problem since at first and also my form works when all fields are fine"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673274967,"post_id":75052373,"comment_id":132455748,"body_markdown":"Can you give me some example how to insert that than? I&#39;m watching some tutorial, this is repo https://github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/master/src/main/java/net/javaguides/springboot/tutorial/controller/StudentController.java and I did same like he did","body":"Can you give me some example how to insert that than? I&#39;m watching some tutorial, this is repo <a href=\"https://github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/master/src/main/java/net/javaguides/springboot/tutorial/controller/StudentController.java\" rel=\"nofollow noreferrer\">github.com/RameshMF/springboot-thymeleaf-crud-tutorial/blob/&zwnj;&#8203;&hellip;</a> and I did same like he did"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274990,"post_id":75052373,"comment_id":132455759,"body_markdown":"So you are half and half following a tutorial and wondering why it doesn&#39;t work. What you have is different then the tutorial and thus is break (see my previous comment). So no you didn&#39;t do as they did. `${id}` isn&#39;t `${wallet.id}`. Also in their tutorials the name of the `@PathVariable` doesn&#39;t change (as it does in yours). As I stated -&gt; * The problem is that initially your property is `id` but in your submit your path variable is suddenly `walletId` now when re-rendering the page no more `id` but a `walletId` is in the model. So the URL generation for th:action fails.*","body":"So you are half and half following a tutorial and wondering why it doesn&#39;t work. What you have is different then the tutorial and thus is break (see my previous comment). So no you didn&#39;t do as they did. <code>${id}</code> isn&#39;t <code>${wallet.id}</code>. Also in their tutorials the name of the <code>@PathVariable</code> doesn&#39;t change (as it does in yours). As I stated -&gt; * The problem is that initially your property is <code>id</code> but in your submit your path variable is suddenly <code>walletId</code> now when re-rendering the page no more <code>id</code> but a <code>walletId</code> is in the model. So the URL generation for th:action fails.*"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673275064,"post_id":75052373,"comment_id":132455788,"body_markdown":"Okay, maybe you are right, but my controllers are similar to him, he also have path variable at the end of URL and other stuff like me, so I tried to combine that from him and make to work on my own","body":"Okay, maybe you are right, but my controllers are similar to him, he also have path variable at the end of URL and other stuff like me, so I tried to combine that from him and make to work on my own"},{"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"score":0,"creation_date":1673275085,"post_id":75052373,"comment_id":132455799,"body_markdown":"I know it isnt, i just gave example","body":"I know it isnt, i just gave example"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673275141,"post_id":75052373,"comment_id":132455821,"body_markdown":"Similar isn&#39;t the same, as stated twice now, your path variables names change.","body":"Similar isn&#39;t the same, as stated twice now, your path variables names change."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673275307,"creation_date":1673275307,"answer_id":75058888,"question_id":75052373,"body_markdown":"The problem is your code. \r\n\r\nYour get method is defined with `@GetMapping(&quot;/expenseTransaction/{id}&quot;)` and your POST method is defined with `@PostMapping(&quot;/saveExpense/{walletId}&quot;)`.\r\n\r\nThe GET method will expose a variable named `id` in your model and fill that with the value of the path variable. \r\n\r\nYour POST method will expose a variable named `walletId` in your model and fill that with the value of the path variable. \r\n\r\nIn your `th:action` you expect the `id` to be filled. Which is true for the GET not for the POST because the names are different. \r\n\r\nEither fix your path variable names, or explicitly add `id` to the model in the POST method with the value from `walletId`. ","title":"User cant have a second chance for input if first time enter wrong data","body":"<p>The problem is your code.</p>\n<p>Your get method is defined with <code>@GetMapping(&quot;/expenseTransaction/{id}&quot;)</code> and your POST method is defined with <code>@PostMapping(&quot;/saveExpense/{walletId}&quot;)</code>.</p>\n<p>The GET method will expose a variable named <code>id</code> in your model and fill that with the value of the path variable.</p>\n<p>Your POST method will expose a variable named <code>walletId</code> in your model and fill that with the value of the path variable.</p>\n<p>In your <code>th:action</code> you expect the <code>id</code> to be filled. Which is true for the GET not for the POST because the names are different.</p>\n<p>Either fix your path variable names, or explicitly add <code>id</code> to the model in the POST method with the value from <code>walletId</code>.</p>\n"}],"owner":{"account_id":14718929,"reputation":81,"user_id":14125692,"display_name":"asu"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058888,"answer_count":1,"score":0,"last_activity_date":1673275307,"creation_date":1673226099,"question_id":75052373,"body_markdown":"So actually I have an controller that show form to user. User get that form and for example if he enter a wrong data, for example amount field is just positive numbers but user insert -1 user will get error message on screen, but when user change that value and enter for example 3 for amount and submit form, user get 404 `Whitelabel Error Page`. \r\n\r\nSo first URL is:\r\n\r\n`http://localhost:8080/api/transaction/expenseTransaction/4`, now, user enter -1 for amount and click submit, URL is `http://localhost:8080/api/transaction/saveExpense/4`, so is there any way to stay on same page and allow user to save form after he insert properly data?\r\n\r\n\r\nI have this controller to show form:\r\n\r\n    @GetMapping(&quot;/expenseTransaction/{id}&quot;)\r\n    public String expenseTransaction(@PathVariable(value = &quot;id&quot;) long id, Transaction transaction, Model model) {\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n        model.addAttribute(&quot;userId&quot;, userId);\r\n\r\n\r\n        model.addAttribute(&quot;transaction&quot;, transaction);\r\n        model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\r\n\r\n        return &quot;expense_transaction&quot;;\r\n\r\n    }\r\n\r\nThis is the form:\r\n\r\n    &lt;div class=&quot;container my-5&quot;&gt;\r\n    &lt;h3&gt; Expense transaction&lt;/h3&gt;\r\n    &lt;div class=&quot;card&quot;&gt;\r\n        &lt;div class=&quot;card-body&quot;&gt;\r\n            &lt;div class=&quot;col-md-8&quot;&gt;\r\n                &lt;form action=&quot;#&quot;\r\n                      th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;\r\n                      th:object=&quot;${transaction}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;div class=&quot;row&quot;&gt;\r\n                        &lt;div class=&quot;form-group col-md-6&quot;&gt;\r\n                            &lt;label for=&quot;amount&quot; class=&quot;col-form-label&quot;&gt;Amount&lt;/label&gt; &lt;input\r\n                                type=&quot;text&quot; th:field=&quot;*{amount}&quot; class=&quot;form-control&quot; id=&quot;amount&quot;\r\n                                placeholder=&quot;amount&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;amount&#39;)}&quot; th:errors=&quot;*{amount}&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;note&quot; class=&quot;col-form-label&quot;&gt;Note&lt;/label&gt; &lt;input\r\n                                type=&quot;text&quot; th:field=&quot;*{note}&quot; class=&quot;form-control&quot; id=&quot;note&quot;\r\n                                placeholder=&quot;note&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;note&#39;)}&quot; th:errors=&quot;*{note}&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Date&lt;/label&gt; &lt;input\r\n                                type=&quot;date&quot; th:field=&quot;*{date}&quot; class=&quot;form-control&quot;\r\n                                id=&quot;date&quot; placeholder=&quot;date&quot;&gt; &lt;span\r\n                                th:if=&quot;${#fields.hasErrors(&#39;date&#39;)}&quot; th:errors=&quot;date&quot;\r\n                                class=&quot;text-danger&quot;&gt;&lt;/span&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Category&lt;/label&gt;\r\n                            &lt;select th:field=&quot;${transaction.expenseCategories}&quot;&gt;\r\n                                &lt;option value=&quot;0&quot;&gt;Select expense category&lt;/option&gt;\r\n                                &lt;option\r\n                                        th:each=&quot;expenseCategories : ${expenseCategories}&quot;\r\n                                        th:value=&quot;${expenseCategories}&quot;\r\n                                        th:text=&quot;${expenseCategories.displayName}&quot;\r\n                                &gt;&lt;/option&gt;\r\n                            &lt;/select&gt;\r\n                        &lt;/div&gt;\r\n\r\n                        &lt;div class=&quot;form-group col-md-8&quot;&gt;\r\n                            &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;\r\n                                   value=&quot;Update Student&quot;&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\nThis is controller to save that form:\r\n\r\n    @PostMapping(&quot;/saveExpense/{walletId}&quot;)\r\n    public String saveExpense(@PathVariable(value = &quot;walletId&quot;) long walletId,\r\n                              @Valid Transaction transaction, BindingResult result, Model model) {\r\n\r\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\r\n        long userId = user.getId();\r\n\r\n        Wallet wallet = walletService.getWalletById(walletId);\r\n\r\n        boolean thereAreErrors = result.hasErrors();\r\n        if (thereAreErrors) {\r\n            transaction.setId(walletId);\r\n            model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\r\n            return &quot;expense_transaction&quot;;\r\n        }\r\n\r\n        transaction.setWallet(wallet);\r\n        transactionService.saveExpense(transaction, walletId, userId);\r\n        return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\r\n\r\n    }\r\n\r\n\r\n","title":"User cant have a second chance for input if first time enter wrong data","body":"<p>So actually I have an controller that show form to user. User get that form and for example if he enter a wrong data, for example amount field is just positive numbers but user insert -1 user will get error message on screen, but when user change that value and enter for example 3 for amount and submit form, user get 404 <code>Whitelabel Error Page</code>.</p>\n<p>So first URL is:</p>\n<p><code>http://localhost:8080/api/transaction/expenseTransaction/4</code>, now, user enter -1 for amount and click submit, URL is <code>http://localhost:8080/api/transaction/saveExpense/4</code>, so is there any way to stay on same page and allow user to save form after he insert properly data?</p>\n<p>I have this controller to show form:</p>\n<pre><code>@GetMapping(&quot;/expenseTransaction/{id}&quot;)\npublic String expenseTransaction(@PathVariable(value = &quot;id&quot;) long id, Transaction transaction, Model model) {\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n    model.addAttribute(&quot;userId&quot;, userId);\n\n\n    model.addAttribute(&quot;transaction&quot;, transaction);\n    model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\n\n    return &quot;expense_transaction&quot;;\n\n}\n</code></pre>\n<p>This is the form:</p>\n<pre><code>&lt;div class=&quot;container my-5&quot;&gt;\n&lt;h3&gt; Expense transaction&lt;/h3&gt;\n&lt;div class=&quot;card&quot;&gt;\n    &lt;div class=&quot;card-body&quot;&gt;\n        &lt;div class=&quot;col-md-8&quot;&gt;\n            &lt;form action=&quot;#&quot;\n                  th:action=&quot;@{/api/transaction/saveExpense/{walletId} (walletId=${id})}&quot;\n                  th:object=&quot;${transaction}&quot; method=&quot;post&quot;&gt;\n                &lt;div class=&quot;row&quot;&gt;\n                    &lt;div class=&quot;form-group col-md-6&quot;&gt;\n                        &lt;label for=&quot;amount&quot; class=&quot;col-form-label&quot;&gt;Amount&lt;/label&gt; &lt;input\n                            type=&quot;text&quot; th:field=&quot;*{amount}&quot; class=&quot;form-control&quot; id=&quot;amount&quot;\n                            placeholder=&quot;amount&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('amount')}&quot; th:errors=&quot;*{amount}&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;note&quot; class=&quot;col-form-label&quot;&gt;Note&lt;/label&gt; &lt;input\n                            type=&quot;text&quot; th:field=&quot;*{note}&quot; class=&quot;form-control&quot; id=&quot;note&quot;\n                            placeholder=&quot;note&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('note')}&quot; th:errors=&quot;*{note}&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Date&lt;/label&gt; &lt;input\n                            type=&quot;date&quot; th:field=&quot;*{date}&quot; class=&quot;form-control&quot;\n                            id=&quot;date&quot; placeholder=&quot;date&quot;&gt; &lt;span\n                            th:if=&quot;${#fields.hasErrors('date')}&quot; th:errors=&quot;date&quot;\n                            class=&quot;text-danger&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;label for=&quot;date&quot; class=&quot;col-form-label&quot;&gt;Category&lt;/label&gt;\n                        &lt;select th:field=&quot;${transaction.expenseCategories}&quot;&gt;\n                            &lt;option value=&quot;0&quot;&gt;Select expense category&lt;/option&gt;\n                            &lt;option\n                                    th:each=&quot;expenseCategories : ${expenseCategories}&quot;\n                                    th:value=&quot;${expenseCategories}&quot;\n                                    th:text=&quot;${expenseCategories.displayName}&quot;\n                            &gt;&lt;/option&gt;\n                        &lt;/select&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=&quot;form-group col-md-8&quot;&gt;\n                        &lt;input type=&quot;submit&quot; class=&quot;btn btn-primary&quot;\n                               value=&quot;Update Student&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This is controller to save that form:</p>\n<pre><code>@PostMapping(&quot;/saveExpense/{walletId}&quot;)\npublic String saveExpense(@PathVariable(value = &quot;walletId&quot;) long walletId,\n                          @Valid Transaction transaction, BindingResult result, Model model) {\n\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    UserDetailsImpl user = (UserDetailsImpl) authentication.getPrincipal();\n    long userId = user.getId();\n\n    Wallet wallet = walletService.getWalletById(walletId);\n\n    boolean thereAreErrors = result.hasErrors();\n    if (thereAreErrors) {\n        transaction.setId(walletId);\n        model.addAttribute(&quot;expenseCategories&quot;, ExpenseCategories.values());\n        return &quot;expense_transaction&quot;;\n    }\n\n    transaction.setWallet(wallet);\n    transactionService.saveExpense(transaction, walletId, userId);\n    return &quot;redirect:/api/wallet/userWallet/balance/&quot; + userId;\n\n}\n</code></pre>\n"},{"tags":["java","criteria-api","jpa-2.1"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673276082,"post_id":75058867,"comment_id":132456195,"body_markdown":"What if the tutor examines a schedule he didn&#39;t create? That would not show in your current setup. You should rather query the `Schedule` table where the tutor is an examiner","body":"What if the tutor examines a schedule he didn&#39;t create? That would not show in your current setup. You should rather query the <code>Schedule</code> table where the tutor is an examiner"},{"owner":{"account_id":6725074,"reputation":145,"user_id":7646476,"accept_rate":100,"display_name":"basamoahjnr"},"score":0,"creation_date":1673276994,"post_id":75058867,"comment_id":132456547,"body_markdown":"I have been contemplating that for a while, in my use case the tutor who creates a schedule might not necessarily be an examiner even though the said tutor created the schedule. From your comment, i should look to query the schedule table rather than traversing the relationships from `Tutor`.","body":"I have been contemplating that for a while, in my use case the tutor who creates a schedule might not necessarily be an examiner even though the said tutor created the schedule. From your comment, i should look to query the schedule table rather than traversing the relationships from <code>Tutor</code>."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1673278144,"post_id":75058867,"comment_id":132457030,"body_markdown":"There are 2 possible approaches, though one will possibly be missing `Schedules`. 1st: query tutor with all the schedules he created and remove the schedules for which he is not an examiner (you might be missing the ones he does examine but didn&#39;t create). 2nd: query the mapping table to get all schedules where the tutor is an examiner. This would get you all schedules which the tutor examines. However, this is harder to do with criteria api. With criteria you will start at `Schedule` and need to find the ones where the tutor is a part of examiners. A native query would probably be easier tho","body":"There are 2 possible approaches, though one will possibly be missing <code>Schedules</code>. 1st: query tutor with all the schedules he created and remove the schedules for which he is not an examiner (you might be missing the ones he does examine but didn&#39;t create). 2nd: query the mapping table to get all schedules where the tutor is an examiner. This would get you all schedules which the tutor examines. However, this is harder to do with criteria api. With criteria you will start at <code>Schedule</code> and need to find the ones where the tutor is a part of examiners. A native query would probably be easier tho"}],"owner":{"account_id":6725074,"reputation":145,"user_id":7646476,"accept_rate":100,"display_name":"basamoahjnr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673275195,"creation_date":1673275195,"question_id":75058867,"body_markdown":"I have an entity `Tutor` with two relationships in class `Schedule`. Code below defines the relationship between the two entities. \r\n\r\n    public class Tutor{\r\n       //list of schedules created by tutor\r\n       @OneToMany\r\n       List&lt;Schedule&gt; schedules;\r\n     }\r\n\r\nthen\r\n\r\n    public class Schedule{\r\n\r\n        //tutor who created this schedule\r\n        @ManyToOne\r\n        Tutor tutor;\r\n\r\n        //tutors who would be examiners of this schedule\r\n        @ManyToMany\r\n        @JoinTable\r\n        List&lt;Tutor&gt; examiners;\r\n       }\r\n\r\nhow can i query `Tutor` and fetch all `Schedule(s)` where `Tutor` is an `examiner` using criteria api","title":"Using JPA Criteria API to fetch a list","body":"<p>I have an entity <code>Tutor</code> with two relationships in class <code>Schedule</code>. Code below defines the relationship between the two entities.</p>\n<pre><code>public class Tutor{\n   //list of schedules created by tutor\n   @OneToMany\n   List&lt;Schedule&gt; schedules;\n }\n</code></pre>\n<p>then</p>\n<pre><code>public class Schedule{\n\n    //tutor who created this schedule\n    @ManyToOne\n    Tutor tutor;\n\n    //tutors who would be examiners of this schedule\n    @ManyToMany\n    @JoinTable\n    List&lt;Tutor&gt; examiners;\n   }\n</code></pre>\n<p>how can i query <code>Tutor</code> and fetch all <code>Schedule(s)</code> where <code>Tutor</code> is an <code>examiner</code> using criteria api</p>\n"},{"tags":["java","spring","spring-mvc","spring-aop"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1513883044,"post_id":47930978,"comment_id":82831180,"body_markdown":"Likely through a filter - [this](https://stackoverflow.com/questions/27504696/how-to-change-the-posted-values-with-a-spring-mvc-interceptor) might help.","body":"Likely through a filter - <a href=\"https://stackoverflow.com/questions/27504696/how-to-change-the-posted-values-with-a-spring-mvc-interceptor\">this</a> might help."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1513884021,"post_id":47930978,"comment_id":82831695,"body_markdown":"What&#39;s wrong with a good old method call? `id = leftPad(id)`?","body":"What&#39;s wrong with a good old method call? <code>id = leftPad(id)</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"score":0,"creation_date":1513888448,"post_id":47932149,"comment_id":82833730,"body_markdown":"Hey, thank you for your time! Although your answer only works for a fixed length and pads all the string parameters within the controller actions. Also, copying this `@InitBinder` to every controller is out of mind.","body":"Hey, thank you for your time! Although your answer only works for a fixed length and pads all the string parameters within the controller actions. Also, copying this <code>@InitBinder</code> to every controller is out of mind."}],"tags":[],"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513887350,"creation_date":1513887350,"answer_id":47932149,"question_id":47930978,"body_markdown":"Spring `@InitBinder` annotation and `WebDataBinder` class will help you to intercept parameter and process it&#39;s value before controller method call.\r\n\r\nDocumentation:\r\n\r\n - [InitBinder][1]\r\n   \r\n - [WebDataBinder][2]\r\n\r\nFull code pattern:\r\n\r\n    @RestController\r\n    public class FooController {\r\n    \r\n        @InitBinder\r\n        private void initBinder(WebDataBinder binder) {\r\n            binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n                @Override\r\n                public void setAsText(String text) throws IllegalArgumentException {\r\n                    super.setValue(&quot;000&quot; + text);\r\n                }\r\n            } );\r\n        }\r\n    \r\n        @GetMapping(value = &quot;/foo/{id}&quot;)\r\n        public Foo sayHello(\r\n                @PathVariable(value = &quot;id&quot;) String id\r\n        ) {\r\n            return new Foo(id);\r\n        }\r\n    \r\n        @XmlRootElement\r\n        @XmlAccessorType(XmlAccessType.FIELD)\r\n        public static class Foo {\r\n            @XmlElement(name = &quot;id&quot;)\r\n            private String id;\r\n    \r\n            public Foo(String id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public Foo() {\r\n            }\r\n    \r\n            public String getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(String id) {\r\n                this.id = id;\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the usage:\r\n\r\n    curl http://localhost:8080/foo/10 | xmllint --format -\r\n\r\nResponse:\r\n\r\n    &lt;foo&gt;\r\n    &lt;id&gt;00010&lt;/id&gt;\r\n    &lt;/foo&gt;\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/InitBinder.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/WebDataBinder.html","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>Spring <code>@InitBinder</code> annotation and <code>WebDataBinder</code> class will help you to intercept parameter and process it's value before controller method call.</p>\n\n<p>Documentation:</p>\n\n<ul>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/InitBinder.html\" rel=\"nofollow noreferrer\">InitBinder</a></p></li>\n<li><p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/WebDataBinder.html\" rel=\"nofollow noreferrer\">WebDataBinder</a></p></li>\n</ul>\n\n<p>Full code pattern:</p>\n\n<pre><code>@RestController\npublic class FooController {\n\n    @InitBinder\n    private void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n            @Override\n            public void setAsText(String text) throws IllegalArgumentException {\n                super.setValue(\"000\" + text);\n            }\n        } );\n    }\n\n    @GetMapping(value = \"/foo/{id}\")\n    public Foo sayHello(\n            @PathVariable(value = \"id\") String id\n    ) {\n        return new Foo(id);\n    }\n\n    @XmlRootElement\n    @XmlAccessorType(XmlAccessType.FIELD)\n    public static class Foo {\n        @XmlElement(name = \"id\")\n        private String id;\n\n        public Foo(String id) {\n            this.id = id;\n        }\n\n        public Foo() {\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public void setId(String id) {\n            this.id = id;\n        }\n    }\n}\n</code></pre>\n\n<p>And the usage:</p>\n\n<pre><code>curl http://localhost:8080/foo/10 | xmllint --format -\n</code></pre>\n\n<p>Response:</p>\n\n<pre><code>&lt;foo&gt;\n&lt;id&gt;00010&lt;/id&gt;\n&lt;/foo&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1513888358,"creation_date":1513888358,"answer_id":47932331,"question_id":47930978,"body_markdown":"Ok, here is how I&#39;ve done it.\r\n\r\nSince we can&#39;t inherit annotations and thus `@PathVariable`&#39;s target are only parameters, we have to create a new annotation, as follows:\r\n\r\n    @Target(ElementType.PARAMETER)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PathVariablePad {\r\n    \r\n    \tint zeros() default 0;\r\n    \t\r\n    \t@AliasFor(&quot;name&quot;)\r\n    \tString value() default &quot;&quot;;\r\n    \r\n    \t@AliasFor(&quot;value&quot;)\r\n    \tString name() default &quot;&quot;;\r\n    \r\n    \tboolean required() default true;\r\n    \t\r\n    }\r\n\r\nNow we need to create a `HandlerMethodArgumentResolver`. In this case, since all I want is to left-pad a `@PathVariable` with zeros, we&#39;re going to inherit `PathVariableMethodArgumentResolver`, like this:\r\n\r\n    public class PathVariablePadderMethodArgumentResolver extends PathVariableMethodArgumentResolver {\r\n    \r\n    \tprivate String leftPadWithZeros(Object target, int zeros) {\r\n    \t\treturn String.format(&quot;%1$&quot; + zeros + &quot;s&quot;, target.toString()).replace(&#39; &#39;, &#39;0&#39;); // Eeeewwwwwwwwwwww!\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic boolean supportsParameter(MethodParameter parameter) {\r\n    \t\treturn parameter.hasParameterAnnotation(PathVariablePad.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\r\n    \t\tPathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\r\n    \t\t\r\n    \t\treturn new NamedValueInfo(pvp.name(), pvp.required(), leftPadWithZeros(&quot;&quot;, pvp.zeros()));\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\r\n    \t\tPathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\r\n    \t\t\r\n    \t\treturn leftPadWithZeros(super.resolveName(name, parameter, request), pvp.zeros());\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, let&#39;s register our method argument resolver (xml):\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n        &lt;mvc:argument-resolvers&gt;\r\n            &lt;bean class=&quot;my.package.PathVariablePadderMethodArgumentResolver&quot; /&gt;\r\n        &lt;/mvc:argument-resolvers&gt;\r\n    &lt;/mvc:annotation-driven&gt;\r\n\r\nThe usage is pretty simple and heres how to do this:\r\n\r\n    @GetMapping(&quot;/ten/{id}&quot;)\r\n    public void ten(@PathVariablePad(zeros = 10) String id) {\r\n        // id would be &quot;0000000001&quot; on &quot;/ten/1&quot; calls\r\n    }\r\n    \r\n    @GetMapping(&quot;/five/{id}&quot;)\r\n    public void five(@PathVariablePad(zeros = 5) String id) {\r\n        // id would be &quot;00001&quot; on &quot;/five/1&quot; calls\r\n    }","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>Ok, here is how I've done it.</p>\n\n<p>Since we can't inherit annotations and thus <code>@PathVariable</code>'s target are only parameters, we have to create a new annotation, as follows:</p>\n\n<pre><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PathVariablePad {\n\n    int zeros() default 0;\n\n    @AliasFor(\"name\")\n    String value() default \"\";\n\n    @AliasFor(\"value\")\n    String name() default \"\";\n\n    boolean required() default true;\n\n}\n</code></pre>\n\n<p>Now we need to create a <code>HandlerMethodArgumentResolver</code>. In this case, since all I want is to left-pad a <code>@PathVariable</code> with zeros, we're going to inherit <code>PathVariableMethodArgumentResolver</code>, like this:</p>\n\n<pre><code>public class PathVariablePadderMethodArgumentResolver extends PathVariableMethodArgumentResolver {\n\n    private String leftPadWithZeros(Object target, int zeros) {\n        return String.format(\"%1$\" + zeros + \"s\", target.toString()).replace(' ', '0'); // Eeeewwwwwwwwwwww!\n    }\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.hasParameterAnnotation(PathVariablePad.class);\n    }\n\n    @Override\n    protected NamedValueInfo createNamedValueInfo(MethodParameter parameter) {\n        PathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\n\n        return new NamedValueInfo(pvp.name(), pvp.required(), leftPadWithZeros(\"\", pvp.zeros()));\n    }\n\n    @Override\n    protected Object resolveName(String name, MethodParameter parameter, NativeWebRequest request) throws Exception {\n        PathVariablePad pvp = parameter.getParameterAnnotation(PathVariablePad.class);\n\n        return leftPadWithZeros(super.resolveName(name, parameter, request), pvp.zeros());\n    }\n\n}\n</code></pre>\n\n<p>Finally, let's register our method argument resolver (xml):</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:argument-resolvers&gt;\n        &lt;bean class=\"my.package.PathVariablePadderMethodArgumentResolver\" /&gt;\n    &lt;/mvc:argument-resolvers&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n\n<p>The usage is pretty simple and heres how to do this:</p>\n\n<pre><code>@GetMapping(\"/ten/{id}\")\npublic void ten(@PathVariablePad(zeros = 10) String id) {\n    // id would be \"0000000001\" on \"/ten/1\" calls\n}\n\n@GetMapping(\"/five/{id}\")\npublic void five(@PathVariablePad(zeros = 5) String id) {\n    // id would be \"00001\" on \"/five/1\" calls\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2389091,"reputation":19,"user_id":2089337,"display_name":"Igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673274927,"creation_date":1673274927,"answer_id":75058805,"question_id":47930978,"body_markdown":"This is quite similar, but for Decoding the @PathVariable value, as brought here by @yanefedor, but applied to all Controllers in the application:\r\n\r\n   \r\n\r\n     @org.springframework.web.bind.annotation.ControllerAdvice\r\n    public class ControllerAdvice {\r\n    \r\n        /**\r\n         * Just to decode the data parsed into the Controller&#39;s methods parameters annotated with @PathVariable.\r\n         *\r\n         * @param binder\r\n         */\r\n        @InitBinder\r\n        private void initBinder(WebDataBinder binder) {\r\n            binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\r\n                @Override\r\n                public void setAsText(String text) throws IllegalArgumentException {\r\n                    if (text == null) {\r\n                        super.setValue(null);\r\n                    } else {\r\n                        super.setValue(UriUtils.decode(text, Charset.defaultCharset()));\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>This is quite similar, but for Decoding the @PathVariable value, as brought here by @yanefedor, but applied to all Controllers in the application:</p>\n<pre><code> @org.springframework.web.bind.annotation.ControllerAdvice\npublic class ControllerAdvice {\n\n    /**\n     * Just to decode the data parsed into the Controller's methods parameters annotated with @PathVariable.\n     *\n     * @param binder\n     */\n    @InitBinder\n    private void initBinder(WebDataBinder binder) {\n        binder.registerCustomEditor(String.class, new PropertyEditorSupport() {\n            @Override\n            public void setAsText(String text) throws IllegalArgumentException {\n                if (text == null) {\n                    super.setValue(null);\n                } else {\n                    super.setValue(UriUtils.decode(text, Charset.defaultCharset()));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7122775,"reputation":1029,"user_id":5446775,"accept_rate":48,"display_name":"Yves Calaci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2510,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47932331,"answer_count":3,"score":2,"last_activity_date":1673274927,"creation_date":1513882022,"question_id":47930978,"body_markdown":"This question is very similar to [this][1] one, but I dont know where to start.\r\n\r\nSuppose I have an action like this:\r\n\r\n    @GetMapping(&quot;/foo/{id}&quot;)\r\n    public Collection&lt;Foo&gt; listById(@PathVariable(&quot;id&quot;) string id) {\r\n    \treturn null;\r\n    }\r\n\r\nHow could one intercept the `listById` method and change the value of `id` (Eg.: concat a string, pad with zeros etc)?\r\n\r\nMy scenario is that mostly of the IDs are left-padded with zeros (lengths differ) and I dont want to leave this to my ajax calls.\r\n\r\nExpected solution:\r\n\r\n    @GetMapping(&quot;/foo/{id}&quot;)\r\n    public Collection&lt;Foo&gt; listById(@PathVariablePad(&quot;id&quot;, 4) string id) {\r\n    \t// id would be &quot;0004&quot; on &quot;/foo/4&quot; calls\r\n    \treturn null;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/43183537/spring-aop-how-to-read-path-variable-value-from-uri-template-in-aspect/43185007#43185007","title":"Spring MVC: How to read and change a @PathVariable value","body":"<p>This question is very similar to <a href=\"https://stackoverflow.com/questions/43183537/spring-aop-how-to-read-path-variable-value-from-uri-template-in-aspect/43185007#43185007\">this</a> one, but I dont know where to start.</p>\n\n<p>Suppose I have an action like this:</p>\n\n<pre><code>@GetMapping(\"/foo/{id}\")\npublic Collection&lt;Foo&gt; listById(@PathVariable(\"id\") string id) {\n    return null;\n}\n</code></pre>\n\n<p>How could one intercept the <code>listById</code> method and change the value of <code>id</code> (Eg.: concat a string, pad with zeros etc)?</p>\n\n<p>My scenario is that mostly of the IDs are left-padded with zeros (lengths differ) and I dont want to leave this to my ajax calls.</p>\n\n<p>Expected solution:</p>\n\n<pre><code>@GetMapping(\"/foo/{id}\")\npublic Collection&lt;Foo&gt; listById(@PathVariablePad(\"id\", 4) string id) {\n    // id would be \"0004\" on \"/foo/4\" calls\n    return null;\n}\n</code></pre>\n"},{"tags":["java","annotations","default"],"comments":[{"owner":{"account_id":773585,"reputation":3537,"user_id":1034782,"accept_rate":25,"display_name":"Donatello"},"score":3,"creation_date":1580295160,"post_id":1178104,"comment_id":106047902,"body_markdown":"Because as there is no default anymore, the field becomes mandatory in annotation usage","body":"Because as there is no default anymore, the field becomes mandatory in annotation usage"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1610644285,"post_id":1178104,"comment_id":116203933,"body_markdown":"It’s funny that no-one answered the question: “Isn’t `null` constant?” The answer is no, in Java, `null` is not a constant. `null` can not be used at any place where a compile-time constant is required. E.g. try to add `String foo() default &quot;&quot; + null;` to your annotation. We know, the expression predictably evaluates to `&quot;null&quot;`, still, it’s not a constant expression, hence, not allowed.","body":"It’s funny that no-one answered the question: “Isn’t <code>null</code> constant?” The answer is no, in Java, <code>null</code> is not a constant. <code>null</code> can not be used at any place where a compile-time constant is required. E.g. try to add <code>String foo() default &quot;&quot; + null;</code> to your annotation. We know, the expression predictably evaluates to <code>&quot;null&quot;</code>, still, it’s not a constant expression, hence, not allowed."}],"answers":[{"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":3,"creation_date":1248447164,"post_id":1178157,"comment_id":998978,"body_markdown":"Yes, we do something similar (we just use Foo.class as the default). Sucks.","body":"Yes, we do something similar (we just use Foo.class as the default). Sucks."},{"owner":{"account_id":91310,"reputation":5171,"user_id":250798,"display_name":"Tim Yates"},"score":7,"creation_date":1358177795,"post_id":1178157,"comment_id":19899911,"body_markdown":"And in the case of String fields, you have to resort to [magic strings](http://en.wikipedia.org/wiki/Magic_string). Apparently well-known antipatterns are better than well-understood language features now.","body":"And in the case of String fields, you have to resort to <a href=\"http://en.wikipedia.org/wiki/Magic_string\" rel=\"nofollow noreferrer\">magic strings</a>. Apparently well-known antipatterns are better than well-understood language features now."},{"owner":{"account_id":243192,"reputation":6619,"user_id":515205,"accept_rate":83,"display_name":"spaaarky21"},"score":3,"creation_date":1395865140,"post_id":1178157,"comment_id":34537506,"body_markdown":"@TimYates  It kills me to see people defining their own &quot;no value&quot; sentinel value when null is available and universally understood.   And now that&#39;s being required by the language itself?!  Luckily, you can define your &quot;magic strings&quot; as public constants.  It&#39;s still not ideal but at least the code that&#39;s looking for your annotation can reference the constant instead of using literals everywhere.","body":"@TimYates  It kills me to see people defining their own &quot;no value&quot; sentinel value when null is available and universally understood.   And now that&#39;s being required by the language itself?!  Luckily, you can define your &quot;magic strings&quot; as public constants.  It&#39;s still not ideal but at least the code that&#39;s looking for your annotation can reference the constant instead of using literals everywhere."}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":3,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1248446638,"creation_date":1248446638,"answer_id":1178157,"question_id":1178104,"body_markdown":"It would seem this is illegal, although the JLS is very fuzzy on this.\r\n\r\nI wracked my memory to try and think of an existing annotation out there that had a Class attribute to an annotation, and remembered this one from the JAXB API:\r\n\r\n    @Retention(RUNTIME) @Target({PACKAGE,FIELD,METHOD,TYPE,PARAMETER})        \r\n    public @interface XmlJavaTypeAdapter {\r\n        Class type() default DEFAULT.class;\r\n    \r\n        static final class DEFAULT {}    \r\n    }\r\n\r\nYou can see how they&#39;ve had to define a dummy static class to hold the equivalent of a null.\r\n\r\nUnpleasant.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>It would seem this is illegal, although the JLS is very fuzzy on this.</p>\n\n<p>I wracked my memory to try and think of an existing annotation out there that had a Class attribute to an annotation, and remembered this one from the JAXB API:</p>\n\n<pre><code>@Retention(RUNTIME) @Target({PACKAGE,FIELD,METHOD,TYPE,PARAMETER})        \npublic @interface XmlJavaTypeAdapter {\n    Class type() default DEFAULT.class;\n\n    static final class DEFAULT {}    \n}\n</code></pre>\n\n<p>You can see how they've had to define a dummy static class to hold the equivalent of a null.</p>\n\n<p>Unpleasant.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1610701481,"creation_date":1248447783,"answer_id":1178272,"question_id":1178104,"body_markdown":"I don&#39;t know why, but the [JLS][1] is very clear:\r\n\r\n\r\n     Discussion\r\n\r\n     Note that null is not a legal element value for any element type. \r\n\r\nAnd the definition of a default element is:\r\n\r\n         DefaultValue:\r\n             default ElementValue\r\n\r\nUnfortunately I keep finding that the new language features (Enums and now Annotations) have very unhelpful compiler error messages when you don&#39;t meet the language spec.\r\n\r\nEDIT: A little googleing found the [following][2] in the JSR-308, where they argue for allowing nulls in this situation:\r\n\r\n&gt; We note some possible objections to the proposal.\r\n&gt;\r\n&gt; The proposal doesn&#39;t make anything possible that was not possible before.\r\n&gt;\r\n&gt; The programmer-defined special value provides better documentation than null, which might mean “none”, “uninitialized”, null itself, etc.\r\n&gt;\r\n&gt; The proposal is more error-prone. It&#39;s much easier to forget checking against null than to forget checking for an explicit value.\r\n&gt;\r\n&gt; The proposal may make the standard idiom more verbose. Currently only the users of an annotation need to check for its special values. With the proposal, many tools that process annotations will have to check whether a field&#39;s value is null lest they throw a null pointer exception.\r\n\r\nI think only the last two points are relevant to &quot;why not do it in the first place.&quot; The last point certainly brings up a good point - an annotation processor never has to be concerned that they will get a null on an annotation value. I tend to see that as more the job of annotation processors and other such framework code to have to do that kind of check to make the developers code clearer rather than the other way around, but it would certainly make it hard to justify changing it.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html\r\n  [2]: https://web.archive.org/web/20090804142546/http://groups.csail.mit.edu/pag/jsr308/specification/java-annotation-design.html#htoc48","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>I don't know why, but the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/interfaces.html\" rel=\"noreferrer\">JLS</a> is very clear:</p>\n<pre><code> Discussion\n\n Note that null is not a legal element value for any element type. \n</code></pre>\n<p>And the definition of a default element is:</p>\n<pre><code>     DefaultValue:\n         default ElementValue\n</code></pre>\n<p>Unfortunately I keep finding that the new language features (Enums and now Annotations) have very unhelpful compiler error messages when you don't meet the language spec.</p>\n<p>EDIT: A little googleing found the <a href=\"https://web.archive.org/web/20090804142546/http://groups.csail.mit.edu/pag/jsr308/specification/java-annotation-design.html#htoc48\" rel=\"noreferrer\">following</a> in the JSR-308, where they argue for allowing nulls in this situation:</p>\n<blockquote>\n<p>We note some possible objections to the proposal.</p>\n<p>The proposal doesn't make anything possible that was not possible before.</p>\n<p>The programmer-defined special value provides better documentation than null, which might mean “none”, “uninitialized”, null itself, etc.</p>\n<p>The proposal is more error-prone. It's much easier to forget checking against null than to forget checking for an explicit value.</p>\n<p>The proposal may make the standard idiom more verbose. Currently only the users of an annotation need to check for its special values. With the proposal, many tools that process annotations will have to check whether a field's value is null lest they throw a null pointer exception.</p>\n</blockquote>\n<p>I think only the last two points are relevant to &quot;why not do it in the first place.&quot; The last point certainly brings up a good point - an annotation processor never has to be concerned that they will get a null on an annotation value. I tend to see that as more the job of annotation processors and other such framework code to have to do that kind of check to make the developers code clearer rather than the other way around, but it would certainly make it hard to justify changing it.</p>\n"},{"comments":[{"owner":{"account_id":7046,"reputation":4518,"user_id":12039,"accept_rate":89,"display_name":"Kariem"},"score":9,"creation_date":1385650360,"post_id":16200820,"comment_id":30235886,"body_markdown":"I like it. The only problem – in the context of the original question – is that this answer does not support type parameters:\n\n    `Class&lt;? extends Foo&gt; bar() default void.null`\n\ndoes not compile.","body":"I like it. The only problem – in the context of the original question – is that this answer does not support type parameters:      <code>Class&lt;? extends Foo&gt; bar() default void.null</code>  does not compile."},{"owner":{"account_id":988393,"reputation":721,"user_id":1048679,"accept_rate":91,"display_name":"wjohnson"},"score":3,"creation_date":1419210979,"post_id":16200820,"comment_id":43614751,"body_markdown":"The void.class can&#39;t be applied generally: public @interface NoNullDefault { String value() default void.class; }","body":"The void.class can&#39;t be applied generally: public @interface NoNullDefault { String value() default void.class; }"},{"owner":{"account_id":288740,"reputation":36435,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1473936896,"post_id":16200820,"comment_id":66334699,"body_markdown":"For Groovy it works fine, even in the cases mentioned in the comments","body":"For Groovy it works fine, even in the cases mentioned in the comments"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1579642719,"post_id":16200820,"comment_id":105832608,"body_markdown":"*LOL:* that means nothing *vs* that means &quot;nothing&quot;","body":"<i>LOL:</i> that means nothing <i>vs</i> that means &quot;nothing&quot;"}],"tags":[],"owner":{"account_id":2211769,"reputation":6120,"user_id":1953420,"accept_rate":78,"display_name":"Logan Murphy"},"comment_count":4,"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1373471552,"creation_date":1366832638,"answer_id":16200820,"question_id":1178104,"body_markdown":"Try this\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class bar() default void.class;\r\n    }\r\n\r\nIt does not require a new class and it is already a keyword in Java that means nothing.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>Try this</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class bar() default void.class;\n}\n</code></pre>\n\n<p>It does not require a new class and it is already a keyword in Java that means nothing.</p>\n"},{"comments":[{"owner":{"account_id":14857222,"reputation":126,"user_id":10729324,"display_name":"Oswaldo Junior"},"score":0,"creation_date":1685332151,"post_id":25624099,"comment_id":134641787,"body_markdown":"I saw this approach being used by picocli.","body":"I saw this approach being used by picocli."}],"tags":[],"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1409662942,"creation_date":1409662942,"answer_id":25624099,"question_id":1178104,"body_markdown":"It seem there is one other way of doing it.\r\n\r\nI don&#39;t like this either, but it might work.\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class&lt;? extends Foo&gt;[] bar() default {};\r\n    }\r\n\r\nSo basically you create an empty Array instead. This seems to allow a default value.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>It seem there is one other way of doing it.</p>\n\n<p>I don't like this either, but it might work.</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class&lt;? extends Foo&gt;[] bar() default {};\n}\n</code></pre>\n\n<p>So basically you create an empty Array instead. This seems to allow a default value.</p>\n"},{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1673274874,"creation_date":1482541340,"answer_id":41309428,"question_id":1178104,"body_markdown":"No, the [Java Language Specification][1] does not define the `null` literal/value as a constant expression.\r\n\r\nThe [specification][2] states the following when defining the possible default values for annotation type elements:\r\n\r\n&gt; It is a compile-time error if the type of the element **is not commensurate** (&#167;9.7) with the default value specified.\r\n\r\nAnd to [explain what that means][3]\r\n\r\n&gt; It is a compile-time error if the element type is not commensurate\r\n&gt; with the element value. **An element type T is commensurate with an\r\n&gt; element value V** if and only if one of the following is true:\r\n&gt; \r\n&gt; - `T` is an array type `E[]`, and either:\r\n&gt;  - [...]\r\n&gt; - **`T` is not an array type**, and the type of `V` is assignment compatible (&#167;5.2) with `T`, **and**:\r\n&gt;  - If `T` is a primitive type or `String`, then `V` is a constant expression (&#167;15.28).\r\n&gt;  - If `T` is `Class` or an invocation of `Class` (&#167;4.5), then `V` is a class literal (&#167;15.8.2).\r\n&gt;  - If `T` is an enum type (&#167;8.9), then `V` is an enum constant (&#167;8.9.1).\r\n&gt;  - **V is not null**.\r\n\r\nSo here, your element type, `Class&lt;? extends Foo&gt;`, is not commensurate with the default value, because that value is `null`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.2\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>No, the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"nofollow noreferrer\">Java Language Specification</a> does not define the <code>null</code> literal/value as a constant expression.</p>\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.6.2\" rel=\"nofollow noreferrer\">specification</a> states the following when defining the possible default values for annotation type elements:</p>\n<blockquote>\n<p>It is a compile-time error if the type of the element <strong>is not commensurate</strong> (§9.7) with the default value specified.</p>\n</blockquote>\n<p>And to <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-9.html#jls-9.7.1\" rel=\"nofollow noreferrer\">explain what that means</a></p>\n<blockquote>\n<p>It is a compile-time error if the element type is not commensurate\nwith the element value. <strong>An element type T is commensurate with an\nelement value V</strong> if and only if one of the following is true:</p>\n<ul>\n<li><code>T</code> is an array type <code>E[]</code>, and either:</li>\n<li>[...]</li>\n<li><strong><code>T</code> is not an array type</strong>, and the type of <code>V</code> is assignment compatible (§5.2) with <code>T</code>, <strong>and</strong>:</li>\n<li>If <code>T</code> is a primitive type or <code>String</code>, then <code>V</code> is a constant expression (§15.28).</li>\n<li>If <code>T</code> is <code>Class</code> or an invocation of <code>Class</code> (§4.5), then <code>V</code> is a class literal (§15.8.2).</li>\n<li>If <code>T</code> is an enum type (§8.9), then <code>V</code> is an enum constant (§8.9.1).</li>\n<li><strong>V is not null</strong>.</li>\n</ul>\n</blockquote>\n<p>So here, your element type, <code>Class&lt;? extends Foo&gt;</code>, is not commensurate with the default value, because that value is <code>null</code>.</p>\n"},{"comments":[{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1542075249,"post_id":44974877,"comment_id":93428681,"body_markdown":"Incidentally, I just tried this with a String, and that doesn&#39;t work.  You don&#39;t get back the same String object.","body":"Incidentally, I just tried this with a String, and that doesn&#39;t work.  You don&#39;t get back the same String object."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1578259644,"post_id":44974877,"comment_id":105372535,"body_markdown":"Did you use `.equals()` and not `==` @Doradus?  Did you get a different _value_ or a different object.","body":"Did you use <code>.equals()</code> and not <code>==</code> @Doradus?  Did you get a different <i>value</i> or a different object."},{"owner":{"account_id":294084,"reputation":977,"user_id":597767,"accept_rate":75,"display_name":"Doradus"},"score":0,"creation_date":1579450112,"post_id":44974877,"comment_id":105762186,"body_markdown":"Different object.  I used `==`.","body":"Different object.  I used <code>==</code>."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1579450787,"post_id":44974877,"comment_id":105762397,"body_markdown":"Well the class is a singleton @Doradus.  I would have expected the String to be a singleton as well but I guess it isn&#39;t and you&#39;ll need to use `.equals()`.  Surprising.","body":"Well the class is a singleton @Doradus.  I would have expected the String to be a singleton as well but I guess it isn&#39;t and you&#39;ll need to use <code>.equals()</code>.  Surprising."}],"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1539960143,"creation_date":1499442174,"answer_id":44974877,"question_id":1178104,"body_markdown":"&gt;     Class&lt;? extends Foo&gt; bar() default null;// this doesn&#39;t compile\r\n\r\nAs mentioned, the Java language specification does not allow null values in the annotations defaults.\r\n\r\nWhat I tend to do is to do is to define `DEFAULT_VALUE` constants at the top of the annotation definition.  Something like:\r\n\r\n    public @interface MyAnnotation {\r\n    \tpublic static final String DEFAULT_PREFIX = &quot;__class-name-here__ default&quot;;\r\n        ...\r\n    \tpublic String prefix() default DEFAULT_PREFIX;\r\n    }\r\n\r\nThen in my code I do something like:\r\n\r\n    if (myAnnotation.prefix().equals(MyAnnotation.DEFAULT_PREFIX)) { ... }\r\n\r\nIn your case with a class, I would just define a marker class.  Unfortunately you can&#39;t have a constant for this so instead you need to do something like:\r\n\r\n    public @interface MyAnnotation {\r\n    \tpublic static Class&lt;? extends Foo&gt; DEFAULT_BAR = DefaultBar.class;\r\n        ...\r\n        Class&lt;? extends Foo&gt; bar() default DEFAULT_BAR;\r\n    }\r\n\r\nYour `DefaultFoo` class would just an empty implementation so that the code can do:\r\n\r\n    if (myAnnotation.bar() == MyAnnotation.DEFAULT_BAR) { ... }\r\n\r\nHope this helps.\r\n","title":"Error setting a default null value for an annotation&#39;s field","body":"<blockquote>\n<pre><code>Class&lt;? extends Foo&gt; bar() default null;// this doesn't compile\n</code></pre>\n</blockquote>\n\n<p>As mentioned, the Java language specification does not allow null values in the annotations defaults.</p>\n\n<p>What I tend to do is to do is to define <code>DEFAULT_VALUE</code> constants at the top of the annotation definition.  Something like:</p>\n\n<pre><code>public @interface MyAnnotation {\n    public static final String DEFAULT_PREFIX = \"__class-name-here__ default\";\n    ...\n    public String prefix() default DEFAULT_PREFIX;\n}\n</code></pre>\n\n<p>Then in my code I do something like:</p>\n\n<pre><code>if (myAnnotation.prefix().equals(MyAnnotation.DEFAULT_PREFIX)) { ... }\n</code></pre>\n\n<p>In your case with a class, I would just define a marker class.  Unfortunately you can't have a constant for this so instead you need to do something like:</p>\n\n<pre><code>public @interface MyAnnotation {\n    public static Class&lt;? extends Foo&gt; DEFAULT_BAR = DefaultBar.class;\n    ...\n    Class&lt;? extends Foo&gt; bar() default DEFAULT_BAR;\n}\n</code></pre>\n\n<p>Your <code>DefaultFoo</code> class would just an empty implementation so that the code can do:</p>\n\n<pre><code>if (myAnnotation.bar() == MyAnnotation.DEFAULT_BAR) { ... }\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":7008925,"reputation":319,"user_id":5372500,"display_name":"Alexander Terp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573102672,"creation_date":1573102672,"answer_id":58742196,"question_id":1178104,"body_markdown":"As others have said, there is a rule which says that null is not a valid default value in Java. \r\n\r\n**If you&#39;ve got a limited number of possible values that the field can have**, then one option for working around this is to make the field type a custom enum which itself contains a mapping to null. For example, imagine I have the following annotation that I want a default null for:\r\n\r\n\r\n```\r\npublic @interface MyAnnotation {\r\n   Class&lt;?&gt; value() default null;\r\n}\r\n```\r\n\r\nAs we&#39;ve established, this is not allowed. What we can instead do is define an enum:\r\n\r\n```\r\npublic enum MyClassEnum {\r\n    NULL(null),\r\n    MY_CLASS1(MyClass1.class),\r\n    MY_CLASS2(MyClass2.class),\r\n    ;\r\n\r\n    public final Class&lt;?&gt; myClass;\r\n\r\n    MyClassEnum(Class&lt;?&gt; aClass) {\r\n        myClass = aClass;\r\n    }\r\n}\r\n```\r\n\r\nand change the annotation as such:\r\n\r\n\r\n```\r\npublic @interface MyAnnotation {\r\n  MyClassEnum value() default MyClassEnum.NULL;\r\n}\r\n```\r\n\r\nThe main downside of this (asides from needing to enumerate your possible values) is that you&#39;ve now wrapped your value in an enum, so you&#39;ll need to invoke the property/getter on the enum to get the value.","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>As others have said, there is a rule which says that null is not a valid default value in Java. </p>\n\n<p><strong>If you've got a limited number of possible values that the field can have</strong>, then one option for working around this is to make the field type a custom enum which itself contains a mapping to null. For example, imagine I have the following annotation that I want a default null for:</p>\n\n<pre><code>public @interface MyAnnotation {\n   Class&lt;?&gt; value() default null;\n}\n</code></pre>\n\n<p>As we've established, this is not allowed. What we can instead do is define an enum:</p>\n\n<pre><code>public enum MyClassEnum {\n    NULL(null),\n    MY_CLASS1(MyClass1.class),\n    MY_CLASS2(MyClass2.class),\n    ;\n\n    public final Class&lt;?&gt; myClass;\n\n    MyClassEnum(Class&lt;?&gt; aClass) {\n        myClass = aClass;\n    }\n}\n</code></pre>\n\n<p>and change the annotation as such:</p>\n\n<pre><code>public @interface MyAnnotation {\n  MyClassEnum value() default MyClassEnum.NULL;\n}\n</code></pre>\n\n<p>The main downside of this (asides from needing to enumerate your possible values) is that you've now wrapped your value in an enum, so you'll need to invoke the property/getter on the enum to get the value.</p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64884,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":1178272,"answer_count":7,"score":90,"last_activity_date":1673274874,"creation_date":1248446140,"question_id":1178104,"body_markdown":"Why am I getting an error &quot;Attribute value must be constant&quot;. Isn&#39;t **null** constant???\r\n\r\n    @Target(ElementType.TYPE)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface SomeInterface {\r\n        Class&lt;? extends Foo&gt; bar() default null;// this doesn&#39;t compile\r\n    }","title":"Error setting a default null value for an annotation&#39;s field","body":"<p>Why am I getting an error \"Attribute value must be constant\". Isn't <strong>null</strong> constant???</p>\n\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface SomeInterface {\n    Class&lt;? extends Foo&gt; bar() default null;// this doesn't compile\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","elasticsearch","kubernetes"],"comments":[{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":1,"creation_date":1670845150,"post_id":74316512,"comment_id":131959736,"body_markdown":"If your  issue is solved, can you please provide the resolution steps you have followed and provide it as an answer for the greater visibility of the community.","body":"If your  issue is solved, can you please provide the resolution steps you have followed and provide it as an answer for the greater visibility of the community."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1673275086,"post_id":74316512,"comment_id":132455800,"body_markdown":"Salik47, thanks for making an answer. I have however the impression that you have removed much of the information which was initially contained in the question. Please review and make sure that the info needed for answering the question is still in there, so that somebody else could theoretically also/still answer it. (To be clear, I do not understand enough detail technically to judge myself, I really ask you to just review and confirm). If you identifed that information which was unneeded and only distracting and then removed it for making a focused question, then you did great of course.","body":"Salik47, thanks for making an answer. I have however the impression that you have removed much of the information which was initially contained in the question. Please review and make sure that the info needed for answering the question is still in there, so that somebody else could theoretically also/still answer it. (To be clear, I do not understand enough detail technically to judge myself, I really ask you to just review and confirm). If you identifed that information which was unneeded and only distracting and then removed it for making a focused question, then you did great of course."}],"answers":[{"tags":[],"owner":{"account_id":4357277,"reputation":149,"user_id":3555465,"accept_rate":25,"display_name":"Salik47"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673274752,"creation_date":1673274752,"answer_id":75058762,"question_id":74316512,"body_markdown":"I solved my problem is this way:\r\n\r\nIn official [ElasticSearch helm chart][1] there are 2 services created:\r\n\r\n 1. elasticsearch-master - 9200/TCP, 9300/TCP\r\n 2. elasticsearch-master-headless\r\n\r\nI created the first service of `type: LoadBalancer` with of class `nlb` with following annotations\r\n\r\n```\r\nannotations: {\r\n    service.beta.kubernetes.io/aws-load-balancer-name: &quot;es-nlb&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-type: &quot;external&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: &quot;instance&quot;,\r\n    service.beta.kubernetes.io/aws-load-balancer-scheme: &quot;internet-facing&quot;\r\n}\r\n```\r\n\r\nWhich creates 2 listener ports i.e. `9200` &amp; `9300` at ELB end and linked with target group pointing to the application\r\n\r\n`&lt;es-nlb-dns&gt;:9200`\r\n\r\n`&lt;es-nlb-dns&gt;:9300`\r\n\r\nNow i used these endpoints to connect with the springboot data elasticsearch client.\r\n\r\n  [1]: https://github.com/elastic/helm-charts/tree/v7.17.3","title":"How to expose a headless service for a Elasticsearch StatefulSet externally in Kubernetes","body":"<p>I solved my problem is this way:</p>\n<p>In official <a href=\"https://github.com/elastic/helm-charts/tree/v7.17.3\" rel=\"nofollow noreferrer\">ElasticSearch helm chart</a> there are 2 services created:</p>\n<ol>\n<li>elasticsearch-master - 9200/TCP, 9300/TCP</li>\n<li>elasticsearch-master-headless</li>\n</ol>\n<p>I created the first service of <code>type: LoadBalancer</code> with of class <code>nlb</code> with following annotations</p>\n<pre><code>annotations: {\n    service.beta.kubernetes.io/aws-load-balancer-name: &quot;es-nlb&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-type: &quot;external&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-nlb-target-type: &quot;instance&quot;,\n    service.beta.kubernetes.io/aws-load-balancer-scheme: &quot;internet-facing&quot;\n}\n</code></pre>\n<p>Which creates 2 listener ports i.e. <code>9200</code> &amp; <code>9300</code> at ELB end and linked with target group pointing to the application</p>\n<p><code>&lt;es-nlb-dns&gt;:9200</code></p>\n<p><code>&lt;es-nlb-dns&gt;:9300</code></p>\n<p>Now i used these endpoints to connect with the springboot data elasticsearch client.</p>\n"}],"owner":{"account_id":4357277,"reputation":149,"user_id":3555465,"accept_rate":25,"display_name":"Salik47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75058762,"answer_count":1,"score":1,"last_activity_date":1673274815,"creation_date":1667562212,"question_id":74316512,"body_markdown":"**Problem Summary**\r\n\r\nThe goal is to expose the Elasticsearch Nodes endpoints externally which are internally addressed as:\r\n\r\n```\r\nelasticsearch-master-0.elastic.svc.cluster.local:9200\r\nelasticsearch-master-1.elastic.svc.cluster.local:9200 \r\nelasticsearch-master-2.elastic.svc.cluster.local:9200\r\n```\r\nThis uses a StatefulSet and a headless service for service discovery within the cluster.\r\n\r\nThe constraint is that this external service be able to address the brokers specifically.\r\n\r\nWhats the right (or one possible) way of going about this? Is it possible to expose a external service per elasticsearch-x.elastic.svc.cluster.local:9200?\r\n\r\n\r\n\r\n\r\n","title":"How to expose a headless service for a Elasticsearch StatefulSet externally in Kubernetes","body":"<p><strong>Problem Summary</strong></p>\n<p>The goal is to expose the Elasticsearch Nodes endpoints externally which are internally addressed as:</p>\n<pre><code>elasticsearch-master-0.elastic.svc.cluster.local:9200\nelasticsearch-master-1.elastic.svc.cluster.local:9200 \nelasticsearch-master-2.elastic.svc.cluster.local:9200\n</code></pre>\n<p>This uses a StatefulSet and a headless service for service discovery within the cluster.</p>\n<p>The constraint is that this external service be able to address the brokers specifically.</p>\n<p>Whats the right (or one possible) way of going about this? Is it possible to expose a external service per elasticsearch-x.elastic.svc.cluster.local:9200?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"score":0,"creation_date":1672936991,"post_id":75021583,"comment_id":132390365,"body_markdown":"Have you tried `isWiredHeadsetOn` from the `AudioManager`, e.g. `boolean isWiredHeadsetOn = mAudioManager.isWiredHeadsetOn();`","body":"Have you tried <code>isWiredHeadsetOn</code> from the <code>AudioManager</code>, e.g. <code>boolean isWiredHeadsetOn = mAudioManager.isWiredHeadsetOn();</code>"},{"owner":{"account_id":980880,"reputation":6357,"user_id":1000626,"accept_rate":73,"display_name":"Chris Watts"},"score":0,"creation_date":1672937501,"post_id":75021583,"comment_id":132390557,"body_markdown":"I&#39;m looking for wireless headphones but yes, I presume that would be another way to check wired headphones. It does appear to require a permission as well but I think it doesn&#39;t need user intervention so perhaps there&#39;s something there that works for wireless too.","body":"I&#39;m looking for wireless headphones but yes, I presume that would be another way to check wired headphones. It does appear to require a permission as well but I think it doesn&#39;t need user intervention so perhaps there&#39;s something there that works for wireless too."}],"owner":{"account_id":980880,"reputation":6357,"user_id":1000626,"accept_rate":73,"display_name":"Chris Watts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673274744,"creation_date":1672936318,"question_id":75021583,"body_markdown":"I&#39;ve been trying to look for a good solution to detect when headphones are connected in Android regardless of whether they are wired or wireless.\r\n\r\nThe case for wired headphones is [fairly straight-forward](https://stackoverflow.com/questions/6249023/detecting-whether-a-headset-is-plugged-into-an-android-device-or-not). However, when detecting if a wireless headset is connected, the APIs I have been using require `Manifest.permission.BLUETOOTH` or `Manifest.permission.BLUETOOTH_CONNECT`.\r\n\r\nFor some time I&#39;ve accepted that only if those permissions are granted will I know for sure if headphones are connected, but this is now increasingly becoming problematic.\r\n\r\nDoes anyone know of an alternative that would determine if a headset is connected without user-facing &#39;dangerous&#39; permission prompts like the BluetoothHeadset solution does? Is there anything in the AudioManager that can be used instead?\r\n\r\nHere is what I have today:\r\n\r\n```\r\npackage ai.numbereight.sdk.platform.sensors\r\n\r\nimport android.bluetooth.BluetoothAdapter\r\nimport android.bluetooth.BluetoothHeadset\r\nimport android.bluetooth.BluetoothProfile\r\nimport android.content.BroadcastReceiver\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.content.IntentFilter\r\nimport android.util.Log\r\n\r\nprivate val listener = object : BroadcastReceiver() {\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        val connection = when (intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,\r\n                BluetoothHeadset.STATE_DISCONNECTED)) {\r\n            BluetoothHeadset.STATE_CONNECTED -&gt; &quot;Connected&quot;\r\n            BluetoothHeadset.STATE_DISCONNECTED -&gt; &quot;Disconnected&quot;\r\n            else -&gt; &quot;Unknown&quot;\r\n        }\r\n\r\n        Log.d(&quot;Connection&quot;, connection)\r\n    }\r\n}\r\n\r\nfun register(context: Context) {\r\n    // Register for changes - events will only be received\r\n    // if Manifest.permission.BLUETOOTH (&lt; Android 10)\r\n    // or Manifest.permission.BLUETOOTH_CONNECT (&gt;= Android 10)\r\n    // are granted.\r\n    val filter = IntentFilter()\r\n    filter.addAction(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\r\n    context.registerReceiver(listener, filter)\r\n\r\n    // Fire initial event - this API call requires the above Bluetooth permissions\r\n    // For brevity I assume that the default adapter is not null\r\n    val currentState = BluetoothAdapter.getDefaultAdapter()!!.getProfileConnectionState(BluetoothProfile.HEADSET)\r\n    val initialIntent = Intent(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\r\n    initialIntent.putExtra(BluetoothHeadset.EXTRA_STATE, currentState)\r\n    listener.onReceive(context, initialIntent)\r\n}\r\n```","title":"Detecting if headphones are connected without using dangerous permissions","body":"<p>I've been trying to look for a good solution to detect when headphones are connected in Android regardless of whether they are wired or wireless.</p>\n<p>The case for wired headphones is <a href=\"https://stackoverflow.com/questions/6249023/detecting-whether-a-headset-is-plugged-into-an-android-device-or-not\">fairly straight-forward</a>. However, when detecting if a wireless headset is connected, the APIs I have been using require <code>Manifest.permission.BLUETOOTH</code> or <code>Manifest.permission.BLUETOOTH_CONNECT</code>.</p>\n<p>For some time I've accepted that only if those permissions are granted will I know for sure if headphones are connected, but this is now increasingly becoming problematic.</p>\n<p>Does anyone know of an alternative that would determine if a headset is connected without user-facing 'dangerous' permission prompts like the BluetoothHeadset solution does? Is there anything in the AudioManager that can be used instead?</p>\n<p>Here is what I have today:</p>\n<pre><code>package ai.numbereight.sdk.platform.sensors\n\nimport android.bluetooth.BluetoothAdapter\nimport android.bluetooth.BluetoothHeadset\nimport android.bluetooth.BluetoothProfile\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.content.Intent\nimport android.content.IntentFilter\nimport android.util.Log\n\nprivate val listener = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n        val connection = when (intent.getIntExtra(BluetoothHeadset.EXTRA_STATE,\n                BluetoothHeadset.STATE_DISCONNECTED)) {\n            BluetoothHeadset.STATE_CONNECTED -&gt; &quot;Connected&quot;\n            BluetoothHeadset.STATE_DISCONNECTED -&gt; &quot;Disconnected&quot;\n            else -&gt; &quot;Unknown&quot;\n        }\n\n        Log.d(&quot;Connection&quot;, connection)\n    }\n}\n\nfun register(context: Context) {\n    // Register for changes - events will only be received\n    // if Manifest.permission.BLUETOOTH (&lt; Android 10)\n    // or Manifest.permission.BLUETOOTH_CONNECT (&gt;= Android 10)\n    // are granted.\n    val filter = IntentFilter()\n    filter.addAction(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\n    context.registerReceiver(listener, filter)\n\n    // Fire initial event - this API call requires the above Bluetooth permissions\n    // For brevity I assume that the default adapter is not null\n    val currentState = BluetoothAdapter.getDefaultAdapter()!!.getProfileConnectionState(BluetoothProfile.HEADSET)\n    val initialIntent = Intent(BluetoothHeadset.ACTION_CONNECTION_STATE_CHANGED)\n    initialIntent.putExtra(BluetoothHeadset.EXTRA_STATE, currentState)\n    listener.onReceive(context, initialIntent)\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","testing","transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673260914,"post_id":75056041,"comment_id":132450552,"body_markdown":"If you have multiple datasource you also have multiple transactions which will be commit for each individually (or even worse you have unmanaged transactions and you hope they work). I also wonder how you are assigning the dataasource as this looks like you are working with just a single default repository.","body":"If you have multiple datasource you also have multiple transactions which will be commit for each individually (or even worse you have unmanaged transactions and you hope they work). I also wonder how you are assigning the dataasource as this looks like you are working with just a single default repository."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1673261740,"post_id":75056041,"comment_id":132450821,"body_markdown":"I didn&#39;t code the DatabaseConfig Beans but I works by having multiple @Configuration DatabaseConfig beans that scan different packages. This is how the JPA repositories know which EntityManager to use.","body":"I didn&#39;t code the DatabaseConfig Beans but I works by having multiple @Configuration DatabaseConfig beans that scan different packages. This is how the JPA repositories know which EntityManager to use."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673270377,"post_id":75056041,"comment_id":132453826,"body_markdown":"But in this test you are only using one. Hence you aren&#39;t switching datasources but just a single one, in this test. So why not just use `@DataJpaTest` as your comment doesn&#39;t really hold.","body":"But in this test you are only using one. Hence you aren&#39;t switching datasources but just a single one, in this test. So why not just use <code>@DataJpaTest</code> as your comment doesn&#39;t really hold."},{"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"score":0,"creation_date":1673273253,"post_id":75056041,"comment_id":132455030,"body_markdown":"There are also some other beans that I need. I found the problem now but have no solution atm. When I call save(), JpaTransactionManager creates a new inner transaction, saves the entity and closes the transaction. I don&#39;t know why though.","body":"There are also some other beans that I need. I found the problem now but have no solution atm. When I call save(), JpaTransactionManager creates a new inner transaction, saves the entity and closes the transaction. I don&#39;t know why though."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673274499,"post_id":75056041,"comment_id":132455530,"body_markdown":"Because you are probably using another tx manager and thus there is no transaction. Multiple entitymanagers means multiple tx managers.","body":"Because you are probably using another tx manager and thus there is no transaction. Multiple entitymanagers means multiple tx managers."}],"answers":[{"tags":[],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673273962,"creation_date":1673273962,"answer_id":75058608,"question_id":75056041,"body_markdown":"After looking at the JpaTransactionManager logs using:\r\n\r\n    logging:\r\n      level:\r\n        sql: DEBUG\r\n        ROOT: DEBUG\r\n        org.springframework.orm.jpa: DEBUG\r\n        org.springframework.transaction: DEBUG\r\nI saw that for each .save() call there was a new inner transaction. I tried to specify the transaction manager manually by passing the value to the @Transactional annotation and now it works. Looks like the DataSource beans are not picked up entirely correct. I got the idea based on this article where a ChainedTransactionManager is used for multiple datasources https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4\r\n","title":"Spring Boot Test not rolling back transactions (MS SQL Server, Spring Boot 2.7.5)","body":"<p>After looking at the JpaTransactionManager logs using:</p>\n<pre><code>logging:\n  level:\n    sql: DEBUG\n    ROOT: DEBUG\n    org.springframework.orm.jpa: DEBUG\n    org.springframework.transaction: DEBUG\n</code></pre>\n<p>I saw that for each .save() call there was a new inner transaction. I tried to specify the transaction manager manually by passing the value to the @Transactional annotation and now it works. Looks like the DataSource beans are not picked up entirely correct. I got the idea based on this article where a ChainedTransactionManager is used for multiple datasources <a href=\"https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4\" rel=\"nofollow noreferrer\">https://medium.com/preplaced/distributed-transaction-management-for-multiple-databases-with-springboot-jpa-and-hibernate-cde4e1b298e4</a></p>\n"}],"owner":{"account_id":13079058,"reputation":195,"user_id":9450156,"display_name":"Martin Pichler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058608,"answer_count":1,"score":0,"last_activity_date":1673273962,"creation_date":1673260647,"question_id":75056041,"body_markdown":"I am writing integration tests for a project with multiple datasources and want to test the repository and service layer. Problem is that the @Transactional annotation is not working and data inserted during tests is persisted. \r\n\r\nThis is a simple IT. I need to use @SpringBootTest instead of @DataJpaTest because multiple datasources are configured in a bean which handles assigning the right datasource to the correct repository. \r\n\r\n    @SpringBootTest(classes = { MyApp.class, TestSecurityConfiguration.class })\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    @ActiveProfiles(&quot;database-test&quot;)\r\n    @Transactional\r\n    @Rollback\r\n    public class MyIT {\r\n    \r\n    \r\n        @Autowired\r\n        ChannelRepository channelRepository;\r\n    \r\n        @Test\r\n        public void testChannels() {\r\n    \r\n            Channel testChannel1 = new Channel();\r\n            testChannel1.setDescription(&quot;Test Channel 1&quot;);\r\n            channelRepository.save(testChannel1);\r\n    \r\n            Channel testChannel2 = new Channel();\r\n            testChannel2.setDescription(&quot;Test Channel 2&quot;);\r\n            channelRepository.save(testChannel2);\r\n    \r\n            Channel channel = channelRepository.findById(1).get();\r\n            assertThat(channel).isNotNull();\r\n        }\r\n    \r\n    }\r\n\r\nThe dialect configured in the application.yml is &quot;org.hibernate.dialect.SQLServer2012Dialect&quot; and the database is our test database that runs on a dedicated server, not an embedded database.\r\n\r\nThe data is inserted without rollback.","title":"Spring Boot Test not rolling back transactions (MS SQL Server, Spring Boot 2.7.5)","body":"<p>I am writing integration tests for a project with multiple datasources and want to test the repository and service layer. Problem is that the @Transactional annotation is not working and data inserted during tests is persisted.</p>\n<p>This is a simple IT. I need to use @SpringBootTest instead of @DataJpaTest because multiple datasources are configured in a bean which handles assigning the right datasource to the correct repository.</p>\n<pre><code>@SpringBootTest(classes = { MyApp.class, TestSecurityConfiguration.class })\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ActiveProfiles(&quot;database-test&quot;)\n@Transactional\n@Rollback\npublic class MyIT {\n\n\n    @Autowired\n    ChannelRepository channelRepository;\n\n    @Test\n    public void testChannels() {\n\n        Channel testChannel1 = new Channel();\n        testChannel1.setDescription(&quot;Test Channel 1&quot;);\n        channelRepository.save(testChannel1);\n\n        Channel testChannel2 = new Channel();\n        testChannel2.setDescription(&quot;Test Channel 2&quot;);\n        channelRepository.save(testChannel2);\n\n        Channel channel = channelRepository.findById(1).get();\n        assertThat(channel).isNotNull();\n    }\n\n}\n</code></pre>\n<p>The dialect configured in the application.yml is &quot;org.hibernate.dialect.SQLServer2012Dialect&quot; and the database is our test database that runs on a dedicated server, not an embedded database.</p>\n<p>The data is inserted without rollback.</p>\n"},{"tags":["java","image","android-studio","imageview","removeall"],"owner":{"account_id":23188436,"reputation":1,"user_id":17285155,"display_name":"ahsdsgfc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673273327,"creation_date":1673189347,"question_id":75048699,"body_markdown":"what I will use to prevent the image from appearing again. I want the image won&#39;t reapeat appearing but don&#39;t know what can I use to do that. \r\n\r\n```\r\npublic ImageView imgViewQuestion;\r\n\r\nint [] image_list = {\r\n\r\n            R.drawable.forms,\r\n            R.drawable.tags,\r\n            R.drawable.tables,\r\n            R.drawable.radiobutton,\r\n            R.drawable.checkbox,\r\n            R.drawable.font,\r\n            R.drawable.anchors,\r\n            R.drawable.html\r\n    };\r\n\r\n```\r\n\r\n```\r\n private void setupList() {\r\n        Random random = new Random();\r\n        int imageSelected = image_list[random.nextInt(image_list.length)];\r\n        imgViewQuestion.setImageResource(imageSelected);\r\n        fourinfoassucommon.imageSelected = imageSelected;\r\n\r\n        correct_answer = getResources().getResourceName(imageSelected);\r\n        correct_answer = correct_answer.substring(correct_answer.lastIndexOf(&quot;/&quot;) + 1);\r\n\r\n        answer = correct_answer.toCharArray();\r\n\r\n        fourinfoassucommon.user_submit_answer = new char[answer.length];\r\n\r\n        suggestSource.clear();\r\n        for (char item : answer) {\r\n            suggestSource.add(String.valueOf(item));\r\n\r\n```","title":"How can I make the image list wont appear again if it is used already?","body":"<p>what I will use to prevent the image from appearing again. I want the image won't reapeat appearing but don't know what can I use to do that.</p>\n<pre><code>public ImageView imgViewQuestion;\n\nint [] image_list = {\n\n            R.drawable.forms,\n            R.drawable.tags,\n            R.drawable.tables,\n            R.drawable.radiobutton,\n            R.drawable.checkbox,\n            R.drawable.font,\n            R.drawable.anchors,\n            R.drawable.html\n    };\n\n</code></pre>\n<pre><code> private void setupList() {\n        Random random = new Random();\n        int imageSelected = image_list[random.nextInt(image_list.length)];\n        imgViewQuestion.setImageResource(imageSelected);\n        fourinfoassucommon.imageSelected = imageSelected;\n\n        correct_answer = getResources().getResourceName(imageSelected);\n        correct_answer = correct_answer.substring(correct_answer.lastIndexOf(&quot;/&quot;) + 1);\n\n        answer = correct_answer.toCharArray();\n\n        fourinfoassucommon.user_submit_answer = new char[answer.length];\n\n        suggestSource.clear();\n        for (char item : answer) {\n            suggestSource.add(String.valueOf(item));\n\n</code></pre>\n"},{"tags":["java","xml-parsing"],"comments":[{"owner":{"account_id":5609307,"reputation":1839,"user_id":4442714,"display_name":"Matthias Wiehl"},"score":0,"creation_date":1673267487,"post_id":75057126,"comment_id":132452773,"body_markdown":"I doubt that you tried to run the code you pasted as the syntax obviously is incorrect. Please fix the formatting of your post.","body":"I doubt that you tried to run the code you pasted as the syntax obviously is incorrect. Please fix the formatting of your post."},{"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"score":0,"creation_date":1673273179,"post_id":75057126,"comment_id":132455002,"body_markdown":"@MatthiasWiehl : fixed the formatting and compiler errors.","body":"@MatthiasWiehl : fixed the formatting and compiler errors."},{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1673292042,"post_id":75057126,"comment_id":132461852,"body_markdown":"Your XML has `City/value` but you&#39;re only attempting the text content of `City`, there is no `TextContent` for City, you need to go one level deeper.","body":"Your XML has <code>City&#47;value</code> but you&#39;re only attempting the text content of <code>City</code>, there is no <code>TextContent</code> for City, you need to go one level deeper."},{"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"score":0,"creation_date":1673328061,"post_id":75057126,"comment_id":132468186,"body_markdown":"@kendavidson: I tried with the xpath &quot;//Customer/State/City/value&quot; but still the issue persists.","body":"@kendavidson: I tried with the xpath &quot;//Customer/State/City/value&quot; but still the issue persists."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1673339382,"post_id":75057126,"comment_id":132470683,"body_markdown":"Works fine for me at https://github.com/martin-honnen/XPathSO75057126, outputs the changed XML as e.g. `&lt;Customer&gt;&lt;State&gt;&lt;value&gt;Andhra&lt;/value&gt;&lt;City&gt;&lt;value&gt;Hyderabad&lt;/value&gt;&lt;/City&gt;&lt;/State&gt;&lt;/Customer&gt;`","body":"Works fine for me at <a href=\"https://github.com/martin-honnen/XPathSO75057126\" rel=\"nofollow noreferrer\">github.com/martin-honnen/XPathSO75057126</a>, outputs the changed XML as e.g. <code>&lt;Customer&gt;&lt;State&gt;&lt;value&gt;Andhra&lt;&#47;value&gt;&lt;City&gt;&lt;value&gt;Hyderabad&zwnj;&#8203;&lt;&#47;value&gt;&lt;&#47;City&gt;&lt;&#47;Sta&zwnj;&#8203;te&gt;&lt;&#47;Customer&gt;</code>"}],"owner":{"account_id":20322964,"reputation":21,"user_id":14907157,"display_name":"ash_kmt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673273130,"creation_date":1673266415,"question_id":75057126,"body_markdown":"I need to design a utility which searches node using input xpath in XML document and set its value as per given input.\r\n\r\n```\r\nimport java.io.File;\r\n\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport javax.xml.xpath.XPath;\r\nimport javax.xml.xpath.XPathConstants;\r\nimport javax.xml.xpath.XPathFactory;\r\n\r\nimport org.apache.commons.io.FileUtils;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Node;\r\npublic class XMLUtil \r\n{\r\n\r\n\t\tprivate XPath xPath;\r\n\t\tprivate Document xmlDoc;\r\n\t\tprivate String xmlName;\r\n\r\n\t\tpublic XMLUtil(String xmlName) {\r\n\t\t\tthis.xmlName = xmlName;\r\n\t\t\tSystem.out.println(System.getProperty(&quot;user.dir&quot;));\r\n\t\t\tFile srcXMLFile = new File(System.getProperty(&quot;user.dir&quot;) + xmlName);\r\n\t\t\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\t\t\ttry {\r\n\t\t\t\txmlDoc = factory.newDocumentBuilder().parse(srcXMLFile);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\txPath = XPathFactory.newInstance().newXPath();\r\n\t\t}\r\n\r\n\t\tpublic void changeXMLNodeValue(String xpath, String query) {\r\n\t\t\ttry {\r\n\t\t\t\t\t\t\r\n\t\t\tNode node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\r\n\t\t\tnode.setTextContent(query);\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\tpublic static void main(String[] args) { \r\n\t\tXMLUtil xmlUtil = new XMLUtil(&quot;tc01.xml&quot;); \r\n\txmlUtil.changeXMLNodeValue(&quot;//Customer/State/City&quot;,&quot;Hyderabad&quot;);\r\n\t}\r\n\t}\r\n\r\n```\r\nXML File:tc01.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Customer&gt;\r\n&lt;State&gt;\r\n&lt;value&gt;Andhra&lt;/value&gt;\r\n&lt;City&gt;\r\n&lt;value&gt;amravati&lt;/value&gt;\r\n&lt;/City&gt;\r\n&lt;/State&gt;\r\n&lt;/Customer&gt;\r\n\r\n```\r\n&gt; Running the code is throwing NullPointerException at changeXMLNodeValue method on trying to compile and evalute the xpath to fetch the node.\r\n&gt; Node node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\r\n\r\n\r\n\r\nThis is a simple xml without any namespace requirement.\r\nI am using the API first please let me know if I missed something.","title":"javax.xml.xpath.XPath.evalute method could not resolve simple xpath","body":"<p>I need to design a utility which searches node using input xpath in XML document and set its value as per given input.</p>\n<pre><code>import java.io.File;\n\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport javax.xml.xpath.XPath;\nimport javax.xml.xpath.XPathConstants;\nimport javax.xml.xpath.XPathFactory;\n\nimport org.apache.commons.io.FileUtils;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Node;\npublic class XMLUtil \n{\n\n        private XPath xPath;\n        private Document xmlDoc;\n        private String xmlName;\n\n        public XMLUtil(String xmlName) {\n            this.xmlName = xmlName;\n            System.out.println(System.getProperty(&quot;user.dir&quot;));\n            File srcXMLFile = new File(System.getProperty(&quot;user.dir&quot;) + xmlName);\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n            try {\n                xmlDoc = factory.newDocumentBuilder().parse(srcXMLFile);\n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n            xPath = XPathFactory.newInstance().newXPath();\n        }\n\n        public void changeXMLNodeValue(String xpath, String query) {\n            try {\n                        \n            Node node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);\n            node.setTextContent(query);\n                \n            } catch (Exception e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n    \n    public static void main(String[] args) { \n        XMLUtil xmlUtil = new XMLUtil(&quot;tc01.xml&quot;); \n    xmlUtil.changeXMLNodeValue(&quot;//Customer/State/City&quot;,&quot;Hyderabad&quot;);\n    }\n    }\n\n</code></pre>\n<p>XML File:tc01.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Customer&gt;\n&lt;State&gt;\n&lt;value&gt;Andhra&lt;/value&gt;\n&lt;City&gt;\n&lt;value&gt;amravati&lt;/value&gt;\n&lt;/City&gt;\n&lt;/State&gt;\n&lt;/Customer&gt;\n\n</code></pre>\n<blockquote>\n<p>Running the code is throwing NullPointerException at changeXMLNodeValue method on trying to compile and evalute the xpath to fetch the node.\nNode node = (Node) xPath.compile(xpath).evaluate(xmlDoc, XPathConstants.NODE);</p>\n</blockquote>\n<p>This is a simple xml without any namespace requirement.\nI am using the API first please let me know if I missed something.</p>\n"},{"tags":["java","android","inputstream"],"answers":[{"tags":[],"owner":{"account_id":2161651,"reputation":2722,"user_id":1915697,"accept_rate":89,"display_name":"Yogesh Tatwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1445963163,"creation_date":1360643487,"answer_id":14825401,"question_id":14825374,"body_markdown":"try this \r\n\r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.widget.Toast;\r\n    import java.io.*;\r\n    \r\n    public class FileDemo1 extends Activity {\r\n        \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            try {\r\n                playWithRawFiles();\r\n            } catch (IOException e) {\r\n                Toast.makeText(getApplicationContext(), &quot;Problems: &quot; + e.getMessage(), 1).show();\r\n            }\r\n        }\r\n        \r\n        public void playWithRawFiles() throws IOException {      \r\n            String str = &quot;&quot;;\r\n            StringBuffer buf = new StringBuffer();            \r\n            InputStream is = this.getResources().openRawResource(R.drawable.my_base_data);\r\n            try {\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n                if (is != null) {                            \r\n                    while ((str = reader.readLine()) != null) {    \r\n                        buf.append(str + &quot;\\n&quot; );\r\n                    }                \r\n                }\r\n            } finally {\r\n                try { is.close(); } catch (Throwable ignore) {}\r\n            }\r\n            Toast.makeText(getBaseContext(), buf.toString(), Toast.LENGTH_LONG).show();\r\n        }\r\n    }","title":"Reading a textfile using InputStream","body":"<p>try this </p>\n\n<pre><code>import android.app.Activity;\nimport android.os.Bundle;\nimport android.widget.Toast;\nimport java.io.*;\n\npublic class FileDemo1 extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        try {\n            playWithRawFiles();\n        } catch (IOException e) {\n            Toast.makeText(getApplicationContext(), \"Problems: \" + e.getMessage(), 1).show();\n        }\n    }\n\n    public void playWithRawFiles() throws IOException {      \n        String str = \"\";\n        StringBuffer buf = new StringBuffer();            \n        InputStream is = this.getResources().openRawResource(R.drawable.my_base_data);\n        try {\n            BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n            if (is != null) {                            \n                while ((str = reader.readLine()) != null) {    \n                    buf.append(str + \"\\n\" );\n                }                \n            }\n        } finally {\n            try { is.close(); } catch (Throwable ignore) {}\n        }\n        Toast.makeText(getBaseContext(), buf.toString(), Toast.LENGTH_LONG).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1130033,"reputation":6889,"user_id":1116354,"accept_rate":94,"display_name":"Vinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1360643881,"creation_date":1360643881,"answer_id":14825459,"question_id":14825374,"body_markdown":"Use `BufferedReader` to read the input stream. As `BufferedReader` will read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. `InputStream` represents an input stream of bytes. `reader.readLine()` will read the file line by line. \r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n    StringBuilder out = new StringBuilder();\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        out.append(line);   // add everything to StringBuilder \r\n        // here you can have your logic of comparison.\r\n        if(line.toString().equals(&quot;.&quot;)) {\r\n            // do something\r\n        } \r\n\r\n    }","title":"Reading a textfile using InputStream","body":"<p>Use <code>BufferedReader</code> to read the input stream. As <code>BufferedReader</code> will read text from a character-input stream, buffering characters so as to provide for the efficient reading of characters, arrays, and lines. <code>InputStream</code> represents an input stream of bytes. <code>reader.readLine()</code> will read the file line by line. </p>\n\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(in));\nStringBuilder out = new StringBuilder();\nString line;\nwhile ((line = reader.readLine()) != null) {\n    out.append(line);   // add everything to StringBuilder \n    // here you can have your logic of comparison.\n    if(line.toString().equals(\".\")) {\n        // do something\n    } \n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1503476468,"post_id":45833906,"comment_id":78625810,"body_markdown":"It would help to provide context to how and where to use your code","body":"It would help to provide context to how and where to use your code"},{"owner":{"account_id":11610430,"reputation":11,"user_id":8504818,"display_name":"Ziyad"},"score":0,"creation_date":1503477914,"post_id":45833906,"comment_id":78626755,"body_markdown":"if you have any txt file and u want to read that text file using  FileInputStream you can do so and.......... in your  File fe=new File(abc.txt); and this will be display in your console  read data String str=new String(data);\n                System.out.println(str);","body":"if you have any txt file and u want to read that text file using  FileInputStream you can do so and.......... in your  File fe=new File(abc.txt); and this will be display in your console  read data String str=new String(data);                 System.out.println(str);"}],"tags":[],"owner":{"account_id":11610430,"reputation":11,"user_id":8504818,"display_name":"Ziyad"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673273025,"creation_date":1503475092,"answer_id":45833906,"question_id":14825374,"body_markdown":"                   \r\n\tFile fe = new File(&quot;abc.txt&quot;);\r\n\tFileInputStream fis = new FileInputStream(fe);\r\n\tbyte data[] = new byte[fis.available()];\r\n\tfis.read(data);\r\n\tfis.close();\r\n\tString str = new String(data);\r\n\tSystem.out.println(str);\r\n","title":"Reading a textfile using InputStream","body":"<pre><code>File fe = new File(&quot;abc.txt&quot;);\nFileInputStream fis = new FileInputStream(fe);\nbyte data[] = new byte[fis.available()];\nfis.read(data);\nfis.close();\nString str = new String(data);\nSystem.out.println(str);\n</code></pre>\n"}],"owner":{"account_id":2058644,"reputation":621,"user_id":1835779,"accept_rate":81,"display_name":"RE60K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91681,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":14825401,"answer_count":3,"score":26,"last_activity_date":1673273025,"creation_date":1360643270,"question_id":14825374,"body_markdown":"How can I read a text file like in android app:\r\n\r\n    &quot;1.something written\r\n    2.in this file\r\n    3.is to be read by\r\n    4.the InputStream\r\n    ...&quot;\r\n\r\nso I can be returned a string like:\r\n\r\n    &quot;something written\\nin this file\\nis to be read by\\nthe InputStream&quot;\r\n\r\nwhat I thought of is(Pseudocode):\r\n\r\n    make an inputstream\r\n    is = getAssest().open(&quot;textfile.txt&quot;);  //in try and catch\r\n    for loop{\r\n    string = is.read() and if it equals &quot;.&quot; (i.e. from 1., 2., 3. etc) add &quot;/n&quot; ...\r\n    }\r\n    ","title":"Reading a textfile using InputStream","body":"<p>How can I read a text file like in android app:</p>\n\n<pre><code>\"1.something written\n2.in this file\n3.is to be read by\n4.the InputStream\n...\"\n</code></pre>\n\n<p>so I can be returned a string like:</p>\n\n<pre><code>\"something written\\nin this file\\nis to be read by\\nthe InputStream\"\n</code></pre>\n\n<p>what I thought of is(Pseudocode):</p>\n\n<pre><code>make an inputstream\nis = getAssest().open(\"textfile.txt\");  //in try and catch\nfor loop{\nstring = is.read() and if it equals \".\" (i.e. from 1., 2., 3. etc) add \"/n\" ...\n}\n</code></pre>\n"},{"tags":["java","jgit"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1673084811,"post_id":75039051,"comment_id":132421589,"body_markdown":"interesting question, 1+; but what did you try? It might be easier to think in reverse, like how would you solve that with plain command line and then reverse engineer to jgit","body":"interesting question, 1+; but what did you try? It might be easier to think in reverse, like how would you solve that with plain command line and then reverse engineer to jgit"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1673085687,"post_id":75039051,"comment_id":132421688,"body_markdown":"jgit is still a bit of a mystery to me. I tried to find information about changed files in RevCommit, and I also tried to google this, but had the impression that trying to list all changed files etc. is overkill.","body":"jgit is still a bit of a mystery to me. I tried to find information about changed files in RevCommit, and I also tried to google this, but had the impression that trying to list all changed files etc. is overkill."}],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272975,"creation_date":1673251164,"answer_id":75054468,"question_id":75039051,"body_markdown":"In the high-level API of JGit you can use [Git.log()][1] with &quot;addPath&quot; to get a simple list of related commits. \r\n\r\n       logs = git.log()\r\n                .addPath(&quot;pom.xml&quot;)\r\n                .call();\r\n\r\nSee this [snippet][2] in the [jgit-cookbook][7] for a ready-to-run example.\r\n\r\nIn general the methods on the entry-class [Git][3] provide similar functionality to the regular git commands.\r\n\r\n---\r\n\r\nFor the low-level API which provides much more fine-grained control/results, you can use [Git.diff()][4] with &quot;newTree&quot; and &quot;oldTree&quot; and a &quot;pathFilter&quot;. The trees are constructed via [RevWalk][5] and [CanonicalTreeParser][6]\r\n\r\nThere is a related snippet for this approach in the [jgit-cookbook][7] at [ShowFileDiff.java][8]\r\n\r\n\r\n  [1]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#log()\r\n  [2]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowLog.java#L99\r\n  [3]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html\r\n  [4]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#diff()\r\n  [5]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/revwalk/RevWalk.html\r\n  [6]: https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/treewalk/CanonicalTreeParser.html\r\n  [7]: https://github.com/centic9/jgit-cookbook\r\n  [8]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowFileDiff.java","title":"Find all commits that changed a given directory from Java","body":"<p>In the high-level API of JGit you can use <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#log()\" rel=\"nofollow noreferrer\">Git.log()</a> with &quot;addPath&quot; to get a simple list of related commits.</p>\n<pre><code>   logs = git.log()\n            .addPath(&quot;pom.xml&quot;)\n            .call();\n</code></pre>\n<p>See this <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowLog.java#L99\" rel=\"nofollow noreferrer\">snippet</a> in the <a href=\"https://github.com/centic9/jgit-cookbook\" rel=\"nofollow noreferrer\">jgit-cookbook</a> for a ready-to-run example.</p>\n<p>In general the methods on the entry-class <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html\" rel=\"nofollow noreferrer\">Git</a> provide similar functionality to the regular git commands.</p>\n<hr />\n<p>For the low-level API which provides much more fine-grained control/results, you can use <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/api/Git.html#diff()\" rel=\"nofollow noreferrer\">Git.diff()</a> with &quot;newTree&quot; and &quot;oldTree&quot; and a &quot;pathFilter&quot;. The trees are constructed via <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/revwalk/RevWalk.html\" rel=\"nofollow noreferrer\">RevWalk</a> and <a href=\"https://download.eclipse.org/jgit/site/6.3.0.202209071007-r/apidocs/org/eclipse/jgit/treewalk/CanonicalTreeParser.html\" rel=\"nofollow noreferrer\">CanonicalTreeParser</a></p>\n<p>There is a related snippet for this approach in the <a href=\"https://github.com/centic9/jgit-cookbook\" rel=\"nofollow noreferrer\">jgit-cookbook</a> at <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowFileDiff.java\" rel=\"nofollow noreferrer\">ShowFileDiff.java</a></p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673272975,"creation_date":1673080816,"question_id":75039051,"body_markdown":"I write a Java program, and I use jgit. In this Java program, I want to list all commits of some git repository `g` that changed at least one file in a directory `x`.\r\n\r\nI do not want to solve the problem &quot;on command line&quot;, but within Java.","title":"Find all commits that changed a given directory from Java","body":"<p>I write a Java program, and I use jgit. In this Java program, I want to list all commits of some git repository <code>g</code> that changed at least one file in a directory <code>x</code>.</p>\n<p>I do not want to solve the problem &quot;on command line&quot;, but within Java.</p>\n"},{"tags":["java","macos"],"comments":[{"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"score":0,"creation_date":1670860763,"post_id":74744794,"comment_id":131965411,"body_markdown":"Well, I see, someone didn&#39;t like the question but did not bother to give a constructive contribution. That&#39;s not how it is supposed to be","body":"Well, I see, someone didn&#39;t like the question but did not bother to give a constructive contribution. That&#39;s not how it is supposed to be"}],"answers":[{"tags":[],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272734,"creation_date":1673263524,"answer_id":75056591,"question_id":74744794,"body_markdown":"After a lot of headaches and try and error, I can luckily provide a solution to my problem.\r\n\r\n1. The short version: **I used to have two executables, one calling the other, the other executing the java code.** This lead to my problems described above.\r\n\r\n2. The longer version:\r\nThe executable that is registered in Info.plist under `&lt;key&gt;CFBundleExecutable&lt;/key&gt;` used to be a one liner whose only purpose was to redirect all output (standard and error) to a local logfile inside the applications *Contents* folder.\r\n\r\n    `exec JavaApplicationStub &gt;&gt; &quot;../$USER&quot;.log 2&gt;&amp;1`\r\n\r\n   JavaApplicationStub was for a long while a compiled executable taking care of loading the correct VM and passing the VM-Options defined in Info.plist. It was then first replaced by the non-compiled [UniversalJavaApplicationStub][1], later by a compiled version of it (slightly modified in order not to log to syslog). Basically it analizes the entries defined under Java/JavaX and then starts java\r\n  \r\n   `exec java [VM Options] [Arguments] mainClass `.\r\n\r\n   With the advent of macOS 11, I had to compile even my one liner script, which with [shc][2] is not an issue. My App opened smoothly when clicked on it, but it started to show problems opening files by double-clicking them. Depending on the OS I fed it with different versions of the launch executables, which lead to the different behaviour.\r\n\r\nThe **solution** was to modify *UniversalJavaApplicationStub* and then recompiling it in order to directly redirect all output to the local logfile, making the sequential call of the two executables unnecessary.\r\n\r\nI haven&#39;t read anywhere that it is bad practice to have different executables, and for a long while this wasn&#39;t a problem either. For some reasons the `AppEvent.OpenFilesEvent` is no longer passed to the Java-App under these circumstances.\r\n\r\n\r\n  [1]: https://github.com/tofi86/universalJavaApplicationStub\r\n  [2]: https://github.com/neurobin/shc","title":"OpenFilesHandler not working anymore under macOS 10.15 and higher","body":"<p>After a lot of headaches and try and error, I can luckily provide a solution to my problem.</p>\n<ol>\n<li><p>The short version: <strong>I used to have two executables, one calling the other, the other executing the java code.</strong> This lead to my problems described above.</p>\n</li>\n<li><p>The longer version:\nThe executable that is registered in Info.plist under <code>&lt;key&gt;CFBundleExecutable&lt;/key&gt;</code> used to be a one liner whose only purpose was to redirect all output (standard and error) to a local logfile inside the applications <em>Contents</em> folder.</p>\n<p><code>exec JavaApplicationStub &gt;&gt; &quot;../$USER&quot;.log 2&gt;&amp;1</code></p>\n<p>JavaApplicationStub was for a long while a compiled executable taking care of loading the correct VM and passing the VM-Options defined in Info.plist. It was then first replaced by the non-compiled <a href=\"https://github.com/tofi86/universalJavaApplicationStub\" rel=\"nofollow noreferrer\">UniversalJavaApplicationStub</a>, later by a compiled version of it (slightly modified in order not to log to syslog). Basically it analizes the entries defined under Java/JavaX and then starts java</p>\n<p><code>exec java [VM Options] [Arguments] mainClass </code>.</p>\n<p>With the advent of macOS 11, I had to compile even my one liner script, which with <a href=\"https://github.com/neurobin/shc\" rel=\"nofollow noreferrer\">shc</a> is not an issue. My App opened smoothly when clicked on it, but it started to show problems opening files by double-clicking them. Depending on the OS I fed it with different versions of the launch executables, which lead to the different behaviour.</p>\n</li>\n</ol>\n<p>The <strong>solution</strong> was to modify <em>UniversalJavaApplicationStub</em> and then recompiling it in order to directly redirect all output to the local logfile, making the sequential call of the two executables unnecessary.</p>\n<p>I haven't read anywhere that it is bad practice to have different executables, and for a long while this wasn't a problem either. For some reasons the <code>AppEvent.OpenFilesEvent</code> is no longer passed to the Java-App under these circumstances.</p>\n"}],"owner":{"account_id":12448976,"reputation":351,"user_id":9064287,"display_name":"nhaggen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673272734,"creation_date":1670597882,"question_id":74744794,"body_markdown":"I have a Java Application for macOS with a proprietary file type.\r\nWhen double-clicking such a proprietary file, the application should open and load the file. If the application is already open, the selected file should be opened in a new application-window.\r\n\r\nThis used to work and still works on older macOS (e.g. 10.13), on 10.15 however this only works when the application is not open yet. If the application is already open, Finder plays the &quot;*animation for opening a file*&quot;, but nothing happens.\r\n\r\nI played around a while with old versions, settings in **info.plist**, Launching executables (ApplicationStub) and got following results.\r\n\r\n| App Status    /    OS | macOS 10.13 | macOS 10.15 | macOS 12 |\r\n| --------------------- | ----------- | ----------- | -------- |\r\n|App is closed when double-click| opens App and Document | opens App and Document | opens App only |\r\n|App is open when double-click | opens App and Document | nothing | nothing |\r\n\r\nThe difference between macOS 10.15 and macOS 12 is to be found in the Executable that launches the Java-application. Until 10.15 a non compiled script is accepted, later on it must be compiled (so the two apps are not identical but Java code is unchanged)\r\n\r\nWhen double-clicking on a file, i would expect `public void handleOpenFile(AppEvent.OpenFilesEvent event)` to be called, but it isn&#39;t.\r\n\r\nSince on macOS 10.15 I get the Application to launch and open the selected Document, I suppose the Settings in **info.plist** are correct and the **OpenFilesHandler** correctly registered.\r\n\r\nSo I suppose there is something in macOS 10.15 and later that disturbs `com.apple.eawt.OpenFilesHandler`.\r\n\r\nHas anybody encountered this problem and found a solution for it? Or any ideas where the problem could be located?\r\n\r\nMy code is written and executed in Java-8, I develop on macOS 10.15 but have access to older and newer systems.\r\n\r\nThis is not a duplicate of https://stackoverflow.com/q/23750594/9064287, since at time the other question was written, my Application was still opening smoothly and the OS-Versions that are causing me troubles were far from being released.\r\n\r\nI don&#39;t think it&#39;s related with https://stackoverflow.com/q/54081531/9064287 , since I have mostly problems when the application is already running, there it seems that the handler was missing at startup (besides it&#39;s using Desktop class)","title":"OpenFilesHandler not working anymore under macOS 10.15 and higher","body":"<p>I have a Java Application for macOS with a proprietary file type.\nWhen double-clicking such a proprietary file, the application should open and load the file. If the application is already open, the selected file should be opened in a new application-window.</p>\n<p>This used to work and still works on older macOS (e.g. 10.13), on 10.15 however this only works when the application is not open yet. If the application is already open, Finder plays the &quot;<em>animation for opening a file</em>&quot;, but nothing happens.</p>\n<p>I played around a while with old versions, settings in <strong>info.plist</strong>, Launching executables (ApplicationStub) and got following results.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>App Status    /    OS</th>\n<th>macOS 10.13</th>\n<th>macOS 10.15</th>\n<th>macOS 12</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>App is closed when double-click</td>\n<td>opens App and Document</td>\n<td>opens App and Document</td>\n<td>opens App only</td>\n</tr>\n<tr>\n<td>App is open when double-click</td>\n<td>opens App and Document</td>\n<td>nothing</td>\n<td>nothing</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The difference between macOS 10.15 and macOS 12 is to be found in the Executable that launches the Java-application. Until 10.15 a non compiled script is accepted, later on it must be compiled (so the two apps are not identical but Java code is unchanged)</p>\n<p>When double-clicking on a file, i would expect <code>public void handleOpenFile(AppEvent.OpenFilesEvent event)</code> to be called, but it isn't.</p>\n<p>Since on macOS 10.15 I get the Application to launch and open the selected Document, I suppose the Settings in <strong>info.plist</strong> are correct and the <strong>OpenFilesHandler</strong> correctly registered.</p>\n<p>So I suppose there is something in macOS 10.15 and later that disturbs <code>com.apple.eawt.OpenFilesHandler</code>.</p>\n<p>Has anybody encountered this problem and found a solution for it? Or any ideas where the problem could be located?</p>\n<p>My code is written and executed in Java-8, I develop on macOS 10.15 but have access to older and newer systems.</p>\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/q/23750594/9064287\">OpenFilesHandler no longer works in Mac OS X</a>, since at time the other question was written, my Application was still opening smoothly and the OS-Versions that are causing me troubles were far from being released.</p>\n<p>I don't think it's related with <a href=\"https://stackoverflow.com/q/54081531/9064287\">Desktop.setOpenFileHandler doesn&#39;t work when program isn&#39;t running</a> , since I have mostly problems when the application is already running, there it seems that the handler was missing at startup (besides it's using Desktop class)</p>\n"},{"tags":["java","google-ad-manager"],"owner":{"account_id":27478094,"reputation":1,"user_id":20965723,"display_name":"RAJI HEMANTH KUMAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673272621,"creation_date":1673272621,"question_id":75058313,"body_markdown":"I am trying to attain TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS from Google Ad Manager report service API, but am getting this error: [ReportError.COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSIONS @ columns; trigger:&#39;TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS&#39;]\r\n\r\nMy code is as shown below:\r\n\r\n```\r\nReportQuery reportQuery = new ReportQuery();\r\nreportQuery.setDimensions(new Dimension[]\r\n{\r\nDimension.DATE,\r\nDimension.ORDER_ID,\r\nDimension.ORDER_NAME,\r\nDimension.AD_UNIT_ID,\r\nDimension.AD_UNIT_NAME,\r\nDimension.LINE_ITEM_ID,\r\nDimension.LINE_ITEM_NAME,\r\nDimension.LINE_ITEM_TYPE\r\n});\r\nreportQuery.setDimensionAttributes(new DimensionAttribute[]\r\n{DimensionAttribute.ORDER_START_DATE_TIME, DimensionAttribute.ORDER_END_DATE_TIME});\r\nreportQuery.setColumns(new Column[] {Column.TOTAL_CODE_SERVED_COUNT, Column.TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS});\r\n```\r\n\r\n\r\nTried getting unfilled impression but unsure what dimension is supposed to be used, but get this error mesage:\r\n\r\nCannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.google.api.ads.admanager.axis.v202208.ReportJob.getId()&quot; is null","title":"Google Ad Manager COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSION [TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS]","body":"<p>I am trying to attain TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS from Google Ad Manager report service API, but am getting this error: [ReportError.COLUMNS_NOT_SUPPORTED_FOR_REQUESTED_DIMENSIONS @ columns; trigger:'TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS']</p>\n<p>My code is as shown below:</p>\n<pre><code>ReportQuery reportQuery = new ReportQuery();\nreportQuery.setDimensions(new Dimension[]\n{\nDimension.DATE,\nDimension.ORDER_ID,\nDimension.ORDER_NAME,\nDimension.AD_UNIT_ID,\nDimension.AD_UNIT_NAME,\nDimension.LINE_ITEM_ID,\nDimension.LINE_ITEM_NAME,\nDimension.LINE_ITEM_TYPE\n});\nreportQuery.setDimensionAttributes(new DimensionAttribute[]\n{DimensionAttribute.ORDER_START_DATE_TIME, DimensionAttribute.ORDER_END_DATE_TIME});\nreportQuery.setColumns(new Column[] {Column.TOTAL_CODE_SERVED_COUNT, Column.TOTAL_INVENTORY_LEVEL_UNFILLED_IMPRESSIONS});\n</code></pre>\n<p>Tried getting unfilled impression but unsure what dimension is supposed to be used, but get this error mesage:</p>\n<p>Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.google.api.ads.admanager.axis.v202208.ReportJob.getId()&quot; is null</p>\n"},{"tags":["java","android","android-keypad","inputmethodmanager"],"answers":[{"comments":[{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673274867,"post_id":75058310,"comment_id":132455708,"body_markdown":"Thanks for your response, but how can I listen to this event in the UI directly ?","body":"Thanks for your response, but how can I listen to this event in the UI directly ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673275386,"post_id":75058310,"comment_id":132455932,"body_markdown":"@Prasath: I do not know what you mean by &quot;listen to the event&quot;. You already appear to be listening to the event. Your error is coming from what you are doing *in response to the event*. That is because you are trying to use `AlertDialog` from outside of an activity, which will not work.","body":"@Prasath: I do not know what you mean by &quot;listen to the event&quot;. You already appear to be listening to the event. Your error is coming from what you are doing <i>in response to the event</i>. That is because you are trying to use <code>AlertDialog</code> from outside of an activity, which will not work."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673276004,"post_id":75058310,"comment_id":132456166,"body_markdown":"I understood Mark Murphy, to notify in the keyboard screen is a good option, but how to get the network unavailability event in the Keyboard event? please explain bit &#128591;","body":"I understood Mark Murphy, to notify in the keyboard screen is a good option, but how to get the network unavailability event in the Keyboard event? please explain bit 🙏"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1673276274,"post_id":75058310,"comment_id":132456276,"body_markdown":"@Prasath: Your `NetworkChangeListener` is already getting the event.","body":"@Prasath: Your <code>NetworkChangeListener</code> is already getting the event."},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673277899,"post_id":75058310,"comment_id":132456932,"body_markdown":"yes, it&#39;s , it&#39;s only crashing when it&#39;s creating the Alertdialog","body":"yes, it&#39;s , it&#39;s only crashing when it&#39;s creating the Alertdialog"},{"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"score":0,"creation_date":1673280901,"post_id":75058310,"comment_id":132458219,"body_markdown":"Murphy, I have done that using the callbacks, Thanks a lot ❤️","body":"Murphy, I have done that using the callbacks, Thanks a lot ❤️"}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673272602,"creation_date":1673272602,"answer_id":75058310,"question_id":75058232,"body_markdown":"`Dialog` and its subtypes, like `AlertDialog`, can only be used from an `Activity`, not other forms of `Context`.\r\n\r\nEither:\r\n\r\n- Show your message in your keyboard UI directly, or\r\n- Start an activity, perhaps one using a dialog theme, to show your message","title":"In Android, Is there any way to listen Network Changes in the InputMethodService class?","body":"<p><code>Dialog</code> and its subtypes, like <code>AlertDialog</code>, can only be used from an <code>Activity</code>, not other forms of <code>Context</code>.</p>\n<p>Either:</p>\n<ul>\n<li>Show your message in your keyboard UI directly, or</li>\n<li>Start an activity, perhaps one using a dialog theme, to show your message</li>\n</ul>\n"}],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058310,"answer_count":1,"score":0,"last_activity_date":1673272602,"creation_date":1673272237,"question_id":75058232,"body_markdown":"I&#39;m creating a custom keyboard in Android, whenever the keyboard popups, I want to show the popup when the network connection is interrupted,  I have tried this in Activity-based classes but this is a different scenario because it&#39;s a Service class. \r\n\r\nbut when it&#39;s starting run, keyboard crashes and getting this error message\r\n\r\n&gt; Error\r\n\r\n    Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\r\n                     \tat android.view.ViewRootImpl.setView(ViewRootImpl.java:1159)\r\n                     \tat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:399)\r\n                     \tat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n                     \tat android.app.Dialog.show(Dialog.java:345)\r\n                     \tat com.prasath.openaikeyboard.util.NetworkChangeListener.onReceive(NetworkChangeListener.java:25)\r\n                     \tat android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1679)\r\n\r\n\r\n\r\nThanks in Advance\r\n\r\n&gt; InputMethodService class\r\n\r\n    public class MyInputMethodService  extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\r\n        private static final String TAG = &quot;MyInputMethodService&quot;;\r\n        private NetworkChangeListener networkChangeListener=new NetworkChangeListener();\r\n    \r\n        @Override\r\n        public View onCreateInputView() {\r\n            KeyboardView keyboardView=(KeyboardView) getLayoutInflater().inflate(R.layout.keyboard_view,null);\r\n            Keyboard keyboard=new Keyboard(this,R.xml.numberpad);\r\n            keyboardView.setKeyboard(keyboard);\r\n            keyboardView.setOnKeyboardActionListener(this);\r\n            networkChangeListener=new NetworkChangeListener();\r\n            return keyboardView;\r\n    \r\n        }\r\n\r\n&gt; NetworkChangeListener class\r\n\r\n    public class NetworkChangeListener extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            if(!Common.isConnectedToInternet(context)){\r\n                AlertDialog.Builder builder=new AlertDialog.Builder(context);\r\n                View view= LayoutInflater.from(context).inflate(R.layout.check_internet_dialog,null);\r\n                builder.setView(view);\r\n    \r\n                Button button=view.findViewById(R.id.btnrefreshid);\r\n    \r\n                AlertDialog alertDialog=builder.create();\r\n                alertDialog.show();\r\n                alertDialog.setCancelable(false);\r\n    \r\n                alertDialog.getWindow().setGravity(Gravity.CENTER);\r\n    \r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        alertDialog.dismiss();\r\n                        onReceive(context,intent);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"In Android, Is there any way to listen Network Changes in the InputMethodService class?","body":"<p>I'm creating a custom keyboard in Android, whenever the keyboard popups, I want to show the popup when the network connection is interrupted,  I have tried this in Activity-based classes but this is a different scenario because it's a Service class.</p>\n<p>but when it's starting run, keyboard crashes and getting this error message</p>\n<blockquote>\n<p>Error</p>\n</blockquote>\n<pre><code>Caused by: android.view.WindowManager$BadTokenException: Unable to add window -- token null is not valid; is your activity running?\n                    at android.view.ViewRootImpl.setView(ViewRootImpl.java:1159)\n                    at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:399)\n                    at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\n                    at android.app.Dialog.show(Dialog.java:345)\n                    at com.prasath.openaikeyboard.util.NetworkChangeListener.onReceive(NetworkChangeListener.java:25)\n                    at android.app.LoadedApk$ReceiverDispatcher$Args.lambda$getRunnable$0$LoadedApk$ReceiverDispatcher$Args(LoadedApk.java:1679)\n</code></pre>\n<p>Thanks in Advance</p>\n<blockquote>\n<p>InputMethodService class</p>\n</blockquote>\n<pre><code>public class MyInputMethodService  extends InputMethodService implements KeyboardView.OnKeyboardActionListener {\n    private static final String TAG = &quot;MyInputMethodService&quot;;\n    private NetworkChangeListener networkChangeListener=new NetworkChangeListener();\n\n    @Override\n    public View onCreateInputView() {\n        KeyboardView keyboardView=(KeyboardView) getLayoutInflater().inflate(R.layout.keyboard_view,null);\n        Keyboard keyboard=new Keyboard(this,R.xml.numberpad);\n        keyboardView.setKeyboard(keyboard);\n        keyboardView.setOnKeyboardActionListener(this);\n        networkChangeListener=new NetworkChangeListener();\n        return keyboardView;\n\n    }\n</code></pre>\n<blockquote>\n<p>NetworkChangeListener class</p>\n</blockquote>\n<pre><code>public class NetworkChangeListener extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        if(!Common.isConnectedToInternet(context)){\n            AlertDialog.Builder builder=new AlertDialog.Builder(context);\n            View view= LayoutInflater.from(context).inflate(R.layout.check_internet_dialog,null);\n            builder.setView(view);\n\n            Button button=view.findViewById(R.id.btnrefreshid);\n\n            AlertDialog alertDialog=builder.create();\n            alertDialog.show();\n            alertDialog.setCancelable(false);\n\n            alertDialog.getWindow().setGravity(Gravity.CENTER);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    alertDialog.dismiss();\n                    onReceive(context,intent);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1673272529,"post_id":75058250,"comment_id":132454774,"body_markdown":"This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1673272662,"post_id":75058250,"comment_id":132454823,"body_markdown":"And note: or you just add print statements. If you dont understand what your code is doing then first use a piece of paper an write down what you THINK you should happen and then have your code PRINT what is doing to...","body":"And note: or you just add print statements. If you dont understand what your code is doing then first use a piece of paper an write down what you THINK you should happen and then have your code PRINT what is doing to..."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1673275434,"post_id":75058250,"comment_id":132455953,"body_markdown":"Check the for-loop&#39;s condition. That will only be true when `num` is empty (and then it will remain true until `i` overflows from `Integer.MIN_VALUE` to `Integer.MAX_VALUE`).","body":"Check the for-loop&#39;s condition. That will only be true when <code>num</code> is empty (and then it will remain true until <code>i</code> overflows from <code>Integer.MIN_VALUE</code> to <code>Integer.MAX_VALUE</code>)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1673277883,"post_id":75058250,"comment_id":132456925,"body_markdown":"if the `result` is `null` I would suspect that: it is never being initialized; and that the loop is never being executed || Hints: there is no reason for `result` to be a field instead of a local variable; no reason for it to be `Integer` instead of `int` (same for return type of method); check the condition of the `for` loop (it is not meant for be the terminating condition, but the condition for looping)","body":"if the <code>result</code> is <code>null</code> I would suspect that: it is never being initialized; and that the loop is never being executed || Hints: there is no reason for <code>result</code> to be a field instead of a local variable; no reason for it to be <code>Integer</code> instead of <code>int</code> (same for return type of method); check the condition of the <code>for</code> loop (it is not meant for be the terminating condition, but the condition for looping)"}],"owner":{"account_id":14262563,"reputation":21,"user_id":10302822,"display_name":"David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673272328,"creation_date":1673272328,"question_id":75058250,"body_markdown":"\r\n```\r\nimport java.util.HashMap;\r\n\r\npublic class Rtoi{\r\n\r\n    private HashMap&lt;Character,Integer&gt; rn = new HashMap&lt;Character,Integer&gt;();\r\n    Character[] input;\r\n    Integer result;\r\n    //constructor\r\n    public Rtoi(){\r\n        rn.put(&#39;I&#39;, 1);\r\n        rn.put(&#39;V&#39;, 5);\r\n        rn.put(&#39;X&#39;, 10);\r\n        rn.put(&#39;L&#39;, 50);\r\n        rn.put(&#39;C&#39;, 100);\r\n        rn.put(&#39;D&#39;, 500);\r\n        rn.put(&#39;M&#39;, 1000);\r\n    }\r\n    public Integer convert(String num){\r\n  \r\n        //read frm right to left\r\n        for(int i=num.length()-1;i&lt;0;i--){\r\n            Character current =num.charAt(i);\r\n            Character next =num.charAt(i-1);\r\n            if(rn.get(current)&lt;=rn.get(next)){\r\n                result += rn.get(current);\r\n            }\r\n            else{\r\n                result -= rn.get(current);\r\n            }\r\n        }\r\n        return result;\r\n\r\n    }\r\n}\r\n```\r\nThe method convert get a string of roman num to convert to integer but it return a default value result\r\n\r\ntested using the string = &quot;MMXVIII&quot;","title":"For loop and if statement not working when comparing value from a HashMap in java","body":"<pre><code>import java.util.HashMap;\n\npublic class Rtoi{\n\n    private HashMap&lt;Character,Integer&gt; rn = new HashMap&lt;Character,Integer&gt;();\n    Character[] input;\n    Integer result;\n    //constructor\n    public Rtoi(){\n        rn.put('I', 1);\n        rn.put('V', 5);\n        rn.put('X', 10);\n        rn.put('L', 50);\n        rn.put('C', 100);\n        rn.put('D', 500);\n        rn.put('M', 1000);\n    }\n    public Integer convert(String num){\n  \n        //read frm right to left\n        for(int i=num.length()-1;i&lt;0;i--){\n            Character current =num.charAt(i);\n            Character next =num.charAt(i-1);\n            if(rn.get(current)&lt;=rn.get(next)){\n                result += rn.get(current);\n            }\n            else{\n                result -= rn.get(current);\n            }\n        }\n        return result;\n\n    }\n}\n</code></pre>\n<p>The method convert get a string of roman num to convert to integer but it return a default value result</p>\n<p>tested using the string = &quot;MMXVIII&quot;</p>\n"},{"tags":["java","spring","rest","http"],"comments":[{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1625831784,"post_id":68315228,"comment_id":120738809,"body_markdown":"can you see me your url with request Param","body":"can you see me your url with request Param"}],"answers":[{"tags":[],"owner":{"account_id":167329,"reputation":604,"user_id":392061,"accept_rate":43,"display_name":"DavesPlanet"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673045775,"creation_date":1673045775,"answer_id":75036843,"question_id":68315228,"body_markdown":"It looks like you posted binary data to a controller that takes a String. If that isn&#39;t the case then this error can also be cause by the controller receiving a partial payload due to timeout or network loss.","title":"Required request parameter &#39;image&#39; for method parameter type String is not present","body":"<p>It looks like you posted binary data to a controller that takes a String. If that isn't the case then this error can also be cause by the controller receiving a partial payload due to timeout or network loss.</p>\n"}],"owner":{"account_id":22167816,"reputation":1,"user_id":16413721,"display_name":"DanielGopnik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":932,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673272293,"creation_date":1625826325,"question_id":68315228,"body_markdown":"I have a problem with spring http method\r\n```\r\n    @PutMapping(&quot;/book/photo/{id}&quot;)\r\n    public ResponseEntity&lt;?&gt; updatePhoto(@PathVariable(&quot;id&quot;) long id, @RequestParam(&quot;image&quot;) String image)\r\n    {\r\n        try\r\n        {\r\n            bookService.updateImage(id,null);\r\n        }\r\n        catch (BadRequestIdException e)\r\n        {\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(e.getMessage());\r\n        }\r\n        return ResponseEntity.ok(&quot;PHOTO WAS UPDATED&quot;);\r\n    }\r\n```\r\n![enter image description here][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tAodq.png\r\n\r\nWhen I run this in postman I get response\r\n\r\n```none\r\n2021-07-09 12:17:52.768  WARN 2860 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \r\n[org.springframework.web.bind.MissingServletRequestParameterException: \r\nRequired request parameter &#39;image&#39; for method parameter type String is not present]\r\n```\r\n\r\nWhy doesn&#39;t it work?\r\n","title":"Required request parameter &#39;image&#39; for method parameter type String is not present","body":"<p>I have a problem with spring http method</p>\n<pre><code>    @PutMapping(&quot;/book/photo/{id}&quot;)\n    public ResponseEntity&lt;?&gt; updatePhoto(@PathVariable(&quot;id&quot;) long id, @RequestParam(&quot;image&quot;) String image)\n    {\n        try\n        {\n            bookService.updateImage(id,null);\n        }\n        catch (BadRequestIdException e)\n        {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(e.getMessage());\n        }\n        return ResponseEntity.ok(&quot;PHOTO WAS UPDATED&quot;);\n    }\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/tAodq.png\" alt=\"enter image description here\" /></p>\n<p>When I run this in postman I get response</p>\n<pre class=\"lang-none prettyprint-override\"><code>2021-07-09 12:17:52.768  WARN 2860 --- [nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved \n[org.springframework.web.bind.MissingServletRequestParameterException: \nRequired request parameter 'image' for method parameter type String is not present]\n</code></pre>\n<p>Why doesn't it work?</p>\n"},{"tags":["java","gradle","groovy","processbuilder"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672963908,"post_id":75024927,"comment_id":132397781,"body_markdown":"There is no foolproof way to do this.  If your Java process gets forcibly killed, a shutdown hook will not be invoked.  If you&#39;re running in an IDE the shutdown hook may not be invoked until the JVM terminates (depending on how the IDE manages debug/run sessions).  The usual way this is handled in Linux is for processes to write their PID to a file, usually in `/var/run/[programname].pid` and then check on startup to see if that process is still running.","body":"There is no foolproof way to do this.  If your Java process gets forcibly killed, a shutdown hook will not be invoked.  If you&#39;re running in an IDE the shutdown hook may not be invoked until the JVM terminates (depending on how the IDE manages debug/run sessions).  The usual way this is handled in Linux is for processes to write their PID to a file, usually in <code>&#47;var&#47;run&#47;[programname].pid</code> and then check on startup to see if that process is still running."},{"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"score":0,"creation_date":1672975193,"post_id":75024927,"comment_id":132399294,"body_markdown":"@JimGarrison What I am expecting is that when I presss the Stop button in IntelliJ, the main application terminates, and I have the opportunity to  restart it immediately after. What happens is that the IDE hangs while it waits for the Gradle sub process to complete (which it never would). I&#39;m trying to get the Gradle sub process to die when I kill the main application.","body":"@JimGarrison What I am expecting is that when I presss the Stop button in IntelliJ, the main application terminates, and I have the opportunity to  restart it immediately after. What happens is that the IDE hangs while it waits for the Gradle sub process to complete (which it never would). I&#39;m trying to get the Gradle sub process to die when I kill the main application."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1673014615,"post_id":75024927,"comment_id":132408291,"body_markdown":"By the way, `.directory(new File(System.getProperty(&quot;user.dir&quot;)))` does nothing.  The default directory for executing a child process is already the current directory.","body":"By the way, <code>.directory(new File(System.getProperty(&quot;user.dir&quot;)))</code> does nothing.  The default directory for executing a child process is already the current directory."}],"answers":[{"comments":[{"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"score":0,"creation_date":1672960648,"post_id":75025041,"comment_id":132397205,"body_markdown":"It looks like I also have to use IntelliJ&#39;s Exit button in order to have the shutdown hook fire. No good since I&#39;d like to use the Stop and Rerun shortcut button during development quite a lot. I think I might have to delegate this to an external script or something...","body":"It looks like I also have to use IntelliJ&#39;s Exit button in order to have the shutdown hook fire. No good since I&#39;d like to use the Stop and Rerun shortcut button during development quite a lot. I think I might have to delegate this to an external script or something..."}],"tags":[],"owner":{"account_id":17436542,"reputation":495,"user_id":12639399,"display_name":"Marcus Dunn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672957816,"creation_date":1672957816,"answer_id":75025041,"question_id":75024927,"body_markdown":"You can use a shutdown hook.\r\n\r\nAdd some code in the shutdown hook to kill the process you spawned.\r\n\r\n```\r\nRuntime\r\n    .getRuntime()\r\n    .addShutdownHook(new Thread(() -&gt; System.out.println(&quot;killing the thing&quot;)));\r\n```\r\n\r\nFurther Reading:\r\n\r\nhttps://www.baeldung.com/jvm-shutdown-hooks","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>You can use a shutdown hook.</p>\n<p>Add some code in the shutdown hook to kill the process you spawned.</p>\n<pre><code>Runtime\n    .getRuntime()\n    .addShutdownHook(new Thread(() -&gt; System.out.println(&quot;killing the thing&quot;)));\n</code></pre>\n<p>Further Reading:</p>\n<p><a href=\"https://www.baeldung.com/jvm-shutdown-hooks\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jvm-shutdown-hooks</a></p>\n"},{"tags":[],"owner":{"account_id":6098363,"reputation":64,"user_id":4758401,"display_name":"pgeadas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672969945,"creation_date":1672969945,"answer_id":75026167,"question_id":75024927,"body_markdown":"If you want to use an external script to kill a process, I needed to do something similar not long ago. When I start my app, I write the PID to a file, and when I need to shut it down, I have this script reading that PID and then killing it:\r\n\r\n    #!/bin/bash\r\n\r\n    SCRIPT_DIR=&quot;$(cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; &amp;&amp; pwd)&quot;\r\n    PIDS_DIR=&quot;${SCRIPT_DIR}/pids/&quot;\r\n    \r\n    #\r\n    # Kills all the processes associated with a CWS ID\r\n    #\r\n    kill_cws() {\r\n      if [ $# -ne 0 ]; then\r\n        echo &quot;ERROR: Invalid number of arguments. Expected 0.&quot;\r\n        exit 1\r\n      fi\r\n    \r\n      echo &quot;[INFO] Stopping CWS...&quot;\r\n    \r\n      for f in &quot;${PIDS_DIR}/cws_&quot;*&quot;.pid&quot;; do\r\n        kill_cws_process &quot;${f}&quot;\r\n      done\r\n    \r\n      echo &quot;[INFO] CWS Stopped&quot;\r\n    }\r\n    \r\n    #\r\n    # Kills a specific process\r\n    #\r\n    kill_cws_process() {\r\n      local pid_file=&quot;$1&quot;\r\n      local pid\r\n      pid=$(cat &quot;${pid_file}&quot;)\r\n    \r\n      echo &quot;[INFO][PID=${pid}] Killing CWS instance&quot;\r\n      kill -9 &quot;${pid}&quot;\r\n      ev=$?\r\n      if [ &quot;${ev}&quot; -ne 0 ]; then\r\n        echo &quot;[WARN][PID=${pid}] Error killing PID&quot;\r\n      fi\r\n    \r\n      echo &quot;[INFO][PID=${pid}] Waiting for instance termination&quot;\r\n   \r\n      echo &quot;[INFO][PID=${pid}] Clean instance PID file&quot;\r\n      rm &quot;${pid_file}&quot;\r\n      ev=$?\r\n      if [ &quot;${ev}&quot; -ne 0 ]; then\r\n        echo &quot;[WARN][PID=${pid}] Error deleting pid file ${pid_file}&quot;\r\n      fi\r\n    }\r\n    \r\n    #\r\n    # MAIN\r\n    #\r\n    kill_cws &quot;$@&quot;\r\n\r\n","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>If you want to use an external script to kill a process, I needed to do something similar not long ago. When I start my app, I write the PID to a file, and when I need to shut it down, I have this script reading that PID and then killing it:</p>\n<pre><code>#!/bin/bash\n\nSCRIPT_DIR=&quot;$(cd &quot;$(dirname &quot;${BASH_SOURCE[0]}&quot;)&quot; &amp;&amp; pwd)&quot;\nPIDS_DIR=&quot;${SCRIPT_DIR}/pids/&quot;\n\n#\n# Kills all the processes associated with a CWS ID\n#\nkill_cws() {\n  if [ $# -ne 0 ]; then\n    echo &quot;ERROR: Invalid number of arguments. Expected 0.&quot;\n    exit 1\n  fi\n\n  echo &quot;[INFO] Stopping CWS...&quot;\n\n  for f in &quot;${PIDS_DIR}/cws_&quot;*&quot;.pid&quot;; do\n    kill_cws_process &quot;${f}&quot;\n  done\n\n  echo &quot;[INFO] CWS Stopped&quot;\n}\n\n#\n# Kills a specific process\n#\nkill_cws_process() {\n  local pid_file=&quot;$1&quot;\n  local pid\n  pid=$(cat &quot;${pid_file}&quot;)\n\n  echo &quot;[INFO][PID=${pid}] Killing CWS instance&quot;\n  kill -9 &quot;${pid}&quot;\n  ev=$?\n  if [ &quot;${ev}&quot; -ne 0 ]; then\n    echo &quot;[WARN][PID=${pid}] Error killing PID&quot;\n  fi\n\n  echo &quot;[INFO][PID=${pid}] Waiting for instance termination&quot;\n\n  echo &quot;[INFO][PID=${pid}] Clean instance PID file&quot;\n  rm &quot;${pid_file}&quot;\n  ev=$?\n  if [ &quot;${ev}&quot; -ne 0 ]; then\n    echo &quot;[WARN][PID=${pid}] Error deleting pid file ${pid_file}&quot;\n  fi\n}\n\n#\n# MAIN\n#\nkill_cws &quot;$@&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673016386,"creation_date":1673016386,"answer_id":75032438,"question_id":75024927,"body_markdown":"After a couple hours of reading, I realize that while this is possible, I have not found a fully workable solution. As a work-around, I used the [Gradle Tooling API][1] to devise the following solution:\r\n\r\n    final ProjectConnection connection = GradleConnector\r\n                .newConnector()\r\n                .forProjectDirectory(new File(System.getProperty(&quot;user.dir&quot;)))\r\n                .connect()\r\n    try {\r\n      connection\r\n        .newBuild()\r\n        .forTasks(&quot;compileGroovy&quot;)\r\n        .withArguments(&quot;--continuous&quot;)\r\n        .setStandardOutput(System.out)\r\n        .run()\r\n    } catch (BuildException ignored) {\r\n     // Ignored for testing\r\n    }\r\n\r\nIt&#39;s neat and it solves all of the process management issues.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/third_party_integration.html","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>After a couple hours of reading, I realize that while this is possible, I have not found a fully workable solution. As a work-around, I used the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html\" rel=\"nofollow noreferrer\">Gradle Tooling API</a> to devise the following solution:</p>\n<pre><code>final ProjectConnection connection = GradleConnector\n            .newConnector()\n            .forProjectDirectory(new File(System.getProperty(&quot;user.dir&quot;)))\n            .connect()\ntry {\n  connection\n    .newBuild()\n    .forTasks(&quot;compileGroovy&quot;)\n    .withArguments(&quot;--continuous&quot;)\n    .setStandardOutput(System.out)\n    .run()\n} catch (BuildException ignored) {\n // Ignored for testing\n}\n</code></pre>\n<p>It's neat and it solves all of the process management issues.</p>\n"},{"tags":[],"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673022104,"creation_date":1673022104,"answer_id":75033474,"question_id":75024927,"body_markdown":"this groovy script terminates external process on main thread end.\r\n\r\nnot saying it&#39;s nice but it works\r\n\r\n```\r\ndef procBuilder =\r\n\tnew ProcessBuilder(&quot;notepad.exe&quot;)\r\n\t\t.inheritIO()\r\n\r\ndef mainThread = Thread.currentThread()\r\n\r\n//not a daemon to avoid termination..\r\nThread.start {\r\n\ttry {\r\n\t\tprintln &quot;daemon start&quot;\r\n\t\tdef proc = procBuilder.start()\r\n\t\tprintln &quot;daemon process started&quot;\r\n\t\tmainThread.join()\r\n\t\tprintln &quot;daemon process killing...&quot;\r\n\t\tproc.destroy()\r\n\t\tprintln &quot;daemon process end&quot;\r\n\t} catch(e) {\r\n\t\tprintln &quot;daemon error: $e&quot;\r\n\t}\r\n}\r\n\r\nprintln &quot;main thread sleep&quot;\r\nThread.sleep(5000)\r\nprintln &quot;main thread end&quot;\r\n```","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>this groovy script terminates external process on main thread end.</p>\n<p>not saying it's nice but it works</p>\n<pre><code>def procBuilder =\n    new ProcessBuilder(&quot;notepad.exe&quot;)\n        .inheritIO()\n\ndef mainThread = Thread.currentThread()\n\n//not a daemon to avoid termination..\nThread.start {\n    try {\n        println &quot;daemon start&quot;\n        def proc = procBuilder.start()\n        println &quot;daemon process started&quot;\n        mainThread.join()\n        println &quot;daemon process killing...&quot;\n        proc.destroy()\n        println &quot;daemon process end&quot;\n    } catch(e) {\n        println &quot;daemon error: $e&quot;\n    }\n}\n\nprintln &quot;main thread sleep&quot;\nThread.sleep(5000)\nprintln &quot;main thread end&quot;\n</code></pre>\n"}],"owner":{"account_id":491129,"reputation":841,"user_id":1234990,"accept_rate":76,"display_name":"kshep92"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1673272229,"creation_date":1672956930,"question_id":75024927,"body_markdown":"I&#39;m trying to use Java to launch a Gradle process that performs a continuous build in the background. Here is my code:\r\n\r\n    final var updateTimestampProcess =\r\n          new ProcessBuilder(&quot;gradlew.bat&quot;, &quot;compileGroovy&quot;, &quot;--continuous&quot;)\r\n                    .directory(new File(System.getProperty(&quot;user.dir&quot;)))\r\n                    .inheritIO()\r\n         try {\r\n             updateTimestampProcess.start()\r\n         } catch (IOException ignored) {}\r\n\r\nIt works, but the process doesn&#39;t terminate when I use IntelliJ&#39;s Stop command. I have to use Task Manager to hunt down the Java process that&#39;s running the `gradlew` command and end it manually.\r\n\r\nHow can I amend my code so that the background process is terminated when the main process stops?","title":"Java: How do I kill a background process automatically when the main application is stopped?","body":"<p>I'm trying to use Java to launch a Gradle process that performs a continuous build in the background. Here is my code:</p>\n<pre><code>final var updateTimestampProcess =\n      new ProcessBuilder(&quot;gradlew.bat&quot;, &quot;compileGroovy&quot;, &quot;--continuous&quot;)\n                .directory(new File(System.getProperty(&quot;user.dir&quot;)))\n                .inheritIO()\n     try {\n         updateTimestampProcess.start()\n     } catch (IOException ignored) {}\n</code></pre>\n<p>It works, but the process doesn't terminate when I use IntelliJ's Stop command. I have to use Task Manager to hunt down the Java process that's running the <code>gradlew</code> command and end it manually.</p>\n<p>How can I amend my code so that the background process is terminated when the main process stops?</p>\n"},{"tags":["java","junit","mockito","junit5"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1673273138,"post_id":75058104,"comment_id":132454988,"body_markdown":"What are you trying to do? This code doesn&#39;t make much sense. Do you want to duplicate the contents of the list by adding all existing elements back on the same list? Because this is what this `classRoomListItemsList.addAll(classRoomListItemsList);` does. This doesn&#39;t test or prove anything.","body":"What are you trying to do? This code doesn&#39;t make much sense. Do you want to duplicate the contents of the list by adding all existing elements back on the same list? Because this is what this <code>classRoomListItemsList.addAll(classRoomListItemsList);</code> does. This doesn&#39;t test or prove anything."}],"answers":[{"tags":[],"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673272196,"creation_date":1673272196,"answer_id":75058228,"question_id":75058104,"body_markdown":"There is no way classRoomListItemsList can be null, since it is created right beforehand. So to me it seems you should remove the dead code path (=&gt; remove the null check).\r\n\r\nAlso, you do realize all this method does is produce an empty ArrayList?","title":"Junit to cover Objects.notnull","body":"<p>There is no way classRoomListItemsList can be null, since it is created right beforehand. So to me it seems you should remove the dead code path (=&gt; remove the null check).</p>\n<p>Also, you do realize all this method does is produce an empty ArrayList?</p>\n"}],"owner":{"account_id":6501139,"reputation":192,"user_id":5031920,"display_name":"Vaibhav Yadav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673272196,"creation_date":1673271545,"question_id":75058104,"body_markdown":"```\r\npublic List&lt;ClassRoomListAdapterModel&gt; getRoomListItems() {\r\nfinal List&lt;ClassRoomListAdapterModel&gt; classRoomListItemsList = new ArrayList&lt;&gt;();\r\nif (Objects.nonNull (classRoomListItemsList)) {\r\nclassRoomListItemsList.addAll\r\n(classRoomListItemsList);\r\n}\r\nreturn classRoomListItemsList;\r\n}\r\n```\r\n\r\n\r\nStuck with junit coverage to cover if conditions Objects.nonNull","title":"Junit to cover Objects.notnull","body":"<pre><code>public List&lt;ClassRoomListAdapterModel&gt; getRoomListItems() {\nfinal List&lt;ClassRoomListAdapterModel&gt; classRoomListItemsList = new ArrayList&lt;&gt;();\nif (Objects.nonNull (classRoomListItemsList)) {\nclassRoomListItemsList.addAll\n(classRoomListItemsList);\n}\nreturn classRoomListItemsList;\n}\n</code></pre>\n<p>Stuck with junit coverage to cover if conditions Objects.nonNull</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","web-frontend"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1673125761,"post_id":75043751,"comment_id":132429407,"body_markdown":"`src/main/resource` is for resources","body":"<code>src&#47;main&#47;resource</code> is for resources"}],"answers":[{"tags":[],"owner":{"account_id":6066722,"reputation":100,"user_id":4736746,"display_name":"Pratik Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673129116,"creation_date":1673129116,"answer_id":75044088,"question_id":75043751,"body_markdown":"`src/main/resource`  or some organised order structure module wie inside `src/main/resource` is good practice and easy to find by IDEs and WARs unpacking / loading paths.","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p><code>src/main/resource</code>  or some organised order structure module wie inside <code>src/main/resource</code> is good practice and easy to find by IDEs and WARs unpacking / loading paths.</p>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1673271981,"creation_date":1673156533,"answer_id":75045741,"question_id":75043751,"body_markdown":"You can put it in the `src/main/resource` folder by default. Also you can follow those approachs:\r\n\r\n - Generate a project with [JHipster][1] and see the content.\r\n - Do a research on [github][2] with the key word **&quot;fullstack spring boot&quot;**, you will find many examples and differents types of project organization\r\n - Use [Docker Compose][3] to deploy your **Front End** (on NodeJS) and your **Back End** (as a Spring Boot application) in differents images\r\n\r\n\r\n  [1]: https://www.jhipster.tech/\r\n  [2]: https://github.com/search?q=fullstack%20spring%20boot\r\n  [3]: https://www.callicoder.com/spring-boot-mysql-react-docker-compose-example/","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p>You can put it in the <code>src/main/resource</code> folder by default. Also you can follow those approachs:</p>\n<ul>\n<li>Generate a project with <a href=\"https://www.jhipster.tech/\" rel=\"nofollow noreferrer\">JHipster</a> and see the content.</li>\n<li>Do a research on <a href=\"https://github.com/search?q=fullstack%20spring%20boot\" rel=\"nofollow noreferrer\">github</a> with the key word <strong>&quot;fullstack spring boot&quot;</strong>, you will find many examples and differents types of project organization</li>\n<li>Use <a href=\"https://www.callicoder.com/spring-boot-mysql-react-docker-compose-example/\" rel=\"nofollow noreferrer\">Docker Compose</a> to deploy your <strong>Front End</strong> (on NodeJS) and your <strong>Back End</strong> (as a Spring Boot application) in differents images</li>\n</ul>\n"}],"owner":{"account_id":27207623,"reputation":33,"user_id":20738934,"display_name":"G Route"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":809,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75045741,"answer_count":2,"score":0,"last_activity_date":1673271981,"creation_date":1673125293,"question_id":75043751,"body_markdown":"Im confused on where to put all my Front-end files like HTML and CSS as Well JS and it frontend framekwork stuff like react. Do i put it in the resource folder or the scr/main and create a folder call &quot;webApp&quot; and host all my HTML files there? \r\n\r\nDoes it matter which I use? \r\n","title":"Which Folder do i put my frontend files in Spring boot. Is it Src/main/resource or Src/main","body":"<p>Im confused on where to put all my Front-end files like HTML and CSS as Well JS and it frontend framekwork stuff like react. Do i put it in the resource folder or the scr/main and create a folder call &quot;webApp&quot; and host all my HTML files there?</p>\n<p>Does it matter which I use?</p>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673264971,"post_id":75056798,"comment_id":132451861,"body_markdown":"You prolly have a relationship to `Country` on the `Person` class and in that relationship you have the ID 0","body":"You prolly have a relationship to <code>Country</code> on the <code>Person</code> class and in that relationship you have the ID 0"}],"answers":[{"tags":[],"owner":{"account_id":8602220,"reputation":161,"user_id":6443385,"display_name":"taichouvik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673271886,"creation_date":1673271886,"answer_id":75058177,"question_id":75056798,"body_markdown":"You probably did not set ```countryId = 1```, on the new person object which you are trying to persist","title":"Hibernate-Entity Not found exception -Spring batch","body":"<p>You probably did not set <code>countryId = 1</code>, on the new person object which you are trying to persist</p>\n"}],"owner":{"account_id":12793177,"reputation":1,"user_id":9257041,"display_name":"aiswarya murali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673271886,"creation_date":1673264672,"question_id":75056798,"body_markdown":"I have @manytoone relationship from person table to country table on country-id (foreign key)\r\n\r\nIn country table -id &#39;s started from 1.\r\n\r\nHowever while saving data in person table .\r\n\r\nI&#39;m getting an error \r\n\r\nEntityNotFound:unable to find country id 0\r\n\r\nAlso ,there is an error\r\n\r\nHHH000100: Fail-safe cleanup (collections) : org. hibernate. engine. loading. internal. CollectionLoadContext@5da03062&lt;rs-\r\nHikariPro onLoadContext - \r\n\r\nHHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries\r\n\r\n\r\nWhat will be the possible causes of this.\r\n\r\nThis error occurred in spring batch application \r\n\r\n\r\n1.checked table data --there is no entry in country table with id 0","title":"Hibernate-Entity Not found exception -Spring batch","body":"<p>I have @manytoone relationship from person table to country table on country-id (foreign key)</p>\n<p>In country table -id 's started from 1.</p>\n<p>However while saving data in person table .</p>\n<p>I'm getting an error</p>\n<p>EntityNotFound:unable to find country id 0</p>\n<p>Also ,there is an error</p>\n<p>HHH000100: Fail-safe cleanup (collections) : org. hibernate. engine. loading. internal. CollectionLoadContext@5da03062&lt;rs-\nHikariPro onLoadContext -</p>\n<p>HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries</p>\n<p>What will be the possible causes of this.</p>\n<p>This error occurred in spring batch application</p>\n<p>1.checked table data --there is no entry in country table with id 0</p>\n"},{"tags":["java","hibernate","csv","opencsv"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673262166,"post_id":75056322,"comment_id":132450950,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673270619,"post_id":75056322,"comment_id":132453948,"body_markdown":"When do the headers get added?","body":"When do the headers get added?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673272218,"post_id":75056322,"comment_id":132454679,"body_markdown":"Why would you need headers? If you know the structure you know what csv column maps to which db column. You can use Spring Batch with a `FlatFileItemReader` to pump data into the datbase using a `JdbcBatchItemWriter`. You don&#39;t even need an intermediate object but could directly stream into the database. If you don&#39;t want to use Spring Batch you can simple read the file using an inputstream and use a `JdbcTemplate` with a batch update to insert data. I would ditch OpenCsv and just keep it simple.","body":"Why would you need headers? If you know the structure you know what csv column maps to which db column. You can use Spring Batch with a <code>FlatFileItemReader</code> to pump data into the datbase using a <code>JdbcBatchItemWriter</code>. You don&#39;t even need an intermediate object but could directly stream into the database. If you don&#39;t want to use Spring Batch you can simple read the file using an inputstream and use a <code>JdbcTemplate</code> with a batch update to insert data. I would ditch OpenCsv and just keep it simple."}],"answers":[{"tags":[],"owner":{"account_id":17353823,"reputation":67,"user_id":12571723,"display_name":"Talavera316"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673271767,"creation_date":1673271767,"answer_id":75058153,"question_id":75056322,"body_markdown":"Think of it as two separate tasks:\r\n\r\n1.Read the csv file:\r\n\r\nCreate a reader class that transforms lines into entities\r\n\r\nYourEntity createEntity(String[] line)\r\n\r\nUsing the reader process all lines to get a collection of entities corresponding to the csv file\r\n\r\n\r\n2.Save the entity collection in your JPA repository(DB):\r\n\r\n@Repository\r\npublic interface YourRepository extends JpaRepository&lt;YourEntity, UUID&gt;\r\n\r\n yourRepo.saveAll(Iterable&lt;S&gt; entities)","title":"How to load csv file which has no header, data into oracle db using hibernate springboot","body":"<p>Think of it as two separate tasks:</p>\n<p>1.Read the csv file:</p>\n<p>Create a reader class that transforms lines into entities</p>\n<p>YourEntity createEntity(String[] line)</p>\n<p>Using the reader process all lines to get a collection of entities corresponding to the csv file</p>\n<p>2.Save the entity collection in your JPA repository(DB):</p>\n<p>@Repository\npublic interface YourRepository extends JpaRepository&lt;YourEntity, UUID&gt;</p>\n<p>yourRepo.saveAll(Iterable entities)</p>\n"}],"owner":{"account_id":27250622,"reputation":9,"user_id":20775153,"display_name":"VARUN A MENON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673271767,"creation_date":1673262035,"question_id":75056322,"body_markdown":"Connecting and giving values were very easy ,but I couldn&#39;t  load the csv data into oracle db\r\n\r\nI was able to connect db and give data into db.\r\n\r\nBut  couldn&#39;t  load csv file  which has no header files","title":"How to load csv file which has no header, data into oracle db using hibernate springboot","body":"<p>Connecting and giving values were very easy ,but I couldn't  load the csv data into oracle db</p>\n<p>I was able to connect db and give data into db.</p>\n<p>But  couldn't  load csv file  which has no header files</p>\n"},{"tags":["javascript","java","xml"],"owner":{"account_id":27477874,"reputation":1,"user_id":20965542,"display_name":"prince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673271534,"creation_date":1673271534,"question_id":75058101,"body_markdown":"I am running Joost with javascript support.\r\n\r\nJoost explains the usage [here](https://joost.sourceforge.net/#limitations:~:text=%3Cstx%3Atransform%20xmlns%3Astx%3D%22http%3A//stx.sourceforge.net/2002/ns%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajoost%3D%22http%3A//joost.sf.net/extension%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajs%3D%22urn%3Ajavascript%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20version%3D%221.0%22%3E).\r\n\r\nHowever, I am getting below errors\r\n\r\n```\r\n`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/bsf/BSFManager\r\n    at net.sf.joost.stx.function.FunctionFactory.getBSFManager(FunctionFactory.java:279)\r\n    at net.sf.joost.stx.function.FunctionFactory.addScript(FunctionFactory.java:309)\r\n    at net.sf.joost.instruction.ScriptFactory$Instance.compile(ScriptFactory.java:195)\r\n    at net.sf.joost.stx.Parser.endElement(Parser.java:419)\r\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\r\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1781)\r\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2966)\r\n\r\n```\r\n**CausedBy**\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.apache.bsf.BSFManager\r\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\r\n\r\n```\r\n\r\n\t\r\n\r\nI have added the below jars in classpath with command\r\n\r\n```\r\nexport CLASSPATH=${CLASSPATH}:bsf-all-3.1.jar \r\nexport CLASSPATH=${CLASSPATH}:rhino-script-engine-1.1.1.jar \r\nexport CLASSPATH=${CLASSPATH}:rhino-1.7R5.jar `\r\n```","title":"Joost with javascript support","body":"<p>I am running Joost with javascript support.</p>\n<p>Joost explains the usage <a href=\"https://joost.sourceforge.net/#limitations:%7E:text=%3Cstx%3Atransform%20xmlns%3Astx%3D%22http%3A//stx.sourceforge.net/2002/ns%22%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajoost%3D%22http%3A//joost.sf.net/extension%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ajs%3D%22urn%3Ajavascript%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20version%3D%221.0%22%3E\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>However, I am getting below errors</p>\n<pre><code>`Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/bsf/BSFManager\n    at net.sf.joost.stx.function.FunctionFactory.getBSFManager(FunctionFactory.java:279)\n    at net.sf.joost.stx.function.FunctionFactory.addScript(FunctionFactory.java:309)\n    at net.sf.joost.instruction.ScriptFactory$Instance.compile(ScriptFactory.java:195)\n    at net.sf.joost.stx.Parser.endElement(Parser.java:419)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:609)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1781)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2966)\n\n</code></pre>\n<p><strong>CausedBy</strong></p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.apache.bsf.BSFManager\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:387)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n\n\n</code></pre>\n<p>I have added the below jars in classpath with command</p>\n<pre><code>export CLASSPATH=${CLASSPATH}:bsf-all-3.1.jar \nexport CLASSPATH=${CLASSPATH}:rhino-script-engine-1.1.1.jar \nexport CLASSPATH=${CLASSPATH}:rhino-1.7R5.jar `\n</code></pre>\n"},{"tags":["java","arrays","sparse-matrix"],"comments":[{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1672595936,"post_id":74976391,"comment_id":132310786,"body_markdown":"The third option is to use linked lists.  The fourth option is to use a Row-Column-Value array. \n See https://www.geeksforgeeks.org/what-is-meant-by-sparse-array/","body":"The third option is to use linked lists.  The fourth option is to use a Row-Column-Value array.   See <a href=\"https://www.geeksforgeeks.org/what-is-meant-by-sparse-array/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/what-is-meant-by-sparse-array</a>"},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":2,"creation_date":1672596111,"post_id":74976391,"comment_id":132310824,"body_markdown":"Note that the source code for the  Android `SparseArray` class is [available online](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/SparseArray.java), under an Apache license.","body":"Note that the source code for the  Android <code>SparseArray</code> class is <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/util/SparseArray.java\" rel=\"nofollow noreferrer\">available online</a>, under an Apache license."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596294,"post_id":74976391,"comment_id":132310856,"body_markdown":"@RobertHarvey \n\nThe problem with a linked list (which I considered) is that lookups by index won&#39;t work (without a manual iteration), which is difficult. \n\nA &quot;Row-Value&quot; array won&#39;t work either, as that simply reduces to a hashmap (with row as the key) from an implementation point of view (or alternatively something like the `Pair` class).\n\nIt should be noted that my array is one-dimensional. If I have misunderstood you, please clarify.","body":"@RobertHarvey   The problem with a linked list (which I considered) is that lookups by index won&#39;t work (without a manual iteration), which is difficult.   A &quot;Row-Value&quot; array won&#39;t work either, as that simply reduces to a hashmap (with row as the key) from an implementation point of view (or alternatively something like the <code>Pair</code> class).  It should be noted that my array is one-dimensional. If I have misunderstood you, please clarify."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672596456,"post_id":74976391,"comment_id":132310890,"body_markdown":"We could use a `Map&lt;Integer, Integer&gt;` to simulate a sparse array. This could be extended for matrices, e.g. by using a `Map&lt;Pair&lt;Integer, Integer&gt;, Integer&gt;` with `public record Pair&lt;T, U&gt;(T first, U second)`.","body":"We could use a <code>Map&lt;Integer, Integer&gt;</code> to simulate a sparse array. This could be extended for matrices, e.g. by using a <code>Map&lt;Pair&lt;Integer, Integer&gt;, Integer&gt;</code> with <code>public record Pair&lt;T, U&gt;(T first, U second)</code>."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596555,"post_id":74976391,"comment_id":132310913,"body_markdown":"@Turing85 That is my current approach, but it appears to have a significant penalty in memory usage from my understanding (due to its relative complexity - see https://stackoverflow.com/questions/25560629/sparsearray-vs-hashmap for an example). In this case, I have to optimise memory usage as much as possible; if the array was relatively full, I would have gone with a primitive array.","body":"@Turing85 That is my current approach, but it appears to have a significant penalty in memory usage from my understanding (due to its relative complexity - see <a href=\"https://stackoverflow.com/questions/25560629/sparsearray-vs-hashmap\" title=\"sparsearray vs hashmap\">stackoverflow.com/questions/25560629/sparsearray-vs-hashmap</a> for an example). In this case, I have to optimise memory usage as much as possible; if the array was relatively full, I would have gone with a primitive array."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672596791,"post_id":74976391,"comment_id":132310969,"body_markdown":"How did you confirm your suggestion that the `Map` is the root cause for the memory consumption? What limitations wrt. memory do you have?","body":"How did you confirm your suggestion that the <code>Map</code> is the root cause for the memory consumption? What limitations wrt. memory do you have?"},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672596900,"post_id":74976391,"comment_id":132310989,"body_markdown":"@Turing85 My program is a bunch of hashmaps chained together (https://github.com/Leader-board/Wikimedia-statistics/blob/main/Global%20user%20table%20generator/Main.java). As it currently stands, this takes up almost 100 GB of RAM. I want to change the nested hashmap into one with a sparse array as its value.","body":"@Turing85 My program is a bunch of hashmaps chained together (<a href=\"https://github.com/Leader-board/Wikimedia-statistics/blob/main/Global%20user%20table%20generator/Main.java\" rel=\"nofollow noreferrer\">github.com/Leader-board/Wikimedia-statistics/blob/main/&hellip;</a>). As it currently stands, this takes up almost 100 GB of RAM. I want to change the nested hashmap into one with a sparse array as its value."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672597166,"post_id":74976391,"comment_id":132311035,"body_markdown":"So you&#39;re okay with your arrays not being able to store `0`? Or how else do you want to distinguish between present and not-present? Note that using reference types such as `Integer` to store null will require even more memory (4 bytes for the number and even more bytes for the reference)","body":"So you&#39;re okay with your arrays not being able to store <code>0</code>? Or how else do you want to distinguish between present and not-present? Note that using reference types such as <code>Integer</code> to store null will require even more memory (4 bytes for the number and even more bytes for the reference)"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597209,"post_id":74976391,"comment_id":132311043,"body_markdown":"And which parts **do** actually consume that memory? Have analyzed the memory consumption at runtime, e.g. through VisualVM?","body":"And which parts <b>do</b> actually consume that memory? Have analyzed the memory consumption at runtime, e.g. through VisualVM?"},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597218,"post_id":74976391,"comment_id":132311045,"body_markdown":"&quot;So you&#39;re okay with your arrays not being able to store 0?&quot; - That is fine by me; in other words, it&#39;s fine to treat 0 as &quot;not-present&quot;.","body":"&quot;So you&#39;re okay with your arrays not being able to store 0?&quot; - That is fine by me; in other words, it&#39;s fine to treat 0 as &quot;not-present&quot;."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597282,"post_id":74976391,"comment_id":132311053,"body_markdown":"&gt; And which parts do actually consume that memory? \n\nIt&#39;s the hashmaps - I haven&#39;t used VisualVM, but can consider running it if it helps. I do monitor the memory usage when running the program.","body":"&gt; And which parts do actually consume that memory?   It&#39;s the hashmaps - I haven&#39;t used VisualVM, but can consider running it if it helps. I do monitor the memory usage when running the program."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597380,"post_id":74976391,"comment_id":132311072,"body_markdown":"Yes, it would help. In particular, it would help to know which `Map` consumes the most memory, and why. For further analysis, however, we would most probably also need a description on what the program actually does.","body":"Yes, it would help. In particular, it would help to know which <code>Map</code> consumes the most memory, and why. For further analysis, however, we would most probably also need a description on what the program actually does."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672597659,"post_id":74976391,"comment_id":132311123,"body_markdown":"From what I can see, it seems that there might be a bunch of non-closed `Stream`s. I am not sure whether `System.setOut(...)` closes the current `System.out`-stream.","body":"From what I can see, it seems that there might be a bunch of non-closed <code>Stream</code>s. I am not sure whether <code>System.setOut(...)</code> closes the current <code>System.out</code>-stream."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672597841,"post_id":74976391,"comment_id":132311150,"body_markdown":"@Turing85\n\n* It isn&#39;t `System.setOut`; that phase kicks in only after importing. The majority of RAM is used up in the importing stage. Additionally, I changed it to buffered writes, with the same result.\n* I am reasonably sure that it&#39;s the nested hashmap `static HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; users = new HashMap&lt;&gt;(); ` that is most intensive in memory. This can be shown by the fact that `analyser()` does not increase memory usage substantially despite it having a treemap of its own. I need to run a profiler though to fully answer your previous question.","body":"@Turing85  * It isn&#39;t <code>System.setOut</code>; that phase kicks in only after importing. The majority of RAM is used up in the importing stage. Additionally, I changed it to buffered writes, with the same result. * I am reasonably sure that it&#39;s the nested hashmap <code>static HashMap&lt;String, HashMap&lt;String, Integer&gt;&gt; users = new HashMap&lt;&gt;(); </code> that is most intensive in memory. This can be shown by the fact that <code>analyser()</code> does not increase memory usage substantially despite it having a treemap of its own. I need to run a profiler though to fully answer your previous question."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672598316,"post_id":74976391,"comment_id":132311242,"body_markdown":"is replacing the inner map with an, for example, `public record WikiEditCount(String wikiName, int edits){}` an option? This would mean to change `Map&lt;String, Map&lt;String, Integer&gt;&gt; users` to a `Map&lt;String, Set&lt;WikiEditCount&gt;&gt; users`.","body":"is replacing the inner map with an, for example, <code>public record WikiEditCount(String wikiName, int edits){}</code> an option? This would mean to change <code>Map&lt;String, Map&lt;String, Integer&gt;&gt; users</code> to a <code>Map&lt;String, Set&lt;WikiEditCount&gt;&gt; users</code>."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672598410,"post_id":74976391,"comment_id":132311260,"body_markdown":"@Turing85 Would that not potentially increase the memory usage instead, plus require `WikiEditCount` to be hashable anyway? I could be mistaken there though.","body":"@Turing85 Would that not potentially increase the memory usage instead, plus require <code>WikiEditCount</code> to be hashable anyway? I could be mistaken there though."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1672598565,"post_id":74976391,"comment_id":132311279,"body_markdown":"It is defined as a record, thus is it is implicitly hashable. My gut instinct tells me that the overhead of a `Set` of records is lower than the overhead of a `Map`. But to be sure, we&#39;d need to run some tests... If you can provide me a test data set of relevant size, I can take a look.","body":"It is defined as a record, thus is it is implicitly hashable. My gut instinct tells me that the overhead of a <code>Set</code> of records is lower than the overhead of a <code>Map</code>. But to be sure, we&#39;d need to run some tests... If you can provide me a test data set of relevant size, I can take a look."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1672673434,"post_id":74976391,"comment_id":132324683,"body_markdown":"&quot;Options like linked lists or an arraylist (of Pairs for instance) won&#39;t work since lookups are difficult that way.&quot; .   Creating software sometimes uses the art of compromise. You might have to sacrifice some desirable characteristic at the expense of improving some other characteristic.  A sparse array is used to reduce memory requirements at the expense of some reduction in the time needed to access an element.","body":"&quot;Options like linked lists or an arraylist (of Pairs for instance) won&#39;t work since lookups are difficult that way.&quot; .   Creating software sometimes uses the art of compromise. You might have to sacrifice some desirable characteristic at the expense of improving some other characteristic.  A sparse array is used to reduce memory requirements at the expense of some reduction in the time needed to access an element."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1673232517,"post_id":74976391,"comment_id":132444839,"body_markdown":"If you are asking if there is a sparse array data structure that has O(1) get and set operations and also has low space overheads ... there isn&#39;t one.  You need to compromise on some of the requirements.","body":"If you are asking if there is a sparse array data structure that has O(1) get and set operations and also has low space overheads ... there isn&#39;t one.  You need to compromise on some of the requirements."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1673271426,"post_id":74976391,"comment_id":132454324,"body_markdown":"@StephenC _Some_ compromise is indeed fine to me. For example, amortised O(1) (as the accepted answer does) or O(log n) are both OK. I was simply looking for the best option.","body":"@StephenC <i>Some</i> compromise is indeed fine to me. For example, amortised O(1) (as the accepted answer does) or O(log n) are both OK. I was simply looking for the best option."}],"answers":[{"comments":[{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1672598189,"post_id":74976583,"comment_id":132311212,"body_markdown":"* How large are your collections? The keys can have up to 71 million rows with up to 950 elements as its value for each key (i.e, the `users` hashmap). It&#39;s that &quot;up to 950 elements&quot; that I want to replace with a sparse array. I am aware that memory usage will still be high, but believe that it can be significantly lowered from the current ~100 GB, and hence my idea of a sparse array. \n* While I don&#39;t think GNU Trove answers my question, it could be useful and I&#39;ll need to look into it further.","body":"* How large are your collections? The keys can have up to 71 million rows with up to 950 elements as its value for each key (i.e, the <code>users</code> hashmap). It&#39;s that &quot;up to 950 elements&quot; that I want to replace with a sparse array. I am aware that memory usage will still be high, but believe that it can be significantly lowered from the current ~100 GB, and hence my idea of a sparse array.  * While I don&#39;t think GNU Trove answers my question, it could be useful and I&#39;ll need to look into it further."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672598662,"post_id":74976583,"comment_id":132311297,"body_markdown":"@Leaderboard GNU trove would allow you to use a HashMap without the overhead of reference-types. Why do you need to index though? How will you know which indices exist?","body":"@Leaderboard GNU trove would allow you to use a HashMap without the overhead of reference-types. Why do you need to index though? How will you know which indices exist?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1672598783,"post_id":74976583,"comment_id":132311318,"body_markdown":"71 million rows?! You mean `users.size()` returns 71 million?!","body":"71 million rows?! You mean <code>users.size()</code> returns 71 million?!"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672598919,"post_id":74976583,"comment_id":132311340,"body_markdown":"Another question: why do you need to keep everything in memory?","body":"Another question: why do you need to keep everything in memory?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1672600300,"post_id":74976583,"comment_id":132311597,"body_markdown":"*This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty)*.  Just curious..  With 950 items per row, how many cells in the rows would actually have a non-zero value?  Would there be sufficiently few to justify the overhead of an alternative data structure like a map?  Even a homegrown map with minimal overhead?","body":"<i>This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty)</i>.  Just curious..  With 950 items per row, how many cells in the rows would actually have a non-zero value?  Would there be sufficiently few to justify the overhead of an alternative data structure like a map?  Even a homegrown map with minimal overhead?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1672625626,"post_id":74976583,"comment_id":132315150,"body_markdown":"You want a class that can emulate a 2D array with 67.45 billion elements?","body":"You want a class that can emulate a 2D array with 67.45 billion elements?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1672676225,"post_id":74976583,"comment_id":132325458,"body_markdown":"@Leaderboard please keep in mind that using _boxed primitives_ adds significant memory overhead (12 bytes per integer, 16 bytes per long). I have extended my answer to make this clear.","body":"@Leaderboard please keep in mind that using <i>boxed primitives</i> adds significant memory overhead (12 bytes per integer, 16 bytes per long). I have extended my answer to make this clear."},{"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"score":0,"creation_date":1673181084,"post_id":74976583,"comment_id":132436043,"body_markdown":"I tried GNU Trove, and (combined with some other optimisations I did) reduced the memory usage to ~23 GB, which is much more reasonable. So in that way, your suggestion did work, and also answered my question (since this means that GNU Trove is close enough to a sparse array). \n@Turing85:Yes\nWJS: The majority of the cells would be zero. \nOldDogProgrammer: No. I was simply looking for a sparse array data structure equivalent, which knittl answered for me.","body":"I tried GNU Trove, and (combined with some other optimisations I did) reduced the memory usage to ~23 GB, which is much more reasonable. So in that way, your suggestion did work, and also answered my question (since this means that GNU Trove is close enough to a sparse array).  @Turing85:Yes WJS: The majority of the cells would be zero.  OldDogProgrammer: No. I was simply looking for a sparse array data structure equivalent, which knittl answered for me."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673272728,"post_id":74976583,"comment_id":132454841,"body_markdown":"100GB→23GB. Wow, that&#39;s a 77% reduction, or &#190;!","body":"100GB→23GB. Wow, that&#39;s a 77% reduction, or &#190;!"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":9,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1672676302,"creation_date":1672597733,"answer_id":74976583,"question_id":74976391,"body_markdown":"How large are your collections? Do note that `Integer` (boxed reference type) adds significant memory overhead. Standard Java collection types (`Map`, `List`) only support reference types.\r\n\r\nWhat does _significant_ mean? An `int` takes 4 bytes of memory, a `long` takes 8 bytes. Compare that to an `Integer` (16 bytes) or a `Long` (24 bytes). Reference: https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java\r\n\r\n[GNU Trove](https://trove4j.sourceforge.net/html/overview.html) implements most collections with primitive types, which increases cache locality and decreases memory consumption. Perhaps this will work for you.","title":"Sparse integer array in Java","body":"<p>How large are your collections? Do note that <code>Integer</code> (boxed reference type) adds significant memory overhead. Standard Java collection types (<code>Map</code>, <code>List</code>) only support reference types.</p>\n<p>What does <em>significant</em> mean? An <code>int</code> takes 4 bytes of memory, a <code>long</code> takes 8 bytes. Compare that to an <code>Integer</code> (16 bytes) or a <code>Long</code> (24 bytes). Reference: <a href=\"https://stackoverflow.com/questions/9037468/what-is-the-storage-cost-for-a-boxed-primitive-in-java\">What is the storage cost for a boxed primitive in Java?</a></p>\n<p><a href=\"https://trove4j.sourceforge.net/html/overview.html\" rel=\"nofollow noreferrer\">GNU Trove</a> implements most collections with primitive types, which increases cache locality and decreases memory consumption. Perhaps this will work for you.</p>\n"}],"owner":{"account_id":25276572,"reputation":379,"user_id":19370273,"display_name":"Leaderboard"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":74976583,"answer_count":1,"score":3,"last_activity_date":1673271482,"creation_date":1672595813,"question_id":74976391,"body_markdown":"As the title says, is there a way for me to have a sparse int array in Java? Something like `int[]` or `Integer[]`, but each element in the array should not take up space until it is actually written to with a non-zero value. This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty), yet have the option to look up by index, as with a standard array. I&#39;ve considered the below options before asking this question:\r\n\r\n- I am aware of options such as https://developer.android.com/reference/android/util/SparseIntArray. The problem is that they seem to be Android-specific, and I could not find a desktop equivalent.\r\n- My understanding is that `int[]` and `Integer[]` are not sparse arrays; even if I were to keep the elements of an `Integer` array as `null`, it would still take up space, which wouldn&#39;t work for me.\r\n- The other option is to use hashmaps. While that works, it does take up non-insignificant amount of space (which is an issue in this particular case). \r\n- Options like linked lists or an arraylist (of `Pairs` for instance) won&#39;t work since lookups are difficult that way.","title":"Sparse integer array in Java","body":"<p>As the title says, is there a way for me to have a sparse int array in Java? Something like <code>int[]</code> or <code>Integer[]</code>, but each element in the array should not take up space until it is actually written to with a non-zero value. This is because I want to optimise memory as much as possible (as most of the elements in the array would be 0/empty), yet have the option to look up by index, as with a standard array. I've considered the below options before asking this question:</p>\n<ul>\n<li>I am aware of options such as <a href=\"https://developer.android.com/reference/android/util/SparseIntArray\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/util/SparseIntArray</a>. The problem is that they seem to be Android-specific, and I could not find a desktop equivalent.</li>\n<li>My understanding is that <code>int[]</code> and <code>Integer[]</code> are not sparse arrays; even if I were to keep the elements of an <code>Integer</code> array as <code>null</code>, it would still take up space, which wouldn't work for me.</li>\n<li>The other option is to use hashmaps. While that works, it does take up non-insignificant amount of space (which is an issue in this particular case).</li>\n<li>Options like linked lists or an arraylist (of <code>Pairs</code> for instance) won't work since lookups are difficult that way.</li>\n</ul>\n"},{"tags":["java","csv","gson"],"comments":[{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":2,"creation_date":1673029748,"post_id":75034826,"comment_id":132413315,"body_markdown":"Help us help you - share your attempt and indicate the exact problem you&#39;re having with it","body":"Help us help you - share your attempt and indicate the exact problem you&#39;re having with it"},{"owner":{"account_id":17061535,"reputation":156,"user_id":12344841,"display_name":"Vadim Hagedorn"},"score":0,"creation_date":1673045119,"post_id":75034826,"comment_id":132417257,"body_markdown":"`JsonObject object = gson.newBuilder().create().fromJson(data, \nJsonObject.class);` this doesn&#39;t look right. If you&#39;re trying to parse JSON use `JsonParser.parseReader(inputStreamReader)`. Your `createCsvFile` method returns the filename... you should probably declare it as `String` explicitly.","body":"<code>JsonObject object = gson.newBuilder().create().fromJson(data,  JsonObject.class);</code> this doesn&#39;t look right. If you&#39;re trying to parse JSON use <code>JsonParser.parseReader(inputStreamReader)</code>. Your <code>createCsvFile</code> method returns the filename... you should probably declare it as <code>String</code> explicitly."}],"answers":[{"tags":[],"owner":{"account_id":11723239,"reputation":37,"user_id":8581504,"display_name":"Mateus Bodanese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673271148,"creation_date":1673271148,"answer_id":75058037,"question_id":75034826,"body_markdown":"Resolved.\r\n\r\n\r\nThe solution was as follows:\r\n\r\n    var header = array.get(0).getAsJsonObject().keySet();\r\n        for (int j = 0; j &lt; header.size(); j++) {\r\n            for (Object cab : header) {\r\n                rowhead.createCell(j).setCellValue(cab.toString());\r\n                j++;\r\n            }\r\n        }\r\n\r\n        int l = 1;\r\n        for (int i = 1; i &lt; array.size(); i++) {\r\n\r\n            for (Object aray : array){\r\n                HSSFRow row = sheet.createRow((short) l);\r\n                JsonObject values = array.get(i).getAsJsonObject();\r\n                Set&lt;String&gt; keys = values.keySet();\r\n                int c = 0;\r\n                for (String key: keys) {\r\n                    row.createCell(c).setCellValue(values.get(key).toString());\r\n                    c++;\r\n                }\r\n            }\r\n            l++;\r\n        }\r\n\r\nTo access a value in GSON it is necessary to access the KEY, in this way you can obtain the value of the object,","title":"How to return a csv in java using Gson?","body":"<p>Resolved.</p>\n<p>The solution was as follows:</p>\n<pre><code>var header = array.get(0).getAsJsonObject().keySet();\n    for (int j = 0; j &lt; header.size(); j++) {\n        for (Object cab : header) {\n            rowhead.createCell(j).setCellValue(cab.toString());\n            j++;\n        }\n    }\n\n    int l = 1;\n    for (int i = 1; i &lt; array.size(); i++) {\n\n        for (Object aray : array){\n            HSSFRow row = sheet.createRow((short) l);\n            JsonObject values = array.get(i).getAsJsonObject();\n            Set&lt;String&gt; keys = values.keySet();\n            int c = 0;\n            for (String key: keys) {\n                row.createCell(c).setCellValue(values.get(key).toString());\n                c++;\n            }\n        }\n        l++;\n    }\n</code></pre>\n<p>To access a value in GSON it is necessary to access the KEY, in this way you can obtain the value of the object,</p>\n"}],"owner":{"account_id":11723239,"reputation":37,"user_id":8581504,"display_name":"Mateus Bodanese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75058037,"answer_count":1,"score":0,"last_activity_date":1673271148,"creation_date":1673029674,"question_id":75034826,"body_markdown":"I need to create a function that will read a JsonArray(gson) and transform it into CSV.\r\n\r\n\r\n\r\nI tried using openCSV, but I couldn&#39;t, OpenCSV already expects a list to create the csv and I couldn&#39;t convert the JsonArray to a list.\r\n\r\nMy Codes;\r\n\r\n   \r\n    public Report buildCsv2(@NonNull Report.Type type,\r\n                           @NonNull String ev_json_in,\r\n                           @NonNull String titulo) throws IOException \r\n    {;\r\n        StringBuffer dados = repository.getJson(ev_json_in);\r\n        var data = dados.toString();\r\n\r\n        Gson gson = new Gson();\r\n        JsonObject object = gson.newBuilder().create().fromJson(data, \r\n    JsonObject.class);\r\n        JsonArray array = object.getAsJsonArray(titulo);\r\n\r\n        return Report.builder()\r\n                .body(CsvHelper.createCsvFile(array))\r\n                .type(type.getMediaType())\r\n                .filename(titulo)\r\n                .build();\r\n    }\r\n\r\n\r\n       public static Object createCsvFile(JsonArray array) {\r\n        File file = new File(&quot;csv.csv&quot;);\r\n\r\n        try {\r\n            FileWriter outputfile = new FileWriter(file);\r\n            CSVWriter writer = new CSVWriter(outputfile);\r\n            List data = array.asList();\r\n\r\n            writer.writeAll(data);\r\n            writer.close();\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return file.getName();\r\n    }\r\n\r\nThe error :\r\n\r\n    &lt;message&gt;class com.google.gson.JsonObject cannot be cast to class [Ljava.lang.String; (com.google.gson.JsonObject is in unnamed module of loader &#39;app&#39;; [Ljava.lang.String; is in module java.base of loader &#39;bootstrap&#39;)&lt;/message&gt;\r\n\r\nthanks in advance","title":"How to return a csv in java using Gson?","body":"<p>I need to create a function that will read a JsonArray(gson) and transform it into CSV.</p>\n<p>I tried using openCSV, but I couldn't, OpenCSV already expects a list to create the csv and I couldn't convert the JsonArray to a list.</p>\n<p>My Codes;</p>\n<pre><code>public Report buildCsv2(@NonNull Report.Type type,\n                       @NonNull String ev_json_in,\n                       @NonNull String titulo) throws IOException \n{;\n    StringBuffer dados = repository.getJson(ev_json_in);\n    var data = dados.toString();\n\n    Gson gson = new Gson();\n    JsonObject object = gson.newBuilder().create().fromJson(data, \nJsonObject.class);\n    JsonArray array = object.getAsJsonArray(titulo);\n\n    return Report.builder()\n            .body(CsvHelper.createCsvFile(array))\n            .type(type.getMediaType())\n            .filename(titulo)\n            .build();\n}\n\n\n   public static Object createCsvFile(JsonArray array) {\n    File file = new File(&quot;csv.csv&quot;);\n\n    try {\n        FileWriter outputfile = new FileWriter(file);\n        CSVWriter writer = new CSVWriter(outputfile);\n        List data = array.asList();\n\n        writer.writeAll(data);\n        writer.close();\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n    return file.getName();\n}\n</code></pre>\n<p>The error :</p>\n<pre><code>&lt;message&gt;class com.google.gson.JsonObject cannot be cast to class [Ljava.lang.String; (com.google.gson.JsonObject is in unnamed module of loader 'app'; [Ljava.lang.String; is in module java.base of loader 'bootstrap')&lt;/message&gt;\n</code></pre>\n<p>thanks in advance</p>\n"},{"tags":["java","apache-camel"],"answers":[{"comments":[{"owner":{"account_id":27609,"reputation":1815,"user_id":73010,"accept_rate":68,"display_name":"FrEaKmAn"},"score":0,"creation_date":1498775810,"post_id":44823211,"comment_id":76652585,"body_markdown":"One small question. Once I enable unitOfWork to true, it seems that all exchange share same properties... is this true?","body":"One small question. Once I enable unitOfWork to true, it seems that all exchange share same properties... is this true?"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1498733736,"creation_date":1498733736,"answer_id":44823211,"question_id":44813151,"body_markdown":"You can set `shareUnitOfWork` to true in your content-enricher&#39;s so they work together in the same unit of work. See more details in the documentation: http://camel.apache.org/content-enricher.html","title":"Propagate exception to enriching routes","body":"<p>You can set <code>shareUnitOfWork</code> to true in your content-enricher's so they work together in the same unit of work. See more details in the documentation: <a href=\"http://camel.apache.org/content-enricher.html\" rel=\"nofollow noreferrer\">http://camel.apache.org/content-enricher.html</a></p>\n"}],"owner":{"account_id":27609,"reputation":1815,"user_id":73010,"accept_rate":68,"display_name":"FrEaKmAn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44823211,"answer_count":1,"score":3,"last_activity_date":1673271088,"creation_date":1498686876,"question_id":44813151,"body_markdown":"I have 3 routes: \r\n\r\n- `route-file1` which reads `file1.csv` and converts to array \r\n- `route-file2` which reads `file2.csv` and converts to array \r\n- `route-final` which uses enrich of both routes (with custom aggregator to merge arrays) and do something \r\n\r\nProblem is if `route-file1` succeeds, but `route-file2` or any other routes fail. `route-file1` already completed and moved `file1.csv` to `.done` folder, so I cannot rerun everything again. \r\n\r\nIs there a way that when `route-final` fails, it propagates exception to other routes used in enrich? I tried using transaction which works fine with stopping the route execution, but does not propagate exception to the `route-fileX` routes. Is this possible with the camel?\r\n\r\n","title":"Propagate exception to enriching routes","body":"<p>I have 3 routes:</p>\n<ul>\n<li><code>route-file1</code> which reads <code>file1.csv</code> and converts to array</li>\n<li><code>route-file2</code> which reads <code>file2.csv</code> and converts to array</li>\n<li><code>route-final</code> which uses enrich of both routes (with custom aggregator to merge arrays) and do something</li>\n</ul>\n<p>Problem is if <code>route-file1</code> succeeds, but <code>route-file2</code> or any other routes fail. <code>route-file1</code> already completed and moved <code>file1.csv</code> to <code>.done</code> folder, so I cannot rerun everything again.</p>\n<p>Is there a way that when <code>route-final</code> fails, it propagates exception to other routes used in enrich? I tried using transaction which works fine with stopping the route execution, but does not propagate exception to the <code>route-fileX</code> routes. Is this possible with the camel?</p>\n"},{"tags":["java","android","layout"],"comments":[{"owner":{"account_id":1021726,"reputation":4542,"user_id":1031888,"accept_rate":90,"display_name":"Rafi Kamal"},"score":0,"creation_date":1400425119,"post_id":23722762,"comment_id":36462953,"body_markdown":"Please paste the xml code of the layout","body":"Please paste the xml code of the layout"}],"answers":[{"comments":[{"owner":{"account_id":2311540,"reputation":13103,"user_id":2029566,"accept_rate":100,"display_name":"Emmanuel"},"score":0,"creation_date":1400422484,"post_id":23722811,"comment_id":36462072,"body_markdown":"He wants to toggle the layout&#39;s visibility. This will only set it to visible every time the `Button` is clicked.","body":"He wants to toggle the layout&#39;s visibility. This will only set it to visible every time the <code>Button</code> is clicked."},{"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"score":0,"creation_date":1400422637,"post_id":23722811,"comment_id":36462122,"body_markdown":"Thank for the answer :) however.. I&#39;m trying to set a Layout visibility, not a textview. That&#39;s my problem, I don&#39;t know how to programm the layout definition line in Java","body":"Thank for the answer :) however.. I&#39;m trying to set a Layout visibility, not a textview. That&#39;s my problem, I don&#39;t know how to programm the layout definition line in Java"},{"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"score":0,"creation_date":1400422725,"post_id":23722811,"comment_id":36462149,"body_markdown":"just replace your view with the textview any thing that inherits from view is going to be toggled","body":"just replace your view with the textview any thing that inherits from view is going to be toggled"}],"tags":[],"owner":{"account_id":3375606,"reputation":10150,"user_id":2833783,"accept_rate":56,"display_name":"Illegal Argument"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476369022,"creation_date":1400422192,"answer_id":23722811,"question_id":23722762,"body_markdown":"Try this:\r\n     \r\n    int counter = 0;\r\n        TextVeiw tv = (TextView) findViewById(R.id.textView);\r\n    Button button = (Button ) findViewById(R.id.but);\r\n    button.setOnClickListener(new OnClickListener() {\r\n\r\n    public void onClick(View v) {\r\n        // TODO Auto-generated method stub\r\n        counter++;\r\n        if(counter%2==0){\r\n            tv.setVisibility(View.Visible);//show\r\n        } else {\r\n            tv.setVisibility(View.Gone);//hide\r\n        }\r\n    }\r\n    });","title":"Toggle visibility of a layout on onClick","body":"<p>Try this:</p>\n\n<pre><code>int counter = 0;\n    TextVeiw tv = (TextView) findViewById(R.id.textView);\nButton button = (Button ) findViewById(R.id.but);\nbutton.setOnClickListener(new OnClickListener() {\n\npublic void onClick(View v) {\n    // TODO Auto-generated method stub\n    counter++;\n    if(counter%2==0){\n        tv.setVisibility(View.Visible);//show\n    } else {\n        tv.setVisibility(View.Gone);//hide\n    }\n}\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2311540,"reputation":13103,"user_id":2029566,"accept_rate":100,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400422367,"creation_date":1400422367,"answer_id":23722834,"question_id":23722762,"body_markdown":"You will need to set an `OnClickListener()` on the layout you want to toggle. Then inside the listener you check to see if the layout is visible or not. If it is, then you set its visibility to `View.INVISIBLE `. Otherwise, you set it to `View.VISIBLE`.","title":"Toggle visibility of a layout on onClick","body":"<p>You will need to set an <code>OnClickListener()</code> on the layout you want to toggle. Then inside the listener you check to see if the layout is visible or not. If it is, then you set its visibility to <code>View.INVISIBLE</code>. Otherwise, you set it to <code>View.VISIBLE</code>.</p>\n"},{"tags":[],"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1673270966,"creation_date":1401358856,"answer_id":23931054,"question_id":23722762,"body_markdown":"DerGolem gave the right answer but he then deleted it, so I report it here now:\r\n\r\n    //First we set visibility value of interested layout either to gone, visible or invisible\r\n    android:visibility=&quot;gone&quot;\r\n\r\nThen under onCreate write like:\r\n\r\n    //specify the button that has to handle visibility  \r\n    ImageButton properties = (ImageButton) findViewById(R.id.propBtn);\r\n    \r\n    //And the layout we want to change is visibility\r\n    final LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\r\n    \r\n    properties.setOnClickListener(new View.OnClickListener() {\r\n        public void onClick(View v) {\r\n            if (propLayout.getVisibility() == View.VISIBLE){\r\n                propLayout.setVisibility(View.INVISIBLE);\r\n            } else {\r\n                propLayout.setVisibility(View.VISIBLE);\r\n            }\r\n        }\r\n    });\r\n\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>DerGolem gave the right answer but he then deleted it, so I report it here now:</p>\n<pre><code>//First we set visibility value of interested layout either to gone, visible or invisible\nandroid:visibility=&quot;gone&quot;\n</code></pre>\n<p>Then under onCreate write like:</p>\n<pre><code>//specify the button that has to handle visibility  \nImageButton properties = (ImageButton) findViewById(R.id.propBtn);\n\n//And the layout we want to change is visibility\nfinal LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\n\nproperties.setOnClickListener(new View.OnClickListener() {\n    public void onClick(View v) {\n        if (propLayout.getVisibility() == View.VISIBLE){\n            propLayout.setVisibility(View.INVISIBLE);\n        } else {\n            propLayout.setVisibility(View.VISIBLE);\n        }\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379381,"reputation":379,"user_id":4953620,"display_name":"Saidolim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476365180,"creation_date":1476365180,"answer_id":40022334,"question_id":23722762,"body_markdown":"The another way of toggle, with less lines, if someone likes\r\n\r\n    // button to click\r\n    ImageButton properties = (ImageButton) findViewById(R.id.propBtn);\r\n    \r\n    // and LinearLayout to toggle\r\n    final LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\r\n\r\n    properties.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n            propLayout.setVisibility((propLayout.getVisibility() == View.VISIBLE) \r\n              ? View.INVISIBLE \r\n              : View.VISIBLE);\r\n        }\r\n    });\r\n\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>The another way of toggle, with less lines, if someone likes</p>\n\n<pre><code>// button to click\nImageButton properties = (ImageButton) findViewById(R.id.propBtn);\n\n// and LinearLayout to toggle\nfinal LinearLayout propLayout = (LinearLayout) findViewById(R.id.properLayout);\n\nproperties.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        propLayout.setVisibility((propLayout.getVisibility() == View.VISIBLE) \n          ? View.INVISIBLE \n          : View.VISIBLE);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":4451874,"reputation":1622,"user_id":3623485,"accept_rate":89,"display_name":"Lampione"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13464,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23931054,"answer_count":4,"score":4,"last_activity_date":1673270966,"creation_date":1400421837,"question_id":23722762,"body_markdown":"I need to set this layout visible when i click a button, my java is like:\r\n\r\n    Layout propLayout = (Layout) findViewById(R.id.properLayout);\r\n\r\n        public void propsBtn(View view) {\r\n    propLayout.setVisiblity(View.Visible);\r\n    }\r\n\r\nI know I&#39;m totally wrong with the layout line! I&#39;ll be very grateful if someone could show me how to set it right :)\r\n\r\nThis is my XML:\r\n\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/mainBackGround&quot;\r\n    tools:context=&quot;com.myapplication2.app.MainActivity&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:padding=&quot;8dp&quot;&gt;\r\n\r\n    ...contents...\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:id=&quot;@+id/properLayout&quot;&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:padding=&quot;8dp&quot;&gt;\r\n\r\n    ...contents...           \r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n","title":"Toggle visibility of a layout on onClick","body":"<p>I need to set this layout visible when i click a button, my java is like:</p>\n\n<pre><code>Layout propLayout = (Layout) findViewById(R.id.properLayout);\n\n    public void propsBtn(View view) {\npropLayout.setVisiblity(View.Visible);\n}\n</code></pre>\n\n<p>I know I'm totally wrong with the layout line! I'll be very grateful if someone could show me how to set it right :)</p>\n\n<p>This is my XML:</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"@color/mainBackGround\"\ntools:context=\"com.myapplication2.app.MainActivity\"&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:padding=\"8dp\"&gt;\n\n...contents...\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;LinearLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:visibility=\"gone\"\n    android:id=\"@+id/properLayout\"&gt;\n\n    &lt;RelativeLayout\n        android:orientation=\"horizontal\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"300dp\"\n        android:layout_gravity=\"bottom\"\n        android:padding=\"8dp\"&gt;\n\n...contents...           \n\n    &lt;/RelativeLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1673271487,"post_id":75057955,"comment_id":132454344,"body_markdown":"AFAIK not possible with apache poi. If you check the code of such a .htm file, you will see quite a bit of JavaScript code which apache poi can&#39;t process","body":"AFAIK not possible with apache poi. If you check the code of such a .htm file, you will see quite a bit of JavaScript code which apache poi can&#39;t process"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673287270,"post_id":75057955,"comment_id":132460488,"body_markdown":"Is the resulting `.xls` file readable as an `HSSFWorkbook`?","body":"Is the resulting <code>.xls</code> file readable as an <code>HSSFWorkbook</code>?"},{"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"score":0,"creation_date":1673297716,"post_id":75057955,"comment_id":132463373,"body_markdown":"It isn&#39;t readable as an HSSFWorkbook, which is the way the other reports are being read.","body":"It isn&#39;t readable as an HSSFWorkbook, which is the way the other reports are being read."}],"owner":{"account_id":980057,"reputation":7528,"user_id":1000011,"accept_rate":52,"display_name":"opticyclic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673270781,"creation_date":1673270781,"question_id":75057955,"body_markdown":"Excel gives you the option to save as `Web Page (*.html, *.html)` which will convert your spreadsheet from the binary format to html.\r\n\r\nIt creates the html with the header:\r\n\r\n    &lt;html \r\n        xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;\r\n        xmlns:v=&quot;urn:schemas-microsoft-com:office:office&quot;\r\n        xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\r\n\r\nA legacy third-party system being used is generating this html and saving it with the extension xls. Excel will open the file and although it gives a warning about &quot;The file format and extension don&#39;t match&quot; it opens the file just fine.\r\n\r\nCurrently, some VBA on on the end users personal macro workbook is reading these files and saving them to the binary Excel format.\r\n\r\n    Sub Convert()\r\n          Const FOLDER_PATH As String = &quot;Z:\\reports\\&quot;\r\n          Dim wb As Workbook\r\n          Set wb = Workbooks.Open(FOLDER_PATH &amp; &quot;input.html.xls&quot;)\r\n          wb.SaveAs Filename:=FOLDER_PATH &amp; &quot;output.xls&quot;, FileFormat:=xlExcel8\r\n    End Sub\r\n\r\nHowever, the files are now being fed through a centralised process that handles all the report feeds.\r\n\r\nThe existing process reads reports in Java using poi. However, the process fails when being sent this Excel file as it is expecting xls and not html renamed as xls.\r\n\r\nHow do I read/convert these files in Java?\r\n","title":"How do I read an Excel Web Page?","body":"<p>Excel gives you the option to save as <code>Web Page (*.html, *.html)</code> which will convert your spreadsheet from the binary format to html.</p>\n<p>It creates the html with the header:</p>\n<pre><code>&lt;html \n    xmlns:v=&quot;urn:schemas-microsoft-com:vml&quot;\n    xmlns:v=&quot;urn:schemas-microsoft-com:office:office&quot;\n    xmlns:x=&quot;urn:schemas-microsoft-com:office:excel&quot;\n</code></pre>\n<p>A legacy third-party system being used is generating this html and saving it with the extension xls. Excel will open the file and although it gives a warning about &quot;The file format and extension don't match&quot; it opens the file just fine.</p>\n<p>Currently, some VBA on on the end users personal macro workbook is reading these files and saving them to the binary Excel format.</p>\n<pre><code>Sub Convert()\n      Const FOLDER_PATH As String = &quot;Z:\\reports\\&quot;\n      Dim wb As Workbook\n      Set wb = Workbooks.Open(FOLDER_PATH &amp; &quot;input.html.xls&quot;)\n      wb.SaveAs Filename:=FOLDER_PATH &amp; &quot;output.xls&quot;, FileFormat:=xlExcel8\nEnd Sub\n</code></pre>\n<p>However, the files are now being fed through a centralised process that handles all the report feeds.</p>\n<p>The existing process reads reports in Java using poi. However, the process fails when being sent this Excel file as it is expecting xls and not html renamed as xls.</p>\n<p>How do I read/convert these files in Java?</p>\n"},{"tags":["java","arrays","oop"],"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1415680939,"post_id":26857587,"comment_id":42276820,"body_markdown":"The Collections framework has `removeAll` and `retainAll` methods that could be useful here. Don&#39;t operate on arrays directly, though.","body":"The Collections framework has <code>removeAll</code> and <code>retainAll</code> methods that could be useful here. Don&#39;t operate on arrays directly, though."},{"owner":{"account_id":5162597,"reputation":378,"user_id":4133763,"accept_rate":73,"display_name":"DanSchneiderNA"},"score":1,"creation_date":1415681928,"post_id":26857587,"comment_id":42277086,"body_markdown":"Is it guarenteed that the arrays contain the same number of elements or is sorted?","body":"Is it guarenteed that the arrays contain the same number of elements or is sorted?"},{"owner":{"account_id":3344216,"reputation":2140,"user_id":2809686,"accept_rate":25,"display_name":"Kingsley Simon"},"score":0,"creation_date":1415682245,"post_id":26857587,"comment_id":42277193,"body_markdown":"i dont get your question Tyler.","body":"i dont get your question Tyler."},{"owner":{"account_id":5162597,"reputation":378,"user_id":4133763,"accept_rate":73,"display_name":"DanSchneiderNA"},"score":0,"creation_date":1415686694,"post_id":26857587,"comment_id":42278666,"body_markdown":"I was asking if you knew whether the two arrays would always be sorted and/or contain the same number of elements. Such as both arrays containing 5 elements. However, rather than posting another answer, I would suggest using Jayesh&#39;s answer if you are unsure of the array types you will be using or just want to achieve a state of code-reuse","body":"I was asking if you knew whether the two arrays would always be sorted and/or contain the same number of elements. Such as both arrays containing 5 elements. However, rather than posting another answer, I would suggest using Jayesh&#39;s answer if you are unsure of the array types you will be using or just want to achieve a state of code-reuse"}],"answers":[{"tags":[],"owner":{"account_id":2375524,"reputation":782,"user_id":2079023,"display_name":"Krunal Indrodiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415682780,"creation_date":1415682780,"answer_id":26857968,"question_id":26857587,"body_markdown":"you can use java collection framework, Many function are there,\r\nhere is simple example check it.\r\n\r\n    public static void main(String a[]){\r\n         \r\n        List&lt;String&gt; sl = new ArrayList&lt;String&gt;();\r\n        sl.add(&quot;apple&quot;);\r\n        sl.add(&quot;java&quot;);\r\n        sl.add(&quot;c++&quot;);\r\n        sl.add(&quot;unix&quot;);\r\n        sl.add(&quot;orange&quot;);\r\n        sl.add(&quot;airtel&quot;);\r\n        List&lt;String&gt; tl = new ArrayList&lt;String&gt;();\r\n        tl.add(&quot;job&quot;);\r\n        tl.add(&quot;oracle&quot;);\r\n        tl.add(&quot;jungle&quot;);\r\n        tl.add(&quot;cricket&quot;);\r\n        boolean isCommon = Collections.disjoint(sl,tl);\r\n        System.out.println(&quot;Does not found any common elements? &quot;+isCommon);\r\n        tl.add(&quot;java&quot;);\r\n        isCommon = Collections.disjoint(sl,tl);\r\n        System.out.println(&quot;Does not found any common elements? &quot;+isCommon);\r\n    }\r\n","title":"comparing values of two arrays if exist or not","body":"<p>you can use java collection framework, Many function are there,\nhere is simple example check it.</p>\n\n<pre><code>public static void main(String a[]){\n\n    List&lt;String&gt; sl = new ArrayList&lt;String&gt;();\n    sl.add(\"apple\");\n    sl.add(\"java\");\n    sl.add(\"c++\");\n    sl.add(\"unix\");\n    sl.add(\"orange\");\n    sl.add(\"airtel\");\n    List&lt;String&gt; tl = new ArrayList&lt;String&gt;();\n    tl.add(\"job\");\n    tl.add(\"oracle\");\n    tl.add(\"jungle\");\n    tl.add(\"cricket\");\n    boolean isCommon = Collections.disjoint(sl,tl);\n    System.out.println(\"Does not found any common elements? \"+isCommon);\n    tl.add(\"java\");\n    isCommon = Collections.disjoint(sl,tl);\n    System.out.println(\"Does not found any common elements? \"+isCommon);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5183289,"reputation":233,"user_id":4148312,"display_name":"Navish Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415684290,"creation_date":1415684290,"answer_id":26858282,"question_id":26857587,"body_markdown":"You may use Apache&#39;s `CollectionUtils` for this purpose if you want an abstraction from the implementation logic.E.g:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tList&lt;Integer&gt; list1=Arrays.asList(1,2,4,6,7);\r\n    \t\tList&lt;Integer&gt; list2=Arrays.asList(2,3,4,6,7);\r\n    \t\t\r\n    \tSystem.out.println(CollectionUtils.disjunction(list1,list2));\r\n    \t}","title":"comparing values of two arrays if exist or not","body":"<p>You may use Apache's <code>CollectionUtils</code> for this purpose if you want an abstraction from the implementation logic.E.g:</p>\n\n<pre><code>public static void main(String[] args) {\n        List&lt;Integer&gt; list1=Arrays.asList(1,2,4,6,7);\n        List&lt;Integer&gt; list2=Arrays.asList(2,3,4,6,7);\n\n    System.out.println(CollectionUtils.disjunction(list1,list2));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4829578,"reputation":4682,"user_id":3898076,"accept_rate":72,"display_name":"Naman Gala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415685191,"creation_date":1415685191,"answer_id":26858459,"question_id":26857587,"body_markdown":"You can code this way\r\n\r\n\tList&lt;Integer&gt; array1 = Arrays.asList(1,2,4,6,7);\r\n\tList&lt;Integer&gt; array2 = Arrays.asList(2,3,4,6,7);\r\n\t\r\n\tList&lt;Integer&gt; disjointArray = new ArrayList&lt;Integer&gt;();\r\n\tfor (Integer value : array1) {\r\n\t\tif (!array2.contains(value)) {\r\n\t\t\tdisjointArray.add(value);\r\n\t\t}\r\n\t}\r\n\r\nAnd then you can print disjointArray or do whatever manipulation you want.","title":"comparing values of two arrays if exist or not","body":"<p>You can code this way</p>\n\n<pre><code>List&lt;Integer&gt; array1 = Arrays.asList(1,2,4,6,7);\nList&lt;Integer&gt; array2 = Arrays.asList(2,3,4,6,7);\n\nList&lt;Integer&gt; disjointArray = new ArrayList&lt;Integer&gt;();\nfor (Integer value : array1) {\n    if (!array2.contains(value)) {\n        disjointArray.add(value);\n    }\n}\n</code></pre>\n\n<p>And then you can print disjointArray or do whatever manipulation you want.</p>\n"},{"tags":[],"owner":{"account_id":5264288,"reputation":101,"user_id":4204793,"display_name":"Jayesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1415685230,"creation_date":1415685230,"answer_id":26858463,"question_id":26857587,"body_markdown":"Using Collection class removeAll method\r\n\r\n      String original[] = { &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;6&quot;};\r\n\t\t String testStr[] = { &quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;5&quot;,&quot;7&quot; };\r\n\t\t    List origList = new ArrayList(Arrays.asList(original));\r\n\t\t    List testList = new ArrayList(Arrays.asList(testStr));\r\n\r\n\t\t    System.out.println(origList.removeAll(testList));\r\n\t\t    System.out.println(origList);\r\n\t\t\r\n\t\t   ","title":"comparing values of two arrays if exist or not","body":"<p>Using Collection class removeAll method</p>\n\n<pre><code>  String original[] = { \"1\",\"2\",\"3\",\"4\",\"6\"};\n     String testStr[] = { \"1\",\"2\",\"3\",\"5\",\"7\" };\n        List origList = new ArrayList(Arrays.asList(original));\n        List testList = new ArrayList(Arrays.asList(testStr));\n\n        System.out.println(origList.removeAll(testList));\n        System.out.println(origList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415689099,"creation_date":1415689099,"answer_id":26859314,"question_id":26857587,"body_markdown":"Here a running example using Javas Collection classes:\r\n\r\n    public class Disjunction {\r\n        public static void main(String args[]) throws UnsupportedEncodingException {\r\n            //Some data preparation\r\n            List&lt;Integer&gt; list1=Arrays.asList(1,2,4);\r\n            List&lt;Integer&gt; list2=Arrays.asList(5,2,8);\r\n            \r\n            //Here calculating data1-data2 and data2-data1, collect all list items\r\n            //that are in data1 or in data2 but not in both.\r\n            List&lt;Integer&gt; data1 = new ArrayList&lt;&gt;(list1);\r\n            data1.removeAll(list2);\r\n            List&lt;Integer&gt; data2 = new ArrayList&lt;&gt;(list2);\r\n            data2.removeAll(list1);\r\n            \r\n            //Merging both results. data1 contains now exclusive or of list1 and list2\r\n            data1.addAll(data2);\r\n            \r\n            System.out.println(&quot;exclusive or is &quot; + data1);\r\n    \t}\r\n    }\r\n\r\nIt prints out\r\n\r\n    exclusive or is [1, 4, 5, 8]","title":"comparing values of two arrays if exist or not","body":"<p>Here a running example using Javas Collection classes:</p>\n\n<pre><code>public class Disjunction {\n    public static void main(String args[]) throws UnsupportedEncodingException {\n        //Some data preparation\n        List&lt;Integer&gt; list1=Arrays.asList(1,2,4);\n        List&lt;Integer&gt; list2=Arrays.asList(5,2,8);\n\n        //Here calculating data1-data2 and data2-data1, collect all list items\n        //that are in data1 or in data2 but not in both.\n        List&lt;Integer&gt; data1 = new ArrayList&lt;&gt;(list1);\n        data1.removeAll(list2);\n        List&lt;Integer&gt; data2 = new ArrayList&lt;&gt;(list2);\n        data2.removeAll(list1);\n\n        //Merging both results. data1 contains now exclusive or of list1 and list2\n        data1.addAll(data2);\n\n        System.out.println(\"exclusive or is \" + data1);\n    }\n}\n</code></pre>\n\n<p>It prints out</p>\n\n<pre><code>exclusive or is [1, 4, 5, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20654866,"reputation":1,"user_id":15164249,"display_name":"Abhay Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673270590,"creation_date":1673029610,"answer_id":75034813,"question_id":26857587,"body_markdown":"Try the following program that checks two arrays for numbers they both have and numbers they don&#39;t have:\r\n\r\n    package test;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public class ArrayDifferentiater {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] ori = { 1, 5, 4, 8, 6, 65, 16, 6, 575, 64, 561, 57, 57 };\r\n    \t\tint[] che = { 1, 4, 8, 6 };\r\n    \t\tsort(ori, che);\r\n    \t}\r\n    \r\n    \tpublic static void sort(int[] a, int[] b) {\r\n    \t\t/**\r\n    \t\t * &#39;foundNum&#39; contains the numbers which exists in both array. \r\n    \t\t * &#39;notFoundNum&#39; contains the numbers which exists in only first array.\r\n    \t\t */\r\n    \t\tArrayList&lt;Integer&gt; foundNum = new ArrayList&lt;&gt;();\r\n    \t\tArrayList&lt;Integer&gt; notFoundNum = new ArrayList&lt;&gt;();\r\n    \r\n    \t\t// First for loop starts\r\n    \t\tfor (int i = 0; i &lt; a.length; i++) {\r\n    \t\t\t\r\n    \t\t\t// Second for loop starts\r\n    \t\t\tfor (int j = 0; j &lt; b.length; j++) {\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Check if array 1 contains value of array 2. \r\n    \t\t\t\t * If contains than add it to &quot;foundNum&quot; arraylist.\r\n    \t\t\t\t */\r\n    \t\t\t\tif (a[i] == b[j]) {\r\n    \t\t\t\t\tfoundNum.add(a[i]);\r\n    \r\n    \t\t\t\t\t// Remove the number which exists in both arrays from &quot;notFoundNum&quot; arraylist.\r\n    \r\n    \t\t\t\t\tif (notFoundNum.contains(a[i])) {\r\n    \t\t\t\t\t\tfor (int k = 0; k &lt; notFoundNum.size(); k++) {\r\n    \t\t\t\t\t\t\tif (notFoundNum.get(k) == a[i]) {\r\n    \t\t\t\t\t\t\t\tnotFoundNum.remove(k);\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\t\r\n    \t\t\t\t} // First if block ends\r\n    \r\n    \t\t\t\t/**\r\n    \t\t\t\t * Checks if a not found number does not exists in &#39;notFoundNum&#39; arraylist (to reduce redundancy)\r\n    \t\t\t\t * then adds a not found number to &#39;notFoundNum&#39; arraylist\r\n    \t\t\t\t * */\r\n    \t\t\t\tif (!notFoundNum.contains(a[i]))\r\n    \t\t\t\t\tnotFoundNum.add(a[i]);\r\n    \t\t\t\t\r\n    \t\t\t} // Second for loop ends\r\n    \t\t\t\r\n    \t\t} // First for loop ends\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Found Numbers : &quot; + foundNum);\r\n    \t\tSystem.out.println(&quot;Not Found Numbers : &quot; + notFoundNum);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nHere is the output for the above program:\r\n\r\n    Found Numbers : [1, 4, 8, 6, 6]\r\n    Not Found Numbers : [5, 65, 16, 575, 64, 561, 57]\r\n\r\n","title":"comparing values of two arrays if exist or not","body":"<p>Try the following program that checks two arrays for numbers they both have and numbers they don't have:</p>\n<pre><code>package test;\n\nimport java.util.ArrayList;\n\npublic class ArrayDifferentiater {\n\n    public static void main(String[] args) {\n        int[] ori = { 1, 5, 4, 8, 6, 65, 16, 6, 575, 64, 561, 57, 57 };\n        int[] che = { 1, 4, 8, 6 };\n        sort(ori, che);\n    }\n\n    public static void sort(int[] a, int[] b) {\n        /**\n         * 'foundNum' contains the numbers which exists in both array. \n         * 'notFoundNum' contains the numbers which exists in only first array.\n         */\n        ArrayList&lt;Integer&gt; foundNum = new ArrayList&lt;&gt;();\n        ArrayList&lt;Integer&gt; notFoundNum = new ArrayList&lt;&gt;();\n\n        // First for loop starts\n        for (int i = 0; i &lt; a.length; i++) {\n            \n            // Second for loop starts\n            for (int j = 0; j &lt; b.length; j++) {\n\n                /**\n                 * Check if array 1 contains value of array 2. \n                 * If contains than add it to &quot;foundNum&quot; arraylist.\n                 */\n                if (a[i] == b[j]) {\n                    foundNum.add(a[i]);\n\n                    // Remove the number which exists in both arrays from &quot;notFoundNum&quot; arraylist.\n\n                    if (notFoundNum.contains(a[i])) {\n                        for (int k = 0; k &lt; notFoundNum.size(); k++) {\n                            if (notFoundNum.get(k) == a[i]) {\n                                notFoundNum.remove(k);\n                            }\n                        }\n                    }\n\n                    break;\n                    \n                } // First if block ends\n\n                /**\n                 * Checks if a not found number does not exists in 'notFoundNum' arraylist (to reduce redundancy)\n                 * then adds a not found number to 'notFoundNum' arraylist\n                 * */\n                if (!notFoundNum.contains(a[i]))\n                    notFoundNum.add(a[i]);\n                \n            } // Second for loop ends\n            \n        } // First for loop ends\n        \n        System.out.println(&quot;Found Numbers : &quot; + foundNum);\n        System.out.println(&quot;Not Found Numbers : &quot; + notFoundNum);\n    }\n\n}\n</code></pre>\n<p>Here is the output for the above program:</p>\n<pre><code>Found Numbers : [1, 4, 8, 6, 6]\nNot Found Numbers : [5, 65, 16, 575, 64, 561, 57]\n</code></pre>\n"}],"owner":{"account_id":3344216,"reputation":2140,"user_id":2809686,"accept_rate":25,"display_name":"Kingsley Simon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26858463,"answer_count":6,"score":0,"last_activity_date":1673270590,"creation_date":1415680750,"question_id":26857587,"body_markdown":" I have this code which is to check in the two arrays  and print out the values that dont exist in the other array. I think the way i did it is not the most efficient way to do it hence can anyone offer a better OOP way to write this code in Java? \r\n\r\nThanks \r\n     \r\n     public class Calculate {\r\n        \tstatic int [] x = {1,2,4,6,7};\r\n        \tstatic int [] y = {2,3,4,6,7}; \r\n        \tstatic boolean xflag = true;\r\n        \tstatic boolean yflag = true;\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\t\r\n        \t\tfor(int i = 0; i&lt;x.length; i++)\r\n        \t\t{\r\n        \t\t\r\n        \t\tfor (int b=0;  b&lt;y.length; b++)\r\n        \t\t\t{\r\n        \t\t\t\tif(x[i]!= y[b])\r\n        \t\t\t\t{\r\n        \t\t\t\t\txflag= false;\r\n        \t\t\t\t\t\r\n        \t\t\t\t}\r\n        \t\t\t\telse\r\n        \t\t\t\t{\r\n        \t\t\t\t\txflag = true;\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\tif(xflag==false)\r\n        \t\t\t{\r\n        \t\t\t\tSystem.out.println(x[i] +&quot; does not exist in array 2&quot;);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\tfor(int i = 0; i&lt;x.length; i++)\r\n        \t\t{\r\n        \t\t\r\n        \t\tfor (int b=0;  b&lt;y.length; b++)\r\n        \t\t\t{\r\n        \t\t\t\tif(y[i]!= x[b])\r\n        \t\t\t\t{\r\n        \t\t\t\t\tyflag= false;\r\n        \t\t\t\t\t\r\n        \t\t\t\t}\r\n        \t\t\t\telse\r\n        \t\t\t\t{\r\n        \t\t\t\t\tyflag = true;\r\n        \t\t\t\t\tbreak;\r\n        \t\t\t\t}\r\n        \t\t\t\t\t\r\n        \t\t\t}\r\n        \t\t\r\n        \t\t\tif(yflag==false)\r\n        \t\t\t{\r\n        \t\t\t\tSystem.out.println(y[i] +&quot; does not exist in array1&quot;);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \t\t\r\n        \r\n        \t}\r\n        \r\n        \t\r\n        }\r\n\r\n","title":"comparing values of two arrays if exist or not","body":"<p>I have this code which is to check in the two arrays  and print out the values that dont exist in the other array. I think the way i did it is not the most efficient way to do it hence can anyone offer a better OOP way to write this code in Java? </p>\n\n<p>Thanks </p>\n\n<pre><code> public class Calculate {\n        static int [] x = {1,2,4,6,7};\n        static int [] y = {2,3,4,6,7}; \n        static boolean xflag = true;\n        static boolean yflag = true;\n\n        public static void main(String[] args) {\n            // TODO Auto-generated method stub\n\n            for(int i = 0; i&lt;x.length; i++)\n            {\n\n            for (int b=0;  b&lt;y.length; b++)\n                {\n                    if(x[i]!= y[b])\n                    {\n                        xflag= false;\n\n                    }\n                    else\n                    {\n                        xflag = true;\n                        break;\n                    }\n\n                }\n\n                if(xflag==false)\n                {\n                    System.out.println(x[i] +\" does not exist in array 2\");\n                }\n\n            }\n\n\n            for(int i = 0; i&lt;x.length; i++)\n            {\n\n            for (int b=0;  b&lt;y.length; b++)\n                {\n                    if(y[i]!= x[b])\n                    {\n                        yflag= false;\n\n                    }\n                    else\n                    {\n                        yflag = true;\n                        break;\n                    }\n\n                }\n\n                if(yflag==false)\n                {\n                    System.out.println(y[i] +\" does not exist in array1\");\n                }\n\n            }\n\n\n\n\n\n        }\n\n\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9479,"page":744,"page_size":100}
