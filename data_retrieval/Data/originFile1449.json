{"items":[{"tags":["java","swing","jpanel","jbutton","jlabel"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649086105,"post_id":71739731,"comment_id":126781296,"body_markdown":"A JPanel is not an ActionListener. However, you could let your panel implement that interface too. Your Main class is an ActionListener too.","body":"A JPanel is not an ActionListener. However, you could let your panel implement that interface too. Your Main class is an ActionListener too."}],"answers":[{"tags":[],"owner":{"account_id":2606259,"reputation":2527,"user_id":2257374,"accept_rate":64,"display_name":"marc3l"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649086714,"creation_date":1649086714,"answer_id":71739994,"question_id":71739731,"body_markdown":"You cannot register a `java.awt.Component` (which JPanel is) as an `ActionListener` of `JButton`. Instead you should use one of the appropriate listeners listed here, to register one onto the `JPanel`: https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html\r\n\r\nYou should do:\r\n\r\n    button.addActionListener(new Main());\r\n\r\nbut it would be better if you create a new class for the `ActionListener` and implement the interface there, and then in the main method use the constructor of your own listener.\r\n\r\nAnd always read the documentation ;)","title":"The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)","body":"<p>You cannot register a <code>java.awt.Component</code> (which JPanel is) as an <code>ActionListener</code> of <code>JButton</code>. Instead you should use one of the appropriate listeners listed here, to register one onto the <code>JPanel</code>: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/Component.html</a></p>\n<p>You should do:</p>\n<pre><code>button.addActionListener(new Main());\n</code></pre>\n<p>but it would be better if you create a new class for the <code>ActionListener</code> and implement the interface there, and then in the main method use the constructor of your own listener.</p>\n<p>And always read the documentation ;)</p>\n"}],"owner":{"account_id":21056241,"reputation":9,"user_id":15475451,"display_name":"Arbalistic_Cow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649390444,"creation_date":1649085646,"question_id":71739731,"body_markdown":"    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    public class Main implements ActionListener{\r\n    \tJButton button;\r\n    \tpublic static void main(String[] args) {\r\n    \t\tJButton button = new JButton();\r\n    \t\tJLabel label = new JLabel();\r\n    \t\tlabel.setText(&quot;&quot;);\r\n    \t\tlabel.setHorizontalAlignment(JLabel.CENTER);\r\n    \t\tJPanel redPanel = new JPanel();\r\n    \t\tredPanel.setBackground(Color.red);\r\n    \t\tredPanel.setBounds(0,250,250,250);\r\n    \t\tredPanel.setLayout(new BorderLayout());\r\n    \t\tJPanel bluePanel = new JPanel();\r\n    \t\tbluePanel.setBackground(Color.blue);\r\n    \t\tbluePanel.setBounds(250,250,250,250);\r\n    \t\tbluePanel.setLayout(new BorderLayout());\r\n    \t\tJPanel greenPanel = new JPanel();\r\n    \t\tgreenPanel.setBackground(Color.green);\r\n    \t\tgreenPanel.setBounds(0,0,500,250);\r\n    \t\tgreenPanel.setLayout(new BorderLayout());\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.setLayout(null);\r\n    \t\tframe.setSize(750, 750);\r\n    \t\tframe.setVisible(true);\r\n    \t\tredPanel.add(label);\r\n    \t\tredPanel.add(button);\r\n    \t\tframe.add(redPanel);\r\n    \t\tframe.add(bluePanel);\r\n    \t\tframe.add(greenPanel);\r\n    \t\tbutton.setBounds(0,250,250,250);\r\n    \t\tbutton.addActionListener(redPanel);\r\n    \t}\r\n    \tpublic void actionPerformed(ActionEvent e) {\r\n    \t\tif(e.getSource() == button) {\r\n    \t\t\tSystem.out.print(&quot;ahahah&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI wanted to add a fully functioning button inside the main class\r\n\r\ni had the error:The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)\r\n\r\n(I tried putting JPanel as an argument)\r\n\r\n    button.addActionListener(redPanel);","title":"The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)","body":"<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\npublic class Main implements ActionListener{\n    JButton button;\n    public static void main(String[] args) {\n        JButton button = new JButton();\n        JLabel label = new JLabel();\n        label.setText(&quot;&quot;);\n        label.setHorizontalAlignment(JLabel.CENTER);\n        JPanel redPanel = new JPanel();\n        redPanel.setBackground(Color.red);\n        redPanel.setBounds(0,250,250,250);\n        redPanel.setLayout(new BorderLayout());\n        JPanel bluePanel = new JPanel();\n        bluePanel.setBackground(Color.blue);\n        bluePanel.setBounds(250,250,250,250);\n        bluePanel.setLayout(new BorderLayout());\n        JPanel greenPanel = new JPanel();\n        greenPanel.setBackground(Color.green);\n        greenPanel.setBounds(0,0,500,250);\n        greenPanel.setLayout(new BorderLayout());\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(750, 750);\n        frame.setVisible(true);\n        redPanel.add(label);\n        redPanel.add(button);\n        frame.add(redPanel);\n        frame.add(bluePanel);\n        frame.add(greenPanel);\n        button.setBounds(0,250,250,250);\n        button.addActionListener(redPanel);\n    }\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource() == button) {\n            System.out.print(&quot;ahahah&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I wanted to add a fully functioning button inside the main class</p>\n<p>i had the error:The method addActionListener(ActionListener) in the type AbstractButton is not applicable for the arguments (JPanel)</p>\n<p>(I tried putting JPanel as an argument)</p>\n<pre><code>button.addActionListener(redPanel);\n</code></pre>\n"},{"tags":["java","arrays","json","extract"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1649387991,"post_id":71791302,"comment_id":126867955,"body_markdown":"You input (json) is not valid, it should be wrapped in `[...]` to specify an &quot;array&quot; of objects","body":"You input (json) is not valid, it should be wrapped in <code>[...]</code> to specify an &quot;array&quot; of objects"},{"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"score":0,"creation_date":1649388895,"post_id":71791302,"comment_id":126868078,"body_markdown":"Fixed it, but still get the same error","body":"Fixed it, but still get the same error"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1649388990,"post_id":71791302,"comment_id":126868095,"body_markdown":"@Tiya You shouldn&#39;t have added the extra leading &quot;{&quot; and trailing &quot;}&quot;.","body":"@Tiya You shouldn&#39;t have added the extra leading &quot;{&quot; and trailing &quot;}&quot;."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649390127,"creation_date":1649390127,"answer_id":71791508,"question_id":71791302,"body_markdown":"This is where a good [JSON formatter](https://jsonformatter.curiousconcept.com/#) can really help.\r\n\r\n    {\r\n        &quot;autoId&quot;: &quot;babsds&quot;,\r\n        &quot;partNumber&quot;: 6144686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1129&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;bassb&quot;,\r\n        &quot;partNumber&quot;: 6442686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1219&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n        &quot;partNumber&quot;: 6344686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1291&quot;\r\n    },\r\n    {\r\n        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n        &quot;partNumber&quot;: 6446856,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;0129&quot;\r\n    }\r\n\r\nIs invalid, as it should either start with a single &quot;outer&quot; object or array\r\n\r\nAnd...\r\n\r\n    {\r\n        [\r\n            {\r\n                &quot;autoId&quot;: &quot;babsds&quot;,\r\n                &quot;partNumber&quot;: 6144686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1129&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;bassb&quot;,\r\n                &quot;partNumber&quot;: 6442686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1219&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;bsswab&quot;,\r\n                &quot;partNumber&quot;: 6344686,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;1291&quot;\r\n            },\r\n            {\r\n                &quot;autoId&quot;: &quot;badfgb&quot;,\r\n                &quot;partNumber&quot;: 6446856,\r\n                &quot;amount&quot;: &quot;139.98&quot;,\r\n                &quot;id&quot;: &quot;0129&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nis invalid as the array needs a key ie `{&quot;some array&quot;:[...]}`\r\n\r\nSo, I modified your JSON to look like...\r\n\r\n    [\r\n        {\r\n            &quot;autoId&quot;: &quot;babsds&quot;,\r\n            &quot;partNumber&quot;: 6144686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1129&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;bassb&quot;,\r\n            &quot;partNumber&quot;: 6442686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1219&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;bsswab&quot;,\r\n            &quot;partNumber&quot;: 6344686,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;1291&quot;\r\n        },\r\n        {\r\n            &quot;autoId&quot;: &quot;badfgb&quot;,\r\n            &quot;partNumber&quot;: 6446856,\r\n            &quot;amount&quot;: &quot;139.98&quot;,\r\n            &quot;id&quot;: &quot;0129&quot;\r\n        }\r\n    ]\r\n\r\nand used...\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.reflect.TypeToken;\r\n    import java.lang.reflect.Type;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Gson gson1 = new Gson();\r\n            Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;() {\r\n            }.getType();\r\n\r\n            List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\r\n            for (MyObject st : stats) {\r\n                System.out.println(st.id);\r\n            }\r\n        }\r\n\r\n        protected static String getJson() {\r\n            return &quot;&quot;&quot;\r\n                [\r\n                    {\r\n                        &quot;autoId&quot;: &quot;babsds&quot;,\r\n                        &quot;partNumber&quot;: 6144686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1129&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;bassb&quot;,\r\n                        &quot;partNumber&quot;: 6442686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1219&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n                        &quot;partNumber&quot;: 6344686,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;1291&quot;\r\n                    },\r\n                    {\r\n                        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n                        &quot;partNumber&quot;: 6446856,\r\n                        &quot;amount&quot;: &quot;139.98&quot;,\r\n                        &quot;id&quot;: &quot;0129&quot;\r\n                    }\r\n                ]\r\n                   &quot;&quot;&quot;;\r\n        }\r\n\r\n        public static class MyObject {\r\n            String autoId;\r\n            String partNumber;\r\n            String amount;\r\n            String id;\r\n\r\n            @Override\r\n            public String toString() {\r\n                return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber\r\n                        + &quot;, amount=&quot; + amount\r\n                        + &quot;, id=&quot; + id\r\n                        + &quot;]&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\nto parse it and it prints...\r\n\r\n    1129\r\n    1219\r\n    1291\r\n    0129","title":"Extract a field value from json","body":"<p>This is where a good <a href=\"https://jsonformatter.curiousconcept.com/#\" rel=\"nofollow noreferrer\">JSON formatter</a> can really help.</p>\n<pre><code>{\n    &quot;autoId&quot;: &quot;babsds&quot;,\n    &quot;partNumber&quot;: 6144686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1129&quot;\n},\n{\n    &quot;autoId&quot;: &quot;bassb&quot;,\n    &quot;partNumber&quot;: 6442686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1219&quot;\n},\n{\n    &quot;autoId&quot;: &quot;bsswab&quot;,\n    &quot;partNumber&quot;: 6344686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1291&quot;\n},\n{\n    &quot;autoId&quot;: &quot;badfgb&quot;,\n    &quot;partNumber&quot;: 6446856,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;0129&quot;\n}\n</code></pre>\n<p>Is invalid, as it should either start with a single &quot;outer&quot; object or array</p>\n<p>And...</p>\n<pre><code>{\n    [\n        {\n            &quot;autoId&quot;: &quot;babsds&quot;,\n            &quot;partNumber&quot;: 6144686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1129&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;bassb&quot;,\n            &quot;partNumber&quot;: 6442686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1219&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;bsswab&quot;,\n            &quot;partNumber&quot;: 6344686,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;1291&quot;\n        },\n        {\n            &quot;autoId&quot;: &quot;badfgb&quot;,\n            &quot;partNumber&quot;: 6446856,\n            &quot;amount&quot;: &quot;139.98&quot;,\n            &quot;id&quot;: &quot;0129&quot;\n        }\n    ]\n}\n</code></pre>\n<p>is invalid as the array needs a key ie <code>{&quot;some array&quot;:[...]}</code></p>\n<p>So, I modified your JSON to look like...</p>\n<pre><code>[\n    {\n        &quot;autoId&quot;: &quot;babsds&quot;,\n        &quot;partNumber&quot;: 6144686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1129&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;bassb&quot;,\n        &quot;partNumber&quot;: 6442686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1219&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;bsswab&quot;,\n        &quot;partNumber&quot;: 6344686,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;1291&quot;\n    },\n    {\n        &quot;autoId&quot;: &quot;badfgb&quot;,\n        &quot;partNumber&quot;: 6446856,\n        &quot;amount&quot;: &quot;139.98&quot;,\n        &quot;id&quot;: &quot;0129&quot;\n    }\n]\n</code></pre>\n<p>and used...</p>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) {\n        Gson gson1 = new Gson();\n        Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;() {\n        }.getType();\n\n        List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\n        for (MyObject st : stats) {\n            System.out.println(st.id);\n        }\n    }\n\n    protected static String getJson() {\n        return &quot;&quot;&quot;\n            [\n                {\n                    &quot;autoId&quot;: &quot;babsds&quot;,\n                    &quot;partNumber&quot;: 6144686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1129&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;bassb&quot;,\n                    &quot;partNumber&quot;: 6442686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1219&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;bsswab&quot;,\n                    &quot;partNumber&quot;: 6344686,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;1291&quot;\n                },\n                {\n                    &quot;autoId&quot;: &quot;badfgb&quot;,\n                    &quot;partNumber&quot;: 6446856,\n                    &quot;amount&quot;: &quot;139.98&quot;,\n                    &quot;id&quot;: &quot;0129&quot;\n                }\n            ]\n               &quot;&quot;&quot;;\n    }\n\n    public static class MyObject {\n        String autoId;\n        String partNumber;\n        String amount;\n        String id;\n\n        @Override\n        public String toString() {\n            return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber\n                    + &quot;, amount=&quot; + amount\n                    + &quot;, id=&quot; + id\n                    + &quot;]&quot;;\n        }\n    }\n}\n</code></pre>\n<p>to parse it and it prints...</p>\n<pre><code>1129\n1219\n1291\n0129\n</code></pre>\n"}],"owner":{"account_id":4081337,"reputation":553,"user_id":3351754,"accept_rate":4,"display_name":"Tiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649390127,"creation_date":1649387875,"question_id":71791302,"body_markdown":"I am trying to extract a value of a field from json, I have a json file with contents like :\r\n\r\n     [ {\r\n        &quot;autoId&quot;: &quot;babsds&quot;,\r\n        &quot;partNumber&quot;: 6144686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1129&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;bassb&quot;,\r\n        &quot;partNumber&quot;: 6442686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1219&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;bsswab&quot;,\r\n        &quot;partNumber&quot;: 6344686,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;1291&quot;\r\n      },\r\n      {\r\n        &quot;autoId&quot;: &quot;badfgb&quot;,\r\n        &quot;partNumber&quot;: 6446856,\r\n        &quot;amount&quot;: &quot;139.98&quot;,\r\n        &quot;id&quot;: &quot;0129&quot;\r\n      }]\r\n\r\nTo extract the value of id field, I created a java class with this code : \r\n\r\n      Gson gson1 = new Gson();\r\n        Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\r\n\r\n        List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\r\n        for (MyObject st : stats) {\r\n            System.out.println(st.id);\r\n        }\r\n\r\nand also created a MyObject class :\r\n\r\n        class MyObject {\r\n           String autoId;\r\n           String partNumber;\r\n           String amount;\r\n           String id;\r\n\r\n           @Override\r\n           public String toString() {\r\n              return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber + \r\n                      &quot;, amount=&quot; + amount +\r\n                      &quot;, id=&quot; + id +\r\n                      &quot;]&quot;;\r\n        }\r\n\r\nBut I get this error : \r\n\r\n        Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n          at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:350)\r\n          at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\r\n          at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\r\n          at com.google.gson.Gson.fromJson(Gson.java:888)\r\n          ... 27 more","title":"Extract a field value from json","body":"<p>I am trying to extract a value of a field from json, I have a json file with contents like :</p>\n<pre><code> [ {\n    &quot;autoId&quot;: &quot;babsds&quot;,\n    &quot;partNumber&quot;: 6144686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1129&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;bassb&quot;,\n    &quot;partNumber&quot;: 6442686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1219&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;bsswab&quot;,\n    &quot;partNumber&quot;: 6344686,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;1291&quot;\n  },\n  {\n    &quot;autoId&quot;: &quot;badfgb&quot;,\n    &quot;partNumber&quot;: 6446856,\n    &quot;amount&quot;: &quot;139.98&quot;,\n    &quot;id&quot;: &quot;0129&quot;\n  }]\n</code></pre>\n<p>To extract the value of id field, I created a java class with this code :</p>\n<pre><code>  Gson gson1 = new Gson();\n    Type listType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\n\n    List&lt;MyObject&gt; stats = gson1.fromJson(getJson(), listType);\n    for (MyObject st : stats) {\n        System.out.println(st.id);\n    }\n</code></pre>\n<p>and also created a MyObject class :</p>\n<pre><code>    class MyObject {\n       String autoId;\n       String partNumber;\n       String amount;\n       String id;\n\n       @Override\n       public String toString() {\n          return &quot;MyObject [autoId=&quot; + autoId + &quot;, partNumber=&quot; + partNumber + \n                  &quot;, amount=&quot; + amount +\n                  &quot;, id=&quot; + id +\n                  &quot;]&quot;;\n    }\n</code></pre>\n<p>But I get this error :</p>\n<pre><code>    Caused by: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\n      at com.google.gson.stream.JsonReader.beginArray(JsonReader.java:350)\n      at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:80)\n      at com.google.gson.internal.bind.CollectionTypeAdapterFactory$Adapter.read(CollectionTypeAdapterFactory.java:61)\n      at com.google.gson.Gson.fromJson(Gson.java:888)\n      ... 27 more\n</code></pre>\n"},{"tags":["java","variables","operators","integer-arithmetic"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1649353901,"post_id":71786776,"comment_id":126860576,"body_markdown":"Just as a side note, doing things in less lines isn&#39;t necessarily better a lot of the time.  Sometimes it takes more lines to write something that is easy to read (and practicing readable code and good documentation is important too)","body":"Just as a side note, doing things in less lines isn&#39;t necessarily better a lot of the time.  Sometimes it takes more lines to write something that is easy to read (and practicing readable code and good documentation is important too)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649354305,"post_id":71786776,"comment_id":126860700,"body_markdown":"you can use the `IntBinaryOperator` functional interface for such: `IntBinaryOperator operator = Integer::sum;` (not sure if you already had that in class)","body":"you can use the <code>IntBinaryOperator</code> functional interface for such: <code>IntBinaryOperator operator = Integer::sum;</code> (not sure if you already had that in class)"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649353735,"creation_date":1649353735,"answer_id":71786801,"question_id":71786776,"body_markdown":"No, you can&#39;t do that directly.  You will have to make a type that _represents_ an operator.\r\n\r\nThe most common way to do this is with an enum:\r\n\r\n```\r\nenum Operator {\r\n  PLUS {\r\n    @Override int operate(int a, int b) {\r\n      return a + b;\r\n    }\r\n  };\r\n\r\n  abstract int operate(int a, int b);\r\n}\r\n\r\nOperator operator = Operator.PLUS;\r\nint[] n = {1, 2};\r\nSystem.out.println(operator.operate(n[0], n[1]));\r\n```","title":"How to create a variable that contains an Operator in Java?","body":"<p>No, you can't do that directly.  You will have to make a type that <em>represents</em> an operator.</p>\n<p>The most common way to do this is with an enum:</p>\n<pre><code>enum Operator {\n  PLUS {\n    @Override int operate(int a, int b) {\n      return a + b;\n    }\n  };\n\n  abstract int operate(int a, int b);\n}\n\nOperator operator = Operator.PLUS;\nint[] n = {1, 2};\nSystem.out.println(operator.operate(n[0], n[1]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649389473,"creation_date":1649364652,"answer_id":71788763,"question_id":71786776,"body_markdown":"It&#39;s *not possible* to assign an operator to a variable.\r\n\r\n&gt; in 30 lines **or less** ... the program asks the user a simple addition, division, multiplication, or subtraction\r\n\r\nIf you want to implement it using as fewer lines as possible, build-in **functional interfaces** will be a good choice. For that, you need [`IntBinaryOperator`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html) that represents an operation done on two `int` arguments.\r\n\r\nFunctional interface can be implemented either by using a [lambda expression](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) or a [method reference](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n) (*also, you can do that with an anonymous inner class as well by it&#39;ll not be shorter*). Addition operation can be represented like that:\r\n```\r\nIntBinaryOperator add = Integer::sum; // or (i1, i2) -&gt; i1 + i2\r\n```\r\n\r\n&gt; The type of question (add, mult, etc.) should be selected **randomly**\r\n\r\nFor that, firstly, you need to define a [`Random`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int)) object. In order to obtain a random integer in the given range, use `nextInt()` method that expects an `int` bound, and returns a value from `0` up to the bound (*exclusive*):\r\n```\r\nrand.nextInt(RANGE)\r\n```\r\nTo avoid hard-coding, `RANGE` should be defined as a global constant.\r\n\r\nBecause your application has to interact with the user, every *operation* should be associated with a *name* that will be exposed to the user. \r\n\r\nIt can be done by declaring a [`record`](https://docs.oracle.com/en/java/javase/17/language/records.html) (*a special kind class with* `final` *field and auto-generated constructor, getters*, `hashCode/equals`, `toString()`). Syntax for declaring records is very concise:\r\n```\r\npublic record Operation(String name, IntBinaryOperator operation) {}\r\n```\r\n\r\n*Records* representing arithmetical operations can be stored in a *list*. And you can pick an operation by generating a random index (from `0` up to list size).\r\n```\r\noperations.get(rand.nextInt(operations.size()))\r\n```\r\nUnlike the common getters, names of getters that will be generated by the compiler for the record will identical to names of its fields, i.e. `name()` and `operation()`.\r\n\r\nIn order to use the function retrieved from the record, you need to invoke the method `applyAsInt()` on it, passing the two previously generated numbers.\r\n\r\nThat&#39;s how it might look like.\r\n```\r\npublic class Operations {\r\n    public static final int RANGE = 100;\r\n    public static final Random rand = new Random();\r\n    \r\n    public record Operation(String name, IntBinaryOperator operation) {}\r\n    public static final List&lt;Operation&gt; operations =\r\n            List.of(new Operation(&quot;add&quot;, Integer::sum), new Operation(&quot;sub&quot;, (i1, i2) -&gt; i1 - i2),\r\n                    new Operation(&quot;mult&quot;, (i1, i2) -&gt; i1 * i2), new Operation(&quot;div&quot;, (i1, i2) -&gt; i1 / i2));\r\n\r\n    public static void main(String[] args) {\r\n        // you code (instansiate a scanner, enclose the code below with a while loop) \r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Operation oper = operations.get(rand.nextInt(operations.size()));\r\n            int operand1 = rand.nextInt(RANGE);\r\n            int operand2 = rand.nextInt(RANGE);\r\n            System.out.println(operand1 + &quot; &quot; + oper.name() + &quot; &quot; + operand2); // exposing generated data to the user\r\n            int userInput = sc.nextInt();                                      // reading user&#39;s input\r\n            int result = oper.operation().applyAsInt(operand1,operand2);       // exposing the result\r\n            System.out.println(result + &quot;\\n__________________&quot;);\r\n        }\r\n        // termination condition of the while loop\r\n    }\r\n}\r\n```\r\nThat&#39;s an example of the output the user will see:\r\n```\r\n38 add 67\r\n105 // user input\r\n105\r\n_____________________\r\n97 sub 15\r\n...\r\n```","title":"How to create a variable that contains an Operator in Java?","body":"<p>It's <em>not possible</em> to assign an operator to a variable.</p>\n<blockquote>\n<p>in 30 lines <strong>or less</strong> ... the program asks the user a simple addition, division, multiplication, or subtraction</p>\n</blockquote>\n<p>If you want to implement it using as fewer lines as possible, build-in <strong>functional interfaces</strong> will be a good choice. For that, you need <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/IntBinaryOperator.html\" rel=\"nofollow noreferrer\"><code>IntBinaryOperator</code></a> that represents an operation done on two <code>int</code> arguments.</p>\n<p>Functional interface can be implemented either by using a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a> or a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method reference</a> (<em>also, you can do that with an anonymous inner class as well by it'll not be shorter</em>). Addition operation can be represented like that:</p>\n<pre><code>IntBinaryOperator add = Integer::sum; // or (i1, i2) -&gt; i1 + i2\n</code></pre>\n<blockquote>\n<p>The type of question (add, mult, etc.) should be selected <strong>randomly</strong></p>\n</blockquote>\n<p>For that, firstly, you need to define a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/random/RandomGenerator.html#nextInt(int)\" rel=\"nofollow noreferrer\"><code>Random</code></a> object. In order to obtain a random integer in the given range, use <code>nextInt()</code> method that expects an <code>int</code> bound, and returns a value from <code>0</code> up to the bound (<em>exclusive</em>):</p>\n<pre><code>rand.nextInt(RANGE)\n</code></pre>\n<p>To avoid hard-coding, <code>RANGE</code> should be defined as a global constant.</p>\n<p>Because your application has to interact with the user, every <em>operation</em> should be associated with a <em>name</em> that will be exposed to the user.</p>\n<p>It can be done by declaring a <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\"><code>record</code></a> (<em>a special kind class with</em> <code>final</code> <em>field and auto-generated constructor, getters</em>, <code>hashCode/equals</code>, <code>toString()</code>). Syntax for declaring records is very concise:</p>\n<pre><code>public record Operation(String name, IntBinaryOperator operation) {}\n</code></pre>\n<p><em>Records</em> representing arithmetical operations can be stored in a <em>list</em>. And you can pick an operation by generating a random index (from <code>0</code> up to list size).</p>\n<pre><code>operations.get(rand.nextInt(operations.size()))\n</code></pre>\n<p>Unlike the common getters, names of getters that will be generated by the compiler for the record will identical to names of its fields, i.e. <code>name()</code> and <code>operation()</code>.</p>\n<p>In order to use the function retrieved from the record, you need to invoke the method <code>applyAsInt()</code> on it, passing the two previously generated numbers.</p>\n<p>That's how it might look like.</p>\n<pre><code>public class Operations {\n    public static final int RANGE = 100;\n    public static final Random rand = new Random();\n    \n    public record Operation(String name, IntBinaryOperator operation) {}\n    public static final List&lt;Operation&gt; operations =\n            List.of(new Operation(&quot;add&quot;, Integer::sum), new Operation(&quot;sub&quot;, (i1, i2) -&gt; i1 - i2),\n                    new Operation(&quot;mult&quot;, (i1, i2) -&gt; i1 * i2), new Operation(&quot;div&quot;, (i1, i2) -&gt; i1 / i2));\n\n    public static void main(String[] args) {\n        // you code (instansiate a scanner, enclose the code below with a while loop) \n        for (int i = 0; i &lt; 10; i++) {\n            Operation oper = operations.get(rand.nextInt(operations.size()));\n            int operand1 = rand.nextInt(RANGE);\n            int operand2 = rand.nextInt(RANGE);\n            System.out.println(operand1 + &quot; &quot; + oper.name() + &quot; &quot; + operand2); // exposing generated data to the user\n            int userInput = sc.nextInt();                                      // reading user's input\n            int result = oper.operation().applyAsInt(operand1,operand2);       // exposing the result\n            System.out.println(result + &quot;\\n__________________&quot;);\n        }\n        // termination condition of the while loop\n    }\n}\n</code></pre>\n<p>That's an example of the output the user will see:</p>\n<pre><code>38 add 67\n105 // user input\n105\n_____________________\n97 sub 15\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23978242,"reputation":603,"user_id":17966065,"display_name":"Futarimiti"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649389997,"creation_date":1649389997,"answer_id":71791495,"question_id":71786776,"body_markdown":"Unfortunately java supports neither operator overloading nor infix notation, making it impossible to do so in source code.","title":"How to create a variable that contains an Operator in Java?","body":"<p>Unfortunately java supports neither operator overloading nor infix notation, making it impossible to do so in source code.</p>\n"}],"owner":{"account_id":24268735,"reputation":23,"user_id":18217200,"display_name":"SirDuke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71788763,"answer_count":3,"score":2,"last_activity_date":1649389997,"creation_date":1649353608,"question_id":71786776,"body_markdown":"I&#39;m trying to write a program in 30 lines or less for my class (self imposed challenge).\r\n\r\nThe program asks the user a simple addition, division, multiplication, or subtraction ***question*** and the player answers, rinse and repeat 10 times, then the player is asked if they want to continue or end the program. The type of question (*add*, *mult*, etc.) should be selected randomly. \r\n\r\nSo that I don&#39;t need to use a huge switch case or if-else tree, I want to know if there is any way to contain an operator in a variable, and then use it later. \r\n\r\nExample:\r\n```\r\nvar operator = +;\r\nint[] n = {1, 2};\r\nSystem.out.println(n[0] operator n[1]);\r\n```\r\nAnd the output would be &quot;3&quot;\r\n\r\nThat&#39;s an example of what kinda thing I want to do. Is this possible?","title":"How to create a variable that contains an Operator in Java?","body":"<p>I'm trying to write a program in 30 lines or less for my class (self imposed challenge).</p>\n<p>The program asks the user a simple addition, division, multiplication, or subtraction <em><strong>question</strong></em> and the player answers, rinse and repeat 10 times, then the player is asked if they want to continue or end the program. The type of question (<em>add</em>, <em>mult</em>, etc.) should be selected randomly.</p>\n<p>So that I don't need to use a huge switch case or if-else tree, I want to know if there is any way to contain an operator in a variable, and then use it later.</p>\n<p>Example:</p>\n<pre><code>var operator = +;\nint[] n = {1, 2};\nSystem.out.println(n[0] operator n[1]);\n</code></pre>\n<p>And the output would be &quot;3&quot;</p>\n<p>That's an example of what kinda thing I want to do. Is this possible?</p>\n"},{"tags":["java","swing","jpanel","jbutton","actionlistener"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1649203848,"post_id":71759619,"comment_id":126815306,"body_markdown":"Assign it to a `final` variable before: `final int i2 = i; final int j2 = j`, and then use `i2` and `j2` in the lambda.","body":"Assign it to a <code>final</code> variable before: <code>final int i2 = i; final int j2 = j</code>, and then use <code>i2</code> and <code>j2</code> in the lambda."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1649204621,"post_id":71759619,"comment_id":126815452,"body_markdown":"I know this is being picky, but instead of doing this `visBoard[i][j].addActionListener(...)` to make you code more readable, you should create the `JButton` variable and then use it to set its attributes. For example, `JButton tempButton = new JButton();` and then `tempButton.addActionListener(...);`. Lastly, `visBoard[i][j] = tempButton;`","body":"I know this is being picky, but instead of doing this <code>visBoard[i][j].addActionListener(...)</code> to make you code more readable, you should create the <code>JButton</code> variable and then use it to set its attributes. For example, <code>JButton tempButton = new JButton();</code> and then <code>tempButton.addActionListener(...);</code>. Lastly, <code>visBoard[i][j] = tempButton;</code>"}],"owner":{"account_id":11241547,"reputation":1,"user_id":8245634,"display_name":"The Bromie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649389212,"creation_date":1649202405,"question_id":71759619,"body_markdown":"    for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                visBoard[i][j] = new JButton();\r\n                visBoard[i][j].addActionListener(e -&gt; playTurn(i, j));\r\n                moveSltPnl.add(visBoard[i][j]);\r\n            }\r\n    }\r\nBasically, I want to make the actionListener use the value of the variable, but not the actual variable itself","title":"I want to hardcode numbers into an ActionListener without using the actual variable","body":"<pre><code>for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            visBoard[i][j] = new JButton();\n            visBoard[i][j].addActionListener(e -&gt; playTurn(i, j));\n            moveSltPnl.add(visBoard[i][j]);\n        }\n}\n</code></pre>\n<p>Basically, I want to make the actionListener use the value of the variable, but not the actual variable itself</p>\n"},{"tags":["java","spring-boot","soapui"],"comments":[{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1649389673,"post_id":71791427,"comment_id":126868166,"body_markdown":"Can you try using @Webservice instead of endpoint with setter injection of WebserviceContext like https://stackoverflow.com/questions/5820969/how-to-use-resource-webservicecontext-injection-with-springs-transactional?","body":"Can you try using @Webservice instead of endpoint with setter injection of WebserviceContext like <a href=\"https://stackoverflow.com/questions/5820969/how-to-use-resource-webservicecontext-injection-with-springs-transactional\" title=\"how to use resource webservicecontext injection with springs transactional\">stackoverflow.com/questions/5820969/&hellip;</a>?"},{"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"score":0,"creation_date":1649390717,"post_id":71791427,"comment_id":126868307,"body_markdown":"Without @Endpoint annotation Spring Boot doesn&#39;t map the incoming SOAP requests to the methods.","body":"Without @Endpoint annotation Spring Boot doesn&#39;t map the incoming SOAP requests to the methods."},{"owner":{"account_id":8412109,"reputation":93,"user_id":6313646,"display_name":"Matze"},"score":0,"creation_date":1657005642,"post_id":71791427,"comment_id":128700237,"body_markdown":"I am stuck with the same problem. Did you find any solution for this?\nAny help and ideas would be highly appreciated.","body":"I am stuck with the same problem. Did you find any solution for this? Any help and ideas would be highly appreciated."},{"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"score":0,"creation_date":1657110600,"post_id":71791427,"comment_id":128730904,"body_markdown":"Hi @Matze, unfortunately this is not possible as we cannot have WebService context in Spring Boot application. However, I needed this to extract user credentials from the soap header, so as a workaround I parsed the Soap Header to fetch the details.\nTry fetching soap request from Spring framework&#39;s Message context and see if this information can fit your needs.","body":"Hi @Matze, unfortunately this is not possible as we cannot have WebService context in Spring Boot application. However, I needed this to extract user credentials from the soap header, so as a workaround I parsed the Soap Header to fetch the details. Try fetching soap request from Spring framework&#39;s Message context and see if this information can fit your needs."},{"owner":{"account_id":8412109,"reputation":93,"user_id":6313646,"display_name":"Matze"},"score":0,"creation_date":1657179981,"post_id":71791427,"comment_id":128750049,"body_markdown":"Thanks a lot @SidharthaShankar, I know use an EndpointInterceptorAdapter implementation and put my required Inforamtion into a ThreadLocal.\n\nThe WebService implementing class can get the desired header information out of it and removes the thread local.\nKind of dirty but it works.","body":"Thanks a lot @SidharthaShankar, I know use an EndpointInterceptorAdapter implementation and put my required Inforamtion into a ThreadLocal.  The WebService implementing class can get the desired header information out of it and removes the thread local. Kind of dirty but it works."}],"owner":{"account_id":8429474,"reputation":135,"user_id":6325701,"display_name":"sid_bond"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649389208,"creation_date":1649389208,"question_id":71791427,"body_markdown":"I have migrated an existing Java SOAP Web Service application to Spring Boot.\r\nI referred this link to do so: https://spring.io/guides/gs/producing-web-service/\r\n\r\nThe endpoints work fine and I am able to map the requests from SOAP UI to their respective Endpoints.\r\n\r\nNext task is to get Authentication credentials from the SOAP Request Header. \r\nPrior to this migration, the Authentication Credentials were being fetched from WebServiceContext.\r\n\r\nHowever, I am unable to do so because WebServiceContext is always null in the application migrated to Spring Boot.\r\n\r\nI am using @Resource annotation to get WebServiceContext. \r\nPlease note that I have also tried setter injection.\r\n\r\nBelow is the sample code:\r\n\r\n\r\n    @Endpoint\r\n    public class TestEndpoint{\r\n        \r\n       @Resource\r\n       WebServiceContext context; // Always null\r\n\r\n    }\r\n\r\n***Can we not use WebServiceContext in Spring Boot Application?***\r\n\r\nIs there any other way to get the credentials from Security header of SOAP request?","title":"WebServiceContext in Spring Boot Application","body":"<p>I have migrated an existing Java SOAP Web Service application to Spring Boot.\nI referred this link to do so: <a href=\"https://spring.io/guides/gs/producing-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/producing-web-service/</a></p>\n<p>The endpoints work fine and I am able to map the requests from SOAP UI to their respective Endpoints.</p>\n<p>Next task is to get Authentication credentials from the SOAP Request Header.\nPrior to this migration, the Authentication Credentials were being fetched from WebServiceContext.</p>\n<p>However, I am unable to do so because WebServiceContext is always null in the application migrated to Spring Boot.</p>\n<p>I am using @Resource annotation to get WebServiceContext.\nPlease note that I have also tried setter injection.</p>\n<p>Below is the sample code:</p>\n<pre><code>@Endpoint\npublic class TestEndpoint{\n    \n   @Resource\n   WebServiceContext context; // Always null\n\n}\n</code></pre>\n<p><em><strong>Can we not use WebServiceContext in Spring Boot Application?</strong></em></p>\n<p>Is there any other way to get the credentials from Security header of SOAP request?</p>\n"},{"tags":["java","ssl","https","cloudflare"],"comments":[{"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":1,"creation_date":1649391442,"post_id":71791426,"comment_id":126868419,"body_markdown":"If this message is specific to individual users it might be caused by SSL interception at their end. SSL interception replaces the certificate which makes it not trusted for the application - unless the CA from the interceptor is explicitly added as trusted.  SSL interception happens often in corporate environments but also in several local antivirus in order to detect attacks even in encrypted communication.","body":"If this message is specific to individual users it might be caused by SSL interception at their end. SSL interception replaces the certificate which makes it not trusted for the application - unless the CA from the interceptor is explicitly added as trusted.  SSL interception happens often in corporate environments but also in several local antivirus in order to detect attacks even in encrypted communication."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1649407072,"post_id":71791426,"comment_id":126872294,"body_markdown":"For what it&#39;s worth: there is a log feature using [sysprop `javax.net.debug=ssl:handshake`](https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF) (possibly add `:trustmanager` if it appears not to be using the correct truststore) (the colons aren&#39;t required but help readability). This will produce _lots_ of output, which must be kept secure because it contains key-gen info that would enable a wiretapper to decrypt your/your user&#39;s protected data. Is that risk worth it? Your call.","body":"For what it&#39;s worth: there is a log feature using <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-secure-socket-extension-jsse-reference-guide.html#GUID-31B7E142-B874-46E9-8DD0-4E18EC0EB2CF\" rel=\"nofollow noreferrer\">sysprop <code>javax.net.debug=ssl:handshake</code></a> (possibly add <code>:trustmanager</code> if it appears not to be using the correct truststore) (the colons aren&#39;t required but help readability). This will produce <i>lots</i> of output, which must be kept secure because it contains key-gen info that would enable a wiretapper to decrypt your/your user&#39;s protected data. Is that risk worth it? Your call."}],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1649389195,"creation_date":1649389195,"question_id":71791426,"body_markdown":"I maintain a Java Swing Desktop application that intermittently doesn&#39;t work for individual users with the following SSL network error:\r\n```\r\njavax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nThe issue is not reproducible for me, nor the vast majority of end users, and seems to be specific to individual users, and pops up repeatedly every other month for one user or another. It&#39;s rarely the same user twice. It&#39;s very mysterious.\r\n\r\nThe application is running on the latest JDK 17 and the requested HTTPS resource is served via an CloudFlare edge cache.\r\n\r\nGoogling the error message would suggest a root certificate issue, but the application has its own private JDK runtime, so it should work the same for all users. Notably, users report that the issue appears out of nowhere after using the application without problems for months.\r\n\r\nHow would I go about debugging the issue? Are there any system properties or JDK logger options that I can use to make the application log more information on end-user machines that would allow me to identify the root cause where the SSL back-and-forth goes awry?","title":"How do I debug SSLHandshakeException and find the root cause?","body":"<p>I maintain a Java Swing Desktop application that intermittently doesn't work for individual users with the following SSL network error:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>The issue is not reproducible for me, nor the vast majority of end users, and seems to be specific to individual users, and pops up repeatedly every other month for one user or another. It's rarely the same user twice. It's very mysterious.</p>\n<p>The application is running on the latest JDK 17 and the requested HTTPS resource is served via an CloudFlare edge cache.</p>\n<p>Googling the error message would suggest a root certificate issue, but the application has its own private JDK runtime, so it should work the same for all users. Notably, users report that the issue appears out of nowhere after using the application without problems for months.</p>\n<p>How would I go about debugging the issue? Are there any system properties or JDK logger options that I can use to make the application log more information on end-user machines that would allow me to identify the root cause where the SSL back-and-forth goes awry?</p>\n"},{"tags":["java","swing","arraylist","jpanel","jlabel"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1649223736,"post_id":71761517,"comment_id":126818184,"body_markdown":"you can&#39;t. What you can do, is either have a composite object, of a String key (your input) and a value (int), or you can create a map, where your String is the key, and the value (int) is the input","body":"you can&#39;t. What you can do, is either have a composite object, of a String key (your input) and a value (int), or you can create a map, where your String is the key, and the value (int) is the input"}],"answers":[{"tags":[],"owner":{"account_id":6350313,"reputation":1134,"user_id":5594167,"display_name":"Mr. Brickowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649226326,"creation_date":1649226326,"answer_id":71761952,"question_id":71761517,"body_markdown":"I guess this assignment has some pre-defined flavors (chocolate, vanilla etc) and they have designated button to vote for. Also it allows you to add your custom flavors to the collection and counts for its vote.\r\n\r\nYou cannot initialize variable during runtime. It is because you write the code so the computer run it for you. You cannot write the code so the program will write more new code for by itself. (at least this is not the purpose of this assignment)\r\n\r\nIn this case I would suggest you to store the flavors and vote to a unified data structure. I can see you store pre-defined flavors in `strawberryVotes`, `chocolateVotes`. You can make a map to store all the information you need, pre-defined or custom flavors. You need to store 2 information. 1) flavor name 2) vote. We can make use of a Map. Its concept is similar to a table.\r\n\r\n\r\n```java\r\n\tstatic int totalSubmissions = 0; // tracks # of custom submissions (used to navigate Array List)\r\n\r\n\tprivate Map&lt;String, Integer&gt; flavorVotes = new HashMap&lt;String, Integer&gt;();\r\n\t// contains flavor and vote (not listed ice creams) from user input\r\n\r\n\tprivate static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\r\n\tprivate static JTextField customInput = new JTextField();\r\n\tprivate static JButton submitInput = new JButton(&quot;Submit&quot;);\r\n\r\n\t// define constant for predefined flavor\r\n\tprivate static final String FLAVOR_CHOCOLATE = &quot;Chocolate&quot;;\r\n\tprivate static final String FLAVOR_VANILLA_ = &quot;Vanilla&quot;;\r\n\tprivate static final String FLAVOR_STRAWBERRY_ = &quot;Strawberry&quot;;\r\n\r\n\t// Above is the totalSubmmissions (used to navigate ArrayList, the list itself,\r\n\t// and my label, submit button, and the neccesary code to record what was\r\n\t// entered.\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tString flavor;\r\n\t\t// checks vote chocolate and contains output\r\n\t\tif (e.getSource() == voteChocolate) {\r\n\t\t\tflavor = FLAVOR_CHOCOLATE;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption1Label.setText(&quot;Chocolate Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == voteVanilla) { // checks vote vanilla and contains output\r\n\t\t\tflavor = FLAVOR_VANILLA_;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption2Label.setText(&quot;Vanilla Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == voteStrawberry) { // checks vote strawberry and contains output\r\n\t\t\tflavor = FLAVOR_STRAWBERRY_;\r\n\t\t\taddVote(flavor);\r\n\t\t\tpollOption3Label.setText(&quot;Strawberry Votes: &quot; + flavorVotes.get(flavor));\r\n\t\t} else if (e.getSource() == submitInput) { // checks custom input and contains output\r\n\t\t\tflavor = customInput.getText();\r\n\t\t\taddVote(flavor);\r\n\r\n\t\t\tcustomInput.setText(&quot;&quot;);\r\n\t\t\tpollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + flavor);\r\n\t\t\ttotalSubmissions++;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void addVote(String flavor) {\r\n\t\tif (flavorVotes.containsKey(flavor)) {\r\n\t\t\t// flavor exists, increment by 1\r\n\t\t\tflavorVotes.put(flavor, flavorVotes.get(flavor) + 1);\r\n\t\t} else {\r\n\t\t\t// new flavor, set its vote to 1\r\n\t\t\tflavorVotes.put(flavor, 1);\r\n\t\t}\r\n\t}\r\n```\r\n\r\np.s. I thinks some of the attributes should not declared as static. But that is another topic.","title":"How can I name a new integer with the input value of a String?","body":"<p>I guess this assignment has some pre-defined flavors (chocolate, vanilla etc) and they have designated button to vote for. Also it allows you to add your custom flavors to the collection and counts for its vote.</p>\n<p>You cannot initialize variable during runtime. It is because you write the code so the computer run it for you. You cannot write the code so the program will write more new code for by itself. (at least this is not the purpose of this assignment)</p>\n<p>In this case I would suggest you to store the flavors and vote to a unified data structure. I can see you store pre-defined flavors in <code>strawberryVotes</code>, <code>chocolateVotes</code>. You can make a map to store all the information you need, pre-defined or custom flavors. You need to store 2 information. 1) flavor name 2) vote. We can make use of a Map. Its concept is similar to a table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static int totalSubmissions = 0; // tracks # of custom submissions (used to navigate Array List)\n\n    private Map&lt;String, Integer&gt; flavorVotes = new HashMap&lt;String, Integer&gt;();\n    // contains flavor and vote (not listed ice creams) from user input\n\n    private static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\n    private static JTextField customInput = new JTextField();\n    private static JButton submitInput = new JButton(&quot;Submit&quot;);\n\n    // define constant for predefined flavor\n    private static final String FLAVOR_CHOCOLATE = &quot;Chocolate&quot;;\n    private static final String FLAVOR_VANILLA_ = &quot;Vanilla&quot;;\n    private static final String FLAVOR_STRAWBERRY_ = &quot;Strawberry&quot;;\n\n    // Above is the totalSubmmissions (used to navigate ArrayList, the list itself,\n    // and my label, submit button, and the neccesary code to record what was\n    // entered.\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String flavor;\n        // checks vote chocolate and contains output\n        if (e.getSource() == voteChocolate) {\n            flavor = FLAVOR_CHOCOLATE;\n            addVote(flavor);\n            pollOption1Label.setText(&quot;Chocolate Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == voteVanilla) { // checks vote vanilla and contains output\n            flavor = FLAVOR_VANILLA_;\n            addVote(flavor);\n            pollOption2Label.setText(&quot;Vanilla Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == voteStrawberry) { // checks vote strawberry and contains output\n            flavor = FLAVOR_STRAWBERRY_;\n            addVote(flavor);\n            pollOption3Label.setText(&quot;Strawberry Votes: &quot; + flavorVotes.get(flavor));\n        } else if (e.getSource() == submitInput) { // checks custom input and contains output\n            flavor = customInput.getText();\n            addVote(flavor);\n\n            customInput.setText(&quot;&quot;);\n            pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + flavor);\n            totalSubmissions++;\n        }\n    }\n\n    private void addVote(String flavor) {\n        if (flavorVotes.containsKey(flavor)) {\n            // flavor exists, increment by 1\n            flavorVotes.put(flavor, flavorVotes.get(flavor) + 1);\n        } else {\n            // new flavor, set its vote to 1\n            flavorVotes.put(flavor, 1);\n        }\n    }\n</code></pre>\n<p>p.s. I thinks some of the attributes should not declared as static. But that is another topic.</p>\n"}],"owner":{"account_id":24347458,"reputation":25,"user_id":18283794,"display_name":"Banks N"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71761952,"answer_count":1,"score":0,"last_activity_date":1649389176,"creation_date":1649223428,"question_id":71761517,"body_markdown":"I have an assignment I&#39;m working on, and I need to basically make a system that checks if a string entered already exist in an ArrayList. In the case that it does not exist, it will make a new integer with the name of the exact entered text, and assign the value to 1. If the string already does exist (meaning someone else already entered that choice) then it will add one to the already existing integer. I&#39;m just struggling with assigning an integer with the value of the string.\r\n\r\nI&#39;ve tried directly taking the input and assigning it to a string, to which I then try to use the string value to create a new integer. This has been unsuccessful so far.\r\n\r\n    static int totalSubmissions = 0;  // tracks # of custom submissions (used to navigate Array List)\r\n    static ArrayList&lt;String&gt; userInputs = new ArrayList&lt;String&gt;(); // contains strings (not listed ice                     creams) from user input\r\n    private static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\r\n    private static JTextField customInput = new JTextField();\r\n    private static JButton submitInput = new JButton(&quot;Submit&quot;);\r\n    \r\n    // Above is the totalSubmmissions (used to navigate ArrayList, the list itself, and my label, submit button, and the neccesary code to record what was entered.\r\n    \r\n    \r\n    \r\n    \r\n    @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                // checks vote chocolate and contains output\r\n                if(e.getSource() == voteChocolate){\r\n                    chocolateVotes++;\r\n                    pollOption1Label.setText(&quot;Chocolate Votes: &quot; + chocolateVotes);\r\n                } else if (e.getSource() == voteVanilla){ // checks vote vanilla and contains output\r\n                    vanillaVotes++;\r\n                    pollOption2Label.setText(&quot;Vanilla Votes: &quot; + vanillaVotes);\r\n                } else if (e.getSource() == voteStrawberry){  // checks vote strawberry and contains output\r\n                    strawberryVotes++;\r\n                    pollOption3Label.setText(&quot;Strawberry Votes: &quot; + strawberryVotes);\r\n                } else if (e.getSource() == submitInput){ // checks custom input and contains output\r\n                    String currentString = customInput.getText(); //  &lt;&lt;  ISSUE IS HERE \r\n                    if (userInputs.contains(currentString)){     // want to assign the text field input \r\n                        int currentString = 1;                 // to a new integer, that will track\r\n                    } else {                         // the number of times that exact string is entered \r\n                        int customInput.getText() = 1;\r\n                    }\r\n                    userInputs.add(customInput.getText());\r\n                    customInput.setText(&quot;&quot;);\r\n                    pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + userInputs.get(totalSubmissions));\r\n                    totalSubmissions++;\r\n                }\r\n            }","title":"How can I name a new integer with the input value of a String?","body":"<p>I have an assignment I'm working on, and I need to basically make a system that checks if a string entered already exist in an ArrayList. In the case that it does not exist, it will make a new integer with the name of the exact entered text, and assign the value to 1. If the string already does exist (meaning someone else already entered that choice) then it will add one to the already existing integer. I'm just struggling with assigning an integer with the value of the string.</p>\n<p>I've tried directly taking the input and assigning it to a string, to which I then try to use the string value to create a new integer. This has been unsuccessful so far.</p>\n<pre><code>static int totalSubmissions = 0;  // tracks # of custom submissions (used to navigate Array List)\nstatic ArrayList&lt;String&gt; userInputs = new ArrayList&lt;String&gt;(); // contains strings (not listed ice                     creams) from user input\nprivate static JLabel pollOtherLabel = new JLabel(&quot;Unlisted Flavors: &quot;);\nprivate static JTextField customInput = new JTextField();\nprivate static JButton submitInput = new JButton(&quot;Submit&quot;);\n\n// Above is the totalSubmmissions (used to navigate ArrayList, the list itself, and my label, submit button, and the neccesary code to record what was entered.\n\n\n\n\n@Override\n        public void actionPerformed(ActionEvent e) {\n            // checks vote chocolate and contains output\n            if(e.getSource() == voteChocolate){\n                chocolateVotes++;\n                pollOption1Label.setText(&quot;Chocolate Votes: &quot; + chocolateVotes);\n            } else if (e.getSource() == voteVanilla){ // checks vote vanilla and contains output\n                vanillaVotes++;\n                pollOption2Label.setText(&quot;Vanilla Votes: &quot; + vanillaVotes);\n            } else if (e.getSource() == voteStrawberry){  // checks vote strawberry and contains output\n                strawberryVotes++;\n                pollOption3Label.setText(&quot;Strawberry Votes: &quot; + strawberryVotes);\n            } else if (e.getSource() == submitInput){ // checks custom input and contains output\n                String currentString = customInput.getText(); //  &lt;&lt;  ISSUE IS HERE \n                if (userInputs.contains(currentString)){     // want to assign the text field input \n                    int currentString = 1;                 // to a new integer, that will track\n                } else {                         // the number of times that exact string is entered \n                    int customInput.getText() = 1;\n                }\n                userInputs.add(customInput.getText());\n                customInput.setText(&quot;&quot;);\n                pollOtherLabel.setText(&quot;Unlisted Flavors: &quot; + userInputs.get(totalSubmissions));\n                totalSubmissions++;\n            }\n        }\n</code></pre>\n"},{"tags":["java","text-files"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":1,"creation_date":1649383019,"post_id":71790819,"comment_id":126867270,"body_markdown":"*how I could remove those blank values* -- just check myReader.nextLine().toLowerCase().trim() before adding to words.","body":"<i>how I could remove those blank values</i> -- just check myReader.nextLine().toLowerCase().trim() before adding to words."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1649384722,"post_id":71790819,"comment_id":126867516,"body_markdown":"Specifically assign the the line to a variable `String line = myReader.nextLine().toLowerCase().trim();` then only add it to the array if it&#39;s not blank `if(line.length() &gt; 0){arrWords.add(w);}`","body":"Specifically assign the the line to a variable <code>String line = myReader.nextLine().toLowerCase().trim();</code> then only add it to the array if it&#39;s not blank <code>if(line.length() &gt; 0){arrWords.add(w);}</code>"}],"answers":[{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649386229,"creation_date":1649386229,"answer_id":71791127,"question_id":71790819,"body_markdown":"try this:\r\n\r\n```java\r\nwhile (myReader.hasNextLine()) {\r\n    String line = myReader.nextLine().toLowerCase().trim();\r\n    if (!line.isEmpty()) {\r\n        arrWords.add(new Word(line));\r\n    }\r\n}\r\n```","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (myReader.hasNextLine()) {\n    String line = myReader.nextLine().toLowerCase().trim();\n    if (!line.isEmpty()) {\n        arrWords.add(new Word(line));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649389076,"creation_date":1649387439,"answer_id":71791265,"question_id":71790819,"body_markdown":"Alternatively, you could use the [stream API][1].\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class WordList {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Path path = Paths.get(&quot;words.txt&quot;);\r\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\r\n            List&lt;Word&gt; arrWords = lines.filter(line -&gt; !line.isBlank())\r\n                                       .map(line -&gt; new Word(line.strip().toLowerCase()))\r\n                                       .collect(Collectors.toList());\r\n            arrWords.forEach(System.out::println);\r\n        }\r\n    }\r\n}\r\n\r\nclass Word {\r\n    private String word;\r\n\r\n    public Word(String word) {\r\n        this.word = word;\r\n    }\r\n\r\n    public String toString() {\r\n        return word;\r\n    }\r\n}\r\n```\r\n* Methods [isBlank][2] and [strip][3] were added in Java 11.\r\n* Above code uses [try-with-resources][4] and [NIO.2][5] as well as [method references][6].\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>Alternatively, you could use the <a href=\"https://www.oracle.com/technical-resources/articles/java/architect-streams-pt2.html\" rel=\"nofollow noreferrer\">stream API</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class WordList {\n\n    public static void main(String[] args) throws IOException {\n        Path path = Paths.get(&quot;words.txt&quot;);\n        try (Stream&lt;String&gt; lines = Files.lines(path)) {\n            List&lt;Word&gt; arrWords = lines.filter(line -&gt; !line.isBlank())\n                                       .map(line -&gt; new Word(line.strip().toLowerCase()))\n                                       .collect(Collectors.toList());\n            arrWords.forEach(System.out::println);\n        }\n    }\n}\n\nclass Word {\n    private String word;\n\n    public Word(String word) {\n        this.word = word;\n    }\n\n    public String toString() {\n        return word;\n    }\n}\n</code></pre>\n<ul>\n<li>Methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#isBlank()\" rel=\"nofollow noreferrer\">isBlank</a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">strip</a> were added in Java 11.</li>\n<li>Above code uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> and <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO.2</a> as well as <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a>.</li>\n</ul>\n"}],"owner":{"account_id":23337956,"reputation":37,"user_id":17413280,"display_name":"night"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71791127,"answer_count":2,"score":1,"last_activity_date":1649389076,"creation_date":1649382829,"question_id":71790819,"body_markdown":"This is the format of my text file: \r\n\r\napricot\\\r\ngarlic\\\r\npineapple\\\r\nattorney\\\r\nbanana\\\r\ncantaloupe\\\r\nCherry\\\r\ncelery\\\r\ncabbage\\\r\ncucumber\\\r\nfig\\\r\nraspberry\\\r\nKiwi\\\r\nlettuce\\\r\nlime\\\r\nmango\\\r\nmelon\\\r\ngrapefruit\\\r\nPear\\\r\npepper\\\r\nApple\\\r\nradish\\\r\ngrape\r\n\r\n\r\nThe problem I&#39;m having is that the text file contains extra blank lines and I&#39;m not allowed to remove those lines. When I add the words to an arraylist it reads those extra blank lines and I&#39;m wondering how I could remove those extra values.\r\n\\\r\nThis is what I&#39;ve come up with so far:\r\n\r\n    arrWords = new ArrayList&lt;Word&gt;();\r\n\t\t\t\r\n\t\t\twhile (myReader.hasNextLine()) {\r\n\t\t\t\tWord w = new Word(myReader.nextLine().toLowerCase().trim());\r\n\t\t\t\tarrWords.add(w);\r\n\t\t\t}\r\nThe arraylist is of type Word so I&#39;m wondering how I could remove those blank values or somehow read the lines differently. I&#39;ve tried multiple solutions like replace all or remove but none of them worked.\r\n\r\n","title":"I have a text file containing words and I want to add them to an arraylist but I have a problem","body":"<p>This is the format of my text file:</p>\n<p>apricot<br />\ngarlic<br />\npineapple<br />\nattorney<br />\nbanana<br />\ncantaloupe<br />\nCherry<br />\ncelery<br />\ncabbage<br />\ncucumber<br />\nfig<br />\nraspberry<br />\nKiwi<br />\nlettuce<br />\nlime<br />\nmango<br />\nmelon<br />\ngrapefruit<br />\nPear<br />\npepper<br />\nApple<br />\nradish<br />\ngrape</p>\n<p>The problem I'm having is that the text file contains extra blank lines and I'm not allowed to remove those lines. When I add the words to an arraylist it reads those extra blank lines and I'm wondering how I could remove those extra values.\n<br />\nThis is what I've come up with so far:</p>\n<pre><code>arrWords = new ArrayList&lt;Word&gt;();\n        \n        while (myReader.hasNextLine()) {\n            Word w = new Word(myReader.nextLine().toLowerCase().trim());\n            arrWords.add(w);\n        }\n</code></pre>\n<p>The arraylist is of type Word so I'm wondering how I could remove those blank values or somehow read the lines differently. I've tried multiple solutions like replace all or remove but none of them worked.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"score":0,"creation_date":1512379984,"post_id":47630142,"comment_id":82218113,"body_markdown":"thankyou for the edit - InsaneCat","body":"thankyou for the edit - InsaneCat"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1512381691,"post_id":47630142,"comment_id":82219202,"body_markdown":"PDFBox (according to tag) or Pdf2Dom (according to question text), which library are you talking about?","body":"PDFBox (according to tag) or Pdf2Dom (according to question text), which library are you talking about?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1512383471,"post_id":47630142,"comment_id":82220291,"body_markdown":"Ah, I just saw that pdf2Dom is based on PDFBox.","body":"Ah, I just saw that pdf2Dom is based on PDFBox."},{"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"score":0,"creation_date":1512387534,"post_id":47630142,"comment_id":82222628,"body_markdown":"Yes, PDF2DOM is based on PDFBOX.......But I am talking about , how can I use PDf2DOM library to get HTML DOC from pdf.","body":"Yes, PDF2DOM is based on PDFBOX.......But I am talking about , how can I use PDf2DOM library to get HTML DOC from pdf."}],"answers":[{"tags":[],"owner":{"account_id":18771387,"reputation":180,"user_id":13688117,"display_name":"Prajwal Raju P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649388143,"creation_date":1649388143,"answer_id":71791331,"question_id":47630142,"body_markdown":"you can convert it using this\r\n\r\n    private void generateHTMLFromPDF(String filename) {\r\n        PDDocument pdf = PDDocument.load(new File(filename));\r\n        Writer output = new PrintWriter(&quot;src/output/pdf.html&quot;, &quot;utf-8&quot;);\r\n        new PDFDomTree().writeText(pdf, output);\r\n        output.close();\r\n    }\r\n\r\nreference - [link][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/pdf-conversions-java","title":"How to use pdf2Dom library in java code to get html doc from pdf?","body":"<p>you can convert it using this</p>\n<pre><code>private void generateHTMLFromPDF(String filename) {\n    PDDocument pdf = PDDocument.load(new File(filename));\n    Writer output = new PrintWriter(&quot;src/output/pdf.html&quot;, &quot;utf-8&quot;);\n    new PDFDomTree().writeText(pdf, output);\n    output.close();\n}\n</code></pre>\n<p>reference - <a href=\"https://www.baeldung.com/pdf-conversions-java\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":10324389,"reputation":54,"user_id":7616277,"display_name":"Amul Mittal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649388143,"creation_date":1512379737,"question_id":47630142,"body_markdown":"I am trying to extract tabular data from PDF, and to start it, my first step of algorithm says to convert PDF to html doc.\r\nHow can I convert PDF to html using **pdf2Dom library**?\r\n","title":"How to use pdf2Dom library in java code to get html doc from pdf?","body":"<p>I am trying to extract tabular data from PDF, and to start it, my first step of algorithm says to convert PDF to html doc.\nHow can I convert PDF to html using <strong>pdf2Dom library</strong>?</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1649386480,"creation_date":1376909598,"answer_id":18312027,"question_id":18311964,"body_markdown":"What you should do is to do what the Warning messages say.  Recompile that class with the `-Xlint:deprecation` option.  The compiler will then tell you what deprecated API you are using or overriding.\r\n\r\nHow to do that?\r\n\r\n  - If you are compiling from a command shell using `javac` just add the `-Xlint:deprecation` option to the command line.\r\n\r\n  - For Maven builds, run maven as follows:\r\n\r\n        mvn clean install -Dmaven.compiler.showDeprecation=true\r\n\r\n  - For Gradle builds, add the following to the root build file:\r\n\r\n        allprojects { \r\n            tasks.withType(JavaCompile) { \r\n                options.deprecation = true\r\n            }\r\n        }\r\n\r\n    or set the option on specific compile tasks. \r\n\r\n  - For Ant builds, set the `deprecation` attribute to `true` in the `javac` task.\r\n\r\n  - For IDEs:\r\n\r\n    - Eclipse: see https://stackoverflow.com/questions/22855836\r\n    - NetBeans: see https://stackoverflow.com/questions/7663221\r\n    - Intellij: see https://stackoverflow.com/questions/55237880\r\n\r\n---------------\r\n\r\nOnce you have identified the API that is causing the problem, there are three approaches to &quot;resolving&quot; the error.\r\n\r\n  1.  You can read the javadocs for the deprecated API to find out *why* it is deprecated.  Then based on what the javadocs say, and the context, you need to work out a way to replace your code&#39;s use of the deprecated element with something better.\r\n\r\n  2.  You can use the `@SuppressWarnings(&quot;deprecation&quot;)` annotation to tell the compiler to &quot;be quiet&quot; about it.  \r\n\r\n      **This is generally a bad idea:**\r\n\r\n      - The deprecated API *may be* removed in a future release, and that will prevent your code from running when you upgrade.  (You would be advised to review the products policy on removal of deprecated APIs.)\r\n\r\n      - The deprecated API *may* have fundamental flaws that make your application unreliable in some circumstances.\r\n\r\n      Injudicious suppression of these warnings is just creating technical dept that you or your successors will have to resolve in the future.\r\n\r\n  3.  If the deprecation warning was due to a change in a Java SE itself or in a 3rd-party API that you are using, you could &quot;resolve&quot; it by rolling back to the version that didn&#39;t show the warnings.  **This is even a worse idea than the previous one.**  By rolling back, you are just allowing the *technical dept* to accumulate.\r\n\r\n-------------------\r\n\r\n(For this particular example, my **guess** is that the OP was using one of the deprecated methods in the [`Thread`][1] class:\r\n\r\n  - `countStackFrames()`\r\n  - `destroy()`\r\n  - `pause()`\r\n  - `resume()`\r\n  - `stop()`\r\n  - `stop(Throwable)`\r\n  - `suspend()`\r\n\r\nThese methods are either unreliable, unsafe or both, and you are strongly advised not to use them.  Read this explanation: [&quot;Why are Thread.stop, Thread.suspend and Thread.resume Deprecated?][2]&quot;.)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html","title":"Warning message &quot;uses or overrides a deprecated API&quot; encountered during code compilation","body":"<p>What you should do is to do what the Warning messages say.  Recompile that class with the <code>-Xlint:deprecation</code> option.  The compiler will then tell you what deprecated API you are using or overriding.</p>\n<p>How to do that?</p>\n<ul>\n<li><p>If you are compiling from a command shell using <code>javac</code> just add the <code>-Xlint:deprecation</code> option to the command line.</p>\n</li>\n<li><p>For Maven builds, run maven as follows:</p>\n<pre><code>mvn clean install -Dmaven.compiler.showDeprecation=true\n</code></pre>\n</li>\n<li><p>For Gradle builds, add the following to the root build file:</p>\n<pre><code>allprojects { \n    tasks.withType(JavaCompile) { \n        options.deprecation = true\n    }\n}\n</code></pre>\n<p>or set the option on specific compile tasks.</p>\n</li>\n<li><p>For Ant builds, set the <code>deprecation</code> attribute to <code>true</code> in the <code>javac</code> task.</p>\n</li>\n<li><p>For IDEs:</p>\n<ul>\n<li>Eclipse: see <a href=\"https://stackoverflow.com/questions/22855836\">Eclipse not showing deprecated warning?</a></li>\n<li>NetBeans: see <a href=\"https://stackoverflow.com/questions/7663221\">Where can I find the Xlint option in Netbeans?</a></li>\n<li>Intellij: see <a href=\"https://stackoverflow.com/questions/55237880\">Intellij Idea find all deprecated usages in the project</a></li>\n</ul>\n</li>\n</ul>\n<hr />\n<p>Once you have identified the API that is causing the problem, there are three approaches to &quot;resolving&quot; the error.</p>\n<ol>\n<li><p>You can read the javadocs for the deprecated API to find out <em>why</em> it is deprecated.  Then based on what the javadocs say, and the context, you need to work out a way to replace your code's use of the deprecated element with something better.</p>\n</li>\n<li><p>You can use the <code>@SuppressWarnings(&quot;deprecation&quot;)</code> annotation to tell the compiler to &quot;be quiet&quot; about it.</p>\n<p><strong>This is generally a bad idea:</strong></p>\n<ul>\n<li><p>The deprecated API <em>may be</em> removed in a future release, and that will prevent your code from running when you upgrade.  (You would be advised to review the products policy on removal of deprecated APIs.)</p>\n</li>\n<li><p>The deprecated API <em>may</em> have fundamental flaws that make your application unreliable in some circumstances.</p>\n</li>\n</ul>\n<p>Injudicious suppression of these warnings is just creating technical dept that you or your successors will have to resolve in the future.</p>\n</li>\n<li><p>If the deprecation warning was due to a change in a Java SE itself or in a 3rd-party API that you are using, you could &quot;resolve&quot; it by rolling back to the version that didn't show the warnings.  <strong>This is even a worse idea than the previous one.</strong>  By rolling back, you are just allowing the <em>technical dept</em> to accumulate.</p>\n</li>\n</ol>\n<hr />\n<p>(For this particular example, my <strong>guess</strong> is that the OP was using one of the deprecated methods in the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\" rel=\"noreferrer\"><code>Thread</code></a> class:</p>\n<ul>\n<li><code>countStackFrames()</code></li>\n<li><code>destroy()</code></li>\n<li><code>pause()</code></li>\n<li><code>resume()</code></li>\n<li><code>stop()</code></li>\n<li><code>stop(Throwable)</code></li>\n<li><code>suspend()</code></li>\n</ul>\n<p>These methods are either unreliable, unsafe or both, and you are strongly advised not to use them.  Read this explanation: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">&quot;Why are Thread.stop, Thread.suspend and Thread.resume Deprecated?</a>&quot;.)</p>\n"},{"tags":[],"owner":{"account_id":325607,"reputation":33143,"user_id":646887,"accept_rate":100,"display_name":"Klas Lindb&#228;ck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1376909611,"creation_date":1376909611,"answer_id":18312036,"question_id":18311964,"body_markdown":"Step 1: Find out which deprecated API the code is using. If you use a modern IDE (eclipse or similar tool), the deprecated code will be clearly marked, usually with a strikethrough font. If you compile from the command prompt add `-Xlint:deprecation` to the command line when you compile.\r\n\r\nStep 2. Read the documentation for the deprecated API to learn how to replace it.","title":"Warning message &quot;uses or overrides a deprecated API&quot; encountered during code compilation","body":"<p>Step 1: Find out which deprecated API the code is using. If you use a modern IDE (eclipse or similar tool), the deprecated code will be clearly marked, usually with a strikethrough font. If you compile from the command prompt add <code>-Xlint:deprecation</code> to the command line when you compile.</p>\n\n<p>Step 2. Read the documentation for the deprecated API to learn how to replace it.</p>\n"}],"owner":{"account_id":3181949,"reputation":995,"user_id":2688451,"accept_rate":80,"display_name":"Lawrance"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92969,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":18312027,"answer_count":2,"score":26,"last_activity_date":1649386480,"creation_date":1376909324,"question_id":18311964,"body_markdown":"I compiled my program and I got the following error. How should I resolve it?\r\n\r\n    Note: ClientThreadClients.java uses or overrides a deprecated API.\r\n    Note: Recompile with -Xlint:deprecation for details.","title":"Warning message &quot;uses or overrides a deprecated API&quot; encountered during code compilation","body":"<p>I compiled my program and I got the following error. How should I resolve it?</p>\n\n<pre><code>Note: ClientThreadClients.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n</code></pre>\n"},{"tags":["java","integer-overflow"],"comments":[{"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1649360063,"post_id":71787899,"comment_id":126862431,"body_markdown":"You say the hash function becomes &quot;inaccurate&quot; on 0. Can you be more specific what accuracy you&#39;re talking about here? In particular, are you expecting equal hashes to imply equal anagrams? Because that&#39;s impossible since there are more anagrams than integers ...","body":"You say the hash function becomes &quot;inaccurate&quot; on 0. Can you be more specific what accuracy you&#39;re talking about here? In particular, are you expecting equal hashes to imply equal anagrams? Because that&#39;s impossible since there are more anagrams than integers ..."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1649360263,"post_id":71787899,"comment_id":126862499,"body_markdown":"One solution is to use modulo multiplication. In multiplication `mod p`, cummutativity is preserved if `p` is prime. And modulo will allow you to establish an upper bound to prevent overflow.","body":"One solution is to use modulo multiplication. In multiplication <code>mod p</code>, cummutativity is preserved if <code>p</code> is prime. And modulo will allow you to establish an upper bound to prevent overflow."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1649362839,"post_id":71787899,"comment_id":126863300,"body_markdown":"@menton Yes.  Much like the use of cryptographic hashes as digital signatures, I&#39;m happy enough with a highly probable outcome, knowing that &quot;impossible&quot; isn&#39;t ruled out.","body":"@menton Yes.  Much like the use of cryptographic hashes as digital signatures, I&#39;m happy enough with a highly probable outcome, knowing that &quot;impossible&quot; isn&#39;t ruled out."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1649363700,"post_id":71787899,"comment_id":126863570,"body_markdown":"@menton I&#39;m requiring equal anagrams to always produce equal hashes.  I acknowledge that other values that are not the same anagram can also produce the same hash value.","body":"@menton I&#39;m requiring equal anagrams to always produce equal hashes.  I acknowledge that other values that are not the same anagram can also produce the same hash value."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1649365417,"post_id":71787899,"comment_id":126864017,"body_markdown":"@Code-Apprentice Thanks, this seems the simplest approach.  I can use 4294967161L for the prime, use a long to perform the calculations, and fit the result within an int.  Happy to credit you for this if you want to put your solution in an answer.","body":"@Code-Apprentice Thanks, this seems the simplest approach.  I can use 4294967161L for the prime, use a long to perform the calculations, and fit the result within an int.  Happy to credit you for this if you want to put your solution in an answer."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649372555,"post_id":71787899,"comment_id":126865585,"body_markdown":"@phatfingers Be careful that it isn&#39;t too large so you don&#39;t overflow before doing the mod operation.","body":"@phatfingers Be careful that it isn&#39;t too large so you don&#39;t overflow before doing the mod operation."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649372806,"post_id":71787899,"comment_id":126865637,"body_markdown":"Also made this into a full-fledged answer.","body":"Also made this into a full-fledged answer."},{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":1,"creation_date":1649377112,"post_id":71787899,"comment_id":126866368,"body_markdown":"https://codereview.stackexchange.com/ may be a good venue for this kind of question","body":"<a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> may be a good venue for this kind of question"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1649377140,"post_id":71787899,"comment_id":126866374,"body_markdown":"@phatfingers You should post your solution as an answer below rather than editing your question.","body":"@phatfingers You should post your solution as an answer below rather than editing your question."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":1,"creation_date":1649378610,"post_id":71787899,"comment_id":126866603,"body_markdown":"@Code-Apprentice I&#39;ll just remove it then.  It doesn&#39;t specifically answer my question about overflows.","body":"@Code-Apprentice I&#39;ll just remove it then.  It doesn&#39;t specifically answer my question about overflows."}],"answers":[{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649372787,"creation_date":1649360040,"answer_id":71787959,"question_id":71787899,"body_markdown":"The naive way to avoid overflow, is to use a larger type such as `int` or `long`. However, for your purposes, modulo arithmetic might make more sense. You can do `(a * b) % p` for a prime `p` to maintain commutativity. (There is some deep mathematics here called Group Theory, if you are interested in learning more.) You will need to limit `p` to be small enough that each `a * b` does not overflow. The easiest way to do this is to pick a `p` so that `(p - 1)^2` can still be represented in a `short` or whatever data type you are using.","title":"Is there a way to adjust for integer overflow?","body":"<p>The naive way to avoid overflow, is to use a larger type such as <code>int</code> or <code>long</code>. However, for your purposes, modulo arithmetic might make more sense. You can do <code>(a * b) % p</code> for a prime <code>p</code> to maintain commutativity. (There is some deep mathematics here called Group Theory, if you are interested in learning more.) You will need to limit <code>p</code> to be small enough that each <code>a * b</code> does not overflow. The easiest way to do this is to pick a <code>p</code> so that <code>(p - 1)^2</code> can still be represented in a <code>short</code> or whatever data type you are using.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649362015,"creation_date":1649362015,"answer_id":71788313,"question_id":71787899,"body_markdown":"Sure, if you&#39;re willing to go to some lengths to do it.  The simplest solution that occurs to me is to write\r\n\r\n    hash *= primes[c];\r\n\r\nwhere `primes` is an array that maps each possible character to a distinct odd  prime.  Overflowing to zero can only happen if the &quot;true&quot; product in infinite-precision arithmetic is a multiple of 2^32, and if you&#39;re multiplying by odd primes, that&#39;s impossible.\r\n\r\n(You do run into the problem that the hash itself will always be odd, but you could shift it right one bit to obtain a more fully mixed hash.)","title":"Is there a way to adjust for integer overflow?","body":"<p>Sure, if you're willing to go to some lengths to do it.  The simplest solution that occurs to me is to write</p>\n<pre><code>hash *= primes[c];\n</code></pre>\n<p>where <code>primes</code> is an array that maps each possible character to a distinct odd  prime.  Overflowing to zero can only happen if the &quot;true&quot; product in infinite-precision arithmetic is a multiple of 2^32, and if you're multiplying by odd primes, that's impossible.</p>\n<p>(You do run into the problem that the hash itself will always be odd, but you could shift it right one bit to obtain a more fully mixed hash.)</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649386454,"creation_date":1649386454,"answer_id":71791155,"question_id":71787899,"body_markdown":"You will only hit zero if \r\n\r\n    a * b = 0 mod 2^64\r\n\r\nwhich is equivalent to there being an integer k such that\r\n\r\n    a * b = k * 2^64 \r\n\r\nThat is, we get in trouble if factors divide 2^64, i.e. if factors are even. Therefore, the easiest solution is ensuring that all factors are odd, for instance like this:\r\n\r\n    for (char ch : chars) {\r\n      hash *= (ch &lt;&lt; 1) | 1;\r\n    }\r\n\r\nThis allows you to keep 63 bits of information.\r\n\r\nNote however that this technique will only avoid collisions caused by overflow, but not collisions caused by multipliers that share a common factor. If you wish to avoid that, too, you&#39;ll need coprime multipliers, which is easiest achieved if they are prime.","title":"Is there a way to adjust for integer overflow?","body":"<p>You will only hit zero if</p>\n<pre><code>a * b = 0 mod 2^64\n</code></pre>\n<p>which is equivalent to there being an integer k such that</p>\n<pre><code>a * b = k * 2^64 \n</code></pre>\n<p>That is, we get in trouble if factors divide 2^64, i.e. if factors are even. Therefore, the easiest solution is ensuring that all factors are odd, for instance like this:</p>\n<pre><code>for (char ch : chars) {\n  hash *= (ch &lt;&lt; 1) | 1;\n}\n</code></pre>\n<p>This allows you to keep 63 bits of information.</p>\n<p>Note however that this technique will only avoid collisions caused by overflow, but not collisions caused by multipliers that share a common factor. If you wish to avoid that, too, you'll need coprime multipliers, which is easiest achieved if they are prime.</p>\n"}],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71791155,"answer_count":3,"score":0,"last_activity_date":1649386454,"creation_date":1649359664,"question_id":71787899,"body_markdown":"I&#39;m noodling through an anagram hash function, already solved several different ways, but I&#39;m looking for extreme performance as an exercise.  I already submitted a solution that passed all the given tests (beating out 100% of all competitors by at least 1ms), but I believe that although it &quot;won&quot;, it has a weakness that just wasn&#39;t triggered.  It is subject to integer overflow in a way that could affect the results.\r\n\r\nThe gist of the solution was to combine multiple commutative operations, each taking some number of bits, and concatenate them into one long variable.  I chose xor, sum, and product.  The xor operation cleanly fits within a fixed number of bits.  The sum operation might overflow, but because of the way overflow is addressed, it would still arrive at the same result if letters and their corresponding values are rearranged.  I wouldn&#39;t worry, for example, about whether this function would overflow.\r\n\r\n    private short sumHash(String s) {\r\n        short hash=0;\r\n        for (char c:s.toCharArray()) {\r\n            hash+=c;\r\n        }\r\n        return hash;\r\n    }\r\n\r\nWhere I run into trouble is in the inclusion of products.  If I make a function that returns the product of a list of values (such as character values in a String), then, at the very least, the result could be rendered inaccurate if the product overflowed to exactly zero.\r\n\r\n    private short productHash(String s) {\r\n        short hash=1;\r\n        for (char c:s.toCharArray()) {\r\n            hash*=c;\r\n        }\r\n        return hash;\r\n    }\r\n\r\nIs there any safe and performant way to avoid this weakness so that the function gains the benefit of the commutative property of multiplication to produce the same value for anagrams, but can&#39;t ever encounter a product that overflows to zero?\r\n","title":"Is there a way to adjust for integer overflow?","body":"<p>I'm noodling through an anagram hash function, already solved several different ways, but I'm looking for extreme performance as an exercise.  I already submitted a solution that passed all the given tests (beating out 100% of all competitors by at least 1ms), but I believe that although it &quot;won&quot;, it has a weakness that just wasn't triggered.  It is subject to integer overflow in a way that could affect the results.</p>\n<p>The gist of the solution was to combine multiple commutative operations, each taking some number of bits, and concatenate them into one long variable.  I chose xor, sum, and product.  The xor operation cleanly fits within a fixed number of bits.  The sum operation might overflow, but because of the way overflow is addressed, it would still arrive at the same result if letters and their corresponding values are rearranged.  I wouldn't worry, for example, about whether this function would overflow.</p>\n<pre><code>private short sumHash(String s) {\n    short hash=0;\n    for (char c:s.toCharArray()) {\n        hash+=c;\n    }\n    return hash;\n}\n</code></pre>\n<p>Where I run into trouble is in the inclusion of products.  If I make a function that returns the product of a list of values (such as character values in a String), then, at the very least, the result could be rendered inaccurate if the product overflowed to exactly zero.</p>\n<pre><code>private short productHash(String s) {\n    short hash=1;\n    for (char c:s.toCharArray()) {\n        hash*=c;\n    }\n    return hash;\n}\n</code></pre>\n<p>Is there any safe and performant way to avoid this weakness so that the function gains the benefit of the commutative property of multiplication to produce the same value for anagrams, but can't ever encounter a product that overflows to zero?</p>\n"},{"tags":["java","swing","jpanel","mouselistener"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1649091576,"post_id":71740922,"comment_id":126783426,"body_markdown":"You could create one `CircleListener` class that extends `MouseListener` and create one instance of the class, which you add to the three `JPanels`.","body":"You could create one <code>CircleListener</code> class that extends <code>MouseListener</code> and create one instance of the class, which you add to the three <code>JPanels</code>."},{"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"score":0,"creation_date":1649120815,"post_id":71740922,"comment_id":126790525,"body_markdown":"Thanks - actually realized that MouseAdapter probably better fits my needs, am trying that now.","body":"Thanks - actually realized that MouseAdapter probably better fits my needs, am trying that now."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1649124266,"post_id":71740922,"comment_id":126791034,"body_markdown":"*&quot;I still can&#39;t quite figure out how to update the panel&quot;* Why not? Note that [`MouseEvent.getComponent()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/event/ComponentEvent.html#getComponent()) will provide a reference to it.","body":"<i>&quot;I still can&#39;t quite figure out how to update the panel&quot;</i> Why not? Note that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/java/awt/event/ComponentEvent.html#getComponent()\" rel=\"nofollow noreferrer\"><code>MouseEvent.getComponent()</code></a> will provide a reference to it."},{"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"score":0,"creation_date":1649129382,"post_id":71740922,"comment_id":126791705,"body_markdown":"I know how to identify which component (which panel) was clicked - for example, I know if the panel with the red circle was clicked. What I can&#39;t figure out is how to have that red circle become a circle of a different color.","body":"I know how to identify which component (which panel) was clicked - for example, I know if the panel with the red circle was clicked. What I can&#39;t figure out is how to have that red circle become a circle of a different color."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1649149214,"post_id":71740922,"comment_id":126796567,"body_markdown":"Have `DrawCirclePanel` implement a `setCircleColor(Color)` method that changes the color and calls `repaint()`. Hopefully, it&#39;s obvious that if the app. needs an &#39;incremental&#39; color change (like making the color `darker()`), then it also needs a `getCircleColor()` method to be called in the `MouseListener`. Well, either those two methods or a single `makeCircleDarker()` method which takes no parameters and leaves the nuts &amp; bolts to the custom painted panel itself. **BTW** `public void paint(Graphics g) { ..` should be `public void paintComponent(Graphics g) { super.paintComponent(g); ..`","body":"Have <code>DrawCirclePanel</code> implement a <code>setCircleColor(Color)</code> method that changes the color and calls <code>repaint()</code>. Hopefully, it&#39;s obvious that if the app. needs an &#39;incremental&#39; color change (like making the color <code>darker()</code>), then it also needs a <code>getCircleColor()</code> method to be called in the <code>MouseListener</code>. Well, either those two methods or a single <code>makeCircleDarker()</code> method which takes no parameters and leaves the nuts &amp; bolts to the custom painted panel itself. <b>BTW</b> <code>public void paint(Graphics g) { ..</code> should be <code>public void paintComponent(Graphics g) { super.paintComponent(g); ..</code>"}],"answers":[{"tags":[],"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649386273,"creation_date":1649386273,"answer_id":71791134,"question_id":71740922,"body_markdown":"So the answer turned out to be fairly simple.\r\nDeclare the panels with the circles as static variables so that the `MouseListener` class can access all three of the panels.\r\n\r\nAs Andrew Thompson noted, set up a `setCircleColor` method in `DrawCirclePanel` that repaints the circle with a different color as needed.\r\n\r\nIn the `MouseListener` class, determine with panel was called, then repaint all three of the circles, passing in the correct color - darker() or brighter() - as needed.\r\n\r\nHere&#39;s the final code\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    import java.awt.Color;\r\n    import java.awt.event.*;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    \r\n    public class TrafficLight {\r\n    \r\n        static DrawCirclePanel redCircle;\r\n        static DrawCirclePanel yellowCircle;\r\n        static DrawCirclePanel greenCircle;\r\n    \r\n    \r\n        // sets up the frame, calls the circle panels and adds them to the frame\r\n        public static void setUpGui() {\r\n            JFrame frame = new JFrame(&quot;Traffic Lights&quot;);\r\n            frame.setSize(300, 900);\r\n            frame.setLayout(new GridLayout(3, 0));\r\n    \r\n            redCircle = new DrawCirclePanel(Color.RED.brighter().brighter());\r\n            yellowCircle = new DrawCirclePanel(Color.YELLOW.darker().darker());\r\n            greenCircle = new DrawCirclePanel(Color.GREEN.darker().darker());\r\n    \r\n            redCircle.setName(&quot;redCircle&quot;);\r\n            yellowCircle.setName(&quot;yellowCircle&quot;);\r\n            greenCircle.setName(&quot;greenCircle&quot;);\r\n    \r\n            CircleListener cl = new CircleListener();\r\n    \r\n            redCircle.addMouseListener(cl);\r\n            yellowCircle.addMouseListener(cl);\r\n            greenCircle.addMouseListener(cl);\r\n    \r\n            frame.add(redCircle);\r\n            frame.add(yellowCircle);\r\n            frame.add(greenCircle);\r\n    \r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            setUpGui();\r\n        }\r\n    }\r\n    \r\n    \r\n    // the DrawCirclePanel class creates a panel and\r\n    // draws a filled-in circle on the panel\r\n    class DrawCirclePanel extends JPanel {\r\n        Color c;\r\n        Border blackLine = BorderFactory.createLineBorder(Color.BLACK);\r\n    \r\n        // constructor for panel, takes Color as argument\r\n        // so we know what color circle to make\r\n        public DrawCirclePanel(Color color) {\r\n            this.c = color;\r\n            this.setLayout(new GridLayout(1, 0));\r\n            this.setBorder(blackLine);\r\n        }\r\n    \r\n        // draws the circle in the panel\r\n        @Override\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            int xWidth = this.getParent().getWidth();\r\n            g.setColor(c);\r\n            g.fillOval(0, 0, xWidth, xWidth);\r\n        }\r\n    \r\n        // changes the color and calls repaint after a mouseClicked event\r\n        public void setCircleColor(Color color) {\r\n            this.c = color;\r\n            this.getGraphics().setColor(c);\r\n            this.repaint();\r\n        }\r\n    }\r\n    \r\n    //abstract adapter class for receiving mouse events\r\n    class CircleListener extends MouseAdapter {\r\n    \r\n        // determine which panel was clicked; redraws as brighter circle\r\n        // redraws other circles with dimmer (darker) color\r\n        public void mouseClicked(MouseEvent e) {\r\n            DrawCirclePanel cPanel = (DrawCirclePanel) e.getSource();\r\n            String name = cPanel.getName();\r\n            if (name.equals(&quot;redCircle&quot;)) {\r\n                TrafficLight.redCircle.setCircleColor(Color.RED.brighter().brighter());\r\n                TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.darker().darker());\r\n                TrafficLight.greenCircle.setCircleColor(Color.GREEN.darker().darker());\r\n            } else if (name.equals(&quot;yellowCircle&quot;)) {\r\n                TrafficLight.redCircle.setCircleColor(Color.RED.darker().darker());\r\n                TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.brighter().brighter());\r\n                TrafficLight.greenCircle.setCircleColor(Color.GREEN.darker().darker());\r\n            } else {\r\n                TrafficLight.redCircle.setCircleColor(Color.RED.darker().darker());\r\n                TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.darker().darker());\r\n                TrafficLight.greenCircle.setCircleColor(Color.GREEN.brighter().brighter());\r\n            }\r\n        }\r\n    }","title":"How to update (more than one?) JPanel on mouse click?","body":"<p>So the answer turned out to be fairly simple.\nDeclare the panels with the circles as static variables so that the <code>MouseListener</code> class can access all three of the panels.</p>\n<p>As Andrew Thompson noted, set up a <code>setCircleColor</code> method in <code>DrawCirclePanel</code> that repaints the circle with a different color as needed.</p>\n<p>In the <code>MouseListener</code> class, determine with panel was called, then repaint all three of the circles, passing in the correct color - darker() or brighter() - as needed.</p>\n<p>Here's the final code</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.Color;\nimport java.awt.event.*;\nimport java.awt.event.MouseEvent;\n\n\npublic class TrafficLight {\n\n    static DrawCirclePanel redCircle;\n    static DrawCirclePanel yellowCircle;\n    static DrawCirclePanel greenCircle;\n\n\n    // sets up the frame, calls the circle panels and adds them to the frame\n    public static void setUpGui() {\n        JFrame frame = new JFrame(&quot;Traffic Lights&quot;);\n        frame.setSize(300, 900);\n        frame.setLayout(new GridLayout(3, 0));\n\n        redCircle = new DrawCirclePanel(Color.RED.brighter().brighter());\n        yellowCircle = new DrawCirclePanel(Color.YELLOW.darker().darker());\n        greenCircle = new DrawCirclePanel(Color.GREEN.darker().darker());\n\n        redCircle.setName(&quot;redCircle&quot;);\n        yellowCircle.setName(&quot;yellowCircle&quot;);\n        greenCircle.setName(&quot;greenCircle&quot;);\n\n        CircleListener cl = new CircleListener();\n\n        redCircle.addMouseListener(cl);\n        yellowCircle.addMouseListener(cl);\n        greenCircle.addMouseListener(cl);\n\n        frame.add(redCircle);\n        frame.add(yellowCircle);\n        frame.add(greenCircle);\n\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        setUpGui();\n    }\n}\n\n\n// the DrawCirclePanel class creates a panel and\n// draws a filled-in circle on the panel\nclass DrawCirclePanel extends JPanel {\n    Color c;\n    Border blackLine = BorderFactory.createLineBorder(Color.BLACK);\n\n    // constructor for panel, takes Color as argument\n    // so we know what color circle to make\n    public DrawCirclePanel(Color color) {\n        this.c = color;\n        this.setLayout(new GridLayout(1, 0));\n        this.setBorder(blackLine);\n    }\n\n    // draws the circle in the panel\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        int xWidth = this.getParent().getWidth();\n        g.setColor(c);\n        g.fillOval(0, 0, xWidth, xWidth);\n    }\n\n    // changes the color and calls repaint after a mouseClicked event\n    public void setCircleColor(Color color) {\n        this.c = color;\n        this.getGraphics().setColor(c);\n        this.repaint();\n    }\n}\n\n//abstract adapter class for receiving mouse events\nclass CircleListener extends MouseAdapter {\n\n    // determine which panel was clicked; redraws as brighter circle\n    // redraws other circles with dimmer (darker) color\n    public void mouseClicked(MouseEvent e) {\n        DrawCirclePanel cPanel = (DrawCirclePanel) e.getSource();\n        String name = cPanel.getName();\n        if (name.equals(&quot;redCircle&quot;)) {\n            TrafficLight.redCircle.setCircleColor(Color.RED.brighter().brighter());\n            TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.darker().darker());\n            TrafficLight.greenCircle.setCircleColor(Color.GREEN.darker().darker());\n        } else if (name.equals(&quot;yellowCircle&quot;)) {\n            TrafficLight.redCircle.setCircleColor(Color.RED.darker().darker());\n            TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.brighter().brighter());\n            TrafficLight.greenCircle.setCircleColor(Color.GREEN.darker().darker());\n        } else {\n            TrafficLight.redCircle.setCircleColor(Color.RED.darker().darker());\n            TrafficLight.yellowCircle.setCircleColor(Color.YELLOW.darker().darker());\n            TrafficLight.greenCircle.setCircleColor(Color.GREEN.brighter().brighter());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17825749,"reputation":71,"user_id":12946976,"display_name":"Dragon-Ash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649386273,"creation_date":1649091107,"question_id":71740922,"body_markdown":"I have a `JFrame`, comprised of three `JPanel` containers, each panel has a filled-in circle (for example, red, white blue).\r\n\r\nWhat I&#39;d like to be able to do is update the color of the filled-in circle of that panel (make it darker with `Color.RED.darker`, for example) when that particular panel is clicked\r\n\r\nI can&#39;t use an `ActionListener`, since panels aren&#39;t components but containers. I started out using `MouseListener`, but have now updated this to MouseAdapter. I am able to determine which `JPanel` was clicked - for testing purposes I&#39;m printing out which panel was clicked to the console (for simplicity purposes I added a name to each panel). \r\n\r\n\r\nEDIT: I got this mostly working - I can now repaint() the Jpanel that was clicked, making that cricle color darker, using the suggestion below of creating a setCircleColor (color) method, which calls repaint().This redraws the circle in that panel, using a darker color.\r\n\r\nHowever, what I really also need to do is make the other two (non-clicked) cirlces on the other panels to repaint() with *lighter* colors.\r\n\r\nBut I can&#39;t see an easy way to handle this - how can I manipulate the other Jpanels that I *didn&#39;t* click on?\r\n\r\nHere&#39;s my code:\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.border.Border;\r\n    import java.awt.*;\r\n    import java.awt.Color;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    \r\n    \r\n    public class TrafficLight {\r\n    \r\n        // sets up the frame, calls the circle panels and adds them to the frame\r\n        public static void setUpGui() {\r\n            JFrame frame = new JFrame(&quot;Traffic Lights&quot;);\r\n            frame.setSize(300, 900);\r\n            frame.setLayout(new GridLayout(3, 0));\r\n    \r\n    \r\n            DrawCirclePanel redCircle = new DrawCirclePanel(Color.RED);\r\n            DrawCirclePanel yellowCircle = new DrawCirclePanel(Color.YELLOW);\r\n            DrawCirclePanel greenCircle = new DrawCirclePanel(Color.GREEN);\r\n    \r\n            redCircle.setName(&quot;redCircle&quot;);\r\n            yellowCircle.setName(&quot;yellowCircle&quot;);\r\n            greenCircle.setName(&quot;greenCircle&quot;);\r\n    \r\n            CircleListener cl = new CircleListener();\r\n    \r\n            redCircle.addMouseListener(cl);\r\n            yellowCircle.addMouseListener(cl);\r\n            greenCircle.addMouseListener(cl);\r\n    \r\n            frame.add(redCircle);\r\n            frame.add(yellowCircle);\r\n            frame.add(greenCircle);\r\n    \r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            setUpGui();\r\n        }\r\n    }\r\n    \r\n    // the DrawCirclePanel class creates a panel and\r\n    // draws a filled-in circle on the panel\r\n    class DrawCirclePanel extends JPanel {\r\n        Color c;\r\n        Border blackline = BorderFactory.createLineBorder(Color.black);\r\n    \r\n        // constructor for panel, takes Color as argument\r\n        // so we know what color circle to make\r\n        public DrawCirclePanel(Color color) {\r\n    \r\n            this.c = color;\r\n            this.setLayout(new GridLayout(1, 0));\r\n            this.setBorder(blackline);\r\n        }\r\n    \r\n        // draws the circle in the panel\r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            int xWidth = this.getParent().getWidth();\r\n            g.setColor(c);\r\n            g.fillOval(1, 1, xWidth-1, xWidth-1);\r\n        }\r\n    \r\n        public void setCircleColor(Color color) {\r\n            this.c = color;\r\n            this.getGraphics().setColor(c);\r\n            this.repaint();\r\n        }\r\n    }\r\n    \r\n    \r\n    class CircleListener extends MouseAdapter {\r\n    \r\n        public void mouseClicked(MouseEvent e) {\r\n            DrawCirclePanel cPanel = (DrawCirclePanel) e.getSource();\r\n            System.out.println(cPanel);\r\n            String name = cPanel.getName();\r\n            if (name == &quot;redCircle&quot;) {\r\n                cPanel.setCircleColor(Color.red.darker());\r\n            }\r\n            else if (name == &quot;yellowCircle&quot;) {\r\n                cPanel.setCircleColor(Color.yellow.darker());\r\n            }\r\n            else {\r\n                cPanel.setCircleColor(Color.green.darker());\r\n            }\r\n        }\r\n    }","title":"How to update (more than one?) JPanel on mouse click?","body":"<p>I have a <code>JFrame</code>, comprised of three <code>JPanel</code> containers, each panel has a filled-in circle (for example, red, white blue).</p>\n<p>What I'd like to be able to do is update the color of the filled-in circle of that panel (make it darker with <code>Color.RED.darker</code>, for example) when that particular panel is clicked</p>\n<p>I can't use an <code>ActionListener</code>, since panels aren't components but containers. I started out using <code>MouseListener</code>, but have now updated this to MouseAdapter. I am able to determine which <code>JPanel</code> was clicked - for testing purposes I'm printing out which panel was clicked to the console (for simplicity purposes I added a name to each panel).</p>\n<p>EDIT: I got this mostly working - I can now repaint() the Jpanel that was clicked, making that cricle color darker, using the suggestion below of creating a setCircleColor (color) method, which calls repaint().This redraws the circle in that panel, using a darker color.</p>\n<p>However, what I really also need to do is make the other two (non-clicked) cirlces on the other panels to repaint() with <em>lighter</em> colors.</p>\n<p>But I can't see an easy way to handle this - how can I manipulate the other Jpanels that I <em>didn't</em> click on?</p>\n<p>Here's my code:</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.Border;\nimport java.awt.*;\nimport java.awt.Color;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\n\npublic class TrafficLight {\n\n    // sets up the frame, calls the circle panels and adds them to the frame\n    public static void setUpGui() {\n        JFrame frame = new JFrame(&quot;Traffic Lights&quot;);\n        frame.setSize(300, 900);\n        frame.setLayout(new GridLayout(3, 0));\n\n\n        DrawCirclePanel redCircle = new DrawCirclePanel(Color.RED);\n        DrawCirclePanel yellowCircle = new DrawCirclePanel(Color.YELLOW);\n        DrawCirclePanel greenCircle = new DrawCirclePanel(Color.GREEN);\n\n        redCircle.setName(&quot;redCircle&quot;);\n        yellowCircle.setName(&quot;yellowCircle&quot;);\n        greenCircle.setName(&quot;greenCircle&quot;);\n\n        CircleListener cl = new CircleListener();\n\n        redCircle.addMouseListener(cl);\n        yellowCircle.addMouseListener(cl);\n        greenCircle.addMouseListener(cl);\n\n        frame.add(redCircle);\n        frame.add(yellowCircle);\n        frame.add(greenCircle);\n\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        setUpGui();\n    }\n}\n\n// the DrawCirclePanel class creates a panel and\n// draws a filled-in circle on the panel\nclass DrawCirclePanel extends JPanel {\n    Color c;\n    Border blackline = BorderFactory.createLineBorder(Color.black);\n\n    // constructor for panel, takes Color as argument\n    // so we know what color circle to make\n    public DrawCirclePanel(Color color) {\n\n        this.c = color;\n        this.setLayout(new GridLayout(1, 0));\n        this.setBorder(blackline);\n    }\n\n    // draws the circle in the panel\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        int xWidth = this.getParent().getWidth();\n        g.setColor(c);\n        g.fillOval(1, 1, xWidth-1, xWidth-1);\n    }\n\n    public void setCircleColor(Color color) {\n        this.c = color;\n        this.getGraphics().setColor(c);\n        this.repaint();\n    }\n}\n\n\nclass CircleListener extends MouseAdapter {\n\n    public void mouseClicked(MouseEvent e) {\n        DrawCirclePanel cPanel = (DrawCirclePanel) e.getSource();\n        System.out.println(cPanel);\n        String name = cPanel.getName();\n        if (name == &quot;redCircle&quot;) {\n            cPanel.setCircleColor(Color.red.darker());\n        }\n        else if (name == &quot;yellowCircle&quot;) {\n            cPanel.setCircleColor(Color.yellow.darker());\n        }\n        else {\n            cPanel.setCircleColor(Color.green.darker());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mdx","olap","mondrian","drillthrough"],"answers":[{"tags":[],"owner":{"account_id":51881,"reputation":38016,"user_id":155020,"accept_rate":80,"display_name":"chubbsondubs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649385646,"creation_date":1649385646,"answer_id":71791085,"question_id":68473077,"body_markdown":"I know this is old, but I think what you&#39;re looking for is using a MemberFormatter. You can inline the code as Javascript so it&#39;s easy enough.\r\n\r\n    &lt;MemberFormatter&gt;\r\n       &lt;Script language=&quot;JavaScript&quot;&gt;\r\n           return member.isNull() ? 0 : member.getName();\r\n       &lt;/Script&gt;\r\n    &lt;/MemberFormatter&gt;\r\n\r\nThat keeps it as a normal Measure and drillthrough is kept intact.","title":"Java Mondrian: How to DrillThrough in CalculatedMember ? Or set Zeroes instead of empty cells any other way","body":"<p>I know this is old, but I think what you're looking for is using a MemberFormatter. You can inline the code as Javascript so it's easy enough.</p>\n<pre><code>&lt;MemberFormatter&gt;\n   &lt;Script language=&quot;JavaScript&quot;&gt;\n       return member.isNull() ? 0 : member.getName();\n   &lt;/Script&gt;\n&lt;/MemberFormatter&gt;\n</code></pre>\n<p>That keeps it as a normal Measure and drillthrough is kept intact.</p>\n"}],"owner":{"account_id":8363834,"reputation":89,"user_id":6295402,"display_name":"Maxi-Hard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649385646,"creation_date":1626884213,"question_id":68473077,"body_markdown":"I&#39;m using Mondrian as the Olap Server to my application written in Java. \r\n&lt;br&gt;&lt;br&gt;So, I have a XML schema with a couple of Cubes.\r\n\r\n    &lt;mon:Schema name=&quot;TechServiceDataCtrl&quot; ...... &gt;\r\n    ...\r\n    ...\r\n    ...\r\n    &lt;Cube name=&quot;ExclusiveUseEquipmentCtrl&quot; defaultMeasure=&quot;ObjectCount&quot;&gt;\r\n\t\t&lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\r\n\r\n\t\t&lt;DimensionUsage name=&quot;Region&quot; source=&quot;Region&quot; caption=&quot;Region&quot; foreignKey=&quot;REGION_ID&quot; /&gt;\r\n\r\n\t\t&lt;Dimension name=&quot;EquipmentType&quot; caption=&quot;EquipmentType&quot; foreignKey=&quot;EQUIPMENT_TYPE&quot;&gt;\r\n\t\t\t&lt;Hierarchy primaryKey=&quot;EQUIPMENT_TYPE&quot; hasAll=&quot;false&quot;  caption=&quot;EQUIPMENT_TYPE&quot;&gt;\r\n\t\t\t\t&lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\r\n\r\n\t\t\t\t&lt;Level name=&quot;EquipmentType&quot; column=&quot;EQUIPMENT_TYPE&quot;  table=&quot;DATA_CTRL_EU$EU&quot;\r\n\t\t\t\t\tapproxRowCount=&quot;10&quot; caption=&quot;EQUIPMENT_TYPE&quot; type=&quot;String&quot;&gt;\r\n\t\t\t\t&lt;/Level&gt;\r\n\t\t\t&lt;/Hierarchy&gt;\r\n\t\t&lt;/Dimension&gt;\r\n\r\n\t\t&lt;Dimension name=&quot;EquipmentTypeGroup&quot; caption=&quot;EquipmentTypeGroup&quot; foreignKey=&quot;TYPE_GROUP&quot;&gt;\r\n\t\t\t&lt;Hierarchy primaryKey=&quot;TYPE_GROUP&quot; caption=&quot;TYPE_GROUP&quot; hasAll=&quot;false&quot;&gt;\r\n\t\t\t\t&lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\r\n\r\n\t\t\t\t&lt;Level name=&quot;EquipmentTypeGroup&quot; column=&quot;TYPE_GROUP&quot; table=&quot;DATA_CTRL_EU$EU&quot;\r\n\t\t\t\t\tapproxRowCount=&quot;2&quot; caption=&quot;EquipmentTypeGroup&quot; type=&quot;String&quot; /&gt;\r\n\t\t\t&lt;/Hierarchy&gt;\r\n\t\t&lt;/Dimension&gt;\r\n\r\n\t\t&lt;Measure name=&quot;ObjectCount&quot; column=&quot;COUNT&quot; aggregator=&quot;sum&quot; caption=&quot;ObjectCount&quot;\r\n\t\t\tformatString=&quot;####0&quot;&gt;\r\n\t\t\t&lt;Annotations&gt;\r\n\t\t\t\t&lt;Annotation name=&quot;drillThroughHandlerClass&quot;&gt;ru.argustelecom.techservice.networksummary.datactrl.drillthrough.ExclusiveUseEquipmentDrillThroughHandler&lt;/Annotation&gt;\r\n\t\t\t\t&lt;Annotation name=&quot;factKey&quot;&gt;REGION_ID&lt;/Annotation&gt;\r\n\t\t\t&lt;/Annotations&gt;\r\n\t\t&lt;/Measure&gt;\r\n\t&lt;/Cube&gt;\r\n    &lt;/mon:Schema&gt;\r\n\r\n&lt;br&gt;Also I have a XML describing report forms for these Cubes. According XML text:\r\n\r\n    \r\n    &lt;ns:group name=&quot;ReportModule&quot; catalogName=&quot;olap/TechServiceDataCtrl&quot;&gt;\r\n    ...\r\n    ...\r\n    ...\r\n    &lt;ns:group name=&quot;ClientEquipment&quot; securityRole=&quot;TechServiceDataCtrl_ClientEquipment&quot;&gt;\r\n\t\t&lt;ns:summaryReport title=&quot;report title&quot;&gt;\r\n\t\t\t&lt;olapQuery objectName=&quot;title&quot; dwhSolutionName=&quot;DATA_CTRL_AF&quot;&gt;\r\n\t\t\t\t&lt;mdx&gt;&lt;![CDATA[\r\n\t\t\t\t\t\tSELECT\r\n\t\t\t\t\t\t\t{[Measures].[ObjectCount]}\r\n\t\t\t\t\t\tON COLUMNS,\r\n\t\t\t\t\t\t    NonEmptyCrossJoin (\r\n\t\t\t\t\t\t\t\tParameter(&quot;REGION_TREE&quot;, [Region], { [Region].DefaultMember }),\r\n\t\t\t\t\t\t\t\tCrossJoin (\r\n\t\t\t\t\t\t\t\t\t[EquipmentTypeGroup].Members,\r\n\t\t\t\t\t\t\t\t\t[EquipmentType].Members\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\tON ROWS\r\n\t\t\t\t\t\tFROM [ExclusiveUseEquipmentCtrl]\r\n                       ]]&gt;&lt;/mdx&gt;\r\n\t\t\t&lt;/olapQuery&gt;\r\n\t\t&lt;/ns:summaryReport&gt;\r\n\t&lt;/ns:group&gt;\r\n    &lt;/ns:group&gt;\r\n\r\n&lt;br&gt;And in this case, in ObjectCount, when we expand Regions, we can have empty cells, if there is no data in some groups.\r\n\r\n[![EmptyCells][1]][1]\r\n\r\n&lt;br&gt;I wanted to set Zeroes instead of empty cells, and wrote a **CalculatedMember** &quot;ObjectCount&quot; (and renamed an existing Measure to &quot;ObjCount&quot;)\r\n\r\n    \t&lt;CalculatedMember name=&quot;ObjectCount&quot; dimension=&quot;Measures&quot; caption=&quot;ObjectCountCalc&quot; formatString=&quot;####0&quot;&gt;\r\n\t\t\t&lt;Formula&gt;\r\n\t\t\t\tIIf([Measures].[ObjCount] = 0 OR ISEMPTY([Measures].[ObjCount]),0,[Measures].[ObjCount])\r\n\t\t\t&lt;/Formula&gt;\r\n\t\t\t&lt;!--&lt;CalculatedMemberProperty name=&quot;FORMAT_STRING&quot; value=&quot;####0&quot;/&gt;--&gt;\r\n\t\t&lt;/CalculatedMember&gt;\r\n\r\n&lt;br&gt;But there became a problem: my every value became non-clickable (lost DrillThrough action because of making value-column calculated).\r\n\r\nHow can I solve this problem?\r\n\r\nI tried to create members with COALESCEEMPTY() check in olapQuery but no result...\r\n\r\nOr maybe I can write Zeroes in cells **any other way**, *without* adding a **CalculatedMember**?\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/ZRFyI.png","title":"Java Mondrian: How to DrillThrough in CalculatedMember ? Or set Zeroes instead of empty cells any other way","body":"<p>I'm using Mondrian as the Olap Server to my application written in Java.\n<br><br>So, I have a XML schema with a couple of Cubes.</p>\n<pre><code>&lt;mon:Schema name=&quot;TechServiceDataCtrl&quot; ...... &gt;\n...\n...\n...\n&lt;Cube name=&quot;ExclusiveUseEquipmentCtrl&quot; defaultMeasure=&quot;ObjectCount&quot;&gt;\n    &lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\n\n    &lt;DimensionUsage name=&quot;Region&quot; source=&quot;Region&quot; caption=&quot;Region&quot; foreignKey=&quot;REGION_ID&quot; /&gt;\n\n    &lt;Dimension name=&quot;EquipmentType&quot; caption=&quot;EquipmentType&quot; foreignKey=&quot;EQUIPMENT_TYPE&quot;&gt;\n        &lt;Hierarchy primaryKey=&quot;EQUIPMENT_TYPE&quot; hasAll=&quot;false&quot;  caption=&quot;EQUIPMENT_TYPE&quot;&gt;\n            &lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\n\n            &lt;Level name=&quot;EquipmentType&quot; column=&quot;EQUIPMENT_TYPE&quot;  table=&quot;DATA_CTRL_EU$EU&quot;\n                approxRowCount=&quot;10&quot; caption=&quot;EQUIPMENT_TYPE&quot; type=&quot;String&quot;&gt;\n            &lt;/Level&gt;\n        &lt;/Hierarchy&gt;\n    &lt;/Dimension&gt;\n\n    &lt;Dimension name=&quot;EquipmentTypeGroup&quot; caption=&quot;EquipmentTypeGroup&quot; foreignKey=&quot;TYPE_GROUP&quot;&gt;\n        &lt;Hierarchy primaryKey=&quot;TYPE_GROUP&quot; caption=&quot;TYPE_GROUP&quot; hasAll=&quot;false&quot;&gt;\n            &lt;Table name=&quot;DATA_CTRL_EU$EU&quot; schema=&quot;TS_DATA_CTRL&quot; /&gt;\n\n            &lt;Level name=&quot;EquipmentTypeGroup&quot; column=&quot;TYPE_GROUP&quot; table=&quot;DATA_CTRL_EU$EU&quot;\n                approxRowCount=&quot;2&quot; caption=&quot;EquipmentTypeGroup&quot; type=&quot;String&quot; /&gt;\n        &lt;/Hierarchy&gt;\n    &lt;/Dimension&gt;\n\n    &lt;Measure name=&quot;ObjectCount&quot; column=&quot;COUNT&quot; aggregator=&quot;sum&quot; caption=&quot;ObjectCount&quot;\n        formatString=&quot;####0&quot;&gt;\n        &lt;Annotations&gt;\n            &lt;Annotation name=&quot;drillThroughHandlerClass&quot;&gt;ru.argustelecom.techservice.networksummary.datactrl.drillthrough.ExclusiveUseEquipmentDrillThroughHandler&lt;/Annotation&gt;\n            &lt;Annotation name=&quot;factKey&quot;&gt;REGION_ID&lt;/Annotation&gt;\n        &lt;/Annotations&gt;\n    &lt;/Measure&gt;\n&lt;/Cube&gt;\n&lt;/mon:Schema&gt;\n</code></pre>\n<p><br>Also I have a XML describing report forms for these Cubes. According XML text:</p>\n<pre><code>&lt;ns:group name=&quot;ReportModule&quot; catalogName=&quot;olap/TechServiceDataCtrl&quot;&gt;\n...\n...\n...\n&lt;ns:group name=&quot;ClientEquipment&quot; securityRole=&quot;TechServiceDataCtrl_ClientEquipment&quot;&gt;\n    &lt;ns:summaryReport title=&quot;report title&quot;&gt;\n        &lt;olapQuery objectName=&quot;title&quot; dwhSolutionName=&quot;DATA_CTRL_AF&quot;&gt;\n            &lt;mdx&gt;&lt;![CDATA[\n                    SELECT\n                        {[Measures].[ObjectCount]}\n                    ON COLUMNS,\n                        NonEmptyCrossJoin (\n                            Parameter(&quot;REGION_TREE&quot;, [Region], { [Region].DefaultMember }),\n                            CrossJoin (\n                                [EquipmentTypeGroup].Members,\n                                [EquipmentType].Members\n                            )\n                        )\n                    ON ROWS\n                    FROM [ExclusiveUseEquipmentCtrl]\n                   ]]&gt;&lt;/mdx&gt;\n        &lt;/olapQuery&gt;\n    &lt;/ns:summaryReport&gt;\n&lt;/ns:group&gt;\n&lt;/ns:group&gt;\n</code></pre>\n<p><br>And in this case, in ObjectCount, when we expand Regions, we can have empty cells, if there is no data in some groups.</p>\n<p><a href=\"https://i.stack.imgur.com/ZRFyI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZRFyI.png\" alt=\"EmptyCells\" /></a></p>\n<p><br>I wanted to set Zeroes instead of empty cells, and wrote a <strong>CalculatedMember</strong> &quot;ObjectCount&quot; (and renamed an existing Measure to &quot;ObjCount&quot;)</p>\n<pre><code>    &lt;CalculatedMember name=&quot;ObjectCount&quot; dimension=&quot;Measures&quot; caption=&quot;ObjectCountCalc&quot; formatString=&quot;####0&quot;&gt;\n        &lt;Formula&gt;\n            IIf([Measures].[ObjCount] = 0 OR ISEMPTY([Measures].[ObjCount]),0,[Measures].[ObjCount])\n        &lt;/Formula&gt;\n        &lt;!--&lt;CalculatedMemberProperty name=&quot;FORMAT_STRING&quot; value=&quot;####0&quot;/&gt;--&gt;\n    &lt;/CalculatedMember&gt;\n</code></pre>\n<p><br>But there became a problem: my every value became non-clickable (lost DrillThrough action because of making value-column calculated).</p>\n<p>How can I solve this problem?</p>\n<p>I tried to create members with COALESCEEMPTY() check in olapQuery but no result...</p>\n<p>Or maybe I can write Zeroes in cells <strong>any other way</strong>, <em>without</em> adding a <strong>CalculatedMember</strong>?</p>\n<p>Thanks!</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-mapper"],"owner":{"account_id":16395182,"reputation":242,"user_id":11842941,"display_name":"Samarth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649385441,"creation_date":1649384938,"question_id":71791025,"body_markdown":"I am trying to find the best way to batch update items in a DynamoDb table using Java’s Dynamo db mapper. Is `DynamoDBSaveExpression` the right way to do it? Can I use DynamoDBSaveExpression to batch update (`batchSave()`) items based on a condition or does it only work with `save()` ? I do not see any examples that using `batchSave()` with `DynamoDBSaveExpression` in the documentation. \r\n\r\n\r\nFor example, I have a list of employees with different roles (Engineering, Marketing, etc) under a column called `role`. I want to update another column assume their `level` based on their `role` value. \r\n\r\nOne way is to query a list and filter based on the role (or query it efficiently using GSI), update those records and then `batchSave()` them back to the database. But I am trying to find the best way to batch update them directly without having to query them using DynamoDb mapper. \r\n\r\nI have looked at the existing questions online and have not been able to get a clear answer, and want to avoid using an out dated method. Thank you!","title":"Best method to Batch Update existing DynamoDb items using DynamoDb mapper","body":"<p>I am trying to find the best way to batch update items in a DynamoDb table using Java’s Dynamo db mapper. Is <code>DynamoDBSaveExpression</code> the right way to do it? Can I use DynamoDBSaveExpression to batch update (<code>batchSave()</code>) items based on a condition or does it only work with <code>save()</code> ? I do not see any examples that using <code>batchSave()</code> with <code>DynamoDBSaveExpression</code> in the documentation.</p>\n<p>For example, I have a list of employees with different roles (Engineering, Marketing, etc) under a column called <code>role</code>. I want to update another column assume their <code>level</code> based on their <code>role</code> value.</p>\n<p>One way is to query a list and filter based on the role (or query it efficiently using GSI), update those records and then <code>batchSave()</code> them back to the database. But I am trying to find the best way to batch update them directly without having to query them using DynamoDb mapper.</p>\n<p>I have looked at the existing questions online and have not been able to get a clear answer, and want to avoid using an out dated method. Thank you!</p>\n"},{"tags":["java","android","android-studio","android-settings","system-setting"],"answers":[{"tags":[],"owner":{"account_id":130801,"reputation":1671,"user_id":330337,"accept_rate":71,"display_name":"SilentNot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1394973044,"creation_date":1394973044,"answer_id":22436851,"question_id":22436627,"body_markdown":"check out http://developer.android.com/reference/android/provider/Settings.System.html\r\n\r\ngetInt(ContentResolver cr, String name, int def)\r\nConvenience function for retrieving a single system settings value as an integer.\r\n","title":"Android how to get current System Settings values?","body":"<p>check out <a href=\"http://developer.android.com/reference/android/provider/Settings.System.html\" rel=\"noreferrer\">http://developer.android.com/reference/android/provider/Settings.System.html</a></p>\n\n<p>getInt(ContentResolver cr, String name, int def)\nConvenience function for retrieving a single system settings value as an integer.</p>\n"},{"tags":[],"owner":{"account_id":3582712,"reputation":850,"user_id":5714136,"display_name":"galian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649384528,"creation_date":1649383891,"answer_id":71790930,"question_id":22436627,"body_markdown":"It&#39;s not allowed to read/write settings by non-system apps from Android 10.\r\n\r\nhttps://developer.android.google.cn/about/versions/10/privacy/changes#non-resettable-device-ids\r\n\r\nStarting in Android 10, apps must have the READ_PRIVILEGED_PHONE_STATE privileged permission in order to access the device&#39;s non-resettable identifiers, which include both IMEI and serial number.","title":"Android how to get current System Settings values?","body":"<p>It's not allowed to read/write settings by non-system apps from Android 10.</p>\n<p><a href=\"https://developer.android.google.cn/about/versions/10/privacy/changes#non-resettable-device-ids\" rel=\"nofollow noreferrer\">https://developer.android.google.cn/about/versions/10/privacy/changes#non-resettable-device-ids</a></p>\n<p>Starting in Android 10, apps must have the READ_PRIVILEGED_PHONE_STATE privileged permission in order to access the device's non-resettable identifiers, which include both IMEI and serial number.</p>\n"}],"owner":{"account_id":3680308,"reputation":5592,"user_id":3065406,"accept_rate":100,"display_name":"deW1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16071,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":22436851,"answer_count":2,"score":7,"last_activity_date":1649384528,"creation_date":1394971705,"question_id":22436627,"body_markdown":"I know that I can change the Settings with:\r\n\r\n    Settings.System.putInt( getContentResolver() , \r\n             Settings.System.SCREEN_OFF_TIMEOUT , DELAY );\r\n\r\nbut I honestly can&#39;t find a solution on how to read the current value of that / any setting.","title":"Android how to get current System Settings values?","body":"<p>I know that I can change the Settings with:</p>\n\n<pre><code>Settings.System.putInt( getContentResolver() , \n         Settings.System.SCREEN_OFF_TIMEOUT , DELAY );\n</code></pre>\n\n<p>but I honestly can't find a solution on how to read the current value of that / any setting.</p>\n"},{"tags":["java","bigdata","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"score":0,"creation_date":1649384522,"post_id":71509610,"comment_id":126867486,"body_markdown":"Explain what is your problem and what you want to achieve","body":"Explain what is your problem and what you want to achieve"}],"owner":{"account_id":2546977,"reputation":49,"user_id":2211589,"display_name":"Kudi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649384051,"creation_date":1647507964,"question_id":71509610,"body_markdown":"How to find all classes under a java package in flink sinkfunction? I get nothing when run these code in my SinkFunction. see follow code\r\n\r\n    public Set&lt;Class&gt; findAllClassesUsingClassLoader(String packageName) {\r\n        InputStream stream = ClassLoader.getSystemClassLoader()\r\n          .getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\r\n        return reader.lines()\r\n          .filter(line -&gt; line.endsWith(&quot;.class&quot;))\r\n          .map(line -&gt; getClass(line, packageName))\r\n          .collect(Collectors.toSet());\r\n    }\r\n \r\n    private Class getClass(String className, String packageName) {\r\n        try {\r\n            return Class.forName(packageName + &quot;.&quot;\r\n              + className.substring(0, className.lastIndexOf(&#39;.&#39;)));\r\n        } catch (ClassNotFoundException e) {\r\n            // handle the exception\r\n        }\r\n        return null;\r\n    }\r\n\r\n","title":"Flink - How to find all classes under a java package in flink sinkfunction","body":"<p>How to find all classes under a java package in flink sinkfunction? I get nothing when run these code in my SinkFunction. see follow code</p>\n<pre><code>public Set&lt;Class&gt; findAllClassesUsingClassLoader(String packageName) {\n    InputStream stream = ClassLoader.getSystemClassLoader()\n      .getResourceAsStream(packageName.replaceAll(&quot;[.]&quot;, &quot;/&quot;));\n    BufferedReader reader = new BufferedReader(new InputStreamReader(stream));\n    return reader.lines()\n      .filter(line -&gt; line.endsWith(&quot;.class&quot;))\n      .map(line -&gt; getClass(line, packageName))\n      .collect(Collectors.toSet());\n}\n\nprivate Class getClass(String className, String packageName) {\n    try {\n        return Class.forName(packageName + &quot;.&quot;\n          + className.substring(0, className.lastIndexOf('.')));\n    } catch (ClassNotFoundException e) {\n        // handle the exception\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":["java","text-files"],"answers":[{"tags":[],"owner":{"account_id":24866262,"reputation":14,"user_id":18741301,"display_name":"p0ptartlov3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649374802,"creation_date":1649374802,"answer_id":71790107,"question_id":71790047,"body_markdown":"You&#39;re reading in the spaces here. Once you read your line, run `line.replaceAll(&quot; &quot;, &quot;&quot;)` to get rid of these spaces. That way, you&#39;ll only read in the relevant characters. Hope this helps!","title":"I have a text file that contains a sequence of characters that has the format of a 2d array and I want to load those characters into a 2d array","body":"<p>You're reading in the spaces here. Once you read your line, run <code>line.replaceAll(&quot; &quot;, &quot;&quot;)</code> to get rid of these spaces. That way, you'll only read in the relevant characters. Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649383084,"creation_date":1649383084,"answer_id":71790846,"question_id":71790047,"body_markdown":"You don&#39;t need a nested loop to do this.\r\n- first, forget about the columns, all you need is the rows to allocate the array to hold all the lines read in.\r\n- read in the dimensions and capture the rows using split.\r\n- allocate the character array for that many rows.\r\n- Now read in the file line by line, replacing spaces with empty strings and then call `toCharArray()` and use that array to populate the columns of your 2D array.\r\n\r\n```\r\nFile file = new File(&quot;f:/griddata.txt&quot;);\r\ntry (Scanner scan = new Scanner(file)) {\r\n\tString[] dimensions = scan.nextLine().split(&quot;\\\\s*,\\\\s*&quot;);\r\n\tint rows = Integer.parseInt(dimensions[1]);\r\n\tchar[][] tabLettres = new char[rows][];\r\n\t\r\n\tint row = 0;\r\n\twhile (scan.hasNextLine()) {\r\n\t\ttabLettres[row++] = scan.nextLine().replace(&quot; &quot;, &quot;&quot;)\r\n\t\t\t\t.toCharArray();\r\n\t}\r\n\t// print results\r\n\tfor (char[] char_row : tabLettres ) {\r\n\t\tSystem.out.println(Arrays.toString(char_row));\r\n\t}\r\n} catch (FileNotFoundException fne) {\r\n\tfne.printStackTrace();\r\n}\r\n```\r\nprints\r\n```\r\n[E, E, V, I, S, S, I, M, D, N, O, F, O, R, P]\r\n[V, S, S, P, E, V, O, Y, A, G, E, S, U, A, P]\r\n[N, I, S, B, E, R, E, V, E, R, T, U, E, U, X]\r\n[O, O, R, A, C, J, I, N, F, I, C, O, N, R, D]\r\n[I, N, D, G, O, G, O, U, P, A, N, H, I, U, T]\r\n[S, E, E, U, U, U, R, U, D, B, A, N, A, N, E]\r\n[A, G, C, E, T, L, L, U, R, E, R, T, M, N, G]\r\n[C, A, R, T, E, E, E, P, E, N, S, I, O, N, D]\r\n[C, R, E, T, R, U, E, H, C, O, A, I, D, E, U]\r\n[O, O, T, E, V, I, V, A, C, E, C, L, R, E, B]\r\n","title":"I have a text file that contains a sequence of characters that has the format of a 2d array and I want to load those characters into a 2d array","body":"<p>You don't need a nested loop to do this.</p>\n<ul>\n<li>first, forget about the columns, all you need is the rows to allocate the array to hold all the lines read in.</li>\n<li>read in the dimensions and capture the rows using split.</li>\n<li>allocate the character array for that many rows.</li>\n<li>Now read in the file line by line, replacing spaces with empty strings and then call <code>toCharArray()</code> and use that array to populate the columns of your 2D array.</li>\n</ul>\n<pre><code>File file = new File(&quot;f:/griddata.txt&quot;);\ntry (Scanner scan = new Scanner(file)) {\n    String[] dimensions = scan.nextLine().split(&quot;\\\\s*,\\\\s*&quot;);\n    int rows = Integer.parseInt(dimensions[1]);\n    char[][] tabLettres = new char[rows][];\n    \n    int row = 0;\n    while (scan.hasNextLine()) {\n        tabLettres[row++] = scan.nextLine().replace(&quot; &quot;, &quot;&quot;)\n                .toCharArray();\n    }\n    // print results\n    for (char[] char_row : tabLettres ) {\n        System.out.println(Arrays.toString(char_row));\n    }\n} catch (FileNotFoundException fne) {\n    fne.printStackTrace();\n}\n</code></pre>\n<p>prints</p>\n<pre><code>[E, E, V, I, S, S, I, M, D, N, O, F, O, R, P]\n[V, S, S, P, E, V, O, Y, A, G, E, S, U, A, P]\n[N, I, S, B, E, R, E, V, E, R, T, U, E, U, X]\n[O, O, R, A, C, J, I, N, F, I, C, O, N, R, D]\n[I, N, D, G, O, G, O, U, P, A, N, H, I, U, T]\n[S, E, E, U, U, U, R, U, D, B, A, N, A, N, E]\n[A, G, C, E, T, L, L, U, R, E, R, T, M, N, G]\n[C, A, R, T, E, E, E, P, E, N, S, I, O, N, D]\n[C, R, E, T, R, U, E, H, C, O, A, I, D, E, U]\n[O, O, T, E, V, I, V, A, C, E, C, L, R, E, B]\n</code></pre>\n"}],"owner":{"account_id":23337956,"reputation":37,"user_id":17413280,"display_name":"night"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71790107,"answer_count":2,"score":0,"last_activity_date":1649383084,"creation_date":1649374345,"question_id":71790047,"body_markdown":"This is what the text file looks like:\r\n\r\n \r\n\r\n15, 10\\\r\nE E V I S S I M D N O F O R P\r\n\\\r\nV S S P E V O Y A G E S U A P\r\n\\\r\nN I S B E R E V E R T U E U X\r\n\\\r\nO O R A C J I N F I C O N R D\r\n\\\r\nI N D G O G O U P A N H I U T\r\n\\\r\nS E E U U U R U D B A N A N E\r\n\\\r\nA G C E T L L U R E R T M N G\r\n\\\r\nC A R T E E E P E N S I O N D\r\n\\\r\nC R E T R U E H C O A I D E U\r\n\\\r\nO O T E V I V A C E C L R E B\r\n\r\nThe first line is the dimensions of the grid of characters.\\\r\nThe problem I&#39;m having is that it is not reading the entire line of the grid.\r\n\r\nThis is what I&#39;ve come up with :\r\n\r\n    File myFile = new File(file);\r\n\t\tScanner myReader = null;\r\n\t\ttry {\r\n\t\t\tmyReader = new Scanner(myFile);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tif (myFile.exists()) {\r\n\r\n\t\t\tString firstLine = myReader.nextLine();\r\n\r\n\t\t\t// cols\r\n\t\t\tint cols = Integer.parseInt(firstLine.charAt(0) + &quot;&quot; + firstLine.charAt(1));\r\n\t\t\t// rows\r\n\t\t\tint rows = Integer.parseInt(firstLine.charAt(4) + &quot;&quot; + firstLine.charAt(5));\r\n\r\n\t\t\ttabLettres = new char[rows][cols];\r\n\t\t\tchar[] lineArray = null;\r\n\t\t\tString line = &quot;&quot;;\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; tabLettres.length; i++) {\r\n\t\t\t\tline = myReader.nextLine();\r\n\t\t\t\tlineArray = line.toCharArray();\r\n\t\t\t\tfor (int j = 0; j &lt; tabLettres[i].length; j++) {\r\n\t\t\t\t\ttabLettres[i][j] = lineArray[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\nWhat I&#39;m getting is : \r\n\\\r\nE   E   V   I   S   S   I   M\r\n\\\r\nV   S   S   P   E   V   O   Y \r\n\\\r\nN   I   S   B   E   R   E   V \r\n\\\r\nO   O   R   A   C   J   I   N \r\n\\\r\nI   N   D   G   O   G   O   U \r\n\\\r\nS   E   E   U   U   U   R   U \r\n\\\r\nA   G   C   E   T   L   L   U \r\n\\\r\nC   A   R   T   E   E   E   P \r\n\\\r\nC   R   E   T   R   U   E   H \r\n\\\r\nO   O   T   E   V   I   V   A \r\n\r\nAs you can see it is not reading until the full length of the columns.\r\nThis is also the method I&#39;m using to print the array\r\n\r\n    public void loadArray() {\r\n\t\tfor (int i = 0; i &lt; tabLettres.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; tabLettres[i].length; j++) {\r\n\t\t\t\tSystem.out.print(tabLettres[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}","title":"I have a text file that contains a sequence of characters that has the format of a 2d array and I want to load those characters into a 2d array","body":"<p>This is what the text file looks like:</p>\n<p>15, 10<br />\nE E V I S S I M D N O F O R P\n<br />\nV S S P E V O Y A G E S U A P\n<br />\nN I S B E R E V E R T U E U X\n<br />\nO O R A C J I N F I C O N R D\n<br />\nI N D G O G O U P A N H I U T\n<br />\nS E E U U U R U D B A N A N E\n<br />\nA G C E T L L U R E R T M N G\n<br />\nC A R T E E E P E N S I O N D\n<br />\nC R E T R U E H C O A I D E U\n<br />\nO O T E V I V A C E C L R E B</p>\n<p>The first line is the dimensions of the grid of characters.<br />\nThe problem I'm having is that it is not reading the entire line of the grid.</p>\n<p>This is what I've come up with :</p>\n<pre><code>File myFile = new File(file);\n    Scanner myReader = null;\n    try {\n        myReader = new Scanner(myFile);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    if (myFile.exists()) {\n\n        String firstLine = myReader.nextLine();\n\n        // cols\n        int cols = Integer.parseInt(firstLine.charAt(0) + &quot;&quot; + firstLine.charAt(1));\n        // rows\n        int rows = Integer.parseInt(firstLine.charAt(4) + &quot;&quot; + firstLine.charAt(5));\n\n        tabLettres = new char[rows][cols];\n        char[] lineArray = null;\n        String line = &quot;&quot;;\n        \n        for (int i = 0; i &lt; tabLettres.length; i++) {\n            line = myReader.nextLine();\n            lineArray = line.toCharArray();\n            for (int j = 0; j &lt; tabLettres[i].length; j++) {\n                tabLettres[i][j] = lineArray[j];\n            }\n        }\n</code></pre>\n<p>What I'm getting is :\n<br />\nE   E   V   I   S   S   I   M\n<br />\nV   S   S   P   E   V   O   Y\n<br />\nN   I   S   B   E   R   E   V\n<br />\nO   O   R   A   C   J   I   N\n<br />\nI   N   D   G   O   G   O   U\n<br />\nS   E   E   U   U   U   R   U\n<br />\nA   G   C   E   T   L   L   U\n<br />\nC   A   R   T   E   E   E   P\n<br />\nC   R   E   T   R   U   E   H\n<br />\nO   O   T   E   V   I   V   A</p>\n<p>As you can see it is not reading until the full length of the columns.\nThis is also the method I'm using to print the array</p>\n<pre><code>public void loadArray() {\n    for (int i = 0; i &lt; tabLettres.length; i++) {\n        for (int j = 0; j &lt; tabLettres[i].length; j++) {\n            System.out.print(tabLettres[i][j] + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","battery","batterylevel","battery-saver"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":1,"creation_date":1630909307,"post_id":69069481,"comment_id":122073262,"body_markdown":"you can do this only on system lvl, not possible with just-an-app","body":"you can do this only on system lvl, not possible with just-an-app"},{"owner":{"account_id":22663403,"reputation":1,"user_id":16839675,"display_name":"Soujanya b"},"score":0,"creation_date":1631764794,"post_id":69069481,"comment_id":122311339,"body_markdown":"How can we do this on system level?","body":"How can we do this on system level?"}],"answers":[{"tags":[],"owner":{"account_id":22668497,"reputation":36,"user_id":16840503,"display_name":"Avinash Tilekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630915951,"creation_date":1630914814,"answer_id":69071050,"question_id":69069481,"body_markdown":"You may need to use **BroadCastReceiver** with intent-filter on **BroadcastReceiver** try to get battery Level via BatteryManager:\r\n```\r\npublic class MyPowerMonitorReceiver extends BroadcastReceiver {\r\n  \r\n    private float currentBatteryLevel;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n\r\n\r\n\r\n       switch (action) {\r\n            case (Intent.ACTION_BATTERY_CHANGED): {\r\n                Log.i(TAG, &quot;Battery has changed&quot;);\r\n\r\n                int level = intent.getIntExtra(BatteryManager.EXTRA_LEVEL, -1);\r\n                int scale = intent.getIntExtra(BatteryManager.EXTRA_SCALE, -1);\r\n\r\n                currentBatteryLevel = (level * 100) / (float) scale;\r\n\r\n                Toast.makeText(context, &quot;Current battery level: &quot; + Float.toString(currentBatteryLevel) + &quot;%&quot; + &quot; level: &quot; + level + &quot; scale: &quot; + scale, Toast.LENGTH_LONG).show();\r\n\r\n                break;\r\n            }\r\n            case (Intent.ACTION_POWER_CONNECTED): {\r\n                Log.i(TAG, &quot;Power connected&quot;);\r\n\r\n                int status = intent.getIntExtra(BatteryManager.EXTRA_STATUS, -1);\r\n                boolean isCharging = status == BatteryManager.BATTERY_STATUS_CHARGING || status == BatteryManager.BATTERY_STATUS_FULL;\r\n\r\n                int chargePlug = intent.getIntExtra(BatteryManager.EXTRA_PLUGGED, -1);\r\n                boolean usbCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_USB;\r\n                boolean acCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_AC;\r\n\r\n                String chargingType = null;\r\n\r\n                if (usbCharge) {\r\n                    chargingType = &quot;USB&quot;;\r\n                } else if (acCharge) {\r\n                    chargingType = &quot;AC Power&quot;;\r\n                }\r\n\r\n                if (isCharging &amp;&amp; chargingType != null) {\r\n                    Toast.makeText(context, &quot;Device is charging via: &quot; + chargingType, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(context, &quot;Device is charging.&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                break;\r\n            }\r\n            case (Intent.ACTION_POWER_DISCONNECTED): {\r\n                Log.i(TAG, &quot;Power disconnected&quot;);\r\n                Toast.makeText(context, &quot;Power Disconnected&quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n            }\r\n            case (Intent.ACTION_BATTERY_LOW): {\r\n                Log.i(TAG, &quot;Battery low&quot;);\r\n                Toast.makeText(context, &quot;Battery low&quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n            }\r\n            case (Intent.ACTION_BATTERY_OKAY): {\r\n                Log.i(TAG, &quot;Battery Okay&quot;);\r\n                Toast.makeText(context, &quot;Battery Okay&quot;, Toast.LENGTH_SHORT).show();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Is there any way to control charging in android programatically without using any third party Apps?","body":"<p>You may need to use <strong>BroadCastReceiver</strong> with intent-filter on <strong>BroadcastReceiver</strong> try to get battery Level via BatteryManager:</p>\n<pre><code>public class MyPowerMonitorReceiver extends BroadcastReceiver {\n  \n    private float currentBatteryLevel;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n\n\n       switch (action) {\n            case (Intent.ACTION_BATTERY_CHANGED): {\n                Log.i(TAG, &quot;Battery has changed&quot;);\n\n                int level = intent.getIntExtra(BatteryManager.EXTRA_LEVEL, -1);\n                int scale = intent.getIntExtra(BatteryManager.EXTRA_SCALE, -1);\n\n                currentBatteryLevel = (level * 100) / (float) scale;\n\n                Toast.makeText(context, &quot;Current battery level: &quot; + Float.toString(currentBatteryLevel) + &quot;%&quot; + &quot; level: &quot; + level + &quot; scale: &quot; + scale, Toast.LENGTH_LONG).show();\n\n                break;\n            }\n            case (Intent.ACTION_POWER_CONNECTED): {\n                Log.i(TAG, &quot;Power connected&quot;);\n\n                int status = intent.getIntExtra(BatteryManager.EXTRA_STATUS, -1);\n                boolean isCharging = status == BatteryManager.BATTERY_STATUS_CHARGING || status == BatteryManager.BATTERY_STATUS_FULL;\n\n                int chargePlug = intent.getIntExtra(BatteryManager.EXTRA_PLUGGED, -1);\n                boolean usbCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_USB;\n                boolean acCharge = chargePlug == BatteryManager.BATTERY_PLUGGED_AC;\n\n                String chargingType = null;\n\n                if (usbCharge) {\n                    chargingType = &quot;USB&quot;;\n                } else if (acCharge) {\n                    chargingType = &quot;AC Power&quot;;\n                }\n\n                if (isCharging &amp;&amp; chargingType != null) {\n                    Toast.makeText(context, &quot;Device is charging via: &quot; + chargingType, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(context, &quot;Device is charging.&quot;, Toast.LENGTH_SHORT).show();\n                }\n                break;\n            }\n            case (Intent.ACTION_POWER_DISCONNECTED): {\n                Log.i(TAG, &quot;Power disconnected&quot;);\n                Toast.makeText(context, &quot;Power Disconnected&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            }\n            case (Intent.ACTION_BATTERY_LOW): {\n                Log.i(TAG, &quot;Battery low&quot;);\n                Toast.makeText(context, &quot;Battery low&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            }\n            case (Intent.ACTION_BATTERY_OKAY): {\n                Log.i(TAG, &quot;Battery Okay&quot;);\n                Toast.makeText(context, &quot;Battery Okay&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22687542,"reputation":271,"user_id":16856898,"display_name":"RatherBeSailing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649382863,"creation_date":1649382863,"answer_id":71790823,"question_id":69069481,"body_markdown":"Getting the battery level is easy\r\n```            \r\nval bm = getSystemService(BATTERY_SERVICE) as BatteryManager\r\nval batteryPercentage = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY)\r\n```\r\nUnfortunately I have had no luck with controlling charging \r\n\r\nWould love to be proved wrong !","title":"Is there any way to control charging in android programatically without using any third party Apps?","body":"<p>Getting the battery level is easy</p>\n<pre><code>val bm = getSystemService(BATTERY_SERVICE) as BatteryManager\nval batteryPercentage = bm.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY)\n</code></pre>\n<p>Unfortunately I have had no luck with controlling charging</p>\n<p>Would love to be proved wrong !</p>\n"}],"owner":{"account_id":22663403,"reputation":1,"user_id":16839675,"display_name":"Soujanya b"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649382863,"creation_date":1630906120,"question_id":69069481,"body_markdown":"We have an Android Application which has to be installed at Client Location in Tab and the tab has to be charged and running continuosly without getting tab turn off which leads to battery health drop. So We have to implement a solution in our app where the user can set some limit to charging to control even if the charger is connected physically. \r\n\r\n(Example: If i set some 80% as higher limit and 20% as lower limit then the tab should get stop charging when it reaches to 80% and start charging when it reaches to 20% automatically).\r\n\r\nCan someone Please tell me Is there any way to do this.\r\n\r\nThanks in advance.","title":"Is there any way to control charging in android programatically without using any third party Apps?","body":"<p>We have an Android Application which has to be installed at Client Location in Tab and the tab has to be charged and running continuosly without getting tab turn off which leads to battery health drop. So We have to implement a solution in our app where the user can set some limit to charging to control even if the charger is connected physically.</p>\n<p>(Example: If i set some 80% as higher limit and 20% as lower limit then the tab should get stop charging when it reaches to 80% and start charging when it reaches to 20% automatically).</p>\n<p>Can someone Please tell me Is there any way to do this.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","eclipse","java-9","eclipse-oxygen"],"comments":[{"owner":{"account_id":1291982,"reputation":255,"user_id":1243902,"display_name":"jsalatas"},"score":0,"creation_date":1481157999,"post_id":41029647,"comment_id":69267494,"body_markdown":"Hmmmm..... both oxygen an java 9 support are currently on beta status (meaning unstable). Maybe you need to file a bug report","body":"Hmmmm..... both oxygen an java 9 support are currently on beta status (meaning unstable). Maybe you need to file a bug report"}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481185112,"creation_date":1481185112,"answer_id":41034773,"question_id":41029647,"body_markdown":"This looks like Eclipse bug [494481](https://bugs.eclipse.org/bugs/show_bug.cgi?id=494481). \r\n\r\nUnfortunately there is currently no fix or workaround listed for the bug.\r\n","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>This looks like Eclipse bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=494481\" rel=\"nofollow noreferrer\">494481</a>. </p>\n\n<p>Unfortunately there is currently no fix or workaround listed for the bug.</p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1505949506,"creation_date":1505948545,"answer_id":46332966,"question_id":41029647,"body_markdown":"I&#39;ve just successfully tested JDK9 with Eclipse Oxygen IDE following the approach you detailed.\r\n\r\nHere are the details of my installation (under Windows 10):\r\n\r\n- I downloaded and installed Java jdk-9+181 from http://jdk.java.net/9/\r\n\r\n- I downloaded and installed Eclipse Oxygen from  https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe\r\n\r\n- I started Eclipse and attempted to add JRE9  (Windows -&gt; Preferences -&gt; Java -&gt; Installed JREs -&gt; Add...)\r\n\r\n- I got the error reported in the OP (&quot;Target is not a JDK root...&quot;).\r\n\r\n- I then installed Java 9 Support (BETA) for Oxygen as detailed here: https://marketplace.eclipse.org/content/java-9-support-beta-oxygen\r\n\r\n- I restarted Eclipse and tried to add JRE 9 again. This time it worked fine:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- Also, see https://wiki.eclipse.org/Java9/Examples for further details.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FDsxo.png","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>I've just successfully tested JDK9 with Eclipse Oxygen IDE following the approach you detailed.</p>\n\n<p>Here are the details of my installation (under Windows 10):</p>\n\n<ul>\n<li><p>I downloaded and installed Java jdk-9+181 from <a href=\"http://jdk.java.net/9/\" rel=\"noreferrer\">http://jdk.java.net/9/</a></p></li>\n<li><p>I downloaded and installed Eclipse Oxygen from  <a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe\" rel=\"noreferrer\">https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe</a></p></li>\n<li><p>I started Eclipse and attempted to add JRE9  (Windows -> Preferences -> Java -> Installed JREs -> Add...)</p></li>\n<li><p>I got the error reported in the OP (\"Target is not a JDK root...\").</p></li>\n<li><p>I then installed Java 9 Support (BETA) for Oxygen as detailed here: <a href=\"https://marketplace.eclipse.org/content/java-9-support-beta-oxygen\" rel=\"noreferrer\">https://marketplace.eclipse.org/content/java-9-support-beta-oxygen</a></p></li>\n<li><p>I restarted Eclipse and tried to add JRE 9 again. This time it worked fine:</p></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/FDsxo.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FDsxo.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>Also, see <a href=\"https://wiki.eclipse.org/Java9/Examples\" rel=\"noreferrer\">https://wiki.eclipse.org/Java9/Examples</a> for further details.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6696763,"reputation":51,"user_id":5164560,"display_name":"Saheb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514920157,"creation_date":1514920157,"answer_id":48066473,"question_id":41029647,"body_markdown":"Oxygen does not come with java9 support. You need to install the eclipse Java9 support patch from the market place https://marketplace.eclipse.org/content/java-9-support-beta-oxygen to be able to use Java9 or you can update from &quot;Help&quot; menu bar.\r\n\r\nRef - https://bugs.eclipse.org/bugs/show_bug.cgi?id=509704","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>Oxygen does not come with java9 support. You need to install the eclipse Java9 support patch from the market place <a href=\"https://marketplace.eclipse.org/content/java-9-support-beta-oxygen\" rel=\"nofollow noreferrer\">https://marketplace.eclipse.org/content/java-9-support-beta-oxygen</a> to be able to use Java9 or you can update from \"Help\" menu bar.</p>\n\n<p>Ref - <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=509704\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=509704</a></p>\n"},{"tags":[],"owner":{"account_id":13480786,"reputation":91,"user_id":9726158,"display_name":"rabi"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1525187499,"creation_date":1525187499,"answer_id":50118973,"question_id":41029647,"body_markdown":"set the path to::  /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>set the path to::  /Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home</p>\n"},{"tags":[],"owner":{"account_id":15414093,"reputation":61,"user_id":11120076,"display_name":"Beqir Ku&#231;i"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567687349,"creation_date":1567687349,"answer_id":57805763,"question_id":41029647,"body_markdown":"You should use Standard VM **not** standard 1.1x VM\r\nbest regards!\r\n[se pic][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e2aQN.png","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>You should use Standard VM <strong>not</strong> standard 1.1x VM\nbest regards!\n<a href=\"https://i.stack.imgur.com/e2aQN.png\" rel=\"noreferrer\">se pic</a></p>\n"},{"tags":[],"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1592551984,"creation_date":1592550937,"answer_id":62465153,"question_id":41029647,"body_markdown":"I&#39;m also faced this issue `&quot;Target is not a JDK root. System Library was not found&quot;` for `Java 11` and I have done some workaround and got to know, this is related to the version we are using either `eclipse` or `sprint tool suite`. So i figured out the correct version and posted below.\n\n**`Java 9` Supports:**\n\n - Spring Tool Suite:3.9.0\n - Eclipse:Oxygen (4.7)\n\n**`Java 10` Supports:**\n\n - Spring Tool Suite:3.9.4\n\n - Eclipse: Oxygen (4.7.3) and Above\n\n**`Java 11` Supports:**\n\n - Spring Tool Suite: 3.9.7\n - Eclipse: Photon 4.8, 4.10 (officially supports)\n\nBelow are references i used:\n\n 1. [STS][1]\n 2. [Eclipse][2]\n\nClick Up Vote if this is useful for you.\n\n  [1]: https://docs.spring.io/sts/nan/v397/NewAndNoteworthy.html\n  [2]: https://en.wikipedia.org/wiki/Eclipse_(software)","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>I'm also faced this issue <code>&quot;Target is not a JDK root. System Library was not found&quot;</code> for <code>Java 11</code> and I have done some workaround and got to know, this is related to the version we are using either <code>eclipse</code> or <code>sprint tool suite</code>. So i figured out the correct version and posted below.</p>\n<p><strong><code>Java 9</code> Supports:</strong></p>\n<ul>\n<li>Spring Tool Suite:3.9.0</li>\n<li>Eclipse:Oxygen (4.7)</li>\n</ul>\n<p><strong><code>Java 10</code> Supports:</strong></p>\n<ul>\n<li><p>Spring Tool Suite:3.9.4</p>\n</li>\n<li><p>Eclipse: Oxygen (4.7.3) and Above</p>\n</li>\n</ul>\n<p><strong><code>Java 11</code> Supports:</strong></p>\n<ul>\n<li>Spring Tool Suite: 3.9.7</li>\n<li>Eclipse: Photon 4.8, 4.10 (officially supports)</li>\n</ul>\n<p>Below are references i used:</p>\n<ol>\n<li><a href=\"https://docs.spring.io/sts/nan/v397/NewAndNoteworthy.html\" rel=\"noreferrer\">STS</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Eclipse_(software)\" rel=\"noreferrer\">Eclipse</a></li>\n</ol>\n<p>Click Up Vote if this is useful for you.</p>\n"},{"tags":[],"owner":{"account_id":11327681,"reputation":1,"user_id":8306031,"display_name":"nams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649382562,"creation_date":1649382562,"answer_id":71790796,"question_id":41029647,"body_markdown":"I was facing the same problem for the latest JDK.&quot;jdk-18_windows-x64_bin.exe&quot;\r\nHowever it is resolved by installing \r\nthis eclipse\r\nhttps://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe.\r\n\r\nGive it a try, I hope this will work for you too!\r\nCheers!\r\n","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>I was facing the same problem for the latest JDK.&quot;jdk-18_windows-x64_bin.exe&quot;\nHowever it is resolved by installing\nthis eclipse\n<a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/download.php?file=/oomph/epp/oxygen/R/eclipse-inst-win64.exe</a>.</p>\n<p>Give it a try, I hope this will work for you too!\nCheers!</p>\n"}],"owner":{"account_id":6457902,"reputation":3379,"user_id":5002677,"accept_rate":77,"display_name":"hpopiolkiewicz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83117,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":7,"score":22,"last_activity_date":1649382562,"creation_date":1481156125,"question_id":41029647,"body_markdown":"I&#39;m trying to test JDK9 (jdk-9-ea+147 version) with Eclipse Oxygen IDE. \r\n\r\nI&#39;ve installed jdk along with jre. From Eclipse Market Place I&#39;ve installed Java9 Beta extension:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe problem is, when I&#39;m trying to add new installed jre from Eclipse I get following error:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nInteresting thing is that this error doesn&#39;t occur with installations of previous JDK versions:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nDoes anyone encounter simillar problem with Eclipse Oxygen? Any feedback is appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/7iKgx.png\r\n  [2]: https://i.stack.imgur.com/tqOxi.png\r\n  [3]: https://i.stack.imgur.com/0NQ8C.png","title":"Target is not a JDK root. System library was not found. Eclipse Oxygen 4.7 + Java9 error","body":"<p>I'm trying to test JDK9 (jdk-9-ea+147 version) with Eclipse Oxygen IDE. </p>\n\n<p>I've installed jdk along with jre. From Eclipse Market Place I've installed Java9 Beta extension:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7iKgx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7iKgx.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem is, when I'm trying to add new installed jre from Eclipse I get following error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tqOxi.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tqOxi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Interesting thing is that this error doesn't occur with installations of previous JDK versions:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0NQ8C.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0NQ8C.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone encounter simillar problem with Eclipse Oxygen? Any feedback is appreciated.</p>\n"},{"tags":["java","android","firebase","facebook-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649240467,"post_id":71764838,"comment_id":126823932,"body_markdown":"Have you only tried to use `Glide.with(this).load(mUser.getPhotoUrl().toString()).into(userProfile);`? Does it work that way?","body":"Have you only tried to use <code>Glide.with(this).load(mUser.getPhotoUrl().toString()).into(u&zwnj;&#8203;serProfile);</code>? Does it work that way?"},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649240660,"post_id":71764838,"comment_id":126824015,"body_markdown":"Yes same output","body":"Yes same output"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649241325,"post_id":71764838,"comment_id":126824270,"body_markdown":"If you try to log the value of `mUser.getPhotoUrl().toString()`, what exactly are you getting printed out?","body":"If you try to log the value of <code>mUser.getPhotoUrl().toString()</code>, what exactly are you getting printed out?"},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649241594,"post_id":71764838,"comment_id":126824380,"body_markdown":"https: //graph.facebook.com/365524062154675/picture","body":"https: //graph.facebook.com/365524062154675/picture"},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649241636,"post_id":71764838,"comment_id":126824404,"body_markdown":"When i try to paste that url to the browser I get the same output in my program","body":"When i try to paste that url to the browser I get the same output in my program"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649241676,"post_id":71764838,"comment_id":126824416,"body_markdown":"So what&#39;s the problem then?","body":"So what&#39;s the problem then?"},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649241775,"post_id":71764838,"comment_id":126824450,"body_markdown":"It doesn&#39;t get my actual profile picture in facebook","body":"It doesn&#39;t get my actual profile picture in facebook"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649242055,"post_id":71764838,"comment_id":126824574,"body_markdown":"Are you sure that profile has a profile picture? I only see the default icon.","body":"Are you sure that profile has a profile picture? I only see the default icon."},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649242137,"post_id":71764838,"comment_id":126824605,"body_markdown":"Yes I have a profile picture and I notice that the link from my facebook profile and the link return in glide is diffrent to each other.","body":"Yes I have a profile picture and I notice that the link from my facebook profile and the link return in glide is diffrent to each other."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649242263,"post_id":71764838,"comment_id":126824640,"body_markdown":"Then it most likely means that the user authenticated in your app is different than the user you are checking in the browser, right?","body":"Then it most likely means that the user authenticated in your app is different than the user you are checking in the browser, right?"},{"owner":{"display_name":"user16971245"},"score":0,"creation_date":1649243193,"post_id":71764838,"comment_id":126825009,"body_markdown":"I can get the name and my email correctly, but the only problem is the profile picture","body":"I can get the name and my email correctly, but the only problem is the profile picture"}],"answers":[{"tags":[],"owner":{"display_name":"user16971245"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649382191,"creation_date":1649382191,"answer_id":71790766,"question_id":71764838,"body_markdown":"I found the solution\r\n\r\n    Uri profileUrl = Profile.getCurrentProfile().getProfilePictureUri(500, 500);\r\n    Glide.with(this).load(profileUrl).into(userProfile);","title":"How to get FB profile in FB auth using Android Studion Java with Firebase","body":"<p>I found the solution</p>\n<pre><code>Uri profileUrl = Profile.getCurrentProfile().getProfilePictureUri(500, 500);\nGlide.with(this).load(profileUrl).into(userProfile);\n</code></pre>\n"}],"owner":{"display_name":"user16971245"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649382191,"creation_date":1649239809,"question_id":71764838,"body_markdown":"// Why this method return different URL it doesn&#39;t get the actual profile picture?\r\n\r\n    String profileUrl = mUser.getPhotoUrl().toString() + &quot;?height=500&quot;;\r\n    Glide.with(this).load(profileUrl).into(userProfile);","title":"How to get FB profile in FB auth using Android Studion Java with Firebase","body":"<p>// Why this method return different URL it doesn't get the actual profile picture?</p>\n<pre><code>String profileUrl = mUser.getPhotoUrl().toString() + &quot;?height=500&quot;;\nGlide.with(this).load(profileUrl).into(userProfile);\n</code></pre>\n"},{"tags":["java","for-loop"],"answers":[{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649382176,"creation_date":1649382176,"answer_id":71790765,"question_id":71790623,"body_markdown":"You&#39;d generally use two indices and repeat what needs to be done twice:\r\n\r\n```java\r\nfor (int lo = 0, hi = n - 1; hi &lt;= lo; ++lo, --hi) {\r\n  doStuff(list.get(lo));\r\n  if (lo == hi) break;  // don&#39;t handle a middle element twice.\r\n  doStuff(list.get(hi));\r\n}\r\n```\r\n\r\nIf you _really_ need a bouncing single index, that&#39;s possible but ugly:\r\n\r\n```java\r\nfor (int d = 0; d &lt; n; ++d) {\r\n  int i = (d &amp; 1) == 0 ? (d / 2) : (n - 1 - (d / 2));\r\n  doStuff(list.get(i));\r\n}\r\n```\r\n\r\nIf this is a common operation, you&#39;d want to define an `Iterator` that hides the ugliness.","title":"Iteration pattern forth and back","body":"<p>You'd generally use two indices and repeat what needs to be done twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int lo = 0, hi = n - 1; hi &lt;= lo; ++lo, --hi) {\n  doStuff(list.get(lo));\n  if (lo == hi) break;  // don't handle a middle element twice.\n  doStuff(list.get(hi));\n}\n</code></pre>\n<p>If you <em>really</em> need a bouncing single index, that's possible but ugly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int d = 0; d &lt; n; ++d) {\n  int i = (d &amp; 1) == 0 ? (d / 2) : (n - 1 - (d / 2));\n  doStuff(list.get(i));\n}\n</code></pre>\n<p>If this is a common operation, you'd want to define an <code>Iterator</code> that hides the ugliness.</p>\n"}],"owner":{"account_id":23441639,"reputation":23,"user_id":17499053,"display_name":"Zaid Fanek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649382176,"creation_date":1649380639,"question_id":71790623,"body_markdown":"I&#39;m trying to go through a list\r\nwhere n is the length of the list\r\nthe pattern would be \r\nthe first element, n, second element, n-1, the third element, n-2...\r\n\r\nhow is this possible?","title":"Iteration pattern forth and back","body":"<p>I'm trying to go through a list\nwhere n is the length of the list\nthe pattern would be\nthe first element, n, second element, n-1, the third element, n-2...</p>\n<p>how is this possible?</p>\n"},{"tags":["java","hashmap","java-stream","shallow-copy"],"answers":[{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649378930,"creation_date":1649378536,"answer_id":71790449,"question_id":71790109,"body_markdown":"You can use `flatMap()` with a function that generates a stream of **new** maps, much like the loop version does, and collect everything back into a list. Your stream version modifies existing maps in-place, and keeps overwriting previously added `&quot;4&quot;` elements with new ones.\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        List&lt;Map&lt;String, String&gt;&gt; listOfMap =\r\n            List.of(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;),\r\n                    Map.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;));\r\n        List&lt;String&gt; stringList = List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\r\n\r\n        List&lt;Map&lt;String, String&gt;&gt; result =\r\n            listOfMap.stream()\r\n            .flatMap(map -&gt; stringList.stream().map(elem -&gt; {\r\n                        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;(map);\r\n                        newMap.put(&quot;4&quot;, elem);\r\n                        return newMap;\r\n                    }))\r\n            .collect(Collectors.toList());\r\n\r\n        for (Map&lt;String, String&gt; elem : result) {\r\n            System.out.println(elem);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\noutputs\r\n\r\n```none\r\n{1=a, 2=b, 3=c, 4=x}\r\n{1=a, 2=b, 3=c, 4=y}\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=x}\r\n{1=d, 2=e, 3=f, 4=y}\r\n{1=d, 2=e, 3=f, 4=z}\r\n```","title":"Java 8 Streams Shallow copy of map object, cross join using streams","body":"<p>You can use <code>flatMap()</code> with a function that generates a stream of <strong>new</strong> maps, much like the loop version does, and collect everything back into a list. Your stream version modifies existing maps in-place, and keeps overwriting previously added <code>&quot;4&quot;</code> elements with new ones.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n    public static void main(String[] args) {\n        List&lt;Map&lt;String, String&gt;&gt; listOfMap =\n            List.of(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;),\n                    Map.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;));\n        List&lt;String&gt; stringList = List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\n\n        List&lt;Map&lt;String, String&gt;&gt; result =\n            listOfMap.stream()\n            .flatMap(map -&gt; stringList.stream().map(elem -&gt; {\n                        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;(map);\n                        newMap.put(&quot;4&quot;, elem);\n                        return newMap;\n                    }))\n            .collect(Collectors.toList());\n\n        for (Map&lt;String, String&gt; elem : result) {\n            System.out.println(elem);\n        }\n    }\n}\n</code></pre>\n<p>outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>{1=a, 2=b, 3=c, 4=x}\n{1=a, 2=b, 3=c, 4=y}\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=x}\n{1=d, 2=e, 3=f, 4=y}\n{1=d, 2=e, 3=f, 4=z}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649381611,"creation_date":1649381250,"answer_id":71790674,"question_id":71790109,"body_markdown":"Here is one way which avoids using `flatMap`.\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; map =\r\n\t\tList.of(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;),\r\n\t\t\t\tMap.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;));\r\nList&lt;String&gt; list = List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\r\n```\r\n- use `mapmulti` to create a new map and modify it with the new elements\r\n- then put each new map on the stream\r\n- and collect into a list.\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; newList = map.stream()\r\n\t\t.&lt;Map&lt;String, String&gt;&gt;mapMulti((mp, consumer) -&gt; {\r\n\t\t\tfor (String v : list) {\r\n\t\t\t\tMap&lt;String, String&gt; newMap =\r\n\t\t\t\t\t\tnew HashMap&lt;&gt;(mp);\r\n\t\t\t\tnewMap.put(&quot;4&quot;, v);\r\n\t\t\t\tconsumer.accept(newMap);\r\n\t\t\t}\r\n\t\t}).toList();\r\n\r\nfor (Map&lt;?,?&gt; nmap : newList) {\r\n\tSystem.out.println(nmap);\r\n}\r\n```\r\nprints\r\n```\r\n{1=a, 2=b, 3=c, 4=x}\r\n{1=a, 2=b, 3=c, 4=y}\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=x}\r\n{1=d, 2=e, 3=f, 4=y}\r\n{1=d, 2=e, 3=f, 4=z}\r\n```\r\n[mapMulti](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) was introduced in Java 16.","title":"Java 8 Streams Shallow copy of map object, cross join using streams","body":"<p>Here is one way which avoids using <code>flatMap</code>.</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; map =\n        List.of(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;),\n                Map.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;));\nList&lt;String&gt; list = List.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;);\n</code></pre>\n<ul>\n<li>use <code>mapmulti</code> to create a new map and modify it with the new elements</li>\n<li>then put each new map on the stream</li>\n<li>and collect into a list.</li>\n</ul>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; newList = map.stream()\n        .&lt;Map&lt;String, String&gt;&gt;mapMulti((mp, consumer) -&gt; {\n            for (String v : list) {\n                Map&lt;String, String&gt; newMap =\n                        new HashMap&lt;&gt;(mp);\n                newMap.put(&quot;4&quot;, v);\n                consumer.accept(newMap);\n            }\n        }).toList();\n\nfor (Map&lt;?,?&gt; nmap : newList) {\n    System.out.println(nmap);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>{1=a, 2=b, 3=c, 4=x}\n{1=a, 2=b, 3=c, 4=y}\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=x}\n{1=d, 2=e, 3=f, 4=y}\n{1=d, 2=e, 3=f, 4=z}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">mapMulti</a> was introduced in Java 16.</p>\n"}],"owner":{"account_id":24866094,"reputation":33,"user_id":18741163,"display_name":"NightFury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71790449,"answer_count":2,"score":2,"last_activity_date":1649381611,"creation_date":1649374822,"question_id":71790109,"body_markdown":"My inputs are :\r\n\r\n```\r\nList&lt;Map&lt;String, String&gt;&gt; = [{1=a, 2=b, 3=c},\r\n                             {1=d, 2=e, 3=f}]\r\nList&lt;String&gt; = [x, y, z]\r\n```\r\nExpected Output is :\r\n```\r\n[\r\n{1=a, 2=b, 3=c, 4=x},\r\n{1=a, 2=b, 3=c, 4=y},\r\n{1=a, 2=b, 3=c, 4=z},\r\n{1=d, 2=e, 3=f, 4=x},\r\n{1=d, 2=e, 3=f, 4=y},\r\n{1=d, 2=e, 3=f, 4=z}\r\n]\r\n```\r\n\r\nMy Code :\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class ExplodeData {\r\n    public static void main(String[] args) {\r\n        List&lt;Map&lt;String, String&gt;&gt; listOfMap = List.of(\r\n        new HashMap&lt;&gt;(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;)),\r\n        new HashMap&lt;&gt;(Map.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;))\r\n        );\r\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\r\n        stringList.add(&quot;x&quot;);\r\n        stringList.add(&quot;y&quot;);\r\n        stringList.add(&quot;z&quot;);\r\n\r\n        listOfMap.forEach(System.out::println);\r\n        System.out.println(stringList + &quot;\\n\\n&quot;);\r\n\r\n        List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (Map&lt;String, String&gt; eachMap: listOfMap) {\r\n            for (String eachString: stringList) {\r\n                Map&lt;String, String&gt; newEntry = new HashMap&lt;&gt;();\r\n                newEntry.putAll(eachMap);\r\n                newEntry.put(&quot;4&quot;, eachString);\r\n                result.add(newEntry);\r\n            }\r\n        }\r\n        System.out.println(&quot;Expected Result using for loops&quot;);\r\n        result.forEach(System.out::println);\r\n\r\n        List&lt;Map&lt;String, String&gt;&gt; result2 = stringList\r\n                .stream()\r\n                .flatMap(each -&gt; listOfMap.stream().peek(entry -&gt; entry.put(&quot;4&quot;, each)))\r\n                .collect(Collectors.toList());\r\n\r\n        System.out.println(&quot;\\n\\nResult using streams&quot;);\r\n        result2.forEach(System.out::println);\r\n    }\r\n}\r\n\r\n```\r\n\r\nProblem: I want to convert my for loop which gives the correct result into stream. My current stream code gives the correct size of result i.e. (listOfMap * stringList) but the value for the new key is overridden due to shallow copy.\r\n\r\nCurrent output\r\n\r\n```\r\nExpected Result using for loops\r\n{1=a, 2=b, 3=c, 4=x}\r\n{1=a, 2=b, 3=c, 4=y}\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=x}\r\n{1=d, 2=e, 3=f, 4=y}\r\n{1=d, 2=e, 3=f, 4=z}\r\n\r\n\r\nResult using streams\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=z}\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=z}\r\n{1=a, 2=b, 3=c, 4=z}\r\n{1=d, 2=e, 3=f, 4=z}\r\n\r\n```\r\n\r\nYour help is appreciated. \r\n","title":"Java 8 Streams Shallow copy of map object, cross join using streams","body":"<p>My inputs are :</p>\n<pre><code>List&lt;Map&lt;String, String&gt;&gt; = [{1=a, 2=b, 3=c},\n                             {1=d, 2=e, 3=f}]\nList&lt;String&gt; = [x, y, z]\n</code></pre>\n<p>Expected Output is :</p>\n<pre><code>[\n{1=a, 2=b, 3=c, 4=x},\n{1=a, 2=b, 3=c, 4=y},\n{1=a, 2=b, 3=c, 4=z},\n{1=d, 2=e, 3=f, 4=x},\n{1=d, 2=e, 3=f, 4=y},\n{1=d, 2=e, 3=f, 4=z}\n]\n</code></pre>\n<p>My Code :</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class ExplodeData {\n    public static void main(String[] args) {\n        List&lt;Map&lt;String, String&gt;&gt; listOfMap = List.of(\n        new HashMap&lt;&gt;(Map.of(&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;)),\n        new HashMap&lt;&gt;(Map.of(&quot;1&quot;, &quot;d&quot;, &quot;2&quot;, &quot;e&quot;, &quot;3&quot;, &quot;f&quot;))\n        );\n        List&lt;String&gt; stringList = new ArrayList&lt;&gt;();\n        stringList.add(&quot;x&quot;);\n        stringList.add(&quot;y&quot;);\n        stringList.add(&quot;z&quot;);\n\n        listOfMap.forEach(System.out::println);\n        System.out.println(stringList + &quot;\\n\\n&quot;);\n\n        List&lt;Map&lt;String, String&gt;&gt; result = new ArrayList&lt;&gt;();\n\n        for (Map&lt;String, String&gt; eachMap: listOfMap) {\n            for (String eachString: stringList) {\n                Map&lt;String, String&gt; newEntry = new HashMap&lt;&gt;();\n                newEntry.putAll(eachMap);\n                newEntry.put(&quot;4&quot;, eachString);\n                result.add(newEntry);\n            }\n        }\n        System.out.println(&quot;Expected Result using for loops&quot;);\n        result.forEach(System.out::println);\n\n        List&lt;Map&lt;String, String&gt;&gt; result2 = stringList\n                .stream()\n                .flatMap(each -&gt; listOfMap.stream().peek(entry -&gt; entry.put(&quot;4&quot;, each)))\n                .collect(Collectors.toList());\n\n        System.out.println(&quot;\\n\\nResult using streams&quot;);\n        result2.forEach(System.out::println);\n    }\n}\n\n</code></pre>\n<p>Problem: I want to convert my for loop which gives the correct result into stream. My current stream code gives the correct size of result i.e. (listOfMap * stringList) but the value for the new key is overridden due to shallow copy.</p>\n<p>Current output</p>\n<pre><code>Expected Result using for loops\n{1=a, 2=b, 3=c, 4=x}\n{1=a, 2=b, 3=c, 4=y}\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=x}\n{1=d, 2=e, 3=f, 4=y}\n{1=d, 2=e, 3=f, 4=z}\n\n\nResult using streams\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=z}\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=z}\n{1=a, 2=b, 3=c, 4=z}\n{1=d, 2=e, 3=f, 4=z}\n\n</code></pre>\n<p>Your help is appreciated.</p>\n"},{"tags":["java","jackson","deserialization","lombok"],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649381022,"creation_date":1649381022,"answer_id":71790657,"question_id":71790562,"body_markdown":"Jackson won&#39;t use a constructor with arguments by default, you should inform it to do that using `@JsonCreator` annotation.\r\n\r\n**NB : Java give you a No Args Constructor if you did not declare any constructor in your class .**\r\n\r\nBy default Jackson tries to use the no-args constructor , in the `VehicleInfo` you declare a constructor with arguments using `@AllArgsConstructor` and like that you dont have a NoArgsConstructor in your `VehicleInfo` class.\r\n\r\nIn the `Vehicle` class , you have two constructors , one with all args and the other with no args and Jackson will use the one without arguments.","title":"Why does Jackson not require all classes to include @NoArgsConstructor when deserializing?","body":"<p>Jackson won't use a constructor with arguments by default, you should inform it to do that using <code>@JsonCreator</code> annotation.</p>\n<p><strong>NB : Java give you a No Args Constructor if you did not declare any constructor in your class .</strong></p>\n<p>By default Jackson tries to use the no-args constructor , in the <code>VehicleInfo</code> you declare a constructor with arguments using <code>@AllArgsConstructor</code> and like that you dont have a NoArgsConstructor in your <code>VehicleInfo</code> class.</p>\n<p>In the <code>Vehicle</code> class , you have two constructors , one with all args and the other with no args and Jackson will use the one without arguments.</p>\n"}],"owner":{"account_id":7977796,"reputation":11,"user_id":6020354,"display_name":"Chris Ban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649381022,"creation_date":1649379812,"question_id":71790562,"body_markdown":"I&#39;m parsing json and have a class that has a parameter of another class type:\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Vehicle {\r\n    ...\r\n    @JsonProperty(&quot;vehicle_info&quot;)\r\n    private VehicleInfo vehicleInfo;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\npublic class VehicleInfo {\r\n    ...\r\n    @JsonProperty(&quot;ev_range&quot;)\r\n    private double evRange;\r\n    @JsonProperty(&quot;image_urls&quot;)\r\n    private List&lt;String&gt; imageUrls;\r\n```\r\n\r\n\r\nFrom what I have read and understood, for Jackson to deserialize json, it requires a default no-args constructor on each class. Yet somehow, it deserializes just fine with only the `Vehicle` class defining a no-args ctor.\r\n\r\nWhat&#39;s going on here? Why aren&#39;t both classes required to define the no-args ctor?","title":"Why does Jackson not require all classes to include @NoArgsConstructor when deserializing?","body":"<p>I'm parsing json and have a class that has a parameter of another class type:</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Vehicle {\n    ...\n    @JsonProperty(&quot;vehicle_info&quot;)\n    private VehicleInfo vehicleInfo;\n\n}\n</code></pre>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\npublic class VehicleInfo {\n    ...\n    @JsonProperty(&quot;ev_range&quot;)\n    private double evRange;\n    @JsonProperty(&quot;image_urls&quot;)\n    private List&lt;String&gt; imageUrls;\n</code></pre>\n<p>From what I have read and understood, for Jackson to deserialize json, it requires a default no-args constructor on each class. Yet somehow, it deserializes just fine with only the <code>Vehicle</code> class defining a no-args ctor.</p>\n<p>What's going on here? Why aren't both classes required to define the no-args ctor?</p>\n"},{"tags":["java","docker","maven","legacy"],"answers":[{"tags":[],"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649379506,"creation_date":1649379506,"answer_id":71790537,"question_id":71790346,"body_markdown":"There&#39;s a lot of &quot;it depends&quot;, and one of the things it may depend on is your local legal compliance requirements.  I would suggest either:\r\n\r\n1. Use a _current_ version of a Docker Hub image, if it&#39;s allowed; or else\r\n2. Build an image based on a known and allowed distribution base image\r\n\r\nOne thing to be conscious of with the Docker Hub images is that there&#39;s a specific set of versions they support, and versions other than this aren&#39;t rebuilt at all.  Consider the [`maven` image](https://hub.docker.com/_/maven): there are various variations on `maven:3.8.5` out there.  If you build your image `FROM maven:3` and you `docker build --pull` then you will get updates on this, both in Maven and the underlying Linux distribution image.  If you name a super-specific `FROM maven:3.8.3` then it will never be rebuilt, even if the underlying Linux distribution or JVM has a critical security update.\r\n\r\nYou&#39;re probably seeing some of this with the `maven:3.2.5-jdk-7u65` image you&#39;ve found.  The image exists on Docker Hub but it hasn&#39;t been rebuilt in a long time.  (For that matter, even the oldest [`openjdk` image](https://github.com/docker-library/docs/blob/master/openjdk/README.md#supported-tags-and-respective-dockerfile-links) is based on Java 8.)  So you probably could use it, if you really wanted to, but I wouldn&#39;t treat it as reliable or maintained.\r\n\r\nSo if you really need a very very old version of Java (which will be [end-of-lifed](https://dev.java/download/releases/) in just a couple of months) I&#39;d suggest the approach you have now is the best one: start `FROM` a reasonably current Linux distribution that gets security updates, download the newest version you can (it [looks like](https://en.wikipedia.org/wiki/Java_version_history#Java_7) Java 7u80 is publicly available and 7u331 with a paid subscription) and rebuild it occasionally.  It will be on you to take updates as they&#39;re released and as the base Linux image gets updates, but this will be more updates than the unmaintained image you found gets.","title":"Bespoke Docker Image vs Stock/Legacy Docker Image","body":"<p>There's a lot of &quot;it depends&quot;, and one of the things it may depend on is your local legal compliance requirements.  I would suggest either:</p>\n<ol>\n<li>Use a <em>current</em> version of a Docker Hub image, if it's allowed; or else</li>\n<li>Build an image based on a known and allowed distribution base image</li>\n</ol>\n<p>One thing to be conscious of with the Docker Hub images is that there's a specific set of versions they support, and versions other than this aren't rebuilt at all.  Consider the <a href=\"https://hub.docker.com/_/maven\" rel=\"nofollow noreferrer\"><code>maven</code> image</a>: there are various variations on <code>maven:3.8.5</code> out there.  If you build your image <code>FROM maven:3</code> and you <code>docker build --pull</code> then you will get updates on this, both in Maven and the underlying Linux distribution image.  If you name a super-specific <code>FROM maven:3.8.3</code> then it will never be rebuilt, even if the underlying Linux distribution or JVM has a critical security update.</p>\n<p>You're probably seeing some of this with the <code>maven:3.2.5-jdk-7u65</code> image you've found.  The image exists on Docker Hub but it hasn't been rebuilt in a long time.  (For that matter, even the oldest <a href=\"https://github.com/docker-library/docs/blob/master/openjdk/README.md#supported-tags-and-respective-dockerfile-links\" rel=\"nofollow noreferrer\"><code>openjdk</code> image</a> is based on Java 8.)  So you probably could use it, if you really wanted to, but I wouldn't treat it as reliable or maintained.</p>\n<p>So if you really need a very very old version of Java (which will be <a href=\"https://dev.java/download/releases/\" rel=\"nofollow noreferrer\">end-of-lifed</a> in just a couple of months) I'd suggest the approach you have now is the best one: start <code>FROM</code> a reasonably current Linux distribution that gets security updates, download the newest version you can (it <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_7\" rel=\"nofollow noreferrer\">looks like</a> Java 7u80 is publicly available and 7u331 with a paid subscription) and rebuild it occasionally.  It will be on you to take updates as they're released and as the base Linux image gets updates, but this will be more updates than the unmaintained image you found gets.</p>\n"}],"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71790537,"answer_count":1,"score":0,"last_activity_date":1649379506,"creation_date":1649377382,"question_id":71790346,"body_markdown":"Today during a code review of my CI/CD scripts, I came up agst. the following issues with my peer.\r\n\r\n - Was using a docker file which I then installed sdkman and then used sdkman to get the correct version of java and maven for my legacy project. I then used the docker-dind service to build my image using a gitlab runner. It is an oft used pattern documented within Gitlab as best practice. I was using an official image and amending it so that maven could run and build my WAR file. It has all worked fine. I also installed sdkman - so I can use this image for other flavours of maven+legacy-jdk7.\r\n\r\nNone of this was original stuff but adapted from a blog by Szymon Stepniak\r\n[https://e.printstacktrace.blog/using-sdkman-as-a-docker-image-for-jenkins-pipeline-a-step-by-step-guide/]\r\n\r\nEssentially I had an image with Maven 3.5.4 &amp; Java 7.x.x-zulu, instead. I also set it up with a non-root user. With an .m2 folder + settings.xml which is needed for Maven. It does my building of this legacy WAR file.\r\n\r\nBut, I was told to drop the idea of creating my slightly amended docker image and to use one that is already made up namely maven:3.2.5-jdk-7u65\r\n\r\nQues 1. I was using an offical image namely debian:stretch-slim and amending it slightly. Atleast, my Dockerfile will say what is happening to my image. So, all of it&#39;s provenance is all well known. So, why is that practice being frowned upon ?\r\n\r\nQues 2. I cannot find this image maven:3.2.5-jdk-7u65 on docker hub as a SAFE &amp; OFFICIAL image to use ?\r\n\r\nQues 3. When I use the maven:3.2.5-jdk-7u65 , it complains that this image is deprecated, but continues, it also complains about some public gpg keys being out of use, but continues, and the Maven build fails. The POM directives I am using basically are not covered by maven:3.2.5\r\n\r\nWhat should I do and how should I approach this task ?\r\nWhat is best practice ?\r\nWhy can&#39;t I find many official legacy maven + legacy jdk6,7 images ? \r\n\r\n","title":"Bespoke Docker Image vs Stock/Legacy Docker Image","body":"<p>Today during a code review of my CI/CD scripts, I came up agst. the following issues with my peer.</p>\n<ul>\n<li>Was using a docker file which I then installed sdkman and then used sdkman to get the correct version of java and maven for my legacy project. I then used the docker-dind service to build my image using a gitlab runner. It is an oft used pattern documented within Gitlab as best practice. I was using an official image and amending it so that maven could run and build my WAR file. It has all worked fine. I also installed sdkman - so I can use this image for other flavours of maven+legacy-jdk7.</li>\n</ul>\n<p>None of this was original stuff but adapted from a blog by Szymon Stepniak\n[https://e.printstacktrace.blog/using-sdkman-as-a-docker-image-for-jenkins-pipeline-a-step-by-step-guide/]</p>\n<p>Essentially I had an image with Maven 3.5.4 &amp; Java 7.x.x-zulu, instead. I also set it up with a non-root user. With an .m2 folder + settings.xml which is needed for Maven. It does my building of this legacy WAR file.</p>\n<p>But, I was told to drop the idea of creating my slightly amended docker image and to use one that is already made up namely maven:3.2.5-jdk-7u65</p>\n<p>Ques 1. I was using an offical image namely debian:stretch-slim and amending it slightly. Atleast, my Dockerfile will say what is happening to my image. So, all of it's provenance is all well known. So, why is that practice being frowned upon ?</p>\n<p>Ques 2. I cannot find this image maven:3.2.5-jdk-7u65 on docker hub as a SAFE &amp; OFFICIAL image to use ?</p>\n<p>Ques 3. When I use the maven:3.2.5-jdk-7u65 , it complains that this image is deprecated, but continues, it also complains about some public gpg keys being out of use, but continues, and the Maven build fails. The POM directives I am using basically are not covered by maven:3.2.5</p>\n<p>What should I do and how should I approach this task ?\nWhat is best practice ?\nWhy can't I find many official legacy maven + legacy jdk6,7 images ?</p>\n"},{"tags":["java","arrays","switch-statement","java.util.scanner","traversal"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1649377036,"post_id":71790300,"comment_id":126866350,"body_markdown":"`if(myMonths[index] == num){` should be `if(myMonths[k] == num){` -- pay attention to your variable names.","body":"<code>if(myMonths[index] == num){</code> should be <code>if(myMonths[k] == num){</code> -- pay attention to your variable names."},{"owner":{"account_id":24841906,"reputation":17,"user_id":18719808,"display_name":"Aleo111"},"score":0,"creation_date":1649377472,"post_id":71790300,"comment_id":126866428,"body_markdown":"thanks for your answer! I&#39;ve amended it but still the same problem, just jumps to the else statement and prints &quot;not found&quot; four times","body":"thanks for your answer! I&#39;ve amended it but still the same problem, just jumps to the else statement and prints &quot;not found&quot; four times"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1649378149,"post_id":71790300,"comment_id":126866539,"body_markdown":"Next bug: Don&#39;t check if it was found on every iteration of the loop. That should be **outside** the loop.","body":"Next bug: Don&#39;t check if it was found on every iteration of the loop. That should be <b>outside</b> the loop."},{"owner":{"account_id":24841906,"reputation":17,"user_id":18719808,"display_name":"Aleo111"},"score":0,"creation_date":1649379058,"post_id":71790300,"comment_id":126866663,"body_markdown":"Thank you so much, I&#39;m on the right track now. If I enter multiple numbers the same to the array, it only prints the index point of the first number entered. If possible, a hint on how to print the all would be great!","body":"Thank you so much, I&#39;m on the right track now. If I enter multiple numbers the same to the array, it only prints the index point of the first number entered. If possible, a hint on how to print the all would be great!"},{"owner":{"account_id":24841906,"reputation":17,"user_id":18719808,"display_name":"Aleo111"},"score":0,"creation_date":1649379403,"post_id":71790300,"comment_id":126866727,"body_markdown":"It wont let me attach a screenshot, but I added the number four twice to my array, then chose to display all elements with the value of 4, and it just printed &#39;1&#39; referring to the location of number 4","body":"It wont let me attach a screenshot, but I added the number four twice to my array, then chose to display all elements with the value of 4, and it just printed &#39;1&#39; referring to the location of number 4"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649379391,"creation_date":1649379391,"answer_id":71790523,"question_id":71790300,"body_markdown":"First, you should be using `k` instead of `index`. Second, you shouldn&#39;t be printing &quot;not found&quot; (or testing for that) on every iteration. You should limit variable scope as much as practical. And you also mention wanting to find all matching indices so you shouldn&#39;t terminate the loop prematurely; I think you wanted something like\r\n\r\n    //assume the value isn&#39;t present.\r\n    boolean found = false;\r\n    //read user input\r\n    int num = input.nextInt();\r\n\r\n    //traverse array\r\n    for(int k = 0; k &lt; myMonths.length; k++) {\r\n        if (myMonths[k] == num){\r\n            found = true;\r\n            System.out.println(k); // don&#39;t break or the loop ends early.\r\n        }\r\n    }\r\n    //this test can only be done after you iterate **all** values.\r\n    if (!found) {\r\n        System.out.println(&quot;not found&quot;);\r\n    }\r\n","title":"Searching an array with user input and printing all elements that have this value","body":"<p>First, you should be using <code>k</code> instead of <code>index</code>. Second, you shouldn't be printing &quot;not found&quot; (or testing for that) on every iteration. You should limit variable scope as much as practical. And you also mention wanting to find all matching indices so you shouldn't terminate the loop prematurely; I think you wanted something like</p>\n<pre><code>//assume the value isn't present.\nboolean found = false;\n//read user input\nint num = input.nextInt();\n\n//traverse array\nfor(int k = 0; k &lt; myMonths.length; k++) {\n    if (myMonths[k] == num){\n        found = true;\n        System.out.println(k); // don't break or the loop ends early.\n    }\n}\n//this test can only be done after you iterate **all** values.\nif (!found) {\n    System.out.println(&quot;not found&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24841906,"reputation":17,"user_id":18719808,"display_name":"Aleo111"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2080,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71790523,"answer_count":1,"score":0,"last_activity_date":1649379391,"creation_date":1649376897,"question_id":71790300,"body_markdown":"I&#39;m trying to search an array for a certain value and display all the elements which contain this value in java. For example, the user selects the number 5, there are 3 projects stored in the array with this value so all 3 of those will be printed out. My code is compiling ok, but when I run it, it jumps to the else statement, even if I am inputting a number that is in the array..\r\nAny help would be amazing. Here&#39;s my code: \r\n                                                                                               \r\n                    case 3:\r\n\t\t\t \t    //display all elements with the same state\r\n\t\t\t \t    //get number user wishes to search for\r\n\t\t\t \t    \r\n\t\t\t \t    boolean found = false;\r\n                     Scanner input = new Scanner(System.in);\r\n\t\t\t \t     System.out.print(&quot;Please enter the number you wish to search for&quot;);\r\n\r\n\t\t\t \t     //read user input\r\n\t\t\t \t     num = input.nextInt();\r\n\r\n\t\t\t \t     //traverse array\r\n\t\t\t \t     int k = 0;\r\n\t\t\t \t     for(k=0; k &lt; myMonths.length; k++){\r\n\t\t\t\t\t\t if(myMonths[index] == num){\r\n\t\t\t\t\t\t\t found = true;\r\n\t\t\t\t\t\t\t break;}\r\n\t\t\t\t\t     if(found){System.out.println(k);}\r\n\r\n\t\t\t\t\t     else{System.out.println(&quot;not found&quot;);}\r\n\t\t\t\t\t }\r\n                 \tbreak;\r\nHere&#39;s the array:\r\n\r\n                //Menu loop\r\n                int myMonths[] = new int[5];\r\n                int index = 0;\r\n                int num;\r\n                while(choice !=6){\r\n\r\n\r\n\t\t\t        switch (choice){\r\n\t\t\t \t   \tcase 1:\r\n\t\t\t \t   \t//int n = number of projects\r\n                    int n = 1;\r\n\t\t\t \t   \tScanner sc = new Scanner(System.in);\r\n\t\t\t \t   \tSystem.out.println(&quot;How many months was your project?&quot;);\r\n\r\n\r\n                    for(int i=0; i&lt;1; i++){\r\n\t\t\t\t\t\tint a = sc.nextInt();\r\n\r\n\t\t\t\t\t\t//if months is lesser than 2/greater than 12\r\n\t\t\t\t\t\tif((a &lt; 2) || (a &gt; 12)){\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Please enter an amount between 2 and 12 months&quot;);}\r\n\r\n                       //if months is between 2 and 12 add it to the array\r\n\r\n\t\t\t\t\t\telse{myMonths[index++] = a;} }\r\n                 \tbreak;","title":"Searching an array with user input and printing all elements that have this value","body":"<p>I'm trying to search an array for a certain value and display all the elements which contain this value in java. For example, the user selects the number 5, there are 3 projects stored in the array with this value so all 3 of those will be printed out. My code is compiling ok, but when I run it, it jumps to the else statement, even if I am inputting a number that is in the array..\nAny help would be amazing. Here's my code:</p>\n<pre><code>                case 3:\n                //display all elements with the same state\n                //get number user wishes to search for\n                \n                boolean found = false;\n                 Scanner input = new Scanner(System.in);\n                 System.out.print(&quot;Please enter the number you wish to search for&quot;);\n\n                 //read user input\n                 num = input.nextInt();\n\n                 //traverse array\n                 int k = 0;\n                 for(k=0; k &lt; myMonths.length; k++){\n                     if(myMonths[index] == num){\n                         found = true;\n                         break;}\n                     if(found){System.out.println(k);}\n\n                     else{System.out.println(&quot;not found&quot;);}\n                 }\n                break;\n</code></pre>\n<p>Here's the array:</p>\n<pre><code>            //Menu loop\n            int myMonths[] = new int[5];\n            int index = 0;\n            int num;\n            while(choice !=6){\n\n\n                switch (choice){\n                case 1:\n                //int n = number of projects\n                int n = 1;\n                Scanner sc = new Scanner(System.in);\n                System.out.println(&quot;How many months was your project?&quot;);\n\n\n                for(int i=0; i&lt;1; i++){\n                    int a = sc.nextInt();\n\n                    //if months is lesser than 2/greater than 12\n                    if((a &lt; 2) || (a &gt; 12)){\n                        System.out.println(&quot;Please enter an amount between 2 and 12 months&quot;);}\n\n                   //if months is between 2 and 12 add it to the array\n\n                    else{myMonths[index++] = a;} }\n                break;\n</code></pre>\n"},{"tags":["java","android","64-bit"],"owner":{"account_id":16881415,"reputation":11,"user_id":12207401,"display_name":"akhilis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649378811,"creation_date":1570917438,"question_id":58358907,"body_markdown":"I created a sample app base in mediaplayer and images after compiling the apk and doing the analyze apk there is no lib file or (.so) file which means the app supports 64 bit, but when I upload the apk to Google Play it say that it does not support 64 bit.\r\n\r\nDid any one have this problem before?\r\n \r\n[![Analyze Apk screen][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IAuJS.png","title":"apk with no lib and no .so file its not 64 bit support","body":"<p>I created a sample app base in mediaplayer and images after compiling the apk and doing the analyze apk there is no lib file or (.so) file which means the app supports 64 bit, but when I upload the apk to Google Play it say that it does not support 64 bit.</p>\n<p>Did any one have this problem before?</p>\n<p><a href=\"https://i.stack.imgur.com/IAuJS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAuJS.png\" alt=\"Analyze Apk screen\" /></a></p>\n"},{"tags":["java","reactjs","webpack","socket.io","webpack-hmr"],"comments":[{"owner":{"account_id":84127,"reputation":51105,"user_id":235354,"display_name":"jspcal"},"score":0,"creation_date":1649377077,"post_id":71790307,"comment_id":126866359,"body_markdown":"hi, perhaps this might be of interest https://stackoverflow.com/questions/47432256/socket-io-flood-server-with-polling-requests","body":"hi, perhaps this might be of interest <a href=\"https://stackoverflow.com/questions/47432256/socket-io-flood-server-with-polling-requests\" title=\"socket io flood server with polling requests\">stackoverflow.com/questions/47432256/&hellip;</a>"},{"owner":{"account_id":10947913,"reputation":31,"user_id":8045288,"display_name":"Adrian Corey"},"score":0,"creation_date":1649377474,"post_id":71790307,"comment_id":126866429,"body_markdown":"Yeah I stated I tried that solution of changing the transports and the socket would not even connect after.  I did a lot of searching before I posted this.","body":"Yeah I stated I tried that solution of changing the transports and the socket would not even connect after.  I did a lot of searching before I posted this."}],"owner":{"account_id":10947913,"reputation":31,"user_id":8045288,"display_name":"Adrian Corey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649377681,"creation_date":1649376944,"question_id":71790307,"body_markdown":"I currently have a socket.io server for java connecting to two different socket.io client applications.  One is running on react-scripts and another is on webpack-dev-server.  The socket connection works on both, but on the webpack-dev-server it sends about 100 polling packets a second after connecting.  I am thinking it has something to do with the hot reload, although it happens on a fresh page.  It&#39;s confirmed that the server and both clients are all running the same version of socket.io (4.4.1).  I tried setting the transports to websocket to avoid the polling messages but it will not connect. On the react-scripts app it just sends a few polling packets and upgrades the connection without setting transports.  Every polling request always returns a response of 6 on the webpack-dev-server if that helps.  Any ideas of how to fix this?","title":"Socket.io client flooding polling requests on webpack-dev-server, works fine on react-scripts","body":"<p>I currently have a socket.io server for java connecting to two different socket.io client applications.  One is running on react-scripts and another is on webpack-dev-server.  The socket connection works on both, but on the webpack-dev-server it sends about 100 polling packets a second after connecting.  I am thinking it has something to do with the hot reload, although it happens on a fresh page.  It's confirmed that the server and both clients are all running the same version of socket.io (4.4.1).  I tried setting the transports to websocket to avoid the polling messages but it will not connect. On the react-scripts app it just sends a few polling packets and upgrades the connection without setting transports.  Every polling request always returns a response of 6 on the webpack-dev-server if that helps.  Any ideas of how to fix this?</p>\n"},{"tags":["java","swing","io","filereader","jform"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1649359065,"post_id":71786508,"comment_id":126862163,"body_markdown":"Re &#39;Issue 1&#39;: Each thread on Stack Overflow should contain exactly one problem/question, ideally with a [mre] specific to the problem. Since two people have already addressed the 2nd issue, it would be best to start a different thread in relation to the first. [Edit] to remove the first part from this question.","body":"Re &#39;Issue 1&#39;: Each thread on Stack Overflow should contain exactly one problem/question, ideally with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> specific to the problem. Since two people have already addressed the 2nd issue, it would be best to start a different thread in relation to the first. <a href=\"https://stackoverflow.com/posts/71786508/edit\">Edit</a> to remove the first part from this question."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1649373094,"post_id":71786508,"comment_id":126865690,"body_markdown":"For your **issue #1** - [Read this Tutorial from Oracle](https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html) about nested classes. If you want to use the inner class as is, then remove the `static` modifier from the main() method declaration in that class, for example: `public void main(String[] args) {` OR make the inner class `static`, for example: `public static class Check {`.","body":"For your <b>issue #1</b> - <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">Read this Tutorial from Oracle</a> about nested classes. If you want to use the inner class as is, then remove the <code>static</code> modifier from the main() method declaration in that class, for example: <code>public void main(String[] args) {</code> OR make the inner class <code>static</code>, for example: <code>public static class Check {</code>."}],"answers":[{"tags":[],"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649355141,"creation_date":1649355141,"answer_id":71787059,"question_id":71786508,"body_markdown":"You don&#39;t need to use BufferedReader. Buffering is only for inefficient reading and writing (ie doing multiple reads and writes)\r\n\r\nUse `Path` and `Files` instead\r\n\r\n    Path p = &quot;C:\\\\Users\\\\tcoley\\\\Downloads\\\\207pass.txt&quot;;\r\n    String file = new String(Files.loadAllBytes(p));","title":"Issues with FileReader and Java GUI/jForm","body":"<p>You don't need to use BufferedReader. Buffering is only for inefficient reading and writing (ie doing multiple reads and writes)</p>\n<p>Use <code>Path</code> and <code>Files</code> instead</p>\n<pre><code>Path p = &quot;C:\\\\Users\\\\tcoley\\\\Downloads\\\\207pass.txt&quot;;\nString file = new String(Files.loadAllBytes(p));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649355184,"creation_date":1649355184,"answer_id":71787064,"question_id":71786508,"body_markdown":"What does the file look like? There are a lot of ways to format a file and for simplicities sake, this will just assume it&#39;s one word per line:\r\n\r\nWith the line\r\n\r\n        refpass = br.readLine();\r\nYou are taking in the line from the file\r\n\r\n        boolean isEqual = refpas.equals(input);\r\nThis allows you to assess the line individually.\r\nRemember that &#39;==&#39; is not the way to use String comparisons in Java. \r\n\r\n        (&quot;cat&quot; == &quot;cat&quot;) != (&quot;cat&quot;.equals(&quot;cat&quot;))","title":"Issues with FileReader and Java GUI/jForm","body":"<p>What does the file look like? There are a lot of ways to format a file and for simplicities sake, this will just assume it's one word per line:</p>\n<p>With the line</p>\n<pre><code>    refpass = br.readLine();\n</code></pre>\n<p>You are taking in the line from the file</p>\n<pre><code>    boolean isEqual = refpas.equals(input);\n</code></pre>\n<p>This allows you to assess the line individually.\nRemember that '==' is not the way to use String comparisons in Java.</p>\n<pre><code>    (&quot;cat&quot; == &quot;cat&quot;) != (&quot;cat&quot;.equals(&quot;cat&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649376087,"creation_date":1649376087,"answer_id":71790229,"question_id":71786508,"body_markdown":"For your **issue #2** - `input` is the string variable that is to be used hold the password you want to find in the file yet you eliminate its contents when you apply it to reading a line: `(input = br.readLine())`. It will now hold the currently read file line (this is no good). You need to use the `refPass` variable instead, for example: `(refPass = br.readLine())`. \r\n\r\nYou only need to use `br.readLine()` once in your loop. What your code is effectively doing right now (if it runs) is reading two (2) file lines on each iteration of the `while` loop. It could potentially fall into an Exception since there is no protection for null in the second read. Again no good.\r\n\r\nOnce you&#39;ve read a file line, ensure it actually contains something. A lot of times a file will have a blank line in it that can throw a monkey wrench into things if it&#39;s not handled. To check for this you can do something like what is shown below **after** a line is read into `refPass`:\r\n\r\n    while((refPass = br.readLine()) != null) {\r\n        // remove leading &amp; trailing whitespaces (if any).\r\n        refPass = refPass.trim();\r\n        // Skip past blank lines in file (if any).\r\n        if (refPass.isEmpty()) {\r\n            continue;\r\n        }\r\n        // .... rest of code ...\r\n    }\r\n\r\nNow to complete your loop block code, you just need to compare the password read in with the password contained within the `input` variable (ex: `&quot;1234&quot;`). To do this, you could have something like this:\r\n\r\n    if (refPass.equals(input) {\r\n        System.out.println(&quot;Password Found!&quot;)\r\n        break; // Break out of the &#39;while&#39; loop and close file.\r\n    }\r\n\r\n**On a side:** Don&#39;t use `==` to compare Strings for ***content*** equality, that may not always work as you expect. Use the [String#equals()](https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/) method instead. Give the supplied link a read.\r\n\r\nAt the end of and outside your `while` loop, be sure to close the reader, for example: `br.close();` so as to release hold on the file and free up resources.","title":"Issues with FileReader and Java GUI/jForm","body":"<p>For your <strong>issue #2</strong> - <code>input</code> is the string variable that is to be used hold the password you want to find in the file yet you eliminate its contents when you apply it to reading a line: <code>(input = br.readLine())</code>. It will now hold the currently read file line (this is no good). You need to use the <code>refPass</code> variable instead, for example: <code>(refPass = br.readLine())</code>.</p>\n<p>You only need to use <code>br.readLine()</code> once in your loop. What your code is effectively doing right now (if it runs) is reading two (2) file lines on each iteration of the <code>while</code> loop. It could potentially fall into an Exception since there is no protection for null in the second read. Again no good.</p>\n<p>Once you've read a file line, ensure it actually contains something. A lot of times a file will have a blank line in it that can throw a monkey wrench into things if it's not handled. To check for this you can do something like what is shown below <strong>after</strong> a line is read into <code>refPass</code>:</p>\n<pre><code>while((refPass = br.readLine()) != null) {\n    // remove leading &amp; trailing whitespaces (if any).\n    refPass = refPass.trim();\n    // Skip past blank lines in file (if any).\n    if (refPass.isEmpty()) {\n        continue;\n    }\n    // .... rest of code ...\n}\n</code></pre>\n<p>Now to complete your loop block code, you just need to compare the password read in with the password contained within the <code>input</code> variable (ex: <code>&quot;1234&quot;</code>). To do this, you could have something like this:</p>\n<pre><code>if (refPass.equals(input) {\n    System.out.println(&quot;Password Found!&quot;)\n    break; // Break out of the 'while' loop and close file.\n}\n</code></pre>\n<p><strong>On a side:</strong> Don't use <code>==</code> to compare Strings for <em><strong>content</strong></em> equality, that may not always work as you expect. Use the <a href=\"https://www.geeksforgeeks.org/difference-between-and-equals-method-in-java/\" rel=\"nofollow noreferrer\">String#equals()</a> method instead. Give the supplied link a read.</p>\n<p>At the end of and outside your <code>while</code> loop, be sure to close the reader, for example: <code>br.close();</code> so as to release hold on the file and free up resources.</p>\n"}],"owner":{"account_id":24863534,"reputation":1,"user_id":18738949,"display_name":"tyco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649376087,"creation_date":1649352218,"question_id":71786508,"body_markdown":"I am trying to make a smaller version of Pwned Passwords (https://haveibeenpwned.com/Passwords) for my Ap comp sci project. Everything is goo besides 2 things:\r\n\r\n\r\n----------\r\n\r\n\r\n [(Issue 1)][1] (image of my code to show better)\r\nI have this below my jForm source code which declares each button/etc and what they do. I get this error though: &quot;Illegal static declaration in inner class PassCheck.check. I do not now how to resolve this issue.\r\n\r\n\r\n----------\r\n\r\n\r\n The second issue is using FileReader and Buffered Reader. I want the program to read the text inputted from the jForm and compare it to a file which has a list of commonly used passwords. How can I do this? Here is my code so far of just practicing with FR and BR:\r\n\r\n        import java.io.*;\r\n\r\n    public class MainFileReader {\r\n\r\n      public static void main(String[] args) throws Exception{\r\n        \r\n          String refpass, input;\r\n          input = &quot;1234&quot;;\r\n          \r\n          FileReader fr = new FileReader(&quot;C:\\\\Users\\\\tcoley\\\\Downloads\\\\207pass.txt&quot;);\r\n          BufferedReader br = new BufferedReader(fr);\r\n\r\n        while((input = br.readLine()) != null){\r\n            refpass = br.readLine();\r\n            \r\nAnd I stopped here. I apologize as Java is not my strong suit but any help is much appreciated!\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/exyFs.png","title":"Issues with FileReader and Java GUI/jForm","body":"<p>I am trying to make a smaller version of Pwned Passwords (<a href=\"https://haveibeenpwned.com/Passwords\" rel=\"nofollow noreferrer\">https://haveibeenpwned.com/Passwords</a>) for my Ap comp sci project. Everything is goo besides 2 things:</p>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/exyFs.png\" rel=\"nofollow noreferrer\">(Issue 1)</a> (image of my code to show better)\nI have this below my jForm source code which declares each button/etc and what they do. I get this error though: &quot;Illegal static declaration in inner class PassCheck.check. I do not now how to resolve this issue.</p>\n<hr />\n<p>The second issue is using FileReader and Buffered Reader. I want the program to read the text inputted from the jForm and compare it to a file which has a list of commonly used passwords. How can I do this? Here is my code so far of just practicing with FR and BR:</p>\n<pre><code>    import java.io.*;\n\npublic class MainFileReader {\n\n  public static void main(String[] args) throws Exception{\n    \n      String refpass, input;\n      input = &quot;1234&quot;;\n      \n      FileReader fr = new FileReader(&quot;C:\\\\Users\\\\tcoley\\\\Downloads\\\\207pass.txt&quot;);\n      BufferedReader br = new BufferedReader(fr);\n\n    while((input = br.readLine()) != null){\n        refpass = br.readLine();\n        \n</code></pre>\n<p>And I stopped here. I apologize as Java is not my strong suit but any help is much appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1649368652,"post_id":71789384,"comment_id":126864828,"body_markdown":"Which variable is not defined?  Since this is only a code snippet we can&#39;t see what you have defined (we&#39;d need the entire code listing for that).","body":"Which variable is not defined?  Since this is only a code snippet we can&#39;t see what you have defined (we&#39;d need the entire code listing for that)."},{"owner":{"account_id":23385231,"reputation":1,"user_id":17450698,"display_name":"soso"},"score":0,"creation_date":1649369210,"post_id":71789384,"comment_id":126864964,"body_markdown":"sorry I meant variable have not been initialized, the variables inside the buyer object(personID, firstName, last name etc)","body":"sorry I meant variable have not been initialized, the variables inside the buyer object(personID, firstName, last name etc)"},{"owner":{"account_id":4930762,"reputation":1103,"user_id":3970630,"accept_rate":75,"display_name":"Ric17101"},"score":0,"creation_date":1649381205,"post_id":71789384,"comment_id":126867016,"body_markdown":"add error logs please","body":"add error logs please"}],"answers":[{"tags":[],"owner":{"account_id":24866262,"reputation":14,"user_id":18741301,"display_name":"p0ptartlov3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649376019,"creation_date":1649376019,"answer_id":71790223,"question_id":71789384,"body_markdown":"Try putting the Buyer initialization outside the while loop. Right now, if you error out, you never actually have the variables initialized to anything. Once you put it outside the while loop, only the try-catch code will run, which should solve your issue. Hope this helps!","title":"Use scanner input to initialize an object and also try and catch for invalid input or mismatch - java","body":"<p>Try putting the Buyer initialization outside the while loop. Right now, if you error out, you never actually have the variables initialized to anything. Once you put it outside the while loop, only the try-catch code will run, which should solve your issue. Hope this helps!</p>\n"}],"owner":{"account_id":23385231,"reputation":1,"user_id":17450698,"display_name":"soso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649376019,"creation_date":1649368549,"question_id":71789384,"body_markdown":"Hello I am trying to use a Scanner object to initialize the fields of an object(buyer object), and also use a try and catch to check for invalid input, also want to put the try and catch inside a while loop, so it will keep asking the user for the right input until they put it, I seem to be having a variable scope problem, as I&#39;ve been getting errors like variable is not defined and unreachable code.\r\n\r\n\r\n\r\n\t\tif(userResponse4.equals(&quot;buyer&quot;)) {\r\n\t\t\t\r\n\t\t\tString firstName;\r\n\t\t\tString lastName;\r\n\t\t\tString dateOfBirth;\r\n\t\t\tString local;\r\n\t\t\tdouble funds;\r\n\t\t\tshort creditScore;\r\n\t\t\tlong personID;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t while (true) {\r\n\t\t\t   try {\r\n\t\t\t        \t \r\n\t\t\t\t   System.out.println(&quot;Enter your first Name&quot;);\r\n\t\t\t\t   \t firstName = sc4.nextLine();\r\n\t\t\t\t   \tSystem.out.print(&quot;Enter your Last Name&quot;);\r\n\t\t\t\t\t lastName = sc4.next();\r\n\t\t\t\t\tSystem.out.print(&quot;Enter your Date Of Birth&quot;);\r\n\t\t\t\t\t  dateOfBirth = sc4.next();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter Local info&quot;);\r\n\t\t\t\t\t local = sc4.next();\r\n\t\t\t\t\tSystem.out.print(&quot;Enter Your Credit Score&quot;);\r\n\t\t\t\t\tcreditScore = sc4.nextShort();\r\n\t\t\t\t\tSystem.out.println(&quot;Enter your account balance&quot;);\r\n\t\t\t\t\t  funds = sc4.nextDouble();\r\n\t\t\t\t\tSystem.out.print(&quot;Enter your IDnumber \\n&quot;);\r\n\t\t\t\t personID = sc4.nextLong();\r\n\r\n\t\t\t        }\r\n\t\t\t        catch (InputMismatchException e) {\r\n\t\t\t            System.out.println(&quot;Enter the right input type&quot;);\r\n\t\t\t        }\r\n\t\t\t   \t\tBuyer buyer = new Buyer(personID, firstName, lastName, dateOfBirth, local, funds, creditScore);\r\n\t\t\t   \t\tSystem.out.println(buyer);\r\n\t\t\t    }\r\n\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t}","title":"Use scanner input to initialize an object and also try and catch for invalid input or mismatch - java","body":"<p>Hello I am trying to use a Scanner object to initialize the fields of an object(buyer object), and also use a try and catch to check for invalid input, also want to put the try and catch inside a while loop, so it will keep asking the user for the right input until they put it, I seem to be having a variable scope problem, as I've been getting errors like variable is not defined and unreachable code.</p>\n<pre><code>    if(userResponse4.equals(&quot;buyer&quot;)) {\n        \n        String firstName;\n        String lastName;\n        String dateOfBirth;\n        String local;\n        double funds;\n        short creditScore;\n        long personID;\n        \n        \n         while (true) {\n           try {\n                     \n               System.out.println(&quot;Enter your first Name&quot;);\n                 firstName = sc4.nextLine();\n                System.out.print(&quot;Enter your Last Name&quot;);\n                 lastName = sc4.next();\n                System.out.print(&quot;Enter your Date Of Birth&quot;);\n                  dateOfBirth = sc4.next();\n                System.out.println(&quot;Enter Local info&quot;);\n                 local = sc4.next();\n                System.out.print(&quot;Enter Your Credit Score&quot;);\n                creditScore = sc4.nextShort();\n                System.out.println(&quot;Enter your account balance&quot;);\n                  funds = sc4.nextDouble();\n                System.out.print(&quot;Enter your IDnumber \\n&quot;);\n             personID = sc4.nextLong();\n\n                }\n                catch (InputMismatchException e) {\n                    System.out.println(&quot;Enter the right input type&quot;);\n                }\n                Buyer buyer = new Buyer(personID, firstName, lastName, dateOfBirth, local, funds, creditScore);\n                System.out.println(buyer);\n            }\n\n        \n        \n        \n    }\n</code></pre>\n"},{"tags":["java","class","inheritance","arraylist"],"answers":[{"tags":[],"owner":{"account_id":24134562,"reputation":52,"user_id":18101690,"display_name":"Robson Costa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649375873,"creation_date":1649375873,"answer_id":71790213,"question_id":71790038,"body_markdown":"    List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n    \r\n            //put elements in your list\r\n    \r\n            books.sort((b1,b2) -&gt;{\r\n                int comparator;\r\n                if (b1.name==b2.name){\r\n                    comparator = b1.author.compareTo(b2.author);\r\n                } else {\r\n                    comparator = b1.name.compareTo(b2.name);\r\n                }\r\n                return comparator;\r\n            });\r\n\r\nin list.short(***(b1,b2)***); is how b1 is the current &quot;Book&quot;, and b2 is the next &quot;Book&quot; in the list, the return value defines whether b1 is before or after b2;\r\n\r\nb1 and b2 are variables of type Book, you can change their name.\r\n\r\nnote: the String.compareTo() method; sorts alphabetically, but prioritizes uppercase letters, example: it will sort uppercase &quot;Z&quot; before lowercase &quot;a&quot;.\r\n\r\n","title":"Sorting a Arraylist of class with fields","body":"<pre><code>List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n\n        //put elements in your list\n\n        books.sort((b1,b2) -&gt;{\n            int comparator;\n            if (b1.name==b2.name){\n                comparator = b1.author.compareTo(b2.author);\n            } else {\n                comparator = b1.name.compareTo(b2.name);\n            }\n            return comparator;\n        });\n</code></pre>\n<p>in list.short(<em><strong>(b1,b2)</strong></em>); is how b1 is the current &quot;Book&quot;, and b2 is the next &quot;Book&quot; in the list, the return value defines whether b1 is before or after b2;</p>\n<p>b1 and b2 are variables of type Book, you can change their name.</p>\n<p>note: the String.compareTo() method; sorts alphabetically, but prioritizes uppercase letters, example: it will sort uppercase &quot;Z&quot; before lowercase &quot;a&quot;.</p>\n"}],"owner":{"account_id":23190684,"reputation":52,"user_id":17287101,"display_name":"amin_tay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71790213,"answer_count":1,"score":2,"last_activity_date":1649375873,"creation_date":1649374226,"question_id":71790038,"body_markdown":"    public class Publication {\r\n    private String name;\r\n    private String author;\r\n    private int price;\r\n    private String language;}\r\n    public class Book extends Publication {\r\n    private int ISBN;\r\n\r\n    public Book(String name, String author, String language, int price, int ISBN) {\r\n        super(name, author, language, price);\r\n        this.ISBN = ISBN;\r\n\r\n    }\r\n\r\n\r\n.\r\n    \r\n\r\n\r\n\r\n    public class Book extends Publication {\r\n    private int ISBN;\r\n\r\n    public Book(String name, String author, String language, int price, int ISBN) {\r\n        super(name, author, language, price);\r\n        this.ISBN = ISBN;\r\n\r\n    }\r\n\r\n\r\nconsider these classes\r\n\r\nIn another class I made an arraylist of `Book` class\r\n\r\nnow I want to sort and print this arraylist based on `name` and then `author`  \r\nbut I don&#39;t know what can I do \r\n","title":"Sorting a Arraylist of class with fields","body":"<pre><code>public class Publication {\nprivate String name;\nprivate String author;\nprivate int price;\nprivate String language;}\npublic class Book extends Publication {\nprivate int ISBN;\n\npublic Book(String name, String author, String language, int price, int ISBN) {\n    super(name, author, language, price);\n    this.ISBN = ISBN;\n\n}\n</code></pre>\n<p>.</p>\n<pre><code>public class Book extends Publication {\nprivate int ISBN;\n\npublic Book(String name, String author, String language, int price, int ISBN) {\n    super(name, author, language, price);\n    this.ISBN = ISBN;\n\n}\n</code></pre>\n<p>consider these classes</p>\n<p>In another class I made an arraylist of <code>Book</code> class</p>\n<p>now I want to sort and print this arraylist based on <code>name</code> and then <code>author</code><br />\nbut I don't know what can I do</p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":24604535,"reputation":276,"user_id":18506922,"display_name":"Kemper Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649375060,"creation_date":1649375060,"answer_id":71790126,"question_id":71789988,"body_markdown":"I am not entirely sure what the whole question is asking, though I believe you can use something like this to get/order the numbers from the file name:\r\n\r\n        Scanner fileScanner = new Scanner(new File(&quot;its location&quot;));\r\n\t\t\r\n\t\t// create first/default\r\n\t\tint smallest = Integer.parseInt(\r\n\t\t\tfileScanner.nextLine().substring(0, 1));\r\n\t\t\r\n\t\twhile(fileScanner.hasNextLine())\r\n\t\t{\r\n\t\t\t// reads only the digit\r\n\t\t\tint next = Integer.parseInt(\r\n\t\t\t\tfileScanner.nextLine().substring(0, 1));\r\n\t\t\t// replaces the digit if it&#39;s smaller\r\n\t\t\tsmallest = (smallest &gt; next) ? next : smallest; \r\n\t\t}\r\n\r\nEmphasis that this is not a full solution as I am not quite sure what you are asking","title":"Order Sort Function Numerical and by Date","body":"<p>I am not entirely sure what the whole question is asking, though I believe you can use something like this to get/order the numbers from the file name:</p>\n<pre><code>    Scanner fileScanner = new Scanner(new File(&quot;its location&quot;));\n    \n    // create first/default\n    int smallest = Integer.parseInt(\n        fileScanner.nextLine().substring(0, 1));\n    \n    while(fileScanner.hasNextLine())\n    {\n        // reads only the digit\n        int next = Integer.parseInt(\n            fileScanner.nextLine().substring(0, 1));\n        // replaces the digit if it's smaller\n        smallest = (smallest &gt; next) ? next : smallest; \n    }\n</code></pre>\n<p>Emphasis that this is not a full solution as I am not quite sure what you are asking</p>\n"}],"owner":{"account_id":24866241,"reputation":5,"user_id":18741281,"display_name":"TheDoctor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649375060,"creation_date":1649373819,"question_id":71789988,"body_markdown":"function that sets a list of folders in numeric order and then return such list in order of date created.\r\n\r\n4_Lemur_Jason_20250814_Text\r\n\r\n3_Lemur_Jason_20221025_Text\r\n\r\n6_Lemur_Jason_20200510_Text   \r\n\r\n=\r\n\r\nfirst list in numeric order\r\n\r\n3_Lemur_Jason_20221025_Text\r\n\r\n4_Lemur_Jason_20250814_Text\r\n\r\n6_Lemur_Jason_20200510_Text\r\n\r\n=\r\n\r\nSecond list in date created\r\n\r\n6_Lemur_Jason_20200510_Text\r\n\r\n3_Lemur_Jason_20221025_Text\r\n\r\n4_Lemur_Jason_20250814_Text","title":"Order Sort Function Numerical and by Date","body":"<p>function that sets a list of folders in numeric order and then return such list in order of date created.</p>\n<p>4_Lemur_Jason_20250814_Text</p>\n<p>3_Lemur_Jason_20221025_Text</p>\n<p>6_Lemur_Jason_20200510_Text</p>\n<p>=</p>\n<p>first list in numeric order</p>\n<p>3_Lemur_Jason_20221025_Text</p>\n<p>4_Lemur_Jason_20250814_Text</p>\n<p>6_Lemur_Jason_20200510_Text</p>\n<p>=</p>\n<p>Second list in date created</p>\n<p>6_Lemur_Jason_20200510_Text</p>\n<p>3_Lemur_Jason_20221025_Text</p>\n<p>4_Lemur_Jason_20250814_Text</p>\n"},{"tags":["java","maven","junit","wiremock","macos-monterey"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649348755,"post_id":71785637,"comment_id":126858792,"body_markdown":"First show the error message..also add as much as possible information like JDK, Maven version, Maven Surefire plugin version, which testing framework? Example code ? How do you start the redis test server via testcontainers? ???","body":"First show the error message..also add as much as possible information like JDK, Maven version, Maven Surefire plugin version, which testing framework? Example code ? How do you start the redis test server via testcontainers? ???"},{"owner":{"account_id":5142474,"reputation":214,"user_id":4119378,"accept_rate":100,"display_name":"Stefan"},"score":0,"creation_date":1649349174,"post_id":71785637,"comment_id":126858954,"body_markdown":"Added some more info, thanks for the heads-up!","body":"Added some more info, thanks for the heads-up!"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649350748,"post_id":71785637,"comment_id":126859490,"body_markdown":"Is the `@Rule` JUnit 4 base or JUnit 5 ? please show the full code including the imports etc...","body":"Is the <code>@Rule</code> JUnit 4 base or JUnit 5 ? please show the full code including the imports etc..."}],"answers":[{"tags":[],"owner":{"account_id":5142474,"reputation":214,"user_id":4119378,"accept_rate":100,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649374030,"creation_date":1649374030,"answer_id":71790014,"question_id":71785637,"body_markdown":"Looks like this self-resolved by reinstalling Maven through `brew`. However, it also updated from 3.8.3 to 3.8.5 - so not entirely sure whether it was the upgrade or the reinstall. Regardless, it&#39;s fixed, yay!","title":"Java tests failing when running through Maven on MacOS Monterey","body":"<p>Looks like this self-resolved by reinstalling Maven through <code>brew</code>. However, it also updated from 3.8.3 to 3.8.5 - so not entirely sure whether it was the upgrade or the reinstall. Regardless, it's fixed, yay!</p>\n"}],"owner":{"account_id":5142474,"reputation":214,"user_id":4119378,"accept_rate":100,"display_name":"Stefan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71790014,"answer_count":1,"score":0,"last_activity_date":1649374030,"creation_date":1649348158,"question_id":71785637,"body_markdown":"I’m currently seeing an issue with my Java 8/Kotlin unit tests while executing them with Maven. This started happening after upgrading to MacOS Monterey. The tests run fine through IntelliJ.\r\n\r\nOne thing the tests have in common is, that they open ports/start a service.\r\n\r\nIn one instance, I’m trying to start a Redis test server on localhost and in a different one I’m opening a random port on localhost (via a wire mock rule). \r\n\r\nHas anybody seen this issue before, it seems to solely affect Monterey - I assume I have to somehow grant Maven more permissions?!\r\n\r\nAny help is appreciated.\r\n\r\n\r\n\r\nEdit: Here some more info.\r\n\r\nError message (using redis.embedded.RedisServer):\r\n```\r\n[ERROR] Errors: \r\n[ERROR]   RedisCacheServiceTest &#187; RedisConnection Unable to connect to Redis server: 127...\r\n```\r\n\r\nCode piece for this:\r\n```\r\nredisServer = RedisServer(REDIS_PORT)\r\nredisServer.start()\r\nval config = Config().apply {\r\n    useSingleServer().address = &quot;redis://127.0.0.1:$REDIS_PORT&quot;\r\n}\r\nredissonClient = Redisson.create(config)\r\n```\r\n\r\nand a failed assertion on the other (runs fine on other MacOS versions): \r\n```\r\nresponse.statusCode().is2xxSuccessful -&gt; false\r\n```\r\n\r\nCode piece:\r\n```\r\n    @Rule\r\n    @JvmField\r\n    var rule = WireMockRule(Options.DYNAMIC_PORT)\r\n    lateinit var uri: URI\r\n```\r\n\r\nMaven version: 3.8.3\r\n\r\nTesting framework: jUnit5 (Jupiter)","title":"Java tests failing when running through Maven on MacOS Monterey","body":"<p>I’m currently seeing an issue with my Java 8/Kotlin unit tests while executing them with Maven. This started happening after upgrading to MacOS Monterey. The tests run fine through IntelliJ.</p>\n<p>One thing the tests have in common is, that they open ports/start a service.</p>\n<p>In one instance, I’m trying to start a Redis test server on localhost and in a different one I’m opening a random port on localhost (via a wire mock rule).</p>\n<p>Has anybody seen this issue before, it seems to solely affect Monterey - I assume I have to somehow grant Maven more permissions?!</p>\n<p>Any help is appreciated.</p>\n<p>Edit: Here some more info.</p>\n<p>Error message (using redis.embedded.RedisServer):</p>\n<pre><code>[ERROR] Errors: \n[ERROR]   RedisCacheServiceTest » RedisConnection Unable to connect to Redis server: 127...\n</code></pre>\n<p>Code piece for this:</p>\n<pre><code>redisServer = RedisServer(REDIS_PORT)\nredisServer.start()\nval config = Config().apply {\n    useSingleServer().address = &quot;redis://127.0.0.1:$REDIS_PORT&quot;\n}\nredissonClient = Redisson.create(config)\n</code></pre>\n<p>and a failed assertion on the other (runs fine on other MacOS versions):</p>\n<pre><code>response.statusCode().is2xxSuccessful -&gt; false\n</code></pre>\n<p>Code piece:</p>\n<pre><code>    @Rule\n    @JvmField\n    var rule = WireMockRule(Options.DYNAMIC_PORT)\n    lateinit var uri: URI\n</code></pre>\n<p>Maven version: 3.8.3</p>\n<p>Testing framework: jUnit5 (Jupiter)</p>\n"},{"tags":["java","hadoop","apache-nifi"],"comments":[{"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"score":0,"creation_date":1482307103,"post_id":41257129,"comment_id":69715729,"body_markdown":"Fixed code indentation","body":"Fixed code indentation"},{"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"score":1,"creation_date":1482307158,"post_id":41257129,"comment_id":69715758,"body_markdown":"What is your question, please? &quot;I&#39;m getting an error&quot; is not a question.","body":"What is your question, please? &quot;I&#39;m getting an error&quot; is not a question."},{"owner":{"account_id":7492593,"reputation":3428,"user_id":5693776,"accept_rate":93,"display_name":"Mister X"},"score":0,"creation_date":1482311075,"post_id":41257129,"comment_id":69717894,"body_markdown":"Sankay,Are you faced that error while run run-nifi.bat ?","body":"Sankay,Are you faced that error while run run-nifi.bat ?"},{"owner":{"account_id":8207399,"reputation":204,"user_id":6176694,"accept_rate":17,"display_name":"The Joker"},"score":0,"creation_date":1482311138,"post_id":41257129,"comment_id":69717927,"body_markdown":"Nifi is not starting. when I run ./nifi.sh status it gives the error like, org.apache.nifi.bootstrap.Command Apache NiFi is not runnin","body":"Nifi is not starting. when I run ./nifi.sh status it gives the error like, org.apache.nifi.bootstrap.Command Apache NiFi is not runnin"},{"owner":{"account_id":8207399,"reputation":204,"user_id":6176694,"accept_rate":17,"display_name":"The Joker"},"score":0,"creation_date":1482311289,"post_id":41257129,"comment_id":69718013,"body_markdown":"./run-nifi.bat\n./run-nifi.bat: line 1: @echo: command not found\n: command not founde 2: rem\n./run-nifi.bat: line 3: syntax error near unexpected token `(&#39;\n./run-nifi.bat: line 3: `rem    Licensed to the Apache Software Foundation (ASF) under one or m&#39;re","body":"./run-nifi.bat ./run-nifi.bat: line 1: @echo: command not found : command not founde 2: rem ./run-nifi.bat: line 3: syntax error near unexpected token <code>(&#39; .&#47;run-nifi.bat: line 3: </code>rem    Licensed to the Apache Software Foundation (ASF) under one or m&#39;re"},{"owner":{"account_id":477405,"reputation":746,"user_id":888876,"accept_rate":100,"display_name":"Andre de Miranda"},"score":0,"creation_date":1486813876,"post_id":41257129,"comment_id":71514559,"body_markdown":"./nifi.sh status is just telling you NiFi isn&#39;t running. Have you tried running ./nifi.sh start ?","body":"./nifi.sh status is just telling you NiFi isn&#39;t running. Have you tried running ./nifi.sh start ?"},{"owner":{"account_id":2053218,"reputation":495,"user_id":1831706,"display_name":"driven_spider"},"score":0,"creation_date":1550086371,"post_id":41257129,"comment_id":96145077,"body_markdown":"which version of NIFI are you all using? i cant run ./nifi.sh start/stop/status. I get this error  Error: Could not find or load main class org.apache.nifi.bootstrap.RunNiFi","body":"which version of NIFI are you all using? i cant run ./nifi.sh start/stop/status. I get this error  Error: Could not find or load main class org.apache.nifi.bootstrap.RunNiFi"}],"answers":[{"tags":[],"owner":{"account_id":10085604,"reputation":250,"user_id":7454332,"display_name":"khushbu kanojia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493663171,"creation_date":1493663171,"answer_id":43724308,"question_id":41257129,"body_markdown":"Go to the nifi folder and check under bin folder nifi.sh is there or not and run below command in linux because you are running on linux machine not windows so don&#39;t run batch file here.\r\n\r\nbin/nifi.sh start\r\n\r\nbin/nifi.sh status\r\n\r\nbin/nifi.sh stop.\r\n\r\n\r\n","title":"org.apache.nifi.bootstrap.Command Apache NiFi is not running","body":"<p>Go to the nifi folder and check under bin folder nifi.sh is there or not and run below command in linux because you are running on linux machine not windows so don't run batch file here.</p>\n\n<p>bin/nifi.sh start</p>\n\n<p>bin/nifi.sh status</p>\n\n<p>bin/nifi.sh stop.</p>\n"},{"tags":[],"owner":{"account_id":12262745,"reputation":230,"user_id":8949973,"display_name":"Onur Tekir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539263253,"creation_date":1539263253,"answer_id":52760854,"question_id":41257129,"body_markdown":"Check and kill running processes which are already using same port with Nifi.","title":"org.apache.nifi.bootstrap.Command Apache NiFi is not running","body":"<p>Check and kill running processes which are already using same port with Nifi.</p>\n"},{"tags":[],"owner":{"account_id":131953,"reputation":2786,"user_id":332348,"display_name":"echo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557201262,"creation_date":1557201262,"answer_id":56015321,"question_id":41257129,"body_markdown":"for me, using openjdk 8 instead of 9 works.","title":"org.apache.nifi.bootstrap.Command Apache NiFi is not running","body":"<p>for me, using openjdk 8 instead of 9 works.</p>\n"},{"tags":[],"owner":{"account_id":16942180,"reputation":66,"user_id":12253787,"display_name":"Juan Paco Hernandez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649373986,"creation_date":1649373986,"answer_id":71790011,"question_id":41257129,"body_markdown":"Maybe you need to restart your CPU after unzip the downloaded file and run it for a first time, I had the same issue","title":"org.apache.nifi.bootstrap.Command Apache NiFi is not running","body":"<p>Maybe you need to restart your CPU after unzip the downloaded file and run it for a first time, I had the same issue</p>\n"}],"owner":{"account_id":8207399,"reputation":204,"user_id":6176694,"accept_rate":17,"display_name":"The Joker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1649373986,"creation_date":1482304635,"question_id":41257129,"body_markdown":"Nifi is not starting.\r\nWhen I run `./nifi.sh status`\r\nit gives the error like,\r\n&gt;org.apache.nifi.bootstrap.Command Apache NiFi is not running\r\n\r\nI am getting below error in log nifi-app.log file:\r\n\r\n    2016-12-21 11:54:30,653 INFO [main] o.a.nifi.properties.NiFiPropertiesLoader Determined default nifi.properties path to be &#39;/root/HDF-2.0.0.0/nifi/./conf/nifi.properties&#39;\r\n    2016-12-21 11:54:30,663 INFO [main] o.a.nifi.properties.NiFiPropertiesLoader Loaded 121 properties from /root/HDF-2.0.0.0/nifi/./conf/nifi.properties\r\n    2016-12-21 11:54:30,674 INFO [main] org.apache.nifi.NiFi Loaded 121 properties\r\n    2016-12-21 11:54:30,681 INFO [main] org.apache.nifi.BootstrapListener Started Bootstrap Listener, Listening for incoming requests on port 39604\r\n    2016-12-21 11:54:30,692 ERROR [main] org.apache.nifi.NiFi Failure to launch NiFi due to java.net.ConnectException: Connection refused\r\n    java.net.ConnectException: Connection refused\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_101]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_101]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_101]\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_101]\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_101]\r\n        at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_101]\r\n        at java.net.Socket.connect(Socket.java:538) ~[na:1.8.0_101]\r\n        at org.apache.nifi.BootstrapListener.sendCommand(BootstrapListener.java:100) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\r\n        at org.apache.nifi.BootstrapListener.start(BootstrapListener.java:83) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\r\n        at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:102) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\r\n        at org.apache.nifi.NiFi.main(NiFi.java:262) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\r\n    2016-12-21 11:54:30,694 INFO [Thread-1] org.apache.nifi.NiFi Initiating shutdown of Jetty web server...\r\n    2016-12-21 11:54:30,695 INFO [Thread-1] org.apache.nifi.NiFi Jetty web server shutdown completed (nicely or otherwise).\r\n    2016-12-21 11:57:07,288 INFO [main] org.apache.nifi.NiFi Launching NiFi...","title":"org.apache.nifi.bootstrap.Command Apache NiFi is not running","body":"<p>Nifi is not starting.\nWhen I run <code>./nifi.sh status</code>\nit gives the error like,</p>\n\n<blockquote>\n  <p>org.apache.nifi.bootstrap.Command Apache NiFi is not running</p>\n</blockquote>\n\n<p>I am getting below error in log nifi-app.log file:</p>\n\n<pre><code>2016-12-21 11:54:30,653 INFO [main] o.a.nifi.properties.NiFiPropertiesLoader Determined default nifi.properties path to be '/root/HDF-2.0.0.0/nifi/./conf/nifi.properties'\n2016-12-21 11:54:30,663 INFO [main] o.a.nifi.properties.NiFiPropertiesLoader Loaded 121 properties from /root/HDF-2.0.0.0/nifi/./conf/nifi.properties\n2016-12-21 11:54:30,674 INFO [main] org.apache.nifi.NiFi Loaded 121 properties\n2016-12-21 11:54:30,681 INFO [main] org.apache.nifi.BootstrapListener Started Bootstrap Listener, Listening for incoming requests on port 39604\n2016-12-21 11:54:30,692 ERROR [main] org.apache.nifi.NiFi Failure to launch NiFi due to java.net.ConnectException: Connection refused\njava.net.ConnectException: Connection refused\n    at java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_101]\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_101]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_101]\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_101]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_101]\n    at java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_101]\n    at java.net.Socket.connect(Socket.java:538) ~[na:1.8.0_101]\n    at org.apache.nifi.BootstrapListener.sendCommand(BootstrapListener.java:100) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\n    at org.apache.nifi.BootstrapListener.start(BootstrapListener.java:83) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\n    at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:102) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\n    at org.apache.nifi.NiFi.main(NiFi.java:262) ~[nifi-runtime-1.1.0.2.1.1.0-2.jar:1.1.0.2.1.1.0-2]\n2016-12-21 11:54:30,694 INFO [Thread-1] org.apache.nifi.NiFi Initiating shutdown of Jetty web server...\n2016-12-21 11:54:30,695 INFO [Thread-1] org.apache.nifi.NiFi Jetty web server shutdown completed (nicely or otherwise).\n2016-12-21 11:57:07,288 INFO [main] org.apache.nifi.NiFi Launching NiFi...\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":4930762,"reputation":1103,"user_id":3970630,"accept_rate":75,"display_name":"Ric17101"},"score":0,"creation_date":1649381040,"post_id":71789880,"comment_id":126866987,"body_markdown":"change &quot;socks&quot; after adding another, it will only add to the same key on the hash map","body":"change &quot;socks&quot; after adding another, it will only add to the same key on the hash map"}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649373822,"creation_date":1649373822,"answer_id":71789989,"question_id":71789880,"body_markdown":"You can try this, it also manages the case when *socks* don&#39;t exist:\r\n```\r\n    private HashMap &lt;String,Integer&gt; items = new HashMap&lt;String,Integer&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        Test test = new Test();\r\n        test.addItem(&quot;socks&quot;, 100);\r\n        test.addItem(&quot;socks&quot;, 200);\r\n    }\r\n\r\n    public void addItem(String itemName,int numItemAdd) {\r\n        items.put(itemName,items.get(itemName) != null ? (items.get(itemName) + numItemAdd) : numItemAdd);\r\n        System.out.println(&quot;Socks value:&quot; + items.get(itemName));\r\n    }\r\n```","title":"HashMap - Adding a value to a specific item","body":"<p>You can try this, it also manages the case when <em>socks</em> don't exist:</p>\n<pre><code>    private HashMap &lt;String,Integer&gt; items = new HashMap&lt;String,Integer&gt;();\n\n    public static void main(String[] args) {\n        Test test = new Test();\n        test.addItem(&quot;socks&quot;, 100);\n        test.addItem(&quot;socks&quot;, 200);\n    }\n\n    public void addItem(String itemName,int numItemAdd) {\n        items.put(itemName,items.get(itemName) != null ? (items.get(itemName) + numItemAdd) : numItemAdd);\n        System.out.println(&quot;Socks value:&quot; + items.get(itemName));\n    }\n</code></pre>\n"}],"owner":{"account_id":24559748,"reputation":1,"user_id":18467701,"display_name":"ZDrop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649588580,"answer_count":1,"score":0,"last_activity_date":1649373822,"creation_date":1649372717,"question_id":71789880,"body_markdown":"\tpublic void addItem(String itemName,int numItemAdd) {\r\n\r\n        HashMap &lt;String,Integer&gt; items = new HashMap&lt;String,Integer&gt;();\r\n\t\t\t\t\r\n\t\tint totalval;\r\n\t\t\r\n\t\ttotalval =+ numItemAdd;\r\n\t\t\r\n\t\titems.put(itemName,totalval);\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\nI am new to HashMaps. I am wanting to add the integers to the specific itemName. For example, addItem(&quot;socks&quot;,100); addItem(&quot;socks&quot;,200). Whenever I do this, instead of getting 300 I only get 200. I know that put() replaces the last value used, but I do not know how to add the numbers so that I can get 300 instead of having the last value used.  ","title":"HashMap - Adding a value to a specific item","body":"<pre><code>public void addItem(String itemName,int numItemAdd) {\n\n    HashMap &lt;String,Integer&gt; items = new HashMap&lt;String,Integer&gt;();\n            \n    int totalval;\n    \n    totalval =+ numItemAdd;\n    \n    items.put(itemName,totalval);\n    \n}\n</code></pre>\n<p>I am new to HashMaps. I am wanting to add the integers to the specific itemName. For example, addItem(&quot;socks&quot;,100); addItem(&quot;socks&quot;,200). Whenever I do this, instead of getting 300 I only get 200. I know that put() replaces the last value used, but I do not know how to add the numbers so that I can get 300 instead of having the last value used.</p>\n"},{"tags":["java","async-profiler"],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649373504,"creation_date":1649373504,"answer_id":71789957,"question_id":71780342,"body_markdown":"Since version 2.0, released more than a year ago, async-profiler no longer generates `svg` output. It now creates Flame Graphs on HTML 5 Canvas. Such graphs are smaller in size and a [way more responsive](https://twitter.com/AndreiPangin/status/1292994175403790337) comparing to `svg`.\r\n\r\nAs to merging, it is much easier with another format supported by async profiler - collapsed stacks. Use `-o collapsed` profiler option to dump output in that format.\r\nThen, to merge profiles in `collapsed` format, just concatenate the corresponding output files.\r\n\r\nA flame graph can be constructed from `collapsed` output with a [converter](https://github.com/jvm-profiling-tools/async-profiler/releases/download/v2.7/converter.jar) included in async-profiler package. Here is how to do it:\r\n```\r\njava -cp converter.jar FlameGraph input.collapsed output.html\r\n```","title":"How to merge *.svg files created by java async profiler?","body":"<p>Since version 2.0, released more than a year ago, async-profiler no longer generates <code>svg</code> output. It now creates Flame Graphs on HTML 5 Canvas. Such graphs are smaller in size and a <a href=\"https://twitter.com/AndreiPangin/status/1292994175403790337\" rel=\"nofollow noreferrer\">way more responsive</a> comparing to <code>svg</code>.</p>\n<p>As to merging, it is much easier with another format supported by async profiler - collapsed stacks. Use <code>-o collapsed</code> profiler option to dump output in that format.\nThen, to merge profiles in <code>collapsed</code> format, just concatenate the corresponding output files.</p>\n<p>A flame graph can be constructed from <code>collapsed</code> output with a <a href=\"https://github.com/jvm-profiling-tools/async-profiler/releases/download/v2.7/converter.jar\" rel=\"nofollow noreferrer\">converter</a> included in async-profiler package. Here is how to do it:</p>\n<pre><code>java -cp converter.jar FlameGraph input.collapsed output.html\n</code></pre>\n"}],"owner":{"account_id":1075288,"reputation":1201,"user_id":1073584,"accept_rate":0,"display_name":"ludenus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649373504,"creation_date":1649326719,"question_id":71780342,"body_markdown":"I am using [kubectl-flame][1] to run [async-profiler][2] on k8s pods. \r\n\r\nWhen profiling a microservice that runs multiple replicas - I have a separate *.svg flamegraph for each pod.\r\n \r\nQUESTION: Is there a way to merge those *.svg files into one graph?\r\n\r\n\r\n  [1]: https://github.com/yahoo/kubectl-flame\r\n  [2]: https://github.com/jvm-profiling-tools/async-profiler","title":"How to merge *.svg files created by java async profiler?","body":"<p>I am using <a href=\"https://github.com/yahoo/kubectl-flame\" rel=\"nofollow noreferrer\">kubectl-flame</a> to run <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"nofollow noreferrer\">async-profiler</a> on k8s pods.</p>\n<p>When profiling a microservice that runs multiple replicas - I have a separate *.svg flamegraph for each pod.</p>\n<p>QUESTION: Is there a way to merge those *.svg files into one graph?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1330557924,"creation_date":1330557924,"answer_id":9508303,"question_id":9508272,"body_markdown":"You use an [Executor][1], the implementation of which handles a pool of threads, decides how many, and so forth. See [the Java tutorial][2] for lots of examples.\r\n\r\nIn general, bare threads aren’t used in Java except for very simple things. Instead, there will be some higher-level API that receives your Runnable or Task and knows what to do.\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n[2]: http://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html","title":"Trouble understanding Java threads","body":"<p>You use an <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"noreferrer\">Executor</a>, the implementation of which handles a pool of threads, decides how many, and so forth. See <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html\" rel=\"noreferrer\">the Java tutorial</a> for lots of examples.</p>\n\n<p>In general, bare threads aren’t used in Java except for very simple things. Instead, there will be some higher-level API that receives your Runnable or Task and knows what to do.</p>\n"},{"tags":[],"owner":{"account_id":1001868,"reputation":612,"user_id":1016547,"accept_rate":88,"display_name":"Yann Le Moigne"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330558100,"creation_date":1330558100,"answer_id":9508328,"question_id":9508272,"body_markdown":"Thread is a &quot;low level&quot; API.\r\n\r\nDepending on what you want to do, and the version of java you use, their is better solution.\r\nIf you use Java 7, and if your task allow it, you can use the fork/join framework : http://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\r\n\r\nHowever, take a look at the java concurrency tutorial : http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html","title":"Trouble understanding Java threads","body":"<p>Thread is a \"low level\" API.</p>\n\n<p>Depending on what you want to do, and the version of java you use, their is better solution.\nIf you use Java 7, and if your task allow it, you can use the fork/join framework : <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html</a></p>\n\n<p>However, take a look at the java concurrency tutorial : <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/essential/concurrency/executors.html</a></p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1330560027,"creation_date":1330558111,"answer_id":9508331,"question_id":9508272,"body_markdown":"Take a look at the Java [Executor][1] API. See this [article][2], for example.\r\n\r\nAlthough creating Threads is much &#39;cheaper&#39; than it used to be, creating large numbers of threads (one per runnable as in your example) isn&#39;t the way to go - there&#39;s still an overhead in creating them, and you&#39;ll end up with too much context switching. \r\n\r\nThe Executor API allows you to create various types of thread pool for executing Runnable tasks, so you can reuse threads, flexibly manage the number that are created, and avoid the overhead of thread-per-runnable.\r\n\r\nThe Java threading model and the Python _threading_ model (not multiprocessing) are really quite similar, incidentally. There isn&#39;t a Global Interpreter Lock as in Python, so there&#39;s usually less need to fork off multiple processes.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\r\n  [2]: http://www.baptiste-wicht.com/2010/09/java-concurrency-part-7-executors-and-thread-pools/","title":"Trouble understanding Java threads","body":"<p>Take a look at the Java <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow\">Executor</a> API. See this <a href=\"http://www.baptiste-wicht.com/2010/09/java-concurrency-part-7-executors-and-thread-pools/\" rel=\"nofollow\">article</a>, for example.</p>\n\n<p>Although creating Threads is much 'cheaper' than it used to be, creating large numbers of threads (one per runnable as in your example) isn't the way to go - there's still an overhead in creating them, and you'll end up with too much context switching. </p>\n\n<p>The Executor API allows you to create various types of thread pool for executing Runnable tasks, so you can reuse threads, flexibly manage the number that are created, and avoid the overhead of thread-per-runnable.</p>\n\n<p>The Java threading model and the Python <em>threading</em> model (not multiprocessing) are really quite similar, incidentally. There isn't a Global Interpreter Lock as in Python, so there's usually less need to fork off multiple processes.</p>\n"}],"owner":{"account_id":321625,"reputation":25233,"user_id":640558,"accept_rate":97,"display_name":"Lostsoul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":9508331,"answer_count":3,"score":1,"last_activity_date":1649373327,"creation_date":1330557766,"question_id":9508272,"body_markdown":"I learned about multiprocessing from Python and I&#39;m having a bit of trouble understanding Java&#39;s approach.  In Python, I can say I want a pool of 4 processes and then send a bunch of work to my program and it&#39;ll work on 4 items at a time.  I realized, with Java, I need to use threads to achieve this same task and it seems to be working really really well so far.  \r\n\r\nBut.. unlike in Python, my cpu(s) aren&#39;t getting 100% utilization (they are about 70-80%) and I suspect it&#39;s the way I&#39;m creating threads (code is the same between Python/Java and processes are independent). In Java, I&#39;m not sure how to create one thread so I create a thread for every item in a list I want to process, like this:\r\n\r\n\t\tfor (int i = 0; i &lt; 500; i++) {\r\n\t\t\tRunnable task = new MyRunnable(10000000L + i);\r\n\t\t\tThread worker = new Thread(task);\r\n\t\t\t// We can set the name of the thread\r\n\t\t\tworker.setName(String.valueOf(i));\r\n\t\t\t// Start the thread, never call method run() direct\r\n\t\t\tworker.start();\r\n\t\t\t// Remember the thread for later usage\r\n\t\t\tthreads.add(worker);\r\n\t\t}\r\nI took it from [here][1]. My question is this the correct way to launch threads or is there a way to have Java itself manage the number of threads so it&#39;s optimal? I want my code to run as fast as possible and I&#39;m trying to understand how to tell and resolve any issues that maybe arising from too many threads being created.\r\n\r\nThis is not a major issue, just curious to how it works under the Java hood.\r\n\r\n  [1]: http://www.vogella.de/articles/JavaConcurrency/article.html#threads","title":"Trouble understanding Java threads","body":"<p>I learned about multiprocessing from Python and I'm having a bit of trouble understanding Java's approach.  In Python, I can say I want a pool of 4 processes and then send a bunch of work to my program and it'll work on 4 items at a time.  I realized, with Java, I need to use threads to achieve this same task and it seems to be working really really well so far.</p>\n<p>But.. unlike in Python, my cpu(s) aren't getting 100% utilization (they are about 70-80%) and I suspect it's the way I'm creating threads (code is the same between Python/Java and processes are independent). In Java, I'm not sure how to create one thread so I create a thread for every item in a list I want to process, like this:</p>\n<pre><code>    for (int i = 0; i &lt; 500; i++) {\n        Runnable task = new MyRunnable(10000000L + i);\n        Thread worker = new Thread(task);\n        // We can set the name of the thread\n        worker.setName(String.valueOf(i));\n        // Start the thread, never call method run() direct\n        worker.start();\n        // Remember the thread for later usage\n        threads.add(worker);\n    }\n</code></pre>\n<p>I took it from <a href=\"http://www.vogella.de/articles/JavaConcurrency/article.html#threads\" rel=\"nofollow noreferrer\">here</a>. My question is this the correct way to launch threads or is there a way to have Java itself manage the number of threads so it's optimal? I want my code to run as fast as possible and I'm trying to understand how to tell and resolve any issues that maybe arising from too many threads being created.</p>\n<p>This is not a major issue, just curious to how it works under the Java hood.</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":23841572,"reputation":335,"user_id":17846561,"display_name":"mpdgr"},"score":0,"creation_date":1649375245,"post_id":71789932,"comment_id":126866069,"body_markdown":"https://stackoverflow.com/questions/3383726/java-declaring-from-interface-type-instead-of-class","body":"<a href=\"https://stackoverflow.com/questions/3383726/java-declaring-from-interface-type-instead-of-class\" title=\"java declaring from interface type instead of class\">stackoverflow.com/questions/3383726/&hellip;</a>"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1649378264,"post_id":71789932,"comment_id":126866553,"body_markdown":"When you wrote `interfaceExample d=new A();`, you told Java to forget that `d` was anything but an `interfaceExample`.  Java listened.  Java forgot that `d` was anything but an `interfaceExample`.","body":"When you wrote <code>interfaceExample d=new A();</code>, you told Java to forget that <code>d</code> was anything but an <code>interfaceExample</code>.  Java listened.  Java forgot that <code>d</code> was anything but an <code>interfaceExample</code>."}],"owner":{"account_id":18028478,"reputation":3,"user_id":13103776,"display_name":"yesf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649589044,"answer_count":0,"score":0,"last_activity_date":1649373214,"creation_date":1649373214,"question_id":71789932,"body_markdown":"Why cant we access the `method2`? I mean d is instance of A or am i wrong?\r\n\r\n   \r\n\r\n    public class MainPage {\r\n        \tpublic static void main(String[] args) {\r\n        \t\t\t\r\n        \t\tinterfaceExample d=new A();\r\n        \t\td.method1();\r\n                //d.method2(); this is not accessible why?\r\n        \r\n        \t\t\t\r\n        \t}\r\n        \t\t\r\n        }\r\n        \r\n        interface interfaceExample{\r\n        \tvoid method1();\r\n        }\r\n        class A implements interfaceExample{\r\n        \r\n        \t@Override\r\n        \tpublic void method1() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\t\r\n        \t}\r\n        \tpublic void method2() {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\t\r\n        \t}\r\n        \t\r\n        }\r\n\r\n\r\n","title":"why cant we access the method2-interface","body":"<p>Why cant we access the <code>method2</code>? I mean d is instance of A or am i wrong?</p>\n<pre><code>public class MainPage {\n        public static void main(String[] args) {\n                \n            interfaceExample d=new A();\n            d.method1();\n            //d.method2(); this is not accessible why?\n    \n                \n        }\n            \n    }\n    \n    interface interfaceExample{\n        void method1();\n    }\n    class A implements interfaceExample{\n    \n        @Override\n        public void method1() {\n            // TODO Auto-generated method stub\n            \n        }\n        public void method2() {\n            // TODO Auto-generated method stub\n            \n        }\n        \n    }\n</code></pre>\n"},{"tags":["java","jackson","annotations"],"answers":[{"tags":[],"owner":{"account_id":11833656,"reputation":126,"user_id":8659643,"display_name":"saiba sheikh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645718248,"creation_date":1645718248,"answer_id":71254794,"question_id":71253673,"body_markdown":"Instead of overriding method `hasIgnoreMarker` in `NologIntrospector`. You need to override `findSerializer`.\r\nThis way when your introspector  is enabled the custom serializer will be used else it will use the original serializer.\r\n```\r\npublic class NologIntrospector extends JacksonAnnotationIntrospector {\r\n    @Override\r\n    public Object findSerializer(Annotated ann){\r\n        if (ann.hasAnnotation(NoLog.class)) {\r\n            return MaskSensitiveDataSerializer.class;\r\n        }\r\n        return super.findSerializer(ann);\r\n    }\r\n}\r\n```","title":"How to conditionally serialize a field","body":"<p>Instead of overriding method <code>hasIgnoreMarker</code> in <code>NologIntrospector</code>. You need to override <code>findSerializer</code>.\nThis way when your introspector  is enabled the custom serializer will be used else it will use the original serializer.</p>\n<pre><code>public class NologIntrospector extends JacksonAnnotationIntrospector {\n    @Override\n    public Object findSerializer(Annotated ann){\n        if (ann.hasAnnotation(NoLog.class)) {\n            return MaskSensitiveDataSerializer.class;\n        }\n        return super.findSerializer(ann);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71254794,"answer_count":1,"score":1,"last_activity_date":1649373112,"creation_date":1645713642,"question_id":71253673,"body_markdown":"I want to conditionally serialize a field.  I figured out how to conditionally ignore a field with\r\n\r\n```\r\npublic class NologIntrospector extends JacksonAnnotationIntrospector {\r\n    @Override\r\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\r\n        boolean noLogOnClass = m.getDeclaringClass().getAnnotation(NoLog.class) != null;\r\n        return m.hasAnnotation(NoLog.class) || super.hasIgnoreMarker(m) || noLogOnClass;\r\n    }\r\n}\r\n```\r\n\r\nBut what I really want to do is to redact the field.  So if I have\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class MyObject1 {\r\n    public String field1 = &quot;field1&quot;;\r\n    @NoLog\r\n    public String field2 = &quot;field2&quot;;\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        final ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.setAnnotationIntrospector(new NologIntrospector());\r\n        final MyObject1 myObject1 = new MyObject1();\r\n        System.out.println(objectMapper.writeValueAsString(myObject1));\r\n    }\r\n}\r\n```\r\n\r\nI get\r\n```\r\n{&quot;field1&quot;:&quot;field1&quot;}\r\n```\r\n\r\nField2 is correctly ignored.  But what I really want is \r\n\r\n```\r\n{&quot;field1&quot;:&quot;field1&quot;, &quot;field2&quot;: &quot;&lt;***redacted***&gt;&quot;}\r\n```\r\n\r\nI have another annotation, `@MaskSensitiveData`\r\n```\r\n@Target({ElementType.FIELD, ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@JacksonAnnotationsInside\r\n@JsonSerialize(using = MaskSensitiveDataSerializer.class)\r\npublic @interface MaskSensitiveData {\r\n}\r\n\r\npublic class MaskSensitiveDataSerializer extends StdSerializer&lt;Object&gt; {\r\n\r\n    protected MaskSensitiveDataSerializer() {\r\n        this(null);\r\n    }\r\n\r\n    public MaskSensitiveDataSerializer(Class&lt;Object&gt; t) {\r\n        super(t);\r\n    }\r\n\r\n    @Override\r\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n        if (!(value instanceof  String)) {\r\n            throw new RuntimeException(&quot;MaskSensitiveData annotation is only valid for string&quot;);\r\n        }\r\n        gen.writeString(&quot;&lt;*** redacted ***&gt;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nSo what I want to do is combine them.  So if a field has the special annotation and I am using my introspector, only then, do I want to redact the field.  Otherwise, the field should be serialized normally.\r\n","title":"How to conditionally serialize a field","body":"<p>I want to conditionally serialize a field.  I figured out how to conditionally ignore a field with</p>\n<pre><code>public class NologIntrospector extends JacksonAnnotationIntrospector {\n    @Override\n    public boolean hasIgnoreMarker(AnnotatedMember m) {\n        boolean noLogOnClass = m.getDeclaringClass().getAnnotation(NoLog.class) != null;\n        return m.hasAnnotation(NoLog.class) || super.hasIgnoreMarker(m) || noLogOnClass;\n    }\n}\n</code></pre>\n<p>But what I really want to do is to redact the field.  So if I have</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class MyObject1 {\n    public String field1 = &quot;field1&quot;;\n    @NoLog\n    public String field2 = &quot;field2&quot;;\n\n    public static void main(String[] args) throws JsonProcessingException {\n        final ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.setAnnotationIntrospector(new NologIntrospector());\n        final MyObject1 myObject1 = new MyObject1();\n        System.out.println(objectMapper.writeValueAsString(myObject1));\n    }\n}\n</code></pre>\n<p>I get</p>\n<pre><code>{&quot;field1&quot;:&quot;field1&quot;}\n</code></pre>\n<p>Field2 is correctly ignored.  But what I really want is</p>\n<pre><code>{&quot;field1&quot;:&quot;field1&quot;, &quot;field2&quot;: &quot;&lt;***redacted***&gt;&quot;}\n</code></pre>\n<p>I have another annotation, <code>@MaskSensitiveData</code></p>\n<pre><code>@Target({ElementType.FIELD, ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\n@JacksonAnnotationsInside\n@JsonSerialize(using = MaskSensitiveDataSerializer.class)\npublic @interface MaskSensitiveData {\n}\n\npublic class MaskSensitiveDataSerializer extends StdSerializer&lt;Object&gt; {\n\n    protected MaskSensitiveDataSerializer() {\n        this(null);\n    }\n\n    public MaskSensitiveDataSerializer(Class&lt;Object&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(Object value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n        if (!(value instanceof  String)) {\n            throw new RuntimeException(&quot;MaskSensitiveData annotation is only valid for string&quot;);\n        }\n        gen.writeString(&quot;&lt;*** redacted ***&gt;&quot;);\n    }\n}\n</code></pre>\n<p>So what I want to do is combine them.  So if a field has the special annotation and I am using my introspector, only then, do I want to redact the field.  Otherwise, the field should be serialized normally.</p>\n"},{"tags":["java","android","android-fragments","fragment"],"answers":[{"tags":[],"owner":{"account_id":18179299,"reputation":27,"user_id":13227401,"display_name":"Mitch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649372518,"creation_date":1649372518,"answer_id":71789857,"question_id":71789801,"body_markdown":"Should have just passed the object as argument instead of the .class value, now it works perfectly.","title":"Android Studio Fragment with custom fragment class object","body":"<p>Should have just passed the object as argument instead of the .class value, now it works perfectly.</p>\n"}],"owner":{"account_id":18179299,"reputation":27,"user_id":13227401,"display_name":"Mitch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649372518,"creation_date":1649372082,"question_id":71789801,"body_markdown":"I just created a fragment in my app which consists of some controls. In principle, I want these controls to send their current data over a tcp client, which has a method `TcpClient::sendMessage` which relates to the tcp socket. The fragment itself consits of an interface, which is used to create a callback to the `MainActivity`, which holds the fragment.\r\nThis is how i attatch the fragment to my `MainActivity`:\r\n\r\n\r\n    FragmentControls fragmentControls = new FragmentControls((command, message) -&gt; tcp_client.sendMessage(command, message));\r\n    getSupportFragmentManager().beginTransaction()\r\n       .setReorderingAllowed(true)\r\n       .add(R.id.fragment_pi_connected, FragmentControls.class, null)\r\n       .commit();\r\n\r\nHow can i manage to create the Fragment with the initialized object `fragmentControls` in the first line, to implement the interface function? \r\n\r\nFor completeness, my Fragment class:\r\n\r\n    public class FragmentControls extends Fragment {\r\n        public CommandSendInterface commandSendInterface;\r\n    \r\n        public FragmentControls(CommandSendInterface sendCommandInterface) {\r\n            super(R.layout.maunal_pi_controls);\r\n            commandSendInterface = sendCommandInterface;\r\n        }\r\n    \r\n       // Some stuff that handles the View Objects in the Fragment and treats their events...\r\n    \r\n        public interface CommandSendInterface{\r\n            void onCommandSend(ServerCommands command, int message);\r\n        }\r\n    }","title":"Android Studio Fragment with custom fragment class object","body":"<p>I just created a fragment in my app which consists of some controls. In principle, I want these controls to send their current data over a tcp client, which has a method <code>TcpClient::sendMessage</code> which relates to the tcp socket. The fragment itself consits of an interface, which is used to create a callback to the <code>MainActivity</code>, which holds the fragment.\nThis is how i attatch the fragment to my <code>MainActivity</code>:</p>\n<pre><code>FragmentControls fragmentControls = new FragmentControls((command, message) -&gt; tcp_client.sendMessage(command, message));\ngetSupportFragmentManager().beginTransaction()\n   .setReorderingAllowed(true)\n   .add(R.id.fragment_pi_connected, FragmentControls.class, null)\n   .commit();\n</code></pre>\n<p>How can i manage to create the Fragment with the initialized object <code>fragmentControls</code> in the first line, to implement the interface function?</p>\n<p>For completeness, my Fragment class:</p>\n<pre><code>public class FragmentControls extends Fragment {\n    public CommandSendInterface commandSendInterface;\n\n    public FragmentControls(CommandSendInterface sendCommandInterface) {\n        super(R.layout.maunal_pi_controls);\n        commandSendInterface = sendCommandInterface;\n    }\n\n   // Some stuff that handles the View Objects in the Fragment and treats their events...\n\n    public interface CommandSendInterface{\n        void onCommandSend(ServerCommands command, int message);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","fragment"],"answers":[{"tags":[],"owner":{"account_id":1395849,"reputation":519,"user_id":1325615,"accept_rate":60,"display_name":"Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649372514,"creation_date":1649372514,"answer_id":71789856,"question_id":71788428,"body_markdown":"Hello create a method like this\r\n\r\n    public void replaceFragment(Fragment fragment, String newid, String oldId, int resId) {\r\n        \r\n        getFragmentManager()\r\n                .beginTransaction()\r\n                .replace(resId, fragment, newid)\r\n                .addToBackStack(oldId)\r\n                .commit();\r\n    }","title":"Navigating from one fragment via another via onClick, android","body":"<p>Hello create a method like this</p>\n<pre><code>public void replaceFragment(Fragment fragment, String newid, String oldId, int resId) {\n    \n    getFragmentManager()\n            .beginTransaction()\n            .replace(resId, fragment, newid)\n            .addToBackStack(oldId)\n            .commit();\n}\n</code></pre>\n"}],"owner":{"account_id":24865038,"reputation":1,"user_id":18740250,"display_name":"user18740250"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649372514,"creation_date":1649362623,"question_id":71788428,"body_markdown":"How do you navigate from one fragment to another, where one fragment extends the other? I want to navigate from the child fragment to the parent fragment via a button. Since the child fragment inherits from the parent fragment, they use the same onCreate method, and therefore also inflating the same view. I have tried to use replace, but I&#39;m not able to find the id of the fragment that should be replaced.\r\n\r\n\r\n     Button button = new Button(getActivity());\r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Fragment fragment = new ListFragment();\r\n                    FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\r\n                    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n                    fragmentTransaction.replace(id,fragment);\r\n                    fragmentTransaction.addToBackStack(null);\r\n                    fragmentTransaction.commit();\r\n                }\r\n            });\r\n\r\n","title":"Navigating from one fragment via another via onClick, android","body":"<p>How do you navigate from one fragment to another, where one fragment extends the other? I want to navigate from the child fragment to the parent fragment via a button. Since the child fragment inherits from the parent fragment, they use the same onCreate method, and therefore also inflating the same view. I have tried to use replace, but I'm not able to find the id of the fragment that should be replaced.</p>\n<pre><code> Button button = new Button(getActivity());\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Fragment fragment = new ListFragment();\n                FragmentManager fragmentManager = getActivity().getSupportFragmentManager();\n                FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n                fragmentTransaction.replace(id,fragment);\n                fragmentTransaction.addToBackStack(null);\n                fragmentTransaction.commit();\n            }\n        });\n</code></pre>\n"},{"tags":["java","mule","mule4"],"comments":[{"owner":{"account_id":1716998,"reputation":11546,"user_id":1573861,"display_name":"Ryan Carter"},"score":0,"creation_date":1554214723,"post_id":55476323,"comment_id":97664325,"body_markdown":"The problem is your example is giving empty values for the fields so there is an empty line to output","body":"The problem is your example is giving empty values for the fields so there is an empty line to output"}],"answers":[{"tags":[],"owner":{"account_id":9243229,"reputation":11,"user_id":6865926,"display_name":"user6865926"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554213893,"creation_date":1554213893,"answer_id":55476794,"question_id":55476323,"body_markdown":"%dw 2.0\r\noutput application/csv separator=&#39;|&#39;, header=false\r\n---\r\n[{\r\n      field1: &quot;field1&quot;,\r\n      field2: &quot;field2&quot;\r\n\r\n}]\r\n\r\n\r\nTry this it may works for you...","title":"mule4 dataweave 2.0 write csv file with only headers","body":"<p>%dw 2.0</p>\n\n<h2>output application/csv separator='|', header=false</h2>\n\n<p>[{\n      field1: \"field1\",\n      field2: \"field2\"</p>\n\n<p>}]</p>\n\n<p>Try this it may works for you...</p>\n"}],"owner":{"account_id":3691377,"reputation":77,"user_id":3073887,"display_name":"user3073887"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1650,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649372312,"creation_date":1554212574,"question_id":55476323,"body_markdown":"In dataweave2.0 if payload is empty it should print only headers with pipe seperated. i have tried below code:\r\n\r\n```\r\n%dw 2.0\r\noutput application/csv separator=&#39;|&#39;, header=true\r\n---\r\n[{\r\n\t  field1: &quot;&quot;,\r\n\t  field1: &quot;&quot;\r\n\r\n}]\r\n\r\nOutput:\r\nfield1|field2|field3\r\n|||\r\n\r\nDesired output is only headers:\r\nfield1|field2|field3\r\n\r\nPlease guide\r\n```","title":"mule4 dataweave 2.0 write csv file with only headers","body":"<p>In dataweave2.0 if payload is empty it should print only headers with pipe seperated. i have tried below code:</p>\n\n<pre><code>%dw 2.0\noutput application/csv separator='|', header=true\n---\n[{\n      field1: \"\",\n      field1: \"\"\n\n}]\n\nOutput:\nfield1|field2|field3\n|||\n\nDesired output is only headers:\nfield1|field2|field3\n\nPlease guide\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1649371799,"post_id":71789745,"comment_id":126865464,"body_markdown":"Try using only one index, `i` : ` for(int i = 0; i&lt;quantitiyArrayList.size(); i++) System.out.println(quantitiyArrayList.get(i)*priceArrayList.get(i)); `","body":"Try using only one index, <code>i</code> : ` for(int i = 0; i&lt;quantitiyArrayList.size(); i++) System.out.println(quantitiyArrayList.get(i)*priceArrayList.&zwnj;&#8203;get(i)); `"}],"answers":[{"tags":[],"owner":{"account_id":6592153,"reputation":1029,"user_id":5093005,"display_name":"jboockmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649372138,"creation_date":1649372138,"answer_id":71789810,"question_id":71789745,"body_markdown":"The following should work, however, I would strongly recommend to use a single list where each element contains the information regarding price and quantity.\r\n\r\n```java\r\nfloat sum = 0.0;\r\nfor(int i = 0; i&lt;quantitiyArrayList.size(); i++){\r\n  sum += quantitiyArrayList.get(i) * priceArrayList.get(i));\r\n}\r\n```","title":"How do I multiply the values in two array list, then add it to the second arraylist?","body":"<p>The following should work, however, I would strongly recommend to use a single list where each element contains the information regarding price and quantity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>float sum = 0.0;\nfor(int i = 0; i&lt;quantitiyArrayList.size(); i++){\n  sum += quantitiyArrayList.get(i) * priceArrayList.get(i));\n}\n</code></pre>\n"}],"owner":{"account_id":23908738,"reputation":55,"user_id":17905960,"display_name":"Teerexmixdoodlejump"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71789810,"answer_count":1,"score":0,"last_activity_date":1649372138,"creation_date":1649371468,"question_id":71789745,"body_markdown":"I am trying to calculate the total cost of items in the users cart. My approach to this is to store the item cost as well as the quantity in an Arraylist, and then multiply the value then add it. For example this is my Arraylist. I would like to do 2.00* 5.00 + 3.00 * 6.00 + 4.00 * 7.00 + 5.00 * 8.00. What I have done so far multiplies the first number in the first array list by every item in the second array list this is not what I am trying to do, can someone help with this. \r\n\r\n   \r\n\r\n    quaninityArrayList [2.0, 3.0, 4.0, 5.0]\r\n    priceArraListy[5.0, 6.0, 7.0, 8.0]\r\n\r\n\r\n   \r\n\r\n    ArrayList&lt;Double&gt;  priceArrayList = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Double&gt;  quantitiyArrayList = new ArrayList&lt;&gt;();\r\n    \r\n            quantitiyArrayList.add(2.00);\r\n            quantitiyArrayList.add(3.00);\r\n            quantitiyArrayList.add(4.00);\r\n            quantitiyArrayList.add(5.00);\r\n    \r\n    \r\n    \r\n            priceArrayList.add(5.00 );\r\n            priceArrayList.add(6.00 );\r\n            priceArrayList.add(7.00 );\r\n            priceArrayList.add(8.00 );\r\n    \r\n    \r\n            for(int i = 0; i&lt;quantitiyArrayList.size(); i++){\r\n              for(int j = 0; j&lt; priceArrayList.size(); j++){\r\n                  System.out.println(quantitiyArrayList.get(i)*priceArrayList.get(j));\r\n    \r\n              }\r\n    \r\n    \r\n            }\r\n    \r\n                \r\n              \r\n","title":"How do I multiply the values in two array list, then add it to the second arraylist?","body":"<p>I am trying to calculate the total cost of items in the users cart. My approach to this is to store the item cost as well as the quantity in an Arraylist, and then multiply the value then add it. For example this is my Arraylist. I would like to do 2.00* 5.00 + 3.00 * 6.00 + 4.00 * 7.00 + 5.00 * 8.00. What I have done so far multiplies the first number in the first array list by every item in the second array list this is not what I am trying to do, can someone help with this.</p>\n<pre><code>quaninityArrayList [2.0, 3.0, 4.0, 5.0]\npriceArraListy[5.0, 6.0, 7.0, 8.0]\n\n\n\n\nArrayList&lt;Double&gt;  priceArrayList = new ArrayList&lt;&gt;();\n        ArrayList&lt;Double&gt;  quantitiyArrayList = new ArrayList&lt;&gt;();\n\n        quantitiyArrayList.add(2.00);\n        quantitiyArrayList.add(3.00);\n        quantitiyArrayList.add(4.00);\n        quantitiyArrayList.add(5.00);\n\n\n\n        priceArrayList.add(5.00 );\n        priceArrayList.add(6.00 );\n        priceArrayList.add(7.00 );\n        priceArrayList.add(8.00 );\n\n\n        for(int i = 0; i&lt;quantitiyArrayList.size(); i++){\n          for(int j = 0; j&lt; priceArrayList.size(); j++){\n              System.out.println(quantitiyArrayList.get(i)*priceArrayList.get(j));\n\n          }\n\n\n        }\n\n            \n          \n</code></pre>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin14"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":2,"creation_date":1648742634,"post_id":71693876,"comment_id":126707626,"body_markdown":"Please provide a [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":2669651,"reputation":31,"user_id":11191248,"display_name":"Rahul Jha"},"score":0,"creation_date":1648994780,"post_id":71693876,"comment_id":126758607,"body_markdown":"Added the [MRE](https://stackoverflow.com/help/minimal-reproducible-example) @cfrick","body":"Added the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a> @cfrick"}],"answers":[{"tags":[],"owner":{"account_id":17607294,"reputation":96,"user_id":12776112,"display_name":"Leander A."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649372094,"creation_date":1649372094,"answer_id":71789803,"question_id":71693876,"body_markdown":"While testing your MRE I didn&#39;t got a ClassCastException, but I got this exception: `&#39;java.lang.NullPointerException: Null value is not supported&#39;`. The TextField does not support a `null` value, **the empty value is a empty string**. Note that on your on your `convertToPresentation` method: never return null.\r\n\r\n\r\nI would use the `bind()` method with `ValueProvider` and `Setter`:\r\n\r\n\tbinder.forField(demoField)\r\n\t\t\t.bind(\r\n\t\t\t\theader -&gt; header.getDemo().getCode(),\r\n\t\t\t\t(header, code) -&gt; header.getDemo().setCode(code)\r\n\t\t\t);\r\n\r\nWatch out for null values.\r\n\r\n(Futher I am not sure about that instance of the DemoVO in the DemoVOToStringConverter... not sure if the Converter could be reused. But looks like it could work.)","title":"Custom converter throws java.lang.ClassCastException when calling setBean on binder for field type of textfield","body":"<p>While testing your MRE I didn't got a ClassCastException, but I got this exception: <code>'java.lang.NullPointerException: Null value is not supported'</code>. The TextField does not support a <code>null</code> value, <strong>the empty value is a empty string</strong>. Note that on your on your <code>convertToPresentation</code> method: never return null.</p>\n<p>I would use the <code>bind()</code> method with <code>ValueProvider</code> and <code>Setter</code>:</p>\n<pre><code>binder.forField(demoField)\n        .bind(\n            header -&gt; header.getDemo().getCode(),\n            (header, code) -&gt; header.getDemo().setCode(code)\n        );\n</code></pre>\n<p>Watch out for null values.</p>\n<p>(Futher I am not sure about that instance of the DemoVO in the DemoVOToStringConverter... not sure if the Converter could be reused. But looks like it could work.)</p>\n"}],"owner":{"account_id":2669651,"reputation":31,"user_id":11191248,"display_name":"Rahul Jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649372094,"creation_date":1648735195,"question_id":71693876,"body_markdown":"Trying to implement a custom converter for a textfield to a custom data type and bonded the same field with the binder when I call binder.setBean(vo) it throws the given exception\r\n\r\njava.lang.ClassCastException: class com.demo.vo.DemoVO cannot be cast to class java.lang.String (com.demo.vo.DemoVO is in unnamed module of loader &#39;deployment.demo.ear&#39; @7cc3d734; java.lang.String is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat deployment.demo.ear.demo.war//com.vaadin.flow.component.textfield.TextField.setValue(TextField.java:34)\r\n\tat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.convertAndSetFieldValue(Binder.java:1275)\r\n\tat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.initFieldValue(Binder.java:1196)\r\n\tat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.access$200(Binder.java:1032)\r\n\tat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder.lambda$setBean$1(Binder.java:1772)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\r\nDemoVO Class \r\n\r\n    public class DemoVO {\r\n        private int id;\r\n        private String code;\r\n        private String details;\r\n        // getters\r\n        // setters\r\n    }\r\n\r\nConverter Class\r\n\r\n    public class DemoVOToStringConverter implements Converter&lt;String, DemoVO&gt; {\r\n    \r\n        private DemoVO demoVO;\r\n    \r\n        @Override\r\n        public Result&lt;DemoVO&gt; convertToModel(String value, ValueContext context) {\r\n    \r\n            if (null == value)) {\r\n                return Result.ok(null);\r\n            }\r\n    \r\n            demoVO.setCode(value);\r\n            return Result.ok(demoVO);\r\n        }\r\n    \r\n        @Override\r\n        public String convertToPresentation(DemoVO value, ValueContext context) {\r\n    \r\n            if (null == value)) {\r\n                return null;\r\n            }\r\n    \r\n            demoVO = value;\r\n            return value.getCode();\r\n        }\r\n    }\r\n\r\nHeaderVO Class\r\n\r\n    public class HeaderVO {\r\n            private DemoVO demo = new DemoVO();\r\n            // getter\r\n            // setter\r\n    }\r\n\r\nDemoView Class\r\n\r\n    public class DemoView extends VerticalLayout implements BeforeEnterListener {\r\n                \r\n                private Binder&lt;HeaderVO&gt; binder = null; \r\n        \r\n                public DemoView() {\r\n                       binder = new Binder&lt;&gt;(HeaderVO.class);\r\n        \r\n                       TextField demoField = new TextField();\r\n                       demoField.setMaxLength(10);\r\n                       demoField.setLabel(&quot;Demo&quot;);\r\n                       binder.forField(demoField).withConverter(new DemoVOToStringConverter()).bind(&quot;demo&quot;);\r\n                       add(demoField);\r\n                }\r\n        \r\n            @Override\r\n            public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\r\n                   HeaderVO headerVO = new HeaderVO();\r\n                   binder.setBean(headerVO);\r\n            }\r\n       }","title":"Custom converter throws java.lang.ClassCastException when calling setBean on binder for field type of textfield","body":"<p>Trying to implement a custom converter for a textfield to a custom data type and bonded the same field with the binder when I call binder.setBean(vo) it throws the given exception</p>\n<p>java.lang.ClassCastException: class com.demo.vo.DemoVO cannot be cast to class java.lang.String (com.demo.vo.DemoVO is in unnamed module of loader 'deployment.demo.ear' @7cc3d734; java.lang.String is in module java.base of loader 'bootstrap')\nat deployment.demo.ear.demo.war//com.vaadin.flow.component.textfield.TextField.setValue(TextField.java:34)\nat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.convertAndSetFieldValue(Binder.java:1275)\nat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.initFieldValue(Binder.java:1196)\nat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder$BindingImpl.access$200(Binder.java:1032)\nat deployment.demo.ear.demo.war//com.vaadin.flow.data.binder.Binder.lambda$setBean$1(Binder.java:1772)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)</p>\n<p>DemoVO Class</p>\n<pre><code>public class DemoVO {\n    private int id;\n    private String code;\n    private String details;\n    // getters\n    // setters\n}\n</code></pre>\n<p>Converter Class</p>\n<pre><code>public class DemoVOToStringConverter implements Converter&lt;String, DemoVO&gt; {\n\n    private DemoVO demoVO;\n\n    @Override\n    public Result&lt;DemoVO&gt; convertToModel(String value, ValueContext context) {\n\n        if (null == value)) {\n            return Result.ok(null);\n        }\n\n        demoVO.setCode(value);\n        return Result.ok(demoVO);\n    }\n\n    @Override\n    public String convertToPresentation(DemoVO value, ValueContext context) {\n\n        if (null == value)) {\n            return null;\n        }\n\n        demoVO = value;\n        return value.getCode();\n    }\n}\n</code></pre>\n<p>HeaderVO Class</p>\n<pre><code>public class HeaderVO {\n        private DemoVO demo = new DemoVO();\n        // getter\n        // setter\n}\n</code></pre>\n<p>DemoView Class</p>\n<pre><code>public class DemoView extends VerticalLayout implements BeforeEnterListener {\n            \n            private Binder&lt;HeaderVO&gt; binder = null; \n    \n            public DemoView() {\n                   binder = new Binder&lt;&gt;(HeaderVO.class);\n    \n                   TextField demoField = new TextField();\n                   demoField.setMaxLength(10);\n                   demoField.setLabel(&quot;Demo&quot;);\n                   binder.forField(demoField).withConverter(new DemoVOToStringConverter()).bind(&quot;demo&quot;);\n                   add(demoField);\n            }\n    \n        @Override\n        public void beforeEnter(BeforeEnterEvent beforeEnterEvent) {\n               HeaderVO headerVO = new HeaderVO();\n               binder.setBean(headerVO);\n        }\n   }\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1649345701,"post_id":71784958,"comment_id":126857538,"body_markdown":"This is dictated by the `List` contract. [See the Javadocs](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--)","body":"This is dictated by the <code>List</code> contract. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#hashCode--\" rel=\"nofollow noreferrer\">See the Javadocs</a>"}],"answers":[{"tags":[],"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1649345750,"creation_date":1649345750,"answer_id":71785030,"question_id":71784958,"body_markdown":"That&#39;s actually specified in the JavaDoc.\r\nThe ArrayList javadocs tells you to look at the implementation in AbstractList, and AbstractList.hashCode() says the implementation is the same as in List.hashCode which gives this definition\r\n\r\n&gt; The hash code of a list is defined to be the result of the following calculation: \r\n\r\n    int hashCode = 1;\r\n    for (E e : list)\r\n        hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n\r\n","title":"Generation of HashCode for list of Objects for HashMap","body":"<p>That's actually specified in the JavaDoc.\nThe ArrayList javadocs tells you to look at the implementation in AbstractList, and AbstractList.hashCode() says the implementation is the same as in List.hashCode which gives this definition</p>\n<blockquote>\n<p>The hash code of a list is defined to be the result of the following calculation:</p>\n</blockquote>\n<pre><code>int hashCode = 1;\nfor (E e : list)\n    hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n</code></pre>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1649403608,"accepted_answer_id":71785030,"answer_count":1,"score":1,"last_activity_date":1649371979,"creation_date":1649345435,"question_id":71784958,"body_markdown":"I got that when we insert an object into a Map as Key, its hash code gets generated. But if my key is list of objects, in that case, is it the sum of all the Hash Code of objects in the list ?\r\n\r\n    User user1 = new User(13, &quot;Ron&quot;, &quot;ron@gmail.com&quot;);\r\n\tUser user2 = new User(15, &quot;Kamden&quot;, &quot;kamden@gmail.com&quot;);\r\n\tList&lt;User&gt; userList = new ArrayList&lt;&gt;();\r\n\tuserList.add(user1);\r\n\tuserList.add(user2);\r\n\tMap&lt;List&lt;User&gt;, User&gt; userMap = new HashMap&lt;&gt;();\r\n\tuserMap.put(userList, user1);\r\n\r\nHow can I understand this?\r\n","title":"Generation of HashCode for list of Objects for HashMap","body":"<p>I got that when we insert an object into a Map as Key, its hash code gets generated. But if my key is list of objects, in that case, is it the sum of all the Hash Code of objects in the list ?</p>\n<pre><code>User user1 = new User(13, &quot;Ron&quot;, &quot;ron@gmail.com&quot;);\nUser user2 = new User(15, &quot;Kamden&quot;, &quot;kamden@gmail.com&quot;);\nList&lt;User&gt; userList = new ArrayList&lt;&gt;();\nuserList.add(user1);\nuserList.add(user2);\nMap&lt;List&lt;User&gt;, User&gt; userMap = new HashMap&lt;&gt;();\nuserMap.put(userList, user1);\n</code></pre>\n<p>How can I understand this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":1,"creation_date":1649371505,"post_id":71789736,"comment_id":126865392,"body_markdown":"use `1.0/35;` to perform double division","body":"use <code>1.0&#47;35;</code> to perform double division"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1649371974,"post_id":71789736,"comment_id":126865487,"body_markdown":"Because integer / integer is integer division, which gives an integer result.","body":"Because integer / integer is integer division, which gives an integer result."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1649377364,"post_id":71789736,"comment_id":126866402,"body_markdown":"`double a = 1d/35d;`","body":"<code>double a = 1d&#47;35d;</code>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1649377557,"post_id":71789736,"comment_id":126866443,"body_markdown":"for `int n&gt;0`, `(n-1)/n` will always be zero.  So do double `d = 1/35.;` or `d = 1./35;`","body":"for <code>int n&gt;0</code>, <code>(n-1)&#47;n</code> will always be zero.  So do double <code>d = 1&#47;35.;</code> or <code>d = 1.&#47;35;</code>"}],"owner":{"account_id":23751470,"reputation":1,"user_id":18741111,"display_name":"cbasitodx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649371560,"answer_count":0,"score":0,"last_activity_date":1649371398,"creation_date":1649371398,"question_id":71789736,"body_markdown":":)\r\nI&#39;ve been trying to do something like:\r\n``` double a = 1/35; ``` but the result is alway 0.0\r\n\r\nI need to do those kind of divitions. What can I do?\r\n\r\nThanks :)","title":"Why does java doesn&#39;t let me do 1/n?","body":"<p>:)\nI've been trying to do something like:\n<code>double a = 1/35;</code> but the result is alway 0.0</p>\n<p>I need to do those kind of divitions. What can I do?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","file","asynchronous","nio","nio2"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1650431397,"post_id":71782694,"comment_id":127110979,"body_markdown":"None of the file-opening methods will create a directory for you. You have to do that yourself. But I don&#39;t see why you are using asynchronous I/O here at all. You start the operation and then you wait for it without having done anything else in between. There is no advantage here over using a simple `FileOutputStream` or `FileWriter`, just a lot of overhead.","body":"None of the file-opening methods will create a directory for you. You have to do that yourself. But I don&#39;t see why you are using asynchronous I/O here at all. You start the operation and then you wait for it without having done anything else in between. There is no advantage here over using a simple <code>FileOutputStream</code> or <code>FileWriter</code>, just a lot of overhead."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649370913,"creation_date":1649339350,"answer_id":71783375,"question_id":71782694,"body_markdown":"&gt; AsynchronousFileChannel not creating subdirectories\r\n\r\nThat is correct.  Opening a file won&#39;t create the directories on the path to the file.  You will also get this behavior with all of the standard APIs for opening a file.  \r\n\r\nYou need to create the missing directories as a separate operation.\r\n\r\nThe preferred way to do this is to use `Files.makeDirectories` method; see [javadoc][1].  This will attempt to create all of the missing directories.\r\n\r\nYou could also use the legacy `File.mkdirs(path)` method; see [javadoc][2].  It does the same thing, but it has the disadvantage that it doesn&#39;t report any meaningful diagnostics if the directory (or directories) cannot be created.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createDirectories-java.nio.file.Path-java.nio.file.attribute.FileAttribute...-\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()","title":"AsynchronousFileChannel not creating subdirectories","body":"<blockquote>\n<p>AsynchronousFileChannel not creating subdirectories</p>\n</blockquote>\n<p>That is correct.  Opening a file won't create the directories on the path to the file.  You will also get this behavior with all of the standard APIs for opening a file.</p>\n<p>You need to create the missing directories as a separate operation.</p>\n<p>The preferred way to do this is to use <code>Files.makeDirectories</code> method; see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#createDirectories-java.nio.file.Path-java.nio.file.attribute.FileAttribute...-\" rel=\"nofollow noreferrer\">javadoc</a>.  This will attempt to create all of the missing directories.</p>\n<p>You could also use the legacy <code>File.mkdirs(path)</code> method; see <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html#mkdirs()\" rel=\"nofollow noreferrer\">javadoc</a>.  It does the same thing, but it has the disadvantage that it doesn't report any meaningful diagnostics if the directory (or directories) cannot be created.</p>\n"}],"owner":{"account_id":17104650,"reputation":121,"user_id":12376938,"display_name":"santosh jk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649370913,"creation_date":1649336627,"question_id":71782694,"body_markdown":"Below program throws &quot;java.nio.file.NoSuchFileException&quot; when subdirecties doesnot exist in path. Could some one please help how can I acheive this ? I want to insert records in asyncronous way. \r\n    \r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString str = &quot;testing application2.&quot;;\r\n\t\tPath path = Paths.get(&quot;/Users/santosh/test/operatord/testsd.txt&quot;);\r\n\t\tSet&lt;StandardOpenOption&gt; set = new HashSet&lt;&gt;();\r\n\t\tset.add(WRITE);\r\n\t\tset.add(CREATE);\r\n\t\ttry {\r\n\t\t\tAsynchronousFileChannel asyncfileChannel = AsynchronousFileChannel.open(path, set,\r\n\t\t\t\t\tExecutors.newFixedThreadPool(10));\r\n\t\t\tTestCompletionHandler handler = new TestCompletionHandler();\r\n\t\t\tByteBuffer dataBuffer = ByteBuffer.wrap(str.getBytes());\r\n\t\t\tAttachment attachment = new Attachment(asyncfileChannel);\r\n\t\t\tasyncfileChannel.write(dataBuffer, 0, attachment, handler);\r\n\t\t\tattachment.getResponse().join();\r\n\t\t\tSystem.out.println(new String(Files.readAllBytes(path)));\r\n\t\t} catch (Throwable e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t}\r\n\r\n","title":"AsynchronousFileChannel not creating subdirectories","body":"<p>Below program throws &quot;java.nio.file.NoSuchFileException&quot; when subdirecties doesnot exist in path. Could some one please help how can I acheive this ? I want to insert records in asyncronous way.</p>\n<pre><code>public static void main(String[] args) {\n\n    String str = &quot;testing application2.&quot;;\n    Path path = Paths.get(&quot;/Users/santosh/test/operatord/testsd.txt&quot;);\n    Set&lt;StandardOpenOption&gt; set = new HashSet&lt;&gt;();\n    set.add(WRITE);\n    set.add(CREATE);\n    try {\n        AsynchronousFileChannel asyncfileChannel = AsynchronousFileChannel.open(path, set,\n                Executors.newFixedThreadPool(10));\n        TestCompletionHandler handler = new TestCompletionHandler();\n        ByteBuffer dataBuffer = ByteBuffer.wrap(str.getBytes());\n        Attachment attachment = new Attachment(asyncfileChannel);\n        asyncfileChannel.write(dataBuffer, 0, attachment, handler);\n        attachment.getResponse().join();\n        System.out.println(new String(Files.readAllBytes(path)));\n    } catch (Throwable e) {\n        e.printStackTrace();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1648584510,"post_id":71668080,"comment_id":126660550,"body_markdown":"I can&#39;t see anything wrong with your code.  I would recommend stepping through your test with the debugger, just to see what happens when `getIncidencia` is called, and to make sure that `incidenciaService` really is the injected mock, and `incidenciaOptional` really did get returned by the stubbed call.  Then, at least, you&#39;ll know which of a number of possibilities to investigate.","body":"I can&#39;t see anything wrong with your code.  I would recommend stepping through your test with the debugger, just to see what happens when <code>getIncidencia</code> is called, and to make sure that <code>incidenciaService</code> really is the injected mock, and <code>incidenciaOptional</code> really did get returned by the stubbed call.  Then, at least, you&#39;ll know which of a number of possibilities to investigate."}],"answers":[{"tags":[],"owner":{"account_id":15826736,"reputation":1,"user_id":11419370,"display_name":"Edison de Azevedo Filho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649370730,"creation_date":1649370730,"answer_id":71789666,"question_id":71668080,"body_markdown":"I discovered but I do know why.\r\n\r\nI re-wrote all the code, and when I took off the tag @CrossOrigin of the Controller my test run returned 200 OK. Does someone know why this occurred?\r\n\r\n    @RestController\r\n    //@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n    @RequestMapping(&quot;/users&quot;)\r\n    public class UserController {","title":"Mockito is returning the incorrect response when testing a controller","body":"<p>I discovered but I do know why.</p>\n<p>I re-wrote all the code, and when I took off the tag @CrossOrigin of the Controller my test run returned 200 OK. Does someone know why this occurred?</p>\n<pre><code>@RestController\n//@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n</code></pre>\n"}],"owner":{"account_id":15826736,"reputation":1,"user_id":11419370,"display_name":"Edison de Azevedo Filho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71789666,"answer_count":1,"score":0,"last_activity_date":1649370730,"creation_date":1648583796,"question_id":71668080,"body_markdown":"I Have a misterius.\r\n\r\nIm trying to write a Test for this controller Method:\r\n\r\n    @GetMapping(&quot;/{id}&quot;) \t\r\n    public ResponseEntity&lt;Object&gt; getIncidencia(@PathVariable(value = &quot;id&quot;) Long id){\r\n       Optional&lt;IncidenciaModel&gt; incidenciaModelOptional = incidenciaService.findById(id); \t \r\n       if(!incidenciaModelOptional.isPresent()) { \t\t\t\r\n           return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Incidencia not found&quot;); \t\t  \r\n       }\r\n       return ResponseEntity.status(HttpStatus.OK).body(incidenciaModelOptional.get()); \t\r\n    }\r\n\r\nAnd I DID this:\r\n\r\n```\r\n@SpringBootTest\r\npublic class IncidenciaControllerTest {\r\n\r\n    @InjectMocks\r\n    private IncidenciaController controller;\r\n    \r\n    @Mock\r\n    private IncidenciaService service;\t\r\n    \r\n    private Optional&lt;IncidenciaModel&gt; incidenciaOptional;\r\n    \r\n    private static final Long ID = 1L;\r\n    private static final Integer REGIAO_ID = 1;\r\n    private static final Integer MES = 5;\r\n    private static final Long FAIXA_ID = 2L;\r\n    private static final Integer QNT_EXAME = 4;\r\n    \r\n    @BeforeEach\r\n    void setUp() {\r\n    \tstartIncidencia();\r\n    \tMockitoAnnotations.openMocks(this);\r\n    }\r\n    \r\n    private void startIncidencia() {\t\t\r\n    \tincidenciaOptional = Optional.of(new IncidenciaModel(ID, REGIAO_ID, MES, FAIXA_ID, QNT_EXAME));\r\n    }\t\r\n    \r\n    @Test\r\n    void whenFindByIDThenReturnSuccess() {\r\n    \tMockito.when(service.findById(Mockito.anyLong())).thenReturn(incidenciaOptional);\t\t\r\n    \tResponseEntity&lt;Object&gt; response = controller.getIncidencia(ID); \t\t\r\n    \t//Assegure pra mim que o retorno n&#227;o seja nulo.\r\n    \tAssertions.assertNotNull(response);\r\n    \t//Assegure pra mim que o corpo da resposta n&#227;o pode ser null (porque tem que vir um userDTO).\r\n    \tAssertions.assertNotNull(response.getBody());\r\n    \t//Assegure pra mim que a resposta do endpoint vai ter a classe do tipo ResponseEntity\r\n    \tAssertions.assertEquals(ResponseEntity.class, response.getClass());\t\t\r\n    \t//Assegure pra mim que eu ao encontrar o registro a resposta ter&#225; um Status Code 200 - OK.\r\n    \tAssertions.assertEquals(HttpStatus.OK, response.getStatusCode());\r\n    }\r\n\r\n}\r\n```\r\n\r\nI don&#39;t know why but the method `ResponseEntity&lt;Object&gt; response = controller.getIncidencia(ID);` is returning  \\&lt;404 NOT_Found Not Found, Incidencia Not Found \\[\\]\\&gt; But the corret would be 200 OK.\r\nWhat I did Wrong?","title":"Mockito is returning the incorrect response when testing a controller","body":"<p>I Have a misterius.</p>\n<p>Im trying to write a Test for this controller Method:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)    \npublic ResponseEntity&lt;Object&gt; getIncidencia(@PathVariable(value = &quot;id&quot;) Long id){\n   Optional&lt;IncidenciaModel&gt; incidenciaModelOptional = incidenciaService.findById(id);   \n   if(!incidenciaModelOptional.isPresent()) {           \n       return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Incidencia not found&quot;);           \n   }\n   return ResponseEntity.status(HttpStatus.OK).body(incidenciaModelOptional.get());     \n}\n</code></pre>\n<p>And I DID this:</p>\n<pre><code>@SpringBootTest\npublic class IncidenciaControllerTest {\n\n    @InjectMocks\n    private IncidenciaController controller;\n    \n    @Mock\n    private IncidenciaService service;  \n    \n    private Optional&lt;IncidenciaModel&gt; incidenciaOptional;\n    \n    private static final Long ID = 1L;\n    private static final Integer REGIAO_ID = 1;\n    private static final Integer MES = 5;\n    private static final Long FAIXA_ID = 2L;\n    private static final Integer QNT_EXAME = 4;\n    \n    @BeforeEach\n    void setUp() {\n        startIncidencia();\n        MockitoAnnotations.openMocks(this);\n    }\n    \n    private void startIncidencia() {        \n        incidenciaOptional = Optional.of(new IncidenciaModel(ID, REGIAO_ID, MES, FAIXA_ID, QNT_EXAME));\n    }   \n    \n    @Test\n    void whenFindByIDThenReturnSuccess() {\n        Mockito.when(service.findById(Mockito.anyLong())).thenReturn(incidenciaOptional);       \n        ResponseEntity&lt;Object&gt; response = controller.getIncidencia(ID);         \n        //Assegure pra mim que o retorno não seja nulo.\n        Assertions.assertNotNull(response);\n        //Assegure pra mim que o corpo da resposta não pode ser null (porque tem que vir um userDTO).\n        Assertions.assertNotNull(response.getBody());\n        //Assegure pra mim que a resposta do endpoint vai ter a classe do tipo ResponseEntity\n        Assertions.assertEquals(ResponseEntity.class, response.getClass());     \n        //Assegure pra mim que eu ao encontrar o registro a resposta terá um Status Code 200 - OK.\n        Assertions.assertEquals(HttpStatus.OK, response.getStatusCode());\n    }\n\n}\n</code></pre>\n<p>I don't know why but the method <code>ResponseEntity&lt;Object&gt; response = controller.getIncidencia(ID);</code> is returning  &lt;404 NOT_Found Not Found, Incidencia Not Found []&gt; But the corret would be 200 OK.\nWhat I did Wrong?</p>\n"},{"tags":["java","hibernate","websocket","quarkus-panache"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1605987947,"post_id":64947325,"comment_id":114824133,"body_markdown":"With panache, obviously. *rimshot*","body":"With panache, obviously. <i>rimshot</i>"},{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":1,"creation_date":1606046435,"post_id":64947325,"comment_id":114834705,"body_markdown":"The problem was that the `WebSocket` connection is handled by an `IOThread`. I was trying to execute a blocking operation (persist). The code was silently handling that exception so nothing got printed out in the console. Injecting a ```ManagedExecutor``` and delegating the persist operation to a working thread fixed the issue.","body":"The problem was that the <code>WebSocket</code> connection is handled by an <code>IOThread</code>. I was trying to execute a blocking operation (persist). The code was silently handling that exception so nothing got printed out in the console. Injecting a <code>ManagedExecutor</code> and delegating the persist operation to a working thread fixed the issue."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1606101979,"post_id":64947325,"comment_id":114848924,"body_markdown":"If you were able to cleanly resolve the problem, post it as an answer to your own question so that others who have the problem in the future can see it.","body":"If you were able to cleanly resolve the problem, post it as an answer to your own question so that others who have the problem in the future can see it."}],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1646278174,"creation_date":1646278174,"answer_id":71331805,"question_id":64947325,"body_markdown":"It worked like this:\r\n```\r\n@Inject\r\nManagedExecutor managedExecutor;\r\n\r\n@Inject\r\nTransactionManager transactionManager;\r\n\r\n@OnMessage\r\npublic void onMessage(Session session, Message message) throws IOException {\r\n    message.setFrom(users.get(session.getId()));\r\n    managedExecutor.submit(() -&gt; {\r\n        try{\r\n            transactionManager.begin();\r\n            parseMessage(message); // persist the entity here\r\n            transactionManager.commit();\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        } \r\n    });\r\n}\r\n```","title":"How should I persist a PanacheEntity with data coming from a Websocket message?","body":"<p>It worked like this:</p>\n<pre><code>@Inject\nManagedExecutor managedExecutor;\n\n@Inject\nTransactionManager transactionManager;\n\n@OnMessage\npublic void onMessage(Session session, Message message) throws IOException {\n    message.setFrom(users.get(session.getId()));\n    managedExecutor.submit(() -&gt; {\n        try{\n            transactionManager.begin();\n            parseMessage(message); // persist the entity here\n            transactionManager.commit();\n        }catch(Exception e){\n            e.printStackTrace();\n        } \n    });\n}\n</code></pre>\n"}],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71331805,"answer_count":1,"score":0,"last_activity_date":1649370169,"creation_date":1605987732,"question_id":64947325,"body_markdown":"I&#39;m trying to persist the following entity when receiving a message from the client via *Websocket*: \r\n\r\n```\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\r\n\r\n@Entity\r\npublic class Penguin extends PanacheEntity{\r\n    @Column(name=&quot;penguin_name&quot;)\r\n    public String name;\r\n}\r\n```\r\n\r\nThe following persist works, when receiving a POST request:\r\n\r\n```\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.Produces;\r\nimport javax.transaction.Transactional;\r\nimport com.penguins.demo.pojos.Penguin;\r\n\r\n@Path(&quot;/api&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.APPLICATION_JSON)\r\npublic class PenguinResource {\r\n    \r\n    @GET\r\n    public List&lt;Penguin&gt; getPenguins(){\r\n        return Penguin.listAll();\r\n    }\r\n\r\n    @POST\r\n    @Transactional\r\n    public Response addPenguin(Penguin penguin){\r\n        penguin.persist();\r\n        return Response.ok(penguin).status(201).build();\r\n    }\r\n}\r\n```\r\n\r\nHowever, the following code freezes when it reaches the persist line. The ```message.getPenguin()``` method is returning an actual ```Penguin``` reference (the ```MessageDecoder.class``` is doing it&#39;s part):\r\n\r\n```\r\nimport javax.websocket.OnMessage;\r\nimport javax.websocket.Session;\r\nimport javax.websocket.server.PathParam;\r\nimport javax.websocket.server.ServerEndpoint;\r\nimport com.penguins.demo.pojos.Message;\r\nimport com.penguins.demo.pojos.Penguin;\r\n\r\n@ServerEndpoint(value = &quot;/waddle/{user}&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\r\npublic class PenguinHub {\r\n   @OnMessage\r\n   @Transactional\r\n   public void onMessage(Session session, Message message) throws IOException {\r\n        // Handle new messages\r\n        message.setFrom(users.get(session.getId()));\r\n        // it freezes on persist :(\r\n        message.getPenguin().persist();\r\n        broadcast(message);\r\n   }\r\n}\r\n```\r\n\r\nI&#39;m  new to Panache/Hibernate, any help would be apreciated, thank you.","title":"How should I persist a PanacheEntity with data coming from a Websocket message?","body":"<p>I'm trying to persist the following entity when receiving a message from the client via <em>Websocket</em>:</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\n\n@Entity\npublic class Penguin extends PanacheEntity{\n    @Column(name=&quot;penguin_name&quot;)\n    public String name;\n}\n</code></pre>\n<p>The following persist works, when receiving a POST request:</p>\n<pre><code>import javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Produces;\nimport javax.transaction.Transactional;\nimport com.penguins.demo.pojos.Penguin;\n\n@Path(&quot;/api&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\npublic class PenguinResource {\n    \n    @GET\n    public List&lt;Penguin&gt; getPenguins(){\n        return Penguin.listAll();\n    }\n\n    @POST\n    @Transactional\n    public Response addPenguin(Penguin penguin){\n        penguin.persist();\n        return Response.ok(penguin).status(201).build();\n    }\n}\n</code></pre>\n<p>However, the following code freezes when it reaches the persist line. The <code>message.getPenguin()</code> method is returning an actual <code>Penguin</code> reference (the <code>MessageDecoder.class</code> is doing it's part):</p>\n<pre><code>import javax.websocket.OnMessage;\nimport javax.websocket.Session;\nimport javax.websocket.server.PathParam;\nimport javax.websocket.server.ServerEndpoint;\nimport com.penguins.demo.pojos.Message;\nimport com.penguins.demo.pojos.Penguin;\n\n@ServerEndpoint(value = &quot;/waddle/{user}&quot;, decoders = MessageDecoder.class, encoders = MessageEncoder.class)\npublic class PenguinHub {\n   @OnMessage\n   @Transactional\n   public void onMessage(Session session, Message message) throws IOException {\n        // Handle new messages\n        message.setFrom(users.get(session.getId()));\n        // it freezes on persist :(\n        message.getPenguin().persist();\n        broadcast(message);\n   }\n}\n</code></pre>\n<p>I'm  new to Panache/Hibernate, any help would be apreciated, thank you.</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649370073,"creation_date":1649370073,"answer_id":71789571,"question_id":71776955,"body_markdown":"There are two kinds of placeholders you can use to generate the name of the old log file after a rollover:\r\n\r\n - pattern converters `%key{...}` in the &quot;FileConverter&quot; category. Log4j2 passes the old logfile&#39;s creation date and index number to these converters. There are only two of them: the date pattern `%d{...}` (cf. [source code](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/FileDatePatternConverter.java)) and the index pattern `%i` (cf. [source code](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/IntegerPatternConverter.java)) and they must implement [`ArrayPatternConverter`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/pattern/ArrayPatternConverter.html).\r\n - lookups `${key:value}`, which don&#39;t have access to the two values mentioned above.\r\n\r\nSince the process id of the JVM does not change in time, you don&#39;t need pattern converters and:\r\n\r\n - if the Java system properties `app.base` and `pid` are set, you can use the system properties lookup:\r\n   ```lang-xml\r\n   &lt;RollingFile name=&quot;RollingFile&quot;\r\n                fileName=&quot;${sys:app.base}/logs/${pid}-app.log&quot;\r\n                filePattern=&quot;${sys:app.base}/logs/${sys:pid}-app.log.%i&quot;&gt;\r\n       ...\r\n   &lt;/RollingFile&gt;\r\n   ```\r\n - otherwise you can extend, e.g. the [`JavaLookup`](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/lookup/JavaLookup.java) with a &quot;pid&quot; property (you can exploit the [`ProcessIdUtil`](https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-api/src/main/java/org/apache/logging/log4j/util/ProcessIdUtil.java) to do it) and PR the modified version to the Log4j2 project.","title":"FileConverter for Log4J2","body":"<p>There are two kinds of placeholders you can use to generate the name of the old log file after a rollover:</p>\n<ul>\n<li>pattern converters <code>%key{...}</code> in the &quot;FileConverter&quot; category. Log4j2 passes the old logfile's creation date and index number to these converters. There are only two of them: the date pattern <code>%d{...}</code> (cf. <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/FileDatePatternConverter.java\" rel=\"nofollow noreferrer\">source code</a>) and the index pattern <code>%i</code> (cf. <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/pattern/IntegerPatternConverter.java\" rel=\"nofollow noreferrer\">source code</a>) and they must implement <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/pattern/ArrayPatternConverter.html\" rel=\"nofollow noreferrer\"><code>ArrayPatternConverter</code></a>.</li>\n<li>lookups <code>${key:value}</code>, which don't have access to the two values mentioned above.</li>\n</ul>\n<p>Since the process id of the JVM does not change in time, you don't need pattern converters and:</p>\n<ul>\n<li>if the Java system properties <code>app.base</code> and <code>pid</code> are set, you can use the system properties lookup:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;RollingFile name=&quot;RollingFile&quot;\n             fileName=&quot;${sys:app.base}/logs/${pid}-app.log&quot;\n             filePattern=&quot;${sys:app.base}/logs/${sys:pid}-app.log.%i&quot;&gt;\n    ...\n&lt;/RollingFile&gt;\n</code></pre>\n</li>\n<li>otherwise you can extend, e.g. the <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/lookup/JavaLookup.java\" rel=\"nofollow noreferrer\"><code>JavaLookup</code></a> with a &quot;pid&quot; property (you can exploit the <a href=\"https://github.com/apache/logging-log4j2/blob/release-2.x/log4j-api/src/main/java/org/apache/logging/log4j/util/ProcessIdUtil.java\" rel=\"nofollow noreferrer\"><code>ProcessIdUtil</code></a> to do it) and PR the modified version to the Log4j2 project.</li>\n</ul>\n"}],"owner":{"account_id":1696134,"reputation":1,"user_id":1557480,"display_name":"viren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649370073,"creation_date":1649310464,"question_id":71776955,"body_markdown":"I am working on a project to convert logging from log4j 1.x to log4j 2.x.\r\n    For Rolling File Appender I need to create filename that should have the pid of the \r\n    service appended in it. For **Ex:** \r\n    In log4J 1.x it is defined as below:\r\n    \r\n    &lt;appender name=&quot;FILE&quot; class=&quot;com.app.util.log4j.RollingFileAppender &quot;&gt;\r\n            &lt;param name=&quot;File&quot; value=&quot;${app.home}/logs/@{pid}-app.log&quot;/&gt; \r\n    &lt;appender /&gt;\r\n    \r\nNow, as per the log4j 2.x documentation, to achieve the same, I should write a Converter \r\nplugin of type File Converter [doc][1]. \r\nBut, I am not able to find any details like which class needs to be extended and any \r\nsample code related to File Converter.\r\nPlease help to achieve this goal. Thanks in advance...!!!\r\n\r\nThanks,\r\n    \r\n    \r\n    \r\n    \r\n[1]: https://logging.apache.org/log4j/log4j-2.7/manual/plugins.html#Converters","title":"FileConverter for Log4J2","body":"<p>I am working on a project to convert logging from log4j 1.x to log4j 2.x.\nFor Rolling File Appender I need to create filename that should have the pid of the\nservice appended in it. For <strong>Ex:</strong>\nIn log4J 1.x it is defined as below:</p>\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;com.app.util.log4j.RollingFileAppender &quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;${app.home}/logs/@{pid}-app.log&quot;/&gt; \n&lt;appender /&gt;\n</code></pre>\n<p>Now, as per the log4j 2.x documentation, to achieve the same, I should write a Converter\nplugin of type File Converter <a href=\"https://logging.apache.org/log4j/log4j-2.7/manual/plugins.html#Converters\" rel=\"nofollow noreferrer\">doc</a>.\nBut, I am not able to find any details like which class needs to be extended and any\nsample code related to File Converter.\nPlease help to achieve this goal. Thanks in advance...!!!</p>\n<p>Thanks,</p>\n"},{"tags":["java","aws-ssm"],"answers":[{"tags":[],"owner":{"account_id":8651143,"reputation":1983,"user_id":6476791,"display_name":"Adrian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525098168,"creation_date":1525087908,"answer_id":50099653,"question_id":50099472,"body_markdown":"There could be various reasons, \r\n\r\n- most common one is consuming too much memory, which may trigger OS to kill the process: to troubleshoot this one just run \r\n\r\n    dmesg | grep &#39;killed process&#39; \r\n\r\nTo better understand where memory goes you can use jmap, \r\n\r\n- another might be due to an unhadnled exception in this case make sure you are checking the logs.\r\n\r\n","title":"Debugging Java process getting killed in 1 hour","body":"<p>There could be various reasons, </p>\n\n<ul>\n<li><p>most common one is consuming too much memory, which may trigger OS to kill the process: to troubleshoot this one just run </p>\n\n<p>dmesg | grep 'killed process' </p></li>\n</ul>\n\n<p>To better understand where memory goes you can use jmap, </p>\n\n<ul>\n<li>another might be due to an unhadnled exception in this case make sure you are checking the logs.</li>\n</ul>\n"}],"owner":{"account_id":2182550,"reputation":1616,"user_id":1931698,"accept_rate":46,"display_name":"Prakhar Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649369794,"creation_date":1525087235,"question_id":50099472,"body_markdown":"I am working on a Java service, which needs to be invoked using a Python script, somewhat like this:\r\n\r\n    def start_java_service(self, set_id):\r\n                p = subprocess.Popen([&#39;nohup&#39;, &#39;java&#39;, &#39;-jar&#39;, &#39;SetProcessor.jar&#39;, set_id], cwd=&#39;/path/to/jar/directory&#39;)\r\n\r\nThis python script will be invoked by **Amazon SSM agent**. The problem is, as soon as Java service completes 1 hour of execution, its getting killed automatically.\r\n\r\nWhat are the debugging steps for this problem?\r\n\r\nEdit\r\n---\r\n\r\nI found out that if I am running Java service myself, it&#39;s working just fine. But, if it&#39;s being invoked by SSM, it&#39;s getting killed exactly after **1 hour**.\r\n","title":"Debugging Java process getting killed in 1 hour","body":"<p>I am working on a Java service, which needs to be invoked using a Python script, somewhat like this:</p>\n<pre><code>def start_java_service(self, set_id):\n            p = subprocess.Popen(['nohup', 'java', '-jar', 'SetProcessor.jar', set_id], cwd='/path/to/jar/directory')\n</code></pre>\n<p>This python script will be invoked by <strong>Amazon SSM agent</strong>. The problem is, as soon as Java service completes 1 hour of execution, its getting killed automatically.</p>\n<p>What are the debugging steps for this problem?</p>\n<h2>Edit</h2>\n<p>I found out that if I am running Java service myself, it's working just fine. But, if it's being invoked by SSM, it's getting killed exactly after <strong>1 hour</strong>.</p>\n"},{"tags":["java","web-services","tomcat","soap","jstack"],"comments":[{"owner":{"account_id":3456895,"reputation":1651,"user_id":2895202,"accept_rate":100,"display_name":"markus"},"score":0,"creation_date":1648752639,"post_id":71256762,"comment_id":126711204,"body_markdown":"Could you find out what the problem is? I&#39;m stuck at a similar problem...","body":"Could you find out what the problem is? I&#39;m stuck at a similar problem..."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":1,"creation_date":1648801776,"post_id":71256762,"comment_id":126721369,"body_markdown":"I didn&#39;t find the root cause of the infinite timeout. But I found that by default Spring Scheduled annotation uses a single-threaded pool, so, if it get stuck all scheduled jobs will stop. Then I suggest to use a multi-threaded pool setting.","body":"I didn&#39;t find the root cause of the infinite timeout. But I found that by default Spring Scheduled annotation uses a single-threaded pool, so, if it get stuck all scheduled jobs will stop. Then I suggest to use a multi-threaded pool setting."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1648808237,"post_id":71256762,"comment_id":126723541,"body_markdown":"Did you try to set sun.net.client.defaultConnectTimeout and sun.net.client.defaultReadTimeout values when starting the JVM? ex : -Dsun.net.client.defaultConnectTimeout=&quot;1000&quot; (one second). See https://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html","body":"Did you try to set sun.net.client.defaultConnectTimeout and sun.net.client.defaultReadTimeout values when starting the JVM? ex : -Dsun.net.client.defaultConnectTimeout=&quot;1000&quot; (one second). See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/net/&hellip;</a>"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1648991630,"post_id":71256762,"comment_id":126757894,"body_markdown":"@pringi is it possible to set them runtime? I can change the code but I cannot easily change the startup script of my application. Thanks","body":"@pringi is it possible to set them runtime? I can change the code but I cannot easily change the startup script of my application. Thanks"},{"owner":{"account_id":2616083,"reputation":201,"user_id":2265109,"accept_rate":71,"display_name":"fsch"},"score":0,"creation_date":1649318758,"post_id":71256762,"comment_id":126846674,"body_markdown":"Could it be that you open to many connections without reusing / closing them?","body":"Could it be that you open to many connections without reusing / closing them?"},{"owner":{"account_id":3456895,"reputation":1651,"user_id":2895202,"accept_rate":100,"display_name":"markus"},"score":0,"creation_date":1649669024,"post_id":71256762,"comment_id":126925886,"body_markdown":"@pringi Thanks for your responses. Apparently in our case the problem was not on the consumer but on the producer side. Due to a particular nasty producer side side-effect the producer all of a sudden suffered from heavily increased response times which led in turn to all consumer threads being stuck at java.net.SocketInputStream.socketRead0\nThanks for your inputs!","body":"@pringi Thanks for your responses. Apparently in our case the problem was not on the consumer but on the producer side. Due to a particular nasty producer side side-effect the producer all of a sudden suffered from heavily increased response times which led in turn to all consumer threads being stuck at java.net.SocketInputStream.socketRead0 Thanks for your inputs!"}],"answers":[{"tags":[],"owner":{"account_id":18542382,"reputation":3683,"user_id":13510562,"display_name":"rmunge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649368615,"creation_date":1649368265,"answer_id":71789328,"question_id":71256762,"body_markdown":"Your client tries to download the WDSL file of the SOAP service from a remote URL. `HttpURLConnection`s have by default an infinite [socket read timeout][1] and an infinite [connect timeout][2]. In your case the connection seems to be stuck, while reading from the server. Since the read timeout is infinite, you are stuck forever or at least until the connection is reset (e.g. by a router or \r\n the server).\r\n\r\nAs already mentioned in one of the comments, the default timeouts can be configured through the system properties `sun.net.client.defaultReadTimeout` and `sun.net.client.defaultConnectTimeout` (as documented [here][3]). You could set these properties also at runtime, but you would have to do this **before** the properties are read. Unfortunately, the properties are read only once when the internal [NetworkClient][4] class is loaded. I haven&#39;t tried it out, but it is very unlikely that you will be able to set the properties within a Tomcat container, before this class gets loaded. If you should have a chance to change the start script of the Tomcat, I would heavily recommend to set explicit timeouts (especially in case of a production setup).\r\n\r\nSetting explicit timeouts, is in general a good approach. But timeouts will only solve the described symptom, but not your actual problem: Your SOAP client relies on the successful download of a WSDL file from a remote location. Instead of downloading the WSDL file from a remote location, you could load it from a local resource. There are two possible ways to do this:\r\n\r\n**A)** If you should have access to the (generated) client code, you could replace the remote URL of the WSDL location with the URL of a resource file on your classpath. See [this answer][5] for an example.\r\n\r\n**B)** If manual adaptation of the client code isn&#39;t an option, you can use a catalog file, as documented [here][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html#setReadTimeout(int)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html#setConnectTimeout(int)\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\r\n  [4]: https://github.com/openjdk/jdk17/blob/74007890bb9a3fa3a65683a3f480e399f2b1a0b6/src/java.base/share/classes/sun/net/NetworkClient.java#L75\r\n  [5]: https://stackoverflow.com/a/57118531/13510562\r\n  [6]: https://javaee.github.io/metro-jax-ws/doc/user-guide/ch03.html#users-guide-catalog","title":"Stucked thread on SOAP webservice call","body":"<p>Your client tries to download the WDSL file of the SOAP service from a remote URL. <code>HttpURLConnection</code>s have by default an infinite <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html#setReadTimeout(int)\" rel=\"nofollow noreferrer\">socket read timeout</a> and an infinite <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html#setConnectTimeout(int)\" rel=\"nofollow noreferrer\">connect timeout</a>. In your case the connection seems to be stuck, while reading from the server. Since the read timeout is infinite, you are stuck forever or at least until the connection is reset (e.g. by a router or\nthe server).</p>\n<p>As already mentioned in one of the comments, the default timeouts can be configured through the system properties <code>sun.net.client.defaultReadTimeout</code> and <code>sun.net.client.defaultConnectTimeout</code> (as documented <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html\" rel=\"nofollow noreferrer\">here</a>). You could set these properties also at runtime, but you would have to do this <strong>before</strong> the properties are read. Unfortunately, the properties are read only once when the internal <a href=\"https://github.com/openjdk/jdk17/blob/74007890bb9a3fa3a65683a3f480e399f2b1a0b6/src/java.base/share/classes/sun/net/NetworkClient.java#L75\" rel=\"nofollow noreferrer\">NetworkClient</a> class is loaded. I haven't tried it out, but it is very unlikely that you will be able to set the properties within a Tomcat container, before this class gets loaded. If you should have a chance to change the start script of the Tomcat, I would heavily recommend to set explicit timeouts (especially in case of a production setup).</p>\n<p>Setting explicit timeouts, is in general a good approach. But timeouts will only solve the described symptom, but not your actual problem: Your SOAP client relies on the successful download of a WSDL file from a remote location. Instead of downloading the WSDL file from a remote location, you could load it from a local resource. There are two possible ways to do this:</p>\n<p><strong>A)</strong> If you should have access to the (generated) client code, you could replace the remote URL of the WSDL location with the URL of a resource file on your classpath. See <a href=\"https://stackoverflow.com/a/57118531/13510562\">this answer</a> for an example.</p>\n<p><strong>B)</strong> If manual adaptation of the client code isn't an option, you can use a catalog file, as documented <a href=\"https://javaee.github.io/metro-jax-ws/doc/user-guide/ch03.html#users-guide-catalog\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71789328,"answer_count":1,"score":4,"last_activity_date":1649368615,"creation_date":1645728078,"question_id":71256762,"body_markdown":"I have a stuck thread in a Tomcat container, I would like to find the cause to avoid this problem.\r\n\r\nUsing **jstack** I have found it is stuck after a SOAP webservice call:\r\n\r\n    pool-2-thread-1&quot; #27 prio=5 os_prio=0 tid=0x00007fd2315ce800 nid=0x39 runnable [0x00007fd2415d2000]\r\n       java.lang.Thread.State: RUNNABLE\r\n        at java.net.SocketInputStream.socketRead0(Native Method)\r\n        at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n        at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n        at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\r\n        at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\r\n        at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\r\n        - locked &lt;0x0000000087eb10e0&gt; (a java.io.BufferedInputStream)\r\n        at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:735)\r\n        at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\r\n        - locked &lt;0x0000000087eb1138&gt; (a sun.net.www.protocol.http.HttpURLConnection)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\r\n        - locked &lt;0x0000000087eb1138&gt; (a sun.net.www.protocol.http.HttpURLConnection)\r\n        at java.net.URL.openStream(URL.java:1045)\r\n        at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:999)\r\n        at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:400)\r\n        at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:231)\r\n        at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:209)\r\n        at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:178)\r\n        at com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:364)\r\n        at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:322)\r\n        at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:231)\r\n        at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:212)\r\n        at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:208)\r\n        at com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:119)\r\n        at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\r\n\r\nWhich timeout is missing in the configuration? I&#39;m using the standard options.","title":"Stucked thread on SOAP webservice call","body":"<p>I have a stuck thread in a Tomcat container, I would like to find the cause to avoid this problem.</p>\n<p>Using <strong>jstack</strong> I have found it is stuck after a SOAP webservice call:</p>\n<pre><code>pool-2-thread-1&quot; #27 prio=5 os_prio=0 tid=0x00007fd2315ce800 nid=0x39 runnable [0x00007fd2415d2000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)\n    at java.io.BufferedInputStream.read1(BufferedInputStream.java:286)\n    at java.io.BufferedInputStream.read(BufferedInputStream.java:345)\n    - locked &lt;0x0000000087eb10e0&gt; (a java.io.BufferedInputStream)\n    at sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:735)\n    at sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1587)\n    - locked &lt;0x0000000087eb1138&gt; (a sun.net.www.protocol.http.HttpURLConnection)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1492)\n    - locked &lt;0x0000000087eb1138&gt; (a sun.net.www.protocol.http.HttpURLConnection)\n    at java.net.URL.openStream(URL.java:1045)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.createReader(RuntimeWSDLParser.java:999)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.resolveWSDL(RuntimeWSDLParser.java:400)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:231)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:209)\n    at com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:178)\n    at com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:364)\n    at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:322)\n    at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:231)\n    at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:212)\n    at com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:208)\n    at com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:119)\n    at javax.xml.ws.Service.&lt;init&gt;(Service.java:77)\n</code></pre>\n<p>Which timeout is missing in the configuration? I'm using the standard options.</p>\n"},{"tags":["javascript","java","jquery","ajax","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":15901758,"reputation":33,"user_id":11473946,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649367821,"creation_date":1649367821,"answer_id":71789256,"question_id":71196027,"body_markdown":"Make sure the CORS policy is opened at the remote domain. if not, you will get the same error. \r\nAlso if you are using Spring and created/extended a WebSecurityConfigurerAdapter file, you can configure the CORS by redefining CorsConfigurationSource bean in the WebSecurityConfig file. just make sure to add your localhost url in allowed origins.\r\n\r\nSomething like below:\r\n\r\n    @Bean\r\n      public CorsConfigurationSource corsConfigurationSource() {\r\n        final CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(ImmutableList.of(&quot;..your localhost url..&quot;));\r\n    \tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n      }\r\n\r\n","title":"spring mvc ajax get work but post not work when i send request to remote server from localhost","body":"<p>Make sure the CORS policy is opened at the remote domain. if not, you will get the same error.\nAlso if you are using Spring and created/extended a WebSecurityConfigurerAdapter file, you can configure the CORS by redefining CorsConfigurationSource bean in the WebSecurityConfig file. just make sure to add your localhost url in allowed origins.</p>\n<p>Something like below:</p>\n<pre><code>@Bean\n  public CorsConfigurationSource corsConfigurationSource() {\n    final CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(ImmutableList.of(&quot;..your localhost url..&quot;));\n    final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n  }\n</code></pre>\n"}],"owner":{"account_id":16662660,"reputation":127,"user_id":12042237,"display_name":"javaway"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649367821,"creation_date":1645372120,"question_id":71196027,"body_markdown":"```\r\n  $(&quot;.submit&quot;).click(function (e) {\r\n    e.preventDefault();\r\n    $.ajax({\r\n      async: true,\r\n      crossDomain: true,\r\n      method: &quot;post&quot;,\r\n      data: $(&quot;form[name=something]&quot;).serialize(),\r\n      url: &quot;myUrl&quot;,\r\n      success: function (res) {\r\n        console.log(res);\r\n      },\r\n      error: function (res) {\r\n        console.log(res.status);\r\n      },\r\n    });\r\n  });\r\n```\r\nand my spring mvc controller like \r\n```\r\n@RestController\r\n@CrossOrigin(origins = {&quot;*&quot;},\r\n        methods = {RequestMethod.GET, RequestMethod.POST,\r\n            RequestMethod.PUT, RequestMethod.DELETE})\r\npublic class AppController {\r\n...\r\n...\r\n...\r\n}\r\n``` \r\n\r\n&gt; If is send (get) request it work properly but when i send (post) it got exception : \r\n&gt; Access to XMLHttpRequest at (remote server)from origin (localhost)has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n ","title":"spring mvc ajax get work but post not work when i send request to remote server from localhost","body":"<pre><code>  $(&quot;.submit&quot;).click(function (e) {\n    e.preventDefault();\n    $.ajax({\n      async: true,\n      crossDomain: true,\n      method: &quot;post&quot;,\n      data: $(&quot;form[name=something]&quot;).serialize(),\n      url: &quot;myUrl&quot;,\n      success: function (res) {\n        console.log(res);\n      },\n      error: function (res) {\n        console.log(res.status);\n      },\n    });\n  });\n</code></pre>\n<p>and my spring mvc controller like</p>\n<pre><code>@RestController\n@CrossOrigin(origins = {&quot;*&quot;},\n        methods = {RequestMethod.GET, RequestMethod.POST,\n            RequestMethod.PUT, RequestMethod.DELETE})\npublic class AppController {\n...\n...\n...\n}\n</code></pre>\n<blockquote>\n<p>If is send (get) request it work properly but when i send (post) it got exception :\nAccess to XMLHttpRequest at (remote server)from origin (localhost)has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":0,"creation_date":1649367274,"post_id":71789121,"comment_id":126864514,"body_markdown":"You can do it by the code into the Activity or Fragment. But You need to specify the in which circumstance the new button will be added to the list.","body":"You can do it by the code into the Activity or Fragment. But You need to specify the in which circumstance the new button will be added to the list."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1649367782,"post_id":71789121,"comment_id":126864639,"body_markdown":"don&#39;t use listview, use recyclerview","body":"don&#39;t use listview, use recyclerview"},{"owner":{"account_id":1395849,"reputation":519,"user_id":1325615,"accept_rate":60,"display_name":"Hasan"},"score":0,"creation_date":1649371969,"post_id":71789121,"comment_id":126865484,"body_markdown":"Simply follow the instruction: https://medium.com/androiddevelopers/adapting-to-listadapter-341da4218f5b. it will be a great help","body":"Simply follow the instruction: <a href=\"https://medium.com/androiddevelopers/adapting-to-listadapter-341da4218f5b\" rel=\"nofollow noreferrer\">medium.com/androiddevelopers/&hellip;</a>. it will be a great help"}],"owner":{"account_id":21271159,"reputation":36,"user_id":15650674,"display_name":"Daniel Traslavina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649366900,"creation_date":1649366900,"question_id":71789121,"body_markdown":"I have this custom layout element\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:padding=&quot;10dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_width=&quot;match_parent&quot;&gt;\r\n\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/firstEdit&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textColor=&quot;@color/purple_200&quot;\r\n        android:layout_weight=&quot;0.4&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/secondEdit&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;0.3&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;numberDecimal&quot;/&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/thirdEdit&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;0.3&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;numberDecimal&quot;/&gt;\r\n\r\n    &lt;ImageButton\r\n        android:id=&quot;@+id/imgBtn&quot;\r\n        android:backgroundTint=&quot;@color/purple_500&quot;\r\n        android:src=&quot;@drawable/ic_baseline_control_point_24&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;0.1&quot;\r\n        android:checked=&quot;false&quot;\r\n        android:clickable=&quot;false&quot;\r\n        android:gravity=&quot;center&quot; /&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\nIt&#39;s basically just three edit texts and a button, is there a way to create a list and progressively add elements of this type to it? I&#39;ve seen ways of doing it with a cursorAdapter but I believe those can only be used for sqlLite queries and such, but I want to start the list with just one element and let the button add extra elements of the same type.","title":"How to add custom layout elements to listView in Android Studio","body":"<p>I have this custom layout element</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:padding=&quot;10dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_width=&quot;match_parent&quot;&gt;\n\n\n&lt;EditText\n    android:id=&quot;@+id/firstEdit&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:textSize=&quot;20sp&quot;\n    android:textColor=&quot;@color/purple_200&quot;\n    android:layout_weight=&quot;0.4&quot;/&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/secondEdit&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;0.3&quot;\n    android:gravity=&quot;center&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;numberDecimal&quot;/&gt;\n\n&lt;EditText\n    android:id=&quot;@+id/thirdEdit&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;0.3&quot;\n    android:gravity=&quot;center&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;numberDecimal&quot;/&gt;\n\n&lt;ImageButton\n    android:id=&quot;@+id/imgBtn&quot;\n    android:backgroundTint=&quot;@color/purple_500&quot;\n    android:src=&quot;@drawable/ic_baseline_control_point_24&quot;\n    android:layout_width=&quot;30dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;0.1&quot;\n    android:checked=&quot;false&quot;\n    android:clickable=&quot;false&quot;\n    android:gravity=&quot;center&quot; /&gt;\n</code></pre>\n\n<p>It's basically just three edit texts and a button, is there a way to create a list and progressively add elements of this type to it? I've seen ways of doing it with a cursorAdapter but I believe those can only be used for sqlLite queries and such, but I want to start the list with just one element and let the button add extra elements of the same type.</p>\n"},{"tags":["java","kotlin","concurrency","kotlin-coroutines","executorservice"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1649370939,"post_id":71788771,"comment_id":126865297,"body_markdown":"The question seems to be implying that Java&#39;s ExecutorService is not available in Kotlin. While the questioner may not have intended that, it may be worth underlining for posterity that Kotlin/JVM has access to all Java platform classes and all Java libraries, just like in Java.","body":"The question seems to be implying that Java&#39;s ExecutorService is not available in Kotlin. While the questioner may not have intended that, it may be worth underlining for posterity that Kotlin/JVM has access to all Java platform classes and all Java libraries, just like in Java."},{"owner":{"account_id":21107580,"reputation":25,"user_id":15516235,"display_name":"Klims"},"score":1,"creation_date":1649526925,"post_id":71788771,"comment_id":126900277,"body_markdown":"@gidds Not exactly, I wonder what would be the Kotlin idiomatic way to implement this","body":"@gidds Not exactly, I wonder what would be the Kotlin idiomatic way to implement this"},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":0,"creation_date":1649529568,"post_id":71788771,"comment_id":126900837,"body_markdown":"If you&#39;re using IntelliJ, write your Java code, then tell the IDE to convert it into Kotlin. It doesn&#39;t always come up with neat, idiomatic Kotlin (in fact, sometimes it doesn&#39;t even come up with _compilable_ code…) but it&#39;s usually a very good place to start from.","body":"If you&#39;re using IntelliJ, write your Java code, then tell the IDE to convert it into Kotlin. It doesn&#39;t always come up with neat, idiomatic Kotlin (in fact, sometimes it doesn&#39;t even come up with <i>compilable</i> code…) but it&#39;s usually a very good place to start from."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649366890,"creation_date":1649366890,"answer_id":71789117,"question_id":71788771,"body_markdown":"Kotlin does not tie thread pools to work completion, but your solution was already an accurate translation.  You do not need to do anything special to wait for the tasks to complete; this is done automatically by `launch` and by every coroutine builder method as a result of [structured concurrency](https://kotlinlang.org/docs/coroutine-context-and-dispatchers.html).\r\n\r\nI would write this as\r\n\r\n```kotlin\r\nval result : List&lt;Int&gt; = runBlocking {\r\n  // you can specify a thread pool, but it looks like you should really use the default one\r\n  (MIN_DEPTH..maxDepth step 2).map { depth -&gt;\r\n    async {\r\n      val check = 0\r\n      val iterations = 1 shl (maxDepth - depth + MIN_DEPTH)\r\n      for (i in 0 until iterations) {\r\n        check += bottomUpTree(depth).itemCheck()\r\n      }\r\n      check\r\n    }\r\n   }.awaitAll()\r\n}","title":"ExecutorService analog in Kotlin","body":"<p>Kotlin does not tie thread pools to work completion, but your solution was already an accurate translation.  You do not need to do anything special to wait for the tasks to complete; this is done automatically by <code>launch</code> and by every coroutine builder method as a result of <a href=\"https://kotlinlang.org/docs/coroutine-context-and-dispatchers.html\" rel=\"nofollow noreferrer\">structured concurrency</a>.</p>\n<p>I would write this as</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val result : List&lt;Int&gt; = runBlocking {\n  // you can specify a thread pool, but it looks like you should really use the default one\n  (MIN_DEPTH..maxDepth step 2).map { depth -&gt;\n    async {\n      val check = 0\n      val iterations = 1 shl (maxDepth - depth + MIN_DEPTH)\n      for (i in 0 until iterations) {\n        check += bottomUpTree(depth).itemCheck()\n      }\n      check\n    }\n   }.awaitAll()\n}\n</code></pre>\n"}],"owner":{"account_id":21107580,"reputation":25,"user_id":15516235,"display_name":"Klims"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2767,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649366890,"creation_date":1649364698,"question_id":71788771,"body_markdown":"I have a piece of Java code that uses ExecutorService. I need to convert this code to Kotlin using coroutines. I tried using GlobalScope.launch() which did work but very differently. In Java code there is EXECUTOR_SERVICE.shutdown() and EXECUTOR_SERVICE.awaitTermination to determine when all the tasks are completed. What would be the closest implementation to this in Kotlin?\r\n\r\nJava code:\r\n```\r\nfinal ExecutorService EXECUTOR_SERVICE =\r\n                Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\nfor (int d = MIN_DEPTH; d &lt;= maxDepth; d += 2) {\r\n            final int depth = d;\r\n            EXECUTOR_SERVICE.execute(() -&gt; {\r\n                int check = 0;\r\n\r\n                final int iterations = 1 &lt;&lt; (maxDepth - depth + MIN_DEPTH);\r\n                for (int i = 1; i &lt;= iterations; ++i) {\r\n                    final TreeNode treeNode1 = bottomUpTree(depth);\r\n                    check += treeNode1.itemCheck();\r\n                }\r\n                results[(depth - MIN_DEPTH) / 2] =\r\n                        iterations + &quot;\\t trees of depth &quot; + depth + &quot;\\t check: &quot; + check;\r\n            });\r\n        }\r\nEXECUTOR_SERVICE.shutdown();\r\nEXECUTOR_SERVICE.awaitTermination(120L, TimeUnit.SECONDS);\r\n```","title":"ExecutorService analog in Kotlin","body":"<p>I have a piece of Java code that uses ExecutorService. I need to convert this code to Kotlin using coroutines. I tried using GlobalScope.launch() which did work but very differently. In Java code there is EXECUTOR_SERVICE.shutdown() and EXECUTOR_SERVICE.awaitTermination to determine when all the tasks are completed. What would be the closest implementation to this in Kotlin?</p>\n<p>Java code:</p>\n<pre><code>final ExecutorService EXECUTOR_SERVICE =\n                Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\nfor (int d = MIN_DEPTH; d &lt;= maxDepth; d += 2) {\n            final int depth = d;\n            EXECUTOR_SERVICE.execute(() -&gt; {\n                int check = 0;\n\n                final int iterations = 1 &lt;&lt; (maxDepth - depth + MIN_DEPTH);\n                for (int i = 1; i &lt;= iterations; ++i) {\n                    final TreeNode treeNode1 = bottomUpTree(depth);\n                    check += treeNode1.itemCheck();\n                }\n                results[(depth - MIN_DEPTH) / 2] =\n                        iterations + &quot;\\t trees of depth &quot; + depth + &quot;\\t check: &quot; + check;\n            });\n        }\nEXECUTOR_SERVICE.shutdown();\nEXECUTOR_SERVICE.awaitTermination(120L, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":["java","json","spring-boot","jackson","jackson-databind"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1649365628,"post_id":71788850,"comment_id":126864073,"body_markdown":"The id is a string array but you&#39;re using an Integer array","body":"The id is a string array but you&#39;re using an Integer array"},{"owner":{"account_id":15769823,"reputation":145,"user_id":11379189,"display_name":"Michele Verriello"},"score":1,"creation_date":1649366156,"post_id":71788850,"comment_id":126864213,"body_markdown":"You need to change ```Integer[] id```  into ```String[] id``` into Employee class.\nInto JSON format ```&quot;property&quot;: &quot;12342&quot; //is string``` and ```&quot;property&quot;: 12342 //is integer```","body":"You need to change <code>Integer[] id</code>  into <code>String[] id</code> into Employee class. Into JSON format <code>&quot;property&quot;: &quot;12342&quot; &#47;&#47;is string</code> and <code>&quot;property&quot;: 12342 &#47;&#47;is integer</code>"}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649366163,"creation_date":1649366163,"answer_id":71789017,"question_id":71788850,"body_markdown":"The `Employee` POJO should look like this: \r\n\r\n    @JsonProperty(&quot;id&quot;)\r\n    private final List&lt;String&gt; ids;\r\n    @JsonProperty(&quot;firstname&quot;)\r\n    private final List&lt;String&gt; firstNames;\r\n    @JsonProperty(&quot;lastname&quot;)\r\n    private final List&lt;String&gt; lastNames;\r\n    \r\n    @JsonCreator\r\n    public Employee(@JsonProperty(value = &quot;id&quot;) List&lt;String&gt; ids, @JsonProperty(value = &quot;firstname&quot;) List&lt;String&gt; firstNames, @JsonProperty(value = &quot;lastname&quot;) List&lt;String&gt; lastNames) {\r\n        this.ids = ids;\r\n        this.firstNames = firstNames;\r\n        this.lastNames = lastNames;\r\n    }\r\n    \r\n    //getters code\r\n\r\nThen, you have an object `Data`:\r\n\r\n    @JsonProperty(&quot;date&quot;)\r\n    private final String date;\r\n    @JsonProperty(&quot;employee&quot;)\r\n    private final List&lt;Employee&gt; employees;\r\n    \r\n    @JsonCreator\r\n    public Data(@JsonProperty(value = &quot;date&quot;) String date, @JsonProperty(value = &quot;employee&quot;) List&lt;Employee&gt; employees) {\r\n        this.date = date;\r\n        this.employees = employees;\r\n    } \r\n    \r\n    //getters code\r\n\r\nFinally, the whole `Answer` that you want to parse has this shape:\r\n\r\n    @JsonProperty(&quot;data&quot;)\r\n    private final Data data;\r\n\r\n    @JsonCreator\r\n    public Answer(@JsonProperty(value = &quot;data&quot;) Data data) {\r\n        this.data = data;\r\n    } \r\n\r\n    //getter code\r\n\r\nOnce you have defined these 3 classes, then you will be able to do: \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    Answer answer = objectMapper.readValue(yourStringAnswer, Answer.class);\r\n\r\nNote: in your question, you are trying to parse an `URL` to an `ObjectNode`. I hardly doubt you would be able to do that. \r\nI guess you want to perform the HTTP request to the `URL`, then getting the response stream and that&#39;s what you want to parse into `Answer` (not the URL itself). \r\n\r\nAlso, a few notes on the API response (in case you own it and so you can act on it):\r\n\r\n - All the lists would be more naturally declared with a plural name (e.g. `employee` should be `employees`)\r\n - The list of `ids` are numeric but are returned as strings. Also, why an employee would have a list of ids, and not a single id? \r\n - Why would an employee have a list of first names and last names? Shouldn&#39;t this be a simple string each (even if composed by more than one name)?\r\n - Use camel case (`firstName`, not `firstname`)\r\n - I don&#39;t see the point of putting everything into `data`, it may simply be the response containing `date` and `employees`\r\n\r\n    \r\n","title":"How to parse a JSON array of objects using Jackson?","body":"<p>The <code>Employee</code> POJO should look like this:</p>\n<pre><code>@JsonProperty(&quot;id&quot;)\nprivate final List&lt;String&gt; ids;\n@JsonProperty(&quot;firstname&quot;)\nprivate final List&lt;String&gt; firstNames;\n@JsonProperty(&quot;lastname&quot;)\nprivate final List&lt;String&gt; lastNames;\n\n@JsonCreator\npublic Employee(@JsonProperty(value = &quot;id&quot;) List&lt;String&gt; ids, @JsonProperty(value = &quot;firstname&quot;) List&lt;String&gt; firstNames, @JsonProperty(value = &quot;lastname&quot;) List&lt;String&gt; lastNames) {\n    this.ids = ids;\n    this.firstNames = firstNames;\n    this.lastNames = lastNames;\n}\n\n//getters code\n</code></pre>\n<p>Then, you have an object <code>Data</code>:</p>\n<pre><code>@JsonProperty(&quot;date&quot;)\nprivate final String date;\n@JsonProperty(&quot;employee&quot;)\nprivate final List&lt;Employee&gt; employees;\n\n@JsonCreator\npublic Data(@JsonProperty(value = &quot;date&quot;) String date, @JsonProperty(value = &quot;employee&quot;) List&lt;Employee&gt; employees) {\n    this.date = date;\n    this.employees = employees;\n} \n\n//getters code\n</code></pre>\n<p>Finally, the whole <code>Answer</code> that you want to parse has this shape:</p>\n<pre><code>@JsonProperty(&quot;data&quot;)\nprivate final Data data;\n\n@JsonCreator\npublic Answer(@JsonProperty(value = &quot;data&quot;) Data data) {\n    this.data = data;\n} \n\n//getter code\n</code></pre>\n<p>Once you have defined these 3 classes, then you will be able to do:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nAnswer answer = objectMapper.readValue(yourStringAnswer, Answer.class);\n</code></pre>\n<p>Note: in your question, you are trying to parse an <code>URL</code> to an <code>ObjectNode</code>. I hardly doubt you would be able to do that.\nI guess you want to perform the HTTP request to the <code>URL</code>, then getting the response stream and that's what you want to parse into <code>Answer</code> (not the URL itself).</p>\n<p>Also, a few notes on the API response (in case you own it and so you can act on it):</p>\n<ul>\n<li>All the lists would be more naturally declared with a plural name (e.g. <code>employee</code> should be <code>employees</code>)</li>\n<li>The list of <code>ids</code> are numeric but are returned as strings. Also, why an employee would have a list of ids, and not a single id?</li>\n<li>Why would an employee have a list of first names and last names? Shouldn't this be a simple string each (even if composed by more than one name)?</li>\n<li>Use camel case (<code>firstName</code>, not <code>firstname</code>)</li>\n<li>I don't see the point of putting everything into <code>data</code>, it may simply be the response containing <code>date</code> and <code>employees</code></li>\n</ul>\n"}],"owner":{"account_id":13459071,"reputation":312,"user_id":9711763,"display_name":"Mohsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71789017,"answer_count":1,"score":0,"last_activity_date":1649366163,"creation_date":1649365170,"question_id":71788850,"body_markdown":"I have a Json response as follows: \r\n\r\n       {\r\n          &quot;data&quot;: {\r\n            &quot;date&quot;: &quot;7 Apr 2022&quot;,\r\n            &quot;employee&quot;: [\r\n              {\r\n                &quot;id&quot;: [\r\n                  &quot;1288563656&quot;\r\n                ],\r\n                &quot;firstname&quot;: [\r\n                  &quot;Mohammed&quot;\r\n                ],\r\n                &quot;lastname&quot;: [\r\n                  &quot;Ali&quot;\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        }\r\n\r\nI am trying to create a POJO called Employee and map it to the &quot;employee&quot; attribute in the JSON response.\r\n\r\nThis is what I did as an attempt:\r\n\r\n**Employee.java**\r\n\r\n    public class Emoloyee {\r\n        private Integer[] id;\r\n        private String[] firstname;\r\n        private String[] lastname;\r\n        \r\n        public Employee(Integer[] id, String[] firstname, String[] lastname){\r\n            this.id = id;\r\n            this.firstname = firstname;\r\n            this.lastname = lastname;\r\n        }\r\n        \r\n        public Employee(){\r\n            \r\n        }\r\n        \r\n        public Integet[] getId(){\r\n            return id;\r\n        }\r\n        \r\n        public void setId(Integer[] id){\r\n            this.id = id;\r\n        }\r\n        \r\n        public String[] getFirstname(){\r\n            return firstname;\r\n        }\r\n        \r\n        public void setFirstname(String[] firstname){\r\n            this.firstname = firstname;\r\n        }\r\n        \r\n        public String[] getLastname(){\r\n            return lastname;\r\n        }\r\n        \r\n        public void setLastname(String[] lastname){\r\n            this.lastname = lastname;\r\n        }\r\n        \r\n    }\r\n\r\nUsing Jackson:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    URL jsonUrl = new URL(&quot;[API_URL]&quot;);\r\n    final ObjectNode node = mapper.readValue(jsonUrl, ObjectNode.class);\r\n    Employee[] employees = mapper.treeToValue(node.get(&quot;data&quot;).get(&quot;employee&quot;), Employee[].class);\r\n\r\nWhen I execute the app, I get the following error:\r\n\r\n    Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type &#39;long&#39; from Array value (toke &#39;JsonToken.START_ARRAY&#39;)\r\n\r\nAs you may noticed, I am not interested of the *date* attribute, I only need to get the values of the employee and create an Employee object out of it. ","title":"How to parse a JSON array of objects using Jackson?","body":"<p>I have a Json response as follows:</p>\n<pre><code>   {\n      &quot;data&quot;: {\n        &quot;date&quot;: &quot;7 Apr 2022&quot;,\n        &quot;employee&quot;: [\n          {\n            &quot;id&quot;: [\n              &quot;1288563656&quot;\n            ],\n            &quot;firstname&quot;: [\n              &quot;Mohammed&quot;\n            ],\n            &quot;lastname&quot;: [\n              &quot;Ali&quot;\n            ]\n          }\n        ]\n      }\n    }\n</code></pre>\n<p>I am trying to create a POJO called Employee and map it to the &quot;employee&quot; attribute in the JSON response.</p>\n<p>This is what I did as an attempt:</p>\n<p><strong>Employee.java</strong></p>\n<pre><code>public class Emoloyee {\n    private Integer[] id;\n    private String[] firstname;\n    private String[] lastname;\n    \n    public Employee(Integer[] id, String[] firstname, String[] lastname){\n        this.id = id;\n        this.firstname = firstname;\n        this.lastname = lastname;\n    }\n    \n    public Employee(){\n        \n    }\n    \n    public Integet[] getId(){\n        return id;\n    }\n    \n    public void setId(Integer[] id){\n        this.id = id;\n    }\n    \n    public String[] getFirstname(){\n        return firstname;\n    }\n    \n    public void setFirstname(String[] firstname){\n        this.firstname = firstname;\n    }\n    \n    public String[] getLastname(){\n        return lastname;\n    }\n    \n    public void setLastname(String[] lastname){\n        this.lastname = lastname;\n    }\n    \n}\n</code></pre>\n<p>Using Jackson:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nURL jsonUrl = new URL(&quot;[API_URL]&quot;);\nfinal ObjectNode node = mapper.readValue(jsonUrl, ObjectNode.class);\nEmployee[] employees = mapper.treeToValue(node.get(&quot;data&quot;).get(&quot;employee&quot;), Employee[].class);\n</code></pre>\n<p>When I execute the app, I get the following error:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type 'long' from Array value (toke 'JsonToken.START_ARRAY')\n</code></pre>\n<p>As you may noticed, I am not interested of the <em>date</em> attribute, I only need to get the values of the employee and create an Employee object out of it.</p>\n"},{"tags":["javascript","java","arrays","reactjs","react-native"],"answers":[{"tags":[],"owner":{"account_id":7104753,"reputation":1,"user_id":5434792,"display_name":"Khee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649364801,"creation_date":1649364801,"answer_id":71788792,"question_id":71776677,"body_markdown":"at first glance, `undefined is not an object (evaluating &#39;selectedDoc.quantity&#39;)` is referring to the `selectedDoc` is `undefined`.\r\n\r\nHave you debugged to see if the `items` has the the correct key that matches `action.pid` ?\r\n\r\n```\r\nconst selectedDoc = state.items[action.pid];\r\nconst quantity = selectedDoc.quantity;\r\n```\r\n\r\ndo nothing if undefined.\r\n\r\n```\r\nconst selectedDoc = state.items[action.pid];\r\nif (selectedDoc) {\r\n   // your logic here\r\n} else {\r\n  return state; // do nothing\r\n}\r\n```\r\n","title":"undefined is not an object (evaluating &#39;selectedDoc.quantity&#39;)","body":"<p>at first glance, <code>undefined is not an object (evaluating 'selectedDoc.quantity')</code> is referring to the <code>selectedDoc</code> is <code>undefined</code>.</p>\n<p>Have you debugged to see if the <code>items</code> has the the correct key that matches <code>action.pid</code> ?</p>\n<pre><code>const selectedDoc = state.items[action.pid];\nconst quantity = selectedDoc.quantity;\n</code></pre>\n<p>do nothing if undefined.</p>\n<pre><code>const selectedDoc = state.items[action.pid];\nif (selectedDoc) {\n   // your logic here\n} else {\n  return state; // do nothing\n}\n</code></pre>\n"}],"owner":{"account_id":24772969,"reputation":73,"user_id":18656642,"display_name":"dbafix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649364801,"creation_date":1649308525,"question_id":71776677,"body_markdown":"I am constantly getting this error - This issue is in remove case. as soon as I remove the remove case in Appoint/reducers, the code is working. can someone help me find what the error is in remove case. \r\n**undefined is not an object (evaluating &#39;selectedDoc.quantity&#39;)**\r\nI don&#39;t know why it&#39;s undefined. help will be appreciated.\r\n\r\n\r\n//appoint.js/reducers\r\n\r\n    import { APPOINT_DOC,Remove_Doc } from &quot;../actions/appoint&quot;;\r\n    import docAppoint from &#39;../../modules/docAppoint&#39;;\r\n    \r\n    const initialState = {\r\n      items: {},\r\n      totalAmount: 0\r\n    };\r\n    \r\n    export default (state = initialState, action) =&gt; {\r\n      switch (action.type) {\r\n        case APPOINT_DOC:\r\n          const addedProduct = action.product;\r\n          const prodPrice = addedProduct.price;\r\n          const prodTitle = addedProduct.title;\r\n    \r\n          let updateOrNewDocAppoint;\r\n    \r\n          if (state.items[addedProduct.id]) {\r\n            // already have the item in the cart\r\n            updateOrNewDocAppoint = new docAppoint(\r\n              state.items[addedProduct.id].quantity + 1,\r\n              prodPrice,\r\n              prodTitle,\r\n              state.items[addedProduct.id].sum + prodPrice\r\n            );\r\n          } else {\r\n            updateOrNewDocAppoint = new docAppoint(1, prodPrice, prodTitle, prodPrice);\r\n          }\r\n          return {\r\n            ...state,\r\n            items: { ...state.items, [addedProduct.id]: updateOrNewDocAppoint },\r\n            totalAmount: state.totalAmount + prodPrice\r\n          };\r\n          case Remove_Doc:\r\n          const selectedDoc = state.items[action.pid];\r\n          const quantity = selectedDoc.quantity;\r\n          let updatedDoc;\r\n          if (quantity &gt; 1) {\r\n            // need to reduce it, not erase it\r\n            const updatedDoc = new docAppoint(\r\n              selectedDoc.quantity - 1,\r\n              selectedDoc.prodPrice,\r\n              selectedDoc.prodTitle,\r\n              selectedDoc.sum - selectedDoc.prodPrice\r\n            );\r\n            updatedDoc = { ...state.items, [action.pid]: updatedDoc };\r\n          } else {\r\n            updatedDoc = { ...state.items };\r\n            delete updatedDoc[action.pid];\r\n          }\r\n          return {\r\n            ...state,\r\n            items: updatedDoc,\r\n            totalAmount: state.totalAmount - selectedDoc.prodPrice\r\n          };\r\n      }\r\n\r\n//appoint.js/actions\r\n\r\n    export const APPOINT_DOC = &#39;APPOINT_DOC&#39;;\r\n    export const Remove_Doc = &#39;Remove_Doc&#39;;\r\n    \r\n    export const appointDoc = product =&gt; {\r\n        return {\r\n            type : APPOINT_DOC, product:product\r\n        };\r\n    };\r\n    \r\n    export const removeDoc = productId =&gt; {\r\n    return{ type: Remove_Doc, pid: productId  };\r\n    };\r\n\r\n//docAppoint.js/modules\r\n\r\n    class docAppoint {\r\n        constructor( quantity,productPrice,productTitle,sum){\r\n            this.quantity=quantity;\r\n            this.productPrice=productPrice;\r\n            this.productTitle=productTitle;\r\n            this.sum=sum;\r\n            \r\n        }\r\n    } \r\n\r\n//registerDr\r\n\r\n    import React from &quot;react&quot;;\r\n    import { View, Text, StyleSheet,Button,FlatList } from &#39;react-native&#39;;\r\n    import {useSelector,useDispatch} from &#39;react-redux&#39;;\r\n    import colors from &quot;../../constants/colors&quot;;\r\n    import appoint from &quot;../../store/reducers/appoint&quot;;\r\n    import ProcessDr from &quot;../../components/Doctor/process&quot;;\r\n    import * as docActions from &#39;../../store/actions/appoint&#39;;\r\n    \r\n    const registerDr = props =&gt; {\r\n    const totalFee = useSelector (state =&gt; state.appoint.totalAmount)\r\n    const appointDoc = useSelector (state =&gt; {\r\n        const transformedAppointDoc = []\r\n        for (const key in state.appoint.items ) {\r\n            transformedAppointDoc.push({\r\n                productId : key,\r\n                productTitle : state.appoint.items[key].productTitle,\r\n                productPrice : state.appoint.items[key].productPrice,\r\n                quantity : state.appoint.items[key].quantity,\r\n                sum : state.appoint.items[key].sum\r\n            });\r\n        }\r\n        return transformedAppointDoc;\r\n        \r\n    });\r\n    \r\n    const dispatch = useDispatch();\r\n    \r\n        return(\r\n            &lt;View style={styles.screen}&gt;\r\n    \r\n                &lt;View style={styles.summary}&gt;\r\n                    &lt;Text style={styles.summarytext}&gt; Fee: &lt;Text style={styles.amount} &gt; {totalFee} RS &lt;/Text&gt; &lt;/Text&gt;\r\n                    &lt;Button disabled = {appointDoc.length === 0}\r\n                    title=&quot;Appoint Doctor&quot; color={colors.primary}  /&gt;\r\n                &lt;/View&gt;\r\n                &lt;View&gt;\r\n                    &lt;FlatList data ={appointDoc} \r\n                    keyExtractor = {item =&gt; item.productId} \r\n                    renderItem ={itemData =&gt;\r\n                    &lt;ProcessDr quantity={itemData.item.quantity}\r\n                    title={itemData.item.productTitle} \r\n                    amount={itemData.item.sum} \r\n                     onRemove = {() =&gt; {\r\n                     dispatch(docActions.removeDoc(itemData.item.productTitle))\r\n                    }}\r\n                    \r\n                    \r\n                    \r\n                    /&gt;} /&gt;\r\n                &lt;/View&gt;\r\n    \r\n            &lt;/View&gt;\r\n        )\r\n    }\r\n    \r\n    const styles= StyleSheet.create({\r\n        screen:{\r\n            margin: 20,\r\n        },\r\n        summary:{\r\n            flexDirection:&#39;row&#39;,\r\n            alignItems:&#39;center&#39;,\r\n            justifyContent:&#39;space-between&#39;,\r\n            marginBottom:20,\r\n            padding: 10,\r\n            shadowColor: &#39;black&#39;,\r\n        shadowOpacity: 0.26,\r\n        shadowOffset: { width: 0, height: 2 },\r\n        shadowRadius: 8,\r\n        elevation: 5,\r\n        borderRadius: 10,\r\n        backgroundColor: &#39;white&#39;,\r\n        },\r\n        summarytext:{\r\n            fontFamily:&#39;opsb&#39;,\r\n            fontSize:18,\r\n        },\r\n        amount: {\r\n            color: colors.primary\r\n        }\r\n    })\r\n    \r\n    export default registerDr;","title":"undefined is not an object (evaluating &#39;selectedDoc.quantity&#39;)","body":"<p>I am constantly getting this error - This issue is in remove case. as soon as I remove the remove case in Appoint/reducers, the code is working. can someone help me find what the error is in remove case.\n<strong>undefined is not an object (evaluating 'selectedDoc.quantity')</strong>\nI don't know why it's undefined. help will be appreciated.</p>\n<p>//appoint.js/reducers</p>\n<pre><code>import { APPOINT_DOC,Remove_Doc } from &quot;../actions/appoint&quot;;\nimport docAppoint from '../../modules/docAppoint';\n\nconst initialState = {\n  items: {},\n  totalAmount: 0\n};\n\nexport default (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case APPOINT_DOC:\n      const addedProduct = action.product;\n      const prodPrice = addedProduct.price;\n      const prodTitle = addedProduct.title;\n\n      let updateOrNewDocAppoint;\n\n      if (state.items[addedProduct.id]) {\n        // already have the item in the cart\n        updateOrNewDocAppoint = new docAppoint(\n          state.items[addedProduct.id].quantity + 1,\n          prodPrice,\n          prodTitle,\n          state.items[addedProduct.id].sum + prodPrice\n        );\n      } else {\n        updateOrNewDocAppoint = new docAppoint(1, prodPrice, prodTitle, prodPrice);\n      }\n      return {\n        ...state,\n        items: { ...state.items, [addedProduct.id]: updateOrNewDocAppoint },\n        totalAmount: state.totalAmount + prodPrice\n      };\n      case Remove_Doc:\n      const selectedDoc = state.items[action.pid];\n      const quantity = selectedDoc.quantity;\n      let updatedDoc;\n      if (quantity &gt; 1) {\n        // need to reduce it, not erase it\n        const updatedDoc = new docAppoint(\n          selectedDoc.quantity - 1,\n          selectedDoc.prodPrice,\n          selectedDoc.prodTitle,\n          selectedDoc.sum - selectedDoc.prodPrice\n        );\n        updatedDoc = { ...state.items, [action.pid]: updatedDoc };\n      } else {\n        updatedDoc = { ...state.items };\n        delete updatedDoc[action.pid];\n      }\n      return {\n        ...state,\n        items: updatedDoc,\n        totalAmount: state.totalAmount - selectedDoc.prodPrice\n      };\n  }\n</code></pre>\n<p>//appoint.js/actions</p>\n<pre><code>export const APPOINT_DOC = 'APPOINT_DOC';\nexport const Remove_Doc = 'Remove_Doc';\n\nexport const appointDoc = product =&gt; {\n    return {\n        type : APPOINT_DOC, product:product\n    };\n};\n\nexport const removeDoc = productId =&gt; {\nreturn{ type: Remove_Doc, pid: productId  };\n};\n</code></pre>\n<p>//docAppoint.js/modules</p>\n<pre><code>class docAppoint {\n    constructor( quantity,productPrice,productTitle,sum){\n        this.quantity=quantity;\n        this.productPrice=productPrice;\n        this.productTitle=productTitle;\n        this.sum=sum;\n        \n    }\n} \n</code></pre>\n<p>//registerDr</p>\n<pre><code>import React from &quot;react&quot;;\nimport { View, Text, StyleSheet,Button,FlatList } from 'react-native';\nimport {useSelector,useDispatch} from 'react-redux';\nimport colors from &quot;../../constants/colors&quot;;\nimport appoint from &quot;../../store/reducers/appoint&quot;;\nimport ProcessDr from &quot;../../components/Doctor/process&quot;;\nimport * as docActions from '../../store/actions/appoint';\n\nconst registerDr = props =&gt; {\nconst totalFee = useSelector (state =&gt; state.appoint.totalAmount)\nconst appointDoc = useSelector (state =&gt; {\n    const transformedAppointDoc = []\n    for (const key in state.appoint.items ) {\n        transformedAppointDoc.push({\n            productId : key,\n            productTitle : state.appoint.items[key].productTitle,\n            productPrice : state.appoint.items[key].productPrice,\n            quantity : state.appoint.items[key].quantity,\n            sum : state.appoint.items[key].sum\n        });\n    }\n    return transformedAppointDoc;\n    \n});\n\nconst dispatch = useDispatch();\n\n    return(\n        &lt;View style={styles.screen}&gt;\n\n            &lt;View style={styles.summary}&gt;\n                &lt;Text style={styles.summarytext}&gt; Fee: &lt;Text style={styles.amount} &gt; {totalFee} RS &lt;/Text&gt; &lt;/Text&gt;\n                &lt;Button disabled = {appointDoc.length === 0}\n                title=&quot;Appoint Doctor&quot; color={colors.primary}  /&gt;\n            &lt;/View&gt;\n            &lt;View&gt;\n                &lt;FlatList data ={appointDoc} \n                keyExtractor = {item =&gt; item.productId} \n                renderItem ={itemData =&gt;\n                &lt;ProcessDr quantity={itemData.item.quantity}\n                title={itemData.item.productTitle} \n                amount={itemData.item.sum} \n                 onRemove = {() =&gt; {\n                 dispatch(docActions.removeDoc(itemData.item.productTitle))\n                }}\n                \n                \n                \n                /&gt;} /&gt;\n            &lt;/View&gt;\n\n        &lt;/View&gt;\n    )\n}\n\nconst styles= StyleSheet.create({\n    screen:{\n        margin: 20,\n    },\n    summary:{\n        flexDirection:'row',\n        alignItems:'center',\n        justifyContent:'space-between',\n        marginBottom:20,\n        padding: 10,\n        shadowColor: 'black',\n    shadowOpacity: 0.26,\n    shadowOffset: { width: 0, height: 2 },\n    shadowRadius: 8,\n    elevation: 5,\n    borderRadius: 10,\n    backgroundColor: 'white',\n    },\n    summarytext:{\n        fontFamily:'opsb',\n        fontSize:18,\n    },\n    amount: {\n        color: colors.primary\n    }\n})\n\nexport default registerDr;\n</code></pre>\n"},{"tags":["java","jsf","primefaces"],"answers":[{"tags":[],"owner":{"account_id":327831,"reputation":10444,"user_id":650425,"accept_rate":88,"display_name":"maple_shaft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308308118,"creation_date":1308308118,"answer_id":6384715,"question_id":6382260,"body_markdown":"To do this programatically it is as simple as:\r\n\r\n    MenuItem item = new MenuItem();\r\n    item.addActionListener(listener);\r\n\r\nDid I misunderstand your question?","title":"f:setPropertyActionListener for items in p:menu (Primefaces)","body":"<p>To do this programatically it is as simple as:</p>\n\n<pre><code>MenuItem item = new MenuItem();\nitem.addActionListener(listener);\n</code></pre>\n\n<p>Did I misunderstand your question?</p>\n"},{"tags":[],"owner":{"account_id":2563057,"reputation":99,"user_id":2223787,"display_name":"Denis Orlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364547987,"creation_date":1364547987,"answer_id":15700289,"question_id":6382260,"body_markdown":"        \r\n    import javax.faces.event.ActionListener;\r\n    import com.sun.faces.taglib.jsf_core.SetPropertyActionListenerImpl;\r\n    ...\r\n    //setPropertyActionListener\r\n                    ValueExpression target = expFact.createValueExpression(elCtx, &quot;#{TesterBean.someProperty}&quot;, String.class);\r\n                    ValueExpression value  = expFact.createValueExpression(strProperty, String.class);\r\n                    ActionListener handler = new SetPropertyActionListenerImpl( target , value );\r\n                    newCommandLink.addActionListener(handler);","title":"f:setPropertyActionListener for items in p:menu (Primefaces)","body":"<pre><code>import javax.faces.event.ActionListener;\nimport com.sun.faces.taglib.jsf_core.SetPropertyActionListenerImpl;\n...\n//setPropertyActionListener\n                ValueExpression target = expFact.createValueExpression(elCtx, \"#{TesterBean.someProperty}\", String.class);\n                ValueExpression value  = expFact.createValueExpression(strProperty, String.class);\n                ActionListener handler = new SetPropertyActionListenerImpl( target , value );\n                newCommandLink.addActionListener(handler);\n</code></pre>\n"}],"owner":{"account_id":413343,"reputation":1359,"user_id":786914,"accept_rate":67,"display_name":"aNi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649364383,"creation_date":1308293106,"question_id":6382260,"body_markdown":"Can you show me how to add f:setPropertyActionListener for Programmatic Menu using Primefaces in jsf\r\n\r\n\r\n    public MenuBean() {  \r\n            model = new DefaultMenuModel();  \r\n              \r\n            //First submenu  \r\n            Submenu submenu = new Submenu();  \r\n            submenu.setLabel(&quot;Dynamic Submenu 1&quot;);  \r\n              \r\n            MenuItem item = new MenuItem();  \r\n            item.setValue(&quot;Dynamic Menuitem 1.1&quot;);  \r\n            item.setUrl(&quot;#&quot;);  \r\n            submenu.getChildren().add(item);  \r\n              \r\n            model.addSubmenu(submenu);  \r\n              \r\n            //Second submenu  \r\n            submenu = new Submenu();  \r\n            submenu.setLabel(&quot;Dynamic Submenu 2&quot;);  \r\n              \r\n            item = new MenuItem();  \r\n            item.setValue(&quot;Dynamic Menuitem 2.1&quot;);  \r\n            item.setUrl(&quot;#&quot;);  \r\n            submenu.getChildren().add(item);  \r\n              \r\n            item = new MenuItem();  \r\n            item.setValue(&quot;Dynamic Menuitem 2.2&quot;);  \r\n            item.setUrl(&quot;#&quot;);  \r\n            submenu.getChildren().add(item);  \r\n              \r\n            model.addSubmenu(submenu);  \r\n        } \r\n\r\n and\r\n\r\n     &lt;p:menu model=&quot;#{menuBean.model}&quot;/&gt;  \r\n\r\n\r\n\r\n","title":"f:setPropertyActionListener for items in p:menu (Primefaces)","body":"<p>Can you show me how to add f:setPropertyActionListener for Programmatic Menu using Primefaces in jsf</p>\n\n<pre><code>public MenuBean() {  \n        model = new DefaultMenuModel();  \n\n        //First submenu  \n        Submenu submenu = new Submenu();  \n        submenu.setLabel(\"Dynamic Submenu 1\");  \n\n        MenuItem item = new MenuItem();  \n        item.setValue(\"Dynamic Menuitem 1.1\");  \n        item.setUrl(\"#\");  \n        submenu.getChildren().add(item);  \n\n        model.addSubmenu(submenu);  \n\n        //Second submenu  \n        submenu = new Submenu();  \n        submenu.setLabel(\"Dynamic Submenu 2\");  \n\n        item = new MenuItem();  \n        item.setValue(\"Dynamic Menuitem 2.1\");  \n        item.setUrl(\"#\");  \n        submenu.getChildren().add(item);  \n\n        item = new MenuItem();  \n        item.setValue(\"Dynamic Menuitem 2.2\");  \n        item.setUrl(\"#\");  \n        submenu.getChildren().add(item);  \n\n        model.addSubmenu(submenu);  \n    } \n</code></pre>\n\n<p>and</p>\n\n<pre><code> &lt;p:menu model=\"#{menuBean.model}\"/&gt;  \n</code></pre>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":24835169,"reputation":41,"user_id":18713910,"display_name":"Lacrymosa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649364082,"creation_date":1649364082,"answer_id":71788673,"question_id":71753237,"body_markdown":"Figured this out.  I have a ThreadPoolTaskExecutor configured for the spring boot.  And I set threadPoolTaskExecutor.setQueueCapacity(50).  It seems this value limits the max number of subscribers for sinks.many.  The default value for setQueueCapacity is Integer.MAX_VALUE.  Guess I will just leave it to default value.","title":"Maximum Subscribers per Sinks.Many in Spring Boot WebFlux","body":"<p>Figured this out.  I have a ThreadPoolTaskExecutor configured for the spring boot.  And I set threadPoolTaskExecutor.setQueueCapacity(50).  It seems this value limits the max number of subscribers for sinks.many.  The default value for setQueueCapacity is Integer.MAX_VALUE.  Guess I will just leave it to default value.</p>\n"}],"owner":{"account_id":24835169,"reputation":41,"user_id":18713910,"display_name":"Lacrymosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1037,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71788673,"answer_count":1,"score":1,"last_activity_date":1649364082,"creation_date":1649167664,"question_id":71753237,"body_markdown":"I have a simple spring boot WebFlux application that streams some server sent events to clients.  The code is like the following:\r\n\r\n    Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\r\n    \r\n    @GetMapping(value = &quot;/stream/{id}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;ServerSentEvent&lt;String&gt;&gt; getStream(@PathVariable String id) {\r\n        return sink.asFlux().map(e -&gt; ServerSentEvent.builder(e).build());\r\n    }\r\n\r\nI found that when subscriber count is above 50, the Sinks begins to automatically cancel connected subscribers to keep the max count at 50.  I don&#39;t know how to increase this limit.  Is this a setting in WebFlux, reactive or spring boot?\r\n\r\nThank you.","title":"Maximum Subscribers per Sinks.Many in Spring Boot WebFlux","body":"<p>I have a simple spring boot WebFlux application that streams some server sent events to clients.  The code is like the following:</p>\n<pre><code>Sinks.Many&lt;String&gt; sink = Sinks.many().multicast().onBackpressureBuffer();\n\n@GetMapping(value = &quot;/stream/{id}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic Flux&lt;ServerSentEvent&lt;String&gt;&gt; getStream(@PathVariable String id) {\n    return sink.asFlux().map(e -&gt; ServerSentEvent.builder(e).build());\n}\n</code></pre>\n<p>I found that when subscriber count is above 50, the Sinks begins to automatically cancel connected subscribers to keep the max count at 50.  I don't know how to increase this limit.  Is this a setting in WebFlux, reactive or spring boot?</p>\n<p>Thank you.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649394231,"post_id":71786088,"comment_id":126868876,"body_markdown":"The first link promotes a vulnerable practice that allows deserializing an arbitrary class whitelisting all classes by default. Additionally, it totally ignores the `Type` parameter that contains type information whilst `Class` only represent a class loaded by JVM (no type information, whatever), so the second item demonstrates how the source promotes a wrong and insufficient approach. Anyway, I don&#39;t care analyzing that solution further.","body":"The first link promotes a vulnerable practice that allows deserializing an arbitrary class whitelisting all classes by default. Additionally, it totally ignores the <code>Type</code> parameter that contains type information whilst <code>Class</code> only represent a class loaded by JVM (no type information, whatever), so the second item demonstrates how the source promotes a wrong and insufficient approach. Anyway, I don&#39;t care analyzing that solution further."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649394515,"post_id":71786088,"comment_id":126868921,"body_markdown":"Also, note that you&#39;re running into infinite recursion because you&#39;re trying serializing an object of the _same type_ again and again. `JsonSerializer` and `JsonDeserializer` have limited functionality, and for the former you need to serialize the value _yourself_ (yeah, populating your JSON tree _yourself_, field by field using `JsonSerializationContext` unless it reaches the very end), because `JsonSerializationContext` does not let you access the type adapter you&#39;re trying to override.","body":"Also, note that you&#39;re running into infinite recursion because you&#39;re trying serializing an object of the <i>same type</i> again and again. <code>JsonSerializer</code> and <code>JsonDeserializer</code> have limited functionality, and for the former you need to serialize the value <i>yourself</i> (yeah, populating your JSON tree <i>yourself</i>, field by field using <code>JsonSerializationContext</code> unless it reaches the very end), because <code>JsonSerializationContext</code> does not let you access the type adapter you&#39;re trying to override."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649394865,"post_id":71786088,"comment_id":126868986,"body_markdown":"What you&#39;re looking for is `RuntimeTypeAdapterFactory` that can be found in the Gson extras source code: 1) it uses whitelist-only strategy promoting type aliases not letting arbitrary/untrusted types to be deserialized; 2) it uses JSON streams rather than JSON trees for performance reasons; 3) it uses the delegate type adapter to get the &quot;default&quot; adapter not running into infinite recursion; 4) don&#39;t trust any published Maven artifact to contain the &quot;extras&quot; -- they are unofficial therefore untrusted (copy `RuntimeTypeAdapterFactory` from the Gson codebase, it **is** fine).","body":"What you&#39;re looking for is <code>RuntimeTypeAdapterFactory</code> that can be found in the Gson extras source code: 1) it uses whitelist-only strategy promoting type aliases not letting arbitrary/untrusted types to be deserialized; 2) it uses JSON streams rather than JSON trees for performance reasons; 3) it uses the delegate type adapter to get the &quot;default&quot; adapter not running into infinite recursion; 4) don&#39;t trust any published Maven artifact to contain the &quot;extras&quot; -- they are unofficial therefore untrusted (copy <code>RuntimeTypeAdapterFactory</code> from the Gson codebase, it <b>is</b> fine)."}],"owner":{"account_id":413997,"reputation":434,"user_id":787971,"accept_rate":12,"display_name":"David Wood"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649363842,"creation_date":1649350127,"question_id":71786088,"body_markdown":"I&#39;m trying to write a generic handler for de/serializing interfaces using Gson and getting stack overflow.  I&#39;ve followed a couple of examples at https://technology.finra.org/code/serialize-deserialize-interfaces-in-java.html and https://paul-stanescu.medium.com/custom-interface-adapter-to-serialize-and-deserialize-interfaces-in-kotlin-using-gson-8539c04b4c8f (which seem to be duplicates of each other).  If I run these, serializing a simple class, I get stack overflow. I&#39;m using Gson 2.8.5.  I guess its fairly clear that it is trying to call the type adapter again when trying to get the value for the DATA element.  Searched around, but haven&#39;t seen anything.  Any help is much appreciated.  Thanks.\r\n\r\n    import java.lang.reflect.Type;\r\n    \r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonDeserializationContext;\r\n    import com.google.gson.JsonDeserializer;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParseException;\r\n    import com.google.gson.JsonPrimitive;\r\n    import com.google.gson.JsonSerializationContext;\r\n    import com.google.gson.JsonSerializer;\r\n    \r\n    public class InterfaceAdapter&lt;INTERFACE&gt; implements JsonSerializer&lt;INTERFACE&gt;, JsonDeserializer&lt;INTERFACE&gt; {\r\n    \r\n        private static final String CLASSNAME = &quot;CLASSNAME&quot;;\r\n        private static final String DATA = &quot;DATA&quot;;\r\n    \r\n        public INTERFACE deserialize(JsonElement jsonElement, Type type,\r\n            JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n    \r\n            JsonObject jsonObject = jsonElement.getAsJsonObject();\r\n            JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\r\n            String className = prim.getAsString();\r\n            Class&lt;INTERFACE&gt; klass = getObjectClass(className);\r\n            return jsonDeserializationContext.deserialize(jsonObject.get(DATA), klass);\r\n        }\r\n    \r\n        \r\n        public JsonElement serialize(INTERFACE jsonElement, Type type, JsonSerializationContext jsonSerializationContext) {\r\n            JsonObject jsonObject = new JsonObject();\r\n            jsonObject.addProperty(CLASSNAME, jsonElement.getClass().getName());\r\n            jsonObject.add(DATA, jsonSerializationContext.serialize(jsonElement));\r\n            return jsonObject;\r\n        }\r\n    \r\n        public Class getObjectClass(String className) {\r\n            try {\r\n                return Class.forName(className);\r\n            } catch (ClassNotFoundException e) {\r\n                throw new JsonParseException(e.getMessage());\r\n            }\r\n        }\r\n        \r\n        public static class Dummy {\r\n        \tint a= 1;\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n        \tGson gson = new GsonBuilder().registerTypeHierarchyAdapter(Dummy.class, new InterfaceAdapter()).create();\r\n        \tDummy d = new Dummy();\r\n        \tString json = gson.toJson(d);\r\n        \tSystem.out.println(json);\r\n        }\r\n    }","title":"How to write an interface type adapter for gson without infinite recursion/stackoverflow","body":"<p>I'm trying to write a generic handler for de/serializing interfaces using Gson and getting stack overflow.  I've followed a couple of examples at <a href=\"https://technology.finra.org/code/serialize-deserialize-interfaces-in-java.html\" rel=\"nofollow noreferrer\">https://technology.finra.org/code/serialize-deserialize-interfaces-in-java.html</a> and <a href=\"https://paul-stanescu.medium.com/custom-interface-adapter-to-serialize-and-deserialize-interfaces-in-kotlin-using-gson-8539c04b4c8f\" rel=\"nofollow noreferrer\">https://paul-stanescu.medium.com/custom-interface-adapter-to-serialize-and-deserialize-interfaces-in-kotlin-using-gson-8539c04b4c8f</a> (which seem to be duplicates of each other).  If I run these, serializing a simple class, I get stack overflow. I'm using Gson 2.8.5.  I guess its fairly clear that it is trying to call the type adapter again when trying to get the value for the DATA element.  Searched around, but haven't seen anything.  Any help is much appreciated.  Thanks.</p>\n<pre><code>import java.lang.reflect.Type;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonDeserializationContext;\nimport com.google.gson.JsonDeserializer;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParseException;\nimport com.google.gson.JsonPrimitive;\nimport com.google.gson.JsonSerializationContext;\nimport com.google.gson.JsonSerializer;\n\npublic class InterfaceAdapter&lt;INTERFACE&gt; implements JsonSerializer&lt;INTERFACE&gt;, JsonDeserializer&lt;INTERFACE&gt; {\n\n    private static final String CLASSNAME = &quot;CLASSNAME&quot;;\n    private static final String DATA = &quot;DATA&quot;;\n\n    public INTERFACE deserialize(JsonElement jsonElement, Type type,\n        JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n\n        JsonObject jsonObject = jsonElement.getAsJsonObject();\n        JsonPrimitive prim = (JsonPrimitive) jsonObject.get(CLASSNAME);\n        String className = prim.getAsString();\n        Class&lt;INTERFACE&gt; klass = getObjectClass(className);\n        return jsonDeserializationContext.deserialize(jsonObject.get(DATA), klass);\n    }\n\n    \n    public JsonElement serialize(INTERFACE jsonElement, Type type, JsonSerializationContext jsonSerializationContext) {\n        JsonObject jsonObject = new JsonObject();\n        jsonObject.addProperty(CLASSNAME, jsonElement.getClass().getName());\n        jsonObject.add(DATA, jsonSerializationContext.serialize(jsonElement));\n        return jsonObject;\n    }\n\n    public Class getObjectClass(String className) {\n        try {\n            return Class.forName(className);\n        } catch (ClassNotFoundException e) {\n            throw new JsonParseException(e.getMessage());\n        }\n    }\n    \n    public static class Dummy {\n        int a= 1;\n    }\n\n    public static void main(String args[]) {\n        Gson gson = new GsonBuilder().registerTypeHierarchyAdapter(Dummy.class, new InterfaceAdapter()).create();\n        Dummy d = new Dummy();\n        String json = gson.toJson(d);\n        System.out.println(json);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","gson","deserialization"],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649363640,"creation_date":1649363640,"answer_id":71788597,"question_id":71788386,"body_markdown":"According to the [doc][1]\r\n\r\n&gt; public abstract String[] alternate Returns: the alternative names of\r\n&gt; the field when it is deserialized\r\n\r\n so you can use\r\n\r\n    @SerializedName(value=&quot;this_field&quot;, alternate={&quot;thisField&quot;}) \r\n    private Integer thisField;\r\n\r\nThis would lead into `this_field` being used during serialization.\r\n\r\nDuring deserialization it would be used `this_field` if it is available and if not it will use `thisField` if this becomes available.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html","title":"Is there a Gson @DeserializedName equivalent to the @SerializedName annotation?","body":"<p>According to the <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/2.6.2/com/google/gson/annotations/SerializedName.html\" rel=\"nofollow noreferrer\">doc</a></p>\n<blockquote>\n<p>public abstract String[] alternate Returns: the alternative names of\nthe field when it is deserialized</p>\n</blockquote>\n<p>so you can use</p>\n<pre><code>@SerializedName(value=&quot;this_field&quot;, alternate={&quot;thisField&quot;}) \nprivate Integer thisField;\n</code></pre>\n<p>This would lead into <code>this_field</code> being used during serialization.</p>\n<p>During deserialization it would be used <code>this_field</code> if it is available and if not it will use <code>thisField</code> if this becomes available.</p>\n"}],"owner":{"account_id":1958750,"reputation":2612,"user_id":1761023,"accept_rate":88,"display_name":"Zera42"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71788597,"answer_count":1,"score":1,"last_activity_date":1649363640,"creation_date":1649362357,"question_id":71788386,"body_markdown":"I&#39;m able to set the `@SerializedName` to `this_field` so when I use the `toJson()` function it&#39;ll use it properly. However when I&#39;m trying to read it in via `fromJson()` function it&#39;ll try to use `thisField`.\r\n\r\nNormally I&#39;d create a serializer like the one below; however is there something built in that will handle this or is the only way to make a custom deserializer for each class?\r\n\r\n\r\nA class\r\n```\r\n@Data\r\n@Builder\r\n@AllArgsConstructor\r\npublic class A {\r\n    @SerializedName(&quot;this_field&quot;)\r\n    private Integer thisField;\r\n}\r\n```\r\n\r\nADeserializer class\r\n```\r\npublic class ADeserializer implements JsonDeserializer&lt;A&gt; {\r\n    @Override\r\n    public Additional deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n        JsonObject obj = jsonElement.getAsJsonObject();\r\n        return A.builder()\r\n                .thisField(obj.get(&quot;this_field&quot;).isJsonNull() ? null : obj.get(&quot;this_field&quot;).getAsJsonObject)\r\n                .build();\r\n    }\r\n}\r\n```","title":"Is there a Gson @DeserializedName equivalent to the @SerializedName annotation?","body":"<p>I'm able to set the <code>@SerializedName</code> to <code>this_field</code> so when I use the <code>toJson()</code> function it'll use it properly. However when I'm trying to read it in via <code>fromJson()</code> function it'll try to use <code>thisField</code>.</p>\n<p>Normally I'd create a serializer like the one below; however is there something built in that will handle this or is the only way to make a custom deserializer for each class?</p>\n<p>A class</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\npublic class A {\n    @SerializedName(&quot;this_field&quot;)\n    private Integer thisField;\n}\n</code></pre>\n<p>ADeserializer class</p>\n<pre><code>public class ADeserializer implements JsonDeserializer&lt;A&gt; {\n    @Override\n    public Additional deserialize(JsonElement jsonElement, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n        JsonObject obj = jsonElement.getAsJsonObject();\n        return A.builder()\n                .thisField(obj.get(&quot;this_field&quot;).isJsonNull() ? null : obj.get(&quot;this_field&quot;).getAsJsonObject)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648824399,"post_id":71708498,"comment_id":126729716,"body_markdown":"You can not define a `ConcurrentHashMap&lt;int, Object&gt;`; Generics do not support primitive types as type argument. Besides that, the answer is that `AtomicReference` does not support locking.","body":"You can not define a <code>ConcurrentHashMap&lt;int, Object&gt;</code>; Generics do not support primitive types as type argument. Besides that, the answer is that <code>AtomicReference</code> does not support locking."},{"owner":{"account_id":7457974,"reputation":149,"user_id":5670576,"display_name":"Roberto Fronteddu"},"score":0,"creation_date":1648824543,"post_id":71708498,"comment_id":126729772,"body_markdown":"Please provide an example implementation of f(n)&#39;s purpose so that your question can be more clear.","body":"Please provide an example implementation of f(n)&#39;s purpose so that your question can be more clear."},{"owner":{"account_id":3892977,"reputation":995,"user_id":3222702,"accept_rate":5,"display_name":"Hanna Khalil"},"score":0,"creation_date":1648834552,"post_id":71708498,"comment_id":126733379,"body_markdown":"@Holger yes my original code isn&#39;t with Object but with actual class. Doesn&#39;t AtomicReference provide the ability to set and get values in a thread safe manner similarly to ConcurrentHashMap?","body":"@Holger yes my original code isn&#39;t with Object but with actual class. Doesn&#39;t AtomicReference provide the ability to set and get values in a thread safe manner similarly to ConcurrentHashMap?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648836628,"post_id":71708498,"comment_id":126733924,"body_markdown":"`AtomicReference` does provide thread safe updates, but only lock free. `ConcurrentHashMap` provides lock free `get` and `put` and updates like `computeIfAbsent` using locking. As you found out yourself, `AtomicReference`’s `updateAndGet` does not lock but re-evaluate the function if there was an overlapping update. • The problem with your posted `ConcurrentHashMap&lt;int, Object&gt;` is not the `Object` value but the impossible `int` key type.","body":"<code>AtomicReference</code> does provide thread safe updates, but only lock free. <code>ConcurrentHashMap</code> provides lock free <code>get</code> and <code>put</code> and updates like <code>computeIfAbsent</code> using locking. As you found out yourself, <code>AtomicReference</code>’s <code>updateAndGet</code> does not lock but re-evaluate the function if there was an overlapping update. • The problem with your posted <code>ConcurrentHashMap&lt;int, Object&gt;</code> is not the <code>Object</code> value but the impossible <code>int</code> key type."},{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1649352558,"post_id":71708498,"comment_id":126860153,"body_markdown":"Guava&#39;s `Suppliers.memoize(supplier)` is typically what I use for these cases.","body":"Guava&#39;s <code>Suppliers.memoize(supplier)</code> is typically what I use for these cases."}],"answers":[{"tags":[],"owner":{"account_id":7457974,"reputation":149,"user_id":5670576,"display_name":"Roberto Fronteddu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648838923,"creation_date":1648838923,"answer_id":71711550,"question_id":71708498,"body_markdown":"From your question, I think you want to avoid doing the HTTP request multiple times. \r\n\r\nYou could have a map of FutureTask(s) that asynchronously performs the HTTP request for you. In this way, if a thread tries to computeIfAbsent it will see the FutureTask created by another thread even if the HTTP operation is not done yet.","title":"Java ConcurrentHashMap#computeIfAbsent equivalent for AtomicReference","body":"<p>From your question, I think you want to avoid doing the HTTP request multiple times.</p>\n<p>You could have a map of FutureTask(s) that asynchronously performs the HTTP request for you. In this way, if a thread tries to computeIfAbsent it will see the FutureTask created by another thread even if the HTTP operation is not done yet.</p>\n"},{"tags":[],"owner":{"account_id":8086222,"reputation":906,"user_id":6093696,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648849107,"creation_date":1648849107,"answer_id":71713003,"question_id":71708498,"body_markdown":"You could use an `AtomicBoolean` with an initial value of `true` and allow each thread should call `AtomicBoolean::getAndSet` with the value `false`. If the return value is `true` then you execute your function.\r\n\r\nThis will ensure that the call is only made once since only the first thread will succeed.","title":"Java ConcurrentHashMap#computeIfAbsent equivalent for AtomicReference","body":"<p>You could use an <code>AtomicBoolean</code> with an initial value of <code>true</code> and allow each thread should call <code>AtomicBoolean::getAndSet</code> with the value <code>false</code>. If the return value is <code>true</code> then you execute your function.</p>\n<p>This will ensure that the call is only made once since only the first thread will succeed.</p>\n"},{"tags":[],"owner":{"account_id":5269741,"reputation":318,"user_id":4208410,"display_name":"Yan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649363617,"creation_date":1649363617,"answer_id":71788592,"question_id":71708498,"body_markdown":"I believe you need something like a concurrent lazy initializer.\r\nIt is possible to achieve this using:\r\n1. If your requirement is to have only 1 instance in an application, you can use a thread-safe singleton. https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\r\n\r\n        public class Something {\r\n    \t     private final Result result;\r\n             private Something() {\r\n    \t          result = f();\r\n             }\r\n    \r\n             private static class LazyHolder {\r\n                  public static final Something INSTANCE = new Something();\r\n             }\r\n    \r\n             public static Something getInstance() {\r\n                     return LazyHolder.INSTANCE;\r\n             }\r\n       }\r\n\r\n\r\n2. If you want to have it in different places of your application, you can use:\r\n\r\n**Apache Commons Lang** [ConcurrentInitializer][1] like [LazyInitializer][2]:\r\n\r\n       ConcurrentInitializer&lt;&gt; lazyInitializer = new LazyInitializer&lt;Result&gt;() {\r\n\r\n              @Override\r\n              protected Foo initialize() throws ConcurrentException {\r\n                   return f();\r\n              }\r\n       };\r\nGet instance\r\n\r\n      Result instance = lazyInitializer.get();\r\n\r\n**Google&#39;s Guava** [link][3]:\r\n\r\n    Supplier&lt;Result&gt; resultSupplier = Suppliers.memoize(new Supplier&lt;Result&gt;() {\r\n        public Result get() {\r\n            return f();\r\n        }\r\n    });\r\n\r\n3. Yon can create your own concurrent lazy initalizer in lock-free manner.\r\n\r\n\r\n\t\timport java.util.concurrent.atomic.AtomicReference;\r\n\t\timport java.util.function.Supplier;\r\n\r\n\t\tpublic class LazyConcurrentSupplier&lt;T&gt; implements Supplier&lt;T&gt; {\r\n\t\t\t\r\n\t\t\tstatic class Container&lt;T&gt; {\r\n\t\t\t\tpublic static final int NULL_PHASE = -1, CREATING_PHASE = 0, CREATED = 1;\r\n\t\t\t\t\r\n\t\t\t\tfinal int i;\r\n\t\t\t\tfinal T value;\r\n\t\t\t\tpublic Container(int i, T value) {\r\n\t\t\t\t\tthis.i = i;\r\n\t\t\t\t\tthis.value = value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprivate final Container&lt;T&gt; NULL = new Container&lt;&gt;(Container.NULL_PHASE, null),\r\n\t\t\t\t\tCREATING = new Container&lt;&gt;(Container.CREATING_PHASE, null);\r\n\r\n\t\t\tprivate final AtomicReference&lt;Container&lt;T&gt;&gt; ref = new AtomicReference&lt;&gt;(NULL);\r\n\r\n\t\t\tprivate final Supplier&lt;T&gt; supplier;\r\n\r\n\t\t\tpublic LazyConcurrentSupplier(Supplier&lt;T&gt; supplier) {\r\n\t\t\t\tthis.supplier = supplier;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic T get() {\r\n\t\t\t\tContainer&lt;T&gt; prev;\r\n\t\t\t\tdo {\r\n\t\t\t\t\tif (ref.compareAndSet(NULL, CREATING)) {\r\n\t\t\t\t\t\tT res = supplier.get();\r\n\t\t\t\t\t\tref.set(new Container&lt;&gt;(Container.CREATED, res));\r\n\t\t\t\t\t\treturn res;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tprev = ref.get();\r\n\t\t\t\t\t\tif (prev.i == Container.CREATED) {\r\n\t\t\t\t\t\t\treturn prev.value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} while (prev.i &lt; Container.CREATED);\r\n\t\t\t\treturn prev.value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/ConcurrentInitializer.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/LazyInitializer.html\r\n  [3]: https://guava.dev/releases/19.0/api/docs/com/google/common/base/Suppliers.html#memoize(com.google.common.base.Supplier)","title":"Java ConcurrentHashMap#computeIfAbsent equivalent for AtomicReference","body":"<p>I believe you need something like a concurrent lazy initializer.\nIt is possible to achieve this using:</p>\n<ol>\n<li><p>If your requirement is to have only 1 instance in an application, you can use a thread-safe singleton. <a href=\"https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Initialization-on-demand_holder_idiom</a></p>\n<pre><code> public class Something {\n      private final Result result;\n      private Something() {\n           result = f();\n      }\n\n      private static class LazyHolder {\n           public static final Something INSTANCE = new Something();\n      }\n\n      public static Something getInstance() {\n              return LazyHolder.INSTANCE;\n      }\n}\n</code></pre>\n</li>\n<li><p>If you want to have it in different places of your application, you can use:</p>\n</li>\n</ol>\n<p><strong>Apache Commons Lang</strong> <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/ConcurrentInitializer.html\" rel=\"nofollow noreferrer\">ConcurrentInitializer</a> like <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/concurrent/LazyInitializer.html\" rel=\"nofollow noreferrer\">LazyInitializer</a>:</p>\n<pre><code>   ConcurrentInitializer&lt;&gt; lazyInitializer = new LazyInitializer&lt;Result&gt;() {\n\n          @Override\n          protected Foo initialize() throws ConcurrentException {\n               return f();\n          }\n   };\n</code></pre>\n<p>Get instance</p>\n<pre><code>  Result instance = lazyInitializer.get();\n</code></pre>\n<p><strong>Google's Guava</strong> <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/base/Suppliers.html#memoize(com.google.common.base.Supplier)\" rel=\"nofollow noreferrer\">link</a>:</p>\n<pre><code>Supplier&lt;Result&gt; resultSupplier = Suppliers.memoize(new Supplier&lt;Result&gt;() {\n    public Result get() {\n        return f();\n    }\n});\n</code></pre>\n<ol start=\"3\">\n<li><p>Yon can create your own concurrent lazy initalizer in lock-free manner.</p>\n<pre><code> import java.util.concurrent.atomic.AtomicReference;\n import java.util.function.Supplier;\n\n public class LazyConcurrentSupplier&lt;T&gt; implements Supplier&lt;T&gt; {\n\n     static class Container&lt;T&gt; {\n         public static final int NULL_PHASE = -1, CREATING_PHASE = 0, CREATED = 1;\n\n         final int i;\n         final T value;\n         public Container(int i, T value) {\n             this.i = i;\n             this.value = value;\n         }\n     }\n\n     private final Container&lt;T&gt; NULL = new Container&lt;&gt;(Container.NULL_PHASE, null),\n             CREATING = new Container&lt;&gt;(Container.CREATING_PHASE, null);\n\n     private final AtomicReference&lt;Container&lt;T&gt;&gt; ref = new AtomicReference&lt;&gt;(NULL);\n\n     private final Supplier&lt;T&gt; supplier;\n\n     public LazyConcurrentSupplier(Supplier&lt;T&gt; supplier) {\n         this.supplier = supplier;\n     }\n\n     @Override\n     public T get() {\n         Container&lt;T&gt; prev;\n         do {\n             if (ref.compareAndSet(NULL, CREATING)) {\n                 T res = supplier.get();\n                 ref.set(new Container&lt;&gt;(Container.CREATED, res));\n                 return res;\n             } else {\n                 prev = ref.get();\n                 if (prev.i == Container.CREATED) {\n                     return prev.value;\n                 }\n             }\n         } while (prev.i &lt; Container.CREATED);\n         return prev.value;\n     }\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":3892977,"reputation":995,"user_id":3222702,"accept_rate":5,"display_name":"Hanna Khalil"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649363617,"creation_date":1648823098,"question_id":71708498,"body_markdown":"I&#39;m looking for code equivalent to the following:\r\n\r\n    ConcurrentHashMap&lt;int, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\r\n    map.computeIfAbsent(key, n -&gt; f(n));\r\n\r\nWhere `f(n)` is HTTP network call and blocking for the result\r\n\r\nBur referring to single element held in `AtomicReference&lt;Object&gt;` where I need to ensure `f` is called only once upon even if multiple threads do the access concurrently.\r\nI tried using `compareAndSet` but this doesn&#39;t allow lambda passing.\r\nDoes `updateAndGet` achieve that? Its documentation mentions\r\n\r\n&gt; The function should be side-effect-free, since it may be re-applied when attempted updates fail due to contention among threads.\r\n\r\nWhich doesn&#39;t seem to fill the need of invoking `f` only once.\r\n\r\n","title":"Java ConcurrentHashMap#computeIfAbsent equivalent for AtomicReference","body":"<p>I'm looking for code equivalent to the following:</p>\n<pre><code>ConcurrentHashMap&lt;int, Object&gt; map = new ConcurrentHashMap&lt;&gt;();\nmap.computeIfAbsent(key, n -&gt; f(n));\n</code></pre>\n<p>Where <code>f(n)</code> is HTTP network call and blocking for the result</p>\n<p>Bur referring to single element held in <code>AtomicReference&lt;Object&gt;</code> where I need to ensure <code>f</code> is called only once upon even if multiple threads do the access concurrently.\nI tried using <code>compareAndSet</code> but this doesn't allow lambda passing.\nDoes <code>updateAndGet</code> achieve that? Its documentation mentions</p>\n<blockquote>\n<p>The function should be side-effect-free, since it may be re-applied when attempted updates fail due to contention among threads.</p>\n</blockquote>\n<p>Which doesn't seem to fill the need of invoking <code>f</code> only once.</p>\n"},{"tags":["java","spring","inversion-of-control"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1321271894,"post_id":8121121,"comment_id":9961736,"body_markdown":"possible duplicate of [Is there a spring lazy proxy factory in Spring?](http://stackoverflow.com/questions/2391168/is-there-a-spring-lazy-proxy-factory-in-spring)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2391168/is-there-a-spring-lazy-proxy-factory-in-spring\">Is there a spring lazy proxy factory in Spring?</a>"},{"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"score":0,"creation_date":1321272139,"post_id":8121121,"comment_id":9961810,"body_markdown":"what about passing a ServiceB factory into ServiceA?","body":"what about passing a ServiceB factory into ServiceA?"}],"answers":[{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1321271501,"creation_date":1321271501,"answer_id":8121149,"question_id":8121121,"body_markdown":"I don&#39;t know about Spring, but in Guice you would use a `Provider&lt;ServiceB&gt;`, so that when you were ready to use the service you&#39;d go `provider.get().callMethodOnB(...)`. \r\n\r\nThis is, I believe, part of the JSR-330 spec, so it&#39;s possible there&#39;s an equivalent thing in Spring (I haven&#39;t used an up-to-date version of Spring for quite some time).","title":"Spring DI - do not initialise all the dependent beans","body":"<p>I don't know about Spring, but in Guice you would use a <code>Provider&lt;ServiceB&gt;</code>, so that when you were ready to use the service you'd go <code>provider.get().callMethodOnB(...)</code>. </p>\n\n<p>This is, I believe, part of the JSR-330 spec, so it's possible there's an equivalent thing in Spring (I haven't used an up-to-date version of Spring for quite some time).</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1321271784,"creation_date":1321271784,"answer_id":8121208,"question_id":8121121,"body_markdown":"I think [`LazyInitTargetSource`](http://static.springsource.org/spring/docs/3.1.0.RC1/javadoc-api/org/springframework/aop/target/LazyInitTargetSource.html) does what you need.\r\n\r\n&gt; Useful when a proxy reference is needed on initialization but **the actual target object should not be initialized until first use**. When the target bean is defined in an ApplicationContext (or a BeanFactory that is eagerly pre-instantiating singleton beans) it must be marked as &quot;lazy-init&quot; too, else it will be instantiated by said ApplicationContext (or BeanFactory) on startup.","title":"Spring DI - do not initialise all the dependent beans","body":"<p>I think <a href=\"http://static.springsource.org/spring/docs/3.1.0.RC1/javadoc-api/org/springframework/aop/target/LazyInitTargetSource.html\" rel=\"noreferrer\"><code>LazyInitTargetSource</code></a> does what you need.</p>\n\n<blockquote>\n  <p>Useful when a proxy reference is needed on initialization but <strong>the actual target object should not be initialized until first use</strong>. When the target bean is defined in an ApplicationContext (or a BeanFactory that is eagerly pre-instantiating singleton beans) it must be marked as \"lazy-init\" too, else it will be instantiated by said ApplicationContext (or BeanFactory) on startup.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":91369,"reputation":4692,"user_id":250903,"accept_rate":89,"display_name":"szhem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321272752,"creation_date":1321272752,"answer_id":8121384,"question_id":8121121,"body_markdown":"You can also use [method injection][1].\r\nAs a rule it&#39;s required to obtain a new instance of a singleton bean from a context, but it can be used in your case too.\r\n\r\nSample:\r\n\r\n    package org.test.lazy;\r\n\r\n    public abstract class ParentBean {\r\n        public abstract LazyBean getLazy();\r\n        public void lazyDoingSomething() {\r\n            getLazy().doSomething();\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n    package org.test.lazy;\r\n\r\n    public class LazyBean {\r\n       public void init() {\r\n           System.out.println(&quot;Initialized&quot;);\r\n       }\r\n       public void doSomething() {\r\n           System.out.println(&quot;Doing something&quot;);\r\n       }\r\n    }\r\n\r\n\r\n----------\r\n\r\n    package org.test.lazy;\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\n    @ContextConfiguration\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    public class LazyTest {\r\n\r\n        @Autowired\r\n        private ParentBean parentBean;\r\n\r\n        @Test\r\n        public void test() {\r\n            parentBean.lazyDoingSomething();\r\n            parentBean.lazyDoingSomething();\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    &quot;&gt;\r\n        &lt;import resource=&quot;classpath:org/test/lazy/Lazy-context.xml&quot;/&gt;\r\n        &lt;bean id=&quot;parentBean&quot; class=&quot;org.test.lazy.ParentBean&quot;&gt;\r\n            &lt;lookup-method bean=&quot;lazyBean&quot; name=&quot;getLazy&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n----------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;\r\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    &quot;\r\n    default-lazy-init=&quot;true&quot;&gt;\r\n\r\n        &lt;bean id=&quot;lazyBean&quot; class=&quot;org.test.lazy.LazyBean&quot; init-method=&quot;init&quot; /&gt;\r\n    &lt;/beans&gt;\r\n\r\nSo you lazy bean will be initialized only once on demand.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#beans-factory-method-injection","title":"Spring DI - do not initialise all the dependent beans","body":"<p>You can also use <a href=\"http://static.springsource.org/spring/docs/2.5.x/reference/beans.html#beans-factory-method-injection\" rel=\"nofollow\">method injection</a>.\nAs a rule it's required to obtain a new instance of a singleton bean from a context, but it can be used in your case too.</p>\n\n<p>Sample:</p>\n\n<pre><code>package org.test.lazy;\n\npublic abstract class ParentBean {\n    public abstract LazyBean getLazy();\n    public void lazyDoingSomething() {\n        getLazy().doSomething();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package org.test.lazy;\n\npublic class LazyBean {\n   public void init() {\n       System.out.println(\"Initialized\");\n   }\n   public void doSomething() {\n       System.out.println(\"Doing something\");\n   }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>package org.test.lazy;\n\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\n@ContextConfiguration\n@RunWith(SpringJUnit4ClassRunner.class)\npublic class LazyTest {\n\n    @Autowired\n    private ParentBean parentBean;\n\n    @Test\n    public void test() {\n        parentBean.lazyDoingSomething();\n        parentBean.lazyDoingSomething();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n\"&gt;\n    &lt;import resource=\"classpath:org/test/lazy/Lazy-context.xml\"/&gt;\n    &lt;bean id=\"parentBean\" class=\"org.test.lazy.ParentBean\"&gt;\n        &lt;lookup-method bean=\"lazyBean\" name=\"getLazy\"/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"\n    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n\"\ndefault-lazy-init=\"true\"&gt;\n\n    &lt;bean id=\"lazyBean\" class=\"org.test.lazy.LazyBean\" init-method=\"init\" /&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>So you lazy bean will be initialized only once on demand.</p>\n"},{"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1334616433,"creation_date":1334616433,"answer_id":10182778,"question_id":8121121,"body_markdown":"Another approach that you might want to try is discussed at http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/aop/framework/autoproxy/target/LazyInitTargetSourceCreator.html:\r\n\r\n&gt; [LazyInitTargetSourceCreator is a] TargetSourceCreator that enforces a LazyInitTargetSource for each bean\r\n&gt; that is defined as &quot;lazy-init&quot;. This will lead to a proxy created for\r\n&gt; each of those beans, allowing to fetch a reference to such a bean\r\n&gt; without actually initialized the target bean instance. \r\n&gt; \r\n&gt; To be registered as custom TargetSourceCreator for an auto-proxy\r\n&gt; creator, in combination with custom interceptors for specific beans or\r\n&gt; for the creation of lazy-init proxies only. For example, as\r\n&gt; autodetected infrastructure bean in an XML application context\r\n&gt; definition:\r\n\r\n\r\n\r\n     &lt;bean class=&quot;org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator&quot;&gt;\r\n       &lt;property name=&quot;customTargetSourceCreators&quot;&gt;\r\n         &lt;list&gt;\r\n           &lt;bean class=&quot;org.springframework.aop.framework.autoproxy.target.LazyInitTargetSourceCreator&quot;/&gt;\r\n         &lt;/list&gt;\r\n       &lt;/property&gt;\r\n     &lt;/bean&gt;\r\n    \r\n     &lt;bean id=&quot;myLazyInitBean&quot; class=&quot;mypackage.MyBeanClass&quot; lazy-init=&quot;true&quot;&gt;\r\n       ...\r\n     &lt;/bean&gt;\r\n\r\n\r\nIf you find yourself doing this several times in an application context, this will save on configuration.","title":"Spring DI - do not initialise all the dependent beans","body":"<p>Another approach that you might want to try is discussed at <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/aop/framework/autoproxy/target/LazyInitTargetSourceCreator.html\" rel=\"nofollow\">http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/aop/framework/autoproxy/target/LazyInitTargetSourceCreator.html</a>:</p>\n\n<blockquote>\n  <p>[LazyInitTargetSourceCreator is a] TargetSourceCreator that enforces a LazyInitTargetSource for each bean\n  that is defined as \"lazy-init\". This will lead to a proxy created for\n  each of those beans, allowing to fetch a reference to such a bean\n  without actually initialized the target bean instance. </p>\n  \n  <p>To be registered as custom TargetSourceCreator for an auto-proxy\n  creator, in combination with custom interceptors for specific beans or\n  for the creation of lazy-init proxies only. For example, as\n  autodetected infrastructure bean in an XML application context\n  definition:</p>\n</blockquote>\n\n<pre><code> &lt;bean class=\"org.springframework.aop.framework.autoproxy.BeanNameAutoProxyCreator\"&gt;\n   &lt;property name=\"customTargetSourceCreators\"&gt;\n     &lt;list&gt;\n       &lt;bean class=\"org.springframework.aop.framework.autoproxy.target.LazyInitTargetSourceCreator\"/&gt;\n     &lt;/list&gt;\n   &lt;/property&gt;\n &lt;/bean&gt;\n\n &lt;bean id=\"myLazyInitBean\" class=\"mypackage.MyBeanClass\" lazy-init=\"true\"&gt;\n   ...\n &lt;/bean&gt;\n</code></pre>\n\n<p>If you find yourself doing this several times in an application context, this will save on configuration.</p>\n"}],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3144,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8121208,"answer_count":4,"score":6,"last_activity_date":1649363331,"creation_date":1321271335,"question_id":8121121,"body_markdown":"I have a ServiceA which has a dependency on ServiceB. The serviceB comes from a spring bean file with lazy-init=true i.e, I only want serviceB to be initialised when and if I ask for that bean.\r\n\r\nHowever I do use ServiceA throughout my application and when we do a setter based injection ServiceB gets initialised.\r\n\r\nI want ServiceA to not initialise ServiceB *until* any method in ServiceA is called that needs ServiceB. One way of doing this was using the Aspects **but I was looking at the simplest possible solution** for this particularly in the Spring XML file for serviceB or some annotation in serviceB or any proxy flag.\r\n","title":"Spring DI - do not initialise all the dependent beans","body":"<p>I have a ServiceA which has a dependency on ServiceB. The serviceB comes from a spring bean file with lazy-init=true i.e, I only want serviceB to be initialised when and if I ask for that bean.</p>\n<p>However I do use ServiceA throughout my application and when we do a setter based injection ServiceB gets initialised.</p>\n<p>I want ServiceA to not initialise ServiceB <em>until</em> any method in ServiceA is called that needs ServiceB. One way of doing this was using the Aspects <strong>but I was looking at the simplest possible solution</strong> for this particularly in the Spring XML file for serviceB or some annotation in serviceB or any proxy flag.</p>\n"},{"tags":["java","class","import","clojure"],"comments":[{"owner":{"account_id":6114902,"reputation":1,"user_id":4770254,"display_name":"Frank Adrian"},"score":0,"creation_date":1649366552,"post_id":71787914,"comment_id":126864339,"body_markdown":"I found the problem - my resources folder was accidentally placed under the mercator-server/src/mercator-server folder rather than the mercator-server folder. I moved it to the right place and things are looking up.","body":"I found the problem - my resources folder was accidentally placed under the mercator-server/src/mercator-server folder rather than the mercator-server folder. I moved it to the right place and things are looking up."}],"answers":[{"tags":[],"owner":{"account_id":311679,"reputation":89812,"user_id":625403,"accept_rate":82,"display_name":"amalloy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649363195,"creation_date":1649363195,"answer_id":71788528,"question_id":71787914,"body_markdown":"I use lein, not clj, but I can&#39;t imagine putting a jar file in a path named `src` could be correct. A quick look at the [clj guide](https://clojure.org/guides/deps_and_cli#local_jar) confirms that you&#39;re supposed to put it in `deps`, with a coordinate that specifies a local jar:\r\n\r\n&gt;     {:deps\r\n&gt;      {db/driver {:local/root &quot;/path/to/db/driver.jar&quot;}}}\r\n","title":"How is my clojure import of a class from a local jar file not working?","body":"<p>I use lein, not clj, but I can't imagine putting a jar file in a path named <code>src</code> could be correct. A quick look at the <a href=\"https://clojure.org/guides/deps_and_cli#local_jar\" rel=\"nofollow noreferrer\">clj guide</a> confirms that you're supposed to put it in <code>deps</code>, with a coordinate that specifies a local jar:</p>\n<blockquote>\n<pre><code>{:deps\n {db/driver {:local/root &quot;/path/to/db/driver.jar&quot;}}}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":6114902,"reputation":1,"user_id":4770254,"display_name":"Frank Adrian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649363195,"creation_date":1649359780,"question_id":71787914,"body_markdown":"I&#39;ve been trying to import a class from a local jar file into a Clojure program (this is a cli project and my dev environment is Calva in VSCode in Windows 10). My project file is at C:\\Users\\fadrian\\Projects\\motive-cql-builder\\mercator-server. My deps.edn file is in this folder and looks like this:\r\n```\r\n{:paths\r\n [&quot;src&quot;\r\n  &quot;C:\\\\Users\\\\fadrian\\\\Projects\\\\motive-cql-builder\\\\mercator-server\\\\resources\\\\jars\\\\apelon\\\\dtscore-4.6.1-838.jar&quot;\r\n  ]\r\n\r\n :deps\r\n {org.clojure/clojure {:mvn/version &quot;1.10.3&quot;}\r\n  compojure/compojure {:mvn/version &quot;1.6.2&quot;}\r\n  http-kit/http-kit {:mvn/version &quot;2.5.3&quot;}\r\n  ring/ring-json {:mvn/version &quot;0.5.1&quot;}\r\n  ring-cors/ring-cors {:mvn/version &quot;0.1.13&quot;}\r\n  org.clojure/data.json {:mvn/version &quot;2.4.0&quot;}\r\n  mercator/mapper {:local/root &quot;../mercator&quot;}\r\n  mercator/expander {:local/root &quot;../mercator&quot;}\r\n  mercator/primitives {:local/root &quot;../mercator&quot;}\r\n  mercator/templates {:local/root &quot;../mercator&quot;}\r\n  cheshire/cheshire {:mvn/version &quot;5.0.2&quot;}\r\n   }\r\n\r\n :jvm-opts [&quot;-XX:-OmitStackTraceInFastThrow&quot;]\r\n \r\n  :aliases {;; build an uberjar (application) with AOT compilation by default:\r\n            :dev {}\r\n            \r\n            :uberjar {:replace-deps {com.github.seancorfield/depstar {:mvn/version &quot;2.1.303&quot;}}\r\n                      :exec-fn hf.depstar/uberjar\r\n                      :exec-args {:aot true}}\r\n  ;; build a jar (library):\r\n            :jar {:replace-deps {com.github.seancorfield/depstar {:mvn/version &quot;2.1.303&quot;}}\r\n                  :exec-fn hf.depstar/jar\r\n                  :exec-args {}}}}\r\n```\r\n\r\nThe class I&#39;m trying to include is in the file resources\\jars\\apelon\\dtscore-4.6.1-838.jar in the jarfile folder \\com\\apelon\\dts\\client. It is called ServerConnectionEJB.class. I have verified that the file is in this location in the jarfile.\r\n\r\nThe ns statement in my code file is this:\r\n```\r\n(ns mercator-server.core\r\n  (:gen-class)\r\n  (:require [compojure.core :refer [defroutes GET POST]]\r\n            [mercator.expander :refer [ednize-json-keywords]]\r\n            [mercator.mapper :refer [translate json-template-sets]]\r\n            [org.httpkit.server :refer [run-server]]\r\n            [ring.middleware.cors :refer [wrap-cors]]\r\n            [ring.middleware.json :refer [wrap-json-body wrap-json-response]])\r\n  \r\n  (:import  [com.apelon.dts.client ServerConnectionEJB]\r\n            [java.util Base64]))\r\n```\r\n\r\nHowever, when I try to execute this statement in the clj command line, it throws the following error:\r\n```\r\nExecution error (ClassNotFoundException) at java.net.URLClassLoader/findClass (URLClassLoader.java:445).\r\ncom.apelon.dts.client.ServerConnectionEJB.\r\n```\r\n\r\nI&#39;ve checked the classpath using clj -Spath and the .jar file I am loading is in the classpath. I have unzipped the jar file and verified that the files are where they should be for the :import directive in the ns declaration. I have tried every incarnation of the filepath to the jar in my deps.edn file - local path, global path, forward slashes, backward slashes, etc. So far nothing has worked.\r\n\r\nDoes anyone have any idea what could cause the executor to not find the class and throw this error? I&#39;m past the point of hoping for a solution (though that would be nice) - I&#39;m just looking for more theories to follow up on at this point","title":"How is my clojure import of a class from a local jar file not working?","body":"<p>I've been trying to import a class from a local jar file into a Clojure program (this is a cli project and my dev environment is Calva in VSCode in Windows 10). My project file is at C:\\Users\\fadrian\\Projects\\motive-cql-builder\\mercator-server. My deps.edn file is in this folder and looks like this:</p>\n<pre><code>{:paths\n [&quot;src&quot;\n  &quot;C:\\\\Users\\\\fadrian\\\\Projects\\\\motive-cql-builder\\\\mercator-server\\\\resources\\\\jars\\\\apelon\\\\dtscore-4.6.1-838.jar&quot;\n  ]\n\n :deps\n {org.clojure/clojure {:mvn/version &quot;1.10.3&quot;}\n  compojure/compojure {:mvn/version &quot;1.6.2&quot;}\n  http-kit/http-kit {:mvn/version &quot;2.5.3&quot;}\n  ring/ring-json {:mvn/version &quot;0.5.1&quot;}\n  ring-cors/ring-cors {:mvn/version &quot;0.1.13&quot;}\n  org.clojure/data.json {:mvn/version &quot;2.4.0&quot;}\n  mercator/mapper {:local/root &quot;../mercator&quot;}\n  mercator/expander {:local/root &quot;../mercator&quot;}\n  mercator/primitives {:local/root &quot;../mercator&quot;}\n  mercator/templates {:local/root &quot;../mercator&quot;}\n  cheshire/cheshire {:mvn/version &quot;5.0.2&quot;}\n   }\n\n :jvm-opts [&quot;-XX:-OmitStackTraceInFastThrow&quot;]\n \n  :aliases {;; build an uberjar (application) with AOT compilation by default:\n            :dev {}\n            \n            :uberjar {:replace-deps {com.github.seancorfield/depstar {:mvn/version &quot;2.1.303&quot;}}\n                      :exec-fn hf.depstar/uberjar\n                      :exec-args {:aot true}}\n  ;; build a jar (library):\n            :jar {:replace-deps {com.github.seancorfield/depstar {:mvn/version &quot;2.1.303&quot;}}\n                  :exec-fn hf.depstar/jar\n                  :exec-args {}}}}\n</code></pre>\n<p>The class I'm trying to include is in the file resources\\jars\\apelon\\dtscore-4.6.1-838.jar in the jarfile folder \\com\\apelon\\dts\\client. It is called ServerConnectionEJB.class. I have verified that the file is in this location in the jarfile.</p>\n<p>The ns statement in my code file is this:</p>\n<pre><code>(ns mercator-server.core\n  (:gen-class)\n  (:require [compojure.core :refer [defroutes GET POST]]\n            [mercator.expander :refer [ednize-json-keywords]]\n            [mercator.mapper :refer [translate json-template-sets]]\n            [org.httpkit.server :refer [run-server]]\n            [ring.middleware.cors :refer [wrap-cors]]\n            [ring.middleware.json :refer [wrap-json-body wrap-json-response]])\n  \n  (:import  [com.apelon.dts.client ServerConnectionEJB]\n            [java.util Base64]))\n</code></pre>\n<p>However, when I try to execute this statement in the clj command line, it throws the following error:</p>\n<pre><code>Execution error (ClassNotFoundException) at java.net.URLClassLoader/findClass (URLClassLoader.java:445).\ncom.apelon.dts.client.ServerConnectionEJB.\n</code></pre>\n<p>I've checked the classpath using clj -Spath and the .jar file I am loading is in the classpath. I have unzipped the jar file and verified that the files are where they should be for the :import directive in the ns declaration. I have tried every incarnation of the filepath to the jar in my deps.edn file - local path, global path, forward slashes, backward slashes, etc. So far nothing has worked.</p>\n<p>Does anyone have any idea what could cause the executor to not find the class and throw this error? I'm past the point of hoping for a solution (though that would be nice) - I'm just looking for more theories to follow up on at this point</p>\n"},{"tags":["java","tomcat"],"answers":[{"tags":[],"owner":{"account_id":17372900,"reputation":67,"user_id":12586607,"display_name":"AZAF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649363065,"creation_date":1649363065,"answer_id":71788509,"question_id":71788393,"body_markdown":"You have extra spaces in your password  final String PASS = &quot;cerith12985    &quot;; ","title":"Connection faild while using tomcat and mysql","body":"<p>You have extra spaces in your password  final String PASS = &quot;cerith12985    &quot;;</p>\n"}],"owner":{"display_name":"user9624111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649363065,"creation_date":1649362380,"question_id":71788393,"body_markdown":"i am trying to resolve the issue when i start the tomcat9.0 server(school project) but it shows me on web :Connection failed. \r\n\r\n    INFO: Server startup in [608] milliseconds\r\n    java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;localhost&#39; (using password: YES)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\r\n    \tat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\r\n    \tat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\r\n    \tat it.polimi.tiw.jdbctest.ConnectionTester.doGet(ConnectionTester.java:23)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nMy .java prg is\r\n\r\n    import java.io.IOException;\r\n    import java.io.PrintWriter;\r\n    import java.sql.DriverManager;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    public class ConnectionTester extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows ServletException, IOException {\r\n    \t\tfinal String DB_URL = &quot;jdbc:mysql://localhost:3306/dbtest?serverTimezone=UTC&quot;;\r\n    \t\tfinal String USER = &quot;root&quot;;\r\n    \t\tfinal String PASS = &quot;cerith12985\t&quot;;\r\n    \t\tString result = &quot;Connection worked&quot;;\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    \t\t\tDriverManager.getConnection(DB_URL, USER, PASS);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tresult = &quot;Connection failed&quot;;\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tresponse.setContentType(&quot;text/plain&quot;);\r\n    \t\tPrintWriter out = response.getWriter();\r\n    \t\tout.println(result);\r\n    \t\tout.close();\r\n    \t}\r\n    }\r\n\r\nI have searched my password if i typed it correct in mysql but it is correct,\r\nso i don&#39;t really know what is happening.\r\nThank you for your time","title":"Connection faild while using tomcat and mysql","body":"<p>i am trying to resolve the issue when i start the tomcat9.0 server(school project) but it shows me on web :Connection failed.</p>\n<pre><code>INFO: Server startup in [608] milliseconds\njava.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829)\n    at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449)\n    at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242)\n    at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:681)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:229)\n    at it.polimi.tiw.jdbctest.ConnectionTester.doGet(ConnectionTester.java:23)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>My .java prg is</p>\n<pre><code>import java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.DriverManager;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\npublic class ConnectionTester extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        final String DB_URL = &quot;jdbc:mysql://localhost:3306/dbtest?serverTimezone=UTC&quot;;\n        final String USER = &quot;root&quot;;\n        final String PASS = &quot;cerith12985    &quot;;\n        String result = &quot;Connection worked&quot;;\n        try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            DriverManager.getConnection(DB_URL, USER, PASS);\n        } catch (Exception e) {\n            result = &quot;Connection failed&quot;;\n            e.printStackTrace();\n        }\n        response.setContentType(&quot;text/plain&quot;);\n        PrintWriter out = response.getWriter();\n        out.println(result);\n        out.close();\n    }\n}\n</code></pre>\n<p>I have searched my password if i typed it correct in mysql but it is correct,\nso i don't really know what is happening.\nThank you for your time</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1649277471,"post_id":71773314,"comment_id":126838297,"body_markdown":"Parallel doesn&#39;t always speed things up, and (as you&#39;re finding out) can slow things down. It&#39;s great for in-memory linear operations but doesn&#39;t help much when the bottleneck is reading from a disk.","body":"Parallel doesn&#39;t always speed things up, and (as you&#39;re finding out) can slow things down. It&#39;s great for in-memory linear operations but doesn&#39;t help much when the bottleneck is reading from a disk."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1649279928,"post_id":71773314,"comment_id":126839028,"body_markdown":"This doesn&#39;t look, at a glance, like a very parallelizable operation.","body":"This doesn&#39;t look, at a glance, like a very parallelizable operation."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1649282786,"post_id":71773314,"comment_id":126839724,"body_markdown":"Make your code more observable so that you can tell where time is being spent as you increase or decrease the degree of parallelism. Then it doesn&#39;t matter who&#39;s doing the guessing because there won&#39;t be a need for guesswork.","body":"Make your code more observable so that you can tell where time is being spent as you increase or decrease the degree of parallelism. Then it doesn&#39;t matter who&#39;s doing the guessing because there won&#39;t be a need for guesswork."},{"owner":{"account_id":12877052,"reputation":43,"user_id":9313399,"display_name":"L. Angelino"},"score":0,"creation_date":1649283627,"post_id":71773314,"comment_id":126839875,"body_markdown":"I&#39;ve edited something","body":"I&#39;ve edited something"}],"answers":[{"tags":[],"owner":{"account_id":24525025,"reputation":21,"user_id":18437588,"display_name":"vanxa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649282598,"creation_date":1649282598,"answer_id":71774107,"question_id":71773314,"body_markdown":"Ignoring the fact that you are not decompressing the file in parallel here (you are running multiple threads decompressing the same file concurrently, essentially overwriting the result), there may be several reasons for this performance hit. I/O is one, so it depends on the underlying implementation. Also, what is the `Logger` you are using there? While other parts of your code doesn&#39;t seem to be shared among multiple threads, the static call to `Logger` is something that is shared. \r\nAlso note: java.nio  uses FileChannels which provide synchronous I/O, so depending on how you create the channels, you may get into similar situations (though I don&#39;t believe this applies here).","title":"Slow operations in parallel","body":"<p>Ignoring the fact that you are not decompressing the file in parallel here (you are running multiple threads decompressing the same file concurrently, essentially overwriting the result), there may be several reasons for this performance hit. I/O is one, so it depends on the underlying implementation. Also, what is the <code>Logger</code> you are using there? While other parts of your code doesn't seem to be shared among multiple threads, the static call to <code>Logger</code> is something that is shared.\nAlso note: java.nio  uses FileChannels which provide synchronous I/O, so depending on how you create the channels, you may get into similar situations (though I don't believe this applies here).</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649362614,"creation_date":1649362614,"answer_id":71788426,"question_id":71773314,"body_markdown":"- One suspicion is that the directories contain many files, hence `File.mkdirs` does needlessly much checks.\r\n- The constructor of `BufferedInputStream` may have a custom buffer size. Never helped much, but it might be with your disk. Also with parallelism it could help to prevent much &quot;disk head movements.&quot;\r\n- You probably already tried `Files.copy` but still, it might have a better memory behavior that `readAllBytes`.\r\n\r\nSo the version becomes (eschewing `File` in favor of `Path`):\r\n\r\n    public void decompress(File archive, File destination) throws RuntimeException {\r\n        final int bufferSize = 1024 * 128;\r\n        Path archivePath = archive.toPath();\r\n        Path destinationPath = destination.toPath();\r\n        try (InputStream in = new FileInputStream(archive);\r\n             BufferedInputStream buff = new BufferedInputStream(in, bufferSize);\r\n             TarArchiveInputStream is = (TarArchiveInputStream)\r\n                 new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, buff)\r\n        ) {\r\n            Path oldFileParent = destinationPath;\r\n            oldFileParent.createDirectories();\r\n            TarArchiveEntry entry;\r\n            while ((entry = is.getNextTarEntry()) != null) {\r\n                Path file = Paths.get(destinationPath, entry.getName());\r\n                Path fileParent = file.getParent();\r\n                if (!fileParent.equals(oldFileParent)) {\r\n                     oldFileParent = fileParent;\r\n                     oldFileParent.createDirectories();\r\n                }\r\n                Files.copy(is, file);\r\n                //Files.write(file, is.readAllBytes());\r\n            }\r\n        } catch (IOException | ArchiveException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nThrowing a RuntimeException and capturing the IOException/ArchiveException without throwing it back (as `new IllegalStateException(e)`) is a matter of taste.\r\n\r\nNow to adding parallelism: disk output is probably the bottleneck. Writing two files to the same disk in parallel means skipping back and forth on the disk. Small files might just do.\r\n\r\nBetter seems to parallelize reading a next file and then in another thread write it.\r\nTwo threads might theoretically perform better than many threads with enhightened disk traffic. `readAllBytes` might then be appropriate, to let the writing thread not use `is`.\r\n\r\nAs in the tar entry maybe the file size is kept too, that would allow to check whether `readAllBytes` is efficient enough - for large files.\r\n\r\nLogging was mentioned in this question. It is known, that that can consume much time, and with parallelism becomes even more critical. But you seem to be aware of it. You wrote having written your own logger. For a library `System.Logger` is actually best. It is a fa&#231;ade that uses any logger the application provides. This would have prevented the logger vulnaribility hidden in library dependencies of the past year.\r\n","title":"Slow operations in parallel","body":"<ul>\n<li>One suspicion is that the directories contain many files, hence <code>File.mkdirs</code> does needlessly much checks.</li>\n<li>The constructor of <code>BufferedInputStream</code> may have a custom buffer size. Never helped much, but it might be with your disk. Also with parallelism it could help to prevent much &quot;disk head movements.&quot;</li>\n<li>You probably already tried <code>Files.copy</code> but still, it might have a better memory behavior that <code>readAllBytes</code>.</li>\n</ul>\n<p>So the version becomes (eschewing <code>File</code> in favor of <code>Path</code>):</p>\n<pre><code>public void decompress(File archive, File destination) throws RuntimeException {\n    final int bufferSize = 1024 * 128;\n    Path archivePath = archive.toPath();\n    Path destinationPath = destination.toPath();\n    try (InputStream in = new FileInputStream(archive);\n         BufferedInputStream buff = new BufferedInputStream(in, bufferSize);\n         TarArchiveInputStream is = (TarArchiveInputStream)\n             new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, buff)\n    ) {\n        Path oldFileParent = destinationPath;\n        oldFileParent.createDirectories();\n        TarArchiveEntry entry;\n        while ((entry = is.getNextTarEntry()) != null) {\n            Path file = Paths.get(destinationPath, entry.getName());\n            Path fileParent = file.getParent();\n            if (!fileParent.equals(oldFileParent)) {\n                 oldFileParent = fileParent;\n                 oldFileParent.createDirectories();\n            }\n            Files.copy(is, file);\n            //Files.write(file, is.readAllBytes());\n        }\n    } catch (IOException | ArchiveException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Throwing a RuntimeException and capturing the IOException/ArchiveException without throwing it back (as <code>new IllegalStateException(e)</code>) is a matter of taste.</p>\n<p>Now to adding parallelism: disk output is probably the bottleneck. Writing two files to the same disk in parallel means skipping back and forth on the disk. Small files might just do.</p>\n<p>Better seems to parallelize reading a next file and then in another thread write it.\nTwo threads might theoretically perform better than many threads with enhightened disk traffic. <code>readAllBytes</code> might then be appropriate, to let the writing thread not use <code>is</code>.</p>\n<p>As in the tar entry maybe the file size is kept too, that would allow to check whether <code>readAllBytes</code> is efficient enough - for large files.</p>\n<p>Logging was mentioned in this question. It is known, that that can consume much time, and with parallelism becomes even more critical. But you seem to be aware of it. You wrote having written your own logger. For a library <code>System.Logger</code> is actually best. It is a façade that uses any logger the application provides. This would have prevented the logger vulnaribility hidden in library dependencies of the past year.</p>\n"}],"owner":{"account_id":12877052,"reputation":43,"user_id":9313399,"display_name":"L. Angelino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71788426,"answer_count":2,"score":0,"last_activity_date":1649362614,"creation_date":1649277387,"question_id":71773314,"body_markdown":"I need help with running parallel operations. The goal of the code is to extract a large amount of small files from the same tar in different folders in a very short time\r\nThis is the code:\r\n\r\n    public void decompress(File archive, File destination) throws RuntimeException {\r\n        try (InputStream in = new FileInputStream(archive);\r\n             BufferedInputStream buff = new BufferedInputStream(in);\r\n             TarArchiveInputStream is = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, buff)\r\n        ) {\r\n            TarArchiveEntry entry;\r\n            while ((entry = is.getNextTarEntry()) != null) {\r\n                File file = new File(destination, entry.getName());\r\n                file.getParentFile().mkdirs();\r\n                Files.write(file.toPath(), is.readAllBytes());\r\n            }\r\n        } catch (IOException | ArchiveException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nWhen I execute one time this operation, it takes ~900ms\r\nBut when I do something like this to execute the same operation, multiple times in parallel it takes 20000ms:\r\n\r\n    ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(20);\r\n    File archive = ...;\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        File directory = new File(&quot;Dir_&quot; + i);\r\n        EXECUTOR_SERVICE.submit(() -&gt; decompress(archive, directory));\r\n    }\r\n\r\nor\r\n\r\n    File archive = ...;\r\n    for (int i = 0; i &lt; 5; i++) {\r\n        File directory = new File(&quot;Dir_&quot; + i);\r\n        new Thread(() -&gt; decompress(archive, directory)).start();\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vCDMn.png","title":"Slow operations in parallel","body":"<p>I need help with running parallel operations. The goal of the code is to extract a large amount of small files from the same tar in different folders in a very short time\nThis is the code:</p>\n<pre><code>public void decompress(File archive, File destination) throws RuntimeException {\n    try (InputStream in = new FileInputStream(archive);\n         BufferedInputStream buff = new BufferedInputStream(in);\n         TarArchiveInputStream is = (TarArchiveInputStream) new ArchiveStreamFactory().createArchiveInputStream(&quot;tar&quot;, buff)\n    ) {\n        TarArchiveEntry entry;\n        while ((entry = is.getNextTarEntry()) != null) {\n            File file = new File(destination, entry.getName());\n            file.getParentFile().mkdirs();\n            Files.write(file.toPath(), is.readAllBytes());\n        }\n    } catch (IOException | ArchiveException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>When I execute one time this operation, it takes ~900ms\nBut when I do something like this to execute the same operation, multiple times in parallel it takes 20000ms:</p>\n<pre><code>ExecutorService EXECUTOR_SERVICE = Executors.newFixedThreadPool(20);\nFile archive = ...;\nfor (int i = 0; i &lt; 5; i++) {\n    File directory = new File(&quot;Dir_&quot; + i);\n    EXECUTOR_SERVICE.submit(() -&gt; decompress(archive, directory));\n}\n</code></pre>\n<p>or</p>\n<pre><code>File archive = ...;\nfor (int i = 0; i &lt; 5; i++) {\n    File directory = new File(&quot;Dir_&quot; + i);\n    new Thread(() -&gt; decompress(archive, directory)).start();\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vCDMn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vCDMn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","maven","heroku","maven-embedder"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649364866,"post_id":71788417,"comment_id":126863863,"body_markdown":"Why calling Maven from another project? What kind of problem do you have?","body":"Why calling Maven from another project? What kind of problem do you have?"},{"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"score":0,"creation_date":1649366610,"post_id":71788417,"comment_id":126864355,"body_markdown":"The purpose of this project is to check if other Java projects are right (correction of coding exercises). And the easiest and most practical way I found to do such a check would be through Maven install. Because I get a URL from a Github repository, based on that URL I clone the project and put the source code (only the &#39;src&#39; folder) in another project that already contains all unit and integration tests for the project that received to check it, after that I run the maven install, because Maven itself will download the dependencies for me, compile and run tests.","body":"The purpose of this project is to check if other Java projects are right (correction of coding exercises). And the easiest and most practical way I found to do such a check would be through Maven install. Because I get a URL from a Github repository, based on that URL I clone the project and put the source code (only the &#39;src&#39; folder) in another project that already contains all unit and integration tests for the project that received to check it, after that I run the maven install, because Maven itself will download the dependencies for me, compile and run tests."},{"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"score":0,"creation_date":1649366657,"post_id":71788417,"comment_id":126864370,"body_markdown":"If maven install does not find any problems in these steps, it means that the project has passed the verification, so I send a request to another component confirming that this project is correct.","body":"If maven install does not find any problems in these steps, it means that the project has passed the verification, so I send a request to another component confirming that this project is correct."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649366895,"post_id":71788417,"comment_id":126864418,"body_markdown":"I would suggest not to use `mvn install` better use `mvn verify` because you don&#39;t need to install all the files in your local cache...I also recommend to use ProcessBuilder and really run the `mvn` command instead of `maven.multiModuleProjectDirectory`? (not officiall)...","body":"I would suggest not to use <code>mvn install</code> better use <code>mvn verify</code> because you don&#39;t need to install all the files in your local cache...I also recommend to use ProcessBuilder and really run the <code>mvn</code> command instead of <code>maven.multiModuleProjectDirectory</code>? (not officiall)..."},{"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"score":0,"creation_date":1649367852,"post_id":71788417,"comment_id":126864657,"body_markdown":"It is a great idea to use `mvn verify`, thanks! But the ProcessBuilder has a problem to use, it because I don&#39;t have access to all environment variables of Heroku, for example, if I execute `mvn --version` in the Heroku console returns:\n\n\n`bash: mvn: command not found`","body":"It is a great idea to use <code>mvn verify</code>, thanks! But the ProcessBuilder has a problem to use, it because I don&#39;t have access to all environment variables of Heroku, for example, if I execute <code>mvn --version</code> in the Heroku console returns:   <code>bash: mvn: command not found</code>"}],"owner":{"account_id":16137874,"reputation":11,"user_id":11649863,"display_name":"Gustavo Steinmetz"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649362584,"creation_date":1649362584,"question_id":71788417,"body_markdown":"I&#39;m working on a project where I need to run the `maven install` command in other projects. To resolve this, I used MavenCli which allows the execution of Maven commands by a Java Spring Boot project. A snippet of the executed code:\r\n\r\n```\r\nprivate int install(File pom, PrintStream out) throws IOException {\r\n        log.info(&quot;Maven install started: &quot; + pom.getCanonicalPath());\r\n        System.setProperty(&quot;maven.multiModuleProjectDirectory&quot;, pom.getCanonicalPath());\r\n        return this.maven.doMain(new String[]{\r\n                        &quot;install&quot;},\r\n                pom.getCanonicalPath(), out, out);\r\n    }\r\n```\r\n\r\nThe this.maven  is initialized in the constructor with `this.maven = new MavenCli()`. The pom file have the path: &quot;./src/main/resources/github-tasks/main/java-coding-tasks&quot;.\r\n\r\nIn localhost, the code works perfect, but when I deploy in Heroku and call this method, Heroku throw a NoSuchElementException:\r\n\r\n```\r\n2022-04-07T19:21:44.993728+00:00 app[web.1]: 2022-04-07 19:21:44.993  INFO 4 --- [onPool-worker-3] c.x.c.repository.MavenRepository         : 2022-04-07 19:21:44.574 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : Error executing Maven.\r\n2022-04-07T19:21:44.993735+00:00 app[web.1]: 2022-04-07 19:21:44.943 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : java.util.NoSuchElementException\r\n2022-04-07T19:21:44.993735+00:00 app[web.1]: role: org.apache.maven.eventspy.internal.EventSpyDispatcher\r\n2022-04-07T19:21:44.993736+00:00 app[web.1]: roleHint:\r\n2022-04-07T19:21:44.993737+00:00 app[web.1]: 2022-04-07 19:21:44.969 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : Caused by: null\r\n```\r\n\r\nI already tried to change the pom file to relativePath, absolutePath, &quot;./src/main/resources/github-tasks/main/java-coding-tasks/pom.xml&quot;, mixed the paths( in the system property &quot;maven.multiModuleProjectDirectory&quot; used relativePath and in the maven.doMain used absolutePath and vice versa), etc.\r\n\r\n\r\nBy the way, if I try to list the files in the directory that gives the NoSuchElementException, the files are there:\r\n\r\n```\r\nlog.info(&quot;Directory in maven install: {}&quot;, Arrays.toString(pom.list()));\r\n```\r\nLog:\r\n```\r\nDirectory in maven install: [pom.xml, .github, src, .git, README.md, .gitignore]\r\n```\r\n\r\nDoes anyone know what&#39;s causing this and how to fix it?\r\n","title":"Heroku not allowing MavenCli do maven install (NoSuchElementException)","body":"<p>I'm working on a project where I need to run the <code>maven install</code> command in other projects. To resolve this, I used MavenCli which allows the execution of Maven commands by a Java Spring Boot project. A snippet of the executed code:</p>\n<pre><code>private int install(File pom, PrintStream out) throws IOException {\n        log.info(&quot;Maven install started: &quot; + pom.getCanonicalPath());\n        System.setProperty(&quot;maven.multiModuleProjectDirectory&quot;, pom.getCanonicalPath());\n        return this.maven.doMain(new String[]{\n                        &quot;install&quot;},\n                pom.getCanonicalPath(), out, out);\n    }\n</code></pre>\n<p>The this.maven  is initialized in the constructor with <code>this.maven = new MavenCli()</code>. The pom file have the path: &quot;./src/main/resources/github-tasks/main/java-coding-tasks&quot;.</p>\n<p>In localhost, the code works perfect, but when I deploy in Heroku and call this method, Heroku throw a NoSuchElementException:</p>\n<pre><code>2022-04-07T19:21:44.993728+00:00 app[web.1]: 2022-04-07 19:21:44.993  INFO 4 --- [onPool-worker-3] c.x.c.repository.MavenRepository         : 2022-04-07 19:21:44.574 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : Error executing Maven.\n2022-04-07T19:21:44.993735+00:00 app[web.1]: 2022-04-07 19:21:44.943 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : java.util.NoSuchElementException\n2022-04-07T19:21:44.993735+00:00 app[web.1]: role: org.apache.maven.eventspy.internal.EventSpyDispatcher\n2022-04-07T19:21:44.993736+00:00 app[web.1]: roleHint:\n2022-04-07T19:21:44.993737+00:00 app[web.1]: 2022-04-07 19:21:44.969 ERROR 4 --- [onPool-worker-3] org.apache.maven.cli.MavenCli            : Caused by: null\n</code></pre>\n<p>I already tried to change the pom file to relativePath, absolutePath, &quot;./src/main/resources/github-tasks/main/java-coding-tasks/pom.xml&quot;, mixed the paths( in the system property &quot;maven.multiModuleProjectDirectory&quot; used relativePath and in the maven.doMain used absolutePath and vice versa), etc.</p>\n<p>By the way, if I try to list the files in the directory that gives the NoSuchElementException, the files are there:</p>\n<pre><code>log.info(&quot;Directory in maven install: {}&quot;, Arrays.toString(pom.list()));\n</code></pre>\n<p>Log:</p>\n<pre><code>Directory in maven install: [pom.xml, .github, src, .git, README.md, .gitignore]\n</code></pre>\n<p>Does anyone know what's causing this and how to fix it?</p>\n"},{"tags":["java","tapestry"],"comments":[{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1647551354,"post_id":71452597,"comment_id":126406540,"body_markdown":"Please clarify what you mean by &#39;the application should be closed&#39;. Is the browser window/tab supposed to close? Or the user session to be terminated? Or perhaps you meant to write &#39;alert box&#39;, not &#39;application&#39;?","body":"Please clarify what you mean by &#39;the application should be closed&#39;. Is the browser window/tab supposed to close? Or the user session to be terminated? Or perhaps you meant to write &#39;alert box&#39;, not &#39;application&#39;?"},{"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"score":0,"creation_date":1649329746,"post_id":71452597,"comment_id":126850792,"body_markdown":"In fact, It&#39;s both. By clicking on the Ok button of alert dialog box, the user session should be terminated and the browser window tab closed","body":"In fact, It&#39;s both. By clicking on the Ok button of alert dialog box, the user session should be terminated and the browser window tab closed"},{"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"score":0,"creation_date":1649362544,"post_id":71452597,"comment_id":126863194,"body_markdown":"Sounds like you are looking for a JavaScript-based solution. I added a third suggestion, using JavaScript, to my answer.","body":"Sounds like you are looking for a JavaScript-based solution. I added a third suggestion, using JavaScript, to my answer."}],"answers":[{"tags":[],"owner":{"account_id":8999454,"reputation":354,"user_id":6708591,"display_name":"user6708591"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649362445,"creation_date":1647553126,"answer_id":71519324,"question_id":71452597,"body_markdown":"It&#39;s not quite clear to me what you are trying to achieve, but perhaps the following two suggestions are useful.\r\n\r\n## Suggestion 1 - Display a message using AlertManager\r\nIn the page class, inject AlertManager and add the message to it. \r\n\r\n```\r\npublic class YourPage {\r\n\r\n   @Inject\r\n   AlertManager alertManager;\r\n\r\n   Object setupRender() {\r\n      // ...\r\n      alertManager.alert(Duration.UNTIL_DISMISSED, Severity.INFO, &quot;Love Tapestry&quot;);\r\n   }\r\n\r\n}\r\n```\r\n\r\nThen use the `&lt;t:alerts/&gt;` component in the page template file to have the message displayed.\r\n\r\nNote: The user may dismiss the message, that is, make it disappear. But it doesn&#39;t &#39;close the application&#39; (whatever it is that you mean by that).\r\n\r\n## Suggestion 2 - Redirect to another page\r\n\r\nThe `setupRender` method can return different things. For example, it could return another page class, causing a redirect to that page. On that page, you could have the messages displayed and the session subsequently invalidated (if that&#39;s what you meant by &#39;application should be closed&#39;.\r\n\r\n\r\n```\r\npublic class YourPage {\r\n\r\n   Object setupRender() {\r\n      // ...\r\n      return AnotherPage.class;\r\n   }\r\n\r\n}\r\n\r\npublic class AnotherPage {\r\n\r\n   @Inject\r\n   Request request;\r\n\r\n   void afterRender() {\r\n      Session session = request.getSession(false);\r\n      session.invalidate();\r\n   }\r\n\r\n}\r\n```\r\nSee the [Tapestry docs][1] for details about what `setupRender()` can return.\r\n\r\n## Suggestion 3 - Use JavaScript to display Alert and trigger Component Event\r\n\r\nThis approach uses JavaScript to display an Alert and subsequently trigger a component event via ajax. The event handler takes care of invalidating the session.\r\n\r\nNote: Closing the current browser windows/tab with JavaScript isn&#39;t as easy as it used to be. See this [Stackoverflow question][2] for details.\r\n\r\nYourPage.java\r\n```java\r\npublic class YourPage {\r\n\r\n    boolean someCondition;\r\n    \r\n    void setupRender() {\r\n    \tsomeCondition = true;\r\n    }\r\n    \r\n    @Inject\r\n    private JavaScriptSupport javaScriptSupport;\r\n    \r\n    @Inject\r\n    ComponentResources resources;\r\n    \r\n    public static final String EVENT = &quot;logout&quot;;\r\n    \r\n    void afterRender() {\r\n    \tif (someCondition) {\r\n    \t\tLink link = resources.createEventLink(EVENT);\r\n    \t\tJSONObject config = new JSONObject(\r\n    \t\t\t\t&quot;msg&quot;, &quot;See ya.&quot;,\r\n    \t\t\t\t&quot;link&quot;, link.toAbsoluteURI()\r\n    \t\t);\r\n    \t\tjavaScriptSupport.require(&quot;LogoutAndCloseWindow&quot;).with(config);\r\n    \t}\r\n    }\r\n    \r\n    @Inject Request request;\r\n    \r\n    @OnEvent(value = EVENT)\r\n    void logout() {\r\n    \tSession session = request.getSession(false);\r\n    \tif (session != null) session.invalidate();\r\n    }\r\n\t\r\n}\r\n```\r\n\r\nYourPage.tml\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html\r\n    xmlns:t=&quot;http://tapestry.apache.org/schema/tapestry_5_4.xsd&quot;\r\n    xmlns:p=&quot;tapestry:parameter&quot;&gt;\r\n    \r\n    &lt;h1&gt;Hit the Road Jack&lt;/h1&gt;\r\n    \r\n&lt;/html&gt;\r\n```\r\n\r\nLogoutAndCloseWindow.js\r\n```js\r\ndefine([&quot;jquery&quot;], function($) {\r\n\r\n\treturn function(config) {\r\n\t\talert(config.msg);\r\n\t\t$.ajax({\r\n\t\t\ttype: &quot;GET&quot;,\r\n\t\t\turl: config.link\r\n\t\t});\r\n\r\n\t\twindow.close(); // Legacy. Doesn&#39;t work in current browsers.\r\n\t\t// See https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window\r\n\t}\r\n\r\n})\r\n```\r\n\r\n  [1]: https://tapestry.apache.org/page-navigation.html#PageNavigation-ComponentEventRequests&amp;Responses\r\n  [2]: https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window","title":"Tapestry: How to display an alert dialog from my Java code","body":"<p>It's not quite clear to me what you are trying to achieve, but perhaps the following two suggestions are useful.</p>\n<h2>Suggestion 1 - Display a message using AlertManager</h2>\n<p>In the page class, inject AlertManager and add the message to it.</p>\n<pre><code>public class YourPage {\n\n   @Inject\n   AlertManager alertManager;\n\n   Object setupRender() {\n      // ...\n      alertManager.alert(Duration.UNTIL_DISMISSED, Severity.INFO, &quot;Love Tapestry&quot;);\n   }\n\n}\n</code></pre>\n<p>Then use the <code>&lt;t:alerts/&gt;</code> component in the page template file to have the message displayed.</p>\n<p>Note: The user may dismiss the message, that is, make it disappear. But it doesn't 'close the application' (whatever it is that you mean by that).</p>\n<h2>Suggestion 2 - Redirect to another page</h2>\n<p>The <code>setupRender</code> method can return different things. For example, it could return another page class, causing a redirect to that page. On that page, you could have the messages displayed and the session subsequently invalidated (if that's what you meant by 'application should be closed'.</p>\n<pre><code>public class YourPage {\n\n   Object setupRender() {\n      // ...\n      return AnotherPage.class;\n   }\n\n}\n\npublic class AnotherPage {\n\n   @Inject\n   Request request;\n\n   void afterRender() {\n      Session session = request.getSession(false);\n      session.invalidate();\n   }\n\n}\n</code></pre>\n<p>See the <a href=\"https://tapestry.apache.org/page-navigation.html#PageNavigation-ComponentEventRequests&amp;Responses\" rel=\"nofollow noreferrer\">Tapestry docs</a> for details about what <code>setupRender()</code> can return.</p>\n<h2>Suggestion 3 - Use JavaScript to display Alert and trigger Component Event</h2>\n<p>This approach uses JavaScript to display an Alert and subsequently trigger a component event via ajax. The event handler takes care of invalidating the session.</p>\n<p>Note: Closing the current browser windows/tab with JavaScript isn't as easy as it used to be. See this <a href=\"https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window\">Stackoverflow question</a> for details.</p>\n<p>YourPage.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class YourPage {\n\n    boolean someCondition;\n    \n    void setupRender() {\n        someCondition = true;\n    }\n    \n    @Inject\n    private JavaScriptSupport javaScriptSupport;\n    \n    @Inject\n    ComponentResources resources;\n    \n    public static final String EVENT = &quot;logout&quot;;\n    \n    void afterRender() {\n        if (someCondition) {\n            Link link = resources.createEventLink(EVENT);\n            JSONObject config = new JSONObject(\n                    &quot;msg&quot;, &quot;See ya.&quot;,\n                    &quot;link&quot;, link.toAbsoluteURI()\n            );\n            javaScriptSupport.require(&quot;LogoutAndCloseWindow&quot;).with(config);\n        }\n    }\n    \n    @Inject Request request;\n    \n    @OnEvent(value = EVENT)\n    void logout() {\n        Session session = request.getSession(false);\n        if (session != null) session.invalidate();\n    }\n    \n}\n</code></pre>\n<p>YourPage.tml</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html\n    xmlns:t=&quot;http://tapestry.apache.org/schema/tapestry_5_4.xsd&quot;\n    xmlns:p=&quot;tapestry:parameter&quot;&gt;\n    \n    &lt;h1&gt;Hit the Road Jack&lt;/h1&gt;\n    \n&lt;/html&gt;\n</code></pre>\n<p>LogoutAndCloseWindow.js</p>\n<pre class=\"lang-js prettyprint-override\"><code>define([&quot;jquery&quot;], function($) {\n\n    return function(config) {\n        alert(config.msg);\n        $.ajax({\n            type: &quot;GET&quot;,\n            url: config.link\n        });\n\n        window.close(); // Legacy. Doesn't work in current browsers.\n        // See https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window\n    }\n\n})\n</code></pre>\n"}],"owner":{"account_id":5878211,"reputation":367,"user_id":4628462,"accept_rate":54,"display_name":"blaiso"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649362445,"creation_date":1647113923,"question_id":71452597,"body_markdown":"I&#39;m actually writing a java code in the setupRender() method. Depending of a value provided by the server side, i would like to display an Alert dialog box to the user. By clicking on ok, the application should be closed.\r\n\r\nI have not already found how to display an Alert dialog box with tapestry. Do somebody know  how to procedd?\r\n\r\nThanks","title":"Tapestry: How to display an alert dialog from my Java code","body":"<p>I'm actually writing a java code in the setupRender() method. Depending of a value provided by the server side, i would like to display an Alert dialog box to the user. By clicking on ok, the application should be closed.</p>\n<p>I have not already found how to display an Alert dialog box with tapestry. Do somebody know  how to procedd?</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","exe"],"comments":[{"owner":{"account_id":14531,"reputation":118870,"user_id":29995,"accept_rate":77,"display_name":"Rob Hruska"},"score":2,"creation_date":1303229696,"post_id":5719376,"comment_id":6539699,"body_markdown":"[Possible duplicate](http://stackoverflow.com/questions/3013506/creating-exe-for-my-java-application-in-eclipse), [related](http://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file), [relevant search](http://www.google.com/search?q=create+exe+eclipse+java+site%3Astackoverflow.com)","body":"<a href=\"http://stackoverflow.com/questions/3013506/creating-exe-for-my-java-application-in-eclipse\">Possible duplicate</a>, <a href=\"http://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">related</a>, <a href=\"http://www.google.com/search?q=create+exe+eclipse+java+site%3Astackoverflow.com\" rel=\"nofollow noreferrer\">relevant search</a>"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1303230003,"post_id":5719376,"comment_id":6539765,"body_markdown":"What search terms (the search box is in the upper right) have you used to look for duplicates?","body":"What search terms (the search box is in the upper right) have you used to look for duplicates?"}],"answers":[{"tags":[],"owner":{"account_id":267411,"reputation":28959,"user_id":555576,"accept_rate":50,"display_name":"Konstantin Komissarchik"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1303229631,"creation_date":1303229631,"answer_id":5719427,"question_id":5719376,"body_markdown":"Creating .exe distributions isn&#39;t typical for Java. While such wrappers do exist, the normal mode of operation is to create a .jar file.\r\n\r\nTo create a .jar file from a Java project in Eclipse, use file-&gt;export-&gt;java-&gt;Jar file. This will create an archive with all your classes.\r\n\r\nOn the command prompt, use invocation like the following:\r\n\r\njava -cp myapp.jar foo.bar.MyMainClass","title":"How can I create a Windows .exe (standalone executable) using Java/Eclipse?","body":"<p>Creating .exe distributions isn't typical for Java. While such wrappers do exist, the normal mode of operation is to create a .jar file.</p>\n\n<p>To create a .jar file from a Java project in Eclipse, use file->export->java->Jar file. This will create an archive with all your classes.</p>\n\n<p>On the command prompt, use invocation like the following:</p>\n\n<p>java -cp myapp.jar foo.bar.MyMainClass</p>\n"},{"tags":[],"owner":{"account_id":295931,"reputation":7379,"user_id":600591,"accept_rate":91,"display_name":"anthonyvd"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1303229722,"creation_date":1303229722,"answer_id":5719444,"question_id":5719376,"body_markdown":"Typical Java programs compile into .jar files, which can be executed like .exe files provided the target machine has Java installed and that Java is in its PATH.  From Eclipse you use the Export menu item from the File menu.\r\n\r\n","title":"How can I create a Windows .exe (standalone executable) using Java/Eclipse?","body":"<p>Typical Java programs compile into .jar files, which can be executed like .exe files provided the target machine has Java installed and that Java is in its PATH.  From Eclipse you use the Export menu item from the File menu.</p>\n"},{"tags":[],"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"down_vote_count":2,"up_vote_count":22,"is_accepted":false,"score":20,"last_activity_date":1303229777,"creation_date":1303229777,"answer_id":5719464,"question_id":5719376,"body_markdown":"Java doesn&#39;t natively allow building of an *exe*, that would defeat its purpose of being cross-platform.\r\n\r\nAFAIK, these are your options:\r\n\r\n1. Make a [runnable JAR][1]. If the system supports it and is configured appropriately, in a GUI, double clicking the JAR will launch the app. Another option would be to write a launcher shell script/batch file which will start your JAR with the appropriate parameters\r\n\r\n1. There also executable wrappers - see https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\r\n\r\nSee also:\r\n[Convert Java to EXE: Why, When, When Not and How](http://www.excelsior-usa.com/articles/java-to-exe.html)\r\n\r\n  [1]: http://www.ibm.com/developerworks/library/j-jar/index.html#N1014A","title":"How can I create a Windows .exe (standalone executable) using Java/Eclipse?","body":"<p>Java doesn't natively allow building of an <em>exe</em>, that would defeat its purpose of being cross-platform.</p>\n\n<p>AFAIK, these are your options:</p>\n\n<ol>\n<li><p>Make a <a href=\"http://www.ibm.com/developerworks/library/j-jar/index.html#N1014A\" rel=\"noreferrer\">runnable JAR</a>. If the system supports it and is configured appropriately, in a GUI, double clicking the JAR will launch the app. Another option would be to write a launcher shell script/batch file which will start your JAR with the appropriate parameters</p></li>\n<li><p>There also executable wrappers - see <a href=\"https://stackoverflow.com/questions/147181/how-can-i-convert-my-java-program-to-an-exe-file\">How can I convert my Java program to an .exe file?</a></p></li>\n</ol>\n\n<p>See also:\n<a href=\"http://www.excelsior-usa.com/articles/java-to-exe.html\" rel=\"noreferrer\">Convert Java to EXE: Why, When, When Not and How</a></p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1649362405,"creation_date":1630702852,"answer_id":69050509,"question_id":5719376,"body_markdown":"**Creating a native installer using `jpackage`**\r\n\r\nA [java packaging tool](https://openjdk.java.net/jeps/392) named [`jpackage`](https://docs.oracle.com/en/java/javase/16/docs/specs/man/jpackage.html) was released as part of the Java Development Kit (JDK) version 16.\r\n\r\nThis tool works in conjunction with native packaging tools for various platforms (e.g. [WIX][1] for Windows, [RPM][2], and [DEB][3] for Linux distributions, [DMG][4] for Mac) to allow building native installers for Java applications which can then be run as executables.  For distribution, it may be possible to distribute just the executable for the application, independent of the installer (I don&#39;t know, I didn&#39;t try that).\r\n\r\nA nice, tutorial style, blog post that describes the use of the `jpackage` tool to create a native Windows installer for a Java application is: \r\n\r\n * [How to create a Windows Native Java application (generating .exe file)?](https://fullstackdeveloper.guru/2020/06/17/how-to-create-a-windows-native-java-application-generating-exe-file/)\r\n\r\n**Customizing the runtime image using `jlink` and `jdeps`**\r\n\r\nThe packaging tool can (optionally) be combined with the [`jlink`](https://docs.oracle.com/en/java/javase/16/docs/specs/man/jlink.html) tool:\r\n\r\n&gt; jlink - assemble and optimize a set of modules and their dependencies into a custom runtime image\r\n\r\nThis allows you to customize the runtime image for your application to only include the required custom selected modular parts of your application code, java runtime, and 3rd party libraries, rather than distributing a complete java runtime.\r\n\r\nOptionally, you can also use the [`jdeps`](https://docs.oracle.com/en/java/javase/16/docs/specs/man/jdeps.html) tool to determine inputs to `jlink`.\r\n\r\nComplete discussion of usage of `jdeps` + `jlink` + `jpackage` + a native bundle creator (e.g. wix/rpm/deb/dmg) is outside of scope for a StackOverflow answer, but various resources can be found on the web if you search.\r\n\r\n**Creating a standalone `.exe` instead of an installer**\r\n\r\nThis can be done using [warp-packer][5] to create a exe out of the image and app launcher created by [`jlink`][5].\r\n\r\n * https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\r\n\r\n**Third party tools can help deliver a solution**\r\n\r\nIf you wish to use all these tools in combination, things can get complicated, and I&#39;d advise using a 3rd party utility or template to help perform this task.  For example:\r\n\r\n * [badass-jlink-plugin](https://github.com/beryx/badass-jlink-plugin) ([documentation](https://badass-jlink-plugin.beryx.org/releases/latest/)) -&gt; &quot;allows you to create custom runtime images for modular applications with minimal effort. It also lets you create an application installer with the `jpackage` tool.&quot;\r\n\r\nFor JavaFX specific applications (as your question has a JavaFX tag), you could review:\r\n\r\n * [JPackageScriptFX](https://github.com/dlemmermann/JPackageScriptFX) -&gt; &quot;demonstrates how projects can use scripts to build self-contained, platform-specific executables and installers of their JavaFX applications via the jdeps, jlink, and jpackage tools.&quot;\r\n\r\n**For native mobile deployments, see Gluon Mobile**\r\n\r\nThis question was Windows specific, but for completeness, if your target is native application deployment on a mobile device, then likely you will need to use a 3rd party solution such as [Gluon Mobile](https://gluonhq.com/products/mobile/).\r\n\r\n&lt;hr&gt;\r\n\r\n**Background Rationale (ignore if not needed)**\r\n\r\ncreating a native installer using `jpackage` might be a bit of work, so why would you do it?  \r\n\r\nHere are some reasons:\r\n\r\n 1. When an application is distributed via an installer created using `jpackage`, that application can be installed on a target system without requiring the user to manually install other dependencies (such as a Java Runtime).  The installer will take care of ensuring that your application and any dependencies it requires are installed.\r\n 2. The application ships with its own customized version of the Java Runtime.  This means that if the user doesn&#39;t install a JRE, and, if they have installed a version of the JRE which is incompatible with your application, your application will still function correctly.  \r\n 3. The application can be installed and uninstalled using standard OS facilities for the target platform. Most users of those platforms are familiar with these.\r\n\r\nYes, Java is cross-platform for the most part, but many users don&#39;t care much about that, instead they just want a smooth and familiar installation (and uninstallation) experience for their application and `jpackage` can help accomplish that.\r\n\r\n\r\n  [1]: https://wixtoolset.org\r\n  [2]: https://man7.org/linux/man-pages/man8/rpmbuild.8.html\r\n  [3]: https://www.debian.org/doc/manuals/maint-guide/build.en.html\r\n  [4]: https://en.wikipedia.org/wiki/Apple_Disk_Image\r\n  [5]: https://github.com/dgiagio/warp","title":"How can I create a Windows .exe (standalone executable) using Java/Eclipse?","body":"<p><strong>Creating a native installer using <code>jpackage</code></strong></p>\n<p>A <a href=\"https://openjdk.java.net/jeps/392\" rel=\"nofollow noreferrer\">java packaging tool</a> named <a href=\"https://docs.oracle.com/en/java/javase/16/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> was released as part of the Java Development Kit (JDK) version 16.</p>\n<p>This tool works in conjunction with native packaging tools for various platforms (e.g. <a href=\"https://wixtoolset.org\" rel=\"nofollow noreferrer\">WIX</a> for Windows, <a href=\"https://man7.org/linux/man-pages/man8/rpmbuild.8.html\" rel=\"nofollow noreferrer\">RPM</a>, and <a href=\"https://www.debian.org/doc/manuals/maint-guide/build.en.html\" rel=\"nofollow noreferrer\">DEB</a> for Linux distributions, <a href=\"https://en.wikipedia.org/wiki/Apple_Disk_Image\" rel=\"nofollow noreferrer\">DMG</a> for Mac) to allow building native installers for Java applications which can then be run as executables.  For distribution, it may be possible to distribute just the executable for the application, independent of the installer (I don't know, I didn't try that).</p>\n<p>A nice, tutorial style, blog post that describes the use of the <code>jpackage</code> tool to create a native Windows installer for a Java application is:</p>\n<ul>\n<li><a href=\"https://fullstackdeveloper.guru/2020/06/17/how-to-create-a-windows-native-java-application-generating-exe-file/\" rel=\"nofollow noreferrer\">How to create a Windows Native Java application (generating .exe file)?</a></li>\n</ul>\n<p><strong>Customizing the runtime image using <code>jlink</code> and <code>jdeps</code></strong></p>\n<p>The packaging tool can (optionally) be combined with the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a> tool:</p>\n<blockquote>\n<p>jlink - assemble and optimize a set of modules and their dependencies into a custom runtime image</p>\n</blockquote>\n<p>This allows you to customize the runtime image for your application to only include the required custom selected modular parts of your application code, java runtime, and 3rd party libraries, rather than distributing a complete java runtime.</p>\n<p>Optionally, you can also use the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/specs/man/jdeps.html\" rel=\"nofollow noreferrer\"><code>jdeps</code></a> tool to determine inputs to <code>jlink</code>.</p>\n<p>Complete discussion of usage of <code>jdeps</code> + <code>jlink</code> + <code>jpackage</code> + a native bundle creator (e.g. wix/rpm/deb/dmg) is outside of scope for a StackOverflow answer, but various resources can be found on the web if you search.</p>\n<p><strong>Creating a standalone <code>.exe</code> instead of an installer</strong></p>\n<p>This can be done using <a href=\"https://github.com/dgiagio/warp\" rel=\"nofollow noreferrer\">warp-packer</a> to create a exe out of the image and app launcher created by <a href=\"https://github.com/dgiagio/warp\" rel=\"nofollow noreferrer\"><code>jlink</code></a>.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/69811401/how-to-create-a-standalone-exe-in-java-that-runs-without-an-installer-and-a-jr\">How to create a standalone .exe in Java (that runs without an installer and a JRE)</a></li>\n</ul>\n<p><strong>Third party tools can help deliver a solution</strong></p>\n<p>If you wish to use all these tools in combination, things can get complicated, and I'd advise using a 3rd party utility or template to help perform this task.  For example:</p>\n<ul>\n<li><a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"nofollow noreferrer\">badass-jlink-plugin</a> (<a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">documentation</a>) -&gt; &quot;allows you to create custom runtime images for modular applications with minimal effort. It also lets you create an application installer with the <code>jpackage</code> tool.&quot;</li>\n</ul>\n<p>For JavaFX specific applications (as your question has a JavaFX tag), you could review:</p>\n<ul>\n<li><a href=\"https://github.com/dlemmermann/JPackageScriptFX\" rel=\"nofollow noreferrer\">JPackageScriptFX</a> -&gt; &quot;demonstrates how projects can use scripts to build self-contained, platform-specific executables and installers of their JavaFX applications via the jdeps, jlink, and jpackage tools.&quot;</li>\n</ul>\n<p><strong>For native mobile deployments, see Gluon Mobile</strong></p>\n<p>This question was Windows specific, but for completeness, if your target is native application deployment on a mobile device, then likely you will need to use a 3rd party solution such as <a href=\"https://gluonhq.com/products/mobile/\" rel=\"nofollow noreferrer\">Gluon Mobile</a>.</p>\n<hr>\n<p><strong>Background Rationale (ignore if not needed)</strong></p>\n<p>creating a native installer using <code>jpackage</code> might be a bit of work, so why would you do it?</p>\n<p>Here are some reasons:</p>\n<ol>\n<li>When an application is distributed via an installer created using <code>jpackage</code>, that application can be installed on a target system without requiring the user to manually install other dependencies (such as a Java Runtime).  The installer will take care of ensuring that your application and any dependencies it requires are installed.</li>\n<li>The application ships with its own customized version of the Java Runtime.  This means that if the user doesn't install a JRE, and, if they have installed a version of the JRE which is incompatible with your application, your application will still function correctly.</li>\n<li>The application can be installed and uninstalled using standard OS facilities for the target platform. Most users of those platforms are familiar with these.</li>\n</ol>\n<p>Yes, Java is cross-platform for the most part, but many users don't care much about that, instead they just want a smooth and familiar installation (and uninstallation) experience for their application and <code>jpackage</code> can help accomplish that.</p>\n"}],"owner":{"account_id":351347,"reputation":1425,"user_id":687761,"accept_rate":67,"display_name":"Skizz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107073,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":4,"score":24,"last_activity_date":1649362405,"creation_date":1303229398,"question_id":5719376,"body_markdown":"I&#39;m new to the programming scene.  Been working with C++ for about 5 months now, and have decided I want to start getting into Java.  I&#39;m using Eclipse as my IDE, and obviously Java for the language.  I&#39;m trying to write a simple HelloWorld application, which can be run through a command prompt executable.  \r\n\r\nIn Visual Studio, it seems it&#39;s rather easy to create an executable.  All I&#39;ve ever had to do is use a pull down arrow and choose Release, and then run my build.  The purpose of wanting to be able to write/run Java in command prompt is so that I&#39;m able to practice some of the language basics before I go in full force with Swing.  \r\n\r\nSo bottom line, what is the easiest way to create a command prompt .exe written with Java?\r\n\r\nThanks in advance!","title":"How can I create a Windows .exe (standalone executable) using Java/Eclipse?","body":"<p>I'm new to the programming scene.  Been working with C++ for about 5 months now, and have decided I want to start getting into Java.  I'm using Eclipse as my IDE, and obviously Java for the language.  I'm trying to write a simple HelloWorld application, which can be run through a command prompt executable.  </p>\n\n<p>In Visual Studio, it seems it's rather easy to create an executable.  All I've ever had to do is use a pull down arrow and choose Release, and then run my build.  The purpose of wanting to be able to write/run Java in command prompt is so that I'm able to practice some of the language basics before I go in full force with Swing.  </p>\n\n<p>So bottom line, what is the easiest way to create a command prompt .exe written with Java?</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","case-insensitive"],"comments":[{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":1,"creation_date":1649342978,"post_id":71784152,"comment_id":126856369,"body_markdown":"an example of what you are attempting to match and what value you are providing would be helpful. For instance, are you searching with an UPPER-CASE value? Does your HTML have a table with that `@id`? Does the table have `tdbody`? All questions that we have no answers to.","body":"an example of what you are attempting to match and what value you are providing would be helpful. For instance, are you searching with an UPPER-CASE value? Does your HTML have a table with that <code>@id</code>? Does the table have <code>tdbody</code>? All questions that we have no answers to."},{"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"score":0,"creation_date":1649358558,"post_id":71784152,"comment_id":126862032,"body_markdown":"It does have table with that ID. I want to match this - Test Account as well as TEST ACCOUNT. I want do match not case sensitive","body":"It does have table with that ID. I want to match this - Test Account as well as TEST ACCOUNT. I want do match not case sensitive"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360817,"creation_date":1649360817,"answer_id":71788116,"question_id":71784152,"body_markdown":"To create the case insensitive [tag:xpath] you can use the following solution:\r\n\r\n\t&quot;//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[.//td[contains(translate(., &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;, &#39;abcdefghijklmnopqrstuvwxyz&#39;), &#39;{}&#39;)]]&quot;.format(placeholder)\r\n\r\nEffectively, your line of code will be:\r\n\r\n\tplaceholder= &quot;Test Account&quot;\r\n\tWebElement element = driver.findElement(By.xpath(&quot;//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[.//td[contains(translate(., &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;, &#39;abcdefghijklmnopqrstuvwxyz&#39;), &#39;{}&#39;)]]&quot;.format(placeholder)));\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How to find elements through text ignoring the case using Selenium and Xpath](https://stackoverflow.com/a/56477271/7429447)","title":"How to create case insensitive xpath in Selenium Java","body":"<p>To create the case insensitive <a href=\"/questions/tagged/xpath\" class=\"post-tag\" title=\"show questions tagged &#39;xpath&#39;\" rel=\"tag\">xpath</a> you can use the following solution:</p>\n<pre><code>&quot;//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[.//td[contains(translate(., 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), '{}')]]&quot;.format(placeholder)\n</code></pre>\n<p>Effectively, your line of code will be:</p>\n<pre><code>placeholder= &quot;Test Account&quot;\nWebElement element = driver.findElement(By.xpath(&quot;//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[.//td[contains(translate(., 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), '{}')]]&quot;.format(placeholder)));\n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/56477271/7429447\">How to find elements through text ignoring the case using Selenium and Xpath</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10336690,"reputation":3527,"user_id":7624566,"display_name":"K. B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649362236,"creation_date":1649362236,"answer_id":71788360,"question_id":71784152,"body_markdown":"Generally your XPath looks ok to me. Maybe the issue is connected with whether you search uppercase or lowercase, for example these both are returning the three td nodes:\r\n\r\n     //td[contains(translate(text(), &#39;abcdefghijklmnopqrstuvwxyz&#39;, &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;), &#39;TEST ACCOUNT&#39;)]\r\n     \r\n     //td[contains(translate(text(), &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;, &#39;abcdefghijklmnopqrstuvwxyz&#39;), &#39;test account&#39;)]\r\n","title":"How to create case insensitive xpath in Selenium Java","body":"<p>Generally your XPath looks ok to me. Maybe the issue is connected with whether you search uppercase or lowercase, for example these both are returning the three td nodes:</p>\n<pre><code> //td[contains(translate(text(), 'abcdefghijklmnopqrstuvwxyz', 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'), 'TEST ACCOUNT')]\n \n //td[contains(translate(text(), 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), 'test account')]\n</code></pre>\n"}],"owner":{"account_id":6911888,"reputation":161,"user_id":5307407,"accept_rate":70,"display_name":"Nitin Rathod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1200,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71788360,"answer_count":2,"score":0,"last_activity_date":1649362236,"creation_date":1649342266,"question_id":71784152,"body_markdown":"I have created below XPath but it is not working as expected.\r\n\r\nI am checking text in the cell of a html table and I want a particular cell to be matched.\r\n\r\nI have created below XPath but it is not working.\r\n\r\n    *//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[td[ contains(translate(text(), &quot;abcdefghijklmnopqrstuvwxyz&quot;, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;), &quot;{0}&quot;) ]]\r\n\r\n`{0}` - This is the place holder for value to search\r\n\r\nI want to match below values\r\n\r\nTest Account or TEST ACCOUNT or Test ACCOUNT\r\n\r\n    &lt;td class=&quot;left filterInputColumn&quot;&gt;Test Account&lt;/td&gt;\r\n    &lt;td class=&quot;left filterInputColumn&quot;&gt;Test ACCOUNT&lt;/td&gt;\r\n    &lt;td class=&quot;left filterInputColumn&quot;&gt;TEST ACCOUNT&lt;/td&gt;","title":"How to create case insensitive xpath in Selenium Java","body":"<p>I have created below XPath but it is not working as expected.</p>\n<p>I am checking text in the cell of a html table and I want a particular cell to be matched.</p>\n<p>I have created below XPath but it is not working.</p>\n<pre><code>*//table[@id=&quot;customerPortalTable&quot;]//tbody//tr[td[ contains(translate(text(), &quot;abcdefghijklmnopqrstuvwxyz&quot;, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;), &quot;{0}&quot;) ]]\n</code></pre>\n<p><code>{0}</code> - This is the place holder for value to search</p>\n<p>I want to match below values</p>\n<p>Test Account or TEST ACCOUNT or Test ACCOUNT</p>\n<pre><code>&lt;td class=&quot;left filterInputColumn&quot;&gt;Test Account&lt;/td&gt;\n&lt;td class=&quot;left filterInputColumn&quot;&gt;Test ACCOUNT&lt;/td&gt;\n&lt;td class=&quot;left filterInputColumn&quot;&gt;TEST ACCOUNT&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1649361928,"post_id":71788235,"comment_id":126862984,"body_markdown":"please update the question with the request that you send with postman","body":"please update the question with the request that you send with postman"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649362113,"creation_date":1649362113,"answer_id":71788340,"question_id":71788235,"body_markdown":"    @PostMapping(&quot;/createQuote&quot;)\r\n    public boolean newQuote(@RequestBody Quote newQuote) {\r\n\r\nYour controller expects as input a single object `{ ... }` representing a Quote object as you have defined it in your code.\r\n\r\n&gt; Cannot deserialize value of type abcd.Model.Quote from Array value\r\n&gt; (token JsonToken.START_ARRAY);\r\n\r\nBut you provide as input with the message that you send an array of objects `[ {...}, {...}]`.\r\n\r\nYour request must be without `[ ]` because those should be used if your controller expected an array of objects.\r\n\r\nso it should be \r\n\r\n\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;type_building&quot;: &quot;commercial&quot;,\r\n        &quot;numElevator&quot;: 10,\r\n        &quot;typeService&quot;: &quot;standard&quot;,\r\n        &quot;total&quot;: 100000.0,\r\n        &quot;totalElevatorPrice&quot;: 1.0E7\r\n    }\r\n\r\n","title":"POST request endpoint using Java/Spring-boot","body":"<pre><code>@PostMapping(&quot;/createQuote&quot;)\npublic boolean newQuote(@RequestBody Quote newQuote) {\n</code></pre>\n<p>Your controller expects as input a single object <code>{ ... }</code> representing a Quote object as you have defined it in your code.</p>\n<blockquote>\n<p>Cannot deserialize value of type abcd.Model.Quote from Array value\n(token JsonToken.START_ARRAY);</p>\n</blockquote>\n<p>But you provide as input with the message that you send an array of objects <code>[ {...}, {...}]</code>.</p>\n<p>Your request must be without <code>[ ]</code> because those should be used if your controller expected an array of objects.</p>\n<p>so it should be</p>\n<pre><code>{\n    &quot;id&quot;: 2,\n    &quot;type_building&quot;: &quot;commercial&quot;,\n    &quot;numElevator&quot;: 10,\n    &quot;typeService&quot;: &quot;standard&quot;,\n    &quot;total&quot;: 100000.0,\n    &quot;totalElevatorPrice&quot;: 1.0E7\n}\n</code></pre>\n"}],"owner":{"account_id":23358329,"reputation":97,"user_id":17710829,"display_name":"user17710829"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1566,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71788340,"answer_count":1,"score":1,"last_activity_date":1649362113,"creation_date":1649361489,"question_id":71788235,"body_markdown":"I&#39;m trying to make a post request endpoint to send some form values to my database.  When I test the request with postman, I get a 400 bad request error and this message in my console \r\n\r\nJSON parse error: Cannot deserialize value of type `abcd.Model.Quote` from Array value (token `JsonToken.START_ARRAY`);\r\n\r\nthis is my controller:\r\n\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        @PostMapping(&quot;/createQuote&quot;)\r\n        public boolean newQuote(@RequestBody Quote newQuote) {\r\n        return quoteDB.saveQuote(newQuote);\r\n    };\r\n\r\nmy model:\r\n\r\n    public class Quote {\r\n    public int id;\r\n    public String type_building;\r\n    public int numElevator;\r\n    public String typeService;\r\n    public double total;\r\n    public double totalElevatorPrice;\r\n\r\n    public Quote(\r\n            int _id,\r\n            String _type_building,\r\n            int _numElevator,\r\n            String _typeService,\r\n            double _total,\r\n            double _totalElevatorPrice\r\n    ){\r\n        this.id = _id;\r\n        this.type_building = _type_building;\r\n        this.numElevator = _numElevator;\r\n        this.typeService = _typeService;\r\n        this.total = _total;\r\n        this.totalElevatorPrice = _totalElevatorPrice;\r\n\r\n    }\r\n    public String getType_building() { return type_building; }\r\n    public void setType_building(String type_building) { this.type_building = type_building; }\r\n\r\n    public int getNumElevator() { return numElevator; }\r\n    public void setNumElevator(int numElevator) { this.numElevator = numElevator; }\r\n\r\n    public String getTypeService() { return typeService; }\r\n    public void setTypeService(String typeService) { this.typeService = typeService; }\r\n\r\n    public double getTotal() { return total; }\r\n    public void setTotal(int total) { this.total = total; }\r\n\r\n    public double getTotalElevatorPrice() { return totalElevatorPrice; }\r\n    public void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\r\n}\r\n\r\nand this is the function saveQuote where I try to post to the database:\r\n\r\n        public boolean saveQuote(Quote newQuote){\r\n        PreparedStatement getData;\r\n        try {\r\n            Connection c;\r\n            c  = this.db.connectDB();\r\n            getData = c.prepareStatement(&quot;INSERT INTO Quote VALUES (&quot; +&quot;&#39;&quot; +newQuote.getType_building() + &quot;&#39;&quot; +&quot;,&quot; + &quot;&#39;&quot; +newQuote.getNumElevator() + &quot;&#39;&quot; + &quot;,&quot; + newQuote.getTypeService() + &quot;,&quot; + newQuote.getTotal() + &quot;,&quot; + newQuote.getTotalElevatorPrice() + &quot;)&quot;);\r\n            getData.executeUpdate();\r\n            return true;\r\n        }\r\n        catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\nThank you for your help.\r\n\r\nUPDATE: this is the POST request im sending in postman:\r\n\r\n    [\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;type_building&quot;: &quot;commercial&quot;,\r\n        &quot;numElevator&quot;: 10,\r\n        &quot;typeService&quot;: &quot;standard&quot;,\r\n        &quot;total&quot;: 100000.0,\r\n        &quot;totalElevatorPrice&quot;: 1.0E7\r\n    }\r\n    ]\r\n","title":"POST request endpoint using Java/Spring-boot","body":"<p>I'm trying to make a post request endpoint to send some form values to my database.  When I test the request with postman, I get a 400 bad request error and this message in my console</p>\n<p>JSON parse error: Cannot deserialize value of type <code>abcd.Model.Quote</code> from Array value (token <code>JsonToken.START_ARRAY</code>);</p>\n<p>this is my controller:</p>\n<pre><code>    @ResponseStatus(HttpStatus.CREATED)\n    @PostMapping(&quot;/createQuote&quot;)\n    public boolean newQuote(@RequestBody Quote newQuote) {\n    return quoteDB.saveQuote(newQuote);\n};\n</code></pre>\n<p>my model:</p>\n<pre><code>public class Quote {\npublic int id;\npublic String type_building;\npublic int numElevator;\npublic String typeService;\npublic double total;\npublic double totalElevatorPrice;\n\npublic Quote(\n        int _id,\n        String _type_building,\n        int _numElevator,\n        String _typeService,\n        double _total,\n        double _totalElevatorPrice\n){\n    this.id = _id;\n    this.type_building = _type_building;\n    this.numElevator = _numElevator;\n    this.typeService = _typeService;\n    this.total = _total;\n    this.totalElevatorPrice = _totalElevatorPrice;\n\n}\npublic String getType_building() { return type_building; }\npublic void setType_building(String type_building) { this.type_building = type_building; }\n\npublic int getNumElevator() { return numElevator; }\npublic void setNumElevator(int numElevator) { this.numElevator = numElevator; }\n\npublic String getTypeService() { return typeService; }\npublic void setTypeService(String typeService) { this.typeService = typeService; }\n\npublic double getTotal() { return total; }\npublic void setTotal(int total) { this.total = total; }\n\npublic double getTotalElevatorPrice() { return totalElevatorPrice; }\npublic void setTotalElevatorPrice(int totalElevatorPrice) { this.totalElevatorPrice = totalElevatorPrice; }\n</code></pre>\n<p>}</p>\n<p>and this is the function saveQuote where I try to post to the database:</p>\n<pre><code>    public boolean saveQuote(Quote newQuote){\n    PreparedStatement getData;\n    try {\n        Connection c;\n        c  = this.db.connectDB();\n        getData = c.prepareStatement(&quot;INSERT INTO Quote VALUES (&quot; +&quot;'&quot; +newQuote.getType_building() + &quot;'&quot; +&quot;,&quot; + &quot;'&quot; +newQuote.getNumElevator() + &quot;'&quot; + &quot;,&quot; + newQuote.getTypeService() + &quot;,&quot; + newQuote.getTotal() + &quot;,&quot; + newQuote.getTotalElevatorPrice() + &quot;)&quot;);\n        getData.executeUpdate();\n        return true;\n    }\n    catch (SQLException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n<p>Thank you for your help.</p>\n<p>UPDATE: this is the POST request im sending in postman:</p>\n<pre><code>[\n{\n    &quot;id&quot;: 2,\n    &quot;type_building&quot;: &quot;commercial&quot;,\n    &quot;numElevator&quot;: 10,\n    &quot;typeService&quot;: &quot;standard&quot;,\n    &quot;total&quot;: 100000.0,\n    &quot;totalElevatorPrice&quot;: 1.0E7\n}\n]\n</code></pre>\n"},{"tags":["java","wso2","identity","wso2-identity-server"],"answers":[{"tags":[],"owner":{"account_id":1664762,"reputation":904,"user_id":1532411,"display_name":"A.J."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649361541,"creation_date":1649361541,"answer_id":71788240,"question_id":71465264,"body_markdown":"EOL for IS 5.3.0 was back in Jan 2020. The current versions support 1.8 and still have IWA as a [feature][1]. My recommendation would be tup upgrade to at least 5.10.0\r\n\r\n\r\n  [1]: https://is.docs.wso2.com/en/5.12.0/learn/configuring-iwa-single-sign-on/","title":"WSO2 5.3.0 IWA - not working with Java 1.8 or later version","body":"<p>EOL for IS 5.3.0 was back in Jan 2020. The current versions support 1.8 and still have IWA as a <a href=\"https://is.docs.wso2.com/en/5.12.0/learn/configuring-iwa-single-sign-on/\" rel=\"nofollow noreferrer\">feature</a>. My recommendation would be tup upgrade to at least 5.10.0</p>\n"}],"owner":{"account_id":8031814,"reputation":1068,"user_id":8818353,"display_name":"Mak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649361541,"creation_date":1647248951,"question_id":71465264,"body_markdown":"I am trying to enable IWA authentication with java 1.7 its working fine but with the later version, it&#39;s giving NTLM token not found error.\r\n\r\nAny idea?","title":"WSO2 5.3.0 IWA - not working with Java 1.8 or later version","body":"<p>I am trying to enable IWA authentication with java 1.7 its working fine but with the later version, it's giving NTLM token not found error.</p>\n<p>Any idea?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-intent"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1649361046,"post_id":71787985,"comment_id":126862720,"body_markdown":"Please tell Android version of used device.","body":"Please tell Android version of used device."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649361344,"creation_date":1649360994,"answer_id":71788143,"question_id":71787985,"body_markdown":"&gt;&gt;/storage/4B07-EB9F/Android/data/fr.frd.calvezdocs/files/CalvezDocs/ok/lol....\r\n\r\nThat is a path on a removable micro sd card.\r\n\r\nFileProvider normally cannot handle such a path.\r\n\r\nFor not to high Android versions you can add to xml file:\r\n\r\n    &lt;root\r\n        name=&quot;root&quot;\r\n        path=&quot;.&quot; /&gt;\r\n\r\nFor devices with higher Android versions you should make your own content provider to serve from micro sd card.\r\n\r\nIt&#39;s not much code to do so.","title":"Can&#39;t intent in new activitys","body":"<blockquote>\n<blockquote>\n<p>/storage/4B07-EB9F/Android/data/fr.frd.calvezdocs/files/CalvezDocs/ok/lol....</p>\n</blockquote>\n</blockquote>\n<p>That is a path on a removable micro sd card.</p>\n<p>FileProvider normally cannot handle such a path.</p>\n<p>For not to high Android versions you can add to xml file:</p>\n<pre><code>&lt;root\n    name=&quot;root&quot;\n    path=&quot;.&quot; /&gt;\n</code></pre>\n<p>For devices with higher Android versions you should make your own content provider to serve from micro sd card.</p>\n<p>It's not much code to do so.</p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649361344,"creation_date":1649360160,"question_id":71787985,"body_markdown":"I&#39;m creating a file explorer synchronize with an ftp directory.\r\nI have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:\r\n\r\n        private fun openFile(file: File) {\r\n            val myMime = MimeTypeMap.getSingleton()\r\n            val intent = Intent(Intent.ACTION_VIEW)\r\n    \r\n            val mimeType = myMime.getMimeTypeFromExtension(file.extension)\r\n            if (Build.VERSION.SDK_INT &gt;= 24) {\r\n                val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\r\n                intent.setDataAndType(fileURI, mimeType)\r\n            } else {\r\n                intent.setDataAndType(Uri.fromFile(file), mimeType)\r\n            }\r\n            intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\r\n            try {\r\n                context.startActivity(intent)\r\n            } catch (e: ActivityNotFoundException) {\r\n                Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\r\n            }\r\n        }\r\n\r\n\r\nIt thow me this error:\r\n\r\n        java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/4B07-EB9F/Android/data/fr.frd.calvezdocs/files/CalvezDocs/ok/lol\r\n\r\nI think it&#39;s related to my path provider, because when I try to open a file on the internal storage it simply work. Here it is but as you can see it&#39;s full, I don&#39;t know if a path is missing.\r\n\r\n\r\nHere&#39;s my path provider: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;external-files-path\r\n            name=&quot;files_root&quot;\r\n            path=&quot;/&quot; /&gt;\r\n    \r\n        &lt;external-path\r\n            name=&quot;external_storage_root&quot;\r\n            path=&quot;Android/data/${applicationId}&quot;/&gt;\r\n    \r\n        &lt;external-path\r\n            name=&quot;external&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;external-files-path\r\n            name=&quot;external_files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;cache-path\r\n            name=&quot;cache&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;external-cache-path\r\n            name=&quot;external_cache&quot;\r\n            path=&quot;.&quot; /&gt;\r\n        &lt;files-path\r\n            name=&quot;files&quot;\r\n            path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;\r\n\r\n\r\nSomeone have an idea?\r\n\r\nThanks","title":"Can&#39;t intent in new activitys","body":"<p>I'm creating a file explorer synchronize with an ftp directory.\nI have recently adapted my app to work with both internal and external storage, and then I encounter an embarrassing issue. When I try to open a file using this function to intent a new activity:</p>\n<pre><code>    private fun openFile(file: File) {\n        val myMime = MimeTypeMap.getSingleton()\n        val intent = Intent(Intent.ACTION_VIEW)\n\n        val mimeType = myMime.getMimeTypeFromExtension(file.extension)\n        if (Build.VERSION.SDK_INT &gt;= 24) {\n            val fileURI = FileProvider.getUriForFile(context, BuildConfig.APPLICATION_ID.toString() + &quot;.provider&quot;, file)\n            intent.setDataAndType(fileURI, mimeType)\n        } else {\n            intent.setDataAndType(Uri.fromFile(file), mimeType)\n        }\n        intent.flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_GRANT_READ_URI_PERMISSION\n        try {\n            context.startActivity(intent)\n        } catch (e: ActivityNotFoundException) {\n            Toast.makeText(context, &quot;No app found&quot;, Toast.LENGTH_LONG).show()\n        }\n    }\n</code></pre>\n<p>It thow me this error:</p>\n<pre><code>    java.lang.IllegalArgumentException: Failed to find configured root that contains /storage/4B07-EB9F/Android/data/fr.frd.calvezdocs/files/CalvezDocs/ok/lol\n</code></pre>\n<p>I think it's related to my path provider, because when I try to open a file on the internal storage it simply work. Here it is but as you can see it's full, I don't know if a path is missing.</p>\n<p>Here's my path provider:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;external-files-path\n        name=&quot;files_root&quot;\n        path=&quot;/&quot; /&gt;\n\n    &lt;external-path\n        name=&quot;external_storage_root&quot;\n        path=&quot;Android/data/${applicationId}&quot;/&gt;\n\n    &lt;external-path\n        name=&quot;external&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-files-path\n        name=&quot;external_files&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;cache-path\n        name=&quot;cache&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;external-cache-path\n        name=&quot;external_cache&quot;\n        path=&quot;.&quot; /&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>Someone have an idea?</p>\n<p>Thanks</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1649328695,"post_id":71780713,"comment_id":126850396,"body_markdown":"is that a typo `ArrayList&lt;Fermata&gt; stop`","body":"is that a typo <code>ArrayList&lt;Fermata&gt; stop</code>"},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":1,"creation_date":1649329235,"post_id":71780713,"comment_id":126850628,"body_markdown":"If you are clearing the stop arraylist, then because that list is in Train, the list in train will also get cleared, as it is the same list, and not a copy of iy","body":"If you are clearing the stop arraylist, then because that list is in Train, the list in train will also get cleared, as it is the same list, and not a copy of iy"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1649330299,"post_id":71780713,"comment_id":126850995,"body_markdown":"This is the same question as [your previous one](https://stackoverflow.com/questions/71778942/store-an-arraylist). Please don&#39;t post your question twice.","body":"This is the same question as <a href=\"https://stackoverflow.com/questions/71778942/store-an-arraylist\">your previous one</a>. Please don&#39;t post your question twice."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1649330672,"post_id":71780713,"comment_id":126851128,"body_markdown":"@MCEmperor – He probably did not grasp the answers to that other one …","body":"@MCEmperor – He probably did not grasp the answers to that other one …"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1649330804,"post_id":71780713,"comment_id":126851180,"body_markdown":"@tquadrat Probably, but even then it&#39;s [not okay](https://meta.stackoverflow.com/questions/278510/what-to-do-if-a-user-asks-the-same-question-twice) to ask a new one.","body":"@tquadrat Probably, but even then it&#39;s <a href=\"https://meta.stackoverflow.com/questions/278510/what-to-do-if-a-user-asks-the-same-question-twice\">not okay</a> to ask a new one."}],"answers":[{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649361303,"creation_date":1649329222,"answer_id":71780933,"question_id":71780713,"body_markdown":"You fell in a well known Java trap: the argument `stop` of the constructor `Train(int,String,List&lt;Stop&gt;)` is *not* an (instance of an) `ArrayList`, it is just the *reference* to such an instance.\r\n\r\nThis means that the statement\r\n\r\n```Java\r\nthis.stop = stop;\r\n```\r\n\r\nin that constructor does not keep an instance of that `List`, but just a reference.\r\n\r\nAs a consequence you should have noticed that all trains would have exactly the same list of stops when you do omit the call to `stop.clear()`.\r\n\r\nYou now have two options to fix this:\r\n\r\n1. Instead of calling clear on the `stop` list, you create a new instance, by calling `new ArrayList&lt;Stop&gt;`.\r\n\r\n2. The recommended approach (as the first one is far from being bullet proof …) looks like this:\r\n\r\n```Java\r\npublic class Train\r\n{\r\n  private final int number;\r\n  private final String owner;\r\n  private final List&lt;Stop&gt; stop;\r\n\r\n  Train( final int number, final String owner, final List&lt;Stop&gt; stop ) \r\n  {\r\n    this.number = number;\r\n    this.owner = owner;\r\n    this.stop = List.copyOf( stop );\r\n  }\r\n}\r\n```\r\n\r\nIf you want to manipulate the stops later, you can also write\r\n\r\n```Java\r\nthis.stop = new ArrayList&lt;&gt;( stop );\r\n````\r\n","title":"Stack an ArrayList","body":"<p>You fell in a well known Java trap: the argument <code>stop</code> of the constructor <code>Train(int,String,List&lt;Stop&gt;)</code> is <em>not</em> an (instance of an) <code>ArrayList</code>, it is just the <em>reference</em> to such an instance.</p>\n<p>This means that the statement</p>\n<pre><code>this.stop = stop;\n</code></pre>\n<p>in that constructor does not keep an instance of that <code>List</code>, but just a reference.</p>\n<p>As a consequence you should have noticed that all trains would have exactly the same list of stops when you do omit the call to <code>stop.clear()</code>.</p>\n<p>You now have two options to fix this:</p>\n<ol>\n<li><p>Instead of calling clear on the <code>stop</code> list, you create a new instance, by calling <code>new ArrayList&lt;Stop&gt;</code>.</p>\n</li>\n<li><p>The recommended approach (as the first one is far from being bullet proof …) looks like this:</p>\n</li>\n</ol>\n<pre><code>public class Train\n{\n  private final int number;\n  private final String owner;\n  private final List&lt;Stop&gt; stop;\n\n  Train( final int number, final String owner, final List&lt;Stop&gt; stop ) \n  {\n    this.number = number;\n    this.owner = owner;\n    this.stop = List.copyOf( stop );\n  }\n}\n</code></pre>\n<p>If you want to manipulate the stops later, you can also write</p>\n<pre><code>this.stop = new ArrayList&lt;&gt;( stop );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649329275,"creation_date":1649329275,"answer_id":71780950,"question_id":71780713,"body_markdown":"Even though `stop` is added `train` it is still the same reference you&#39;re clearing.\r\nSo, Create a shallow copy of the `Stop` ArrayList and add it to `Train`, something like this. \r\n\r\n     public static void main(String[] args) throws IOException, GeneralSecurityException {\r\n            ArrayList&lt;Train&gt; train = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;Stop&gt; stop= new ArrayList&lt;&gt;();\r\n            stop.add(new Stop(&quot;Milan&quot;, &quot;7&quot;, new DepartureTime((byte) 19, (byte) 35)));\r\n    \r\n            ArrayList&lt;Stop&gt;  copyStop = new ArrayList&lt;&gt;(stop);\r\n            train.add(new Train(87569, &quot;Trenitalia&quot;, new ArrayList&lt;&gt;(copyStop)));\r\n            stop.clear();\r\n\r\n        }","title":"Stack an ArrayList","body":"<p>Even though <code>stop</code> is added <code>train</code> it is still the same reference you're clearing.\nSo, Create a shallow copy of the <code>Stop</code> ArrayList and add it to <code>Train</code>, something like this.</p>\n<pre><code> public static void main(String[] args) throws IOException, GeneralSecurityException {\n        ArrayList&lt;Train&gt; train = new ArrayList&lt;&gt;();\n        ArrayList&lt;Stop&gt; stop= new ArrayList&lt;&gt;();\n        stop.add(new Stop(&quot;Milan&quot;, &quot;7&quot;, new DepartureTime((byte) 19, (byte) 35)));\n\n        ArrayList&lt;Stop&gt;  copyStop = new ArrayList&lt;&gt;(stop);\n        train.add(new Train(87569, &quot;Trenitalia&quot;, new ArrayList&lt;&gt;(copyStop)));\n        stop.clear();\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24858079,"reputation":23,"user_id":18734188,"display_name":"Christian 30"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1649330257,"accepted_answer_id":71780933,"answer_count":2,"score":-1,"last_activity_date":1649361303,"creation_date":1649328310,"question_id":71780713,"body_markdown":"I&#39;m creating a program to automate the train logistics system, using Java. I want store trains with ArrayList:\r\n\r\n```Java\r\nArrayList&lt;Train&gt; train = new ArrayList&lt;&gt;();\r\n```\r\n\r\nand add a multiple stations to the train list:\r\n\r\n```Java\r\nArrayList&lt;Stop&gt; stop= new ArrayList&lt;&gt;();\r\nstop.add( new Stop( &quot;Milan&quot;, &quot;7&quot;, new DepartureTime( (byte) 19, (byte) 35 ) ) );\r\ntrain.add( new Train( 87569, &quot;Trenitalia&quot;, stop ) );\r\n```\r\n\r\nNow i want to clear all stops to add a new stops:\r\n\r\n```\r\nstop.clear();\r\n```\r\n\r\nbut with this method it clear the stops in entire class `Train`. How can I store the `ArrayList stop` and use the method `clear()` without lose stops in the `Train` class?\r\n\r\nThis is `Train.java`:\r\n\r\n\r\n```Java\r\npublic class Train{\r\n  private int number;\r\n  private String owner;\r\n  private ArrayList&lt;Stop&gt; stop = new ArrayList&lt;&gt;();\r\n\r\n  Train(int number, String owner, ArrayList&lt;Stop&gt; stop) {\r\n    this.number = number;\r\n    this.owner = owner;\r\n    this.stop = stop;\r\n  }\r\n}\r\n\r\nclass Stop{\r\n  String station, binary;\r\n  DepartureTime departure;\r\n  ArrivalTime arrival;\r\n\r\n  Stop(String station, String binary, DepartureTime departure, ArrivalTime arrival) {\r\n    this.station= station;\r\n    this.binary= binary;\r\n    this.departure= departure;\r\n    this.arrival= arrival;\r\n  }\r\n\r\n  Stop(String station, String binary, DepartureTime departure) {\r\n    this.station = station;\r\n    this.binary= binary;\r\n    this.departure= departure;\r\n  }\r\n}\r\n\r\nclass DepartureTime{\r\n  private byte hour, minute;\r\n\r\n  DepartureTime(byte hour, byte minute) {\r\n    this.hour= hour;\r\n    this.minute = minute;\r\n  }\r\n\r\n}\r\n\r\nclass ArrivalTime {\r\n  private byte hour, minute;\r\n\r\n  ArrivalTime (byte hour, byte minute) {\r\n    this.hour= hour;\r\n    this.minute = minute;\r\n  }\r\n}\r\n```","title":"Stack an ArrayList","body":"<p>I'm creating a program to automate the train logistics system, using Java. I want store trains with ArrayList:</p>\n<pre><code>ArrayList&lt;Train&gt; train = new ArrayList&lt;&gt;();\n</code></pre>\n<p>and add a multiple stations to the train list:</p>\n<pre><code>ArrayList&lt;Stop&gt; stop= new ArrayList&lt;&gt;();\nstop.add( new Stop( &quot;Milan&quot;, &quot;7&quot;, new DepartureTime( (byte) 19, (byte) 35 ) ) );\ntrain.add( new Train( 87569, &quot;Trenitalia&quot;, stop ) );\n</code></pre>\n<p>Now i want to clear all stops to add a new stops:</p>\n<pre><code>stop.clear();\n</code></pre>\n<p>but with this method it clear the stops in entire class <code>Train</code>. How can I store the <code>ArrayList stop</code> and use the method <code>clear()</code> without lose stops in the <code>Train</code> class?</p>\n<p>This is <code>Train.java</code>:</p>\n<pre><code>public class Train{\n  private int number;\n  private String owner;\n  private ArrayList&lt;Stop&gt; stop = new ArrayList&lt;&gt;();\n\n  Train(int number, String owner, ArrayList&lt;Stop&gt; stop) {\n    this.number = number;\n    this.owner = owner;\n    this.stop = stop;\n  }\n}\n\nclass Stop{\n  String station, binary;\n  DepartureTime departure;\n  ArrivalTime arrival;\n\n  Stop(String station, String binary, DepartureTime departure, ArrivalTime arrival) {\n    this.station= station;\n    this.binary= binary;\n    this.departure= departure;\n    this.arrival= arrival;\n  }\n\n  Stop(String station, String binary, DepartureTime departure) {\n    this.station = station;\n    this.binary= binary;\n    this.departure= departure;\n  }\n}\n\nclass DepartureTime{\n  private byte hour, minute;\n\n  DepartureTime(byte hour, byte minute) {\n    this.hour= hour;\n    this.minute = minute;\n  }\n\n}\n\nclass ArrivalTime {\n  private byte hour, minute;\n\n  ArrivalTime (byte hour, byte minute) {\n    this.hour= hour;\n    this.minute = minute;\n  }\n}\n</code></pre>\n"},{"tags":["java","variables","input","methods","output"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360926,"creation_date":1649360086,"answer_id":71787970,"question_id":71787940,"body_markdown":"Methods cannot manipulate input parameters, you will need to declare return values for your methods. Like this:\r\n\r\n    private static int getArea(int width, int length) {\r\n         return width * length;\r\n    }\r\n\r\nAnd then call it like this:\r\n\r\n    area = getArea(width, length);\r\n\r\nThis is pretty basic stuff, you should go read some introduction to Java programing, such as the [oracle java tutorial][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html","title":"How to manipulate variables in a method and send it back","body":"<p>Methods cannot manipulate input parameters, you will need to declare return values for your methods. Like this:</p>\n<pre><code>private static int getArea(int width, int length) {\n     return width * length;\n}\n</code></pre>\n<p>And then call it like this:</p>\n<pre><code>area = getArea(width, length);\n</code></pre>\n<p>This is pretty basic stuff, you should go read some introduction to Java programing, such as the <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/returnvalue.html\" rel=\"nofollow noreferrer\">oracle java tutorial</a>.</p>\n"}],"owner":{"account_id":23736192,"reputation":1,"user_id":17754857,"display_name":"Douglas Ritter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649360607,"answer_count":1,"score":0,"last_activity_date":1649360926,"creation_date":1649359924,"question_id":71787940,"body_markdown":"I&#39;ve seen a few questions about this but I haven&#39;t been able to find the answer yet. So I&#39;m basically been trying to have everything based inside methods and only have the main full of calls to the methods but, I&#39;m running into problems trying to actually manipulate data, pass them through the methods and save it into main. This isn&#39;t the actual code I&#39;m trying to write but this pretty much encapsulates my problem.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l4jtp.png","title":"How to manipulate variables in a method and send it back","body":"<p>I've seen a few questions about this but I haven't been able to find the answer yet. So I'm basically been trying to have everything based inside methods and only have the main full of calls to the methods but, I'm running into problems trying to actually manipulate data, pass them through the methods and save it into main. This isn't the actual code I'm trying to write but this pretty much encapsulates my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/l4jtp.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","docker","aws-lambda","dockerfile","aws-batch"],"answers":[{"tags":[],"owner":{"account_id":5301898,"reputation":132,"user_id":12788913,"display_name":"Ahmed Sheashaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629994263,"creation_date":1629994263,"answer_id":68941997,"question_id":68922377,"body_markdown":"Lambda container images are for custom environments that need to run on AWS Lambda. Functions built as container images should still follow Lambda’s invocation model, so the functions will still have a 15 minute max duration. It&#39;s not a replacement for ECS.\r\n\r\nTo use your function with Batch, you will have to build a docker image with the function&#39;s code and all dependencies, push it to ECR, use it with ECS, and use Batch API&#39;s SubmitJob for invocation with environment variables if necessary.\r\n\r\nYes, you will need an Entrypoint/other CMD instead of the LambdaHandler depending on your logic. Just anything that runs the function and exits the container with `CODE 0`","title":"How to convert AWS Lambda to create an image for AWS Batch","body":"<p>Lambda container images are for custom environments that need to run on AWS Lambda. Functions built as container images should still follow Lambda’s invocation model, so the functions will still have a 15 minute max duration. It's not a replacement for ECS.</p>\n<p>To use your function with Batch, you will have to build a docker image with the function's code and all dependencies, push it to ECR, use it with ECS, and use Batch API's SubmitJob for invocation with environment variables if necessary.</p>\n<p>Yes, you will need an Entrypoint/other CMD instead of the LambdaHandler depending on your logic. Just anything that runs the function and exits the container with <code>CODE 0</code></p>\n"},{"tags":[],"owner":{"account_id":1662913,"reputation":27,"user_id":1530846,"display_name":"adamarla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360895,"creation_date":1649360895,"answer_id":71788126,"question_id":68922377,"body_markdown":"I tried this for a python lambda and it seems to be working fine:\r\n\r\nTake the standard lambda base image (e.g public.ecr.aws/lambda/python:3.8). It has a predefined argument `[&quot;entrypoint.sh&quot;]` set as the docker image ENTRYPOINT, so when using it for a &quot;non-lambda&quot; purpose you&#39;ll need to override that (set it to []) and pass the Command you want. \r\n\r\nI did the overriding of ENTRYPOINT in my Dockerfile so that it can be shared with AWS Batch tasks. When called from lambda infrastructure I explicitly set ENTRYPOINT back to `[&quot;entrypoint.sh&quot;]`.\r\n\r\nOverriding Entrypoint does feel a wee bit hacky.\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/python-image.html","title":"How to convert AWS Lambda to create an image for AWS Batch","body":"<p>I tried this for a python lambda and it seems to be working fine:</p>\n<p>Take the standard lambda base image (e.g public.ecr.aws/lambda/python:3.8). It has a predefined argument <code>[&quot;entrypoint.sh&quot;]</code> set as the docker image ENTRYPOINT, so when using it for a &quot;non-lambda&quot; purpose you'll need to override that (set it to []) and pass the Command you want.</p>\n<p>I did the overriding of ENTRYPOINT in my Dockerfile so that it can be shared with AWS Batch tasks. When called from lambda infrastructure I explicitly set ENTRYPOINT back to <code>[&quot;entrypoint.sh&quot;]</code>.</p>\n<p>Overriding Entrypoint does feel a wee bit hacky.</p>\n"}],"owner":{"account_id":1779364,"reputation":711,"user_id":1622488,"accept_rate":62,"display_name":"Mercury"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1028,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649360895,"creation_date":1629892145,"question_id":68922377,"body_markdown":"Currently have java lambda code packaged as .zip files and deployed to **AWS Lambda**, but needs to move to **AWS Batch** due to long running tasks that exceed the [15 minute lambda quota][1]\r\n\r\nIt is possible to deploy the java lambda code using container images with the docker CMD set to the handler in the Dockerfile (e.g. https://hub.docker.com/r/amazon/aws-lambda-java). \r\n\r\n    FROM public.ecr.aws/lambda/java:11\r\n    \r\n    # Copy function code and runtime dependencies from Gradle layout\r\n    COPY build/classes/java/main ${LAMBDA_TASK_ROOT}\r\n    COPY build/dependency/* ${LAMBDA_TASK_ROOT}/lib/\r\n    \r\n    # Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\r\n    CMD [ &quot;com.example.LambdaHandler::handleRequest&quot; ]\r\n\r\nSo the code can still be deployed to AWS Lambda as a container image. Problem is it&#39;s still a lambda, so using that image for AWS Batch makes no sense right...\r\n\r\nGurus&#128591; Given that the lambda logic is tried and tested:\r\n\r\n 1. What is the simplest way to convert the lambda code with the handleRequest method to work with AWS Batch -&gt; perhaps execute from a JAR and to prepare an image so that in can work with AWS Batch?\r\n 2. There would need to be a **main method** for an entry point instead of the handler?\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html","title":"How to convert AWS Lambda to create an image for AWS Batch","body":"<p>Currently have java lambda code packaged as .zip files and deployed to <strong>AWS Lambda</strong>, but needs to move to <strong>AWS Batch</strong> due to long running tasks that exceed the <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-limits.html\" rel=\"nofollow noreferrer\">15 minute lambda quota</a></p>\n<p>It is possible to deploy the java lambda code using container images with the docker CMD set to the handler in the Dockerfile (e.g. <a href=\"https://hub.docker.com/r/amazon/aws-lambda-java\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/amazon/aws-lambda-java</a>).</p>\n<pre><code>FROM public.ecr.aws/lambda/java:11\n\n# Copy function code and runtime dependencies from Gradle layout\nCOPY build/classes/java/main ${LAMBDA_TASK_ROOT}\nCOPY build/dependency/* ${LAMBDA_TASK_ROOT}/lib/\n\n# Set the CMD to your handler (could also be done as a parameter override outside of the Dockerfile)\nCMD [ &quot;com.example.LambdaHandler::handleRequest&quot; ]\n</code></pre>\n<p>So the code can still be deployed to AWS Lambda as a container image. Problem is it's still a lambda, so using that image for AWS Batch makes no sense right...</p>\n<p>Gurus🙏 Given that the lambda logic is tried and tested:</p>\n<ol>\n<li>What is the simplest way to convert the lambda code with the handleRequest method to work with AWS Batch -&gt; perhaps execute from a JAR and to prepare an image so that in can work with AWS Batch?</li>\n<li>There would need to be a <strong>main method</strong> for an entry point instead of the handler?</li>\n</ol>\n"},{"tags":["java","intellij-idea","indentation"],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649360680,"creation_date":1649360680,"answer_id":71788091,"question_id":71787972,"body_markdown":"I believe what you&#39;re looking for is the &quot;Continuation Indent&quot; (Editor -&gt; Code Style -&gt; Tabs and Indents -&gt; Continuation Indent.  When &quot;Align when multiline&quot; is disabled, it uses this indent size (and it appears that you have the default of 8).\r\n\r\nWhen I reformat with this setting I get:\r\n\r\n    foo.foo().bar(&quot;arg1&quot;,\r\n      &quot;arg2&quot;);","title":"Control indentation in Java multiline method calls in IntelliJ","body":"<p>I believe what you're looking for is the &quot;Continuation Indent&quot; (Editor -&gt; Code Style -&gt; Tabs and Indents -&gt; Continuation Indent.  When &quot;Align when multiline&quot; is disabled, it uses this indent size (and it appears that you have the default of 8).</p>\n<p>When I reformat with this setting I get:</p>\n<pre><code>foo.foo().bar(&quot;arg1&quot;,\n  &quot;arg2&quot;);\n</code></pre>\n"}],"owner":{"account_id":6296579,"reputation":304,"user_id":4892577,"display_name":"Fledgling Pidgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71788091,"answer_count":1,"score":1,"last_activity_date":1649360680,"creation_date":1649360090,"question_id":71787972,"body_markdown":"IntelliJ seems to only have two configurations for multiline method call parameters. They either appear like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOr this:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is controlled using the &quot;Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Method call arguments -&gt; Align when multiline&quot; option. However, I have not found any settings to achieve my actual preferred formatting, this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThat would not be quite as infuriating if pressing backspace in the editor didn&#39;t delete the entire line break, instead of just the tabs, but preferably I&#39;d like to be able to control how many tabs are used, i.e. only one more than the method call declaration itself. Any help towards this would be enormously appreciated.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eRTaA.png\r\n  [2]: https://i.stack.imgur.com/8PWUT.png\r\n  [3]: https://i.stack.imgur.com/eQVKy.png","title":"Control indentation in Java multiline method calls in IntelliJ","body":"<p>IntelliJ seems to only have two configurations for multiline method call parameters. They either appear like this:</p>\n<p><a href=\"https://i.stack.imgur.com/eRTaA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eRTaA.png\" alt=\"enter image description here\" /></a></p>\n<p>Or this:</p>\n<p><a href=\"https://i.stack.imgur.com/8PWUT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8PWUT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is controlled using the &quot;Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Method call arguments -&gt; Align when multiline&quot; option. However, I have not found any settings to achieve my actual preferred formatting, this:</p>\n<p><a href=\"https://i.stack.imgur.com/eQVKy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQVKy.png\" alt=\"enter image description here\" /></a></p>\n<p>That would not be quite as infuriating if pressing backspace in the editor didn't delete the entire line break, instead of just the tabs, but preferably I'd like to be able to control how many tabs are used, i.e. only one more than the method call declaration itself. Any help towards this would be enormously appreciated.</p>\n"},{"tags":["java","regex","regex-lookarounds"],"answers":[{"tags":[],"owner":{"account_id":1613587,"reputation":752095,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649349993,"creation_date":1649349993,"answer_id":71786063,"question_id":71786020,"body_markdown":"This matches at least two words each followed by hyphen, followed by another word (I&#39;m assuming you don&#39;t want to allow hyphen at the very beginning or end, only between words).\r\n\r\n```\r\n(\\w+-){2,}\\w+\r\n```\r\n","title":"Regex expression to match on hyphens in words within sentence based on occurrences of hyphen","body":"<p>This matches at least two words each followed by hyphen, followed by another word (I'm assuming you don't want to allow hyphen at the very beginning or end, only between words).</p>\n<pre><code>(\\w+-){2,}\\w+\n</code></pre>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649360591,"creation_date":1649350498,"answer_id":71786149,"question_id":71786020,"body_markdown":"**Java Regex Solution:**\r\n\r\n```Java\r\n(?&lt;=-[^\\s-]{0,999})-|-(?=[^\\s-]*-)\r\n```\r\n\r\n\r\n[Java RegEx Demo][2]\r\n\r\n---\r\n\r\n**PCRE Regex Solution:**\r\n\r\nHere is a way to match all hyphens in a line with more than one hyphen in PCRE:\r\n\r\n```sh\r\n(?:(?:^|\\s)(?=(?:[^\\s-]*-){2})|(?!^)\\G)[^\\s-]*\\K-\r\n```\r\n\r\n[RegEx Demo][1]\r\n\r\n**Explanation:**\r\n\r\n- `[^\\s-]*` matches a character that is not a whitespace and not a hyphen\r\n- `(?=(?:[^\\s-]*-){2})` is lookahead to make sure there are at least 2 hyphens in a non-whitespace substring\r\n- `\\G` asserts position at the end of the previous match or the start of the string for the first match\r\n- `\\K` resets match info\r\n\r\n---\r\n\r\n\r\n  [1]: https://regex101.com/r/EZcehM/2\r\n  [2]: https://regex101.com/r/EZcehM/5","title":"Regex expression to match on hyphens in words within sentence based on occurrences of hyphen","body":"<p><strong>Java Regex Solution:</strong></p>\n<pre><code>(?&lt;=-[^\\s-]{0,999})-|-(?=[^\\s-]*-)\n</code></pre>\n<p><a href=\"https://regex101.com/r/EZcehM/5\" rel=\"nofollow noreferrer\">Java RegEx Demo</a></p>\n<hr />\n<p><strong>PCRE Regex Solution:</strong></p>\n<p>Here is a way to match all hyphens in a line with more than one hyphen in PCRE:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>(?:(?:^|\\s)(?=(?:[^\\s-]*-){2})|(?!^)\\G)[^\\s-]*\\K-\n</code></pre>\n<p><a href=\"https://regex101.com/r/EZcehM/2\" rel=\"nofollow noreferrer\">RegEx Demo</a></p>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li><code>[^\\s-]*</code> matches a character that is not a whitespace and not a hyphen</li>\n<li><code>(?=(?:[^\\s-]*-){2})</code> is lookahead to make sure there are at least 2 hyphens in a non-whitespace substring</li>\n<li><code>\\G</code> asserts position at the end of the previous match or the start of the string for the first match</li>\n<li><code>\\K</code> resets match info</li>\n</ul>\n<hr />\n"}],"owner":{"account_id":9764237,"reputation":13,"user_id":7238266,"display_name":"Ryanmc174"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":858,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71786149,"answer_count":2,"score":1,"last_activity_date":1649360591,"creation_date":1649349805,"question_id":71786020,"body_markdown":"I am trying to match on hyphens in a word but only if the hyphen occurs in said word say more than once\r\n\r\nSo in the phrase &quot;Step-By-Step&quot; the hyphens would be matched whereas in the phrase &quot;Coca-Cola&quot;, the hyphens would not be matched.\r\n\r\nIn a full sentence combining phrases &quot;Step-By-Step and Coca-Cola&quot; only the hyphens within &quot;Step-By-Step&quot; would be expected to match. \r\n\r\nI have the following expression currently, but this is matching all hyphens separated by non-digit characters regardless of occurences\r\n\r\n```\r\n((?=\\D)-(?&lt;=\\D))\r\n```\r\n\r\nI can&#39;t seem to get the quantifiers to work with this expression, any ideas?  ","title":"Regex expression to match on hyphens in words within sentence based on occurrences of hyphen","body":"<p>I am trying to match on hyphens in a word but only if the hyphen occurs in said word say more than once</p>\n<p>So in the phrase &quot;Step-By-Step&quot; the hyphens would be matched whereas in the phrase &quot;Coca-Cola&quot;, the hyphens would not be matched.</p>\n<p>In a full sentence combining phrases &quot;Step-By-Step and Coca-Cola&quot; only the hyphens within &quot;Step-By-Step&quot; would be expected to match.</p>\n<p>I have the following expression currently, but this is matching all hyphens separated by non-digit characters regardless of occurences</p>\n<pre><code>((?=\\D)-(?&lt;=\\D))\n</code></pre>\n<p>I can't seem to get the quantifiers to work with this expression, any ideas?</p>\n"},{"tags":["java","mongodb","math","reduce"],"answers":[{"tags":[],"owner":{"account_id":13836400,"reputation":63,"user_id":9987821,"display_name":"Par&#237;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360491,"creation_date":1649358946,"answer_id":71787791,"question_id":71786978,"body_markdown":"Not a perfect solution but I managed to get what i needed like this\r\n\r\n\r\nSTEPS:\r\n\r\n1- Convert &quot;duration&quot; to String\r\n\r\n2- Reduce Array to a concatenated String separated with &quot;,&quot;\r\n\r\n    AggregationExpression reduce = StringOperators.Concat\r\n                .valueOf(&quot;$$value&quot;)\r\n                .concat(&quot;,&quot;)\r\n                .concat(&quot;$$this.duration&quot;);\r\n\r\n        operations.add(project(&quot;1&quot;)\r\n                .and(ArrayOperators.Reduce.arrayOf(&quot;1&quot;)\r\n                        .withInitialValue(&quot;&quot;)\r\n                        .reduce(reduce))\r\n                .as(&quot;1_duration_str_array&quot;)\r\n        );\r\n\r\n3- Remove first &quot;,&quot; (initial value is &quot;&quot; and is concatenated)\r\n\r\n    operations.add(project(&quot;1_duration_str_array&quot;)\r\n                .and(StringOperators.Substr.valueOf(&quot;1_duration_str_array&quot;).substring(1))\r\n                .as(&quot;1_duration_str_array&quot;)\r\n        );\r\n\r\n4- Split String with &quot;,&quot; to get Array\r\n\r\n    operations.add(project(&quot;1_duration_str_array&quot;)\r\n                .and(StringOperators.Split.valueOf(&quot;1_duration_str_array&quot;).split(&quot;,&quot;))\r\n                .as(&quot;1_duration_array_str&quot;)\r\n        );\r\n\r\n5- Map elements to convert back to Double\r\n\r\n    operations.add(project(&quot;1_duration_array_str&quot;)\r\n                .and(VariableOperators.Map\r\n                        .itemsOf(&quot;$1_duration_array_str&quot;)\r\n                        .as(&quot;d&quot;)\r\n                        .andApply(ConvertOperators.Convert\r\n                                .convertValueOf(&quot;$d&quot;).to(&quot;double&quot;)))\r\n                .as(&quot;1_duration_array&quot;)\r\n        );\r\n\r\n6- Sum operation on Array\r\n\r\n    operations.add(project(&quot;1_duration_array&quot;)\r\n                .and(AccumulatorOperators.Sum.sumOf(&quot;1_duration_array&quot;))\r\n                .as(&quot;1_total_duration&quot;)\r\n        );","title":"Invalid Reference $$this for mongo array reduce arithmetic operation in java","body":"<p>Not a perfect solution but I managed to get what i needed like this</p>\n<p>STEPS:</p>\n<p>1- Convert &quot;duration&quot; to String</p>\n<p>2- Reduce Array to a concatenated String separated with &quot;,&quot;</p>\n<pre><code>AggregationExpression reduce = StringOperators.Concat\n            .valueOf(&quot;$$value&quot;)\n            .concat(&quot;,&quot;)\n            .concat(&quot;$$this.duration&quot;);\n\n    operations.add(project(&quot;1&quot;)\n            .and(ArrayOperators.Reduce.arrayOf(&quot;1&quot;)\n                    .withInitialValue(&quot;&quot;)\n                    .reduce(reduce))\n            .as(&quot;1_duration_str_array&quot;)\n    );\n</code></pre>\n<p>3- Remove first &quot;,&quot; (initial value is &quot;&quot; and is concatenated)</p>\n<pre><code>operations.add(project(&quot;1_duration_str_array&quot;)\n            .and(StringOperators.Substr.valueOf(&quot;1_duration_str_array&quot;).substring(1))\n            .as(&quot;1_duration_str_array&quot;)\n    );\n</code></pre>\n<p>4- Split String with &quot;,&quot; to get Array</p>\n<pre><code>operations.add(project(&quot;1_duration_str_array&quot;)\n            .and(StringOperators.Split.valueOf(&quot;1_duration_str_array&quot;).split(&quot;,&quot;))\n            .as(&quot;1_duration_array_str&quot;)\n    );\n</code></pre>\n<p>5- Map elements to convert back to Double</p>\n<pre><code>operations.add(project(&quot;1_duration_array_str&quot;)\n            .and(VariableOperators.Map\n                    .itemsOf(&quot;$1_duration_array_str&quot;)\n                    .as(&quot;d&quot;)\n                    .andApply(ConvertOperators.Convert\n                            .convertValueOf(&quot;$d&quot;).to(&quot;double&quot;)))\n            .as(&quot;1_duration_array&quot;)\n    );\n</code></pre>\n<p>6- Sum operation on Array</p>\n<pre><code>operations.add(project(&quot;1_duration_array&quot;)\n            .and(AccumulatorOperators.Sum.sumOf(&quot;1_duration_array&quot;))\n            .as(&quot;1_total_duration&quot;)\n    );\n</code></pre>\n"}],"owner":{"account_id":13836400,"reputation":63,"user_id":9987821,"display_name":"Par&#237;s"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649360491,"creation_date":1649354712,"question_id":71786978,"body_markdown":"First of all here is project before reduce\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow you can see there is a list called &quot;1&quot; with 3 fields (zone, duration, type)\r\n\r\nI&#39;m trying to reduce it and get the total sum of durations on 1_total_duration\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut throws Invalid Reference for $$this.duration\r\n\r\nAlready tried to use ArrayOperators.Reduce.Variable.THIS.referringTo(&quot;duration&quot;).getName()\r\n\r\nBut since StringOperators.Concat works (converting first duration to string) I&#39;m wondering why ArithmeticOperations throws &quot;Invalid Reference &#39;$$this.duration&#39;!&quot;\r\n\r\n[![enter image description here][4]][4]\r\n\r\nDon&#39;t want to use unwind since i will have multiple lists like &quot;1&quot; to do the same reduce process\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TZSAu.png\r\n  [2]: https://i.stack.imgur.com/1z19R.png\r\n  [4]: https://i.stack.imgur.com/qVG4v.png","title":"Invalid Reference $$this for mongo array reduce arithmetic operation in java","body":"<p>First of all here is project before reduce</p>\n<p><a href=\"https://i.stack.imgur.com/TZSAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TZSAu.png\" alt=\"enter image description here\" /></a></p>\n<p>How you can see there is a list called &quot;1&quot; with 3 fields (zone, duration, type)</p>\n<p>I'm trying to reduce it and get the total sum of durations on 1_total_duration</p>\n<p><a href=\"https://i.stack.imgur.com/1z19R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1z19R.png\" alt=\"enter image description here\" /></a></p>\n<p>But throws Invalid Reference for $$this.duration</p>\n<p>Already tried to use ArrayOperators.Reduce.Variable.THIS.referringTo(&quot;duration&quot;).getName()</p>\n<p>But since StringOperators.Concat works (converting first duration to string) I'm wondering why ArithmeticOperations throws &quot;Invalid Reference '$$this.duration'!&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/qVG4v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qVG4v.png\" alt=\"enter image description here\" /></a></p>\n<p>Don't want to use unwind since i will have multiple lists like &quot;1&quot; to do the same reduce process</p>\n"},{"tags":["java","windows","intellij-idea","std","libraries"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649275065,"creation_date":1649272014,"answer_id":71772348,"question_id":71772081,"body_markdown":"&gt; I also vainly tried copying and pasting every .java file from Standard libraries webpage to the same directory where I keep the program files.\r\n\r\nThis works just fine, you need to place all the `.java` files from the `stdlib.jar` into the [sources root directory](https://www.jetbrains.com/help/idea/configuring-content-roots.html) (marked in blue in the project view). `Barnsley.java` needs to be in the same directory.\r\n\r\n\r\n\r\n[![works fine][1]][1]\r\n\r\nThe jar with `.class` files will not work in the dependencies/classpath as you [cannot import classes from the default package in Java](https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package). \r\n\r\nIt was an extremely poor choice to keep the classes in the default package and it&#39;s the fault of the creators of this library/course. This simple oversight has caused major headaches over the years.\r\n\r\n  [1]: https://i.stack.imgur.com/IIAEP.png","title":"How can I get stdlib.jar to work in IntelliJ IDEA?","body":"<blockquote>\n<p>I also vainly tried copying and pasting every .java file from Standard libraries webpage to the same directory where I keep the program files.</p>\n</blockquote>\n<p>This works just fine, you need to place all the <code>.java</code> files from the <code>stdlib.jar</code> into the <a href=\"https://www.jetbrains.com/help/idea/configuring-content-roots.html\" rel=\"nofollow noreferrer\">sources root directory</a> (marked in blue in the project view). <code>Barnsley.java</code> needs to be in the same directory.</p>\n<p><a href=\"https://i.stack.imgur.com/IIAEP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IIAEP.png\" alt=\"works fine\" /></a></p>\n<p>The jar with <code>.class</code> files will not work in the dependencies/classpath as you <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\">cannot import classes from the default package in Java</a>.</p>\n<p>It was an extremely poor choice to keep the classes in the default package and it's the fault of the creators of this library/course. This simple oversight has caused major headaches over the years.</p>\n"}],"owner":{"account_id":18172315,"reputation":13,"user_id":14862122,"display_name":"Ayxa Chaverra Renteria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71772348,"answer_count":1,"score":1,"last_activity_date":1649360432,"creation_date":1649270438,"question_id":71772081,"body_markdown":"I​ had used the IntelliJ IDEA installer provided in [the booksite for Computer Science: An Interdisciplinary Approach][1] and I had no problem to use the library. However, I noticed that installation had screwed my Git bash display settings, so I uninstalled everything. \r\n\r\nLater, I installed the latest version of IntelliJ (2021.3.3), from [the JetBrains website][2] and apparently all the previous settings were overwritten, since I could no longer use the library. So, I downgraded back to the version provided in the booksite, however, I still can&#39;t use the Std library. \r\n\r\nI&#39;ve tried adding the versions of the library .jar files that I found:\r\n\r\n - [On the Standard Libraries Princeton&#39;s webpage][3]\r\n - [On the Jar Download website][4]\r\n - [On this post from Stack Overflow][5]\r\n - [In the .jar file from the hello.zip file I found on this other Princeton webpage][1]\r\n\r\nTogether and independently to the module and libraries, via IntelliJ IDEA, following the paths: &quot;File &gt; Project settings &gt; Modules &gt; + &gt; JARs or directories&quot; and &quot;File &gt; Project settings &gt; Libraries &gt; + &gt; Java&quot; , respectively, and choosing the corresponding directory/file, with no luck, since I&#39;ve got the &quot;cannot find symbol&quot; error message:\r\n\r\n    Barnsley.java:16: error: cannot find symbol\r\n            StdDraw.setScale(-0.1, 1.1);              // leave a 10% border\r\n            ^\r\n      symbol:   variable StdDraw\r\n      location: class Barnsley\r\n\r\nFor literally every single mention of the Std libraries in the code. I​ also tried editing the environment system variables and created a variable named &quot;CLASSPATH&quot; and linked it to the Stdlib.jar file and then, to the .lift folder that came with the hello.zip file, from the first week assignment. Again, no luck, because I kept getting the same error message.\r\n\r\nNext up, I typed:\r\n\r\njavac -cp stdlib.jar Barnsley.java\r\n\r\nIn the command line, and although that command itself didn&#39;t lead to any error message, when I tried to run the program, typing:\r\n\r\n    java -cp stdlib.jar Barnsley 10000\r\n\r\nThis error message showed up:\r\n\r\nError: Could not find or load main class Barnsley\r\nCaused by: java.lang.ClassNotFoundException: Barnsley\r\n\r\nI also vainly tried copying and pasting every .java file [from Standard libraries webpage][3] to the same directory where I keep the program files.\r\n\r\nI know some (maybe lots of people) have asked the same or a similar question before, either here or in other forums, but I&#39;ve been googling and looking for a solution for three days now and, as you can see, none of the reported solutions that I&#39;ve found have been of help to me, that&#39;s why I decided to ask again, on my own.\r\n\r\nThank you for reading my post and/or for any help you can provide. \r\n\r\nPS.: The Barnsley.java file in the error messages corresponds to the one provided in the 5th section of [this webpage from the booksite.][1]\r\n\r\n[Edit - April 7th, 2022]:\r\nI tried to follow @CrazyCoder advice, so I created a folder named &quot;src&quot;, extracted all the files from the stdlib.jar file that came with the hello.zip file into src and also moved Barnsley.java to that folder. Next, Next, I tried to follow the instructions from [the webpage he mentioned][6], as shown in the following screenshot:\r\n[![New roject settings][7]][7]\r\n\r\nAnd somehow, got the same error message when compiling:\r\n[![Error message screenshot][8]][8]\r\n\r\nI don&#39;t know what went wrong :C Any assistance would be highly appreciated.\r\n\r\n[Edit - Later on April 7th, 2022]:\r\n\r\nSomething weird happened. I downloaded the file provided by @CrazyCorder and there was a warning about Amazon Corretto not being installed, that I decided to ignore. \r\n\r\nI tried to run the program from the command line, with no luck, because I got the same error message as always. So, I noticed that there was no JDK assigned to the SDK slot in the Project structure, and I chose to use JDK 18 (following the path &quot;File &gt; Project structure &gt; Project&quot;), which is the one that I had previously installed on my computer, but that didn&#39;t really change a thing. \r\n\r\nLastly, I tried to run it from the IDE and that&#39;s when it finally worked!!! So, thank you, @CrazyCoder :D I still don&#39;t know why it doesn&#39;t work from the command line, though...\r\n\r\n\r\n  [1]: https://lift.cs.princeton.edu/java/windows/\r\n  [2]: https://www.jetbrains.com/es-es/idea/download/#section=windows\r\n  [3]: https://introcs.cs.princeton.edu/java/stdlib/\r\n  [4]: https://jar-download.com/artifact-search/stdlib\r\n  [5]: https://stackoverflow.com/questions/59111159/how-can-i-get-stdlib-jar-working-in-intellij\r\n  [6]: https://www.jetbrains.com/help/idea/content-roots.html\r\n  [7]: https://i.stack.imgur.com/P4IEi.jpg\r\n  [8]: https://i.stack.imgur.com/h7oql.jpg","title":"How can I get stdlib.jar to work in IntelliJ IDEA?","body":"<p>I​ had used the IntelliJ IDEA installer provided in <a href=\"https://lift.cs.princeton.edu/java/windows/\" rel=\"nofollow noreferrer\">the booksite for Computer Science: An Interdisciplinary Approach</a> and I had no problem to use the library. However, I noticed that installation had screwed my Git bash display settings, so I uninstalled everything.</p>\n<p>Later, I installed the latest version of IntelliJ (2021.3.3), from <a href=\"https://www.jetbrains.com/es-es/idea/download/#section=windows\" rel=\"nofollow noreferrer\">the JetBrains website</a> and apparently all the previous settings were overwritten, since I could no longer use the library. So, I downgraded back to the version provided in the booksite, however, I still can't use the Std library.</p>\n<p>I've tried adding the versions of the library .jar files that I found:</p>\n<ul>\n<li><a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">On the Standard Libraries Princeton's webpage</a></li>\n<li><a href=\"https://jar-download.com/artifact-search/stdlib\" rel=\"nofollow noreferrer\">On the Jar Download website</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59111159/how-can-i-get-stdlib-jar-working-in-intellij\">On this post from Stack Overflow</a></li>\n<li><a href=\"https://lift.cs.princeton.edu/java/windows/\" rel=\"nofollow noreferrer\">In the .jar file from the hello.zip file I found on this other Princeton webpage</a></li>\n</ul>\n<p>Together and independently to the module and libraries, via IntelliJ IDEA, following the paths: &quot;File &gt; Project settings &gt; Modules &gt; + &gt; JARs or directories&quot; and &quot;File &gt; Project settings &gt; Libraries &gt; + &gt; Java&quot; , respectively, and choosing the corresponding directory/file, with no luck, since I've got the &quot;cannot find symbol&quot; error message:</p>\n<pre><code>Barnsley.java:16: error: cannot find symbol\n        StdDraw.setScale(-0.1, 1.1);              // leave a 10% border\n        ^\n  symbol:   variable StdDraw\n  location: class Barnsley\n</code></pre>\n<p>For literally every single mention of the Std libraries in the code. I​ also tried editing the environment system variables and created a variable named &quot;CLASSPATH&quot; and linked it to the Stdlib.jar file and then, to the .lift folder that came with the hello.zip file, from the first week assignment. Again, no luck, because I kept getting the same error message.</p>\n<p>Next up, I typed:</p>\n<p>javac -cp stdlib.jar Barnsley.java</p>\n<p>In the command line, and although that command itself didn't lead to any error message, when I tried to run the program, typing:</p>\n<pre><code>java -cp stdlib.jar Barnsley 10000\n</code></pre>\n<p>This error message showed up:</p>\n<p>Error: Could not find or load main class Barnsley\nCaused by: java.lang.ClassNotFoundException: Barnsley</p>\n<p>I also vainly tried copying and pasting every .java file <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">from Standard libraries webpage</a> to the same directory where I keep the program files.</p>\n<p>I know some (maybe lots of people) have asked the same or a similar question before, either here or in other forums, but I've been googling and looking for a solution for three days now and, as you can see, none of the reported solutions that I've found have been of help to me, that's why I decided to ask again, on my own.</p>\n<p>Thank you for reading my post and/or for any help you can provide.</p>\n<p>PS.: The Barnsley.java file in the error messages corresponds to the one provided in the 5th section of <a href=\"https://lift.cs.princeton.edu/java/windows/\" rel=\"nofollow noreferrer\">this webpage from the booksite.</a></p>\n<p>[Edit - April 7th, 2022]:\nI tried to follow @CrazyCoder advice, so I created a folder named &quot;src&quot;, extracted all the files from the stdlib.jar file that came with the hello.zip file into src and also moved Barnsley.java to that folder. Next, Next, I tried to follow the instructions from <a href=\"https://www.jetbrains.com/help/idea/content-roots.html\" rel=\"nofollow noreferrer\">the webpage he mentioned</a>, as shown in the following screenshot:\n<a href=\"https://i.stack.imgur.com/P4IEi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4IEi.jpg\" alt=\"New roject settings\" /></a></p>\n<p>And somehow, got the same error message when compiling:\n<a href=\"https://i.stack.imgur.com/h7oql.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7oql.jpg\" alt=\"Error message screenshot\" /></a></p>\n<p>I don't know what went wrong :C Any assistance would be highly appreciated.</p>\n<p>[Edit - Later on April 7th, 2022]:</p>\n<p>Something weird happened. I downloaded the file provided by @CrazyCorder and there was a warning about Amazon Corretto not being installed, that I decided to ignore.</p>\n<p>I tried to run the program from the command line, with no luck, because I got the same error message as always. So, I noticed that there was no JDK assigned to the SDK slot in the Project structure, and I chose to use JDK 18 (following the path &quot;File &gt; Project structure &gt; Project&quot;), which is the one that I had previously installed on my computer, but that didn't really change a thing.</p>\n<p>Lastly, I tried to run it from the IDE and that's when it finally worked!!! So, thank you, @CrazyCoder :D I still don't know why it doesn't work from the command line, though...</p>\n"},{"tags":["java","json","serialization","deserialization","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":24263449,"reputation":489,"user_id":18212724,"display_name":"Aditya Akella"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649358763,"creation_date":1649358763,"answer_id":71787751,"question_id":71787456,"body_markdown":"Please add default constructor to class Bar and I guess your issue should be resolved. \r\n\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    public class Bar {\r\n        FooInterface foo;\r\n        \r\n        public Bar() {}\r\n\r\n        public Bar(FooInterface foo) {\r\n            this.foo = foo;\r\n        }\r\n    }\r\n\r\nDo let me know if this doesn&#39;t solve your problem, I will try to dig deeper.","title":"How to serialize/deserialize (json) a class that has an attribute that&#39;s an interface","body":"<p>Please add default constructor to class Bar and I guess your issue should be resolved.</p>\n<pre><code>@Getter\n@Setter\n@EqualsAndHashCode\npublic class Bar {\n    FooInterface foo;\n    \n    public Bar() {}\n\n    public Bar(FooInterface foo) {\n        this.foo = foo;\n    }\n}\n</code></pre>\n<p>Do let me know if this doesn't solve your problem, I will try to dig deeper.</p>\n"},{"tags":[],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649360424,"creation_date":1649360424,"answer_id":71788038,"question_id":71787456,"body_markdown":"As @Aditya mentioned I was missing the default constructor which was causing the error I was having, but then the new error led me to finding [this](https://stackoverflow.com/questions/9066288/jersey-serialization-deserialization-issue-abstract-types-can-only-be-instantia) question which was the crux of the problem that this question was asking about. \r\n\r\nLooks like I misunderstood what the `JsonAutoDetect` annotation did. Below is the code that ended up working for me. \r\n\r\n```java\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        include = JsonTypeInfo.As.PROPERTY,\r\n        property = &quot;type&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Foo.class),\r\n})\r\npublic interface FooInterface {\r\n    String doThing();\r\n}\r\n\r\n@EqualsAndHashCode\r\npublic class Foo implements FooInterface {\r\n    @Override\r\n    public String doThing() {\r\n        return &quot;foo&quot;;\r\n    }\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Bar {\r\n    FooInterface foo;\r\n\r\n    public Bar() {}\r\n\r\n    public Bar(FooInterface foo) {\r\n        this.foo = foo;\r\n    }\r\n}\r\n\r\n    @Test\r\n    public void fooTest() throws IOException {\r\n        Foo foo = new Foo();\r\n        Bar bar = new Bar(foo);\r\n\r\n        String serialized = new ObjectMapper().writeValueAsString(bar); // {&quot;foo&quot;:{&quot;type&quot;:&quot;Foo&quot;}}\r\n        Bar deserialized = new ObjectMapper().readValue(serialized, Bar.class);\r\n        Assert.assertEquals(bar, deserialized);\r\n    }\r\n```","title":"How to serialize/deserialize (json) a class that has an attribute that&#39;s an interface","body":"<p>As @Aditya mentioned I was missing the default constructor which was causing the error I was having, but then the new error led me to finding <a href=\"https://stackoverflow.com/questions/9066288/jersey-serialization-deserialization-issue-abstract-types-can-only-be-instantia\">this</a> question which was the crux of the problem that this question was asking about.</p>\n<p>Looks like I misunderstood what the <code>JsonAutoDetect</code> annotation did. Below is the code that ended up working for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;type&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Foo.class),\n})\npublic interface FooInterface {\n    String doThing();\n}\n\n@EqualsAndHashCode\npublic class Foo implements FooInterface {\n    @Override\n    public String doThing() {\n        return &quot;foo&quot;;\n    }\n}\n\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Bar {\n    FooInterface foo;\n\n    public Bar() {}\n\n    public Bar(FooInterface foo) {\n        this.foo = foo;\n    }\n}\n\n    @Test\n    public void fooTest() throws IOException {\n        Foo foo = new Foo();\n        Bar bar = new Bar(foo);\n\n        String serialized = new ObjectMapper().writeValueAsString(bar); // {&quot;foo&quot;:{&quot;type&quot;:&quot;Foo&quot;}}\n        Bar deserialized = new ObjectMapper().readValue(serialized, Bar.class);\n        Assert.assertEquals(bar, deserialized);\n    }\n</code></pre>\n"}],"owner":{"account_id":4724325,"reputation":2979,"user_id":3821425,"accept_rate":56,"display_name":"nanotek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649360424,"creation_date":1649357187,"question_id":71787456,"body_markdown":"I&#39;d like to serialize/deserialize (json) a class that contains an attribute that is an interface, but the underlying class doesn&#39;t have any attributes. The below is my most simplified case and my best attempt at what to do. \r\n\r\nThis throws an error when trying to deserialize `No suitable constructor found for type [simple type, class com.example.Bar]: can not instantiate from JSON object (need to add/enable type information?) at [Source: java.io.StringReader@301ec38b; line: 1, column: 2]`\r\n\r\n```java\r\npublic interface FooInterface {\r\n    String doThing();\r\n}\r\n\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n@EqualsAndHashCode\r\npublic class Foo implements FooInterface {\r\n    @Override\r\n    public String doThing() {\r\n        return &quot;foo&quot;;\r\n    }\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Bar {\r\n    FooInterface foo;\r\n\r\n    public Bar(FooInterface foo) {\r\n        this.foo = foo;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n    @Test\r\n    public void fooTest() throws IOException {\r\n        Foo foo = new Foo();\r\n        Bar bar = new Bar(foo);\r\n\r\n        String serialized = new ObjectMapper().writeValueAsString(bar); // = {&quot;foo&quot;:{}}\r\n        Bar deserialized = new ObjectMapper().readValue(serialized, Bar.class);\r\n        Assert.assertEquals(bar, deserialized);\r\n    }\r\n```","title":"How to serialize/deserialize (json) a class that has an attribute that&#39;s an interface","body":"<p>I'd like to serialize/deserialize (json) a class that contains an attribute that is an interface, but the underlying class doesn't have any attributes. The below is my most simplified case and my best attempt at what to do.</p>\n<p>This throws an error when trying to deserialize <code>No suitable constructor found for type [simple type, class com.example.Bar]: can not instantiate from JSON object (need to add/enable type information?) at [Source: java.io.StringReader@301ec38b; line: 1, column: 2]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FooInterface {\n    String doThing();\n}\n\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@EqualsAndHashCode\npublic class Foo implements FooInterface {\n    @Override\n    public String doThing() {\n        return &quot;foo&quot;;\n    }\n}\n\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Bar {\n    FooInterface foo;\n\n    public Bar(FooInterface foo) {\n        this.foo = foo;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    public void fooTest() throws IOException {\n        Foo foo = new Foo();\n        Bar bar = new Bar(foo);\n\n        String serialized = new ObjectMapper().writeValueAsString(bar); // = {&quot;foo&quot;:{}}\n        Bar deserialized = new ObjectMapper().readValue(serialized, Bar.class);\n        Assert.assertEquals(bar, deserialized);\n    }\n</code></pre>\n"},{"tags":["java","sockets","server"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1649345156,"post_id":71784555,"comment_id":126857296,"body_markdown":"`out.println(Arrays.toString(packet));`","body":"<code>out.println(Arrays.toString(packet));</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649345687,"creation_date":1649345687,"answer_id":71785016,"question_id":71784555,"body_markdown":"You&#39;ve hopelessly overengineered this.\r\n\r\n`Writer` and `Reader` do character input and output. `InputStream` and `OutputStream` do byte input and output.\r\n\r\nYou turn byte-based stuff (and in the end, network ports are byte based, not character based) into character based stuff in dangerous ways and then are attempting to read and write bytes into and out of the char-based things.\r\n\r\nThe solution is simple. Just stop doing that. You have byte-based stuff, there is absolutely no need to involve Reader and Writer.\r\n\r\nA bunch of lines that cause problems:\r\n\r\n```\r\nout.println(packet);\r\n```\r\n\r\nPrintStreams are debug aids. You can&#39;t use them for any of this. For example, this line will print __newlines__ (definitely not something you&#39;d want in a byte based stream system!), and will print &#39;objects&#39; - it does that by invoking the `.toString()` method, and the toString method of arrays are mostly useless. That explains why you see what you see. __This is not how you send bytes__. You __cannot__ send bytes to a `PrintStream` (which is a confused mess, as it tries to let you send characters to a byte based system. As I said, you use it for debugging and nothing else. You should not be using it here at all).\r\n\r\n```\r\nnew InputStreamReader(socket.getInputStream())\r\n```\r\n\r\nThis is dangerous. You&#39;re turning a byte based system (`InputStream`) into a char-based one (`Reader`) and this __always__ means somebody is making an explicit, &#39;out of band&#39; (not based on the data in that stream) decision about charset encoding. In this case, as per the docs of InputStreamReader, you get the &#39;platform default&#39;. Starting with JDK18, it&#39;s guaranteed to be UTF-8 fortunately, but before that, who knows what it is. You never want to call this constructor to avoid the confusion. `new InputStreamReader(socket.getInputStream, StandardCharsets.UTF_8)`.\r\n\r\nMostly, though, don&#39;t make a reader in the first place. You have no interest whatsoever in reading streams of _characters_, you just want bytes.\r\n\r\nIf you have smallish strings and the information about where they &#39;end&#39; is done &#39;out of band&#39; (example: The size __in bytes__ (not characters) is sent first, then X bytes that are the string, UTF_8 encoded), you can just read that in as bytes, and then make a string off of that, bypassing any need for Readers and Writers. Reader and Writer is useful _only_ if the __entire__ stream is _all_ character based, or if you have huge strings (hundreds of megabytes) where their end can only be surmised by interpreting the data as characters first. (Mostly, those are horrible protocols that shouldn&#39;t be used).\r\n\r\n```\r\n//Construct PrintWriter to write objects to the socket\r\n```\r\n\r\nNo, you can&#39;t write objects to sockets. Objects aren&#39;t bytes. You can write bytes to a socket; some objects will let themselves be turned into bytestreams but this is decidedly not a trivial job, and `PrintWriter` can&#39;t do it at all.\r\n\r\n```\r\n   catch (IOException e) { System.err.println(e);\r\n```\r\n\r\nMost code has no reasonable route to &#39;deal&#39; with them, but the solution to that is to throw them onwards. Not to catch the exception, print a note of despair, and just keep going on like nothing happened. Doing it right is also less code, so, win-win.\r\n\r\n```\r\nstdIn = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n        //scanner for menu option\r\n        Scanner scanner = new Scanner(System.in);\r\n```\r\n\r\nYou&#39;re making 2 different ways to read standard input. That makes no sense. Pick one.\r\n\r\nI tried to fix it for you:\r\n\r\n```java\r\npublic class TCPClient {\r\n  public static void main(String[] args) throws Exception { // always throw Exception from `main`.\r\n\r\n    if (args.length != 2) {\r\n        System.err.println(&quot;Usage: java EchoClient &lt;address&gt; &lt;port&gt;&quot;);\r\n        System.exit(1);\r\n        return; // Always return after System.exit.\r\n    }\r\n\r\n    byte[] mode = &quot;octet&quot;.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    String address = args[0];\r\n    int port = Integer.parseInt(args[1]);\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    scanner.useDelimiter(&quot;\\\\R&quot;); // split on newlines, not spaces. So much more logical.\r\n    // resources need to be safe-closed - use try-with!\r\n    try (var socket = new Socket(address, port);\r\n         var out = new BufferedOutputStream(socket.getOutputStream());\r\n         var in = socket.getInputStream()) { \r\n\r\n        System.out.println(&quot;Press 1 to read from file or 2 to write to file&quot;);\r\n        int menuOption = scanner.nextInt();\r\n\r\n        if (menuOption == 1) {\r\n            System.out.println(&quot;Enter file name&quot;);\r\n            String filename = scanner.next();\r\n\r\n            //Constructing the RRQ Packet\r\n            //Adding the OPCODE\r\n            out.write(1);\r\n            out.write(filename.getBytes(StandardCharsets.UTF_8));\r\n            out.write(0);\r\n            // The above is dangerous; NUL (0) is actually a valid char.\r\n            // A proper way to send strings is to send length in bytes\r\n            // first. I&#39;ll leave it to you to fix your protocol.\r\n            // If it can&#39;t be fixed, scan for `\\0` chars and get rid of em.\r\n            //adding the mode\r\n            out.write(mode);\r\n            out.write(0);\r\n        }else if (menuOption == 2) {\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSending bytes one at a time can be slow (as it ends up sending an entire packet) but can also be useful - the data is just sent, instead of waiting perhaps for a long time for more data. In your case, you send it all in one go, so sending it all off very quickly is not a good idea. Hence, why the outputstream is wrapped in a BufferedOutputStream, which fixes that. You can always use `flush()` to force sending now, in case you want to keep the connection open (`close()`, naturally, also flushes).\r\n\r\nIt&#39;s fine if you want to use a `byte[] packet` instead, but it seems convoluted and unneccessary here. `out.write(someByteArray)`, where `out` is an OutputStream of some sort, works fine. `out.println(byteArray)`, where out is a Writer of some sort, or a PrintStream - doesn&#39;t work at all. (It would take the array, call toString() on it which isn&#39;t useful, then convert those bytes using some unknown charset and send that, and none of that is what you want).\r\n\r\nYou&#39;ll need to similarly eliminate PrintStream and the like from your server code.\r\n","title":"Accessing byte array values from socket inputStream","body":"<p>You've hopelessly overengineered this.</p>\n<p><code>Writer</code> and <code>Reader</code> do character input and output. <code>InputStream</code> and <code>OutputStream</code> do byte input and output.</p>\n<p>You turn byte-based stuff (and in the end, network ports are byte based, not character based) into character based stuff in dangerous ways and then are attempting to read and write bytes into and out of the char-based things.</p>\n<p>The solution is simple. Just stop doing that. You have byte-based stuff, there is absolutely no need to involve Reader and Writer.</p>\n<p>A bunch of lines that cause problems:</p>\n<pre><code>out.println(packet);\n</code></pre>\n<p>PrintStreams are debug aids. You can't use them for any of this. For example, this line will print <strong>newlines</strong> (definitely not something you'd want in a byte based stream system!), and will print 'objects' - it does that by invoking the <code>.toString()</code> method, and the toString method of arrays are mostly useless. That explains why you see what you see. <strong>This is not how you send bytes</strong>. You <strong>cannot</strong> send bytes to a <code>PrintStream</code> (which is a confused mess, as it tries to let you send characters to a byte based system. As I said, you use it for debugging and nothing else. You should not be using it here at all).</p>\n<pre><code>new InputStreamReader(socket.getInputStream())\n</code></pre>\n<p>This is dangerous. You're turning a byte based system (<code>InputStream</code>) into a char-based one (<code>Reader</code>) and this <strong>always</strong> means somebody is making an explicit, 'out of band' (not based on the data in that stream) decision about charset encoding. In this case, as per the docs of InputStreamReader, you get the 'platform default'. Starting with JDK18, it's guaranteed to be UTF-8 fortunately, but before that, who knows what it is. You never want to call this constructor to avoid the confusion. <code>new InputStreamReader(socket.getInputStream, StandardCharsets.UTF_8)</code>.</p>\n<p>Mostly, though, don't make a reader in the first place. You have no interest whatsoever in reading streams of <em>characters</em>, you just want bytes.</p>\n<p>If you have smallish strings and the information about where they 'end' is done 'out of band' (example: The size <strong>in bytes</strong> (not characters) is sent first, then X bytes that are the string, UTF_8 encoded), you can just read that in as bytes, and then make a string off of that, bypassing any need for Readers and Writers. Reader and Writer is useful <em>only</em> if the <strong>entire</strong> stream is <em>all</em> character based, or if you have huge strings (hundreds of megabytes) where their end can only be surmised by interpreting the data as characters first. (Mostly, those are horrible protocols that shouldn't be used).</p>\n<pre><code>//Construct PrintWriter to write objects to the socket\n</code></pre>\n<p>No, you can't write objects to sockets. Objects aren't bytes. You can write bytes to a socket; some objects will let themselves be turned into bytestreams but this is decidedly not a trivial job, and <code>PrintWriter</code> can't do it at all.</p>\n<pre><code>   catch (IOException e) { System.err.println(e);\n</code></pre>\n<p>Most code has no reasonable route to 'deal' with them, but the solution to that is to throw them onwards. Not to catch the exception, print a note of despair, and just keep going on like nothing happened. Doing it right is also less code, so, win-win.</p>\n<pre><code>stdIn = new BufferedReader(new InputStreamReader(System.in));\n\n        //scanner for menu option\n        Scanner scanner = new Scanner(System.in);\n</code></pre>\n<p>You're making 2 different ways to read standard input. That makes no sense. Pick one.</p>\n<p>I tried to fix it for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TCPClient {\n  public static void main(String[] args) throws Exception { // always throw Exception from `main`.\n\n    if (args.length != 2) {\n        System.err.println(&quot;Usage: java EchoClient &lt;address&gt; &lt;port&gt;&quot;);\n        System.exit(1);\n        return; // Always return after System.exit.\n    }\n\n    byte[] mode = &quot;octet&quot;.getBytes(Charset.forName(&quot;UTF-8&quot;));\n    String address = args[0];\n    int port = Integer.parseInt(args[1]);\n\n    Scanner scanner = new Scanner(System.in);\n    scanner.useDelimiter(&quot;\\\\R&quot;); // split on newlines, not spaces. So much more logical.\n    // resources need to be safe-closed - use try-with!\n    try (var socket = new Socket(address, port);\n         var out = new BufferedOutputStream(socket.getOutputStream());\n         var in = socket.getInputStream()) { \n\n        System.out.println(&quot;Press 1 to read from file or 2 to write to file&quot;);\n        int menuOption = scanner.nextInt();\n\n        if (menuOption == 1) {\n            System.out.println(&quot;Enter file name&quot;);\n            String filename = scanner.next();\n\n            //Constructing the RRQ Packet\n            //Adding the OPCODE\n            out.write(1);\n            out.write(filename.getBytes(StandardCharsets.UTF_8));\n            out.write(0);\n            // The above is dangerous; NUL (0) is actually a valid char.\n            // A proper way to send strings is to send length in bytes\n            // first. I'll leave it to you to fix your protocol.\n            // If it can't be fixed, scan for `\\0` chars and get rid of em.\n            //adding the mode\n            out.write(mode);\n            out.write(0);\n        }else if (menuOption == 2) {\n\n        }\n    }\n}\n</code></pre>\n<p>Sending bytes one at a time can be slow (as it ends up sending an entire packet) but can also be useful - the data is just sent, instead of waiting perhaps for a long time for more data. In your case, you send it all in one go, so sending it all off very quickly is not a good idea. Hence, why the outputstream is wrapped in a BufferedOutputStream, which fixes that. You can always use <code>flush()</code> to force sending now, in case you want to keep the connection open (<code>close()</code>, naturally, also flushes).</p>\n<p>It's fine if you want to use a <code>byte[] packet</code> instead, but it seems convoluted and unneccessary here. <code>out.write(someByteArray)</code>, where <code>out</code> is an OutputStream of some sort, works fine. <code>out.println(byteArray)</code>, where out is a Writer of some sort, or a PrintStream - doesn't work at all. (It would take the array, call toString() on it which isn't useful, then convert those bytes using some unknown charset and send that, and none of that is what you want).</p>\n<p>You'll need to similarly eliminate PrintStream and the like from your server code.</p>\n"}],"owner":{"account_id":18208467,"reputation":67,"user_id":13251447,"display_name":"Giorgos Cut"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649360317,"creation_date":1649343826,"question_id":71784555,"body_markdown":"I am attempting to retrieve the byte values from an `InputStream` which is being sent to the socket. I have used many ways but it always prints me the address of the byte array instead of its contents.\r\n\r\nBelow is my code for Client and Server. When a packet is sent from the client to the server, the server instantiates a new `Thread` to handle the connection. So `slaveSocket` is the socket I want to use for this.\r\n\r\n```\r\npublic class TCPClient {\r\n\r\n    public static void main(String[] args) throws IOException{\r\n        Socket socket;\r\n        String address;\r\n        int port;\r\n        String userInput;\r\n        String serverResponse;\r\n\r\n        PrintWriter out;\r\n        BufferedReader in;\r\n\r\n        //read characters from user\r\n        BufferedReader stdIn;\r\n\r\n        if (args.length != 2) {\r\n            System.err.println(&quot;Usage: java EchoClient &lt;address&gt; &lt;port&gt;&quot;);\r\n            System.exit(1);\r\n        }\r\n\r\n        byte[] mode = &quot;octet&quot;.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n        address = args[0];\r\n        port = Integer.parseInt(args[1]);\r\n\r\n        try{\r\n            //connect socket to server\r\n            socket = new Socket(address, port);\r\n\r\n            //Construct PrintWriter to write objects to the socket\r\n            out = new PrintWriter(socket.getOutputStream(), true);\r\n\r\n            //Construct BufferedReader to read input from the socket\r\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n\r\n            //Another reader to read characters typed by the user\r\n            stdIn = new BufferedReader(new InputStreamReader(System.in));\r\n\r\n            //scanner for menu option\r\n            Scanner scanner = new Scanner(System.in);\r\n            int menuOption;\r\n\r\n            System.out.println(&quot;Press 1 to read from file or 2 to write to file&quot;);\r\n            menuOption = scanner.nextInt();\r\n\r\n            if (menuOption == 1){\r\n                String filename = &quot;&quot;;\r\n                String text = &quot;&quot;;\r\n\r\n                System.out.println(&quot;Enter file name&quot;);\r\n                filename = scanner.next();\r\n                byte[] packet = new byte[512];\r\n\r\n                //Constructing the RRQ Packet\r\n                //Ading the OPCODE\r\n                packet[0] = 1;\r\n                //adding the filename\r\n                filename.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n                byte[] filenameB = filename.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n                System.arraycopy(filenameB,0,packet,1, filenameB.length);\r\n                //adding a 0\r\n                packet[filenameB.length +1] = 0;\r\n                //adding the mode\r\n                System.arraycopy(mode,0,packet,1+filenameB.length+1,mode.length);\r\n                //adding the last 0\r\n                packet[1+filenameB.length+1+mode.length+1] = 0;\r\n\r\n\r\n\r\n                out.println(packet);\r\n\r\n            }else if(menuOption == 2){\r\n\r\n            }\r\n\r\n            socket.close();\r\n        }catch(UnknownHostException e){\r\n            System.err.println(&quot;Dont know about host&quot; + address);\r\n            System.exit(1);\r\n        }catch(IOException e){\r\n            System.err.println(&quot;Couldnt get I/O for the connection to &quot; + address);\r\n            System.exit(1);\r\n        }\r\n    }\r\n}\r\n\r\npublic class TCPServer {\r\n\r\n    public static void main(String[] args) throws IOException{\r\n\r\n        //port of the server\r\n        int port = 10000;\r\n\r\n        //Socket objects\r\n        ServerSocket masterSocket;\r\n        Socket slaveSocket;\r\n\r\n        //instantiate the server socket\r\n        masterSocket = new ServerSocket(port);\r\n        System.out.println(&quot;Server Started&quot;);\r\n\r\n        boolean flag1 = true;\r\n\r\n        while(true){\r\n\r\n            slaveSocket = masterSocket.accept();\r\n            System.out.println(&quot;Accepted TCP connection from: &quot; +\r\n                    slaveSocket.getInetAddress() + &quot;, &quot; + slaveSocket.getPort() + &quot;...&quot;);\r\n            System.out.println(&quot;Initialising new Thread...&quot;);\r\n\r\n            new TCPServerThread(slaveSocket).start();\r\n        }\r\n    }\r\n}\r\n\r\npublic class TCPServerThread extends Thread{\r\n\r\n    private Socket slaveSocket = null;\r\n\r\n    public TCPServerThread(Socket socket){\r\n        super(&quot;TCPServerThread&quot;);\r\n        this.slaveSocket = socket;\r\n    }\r\n\r\n    public void run(){\r\n\r\n        byte[] ClientPacket = new byte[512];\r\n\r\n        PrintWriter socketOutput;\r\n        InputStream socketInput;\r\n        try{\r\n            //send packet to client\r\n            socketOutput = new PrintWriter((slaveSocket.getOutputStream()), true);\r\n            //read packet from client\r\n            socketInput = new DataInputStream(slaveSocket.getInputStream());\r\n\r\n            ClientPacket = socketInput.readAllBytes();\r\n            System.out.println(new String(ClientPacket, StandardCharsets.UTF_8));\r\n\r\n        }catch (IOException e){\r\n            System.err.println(e);\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Accessing byte array values from socket inputStream","body":"<p>I am attempting to retrieve the byte values from an <code>InputStream</code> which is being sent to the socket. I have used many ways but it always prints me the address of the byte array instead of its contents.</p>\n<p>Below is my code for Client and Server. When a packet is sent from the client to the server, the server instantiates a new <code>Thread</code> to handle the connection. So <code>slaveSocket</code> is the socket I want to use for this.</p>\n<pre><code>public class TCPClient {\n\n    public static void main(String[] args) throws IOException{\n        Socket socket;\n        String address;\n        int port;\n        String userInput;\n        String serverResponse;\n\n        PrintWriter out;\n        BufferedReader in;\n\n        //read characters from user\n        BufferedReader stdIn;\n\n        if (args.length != 2) {\n            System.err.println(&quot;Usage: java EchoClient &lt;address&gt; &lt;port&gt;&quot;);\n            System.exit(1);\n        }\n\n        byte[] mode = &quot;octet&quot;.getBytes(Charset.forName(&quot;UTF-8&quot;));\n        address = args[0];\n        port = Integer.parseInt(args[1]);\n\n        try{\n            //connect socket to server\n            socket = new Socket(address, port);\n\n            //Construct PrintWriter to write objects to the socket\n            out = new PrintWriter(socket.getOutputStream(), true);\n\n            //Construct BufferedReader to read input from the socket\n            in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n\n            //Another reader to read characters typed by the user\n            stdIn = new BufferedReader(new InputStreamReader(System.in));\n\n            //scanner for menu option\n            Scanner scanner = new Scanner(System.in);\n            int menuOption;\n\n            System.out.println(&quot;Press 1 to read from file or 2 to write to file&quot;);\n            menuOption = scanner.nextInt();\n\n            if (menuOption == 1){\n                String filename = &quot;&quot;;\n                String text = &quot;&quot;;\n\n                System.out.println(&quot;Enter file name&quot;);\n                filename = scanner.next();\n                byte[] packet = new byte[512];\n\n                //Constructing the RRQ Packet\n                //Ading the OPCODE\n                packet[0] = 1;\n                //adding the filename\n                filename.getBytes(Charset.forName(&quot;UTF-8&quot;));\n                byte[] filenameB = filename.getBytes(Charset.forName(&quot;UTF-8&quot;));\n                System.arraycopy(filenameB,0,packet,1, filenameB.length);\n                //adding a 0\n                packet[filenameB.length +1] = 0;\n                //adding the mode\n                System.arraycopy(mode,0,packet,1+filenameB.length+1,mode.length);\n                //adding the last 0\n                packet[1+filenameB.length+1+mode.length+1] = 0;\n\n\n\n                out.println(packet);\n\n            }else if(menuOption == 2){\n\n            }\n\n            socket.close();\n        }catch(UnknownHostException e){\n            System.err.println(&quot;Dont know about host&quot; + address);\n            System.exit(1);\n        }catch(IOException e){\n            System.err.println(&quot;Couldnt get I/O for the connection to &quot; + address);\n            System.exit(1);\n        }\n    }\n}\n\npublic class TCPServer {\n\n    public static void main(String[] args) throws IOException{\n\n        //port of the server\n        int port = 10000;\n\n        //Socket objects\n        ServerSocket masterSocket;\n        Socket slaveSocket;\n\n        //instantiate the server socket\n        masterSocket = new ServerSocket(port);\n        System.out.println(&quot;Server Started&quot;);\n\n        boolean flag1 = true;\n\n        while(true){\n\n            slaveSocket = masterSocket.accept();\n            System.out.println(&quot;Accepted TCP connection from: &quot; +\n                    slaveSocket.getInetAddress() + &quot;, &quot; + slaveSocket.getPort() + &quot;...&quot;);\n            System.out.println(&quot;Initialising new Thread...&quot;);\n\n            new TCPServerThread(slaveSocket).start();\n        }\n    }\n}\n\npublic class TCPServerThread extends Thread{\n\n    private Socket slaveSocket = null;\n\n    public TCPServerThread(Socket socket){\n        super(&quot;TCPServerThread&quot;);\n        this.slaveSocket = socket;\n    }\n\n    public void run(){\n\n        byte[] ClientPacket = new byte[512];\n\n        PrintWriter socketOutput;\n        InputStream socketInput;\n        try{\n            //send packet to client\n            socketOutput = new PrintWriter((slaveSocket.getOutputStream()), true);\n            //read packet from client\n            socketInput = new DataInputStream(slaveSocket.getInputStream());\n\n            ClientPacket = socketInput.readAllBytes();\n            System.out.println(new String(ClientPacket, StandardCharsets.UTF_8));\n\n        }catch (IOException e){\n            System.err.println(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","email","gmail","gmail-api"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1649360010,"post_id":71787067,"comment_id":126862413,"body_markdown":"Does this answer your question? [Javamail Could not convert socket to TLS GMail](https://stackoverflow.com/questions/16115453/javamail-could-not-convert-socket-to-tls-gmail)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16115453/javamail-could-not-convert-socket-to-tls-gmail\">Javamail Could not convert socket to TLS GMail</a>"},{"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"score":1,"creation_date":1649403916,"post_id":71787067,"comment_id":126871211,"body_markdown":"Please paste the error message instead of the screenshot","body":"Please paste the error message instead of the screenshot"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1649588126,"post_id":71787067,"comment_id":126909045,"body_markdown":"@DaImTo That is an entirely different error.","body":"@DaImTo That is an entirely different error."}],"owner":{"account_id":24567841,"reputation":1,"user_id":18474751,"display_name":"vojvoda ljubinko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649359933,"creation_date":1649355190,"question_id":71787067,"body_markdown":"I am trying to send an email in any way, but to no avail. I get this exeption.\r\nIs there any other way to send an email or is this the only one?\r\nI can send via spring, but I need to send an email via Java with Ant.\r\n\r\n    package javaapplication5;\r\n    \r\n    import javax.mail.*;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    import java.util.Properties;\r\n    \r\n    public class SendEmailTLS {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String username = &quot;sistem.elektronske.biblioteke@gmail.com&quot;;\r\n            final String password = &quot;otbbxgrztdzzinxb&quot;;\r\n    \r\n            Properties prop = new Properties();\r\n    \t\tprop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n            prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n            prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\r\n            \r\n            Session session = Session.getInstance(prop,\r\n                    new javax.mail.Authenticator() {\r\n                        protected PasswordAuthentication getPasswordAuthentication() {\r\n                            return new PasswordAuthentication(username, password);\r\n                        }\r\n                    });\r\n    \r\n            try {\r\n    \r\n                Message message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(&quot;from@gmail.com&quot;));\r\n                message.setRecipients(\r\n                        Message.RecipientType.TO,\r\n                        InternetAddress.parse(&quot;stojanovicljubinko01@gmail.com, breljubinko75@gmail.com&quot;)\r\n                );\r\n                message.setSubject(&quot;Testing Gmail TLS&quot;);\r\n                message.setText(&quot;Dear Mail Crawler,&quot;\r\n                        + &quot;\\n\\n Please do not spam my email!&quot;);\r\n    \r\n                Transport.send(message);\r\n    \r\n                System.out.println(&quot;Done&quot;);\r\n    \r\n            } catch (MessagingException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nError:\r\n\r\n![An image showing the errors in the program][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VXHKu.png","title":"Java sent email","body":"<p>I am trying to send an email in any way, but to no avail. I get this exeption.\nIs there any other way to send an email or is this the only one?\nI can send via spring, but I need to send an email via Java with Ant.</p>\n<pre><code>package javaapplication5;\n\nimport javax.mail.*;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\nimport java.util.Properties;\n\npublic class SendEmailTLS {\n\n    public static void main(String[] args) {\n\n        final String username = &quot;sistem.elektronske.biblioteke@gmail.com&quot;;\n        final String password = &quot;otbbxgrztdzzinxb&quot;;\n\n        Properties prop = new Properties();\n        prop.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n        prop.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n        prop.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n        prop.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;); //TLS\n        \n        Session session = Session.getInstance(prop,\n                new javax.mail.Authenticator() {\n                    protected PasswordAuthentication getPasswordAuthentication() {\n                        return new PasswordAuthentication(username, password);\n                    }\n                });\n\n        try {\n\n            Message message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(&quot;from@gmail.com&quot;));\n            message.setRecipients(\n                    Message.RecipientType.TO,\n                    InternetAddress.parse(&quot;stojanovicljubinko01@gmail.com, breljubinko75@gmail.com&quot;)\n            );\n            message.setSubject(&quot;Testing Gmail TLS&quot;);\n            message.setText(&quot;Dear Mail Crawler,&quot;\n                    + &quot;\\n\\n Please do not spam my email!&quot;);\n\n            Transport.send(message);\n\n            System.out.println(&quot;Done&quot;);\n\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<p><img src=\"https://i.stack.imgur.com/VXHKu.png\" alt=\"An image showing the errors in the program\" /></p>\n"},{"tags":["java","activemq-artemis","edi","rocketmq"],"comments":[{"owner":{"account_id":9578335,"reputation":457,"user_id":7113627,"accept_rate":90,"display_name":"Prabhav"},"score":0,"creation_date":1518077308,"post_id":48680348,"comment_id":84357954,"body_markdown":"Check RabbitMQ https://www.rabbitmq.com/","body":"Check RabbitMQ <a href=\"https://www.rabbitmq.com/\" rel=\"nofollow noreferrer\">rabbitmq.com</a>"},{"owner":{"account_id":1146287,"reputation":4408,"user_id":1128953,"accept_rate":75,"display_name":"Liping Huang"},"score":1,"creation_date":1519808283,"post_id":48680348,"comment_id":85055634,"body_markdown":"Kafka is widly used in message transfers, here is a good topic https://www.youtube.com/watch?v=I32hmY4diFY for Kafka as the key component in ETL processes.","body":"Kafka is widly used in message transfers, here is a good topic <a href=\"https://www.youtube.com/watch?v=I32hmY4diFY\" rel=\"nofollow noreferrer\">youtube.com/watch?v=I32hmY4diFY</a> for Kafka as the key component in ETL processes."},{"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"score":0,"creation_date":1519809970,"post_id":48680348,"comment_id":85056584,"body_markdown":"It surely is but the problem with Kafka is that it&#39;s really hard to make it work reliably as it puts pretty much all the burden on custom-implemented producers and consumers.Currently, I&#39;m playing with the ActiveMQ Artemis 2.4 which seems to handle the job perfecly, with lots of neat features on top.","body":"It surely is but the problem with Kafka is that it&#39;s really hard to make it work reliably as it puts pretty much all the burden on custom-implemented producers and consumers.Currently, I&#39;m playing with the ActiveMQ Artemis 2.4 which seems to handle the job perfecly, with lots of neat features on top."}],"answers":[{"tags":[],"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622718937,"creation_date":1622718937,"answer_id":67820455,"question_id":48680348,"body_markdown":"So we&#39;ve been using Apache Artemis for several years now, and I can say that this seems to be the definitive solution. The broker is capable of transferring files up to gigabytes in size, each with their own set of metadata, which is precisely what I was originally after.\r\n\r\nhttps://activemq.apache.org/components/artemis/","title":"Message queue for file transfers","body":"<p>So we've been using Apache Artemis for several years now, and I can say that this seems to be the definitive solution. The broker is capable of transferring files up to gigabytes in size, each with their own set of metadata, which is precisely what I was originally after.</p>\n<p><a href=\"https://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\">https://activemq.apache.org/components/artemis/</a></p>\n"}],"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2092,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67820455,"answer_count":1,"score":1,"last_activity_date":1649359837,"creation_date":1518076673,"question_id":48680348,"body_markdown":"My question is pretty simple. I&#39;m looking for a MQ solution capable of reliable EDI file transfers along with some metadata attached to it.\r\n\r\nI&#39;ve tried RocketMQ recently and I&#39;ve come across hardcoded message size limits. I liked RocketMQ because of its simplicity but the lack of documentation and the message size limitation have made me wonder whether there&#39;s an alternative.\r\n\r\nWhat would you use for EDI message transfers?","title":"Message queue for file transfers","body":"<p>My question is pretty simple. I'm looking for a MQ solution capable of reliable EDI file transfers along with some metadata attached to it.</p>\n\n<p>I've tried RocketMQ recently and I've come across hardcoded message size limits. I liked RocketMQ because of its simplicity but the lack of documentation and the message size limitation have made me wonder whether there's an alternative.</p>\n\n<p>What would you use for EDI message transfers?</p>\n"},{"tags":["java","android","android-layout","button"],"answers":[{"tags":[],"owner":{"account_id":13762909,"reputation":1124,"user_id":9932194,"display_name":"K M Rejowan Ahmmed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649359764,"creation_date":1649359764,"answer_id":71787912,"question_id":71783115,"body_markdown":"You can simply do that just by creating a menu in the `menu` directory. Then add that menu to the toolbar using `OnCreateOptionMenu` and control using `OnOptionItemSelectedListener` . \r\n\r\nIn the activity&#39;s onCreate method, set the toolbar with\r\n\r\n    Toolbar toolbar = findViewById(R.id.toolbar);\r\n    setSupportActionBar(toolbar);\r\n\r\nThen add this method.\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n      getMenuInflater().inflate(R.menu.yourmenufile, menu);\r\n      return super.onCreateOptionsMenu(menu);\r\n    }\r\n\r\nThen add menu click listener,\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case 0:\r\n                // do whatever\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\nCredit: [How can we set menu to toolbar][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/54050535/9932194","title":"How to create button overlay in Toolbar Android?","body":"<p>You can simply do that just by creating a menu in the <code>menu</code> directory. Then add that menu to the toolbar using <code>OnCreateOptionMenu</code> and control using <code>OnOptionItemSelectedListener</code> .</p>\n<p>In the activity's onCreate method, set the toolbar with</p>\n<pre><code>Toolbar toolbar = findViewById(R.id.toolbar);\nsetSupportActionBar(toolbar);\n</code></pre>\n<p>Then add this method.</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n  getMenuInflater().inflate(R.menu.yourmenufile, menu);\n  return super.onCreateOptionsMenu(menu);\n}\n</code></pre>\n<p>Then add menu click listener,</p>\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    switch (item.getItemId()) {\n        case 0:\n            // do whatever\n            return true;\n        default:\n            return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n<p>Credit: <a href=\"https://stackoverflow.com/a/54050535/9932194\">How can we set menu to toolbar</a></p>\n"}],"owner":{"account_id":19348437,"reputation":65,"user_id":14146405,"display_name":"T6VK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649359764,"creation_date":1649338361,"question_id":71783115,"body_markdown":"\r\nI want to create a menu item in this Toolbar view, but I didn&#39;t use what to create it?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n [1]: https://i.stack.imgur.com/vJjrZ.png\r\n\r\nSOLVE SELF:\r\n\r\n  ```\r\n   &lt;com.google.android.material.button.MaterialButton\r\n                               android:id=&quot;@+id/image_quote&quot;\r\n                               android:layout_width=&quot;30dp&quot;\r\n                               android:layout_height=&quot;30dp&quot;\r\n                               app:icon=&quot;@drawable/ic_fi_br_quote_right&quot;\r\n                               app:iconTint=&quot;@color/colorBlack&quot;\r\n                               app:iconSize=&quot;13dp&quot;\r\n                               app:cornerRadius=&quot;15dp&quot;\r\n                               android:layout_margin=&quot;3dp&quot;\r\n                               android:insetLeft=&quot;0dp&quot;\r\n                               android:insetTop=&quot;0dp&quot;\r\n                               android:insetRight=&quot;0dp&quot;\r\n                               android:insetBottom=&quot;0dp&quot;\r\n                               app:iconGravity=&quot;textStart&quot;\r\n                               app:iconPadding=&quot;0dp&quot;\r\n                               style=&quot;@style/ShapeB&quot; /&gt;\r\n```","title":"How to create button overlay in Toolbar Android?","body":"<p>I want to create a menu item in this Toolbar view, but I didn't use what to create it?\n<a href=\"https://i.stack.imgur.com/vJjrZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJjrZ.png\" alt=\"enter image description here\" /></a></p>\n<p>SOLVE SELF:</p>\n<pre><code> &lt;com.google.android.material.button.MaterialButton\n                             android:id=&quot;@+id/image_quote&quot;\n                             android:layout_width=&quot;30dp&quot;\n                             android:layout_height=&quot;30dp&quot;\n                             app:icon=&quot;@drawable/ic_fi_br_quote_right&quot;\n                             app:iconTint=&quot;@color/colorBlack&quot;\n                             app:iconSize=&quot;13dp&quot;\n                             app:cornerRadius=&quot;15dp&quot;\n                             android:layout_margin=&quot;3dp&quot;\n                             android:insetLeft=&quot;0dp&quot;\n                             android:insetTop=&quot;0dp&quot;\n                             android:insetRight=&quot;0dp&quot;\n                             android:insetBottom=&quot;0dp&quot;\n                             app:iconGravity=&quot;textStart&quot;\n                             app:iconPadding=&quot;0dp&quot;\n                             style=&quot;@style/ShapeB&quot; /&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","junit","sonarqube"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1470305052,"post_id":38764125,"comment_id":64900205,"body_markdown":"Maybe you could rewrite your method to return a `Matcher`, such that you would have `assertThat(violations, hasViolation(field, message))`?","body":"Maybe you could rewrite your method to return a <code>Matcher</code>, such that you would have <code>assertThat(violations, hasViolation(field, message))</code>?"},{"owner":{"account_id":280211,"reputation":7358,"user_id":575766,"accept_rate":93,"display_name":"Michael"},"score":0,"creation_date":1470306422,"post_id":38764125,"comment_id":64901175,"body_markdown":"@DidierL Interesting idea - can&#39;t see why not. Would you like to post your idea as an answer?","body":"@DidierL Interesting idea - can&#39;t see why not. Would you like to post your idea as an answer?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1470306629,"post_id":38764125,"comment_id":64901318,"body_markdown":"I am not used to implement matchers but this does not exactly answer your question as to what Sonar is looking for...","body":"I am not used to implement matchers but this does not exactly answer your question as to what Sonar is looking for..."},{"owner":{"account_id":280211,"reputation":7358,"user_id":575766,"accept_rate":93,"display_name":"Michael"},"score":0,"creation_date":1470307850,"post_id":38764125,"comment_id":64902078,"body_markdown":"@DidierL No worries. In any case I&#39;ve updated my question to allow more flexibility in potential answers.","body":"@DidierL No worries. In any case I&#39;ve updated my question to allow more flexibility in potential answers."},{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":0,"creation_date":1605685522,"post_id":38764125,"comment_id":114723775,"body_markdown":"Related question: [Is duplicated code more tolerable in unit tests?](https://stackoverflow.com/questions/129693/is-duplicated-code-more-tolerable-in-unit-tests).","body":"Related question: <a href=\"https://stackoverflow.com/questions/129693/is-duplicated-code-more-tolerable-in-unit-tests\">Is duplicated code more tolerable in unit tests?</a>."}],"answers":[{"tags":[],"owner":{"account_id":5908102,"reputation":3081,"user_id":4649158,"display_name":"Wohops"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1470314023,"creation_date":1470310974,"answer_id":38766392,"question_id":38764125,"body_markdown":"The rule `S2699` (Tests should include assertions) from the **SonarQube Java Analyzer** does not perform cross-procedural analysis and only explore body of methods being identified as test method (usually annotated with `@Test`).\r\n\r\nConsequently, if the only assertions which will be called when executing the test method are done by a dedicated method (to avoid duplication), then the rule will raise an issue. This is a known limitation of the rule and we will deal with it only when we will be able to efficiently perform cross-procedural analysis.\r\n\r\nRegarding the issues raised by SonarQube on such cases, you can safely mark them as `Won&#39;t Fix`.\r\n\r\nRegarding the detected assertions, the rule consider as assertions the usual `assert`/`fail`/`verify`/`expect` methods from the following (unit test) frameworks : \r\n\r\n  - JUnit\r\n  - Fest (1.x &amp; 2.x)\r\n  - AssertJ\r\n  - Hamcrest\r\n  - Mockito\r\n  - Spring\r\n  - EasyMock","title":"SonarQube issue &quot;Add at least one assertion to this test case&quot; for unit test with assertions?","body":"<p>The rule <code>S2699</code> (Tests should include assertions) from the <strong>SonarQube Java Analyzer</strong> does not perform cross-procedural analysis and only explore body of methods being identified as test method (usually annotated with <code>@Test</code>).</p>\n\n<p>Consequently, if the only assertions which will be called when executing the test method are done by a dedicated method (to avoid duplication), then the rule will raise an issue. This is a known limitation of the rule and we will deal with it only when we will be able to efficiently perform cross-procedural analysis.</p>\n\n<p>Regarding the issues raised by SonarQube on such cases, you can safely mark them as <code>Won't Fix</code>.</p>\n\n<p>Regarding the detected assertions, the rule consider as assertions the usual <code>assert</code>/<code>fail</code>/<code>verify</code>/<code>expect</code> methods from the following (unit test) frameworks : </p>\n\n<ul>\n<li>JUnit</li>\n<li>Fest (1.x &amp; 2.x)</li>\n<li>AssertJ</li>\n<li>Hamcrest</li>\n<li>Mockito</li>\n<li>Spring</li>\n<li>EasyMock</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1788150,"reputation":19947,"user_id":1748450,"accept_rate":79,"display_name":"Chin"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1635000157,"creation_date":1602714947,"answer_id":64362419,"question_id":38764125,"body_markdown":"If you don&#39;t expect any exception to be throw from your test, this can be a workaround:\r\n\r\n    @Test(expected = Test.None.class /* no exception expected */)\r\n\r\nAlternatively, you can suppress the warning for the test method/test class:\r\n\r\n    @SuppressWarnings(&quot;squid:S2699&quot;)","title":"SonarQube issue &quot;Add at least one assertion to this test case&quot; for unit test with assertions?","body":"<p>If you don't expect any exception to be throw from your test, this can be a workaround:</p>\n<pre><code>@Test(expected = Test.None.class /* no exception expected */)\n</code></pre>\n<p>Alternatively, you can suppress the warning for the test method/test class:</p>\n<pre><code>@SuppressWarnings(&quot;squid:S2699&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":296370,"reputation":3367,"user_id":601288,"accept_rate":89,"display_name":"M-Razavi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1616320492,"creation_date":1616320492,"answer_id":66730929,"question_id":38764125,"body_markdown":"Sometimes you don&#39;t need to have any code or assertation, for example, the test of load the context of spring boot successfully. In this case, to prevent Sonar issue when you don&#39;t expect any exception to be throw from your test, you can use this part of the code:\r\n\r\n    @Test\r\n    void contextLoads() {\r\n        Assertions.assertDoesNotThrow(this::doNotThrowException);\r\n    }\r\n\r\n    private void doNotThrowException(){\r\n        //This method will never throw exception\r\n    }","title":"SonarQube issue &quot;Add at least one assertion to this test case&quot; for unit test with assertions?","body":"<p>Sometimes you don't need to have any code or assertation, for example, the test of load the context of spring boot successfully. In this case, to prevent Sonar issue when you don't expect any exception to be throw from your test, you can use this part of the code:</p>\n<pre><code>@Test\nvoid contextLoads() {\n    Assertions.assertDoesNotThrow(this::doNotThrowException);\n}\n\nprivate void doNotThrowException(){\n    //This method will never throw exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649359733,"creation_date":1649359733,"answer_id":71787909,"question_id":38764125,"body_markdown":"One thing I have done in the past is to have the helper method return true, and assert on that:\r\n\r\n    @Test\r\n    public void testSomeThings() {\r\n        Thing expected = // . . .\r\n\r\n        Thing actual = service.methodReturningThing(42);\r\n\r\n        assertTrue(assertViolation(expected, actual));\r\n    }\r\n\r\n    private boolean assertViolation(Thing expected, Thing actual) {\r\n        assertEquals(expected.getName(), actual.getName());\r\n        assertEquals(expected.getQuest(), actual.getQuest());\r\n        assertEquals(expected.getFavoriteColor(), actual.getFavoriteColor());\r\n        return true;\r\n    }\r\n\r\nI hate this, but I hate duplicated code even more.\r\n\r\nThe other thing we&#39;ve done at times, is to simply mark any such objections from SonarQube as Won&#39;t Fix, but I hate that, too.","title":"SonarQube issue &quot;Add at least one assertion to this test case&quot; for unit test with assertions?","body":"<p>One thing I have done in the past is to have the helper method return true, and assert on that:</p>\n<pre><code>@Test\npublic void testSomeThings() {\n    Thing expected = // . . .\n\n    Thing actual = service.methodReturningThing(42);\n\n    assertTrue(assertViolation(expected, actual));\n}\n\nprivate boolean assertViolation(Thing expected, Thing actual) {\n    assertEquals(expected.getName(), actual.getName());\n    assertEquals(expected.getQuest(), actual.getQuest());\n    assertEquals(expected.getFavoriteColor(), actual.getFavoriteColor());\n    return true;\n}\n</code></pre>\n<p>I hate this, but I hate duplicated code even more.</p>\n<p>The other thing we've done at times, is to simply mark any such objections from SonarQube as Won't Fix, but I hate that, too.</p>\n"}],"owner":{"account_id":280211,"reputation":7358,"user_id":575766,"accept_rate":93,"display_name":"Michael"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36993,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":38766392,"answer_count":4,"score":24,"last_activity_date":1649359733,"creation_date":1470304531,"question_id":38764125,"body_markdown":"I&#39;m having issues with SonarQube raising issues with several of my unit tests, prompting the following issue:\r\n\r\n&gt; Add at least one assertion to this test case.\r\n\r\nEach test case resembles this format (where a number of assertions are delegated to a method with common assertions, to avoid duplication):\r\n \r\n\r\n    @Test\r\n    public void companyNameOneTooLong() throws Exception {\r\n        AddressFormBean formBean = getValidBean();\r\n        formBean.setCompanyNameOne(&quot;123456789012345678901234567890123456&quot;);\r\n            \r\n        assertViolation(validator.validate(formBean), &quot;companyNameOne&quot;, &quot;length must be between 0 and 35&quot;);\r\n    }\r\n\r\n    private void assertViolation(Set&lt;ConstraintViolation&lt;AddressFormBean&gt;&gt; violations, String fieldname, String message) {\r\n        assertThat(violations, hasSize(1));\r\n        assertEquals(fieldname, violations.iterator().next().getPropertyPath().iterator().next().getName());\r\n        assertEquals(message, violations.iterator().next().getMessage());\r\n    }\r\n\r\nNow, obviously I could just pull the three assertions out of the private method and put them in the test method - but I&#39;m performing the same checks (on different fields) multiple times.\r\n\r\nSo, I thought I&#39;d try to emulate the behaviour of the assertion methods, by (re) throwing an `AssertionError`:\r\n\r\n    private void assertViolation(Set&lt;ConstraintViolation&lt;AddressFormBean&gt;&gt; violations, String fieldname, String message) throws AssertionError {\r\n        try {\r\n            assertThat(violations, hasSize(1));\r\n            assertEquals(fieldname, violations.iterator().next().getPropertyPath().iterator().next().getName());\r\n            assertEquals(message, violations.iterator().next().getMessage());\r\n        } catch (AssertionError e) {\r\n            throw e;\r\n        }\r\n     }\r\n\r\nUnfortunately, this approach does not work either. \r\n\r\nWhat&#39;s special about the JUnit assert methods / what is SonarQube looking for specifically to check that an assertion has been made for each test?\r\n\r\nAlternatively - are there other approaches to achieve the same end result (avoiding duplicating the shared assertion code over and over)?","title":"SonarQube issue &quot;Add at least one assertion to this test case&quot; for unit test with assertions?","body":"<p>I'm having issues with SonarQube raising issues with several of my unit tests, prompting the following issue:</p>\n\n<blockquote>\n  <p>Add at least one assertion to this test case.</p>\n</blockquote>\n\n<p>Each test case resembles this format (where a number of assertions are delegated to a method with common assertions, to avoid duplication):</p>\n\n<pre><code>@Test\npublic void companyNameOneTooLong() throws Exception {\n    AddressFormBean formBean = getValidBean();\n    formBean.setCompanyNameOne(\"123456789012345678901234567890123456\");\n\n    assertViolation(validator.validate(formBean), \"companyNameOne\", \"length must be between 0 and 35\");\n}\n\nprivate void assertViolation(Set&lt;ConstraintViolation&lt;AddressFormBean&gt;&gt; violations, String fieldname, String message) {\n    assertThat(violations, hasSize(1));\n    assertEquals(fieldname, violations.iterator().next().getPropertyPath().iterator().next().getName());\n    assertEquals(message, violations.iterator().next().getMessage());\n}\n</code></pre>\n\n<p>Now, obviously I could just pull the three assertions out of the private method and put them in the test method - but I'm performing the same checks (on different fields) multiple times.</p>\n\n<p>So, I thought I'd try to emulate the behaviour of the assertion methods, by (re) throwing an <code>AssertionError</code>:</p>\n\n<pre><code>private void assertViolation(Set&lt;ConstraintViolation&lt;AddressFormBean&gt;&gt; violations, String fieldname, String message) throws AssertionError {\n    try {\n        assertThat(violations, hasSize(1));\n        assertEquals(fieldname, violations.iterator().next().getPropertyPath().iterator().next().getName());\n        assertEquals(message, violations.iterator().next().getMessage());\n    } catch (AssertionError e) {\n        throw e;\n    }\n }\n</code></pre>\n\n<p>Unfortunately, this approach does not work either. </p>\n\n<p>What's special about the JUnit assert methods / what is SonarQube looking for specifically to check that an assertion has been made for each test?</p>\n\n<p>Alternatively - are there other approaches to achieve the same end result (avoiding duplicating the shared assertion code over and over)?</p>\n"},{"tags":["java","spring","spring-boot","server-sent-events"],"comments":[{"owner":{"account_id":12178275,"reputation":564,"user_id":8890655,"display_name":"M.Dan"},"score":0,"creation_date":1649322127,"post_id":71779102,"comment_id":126847900,"body_markdown":"Wouldn&#39;t it make more sense to use a locking mechanism (optimistic, pessimistic) on the resource? So when a user clicks update u can use the request the user sends to directly answer if succeeded. The user can than try again if the resource is locked. In that way u will keep ur client-server architecture.","body":"Wouldn&#39;t it make more sense to use a locking mechanism (optimistic, pessimistic) on the resource? So when a user clicks update u can use the request the user sends to directly answer if succeeded. The user can than try again if the resource is locked. In that way u will keep ur client-server architecture."},{"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"score":0,"creation_date":1649322665,"post_id":71779102,"comment_id":126848118,"body_markdown":"Yeah, @M.Dan that I thought of locking actually so that only one user at a time is able to edit the resource. But on the update of the resource, I would like to notify all users currently viewing the resource regarding the update.","body":"Yeah, @M.Dan that I thought of locking actually so that only one user at a time is able to edit the resource. But on the update of the resource, I would like to notify all users currently viewing the resource regarding the update."},{"owner":{"account_id":12178275,"reputation":564,"user_id":8890655,"display_name":"M.Dan"},"score":0,"creation_date":1649324418,"post_id":71779102,"comment_id":126848805,"body_markdown":"Okay understood. In our project we use versioning for this. The user has to provide a verison header field which is an int. On update the server checks if the version the user provided is the current. If that is not the case the update fails and the user can request the new object. We use this header field: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match","body":"Okay understood. In our project we use versioning for this. The user has to provide a verison header field which is an int. On update the server checks if the version the user provided is the current. If that is not the case the update fails and the user can request the new object. We use this header field: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match</a>"}],"answers":[{"tags":[],"owner":{"account_id":7361596,"reputation":51,"user_id":5604704,"display_name":"sk1lls"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649358651,"creation_date":1649358651,"answer_id":71787735,"question_id":71779102,"body_markdown":"I am facing quite similar problem. It seems like [FluxSink][1] might be helpful to store emitted events. \r\n\r\nThen you could use ApplicationEventPublisher to publish saved entity or just proper info: `MyObjSavedEvent`.\r\n\r\nOn the other hand this solution needs more changes in architecture structure and it seems like really well suitable for **CQRS** and **event sourcing** approach where we store events in event store.\r\n\r\nI am still researching possible solutions. Gonna let you know if I come across something useful. \r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/FluxSink.html","title":"Emitting Server Sent Events about a resource update in Spring Boot application","body":"<p>I am facing quite similar problem. It seems like <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/FluxSink.html\" rel=\"nofollow noreferrer\">FluxSink</a> might be helpful to store emitted events.</p>\n<p>Then you could use ApplicationEventPublisher to publish saved entity or just proper info: <code>MyObjSavedEvent</code>.</p>\n<p>On the other hand this solution needs more changes in architecture structure and it seems like really well suitable for <strong>CQRS</strong> and <strong>event sourcing</strong> approach where we store events in event store.</p>\n<p>I am still researching possible solutions. Gonna let you know if I come across something useful.</p>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649358651,"creation_date":1649321621,"question_id":71779102,"body_markdown":"I am new to Server-Sent events. I am working with a Spring Boot application with a front-end in React.\r\n\r\nHere, we have a requirement, if, at the same time, more than one user opens a resource in UI, then the app needs to notify all these users in case, one of them is updating the same resource.\r\n\r\nIn this regard, I was searching for a relevant article in order to integrate Server-Sent Event with my Spring Boot application, I found: https://betterprogramming.pub/server-sent-events-on-react-and-spring-webflux-5f532b04633.\r\n\r\nFrom this, what I understood is that, I have to add web flux dependency to the existing Spring Boot application and expose an endpoint for emitting the event.\r\n\r\nBut in my app, an update of the resource is being done with end-point: `/api/resource1` and events are going to be emitted from the app with another end-point: `/api/end-point-2` as follows:\r\n\r\n\r\nThe main resource endpoint responsible for updating the object is as follows:\r\n\r\n     @RestController\r\n        public class ResourceController {\r\n        \r\n            @CrossOrigin(allowedHeaders = &quot;*&quot;)\r\n            @GetMapping(value = &quot;/api/resource1/&quot;)\r\n            public MyObj updateMyObj(MyObj myObj) {\r\n               ...\r\n               return myRepository.save(myObj);\r\n            }\r\n        }\r\n\r\n\r\nOther end-point responsible for emitting the event is going to be as follows:\r\n\r\n    @RestController\r\n    public class ResourceController { //THIS IS GOING TO NOTIFY THE CLIENTS AT 1 SEC INTERVAL\r\n    \r\n        @CrossOrigin(allowedHeaders = &quot;*&quot;)\r\n        @GetMapping(value = &quot;/api/end-point-2/&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n        public Flux&lt;MyObj&gt; getMyObj() {\r\n        \r\n            return Flux.interval(Duration.ofSeconds(1))\r\n                    .map(it -&gt;  &lt;NOT ABLE TO UNDERSTAND WHAT SHOULD I WRITE HERE&gt;);\r\n    \r\n        }\r\n    }\r\n\r\n \r\n Here, I am not able to understand, how an update in first end point will get communicated to the second end point in order to notify the clients.\r\n\r\nCould anyone please help here ? Thanks.","title":"Emitting Server Sent Events about a resource update in Spring Boot application","body":"<p>I am new to Server-Sent events. I am working with a Spring Boot application with a front-end in React.</p>\n<p>Here, we have a requirement, if, at the same time, more than one user opens a resource in UI, then the app needs to notify all these users in case, one of them is updating the same resource.</p>\n<p>In this regard, I was searching for a relevant article in order to integrate Server-Sent Event with my Spring Boot application, I found: <a href=\"https://betterprogramming.pub/server-sent-events-on-react-and-spring-webflux-5f532b04633\" rel=\"nofollow noreferrer\">https://betterprogramming.pub/server-sent-events-on-react-and-spring-webflux-5f532b04633</a>.</p>\n<p>From this, what I understood is that, I have to add web flux dependency to the existing Spring Boot application and expose an endpoint for emitting the event.</p>\n<p>But in my app, an update of the resource is being done with end-point: <code>/api/resource1</code> and events are going to be emitted from the app with another end-point: <code>/api/end-point-2</code> as follows:</p>\n<p>The main resource endpoint responsible for updating the object is as follows:</p>\n<pre><code> @RestController\n    public class ResourceController {\n    \n        @CrossOrigin(allowedHeaders = &quot;*&quot;)\n        @GetMapping(value = &quot;/api/resource1/&quot;)\n        public MyObj updateMyObj(MyObj myObj) {\n           ...\n           return myRepository.save(myObj);\n        }\n    }\n</code></pre>\n<p>Other end-point responsible for emitting the event is going to be as follows:</p>\n<pre><code>@RestController\npublic class ResourceController { //THIS IS GOING TO NOTIFY THE CLIENTS AT 1 SEC INTERVAL\n\n    @CrossOrigin(allowedHeaders = &quot;*&quot;)\n    @GetMapping(value = &quot;/api/end-point-2/&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;MyObj&gt; getMyObj() {\n    \n        return Flux.interval(Duration.ofSeconds(1))\n                .map(it -&gt;  &lt;NOT ABLE TO UNDERSTAND WHAT SHOULD I WRITE HERE&gt;);\n\n    }\n}\n</code></pre>\n<p>Here, I am not able to understand, how an update in first end point will get communicated to the second end point in order to notify the clients.</p>\n<p>Could anyone please help here ? Thanks.</p>\n"},{"tags":["java","android","google-maps","marker"],"comments":[{"owner":{"account_id":5321212,"reputation":3024,"user_id":4244605,"accept_rate":62,"display_name":"t0m"},"score":0,"creation_date":1500312847,"post_id":40909241,"comment_id":77269749,"body_markdown":"Have yo have solution?","body":"Have yo have solution?"}],"answers":[{"tags":[],"owner":{"account_id":13319059,"reputation":551,"user_id":9614419,"display_name":"Noman khanbhai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649358491,"creation_date":1649358491,"answer_id":71787703,"question_id":40909241,"body_markdown":"When you are drawing a polygon and you need to put marker or draw another polygon on previously drawn polygon then just simply set the previously drawn polygon to\r\n \r\n`previousPolygon.setClickable(false);` \r\n\r\nThat&#39;s it now you can get the lat lng of the map even if you click over the polygon area. now with the help of lat lng you can draw marker, or another polygon over your previously drawn polygon.","title":"How put a marker inside a polygon in click event?","body":"<p>When you are drawing a polygon and you need to put marker or draw another polygon on previously drawn polygon then just simply set the previously drawn polygon to</p>\n<p><code>previousPolygon.setClickable(false);</code></p>\n<p>That's it now you can get the lat lng of the map even if you click over the polygon area. now with the help of lat lng you can draw marker, or another polygon over your previously drawn polygon.</p>\n"}],"owner":{"account_id":9760555,"reputation":41,"user_id":7235788,"display_name":"Diego Quirino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649358491,"creation_date":1480590915,"question_id":40909241,"body_markdown":"someone know how to get event on clik map inside a GeoJsonLayer, follow the code:\r\n\r\nhere I create a polygon draw in map:\r\n\r\n\r\n    GeoJsonLayer layer = new GeoJsonLayer(googleMap, new JSONObject(myGeoJsonObject.toString()));\r\n\r\n\r\n[Polygon draw][1]\r\n\r\nI&#39;m able to put markers outside of polygon draw, with this code:\r\n\r\n\r\n    map.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\r\n    @Override\r\n    public void onMapClick(LatLng latLng) {\r\n        googleMap.addMarker(new MarkerOptions()\r\n                .position(latLng)\r\n                .title(&quot;Hello world&quot;));\r\n    }\r\n    });\r\n\r\n[Marker outside from polygon][2]\r\n\r\nbut when I click over draw area the only events trigger are the code below and with this method I \r\ncan&#39;t get Latitude and Longitude.\r\n\r\n\r\n    layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\r\n        @Override\r\n       public void onFeatureClick(GeoJsonFeature geoJsonFeature) {\r\n           try {\r\n                System.out.println(geoJsonFeature.getGeometry());\r\n            }catch (Exception e) {\r\n            e.printStackTrace();\r\n           }\r\n       }\r\n    });\r\n\r\n\r\n    GoogleMap map = layer.getMap();\r\n\r\n    map.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {\r\n       @Override\r\n        public void onPolygonClick(Polygon polygon) {\r\n            System.out.println(polygon.getId());\r\n        }\r\n    });\r\n\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O8ZUq.png\r\n  [2]: https://i.stack.imgur.com/1aYTJ.png","title":"How put a marker inside a polygon in click event?","body":"<p>someone know how to get event on clik map inside a GeoJsonLayer, follow the code:</p>\n\n<p>here I create a polygon draw in map:</p>\n\n<pre><code>GeoJsonLayer layer = new GeoJsonLayer(googleMap, new JSONObject(myGeoJsonObject.toString()));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O8ZUq.png\" rel=\"nofollow noreferrer\">Polygon draw</a></p>\n\n<p>I'm able to put markers outside of polygon draw, with this code:</p>\n\n<pre><code>map.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n@Override\npublic void onMapClick(LatLng latLng) {\n    googleMap.addMarker(new MarkerOptions()\n            .position(latLng)\n            .title(\"Hello world\"));\n}\n});\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/1aYTJ.png\" rel=\"nofollow noreferrer\">Marker outside from polygon</a></p>\n\n<p>but when I click over draw area the only events trigger are the code below and with this method I \ncan't get Latitude and Longitude.</p>\n\n<pre><code>layer.setOnFeatureClickListener(new GeoJsonLayer.GeoJsonOnFeatureClickListener() {\n    @Override\n   public void onFeatureClick(GeoJsonFeature geoJsonFeature) {\n       try {\n            System.out.println(geoJsonFeature.getGeometry());\n        }catch (Exception e) {\n        e.printStackTrace();\n       }\n   }\n});\n\n\nGoogleMap map = layer.getMap();\n\nmap.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {\n   @Override\n    public void onPolygonClick(Polygon polygon) {\n        System.out.println(polygon.getId());\n    }\n});\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","json","sqlite","server","client"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1649359147,"post_id":71787665,"comment_id":126862176,"body_markdown":"Do I understand this correctly? Your `addDriver()` is called and the prepared statement is executed but the data is not in the database? Maybe in your database connection the auto commit property is turned off. If auto commit is disabled, then you have to explicitly commit after the insert.","body":"Do I understand this correctly? Your <code>addDriver()</code> is called and the prepared statement is executed but the data is not in the database? Maybe in your database connection the auto commit property is turned off. If auto commit is disabled, then you have to explicitly commit after the insert."},{"owner":{"account_id":24864413,"reputation":1,"user_id":18739718,"display_name":"stef_leggy"},"score":0,"creation_date":1649359897,"post_id":71787665,"comment_id":126862379,"body_markdown":"Before I tried sending the data between client and server, I just sent it straight from the client to the database. This worked fine using the INSERT command, I just can&#39;t work out how to get it to be sent through the server. `ClientHandlerThread1: Read data from client: &quot;{&quot;INSERT INTO drivers (driverRef, number, code, forename, surname, dob, nationality, url)VALUES (?,?,?,?,?,?,?,?)&quot;:&quot;a,a,a,a,a,a,a,a&quot;}&quot;` I&#39;m guessing that I need to remove { and also split the two strings. I&#39;m just unsure on how to do it.","body":"Before I tried sending the data between client and server, I just sent it straight from the client to the database. This worked fine using the INSERT command, I just can&#39;t work out how to get it to be sent through the server. <code>ClientHandlerThread1: Read data from client: &quot;{&quot;INSERT INTO drivers (driverRef, number, code, forename, surname, dob, nationality, url)VALUES (?,?,?,?,?,?,?,?)&quot;:&quot;a,a,a,a,a,a,a,a&quot;}&quot;</code> I&#39;m guessing that I need to remove { and also split the two strings. I&#39;m just unsure on how to do it."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1649361374,"post_id":71787665,"comment_id":126862833,"body_markdown":"Um, of course it should be correct SQL. And you should split the parameter string and set each parameter individually. And why don&#39;t you send the full SQL string with parameters included as you would type it in a SQL client? Using a prepared statement does not increase security, if the SQL statement comes from the client anyway. In production, one would rather not allow the client to run SQL statements directly on the server.","body":"Um, of course it should be correct SQL. And you should split the parameter string and set each parameter individually. And why don&#39;t you send the full SQL string with parameters included as you would type it in a SQL client? Using a prepared statement does not increase security, if the SQL statement comes from the client anyway. In production, one would rather not allow the client to run SQL statements directly on the server."},{"owner":{"account_id":24864413,"reputation":1,"user_id":18739718,"display_name":"stef_leggy"},"score":0,"creation_date":1649370493,"post_id":71787665,"comment_id":126865211,"body_markdown":"On the server I&#39;m using SQL statement to select all the drivers, then I have put the results into a HashMap and sent the data as Json. On the client I receive the reply and put the data into a table. My thinking was I could do something similar for adding data. The above is just the way I thought it should be done, I&#39;m new to Java and working with servers. Are you suggesting that I use prepared statement on the client instead of the server?","body":"On the server I&#39;m using SQL statement to select all the drivers, then I have put the results into a HashMap and sent the data as Json. On the client I receive the reply and put the data into a table. My thinking was I could do something similar for adding data. The above is just the way I thought it should be done, I&#39;m new to Java and working with servers. Are you suggesting that I use prepared statement on the client instead of the server?"},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1649417032,"post_id":71787665,"comment_id":126875777,"body_markdown":"Sorry, now I am a little confused. I thought you send the JSON to the server and try to execute the SQL statement there. But anyway, you should usually not send complete SQL statements over the wire and then execute this SQL. It is a great security risk. You should have a service layer which abstracts and hides the database layer. Only the data should be send back and forth according to your API. Internally you validate the data and use prepared statements to insert data into your database to reduce the risk of attacks.","body":"Sorry, now I am a little confused. I thought you send the JSON to the server and try to execute the SQL statement there. But anyway, you should usually not send complete SQL statements over the wire and then execute this SQL. It is a great security risk. You should have a service layer which abstracts and hides the database layer. Only the data should be send back and forth according to your API. Internally you validate the data and use prepared statements to insert data into your database to reduce the risk of attacks."},{"owner":{"account_id":24864413,"reputation":1,"user_id":18739718,"display_name":"stef_leggy"},"score":0,"creation_date":1649428956,"post_id":71787665,"comment_id":126880697,"body_markdown":"I have probably confused myself as well. Is there any information I should look up in the future so I can understand how to get a server communicating with a client and also a SQLite database.","body":"I have probably confused myself as well. Is there any information I should look up in the future so I can understand how to get a server communicating with a client and also a SQLite database."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1649454902,"post_id":71787665,"comment_id":126888654,"body_markdown":"This is a wide topic. Maybe you should have a look into the [Oracle JEE Tutorial](https://docs.oracle.com/javaee/7/tutorial/) especially Part VI Webservices and the [Oracle Lesson: JDBC Basics](https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html). Sure, there are differences between relational databases. But they have a lot in common. That&#39;s why it&#39;s always good to know JDBC. So you can deal with all relational databases, not just SQLite.","body":"This is a wide topic. Maybe you should have a look into the <a href=\"https://docs.oracle.com/javaee/7/tutorial/\" rel=\"nofollow noreferrer\">Oracle JEE Tutorial</a> especially Part VI Webservices and the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow noreferrer\">Oracle Lesson: JDBC Basics</a>. Sure, there are differences between relational databases. But they have a lot in common. That&#39;s why it&#39;s always good to know JDBC. So you can deal with all relational databases, not just SQLite."}],"owner":{"account_id":24864413,"reputation":1,"user_id":18739718,"display_name":"stef_leggy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649358327,"creation_date":1649358327,"question_id":71787665,"body_markdown":"I have got a GUI client, that can receive data from a multithreaded server. I then want to be able to send data back to the server. From what I understand with Json, I can use it to send the SQLite statement and also a string. I&#39;m not sure if what I&#39;m trying to implement is the best way forward, but this is what I have got. On the client:\r\n\r\n    private void addDriverToTable() {\r\n        if (printWriter != null &amp;&amp; bufferedReader != null) {\r\n\r\n            String driverRef = driverRefTextField.getText();\r\n            String driverNumber = numberTextField.getText();\r\n            String driverCode = codeTextField.getText();\r\n            String driverForename = forenameTextField.getText();\r\n            String driverSurname = surnameTextField.getText();\r\n            String driverDOB = dobTextField.getText();\r\n            String driverNationality = nationalityTextField.getText();\r\n            String driverURL = urlTextField.getText();\r\n\r\n            System.out.println(&quot;get, &quot; + driverRef + &quot;,&quot; + driverNumber + &quot;,&quot; + driverCode + &quot;,&quot; + driverForename + &quot;,&quot;\r\n                    + driverSurname + &quot;,&quot; + driverDOB + &quot;,&quot; + driverNationality + &quot;,&quot; + driverURL);\r\n\r\n            String insertDriver = &quot;INSERT INTO drivers (driverRef, number, code, forename, surname, dob, nationality, url)&quot; +\r\n                    &quot;VALUES (?,?,?,?,?,?,?,?)&quot;;\r\n\r\n            String addDriver = (driverRef + &quot;,&quot; + driverNumber + &quot;,&quot; + driverCode + &quot;,&quot; + driverForename + &quot;,&quot; +\r\n                    driverSurname + &quot;,&quot; + driverDOB + &quot;,&quot; + driverNationality + &quot;,&quot; + driverURL);\r\n\r\n            addDriverHashMap = new HashMap();\r\n            addDriverHashMap.put(insertDriver, addDriver);\r\n\r\n            Gson gson = new Gson();\r\n            JsonObject addDriverData;\r\n            addDriverData = gson.toJsonTree(addDriverHashMap).getAsJsonObject();\r\n\r\n            System.out.println(addDriverData);\r\n\r\n            String toSend = &quot;add&quot;;\r\n            printWriter.println(toSend);\r\n            String toSendJson = String.valueOf(addDriverData);\r\n            printWriter.println(toSendJson);\r\n\r\n            String reply = null;\r\n\r\n            printWriter.println(addDriverData);\r\n            statusLabel.setText(&quot;Status: Adding Driver to database&quot;);\r\n            try {\r\n                reply = bufferedReader.readLine();\r\n                statusLabel.setText(&quot;Status: Received reply from server&quot;);\r\n            }catch (IOException ex){\r\n                statusLabel.setText(&quot;IOException &quot; + ex);\r\n            }\r\n            statusLabel.setText(&quot;Adding Driver to database&quot;);\r\n        }else {\r\n            statusLabel.setText(&quot;You must connect to the server first&quot;);\r\n        }\r\n    }\r\nOn the client handler:\r\n\r\n    @Override\r\n    public void run() {\r\n        try{\r\n\r\n            threadSays(&quot;Waiting for data from client...&quot;);\r\n            String lineRead;\r\n            while ((lineRead = bufferedReader.readLine()) != null){\r\n                threadSays(&quot;Read data from client: \\&quot;&quot; + lineRead + &quot;\\&quot;.&quot;);\r\n\r\n                if(command.matches(&quot;add&quot;)){\r\n                    if(command.matches(&quot;INSERT&quot;)) {\r\n                        JsonObject jsonReply = JsonParser.parseString(arrayRead[0]).getAsJsonObject();\r\n                        addMyDrivers = new ArrayList&lt;&gt;(Arrays.asList(jsonReply));\r\n                        insertDriver = (String) addMyDrivers.get(1);\r\n                        addDriver = (String) addMyDrivers.get(2);\r\n                        replyMessage = &quot;Adding Driver to Database&quot;;\r\n                        ThreadedServer.addDriver(insertDriver, addDriver);\r\n                    }\r\n                }\r\n\r\n                printWriter.println(replyMessage);\r\n\r\n            }\r\n        }catch (IOException ex){\r\n            Logger.getLogger(ClientHandlerThread.class.getName()).log(Level.SEVERE, null, ex);\r\n        }finally {\r\n            try {\r\n                threadSays(&quot;We have lost connection to client &quot; + connectionNumber + &quot;.&quot;);\r\n                ThreadedServer.removeThread(this);\r\n                socket.close();\r\n            }catch (IOException ex){\r\n                Logger.getLogger(ClientHandlerThread.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\nFinally on the server:\r\n\r\n    public static void addDriver(String insertDriver, String addDriver) {\r\n        try (Connection connection = ConnectionSQLite.getConnection()) {\r\n            try (PreparedStatement preparedStatement = connection.prepareStatement(insertDriver)) {\r\n\r\n                preparedStatement.setString(1, addDriver);\r\n                preparedStatement.setString(2, addDriver);\r\n                preparedStatement.setString(3, addDriver);\r\n                preparedStatement.setString(4, addDriver);\r\n                preparedStatement.setString(5, addDriver);\r\n                preparedStatement.setString(6, addDriver);\r\n                preparedStatement.setString(7, addDriver);\r\n                preparedStatement.setString(8, addDriver);\r\n                preparedStatement.execute();\r\n            }\r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(SQLException.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\nThe SQLite message appears on the server, I can&#39;t work out how to actually get it to then do the insert, the data I&#39;m trying to insert. Any help would be greatly appreciated.","title":"Parsing SQLite with JSON, Client to Server","body":"<p>I have got a GUI client, that can receive data from a multithreaded server. I then want to be able to send data back to the server. From what I understand with Json, I can use it to send the SQLite statement and also a string. I'm not sure if what I'm trying to implement is the best way forward, but this is what I have got. On the client:</p>\n<pre><code>private void addDriverToTable() {\n    if (printWriter != null &amp;&amp; bufferedReader != null) {\n\n        String driverRef = driverRefTextField.getText();\n        String driverNumber = numberTextField.getText();\n        String driverCode = codeTextField.getText();\n        String driverForename = forenameTextField.getText();\n        String driverSurname = surnameTextField.getText();\n        String driverDOB = dobTextField.getText();\n        String driverNationality = nationalityTextField.getText();\n        String driverURL = urlTextField.getText();\n\n        System.out.println(&quot;get, &quot; + driverRef + &quot;,&quot; + driverNumber + &quot;,&quot; + driverCode + &quot;,&quot; + driverForename + &quot;,&quot;\n                + driverSurname + &quot;,&quot; + driverDOB + &quot;,&quot; + driverNationality + &quot;,&quot; + driverURL);\n\n        String insertDriver = &quot;INSERT INTO drivers (driverRef, number, code, forename, surname, dob, nationality, url)&quot; +\n                &quot;VALUES (?,?,?,?,?,?,?,?)&quot;;\n\n        String addDriver = (driverRef + &quot;,&quot; + driverNumber + &quot;,&quot; + driverCode + &quot;,&quot; + driverForename + &quot;,&quot; +\n                driverSurname + &quot;,&quot; + driverDOB + &quot;,&quot; + driverNationality + &quot;,&quot; + driverURL);\n\n        addDriverHashMap = new HashMap();\n        addDriverHashMap.put(insertDriver, addDriver);\n\n        Gson gson = new Gson();\n        JsonObject addDriverData;\n        addDriverData = gson.toJsonTree(addDriverHashMap).getAsJsonObject();\n\n        System.out.println(addDriverData);\n\n        String toSend = &quot;add&quot;;\n        printWriter.println(toSend);\n        String toSendJson = String.valueOf(addDriverData);\n        printWriter.println(toSendJson);\n\n        String reply = null;\n\n        printWriter.println(addDriverData);\n        statusLabel.setText(&quot;Status: Adding Driver to database&quot;);\n        try {\n            reply = bufferedReader.readLine();\n            statusLabel.setText(&quot;Status: Received reply from server&quot;);\n        }catch (IOException ex){\n            statusLabel.setText(&quot;IOException &quot; + ex);\n        }\n        statusLabel.setText(&quot;Adding Driver to database&quot;);\n    }else {\n        statusLabel.setText(&quot;You must connect to the server first&quot;);\n    }\n}\n</code></pre>\n<p>On the client handler:</p>\n<pre><code>@Override\npublic void run() {\n    try{\n\n        threadSays(&quot;Waiting for data from client...&quot;);\n        String lineRead;\n        while ((lineRead = bufferedReader.readLine()) != null){\n            threadSays(&quot;Read data from client: \\&quot;&quot; + lineRead + &quot;\\&quot;.&quot;);\n\n            if(command.matches(&quot;add&quot;)){\n                if(command.matches(&quot;INSERT&quot;)) {\n                    JsonObject jsonReply = JsonParser.parseString(arrayRead[0]).getAsJsonObject();\n                    addMyDrivers = new ArrayList&lt;&gt;(Arrays.asList(jsonReply));\n                    insertDriver = (String) addMyDrivers.get(1);\n                    addDriver = (String) addMyDrivers.get(2);\n                    replyMessage = &quot;Adding Driver to Database&quot;;\n                    ThreadedServer.addDriver(insertDriver, addDriver);\n                }\n            }\n\n            printWriter.println(replyMessage);\n\n        }\n    }catch (IOException ex){\n        Logger.getLogger(ClientHandlerThread.class.getName()).log(Level.SEVERE, null, ex);\n    }finally {\n        try {\n            threadSays(&quot;We have lost connection to client &quot; + connectionNumber + &quot;.&quot;);\n            ThreadedServer.removeThread(this);\n            socket.close();\n        }catch (IOException ex){\n            Logger.getLogger(ClientHandlerThread.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>Finally on the server:</p>\n<pre><code>public static void addDriver(String insertDriver, String addDriver) {\n    try (Connection connection = ConnectionSQLite.getConnection()) {\n        try (PreparedStatement preparedStatement = connection.prepareStatement(insertDriver)) {\n\n            preparedStatement.setString(1, addDriver);\n            preparedStatement.setString(2, addDriver);\n            preparedStatement.setString(3, addDriver);\n            preparedStatement.setString(4, addDriver);\n            preparedStatement.setString(5, addDriver);\n            preparedStatement.setString(6, addDriver);\n            preparedStatement.setString(7, addDriver);\n            preparedStatement.setString(8, addDriver);\n            preparedStatement.execute();\n        }\n    } catch (SQLException ex) {\n        Logger.getLogger(SQLException.class.getName()).log(Level.SEVERE, null, ex);\n    }\n\n}\n</code></pre>\n<p>The SQLite message appears on the server, I can't work out how to actually get it to then do the insert, the data I'm trying to insert. Any help would be greatly appreciated.</p>\n"},{"tags":["java","maven","plugins","gerrit"],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644693162,"creation_date":1644693162,"answer_id":71095027,"question_id":71094963,"body_markdown":"There are not many details to what you&#39;re trying to do, but I&#39;ve found this through a simple google search:\r\n\r\nThe default maven lifecycle runs javac with javax.annotation.processing.Processor file as a part of classpath. This cause compiler to expect a compiled instance of annotation processors listed in the files. But LogMeCustomAnnotationProcessor is not compiled at that moment so compiler raises &quot;Bad service configuration file ...&quot; error. See bug report.\r\n\r\nTo solve this issue maven compilation phase can be separated to compile annotation processor at the first place and then compile whole project.\r\n\r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;default-compile&lt;/id&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\r\n                            &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\r\n                        &lt;/includes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;compile-project&lt;/id&gt;\r\n                    &lt;phase&gt;compile&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;compile&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\ndefault-compile execution compiles LogMeCustomAnnotationProcessor with disabled annotation processing in order to have successful compilation.\r\ncompile-project compiles whole project with annotaton processing.","title":"Getting error duing maven org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile goal","body":"<p>There are not many details to what you're trying to do, but I've found this through a simple google search:</p>\n<p>The default maven lifecycle runs javac with javax.annotation.processing.Processor file as a part of classpath. This cause compiler to expect a compiled instance of annotation processors listed in the files. But LogMeCustomAnnotationProcessor is not compiled at that moment so compiler raises &quot;Bad service configuration file ...&quot; error. See bug report.</p>\n<p>To solve this issue maven compilation phase can be separated to compile annotation processor at the first place and then compile whole project.</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;default-compile&lt;/id&gt;\n                &lt;configuration&gt;\n                    &lt;compilerArgument&gt;-proc:none&lt;/compilerArgument&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;fun/n/learn/annotation/LogMeCustomAnnotationProcessor.java&lt;/include&gt;\n                        &lt;!--include dependencies required for LogMeCustomAnnotationProcessor --&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n                &lt;id&gt;compile-project&lt;/id&gt;\n                &lt;phase&gt;compile&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;compile&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>default-compile execution compiles LogMeCustomAnnotationProcessor with disabled annotation processing in order to have successful compilation.\ncompile-project compiles whole project with annotaton processing.</p>\n"},{"tags":[],"owner":{"account_id":24864595,"reputation":1,"user_id":18739874,"display_name":"mya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649358213,"creation_date":1649358213,"answer_id":71787649,"question_id":71094963,"body_markdown":"I managed to fix this by adding the dependency to my plugin&#39;s dependency list as a provided dependency. Hope this helps!","title":"Getting error duing maven org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile goal","body":"<p>I managed to fix this by adding the dependency to my plugin's dependency list as a provided dependency. Hope this helps!</p>\n"}],"owner":{"account_id":24238338,"reputation":1,"user_id":18191102,"display_name":"Moonie Pie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649358213,"creation_date":1644692664,"question_id":71094963,"body_markdown":"While trying to build a gerrit plugin project, I seem to be seeing this error\r\n```\r\n[ERROR] error: Bad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.ryanharter.auto.value.gson.factory.AutoValueGsonAdapterFactoryProcessor Unable to get public no-arg constructor\r\n[ERROR]\r\n```","title":"Getting error duing maven org.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile goal","body":"<p>While trying to build a gerrit plugin project, I seem to be seeing this error</p>\n<pre><code>[ERROR] error: Bad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: com.ryanharter.auto.value.gson.factory.AutoValueGsonAdapterFactoryProcessor Unable to get public no-arg constructor\n[ERROR]\n</code></pre>\n"},{"tags":["java","websocket"],"answers":[{"tags":[],"owner":{"account_id":13762948,"reputation":25,"user_id":9932224,"display_name":"Germ&#225;n C. Basisty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649357950,"creation_date":1649357950,"answer_id":71787608,"question_id":71710883,"body_markdown":"It&#39;s not possible (or at last not a common practice) to read header params from a web socket. The usual way to authenticate is to send auth information in the first message, but there are other ways.\r\n\r\nI found this [reading](https://websockets.readthedocs.io/en/latest/topics/authentication.html) very useful.\r\n\r\nRegards to everyone.","title":"Accessing header params in javax.websocket","body":"<p>It's not possible (or at last not a common practice) to read header params from a web socket. The usual way to authenticate is to send auth information in the first message, but there are other ways.</p>\n<p>I found this <a href=\"https://websockets.readthedocs.io/en/latest/topics/authentication.html\" rel=\"nofollow noreferrer\">reading</a> very useful.</p>\n<p>Regards to everyone.</p>\n"}],"owner":{"account_id":13762948,"reputation":25,"user_id":9932224,"display_name":"Germ&#225;n C. Basisty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649357950,"creation_date":1648834901,"question_id":71710883,"body_markdown":"I have the following simple websocket example:\r\n\r\n```\r\npackage com.bfaconsultora.rest.europa.resources;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.websocket.OnOpen;\r\nimport javax.websocket.OnMessage;\r\nimport javax.websocket.OnClose;\r\nimport javax.websocket.Session;\r\nimport javax.websocket.server.ServerEndpoint;\r\n\r\nimport javax.ws.rs.HeaderParam;\r\nimport javax.ws.rs.DefaultValue;\r\n\r\n\r\n@ServerEndpoint(&quot;/api/europa/qr/websocket&quot;)\r\npublic class QrWebSocket {\r\n    private Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\r\n\r\n    @OnOpen\r\n    public void onOpen (\r\n        Session session\r\n    ) {        \r\n        sessions.add(session);\r\n    }\r\n\r\n    @OnMessage\r\n    public void handleMessage(String message, Session session) {\r\n        try {\r\n            for (int c = 0; c &lt; 100; c++) {\r\n                for (Session s : sessions) {\r\n                    s.getBasicRemote().sendText(&quot;{\\&quot;value\\&quot; : \\&quot;&quot; + (c + 1) + &quot;\\&quot;}&quot;);\r\n                }\r\n                Thread.sleep(100);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @OnClose\r\n    public void onClose(Session session) {\r\n        sessions.remove(session);\r\n    }\r\n}\r\n\r\n```\r\nrunning on **Apache Tomcat 9**.\r\nIs it possible to access header params (I need it for authentication purposes)? Could you please point me the right direction?\r\n\r\nThank you in advance.\r\nRegards","title":"Accessing header params in javax.websocket","body":"<p>I have the following simple websocket example:</p>\n<pre><code>package com.bfaconsultora.rest.europa.resources;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.websocket.OnOpen;\nimport javax.websocket.OnMessage;\nimport javax.websocket.OnClose;\nimport javax.websocket.Session;\nimport javax.websocket.server.ServerEndpoint;\n\nimport javax.ws.rs.HeaderParam;\nimport javax.ws.rs.DefaultValue;\n\n\n@ServerEndpoint(&quot;/api/europa/qr/websocket&quot;)\npublic class QrWebSocket {\n    private Set&lt;Session&gt; sessions = new HashSet&lt;&gt;();\n\n    @OnOpen\n    public void onOpen (\n        Session session\n    ) {        \n        sessions.add(session);\n    }\n\n    @OnMessage\n    public void handleMessage(String message, Session session) {\n        try {\n            for (int c = 0; c &lt; 100; c++) {\n                for (Session s : sessions) {\n                    s.getBasicRemote().sendText(&quot;{\\&quot;value\\&quot; : \\&quot;&quot; + (c + 1) + &quot;\\&quot;}&quot;);\n                }\n                Thread.sleep(100);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @OnClose\n    public void onClose(Session session) {\n        sessions.remove(session);\n    }\n}\n\n</code></pre>\n<p>running on <strong>Apache Tomcat 9</strong>.\nIs it possible to access header params (I need it for authentication purposes)? Could you please point me the right direction?</p>\n<p>Thank you in advance.\nRegards</p>\n"},{"tags":["java","jms","message-driven-bean"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649357782,"creation_date":1649357782,"answer_id":71787569,"question_id":71763463,"body_markdown":"The behavior you&#39;re seeing with the newer version is the correct one. The relevant change was made via [AMQ-7464][1]. In short, changes made to the message during consumption should **not** be reflected in the message during redelivery.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/AMQ-7464","title":"JMS setRollbackOnly - inconsistent behaviour","body":"<p>The behavior you're seeing with the newer version is the correct one. The relevant change was made via <a href=\"https://issues.apache.org/jira/browse/AMQ-7464\" rel=\"nofollow noreferrer\">AMQ-7464</a>. In short, changes made to the message during consumption should <strong>not</strong> be reflected in the message during redelivery.</p>\n"}],"owner":{"account_id":2085924,"reputation":67,"user_id":1856926,"display_name":"user1856926"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71787569,"answer_count":1,"score":2,"last_activity_date":1649357782,"creation_date":1649233859,"question_id":71763463,"body_markdown":"Please have a look at the following Message Driver Bean.\r\nThe message comes in, we call `clearProperties()` on it to unlock and be able set some other properties on it.\r\nAt the end we call `setRollbackOnly()` on the `MessageDrivenContext` so that the message will be re-delivered.\r\n\r\nWe use ActiveMQ as a message broker with JBoss and the corresponding `activemq-rar.rar` resource adapter.\r\nThere is a difference although between recent and new releases on how this resource adapter behaves regarding the code segment below.\r\nUntil version &quot;5.11.0.redhat-630446&quot; of the resource adapter, the `property(&quot;newprop&quot;)` we set in the `onMessage` method appeared in the message that has been re-delivered.\r\nSince version &quot;5.11.0.redhat-630475&quot; the `clearProperties()` and `setObjectProperty()` method has no effect on the re-delivered message, so it falls in the `onMessage` method with the same properties as the original 1st message.\r\n\r\n\r\nI wonder which is the right behaviour?\r\n\r\n\r\n```java\r\n@MessageDriven(activationConfig = {\r\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;queue/QUEUE1&quot;),\r\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;)\r\n})\r\n\r\npublic class MDBean implements MessageListener {\r\n\r\n    @Resource\r\n    private MessageDrivenContext contextMD;\r\n\r\n    public void onMessage(Message message) {\r\n        try {\r\n            message.clearProperties();\r\n            message.setObjectProperty(&quot;newprop&quot;, &quot;newprop&quot;);\r\n        } catch (JMSException e) {\r\n            e.printStackTrace();\r\n        }\r\n        contextMD.setRollbackOnly();\r\n    }\r\n\r\n}\r\n```","title":"JMS setRollbackOnly - inconsistent behaviour","body":"<p>Please have a look at the following Message Driver Bean.\nThe message comes in, we call <code>clearProperties()</code> on it to unlock and be able set some other properties on it.\nAt the end we call <code>setRollbackOnly()</code> on the <code>MessageDrivenContext</code> so that the message will be re-delivered.</p>\n<p>We use ActiveMQ as a message broker with JBoss and the corresponding <code>activemq-rar.rar</code> resource adapter.\nThere is a difference although between recent and new releases on how this resource adapter behaves regarding the code segment below.\nUntil version &quot;5.11.0.redhat-630446&quot; of the resource adapter, the <code>property(&quot;newprop&quot;)</code> we set in the <code>onMessage</code> method appeared in the message that has been re-delivered.\nSince version &quot;5.11.0.redhat-630475&quot; the <code>clearProperties()</code> and <code>setObjectProperty()</code> method has no effect on the re-delivered message, so it falls in the <code>onMessage</code> method with the same properties as the original 1st message.</p>\n<p>I wonder which is the right behaviour?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageDriven(activationConfig = {\n        @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;, propertyValue = &quot;Auto-acknowledge&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destination&quot;, propertyValue = &quot;queue/QUEUE1&quot;),\n        @ActivationConfigProperty(propertyName = &quot;destinationType&quot;, propertyValue = &quot;javax.jms.Queue&quot;)\n})\n\npublic class MDBean implements MessageListener {\n\n    @Resource\n    private MessageDrivenContext contextMD;\n\n    public void onMessage(Message message) {\n        try {\n            message.clearProperties();\n            message.setObjectProperty(&quot;newprop&quot;, &quot;newprop&quot;);\n        } catch (JMSException e) {\n            e.printStackTrace();\n        }\n        contextMD.setRollbackOnly();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2364355,"reputation":4040,"user_id":2070369,"accept_rate":30,"display_name":"user2070369"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1462298914,"creation_date":1462298914,"answer_id":37011354,"question_id":37009186,"body_markdown":"OK, looks like the way to do it is setting the value using the file url like this:\r\n\r\n    spring.thymeleaf.prefix=file:./templates/\r\n\r\nIt Works now.","title":"Using Thymeleaf templates out of the Jar file","body":"<p>OK, looks like the way to do it is setting the value using the file url like this:</p>\n\n<pre><code>spring.thymeleaf.prefix=file:./templates/\n</code></pre>\n\n<p>It Works now.</p>\n"},{"tags":[],"owner":{"account_id":2334177,"reputation":121,"user_id":2046889,"display_name":"s332401890"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513056731,"creation_date":1513056731,"answer_id":47765911,"question_id":37009186,"body_markdown":"spring.thymeleaf.prefix=classpath:/templates/\r\n\r\nwhen returen view name , should be  relative path, not start with &quot;/&quot;","title":"Using Thymeleaf templates out of the Jar file","body":"<p>spring.thymeleaf.prefix=classpath:/templates/</p>\n\n<p>when returen view name , should be  relative path, not start with \"/\"</p>\n"},{"tags":[],"owner":{"account_id":7902390,"reputation":1,"user_id":5969019,"display_name":"funcmatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649357577,"creation_date":1649357577,"answer_id":71787535,"question_id":37009186,"body_markdown":"For some reason `spring.thymeleaf.prefix=file:./templates/` was not working for me, but I found another way around. I added FileTemplateResolver bean to my configuration:\r\n\r\n    @Bean\r\n    FileTemplateResolver templateResolver() {\r\n        FileTemplateResolver resolver = new FileTemplateResolver();\r\n        resolver.setPrefix(&quot;./templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setCacheable(false);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }","title":"Using Thymeleaf templates out of the Jar file","body":"<p>For some reason <code>spring.thymeleaf.prefix=file:./templates/</code> was not working for me, but I found another way around. I added FileTemplateResolver bean to my configuration:</p>\n<pre><code>@Bean\nFileTemplateResolver templateResolver() {\n    FileTemplateResolver resolver = new FileTemplateResolver();\n    resolver.setPrefix(&quot;./templates/&quot;);\n    resolver.setSuffix(&quot;.html&quot;);\n    resolver.setCacheable(false);\n    resolver.setTemplateMode(TemplateMode.HTML);\n    return resolver;\n}\n</code></pre>\n"}],"owner":{"account_id":2364355,"reputation":4040,"user_id":2070369,"accept_rate":30,"display_name":"user2070369"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6262,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":37011354,"answer_count":3,"score":8,"last_activity_date":1649357577,"creation_date":1462291950,"question_id":37009186,"body_markdown":"I have a Spring-boot application using Thymeleaf as the view engine and I want to use a folder outside the deployed Jar as the source of the Thymeleaf templates, I set the variable:\r\n\r\n    spring.thymeleaf.prefix=classpath:/templates/\r\n\r\nThe &quot;/templates/&quot; is next to the Jar with the HTML files but I get an exception that Thymeleaf cannot resolve the templates, I&#39;ve tried many configurations like:\r\n\r\n    spring.thymeleaf.prefix=classpath:templates/\r\n    spring.thymeleaf.prefix=classpath:templates\r\n\r\netc, not nothing works. What am I doing wrong, it is even possible?","title":"Using Thymeleaf templates out of the Jar file","body":"<p>I have a Spring-boot application using Thymeleaf as the view engine and I want to use a folder outside the deployed Jar as the source of the Thymeleaf templates, I set the variable:</p>\n\n<pre><code>spring.thymeleaf.prefix=classpath:/templates/\n</code></pre>\n\n<p>The \"/templates/\" is next to the Jar with the HTML files but I get an exception that Thymeleaf cannot resolve the templates, I've tried many configurations like:</p>\n\n<pre><code>spring.thymeleaf.prefix=classpath:templates/\nspring.thymeleaf.prefix=classpath:templates\n</code></pre>\n\n<p>etc, not nothing works. What am I doing wrong, it is even possible?</p>\n"},{"tags":["java","repaint"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1649358276,"post_id":71787490,"comment_id":126861954,"body_markdown":"Maybe [relevant post?](https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java)","body":"Maybe <a href=\"https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java\">relevant post?</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1649359743,"post_id":71787490,"comment_id":126862334,"body_markdown":"It&#39;s long but check out this article on low latency painting in Java by Pavel Fatin: https://pavelfatin.com/low-latency-painting-in-awt-and-swing/","body":"It&#39;s long but check out this article on low latency painting in Java by Pavel Fatin: <a href=\"https://pavelfatin.com/low-latency-painting-in-awt-and-swing/\" rel=\"nofollow noreferrer\">pavelfatin.com/low-latency-painting-in-awt-and-swing</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1649360589,"post_id":71787490,"comment_id":126862596,"body_markdown":"You should also consider that Swing is designed for traditional GUIs and not for animation or fast updates.  The `AffineTransform` in each draw call is expensive.  Update the buffer directly if you need more consistency.  Or use OpenGL with a library like Jogl or LWJGL.","body":"You should also consider that Swing is designed for traditional GUIs and not for animation or fast updates.  The <code>AffineTransform</code> in each draw call is expensive.  Update the buffer directly if you need more consistency.  Or use OpenGL with a library like Jogl or LWJGL."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1649386548,"post_id":71787490,"comment_id":126867743,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":24864314,"reputation":1,"user_id":18739623,"display_name":"Bike"},"score":0,"creation_date":1649435217,"post_id":71787490,"comment_id":126883176,"body_markdown":"Actually it is not really a problem, I just wanted to understand why. If you want my question is: &quot;How can I make the repaint()-method work fast without moving the mouse?&quot; - Thanks","body":"Actually it is not really a problem, I just wanted to understand why. If you want my question is: &quot;How can I make the repaint()-method work fast without moving the mouse?&quot; - Thanks"},{"owner":{"account_id":24864314,"reputation":1,"user_id":18739623,"display_name":"Bike"},"score":0,"creation_date":1649436586,"post_id":71787490,"comment_id":126883671,"body_markdown":"@Nexevis That seems to be quite the same kind of behaviour. Thanks, I just wonder why I did not find this question during my research...","body":"@Nexevis That seems to be quite the same kind of behaviour. Thanks, I just wonder why I did not find this question during my research..."},{"owner":{"account_id":24864314,"reputation":1,"user_id":18739623,"display_name":"Bike"},"score":0,"creation_date":1649437221,"post_id":71787490,"comment_id":126883892,"body_markdown":"@markspace Thanks for your suggestion. I just don&#39;t understand which buffer you are talking about?","body":"@markspace Thanks for your suggestion. I just don&#39;t understand which buffer you are talking about?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1649444408,"post_id":71787490,"comment_id":126886085,"body_markdown":"A buffer is any object used to send data to a screen or rendering engine.  Sorry for being unclear.  Here a buffer would be any object that you are making draw calls on or setting individual pixels.  Doesn&#39;t matter if it&#39;s an array of bytes or some higher level object.","body":"A buffer is any object used to send data to a screen or rendering engine.  Sorry for being unclear.  Here a buffer would be any object that you are making draw calls on or setting individual pixels.  Doesn&#39;t matter if it&#39;s an array of bytes or some higher level object."}],"owner":{"account_id":24864314,"reputation":1,"user_id":18739623,"display_name":"Bike"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649357341,"creation_date":1649357341,"question_id":71787490,"body_markdown":"I am currently working on a private project that uses a normal java JFrame,  in which I paint an image (in form of an int[][] with ARGB-values). Then I plot this image pixel by pixel inside the paint()-method. I have to do this, because I want to shift/zoom the image to my liking.\r\nWhen I enlarge the window to my screen size (2560*1600) one run takes about 10 secs.\r\nDoing the same whilst just moving the mouse around this time decreases to ca. 1.5 secs. Has anyone an explanation for this 7-time boost?\r\nThanks!\r\nBike","title":"paint()-mehod faster while mouse is moved","body":"<p>I am currently working on a private project that uses a normal java JFrame,  in which I paint an image (in form of an int[][] with ARGB-values). Then I plot this image pixel by pixel inside the paint()-method. I have to do this, because I want to shift/zoom the image to my liking.\nWhen I enlarge the window to my screen size (2560*1600) one run takes about 10 secs.\nDoing the same whilst just moving the mouse around this time decreases to ca. 1.5 secs. Has anyone an explanation for this 7-time boost?\nThanks!\nBike</p>\n"},{"tags":["java","list","loops","arraylist","freemarker"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1518034839,"post_id":48672378,"comment_id":84343372,"body_markdown":"Did you try it with a getter? I thought FM relied on the JavaBean spec.","body":"Did you try it with a getter? I thought FM relied on the JavaBean spec."}],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1518098476,"creation_date":1518098476,"answer_id":48687311,"question_id":48672378,"body_markdown":"There was such a [mail list request][1] to allow access to public fields\r\nThe solution is to use method `setExposeFields` \r\n\r\n    DefaultObjectWrapper wrapper = new DefaultObjectWrapper(); \r\n    wrapper.setExposeFields(true); \r\n    FreeMarkerCfg.setObjectWrapper(wrapper); \r\n\r\nThis is explained in [freemarker docs][2]\r\n\r\n&gt;If you call `setExposeFields(true)` on a BeansWrapper instance, it will also expose public, non-static fields of classes as hash keys and values. I.e. if foo is a public, non-static field of the class Bar, and bar is a template variable wrapping an instance of Bar, then `bar.foo` expression will evaluate as the value of the field foo of the bar object. The public fields in all superclasses of the class are also exposed.\r\n\r\n[1]:http://freemarker.624813.n4.nabble.com/Access-to-public-feilds-td624997.html\r\n\r\n[2]:https://freemarker.apache.org/docs/pgui_misc_beanwrapper.html","title":"Freemarker iterate ArrayList of Objects and access a variable?","body":"<p>There was such a <a href=\"http://freemarker.624813.n4.nabble.com/Access-to-public-feilds-td624997.html\" rel=\"nofollow noreferrer\">mail list request</a> to allow access to public fields\nThe solution is to use method <code>setExposeFields</code> </p>\n\n<pre><code>DefaultObjectWrapper wrapper = new DefaultObjectWrapper(); \nwrapper.setExposeFields(true); \nFreeMarkerCfg.setObjectWrapper(wrapper); \n</code></pre>\n\n<p>This is explained in <a href=\"https://freemarker.apache.org/docs/pgui_misc_beanwrapper.html\" rel=\"nofollow noreferrer\">freemarker docs</a></p>\n\n<blockquote>\n  <p>If you call <code>setExposeFields(true)</code> on a BeansWrapper instance, it will also expose public, non-static fields of classes as hash keys and values. I.e. if foo is a public, non-static field of the class Bar, and bar is a template variable wrapping an instance of Bar, then <code>bar.foo</code> expression will evaluate as the value of the field foo of the bar object. The public fields in all superclasses of the class are also exposed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16360004,"reputation":21,"user_id":11815939,"display_name":"Nehal Shrivashtava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649357049,"creation_date":1649357049,"answer_id":71787425,"question_id":48672378,"body_markdown":"For Readers\r\n\r\n**Also make sure your class is public**. I wasted my 3 hours after adding `wrapper.setExposeFields(true);` from @user7294900 answer.\r\n\r\nFreemarker does Not read or access Public variables/methods of a Private class and Private variables/methods of a public class.","title":"Freemarker iterate ArrayList of Objects and access a variable?","body":"<p>For Readers</p>\n<p><strong>Also make sure your class is public</strong>. I wasted my 3 hours after adding <code>wrapper.setExposeFields(true);</code> from @user7294900 answer.</p>\n<p>Freemarker does Not read or access Public variables/methods of a Private class and Private variables/methods of a public class.</p>\n"}],"owner":{"account_id":1526452,"reputation":2083,"user_id":1424766,"accept_rate":63,"display_name":"G&#225;bor DANI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3975,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48687311,"answer_count":2,"score":3,"last_activity_date":1649357049,"creation_date":1518033947,"question_id":48672378,"body_markdown":"I have the following POJO class:\r\n\r\n    public final class Item\r\n    {\r\n    \tpublic final long id;\r\n    \tpublic final String hash;\r\n    \r\n    \tpublic Item(long _id, String _hash)\r\n    \t{\r\n    \t\tid = _id;\r\n    \t\thash = _hash;\r\n    \t}\r\n    }\r\n\r\nI have an `ArrayList&lt;Item&gt;`:\r\n\r\n    ArrayList&lt;Item&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new Item(1, &quot;abc&quot;));\r\n    list.add(new Item(2, &quot;def&quot;));\r\n\r\nThe list is added to the template:\r\n\r\n    MODEL.addAttribute(&quot;history_list&quot;, list);\r\n\r\nThe template successfully iterates through the list the number of times that an item was inserted but fails to get the property of the individual item:\r\n\r\n    &lt;#list history_list as row&gt;\r\n         &lt;p&gt;${row.hash}&lt;/p&gt;\r\n    &lt;#else&gt;\r\n         no items here\r\n    &lt;/#list&gt;\r\n\r\n**The error:**\r\n    The following has evaluated to null or missing:\r\n    ==&gt; row.hash [in template &quot;history.ftl&quot; at line 9, column 69]\r\n\r\n\r\nWhy?","title":"Freemarker iterate ArrayList of Objects and access a variable?","body":"<p>I have the following POJO class:</p>\n\n<pre><code>public final class Item\n{\n    public final long id;\n    public final String hash;\n\n    public Item(long _id, String _hash)\n    {\n        id = _id;\n        hash = _hash;\n    }\n}\n</code></pre>\n\n<p>I have an <code>ArrayList&lt;Item&gt;</code>:</p>\n\n<pre><code>ArrayList&lt;Item&gt; list = new ArrayList&lt;&gt;();\nlist.add(new Item(1, \"abc\"));\nlist.add(new Item(2, \"def\"));\n</code></pre>\n\n<p>The list is added to the template:</p>\n\n<pre><code>MODEL.addAttribute(\"history_list\", list);\n</code></pre>\n\n<p>The template successfully iterates through the list the number of times that an item was inserted but fails to get the property of the individual item:</p>\n\n<pre><code>&lt;#list history_list as row&gt;\n     &lt;p&gt;${row.hash}&lt;/p&gt;\n&lt;#else&gt;\n     no items here\n&lt;/#list&gt;\n</code></pre>\n\n<p><strong>The error:</strong>\n    The following has evaluated to null or missing:\n    ==> row.hash [in template \"history.ftl\" at line 9, column 69]</p>\n\n<p>Why?</p>\n"},{"tags":["java","pdf","itext"],"answers":[{"tags":[],"owner":{"account_id":539735,"reputation":9276,"user_id":907687,"accept_rate":91,"display_name":"vikiiii"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1332923681,"creation_date":1332922829,"answer_id":9903623,"question_id":9903163,"body_markdown":"You can read the text from the PDF using the same **ITEXT** library.Try this\r\n\r\n        PdfReader reader = new PdfReader(INPUTFILE);\r\n        int n = reader.getNumberOfPages();\r\n        PdfTextExtractor parser =new PdfTextExtractor(new PdfReader(&quot;C:/Text.pdf&quot;));\r\n        parser.getTextFromPage(3); // Extracting the content from a particular page.\r\n\r\nAfter you have add your data ,You can  load images either from file or from a URL, like this:\r\n\r\n\r\n       Image image1 = Image.getInstance(&quot;watermark.png&quot;);\r\n       document.add(image1);\r\n\r\n       String imageUrl = &quot;http://applause-voice.com/wp-content/uploads/2011/04/1hello.jpg&quot;;\r\n       Image image2 = Image.getInstance(new URL(imageUrl));\r\n       document.add(image2);\r\n\r\nIf you will add this code at the end of your Java Program , then the image will automatically comes at the end of your page.","title":"How to add an image in the last page of pdf using iText?","body":"<p>You can read the text from the PDF using the same <strong>ITEXT</strong> library.Try this</p>\n\n<pre><code>    PdfReader reader = new PdfReader(INPUTFILE);\n    int n = reader.getNumberOfPages();\n    PdfTextExtractor parser =new PdfTextExtractor(new PdfReader(\"C:/Text.pdf\"));\n    parser.getTextFromPage(3); // Extracting the content from a particular page.\n</code></pre>\n\n<p>After you have add your data ,You can  load images either from file or from a URL, like this:</p>\n\n<pre><code>   Image image1 = Image.getInstance(\"watermark.png\");\n   document.add(image1);\n\n   String imageUrl = \"http://applause-voice.com/wp-content/uploads/2011/04/1hello.jpg\";\n   Image image2 = Image.getInstance(new URL(imageUrl));\n   document.add(image2);\n</code></pre>\n\n<p>If you will add this code at the end of your Java Program , then the image will automatically comes at the end of your page.</p>\n"},{"tags":[],"owner":{"display_name":"user7586763"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589651877,"creation_date":1544747701,"answer_id":53772003,"question_id":9903163,"body_markdown":"The following example adds an image to the second page of an existing pdf using Itext 5.\r\n\r\n        String src = &quot;c:/in.pdf;\r\n        String dest = &quot;c:/out.pdf&quot;;\r\n        String IMG = &quot;C:/image.jpg&quot;;\r\n\r\n        try {\r\n\r\n            PdfReader reader = new PdfReader(src);\r\n            PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\r\n            com.itextpdf.text.Image image = com.itextpdf.text.Image.getInstance(IMG);\r\n            image.setAbsolutePosition(36, 400);\r\n            PdfContentByte over = stamper.getOverContent(2);\r\n            over.addImage(image);\r\n            stamper.close();\r\n            reader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n","title":"How to add an image in the last page of pdf using iText?","body":"<p>The following example adds an image to the second page of an existing pdf using Itext 5.</p>\n\n<pre><code>    String src = \"c:/in.pdf;\n    String dest = \"c:/out.pdf\";\n    String IMG = \"C:/image.jpg\";\n\n    try {\n\n        PdfReader reader = new PdfReader(src);\n        PdfStamper stamper = new PdfStamper(reader, new FileOutputStream(dest));\n        com.itextpdf.text.Image image = com.itextpdf.text.Image.getInstance(IMG);\n        image.setAbsolutePosition(36, 400);\n        PdfContentByte over = stamper.getOverContent(2);\n        over.addImage(image);\n        stamper.close();\n        reader.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5685459,"reputation":3363,"user_id":4495175,"accept_rate":93,"display_name":"Letfar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649356930,"creation_date":1649356930,"answer_id":71787408,"question_id":9903163,"body_markdown":"The best solution for me was to create a new in-memory PDF document with the image I want to add, then copy this page to the original document.\r\n\r\n     // Create a separate doc for image\r\n    var pdfDocWithImageOutStream = new ByteArrayOutputStream();\r\n    var pdfDocWithImage = new PdfDocument(new PdfWriter(pdfDocWithImageOutStream).setSmartMode(true));\r\n    var docWithImage = new Document(pdfDocWithImage, destinationPdf.getDefaultPageSize());\r\n    \r\n    // Add image to the doc\r\n    docWithImage.add(image);\r\n    \r\n    // Close the doc to save data\r\n    docWithImage.close();\r\n    pdfDocWithImage.close();\r\n    \r\n    // Open the same doc for reading\r\n    pdfDocWithImage = new PdfDocument(new PdfReader(new ByteArrayInputStream(pdfDocWithImageOutStream.toByteArray())));\r\n    docWithImage = new Document(pdfDocWithImage, destinationPdf.getDefaultPageSize());\r\n    \r\n    // Copy page to original (destinationPdf)\r\n    pdfDocWithImage.copyPagesTo(1, pdfDocWithImage.getNumberOfPages(), destinationPdf);\r\n    \r\n    docWithImage.close();\r\n    pdfDocWithImage.close();","title":"How to add an image in the last page of pdf using iText?","body":"<p>The best solution for me was to create a new in-memory PDF document with the image I want to add, then copy this page to the original document.</p>\n<pre><code> // Create a separate doc for image\nvar pdfDocWithImageOutStream = new ByteArrayOutputStream();\nvar pdfDocWithImage = new PdfDocument(new PdfWriter(pdfDocWithImageOutStream).setSmartMode(true));\nvar docWithImage = new Document(pdfDocWithImage, destinationPdf.getDefaultPageSize());\n\n// Add image to the doc\ndocWithImage.add(image);\n\n// Close the doc to save data\ndocWithImage.close();\npdfDocWithImage.close();\n\n// Open the same doc for reading\npdfDocWithImage = new PdfDocument(new PdfReader(new ByteArrayInputStream(pdfDocWithImageOutStream.toByteArray())));\ndocWithImage = new Document(pdfDocWithImage, destinationPdf.getDefaultPageSize());\n\n// Copy page to original (destinationPdf)\npdfDocWithImage.copyPagesTo(1, pdfDocWithImage.getNumberOfPages(), destinationPdf);\n\ndocWithImage.close();\npdfDocWithImage.close();\n</code></pre>\n"}],"owner":{"account_id":462465,"reputation":4966,"user_id":864787,"accept_rate":77,"display_name":"Santhosh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4511,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":9903623,"answer_count":3,"score":1,"last_activity_date":1649356930,"creation_date":1332920759,"question_id":9903163,"body_markdown":"How do i add an image on the last page of existing PDF document. Please help me. ","title":"How to add an image in the last page of pdf using iText?","body":"<p>How do i add an image on the last page of existing PDF document. Please help me. </p>\n"},{"tags":["java","swing","jtextfield","mouselistener","sudoku"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":1,"creation_date":1649285952,"post_id":71774290,"comment_id":126840325,"body_markdown":"Short answer, yes there is a way. Just override the selection/click events of each of your JTextFields to perform the appropriate action. The action of one event/click should not influence other components unless you are incorrectly referencing them inside the event method.","body":"Short answer, yes there is a way. Just override the selection/click events of each of your JTextFields to perform the appropriate action. The action of one event/click should not influence other components unless you are incorrectly referencing them inside the event method."},{"owner":{"account_id":21233016,"reputation":5,"user_id":15617474,"display_name":"eswcs"},"score":1,"creation_date":1649357211,"post_id":71774290,"comment_id":126861628,"body_markdown":"@AndrewThompson I just added more information, hopefully it makes more sense now","body":"@AndrewThompson I just added more information, hopefully it makes more sense now"}],"answers":[{"tags":[],"owner":{"account_id":6658678,"reputation":187,"user_id":5138423,"display_name":"SebVb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649319133,"creation_date":1649319133,"answer_id":71778525,"question_id":71774290,"body_markdown":"Why dont just extends the JTextField class ?\r\n\r\nYou can do something like that :\r\n\r\n    public class SudokuTextField extends JTextField {\r\n    \r\n        private int x;\r\n        private int y;\r\n    \r\n        public SudokuTextField (int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n    }\r\n\r\nWith this, you can access to the extra info you need","title":"Is there a way to make a &quot;clickable&quot; button, that is actually a text field?","body":"<p>Why dont just extends the JTextField class ?</p>\n<p>You can do something like that :</p>\n<pre><code>public class SudokuTextField extends JTextField {\n\n    private int x;\n    private int y;\n\n    public SudokuTextField (int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n<p>With this, you can access to the extra info you need</p>\n"}],"owner":{"account_id":21233016,"reputation":5,"user_id":15617474,"display_name":"eswcs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649356903,"creation_date":1649284066,"question_id":71774290,"body_markdown":"I am making a Sudoku App using Java &amp; Swing, and I was wondering if there was a way to edit one &quot;box&quot; in the 2d array using a MouseEvent and getX(), getY(). So for example, if the board is 500x500 pixels, the pixels from first 99 pixels in each direction would make the first box of a sudoku game...\r\n\r\nThis is what I have tried:\r\n\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                fieldArray[i][j] = new JLabel(a[i][j] + &quot; &quot;);\r\n            }\r\n        }\r\n\r\n        setLayout(new GridLayout(9, 9));\r\n\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                add(fieldArray[i][j]);\r\n            }\r\n        }`public void actionPerformed(ActionEvent e) {\r\n\t\t\r\n\t\taddMouseListener(new MouseAdapter() {\r\n\t\t\tpublic void mouseClicked(MouseEvent r) {\r\n\t\t\t\t x = r.getX();\r\n\t\t\t\t y = r.getY();\r\n\t\t\t\t x = x/9;\r\n\t\t\t\t y = y/9; \r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tString s = &quot;&quot;;\r\n\t\tif(e.getActionCommand().equals(&quot;1&quot;)) {\r\n\t\t\ts += &quot;1&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;2&quot;)) {\r\n\t\t\ts += &quot;2&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;3&quot;)) {\r\n\t\t\ts += &quot;3&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;4&quot;)) {\r\n\t\t\ts += &quot;4&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;5&quot;)) {\r\n\t\t\ts += &quot;5&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;6&quot;)) {\r\n\t\t\ts += &quot;6&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;7&quot;)) {\r\n\t\t\ts += &quot;7&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;8&quot;)) {\r\n\t\t\ts += &quot;8&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;9&quot;)) {\r\n\t\t\ts += &quot;9&quot;;\r\n\t\t}\r\n\t\tif(e.getActionCommand().equals(&quot;0&quot;)) {\r\n\t\t\ts += &quot;0&quot;;\r\n\t\t}\r\n\t}`\r\n","title":"Is there a way to make a &quot;clickable&quot; button, that is actually a text field?","body":"<p>I am making a Sudoku App using Java &amp; Swing, and I was wondering if there was a way to edit one &quot;box&quot; in the 2d array using a MouseEvent and getX(), getY(). So for example, if the board is 500x500 pixels, the pixels from first 99 pixels in each direction would make the first box of a sudoku game...</p>\n<p>This is what I have tried:</p>\n<pre><code>    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            fieldArray[i][j] = new JLabel(a[i][j] + &quot; &quot;);\n        }\n    }\n\n    setLayout(new GridLayout(9, 9));\n\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            add(fieldArray[i][j]);\n        }\n    }`public void actionPerformed(ActionEvent e) {\n    \n    addMouseListener(new MouseAdapter() {\n        public void mouseClicked(MouseEvent r) {\n             x = r.getX();\n             y = r.getY();\n             x = x/9;\n             y = y/9; \n        }\n    });\n    \n    String s = &quot;&quot;;\n    if(e.getActionCommand().equals(&quot;1&quot;)) {\n        s += &quot;1&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;2&quot;)) {\n        s += &quot;2&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;3&quot;)) {\n        s += &quot;3&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;4&quot;)) {\n        s += &quot;4&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;5&quot;)) {\n        s += &quot;5&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;6&quot;)) {\n        s += &quot;6&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;7&quot;)) {\n        s += &quot;7&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;8&quot;)) {\n        s += &quot;8&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;9&quot;)) {\n        s += &quot;9&quot;;\n    }\n    if(e.getActionCommand().equals(&quot;0&quot;)) {\n        s += &quot;0&quot;;\n    }\n}`\n</code></pre>\n"},{"tags":["java","web-services","spring","rest"],"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1517798420,"post_id":14447731,"comment_id":84227337,"body_markdown":"It deserves to notice that `@RequestHeader` is only for original headers in request, not ones added through interceptor or filters.","body":"It deserves to notice that <code>@RequestHeader</code> is only for original headers in request, not ones added through interceptor or filters."}],"answers":[{"tags":[],"owner":{"account_id":1393552,"reputation":414,"user_id":1580636,"accept_rate":100,"display_name":"Rafael Sisto"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1480718609,"creation_date":1358869879,"answer_id":14462549,"question_id":14447731,"body_markdown":"This question is answered here:\r\nhttps://stackoverflow.com/questions/4471584/in-spring-mvc-how-can-i-set-the-mime-type-header-when-using-responsebody\r\n\r\nHere is a code sample from: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-httpentity\r\n\r\n    @RequestMapping(&quot;/something&quot;)\r\n    public ResponseEntity&lt;String&gt; handle(HttpEntity&lt;byte[]&gt; requestEntity) throws UnsupportedEncodingException {\r\n      String requestHeader = requestEntity.getHeaders().getFirst(&quot;MyRequestHeader&quot;);\r\n      byte[] requestBody = requestEntity.getBody();\r\n      // do something with request header and body\r\n    \r\n      HttpHeaders responseHeaders = new HttpHeaders();\r\n      responseHeaders.set(&quot;MyResponseHeader&quot;, &quot;MyValue&quot;);\r\n      return new ResponseEntity&lt;String&gt;(&quot;Hello World&quot;, responseHeaders, HttpStatus.CREATED);\r\n    }","title":"Optional Request Header in Spring Rest Service","body":"<p>This question is answered here:\n<a href=\"https://stackoverflow.com/questions/4471584/in-spring-mvc-how-can-i-set-the-mime-type-header-when-using-responsebody\">In Spring MVC, how can I set the mime type header when using @ResponseBody</a></p>\n\n<p>Here is a code sample from: <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-httpentity\" rel=\"nofollow noreferrer\">http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/mvc.html#mvc-ann-httpentity</a></p>\n\n<pre><code>@RequestMapping(\"/something\")\npublic ResponseEntity&lt;String&gt; handle(HttpEntity&lt;byte[]&gt; requestEntity) throws UnsupportedEncodingException {\n  String requestHeader = requestEntity.getHeaders().getFirst(\"MyRequestHeader\");\n  byte[] requestBody = requestEntity.getBody();\n  // do something with request header and body\n\n  HttpHeaders responseHeaders = new HttpHeaders();\n  responseHeaders.set(\"MyResponseHeader\", \"MyValue\");\n  return new ResponseEntity&lt;String&gt;(\"Hello World\", responseHeaders, HttpStatus.CREATED);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1649356771,"creation_date":1597987900,"answer_id":63517023,"question_id":14447731,"body_markdown":"Use `required=false` in your `@RequestHeader`:\r\n\r\n    @PostMapping(&quot;/mykey&quot;)\r\n    public ResponseEntity&lt;String&gt; getData(\r\n      @RequestBody String body, \r\n      @RequestHeader(value = &quot;Auth&quot;, required = false) String authorization)  {}","title":"Optional Request Header in Spring Rest Service","body":"<p>Use <code>required=false</code> in your <code>@RequestHeader</code>:</p>\n<pre><code>@PostMapping(&quot;/mykey&quot;)\npublic ResponseEntity&lt;String&gt; getData(\n  @RequestBody String body, \n  @RequestHeader(value = &quot;Auth&quot;, required = false) String authorization)  {}\n</code></pre>\n"}],"owner":{"account_id":2160223,"reputation":1547,"user_id":1914541,"accept_rate":91,"display_name":"Freephone Panwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40895,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":14462549,"answer_count":2,"score":20,"last_activity_date":1649356771,"creation_date":1358804432,"question_id":14447731,"body_markdown":"I&#39;m using Spring Restful web service &amp; having request body with request header as shown below:\r\n\r\n    @RequestMapping(value = &quot;/mykey&quot;, method = RequestMethod.POST, consumes=&quot;applicaton/json&quot;)\r\n    public ResponseEntity&lt;String&gt; getData(@RequestBody String body, @RequestHeader(&quot;Auth&quot;) String authorization)  {\r\n    try {\r\n        ....\r\n    } catch (Exception e) {\r\n        ....\r\n    }\r\n    }\r\n\r\nI want to pass one more optional request header called &quot;X-MyHeader&quot;. How do I specify this optional request header in Spring rest service?\r\n\r\nAlso, how do I pass this same value in response header??\r\nThanks!\r\n\r\nUPDATE: I just found that I can set required=false in request header, so one issue is resolved. Now, the only issue remaining is how do I set the header in the response??","title":"Optional Request Header in Spring Rest Service","body":"<p>I'm using Spring Restful web service &amp; having request body with request header as shown below:</p>\n\n<pre><code>@RequestMapping(value = \"/mykey\", method = RequestMethod.POST, consumes=\"applicaton/json\")\npublic ResponseEntity&lt;String&gt; getData(@RequestBody String body, @RequestHeader(\"Auth\") String authorization)  {\ntry {\n    ....\n} catch (Exception e) {\n    ....\n}\n}\n</code></pre>\n\n<p>I want to pass one more optional request header called \"X-MyHeader\". How do I specify this optional request header in Spring rest service?</p>\n\n<p>Also, how do I pass this same value in response header??\nThanks!</p>\n\n<p>UPDATE: I just found that I can set required=false in request header, so one issue is resolved. Now, the only issue remaining is how do I set the header in the response??</p>\n"},{"tags":["java","cookies","jersey","realm"],"owner":{"account_id":17063626,"reputation":294,"user_id":12346425,"display_name":"Jawad-Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649356720,"creation_date":1649356720,"question_id":71787369,"body_markdown":"I am actually stuck in a data fetching API. In its documentation it has been mentioned that I have to make a call to the login API first then using its Authorization header and cookie (returned in Login API response) I have to make subsequent calls (keeping session control).\r\n\r\nThe first call is successful and I have received the Cookie i.e. X-SESSIONID and Authorization Header from response Headers. But the subsequent call is returning: **401 Unauthorized** even I am passing session Id and authorization header.\r\n\r\nMay be I am doing something wrong in session management or making subsequent call. Can someone help?\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport javax.ws.rs.core.*;\r\nimport org.apache.commons.codec.digest.*;\r\nimport org.codehaus.jettison.json.*;\r\nimport com.sun.jersey.api.*;\r\nimport com.sun.jersey.api.client.Client;\r\nimport com.sun.jersey.api.client.ClientResponse;\r\nimport com.sun.jersey.api.client.WebResource;\r\nimport com.sun.jersey.api.client.config.ClientConfig;\r\nimport com.sun.jersey.api.client.config.DefaultClientConfig;\r\n\r\npublic class DigestClient {\r\n\r\n\t// Dividing into two parts because we need to send the last part of uri in our\r\n\t// second request to service.\r\n\tstatic String baseUri = &quot;http://data.crea.ca&quot;;\r\n\tstatic String subUri = &quot;/Login.svc/Login&quot;;\r\n\r\n\tpublic static void main(String[] args) throws JSONException, IOException {\r\n\r\n\t\tClientConfig cc = new DefaultClientConfig();\r\n\t\tClient client = Client.create(cc);\r\n\r\n\t\tWebResource webResource = client.resource(baseUri + subUri);\r\n\t\tClientResponse response = webResource.get(ClientResponse.class);\r\n\t\t// Basically in Digest-Authentication mechanism, we hit the rest service two\r\n\t\t// times.\r\n\t\t// First time with No Authentication, which returns some values (qop, nonce,\r\n\t\t// realm) which are used as inputs in second call to rest service.\r\n\r\n\t\t/*--------------- First call-----------------*/\r\n\t\t// We get 401, Unauthorized\r\n\t\tSystem.out.println(response.getStatus() );\r\n\t\t// Here is the complete header information\r\n\t\tSystem.out.println(response.getHeaders());\r\n\t\t// We need &quot;WWW-Authenticate&quot; part information for our second call to rest\r\n\t\tSystem.out.println(&quot;WWW-Authenticate: \\t&quot; + response.getHeaders().get(&quot;www-Authenticate&quot;));\r\n\r\n\t\tString noAuthResp = response.getHeaders().get(&quot;www-Authenticate&quot;).toString();\r\n\t\tnoAuthResp = noAuthResp.replace(&quot;Digest &quot;, &quot;&quot;);\r\n\t\tnoAuthResp = noAuthResp.replace(&#39;[&#39;, &#39;{&#39;);\r\n\t\tnoAuthResp = noAuthResp.replace(&#39;]&#39;, &#39;}&#39;);\r\n\r\n\t\t// Creating a JSONObject for easy information retrieval\r\n\t\tJSONObject resp = new JSONObject(noAuthResp);\r\n\r\n\t\t/*--------------- Second call-----------------*/\r\n\t\t// Here client has to set the fields which was returned from the first call\r\n\t\tString user = &quot;CXLHfDVrziCfvwgCuL8nUahC&quot;; // username\r\n\t\tString password = &quot;mFqMsCSPdnb5WO1gpEEtDCHH&quot;; // password\r\n\t\tString realm = resp.getString(&quot;realm&quot;); // realm value from the first rest-call response\r\n\t\tString qop = resp.getString(&quot;qop&quot;); // qop value from the first rest-call response\r\n\t\tString nonce = resp.getString(&quot;nonce&quot;); // nonce value from the first rest-call response\r\n\t\tString opaque = &quot;&quot;;//resp.getString(&quot;opaque&quot;); // Some times if we don&#39;t get this value, set it with &quot;&quot;\r\n\t\tString algorithm = &quot;MD5&quot;; // The algorithm set by the client\r\n\t\tint nonceCount = 678; // Some numerical input from the client\r\n\t\tString clientNonce = &quot;afdjas0&quot;; // Some random text from the client for encryption\r\n\r\n\t\tString method = &quot;GET&quot;; // HTTP method\r\n\r\n\t\tString ha1 = new DigestClient().formHA1(user, realm, password);\r\n\t\tString ha2 = new DigestClient().formHA2(method, subUri);\r\n\t\tString responseCode = new DigestClient().generateResponse(ha1, nonce, nonceCount, clientNonce, qop, ha2);\r\n\r\n\t\t// Header to be sent to the service\r\n\t\tString value = &quot;Digest username=\\&quot;&quot; + user + &quot;\\&quot;, realm=\\&quot;&quot; + realm + &quot;\\&quot;, nonce=\\&quot;&quot; + nonce + &quot;\\&quot;, uri=\\&quot;&quot;\r\n\t\t\t\t+ subUri + &quot;\\&quot;, qop=&quot; + qop + &quot;, nc=&quot; + nonceCount + &quot;, cnonce=\\&quot;&quot; + clientNonce + &quot;\\&quot;, response=\\&quot;&quot;\r\n\t\t\t\t+ responseCode + &quot;\\&quot;, opaque=\\&quot;&quot; + opaque + &quot;\\&quot;&quot;;\r\n\r\n\t\tSystem.out.println(&quot;Digest Header: &quot; + value );\r\n\t\t\r\n\t\t// Hitting the service\r\n\t\tresponse = webResource.header(&quot;authorization&quot;, value).type(MediaType.TEXT_PLAIN).accept(&quot;*&quot;)\r\n\t\t\t\t.get(ClientResponse.class);\r\n\t\tSystem.out.println(&quot;\\nComplete Response:\\n&quot; + response + &quot;\\n&quot;);\r\n\t\tString output = response.getEntity(String.class);\r\n\t\tMultivaluedMap&lt;String, String&gt; responseHeaders = response.getHeaders();\r\n\t\t\r\n\t\tSystem.out.println(&quot;Response header: &quot; + prepareParameters(responseHeaders).toString());\r\n\t\tSystem.out.println(&quot;Cookie: &quot; +  response.getCookies().get(1).toString());\r\n\t//\tSystem.out.println(&quot;Response Text: &quot; + output);\r\n\t\t\r\n\tString sessionId = response.getCookies().get(1).toString();\r\n\r\n\t\r\n\t/****************************SUBSEQUENT CALL (WHERE I AM PASSING SESSION ID AS COOKIE AND AUTHORIZATION HEADER ***************************/\r\n\t\r\n\t\r\n\t\tSystem.out.println(&quot;Getting metadata..&quot;);\r\n\t\tSystem.out.println(&quot;SessionID: &quot; + sessionId.split(&quot;;&quot;)[0]);\r\n\t\tSystem.out.println(&quot;Digest Header: &quot; + value);\r\n\t\t\r\n\t\tString sid = sessionId.split(&quot;;&quot;)[0];\r\n\t\tString request = &quot;&lt;Employee&gt;&lt;Name&gt;Sunil&lt;/Name&gt;&lt;/&lt;Employee&gt;&quot;;\r\n\r\n\t\twebResource = client.resource(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\r\n\t\tClientResponse response2 = webResource.get(ClientResponse.class);\r\n\t\t\r\n\t\tresponse2 = webResource.header(&quot;authorization&quot;, value).header(&quot;Cookie&quot;, sid).type(MediaType.APPLICATION_XML).accept(&quot;*&quot;)\r\n\t\t\t\t.post(ClientResponse.class, request);\r\n\t\t\r\n\t\tif (response2.getStatus() != 200) {\r\n            System.out.println(&quot;MetaDataError: &quot; + response2.getStatus());\r\n        }\r\n\t\t\r\n\t\tString output2 = response2.getEntity(String.class);\r\n\t\t\r\n\r\n//\t\t\r\n//\t\tURL url = new URL(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\r\n//\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n//\r\n//\t\t// Set timeout as per needs\r\n//\t\tconnection.setConnectTimeout(20000);\r\n//\t\tconnection.setReadTimeout(20000);\r\n//\r\n//\t\t// Set DoOutput to true if you want to use URLConnection for output.\r\n//\t\t// Default is false\r\n//\t\tconnection.setDoOutput(true);\r\n//\r\n//\t\tconnection.setUseCaches(true);\r\n//\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n//\r\n//\t\t// Set Headers\r\n//\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n//\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n//\t\tconnection.setRequestProperty(&quot;Authorization&quot;, value);\r\n//\t\tconnection.setRequestProperty(&quot;Cookie&quot;, sid);\r\n//\t\t\r\n//\t\t// Write XML\r\n//\t\tOutputStream outputStream = connection.getOutputStream();\r\n//\t\tbyte[] b = request.getBytes(&quot;UTF-8&quot;);\r\n//\t\toutputStream.write(b);\r\n//\t\toutputStream.flush();\r\n//\t\toutputStream.close();\r\n//\r\n//\t\t// Read XML\r\n//\t\tInputStream inputStream = connection.getInputStream();\r\n//\t\tbyte[] res = new byte[2048];\r\n//\t\tint i = 0;\r\n//\t\tStringBuilder response2 = new StringBuilder();\r\n//\t\twhile ((i = inputStream.read(res)) != -1) {\r\n//\t\t\tresponse2.append(new String(res, 0, i));\r\n//\t\t}\r\n//\t\tinputStream.close();\r\n\r\n\t\tSystem.out.println(&quot;Response of metadata= &quot; + output2.toString());\t\t\r\n\t\t\r\n\r\n\t\t\r\n\t\t\r\n\t\t//getMetadata( response.getCookies().get(1).toString(), value);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void getMetadata(String sessionId, String header) throws IOException {\r\n\t\t\r\n\t\tSystem.out.println(&quot;Getting metadata..&quot;);\r\n\t\tSystem.out.println(&quot;SessionID: &quot; + sessionId.split(&quot;;&quot;)[0]);\r\n\t\tSystem.out.println(&quot;Digest Header: &quot; + header);\r\n\t\t\r\n\t\tString sid = sessionId.split(&quot;;&quot;)[0];\r\n\t\tString request = &quot;&lt;Employee&gt;&lt;Name&gt;Sunil&lt;/Name&gt;&lt;/&lt;Employee&gt;&quot;;\r\n\r\n\t\tURL url = new URL(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\r\n\t\tHttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n\r\n\t\t// Set timeout as per needs\r\n\t\tconnection.setConnectTimeout(20000);\r\n\t\tconnection.setReadTimeout(20000);\r\n\r\n\t\t// Set DoOutput to true if you want to use URLConnection for output.\r\n\t\t// Default is false\r\n\t\tconnection.setDoOutput(true);\r\n\r\n\t\tconnection.setUseCaches(true);\r\n\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\r\n\t\t// Set Headers\r\n\t\tconnection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Authorization&quot;, header);\r\n\t\tconnection.setRequestProperty(&quot;Cookie&quot;, sid);\r\n\t\t\r\n\t\t// Write XML\r\n\t\tOutputStream outputStream = connection.getOutputStream();\r\n\t\tbyte[] b = request.getBytes(&quot;UTF-8&quot;);\r\n\t\toutputStream.write(b);\r\n\t\toutputStream.flush();\r\n\t\toutputStream.close();\r\n\r\n\t\t// Read XML\r\n\t\tInputStream inputStream = connection.getInputStream();\r\n\t\tbyte[] res = new byte[2048];\r\n\t\tint i = 0;\r\n\t\tStringBuilder response = new StringBuilder();\r\n\t\twhile ((i = inputStream.read(res)) != -1) {\r\n\t\t\tresponse.append(new String(res, 0, i));\r\n\t\t}\r\n\t\tinputStream.close();\r\n\r\n\t\tSystem.out.println(&quot;Response of metadata= &quot; + response.toString());\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static Map&lt;String,String&gt; prepareParameters(MultivaluedMap&lt;String, String&gt; queryParameters) {\r\n\r\n\t\t   Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\r\n\r\n\t\t   for(String str : queryParameters.keySet()){\r\n\t\t     parameters.put(str, queryParameters.getFirst(str));\r\n\t\t   }\r\n\t\t   return parameters;\r\n\r\n\t\t    }\r\n\t\r\n\t// For generating HA1 value\r\n\tpublic String formHA1(String userName, String realm, String password) {\r\n\t\tString ha1 = DigestUtils.md5Hex(userName + &quot;:&quot; + realm + &quot;:&quot; + password);\r\n\t\treturn ha1;\r\n\t}\r\n\r\n\t// For generating HA2 value\r\n\tpublic String formHA2(String method, String uri) {\r\n\t\tString ha2 = DigestUtils.md5Hex(method + &quot;:&quot; + uri);\r\n\t\treturn ha2;\r\n\t}\r\n\r\n\t// For generating response at client side\r\n\tpublic String generateResponse(String ha1, String nonce, int nonceCount, String clientNonce, String qop,\r\n\t\t\tString ha2) {\r\n\t\tString response = DigestUtils\r\n\t\t\t\t.md5Hex(ha1 + &quot;:&quot; + nonce + &quot;:&quot; + nonceCount + &quot;:&quot; + clientNonce + &quot;:&quot; + qop + &quot;:&quot; + ha2);\r\n\t\treturn response;\r\n\r\n\t}\r\n}\r\n``` \r\n\r\n**Output**\r\n\r\n```\r\n401\r\n{Cache-Control=[private], Server=[Microsoft-IIS/10.0], WWW-Authenticate=[Digest realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, qop=&quot;auth&quot;], X-AspNet-Version=[4.0.30319], Set-Cookie=[ARRAffinity=eb0215f43a7fdf079429ba39da6cd0de66afa6b4085fd1016024d539de9de1b3;Path=/;HttpOnly;Domain=data.crea.ca, ASP.NET_SessionId=y5ylejdp2f5q3siitg410lk5; path=/; HttpOnly; SameSite=Lax], Content-Length=[0], Date=[Thu, 07 Apr 2022 18:24:38 GMT], X-Powered-By=[ASP.NET], Content-Type=[application/xml; charset=utf-8]}\r\nWWW-Authenticate: \t[Digest realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, qop=&quot;auth&quot;]\r\nDigest Header: Digest username=&quot;CXLHfDVrziCfvwgCuL8nUahC&quot;, realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, uri=&quot;/Login.svc/Login&quot;, qop=auth, nc=678, cnonce=&quot;afdjas0&quot;, response=&quot;f7d2445a27173c5e876e3b2833369e64&quot;, opaque=&quot;&quot;\r\n\r\nComplete Response:\r\nGET http://data.crea.ca/Login.svc/Login returned a response status of 200 OK\r\n\r\nResponse header: {RETS-Request-ID=, Cache-Control=private, Server=Microsoft-IIS/10.0, X-AspNet-Version=4.0.30319, Set-Cookie=ARRAffinity=eb0215f43a7fdf079429ba39da6cd0de66afa6b4085fd1016024d539de9de1b3;Path=/;HttpOnly;Domain=data.crea.ca, RETS-Version=RETS/1.7.2, Content-Length=591, Date=Thu, 07 Apr 2022 18:24:38 GMT, X-Powered-By=ASP.NET, Content-Type=text/xml}\r\nCookie: X-SESSIONID=95b7bcc5-6d47-4494-936b-5bfaf3485679;Version=1\r\nGetting metadata..\r\nSessionID: X-SESSIONID=95b7bcc5-6d47-4494-936b-5bfaf3485679\r\nDigest Header: Digest username=&quot;CXLHfDVrziCfvwgCuL8nUahC&quot;, realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, uri=&quot;/Login.svc/Login&quot;, qop=auth, nc=678, cnonce=&quot;afdjas0&quot;, response=&quot;f7d2445a27173c5e876e3b2833369e64&quot;, opaque=&quot;&quot;\r\nMetaDataError: 401\r\nResponse of metadata= \r\n```","title":"Session Control Java - GET Cookie from Request and Pass it to POST request","body":"<p>I am actually stuck in a data fetching API. In its documentation it has been mentioned that I have to make a call to the login API first then using its Authorization header and cookie (returned in Login API response) I have to make subsequent calls (keeping session control).</p>\n<p>The first call is successful and I have received the Cookie i.e. X-SESSIONID and Authorization Header from response Headers. But the subsequent call is returning: <strong>401 Unauthorized</strong> even I am passing session Id and authorization header.</p>\n<p>May be I am doing something wrong in session management or making subsequent call. Can someone help?</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.ws.rs.core.*;\nimport org.apache.commons.codec.digest.*;\nimport org.codehaus.jettison.json.*;\nimport com.sun.jersey.api.*;\nimport com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.config.ClientConfig;\nimport com.sun.jersey.api.client.config.DefaultClientConfig;\n\npublic class DigestClient {\n\n    // Dividing into two parts because we need to send the last part of uri in our\n    // second request to service.\n    static String baseUri = &quot;http://data.crea.ca&quot;;\n    static String subUri = &quot;/Login.svc/Login&quot;;\n\n    public static void main(String[] args) throws JSONException, IOException {\n\n        ClientConfig cc = new DefaultClientConfig();\n        Client client = Client.create(cc);\n\n        WebResource webResource = client.resource(baseUri + subUri);\n        ClientResponse response = webResource.get(ClientResponse.class);\n        // Basically in Digest-Authentication mechanism, we hit the rest service two\n        // times.\n        // First time with No Authentication, which returns some values (qop, nonce,\n        // realm) which are used as inputs in second call to rest service.\n\n        /*--------------- First call-----------------*/\n        // We get 401, Unauthorized\n        System.out.println(response.getStatus() );\n        // Here is the complete header information\n        System.out.println(response.getHeaders());\n        // We need &quot;WWW-Authenticate&quot; part information for our second call to rest\n        System.out.println(&quot;WWW-Authenticate: \\t&quot; + response.getHeaders().get(&quot;www-Authenticate&quot;));\n\n        String noAuthResp = response.getHeaders().get(&quot;www-Authenticate&quot;).toString();\n        noAuthResp = noAuthResp.replace(&quot;Digest &quot;, &quot;&quot;);\n        noAuthResp = noAuthResp.replace('[', '{');\n        noAuthResp = noAuthResp.replace(']', '}');\n\n        // Creating a JSONObject for easy information retrieval\n        JSONObject resp = new JSONObject(noAuthResp);\n\n        /*--------------- Second call-----------------*/\n        // Here client has to set the fields which was returned from the first call\n        String user = &quot;CXLHfDVrziCfvwgCuL8nUahC&quot;; // username\n        String password = &quot;mFqMsCSPdnb5WO1gpEEtDCHH&quot;; // password\n        String realm = resp.getString(&quot;realm&quot;); // realm value from the first rest-call response\n        String qop = resp.getString(&quot;qop&quot;); // qop value from the first rest-call response\n        String nonce = resp.getString(&quot;nonce&quot;); // nonce value from the first rest-call response\n        String opaque = &quot;&quot;;//resp.getString(&quot;opaque&quot;); // Some times if we don't get this value, set it with &quot;&quot;\n        String algorithm = &quot;MD5&quot;; // The algorithm set by the client\n        int nonceCount = 678; // Some numerical input from the client\n        String clientNonce = &quot;afdjas0&quot;; // Some random text from the client for encryption\n\n        String method = &quot;GET&quot;; // HTTP method\n\n        String ha1 = new DigestClient().formHA1(user, realm, password);\n        String ha2 = new DigestClient().formHA2(method, subUri);\n        String responseCode = new DigestClient().generateResponse(ha1, nonce, nonceCount, clientNonce, qop, ha2);\n\n        // Header to be sent to the service\n        String value = &quot;Digest username=\\&quot;&quot; + user + &quot;\\&quot;, realm=\\&quot;&quot; + realm + &quot;\\&quot;, nonce=\\&quot;&quot; + nonce + &quot;\\&quot;, uri=\\&quot;&quot;\n                + subUri + &quot;\\&quot;, qop=&quot; + qop + &quot;, nc=&quot; + nonceCount + &quot;, cnonce=\\&quot;&quot; + clientNonce + &quot;\\&quot;, response=\\&quot;&quot;\n                + responseCode + &quot;\\&quot;, opaque=\\&quot;&quot; + opaque + &quot;\\&quot;&quot;;\n\n        System.out.println(&quot;Digest Header: &quot; + value );\n        \n        // Hitting the service\n        response = webResource.header(&quot;authorization&quot;, value).type(MediaType.TEXT_PLAIN).accept(&quot;*&quot;)\n                .get(ClientResponse.class);\n        System.out.println(&quot;\\nComplete Response:\\n&quot; + response + &quot;\\n&quot;);\n        String output = response.getEntity(String.class);\n        MultivaluedMap&lt;String, String&gt; responseHeaders = response.getHeaders();\n        \n        System.out.println(&quot;Response header: &quot; + prepareParameters(responseHeaders).toString());\n        System.out.println(&quot;Cookie: &quot; +  response.getCookies().get(1).toString());\n    //  System.out.println(&quot;Response Text: &quot; + output);\n        \n    String sessionId = response.getCookies().get(1).toString();\n\n    \n    /****************************SUBSEQUENT CALL (WHERE I AM PASSING SESSION ID AS COOKIE AND AUTHORIZATION HEADER ***************************/\n    \n    \n        System.out.println(&quot;Getting metadata..&quot;);\n        System.out.println(&quot;SessionID: &quot; + sessionId.split(&quot;;&quot;)[0]);\n        System.out.println(&quot;Digest Header: &quot; + value);\n        \n        String sid = sessionId.split(&quot;;&quot;)[0];\n        String request = &quot;&lt;Employee&gt;&lt;Name&gt;Sunil&lt;/Name&gt;&lt;/&lt;Employee&gt;&quot;;\n\n        webResource = client.resource(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\n        ClientResponse response2 = webResource.get(ClientResponse.class);\n        \n        response2 = webResource.header(&quot;authorization&quot;, value).header(&quot;Cookie&quot;, sid).type(MediaType.APPLICATION_XML).accept(&quot;*&quot;)\n                .post(ClientResponse.class, request);\n        \n        if (response2.getStatus() != 200) {\n            System.out.println(&quot;MetaDataError: &quot; + response2.getStatus());\n        }\n        \n        String output2 = response2.getEntity(String.class);\n        \n\n//      \n//      URL url = new URL(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\n//      HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n//\n//      // Set timeout as per needs\n//      connection.setConnectTimeout(20000);\n//      connection.setReadTimeout(20000);\n//\n//      // Set DoOutput to true if you want to use URLConnection for output.\n//      // Default is false\n//      connection.setDoOutput(true);\n//\n//      connection.setUseCaches(true);\n//      connection.setRequestMethod(&quot;POST&quot;);\n//\n//      // Set Headers\n//      connection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\n//      connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n//      connection.setRequestProperty(&quot;Authorization&quot;, value);\n//      connection.setRequestProperty(&quot;Cookie&quot;, sid);\n//      \n//      // Write XML\n//      OutputStream outputStream = connection.getOutputStream();\n//      byte[] b = request.getBytes(&quot;UTF-8&quot;);\n//      outputStream.write(b);\n//      outputStream.flush();\n//      outputStream.close();\n//\n//      // Read XML\n//      InputStream inputStream = connection.getInputStream();\n//      byte[] res = new byte[2048];\n//      int i = 0;\n//      StringBuilder response2 = new StringBuilder();\n//      while ((i = inputStream.read(res)) != -1) {\n//          response2.append(new String(res, 0, i));\n//      }\n//      inputStream.close();\n\n        System.out.println(&quot;Response of metadata= &quot; + output2.toString());      \n        \n\n        \n        \n        //getMetadata( response.getCookies().get(1).toString(), value);\n        \n    }\n\n    public static void getMetadata(String sessionId, String header) throws IOException {\n        \n        System.out.println(&quot;Getting metadata..&quot;);\n        System.out.println(&quot;SessionID: &quot; + sessionId.split(&quot;;&quot;)[0]);\n        System.out.println(&quot;Digest Header: &quot; + header);\n        \n        String sid = sessionId.split(&quot;;&quot;)[0];\n        String request = &quot;&lt;Employee&gt;&lt;Name&gt;Sunil&lt;/Name&gt;&lt;/&lt;Employee&gt;&quot;;\n\n        URL url = new URL(&quot;http://data.crea.ca/Metadata.svc/GetMetadata&quot;);\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n\n        // Set timeout as per needs\n        connection.setConnectTimeout(20000);\n        connection.setReadTimeout(20000);\n\n        // Set DoOutput to true if you want to use URLConnection for output.\n        // Default is false\n        connection.setDoOutput(true);\n\n        connection.setUseCaches(true);\n        connection.setRequestMethod(&quot;POST&quot;);\n\n        // Set Headers\n        connection.setRequestProperty(&quot;Accept&quot;, &quot;application/xml&quot;);\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/xml&quot;);\n        connection.setRequestProperty(&quot;Authorization&quot;, header);\n        connection.setRequestProperty(&quot;Cookie&quot;, sid);\n        \n        // Write XML\n        OutputStream outputStream = connection.getOutputStream();\n        byte[] b = request.getBytes(&quot;UTF-8&quot;);\n        outputStream.write(b);\n        outputStream.flush();\n        outputStream.close();\n\n        // Read XML\n        InputStream inputStream = connection.getInputStream();\n        byte[] res = new byte[2048];\n        int i = 0;\n        StringBuilder response = new StringBuilder();\n        while ((i = inputStream.read(res)) != -1) {\n            response.append(new String(res, 0, i));\n        }\n        inputStream.close();\n\n        System.out.println(&quot;Response of metadata= &quot; + response.toString());     \n        \n    }\n    \n    private static Map&lt;String,String&gt; prepareParameters(MultivaluedMap&lt;String, String&gt; queryParameters) {\n\n           Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\n\n           for(String str : queryParameters.keySet()){\n             parameters.put(str, queryParameters.getFirst(str));\n           }\n           return parameters;\n\n            }\n    \n    // For generating HA1 value\n    public String formHA1(String userName, String realm, String password) {\n        String ha1 = DigestUtils.md5Hex(userName + &quot;:&quot; + realm + &quot;:&quot; + password);\n        return ha1;\n    }\n\n    // For generating HA2 value\n    public String formHA2(String method, String uri) {\n        String ha2 = DigestUtils.md5Hex(method + &quot;:&quot; + uri);\n        return ha2;\n    }\n\n    // For generating response at client side\n    public String generateResponse(String ha1, String nonce, int nonceCount, String clientNonce, String qop,\n            String ha2) {\n        String response = DigestUtils\n                .md5Hex(ha1 + &quot;:&quot; + nonce + &quot;:&quot; + nonceCount + &quot;:&quot; + clientNonce + &quot;:&quot; + qop + &quot;:&quot; + ha2);\n        return response;\n\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>401\n{Cache-Control=[private], Server=[Microsoft-IIS/10.0], WWW-Authenticate=[Digest realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, qop=&quot;auth&quot;], X-AspNet-Version=[4.0.30319], Set-Cookie=[ARRAffinity=eb0215f43a7fdf079429ba39da6cd0de66afa6b4085fd1016024d539de9de1b3;Path=/;HttpOnly;Domain=data.crea.ca, ASP.NET_SessionId=y5ylejdp2f5q3siitg410lk5; path=/; HttpOnly; SameSite=Lax], Content-Length=[0], Date=[Thu, 07 Apr 2022 18:24:38 GMT], X-Powered-By=[ASP.NET], Content-Type=[application/xml; charset=utf-8]}\nWWW-Authenticate:   [Digest realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, qop=&quot;auth&quot;]\nDigest Header: Digest username=&quot;CXLHfDVrziCfvwgCuL8nUahC&quot;, realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, uri=&quot;/Login.svc/Login&quot;, qop=auth, nc=678, cnonce=&quot;afdjas0&quot;, response=&quot;f7d2445a27173c5e876e3b2833369e64&quot;, opaque=&quot;&quot;\n\nComplete Response:\nGET http://data.crea.ca/Login.svc/Login returned a response status of 200 OK\n\nResponse header: {RETS-Request-ID=, Cache-Control=private, Server=Microsoft-IIS/10.0, X-AspNet-Version=4.0.30319, Set-Cookie=ARRAffinity=eb0215f43a7fdf079429ba39da6cd0de66afa6b4085fd1016024d539de9de1b3;Path=/;HttpOnly;Domain=data.crea.ca, RETS-Version=RETS/1.7.2, Content-Length=591, Date=Thu, 07 Apr 2022 18:24:38 GMT, X-Powered-By=ASP.NET, Content-Type=text/xml}\nCookie: X-SESSIONID=95b7bcc5-6d47-4494-936b-5bfaf3485679;Version=1\nGetting metadata..\nSessionID: X-SESSIONID=95b7bcc5-6d47-4494-936b-5bfaf3485679\nDigest Header: Digest username=&quot;CXLHfDVrziCfvwgCuL8nUahC&quot;, realm=&quot;CREA.Distribution&quot;, nonce=&quot;NjM3ODQ5NTI2NzgzNjk6OTRmMjM0NDJlMmVkZGY0MDI1YmE0MzkxNTM5NDhhNmY=&quot;, uri=&quot;/Login.svc/Login&quot;, qop=auth, nc=678, cnonce=&quot;afdjas0&quot;, response=&quot;f7d2445a27173c5e876e3b2833369e64&quot;, opaque=&quot;&quot;\nMetaDataError: 401\nResponse of metadata= \n</code></pre>\n"},{"tags":["python","java","dictionary","hashmap","hashtable"],"comments":[{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":1,"creation_date":1649356443,"post_id":71787237,"comment_id":126861371,"body_markdown":"You will need some sort of search tree. Why don&#39;t you use a HashMap directly?","body":"You will need some sort of search tree. Why don&#39;t you use a HashMap directly?"},{"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"score":0,"creation_date":1649356580,"post_id":71787237,"comment_id":126861414,"body_markdown":"HashMaps do not support primitive types or single objects, searchable by a field. And memory-usage is a bit of an issue for me.","body":"HashMaps do not support primitive types or single objects, searchable by a field. And memory-usage is a bit of an issue for me."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1649357089,"post_id":71787237,"comment_id":126861584,"body_markdown":"It&#39;s not clear what you mean by &quot;single objects,&quot; but if you want collection support for primitive objects, consider a preexisting library like [fastutil](https://fastutil.di.unimi.it/#core).","body":"It&#39;s not clear what you mean by &quot;single objects,&quot; but if you want collection support for primitive objects, consider a preexisting library like <a href=\"https://fastutil.di.unimi.it/#core\" rel=\"nofollow noreferrer\">fastutil</a>."},{"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"score":0,"creation_date":1649357141,"post_id":71787237,"comment_id":126861603,"body_markdown":"Single object as in: HashMap&lt;MyObject&gt;, where the key to the object is a field in the object.","body":"Single object as in: HashMap&lt;MyObject&gt;, where the key to the object is a field in the object."},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1649372988,"post_id":71787237,"comment_id":126865674,"body_markdown":"@LouisWasserman, just curious, will fastutil work with streams?","body":"@LouisWasserman, just curious, will fastutil work with streams?"}],"answers":[{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649356659,"creation_date":1649356659,"answer_id":71787361,"question_id":71787237,"body_markdown":"A Python dict stops probing once it finds an empty, non-&quot;dummy&quot; slot - one that is not holding a key, and is not holding a &quot;dummy&quot; marker that indicates a key was deleted there.\r\n\r\nThe dict implementation ensures that at least one such slot always exists (and usually many more), and the probe sequence is guaranteed to check all slots eventually, so this guarantees termination.","title":"When does a HashTable / Python dict stop probing?","body":"<p>A Python dict stops probing once it finds an empty, non-&quot;dummy&quot; slot - one that is not holding a key, and is not holding a &quot;dummy&quot; marker that indicates a key was deleted there.</p>\n<p>The dict implementation ensures that at least one such slot always exists (and usually many more), and the probe sequence is guaranteed to check all slots eventually, so this guarantees termination.</p>\n"}],"owner":{"account_id":16921593,"reputation":83,"user_id":12238287,"display_name":"Markus B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71787361,"answer_count":1,"score":0,"last_activity_date":1649356659,"creation_date":1649356031,"question_id":71787237,"body_markdown":"In Java I&#39;m building a datastructure that is supposed to resemble dictionaries in Python.\r\n(As far as I understand this is called a &quot;HashTable&quot; in java context.)\r\n\r\nI have read [the following Python documentation][1] in order to arrive at the probing function (as I wished to prevent using linear probing)\r\n\r\nNow I have come to a point where Im trying to retrieve an element from my &quot;dict&quot; that doesn&#39;t exist in its internal array. It seems that my probing function will go in circles endlessly searching for the non-existent element, and i therefor wish to break and return null at some point.\r\n\r\nWhen should I stop probing and return null?\r\n\r\nMy current solution is to count every probe. Once `probeCount &gt; size` I `break`.\r\nThis however, seems like a poor solution as the time complexity to determine that an element is not present would be O(n), n being size of my array.\r\n\r\nThe following in my probing code:\r\n```java\r\npublic Object get(long id) {\r\n\r\n        int count = 0;\r\n\r\n        int hashedIndex = (int) id;\r\n        if (hashedIndex &lt; 0) hashedIndex = -hashedIndex;\r\n        hashedIndex = hashedIndex % size;\r\n        int perturb = hashedIndex;\r\n        while(true) {\r\n            if (nodes[hashedIndex] != null || count &gt; size) {\r\n                if (count &gt; size) {\r\n                    System.out.println(&quot;null&quot;);\r\n                    break;\r\n                }\r\n                if (nodes[hashedIndex].identifier == id) {\r\n                    break;\r\n                }\r\n            }                       \r\n            hashedIndex = (5*hashedIndex + 1 + perturb) % size;\r\n            perturb &gt;&gt;= 5;\r\n            count++;\r\n        }\r\n        return nodes[hashedIndex];\r\n}\r\n```\r\n\r\n\r\n  [1]: https://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c#l33","title":"When does a HashTable / Python dict stop probing?","body":"<p>In Java I'm building a datastructure that is supposed to resemble dictionaries in Python.\n(As far as I understand this is called a &quot;HashTable&quot; in java context.)</p>\n<p>I have read <a href=\"https://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c#l33\" rel=\"nofollow noreferrer\">the following Python documentation</a> in order to arrive at the probing function (as I wished to prevent using linear probing)</p>\n<p>Now I have come to a point where Im trying to retrieve an element from my &quot;dict&quot; that doesn't exist in its internal array. It seems that my probing function will go in circles endlessly searching for the non-existent element, and i therefor wish to break and return null at some point.</p>\n<p>When should I stop probing and return null?</p>\n<p>My current solution is to count every probe. Once <code>probeCount &gt; size</code> I <code>break</code>.\nThis however, seems like a poor solution as the time complexity to determine that an element is not present would be O(n), n being size of my array.</p>\n<p>The following in my probing code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object get(long id) {\n\n        int count = 0;\n\n        int hashedIndex = (int) id;\n        if (hashedIndex &lt; 0) hashedIndex = -hashedIndex;\n        hashedIndex = hashedIndex % size;\n        int perturb = hashedIndex;\n        while(true) {\n            if (nodes[hashedIndex] != null || count &gt; size) {\n                if (count &gt; size) {\n                    System.out.println(&quot;null&quot;);\n                    break;\n                }\n                if (nodes[hashedIndex].identifier == id) {\n                    break;\n                }\n            }                       \n            hashedIndex = (5*hashedIndex + 1 + perturb) % size;\n            perturb &gt;&gt;= 5;\n            count++;\n        }\n        return nodes[hashedIndex];\n}\n</code></pre>\n"},{"tags":["java","wildfly","serviceloader","wildfly-17"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1649360660,"post_id":71787357,"comment_id":126862618,"body_markdown":"Where are your services located? Are they in your WAR or were they installed as a module? Also where is the `ServiceLoader` invoked from?","body":"Where are your services located? Are they in your WAR or were they installed as a module? Also where is the <code>ServiceLoader</code> invoked from?"},{"owner":{"account_id":3741570,"reputation":1,"user_id":3111249,"display_name":"user3111249"},"score":0,"creation_date":1649361000,"post_id":71787357,"comment_id":126862709,"body_markdown":"Services are located inside \n- war/web-inf/lib/jar-file1.jar\n- war/web-inf/lib/jar-file2.jar\n- war/web-inf/lib/jar-file3.jar\n\nServiceLoader is invoked from main application startup thread.","body":"Services are located inside  - war/web-inf/lib/jar-file1.jar - war/web-inf/lib/jar-file2.jar - war/web-inf/lib/jar-file3.jar  ServiceLoader is invoked from main application startup thread."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1649371239,"post_id":71787357,"comment_id":126865351,"body_markdown":"By &quot;main application startup thread&quot; do you mean something like a `@Startup` EJB? I just gave it a test and it seemed to work for me.","body":"By &quot;main application startup thread&quot; do you mean something like a <code>@Startup</code> EJB? I just gave it a test and it seemed to work for me."}],"owner":{"account_id":3741570,"reputation":1,"user_id":3111249,"display_name":"user3111249"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649356639,"creation_date":1649356639,"question_id":71787357,"body_markdown":"```\r\nServiceLoader&lt;ConnectionLoader&gt; serviceLoader = ServiceLoader.load(ConnectionLoader.class);\r\n```\r\n\r\nMy web application has 3 implementations of the ```ConnectionLoader``` service and the above API works perfectly fine on almost all the web application servers except Wildfly-17.0.1.\r\n\r\nWildfly-17.0.1 deployment is failing with the above API returning an empty list. And i am not able to understand why this is happening.\r\n\r\n**My system configuration is:**\r\n- Operating System : RHEL7.6\r\n- MSSQL Server 2019 - 192.168.25.105\r\n- JDK - Oracle JDK 11 \r\n\r\n**Also, I have verified that** - \r\n- Service entries are present and correct inside the META-INF/services\r\n- I can load the class/implementation service using reflection. So it does not seems to be a ClassLoader issue.\r\n- But when I call the ```ServiceLoader.load(ConnectionLoader.class,ConnectionLoader.class.getClassLoader())``` it works perfectly fine.  Even though this works I cannot change the implementation for around 100s of services. And leave the 3rd party dependencies or code blocks in third-party jars. \r\n- This same combination used to work last year (with JDK 1.8) and we have no idea about what&#39;s changed and why this issue is specific to this combination.\r\n\r\n","title":"ServiceLoader is returning empty list for services on Wildfly-17.0.1","body":"<pre><code>ServiceLoader&lt;ConnectionLoader&gt; serviceLoader = ServiceLoader.load(ConnectionLoader.class);\n</code></pre>\n<p>My web application has 3 implementations of the <code>ConnectionLoader</code> service and the above API works perfectly fine on almost all the web application servers except Wildfly-17.0.1.</p>\n<p>Wildfly-17.0.1 deployment is failing with the above API returning an empty list. And i am not able to understand why this is happening.</p>\n<p><strong>My system configuration is:</strong></p>\n<ul>\n<li>Operating System : RHEL7.6</li>\n<li>MSSQL Server 2019 - 192.168.25.105</li>\n<li>JDK - Oracle JDK 11</li>\n</ul>\n<p><strong>Also, I have verified that</strong> -</p>\n<ul>\n<li>Service entries are present and correct inside the META-INF/services</li>\n<li>I can load the class/implementation service using reflection. So it does not seems to be a ClassLoader issue.</li>\n<li>But when I call the <code>ServiceLoader.load(ConnectionLoader.class,ConnectionLoader.class.getClassLoader())</code> it works perfectly fine.  Even though this works I cannot change the implementation for around 100s of services. And leave the 3rd party dependencies or code blocks in third-party jars.</li>\n<li>This same combination used to work last year (with JDK 1.8) and we have no idea about what's changed and why this issue is specific to this combination.</li>\n</ul>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8543,"page":1449,"page_size":100}
