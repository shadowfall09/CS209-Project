{"items":[{"tags":["java","linux","crystal-reports"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585129777,"creation_date":1585129777,"answer_id":60846358,"question_id":60655544,"body_markdown":"It is not supported in Linux, you can check the versions [on this page][1]:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd [will not be supported ever][3], unlikely SAP will develop any new features except patches for the out of sale software.\r\n\r\n\r\n  [1]: https://origin.softwaredownloads.sap.com/public/site/index.html\r\n  [2]: https://i.stack.imgur.com/dyQYt.png\r\n  [3]: https://wiki.scn.sap.com/wiki/display/BOBJ/End+of+SAP+Crystal+Presentation+Design","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>It is not supported in Linux, you can check the versions <a href=\"https://origin.softwaredownloads.sap.com/public/site/index.html\" rel=\"nofollow noreferrer\">on this page</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dyQYt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyQYt.png\" alt=\"enter image description here\"></a></p>\n\n<p>And <a href=\"https://wiki.scn.sap.com/wiki/display/BOBJ/End+of+SAP+Crystal+Presentation+Design\" rel=\"nofollow noreferrer\">will not be supported ever</a>, unlikely SAP will develop any new features except patches for the out of sale software.</p>\n"},{"tags":[],"owner":{"account_id":930126,"reputation":151,"user_id":960147,"display_name":"busitech"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638665689,"creation_date":1638665323,"answer_id":70230695,"question_id":60655544,"body_markdown":"In our tests, this issue does not occur using JDK 8 on Linux.  It begins happening when using JDK 11 and higher.  In JDK 11, Oracle removed the T2K font rasterizer, no longer ships any fonts and relies entirely on fonts installed on the operating system.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/migrate/index.html","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>In our tests, this issue does not occur using JDK 8 on Linux.  It begins happening when using JDK 11 and higher.  In JDK 11, Oracle removed the T2K font rasterizer, no longer ships any fonts and relies entirely on fonts installed on the operating system.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/migrate/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/migrate/index.html</a></p>\n"}],"owner":{"account_id":3714661,"reputation":74,"user_id":3091170,"display_name":"user3091170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685903465,"creation_date":1584021093,"question_id":60655544,"body_markdown":"We are building a web API that calls the SAP Crystal Decisions Library, to generate PDF reports. It works when running on our Windows 10 developer PCs, but when we deploy it inside a Linux Docker image, there is an exception related to libfreetype6 font library. If the library is uninstalled from our Linux image, it complains the library is not installed. If we install the library, either manually with apt-get or by using a docker image that already has it installed we get the following exception:\r\n\r\n&gt; java.lang.NullPointerException: null\r\n    at com.crystaldecisions.reports.exporters.format.page.pdf.fontembedding.opentype.tables.OS2Table.&lt;init&gt;(SourceFile:108) ~[CrystalReportsRuntime.jar!/:12.2.226.3772]```\r\n\r\n\r\nSAP Support claims there is no direct dependency on this library, so I am wondering where to start in troubleshooting this issue. I cannot locate it on my Windows machine either. How can I confirm whether it&#39;s included in the JDK? I have tried Java 10 and Java 11 JREs and JDKs, the error is the same.\r\n\r\nThanks for any ideas.","title":"SAP Crystal Decisions integration does not work on Linux","body":"<p>We are building a web API that calls the SAP Crystal Decisions Library, to generate PDF reports. It works when running on our Windows 10 developer PCs, but when we deploy it inside a Linux Docker image, there is an exception related to libfreetype6 font library. If the library is uninstalled from our Linux image, it complains the library is not installed. If we install the library, either manually with apt-get or by using a docker image that already has it installed we get the following exception:</p>\n<blockquote>\n<p>java.lang.NullPointerException: null\nat com.crystaldecisions.reports.exporters.format.page.pdf.fontembedding.opentype.tables.OS2Table.(SourceFile:108) ~[CrystalReportsRuntime.jar!/:12.2.226.3772]```</p>\n</blockquote>\n<p>SAP Support claims there is no direct dependency on this library, so I am wondering where to start in troubleshooting this issue. I cannot locate it on my Windows machine either. How can I confirm whether it's included in the JDK? I have tried Java 10 and Java 11 JREs and JDKs, the error is the same.</p>\n<p>Thanks for any ideas.</p>\n"},{"tags":["java","network-programming","netty"],"comments":[{"owner":{"account_id":11193344,"reputation":1,"user_id":8212927,"display_name":"SeerBird"},"score":0,"creation_date":1686054955,"post_id":76401866,"comment_id":134744048,"body_markdown":"Added new options, &#39;ChannelOption.IP_MULTICAST_LOOP_DISABLED, true&#39; and &#39;ChannelOption.SO_BROADCAST,true&#39;. According to [source](https://docs.oracle.com/javase/7/docs/technotes/guides/net/socketOpt.html) those are needed, but I cannot test this as I do not have access to two separate devices at the moment","body":"Added new options, &#39;ChannelOption.IP_MULTICAST_LOOP_DISABLED, true&#39; and &#39;ChannelOption.SO_BROADCAST,true&#39;. According to <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/net/socketOpt.html\" rel=\"nofollow noreferrer\">source</a> those are needed, but I cannot test this as I do not have access to two separate devices at the moment"},{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1686206280,"post_id":76401866,"comment_id":134767913,"body_markdown":"Double check java is added to your firewall if you are using Windows. Windows doe snot allow you to receive traffic to a multicast group if the program does not allows incoming connections in the firewall","body":"Double check java is added to your firewall if you are using Windows. Windows doe snot allow you to receive traffic to a multicast group if the program does not allows incoming connections in the firewall"}],"owner":{"account_id":11193344,"reputation":1,"user_id":8212927,"display_name":"SeerBird"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685903423,"creation_date":1685903115,"question_id":76401866,"body_markdown":"I am trying to use netty 4.1 for LAN discovery in a school project I&#39;m doing, where one instance of my program(&quot;server&quot; later) joins a hard-coded multicast group and sends a status `DatagramPacket` to that group every second, and another instance of my program(&quot;client&quot; later) joins that same group and receives those packets. The server does join the group and does send the packets to that group, and I can see those packets in the data capture in WireShark on other devices, but no channelRead events are fired in the client&#39;s `NioDatagramChannel`, unless the server and the client are on the same device.\r\nI couldn&#39;t find any good/recent examples of multicasting with netty, and I can&#39;t come up with a way to approach this.\r\n\r\nHere&#39;s my setup of a multicaster, which is the same for both client and server:\r\n\r\n```\r\n{\r\ngroup = new NioEventLoopGroup();\r\n  try {\r\n      Bootstrap b = new Bootstrap()\r\n              .group(group)\r\n              .channelFactory((ChannelFactory&lt;NioDatagramChannel&gt;) () -&gt; new NioDatagramChannel(InternetProtocolFamily.IPv4))\r\n              .localAddress(Multiplayer.localIp, groupAddress.getPort())\r\n              .option(ChannelOption.IP_MULTICAST_IF, Multiplayer.networkInterface)\r\n              .option(ChannelOption.SO_REUSEADDR, true)\r\n              .handler(new ServerDiscoverer(servers));\r\n      ch = (NioDatagramChannel) b.bind(groupAddress.getPort()).sync().channel();\r\n      ch.joinGroup(groupAddress, Multiplayer.networkInterface).addListener(future -&gt;\r\n              logger.info(&quot;Listening for servers on &quot; + groupAddress.getAddress().getHostAddress() + &#39;:&#39; + groupAddress.getPort()\r\n                      + &quot; on interface &quot; + Multiplayer.networkInterface.getDisplayName())).sync();\r\n      if (isServer) {\r\n          startBroadcast();\r\n      }\r\n      ch.closeFuture().sync().addListener(future -&gt; logger.info(&quot;Closing multicast channel&quot;));\r\n  } catch (InterruptedException e) {\r\n      e.printStackTrace();\r\n  } finally {\r\n      group.shutdownGracefully();\r\n  }      \r\n}\r\n```\r\n`Multiplayer.localIp` should be the ip address assigned to the device by the router, and `Multiplayer.networkInterface` should be an interface that is interacting with the local area. `groupAddress` is the hard-coded multicast address used by my program.\r\nI expected `channelRead0` to fire on the `ServerDiscoverer` instance passed into `.handler()`, but it only does when the server is run on the same machine as the client.\r\nI really hope that there is just a problem with this setup, because otherwise I have absolutely no idea of what to look at next. Basically, my questions are: is there anything obviously wrong with the code above? What problem could cause the `channelRead0` to only trigger if the server and the client are on the same machine?\r\n","title":"Netty Multicasting Setup","body":"<p>I am trying to use netty 4.1 for LAN discovery in a school project I'm doing, where one instance of my program(&quot;server&quot; later) joins a hard-coded multicast group and sends a status <code>DatagramPacket</code> to that group every second, and another instance of my program(&quot;client&quot; later) joins that same group and receives those packets. The server does join the group and does send the packets to that group, and I can see those packets in the data capture in WireShark on other devices, but no channelRead events are fired in the client's <code>NioDatagramChannel</code>, unless the server and the client are on the same device.\nI couldn't find any good/recent examples of multicasting with netty, and I can't come up with a way to approach this.</p>\n<p>Here's my setup of a multicaster, which is the same for both client and server:</p>\n<pre><code>{\ngroup = new NioEventLoopGroup();\n  try {\n      Bootstrap b = new Bootstrap()\n              .group(group)\n              .channelFactory((ChannelFactory&lt;NioDatagramChannel&gt;) () -&gt; new NioDatagramChannel(InternetProtocolFamily.IPv4))\n              .localAddress(Multiplayer.localIp, groupAddress.getPort())\n              .option(ChannelOption.IP_MULTICAST_IF, Multiplayer.networkInterface)\n              .option(ChannelOption.SO_REUSEADDR, true)\n              .handler(new ServerDiscoverer(servers));\n      ch = (NioDatagramChannel) b.bind(groupAddress.getPort()).sync().channel();\n      ch.joinGroup(groupAddress, Multiplayer.networkInterface).addListener(future -&gt;\n              logger.info(&quot;Listening for servers on &quot; + groupAddress.getAddress().getHostAddress() + ':' + groupAddress.getPort()\n                      + &quot; on interface &quot; + Multiplayer.networkInterface.getDisplayName())).sync();\n      if (isServer) {\n          startBroadcast();\n      }\n      ch.closeFuture().sync().addListener(future -&gt; logger.info(&quot;Closing multicast channel&quot;));\n  } catch (InterruptedException e) {\n      e.printStackTrace();\n  } finally {\n      group.shutdownGracefully();\n  }      \n}\n</code></pre>\n<p><code>Multiplayer.localIp</code> should be the ip address assigned to the device by the router, and <code>Multiplayer.networkInterface</code> should be an interface that is interacting with the local area. <code>groupAddress</code> is the hard-coded multicast address used by my program.\nI expected <code>channelRead0</code> to fire on the <code>ServerDiscoverer</code> instance passed into <code>.handler()</code>, but it only does when the server is run on the same machine as the client.\nI really hope that there is just a problem with this setup, because otherwise I have absolutely no idea of what to look at next. Basically, my questions are: is there anything obviously wrong with the code above? What problem could cause the <code>channelRead0</code> to only trigger if the server and the client are on the same machine?</p>\n"},{"tags":["java","android","android-source","custom-rom"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1685902283,"post_id":76398018,"comment_id":134722483,"body_markdown":"The warning is fine. You would need to share more details here, what android version it is? Did you sign the app with the platform key? Does it have all the pemissions?","body":"The warning is fine. You would need to share more details here, what android version it is? Did you sign the app with the platform key? Does it have all the pemissions?"},{"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"score":0,"creation_date":1685903143,"post_id":76398018,"comment_id":134722600,"body_markdown":"I&#39;ve added the info Rajat :)","body":"I&#39;ve added the info Rajat :)"}],"owner":{"account_id":8057643,"reputation":4920,"user_id":6074224,"accept_rate":60,"display_name":"Biscuit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685903133,"creation_date":1685825846,"question_id":76398018,"body_markdown":"My usecase is really simple, I want to create a system app which starts a Service. (I&#39;m new to custom-rom development)\r\n\r\nTo do so I&#39;ve added: `android:sharedUserId=&quot;android.uid.system&quot;` in my AndroidManifest.xml. As of now I&#39;m still using an official Android version in my emulator (which is probably why I&#39;m getting this issue)\r\n\r\nI start my service with:\r\n```java\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) context.startForegroundService(service);\r\nelse context.startService(service);\r\n```\r\nUnfortunately the service doesn&#39;t start and I get the following error:\r\n```xml\r\nCalling a method in the system process without a qualified user: \r\nandroid.app.ContextImpl.startForegroundService:1466 \r\nandroid.content.ContextWrapper.startForegroundService:649\r\n```\r\n\r\n---\r\nEDIT: When looking to the source file the warn comes from the [`startForegroundService`](https://android.googlesource.com/platform/frameworks/base/+/b267554/core/java/android/app/ContextImpl.java#1393) which does:\r\n```java\r\n@Override\r\npublic ComponentName startService(Intent service) {\r\n    warnIfCallingFromSystemProcess();\r\n    return startServiceAsUser(service, mUser);\r\n}\r\n```\r\n\r\n---\r\nEDIT2: After some more investigation, I think the issue comes from \r\n```xml\r\ntype=1400 audit(0.0:31): avc: denied { create } for name=&quot;mgmtsocket&quot; scontext=u:r:system_app:s0 tcontext=u:object_r:system_app_data_file:s0 tclass=sock_file permissive=0\r\n```\r\n---\r\nEDIT3: More informations:\r\n- I&#39;m testing against a rooted emulator which runs on Android 8 API 26 (official version)\r\n- I&#39;ve signed my app using the AOSP key from [this](https://github.com/aosp-mirror/platform_build/blob/master/target/product/security/) and using the following command line `apksigner sign --key platform.pk8 --cert platform.x509.pem filename.apk`\r\n- Concerning my permissions and service I have:\r\n```xml\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\r\n&lt;service\r\n    android:name=&quot;.MyService&quot;\r\n    android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\r\n    android:exported=&quot;false&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/service&gt;\r\n``` ","title":"Start service from system app in a custom rom","body":"<p>My usecase is really simple, I want to create a system app which starts a Service. (I'm new to custom-rom development)</p>\n<p>To do so I've added: <code>android:sharedUserId=&quot;android.uid.system&quot;</code> in my AndroidManifest.xml. As of now I'm still using an official Android version in my emulator (which is probably why I'm getting this issue)</p>\n<p>I start my service with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) context.startForegroundService(service);\nelse context.startService(service);\n</code></pre>\n<p>Unfortunately the service doesn't start and I get the following error:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>Calling a method in the system process without a qualified user: \nandroid.app.ContextImpl.startForegroundService:1466 \nandroid.content.ContextWrapper.startForegroundService:649\n</code></pre>\n<hr />\n<p>EDIT: When looking to the source file the warn comes from the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/b267554/core/java/android/app/ContextImpl.java#1393\" rel=\"nofollow noreferrer\"><code>startForegroundService</code></a> which does:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ComponentName startService(Intent service) {\n    warnIfCallingFromSystemProcess();\n    return startServiceAsUser(service, mUser);\n}\n</code></pre>\n<hr />\n<p>EDIT2: After some more investigation, I think the issue comes from</p>\n<pre class=\"lang-xml prettyprint-override\"><code>type=1400 audit(0.0:31): avc: denied { create } for name=&quot;mgmtsocket&quot; scontext=u:r:system_app:s0 tcontext=u:object_r:system_app_data_file:s0 tclass=sock_file permissive=0\n</code></pre>\n<hr />\n<p>EDIT3: More informations:</p>\n<ul>\n<li>I'm testing against a rooted emulator which runs on Android 8 API 26 (official version)</li>\n<li>I've signed my app using the AOSP key from <a href=\"https://github.com/aosp-mirror/platform_build/blob/master/target/product/security/\" rel=\"nofollow noreferrer\">this</a> and using the following command line <code>apksigner sign --key platform.pk8 --cert platform.x509.pem filename.apk</code></li>\n<li>Concerning my permissions and service I have:</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n\n&lt;service\n    android:name=&quot;.MyService&quot;\n    android:permission=&quot;android.permission.BIND_VPN_SERVICE&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.net.VpnService&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":["java","json","apache-nifi","execute-script"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1685373295,"post_id":76356706,"comment_id":134647875,"body_markdown":"What happened to 617? Do the 0-s and 1-s matter somewhere?","body":"What happened to 617? Do the 0-s and 1-s matter somewhere?"},{"owner":{"account_id":28605833,"reputation":35,"user_id":21901800,"display_name":"dash"},"score":0,"creation_date":1685379306,"post_id":76356706,"comment_id":134648802,"body_markdown":"No they dont, but data is like this only, So I have to ignore the 0&#39;s and 1&#39;s. And I forgot to add for 617, it goes same as of other indexe values.","body":"No they dont, but data is like this only, So I have to ignore the 0&#39;s and 1&#39;s. And I forgot to add for 617, it goes same as of other indexe values."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685898725,"creation_date":1685898725,"answer_id":76401542,"question_id":76356706,"body_markdown":"You may try library _Josson &amp; Jossons_ to transform and join the two datasets.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\n__Deserialize, Transform and Join__\r\n\r\nLeft join `&lt;=&lt;` two transformed datasets with matching `key`.\r\n\r\n    Josson response = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,&quot; +\r\n        &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [617, 1], [620, 0], [470 ,1]]&quot; +\r\n        &quot;}&quot;);\r\n    Josson jsonData = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,&quot; +\r\n        &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = new Jossons()\r\n        .putDataset(&quot;response&quot;, response)\r\n        .putDataset(&quot;jsonData&quot;, jsonData)\r\n        .evaluateQuery(&quot;response-&gt;data@.[0].map(Emp_Id:?,key:&#39;All&#39;){key} &lt;=&lt; jsonData-&gt;field(key:Emp_Id,Emp_Id:){key}&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;Emp_Id&quot; : 123,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 124,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 446,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 617,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 620,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 470,\r\n      &quot;key&quot; : &quot;All&quot;,\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\r\n    } ]\r\n\r\n---\r\n__Demonstrate the transformation of `response`__\r\n\r\nDivert each `data` element to separate branches.  For each branch, get the first array element and then build an object with element `Emp_Id` and `key`.\r\n\r\n    JsonNode node = response.getNode(&quot;data@.[0].map(Emp_Id:?,key:&#39;All&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    [ {\r\n      &quot;Emp_Id&quot; : 123,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 124,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 446,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 617,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 620,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }, {\r\n      &quot;Emp_Id&quot; : 470,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    } ]\r\n\r\n__Demonstrate the transformation of `jsonData`__\r\n\r\nAdd an element `key` with the value of `Emp_Id` and then remove `Emp_Id`.\r\n\r\n    JsonNode node = jsonData.getNode(&quot;field(key:Emp_Id,Emp_Id:)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n__Output__\r\n\r\n    {\r\n      &quot;Emp_loc&quot; : &quot;523&quot;,\r\n      &quot;Emp_dept&quot; : &quot;Management&quot;,\r\n      &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\r\n      &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;,\r\n      &quot;key&quot; : &quot;All&quot;\r\n    }\r\n\r\n","title":"How can I replace a value in json data in Java?","body":"<p>You may try library <em>Josson &amp; Jossons</em> to transform and join the two datasets.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p><strong>Deserialize, Transform and Join</strong></p>\n<p>Left join <code>&lt;=&lt;</code> two transformed datasets with matching <code>key</code>.</p>\n<pre><code>Josson response = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,&quot; +\n    &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [617, 1], [620, 0], [470 ,1]]&quot; +\n    &quot;}&quot;);\nJosson jsonData = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,&quot; +\n    &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;&quot; +\n    &quot;}&quot;);\nJsonNode node = new Jossons()\n    .putDataset(&quot;response&quot;, response)\n    .putDataset(&quot;jsonData&quot;, jsonData)\n    .evaluateQuery(&quot;response-&gt;data@.[0].map(Emp_Id:?,key:'All'){key} &lt;=&lt; jsonData-&gt;field(key:Emp_Id,Emp_Id:){key}&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;Emp_Id&quot; : 123,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 124,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 446,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 617,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 620,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n}, {\n  &quot;Emp_Id&quot; : 470,\n  &quot;key&quot; : &quot;All&quot;,\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;\n} ]\n</code></pre>\n<hr />\n<p><strong>Demonstrate the transformation of <code>response</code></strong></p>\n<p>Divert each <code>data</code> element to separate branches.  For each branch, get the first array element and then build an object with element <code>Emp_Id</code> and <code>key</code>.</p>\n<pre><code>JsonNode node = response.getNode(&quot;data@.[0].map(Emp_Id:?,key:'All')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[ {\n  &quot;Emp_Id&quot; : 123,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 124,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 446,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 617,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 620,\n  &quot;key&quot; : &quot;All&quot;\n}, {\n  &quot;Emp_Id&quot; : 470,\n  &quot;key&quot; : &quot;All&quot;\n} ]\n</code></pre>\n<p><strong>Demonstrate the transformation of <code>jsonData</code></strong></p>\n<p>Add an element <code>key</code> with the value of <code>Emp_Id</code> and then remove <code>Emp_Id</code>.</p>\n<pre><code>JsonNode node = jsonData.getNode(&quot;field(key:Emp_Id,Emp_Id:)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>{\n  &quot;Emp_loc&quot; : &quot;523&quot;,\n  &quot;Emp_dept&quot; : &quot;Management&quot;,\n  &quot;Emp_sub_dept&quot; : &quot;Finance&quot;,\n  &quot;Emp_sub_dept2&quot; : &quot;Accountant&quot;,\n  &quot;key&quot; : &quot;All&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28750997,"reputation":21,"user_id":22019110,"display_name":"Yogendra Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685902930,"creation_date":1685902930,"answer_id":76401854,"question_id":76356706,"body_markdown":"You can try converting it to JSONObject and then replace it with the desired values. \r\n1. Parse response String to simple.JSONObject\r\n2. get the data value out of it \r\n3. convert it to list of only first value of data.\r\n4. loop through the list and replace the jsonData&#39;s emp_id with new value.\r\n\r\n```\r\nString response = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\t\tString jsonData = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tJSONObject respObj = (JSONObject)parser.parse(response);\r\n\t\tList&lt;JSONArray&gt; numberList = (List)respObj.get(&quot;data&quot;);\r\n\t\tList&lt;Long&gt; replacableNumberList = numberList.stream().map(jsonArray -&gt; (Long)jsonArray.get(0))\r\n\t\t\t    .collect(Collectors.toList());\r\n\t\t\r\n\t\t\r\n\t\tList&lt;JSONObject&gt; outputList = new ArrayList&lt;&gt;();\r\n\t\tfor (Long integer : replacableNumberList) {\r\n\t\t\t//if parsing before loop then dont forget to create new object before adding in the list\r\n\t\t\tJSONObject jsonObj = (JSONObject)parser.parse(jsonData);\r\n\t\t\tjsonObj.put(&quot;Emp_Id&quot;, integer);\r\n\t\t\toutputList.add(jsonObj);\r\n\t\t}\r\n\t\toutputList.forEach(System.out::println);\r\n```","title":"How can I replace a value in json data in Java?","body":"<p>You can try converting it to JSONObject and then replace it with the desired values.</p>\n<ol>\n<li>Parse response String to simple.JSONObject</li>\n<li>get the data value out of it</li>\n<li>convert it to list of only first value of data.</li>\n<li>loop through the list and replace the jsonData's emp_id with new value.</li>\n</ol>\n<pre><code>String response = &quot;{\\r\\n&quot;\n                + &quot;    \\&quot;status\\&quot;: \\&quot;success\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;data\\&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\\r\\n&quot;\n                + &quot;}&quot;;\n        String jsonData = &quot;{\\r\\n&quot;\n                + &quot;    \\&quot;Emp_Id\\&quot;: \\&quot;All\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_loc\\&quot;: \\&quot;523\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_dept\\&quot;: \\&quot;Management\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_sub_dept\\&quot;: \\&quot;Finance\\&quot;,\\r\\n&quot;\n                + &quot;    \\&quot;Emp_sub_dept2\\&quot;: \\&quot;Accountant\\&quot;\\r\\n&quot;\n                + &quot;}&quot;;\n        JSONParser parser = new JSONParser();\n        JSONObject respObj = (JSONObject)parser.parse(response);\n        List&lt;JSONArray&gt; numberList = (List)respObj.get(&quot;data&quot;);\n        List&lt;Long&gt; replacableNumberList = numberList.stream().map(jsonArray -&gt; (Long)jsonArray.get(0))\n                .collect(Collectors.toList());\n        \n        \n        List&lt;JSONObject&gt; outputList = new ArrayList&lt;&gt;();\n        for (Long integer : replacableNumberList) {\n            //if parsing before loop then dont forget to create new object before adding in the list\n            JSONObject jsonObj = (JSONObject)parser.parse(jsonData);\n            jsonObj.put(&quot;Emp_Id&quot;, integer);\n            outputList.add(jsonObj);\n        }\n        outputList.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":28605833,"reputation":35,"user_id":21901800,"display_name":"dash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685902930,"creation_date":1685357499,"question_id":76356706,"body_markdown":"I am trying to replace API Data with &quot;All&quot; in Emp_Id field in data in json. And then make rows with every data of API. \r\nI tried in ecmascript but I need in Java as this map function is giving error in nifi. \r\n\r\nAPI DATA: I have stored this data in &quot;Response&quot; attribute in ExtractText in Apache Nifi.\r\n\r\n```\r\nresponse \r\n{\r\n    &quot;status&quot;: &quot;success&quot;,\r\n    &quot;data&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\r\n};\r\n\r\njsonData\r\n{\r\n    &quot;Emp_Id&quot;: &quot;All&quot;,\r\n    &quot;Emp_loc&quot;: &quot;523&quot;,\r\n    &quot;Emp_dept&quot;: &quot;Management&quot;,\r\n    &quot;Emp_sub_dept&quot;: &quot;Finance&quot;,\r\n    &quot;Emp_sub_dept2&quot;: &quot;Accountant&quot;\r\n};\r\n```\r\nExpected Result\r\n```\r\n[\r\n{\r\n&quot;Emp_Id&quot;:&quot;123&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;124&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;446&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;620&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n},\r\n{\r\n&quot;Emp_Id&quot;:&quot;470&quot;,\r\n&quot;Emp_loc&quot;:&quot;523&quot;,\r\n&quot;Emp_dept&quot;:&quot;Management&quot;,\r\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\r\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\r\n}\r\n]\r\n```\r\n\r\nThis is tried in ecmaScript but I want it to be in Java because these functions are not working in executeScript of NIFI and giving error.&quot;java.lang.assertionError: geberating bytecode&quot;. Or if any other approach for converting this data.\r\n\r\nthis is the script I tried\r\n\r\n```\r\nvar InputStreamCallback = Java.type(&quot;org.apache.nifi.processor.io.InputStreamCallback&quot;)\r\nvar IOUtils = Java.type(&quot;org.apache.commons.io.IOUtils&quot;);\r\nvar OutputStreamCallback =  Java.type(&quot;org.apache.nifi.processor.io.OutputStreamCallback&quot;);\r\nvar StandardCharsets = Java.type(&quot;java.nio.charset.StandardCharsets&quot;);\r\nvar Set = Java.type(&quot;java.util.HashSet&quot;);\r\nvar Map = Java.type(&quot;java.util.HashMap&quot;);\r\nvar String = Java.type(&quot;java.lang.String&quot;);\r\n\r\nvar flowFile = session.get();\r\n\t\r\nif (flowFile != null) {  \r\n    var text = &#39;&#39;\r\n    session.read(flowFile,\r\n    new InputStreamCallback(function (inputStream) {\r\n    text = IOUtils.toString(inputStream, StandardCharsets.UTF_8);             \r\n}));\r\n\r\nvar s3Data ={}\r\nvar apiResponse={}\r\nvar map = new Map();\r\n\t\r\nvar s3Data = JSON.parse(flowFile.getAttribute(&#39;jsonData&#39;))\r\nvar apiResponse = JSON.parse(flowFile.getAttribute(&#39;response&#39;))\r\n\r\nvar result = apiResponse.data.map(([id]) =&gt;\r\nObject.fromEntries(Object.entries(s3Data).map(([k, v]) =&gt;\r\n[k, v === &quot;All&quot; ? id : v]\r\n))\r\n);\t\r\nflowFile = session.write(flowFile,\r\n    new OutputStreamCallback(function(outputStream) {\r\n    outputStream.write(JSON.stringify(result).getBytes(StandardCharsets.UTF_8))\r\n})\r\n);\r\n}\r\n```\r\nI tried with groovy also but I have very less knowledge of Groovy so I couldn&#39;t write the proper ExecuteScript.","title":"How can I replace a value in json data in Java?","body":"<p>I am trying to replace API Data with &quot;All&quot; in Emp_Id field in data in json. And then make rows with every data of API.\nI tried in ecmascript but I need in Java as this map function is giving error in nifi.</p>\n<p>API DATA: I have stored this data in &quot;Response&quot; attribute in ExtractText in Apache Nifi.</p>\n<pre><code>response \n{\n    &quot;status&quot;: &quot;success&quot;,\n    &quot;data&quot;: [[123, 0], [124, 0], [446, 0], [620, 0], [470 ,1]]\n};\n\njsonData\n{\n    &quot;Emp_Id&quot;: &quot;All&quot;,\n    &quot;Emp_loc&quot;: &quot;523&quot;,\n    &quot;Emp_dept&quot;: &quot;Management&quot;,\n    &quot;Emp_sub_dept&quot;: &quot;Finance&quot;,\n    &quot;Emp_sub_dept2&quot;: &quot;Accountant&quot;\n};\n</code></pre>\n<p>Expected Result</p>\n<pre><code>[\n{\n&quot;Emp_Id&quot;:&quot;123&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;124&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;446&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;620&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n},\n{\n&quot;Emp_Id&quot;:&quot;470&quot;,\n&quot;Emp_loc&quot;:&quot;523&quot;,\n&quot;Emp_dept&quot;:&quot;Management&quot;,\n&quot;Emp_sub_dept&quot;:&quot;Finance&quot;,\n&quot;Emp_sub_dept2&quot;:&quot;Accountant&quot;\n}\n]\n</code></pre>\n<p>This is tried in ecmaScript but I want it to be in Java because these functions are not working in executeScript of NIFI and giving error.&quot;java.lang.assertionError: geberating bytecode&quot;. Or if any other approach for converting this data.</p>\n<p>this is the script I tried</p>\n<pre><code>var InputStreamCallback = Java.type(&quot;org.apache.nifi.processor.io.InputStreamCallback&quot;)\nvar IOUtils = Java.type(&quot;org.apache.commons.io.IOUtils&quot;);\nvar OutputStreamCallback =  Java.type(&quot;org.apache.nifi.processor.io.OutputStreamCallback&quot;);\nvar StandardCharsets = Java.type(&quot;java.nio.charset.StandardCharsets&quot;);\nvar Set = Java.type(&quot;java.util.HashSet&quot;);\nvar Map = Java.type(&quot;java.util.HashMap&quot;);\nvar String = Java.type(&quot;java.lang.String&quot;);\n\nvar flowFile = session.get();\n    \nif (flowFile != null) {  \n    var text = ''\n    session.read(flowFile,\n    new InputStreamCallback(function (inputStream) {\n    text = IOUtils.toString(inputStream, StandardCharsets.UTF_8);             \n}));\n\nvar s3Data ={}\nvar apiResponse={}\nvar map = new Map();\n    \nvar s3Data = JSON.parse(flowFile.getAttribute('jsonData'))\nvar apiResponse = JSON.parse(flowFile.getAttribute('response'))\n\nvar result = apiResponse.data.map(([id]) =&gt;\nObject.fromEntries(Object.entries(s3Data).map(([k, v]) =&gt;\n[k, v === &quot;All&quot; ? id : v]\n))\n);  \nflowFile = session.write(flowFile,\n    new OutputStreamCallback(function(outputStream) {\n    outputStream.write(JSON.stringify(result).getBytes(StandardCharsets.UTF_8))\n})\n);\n}\n</code></pre>\n<p>I tried with groovy also but I have very less knowledge of Groovy so I couldn't write the proper ExecuteScript.</p>\n"},{"tags":["java","android","webview","scroll"],"comments":[{"owner":{"account_id":1411911,"reputation":3044,"user_id":1338333,"accept_rate":70,"display_name":"Dejan"},"score":0,"creation_date":1388774220,"post_id":20910405,"comment_id":31390298,"body_markdown":"Maybe add ScrollView to be its parent?","body":"Maybe add ScrollView to be its parent?"},{"owner":{"account_id":3030530,"reputation":179,"user_id":2569655,"accept_rate":100,"display_name":"saopayne"},"score":0,"creation_date":1388774498,"post_id":20910405,"comment_id":31390442,"body_markdown":"Put webView into a linear layout and set orientation to vertical, Scrolling will be enabled.","body":"Put webView into a linear layout and set orientation to vertical, Scrolling will be enabled."},{"owner":{"account_id":3275558,"reputation":2866,"user_id":2757729,"accept_rate":67,"display_name":"Nathaniel D. Waggoner"},"score":0,"creation_date":1388774582,"post_id":20910405,"comment_id":31390489,"body_markdown":"possible duplicate of [Android WebView Scrollable](http://stackoverflow.com/questions/6253444/android-webview-scrollable)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/6253444/android-webview-scrollable\">Android WebView Scrollable</a>"},{"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"score":0,"creation_date":1388777840,"post_id":20910405,"comment_id":31392265,"body_markdown":"None of them helped :(","body":"None of them helped :("}],"answers":[{"comments":[{"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"score":0,"creation_date":1388777801,"post_id":20910600,"comment_id":31392248,"body_markdown":"Didn&#39;t help, still the same result :(","body":"Didn&#39;t help, still the same result :("},{"owner":{"account_id":3275558,"reputation":2866,"user_id":2757729,"accept_rate":67,"display_name":"Nathaniel D. Waggoner"},"score":0,"creation_date":1388778117,"post_id":20910600,"comment_id":31392427,"body_markdown":"Also see the docs:\n\nhttp://developer.android.com/reference/android/webkit/WebView.html","body":"Also see the docs:  <a href=\"http://developer.android.com/reference/android/webkit/WebView.html\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/webkit/WebView.html</a>"},{"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"score":0,"creation_date":1388780982,"post_id":20910600,"comment_id":31393898,"body_markdown":"makes sense, but i still can&#39;t scroll","body":"makes sense, but i still can&#39;t scroll"}],"tags":[],"owner":{"account_id":3275558,"reputation":2866,"user_id":2757729,"accept_rate":67,"display_name":"Nathaniel D. Waggoner"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388778013,"creation_date":1388774666,"answer_id":20910600,"question_id":20910405,"body_markdown":"I&#39;ve posted this as a comment as I think this may be a duplicate, but I would look at this question:\r\n\r\nhttps://stackoverflow.com/questions/6253444/android-webview-scrollable\r\n\r\nWhich provides a few calls which I believe will solve this issue.\r\n\r\nAnother issue:\r\n\r\nTry changing your webview from &quot;Wrap Content&quot; to some specific height.  Then set the scrollables.\r\n\r\nTry something like 300dp and go from there.","title":"Android WebView isn&#39;t scrollable","body":"<p>I've posted this as a comment as I think this may be a duplicate, but I would look at this question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6253444/android-webview-scrollable\">Android WebView Scrollable</a></p>\n\n<p>Which provides a few calls which I believe will solve this issue.</p>\n\n<p>Another issue:</p>\n\n<p>Try changing your webview from \"Wrap Content\" to some specific height.  Then set the scrollables.</p>\n\n<p>Try something like 300dp and go from there.</p>\n"},{"comments":[{"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"score":3,"creation_date":1388780967,"post_id":20911794,"comment_id":31393886,"body_markdown":"sounds logical, but also doesn&#39;t help, i still can&#39;t move it around","body":"sounds logical, but also doesn&#39;t help, i still can&#39;t move it around"}],"tags":[],"owner":{"account_id":417488,"reputation":36086,"user_id":793522,"accept_rate":83,"display_name":"kabuko"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1388779438,"creation_date":1388779438,"answer_id":20911794,"question_id":20910405,"body_markdown":"Don&#39;t use `wrap_content` for your height. If your `WebView` has the same height as its content, then there&#39;s never anything to scroll as obviously the content all fits by definition (though given you&#39;re loading content dynamically this may not be *exactly* what&#39;s happening). Try setting the height to `match_parent` or a fixed value.","title":"Android WebView isn&#39;t scrollable","body":"<p>Don't use <code>wrap_content</code> for your height. If your <code>WebView</code> has the same height as its content, then there's never anything to scroll as obviously the content all fits by definition (though given you're loading content dynamically this may not be <em>exactly</em> what's happening). Try setting the height to <code>match_parent</code> or a fixed value.</p>\n"},{"comments":[{"owner":{"account_id":3983929,"reputation":2521,"user_id":3285138,"accept_rate":78,"display_name":"goelakash"},"score":1,"creation_date":1461676932,"post_id":34972186,"comment_id":61299522,"body_markdown":"Exactly what the answer should be. Thanks!","body":"Exactly what the answer should be. Thanks!"}],"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453609308,"creation_date":1453609308,"answer_id":34972186,"question_id":20910405,"body_markdown":"I have found a solution for this, All you need is to put WebView definition in &quot;\r\n\r\n&gt; layout/content_my.xml\r\n\r\n&quot; not in &quot;activity_my.xml&quot;\r\n\r\n    &lt;WebView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_alignParentStart=&quot;true&quot; /&gt;\r\n\r\nAnd  inside the MyActivity.java\r\n\r\n        WebView webview = (WebView)findViewById(R.id.webView);\r\n        webview.loadUrl(&quot;file:///android_asset/index.html&quot;);\r\n        webview.setVerticalScrollBarEnabled(true);\r\n        webview.setHorizontalScrollBarEnabled(true);","title":"Android WebView isn&#39;t scrollable","body":"<p>I have found a solution for this, All you need is to put WebView definition in \"</p>\n\n<blockquote>\n  <p>layout/content_my.xml</p>\n</blockquote>\n\n<p>\" not in \"activity_my.xml\"</p>\n\n<pre><code>&lt;WebView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/webView\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\" /&gt;\n</code></pre>\n\n<p>And  inside the MyActivity.java</p>\n\n<pre><code>    WebView webview = (WebView)findViewById(R.id.webView);\n    webview.loadUrl(\"file:///android_asset/index.html\");\n    webview.setVerticalScrollBarEnabled(true);\n    webview.setHorizontalScrollBarEnabled(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6199408,"reputation":21,"user_id":5149156,"display_name":"Matthias Huber"},"score":0,"creation_date":1531237593,"post_id":37502835,"comment_id":89517118,"body_markdown":"possibly you have to use:      `webview.getSettings().setBuiltInZoomControls(true);` and i also used `setContentView(webview);`","body":"possibly you have to use:      <code>webview.getSettings().setBuiltInZoomControls(true);</code> and i also used <code>setContentView(webview);</code>"}],"tags":[],"owner":{"account_id":6199408,"reputation":21,"user_id":5149156,"display_name":"Matthias Huber"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464507766,"creation_date":1464462281,"answer_id":37502835,"question_id":20910405,"body_markdown":"I had some other elements in my relative layout, which I switched to invisible. This made my webview not scrollable. My solution was:\r\n \r\n    relativelayout.removeallchilds();\r\n    relativelayout.addchild(webview);\r\n    relativelayout.addchild(overlaybutton);","title":"Android WebView isn&#39;t scrollable","body":"<p>I had some other elements in my relative layout, which I switched to invisible. This made my webview not scrollable. My solution was:</p>\n\n<pre><code>relativelayout.removeallchilds();\nrelativelayout.addchild(webview);\nrelativelayout.addchild(overlaybutton);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":260365,"reputation":9128,"user_id":543873,"accept_rate":72,"display_name":"Michael"},"score":0,"creation_date":1506214700,"post_id":43580729,"comment_id":79729180,"body_markdown":"these require API level 11. i&#39;m seeing this issue on API level 10.","body":"these require API level 11. i&#39;m seeing this issue on API level 10."}],"tags":[],"owner":{"account_id":7869346,"reputation":9,"user_id":5947197,"display_name":"Abhishek Choudhary Khatkar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1493013454,"creation_date":1493013454,"answer_id":43580729,"question_id":20910405,"body_markdown":"Hey I had the Same Problem with webview. It was not scrolling even with the match_parent attribute and very simple code.\r\n\r\nThe problem is not in your xml file. Its in your Java file.\r\nIn java file of that activity Override onPause AND onResume methods and iclude this code\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        browser.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        browser.onPause();\r\n    }\r\n\r\nIt is very important that you Pause your WebView AND then Resume it again.\r\nHope that will solve your problem.","title":"Android WebView isn&#39;t scrollable","body":"<p>Hey I had the Same Problem with webview. It was not scrolling even with the match_parent attribute and very simple code.</p>\n\n<p>The problem is not in your xml file. Its in your Java file.\nIn java file of that activity Override onPause AND onResume methods and iclude this code</p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    browser.onResume();\n}\n\n@Override\nprotected void onPause() {\n    super.onPause();\n    browser.onPause();\n}\n</code></pre>\n\n<p>It is very important that you Pause your WebView AND then Resume it again.\nHope that will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":5623861,"reputation":74,"user_id":4452860,"display_name":"Yashaswi Bharadwaj"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1528437235,"creation_date":1528437235,"answer_id":50754173,"question_id":20910405,"body_markdown":"add this line and it will start working\r\n\r\n    webview.getSettings().setJavaScriptEnabled(true);\r\n\r\nHope, this solves your problem?","title":"Android WebView isn&#39;t scrollable","body":"<p>add this line and it will start working</p>\n\n<pre><code>webview.getSettings().setJavaScriptEnabled(true);\n</code></pre>\n\n<p>Hope, this solves your problem?</p>\n"},{"tags":[],"owner":{"account_id":16310465,"reputation":141,"user_id":11779243,"display_name":"Olayiwola Osho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652436631,"creation_date":1652436631,"answer_id":72227872,"question_id":20910405,"body_markdown":"I was able to get my web view to scroll by adding \r\n\r\n    simpleWebView = findViewById(R.id.simpleWebView);\r\n    \r\n    //setting the webView client to a new webview client \r\n    simpleWebView.setWebViewClient(new WebViewClient());\r\n    \r\n    //and Enabling JavaScript\r\n    simpleWebView.getSettings().setJavaScriptEnabled(true);\r\n\r\nI would not advise Enabling JavaScript because Using setJavaScriptEnabled can introduce XSS vulnerabilities into your application and this just means if your web site is vulnerable malicious JavaScript can be returned to your users.\r\n\r\nWhen the malicious code executes inside your users browser, the attacker can compromise their interaction with your application.\r\n\r\nand I currently don&#39;t know any other way to enable JavaScript\r\n\r\nHere&#39;s the full code I used below\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;WebView\r\n            android:id=&quot;@+id/simpleWebView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd inside the MyActivity.java\r\n\r\n    simpleWebView.setWebViewClient(new WebViewClient());\r\n    \r\n    simpleWebView.getSettings().setJavaScriptEnabled(true);\r\n    \r\n    simpleWebView.setVerticalScrollBarEnabled(true);\r\n    \r\n    simpleWebView.setHorizontalScrollBarEnabled(true);","title":"Android WebView isn&#39;t scrollable","body":"<p>I was able to get my web view to scroll by adding</p>\n<pre><code>simpleWebView = findViewById(R.id.simpleWebView);\n\n//setting the webView client to a new webview client \nsimpleWebView.setWebViewClient(new WebViewClient());\n\n//and Enabling JavaScript\nsimpleWebView.getSettings().setJavaScriptEnabled(true);\n</code></pre>\n<p>I would not advise Enabling JavaScript because Using setJavaScriptEnabled can introduce XSS vulnerabilities into your application and this just means if your web site is vulnerable malicious JavaScript can be returned to your users.</p>\n<p>When the malicious code executes inside your users browser, the attacker can compromise their interaction with your application.</p>\n<p>and I currently don't know any other way to enable JavaScript</p>\n<p>Here's the full code I used below</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/simpleWebView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And inside the MyActivity.java</p>\n<pre><code>simpleWebView.setWebViewClient(new WebViewClient());\n\nsimpleWebView.getSettings().setJavaScriptEnabled(true);\n\nsimpleWebView.setVerticalScrollBarEnabled(true);\n\nsimpleWebView.setHorizontalScrollBarEnabled(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685924893,"post_id":76401728,"comment_id":134724575,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76401728/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28500117,"reputation":11,"user_id":21811447,"display_name":"SWAPNIL PATIL"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685901533,"creation_date":1685901533,"answer_id":76401728,"question_id":20910405,"body_markdown":"You must be using a scrollview, remove that scrollview and your webview will start scrolling.","title":"Android WebView isn&#39;t scrollable","body":"<p>You must be using a scrollview, remove that scrollview and your webview will start scrolling.</p>\n"}],"owner":{"account_id":3805852,"reputation":53,"user_id":3158313,"display_name":"Abascus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30124,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1685901533,"creation_date":1388773866,"question_id":20910405,"body_markdown":"My Android `WebView` isn&#39;t scrollable.\r\n\r\nXML Code: \r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/screen&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#87cefa&quot;\r\n    android:gravity=&quot;left&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    tools:context=&quot;.MainActivity&quot; &gt;\r\n\r\n    &lt;WebView\r\n        android:id=&quot;@+id/webView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot; /&gt;\r\n\r\nI&#39;m loading the Website with the normal `webview.loadUrl(url);` function and sometimes with the `webview.loadDataWithBaseURL(&quot;&quot;, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, &quot;&quot;);` function, both of them display the page, but they are not scrollable\r\n\r\nInit:\r\n\r\n`setContentView(R.layout.activity_main);\r\nwebview = (WebView)this.findViewById(R.id.webView);\r\nwebview.setVerticalScrollBarEnabled(true);\r\nwebview.setHorizontalScrollBarEnabled(true);`\r\n\r\nLoading:\r\n\r\n                webview.loadUrl(url);\r\n                [either one of them or the other]\r\n\t\twebview.loadDataWithBaseURL(&quot;&quot;, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, &quot;&quot;);\r\n\r\n","title":"Android WebView isn&#39;t scrollable","body":"<p>My Android <code>WebView</code> isn't scrollable.</p>\n\n<p>XML Code: </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/screen\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#87cefa\"\nandroid:gravity=\"left\"\nandroid:paddingBottom=\"@dimen/activity_vertical_margin\"\nandroid:paddingTop=\"@dimen/activity_vertical_margin\"\ntools:context=\".MainActivity\" &gt;\n\n&lt;WebView\n    android:id=\"@+id/webView\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_centerHorizontal=\"true\" /&gt;\n</code></pre>\n\n<p>I'm loading the Website with the normal <code>webview.loadUrl(url);</code> function and sometimes with the <code>webview.loadDataWithBaseURL(\"\", htmlContent, \"text/html\", \"UTF-8\", \"\");</code> function, both of them display the page, but they are not scrollable</p>\n\n<p>Init:</p>\n\n<p><code>setContentView(R.layout.activity_main);\nwebview = (WebView)this.findViewById(R.id.webView);\nwebview.setVerticalScrollBarEnabled(true);\nwebview.setHorizontalScrollBarEnabled(true);</code></p>\n\n<p>Loading:</p>\n\n<pre><code>            webview.loadUrl(url);\n            [either one of them or the other]\n    webview.loadDataWithBaseURL(\"\", htmlContent, \"text/html\", \"UTF-8\", \"\");\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","out-of-memory"],"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1487926962,"post_id":42421285,"comment_id":72013407,"body_markdown":"I&#39;m not sure what exactly you want to know. You seem to imply that Spring should shut down anything.","body":"I&#39;m not sure what exactly you want to know. You seem to imply that Spring should shut down anything."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487927106,"post_id":42421285,"comment_id":72013489,"body_markdown":"@zeroflagL I am asking if it is possible to force exit of the REST service in case of an `OutOfMemoryError`. Related to this, I am asking if someone knows why Spring implements the above policy. Thanks.","body":"@zeroflagL I am asking if it is possible to force exit of the REST service in case of an <code>OutOfMemoryError</code>. Related to this, I am asking if someone knows why Spring implements the above policy. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487868873,"post_id":42421598,"comment_id":71988969,"body_markdown":"Sorry, in which way this answer to my question?","body":"Sorry, in which way this answer to my question?"},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1487869186,"post_id":42421598,"comment_id":71989218,"body_markdown":"_Why does Spring MVC adopt such a strange policy in case of Error?_ Spring has a default behavior which can&#39;t do more when a JVM error happens;  _Is it possible to force the exit from the application (the REST service) after an Error happened?_ Yes, see my answer above.","body":"<i>Why does Spring MVC adopt such a strange policy in case of Error?</i> Spring has a default behavior which can&#39;t do more when a JVM error happens;  <i>Is it possible to force the exit from the application (the REST service) after an Error happened?</i> Yes, see my answer above."},{"owner":{"account_id":6171295,"reputation":1632,"user_id":4809490,"accept_rate":50,"display_name":"Michał Mielec"},"score":0,"creation_date":1487869348,"post_id":42421598,"comment_id":71989334,"body_markdown":"Spring works as any standard JVM application. That is an answer to your question.","body":"Spring works as any standard JVM application. That is an answer to your question."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487869367,"post_id":42421598,"comment_id":71989348,"body_markdown":"So, your solution is to point to a script that will try to kill the Spring applcation in case of `OutOfMemotyError`?","body":"So, your solution is to point to a script that will try to kill the Spring applcation in case of <code>OutOfMemotyError</code>?"},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1487869467,"post_id":42421598,"comment_id":71989410,"body_markdown":"The end of this script should be something like _kill_ or _restart_. But you can perform whatever analyse/dump tasks before which can be useful to investigate the reasons of the error.","body":"The end of this script should be something like <i>kill</i> or <i>restart</i>. But you can perform whatever analyse/dump tasks before which can be useful to investigate the reasons of the error."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487869475,"post_id":42421598,"comment_id":71989423,"body_markdown":"@MichałMielec in this case Spring *is not* working as any other JVM application. In case of an `Error` a standard JVM application will stop.","body":"@MichałMielec in this case Spring <i>is not</i> working as any other JVM application. In case of an <code>Error</code> a standard JVM application will stop."},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1487869624,"post_id":42421598,"comment_id":71989525,"body_markdown":"You can catch any `Error` in a JVM application. Spring must do it and return a default message when the service is in a degraded mode.","body":"You can catch any <code>Error</code> in a JVM application. Spring must do it and return a default message when the service is in a degraded mode."},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487885396,"post_id":42421598,"comment_id":71998554,"body_markdown":"What you can do is not equals to what you should do. Many articles state that `Error`s must not be catch, because you have no guarantees that you will be able to recover the system from them. Look at this SO question for example [When to catch java.lang.Error?](http://stackoverflow.com/questions/352780/when-to-catch-java-lang-error)","body":"What you can do is not equals to what you should do. Many articles state that <code>Error</code>s must not be catch, because you have no guarantees that you will be able to recover the system from them. Look at this SO question for example <a href=\"http://stackoverflow.com/questions/352780/when-to-catch-java-lang-error\">When to catch java.lang.Error?</a>"},{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487929034,"post_id":42421598,"comment_id":72014714,"body_markdown":"@SergioLema your solutions cannot work because Spring is intercepting the thrown `OutOfMemoryError`. So the error will never reach the JVM. Please, update your answer or delete it.","body":"@SergioLema your solutions cannot work because Spring is intercepting the thrown <code>OutOfMemoryError</code>. So the error will never reach the JVM. Please, update your answer or delete it."},{"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"score":0,"creation_date":1487930402,"post_id":42421598,"comment_id":72015550,"body_markdown":"Spring Boot catch the `OutOfMemoryError` and let you know about it, but it also informs the JVM about it, so the JVM arguments I described in my comment are taken into account (I&#39;m currently using them in a production application with Spring Boot and it works fine).","body":"Spring Boot catch the <code>OutOfMemoryError</code> and let you know about it, but it also informs the JVM about it, so the JVM arguments I described in my comment are taken into account (I&#39;m currently using them in a production application with Spring Boot and it works fine)."}],"tags":[],"owner":{"account_id":2866175,"reputation":1531,"user_id":2460460,"display_name":"Sergio Lema"},"comment_count":10,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487868310,"creation_date":1487868310,"answer_id":42421598,"question_id":42421285,"body_markdown":"When running your application, you can specify the behavior of your application when an error like this happens with the following arguments:\r\n\r\n - `-XX:+HeapDumpOnOutOfMemoryError` : this will create a dump which can be analysed afterwards. The dump will be located at the location given at `-XX:HeapDumpPath=some_path`.\r\n - `-XX:OnOutOfMemoryError=path_to_some_script.sh` : this will run a script (it must be runnable by the same user which runs the application) when the application returns an error as an OutOfMemory\r\n - `-XX:OnError=path_to_some_script.sh` : same as before, but for more generic exceptions.\r\n\r\nReference: http://www.oracle.com/technetwork/java/javase/clopts-139448.html","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>When running your application, you can specify the behavior of your application when an error like this happens with the following arguments:</p>\n\n<ul>\n<li><code>-XX:+HeapDumpOnOutOfMemoryError</code> : this will create a dump which can be analysed afterwards. The dump will be located at the location given at <code>-XX:HeapDumpPath=some_path</code>.</li>\n<li><code>-XX:OnOutOfMemoryError=path_to_some_script.sh</code> : this will run a script (it must be runnable by the same user which runs the application) when the application returns an error as an OutOfMemory</li>\n<li><code>-XX:OnError=path_to_some_script.sh</code> : same as before, but for more generic exceptions.</li>\n</ul>\n\n<p>Reference: <a href=\"http://www.oracle.com/technetwork/java/javase/clopts-139448.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/java/javase/clopts-139448.html</a></p>\n"},{"comments":[{"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"score":0,"creation_date":1487869019,"post_id":42421625,"comment_id":71989073,"body_markdown":"I don&#39;t agree. The behaviour you described is true for `Exception`s. However, an `OutOfMemoryError` is not a &quot;temporary problem. How the system will respond 500 to the request if there is no memory available at all?","body":"I don&#39;t agree. The behaviour you described is true for <code>Exception</code>s. However, an <code>OutOfMemoryError</code> is not a &quot;temporary problem. How the system will respond 500 to the request if there is no memory available at all?"},{"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"score":0,"creation_date":1488277954,"post_id":42421625,"comment_id":72150181,"body_markdown":"Of course it can be temporary - imagine e.g. processing a huge input. There usually is memory available to handle the exception (the GC is still there).","body":"Of course it can be temporary - imagine e.g. processing a huge input. There usually is memory available to handle the exception (the GC is still there)."},{"owner":{"account_id":4678213,"reputation":2831,"user_id":3787777,"accept_rate":92,"display_name":"Coderino Javarino"},"score":0,"creation_date":1700645776,"post_id":42421625,"comment_id":136679026,"body_markdown":"recovering from OOM is flimsy at best. Spring in particular seems to get stuck afterwards. It is generally expected for a web server to log and stop when hitting such errors, and be restarted by the managing infrastructure","body":"recovering from OOM is flimsy at best. Spring in particular seems to get stuck afterwards. It is generally expected for a web server to log and stop when hitting such errors, and be restarted by the managing infrastructure"}],"tags":[],"owner":{"account_id":243931,"reputation":588,"user_id":516418,"display_name":"stuchl4n3k"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488278640,"creation_date":1487868400,"answer_id":42421625,"question_id":42421285,"body_markdown":"**I would say that in the world of web apps this is not suprising at all.** \r\n\r\nImagine a `RestController` as a web page. If it contains an error, the web server nor the application that generates the page is expected to stop working. This error is usually a local or temporary problem related to your request. In these situations the web server should instead respond with HTTP status 500.\r\n\r\nSpring even has an built-in error handling feature that lets you to handle each specific error differently. See [this article by Paul Chapman][1] for more info.\r\n\r\n**UPDATE:** Regarding your inquiry about the OOM error handling: I think you missed how memory management and object allocation in JVM works. See [Understand the OutOfMemoryError Exception][2]. \r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p><strong>I would say that in the world of web apps this is not suprising at all.</strong> </p>\n\n<p>Imagine a <code>RestController</code> as a web page. If it contains an error, the web server nor the application that generates the page is expected to stop working. This error is usually a local or temporary problem related to your request. In these situations the web server should instead respond with HTTP status 500.</p>\n\n<p>Spring even has an built-in error handling feature that lets you to handle each specific error differently. See <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow noreferrer\">this article by Paul Chapman</a> for more info.</p>\n\n<p><strong>UPDATE:</strong> Regarding your inquiry about the OOM error handling: I think you missed how memory management and object allocation in JVM works. See <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/memleaks002.html\" rel=\"nofollow noreferrer\">Understand the OutOfMemoryError Exception</a>. </p>\n"},{"tags":[],"owner":{"account_id":28751004,"reputation":1,"user_id":22019116,"display_name":"Somanath Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685901094,"creation_date":1685901094,"answer_id":76401702,"question_id":42421285,"body_markdown":"java.lang.OutOfMemoryError won&#39;t stop the Spring Application.\r\nIf you are running your application in a container then health-check hook would let container manager know that your application is not in right condition so it would automatically dispose the current pod and would create fresh one.\r\n\r\nYou should always give JAVA_TOOL_OPTIONS as environment variable to use the POD memory effectively. By default your Java Springboot app will use just 25% of maximum memory. \r\n\r\ne.g. If you allocate 4 GB memory to your POD then your Java Springboot application will use max 1 GB of RAM and in turn you will not use the allocated resources properly.\r\nAlways set JAVA_TOOL_OPTIONS environment variable for memory allocations.","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>java.lang.OutOfMemoryError won't stop the Spring Application.\nIf you are running your application in a container then health-check hook would let container manager know that your application is not in right condition so it would automatically dispose the current pod and would create fresh one.</p>\n<p>You should always give JAVA_TOOL_OPTIONS as environment variable to use the POD memory effectively. By default your Java Springboot app will use just 25% of maximum memory.</p>\n<p>e.g. If you allocate 4 GB memory to your POD then your Java Springboot application will use max 1 GB of RAM and in turn you will not use the allocated resources properly.\nAlways set JAVA_TOOL_OPTIONS environment variable for memory allocations.</p>\n"}],"owner":{"account_id":1203571,"reputation":8033,"user_id":1173755,"accept_rate":96,"display_name":"riccardo.cardin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2608,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1685901094,"creation_date":1487867439,"question_id":42421285,"body_markdown":"I am experiencing what I consider a strange behaviour for a Java application. I am using Spring Boot 1.4.1 to develop a REST Service. Due to a bug in my code, an invocation to the service results in an `OutOfMemoryError`. \r\n\r\nSurprisingly, the service responds to the request that generates the error with the following message:\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1487862480405,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;exception&quot;: &quot;java.lang.OutOfMemoryError&quot;,\r\n      &quot;message&quot;: &quot;No message available&quot;,\r\n      &quot;path&quot;: &quot;/entity/exportCsv&quot;\r\n    }\r\n\r\nSo far so good. What is more surprisingly is that the REST service does not shutdown after experiencing the `Error`. Someone said that after an `Error` the best thing to do is to properly log it and shutdown everything. The presence of an error should mean that the system is in an unrecoverable state.\r\n\r\nWhy does Spring MVC adopt such a strange policy in case of `Error`? Is it possible to force the exit from the application (the REST service) after an `Error` happened?\r\n\r\nIf you want to reproduce the above use case, just use the following code.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/entity&quot;)\r\n    class Controller {\r\n        @RequestMapping(value = &quot;/exportCsv&quot;, method = RequestMethod.GET)\r\n        ResponseEntity exportCsv() {\r\n            if (true)\r\n                throw new OutOfMemoryError();\r\n            return null;\r\n        }\r\n    }\r\n\r\nThanks to all.\r\n\r\n**EDIT**: if you do think that catching an `Error` is a normal way to develop Java applications, please, try to have a look to these references:\r\n\r\n - [When to catch java.lang.Error?](https://stackoverflow.com/questions/352780/when-to-catch-java-lang-error)\r\n - [Why Catching Throwable or Error is bad?](http://javarevisited.blogspot.it/2014/02/why-catching-throwable-or-error-is-bad.html)\r\n - And many other...\r\n\r\n ","title":"Spring REST Service does not shutdown after an OutOfMemoryError","body":"<p>I am experiencing what I consider a strange behaviour for a Java application. I am using Spring Boot 1.4.1 to develop a REST Service. Due to a bug in my code, an invocation to the service results in an <code>OutOfMemoryError</code>. </p>\n\n<p>Surprisingly, the service responds to the request that generates the error with the following message:</p>\n\n<pre><code>{\n  \"timestamp\": 1487862480405,\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"exception\": \"java.lang.OutOfMemoryError\",\n  \"message\": \"No message available\",\n  \"path\": \"/entity/exportCsv\"\n}\n</code></pre>\n\n<p>So far so good. What is more surprisingly is that the REST service does not shutdown after experiencing the <code>Error</code>. Someone said that after an <code>Error</code> the best thing to do is to properly log it and shutdown everything. The presence of an error should mean that the system is in an unrecoverable state.</p>\n\n<p>Why does Spring MVC adopt such a strange policy in case of <code>Error</code>? Is it possible to force the exit from the application (the REST service) after an <code>Error</code> happened?</p>\n\n<p>If you want to reproduce the above use case, just use the following code.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/entity\")\nclass Controller {\n    @RequestMapping(value = \"/exportCsv\", method = RequestMethod.GET)\n    ResponseEntity exportCsv() {\n        if (true)\n            throw new OutOfMemoryError();\n        return null;\n    }\n}\n</code></pre>\n\n<p>Thanks to all.</p>\n\n<p><strong>EDIT</strong>: if you do think that catching an <code>Error</code> is a normal way to develop Java applications, please, try to have a look to these references:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/352780/when-to-catch-java-lang-error\">When to catch java.lang.Error?</a></li>\n<li><a href=\"http://javarevisited.blogspot.it/2014/02/why-catching-throwable-or-error-is-bad.html\" rel=\"nofollow noreferrer\">Why Catching Throwable or Error is bad?</a></li>\n<li>And many other...</li>\n</ul>\n"},{"tags":["java","selenium-webdriver","testing","browser-automation"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685888341,"creation_date":1685888341,"answer_id":76400844,"question_id":76400613,"body_markdown":"The `NoSuchElementException` in Selenium is thrown when the WebDriver is unable to locate the Web element on the web page: maybe the date picker is not yet visible, or is loaded asynchronously.  \r\nAn exact solution would depend on the specifics of the date picker&#39;s implementation.  \r\nBut, for testing, try and modify your `chooseDate()` method to wait for the element to become visible:\r\n\r\n```java\r\npublic void chooseDate() throws InterruptedException {\r\n    datePicker.click();\r\n    WebDriverWait wait = new WebDriverWait(driver, 10);\r\n    WebElement endDay = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@data-time=&#39;1687458600000&#39;]&quot;)));\r\n    endDay.click();\r\n}\r\n```\r\n\r\nHere, `WebDriverWait` and `ExpectedConditions` are used to create an explicit wait for the `endDay` element to become visible. Note that you&#39;ll need to import the `WebDriverWait` and `ExpectedConditions` classes:\r\n\r\n```java\r\nimport org.openqa.selenium.support.ui.WebDriverWait;\r\nimport org.openqa.selenium.support.ui.ExpectedConditions;\r\n```\r\n\r\nAlso note that Selenium can only interact with *visible* elements. You can check if an element is visible using the `isDisplayed()` method.  \r\nAnd double-check your XPath.\r\n","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<p>The <code>NoSuchElementException</code> in Selenium is thrown when the WebDriver is unable to locate the Web element on the web page: maybe the date picker is not yet visible, or is loaded asynchronously.<br />\nAn exact solution would depend on the specifics of the date picker's implementation.<br />\nBut, for testing, try and modify your <code>chooseDate()</code> method to wait for the element to become visible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void chooseDate() throws InterruptedException {\n    datePicker.click();\n    WebDriverWait wait = new WebDriverWait(driver, 10);\n    WebElement endDay = wait.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//div[@data-time='1687458600000']&quot;)));\n    endDay.click();\n}\n</code></pre>\n<p>Here, <code>WebDriverWait</code> and <code>ExpectedConditions</code> are used to create an explicit wait for the <code>endDay</code> element to become visible. Note that you'll need to import the <code>WebDriverWait</code> and <code>ExpectedConditions</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.support.ui.WebDriverWait;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\n</code></pre>\n<p>Also note that Selenium can only interact with <em>visible</em> elements. You can check if an element is visible using the <code>isDisplayed()</code> method.<br />\nAnd double-check your XPath.</p>\n"},{"tags":[],"owner":{"account_id":28749592,"reputation":21,"user_id":22017965,"display_name":"smaitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685901066,"creation_date":1685901066,"answer_id":76401698,"question_id":76400613,"body_markdown":"I had not noticed data-time changed at every refresh/launch, which caused the `NoSuchElementException`. Changing the xpath, to eg: `xpath = &quot;//div[text()=&#39;12&#39;]&quot;`,helped in easily selecting the desired date. ","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<p>I had not noticed data-time changed at every refresh/launch, which caused the <code>NoSuchElementException</code>. Changing the xpath, to eg: <code>xpath = &quot;//div[text()='12']&quot;</code>,helped in easily selecting the desired date.</p>\n"}],"owner":{"account_id":28749592,"reputation":21,"user_id":22017965,"display_name":"smaitra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76401698,"answer_count":2,"score":2,"last_activity_date":1685901066,"creation_date":1685884678,"question_id":76400613,"body_markdown":"* I am testing https://www.policybazaar.com using selenium, testNG, java. I get the no such element error while trying to select a date from date picker on https://www.policybazaar.com/travel-insurance/student/ .\r\n\r\n\r\n\r\n* While experimenting with xpath ( &quot;//div\\[@data-time=&#39;1687458600000&#39;\\]&quot;): I am properly detecting the element in browser. When used in code, I am getting the error.\r\n\r\n* Relevant code:\r\n  WebElement initialization\r\n\r\n```java\r\n@FindBy(xpath = &quot;//div[@data-time=&#39;1687458600000&#39;]&quot;)\r\n\tprivate WebElement endDay;\r\n\r\n\t@FindBy(xpath = &quot;//input[@id=\\&quot;startdate\\&quot;]&quot;)\r\n\tprivate WebElement datePicker;\r\n```\r\n\r\nMethod for choosing date (datepicker.click() works and datepicker appears on screen)\r\n\r\n```java\r\npublic void chooseDate() throws InterruptedException {\r\n\t\tdatePicker.click();\r\n\t\tThread.sleep(3000);\r\n\t\tendDay.click();\r\n\t}\r\n```\r\n\r\nTest method:\r\n\r\n```java\r\n@Test(dependsOnMethods = &quot;testSelectDestination&quot;)\r\n\tpublic void testChooseDates() throws InterruptedException {\r\n\t\tpolicyBazaarPage.chooseDate();\r\n\t}\r\n```\r\n\r\nPart of Error Trace:\r\n\r\n```\r\nFAILED: tests.PolicyBazaarLandingTests.testChooseDates\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@data-time=&#39;1687458600000&#39;]&quot;}\r\n  (Session info: MicrosoftEdge=113.0.1774.57)\r\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.15&#39;\r\nDriver info: org.openqa.selenium.edge.EdgeDriver\r\nCommand: [a54fc9488a04affd75b9e7bfc894b05e, findElement {using=xpath, value=//div[@data-time=&#39;1687458600000&#39;]}]\r\n```","title":"NoSuchElementException when trying to find element with valid xpath on Chrome and Edge","body":"<ul>\n<li><p>I am testing <a href=\"https://www.policybazaar.com\" rel=\"nofollow noreferrer\">https://www.policybazaar.com</a> using selenium, testNG, java. I get the no such element error while trying to select a date from date picker on <a href=\"https://www.policybazaar.com/travel-insurance/student/\" rel=\"nofollow noreferrer\">https://www.policybazaar.com/travel-insurance/student/</a> .</p>\n</li>\n<li><p>While experimenting with xpath ( &quot;//div[@data-time='1687458600000']&quot;): I am properly detecting the element in browser. When used in code, I am getting the error.</p>\n</li>\n<li><p>Relevant code:\nWebElement initialization</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@FindBy(xpath = &quot;//div[@data-time='1687458600000']&quot;)\n    private WebElement endDay;\n\n    @FindBy(xpath = &quot;//input[@id=\\&quot;startdate\\&quot;]&quot;)\n    private WebElement datePicker;\n</code></pre>\n<p>Method for choosing date (datepicker.click() works and datepicker appears on screen)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void chooseDate() throws InterruptedException {\n        datePicker.click();\n        Thread.sleep(3000);\n        endDay.click();\n    }\n</code></pre>\n<p>Test method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(dependsOnMethods = &quot;testSelectDestination&quot;)\n    public void testChooseDates() throws InterruptedException {\n        policyBazaarPage.chooseDate();\n    }\n</code></pre>\n<p>Part of Error Trace:</p>\n<pre><code>FAILED: tests.PolicyBazaarLandingTests.testChooseDates\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//div[@data-time='1687458600000']&quot;}\n  (Session info: MicrosoftEdge=113.0.1774.57)\nFor documentation on this error, please visit: https://selenium.dev/exceptions/#no_such_element\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.15'\nDriver info: org.openqa.selenium.edge.EdgeDriver\nCommand: [a54fc9488a04affd75b9e7bfc894b05e, findElement {using=xpath, value=//div[@data-time='1687458600000']}]\n</code></pre>\n"},{"tags":["java","spring-boot","vue.js","cors"],"comments":[{"owner":{"account_id":3155089,"reputation":170,"user_id":2667662,"display_name":"Stijn Hooft"},"score":0,"creation_date":1684865572,"post_id":76316801,"comment_id":134578925,"body_markdown":"For security reasons, browsers don&#39;t allow &quot;shady-website.com&quot; to make ajax requests to &quot;descent-website.com&quot;, unless &quot;descent-website.com&quot; allows the &quot;shady-website.com&quot; domain to call it. General info on MDN: https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\n \nBaeldung has a very good tutorial on this for Spring Boot: https://www.baeldung.com/spring-cors.\n\nIn an ideal world, front-end and back-end get hosted on the same domain.","body":"For security reasons, browsers don&#39;t allow &quot;shady-website.com&quot; to make ajax requests to &quot;descent-website.com&quot;, unless &quot;descent-website.com&quot; allows the &quot;shady-website.com&quot; domain to call it. General info on MDN: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a>   Baeldung has a very good tutorial on this for Spring Boot: <a href=\"https://www.baeldung.com/spring-cors\" rel=\"nofollow noreferrer\">baeldung.com/spring-cors</a>.  In an ideal world, front-end and back-end get hosted on the same domain."},{"owner":{"account_id":26780105,"reputation":294,"user_id":20375079,"display_name":"Seb Perp"},"score":0,"creation_date":1684875830,"post_id":76316801,"comment_id":134580910,"body_markdown":"Maybe this answer will help you : https://stackoverflow.com/questions/76292114/how-to-solve-cors-policy-blocking-when-connecting-front-end-to-java-spring-boot/76292932#76292932","body":"Maybe this answer will help you : <a href=\"https://stackoverflow.com/questions/76292114/how-to-solve-cors-policy-blocking-when-connecting-front-end-to-java-spring-boot/76292932#76292932\" title=\"how to solve cors policy blocking when connecting front end to java spring boot\">stackoverflow.com/questions/76292114/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23240561,"reputation":39,"user_id":17329945,"display_name":"Othmane Darhoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685011173,"creation_date":1685011173,"answer_id":76331384,"question_id":76316801,"body_markdown":"try @CrossOrigin(&quot;*&quot;) in your controller","title":"How can i solve proxy (CORS) problem on production","body":"<p>try @CrossOrigin(&quot;*&quot;) in your controller</p>\n"},{"tags":[],"owner":{"account_id":20449653,"reputation":11,"user_id":15004671,"display_name":"Emre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685900606,"creation_date":1685900606,"answer_id":76401676,"question_id":76316801,"body_markdown":"I deployed my frontend with expressjs proxy then its fixed. Thanks for comments","title":"How can i solve proxy (CORS) problem on production","body":"<p>I deployed my frontend with expressjs proxy then its fixed. Thanks for comments</p>\n"}],"owner":{"account_id":20449653,"reputation":11,"user_id":15004671,"display_name":"Emre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76401676,"answer_count":2,"score":1,"last_activity_date":1685900606,"creation_date":1684858682,"question_id":76316801,"body_markdown":"I developed an app on Vuejs. I have Spring Boot on backend. I was using devServer proxy like that\r\n\r\n    devServer: {\r\n    proxy: {\r\n            &#39;/api&#39;: {\r\n              target: &#39;http://localhost:8087/&#39;,\r\n              changeOrigin: true,\r\n              pathRewrite: {\r\n                &#39;^/api&#39;: &#39;&#39;\r\n              }\r\n            }}\r\n\r\nbut now i need to build and deploy it. When i didnt changed anything, my requests going to &#39;api/login&#39; or &#39;api/register&#39; etc.. Thats need to be localhost:8087/login or localhost:8087/register. What should i do? When i didnt use proxy its giving CORS error. Can you help me, Thank you. \r\n\r\nI need a solve cors problem on Production Vuejs build","title":"How can i solve proxy (CORS) problem on production","body":"<p>I developed an app on Vuejs. I have Spring Boot on backend. I was using devServer proxy like that</p>\n<pre><code>devServer: {\nproxy: {\n        '/api': {\n          target: 'http://localhost:8087/',\n          changeOrigin: true,\n          pathRewrite: {\n            '^/api': ''\n          }\n        }}\n</code></pre>\n<p>but now i need to build and deploy it. When i didnt changed anything, my requests going to 'api/login' or 'api/register' etc.. Thats need to be localhost:8087/login or localhost:8087/register. What should i do? When i didnt use proxy its giving CORS error. Can you help me, Thank you.</p>\n<p>I need a solve cors problem on Production Vuejs build</p>\n"},{"tags":["java","xml","soap","wsdl","wsimport"],"comments":[{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1685899991,"post_id":76401600,"comment_id":134722231,"body_markdown":"PowerShell is incidental to your problem, so I removed the tag. The problem is that  `wsimport` thinks the referenced WSDL is invalid.","body":"PowerShell is incidental to your problem, so I removed the tag. The problem is that  <code>wsimport</code> thinks the referenced WSDL is invalid."},{"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"score":0,"creation_date":1685900995,"post_id":76401600,"comment_id":134722334,"body_markdown":"And how can I convert to java using other tools","body":"And how can I convert to java using other tools"},{"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"score":0,"creation_date":1685901168,"post_id":76401600,"comment_id":134722351,"body_markdown":"That&#39;s the problem so far I haven&#39;t written any code I&#39;m just trying to convert it to java to later have access to the methods. The only code I&#39;ve written so far is PowerShell, wsimport -keep, and the xml I&#39;m converting.","body":"That&#39;s the problem so far I haven&#39;t written any code I&#39;m just trying to convert it to java to later have access to the methods. The only code I&#39;ve written so far is PowerShell, wsimport -keep, and the xml I&#39;m converting."},{"owner":{"account_id":19375,"reputation":396793,"user_id":45375,"display_name":"mklement0"},"score":0,"creation_date":1685901565,"post_id":76401600,"comment_id":134722400,"body_markdown":"You need to investigate why `wsimport` considers the WSDL invalid. Perhaps it is, perhaps it isn&#39;t and you need additional `wsimport` options to make it work - I personally don&#39;t know. PowerShell has no built-in WSDL-related functionality. Your question&#39;s tags will hopefully attract subject-matter experts.","body":"You need to investigate why <code>wsimport</code> considers the WSDL invalid. Perhaps it is, perhaps it isn&#39;t and you need additional <code>wsimport</code> options to make it work - I personally don&#39;t know. PowerShell has no built-in WSDL-related functionality. Your question&#39;s tags will hopefully attract subject-matter experts."}],"owner":{"account_id":28750641,"reputation":1,"user_id":22018828,"display_name":"Deivison"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685899831,"creation_date":1685899477,"question_id":76401600,"body_markdown":"Good afternoon !\r\n\r\nI&#39;m trying to consume a SOAP service from PROJUDI-PR but I&#39;m having problems converting the xml into java.\r\n&gt; https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\r\n\r\nTo convert the xml into java I used windows powershell.\r\n\r\ncommand used: \r\n\r\n```\r\nwsimport -keep https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\r\n```\r\n\r\nexpected the shell to do the conversion correctly so that it could then consume its methods.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WzZkK.jpg)](https://i.stack.imgur.com/WzZkK.jpg) ","title":"Error when trying to consume SOAP PROJUDI-PR","body":"<p>Good afternoon !</p>\n<p>I'm trying to consume a SOAP service from PROJUDI-PR but I'm having problems converting the xml into java.</p>\n<blockquote>\n<p><a href=\"https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\" rel=\"nofollow noreferrer\">https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl</a></p>\n</blockquote>\n<p>To convert the xml into java I used windows powershell.</p>\n<p>command used:</p>\n<pre><code>wsimport -keep https://projudi.tjpr.jus.br/projudi/webservices/projudiIntercomunicacaoWebService222?wsdl\n</code></pre>\n<p>expected the shell to do the conversion correctly so that it could then consume its methods.</p>\n<p><a href=\"https://i.stack.imgur.com/WzZkK.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WzZkK.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","email","jakarta-mail"],"answers":[{"comments":[{"owner":{"account_id":15581388,"reputation":11,"user_id":13863857,"display_name":"pizssn peng"},"score":0,"creation_date":1686019308,"post_id":76401551,"comment_id":134738496,"body_markdown":"Thank you for your answer, but isn&#39;t basic authentication enabled by default when I provide a username and password in the configuration file?","body":"Thank you for your answer, but isn&#39;t basic authentication enabled by default when I provide a username and password in the configuration file?"}],"tags":[],"owner":{"account_id":17745544,"reputation":13,"user_id":12884910,"display_name":"long_coder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685898781,"creation_date":1685898781,"answer_id":76401551,"question_id":76401146,"body_markdown":"It instructs spring to use basic authentication. Without it the username and password would be ignored.","title":"What is the role of the &quot;mail.smtp.auth&quot; parameter in the JavaMailSender?","body":"<p>It instructs spring to use basic authentication. Without it the username and password would be ignored.</p>\n"}],"owner":{"account_id":15581388,"reputation":11,"user_id":13863857,"display_name":"pizssn peng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1685898781,"creation_date":1685892745,"question_id":76401146,"body_markdown":"I use JavaMailSender to send emails. I configured the corresponding username and password in the configuration file, but an error occurred when sending the email. The error message is `org.apache.geronimo.javamail.transport.smtp.SMTPSendFailedException: authentication is required`.\r\n\r\nHere is my configuration file\r\n```\r\n# Mail Configuration\r\nmanagement.health.mail.enabled=false\r\n# Configure POP3 server\r\nspring.mail.host=smtp.163.com\r\n#User name and authorization code for sending emails\r\nspring.mail.username=yy1*****71@163.com\r\nspring.mail.password=YJ*****BSKF\r\n\r\n# SSL Config\r\nspring.mail.port=465\r\nspring.mail.protocol=smtp\r\nspring.mail.default-encoding=UTF-8\r\nspring.mail.properties.mail.smtp.ssl.enable=true\r\nspring.mail.properties.mail.smtp.socketFactory.port=465\r\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n```\r\n\r\nI tried adding `spring.mail.properties.mail.smtp.auth=true` to the configuration file and then tried sending the email again. It was successful. I looked at the corresponding source code and found that if I had already filled in the username and password in the configuration file, the value of `mail.smtp.auth` would not affect the result. I don’t understand why.\r\n```\r\nprotected synchronized boolean protocolConnect(String host, int port, String user, String passwd) throws MessagingException {\r\n        boolean useEhlo = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.ehlo&quot;, true);\r\n        boolean useAuth = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.auth&quot;, false);\r\n        if (this.logger.isLoggable(Level.FINE)) {\r\n            this.logger.fine(&quot;useEhlo &quot; + useEhlo + &quot;, useAuth &quot; + useAuth);\r\n        }\r\n        \r\n        if (useAuth &amp;&amp; (user == null || passwd == null)) {\r\n            return false;\r\n        } else {\r\n            if (port == -1) {\r\n                port = PropUtil.getIntSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.port&quot;, -1);\r\n            }\r\n\r\n            if (port == -1) {\r\n                port = this.defaultPort;\r\n            }\r\n\r\n            if (host == null || host.length() == 0) {\r\n                host = &quot;localhost&quot;;\r\n            }\r\n\r\n            boolean connected = false;\r\n\r\n            boolean var9;\r\n            try {\r\n                if (this.serverSocket != null) {\r\n                    this.openServer();\r\n                } else {\r\n                    this.openServer(host, port);\r\n                }\r\n\r\n                boolean succeed = false;\r\n                if (useEhlo) {\r\n                    succeed = this.ehlo(this.getLocalHost());\r\n                }\r\n\r\n                if (!succeed) {\r\n                    this.helo(this.getLocalHost());\r\n                }\r\n\r\n                if (this.useStartTLS || this.requireStartTLS) {\r\n                    if (this.serverSocket instanceof SSLSocket) {\r\n                        this.logger.fine(&quot;STARTTLS requested but already using SSL&quot;);\r\n                    } else if (this.supportsExtension(&quot;STARTTLS&quot;)) {\r\n                        this.startTLS();\r\n                        this.ehlo(this.getLocalHost());\r\n                    } else if (this.requireStartTLS) {\r\n                        this.logger.fine(&quot;STARTTLS required but not supported&quot;);\r\n                        throw new MessagingException(&quot;STARTTLS is required but host does not support STARTTLS&quot;);\r\n                    }\r\n                }\r\n\r\n                if (!useAuth &amp;&amp; (user == null || passwd == null) || !this.supportsExtension(&quot;AUTH&quot;) &amp;&amp; !this.supportsExtension(&quot;AUTH=LOGIN&quot;)) {\r\n                    connected = true;\r\n                    var9 = true;\r\n                    return var9;\r\n                }\r\n\r\n                connected = this.authenticate(user, passwd);\r\n                var9 = connected;\r\n            } finally {\r\n                if (!connected) {\r\n                    try {\r\n                        this.closeConnection();\r\n                    } catch (MessagingException var17) {\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            return var9;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nWhat does `mail.smtp.auth` change in my case?\r\n","title":"What is the role of the &quot;mail.smtp.auth&quot; parameter in the JavaMailSender?","body":"<p>I use JavaMailSender to send emails. I configured the corresponding username and password in the configuration file, but an error occurred when sending the email. The error message is <code>org.apache.geronimo.javamail.transport.smtp.SMTPSendFailedException: authentication is required</code>.</p>\n<p>Here is my configuration file</p>\n<pre><code># Mail Configuration\nmanagement.health.mail.enabled=false\n# Configure POP3 server\nspring.mail.host=smtp.163.com\n#User name and authorization code for sending emails\nspring.mail.username=yy1*****71@163.com\nspring.mail.password=YJ*****BSKF\n\n# SSL Config\nspring.mail.port=465\nspring.mail.protocol=smtp\nspring.mail.default-encoding=UTF-8\nspring.mail.properties.mail.smtp.ssl.enable=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n</code></pre>\n<p>I tried adding <code>spring.mail.properties.mail.smtp.auth=true</code> to the configuration file and then tried sending the email again. It was successful. I looked at the corresponding source code and found that if I had already filled in the username and password in the configuration file, the value of <code>mail.smtp.auth</code> would not affect the result. I don’t understand why.</p>\n<pre><code>protected synchronized boolean protocolConnect(String host, int port, String user, String passwd) throws MessagingException {\n        boolean useEhlo = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.ehlo&quot;, true);\n        boolean useAuth = PropUtil.getBooleanSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.auth&quot;, false);\n        if (this.logger.isLoggable(Level.FINE)) {\n            this.logger.fine(&quot;useEhlo &quot; + useEhlo + &quot;, useAuth &quot; + useAuth);\n        }\n        \n        if (useAuth &amp;&amp; (user == null || passwd == null)) {\n            return false;\n        } else {\n            if (port == -1) {\n                port = PropUtil.getIntSessionProperty(this.session, &quot;mail.&quot; + this.name + &quot;.port&quot;, -1);\n            }\n\n            if (port == -1) {\n                port = this.defaultPort;\n            }\n\n            if (host == null || host.length() == 0) {\n                host = &quot;localhost&quot;;\n            }\n\n            boolean connected = false;\n\n            boolean var9;\n            try {\n                if (this.serverSocket != null) {\n                    this.openServer();\n                } else {\n                    this.openServer(host, port);\n                }\n\n                boolean succeed = false;\n                if (useEhlo) {\n                    succeed = this.ehlo(this.getLocalHost());\n                }\n\n                if (!succeed) {\n                    this.helo(this.getLocalHost());\n                }\n\n                if (this.useStartTLS || this.requireStartTLS) {\n                    if (this.serverSocket instanceof SSLSocket) {\n                        this.logger.fine(&quot;STARTTLS requested but already using SSL&quot;);\n                    } else if (this.supportsExtension(&quot;STARTTLS&quot;)) {\n                        this.startTLS();\n                        this.ehlo(this.getLocalHost());\n                    } else if (this.requireStartTLS) {\n                        this.logger.fine(&quot;STARTTLS required but not supported&quot;);\n                        throw new MessagingException(&quot;STARTTLS is required but host does not support STARTTLS&quot;);\n                    }\n                }\n\n                if (!useAuth &amp;&amp; (user == null || passwd == null) || !this.supportsExtension(&quot;AUTH&quot;) &amp;&amp; !this.supportsExtension(&quot;AUTH=LOGIN&quot;)) {\n                    connected = true;\n                    var9 = true;\n                    return var9;\n                }\n\n                connected = this.authenticate(user, passwd);\n                var9 = connected;\n            } finally {\n                if (!connected) {\n                    try {\n                        this.closeConnection();\n                    } catch (MessagingException var17) {\n                    }\n                }\n\n            }\n\n            return var9;\n        }\n    }\n\n</code></pre>\n<p>What does <code>mail.smtp.auth</code> change in my case?</p>\n"},{"tags":["java","xml","jaxb","composite"],"answers":[{"comments":[{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1414942406,"post_id":26683169,"comment_id":41995572,"body_markdown":"I updated the initial code samples to match your recommendations.","body":"I updated the initial code samples to match your recommendations."},{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1414943552,"post_id":26683169,"comment_id":41995948,"body_markdown":"Now, JAXB does not complain anymore but the `query` is always `null`.","body":"Now, JAXB does not complain anymore but the <code>query</code> is always <code>null</code>."},{"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"score":0,"creation_date":1414946348,"post_id":26683169,"comment_id":41996821,"body_markdown":"As updated in my initial question, the problem now seems linked to the fact that `SimplePreconditionQuery` wraps an `XmlValue` and not an `XmlElement` like the other implementation. I&#39;d like to avoid changing the XML structure, though...","body":"As updated in my initial question, the problem now seems linked to the fact that <code>SimplePreconditionQuery</code> wraps an <code>XmlValue</code> and not an <code>XmlElement</code> like the other implementation. I&#39;d like to avoid changing the XML structure, though..."},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":0,"creation_date":1414955227,"post_id":26683169,"comment_id":41999647,"body_markdown":"@Rolf Please ask another question demonstration new mappings/classes etc. Big questions tend to have &quot;please consult me&quot; flair and are less helpful for others. Small questions produce results which are reusable in the community.","body":"@Rolf Please ask another question demonstration new mappings/classes etc. Big questions tend to have &quot;please consult me&quot; flair and are less helpful for others. Small questions produce results which are reusable in the community."}],"tags":[],"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685898085,"creation_date":1414788443,"answer_id":26683169,"question_id":26682591,"body_markdown":"Please try adding\r\n\r\n    @XmlSeeAlso({PreconditionQuery.class})\r\n\r\nto your `CompoundAndPreconditionQuery ` class.\r\n\r\nThen, try annotating ALL of your `PreconditionQuery` classes/subclasses with `@XmlRootElement`.\r\n\r\nAlso, be a bit more careful with `@XmlAccessorType` - sometimes you have it, sometimes not. Better annotate the package with it.\r\n\r\nFinally, you may need an `ObjectFactory` with `@XmlRegistry` and `@XmlElementDecl`, but I do not think it is absolutely required.\r\n\r\nI think the problem is the missing `@XmlRootElement`/`@XmlSeeAlso` annotations.\r\n\r\n`@XmlElementRef` is known to be tricky, but it does work. :)\r\n","title":"JAXB and Composite Pattern","body":"<p>Please try adding</p>\n<pre><code>@XmlSeeAlso({PreconditionQuery.class})\n</code></pre>\n<p>to your <code>CompoundAndPreconditionQuery </code> class.</p>\n<p>Then, try annotating ALL of your <code>PreconditionQuery</code> classes/subclasses with <code>@XmlRootElement</code>.</p>\n<p>Also, be a bit more careful with <code>@XmlAccessorType</code> - sometimes you have it, sometimes not. Better annotate the package with it.</p>\n<p>Finally, you may need an <code>ObjectFactory</code> with <code>@XmlRegistry</code> and <code>@XmlElementDecl</code>, but I do not think it is absolutely required.</p>\n<p>I think the problem is the missing <code>@XmlRootElement</code>/<code>@XmlSeeAlso</code> annotations.</p>\n<p><code>@XmlElementRef</code> is known to be tricky, but it does work. :)</p>\n"}],"owner":{"account_id":103469,"reputation":8520,"user_id":277128,"accept_rate":79,"display_name":"fbiville"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26683169,"answer_count":1,"score":1,"last_activity_date":1685898085,"creation_date":1414785780,"question_id":26682591,"body_markdown":"I&#39;m working with JAXB right now and I&#39;m struggling to annotate my composite notion of precondition query so that JAXB would be happy.\r\n\r\nA precondition query can be:\r\n\r\n - simple : only a text node containing the query\r\n - compound\r\n    - OR : the preconditions of 1 precondition query OR the other matches\r\n    - AND : the preconditions of 1 precondition query AND the other matches\r\n\r\nOf course, compound queries can be made of compound queries, just like in the following example:\r\n\r\n        &lt;precondition&gt;\r\n            &lt;or&gt;\r\n                &lt;and&gt;\r\n                    &lt;query&gt;foo&lt;/query&gt;\r\n                    &lt;query&gt;bar&lt;/query&gt;\r\n                &lt;/and&gt;\r\n                &lt;query&gt;baz&lt;/query&gt;\r\n            &lt;/or&gt;\r\n        &lt;/precondition&gt;\r\n\r\nIn my Java model, I&#39;ve got a single interface annotated PreconditionQuery (actually an abstract class since JAXB seems unhappy with interfaces) with 3 implementations SimplePreconditionQuery, CompoundOrPreconditionQuery and CompoundAndPreconditionQuery.\r\n\r\n    @XmlSeeAlso(PreconditionQuery.class)\r\n    @XmlRootElement(name = &quot;query&quot;)\r\n    public class SimplePreconditionQuery extends PreconditionQuery {\r\n\r\n        private String query;\r\n\r\n        @XmlValue\r\n        public String getQuery() {\r\n            return query;\r\n        }\r\n\r\n        public void setQuery(String query) {\r\n            this.query = query;\r\n        }\r\n    }\r\n\r\nFor the compound ones (CompoundOrPreconditionQuery is basically the same):\r\n\r\n    @XmlSeeAlso(PreconditionQuery.class)\r\n    @XmlRootElement(name = &quot;and&quot;)\r\n    public class CompoundAndPreconditionQuery extends PreconditionQuery {\r\n\r\n        private Collection&lt;PreconditionQuery&gt; preconditionQueries = newArrayList();\r\n\r\n        @XmlElementRef(name = &quot;query&quot;)\r\n        public Collection&lt;PreconditionQuery&gt; getPreconditionQueries() {\r\n            return preconditionQueries;\r\n        }\r\n\r\n        public void setPreconditionQueries(Collection&lt;PreconditionQuery&gt; preconditionQueries) {\r\n            this.preconditionQueries = preconditionQueries;\r\n        }\r\n    }\r\n\r\nFinally, at the enclosing bean level, I mapped like this:\r\n\r\n    public class Precondition {\r\n\r\n        private PreconditionQuery query;\r\n\r\n        @XmlElementRef(required = true)\r\n        public PreconditionQuery getQuery() {\r\n            return query;\r\n        }\r\n\r\n        public void setQuery(PreconditionQuery query) {\r\n            this.query = query;\r\n        }\r\n    }\r\n\r\nIn the end, JAXB complains about not being able to resolve this:\r\n\r\n    Caused by: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\n    Invalid @XmlElementRef : Type &quot;class xxx.PreconditionQuery&quot; or any of its subclasses are not known to this context.\r\n\t    this problem is related to the following location:\r\n\t\t    at public xxx.PreconditionQuery xxx.Precondition.getQuery()\r\n\t\t    at xxx.Precondition\r\n\r\nIf `@XmlElementRef` doesn&#39;t do the job, what will?","title":"JAXB and Composite Pattern","body":"<p>I'm working with JAXB right now and I'm struggling to annotate my composite notion of precondition query so that JAXB would be happy.</p>\n\n<p>A precondition query can be:</p>\n\n<ul>\n<li>simple : only a text node containing the query</li>\n<li>compound\n<ul>\n<li>OR : the preconditions of 1 precondition query OR the other matches</li>\n<li>AND : the preconditions of 1 precondition query AND the other matches</li>\n</ul></li>\n</ul>\n\n<p>Of course, compound queries can be made of compound queries, just like in the following example:</p>\n\n<pre><code>    &lt;precondition&gt;\n        &lt;or&gt;\n            &lt;and&gt;\n                &lt;query&gt;foo&lt;/query&gt;\n                &lt;query&gt;bar&lt;/query&gt;\n            &lt;/and&gt;\n            &lt;query&gt;baz&lt;/query&gt;\n        &lt;/or&gt;\n    &lt;/precondition&gt;\n</code></pre>\n\n<p>In my Java model, I've got a single interface annotated PreconditionQuery (actually an abstract class since JAXB seems unhappy with interfaces) with 3 implementations SimplePreconditionQuery, CompoundOrPreconditionQuery and CompoundAndPreconditionQuery.</p>\n\n<pre><code>@XmlSeeAlso(PreconditionQuery.class)\n@XmlRootElement(name = \"query\")\npublic class SimplePreconditionQuery extends PreconditionQuery {\n\n    private String query;\n\n    @XmlValue\n    public String getQuery() {\n        return query;\n    }\n\n    public void setQuery(String query) {\n        this.query = query;\n    }\n}\n</code></pre>\n\n<p>For the compound ones (CompoundOrPreconditionQuery is basically the same):</p>\n\n<pre><code>@XmlSeeAlso(PreconditionQuery.class)\n@XmlRootElement(name = \"and\")\npublic class CompoundAndPreconditionQuery extends PreconditionQuery {\n\n    private Collection&lt;PreconditionQuery&gt; preconditionQueries = newArrayList();\n\n    @XmlElementRef(name = \"query\")\n    public Collection&lt;PreconditionQuery&gt; getPreconditionQueries() {\n        return preconditionQueries;\n    }\n\n    public void setPreconditionQueries(Collection&lt;PreconditionQuery&gt; preconditionQueries) {\n        this.preconditionQueries = preconditionQueries;\n    }\n}\n</code></pre>\n\n<p>Finally, at the enclosing bean level, I mapped like this:</p>\n\n<pre><code>public class Precondition {\n\n    private PreconditionQuery query;\n\n    @XmlElementRef(required = true)\n    public PreconditionQuery getQuery() {\n        return query;\n    }\n\n    public void setQuery(PreconditionQuery query) {\n        this.query = query;\n    }\n}\n</code></pre>\n\n<p>In the end, JAXB complains about not being able to resolve this:</p>\n\n<pre><code>Caused by: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nInvalid @XmlElementRef : Type \"class xxx.PreconditionQuery\" or any of its subclasses are not known to this context.\n    this problem is related to the following location:\n        at public xxx.PreconditionQuery xxx.Precondition.getQuery()\n        at xxx.Precondition\n</code></pre>\n\n<p>If <code>@XmlElementRef</code> doesn't do the job, what will?</p>\n"},{"tags":["java","css","javafx","border"],"comments":[{"owner":{"display_name":"user7582130"},"score":0,"creation_date":1491122342,"post_id":43166303,"comment_id":73406856,"body_markdown":"If you want to remove the bottom part of the border, use: border-bottom: none;","body":"If you want to remove the bottom part of the border, use: border-bottom: none;"},{"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"score":0,"creation_date":1491123045,"post_id":43166303,"comment_id":73407022,"body_markdown":"This should be CSS right ?","body":"This should be CSS right ?"},{"owner":{"display_name":"user7582130"},"score":0,"creation_date":1491123247,"post_id":43166303,"comment_id":73407066,"body_markdown":"Yes it would be CSS.","body":"Yes it would be CSS."},{"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"score":0,"creation_date":1491123752,"post_id":43166303,"comment_id":73407193,"body_markdown":"i will give it a try","body":"i will give it a try"},{"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"score":1,"creation_date":1491125233,"post_id":43166303,"comment_id":73407565,"body_markdown":"@Leon: In JavaFX css does not provide the same set of properties as in html. `border-bottom` won&#39;t work.","body":"@Leon: In JavaFX css does not provide the same set of properties as in html. <code>border-bottom</code> won&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":3583958,"reputation":80987,"user_id":2991525,"display_name":"fabian"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1491125286,"creation_date":1491124738,"answer_id":43166680,"question_id":43166303,"body_markdown":"You can specify different styles for the borders on different sides\r\n###Using Border\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Region root = new Region();\r\n        root.setBorder(new Border(new BorderStroke(Color.RED, Color.RED, Color.RED, Color.RED,\r\n                BorderStrokeStyle.SOLID, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID,\r\n                CornerRadii.EMPTY, new BorderWidths(5), Insets.EMPTY)));\r\n\r\n        Scene scene = new Scene(root, 300, 300);\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n###Using inline css\r\n\r\n    root.setStyle(&quot;-fx-border-style: solid solid none solid; -fx-border-width: 5; -fx-border-color: red;&quot;);\r\n\r\n###Using a css stylesheet\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .root { /* modify the selector according to your needs */\r\n        -fx-border-style: solid solid none solid;\r\n        -fx-border-width: 5;\r\n        -fx-border-color: red;\r\n    }","title":"JavaFX Node partial border","body":"<p>You can specify different styles for the borders on different sides</p>\n\n<h3>Using Border</h3>\n\n<pre><code>@Override\npublic void start(Stage primaryStage) {\n    Region root = new Region();\n    root.setBorder(new Border(new BorderStroke(Color.RED, Color.RED, Color.RED, Color.RED,\n            BorderStrokeStyle.SOLID, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID,\n            CornerRadii.EMPTY, new BorderWidths(5), Insets.EMPTY)));\n\n    Scene scene = new Scene(root, 300, 300);\n\n    primaryStage.setScene(scene);\n    primaryStage.show();\n}\n</code></pre>\n\n<h3>Using inline css</h3>\n\n<pre><code>root.setStyle(\"-fx-border-style: solid solid none solid; -fx-border-width: 5; -fx-border-color: red;\");\n</code></pre>\n\n<h3>Using a css stylesheet</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>.root { /* modify the selector according to your needs */\n    -fx-border-style: solid solid none solid;\n    -fx-border-width: 5;\n    -fx-border-color: red;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8208340,"reputation":470,"user_id":6177355,"accept_rate":100,"display_name":"Roman"},"score":0,"creation_date":1600688405,"post_id":63398728,"comment_id":113156501,"body_markdown":"Hidden seems to still use the space of the border","body":"Hidden seems to still use the space of the border"},{"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"score":0,"creation_date":1642917055,"post_id":63398728,"comment_id":125198015,"body_markdown":"Both hidden and none didn&#39;t work - JavaFX 17. Looking for a solution.","body":"Both hidden and none didn&#39;t work - JavaFX 17. Looking for a solution."}],"tags":[],"owner":{"account_id":16068486,"reputation":151,"user_id":11597478,"display_name":"Laurean Ray Bahala"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1685897994,"creation_date":1597333770,"answer_id":63398728,"question_id":43166303,"body_markdown":"**`none`** doesnt work on javafx 13. I tried changing it to `hidden` and it worked.\r\n\r\n    .root { /* modify the selector according to your needs */\r\n        -fx-border-style: solid solid hidden solid;\r\n        -fx-border-width: 5;\r\n        -fx-border-color: red;\r\n    }","title":"JavaFX Node partial border","body":"<p><strong><code>none</code></strong> doesnt work on javafx 13. I tried changing it to <code>hidden</code> and it worked.</p>\n<pre><code>.root { /* modify the selector according to your needs */\n    -fx-border-style: solid solid hidden solid;\n    -fx-border-width: 5;\n    -fx-border-color: red;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642917221,"creation_date":1642917221,"answer_id":70819496,"question_id":43166303,"body_markdown":"Setting border-width to 0 worked (JavaFX 17): Example:\r\n\r\n    #header\r\n    {\r\n        -fx-border-width: 0 0 2px 0;\r\n        -fx-border-color: black;\r\n        -fx-border-style: solid;\r\n    }\r\n\r\nHere you can get border only at bottom - order: Top, right, bottom, left.","title":"JavaFX Node partial border","body":"<p>Setting border-width to 0 worked (JavaFX 17): Example:</p>\n<pre><code>#header\n{\n    -fx-border-width: 0 0 2px 0;\n    -fx-border-color: black;\n    -fx-border-style: solid;\n}\n</code></pre>\n<p>Here you can get border only at bottom - order: Top, right, bottom, left.</p>\n"}],"owner":{"account_id":10581168,"reputation":151,"user_id":7794922,"display_name":"Robert"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17146,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43166680,"answer_count":3,"score":15,"last_activity_date":1685897994,"creation_date":1491122157,"question_id":43166303,"body_markdown":"Having a Node for example VBox I am trying to add a border and there are 2 ways I can think of - using css or using new Border () etc.. \r\n\r\nHow can I remove part of the border ? i.e remove the bottom part of the border","title":"JavaFX Node partial border","body":"<p>Having a Node for example VBox I am trying to add a border and there are 2 ways I can think of - using css or using new Border () etc.. </p>\n\n<p>How can I remove part of the border ? i.e remove the bottom part of the border</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1685883722,"post_id":76400475,"comment_id":134720263,"body_markdown":"You are crashing on a call to `getName()` on a `Users` field or variable. Your code snippet does not show this call.","body":"You are crashing on a call to <code>getName()</code> on a <code>Users</code> field or variable. Your code snippet does not show this call."}],"owner":{"account_id":28749328,"reputation":1,"user_id":22017752,"display_name":"Асалам Алейкум"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685898703,"answer_count":0,"score":0,"last_activity_date":1685897071,"creation_date":1685882512,"question_id":76400475,"body_markdown":"Error i&#39;m getting, when I change the page I go to, everything works\r\n```\r\nE  FATAL EXCEPTION: main\r\nProcess: com.example.myshop, PID: 2327\r\n\r\njava.lang.RuntimeException: Unable to start activity \r\nComponentInfo{com.example.myshop/com.example.myshop.ui.Users.HomeActivity}: \r\njava.lang.NullPointerException: Attempt to invoke virtual method \r\n&#39;java.lang.String com.example.myshop.Model.Users.getName()&#39; on a null object reference                                                                                                   \t                                                                                                   \t\r\n```\r\npage where im trying to go, with product listing\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n\r\n        ProductsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        toolbar.setTitle(&quot;Меню&quot;);\r\n        setSupportActionBar(toolbar);\r\n\r\n        FloatingActionButton fab = findViewById(R.id.fab);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Snackbar.make(view, &quot;Здесь будет переход в корзину&quot;, Snackbar.LENGTH_LONG)\r\n                        .setAction(&quot;Action&quot;, null).show();\r\n            }\r\n        });\r\n\r\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close) {\r\n            @Override\r\n            public void onDrawerSlide(View drawerView, float slideOffset) {\r\n                super.onDrawerSlide(drawerView, slideOffset);\r\n            }\r\n\r\n        };\r\n       // drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        View headerView = navigationView.getHeaderView(0);\r\n        TextView userNameTextView = headerView.findViewById(R.id.user_profile_name);\r\n        CircleImageView profileImageView = headerView.findViewById(R.id.user_profile_image);\r\n\r\n        userNameTextView.setText(Prevalent.currentOnlineUser.getName());\r\n        Picasso.get().load(Prevalent.currentOnlineUser.getImage()).placeholder(R.drawable.profile).into(profileImageView);\r\n\r\n        recyclerView = findViewById(R.id.recycler_menu);\r\n        recyclerView.setHasFixedSize(true);\r\n        layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);//somethere here it&#39;s crashing\r\n    }\r\n           \r\n```\r\nThe start page, all imports are good\r\nOn the initial page, the login was made without verification, since there was the same error when calling the verification method\r\n","title":"the application crashes when I go to the next page, when I change the page I go to, everything works","body":"<p>Error i'm getting, when I change the page I go to, everything works</p>\n<pre><code>E  FATAL EXCEPTION: main\nProcess: com.example.myshop, PID: 2327\n\njava.lang.RuntimeException: Unable to start activity \nComponentInfo{com.example.myshop/com.example.myshop.ui.Users.HomeActivity}: \njava.lang.NullPointerException: Attempt to invoke virtual method \n'java.lang.String com.example.myshop.Model.Users.getName()' on a null object reference                                                                                                                                                                                                          \n</code></pre>\n<p>page where im trying to go, with product listing</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        ProductsRef = FirebaseDatabase.getInstance().getReference().child(&quot;Products&quot;);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        toolbar.setTitle(&quot;Меню&quot;);\n        setSupportActionBar(toolbar);\n\n        FloatingActionButton fab = findViewById(R.id.fab);\n        fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Snackbar.make(view, &quot;Здесь будет переход в корзину&quot;, Snackbar.LENGTH_LONG)\n                        .setAction(&quot;Action&quot;, null).show();\n            }\n        });\n\n        DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close) {\n            @Override\n            public void onDrawerSlide(View drawerView, float slideOffset) {\n                super.onDrawerSlide(drawerView, slideOffset);\n            }\n\n        };\n       // drawer.addDrawerListener(toggle);\n        toggle.syncState();\n\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        View headerView = navigationView.getHeaderView(0);\n        TextView userNameTextView = headerView.findViewById(R.id.user_profile_name);\n        CircleImageView profileImageView = headerView.findViewById(R.id.user_profile_image);\n\n        userNameTextView.setText(Prevalent.currentOnlineUser.getName());\n        Picasso.get().load(Prevalent.currentOnlineUser.getImage()).placeholder(R.drawable.profile).into(profileImageView);\n\n        recyclerView = findViewById(R.id.recycler_menu);\n        recyclerView.setHasFixedSize(true);\n        layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);//somethere here it's crashing\n    }\n           \n</code></pre>\n<p>The start page, all imports are good\nOn the initial page, the login was made without verification, since there was the same error when calling the verification method</p>\n"},{"tags":["java","spring","jpa","spring-data-jpa","insert-update"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1685900677,"post_id":76401429,"comment_id":134722299,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76401429/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26722756,"reputation":1,"user_id":20326285,"display_name":"An Nguyen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685896857,"creation_date":1685896857,"answer_id":76401429,"question_id":76398844,"body_markdown":"I already know the problem is that the save method works both inserting on the main object and updating on the related objects","title":"How can I insert data into a 1-n relation table in Spring Boot JPA without updating the User table?","body":"<p>I already know the problem is that the save method works both inserting on the main object and updating on the related objects</p>\n"}],"owner":{"account_id":26722756,"reputation":1,"user_id":20326285,"display_name":"An Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685896857,"creation_date":1685849755,"question_id":76398844,"body_markdown":"User\r\n----\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;, nullable = false)\r\n    private String name;\r\n\r\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\r\n    @Email\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;, nullable = false)\r\n    private String password;\r\n\r\n\r\n    @Column(name = &quot;avatar&quot;)\r\n    private String avatar;\r\n\r\n\r\n    @Column(name = &quot;gender&quot;, nullable = false)\r\n    private String gender;\r\n\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    private String phone;\r\n\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;birth_date&quot;, nullable = false)\r\n    private Date birthDate;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;UserRoom&gt; userRooms;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;myself&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Friend&gt; myself;\r\n\r\n    @OneToMany(mappedBy = &quot;friend&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n    @JsonIgnore\r\n    private List&lt;Friend&gt; friend;\r\n\r\n}\r\n```\r\n\r\nFriend\r\n------\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;friend&quot;, uniqueConstraints = {\r\n        @UniqueConstraint(columnNames = {&quot;myself_id&quot;, &quot;friend_id&quot;})\r\n})\r\npublic class Friend {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Column(nullable = false)\r\n    private String id;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;myself_id&quot;)\r\n    @JsonIgnore\r\n    private User myself;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;friend_id&quot;)\r\n    @JsonIgnore\r\n    private User friend;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;relationship&quot;, nullable = false)\r\n    private Relationship relationship;\r\n\r\n\r\n    public enum Relationship {\r\n        NONE,\r\n        SEND_REQUEST,\r\n        RECEIVE_REQUEST,\r\n        FRIEND,\r\n        BLOCKED,\r\n    }\r\n}\r\n```\r\n\r\nFriendServiceImpl\r\n-----------------\r\n\r\n```java\r\n    @Override\r\n    public Object sendFriendRequest(JsonNode info) {\r\n        String friendId = info.get(&quot;friendId&quot;).textValue();\r\n        String myId = info.get(&quot;myId&quot;).textValue();\r\n\r\n        User friendInfo = userService.findUserInformationById(friendId);\r\n        User myInfo = userService.findUserInformationById(myId);\r\n\r\n\r\n        System.out.println(&quot;=&gt;&gt;&gt;&quot; + friendInfo + &quot; \\n&quot; + myInfo);\r\n        if(friendInfo == null || myInfo == null) {\r\n            return null;\r\n        }\r\n\r\n        Friend a = new Friend().builder()\r\n                        .myself(friendInfo)\r\n                        .friend(myInfo)\r\n                        .relationship(Friend.Relationship.RECEIVE_REQUEST)\r\n                        .build();\r\n        Object yourNewRelationship = friendRepository.save(a\r\n        );\r\n        System.out.println(&quot;OKOKOK&quot;);\r\n        Object myNewRelationship = friendRepository.save(\r\n                new Friend().builder()\r\n                        .myself(myInfo)\r\n                        .friend(friendInfo)\r\n                        .relationship(Friend.Relationship.SEND_REQUEST)\r\n                        .build()\r\n        );\r\n        return myNewRelationship;\r\n    }\r\n```\r\n\r\nConsole\r\n-------\r\n\r\n![Console Image](https://i.stack.imgur.com/OawFx.png)\r\n\r\nDatabase\r\n--------\r\n\r\n![Database Diagram](https://i.stack.imgur.com/42tQu.png)\r\n\r\nI still don&#39;t understand why I just insert the Friend table but in the console it logs out the update user command. So I get the error &quot;password is null&quot;. Can anyone help me, thank you very much\r\n\r\nI want to only insert the Friend table without updating the User table","title":"How can I insert data into a 1-n relation table in Spring Boot JPA without updating the User table?","body":"<h2>User</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private String id;\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @Column(name = &quot;email&quot;, nullable = false, unique = true)\n    @Email\n    private String email;\n\n    @Column(name = &quot;password&quot;, nullable = false)\n    private String password;\n\n\n    @Column(name = &quot;avatar&quot;)\n    private String avatar;\n\n\n    @Column(name = &quot;gender&quot;, nullable = false)\n    private String gender;\n\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;birth_date&quot;, nullable = false)\n    private Date birthDate;\n\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;UserRoom&gt; userRooms;\n\n\n    @OneToMany(mappedBy = &quot;myself&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Friend&gt; myself;\n\n    @OneToMany(mappedBy = &quot;friend&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    @JsonIgnore\n    private List&lt;Friend&gt; friend;\n\n}\n</code></pre>\n<h2>Friend</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;friend&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = {&quot;myself_id&quot;, &quot;friend_id&quot;})\n})\npublic class Friend {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Column(nullable = false)\n    private String id;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;myself_id&quot;)\n    @JsonIgnore\n    private User myself;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;friend_id&quot;)\n    @JsonIgnore\n    private User friend;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;relationship&quot;, nullable = false)\n    private Relationship relationship;\n\n\n    public enum Relationship {\n        NONE,\n        SEND_REQUEST,\n        RECEIVE_REQUEST,\n        FRIEND,\n        BLOCKED,\n    }\n}\n</code></pre>\n<h2>FriendServiceImpl</h2>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object sendFriendRequest(JsonNode info) {\n        String friendId = info.get(&quot;friendId&quot;).textValue();\n        String myId = info.get(&quot;myId&quot;).textValue();\n\n        User friendInfo = userService.findUserInformationById(friendId);\n        User myInfo = userService.findUserInformationById(myId);\n\n\n        System.out.println(&quot;=&gt;&gt;&gt;&quot; + friendInfo + &quot; \\n&quot; + myInfo);\n        if(friendInfo == null || myInfo == null) {\n            return null;\n        }\n\n        Friend a = new Friend().builder()\n                        .myself(friendInfo)\n                        .friend(myInfo)\n                        .relationship(Friend.Relationship.RECEIVE_REQUEST)\n                        .build();\n        Object yourNewRelationship = friendRepository.save(a\n        );\n        System.out.println(&quot;OKOKOK&quot;);\n        Object myNewRelationship = friendRepository.save(\n                new Friend().builder()\n                        .myself(myInfo)\n                        .friend(friendInfo)\n                        .relationship(Friend.Relationship.SEND_REQUEST)\n                        .build()\n        );\n        return myNewRelationship;\n    }\n</code></pre>\n<h2>Console</h2>\n<p><img src=\"https://i.stack.imgur.com/OawFx.png\" alt=\"Console Image\" /></p>\n<h2>Database</h2>\n<p><img src=\"https://i.stack.imgur.com/42tQu.png\" alt=\"Database Diagram\" /></p>\n<p>I still don't understand why I just insert the Friend table but in the console it logs out the update user command. So I get the error &quot;password is null&quot;. Can anyone help me, thank you very much</p>\n<p>I want to only insert the Friend table without updating the User table</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1685830882,"post_id":76398236,"comment_id":134716602,"body_markdown":"You don&#39;t, because the conditional operator (I suppose you&#39;re talking about that specific ternary operator) is meant to return a result, not to call methods that don&#39;t return anything.","body":"You don&#39;t, because the conditional operator (I suppose you&#39;re talking about that specific ternary operator) is meant to return a result, not to call methods that don&#39;t return anything."},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1685831184,"post_id":76398236,"comment_id":134716621,"body_markdown":"So if there are multi expressions inside the if statement we can not implement the shorter form of if else ? what I see is that all the examples are just one expresions inside am I wrong ?","body":"So if there are multi expressions inside the if statement we can not implement the shorter form of if else ? what I see is that all the examples are just one expresions inside am I wrong ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1685833831,"post_id":76398236,"comment_id":134716837,"body_markdown":"The conditional operator is meant to be syntactic sugar: `if (foo) { c = a; } else { c = b}` is replaced by `c = foo ? a : b`, where `foo` is or evaluates to a `boolean`, `c` is a variable, and `a` and `b` each evaluate to a value that can be assigned to `c`.  You can nest the conditional operator, but there is a good chance some people will claim it makes your code less readable.","body":"The conditional operator is meant to be syntactic sugar: <code>if (foo) { c = a; } else { c = b}</code> is replaced by <code>c = foo ? a : b</code>, where <code>foo</code> is or evaluates to a <code>boolean</code>, <code>c</code> is a variable, and <code>a</code> and <code>b</code> each evaluate to a value that can be assigned to <code>c</code>.  You can nest the conditional operator, but there is a good chance some people will claim it makes your code less readable."},{"owner":{"account_id":21720493,"reputation":738,"user_id":16030830,"display_name":"ethry"},"score":1,"creation_date":1685834499,"post_id":76398236,"comment_id":134716886,"body_markdown":"No, it is not worth it.","body":"No, it is not worth it."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685849166,"post_id":76398236,"comment_id":134717604,"body_markdown":"I would in particulr find it very ugly to hide the side effect from `responseRepository.save(response);` inside a ternary operator. Don’t. If you insist, create two methods to create the response in the two cases. Then it’s as simple as `return Objects.equals(message, Const.CONFIRMATION) ? createAndSaveOkResponse(c.getNumPolice()) : createBadRequestResponse(message);`.","body":"I would in particulr find it very ugly to hide the side effect from <code>responseRepository.save(response);</code> inside a ternary operator. Don’t. If you insist, create two methods to create the response in the two cases. Then it’s as simple as <code>return Objects.equals(message, Const.CONFIRMATION) ? createAndSaveOkResponse(c.getNumPolice()) : createBadRequestResponse(message);</code>."}],"answers":[{"comments":[{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1685831049,"post_id":76398249,"comment_id":134716612,"body_markdown":"I just added what it&#39;ll return","body":"I just added what it&#39;ll return"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1685831185,"post_id":76398249,"comment_id":134716622,"body_markdown":"@BAKHALEDIbrahim Ternary operator still doesn&#39;t help here unless you have a builder for `Response`.","body":"@BAKHALEDIbrahim Ternary operator still doesn&#39;t help here unless you have a builder for <code>Response</code>."},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1685831231,"post_id":76398249,"comment_id":134716629,"body_markdown":"So we can not implmeent the shorter form in multi-expressions ?","body":"So we can not implmeent the shorter form in multi-expressions ?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1685831242,"post_id":76398249,"comment_id":134716630,"body_markdown":"@BAKHALEDIbrahim No, you can&#39;t.","body":"@BAKHALEDIbrahim No, you can&#39;t."},{"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"score":0,"creation_date":1685831326,"post_id":76398249,"comment_id":134716640,"body_markdown":"Oh I see, every example of the ternary operator are using only one expression so I thought it&#39;ll work for the multi expressions but Thanks alot @Unmitigated","body":"Oh I see, every example of the ternary operator are using only one expression so I thought it&#39;ll work for the multi expressions but Thanks alot @Unmitigated"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1685833204,"post_id":76398249,"comment_id":134716780,"body_markdown":"You could *almost* do `response.setMessage(message); response.setCodeStatut(Objects.equals(message, Const.CONFIRMATION) ? Const.HTTP_200 : Const.HTTP_400);` you still have two other statements on only one of the logical branches.","body":"You could <i>almost</i> do <code>response.setMessage(message); response.setCodeStatut(Objects.equals(message, Const.CONFIRMATION) ? Const.HTTP_200 : Const.HTTP_400);</code> you still have two other statements on only one of the logical branches."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685830970,"creation_date":1685830970,"answer_id":76398249,"question_id":76398236,"body_markdown":"You can&#39;t use the ternary operator to call void methods, but you can drop the second conditional check and just use `else`. After all, if `Objects.equals(message, Const.CONFIRMATION)` is `false`, then it is clear that `!Objects.equals(message, Const.CONFIRMATION)` is true.\r\n\r\n```java\r\nif (Objects.equals(message, Const.CONFIRMATION)) {\r\n\tresponse.setMessage(message);\r\n\tresponse.setCodeStatut(Const.HTTP_200);\r\n\tresponse.setNumPolice(c.getNumPolice());\r\n\tresponseRepository.save(response);\r\n} else {\r\n\tresponse.setMessage(message);\r\n\tresponse.setCodeStatut(Const.HTTP_400);\r\n}\r\n```","title":"Java: short if else statement","body":"<p>You can't use the ternary operator to call void methods, but you can drop the second conditional check and just use <code>else</code>. After all, if <code>Objects.equals(message, Const.CONFIRMATION)</code> is <code>false</code>, then it is clear that <code>!Objects.equals(message, Const.CONFIRMATION)</code> is true.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_200);\n    response.setNumPolice(c.getNumPolice());\n    responseRepository.save(response);\n} else {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_400);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685832687,"post_id":76398265,"comment_id":134716738,"body_markdown":"This is non-idiomatic java code and has problematic side-effects (problematic in that it leads to literally wasting tens to hundreds of developer hours, as the hidden ref to the encompassing instance that this creates results in some garbage no longer being cleaned up). It&#39;s borderline __evil__ to post this. It should be downvoted into oblivion. It&#39;s not quite &#39;just run `format c:`&#39; in how pernicious this is, but this kind of advice should not stand as an SO answer.","body":"This is non-idiomatic java code and has problematic side-effects (problematic in that it leads to literally wasting tens to hundreds of developer hours, as the hidden ref to the encompassing instance that this creates results in some garbage no longer being cleaned up). It&#39;s borderline <b>evil</b> to post this. It should be downvoted into oblivion. It&#39;s not quite &#39;just run <code>format c:</code>&#39; in how pernicious this is, but this kind of advice should not stand as an SO answer."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685836590,"post_id":76398265,"comment_id":134717016,"body_markdown":"@rzwitserloot Thanks for your opinion - I appreciate your frankness. The answer does however answer the question. I have added some cautionary advice.","body":"@rzwitserloot Thanks for your opinion - I appreciate your frankness. The answer does however answer the question. I have added some cautionary advice."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685838302,"post_id":76398265,"comment_id":134717113,"body_markdown":"Much better. I rescinded my downvote.","body":"Much better. I rescinded my downvote."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686036269,"post_id":76398265,"comment_id":134740197,"body_markdown":"You can easily avoid the problematic anonymous subclasses by just creating two methods to create and set up a `Response` object and using them in a conditional operator.","body":"You can easily avoid the problematic anonymous subclasses by just creating two methods to create and set up a <code>Response</code> object and using them in a conditional operator."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1685836587,"creation_date":1685831423,"answer_id":76398265,"question_id":76398236,"body_markdown":"The answer is &quot;yes&quot;; you can replace all your code with one (ugly) ternary statement:\r\n\r\n```\r\nreturn Objects.equals(message, Const.CONFIRMATION) ?\r\n    new Response() {{\r\n        setMessage(message);\r\n        setCodeStatut(Const.HTTP_200);\r\n        setNumPolice(c.getNumPolice());\r\n        responseRepository.save(this);\r\n    }} :\r\n    new Response() {{\r\n        setMessage(this);\r\n        setCodeStatut(Const.HTTP_400);\r\n    }};\r\n```\r\n\r\nHowever! Just because you *can* do something, don&#39;t mean you *should*. Readability, which includes adherence to convention, is paramount and this code is neither. Further, this implementation suffers from [allowing `this` to escape](https://wiki.sei.cmu.edu/confluence/plugins/servlet/mobile?contentId=88487816#content/view/88487816).\r\n\r\nIn short, *don&#39;t try this at home*.","title":"Java: short if else statement","body":"<p>The answer is &quot;yes&quot;; you can replace all your code with one (ugly) ternary statement:</p>\n<pre><code>return Objects.equals(message, Const.CONFIRMATION) ?\n    new Response() {{\n        setMessage(message);\n        setCodeStatut(Const.HTTP_200);\n        setNumPolice(c.getNumPolice());\n        responseRepository.save(this);\n    }} :\n    new Response() {{\n        setMessage(this);\n        setCodeStatut(Const.HTTP_400);\n    }};\n</code></pre>\n<p>However! Just because you <em>can</em> do something, don't mean you <em>should</em>. Readability, which includes adherence to convention, is paramount and this code is neither. Further, this implementation suffers from <a href=\"https://wiki.sei.cmu.edu/confluence/plugins/servlet/mobile?contentId=88487816#content/view/88487816\" rel=\"nofollow noreferrer\">allowing <code>this</code> to escape</a>.</p>\n<p>In short, <em>don't try this at home</em>.</p>\n"},{"tags":[],"owner":{"account_id":9860872,"reputation":66,"user_id":7303937,"display_name":"defrimhsn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685832330,"creation_date":1685832330,"answer_id":76398309,"question_id":76398236,"body_markdown":"I suggest not to use ternary operations becasue the code you&#39;ve written is much more clean and easy to understand comparing to ternary operations for some reason.\r\n- Ternary operations are good, but only for simple conditions \r\n- Writing the code using if/else is easier for the developer to read, and write tests against that code. When using ternary operations, it&#39;s usually harder to write good coverage for those branches and you only find out about that when you scan your code using a code coverage tool.\r\n","title":"Java: short if else statement","body":"<p>I suggest not to use ternary operations becasue the code you've written is much more clean and easy to understand comparing to ternary operations for some reason.</p>\n<ul>\n<li>Ternary operations are good, but only for simple conditions</li>\n<li>Writing the code using if/else is easier for the developer to read, and write tests against that code. When using ternary operations, it's usually harder to write good coverage for those branches and you only find out about that when you scan your code using a code coverage tool.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685850301,"post_id":76398349,"comment_id":134717657,"body_markdown":"I hate Yoda conditions. If you object to `Objects.equals()` (and I understand your objection), I’d clearly prefer the slightly longer but sparkling clear `message != null &amp;&amp; message.equals(Const.CONFIRMATION)`. You may also write your own method with the semantics you want.","body":"I hate Yoda conditions. If you object to <code>Objects.equals()</code> (and I understand your objection), I’d clearly prefer the slightly longer but sparkling clear <code>message != null &amp;&amp; message.equals(Const.CONFIRMATION)</code>. You may also write your own method with the semantics you want."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685914672,"post_id":76398349,"comment_id":134723795,"body_markdown":"yoda conditions are common enough to make your note a personal beef, which probably isn&#39;t relevant to such a simple question (style debates go well beyond what SO is for. Pragmatically speaking, &quot;less than 1% of the java community does this&quot; becomes an objective reason by adding &#39;programming is a community thing, breaking with the norm has inherent costs&#39; as a notion. Yoda conditions are nothing like that and just pure &#39;style likes&#39;. OPs question is about, essentially, golfing. Inherently they&#39;d hate your proposed style.","body":"yoda conditions are common enough to make your note a personal beef, which probably isn&#39;t relevant to such a simple question (style debates go well beyond what SO is for. Pragmatically speaking, &quot;less than 1% of the java community does this&quot; becomes an objective reason by adding &#39;programming is a community thing, breaking with the norm has inherent costs&#39; as a notion. Yoda conditions are nothing like that and just pure &#39;style likes&#39;. OPs question is about, essentially, golfing. Inherently they&#39;d hate your proposed style."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685953430,"post_id":76398349,"comment_id":134727391,"body_markdown":"This reminds me again, how different developers are. I’d use `message.equals(Const.CONFIRMATION)` because I *want* to bail out when `message` is `null`. Does `response.setMessage(message)` work with `null`? I don’t want to think about it, so not letting `message` ever be `null` in the first place is the way to go. Anyway, I’d also avoid calling `setCodeStatut` twice. Using `else response.setCodeStatut(Const.HTTP_400);` is only one additional word…","body":"This reminds me again, how different developers are. I’d use <code>message.equals(Const.CONFIRMATION)</code> because I <i>want</i> to bail out when <code>message</code> is <code>null</code>. Does <code>response.setMessage(message)</code> work with <code>null</code>? I don’t want to think about it, so not letting <code>message</code> ever be <code>null</code> in the first place is the way to go. Anyway, I’d also avoid calling <code>setCodeStatut</code> twice. Using <code>else response.setCodeStatut(Const.HTTP_400);</code> is only one additional word…"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1685954591,"post_id":76398349,"comment_id":134727568,"body_markdown":"[Yoda conditions - criticism](https://en.wikipedia.org/wiki/Yoda_conditions#Criticism). It’s not *only* a personal beef.","body":"<a href=\"https://en.wikipedia.org/wiki/Yoda_conditions#Criticism\" rel=\"nofollow noreferrer\">Yoda conditions - criticism</a>. It’s not <i>only</i> a personal beef."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1685983936,"post_id":76398349,"comment_id":134734194,"body_markdown":"@Holger Not that different; I treat `null` the same way SQL treats it (unknown value), i.e. I want the NPEs. More NPEs more better. Then I know what to fix. I shoot down `if (x == null || x.isEmpty())` all the time in code review. However, Someone asked an SO question. That is rarely the right time to start tossing personal taste around, and in the rare case that it is - objective reasoning needs to be supplied.","body":"@Holger Not that different; I treat <code>null</code> the same way SQL treats it (unknown value), i.e. I want the NPEs. More NPEs more better. Then I know what to fix. I shoot down <code>if (x == null || x.isEmpty())</code> all the time in code review. However, Someone asked an SO question. That is rarely the right time to start tossing personal taste around, and in the rare case that it is - objective reasoning needs to be supplied."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685984024,"post_id":76398349,"comment_id":134734211,"body_markdown":"i.e. _I_ rarely use yoda conditions just to &#39;integrate&#39; the &quot;false-if-null&quot; aspect of what OP wants, because I rarely want &quot;false-if-null&quot;. However, OP does want that, and given that the question isn&#39;t about null handling, chiming with &#39;oh no your null handling is bad&#39; is well beyond the scope. And here we are holding a debate in comments about something __utterly__ unrelated to the question. If someone asks something like &quot;How do more easily treat null as any other value&quot;, I can see writing an answer that questions the entire mindset belying that question, but this isn&#39;t that question.","body":"i.e. <i>I</i> rarely use yoda conditions just to &#39;integrate&#39; the &quot;false-if-null&quot; aspect of what OP wants, because I rarely want &quot;false-if-null&quot;. However, OP does want that, and given that the question isn&#39;t about null handling, chiming with &#39;oh no your null handling is bad&#39; is well beyond the scope. And here we are holding a debate in comments about something <b>utterly</b> unrelated to the question. If someone asks something like &quot;How do more easily treat null as any other value&quot;, I can see writing an answer that questions the entire mindset belying that question, but this isn&#39;t that question."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1685984108,"post_id":76398349,"comment_id":134734228,"body_markdown":"@OleVV every non-trivial programming concept has a page somewhere on the internet with criticisms as long as my leg. That doesn&#39;t prove anything. Insofar that you truly feel that it does, go tell the java community to accept &#39;yoda bad&#39; so deeply that linters and IDEs ship __out of the box__ with linting rules turned on to warn about it, and then I will gladly edit this answer, I don&#39;t really like em either.","body":"@OleVV every non-trivial programming concept has a page somewhere on the internet with criticisms as long as my leg. That doesn&#39;t prove anything. Insofar that you truly feel that it does, go tell the java community to accept &#39;yoda bad&#39; so deeply that linters and IDEs ship <b>out of the box</b> with linting rules turned on to warn about it, and then I will gladly edit this answer, I don&#39;t really like em either."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1685987458,"post_id":76398349,"comment_id":134734804,"body_markdown":"I wouldn’t be sure about the OP’s intention. The fact that the original code uses `Objects.equals(…)` doesn’t prove that a null-safe check is intended, there are too many examples overusing these methods (and similarly the awful StringUtils classes, etc.), without the author even being aware of the differences. The question’s code isn’t even valid and the original question “How to implement the Ternary Operator in this situation” doesn’t make sense…","body":"I wouldn’t be sure about the OP’s intention. The fact that the original code uses <code>Objects.equals(…)</code> doesn’t prove that a null-safe check is intended, there are too many examples overusing these methods (and similarly the awful StringUtils classes, etc.), without the author even being aware of the differences. The question’s code isn’t even valid and the original question “How to implement the Ternary Operator in this situation” doesn’t make sense…"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685833190,"creation_date":1685833190,"answer_id":76398349,"question_id":76398236,"body_markdown":"You cannot use the ternary operator for this job without doing at least one of:\r\n\r\n* Redesigning the API of Response, in which case there are far better things you can do here to clean this code up and make code that uses that class be shorter and simpler.\r\n* Using nasty hacks. As in, seems to work, but can cause extremely serious, many _hours_ of wasted time serious effects later on side-effects, and doesn&#39;t stack to anything even remotely resembling common code style guidelines.\r\n\r\nHence, don&#39;t.\r\n\r\nIf you&#39;d like this code to be golfed down without resorting to nastiness:\r\n\r\n```\r\nvar response = new Response();\r\nresponse.setMessage(message);\r\nresponse.setCodeStatut(Const.HTTP_400);\r\nif (Const.CONFIRMATION.equals(message)) {\r\n  response.setCodeStatut(Const.HTTP_200);\r\n  response.setNumPolice(c.getNumPolice());\r\n  responseRepository.save(response);\r\n}\r\n\r\nreturn response;\r\n```\r\n\r\n* `Objects.equals` is a somewhat dubious tool that can be used if you want to consider `null` to be equal to `null` (that&#39;s the dubious part). `Const.CONFIRMATION` surely isn&#39;t `null`, or if it is, make that `if (message == null)` instead. Hence, no need for it.\r\n* The `else` clause wouldn&#39;t compile, but the intent is clearly just `else`, no need to repeat the negative variant of the same rule.\r\n* Once we&#39;re down to that level, `response.setMessage(message)` is always executed, so, you can just do that up top.\r\n* Possibly dubious, but presuming that `setCodeStatut` is a trivial setter, you can just invoke it a second time and avoid the else entirely from there.\r\n\r\n* The reason you can&#39;t use the ternary operator, is because the ternary operator can only be used with expressions, and a block of statements isn&#39;t an expression. There are hacks, but they are just that: Create nasty side-effects, and are so non-standard, they need a hefty comment to explain why no ready alternative will do. That would be a lie, so don&#39;t apply the hackery.","title":"Java: short if else statement","body":"<p>You cannot use the ternary operator for this job without doing at least one of:</p>\n<ul>\n<li>Redesigning the API of Response, in which case there are far better things you can do here to clean this code up and make code that uses that class be shorter and simpler.</li>\n<li>Using nasty hacks. As in, seems to work, but can cause extremely serious, many <em>hours</em> of wasted time serious effects later on side-effects, and doesn't stack to anything even remotely resembling common code style guidelines.</li>\n</ul>\n<p>Hence, don't.</p>\n<p>If you'd like this code to be golfed down without resorting to nastiness:</p>\n<pre><code>var response = new Response();\nresponse.setMessage(message);\nresponse.setCodeStatut(Const.HTTP_400);\nif (Const.CONFIRMATION.equals(message)) {\n  response.setCodeStatut(Const.HTTP_200);\n  response.setNumPolice(c.getNumPolice());\n  responseRepository.save(response);\n}\n\nreturn response;\n</code></pre>\n<ul>\n<li><p><code>Objects.equals</code> is a somewhat dubious tool that can be used if you want to consider <code>null</code> to be equal to <code>null</code> (that's the dubious part). <code>Const.CONFIRMATION</code> surely isn't <code>null</code>, or if it is, make that <code>if (message == null)</code> instead. Hence, no need for it.</p>\n</li>\n<li><p>The <code>else</code> clause wouldn't compile, but the intent is clearly just <code>else</code>, no need to repeat the negative variant of the same rule.</p>\n</li>\n<li><p>Once we're down to that level, <code>response.setMessage(message)</code> is always executed, so, you can just do that up top.</p>\n</li>\n<li><p>Possibly dubious, but presuming that <code>setCodeStatut</code> is a trivial setter, you can just invoke it a second time and avoid the else entirely from there.</p>\n</li>\n<li><p>The reason you can't use the ternary operator, is because the ternary operator can only be used with expressions, and a block of statements isn't an expression. There are hacks, but they are just that: Create nasty side-effects, and are so non-standard, they need a hefty comment to explain why no ready alternative will do. That would be a lie, so don't apply the hackery.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685849303,"creation_date":1685843273,"answer_id":76398670,"question_id":76398236,"body_markdown":"You *could* do this with a helper function:\r\n\r\n```\r\n    static Response myFunc() {\r\n        Response response = new Response();\r\n        if (Objects.equals(message, Const.CONFIRMATION)) {\r\n            return createResponse(message, Const.HTTP_200, r -&gt; {\r\n                r.setNumPolice(c.getNumPolice());\r\n                responseRepository.save(r);\r\n            });\r\n        } else {\r\n            return createResponse(message, Const.HTTP_400, r -&gt; {});\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    static Response createResponse(String message, int status, Consumer&lt;Response&gt; sideEffects) {\r\n        Response response = new Response();\r\n        response.setMessage(message);\r\n        response.setStatus(status);\r\n        sideEffects.accept(response);\r\n        return response;\r\n    }\r\n```\r\nand with the helper function and a ternary operator:\r\n```\r\n        static Response myFunc() {\r\n        return Objects.equals(message, Const.CONFIRMATION)\r\n                ? createResponse(message, Const.HTTP_200, r -&gt; {\r\n                        r.setNumPolice(c.getNumPolice());\r\n                        responseRepository.save(r);\r\n                    })\r\n                : createResponse(message, Const.HTTP_400, r -&gt; {});\r\n        }\r\n```\r\n\r\nThe advantage of this approach is that you can&#39;t forget to set the `message` or the `status`, and the specific other operations you do to the response are kept collected in a single block.\r\n\r\nPerhaps this introduces too much extra cognitive load when you read the code, and perhaps in this implementation it is too easy to bypass `createResponse` when you are maintaining the code, but in general creating a small function to remove duplication and to make it easier for developers to follow conventions (or patterns for the use of particular classes) is useful.\r\n\r\nAs others have said, redesigning `Response` would be a good idea, but if it was a third party class something like this approach would be useful.","title":"Java: short if else statement","body":"<p>You <em>could</em> do this with a helper function:</p>\n<pre><code>    static Response myFunc() {\n        Response response = new Response();\n        if (Objects.equals(message, Const.CONFIRMATION)) {\n            return createResponse(message, Const.HTTP_200, r -&gt; {\n                r.setNumPolice(c.getNumPolice());\n                responseRepository.save(r);\n            });\n        } else {\n            return createResponse(message, Const.HTTP_400, r -&gt; {});\n        }\n\n        return response;\n    }\n\n    static Response createResponse(String message, int status, Consumer&lt;Response&gt; sideEffects) {\n        Response response = new Response();\n        response.setMessage(message);\n        response.setStatus(status);\n        sideEffects.accept(response);\n        return response;\n    }\n</code></pre>\n<p>and with the helper function and a ternary operator:</p>\n<pre><code>        static Response myFunc() {\n        return Objects.equals(message, Const.CONFIRMATION)\n                ? createResponse(message, Const.HTTP_200, r -&gt; {\n                        r.setNumPolice(c.getNumPolice());\n                        responseRepository.save(r);\n                    })\n                : createResponse(message, Const.HTTP_400, r -&gt; {});\n        }\n</code></pre>\n<p>The advantage of this approach is that you can't forget to set the <code>message</code> or the <code>status</code>, and the specific other operations you do to the response are kept collected in a single block.</p>\n<p>Perhaps this introduces too much extra cognitive load when you read the code, and perhaps in this implementation it is too easy to bypass <code>createResponse</code> when you are maintaining the code, but in general creating a small function to remove duplication and to make it easier for developers to follow conventions (or patterns for the use of particular classes) is useful.</p>\n<p>As others have said, redesigning <code>Response</code> would be a good idea, but if it was a third party class something like this approach would be useful.</p>\n"}],"owner":{"account_id":17917911,"reputation":523,"user_id":13018468,"display_name":"BAKHALED Ibrahim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1685895688,"creation_date":1685830678,"question_id":76398236,"body_markdown":"How to implement the Ternary Operator in this situation ?\r\n\r\n```java\r\nResponse response = new Response();\r\nif (Objects.equals(message, Const.CONFIRMATION)) {\r\n    response.setMessage(message);\r\n    response.setCodeStatut(Const.HTTP_200);\r\n    response.setNumPolice(c.getNumPolice());\r\n    responseRepository.save(response);\r\n} else(!Objects.equals(message, Const.CONFIRMATION)) {\r\n    response.setMessage(message);\r\n    response.setCodeStatut(Const.HTTP_400);\r\n}\r\n\r\nreturn response;\r\n```","title":"Java: short if else statement","body":"<p>How to implement the Ternary Operator in this situation ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = new Response();\nif (Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_200);\n    response.setNumPolice(c.getNumPolice());\n    responseRepository.save(response);\n} else(!Objects.equals(message, Const.CONFIRMATION)) {\n    response.setMessage(message);\n    response.setCodeStatut(Const.HTTP_400);\n}\n\nreturn response;\n</code></pre>\n"},{"tags":["java","volatile","java.util.concurrent","java-memory-model"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634682649,"post_id":69638262,"comment_id":123090052,"body_markdown":"The semantics are similar but not the same.  `volatile` guarantees that all actions (reads and writes) that happen before the write to the `volatile` are visible.  `final` guarantees that only that particular field (and any object the field refers to) is visible.  `final` is called out explicitly to NOT have a transitive relationship with all other actions on a thread.  (So, previous reads and writes on a thread are unaffected by a `final` field.)","body":"The semantics are similar but not the same.  <code>volatile</code> guarantees that all actions (reads and writes) that happen before the write to the <code>volatile</code> are visible.  <code>final</code> guarantees that only that particular field (and any object the field refers to) is visible.  <code>final</code> is called out explicitly to NOT have a transitive relationship with all other actions on a thread.  (So, previous reads and writes on a thread are unaffected by a <code>final</code> field.)"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634687245,"post_id":69638262,"comment_id":123090771,"body_markdown":"@mark no: `final` means the value (which can be a reference) is assigned exactly *once*, and assignment happens during object initialization - it may never be reassigned. `final` has nothing to do with visibility.","body":"@mark no: <code>final</code> means the value (which can be a reference) is assigned exactly <i>once</i>, and assignment happens during object initialization - it may never be reassigned. <code>final</code> has nothing to do with visibility."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":4,"creation_date":1634688153,"post_id":69638262,"comment_id":123090922,"body_markdown":"You are 100% wrong about that.  Read the link the OP provided.  I&#39;d also recommend Brian Geotz&#39;s book, Java Concurrency in Practice.  This is well known semantics for Java&#39;s `final` keyword.","body":"You are 100% wrong about that.  Read the link the OP provided.  I&#39;d also recommend Brian Geotz&#39;s book, Java Concurrency in Practice.  This is well known semantics for Java&#39;s <code>final</code> keyword."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634688905,"post_id":69638262,"comment_id":123091060,"body_markdown":"`final` is for initialization and `volatile` is about updating the variable at the same.","body":"<code>final</code> is for initialization and <code>volatile</code> is about updating the variable at the same."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634689492,"post_id":69638262,"comment_id":123091137,"body_markdown":"@markspace can you provide a JCIP citation?","body":"@markspace can you provide a JCIP citation?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634690830,"post_id":69638262,"comment_id":123091305,"body_markdown":"*&quot;...Let o be an object, and c be a constructor for o in which a final field f is written. A freeze action on final field f of o takes place when c exits...Given a write w, a freeze f, an action a (that is not a read of a final field), a read r1 of the final field frozen by f, and a read r2 such that hb(w, f), hb(f, a), mc(a, r1), and dereferences(r1, r2), then when determining which values can be seen by r2, we consider hb(w, r2). (This happens-before ordering does not transitively close with other happens-before orderings.)&quot;*","body":"<i>&quot;...Let o be an object, and c be a constructor for o in which a final field f is written. A freeze action on final field f of o takes place when c exits...Given a write w, a freeze f, an action a (that is not a read of a final field), a read r1 of the final field frozen by f, and a read r2 such that hb(w, f), hb(f, a), mc(a, r1), and dereferences(r1, r2), then when determining which values can be seen by r2, we consider hb(w, r2). (This happens-before ordering does not transitively close with other happens-before orderings.)&quot;</i>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1634690903,"post_id":69638262,"comment_id":123091313,"body_markdown":"Note that this freeze-action is distinct from a synchronizes-with but still creates a happens-before relationship.  (And Brian Goetz&#39;s book is a much easier read that trying to puzzle out the spec.)","body":"Note that this freeze-action is distinct from a synchronizes-with but still creates a happens-before relationship.  (And Brian Goetz&#39;s book is a much easier read that trying to puzzle out the spec.)"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634697220,"post_id":69638262,"comment_id":123092246,"body_markdown":"@mark I don&#39;t see the word &quot;visibility&quot; anywhere in that text. `final` doesn&#39;t need `volatile` because its value never changes, but that has nothing to do with visibility. Are you still sure &quot;I&#39;m 100% wrong&quot;?","body":"@mark I don&#39;t see the word &quot;visibility&quot; anywhere in that text. <code>final</code> doesn&#39;t need <code>volatile</code> because its value never changes, but that has nothing to do with visibility. Are you still sure &quot;I&#39;m 100% wrong&quot;?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634697761,"post_id":69638262,"comment_id":123092349,"body_markdown":"Er, I don&#39;t think the OP is asking if the field needs to be both `volatile` and `final`.  It&#39;s one or the other.  And *happens-before* means &quot;visible&quot; in the JLS.  You need to read that entire chapter for it to make sense: JLS section 17.4.5. Happens-before Order *&quot;Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.&quot;*  I&#39;m not really interested in spoon feeding this to you.  Please make an effort on your own, or at least ask a question here that someone can answer. @Bohemian","body":"Er, I don&#39;t think the OP is asking if the field needs to be both <code>volatile</code> and <code>final</code>.  It&#39;s one or the other.  And <i>happens-before</i> means &quot;visible&quot; in the JLS.  You need to read that entire chapter for it to make sense: JLS section 17.4.5. Happens-before Order <i>&quot;Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.&quot;</i>  I&#39;m not really interested in spoon feeding this to you.  Please make an effort on your own, or at least ask a question here that someone can answer. @Bohemian"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634828433,"post_id":69638262,"comment_id":123136717,"body_markdown":"OP: look at user17206833&#39;s answer below.  It appears to (very cogently) explain that `y` can be 0 even if `volatile`.  Something I was not aware of, and seems to be a subtle point in the Java memory model.","body":"OP: look at user17206833&#39;s answer below.  It appears to (very cogently) explain that <code>y</code> can be 0 even if <code>volatile</code>.  Something I was not aware of, and seems to be a subtle point in the Java memory model."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635470128,"post_id":69638262,"comment_id":123313578,"body_markdown":"as to the other question that you posted, I will provide the same comment. This is a &quot;data race&quot;, yes, zero is such a possibility. The guarantees for `final` in the spec, are for _all_ fields, your example violates that. But it is very tricky, I agree. Although I really like these things, I sometimes get them wrong too.","body":"as to the other question that you posted, I will provide the same comment. This is a &quot;data race&quot;, yes, zero is such a possibility. The guarantees for <code>final</code> in the spec, are for <i>all</i> fields, your example violates that. But it is very tricky, I agree. Although I really like these things, I sometimes get them wrong too."}],"answers":[{"comments":[{"owner":{"account_id":392254,"reputation":3004,"user_id":753418,"accept_rate":64,"display_name":"Hlib"},"score":0,"creation_date":1634717805,"post_id":69638784,"comment_id":123097203,"body_markdown":"Does it mean I could observe `f.y` as 0? (when `y` is volatile)","body":"Does it mean I could observe <code>f.y</code> as 0? (when <code>y</code> is volatile)"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1634738253,"post_id":69638784,"comment_id":123106254,"body_markdown":"@Hlib It is very unlikely and I don&#39;t think so. Because in your example, if you say that you could see `0`, that means even both methods `writer()` and `reader()` are synchronized, it does not guarantee that the field has been initialized; isn&#39;t that break the whole language itself.","body":"@Hlib It is very unlikely and I don&#39;t think so. Because in your example, if you say that you could see <code>0</code>, that means even both methods <code>writer()</code> and <code>reader()</code> are synchronized, it does not guarantee that the field has been initialized; isn&#39;t that break the whole language itself."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634765547,"post_id":69638784,"comment_id":123117175,"body_markdown":"@Hlib No. For `f` to be not null, the initialization of the instance must have completed: The assignment of the instance to the variable `f` happens *after* instance initialization. See edits to answer.","body":"@Hlib No. For <code>f</code> to be not null, the initialization of the instance must have completed: The assignment of the instance to the variable <code>f</code> happens <i>after</i> instance initialization. See edits to answer."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1634765585,"post_id":69638784,"comment_id":123117185,"body_markdown":"@Darkman It is not possible to see `0` at the line in question.","body":"@Darkman It is not possible to see <code>0</code> at the line in question."},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":1,"creation_date":1634765930,"post_id":69638784,"comment_id":123117272,"body_markdown":"@Bohemian Yes, that&#39;s what I thought. It&#39;s all because of one line: `if(f != null)`.","body":"@Bohemian Yes, that&#39;s what I thought. It&#39;s all because of one line: <code>if(f != null)</code>."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":2,"creation_date":1634783187,"post_id":69638784,"comment_id":123120397,"body_markdown":"In reasoning &quot;For f to be not null, the initialization of the instance must have completed&quot; you are assuming sequential consistency, but the Java Memory Model guarantees sequential consistency only for correctly synchronized code, which this code is not, since `f` is shared through a data race.","body":"In reasoning &quot;For f to be not null, the initialization of the instance must have completed&quot; you are assuming sequential consistency, but the Java Memory Model guarantees sequential consistency only for correctly synchronized code, which this code is not, since <code>f</code> is shared through a data race."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635469900,"post_id":69638784,"comment_id":123313552,"body_markdown":"you need to look at the JLS guarantees, and in OPs example, there is a data race, zero is possible. This answer is wrong.","body":"you need to look at the JLS guarantees, and in OPs example, there is a data race, zero is possible. This answer is wrong."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":7,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634765436,"creation_date":1634687493,"answer_id":69638784,"question_id":69638262,"body_markdown":"Firstly, `volatile` and initialization are unrelated concepts: A field&#39;s initialization guarantees are unaffected by it being `volatile` or not.\r\n\r\nUnless `this` &quot;escapes&quot; from within the constructor (which is not the case here), the constructor is guaranteed to have completed execution *before* any other process can access the instance&#39;s fields/methods, so `y` must be initialized in `reader()` if `f != null`, ie\r\n\r\n    int j = f.y;  // will always see 4\r\n\r\n\r\nSee [JLS `volatile`][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Firstly, <code>volatile</code> and initialization are unrelated concepts: A field's initialization guarantees are unaffected by it being <code>volatile</code> or not.</p>\n<p>Unless <code>this</code> &quot;escapes&quot; from within the constructor (which is not the case here), the constructor is guaranteed to have completed execution <em>before</em> any other process can access the instance's fields/methods, so <code>y</code> must be initialized in <code>reader()</code> if <code>f != null</code>, ie</p>\n<pre><code>int j = f.y;  // will always see 4\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.1.4\" rel=\"nofollow noreferrer\">JLS <code>volatile</code></a></p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1635469726,"post_id":69639161,"comment_id":123313516,"body_markdown":"it is possible according to the `JLS`, since this is a data race, yes. It is impossible in the current implementation of the JVM (strictly taking into account OPs example), because it takes _at least_ one final field for the proper barriers to be inserted.","body":"it is possible according to the <code>JLS</code>, since this is a data race, yes. It is impossible in the current implementation of the JVM (strictly taking into account OPs example), because it takes <i>at least</i> one final field for the proper barriers to be inserted."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634691924,"creation_date":1634691924,"answer_id":69639161,"question_id":69638262,"body_markdown":"I think reading 0 is possible.\r\n\r\nThe spec [says](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.4):\r\n\r\n&gt; A write to a volatile variable `v` synchronizes-with all subsequent reads of `v` by any thread (where &quot;subsequent&quot; is defined according to the synchronization order). \r\n\r\nIn our case, we have a write and a read of the same variable, but there is nothing that ensures the read to be subsequent. In particular, the write and read occur in different threads that are not related by any other synchronization action.\r\n\r\nThat is, it is possible that the read will occur before the write in synchronization order.\r\n\r\nThis may sound surprising given that the writing thread writes `f` after `y`, and the reading thread reads `y` only if it detects `f` has been written. But since the write and read to `f` are not synchronized, the following [quote](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5) applies:\r\n\r\n&gt; More specifically, if two actions share a happens-before relationship, they do not necessarily have to appear to have happened in that order to any code with which they do not share a happens-before relationship. Writes in one thread that are in a data race with reads in another thread may, for example, appear to occur out of order to those reads. \r\n\r\nThe [explanatory notes to example 17.4.1](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4) also reaffirm that the runtime is permitted to reorder these writes:\r\n\r\n&gt; If some execution exhibited this behavior, then we would know that instruction 4 came before instruction 1, which came before instruction 2, which came before instruction 3, which came before instruction 4. This is, on the face of it, absurd.\r\n&gt;\r\n&gt; However, compilers are allowed to reorder the instructions in either thread, when this does not affect the execution of that thread in isolation.\r\n\r\nIn our case, the behavior of the writing thread, in isolation, is not affected by reordering the writes to `f` and `y`.","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>I think reading 0 is possible.</p>\n<p>The spec <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">says</a>:</p>\n<blockquote>\n<p>A write to a volatile variable <code>v</code> synchronizes-with all subsequent reads of <code>v</code> by any thread (where &quot;subsequent&quot; is defined according to the synchronization order).</p>\n</blockquote>\n<p>In our case, we have a write and a read of the same variable, but there is nothing that ensures the read to be subsequent. In particular, the write and read occur in different threads that are not related by any other synchronization action.</p>\n<p>That is, it is possible that the read will occur before the write in synchronization order.</p>\n<p>This may sound surprising given that the writing thread writes <code>f</code> after <code>y</code>, and the reading thread reads <code>y</code> only if it detects <code>f</code> has been written. But since the write and read to <code>f</code> are not synchronized, the following <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">quote</a> applies:</p>\n<blockquote>\n<p>More specifically, if two actions share a happens-before relationship, they do not necessarily have to appear to have happened in that order to any code with which they do not share a happens-before relationship. Writes in one thread that are in a data race with reads in another thread may, for example, appear to occur out of order to those reads.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">explanatory notes to example 17.4.1</a> also reaffirm that the runtime is permitted to reorder these writes:</p>\n<blockquote>\n<p>If some execution exhibited this behavior, then we would know that instruction 4 came before instruction 1, which came before instruction 2, which came before instruction 3, which came before instruction 4. This is, on the face of it, absurd.</p>\n<p>However, compilers are allowed to reorder the instructions in either thread, when this does not affect the execution of that thread in isolation.</p>\n</blockquote>\n<p>In our case, the behavior of the writing thread, in isolation, is not affected by reordering the writes to <code>f</code> and <code>y</code>.</p>\n"},{"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1634705618,"post_id":69639812,"comment_id":123093545,"body_markdown":"How do you know the read &quot;follows&quot; the write? Are you assuming the Java Memory Model to be sequentially consistent? [It&#39;s not](https://stackoverflow.com/questions/13247539/jmm-sequential-consistency).","body":"How do you know the read &quot;follows&quot; the write? Are you assuming the Java Memory Model to be sequentially consistent? <a href=\"https://stackoverflow.com/questions/13247539/jmm-sequential-consistency\">It&#39;s not</a>."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1634718136,"post_id":69639812,"comment_id":123097347,"body_markdown":"Correct. That why I am asking how you know this condition to be true?","body":"Correct. That why I am asking how you know this condition to be true?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634741993,"post_id":69639812,"comment_id":123108122,"body_markdown":"I&#39;m not sure I follow.  The OP is asking if a read of `y` will result in a 4 or a 0, after `y` is written with a 4 in the ctor when `y` is declared `volatile` (I think we and the OP all agree that if `y` is not `volatile` then of course it could be 0).  Surely this read of y will be 4 after the write of 4 in the ctor.  (The read only happens if `f` has been assigned (the OP checks for `null`) and `f` can only be assigned if the ctor has run.  I don&#39;t see any other possible code path.)","body":"I&#39;m not sure I follow.  The OP is asking if a read of <code>y</code> will result in a 4 or a 0, after <code>y</code> is written with a 4 in the ctor when <code>y</code> is declared <code>volatile</code> (I think we and the OP all agree that if <code>y</code> is not <code>volatile</code> then of course it could be 0).  Surely this read of y will be 4 after the write of 4 in the ctor.  (The read only happens if <code>f</code> has been assigned (the OP checks for <code>null</code>) and <code>f</code> can only be assigned if the ctor has run.  I don&#39;t see any other possible code path.)"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1634780630,"post_id":69639812,"comment_id":123120030,"body_markdown":"So you&#39;re assuming that operations done in different threads execute one after the other, in some particular order. That is known as sequential consistency. The problem is that the Java Memory Model guarantees sequential consistency only for correctly synchronized code, but the OP&#39;s code is not correctly synchronized, since `f` is shared through a data race. Incorrectly synchronized code need not be sequentially consistent, i.e. different threads may have a different perspective and  perceive memory updates in a different order from each other.","body":"So you&#39;re assuming that operations done in different threads execute one after the other, in some particular order. That is known as sequential consistency. The problem is that the Java Memory Model guarantees sequential consistency only for correctly synchronized code, but the OP&#39;s code is not correctly synchronized, since <code>f</code> is shared through a data race. Incorrectly synchronized code need not be sequentially consistent, i.e. different threads may have a different perspective and  perceive memory updates in a different order from each other."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1634827953,"post_id":69639812,"comment_id":123136438,"body_markdown":"user17206833&#39;s answer above is starting to convince me I&#39;m wrong.  I find it a little shocking that a write (of any field) could be reordered before a write to a `volatile` but it appears the JLS does allow this.  I&#39;m going to poke at this a bit more and see what I get.  (Also user17208506&#39;s answer below mine appears to be correct and deserves an up-vote.)","body":"user17206833&#39;s answer above is starting to convince me I&#39;m wrong.  I find it a little shocking that a write (of any field) could be reordered before a write to a <code>volatile</code> but it appears the JLS does allow this.  I&#39;m going to poke at this a bit more and see what I get.  (Also user17208506&#39;s answer below mine appears to be correct and deserves an up-vote.)"}],"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634828321,"creation_date":1634698693,"answer_id":69639812,"question_id":69638262,"body_markdown":"EDIT: My answer below looks like it&#39;s wrong.  `volatile` only requires that all reads and writes (and other &quot;actions&quot;) have completed when the write is made, but subsequent writes can still be reordered to occur before the write to the `volatile`.  Thus it is possible to see `f` before the write to `y` has occurred.\r\n\r\nWhich is really weird, but here we are.\r\n\r\nuser17206833&#39;s answer above mine appears to be correct and contains a link to a very useful resource, I suggest you check it out.\r\n\r\n----\r\n**Wrong stuff (I&#39;m leaving it up because it illustrate a common misconception):**\r\n\r\nOP I think I misread your question:\r\n\r\n*&quot;What if the y field in the following example would be volatile could we observe 0?&quot;*\r\n\r\nIf `y` is volatile, then no you cannot observe a 0.\r\n\r\n    class FinalFieldExample { \r\n      final int x;\r\n      volatile int y; \r\n\r\nIf this is what you mean, then the write to `y` followed by a read of `y` must create a *happens-before* edge for the read.  [The JLS says:](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5) *&quot;A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.&quot;* and never qualifies that statement requiring a read of a reference of some type.  The fact that `f` is neither `volatile` nor `final` should make no difference.\r\n\r\n","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>EDIT: My answer below looks like it's wrong.  <code>volatile</code> only requires that all reads and writes (and other &quot;actions&quot;) have completed when the write is made, but subsequent writes can still be reordered to occur before the write to the <code>volatile</code>.  Thus it is possible to see <code>f</code> before the write to <code>y</code> has occurred.</p>\n<p>Which is really weird, but here we are.</p>\n<p>user17206833's answer above mine appears to be correct and contains a link to a very useful resource, I suggest you check it out.</p>\n<hr />\n<p><strong>Wrong stuff (I'm leaving it up because it illustrate a common misconception):</strong></p>\n<p>OP I think I misread your question:</p>\n<p><em>&quot;What if the y field in the following example would be volatile could we observe 0?&quot;</em></p>\n<p>If <code>y</code> is volatile, then no you cannot observe a 0.</p>\n<pre><code>class FinalFieldExample { \n  final int x;\n  volatile int y; \n</code></pre>\n<p>If this is what you mean, then the write to <code>y</code> followed by a read of <code>y</code> must create a <em>happens-before</em> edge for the read.  <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">The JLS says:</a> <em>&quot;A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.&quot;</em> and never qualifies that statement requiring a read of a reference of some type.  The fact that <code>f</code> is neither <code>volatile</code> nor <code>final</code> should make no difference.</p>\n"},{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1635469820,"post_id":69654998,"comment_id":123313536,"body_markdown":"you need to look closely at the jcstress example + OP&#39;s example. There _is_ a `final` in OPs example, which, in the current implementations (I&#39;ve looked at 8 to 17), makes a big difference: zero is not possible. But JLS allows it.","body":"you need to look closely at the jcstress example + OP&#39;s example. There <i>is</i> a <code>final</code> in OPs example, which, in the current implementations (I&#39;ve looked at 8 to 17), makes a big difference: zero is not possible. But JLS allows it."}],"tags":[],"owner":{"account_id":23096877,"reputation":66,"user_id":17206833,"display_name":"user17206833"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1685895612,"creation_date":1634781991,"answer_id":69654998,"question_id":69638262,"body_markdown":"Yes, it is possible to see `0` when\r\n```java\r\nclass FinalFieldExample { \r\n  final int x;\r\n  volatile int y;\r\n  static FinalFieldExample f;\r\n  ...\r\n}\r\n```\r\n\r\nThe short explanation:\r\n- `writer()` thread publishes `f = new FinalFieldExample()` object via a data race\r\n- because of this data race, `reader()` thread is allowed see `f = new FinalFieldExample()` object as semi-initialized.  \r\n  In particular, `reader()` thread can see a value of `y` that was before `y = 4;` — i.e. initial value `0`.\r\n\r\nMore detailed explanations are [here](https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-volatiles-are-finals).\r\n\r\nYou can reproduce this behavior on ARM64 with [this jcstress test](https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java).","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Yes, it is possible to see <code>0</code> when</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  final int x;\n  volatile int y;\n  static FinalFieldExample f;\n  ...\n}\n</code></pre>\n<p>The short explanation:</p>\n<ul>\n<li><code>writer()</code> thread publishes <code>f = new FinalFieldExample()</code> object via a data race</li>\n<li>because of this data race, <code>reader()</code> thread is allowed see <code>f = new FinalFieldExample()</code> object as semi-initialized.<br />\nIn particular, <code>reader()</code> thread can see a value of <code>y</code> that was before <code>y = 4;</code> — i.e. initial value <code>0</code>.</li>\n</ul>\n<p>More detailed explanations are <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-volatiles-are-finals\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can reproduce this behavior on ARM64 with <a href=\"https://github.com/openjdk/jcstress/blob/0.16/jcstress-samples/src/main/java/org/openjdk/jcstress/samples/jmm/advanced/AdvancedJMM_13_VolatileVsFinal.java\" rel=\"nofollow noreferrer\">this jcstress test</a>.</p>\n"},{"tags":[],"owner":{"account_id":23098828,"reputation":21,"user_id":17208506,"display_name":"user17208506"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1634799642,"creation_date":1634799642,"answer_id":69657309,"question_id":69638262,"body_markdown":"Yes, `0` is possible when `x` is volatile, because there is no guarantee that the write `x = 3` in the `writer()` thread **always** [_happens-before_](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5) the read `local_f.x` in the `reader()` thread.\r\n\r\n```java\r\nclass FinalFieldExample { \r\n  volatile int x;\r\n  static FinalFieldExample f;\r\n\r\n  public FinalFieldExample() {\r\n    x = 3;\r\n  }\r\n\r\n  static void writer() {\r\n    f = new FinalFieldExample();\r\n  }\r\n\r\n  static void reader() {\r\n    var local_f = f;\r\n    if (local_f != null) {\r\n        int i = local_f.x;  // could see 0\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nAs a result, even though `x` is `volatile` (which means that all reads and writes to `x` happen in a global order), nothing prevents the read `local_f.x` in the `reader()` thread from happening before the write `x = 3` in the `writer()` thread.  \r\n`local_f.x` in these case will return `0` (the [default value](https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.4) for `int`, which works like an initial write).\r\n\r\nThe problem is that after the `reader()` thread reads `f`, there is no guarantee (i.e. no _happens-before_ relation) that it sees the inner state on `f` correctly: i.e. it may not see the write `x = 3` into the inner field `f.x` made by the `writer()` thread in `FinalFieldExample` constructor.\r\n\r\nYou can create this _happens-before_ relation by:\r\n- either making `f` `volatile` (`x` can be made non-volatile)\r\n  ```java\r\n  class FinalFieldExample { \r\n    int x;\r\n    static volatile FinalFieldExample f;\r\n    ...\r\n  }\r\n  ```\r\n  [From the JLS](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5):\r\n  &gt; A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.\r\n- or making `x` `final` instead of `volatile`\r\n  ```java\r\n  class FinalFieldExample { \r\n    final int x;\r\n    static FinalFieldExample f;\r\n    ...\r\n  }\r\n  ```\r\n  [From the JLS](https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5):\r\n  &gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p>Yes, <code>0</code> is possible when <code>x</code> is volatile, because there is no guarantee that the write <code>x = 3</code> in the <code>writer()</code> thread <strong>always</strong> <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\"><em>happens-before</em></a> the read <code>local_f.x</code> in the <code>reader()</code> thread.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  volatile int x;\n  static FinalFieldExample f;\n\n  public FinalFieldExample() {\n    x = 3;\n  }\n\n  static void writer() {\n    f = new FinalFieldExample();\n  }\n\n  static void reader() {\n    var local_f = f;\n    if (local_f != null) {\n        int i = local_f.x;  // could see 0\n    }\n  }\n}\n</code></pre>\n<p>As a result, even though <code>x</code> is <code>volatile</code> (which means that all reads and writes to <code>x</code> happen in a global order), nothing prevents the read <code>local_f.x</code> in the <code>reader()</code> thread from happening before the write <code>x = 3</code> in the <code>writer()</code> thread.<br />\n<code>local_f.x</code> in these case will return <code>0</code> (the <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-17.html#jls-17.4.4\" rel=\"nofollow noreferrer\">default value</a> for <code>int</code>, which works like an initial write).</p>\n<p>The problem is that after the <code>reader()</code> thread reads <code>f</code>, there is no guarantee (i.e. no <em>happens-before</em> relation) that it sees the inner state on <code>f</code> correctly: i.e. it may not see the write <code>x = 3</code> into the inner field <code>f.x</code> made by the <code>writer()</code> thread in <code>FinalFieldExample</code> constructor.</p>\n<p>You can create this <em>happens-before</em> relation by:</p>\n<ul>\n<li>either making <code>f</code> <code>volatile</code> (<code>x</code> can be made non-volatile)\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  int x;\n  static volatile FinalFieldExample f;\n  ...\n}\n</code></pre>\n<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">From the JLS</a>:\n<blockquote>\n<p>A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.</p>\n</blockquote>\n</li>\n<li>or making <code>x</code> <code>final</code> instead of <code>volatile</code>\n<pre class=\"lang-java prettyprint-override\"><code>class FinalFieldExample { \n  final int x;\n  static FinalFieldExample f;\n  ...\n}\n</code></pre>\n<a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5\" rel=\"nofollow noreferrer\">From the JLS</a>:\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n</li>\n</ul>\n"}],"owner":{"account_id":392254,"reputation":3004,"user_id":753418,"accept_rate":64,"display_name":"Hlib"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69654998,"answer_count":5,"score":6,"last_activity_date":1685895612,"creation_date":1634682350,"question_id":69638262,"body_markdown":"[Here][1]:\r\n\r\n&gt; An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object&#39;s final fields.\r\n\r\nAre the same guarantees held for the `volatile` field?\r\nWhat if the `y` field in the following example would be `volatile` could we observe `0`?\r\n\r\n\r\n    class FinalFieldExample { \r\n    final int x;\r\n    int y; \r\n    static FinalFieldExample f;\r\n\r\n    public FinalFieldExample() {\r\n        x = 3; \r\n        y = 4; \r\n    } \r\n\r\n    static void writer() {\r\n        f = new FinalFieldExample();\r\n    } \r\n\r\n    static void reader() {\r\n        if (f != null) {\r\n            int i = f.x;  // guaranteed to see 3  \r\n            int j = f.y;  // could see 0\r\n        } \r\n    } \r\n}\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5","title":"Is it guaranteed that volatile field would be properly initialized","body":"<p><a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-17.html#jls-17.5\" rel=\"noreferrer\">Here</a>:</p>\n<blockquote>\n<p>An object is considered to be completely initialized when its constructor finishes. A thread that can only see a reference to an object after that object has been completely initialized is guaranteed to see the correctly initialized values for that object's final fields.</p>\n</blockquote>\n<p>Are the same guarantees held for the <code>volatile</code> field?\nWhat if the <code>y</code> field in the following example would be <code>volatile</code> could we observe <code>0</code>?</p>\n<pre><code>class FinalFieldExample { \nfinal int x;\nint y; \nstatic FinalFieldExample f;\n\npublic FinalFieldExample() {\n    x = 3; \n    y = 4; \n} \n\nstatic void writer() {\n    f = new FinalFieldExample();\n} \n\nstatic void reader() {\n    if (f != null) {\n        int i = f.x;  // guaranteed to see 3  \n        int j = f.y;  // could see 0\n    } \n} \n</code></pre>\n<p>}</p>\n"},{"tags":["java","json","data-binding","jackson"],"comments":[{"owner":{"account_id":103609,"reputation":3905,"user_id":277413,"accept_rate":67,"display_name":"pulkitsinghal"},"score":3,"creation_date":1374069037,"post_id":4486787,"comment_id":25794307,"body_markdown":"I found this useful to avoid creating a wrapper class: `Map dummy&lt;String,Student&gt; = myClientResponse.getEntity(new GenericType&lt;Map&lt;String, Student&gt;&gt;(){});` and then `Student myStudent = dummy.get(&quot;wrapper&quot;);`","body":"I found this useful to avoid creating a wrapper class: <code>Map dummy&lt;String,Student&gt; = myClientResponse.getEntity(new GenericType&lt;Map&lt;String, Student&gt;&gt;(){});</code> and then <code>Student myStudent = dummy.get(&quot;wrapper&quot;);</code>"},{"owner":{"account_id":1046620,"reputation":3372,"user_id":1051462,"display_name":"Dmitri Algazin"},"score":9,"creation_date":1422611661,"post_id":4486787,"comment_id":44828540,"body_markdown":"JSON should looks like: String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;  if you are expecting Wrapper object in your REST POST request","body":"JSON should looks like: String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;  if you are expecting Wrapper object in your REST POST request"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":4,"creation_date":1446114407,"post_id":4486787,"comment_id":54613434,"body_markdown":"Related (but different) question: [Ignoring new fields on JSON objects using Jackson](http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson)","body":"Related (but different) question: <a href=\"http://stackoverflow.com/questions/5455014/ignoring-new-fields-on-json-objects-using-jackson\">Ignoring new fields on JSON objects using Jackson</a>"},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":6,"creation_date":1446126976,"post_id":4486787,"comment_id":54622050,"body_markdown":"And incidentally, most answers to _this_ question actually answer a different question, namely one similar to the one I linke above.","body":"And incidentally, most answers to <i>this</i> question actually answer a different question, namely one similar to the one I linke above."},{"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"score":8,"creation_date":1518518836,"post_id":4486787,"comment_id":84530302,"body_markdown":"**majority of answers help brush problem under rug rather than actually solving it** :(","body":"<b>majority of answers help brush problem under rug rather than actually solving it</b> :("},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":1,"creation_date":1534758406,"post_id":4486787,"comment_id":90805722,"body_markdown":"It is so funny that why so many answers in this questions answer the things that are not related to the questions ?  Apparently , the OP does not want to ignore deserialising the &quot;wrapper&quot; property ........","body":"It is so funny that why so many answers in this questions answer the things that are not related to the questions ?  Apparently , the OP does not want to ignore deserialising the &quot;wrapper&quot; property ........"},{"owner":{"account_id":46523,"reputation":5329,"user_id":137507,"accept_rate":75,"display_name":"david.barkhuizen"},"score":1,"creation_date":1564150606,"post_id":4486787,"comment_id":100948014,"body_markdown":"@NoobEditor sometimes you can only fix what&#39;s under your control, and the rest you have to ignore","body":"@NoobEditor sometimes you can only fix what&#39;s under your control, and the rest you have to ignore"}],"answers":[{"comments":[{"owner":{"account_id":262933,"reputation":10021,"user_id":548167,"accept_rate":25,"display_name":"jshree"},"score":0,"creation_date":1292818878,"post_id":4486816,"comment_id":4907614,"body_markdown":"Thanks Jim. I tried that and it did not fix the problem. I am wondering if I am missing some annotation..","body":"Thanks Jim. I tried that and it did not fix the problem. I am wondering if I am missing some annotation.."},{"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"score":1,"creation_date":1292820481,"post_id":4486816,"comment_id":4907717,"body_markdown":"Hmm, what happens when you create the equivalent data in Java and then use Jackson to *write* it out in JSON.  Any difference between that JSON and the JSON above should be a clue to what&#39;s going wrong.","body":"Hmm, what happens when you create the equivalent data in Java and then use Jackson to <i>write</i> it out in JSON.  Any difference between that JSON and the JSON above should be a clue to what&#39;s going wrong."},{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1446126761,"post_id":4486816,"comment_id":54621865,"body_markdown":"This answer worked for me, with the example from the question.","body":"This answer worked for me, with the example from the question."}],"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"comment_count":3,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1292818243,"creation_date":1292818243,"answer_id":4486816,"question_id":4486787,"body_markdown":"Jackson is complaining because it can&#39;t find a field in your class Wrapper that&#39;s called &quot;wrapper&quot;.  It&#39;s doing this because your JSON object has a property called &quot;wrapper&quot;.\r\n\r\nI think the fix is to rename your Wrapper class&#39;s field to &quot;wrapper&quot; instead of &quot;students&quot;.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Jackson is complaining because it can't find a field in your class Wrapper that's called \"wrapper\".  It's doing this because your JSON object has a property called \"wrapper\".</p>\n\n<p>I think the fix is to rename your Wrapper class's field to \"wrapper\" instead of \"students\".</p>\n"},{"comments":[{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1506256230,"post_id":4502923,"comment_id":79737362,"body_markdown":"Please elaborate - which getter needs to be changed or annotated?","body":"Please elaborate - which getter needs to be changed or annotated?"},{"owner":{"account_id":3190994,"reputation":1286,"user_id":2695227,"display_name":"pedram bashiri"},"score":0,"creation_date":1533842319,"post_id":4502923,"comment_id":90507350,"body_markdown":"you mean annotated with @JsonGetter(&quot;wrapper&quot;), right?","body":"you mean annotated with @JsonGetter(&quot;wrapper&quot;), right?"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1534457755,"post_id":4502923,"comment_id":90723527,"body_markdown":"@pedrambashiri No, I mean `@JsonProperty`. While `@JsonGetter` is a legal alias, it is rarely used as `@JsonProperty` works for getters, setters and fields; setters and getters can be distinguished by signature (one takes no arguments, returns non-void; other takes one argument).","body":"@pedrambashiri No, I mean <code>@JsonProperty</code>. While <code>@JsonGetter</code> is a legal alias, it is rarely used as <code>@JsonProperty</code> works for getters, setters and fields; setters and getters can be distinguished by signature (one takes no arguments, returns non-void; other takes one argument)."},{"owner":{"account_id":7562605,"reputation":1356,"user_id":5739507,"display_name":"Andrew Kirna"},"score":0,"creation_date":1535557691,"post_id":4502923,"comment_id":91113249,"body_markdown":"This is the answer I was looking for! Sounds like Jackson has trouble mapping the source JSON to your POJO, but you can guarantee matches by tagging the getters. Thanks!","body":"This is the answer I was looking for! Sounds like Jackson has trouble mapping the source JSON to your POJO, but you can guarantee matches by tagging the getters. Thanks!"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":4,"down_vote_count":0,"up_vote_count":155,"is_accepted":false,"score":155,"last_activity_date":1522769927,"creation_date":1292958098,"answer_id":4502923,"question_id":4486787,"body_markdown":"The first answer is almost correct, but what is needed is to change getter method, NOT field -- field is private (and not auto-detected); further, getters have precedence over fields if both are visible.(There are ways to make private fields visible, too, but if you want to have getter there&#39;s not much point)\r\n\r\nSo getter should either be named `getWrapper()`, or annotated with:\r\n\r\n    @JsonProperty(&quot;wrapper&quot;)\r\n\r\nIf you prefer getter method name as is.\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The first answer is almost correct, but what is needed is to change getter method, NOT field -- field is private (and not auto-detected); further, getters have precedence over fields if both are visible.(There are ways to make private fields visible, too, but if you want to have getter there's not much point)</p>\n\n<p>So getter should either be named <code>getWrapper()</code>, or annotated with:</p>\n\n<pre><code>@JsonProperty(\"wrapper\")\n</code></pre>\n\n<p>If you prefer getter method name as is.</p>\n"},{"comments":[{"owner":{"account_id":110287,"reputation":468,"user_id":291892,"accept_rate":40,"display_name":"Jon Lorusso"},"score":15,"creation_date":1320336780,"post_id":7546047,"comment_id":9784703,"body_markdown":"Ariel, is there any way to declare this external to the class?","body":"Ariel, is there any way to declare this external to the class?"},{"owner":{"account_id":934485,"reputation":14009,"user_id":963674,"display_name":"Ariel Kogan"},"score":3,"creation_date":1321283155,"post_id":7546047,"comment_id":9965184,"body_markdown":"I haven&#39;t done it but I believe that you can get somewhere in the annotations processing code and add the behavior programatically, although I can&#39;t think why you would like to do it. Can you give me an example?","body":"I haven&#39;t done it but I believe that you can get somewhere in the annotations processing code and add the behavior programatically, although I can&#39;t think why you would like to do it. Can you give me an example?"},{"owner":{"account_id":110287,"reputation":468,"user_id":291892,"accept_rate":40,"display_name":"Jon Lorusso"},"score":5,"creation_date":1321294762,"post_id":7546047,"comment_id":9969007,"body_markdown":"I&#39;m serializing classes that I do not own (cannot modify).  In one view, I&#39;d like to serialize with a certain set of fields.  In another view, I want a different set of fields serialized (or perhaps rename the properties in the JSON).","body":"I&#39;m serializing classes that I do not own (cannot modify).  In one view, I&#39;d like to serialize with a certain set of fields.  In another view, I want a different set of fields serialized (or perhaps rename the properties in the JSON)."},{"owner":{"account_id":309077,"reputation":24064,"user_id":621338,"accept_rate":90,"display_name":"necromancer"},"score":28,"creation_date":1367210167,"post_id":7546047,"comment_id":23285538,"body_markdown":"i must add that you do need the `(ignoreUnknown = true)` when annotating your class otherwise it won&#39;t work","body":"i must add that you do need the <code>(ignoreUnknown = true)</code> when annotating your class otherwise it won&#39;t work"},{"owner":{"account_id":552851,"reputation":2321,"user_id":918094,"accept_rate":25,"display_name":"Ric Jafe"},"score":109,"creation_date":1415980219,"post_id":7546047,"comment_id":42412198,"body_markdown":"Juli&#225;n, this is not the correct answer to the question of the OP. However, I suspect that people come here because they google how to ignore properties not defined in POJO and this is the first result, so they end up up-voting this and Suresh&#39;s response (thats what happened to me). Although the original question has nothing to do with wanting to ignore undefined properties.","body":"Juli&#225;n, this is not the correct answer to the question of the OP. However, I suspect that people come here because they google how to ignore properties not defined in POJO and this is the first result, so they end up up-voting this and Suresh&#39;s response (thats what happened to me). Although the original question has nothing to do with wanting to ignore undefined properties."},{"owner":{"account_id":2185757,"reputation":2746,"user_id":2627680,"display_name":"headsvk"},"score":19,"creation_date":1475686812,"post_id":7546047,"comment_id":67046296,"body_markdown":"this is a very stupid default setting imho, if you add a property to your api, the whole serialization fails","body":"this is a very stupid default setting imho, if you add a property to your api, the whole serialization fails"},{"owner":{"account_id":2421927,"reputation":1760,"user_id":2185573,"accept_rate":76,"display_name":"Arunav Sanyal"},"score":1,"creation_date":1481587808,"post_id":7546047,"comment_id":69427901,"body_markdown":"Why on earth did this answer get so many updates. This does not solve the problem, it just ignores it!!!","body":"Why on earth did this answer get so many updates. This does not solve the problem, it just ignores it!!!"},{"owner":{"account_id":881880,"reputation":8346,"user_id":270143,"accept_rate":88,"display_name":"ycomp"},"score":0,"creation_date":1491183012,"post_id":7546047,"comment_id":73424493,"body_markdown":"I don&#39;t understand the difference between these 2 syntaxes above - can someone explain?","body":"I don&#39;t understand the difference between these 2 syntaxes above - can someone explain?"},{"owner":{"account_id":934485,"reputation":14009,"user_id":963674,"display_name":"Ariel Kogan"},"score":2,"creation_date":1491289947,"post_id":7546047,"comment_id":73473021,"body_markdown":"@ycomp, these are not 2 syntaxes, `@JsonIgnoreProperties` is the annotation and `@JsonIgnoreProperties(ignoreUnknown = true)` a possible way to use it. You can also specify which fields to ignore as stated on Jackson&#39;s documentation (e.g. `@JsonIgnoreProperties({ &quot;extra&quot;, &quot;uselessValue&quot; })`)","body":"@ycomp, these are not 2 syntaxes, <code>@JsonIgnoreProperties</code> is the annotation and <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> a possible way to use it. You can also specify which fields to ignore as stated on Jackson&#39;s documentation (e.g. <code>@JsonIgnoreProperties({ &quot;extra&quot;, &quot;uselessValue&quot; })</code>)"},{"owner":{"account_id":25832,"reputation":16218,"user_id":66708,"accept_rate":86,"display_name":"Junior Mayh&#233;"},"score":0,"creation_date":1502556555,"post_id":7546047,"comment_id":78263619,"body_markdown":"I got to this stackoverflow post because of this error message in mongodb jackson library. In my case I did not need to add this `@JsonIgnoreProperties` annotation. I was just trying to make &quot;_id&quot; property work here as told in jackson tutorial http://mongojack.org/tutorial.html, but I coudn&#39;t. Since `@Objectd @JsonProperty(&quot;_id&quot;) public String getId(){return this._id}` do not work, I had to replace it with `@ObjectId @JsonProperty(&quot;_id&quot;) public String _id;`. Now the runtime error is gone and I am not using @JsonIgnoreProperties. The version is 1.4.2","body":"I got to this stackoverflow post because of this error message in mongodb jackson library. In my case I did not need to add this <code>@JsonIgnoreProperties</code> annotation. I was just trying to make &quot;_id&quot; property work here as told in jackson tutorial <a href=\"http://mongojack.org/tutorial.html\" rel=\"nofollow noreferrer\">mongojack.org/tutorial.html</a>, but I coudn&#39;t. Since <code>@Objectd @JsonProperty(&quot;_id&quot;) public String getId(){return this._id}</code> do not work, I had to replace it with <code>@ObjectId @JsonProperty(&quot;_id&quot;) public String _id;</code>. Now the runtime error is gone and I am not using @JsonIgnoreProperties. The version is 1.4.2"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1506256140,"post_id":7546047,"comment_id":79737329,"body_markdown":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a `Wrapper` instance where the `students` list is `null` or empty.","body":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a <code>Wrapper</code> instance where the <code>students</code> list is <code>null</code> or empty."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1512793702,"post_id":7546047,"comment_id":82411311,"body_markdown":"If you don&#39;t want your application to respond to unknown props defaultly by throwing a 500 error and barfing out all your property names, then this is the correct answer. I really don&#39;t know why most would desire this default behavior.","body":"If you don&#39;t want your application to respond to unknown props defaultly by throwing a 500 error and barfing out all your property names, then this is the correct answer. I really don&#39;t know why most would desire this default behavior."},{"owner":{"account_id":5912913,"reputation":934,"user_id":4652536,"accept_rate":17,"display_name":"yuxh"},"score":0,"creation_date":1518004996,"post_id":7546047,"comment_id":84323901,"body_markdown":"@Ariel Kogan ,so how does it behave just using @ JsonIgnoreProperties, I find it&#39;s ok to compile","body":"@Ariel Kogan ,so how does it behave just using @ JsonIgnoreProperties, I find it&#39;s ok to compile"},{"owner":{"account_id":934485,"reputation":14009,"user_id":963674,"display_name":"Ariel Kogan"},"score":0,"creation_date":1518098181,"post_id":7546047,"comment_id":84372021,"body_markdown":"@yuxh, `ignoreUnknown` defaults to `false`. You can check the [documentation](http://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#ignoreUnknown()).","body":"@yuxh, <code>ignoreUnknown</code> defaults to <code>false</code>. You can check the <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html#ignoreUnknown()\" rel=\"nofollow noreferrer\">documentation</a>."},{"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"score":0,"creation_date":1529691441,"post_id":7546047,"comment_id":88981787,"body_markdown":"&quot;I&#39;m serializing classes that I do not own (cannot modify)&quot;\n\nYou can create a class that doesn&#39;t do anything other than extend the class you want to deserialize, and put the `@JsonIgnoreProperties` annotation there.","body":"&quot;I&#39;m serializing classes that I do not own (cannot modify)&quot;  You can create a class that doesn&#39;t do anything other than extend the class you want to deserialize, and put the <code>@JsonIgnoreProperties</code> annotation there."},{"owner":{"account_id":2139928,"reputation":1826,"user_id":1898831,"accept_rate":60,"display_name":"Oren"},"score":1,"creation_date":1591128239,"post_id":7546047,"comment_id":109937313,"body_markdown":"FWIW after almost a decade, regarding @JonLorusso&#39;s question about annotating classes you do not own, take a look at Jackson Mixin (and the function addMixInAnnotations). It&#39;s meant exactly for that.","body":"FWIW after almost a decade, regarding @JonLorusso&#39;s question about annotating classes you do not own, take a look at Jackson Mixin (and the function addMixInAnnotations). It&#39;s meant exactly for that."},{"owner":{"account_id":5709718,"reputation":61,"user_id":4512158,"display_name":"Aly Gonz&#225;lez"},"score":0,"creation_date":1671461526,"post_id":7546047,"comment_id":132098110,"body_markdown":"In my case I got this response because the resource anwers with 500 error. I setted with @JsonIgnoreProperties and then get null. I knew the problem was then REST.","body":"In my case I got this response because the resource anwers with 500 error. I setted with @JsonIgnoreProperties and then get null. I knew the problem was then REST."}],"tags":[],"owner":{"account_id":934485,"reputation":14009,"user_id":963674,"display_name":"Ariel Kogan"},"comment_count":17,"down_vote_count":21,"up_vote_count":1395,"is_accepted":false,"score":1374,"last_activity_date":1543173721,"creation_date":1316960018,"answer_id":7546047,"question_id":4486787,"body_markdown":"You can use Jackson&#39;s class-level annotation:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties\r\n\r\n    @JsonIgnoreProperties\r\n    class { ...&#160;}\r\n\r\nIt will ignore every property you haven&#39;t defined in your POJO. Very useful when you are just looking for a couple of properties in the JSON and don&#39;t want to write the whole mapping. More info at [Jackson&#39;s website][1]. If you want to ignore any non declared property, you should write:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You can use Jackson's class-level annotation:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties\n\n@JsonIgnoreProperties\nclass { ... }\n</code></pre>\n\n<p>It will ignore every property you haven't defined in your POJO. Very useful when you are just looking for a couple of properties in the JSON and don't want to write the whole mapping. More info at <a href=\"https://github.com/FasterXML/jackson-annotations\" rel=\"noreferrer\">Jackson's website</a>. If you want to ignore any non declared property, you should write:</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73100,"reputation":3555,"user_id":210713,"accept_rate":78,"display_name":"TedTrippin"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1638504045,"creation_date":1334591024,"answer_id":10177316,"question_id":4486787,"body_markdown":"Problem is your property in your JSON is called &quot;wrapper&quot; and your property in Wrapper.class is called &quot;students&quot;.\r\n\r\nSo either...\r\n\r\n1. Correct the name of the property in either the class or JSON.\r\n2. Annotate your property variable as per StaxMan&#39;s comment.\r\n3. Annotate the setter (if you have one)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Problem is your property in your JSON is called &quot;wrapper&quot; and your property in Wrapper.class is called &quot;students&quot;.</p>\n<p>So either...</p>\n<ol>\n<li>Correct the name of the property in either the class or JSON.</li>\n<li>Annotate your property variable as per StaxMan's comment.</li>\n<li>Annotate the setter (if you have one)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1564045,"reputation":181,"user_id":1453230,"display_name":"mytwocentsads"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1638504434,"creation_date":1339578412,"answer_id":11011560,"question_id":4486787,"body_markdown":"I have tried the below method and it works for such JSON format reading with Jackson.\r\nUse the already suggested solution of: annotating getter with `@JsonProperty(&quot;wrapper&quot;)`\r\n\r\nYour wrapper class\r\n\r\n    public Class Wrapper{ \r\n      private List&lt;Student&gt; students;\r\n      //getters &amp; setters here \r\n    } \r\n\r\nMy Suggestion of wrapper class\r\n\r\n    public Class Wrapper{ \r\n\r\n      private StudentHelper students; \r\n\r\n      //getters &amp; setters here \r\n      // Annotate getter\r\n      @JsonProperty(&quot;wrapper&quot;)\r\n      StudentHelper getStudents() {\r\n        return students;\r\n      }  \r\n    } \r\n\r\n\r\n    public class StudentHelper {\r\n\r\n      @JsonProperty(&quot;Student&quot;)\r\n      public List&lt;Student&gt; students; \r\n\r\n      //CTOR, getters and setters\r\n      //NOTE: If students is private annotate getter with the annotation @JsonProperty(&quot;Student&quot;)\r\n    }\r\n\r\nThis would however give you the output of the format:\r\n\r\n    {&quot;wrapper&quot;:{&quot;student&quot;:[{&quot;id&quot;:13,&quot;name&quot;:Fred}]}}\r\n\r\nAlso for more information refer to [https://github.com/FasterXML/jackson-annotations][1] \r\n\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-annotations","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I have tried the below method and it works for such JSON format reading with Jackson.\nUse the already suggested solution of: annotating getter with <code>@JsonProperty(&quot;wrapper&quot;)</code></p>\n<p>Your wrapper class</p>\n<pre><code>public Class Wrapper{ \n  private List&lt;Student&gt; students;\n  //getters &amp; setters here \n} \n</code></pre>\n<p>My Suggestion of wrapper class</p>\n<pre><code>public Class Wrapper{ \n\n  private StudentHelper students; \n\n  //getters &amp; setters here \n  // Annotate getter\n  @JsonProperty(&quot;wrapper&quot;)\n  StudentHelper getStudents() {\n    return students;\n  }  \n} \n\n\npublic class StudentHelper {\n\n  @JsonProperty(&quot;Student&quot;)\n  public List&lt;Student&gt; students; \n\n  //CTOR, getters and setters\n  //NOTE: If students is private annotate getter with the annotation @JsonProperty(&quot;Student&quot;)\n}\n</code></pre>\n<p>This would however give you the output of the format:</p>\n<pre><code>{&quot;wrapper&quot;:{&quot;student&quot;:[{&quot;id&quot;:13,&quot;name&quot;:Fred}]}}\n</code></pre>\n<p>Also for more information refer to <a href=\"https://github.com/FasterXML/jackson-annotations\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-annotations</a></p>\n"},{"comments":[{"owner":{"account_id":153802,"reputation":8952,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"score":7,"creation_date":1349443782,"post_id":12730655,"comment_id":17220942,"body_markdown":"This didn&#39;t work for me, it still fails on unknown properties","body":"This didn&#39;t work for me, it still fails on unknown properties"},{"owner":{"account_id":1018688,"reputation":7893,"user_id":1029657,"accept_rate":36,"display_name":"Suresh"},"score":1,"creation_date":1349628692,"post_id":12730655,"comment_id":17259237,"body_markdown":"Could u please paste atleast a piece of code what exactly u are doing, You might have missed something there..Either by doing this or by using &quot;@JsonIgnoreProperties(ignoreUnknown = true)\n&quot; Your problem should be resolved. Anyways good luck.","body":"Could u please paste atleast a piece of code what exactly u are doing, You might have missed something there..Either by doing this or by using &quot;@JsonIgnoreProperties(ignoreUnknown = true) &quot; Your problem should be resolved. Anyways good luck."},{"owner":{"account_id":153802,"reputation":8952,"user_id":369317,"accept_rate":73,"display_name":"Denys Kniazhev-Support Ukraine"},"score":0,"creation_date":1349700771,"post_id":12730655,"comment_id":17278360,"body_markdown":"I run this code: http://pastebin.com/rdBNezEn. However, I have realized that what this question asks is a bit different. Your answer is valid","body":"I run this code: <a href=\"http://pastebin.com/rdBNezEn\" rel=\"nofollow noreferrer\">pastebin.com/rdBNezEn</a>. However, I have realized that what this question asks is a bit different. Your answer is valid"},{"owner":{"account_id":577414,"reputation":1007,"user_id":236607,"display_name":"raf"},"score":36,"creation_date":1359075218,"post_id":12730655,"comment_id":20233647,"body_markdown":"FWIW -- I had to import this slightly different enum: org.codehaus.jackson.map.DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES","body":"FWIW -- I had to import this slightly different enum: org.codehaus.jackson.map.DeserializationConfig.Feature.FAIL_&zwnj;&#8203;ON_UNKNOWN_PROPERTIE&zwnj;&#8203;S"},{"owner":{"account_id":1003671,"reputation":3021,"user_id":1017939,"accept_rate":56,"display_name":"755"},"score":13,"creation_date":1374273616,"post_id":12730655,"comment_id":25893195,"body_markdown":"^Above is for Jackson versions prior to 2","body":"^Above is for Jackson versions prior to 2"},{"owner":{"account_id":259477,"reputation":4553,"user_id":542395,"accept_rate":65,"display_name":"icfantv"},"score":17,"creation_date":1429830632,"post_id":12730655,"comment_id":47798643,"body_markdown":"You can also chain these calls like:  getObjectMapper().disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)","body":"You can also chain these calls like:  getObjectMapper().disable(DeserializationFeature.FAIL_ON_UNK&zwnj;&#8203;NOWN_PROPERTIES)"},{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":1,"creation_date":1506256164,"post_id":12730655,"comment_id":79737340,"body_markdown":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a Wrapper instance where the students list is null or empty.","body":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a Wrapper instance where the students list is null or empty."},{"owner":{"account_id":8881618,"reputation":434,"user_id":6631495,"display_name":"Gaurav Pingale"},"score":1,"creation_date":1582113038,"post_id":12730655,"comment_id":106663104,"body_markdown":"mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false); worked for me","body":"mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNO&zwnj;&#8203;WN_PROPERTIES, false); worked for me"}],"tags":[],"owner":{"account_id":1018688,"reputation":7893,"user_id":1029657,"accept_rate":36,"display_name":"Suresh"},"comment_count":8,"down_vote_count":10,"up_vote_count":747,"is_accepted":false,"score":737,"last_activity_date":1393943784,"creation_date":1349364468,"answer_id":12730655,"question_id":4486787,"body_markdown":"You can use\r\n\r\n    ObjectMapper objectMapper = getObjectMapper();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nIt will ignore all the properties that are not declared.\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You can use</p>\n\n<pre><code>ObjectMapper objectMapper = getObjectMapper();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p>It will ignore all the properties that are not declared.</p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1370596417,"creation_date":1370596417,"answer_id":16980429,"question_id":4486787,"body_markdown":"   \r\nThis solution is generic when reading json streams and need to get only some fields while fields not mapped correctly in your Domain Classes can be ignored:\r\n\r\n    import org.codehaus.jackson.annotate.JsonIgnoreProperties;\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nA detailed solution would be to use a tool such as   jsonschema2pojo to autogenerate the required Domain Classes such as Student from the Schema of the json Response. You can do the latter by any online json to schema converter.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This solution is generic when reading json streams and need to get only some fields while fields not mapped correctly in your Domain Classes can be ignored:</p>\n\n<pre><code>import org.codehaus.jackson.annotate.JsonIgnoreProperties;\n@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>A detailed solution would be to use a tool such as   jsonschema2pojo to autogenerate the required Domain Classes such as Student from the Schema of the json Response. You can do the latter by any online json to schema converter.</p>\n"},{"comments":[{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":3,"creation_date":1506256260,"post_id":18204002,"comment_id":79737371,"body_markdown":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a `Wrapper` instance where the students list is `null` or empty.","body":"Downvoted as it does not answer the OP&#39;s question. Ignoring unknown properties doesn&#39;t solve his problem, but leaves him with a <code>Wrapper</code> instance where the students list is <code>null</code> or empty."}],"tags":[],"owner":{"account_id":2991048,"reputation":495,"user_id":2538635,"display_name":"Felix Kimutua"},"comment_count":1,"down_vote_count":3,"up_vote_count":50,"is_accepted":false,"score":47,"last_activity_date":1383661321,"creation_date":1376381959,"answer_id":18204002,"question_id":4486787,"body_markdown":"This just perfectly worked for me   \r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.configure(\r\n        DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)` annotation did not.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This just perfectly worked for me   </p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.configure(\n    DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code> annotation did not.</p>\n"},{"comments":[{"owner":{"account_id":1750411,"reputation":189,"user_id":1599616,"display_name":"Scott Langeberg"},"score":0,"creation_date":1468529313,"post_id":20632545,"comment_id":64177884,"body_markdown":"Yeah, this is the one that solved my issue - which matched the title of this post.","body":"Yeah, this is the one that solved my issue - which matched the title of this post."},{"owner":{"account_id":9459887,"reputation":311,"user_id":7033948,"accept_rate":100,"display_name":"Touya Akira"},"score":0,"creation_date":1531839077,"post_id":20632545,"comment_id":89740831,"body_markdown":"Answers work well for me and it&#39;s very easy.Thank you","body":"Answers work well for me and it&#39;s very easy.Thank you"},{"owner":{"account_id":3373927,"reputation":351,"user_id":2832503,"display_name":"sashikanta"},"score":1,"creation_date":1609352812,"post_id":20632545,"comment_id":115822393,"body_markdown":"after this my projectVO data is null.yourjsonstring having value but projectVO  fields are null. Any help guys ?","body":"after this my projectVO data is null.yourjsonstring having value but projectVO  fields are null. Any help guys ?"},{"owner":{"account_id":7366982,"reputation":419,"user_id":5608445,"display_name":"Anvita Shukla"},"score":0,"creation_date":1611854383,"post_id":20632545,"comment_id":116590804,"body_markdown":"this really works and the POJO also doesnt need any modifications!","body":"this really works and the POJO also doesnt need any modifications!"}],"tags":[],"owner":{"account_id":2996187,"reputation":371,"user_id":2542697,"display_name":"Karan"},"comment_count":4,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1417171487,"creation_date":1387278563,"answer_id":20632545,"question_id":4486787,"body_markdown":"This works better than All please refer to this property.\r\n    \r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n        \r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        projectVO = objectMapper.readValue(yourjsonstring, Test.class);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This works better than All please refer to this property.</p>\n\n<pre><code>import com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    projectVO = objectMapper.readValue(yourjsonstring, Test.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2004152,"reputation":1501,"user_id":1794493,"accept_rate":60,"display_name":"zhaozhi"},"score":0,"creation_date":1504321944,"post_id":20979733,"comment_id":78980862,"body_markdown":"why this config has no effect for me?","body":"why this config has no effect for me?"},{"owner":{"account_id":206400,"reputation":2188,"user_id":455654,"display_name":"Aalkhodiry"},"score":0,"creation_date":1504452209,"post_id":20979733,"comment_id":79009236,"body_markdown":"@zhaozhi It depends on Jackson version","body":"@zhaozhi It depends on Jackson version"}],"tags":[],"owner":{"account_id":206400,"reputation":2188,"user_id":455654,"display_name":"Aalkhodiry"},"comment_count":2,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1389121632,"creation_date":1389121632,"answer_id":20979733,"question_id":4486787,"body_markdown":"If you are using Jackson 2.0 \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If you are using Jackson 2.0 </p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"score":0,"creation_date":1506004167,"post_id":22778094,"comment_id":79653382,"body_markdown":"Almost. Not `wrappers`, but `wrapper`.","body":"Almost. Not <code>wrappers</code>, but <code>wrapper</code>."},{"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"score":0,"creation_date":1506010382,"post_id":22778094,"comment_id":79657564,"body_markdown":"@Frans Haha, thank you for catching the error. I naturally use plural for a collection. But per OP&#39;s question, it should be singular.","body":"@Frans Haha, thank you for catching the error. I naturally use plural for a collection. But per OP&#39;s question, it should be singular."}],"tags":[],"owner":{"account_id":353742,"reputation":3219,"user_id":691626,"accept_rate":46,"display_name":"Dino Tw"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1492096660,"creation_date":1396332587,"answer_id":22778094,"question_id":4486787,"body_markdown":"The POJO should be defined as\r\n\r\nResponse class\r\n\r\n    public class Response {\r\n        private List&lt;Wrapper&gt; wrappers;\r\n        // getter and setter\r\n    }\r\n\r\nWrapper class\r\n\r\n    public class Wrapper {\r\n        private String id;\r\n        private String name;\r\n        // getters and setters\r\n    }\r\n\r\nand mapper to read value\r\n    \r\n    Response response = mapper.readValue(jsonStr , Response.class);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The POJO should be defined as</p>\n\n<p>Response class</p>\n\n<pre><code>public class Response {\n    private List&lt;Wrapper&gt; wrappers;\n    // getter and setter\n}\n</code></pre>\n\n<p>Wrapper class</p>\n\n<pre><code>public class Wrapper {\n    private String id;\n    private String name;\n    // getters and setters\n}\n</code></pre>\n\n<p>and mapper to read value</p>\n\n<pre><code>Response response = mapper.readValue(jsonStr , Response.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10757216,"reputation":627,"user_id":9046018,"display_name":"Сергей"},"score":0,"creation_date":1610126302,"post_id":23854201,"comment_id":116042763,"body_markdown":"It helps! Also class is better to do public.","body":"It helps! Also class is better to do public."}],"tags":[],"owner":{"account_id":158594,"reputation":977,"user_id":377349,"accept_rate":44,"display_name":"Rohitesh"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1638504256,"creation_date":1401012841,"answer_id":23854201,"question_id":4486787,"body_markdown":"What worked for me, was to make the property public.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>What worked for me, was to make the property public.</p>\n"},{"tags":[],"owner":{"account_id":2516352,"reputation":1279,"user_id":2187707,"display_name":"sagar"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1409120717,"creation_date":1409120717,"answer_id":25520259,"question_id":4486787,"body_markdown":"Either Change \r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }\r\n\r\nto \r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }\r\n\r\n---- or ----\r\n\r\nChange your JSON string to \r\n\r\n    {&quot;students&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Either Change </p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>to </p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>---- or ----</p>\n\n<p>Change your JSON string to </p>\n\n<pre><code>{\"students\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2796557,"reputation":51,"user_id":2405690,"display_name":"jodu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410781988,"creation_date":1410781988,"answer_id":25847475,"question_id":4486787,"body_markdown":"For my part, the only line \r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)`\r\n\r\ndidn&#39;t work too.\r\n\r\nJust add \r\n\r\n    @JsonInclude(Include.NON_EMPTY)\r\n\r\nJackson 2.4.0","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>For my part, the only line </p>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code></p>\n\n<p>didn't work too.</p>\n\n<p>Just add </p>\n\n<pre><code>@JsonInclude(Include.NON_EMPTY)\n</code></pre>\n\n<p>Jackson 2.4.0</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1699429774,"post_id":28865934,"comment_id":136528833,"body_markdown":"This seems to be just a repeat of many of the existing answers.","body":"This seems to be just a repeat of many of the existing answers."}],"tags":[],"owner":{"account_id":1435491,"reputation":309,"user_id":1356983,"accept_rate":100,"display_name":"Niamath"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425506678,"creation_date":1425506678,"answer_id":28865934,"question_id":4486787,"body_markdown":"This worked perfectly for me \r\n\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This worked perfectly for me </p>\n\n<pre><code>objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2252734,"reputation":10792,"user_id":1984636,"accept_rate":62,"display_name":"sivi"},"score":0,"creation_date":1458652642,"post_id":30316460,"comment_id":59947967,"body_markdown":"you are right apparently: if the name you want is xxx_yyy\nThe way to call it would be getXxx_yyy and  setXxx_yyy.  This is very strange but it works.","body":"you are right apparently: if the name you want is xxx_yyy The way to call it would be getXxx_yyy and  setXxx_yyy.  This is very strange but it works."}],"tags":[],"owner":{"account_id":3992345,"reputation":1647,"user_id":3290859,"accept_rate":51,"display_name":"superuserdo"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1638504339,"creation_date":1432007569,"answer_id":30316460,"question_id":4486787,"body_markdown":"I fixed this problem by simply changing the signatures of my setter and getter methods of my POJO class. All I had to do was change the **getObject** method to match what the mapper was looking for. In my case I had a **getImageUrl** originally, but the JSON data had **image_url** which was throwing the mapper off. I changed both my setter and getters to **getImage_url and setImage_url**.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I fixed this problem by simply changing the signatures of my setter and getter methods of my POJO class. All I had to do was change the <strong>getObject</strong> method to match what the mapper was looking for. In my case I had a <strong>getImageUrl</strong> originally, but the JSON data had <strong>image_url</strong> which was throwing the mapper off. I changed both my setter and getters to <strong>getImage_url and setImage_url</strong>.</p>\n"},{"comments":[{"owner":{"account_id":606321,"reputation":7777,"user_id":312161,"accept_rate":48,"display_name":"neworld"},"score":18,"creation_date":1479152962,"post_id":31932963,"comment_id":68428813,"body_markdown":"With that config annotation is unnecessary","body":"With that config annotation is unnecessary"},{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494439241,"post_id":31932963,"comment_id":74833196,"body_markdown":"Do you need to configure both ObjectMapper and Annotation on class? I guess objectMapper will fix for all, without a need to annotate each class. I use the annotation though.","body":"Do you need to configure both ObjectMapper and Annotation on class? I guess objectMapper will fix for all, without a need to annotate each class. I use the annotation though."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":0,"creation_date":1502814964,"post_id":31932963,"comment_id":78353081,"body_markdown":"You do not need both settings in the same class. You might also use DI to get a global singleton instance of the `ObjectMapper`, to set the `FAIL_ON_UNKNOWN_PROPERTIES` property globally.","body":"You do not need both settings in the same class. You might also use DI to get a global singleton instance of the <code>ObjectMapper</code>, to set the <code>FAIL_ON_UNKNOWN_PROPERTIES</code> property globally."},{"owner":{"account_id":4713249,"reputation":2149,"user_id":3813155,"accept_rate":79,"display_name":"heez"},"score":1,"creation_date":1538413869,"post_id":31932963,"comment_id":92126297,"body_markdown":"You don&#39;t need both, you can choose one or the other.","body":"You don&#39;t need both, you can choose one or the other."}],"tags":[],"owner":{"account_id":2425286,"reputation":1676,"user_id":2117379,"display_name":"Scott"},"comment_count":4,"down_vote_count":1,"up_vote_count":142,"is_accepted":false,"score":141,"last_activity_date":1685895512,"creation_date":1439265566,"answer_id":31932963,"question_id":4486787,"body_markdown":"using Jackson 2.6.0, this worked for me:\r\n\r\n    private static final ObjectMapper objectMapper = \r\n        new ObjectMapper()\r\n            .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nor with the setting:\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>using Jackson 2.6.0, this worked for me:</p>\n<pre><code>private static final ObjectMapper objectMapper = \n    new ObjectMapper()\n        .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<p>or with the setting:</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4945993,"reputation":171,"user_id":3981329,"display_name":"j_bond007"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1449017090,"creation_date":1449012735,"answer_id":34032259,"question_id":4486787,"body_markdown":"It worked for me with the following code:\r\n\r\n    ObjectMapper mapper =new ObjectMapper();\t\r\n    mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>It worked for me with the following code:</p>\n\n<pre><code>ObjectMapper mapper =new ObjectMapper();    \nmapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7229222,"reputation":46,"user_id":5516737,"display_name":"Troy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449767329,"creation_date":1449767329,"answer_id":34207758,"question_id":4486787,"body_markdown":"You should just change the field of List&lt;Student&gt; from &quot;students&quot; to &quot;wrapper&quot; just the json file and the mapper will look it up.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You should just change the field of List from \"students\" to \"wrapper\" just the json file and the mapper will look it up.</p>\n"},{"tags":[],"owner":{"account_id":1848418,"reputation":25883,"user_id":1675568,"accept_rate":79,"display_name":"tomrozb"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1454346228,"creation_date":1454346228,"answer_id":35136161,"question_id":4486787,"body_markdown":"According to the [doc][1] you can ignore selected fields or all uknown fields:\r\n\r\n     // to prevent specified fields from being serialized or deserialized\r\n     // (i.e. not include in JSON output; or being set even if they were included)\r\n     @JsonIgnoreProperties({ &quot;internalId&quot;, &quot;secretKey&quot; })\r\n\r\n     // To ignore any unknown properties in JSON input without exception:\r\n     @JsonIgnoreProperties(ignoreUnknown=true)\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>According to the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.0.2/com/fasterxml/jackson/annotation/JsonIgnoreProperties.html\">doc</a> you can ignore selected fields or all uknown fields:</p>\n\n<pre><code> // to prevent specified fields from being serialized or deserialized\n // (i.e. not include in JSON output; or being set even if they were included)\n @JsonIgnoreProperties({ \"internalId\", \"secretKey\" })\n\n // To ignore any unknown properties in JSON input without exception:\n @JsonIgnoreProperties(ignoreUnknown=true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7328662,"reputation":69,"user_id":5582311,"display_name":"Ran0990BK"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1460464279,"creation_date":1460464279,"answer_id":36573373,"question_id":4486787,"body_markdown":"Your input \r\n\r\n    {&quot;wrapper&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\nindicates that it is an Object, with a field named &quot;wrapper&quot;, which is a Collection of Students. So my recommendation would be,\r\n\r\n    Wrapper = mapper.readValue(jsonStr , Wrapper.class);\r\nwhere `Wrapper` is defined as\r\n\r\n    class Wrapper {\r\n        List&lt;Student&gt; wrapper;\r\n    }\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Your input </p>\n\n<pre><code>{\"wrapper\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n\n<p>indicates that it is an Object, with a field named \"wrapper\", which is a Collection of Students. So my recommendation would be,</p>\n\n<pre><code>Wrapper = mapper.readValue(jsonStr , Wrapper.class);\n</code></pre>\n\n<p>where <code>Wrapper</code> is defined as</p>\n\n<pre><code>class Wrapper {\n    List&lt;Student&gt; wrapper;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1465814384,"post_id":37787224,"comment_id":63041290,"body_markdown":"This should be a comment","body":"This should be a comment"}],"tags":[],"owner":{"account_id":8626019,"reputation":11,"user_id":6459227,"display_name":"blue-bird"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465813249,"creation_date":1465813249,"answer_id":37787224,"question_id":4486787,"body_markdown":"In my case it was simple: the REST-service JSON Object was updated (a property was added), but the REST-client JSON Object wasn&#39;t. As soon as i&#39;ve updated JSON client object the &#39;Unrecognized field ...&#39; exception has vanished.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case it was simple: the REST-service JSON Object was updated (a property was added), but the REST-client JSON Object wasn't. As soon as i've updated JSON client object the 'Unrecognized field ...' exception has vanished.</p>\n"},{"tags":[],"owner":{"account_id":1038886,"reputation":19,"user_id":1045384,"display_name":"xLime"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1497366339,"creation_date":1466367697,"answer_id":37911469,"question_id":4486787,"body_markdown":"Your json string is not inline with the mapped class.\r\nChange the input string\r\n\r\n    String jsonStr = &quot;{\\&quot;students\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;\r\n\r\nOr change your mapped class\r\n\r\n    public class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Your json string is not inline with the mapped class.\nChange the input string</p>\n\n<pre><code>String jsonStr = \"{\\\"students\\\"\\:[{\\\"id\\\":\\\"13\\\",\\\"name\\\":\\\"Fred\\\"}]}\";\n</code></pre>\n\n<p>Or change your mapped class</p>\n\n<pre><code>public class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2417909,"reputation":1794,"user_id":2111572,"accept_rate":67,"display_name":"ThierryC"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524895768,"creation_date":1467970655,"answer_id":38263430,"question_id":4486787,"body_markdown":"**The new Firebase Android introduced some huge changes ; below the copy of the doc :**\r\n\r\n[https://firebase.google.com/support/guides/firebase-android] **:** \r\n\r\n**Update your Java model objects**\r\n\r\nAs with the 2.x SDK, Firebase Database will automatically convert Java objects that you pass to `DatabaseReference.setValue()` into JSON and can read JSON into Java objects using `DataSnapshot.getValue()`.\r\n\r\nIn the new SDK, when reading JSON into a Java object with `DataSnapshot.getValue()`, unknown properties in the JSON are now ignored by default so you no longer need `@JsonIgnoreExtraProperties(ignoreUnknown=true)`.\r\n\r\nTo exclude fields/getters when writing a Java object to JSON, the annotation is now called `@Exclude` instead of `@JsonIgnore`.\r\n\r\n    BEFORE\r\n\r\n    @JsonIgnoreExtraProperties(ignoreUnknown=true)\r\n    public class ChatMessage {\r\n       public String name;\r\n       public String message;\r\n       @JsonIgnore\r\n       public String ignoreThisField;\r\n    }\r\n\r\n    dataSnapshot.getValue(ChatMessage.class)\r\n____________________________________________________________________________\r\n    AFTER\r\n\r\n    public class ChatMessage {\r\n       public String name;\r\n       public String message;\r\n       @Exclude\r\n       public String ignoreThisField;\r\n    }\r\n\r\n    dataSnapshot.getValue(ChatMessage.class)\r\n\r\nIf there is an extra property in your JSON that is not in your Java class, you will see this warning in the log files:\r\n\r\n    W/ClassMapper: No setter/field for ignoreThisProperty found on class com.firebase.migrationguide.ChatMessage\r\n\r\nYou can get rid of this warning by putting an `@IgnoreExtraProperties` annotation on your class. If you want Firebase Database to behave as it did in the 2.x SDK and throw an exception if there are unknown properties, you can put a `@ThrowOnExtraProperties` annotation on your class.\r\n\r\n\r\n  [1]: http:////https://firebase.google.com/support/guides/firebase-android","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>The new Firebase Android introduced some huge changes ; below the copy of the doc :</strong></p>\n\n<p>[<a href=\"https://firebase.google.com/support/guides/firebase-android]\" rel=\"nofollow noreferrer\">https://firebase.google.com/support/guides/firebase-android]</a> <strong>:</strong> </p>\n\n<p><strong>Update your Java model objects</strong></p>\n\n<p>As with the 2.x SDK, Firebase Database will automatically convert Java objects that you pass to <code>DatabaseReference.setValue()</code> into JSON and can read JSON into Java objects using <code>DataSnapshot.getValue()</code>.</p>\n\n<p>In the new SDK, when reading JSON into a Java object with <code>DataSnapshot.getValue()</code>, unknown properties in the JSON are now ignored by default so you no longer need <code>@JsonIgnoreExtraProperties(ignoreUnknown=true)</code>.</p>\n\n<p>To exclude fields/getters when writing a Java object to JSON, the annotation is now called <code>@Exclude</code> instead of <code>@JsonIgnore</code>.</p>\n\n<pre><code>BEFORE\n\n@JsonIgnoreExtraProperties(ignoreUnknown=true)\npublic class ChatMessage {\n   public String name;\n   public String message;\n   @JsonIgnore\n   public String ignoreThisField;\n}\n\ndataSnapshot.getValue(ChatMessage.class)\n</code></pre>\n\n<hr>\n\n<pre><code>AFTER\n\npublic class ChatMessage {\n   public String name;\n   public String message;\n   @Exclude\n   public String ignoreThisField;\n}\n\ndataSnapshot.getValue(ChatMessage.class)\n</code></pre>\n\n<p>If there is an extra property in your JSON that is not in your Java class, you will see this warning in the log files:</p>\n\n<pre><code>W/ClassMapper: No setter/field for ignoreThisProperty found on class com.firebase.migrationguide.ChatMessage\n</code></pre>\n\n<p>You can get rid of this warning by putting an <code>@IgnoreExtraProperties</code> annotation on your class. If you want Firebase Database to behave as it did in the 2.x SDK and throw an exception if there are unknown properties, you can put a <code>@ThrowOnExtraProperties</code> annotation on your class.</p>\n"},{"tags":[],"owner":{"account_id":9493026,"reputation":133,"user_id":7057111,"display_name":"ajith r"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1479319874,"creation_date":1479317029,"answer_id":40638424,"question_id":4486787,"body_markdown":"Annotate the field students as below since there is mismatch in names of json property and java property\r\n\r\n    public Class Wrapper {\r\n        @JsonProperty(&quot;wrapper&quot;)\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Annotate the field students as below since there is mismatch in names of json property and java property</p>\n\n<pre><code>public Class Wrapper {\n    @JsonProperty(\"wrapper\")\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4903369,"reputation":564,"user_id":3950849,"accept_rate":75,"display_name":"Sayantan"},"score":3,"creation_date":1517651347,"post_id":42029338,"comment_id":84188917,"body_markdown":"Why should this be the accepted answer? This just tells to ignore unknown properties, whereas the question was to find a way to get the json wrapped into an object which this solution clearly says to ignore.","body":"Why should this be the accepted answer? This just tells to ignore unknown properties, whereas the question was to find a way to get the json wrapped into an object which this solution clearly says to ignore."},{"owner":{"account_id":2074561,"reputation":405,"user_id":1848292,"accept_rate":64,"display_name":"Juan Enrique Riquelme"},"score":0,"creation_date":1613534482,"post_id":42029338,"comment_id":117101434,"body_markdown":"Nice answer by simply using the first option.","body":"Nice answer by simply using the first option."}],"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":2,"down_vote_count":1,"up_vote_count":83,"is_accepted":false,"score":82,"last_activity_date":1490624838,"creation_date":1486141279,"answer_id":42029338,"question_id":4486787,"body_markdown":"it can be achieved 2 ways:\r\n\r\n1. Mark the POJO to ignore unknown properties\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\n2. Configure ObjectMapper that serializes/De-serializes the POJO/json as below:\r\n\r\n        ObjectMapper mapper =new ObjectMapper();            \r\n        // for Jackson version 1.X        \r\n        mapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        // for Jackson version 2.X\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>it can be achieved 2 ways:</p>\n\n<ol>\n<li><p>Mark the POJO to ignore unknown properties</p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre></li>\n<li><p>Configure ObjectMapper that serializes/De-serializes the POJO/json as below:</p>\n\n<pre><code>ObjectMapper mapper =new ObjectMapper();            \n// for Jackson version 1.X        \nmapper.configure(DeserializationConfig.Feature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n// for Jackson version 2.X\nmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false) \n</code></pre></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":192003,"reputation":30422,"user_id":432903,"accept_rate":64,"display_name":"prayagupa"},"score":0,"creation_date":1494439091,"post_id":42368805,"comment_id":74833112,"body_markdown":"it did not help? what you mean? `@JsonIgnoreProperties(ignoreUnknown = true)` definitely ignores properties which are undefined in java object, but are present in JSON","body":"it did not help? what you mean? <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> definitely ignores properties which are undefined in java object, but are present in JSON"}],"tags":[],"owner":{"account_id":9929952,"reputation":1,"user_id":7350287,"display_name":"Talex Maxim"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487714823,"creation_date":1487684120,"answer_id":42368805,"question_id":4486787,"body_markdown":"You need to verify all fields of the class you are parsing in, make it the same as in your original `JSONObject`. It helped me and in my case.\r\n\r\n`@JsonIgnoreProperties(ignoreUnknown = true)` didn&#39;t help at all. ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>You need to verify all fields of the class you are parsing in, make it the same as in your original <code>JSONObject</code>. It helped me and in my case.</p>\n\n<p><code>@JsonIgnoreProperties(ignoreUnknown = true)</code> didn't help at all. </p>\n"},{"tags":[],"owner":{"account_id":4903369,"reputation":564,"user_id":3950849,"accept_rate":75,"display_name":"Sayantan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503525785,"creation_date":1503525785,"answer_id":45849958,"question_id":4486787,"body_markdown":"This may be a very late response, but just changing the POJO to this should solve the json string provided in the problem (since, the input string is not in your control as you said):\r\n\r\n    public class Wrapper {\r\n        private List&lt;Student&gt; wrapper;\r\n        //getters &amp; setters here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This may be a very late response, but just changing the POJO to this should solve the json string provided in the problem (since, the input string is not in your control as you said):</p>\n\n<pre><code>public class Wrapper {\n    private List&lt;Student&gt; wrapper;\n    //getters &amp; setters here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3794041,"reputation":15633,"user_id":3154233,"accept_rate":88,"display_name":"NoobEditor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518519742,"creation_date":1518519742,"answer_id":48765269,"question_id":4486787,"body_markdown":"Google brought me here and i was surprised to see the answers... all suggested *bypassing* the error ( *which always bites back 4 folds later in developement* ) rather than solving it until [this gentleman][1] restored by faith in SO!\r\n\r\n\r\n    objectMapper.readValue(responseBody, TargetClass.class)\r\n\r\nis used to convert a json String to an class object, whats missing is that the `TargetClass` should have public `get`ter / `set`ters. Same is missing in OP&#39;s question snippet too! :)\r\n\r\nvia [lombok][2] your class as below should work!!\r\n\r\n    @Data\r\n    @Builder\r\n    public class TargetClass {\r\n        private String a;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/39784612/3154233\r\n  [2]: https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Google brought me here and i was surprised to see the answers... all suggested <em>bypassing</em> the error ( <em>which always bites back 4 folds later in developement</em> ) rather than solving it until <a href=\"https://stackoverflow.com/a/39784612/3154233\">this gentleman</a> restored by faith in SO!</p>\n\n<pre><code>objectMapper.readValue(responseBody, TargetClass.class)\n</code></pre>\n\n<p>is used to convert a json String to an class object, whats missing is that the <code>TargetClass</code> should have public <code>get</code>ter / <code>set</code>ters. Same is missing in OP's question snippet too! :)</p>\n\n<p>via <a href=\"https://mvnrepository.com/artifact/org.projectlombok/lombok/0.10.1\" rel=\"nofollow noreferrer\">lombok</a> your class as below should work!!</p>\n\n<pre><code>@Data\n@Builder\npublic class TargetClass {\n    private String a;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10104786,"reputation":2733,"user_id":7467699,"accept_rate":40,"display_name":"Vikram Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519106761,"creation_date":1519106761,"answer_id":48878858,"question_id":4486787,"body_markdown":"In my case error came due to following reason\r\n\r\n - Initially it was working fine,then i renamed one variable,made the\r\n   changes in code and it gave me this error.\r\n   \r\n - Then i applied jackson ignorant property also but it did not work.\r\n\r\n   \r\n\r\n - Finally after re defining my getters and setters methods according to\r\n   name of my variable this error was resolved\r\n\r\nSo make sure to redifine getters and setters also.\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case error came due to following reason</p>\n\n<ul>\n<li><p>Initially it was working fine,then i renamed one variable,made the\nchanges in code and it gave me this error.</p></li>\n<li><p>Then i applied jackson ignorant property also but it did not work.</p></li>\n<li><p>Finally after re defining my getters and setters methods according to\nname of my variable this error was resolved</p></li>\n</ul>\n\n<p>So make sure to redifine getters and setters also.</p>\n"},{"tags":[],"owner":{"account_id":9484936,"reputation":777,"user_id":7360850,"display_name":"krhitesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523092222,"creation_date":1523092222,"answer_id":49705730,"question_id":4486787,"body_markdown":"Change Wrapper class to\r\n\r\n    public Class Wrapper {\r\n\r\n              @JsonProperty(&quot;wrapper&quot;)  // add this line\r\n              private List&lt;Student&gt; students;\r\n    }\r\n\r\nWhat this does is to recognise the `students` field as `wrapper` key of the json object.\r\n\r\nAlso I personally prefer using [Lombok Annotations][1] for Getters and Setters as\r\n\r\n    @Getter\r\n    @Setter\r\n    public Class Wrapper {\r\n\r\n              @JsonProperty(&quot;wrapper&quot;)  // add this line\r\n              private List&lt;Student&gt; students;\r\n    }\r\n\r\nSince I have not tested the above code with Lombok and `@JsonProperty` together, I&#39;ll suggest you to add the following code to Wrapper class as well to override Lombok&#39;s default getter and setter.\r\n\r\n    public List&lt;Student&gt; getWrapper(){\r\n         return students;\r\n    }\r\n\r\n    public void setWrapper(List&lt;Student&gt; students){\r\n         this.students = students;\r\n    }\r\n\r\n\r\nAlso check [this][2] out to deserialise lists using Jackson. \r\n\r\n\r\n  [1]: https://projectlombok.org/\r\n  [2]: https://stackoverflow.com/questions/9829403/deserialize-json-to-arraylistpojo-using-jackson","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Change Wrapper class to</p>\n\n<pre><code>public Class Wrapper {\n\n          @JsonProperty(\"wrapper\")  // add this line\n          private List&lt;Student&gt; students;\n}\n</code></pre>\n\n<p>What this does is to recognise the <code>students</code> field as <code>wrapper</code> key of the json object.</p>\n\n<p>Also I personally prefer using <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok Annotations</a> for Getters and Setters as</p>\n\n<pre><code>@Getter\n@Setter\npublic Class Wrapper {\n\n          @JsonProperty(\"wrapper\")  // add this line\n          private List&lt;Student&gt; students;\n}\n</code></pre>\n\n<p>Since I have not tested the above code with Lombok and <code>@JsonProperty</code> together, I'll suggest you to add the following code to Wrapper class as well to override Lombok's default getter and setter.</p>\n\n<pre><code>public List&lt;Student&gt; getWrapper(){\n     return students;\n}\n\npublic void setWrapper(List&lt;Student&gt; students){\n     this.students = students;\n}\n</code></pre>\n\n<p>Also check <a href=\"https://stackoverflow.com/questions/9829403/deserialize-json-to-arraylistpojo-using-jackson\">this</a> out to deserialise lists using Jackson. </p>\n"},{"comments":[{"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"score":3,"creation_date":1546959141,"post_id":50840957,"comment_id":95020706,"body_markdown":"poor practice - this breaks the encapsulation.","body":"poor practice - this breaks the encapsulation."},{"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"score":0,"creation_date":1547055490,"post_id":50840957,"comment_id":95063937,"body_markdown":"Your class is in risk when user uses it because the internal state could be mutated through these fields.","body":"Your class is in risk when user uses it because the internal state could be mutated through these fields."}],"tags":[],"owner":{"account_id":3173099,"reputation":810,"user_id":2681594,"accept_rate":82,"display_name":"neverwinter"},"comment_count":2,"down_vote_count":7,"up_vote_count":12,"is_accepted":false,"score":5,"last_activity_date":1528903517,"creation_date":1528903517,"answer_id":50840957,"question_id":4486787,"body_markdown":"set **public** your class fields not **private**.\r\n\r\n    public Class Student { \r\n        public String name;\r\n        public String id;\r\n        //getters &amp; setters for name &amp; id here\r\n    }","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>set <strong>public</strong> your class fields not <strong>private</strong>.</p>\n\n<pre><code>public Class Student { \n    public String name;\n    public String id;\n    //getters &amp; setters for name &amp; id here\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1548931773,"creation_date":1548931773,"answer_id":54458863,"question_id":4486787,"body_markdown":"One other possibility is this property in the application.properties\r\n`spring.jackson.deserialization.fail-on-unknown-properties=false`, which won&#39;t need any other code change in your application. And when you believe the contract is stable, you can remove this property or mark it true.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>One other possibility is this property in the application.properties\n<code>spring.jackson.deserialization.fail-on-unknown-properties=false</code>, which won't need any other code change in your application. And when you believe the contract is stable, you can remove this property or mark it true.</p>\n"},{"comments":[{"owner":{"account_id":4426945,"reputation":1289,"user_id":3605161,"accept_rate":87,"display_name":"phil"},"score":0,"creation_date":1561103807,"post_id":56534087,"comment_id":99962392,"body_markdown":"thanks! import com.fasterxml.jackson.annotation.JsonProperty worked for me instead the other:-)","body":"thanks! import com.fasterxml.jackson.annotation.JsonProperty worked for me instead the other:-)"},{"owner":{"account_id":4531095,"reputation":1545,"user_id":3681565,"display_name":"Gaspar"},"score":0,"creation_date":1610046909,"post_id":56534087,"comment_id":116016065,"body_markdown":"omfg this was killing me! ty","body":"omfg this was killing me! ty"},{"owner":{"account_id":1897454,"reputation":1104,"user_id":1714078,"accept_rate":52,"display_name":"NRJ"},"score":0,"creation_date":1652452325,"post_id":56534087,"comment_id":127616975,"body_markdown":"This!! Wasted 1 hr trying to figure out what was wrong.","body":"This!! Wasted 1 hr trying to figure out what was wrong."}],"tags":[],"owner":{"account_id":1322163,"reputation":166,"user_id":1267748,"display_name":"cwa"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1560204271,"creation_date":1560204271,"answer_id":56534087,"question_id":4486787,"body_markdown":"This may not be the same problem that the OP had but in case someone got here with the same mistake I had then this will help them solve their problem. I got the same error as the OP when I used an ObjectMapper from a different dependency as the JsonProperty annotation.\r\n\r\nThis works:\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\nDoes NOT work:\r\n\r\n    import org.codehaus.jackson.map.ObjectMapper; //org.codehaus.jackson:jackson-mapper-asl:1.8.8\r\n    import com.fasterxml.jackson.annotation.JsonProperty; //com.fasterxml.jackson.core:jackson-databind:2.2.3\r\n\r\n\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>This may not be the same problem that the OP had but in case someone got here with the same mistake I had then this will help them solve their problem. I got the same error as the OP when I used an ObjectMapper from a different dependency as the JsonProperty annotation.</p>\n\n<p>This works:</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n</code></pre>\n\n<p>Does NOT work:</p>\n\n<pre><code>import org.codehaus.jackson.map.ObjectMapper; //org.codehaus.jackson:jackson-mapper-asl:1.8.8\nimport com.fasterxml.jackson.annotation.JsonProperty; //com.fasterxml.jackson.core:jackson-databind:2.2.3\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1724698,"reputation":1194,"user_id":1579667,"accept_rate":96,"display_name":"Benj"},"score":0,"creation_date":1573049330,"post_id":57701902,"comment_id":103754331,"body_markdown":"Maybe some further explanations or doc would be nice","body":"Maybe some further explanations or doc would be nice"},{"owner":{"account_id":2227719,"reputation":887,"user_id":1966079,"display_name":"Guilherme"},"score":0,"creation_date":1580236799,"post_id":57701902,"comment_id":106029243,"body_markdown":"@JsonIgnoreProperties(ignoreUnknown = true) works fine, thanks","body":"@JsonIgnoreProperties(ignoreUnknown = true) works fine, thanks"}],"tags":[],"owner":{"account_id":134214,"reputation":4545,"user_id":336175,"accept_rate":66,"display_name":"Gank"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1567042737,"creation_date":1567042737,"answer_id":57701902,"question_id":4486787,"body_markdown":"import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n@JsonIgnoreProperties","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;</p>\n\n<p>@JsonIgnoreProperties</p>\n"},{"tags":[],"owner":{"account_id":9007431,"reputation":123,"user_id":6713531,"display_name":"user9999"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569596776,"creation_date":1569596776,"answer_id":58137130,"question_id":4486787,"body_markdown":"In my case a I have to add public getters and setters to leave fields private.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    Application application = mapper.readValue(input, Application.class);\r\nI use jackson-databind 2.10.0.pr3 .\r\n\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>In my case a I have to add public getters and setters to leave fields private.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nApplication application = mapper.readValue(input, Application.class);\n</code></pre>\n\n<p>I use jackson-databind 2.10.0.pr3 .</p>\n"},{"tags":[],"owner":{"account_id":3466581,"reputation":171,"user_id":2901945,"display_name":"van17"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570036790,"creation_date":1570036790,"answer_id":58206317,"question_id":4486787,"body_markdown":"When we are generating getters and setters, specially which starts with &#39;is&#39; keyword, IDE generally removes the &#39;is&#39;. e.g.\r\n\r\n````\r\nprivate boolean isActive;\r\n\r\npublic void setActive(boolean active) {\r\n   isActive = active;\r\n}\r\n\r\npublic isActive(){\r\n   return isActive;\r\n}\r\n````\r\nIn my case, i just changed the getter and setter.\r\n````\r\nprivate boolean isActive;\r\n\r\npublic void setIsActive(boolean active) {\r\n   isActive = active;\r\n}\r\n\r\npublic getIsActive(){\r\n   return isActive;\r\n}\r\n````\r\n\r\nAnd it was able to recognize the field.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>When we are generating getters and setters, specially which starts with 'is' keyword, IDE generally removes the 'is'. e.g.</p>\n\n<pre><code>private boolean isActive;\n\npublic void setActive(boolean active) {\n   isActive = active;\n}\n\npublic isActive(){\n   return isActive;\n}\n</code></pre>\n\n<p>In my case, i just changed the getter and setter.</p>\n\n<pre><code>private boolean isActive;\n\npublic void setIsActive(boolean active) {\n   isActive = active;\n}\n\npublic getIsActive(){\n   return isActive;\n}\n</code></pre>\n\n<p>And it was able to recognize the field.</p>\n"},{"tags":[],"owner":{"account_id":7406733,"reputation":633,"user_id":5635466,"display_name":"Danail Tsvetanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573044335,"creation_date":1573044335,"answer_id":58730503,"question_id":4486787,"body_markdown":"**FAIL_ON_UNKNOWN_PROPERTIES** option is true by default:\r\n\r\n    FAIL_ON_UNKNOWN_PROPERTIES (default: true)\r\n    Used to control whether encountering of unknown properties (one for which there is no setter; and there is no fallback &quot;any setter&quot; method defined using @JsonAnySetter annotation) should result in a JsonMappingException (when enabled), or just quietly ignored (when disabled)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>FAIL_ON_UNKNOWN_PROPERTIES</strong> option is true by default:</p>\n\n<pre><code>FAIL_ON_UNKNOWN_PROPERTIES (default: true)\nUsed to control whether encountering of unknown properties (one for which there is no setter; and there is no fallback \"any setter\" method defined using @JsonAnySetter annotation) should result in a JsonMappingException (when enabled), or just quietly ignored (when disabled)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2471552,"reputation":2062,"user_id":2153273,"accept_rate":67,"display_name":"lbenedetto"},"score":2,"creation_date":1591253577,"post_id":59307683,"comment_id":109986149,"body_markdown":"This appears to be the only answer that actually answers the question. All the other answers are just marking unknown properties as ignored, but &#39;wrapper&#39; is not an unknown property, it is what we are trying to parse.","body":"This appears to be the only answer that actually answers the question. All the other answers are just marking unknown properties as ignored, but &#39;wrapper&#39; is not an unknown property, it is what we are trying to parse."}],"tags":[],"owner":{"account_id":15058773,"reputation":905,"user_id":10868264,"display_name":"ddc"},"comment_count":1,"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1576163726,"creation_date":1576163726,"answer_id":59307683,"question_id":4486787,"body_markdown":"**Adding setters and getters solved the problem**, what I felt is the actual issue was how to solve it but not how to suppress/ignore the error.\r\nI got the error &quot;***Unrecognized field.. not marked as ignorable..***&quot;\r\n\r\nThough I use the below annotation on top of the class it was not able to parse the json object and give me the input\r\n\r\n&gt; @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nThen I realized that I did not add setters and getters, after adding setters and getters to the &quot;Wrapper&quot; and to the &quot;Student&quot; it worked like a charm. ","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p><strong>Adding setters and getters solved the problem</strong>, what I felt is the actual issue was how to solve it but not how to suppress/ignore the error.\nI got the error \"<strong><em>Unrecognized field.. not marked as ignorable..</em></strong>\"</p>\n\n<p>Though I use the below annotation on top of the class it was not able to parse the json object and give me the input</p>\n\n<blockquote>\n  <p>@JsonIgnoreProperties(ignoreUnknown = true)</p>\n</blockquote>\n\n<p>Then I realized that I did not add setters and getters, after adding setters and getters to the \"Wrapper\" and to the \"Student\" it worked like a charm. </p>\n"},{"tags":[],"owner":{"account_id":2819793,"reputation":959,"user_id":2423796,"display_name":"antken"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607004008,"creation_date":1607004008,"answer_id":65127460,"question_id":4486787,"body_markdown":"The shortest solution without setter/getter is to add `@JsonProperty` to a class field:\r\n\r\n    public class Wrapper {\r\n        @JsonProperty\r\n        private List&lt;Student&gt; wrapper;\r\n    }\r\n\r\n    public class Student {\r\n        @JsonProperty\r\n        private String name;\r\n        @JsonProperty\r\n        private String id;\r\n    }\r\n    \r\nAlso, you called students list &quot;wrapper&quot; in your json, so Jackson expects a class with a field called &quot;wrapper&quot;.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>The shortest solution without setter/getter is to add <code>@JsonProperty</code> to a class field:</p>\n<pre><code>public class Wrapper {\n    @JsonProperty\n    private List&lt;Student&gt; wrapper;\n}\n\npublic class Student {\n    @JsonProperty\n    private String name;\n    @JsonProperty\n    private String id;\n}\n</code></pre>\n<p>Also, you called students list &quot;wrapper&quot; in your json, so Jackson expects a class with a field called &quot;wrapper&quot;.</p>\n"},{"comments":[{"owner":{"account_id":302125,"reputation":1172,"user_id":610317,"accept_rate":100,"display_name":"DRaehal"},"score":0,"creation_date":1611695217,"post_id":65330524,"comment_id":116533128,"body_markdown":"What you should actually do here is ask the specific question for the issue you have had and then answer your own question with your solution.  What you have added here is not a solution to what the original question asks.  You will help a lot more people if you pose your specific issue as a question.","body":"What you should actually do here is ask the specific question for the issue you have had and then answer your own question with your solution.  What you have added here is not a solution to what the original question asks.  You will help a lot more people if you pose your specific issue as a question."},{"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"score":0,"creation_date":1611696358,"post_id":65330524,"comment_id":116533619,"body_markdown":"@DRaehal The primary purpose of Stackoverflow is not (just) to answer single-use questions, but to be a repository of useful questions and answers for future googlers. This is the first result on Google, hence the various answers.","body":"@DRaehal The primary purpose of Stackoverflow is not (just) to answer single-use questions, but to be a repository of useful questions and answers for future googlers. This is the first result on Google, hence the various answers."},{"owner":{"account_id":302125,"reputation":1172,"user_id":610317,"accept_rate":100,"display_name":"DRaehal"},"score":0,"creation_date":1612456924,"post_id":65330524,"comment_id":116778773,"body_markdown":"Jeff Atwood would disagree with you.  \nhttps://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/#:~:text=%2DFounder%20(Former)-,The%20FAQ%20has%20contained%20one%20key%20bit%20of%20advice%20from,the%20form%20of%20a%20question.&amp;text=it%20is%20OK%20to%20ask,a%20relevant%20Stack%20Exchange%20site.","body":"Jeff Atwood would disagree with you.   <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/#:~:text=%2DFounder%20(Former)-,The%20FAQ%20has%20contained%20one%20key%20bit%20of%20advice%20from,the%20form%20of%20a%20question.&amp;text=it%20is%20OK%20to%20ask,a%20relevant%20Stack%20Exchange%20site\">stackoverflow.blog/2011/07/01/&hellip;</a>."},{"owner":{"account_id":192101,"reputation":1554,"user_id":433061,"accept_rate":100,"display_name":"bdetweiler"},"score":3,"creation_date":1621001656,"post_id":65330524,"comment_id":119371327,"body_markdown":"Upvoted because this helped me out as well. After mucking around with `@JsonIgnoreProperties` and adding dummy members, I found this and it did exactly what I needed. Thanks.","body":"Upvoted because this helped me out as well. After mucking around with <code>@JsonIgnoreProperties</code> and adding dummy members, I found this and it did exactly what I needed. Thanks."}],"tags":[],"owner":{"account_id":85546,"reputation":84738,"user_id":238419,"accept_rate":89,"display_name":"BlueRaja - Danny Pflughoeft"},"comment_count":4,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1608149687,"creation_date":1608149687,"answer_id":65330524,"question_id":4486787,"body_markdown":"Somehow after 45 posts and 10 years, no one has posted the correct answer for my case.\r\n\r\n\r\n```\r\n@Data //Lombok\r\npublic class MyClass {\r\n    private int foo;\r\n    private int bar;\r\n\r\n    @JsonIgnore\r\n    public int getFoobar() {\r\n      return foo + bar;\r\n    }\r\n}\r\n```\r\n\r\nIn my case, we have a method called `getFoobar()`, but no `foobar` property (because it&#39;s computed from other properties).  `@JsonIgnoreProperties` on the class does not work.\r\n\r\nThe solution is to annotate the method with `@JsonIgnore`","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Somehow after 45 posts and 10 years, no one has posted the correct answer for my case.</p>\n<pre><code>@Data //Lombok\npublic class MyClass {\n    private int foo;\n    private int bar;\n\n    @JsonIgnore\n    public int getFoobar() {\n      return foo + bar;\n    }\n}\n</code></pre>\n<p>In my case, we have a method called <code>getFoobar()</code>, but no <code>foobar</code> property (because it's computed from other properties).  <code>@JsonIgnoreProperties</code> on the class does not work.</p>\n<p>The solution is to annotate the method with <code>@JsonIgnore</code></p>\n"},{"tags":[],"owner":{"account_id":2330204,"reputation":849,"user_id":2043830,"display_name":"matias.g.rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614265958,"creation_date":1614265958,"answer_id":66371264,"question_id":4486787,"body_markdown":"If for some reason you cannot add the @JsonIgnoreProperties annotations to your class and you are inside a web server/container such as Jetty. You can create and customize the ObjectMapper inside a custom provider\r\n\r\n    import javax.ws.rs.ext.ContextResolver;\r\n    import javax.ws.rs.ext.Provider;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude.Include;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Provider\r\n    public class CustomObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\r\n    \r\n    \tprivate ObjectMapper objectMapper;\r\n    \r\n    \t@Override\r\n    \tpublic ObjectMapper getContext(final Class&lt;?&gt; cls) {\r\n    \t\treturn getObjectMapper();\r\n    \t}\r\n    \r\n    \tprivate synchronized ObjectMapper getObjectMapper() {\r\n    \t\tif(objectMapper == null) {\r\n    \t\t\tobjectMapper = new ObjectMapper();\r\n    \t\t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\t}\r\n    \t\treturn objectMapper;\r\n    \t}\r\n    }\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If for some reason you cannot add the @JsonIgnoreProperties annotations to your class and you are inside a web server/container such as Jetty. You can create and customize the ObjectMapper inside a custom provider</p>\n<pre><code>import javax.ws.rs.ext.ContextResolver;\nimport javax.ws.rs.ext.Provider;\n\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Provider\npublic class CustomObjectMapperProvider implements ContextResolver&lt;ObjectMapper&gt; {\n\n    private ObjectMapper objectMapper;\n\n    @Override\n    public ObjectMapper getContext(final Class&lt;?&gt; cls) {\n        return getObjectMapper();\n    }\n\n    private synchronized ObjectMapper getObjectMapper() {\n        if(objectMapper == null) {\n            objectMapper = new ObjectMapper();\n            objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        }\n        return objectMapper;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":0,"creation_date":1644782257,"post_id":67622721,"comment_id":125691817,"body_markdown":"Why not just create a static method that does the same? What is the significance of creating a bean?","body":"Why not just create a static method that does the same? What is the significance of creating a bean?"}],"tags":[],"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1638504140,"creation_date":1621521942,"answer_id":67622721,"question_id":4486787,"body_markdown":"If you want to apply `@JsonIgnoreProperties` to all class in you application then the best way it is override Spring boot default jackson object.\r\n\r\nIn you application config file define a bean to create jackson object mapper like this.\r\n\r\n    @Bean\r\n        public ObjectMapper getObjectMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n            return mapper;\r\n        }\r\n\r\nNow, you don&#39;t need to mark every class and it will ignore all unknown properties.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>If you want to apply <code>@JsonIgnoreProperties</code> to all class in you application then the best way it is override Spring boot default jackson object.</p>\n<p>In you application config file define a bean to create jackson object mapper like this.</p>\n<pre><code>@Bean\n    public ObjectMapper getObjectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        return mapper;\n    }\n</code></pre>\n<p>Now, you don't need to mark every class and it will ignore all unknown properties.</p>\n"},{"tags":[],"owner":{"account_id":2595054,"reputation":2818,"user_id":2248943,"display_name":"heringer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623957445,"creation_date":1623957445,"answer_id":68025359,"question_id":4486787,"body_markdown":"Just in case anyone else is using [force-rest-api][1] like me, here is how I used this discussion to solve it (Kotlin):\r\n\r\n    var result = forceApi.getSObject(&quot;Account&quot;, &quot;idhere&quot;)\r\n    result.jsonMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,  false)\r\n    val account: Account = result.`as`(Account::class.java)\r\n\r\nIt looks like force-rest-api is using an old version of jackson&#39;s.\r\n\r\n  [1]: https://github.com/jesperfj/force-rest-api","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Just in case anyone else is using <a href=\"https://github.com/jesperfj/force-rest-api\" rel=\"nofollow noreferrer\">force-rest-api</a> like me, here is how I used this discussion to solve it (Kotlin):</p>\n<pre><code>var result = forceApi.getSObject(&quot;Account&quot;, &quot;idhere&quot;)\nresult.jsonMapper.configure( DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES,  false)\nval account: Account = result.`as`(Account::class.java)\n</code></pre>\n<p>It looks like force-rest-api is using an old version of jackson's.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636826038,"creation_date":1636826038,"answer_id":69956854,"question_id":4486787,"body_markdown":"As per this [documentation][1], you can use the Jackson2ObjectMapperBuilder to build your ObjectMapper:\r\n\t\r\n\t@Autowired\r\n\tJackson2ObjectMapperBuilder objectBuilder;\r\n\r\n\tObjectMapper mapper = objectBuilder.build();\r\n\tString json = &quot;{\\&quot;id\\&quot;: 1001}&quot;;\r\n\r\nBy default, Jackson2ObjectMapperBuilder disables the error unrecognizedpropertyexception.\r\n\r\n  [1]: https://tedblob.com/jackson-unrecognizedpropertyexception-unrecognized-field-not-marked-as-ignorable/","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>As per this <a href=\"https://tedblob.com/jackson-unrecognizedpropertyexception-unrecognized-field-not-marked-as-ignorable/\" rel=\"nofollow noreferrer\">documentation</a>, you can use the Jackson2ObjectMapperBuilder to build your ObjectMapper:</p>\n<pre><code>@Autowired\nJackson2ObjectMapperBuilder objectBuilder;\n\nObjectMapper mapper = objectBuilder.build();\nString json = &quot;{\\&quot;id\\&quot;: 1001}&quot;;\n</code></pre>\n<p>By default, Jackson2ObjectMapperBuilder disables the error unrecognizedpropertyexception.</p>\n"},{"tags":[],"owner":{"account_id":17122164,"reputation":370,"user_id":12390144,"display_name":"Mopto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651580880,"creation_date":1651580880,"answer_id":72099382,"question_id":4486787,"body_markdown":"Json field:\r\n\r\n     &quot;blog_host_url&quot;: &quot;some.site.com&quot;\r\n\r\nKotlin field\r\n\r\n    var blogHostUrl: String = &quot;https://google.com&quot;\r\n\r\nIn my case i needed just to use `@JsonProperty` annotation in my dataClass.\r\n\r\nExample:\r\n\r\n    data class DataBlogModel(\r\n           @JsonProperty(&quot;blog_host_url&quot;) var blogHostUrl: String = &quot;https://google.com&quot;\r\n        )\r\n\r\nHere&#39;s article: [https://www.baeldung.com/jackson-name-of-property][1]\r\n\r\n\r\n  [1]: https://","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Json field:</p>\n<pre><code> &quot;blog_host_url&quot;: &quot;some.site.com&quot;\n</code></pre>\n<p>Kotlin field</p>\n<pre><code>var blogHostUrl: String = &quot;https://google.com&quot;\n</code></pre>\n<p>In my case i needed just to use <code>@JsonProperty</code> annotation in my dataClass.</p>\n<p>Example:</p>\n<pre><code>data class DataBlogModel(\n       @JsonProperty(&quot;blog_host_url&quot;) var blogHostUrl: String = &quot;https://google.com&quot;\n    )\n</code></pre>\n<p>Here's article: https://www.baeldung.com/jackson-name-of-property</p>\n"},{"comments":[{"owner":{"account_id":3132175,"reputation":2384,"user_id":2649618,"accept_rate":73,"display_name":"Ema.jar"},"score":0,"creation_date":1652347389,"post_id":72208090,"comment_id":127586103,"body_markdown":"Hi there, thanks for answering.\nWould be great if you could add some detail to the code you posted.\nWhat are you trying to achieve, and what is the reasoning behind it?\n\nPosting code is great but a bit of description could significantly help the people who is asking.","body":"Hi there, thanks for answering. Would be great if you could add some detail to the code you posted. What are you trying to achieve, and what is the reasoning behind it?  Posting code is great but a bit of description could significantly help the people who is asking."}],"tags":[],"owner":{"account_id":21201782,"reputation":132,"user_id":15592271,"display_name":"Rog&#233;rio Viana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652306700,"creation_date":1652306700,"answer_id":72208090,"question_id":4486787,"body_markdown":"    ObjectMapper objectMapper = new ObjectMapper()\r\n    .configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<pre><code>ObjectMapper objectMapper = new ObjectMapper()\n.configure(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT, true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652352460,"creation_date":1652352460,"answer_id":72214219,"question_id":4486787,"body_markdown":"I ran into this once when my JSON payload included a property that was not recognised by the API. The solution was to rename/remove the offending property.","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I ran into this once when my JSON payload included a property that was not recognised by the API. The solution was to rename/remove the offending property.</p>\n"},{"tags":[],"owner":{"account_id":4718887,"reputation":129,"user_id":3817350,"display_name":"Omkar Patkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657076024,"creation_date":1657076024,"answer_id":72877468,"question_id":4486787,"body_markdown":"I faced similar issue, only difference is i was working with YAML file instead of JSON file. So i was using YamlFactory() when creating an ObjectMapper. Also, the properties of my Java POJO were priviate.\r\nHowever, the solution mentioned in all these answers did not help. I mean, it stopped throwing error and started returning Java object but the **properties of the java object would be null.** \r\n\r\nI just did the following: -\r\n\r\n    objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\n\r\nAnd **without the need** of: - \r\n\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\r\nNow, i am able to deserialize data from Yaml file into Java object. All properties are not null now. This solution should work for JSON approach also.\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I faced similar issue, only difference is i was working with YAML file instead of JSON file. So i was using YamlFactory() when creating an ObjectMapper. Also, the properties of my Java POJO were priviate.\nHowever, the solution mentioned in all these answers did not help. I mean, it stopped throwing error and started returning Java object but the <strong>properties of the java object would be null.</strong></p>\n<p>I just did the following: -</p>\n<pre><code>objectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n</code></pre>\n<p>And <strong>without the need</strong> of: -</p>\n<pre><code>objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n<p>Now, i am able to deserialize data from Yaml file into Java object. All properties are not null now. This solution should work for JSON approach also.</p>\n"},{"tags":[],"owner":{"account_id":5362341,"reputation":688,"user_id":4273204,"accept_rate":0,"display_name":"Akash Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660030458,"creation_date":1660030458,"answer_id":73288055,"question_id":4486787,"body_markdown":"Below is what I tried to suppress the unknown props which did not want to parse.\r\nSharing Kotlin code\r\n\r\n    val myResponse = jacksonObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .readValue(serverResponse, FooResponse::class.java)","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Below is what I tried to suppress the unknown props which did not want to parse.\nSharing Kotlin code</p>\n<pre><code>val myResponse = jacksonObjectMapper().configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n            .readValue(serverResponse, FooResponse::class.java)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2111994,"reputation":337,"user_id":1877098,"accept_rate":20,"display_name":"Sorin-Alexandru Cristescu"},"score":0,"creation_date":1676367652,"post_id":73594489,"comment_id":133118144,"body_markdown":"Note that in org.codehaus.jackson.map.ObjectMapper, the method disable takes other parameters; you are referring here to com.fasterxml.jackson.databind.ObjectMapper","body":"Note that in org.codehaus.jackson.map.ObjectMapper, the method disable takes other parameters; you are referring here to com.fasterxml.jackson.databind.ObjectMapper"}],"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1662228996,"creation_date":1662228996,"answer_id":73594489,"question_id":4486787,"body_markdown":"Simple solution for Java 11 and newer:\r\n\r\n    var mapper = new ObjectMapper()\r\n            .registerModule(new JavaTimeModule())\r\n            .disable(FAIL_ON_UNKNOWN_PROPERTIES)\r\n            .disable(WRITE_DATES_AS_TIMESTAMPS)\r\n            .enable(ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\r\n\r\nImportant for ignoring is disabling &#39;FAIL_ON_UNKNOWN_PROPERTIES&#39;","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>Simple solution for Java 11 and newer:</p>\n<pre><code>var mapper = new ObjectMapper()\n        .registerModule(new JavaTimeModule())\n        .disable(FAIL_ON_UNKNOWN_PROPERTIES)\n        .disable(WRITE_DATES_AS_TIMESTAMPS)\n        .enable(ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\n</code></pre>\n<p>Important for ignoring is disabling 'FAIL_ON_UNKNOWN_PROPERTIES'</p>\n"}],"owner":{"account_id":262933,"reputation":10021,"user_id":548167,"accept_rate":25,"display_name":"jshree"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326865,"favorite_count":0,"down_vote_count":1,"up_vote_count":995,"answer_count":51,"score":994,"last_activity_date":1685895512,"creation_date":1292817771,"question_id":4486787,"body_markdown":"I need to convert a certain JSON string to a Java object. I am using Jackson for JSON handling. I have no control over the input JSON (I read from a web service). This is my input JSON:\r\n\r\n    {&quot;wrapper&quot;:[{&quot;id&quot;:&quot;13&quot;,&quot;name&quot;:&quot;Fred&quot;}]}\r\n\r\nHere is a simplified use case:\r\n\r\n    private void tryReading() {\r\n        String jsonStr = &quot;{\\&quot;wrapper\\&quot;\\:[{\\&quot;id\\&quot;:\\&quot;13\\&quot;,\\&quot;name\\&quot;:\\&quot;Fred\\&quot;}]}&quot;;\r\n        ObjectMapper mapper = new ObjectMapper();  \r\n        Wrapper wrapper = null;\r\n        try {\r\n            wrapper = mapper.readValue(jsonStr , Wrapper.class);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        System.out.println(&quot;wrapper = &quot; + wrapper);\r\n    }\r\n\r\nMy entity class is:\r\n\r\n    public Class Student { \r\n        private String name;\r\n        private String id;\r\n        //getters &amp; setters for name &amp; id here\r\n    }\r\n\r\nMy Wrapper class is basically a container object to get my list of students:\r\n\r\n    public Class Wrapper {\r\n        private List&lt;Student&gt; students;\r\n        //getters &amp; setters here\r\n    }\r\n\r\nI keep getting this error and &quot;wrapper&quot; returns `null`. I am not sure what&#39;s missing. Can someone help please?\r\n\r\n    org.codehaus.jackson.map.exc.UnrecognizedPropertyException: \r\n        Unrecognized field &quot;wrapper&quot; (Class Wrapper), not marked as ignorable\r\n     at [Source: java.io.StringReader@1198891; line: 1, column: 13] \r\n        (through reference chain: Wrapper[&quot;wrapper&quot;])\r\n     at org.codehaus.jackson.map.exc.UnrecognizedPropertyException\r\n        .from(UnrecognizedPropertyException.java:53)\r\n","title":"Jackson with JSON: Unrecognized field, not marked as ignorable","body":"<p>I need to convert a certain JSON string to a Java object. I am using Jackson for JSON handling. I have no control over the input JSON (I read from a web service). This is my input JSON:</p>\n\n<pre><code>{\"wrapper\":[{\"id\":\"13\",\"name\":\"Fred\"}]}\n</code></pre>\n\n<p>Here is a simplified use case:</p>\n\n<pre><code>private void tryReading() {\n    String jsonStr = \"{\\\"wrapper\\\"\\:[{\\\"id\\\":\\\"13\\\",\\\"name\\\":\\\"Fred\\\"}]}\";\n    ObjectMapper mapper = new ObjectMapper();  \n    Wrapper wrapper = null;\n    try {\n        wrapper = mapper.readValue(jsonStr , Wrapper.class);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    System.out.println(\"wrapper = \" + wrapper);\n}\n</code></pre>\n\n<p>My entity class is:</p>\n\n<pre><code>public Class Student { \n    private String name;\n    private String id;\n    //getters &amp; setters for name &amp; id here\n}\n</code></pre>\n\n<p>My Wrapper class is basically a container object to get my list of students:</p>\n\n<pre><code>public Class Wrapper {\n    private List&lt;Student&gt; students;\n    //getters &amp; setters here\n}\n</code></pre>\n\n<p>I keep getting this error and \"wrapper\" returns <code>null</code>. I am not sure what's missing. Can someone help please?</p>\n\n<pre><code>org.codehaus.jackson.map.exc.UnrecognizedPropertyException: \n    Unrecognized field \"wrapper\" (Class Wrapper), not marked as ignorable\n at [Source: java.io.StringReader@1198891; line: 1, column: 13] \n    (through reference chain: Wrapper[\"wrapper\"])\n at org.codehaus.jackson.map.exc.UnrecognizedPropertyException\n    .from(UnrecognizedPropertyException.java:53)\n</code></pre>\n"},{"tags":["java","exception","junit"],"comments":[{"owner":{"account_id":28720712,"reputation":87,"user_id":21994504,"display_name":"Cortard"},"score":1,"creation_date":1685722406,"post_id":76391707,"comment_id":134705762,"body_markdown":"The compilater say that you want to catch an `OlympicException` but nothing in your `try` can throw one. Why do you use a try/catch here ?","body":"The compilater say that you want to catch an <code>OlympicException</code> but nothing in your <code>try</code> can throw one. Why do you use a try/catch here ?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1685722963,"post_id":76391707,"comment_id":134705878,"body_markdown":"Why do you leave all the `// TODO`s in your code? That&#39;s ugly and messy. Why are you trying to catch an exception that is never thrown? Where do you expect this exception to be thrown in your code?","body":"Why do you leave all the <code>&#47;&#47; TODO</code>s in your code? That&#39;s ugly and messy. Why are you trying to catch an exception that is never thrown? Where do you expect this exception to be thrown in your code?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1685723439,"post_id":76391707,"comment_id":134705982,"body_markdown":"The only exception I can see that would be thrown by your code is NullPointerException if any of the values are null. Note: There&#39;s no need for an `else` after an `if` with a `return`.","body":"The only exception I can see that would be thrown by your code is NullPointerException if any of the values are null. Note: There&#39;s no need for an <code>else</code> after an <code>if</code> with a <code>return</code>."}],"answers":[{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1685728814,"post_id":76391816,"comment_id":134707031,"body_markdown":"`compareTo` methods shouldn&#39;t throw any exceptions apart from `NullPointerException` if the passed argument is `null`, or `ClassCastException` if the argument isn&#39;t compatible. The latter is mostly a left-over from the pre-generic days.","body":"<code>compareTo</code> methods shouldn&#39;t throw any exceptions apart from <code>NullPointerException</code> if the passed argument is <code>null</code>, or <code>ClassCastException</code> if the argument isn&#39;t compatible. The latter is mostly a left-over from the pre-generic days."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1685751507,"post_id":76391816,"comment_id":134709936,"body_markdown":"@RobSpoor &quot;shouldn&#39;t&quot;? Any method can throw any runtime exception without violating any contract of principle. Your examples are common runtime exceptions thrown by compareTo, but there is no express or implied requirement to restrict runtime exceptions thrown to be only those two.","body":"@RobSpoor &quot;shouldn&#39;t&quot;? Any method can throw any runtime exception without violating any contract of principle. Your examples are common runtime exceptions thrown by compareTo, but there is no express or implied requirement to restrict runtime exceptions thrown to be only those two."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1685780975,"post_id":76391816,"comment_id":134711680,"body_markdown":"I didn&#39;t say &quot;cannot&quot; because you&#39;re right - any runtime exception can be thrown from any method. However, they &quot;shouldn&#39;t&quot; because of the specification: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html#compareTo(T). If an implementation throws other exceptions that will be unexpected and can lead to very odd bugs in code. For instance, `TreeMap` instances can start throwing exceptions that nobody expects, and therefore nobody will try to catch.","body":"I didn&#39;t say &quot;cannot&quot; because you&#39;re right - any runtime exception can be thrown from any method. However, they &quot;shouldn&#39;t&quot; because of the specification: <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html#compareTo(T)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>. If an implementation throws other exceptions that will be unexpected and can lead to very odd bugs in code. For instance, <code>TreeMap</code> instances can start throwing exceptions that nobody expects, and therefore nobody will try to catch."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685722725,"creation_date":1685722237,"answer_id":76391816,"question_id":76391707,"body_markdown":"Make it a `RuntimeException`:\r\n\r\n    public class OlympicException extends RuntimeException {\r\n\r\nThat will fix your compilation error, and allow your `compareTo()` impl to throw it.","title":"How to properly test a compareTo() method with custom exceptions in Java?","body":"<p>Make it a <code>RuntimeException</code>:</p>\n<pre><code>public class OlympicException extends RuntimeException {\n</code></pre>\n<p>That will fix your compilation error, and allow your <code>compareTo()</code> impl to throw it.</p>\n"}],"owner":{"account_id":28738032,"reputation":1,"user_id":22008746,"display_name":"Future Hendrixxx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685895398,"creation_date":1685721312,"question_id":76391707,"body_markdown":"Having problems testing a `compareTo()` method with custom exception. How do I throw a custom exception without compilation error?\r\n\r\nCode of the Junit test\r\n\r\n```\r\n @Test\r\n    public void compareTo() {\r\n        // check equals\r\n        assertEquals(0, competitionDressageQualifier.compareTo(competitionDressageQualifier));\r\n        try {\r\n            Competition c1 = new Competition(competitionDressageQualifier.getEvent(), competitionDressageQualifier.getCompetitionDate(),\r\n                    competitionDressageQualifier.getJudges(), competitionDressageQualifier.getCompetitionLevel());\r\n            assertEquals(0, c1.compareTo(competitionDressageQualifier));\r\n            assertEquals(0, competitionDressageQualifier.compareTo(c1));\r\n        } catch (OlympicException ex) { //I HAVE THE ERROR HERE Unreachable catch block for OlympicException. This exception is never thrown from the try statement body\r\n            // this shouldn&#39;t happen\r\n            fail();\r\n        }\r\n\r\n```\r\n\r\nCode of the `compareTo()`; how do I implement try catch here exactly?\r\n\r\n```\r\n@Override\r\n\tpublic int compareTo(Competition o) //compare properties\r\n\t{\r\n\t\t\r\n\t\tif(!Objects.equals(this.getCompetitionDate(), o.getCompetitionDate())) //first date\r\n\t\t{\r\n\t\t\treturn (this.getCompetitionDate().compareTo(o.getCompetitionDate()));\r\n\t\t}\r\n\t\t\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(!Objects.equals(this.competitionlevel, o.competitionlevel)) //seconds comp level\r\n\t\t\t{\r\n\t\t\t\treturn (this.competitionlevel.compareTo(o.competitionlevel));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t\t\tif(!Objects.equals(this.getEvent().getEventName(), o.getEvent().getEventName())) //third priority is event name\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treturn (this.getEvent().getEventName().compareTo(o.getEvent().getEventName()));\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\treturn 0; //if same return 0\r\n\t}\r\n```\r\n\r\nCode of the custom exception:\r\n```\r\npublic class OlympicException extends Exception {\r\n\r\n    private long serialVersionUID=-1;\r\n   \r\n\tpublic OlympicException()\r\n\t   {\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( String s )\r\n\t   {\r\n\t      super( s );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( Throwable cause )\r\n\t   {\r\n\t      super( cause );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n\t   public OlympicException( String s, Throwable cause )\r\n\t   {\r\n\t      super( s, cause );\r\n\t      // TODO Auto-generated constructor stub\r\n\t   }\r\n\r\n}\r\n```\r\nNo matter what I try I get a compilation error. Am I comparing some stuff in the wrong way?","title":"How to properly test a compareTo() method with custom exceptions in Java?","body":"<p>Having problems testing a <code>compareTo()</code> method with custom exception. How do I throw a custom exception without compilation error?</p>\n<p>Code of the Junit test</p>\n<pre><code> @Test\n    public void compareTo() {\n        // check equals\n        assertEquals(0, competitionDressageQualifier.compareTo(competitionDressageQualifier));\n        try {\n            Competition c1 = new Competition(competitionDressageQualifier.getEvent(), competitionDressageQualifier.getCompetitionDate(),\n                    competitionDressageQualifier.getJudges(), competitionDressageQualifier.getCompetitionLevel());\n            assertEquals(0, c1.compareTo(competitionDressageQualifier));\n            assertEquals(0, competitionDressageQualifier.compareTo(c1));\n        } catch (OlympicException ex) { //I HAVE THE ERROR HERE Unreachable catch block for OlympicException. This exception is never thrown from the try statement body\n            // this shouldn't happen\n            fail();\n        }\n\n</code></pre>\n<p>Code of the <code>compareTo()</code>; how do I implement try catch here exactly?</p>\n<pre><code>@Override\n    public int compareTo(Competition o) //compare properties\n    {\n        \n        if(!Objects.equals(this.getCompetitionDate(), o.getCompetitionDate())) //first date\n        {\n            return (this.getCompetitionDate().compareTo(o.getCompetitionDate()));\n        }\n        \n        else\n        {\n            if(!Objects.equals(this.competitionlevel, o.competitionlevel)) //seconds comp level\n            {\n                return (this.competitionlevel.compareTo(o.competitionlevel));\n            }\n            else\n            {\n            \n                    if(!Objects.equals(this.getEvent().getEventName(), o.getEvent().getEventName())) //third priority is event name\n                    {\n                        return (this.getEvent().getEventName().compareTo(o.getEvent().getEventName()));\n                    }\n                \n            }\n        }       \n        return 0; //if same return 0\n    }\n</code></pre>\n<p>Code of the custom exception:</p>\n<pre><code>public class OlympicException extends Exception {\n\n    private long serialVersionUID=-1;\n   \n    public OlympicException()\n       {\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( String s )\n       {\n          super( s );\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( Throwable cause )\n       {\n          super( cause );\n          // TODO Auto-generated constructor stub\n       }\n\n       public OlympicException( String s, Throwable cause )\n       {\n          super( s, cause );\n          // TODO Auto-generated constructor stub\n       }\n\n}\n</code></pre>\n<p>No matter what I try I get a compilation error. Am I comparing some stuff in the wrong way?</p>\n"},{"tags":["java","exception","process","runtime","exec"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1685787741,"post_id":76395598,"comment_id":134712299,"body_markdown":"`new ProcessBuilder(&quot;C:/ProgramData/Microsoft/Windows/Start Menu/Programs/Firefox.exe&quot;).inheritIO().start()` would be better.. `ProcessBuilder` is generally easier to use, but always pass arguments as an array or `List` (in this case implied). You need to double backslashes in Java strings to escape the backslash but better to use forward slashes","body":"<code>new ProcessBuilder(&quot;C:&#47;ProgramData&#47;Microsoft&#47;Windows&#47;Start Menu&#47;Programs&#47;Firefox.exe&quot;).inheritIO().start()</code> would be better.. <code>ProcessBuilder</code> is generally easier to use, but always pass arguments as an array or <code>List</code> (in this case implied). You need to double backslashes in Java strings to escape the backslash but better to use forward slashes"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1685788031,"post_id":76395598,"comment_id":134712320,"body_markdown":"Does this answer your question? [Java Runtime Exec With White Spaces On Path Name](https://stackoverflow.com/questions/33077129/java-runtime-exec-with-white-spaces-on-path-name)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/33077129/java-runtime-exec-with-white-spaces-on-path-name\">Java Runtime Exec With White Spaces On Path Name</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685788191,"post_id":76395598,"comment_id":134712331,"body_markdown":"Incidentally, if your objective is to open a web browser, you might find methods in `java.awt.Desktop` easier and more robust","body":"Incidentally, if your objective is to open a web browser, you might find methods in <code>java.awt.Desktop</code> easier and more robust"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1685788743,"post_id":76395598,"comment_id":134712371,"body_markdown":"using `exec(String)`, the method with one String parameter, is known to separate the string using spaces as separator - actually its documentation states that it is deprecated and explicitly mention &quot;*This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead. The command string is broken into tokens using only whitespace characters. For an argument with an embedded space, such as a filename, this can cause problems as the token does not include the full filename.*&quot;","body":"using <code>exec(String)</code>, the method with one String parameter, is known to separate the string using spaces as separator - actually its documentation states that it is deprecated and explicitly mention &quot;<i>This method is error-prone and should not be used, the corresponding method exec(String[]) or ProcessBuilder should be used instead. The command string is broken into tokens using only whitespace characters. For an argument with an embedded space, such as a filename, this can cause problems as the token does not include the full filename.</i>&quot;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685791981,"post_id":76395598,"comment_id":134712667,"body_markdown":"I should have been less abstract in my comments about `java.awt.Desktop`. Prefer this as it will make your code less likely to fail and more portable (*if* your objective is to open a browser) as **a.** not everyone will have that browser, and/or **b.** not everyone&#39;s Firefox will be at that location and **c.** even on the box that you&#39;re running this, the location of the executable might change","body":"I should have been less abstract in my comments about <code>java.awt.Desktop</code>. Prefer this as it will make your code less likely to fail and more portable (<i>if</i> your objective is to open a browser) as <b>a.</b> not everyone will have that browser, and/or <b>b.</b> not everyone&#39;s Firefox will be at that location and <b>c.</b> even on the box that you&#39;re running this, the location of the executable might change"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1685814851,"post_id":76395598,"comment_id":134715015,"body_markdown":"I don&#39;t think that the command you&#39;re running is an actual command. The location indicates it&#39;s your system-wide start menu, so most likely the `Firefox.exe` is actually `Firefox.exe.lnk` - a shortcut.","body":"I don&#39;t think that the command you&#39;re running is an actual command. The location indicates it&#39;s your system-wide start menu, so most likely the <code>Firefox.exe</code> is actually <code>Firefox.exe.lnk</code> - a shortcut."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685816038,"post_id":76395598,"comment_id":134715147,"body_markdown":"@RobSpoor - yes. I thought there was something weird about it ;)","body":"@RobSpoor - yes. I thought there was something weird about it ;)"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685886053,"post_id":76400675,"comment_id":134720528,"body_markdown":"@Rob Spoor has already mentioned that. Also, it doesn&#39;t affect what I said about hard-coding browser access","body":"@Rob Spoor has already mentioned that. Also, it doesn&#39;t affect what I said about hard-coding browser access"}],"tags":[],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885783,"creation_date":1685885783,"answer_id":76400675,"question_id":76395598,"body_markdown":"I found the problem.\r\nThe &quot;Start Menu&quot; - folder is a virtual folder, only windows has access, so I searched for the &quot;firefox.exe&quot; in my folder system and found it, than I used this folder &quot;C:/program (x86)/Mozilla Firefox/firefox.exe&quot;. My program (a sidebar) is running now. When I click on firefox, firefox will start.\r\nThanx for your help.","title":"Java Runtime.getRuntime().exec() throwing error when file path contains spaces","body":"<p>I found the problem.\nThe &quot;Start Menu&quot; - folder is a virtual folder, only windows has access, so I searched for the &quot;firefox.exe&quot; in my folder system and found it, than I used this folder &quot;C:/program (x86)/Mozilla Firefox/firefox.exe&quot;. My program (a sidebar) is running now. When I click on firefox, firefox will start.\nThanx for your help.</p>\n"}],"owner":{"account_id":18945100,"reputation":3,"user_id":13824184,"display_name":"Gaby Zech"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685893424,"creation_date":1685787596,"question_id":76395598,"body_markdown":"The Java code:\r\n```java\r\nProcess process = Runtime.getRuntime().ecex(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Firefox.exe&quot;); \r\n```\r\nthrows the exception:\r\n\r\n```\r\njava.io.IOException: Cannot run program &quot;C:\\ProgramData\\Microsoft\\Windows\\Start&quot;: CreateProcess error=2, Das System kann die angegebene Datei nicht finden\r\n````\r\n\r\nHe can&#39;t handle the space at the folder name `Start Menu`, I think. \r\n\r\nIs there an escape sequence to handle spaces?\r\n\r\n\r\n\r\nI&#39;ve no idea, what I can do?\r\nI only try to use the German folder names, but it will be the same.","title":"Java Runtime.getRuntime().exec() throwing error when file path contains spaces","body":"<p>The Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Process process = Runtime.getRuntime().ecex(&quot;C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Firefox.exe&quot;); \n</code></pre>\n<p>throws the exception:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;C:\\ProgramData\\Microsoft\\Windows\\Start&quot;: CreateProcess error=2, Das System kann die angegebene Datei nicht finden\n</code></pre>\n<p>He can't handle the space at the folder name <code>Start Menu</code>, I think.</p>\n<p>Is there an escape sequence to handle spaces?</p>\n<p>I've no idea, what I can do?\nI only try to use the German folder names, but it will be the same.</p>\n"},{"tags":["java","spring-boot","dependency-injection"],"answers":[{"comments":[{"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"score":0,"creation_date":1685901794,"post_id":76401165,"comment_id":134722427,"body_markdown":"Thank you. I understand now. But instead of changing the signature to fetchData(consumer) it might make more sense in my case to remove the @Component annotation on the strategy and create a new instance of it in the Service (without injection).","body":"Thank you. I understand now. But instead of changing the signature to fetchData(consumer) it might make more sense in my case to remove the @Component annotation on the strategy and create a new instance of it in the Service (without injection)."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1688147257,"post_id":76401165,"comment_id":135039922,"body_markdown":"@M4V3N the second solution works almost as you said, but uses Components, what if your components needed to be injected?","body":"@M4V3N the second solution works almost as you said, but uses Components, what if your components needed to be injected?"}],"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685893346,"creation_date":1685893001,"answer_id":76401165,"question_id":76400494,"body_markdown":"Your solution has a drawback! Spring components are Singleton by default, so when working in a concurrent environment (such as web application), your code breaks!\r\n\r\nThread 1 calls `setConsumer(consumer1)`, and just before calling the second method threa2 calls `setConsumer(consumer2)` and now thread 1&#39;s method is called on `consumer2`.\r\n\r\nTo prevent the problem change the signature of your method to `fetchData(Consumer consumer)`, now you are sure using proper consumer.\r\n\r\n--------\r\n\r\nAnother solution can be using a factory, if you can determine which consumer should be used according to `fetchData` arguments, so define a class as\r\n\r\n    @Component\r\n    public class ConsumerFactory implements BeanFactoryAware {\r\n       private BeanFactory beanFactory;\r\n\r\n       public void setBeanFactory(BeanFactory beanFactory) {\r\n          this.beanFactory = beanFactory;\r\n       }\r\n\r\n       public Consumer resolverConsumer(arguments) {\r\n          if (condition1) {\r\n             return beanFactory.getBean(&#39;name1&#39;, Consumer.class);\r\n          } \r\n          if (condition2) {\r\n             return beanFactory.getBean(&#39;name2&#39;, Consumer.class);\r\n          } \r\n          ....\r\n       }\r\n\r\n    }\r\n\r\nnow inject this factory in your strategy, and you can get proper `Consumer` in your Strategy.\r\n\r\n--------\r\n\r\nNever forget! as Spring components are singleton by default, **you must not have conversional state in them!**","title":"How to inject multiple implementations of same type with Spring Boot?","body":"<p>Your solution has a drawback! Spring components are Singleton by default, so when working in a concurrent environment (such as web application), your code breaks!</p>\n<p>Thread 1 calls <code>setConsumer(consumer1)</code>, and just before calling the second method threa2 calls <code>setConsumer(consumer2)</code> and now thread 1's method is called on <code>consumer2</code>.</p>\n<p>To prevent the problem change the signature of your method to <code>fetchData(Consumer consumer)</code>, now you are sure using proper consumer.</p>\n<hr />\n<p>Another solution can be using a factory, if you can determine which consumer should be used according to <code>fetchData</code> arguments, so define a class as</p>\n<pre><code>@Component\npublic class ConsumerFactory implements BeanFactoryAware {\n   private BeanFactory beanFactory;\n\n   public void setBeanFactory(BeanFactory beanFactory) {\n      this.beanFactory = beanFactory;\n   }\n\n   public Consumer resolverConsumer(arguments) {\n      if (condition1) {\n         return beanFactory.getBean('name1', Consumer.class);\n      } \n      if (condition2) {\n         return beanFactory.getBean('name2', Consumer.class);\n      } \n      ....\n   }\n\n}\n</code></pre>\n<p>now inject this factory in your strategy, and you can get proper <code>Consumer</code> in your Strategy.</p>\n<hr />\n<p>Never forget! as Spring components are singleton by default, <strong>you must not have conversional state in them!</strong></p>\n"}],"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76401165,"answer_count":1,"score":1,"last_activity_date":1685893346,"creation_date":1685882763,"question_id":76400494,"body_markdown":"My class **RssStrategy** injects a **RssConsumer** class. There are multiple implementations of the **RssConsumer**; therefore, Spring Boot throws an error that multiple beans of the same type have been found. \r\n\r\n**Exception**\r\n\r\n    Parameter 0 of constructor in &lt;path&gt;.RssStrategy required a single bean, but 11 were found:\r\n\r\nHow would I circumvent this issue with my current implementation?\r\nI have seen solutions where a qualifier has been used to determine which implementation to reference, but in my case, **RssStrategy.java** doesn&#39;t know, and it&#39;s up to the service that injects the Strategy to decide.\r\n\r\n**RssStrategy.java**\r\n   \r\n    @Component\r\n    public class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\r\n\r\n       private final T rssConsumer;\r\n\r\n       public RssStrategy(T rssConsumer) {\r\n           this.rssConsumer = rssConsumer;\r\n       }\r\n        \r\n       @Override\r\n       public void fetchData() {\r\n          rssConsumer.consume();\r\n       }\r\n    }\r\n\r\nDifferent implementations of **RssConsumer.java**:\r\n    \r\n    @Component(value = &quot;rssConsumerA&quot;)\r\n    public class RssConsumerA extends RssConsumer {\r\n       @Override\r\n       public void consume() {}\r\n    }\r\n\r\n    @Component(value = &quot;rssConsumerB&quot;)\r\n    public class RssConsumerB extends RssConsumer {\r\n       @Override\r\n       public void consume() {}\r\n    }\r\n\r\n\r\nInjecting RssStrategy in different services but always passing a different generic type implementation:\r\n\r\n    @Service\r\n    public class ServiceA extends MyAbstractService {\r\n       public ServiceA ( RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {}\r\n       \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n    \r\n    @Service\r\n    public class ServiceB extends MyAbstractService {\r\n       public ServiceB ( RssStrategy&lt;RssConsumerB&gt; fetchDataStrategy) {}\r\n       \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n\r\n**Update: I figured out a solution:**\r\n\r\nThe only alternative I found out so far is instead of injecting the rssConsumer, I provide it via setter like:\r\n\r\n    @Component\r\n    public class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\r\n    \r\n       private final T rssConsumer;\r\n    \r\n       public setRssConsumer(T rssConsumer) {\r\n          this.rssConsumer = rssConsumer;\r\n       }\r\n    \r\n       @Override\r\n       public void fetchData() {\r\n          rssConsumer.consume();\r\n       }\r\n    }\r\n\r\nAnd injecting the Consumer in the Service instead and providing it via the setter method:\r\n\r\n    @Service\r\n    public class ServiceA extends MyAbstractService {\r\n          public ServiceA ( RssConsumerA, rssConsumerA, \r\n       RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {\r\n          fetchDataStrategy.setRssConsumer(rssConsumerA);\r\n       }\r\n    \r\n       @Override\r\n       public void run() {fetchDataStrategy.fetchData()}\r\n    }\r\n\r\n**Update 2:**\r\nIt seems that my solution also does not work. Even though I provide the rssConsumer via setter:\r\n\r\n    fetchDataStrategy.setRssConsumer(rssConsumerA);\r\n\r\nThe actual consumer seems to be rather random. I have to investigate more but it&#39;s not the correct behaviour.\r\n","title":"How to inject multiple implementations of same type with Spring Boot?","body":"<p>My class <strong>RssStrategy</strong> injects a <strong>RssConsumer</strong> class. There are multiple implementations of the <strong>RssConsumer</strong>; therefore, Spring Boot throws an error that multiple beans of the same type have been found.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Parameter 0 of constructor in &lt;path&gt;.RssStrategy required a single bean, but 11 were found:\n</code></pre>\n<p>How would I circumvent this issue with my current implementation?\nI have seen solutions where a qualifier has been used to determine which implementation to reference, but in my case, <strong>RssStrategy.java</strong> doesn't know, and it's up to the service that injects the Strategy to decide.</p>\n<p><strong>RssStrategy.java</strong></p>\n<pre><code>@Component\npublic class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\n\n   private final T rssConsumer;\n\n   public RssStrategy(T rssConsumer) {\n       this.rssConsumer = rssConsumer;\n   }\n    \n   @Override\n   public void fetchData() {\n      rssConsumer.consume();\n   }\n}\n</code></pre>\n<p>Different implementations of <strong>RssConsumer.java</strong>:</p>\n<pre><code>@Component(value = &quot;rssConsumerA&quot;)\npublic class RssConsumerA extends RssConsumer {\n   @Override\n   public void consume() {}\n}\n\n@Component(value = &quot;rssConsumerB&quot;)\npublic class RssConsumerB extends RssConsumer {\n   @Override\n   public void consume() {}\n}\n</code></pre>\n<p>Injecting RssStrategy in different services but always passing a different generic type implementation:</p>\n<pre><code>@Service\npublic class ServiceA extends MyAbstractService {\n   public ServiceA ( RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {}\n   \n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n\n@Service\npublic class ServiceB extends MyAbstractService {\n   public ServiceB ( RssStrategy&lt;RssConsumerB&gt; fetchDataStrategy) {}\n   \n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n</code></pre>\n<p><strong>Update: I figured out a solution:</strong></p>\n<p>The only alternative I found out so far is instead of injecting the rssConsumer, I provide it via setter like:</p>\n<pre><code>@Component\npublic class RssStrategy&lt;T extends RssConsumer&gt; implements FetchDataStrategy{\n\n   private final T rssConsumer;\n\n   public setRssConsumer(T rssConsumer) {\n      this.rssConsumer = rssConsumer;\n   }\n\n   @Override\n   public void fetchData() {\n      rssConsumer.consume();\n   }\n}\n</code></pre>\n<p>And injecting the Consumer in the Service instead and providing it via the setter method:</p>\n<pre><code>@Service\npublic class ServiceA extends MyAbstractService {\n      public ServiceA ( RssConsumerA, rssConsumerA, \n   RssStrategy&lt;RssConsumerA&gt; fetchDataStrategy) {\n      fetchDataStrategy.setRssConsumer(rssConsumerA);\n   }\n\n   @Override\n   public void run() {fetchDataStrategy.fetchData()}\n}\n</code></pre>\n<p><strong>Update 2:</strong>\nIt seems that my solution also does not work. Even though I provide the rssConsumer via setter:</p>\n<pre><code>fetchDataStrategy.setRssConsumer(rssConsumerA);\n</code></pre>\n<p>The actual consumer seems to be rather random. I have to investigate more but it's not the correct behaviour.</p>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1685886602,"post_id":76400698,"comment_id":134720593,"body_markdown":"If you are going to do this (I *personally* suggest you don&#39;t), you will need to start multiple threads to handle the reading and writing from the external process. Executing a shell script from Java is possible, but it was not a major design goal for the language (and starting the JVM just to spawn a shell to prompt for user input has to be some kind of antipattern).","body":"If you are going to do this (I <i>personally</i> suggest you don&#39;t), you will need to start multiple threads to handle the reading and writing from the external process. Executing a shell script from Java is possible, but it was not a major design goal for the language (and starting the JVM just to spawn a shell to prompt for user input has to be some kind of antipattern)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685889774,"post_id":76400698,"comment_id":134720985,"body_markdown":"That&#39;s not your real use case. You&#39;re not going to get proper advice for your particular case unless you tell us what it is","body":"That&#39;s not your real use case. You&#39;re not going to get proper advice for your particular case unless you tell us what it is"}],"answers":[{"tags":[],"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685893121,"creation_date":1685893121,"answer_id":76401176,"question_id":76400698,"body_markdown":"The `-p` argument to `read` is only honored when stdin is attached to a terminal. Quoting from the shell&#39;s source code:\r\n\r\n```c\r\n  /* If the -p, -e or -s flags were given, but input is not coming from the\r\n     terminal, turn them off. */\r\n  if ((prompt || edit || silent) &amp;&amp; input_is_tty == 0)\r\n    {\r\n      prompt = (char *)NULL;\r\n#if defined (READLINE)\r\n      itext = (char *)NULL;\r\n#endif\r\n      edit = silent = 0;\r\n    }\r\n```\r\n\r\nYou _could_ wrap the copy of bash in something like `unbuffer` to emulate a TTY (`ProcessBuilder(&quot;/usr/bin/unbuffer&quot;, &quot;/bin/bash&quot;, &quot;-c&quot;,`...), but I&#39;d generally suggest not relying on `-p` at all in the first place (there&#39;s a reason tools built to be programmatically invoked generally accept arguments via environment variables or the command line).","title":"How to use get prompt message of shell script by Java Process","body":"<p>The <code>-p</code> argument to <code>read</code> is only honored when stdin is attached to a terminal. Quoting from the shell's source code:</p>\n<pre class=\"lang-c prettyprint-override\"><code>  /* If the -p, -e or -s flags were given, but input is not coming from the\n     terminal, turn them off. */\n  if ((prompt || edit || silent) &amp;&amp; input_is_tty == 0)\n    {\n      prompt = (char *)NULL;\n#if defined (READLINE)\n      itext = (char *)NULL;\n#endif\n      edit = silent = 0;\n    }\n</code></pre>\n<p>You <em>could</em> wrap the copy of bash in something like <code>unbuffer</code> to emulate a TTY (<code>ProcessBuilder(&quot;/usr/bin/unbuffer&quot;, &quot;/bin/bash&quot;, &quot;-c&quot;,</code>...), but I'd generally suggest not relying on <code>-p</code> at all in the first place (there's a reason tools built to be programmatically invoked generally accept arguments via environment variables or the command line).</p>\n"}],"owner":{"account_id":28749627,"reputation":1,"user_id":22017996,"display_name":"Non TF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685893121,"creation_date":1685886219,"question_id":76400698,"body_markdown":"I am using java.lang.Process to execute shell script which requires user input interactively.\r\nI can&#39;t get the prompt message of requesting user input in Java.\r\n\r\nIn this example, I want to get **&quot;Enter your name: &quot;** during the execution in Java Process.\r\n\r\n```\r\nread -p &#39;Enter your name: &#39; name;\r\necho &quot;Hello, $name!&quot;\r\n```\r\n\r\nI have tried to get shell script output by Process InputStream and ErrorStream.\r\nThey can only get the echo output.\r\n\r\nThis code only print\r\n\r\n**outputFuture: Hello, myName!**\r\n\r\n```\r\nProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;read -p &#39;Enter your name: &#39; name; echo \\&quot;Hello, $name!\\&quot;&quot;);\r\nProcess process = pb.start();\r\nInputStream is = process.getInputStream();\r\nInputStream es = process.getErrorStream();\r\n\r\n\r\n// Create a separate thread to read the output of the process\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\nFuture&lt;String&gt; outputFuture = executor.submit(() -&gt; {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n    String line;\r\n    while ((line = reader.readLine()) != null) {\r\n        return line;\r\n    }\r\n    return null;\r\n});\r\n\r\n//Input myName to continue shell script  \r\nOutputStream os = process.getOutputStream();\r\nos.write(&quot;myName\\n&quot;.getBytes());\r\nos.flush();\r\nThread.sleep(1000);\r\n\r\n//Reading ErrorStream\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(es));\r\nString line;\r\nwhile ((line = reader.readLine()) != null) {\r\n    LOGGER.info(&quot;error reader: {}&quot;, line);\r\n}\r\nint exitCode = process.waitFor();\r\nLOGGER.info(&quot;Script exited with code &quot; + exitCode);\r\n\r\n\r\n// Display the output of the process\r\nString output = outputFuture.get();\r\nif (output != null) {\r\n    LOGGER.info(&quot;outputFuture: {}&quot;, output);\r\n}\r\n\r\nexecutor.shutdown();\r\n```","title":"How to use get prompt message of shell script by Java Process","body":"<p>I am using java.lang.Process to execute shell script which requires user input interactively.\nI can't get the prompt message of requesting user input in Java.</p>\n<p>In this example, I want to get <strong>&quot;Enter your name: &quot;</strong> during the execution in Java Process.</p>\n<pre><code>read -p 'Enter your name: ' name;\necho &quot;Hello, $name!&quot;\n</code></pre>\n<p>I have tried to get shell script output by Process InputStream and ErrorStream.\nThey can only get the echo output.</p>\n<p>This code only print</p>\n<p><strong>outputFuture: Hello, myName!</strong></p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;/bin/bash&quot;, &quot;-c&quot;, &quot;read -p 'Enter your name: ' name; echo \\&quot;Hello, $name!\\&quot;&quot;);\nProcess process = pb.start();\nInputStream is = process.getInputStream();\nInputStream es = process.getErrorStream();\n\n\n// Create a separate thread to read the output of the process\nExecutorService executor = Executors.newSingleThreadExecutor();\n\nFuture&lt;String&gt; outputFuture = executor.submit(() -&gt; {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    String line;\n    while ((line = reader.readLine()) != null) {\n        return line;\n    }\n    return null;\n});\n\n//Input myName to continue shell script  \nOutputStream os = process.getOutputStream();\nos.write(&quot;myName\\n&quot;.getBytes());\nos.flush();\nThread.sleep(1000);\n\n//Reading ErrorStream\nBufferedReader reader = new BufferedReader(new InputStreamReader(es));\nString line;\nwhile ((line = reader.readLine()) != null) {\n    LOGGER.info(&quot;error reader: {}&quot;, line);\n}\nint exitCode = process.waitFor();\nLOGGER.info(&quot;Script exited with code &quot; + exitCode);\n\n\n// Display the output of the process\nString output = outputFuture.get();\nif (output != null) {\n    LOGGER.info(&quot;outputFuture: {}&quot;, output);\n}\n\nexecutor.shutdown();\n</code></pre>\n"},{"tags":["java","android","runtime-permissions"],"answers":[{"comments":[{"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"score":0,"creation_date":1685711255,"post_id":76390042,"comment_id":134703219,"body_markdown":"Can you please provide the `java` version (in which the post was intended), as I am not adept in Kotlin?","body":"Can you please provide the <code>java</code> version (in which the post was intended), as I am not adept in Kotlin?"},{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1685711539,"post_id":76390042,"comment_id":134703286,"body_markdown":"Sure, give me a minute","body":"Sure, give me a minute"}],"tags":[],"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685711924,"creation_date":1685707975,"answer_id":76390042,"question_id":76389927,"body_markdown":"You can&#39;t and that&#39;s by design - to prevent abuse.\r\n\r\nYou&#39;re better of following the [official guidelines][1].\r\n\r\nThe only way to request permissions again, is to navigate the user to app info, where the user has to manually allow it:\r\n\r\n```kotlin\r\nfun launchPermissionSettings(context: Context) {\r\n    Intent().apply {\r\n        action = Settings.ACTION_APPLICATION_DETAILS_SETTINGS\r\n        data = Uri.fromParts(&quot;package&quot;, context.packageName, null)\r\n\r\n        addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\r\n        addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\r\n        addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS)\r\n\r\n        context.startActivity(this)\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nstatic void launchPermissionSettings(Context context) {\r\n    Intent intent = new Intent();\r\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\r\n    intent.setData(Uri.fromParts(&quot;package&quot;, context.getPackageName(), null));\r\n\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\r\n\r\n    context.startActivity(intent);\r\n}\r\n```\r\n\r\nYou&#39;re also using a deprecated way of requesting permissions. Consider using `ActivityResultContracts.RequestMultiplePermissions()`:\r\n\r\n```kotlin\r\nclass MyFragment: Fragment() {\r\n\tprivate lateinit var mRequestPermissionsLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt;\r\n\r\n\toverride fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n\r\n    \tmRequestPermissionsLauncher = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result: Map&lt;String, Boolean&gt; -&gt;\r\n            //Handle result here\r\n        }\r\n\r\n        //Request permissions like this:\r\n        mRequestPermissionsLauncher.launch(arrayOf(\r\n        \tManifest.permission.SEND_SMS,\r\n    \t\tManifest.permission.READ_SMS,\r\n        ))\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass MyFragment extends Fragment {\r\n    private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\r\n            //Handle activity result here\r\n        });\r\n\r\n        //Request permissions like this:\r\n        String[] PERMISSIONS = {\r\n            Manifest.permission.SEND_SMS,\r\n            Manifest.permission.READ_SMS,\r\n        };\r\n        mRequestPermissionsLauncher.launch(PERMISSIONS);\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions","title":"Android RequestMultiplePermissions(): one of the permission&#39;s status is never true, even after allowing it","body":"<p>You can't and that's by design - to prevent abuse.</p>\n<p>You're better of following the <a href=\"https://developer.android.com/training/permissions/requesting#workflow_for_requesting_permissions\" rel=\"nofollow noreferrer\">official guidelines</a>.</p>\n<p>The only way to request permissions again, is to navigate the user to app info, where the user has to manually allow it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun launchPermissionSettings(context: Context) {\n    Intent().apply {\n        action = Settings.ACTION_APPLICATION_DETAILS_SETTINGS\n        data = Uri.fromParts(&quot;package&quot;, context.packageName, null)\n\n        addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n        addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\n        addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS)\n\n        context.startActivity(this)\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>static void launchPermissionSettings(Context context) {\n    Intent intent = new Intent();\n    intent.setAction(Settings.ACTION_APPLICATION_DETAILS_SETTINGS);\n    intent.setData(Uri.fromParts(&quot;package&quot;, context.getPackageName(), null));\n\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);\n    intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS);\n\n    context.startActivity(intent);\n}\n</code></pre>\n<p>You're also using a deprecated way of requesting permissions. Consider using <code>ActivityResultContracts.RequestMultiplePermissions()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyFragment: Fragment() {\n    private lateinit var mRequestPermissionsLauncher: ActivityResultLauncher&lt;Array&lt;String&gt;&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        mRequestPermissionsLauncher = registerForActivityResult(ActivityResultContracts.RequestMultiplePermissions()) { result: Map&lt;String, Boolean&gt; -&gt;\n            //Handle result here\n        }\n\n        //Request permissions like this:\n        mRequestPermissionsLauncher.launch(arrayOf(\n            Manifest.permission.SEND_SMS,\n            Manifest.permission.READ_SMS,\n        ))\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class MyFragment extends Fragment {\n    private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\n            //Handle activity result here\n        });\n\n        //Request permissions like this:\n        String[] PERMISSIONS = {\n            Manifest.permission.SEND_SMS,\n            Manifest.permission.READ_SMS,\n        };\n        mRequestPermissionsLauncher.launch(PERMISSIONS);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76390042,"answer_count":1,"score":0,"last_activity_date":1685892817,"creation_date":1685706933,"question_id":76389927,"body_markdown":"I want to ask for the `SEND_SMS` and `READ_SMS` runtime permissions, if they are not given. This is my code:\r\n\r\n```\r\nprivate ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\r\nString[] PERMISSIONS = {\r\n    Manifest.permission.SEND_SMS,\r\n    Manifest.permission.READ_SMS\r\n};\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\r\n    mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\r\n         Log.d(&quot;DEBUG&quot;,result.toString());\r\n    });\r\n\r\n    if (!hasPermissions(this, PERMISSIONS)) {\r\n         if(shouldShowRequestPermissionRationale(Manifest.permission.SEND_SMS) || shouldShowRequestPermissionRationale(Manifest.permission.READ_SMS)){\r\n              new AlertDialog.Builder(this)\r\n                   .setTitle(&quot;Permission Needed&quot;)\r\n                   .setMessage(&quot;Please press OK to allow the permissions&quot;)\r\n                   .setCancelable(false)\r\n                   .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; mRequestPermissionsLauncher.launch(PERMISSIONS)).create().show();\r\n         }\r\n         else{\r\n             mRequestPermissionsLauncher.launch(PERMISSIONS);\r\n         }\r\n    }\r\n}\r\npublic static boolean hasPermissions(Context context, String... permissions) {\r\n    if (context != null &amp;&amp; permissions != null) {\r\n        for (String permission : permissions) {\r\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\r\n                return false;\r\n            }\r\n         }\r\n    }\r\n    return true;\r\n}\r\n```\r\n----------\r\nAfter I allow the permissions and debug the `result`, it keeps showing:\r\n```\r\n{android.permission.SEND_SMS=true, android.permission.READ_SMS=false}\r\n```\r\n\r\nWhy is my `READ_SMS` permission false?\r\n\r\n**EDIT:** Never mind, the issue is resolved. I forgot to declare the `READ_SMS` permission in the manifest file. Silly me :p","title":"Android RequestMultiplePermissions(): one of the permission&#39;s status is never true, even after allowing it","body":"<p>I want to ask for the <code>SEND_SMS</code> and <code>READ_SMS</code> runtime permissions, if they are not given. This is my code:</p>\n<pre><code>private ActivityResultLauncher&lt;String[]&gt; mRequestPermissionsLauncher;\nString[] PERMISSIONS = {\n    Manifest.permission.SEND_SMS,\n    Manifest.permission.READ_SMS\n};\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    mRequestPermissionsLauncher = registerForActivityResult(new ActivityResultContracts.RequestMultiplePermissions(), result -&gt; {\n         Log.d(&quot;DEBUG&quot;,result.toString());\n    });\n\n    if (!hasPermissions(this, PERMISSIONS)) {\n         if(shouldShowRequestPermissionRationale(Manifest.permission.SEND_SMS) || shouldShowRequestPermissionRationale(Manifest.permission.READ_SMS)){\n              new AlertDialog.Builder(this)\n                   .setTitle(&quot;Permission Needed&quot;)\n                   .setMessage(&quot;Please press OK to allow the permissions&quot;)\n                   .setCancelable(false)\n                   .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; mRequestPermissionsLauncher.launch(PERMISSIONS)).create().show();\n         }\n         else{\n             mRequestPermissionsLauncher.launch(PERMISSIONS);\n         }\n    }\n}\npublic static boolean hasPermissions(Context context, String... permissions) {\n    if (context != null &amp;&amp; permissions != null) {\n        for (String permission : permissions) {\n            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {\n                return false;\n            }\n         }\n    }\n    return true;\n}\n</code></pre>\n<hr />\n<p>After I allow the permissions and debug the <code>result</code>, it keeps showing:</p>\n<pre><code>{android.permission.SEND_SMS=true, android.permission.READ_SMS=false}\n</code></pre>\n<p>Why is my <code>READ_SMS</code> permission false?</p>\n<p><strong>EDIT:</strong> Never mind, the issue is resolved. I forgot to declare the <code>READ_SMS</code> permission in the manifest file. Silly me :p</p>\n"},{"tags":["java","bash","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1525126514,"post_id":50108739,"comment_id":87235177,"body_markdown":"There seems to be several questions here: 1. Why is there no output when running `wsl` from Java, 2. Why does `wsl ls` not show a bash prompt, 3. How do I determine when a wsl command exits?, 4. How do I separate output from multiple sequential shell commands in the same bash shell? 5. How do I run wsl commands programmatically from C++?    StackOverflow works better if you ask a single question per post. Can you edit your post and ask a single question that will help you do what you want? (For example: &quot;How do I run a wsl command with sudo and provide a password programmatically?&quot;)","body":"There seems to be several questions here: 1. Why is there no output when running <code>wsl</code> from Java, 2. Why does <code>wsl ls</code> not show a bash prompt, 3. How do I determine when a wsl command exits?, 4. How do I separate output from multiple sequential shell commands in the same bash shell? 5. How do I run wsl commands programmatically from C++?    StackOverflow works better if you ask a single question per post. Can you edit your post and ask a single question that will help you do what you want? (For example: &quot;How do I run a wsl command with sudo and provide a password programmatically?&quot;)"},{"owner":{"account_id":2141010,"reputation":118249,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1525131709,"post_id":50108739,"comment_id":87236464,"body_markdown":"Have you considered adding your own separator with e.g. `ls; echo &quot;__END__&quot;` ?","body":"Have you considered adding your own separator with e.g. <code>ls; echo &quot;__END__&quot;</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"score":2,"creation_date":1559393648,"post_id":50111105,"comment_id":99411069,"body_markdown":"Could you perhaps elaborate on/specify what you did with the help of pty4j to start up and execute multiple commands in WSL `&lt;version&gt;` sequentially? Or even present a Minimal Working Example (MWE)? Either would be greatly appreciated!","body":"Could you perhaps elaborate on/specify what you did with the help of pty4j to start up and execute multiple commands in WSL <code>&lt;version&gt;</code> sequentially? Or even present a Minimal Working Example (MWE)? Either would be greatly appreciated!"}],"tags":[],"owner":{"account_id":8917732,"reputation":141,"user_id":6716519,"display_name":"selya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525146498,"creation_date":1525146498,"answer_id":50111105,"question_id":50108739,"body_markdown":"The problem was solved with the help of [pty4j][1]. It works on linux, mac and windows. (It works like pseudo terminal on linux, but have nice java interface).\r\n\r\n\r\n[1]: https://github.com/traff/pty4j","title":"How do I sequentially execute wsl commands from java?","body":"<p>The problem was solved with the help of <a href=\"https://github.com/traff/pty4j\" rel=\"nofollow noreferrer\">pty4j</a>. It works on linux, mac and windows. (It works like pseudo terminal on linux, but have nice java interface).</p>\n"},{"tags":[],"owner":{"account_id":419278,"reputation":177,"user_id":796355,"display_name":"Michael Amiethyst"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685892687,"creation_date":1685892687,"answer_id":76401142,"question_id":50108739,"body_markdown":"I was able to use point 2 (run `wsl` and then pipe commands to process.outputWriter() for the STDIN) with [Baeldung&#39;s tutorial][1] with no issues.  The big gotchas:\r\n\r\n 1. That output stream flush() call prevents a hang\r\n 2. With the tutorial you are started in the Windows Home directory, not the linux home directory.\r\n 3. You need to write `exit\\n` to prevent a hang\r\n\r\nI haven&#39;t needed to run SUDO yet though.\r\n\r\n  [1]: https://www.baeldung.com/run-shell-command-in-java","title":"How do I sequentially execute wsl commands from java?","body":"<p>I was able to use point 2 (run <code>wsl</code> and then pipe commands to process.outputWriter() for the STDIN) with <a href=\"https://www.baeldung.com/run-shell-command-in-java\" rel=\"nofollow noreferrer\">Baeldung's tutorial</a> with no issues.  The big gotchas:</p>\n<ol>\n<li>That output stream flush() call prevents a hang</li>\n<li>With the tutorial you are started in the Windows Home directory, not the linux home directory.</li>\n<li>You need to write <code>exit\\n</code> to prevent a hang</li>\n</ol>\n<p>I haven't needed to run SUDO yet though.</p>\n"}],"owner":{"account_id":8917732,"reputation":141,"user_id":6716519,"display_name":"selya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1764,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1685892687,"creation_date":1525125255,"question_id":50108739,"body_markdown":"I want to execute `wsl` commands from `java`. \r\n\r\nI&#39;m trying to do this using `Process` and `ProcessBuilder`.\r\n\r\nAs I understand, there are two ways to do this:\r\n\r\n1. Run `wsl` along with command as argument (for example: `wsl ls -l`) (do this per-command).\r\n2. Run `wsl`, and then execute the commands one by one.\r\n\r\nBut there are some problems with `1` and `2`.\r\n\r\n**With point `1`:**\r\n\r\n1. When the command terminates, the process does not stop. So even if i run `wsl ls`, I can not determine the moment when I can call next command.\r\n2. `wsl` does not save the state between such calls, so it&#39;s not very convenient\r\n\r\n**With point `2`:**\r\n\r\nSince `wsl` does not show `bash prompt`, I can not track when the command stopped displaying information. For example: \r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;wsl&quot;);\r\n    pb.redirectErrorStream(true);\r\n    Process p = pb.start();\r\n    Thread.sleep(1000);\r\n    OutputStreamWriter osw = new OutputStreamWriter(p.getOutputStream());\r\n    osw.write(&quot;ls\\n&quot;);\r\n    osw.flush();\r\n\r\nAnd all I can read is: \r\n\r\n    build.gradle\r\n    gradle\r\n    gradlew\r\n    gradlew.bat\r\n    out\r\n    settings.gradle\r\n    src \r\nNo `selya@selya-pc:/mnt/c/Users/selya$` read. So I can&#39;t use it as a separator between commands. I think that `wsl` somehow tracks, in what environment it was launched, for example, through `isatty()`, and therefore the output is different.\r\n\r\n**With both:**\r\n\r\nАs far as I know, for programs that are running outside the terminal, `stdout` is not buffered. So there are some problems with, for example, `sudo`, because it asks fro a password without `newline`/`flush` (`[sudo] password for selya:`), therefore I can&#39;t read this line... \r\n\r\nI found a solution - pass command as argument to `unbuffer` util, for example:\r\n\r\n    wsl unbuffer -p sudo apt-get update \r\n\r\n(`-p` stands for `pipeline`).\r\n\r\nBut other problems still remain. Is there any way to do this? Or maybe there is lib for it? Even `c` or `c++` lib will suit my needs...\r\n\r\nP.S. I tried to find a solution for several days. Russian-speaking SO didn&#39;t help me, that&#39;s why I&#39;m here. Sorry for my English...\r\n","title":"How do I sequentially execute wsl commands from java?","body":"<p>I want to execute <code>wsl</code> commands from <code>java</code>. </p>\n\n<p>I'm trying to do this using <code>Process</code> and <code>ProcessBuilder</code>.</p>\n\n<p>As I understand, there are two ways to do this:</p>\n\n<ol>\n<li>Run <code>wsl</code> along with command as argument (for example: <code>wsl ls -l</code>) (do this per-command).</li>\n<li>Run <code>wsl</code>, and then execute the commands one by one.</li>\n</ol>\n\n<p>But there are some problems with <code>1</code> and <code>2</code>.</p>\n\n<p><strong>With point <code>1</code>:</strong></p>\n\n<ol>\n<li>When the command terminates, the process does not stop. So even if i run <code>wsl ls</code>, I can not determine the moment when I can call next command.</li>\n<li><code>wsl</code> does not save the state between such calls, so it's not very convenient</li>\n</ol>\n\n<p><strong>With point <code>2</code>:</strong></p>\n\n<p>Since <code>wsl</code> does not show <code>bash prompt</code>, I can not track when the command stopped displaying information. For example: </p>\n\n<pre><code>ProcessBuilder pb = new ProcessBuilder(\"wsl\");\npb.redirectErrorStream(true);\nProcess p = pb.start();\nThread.sleep(1000);\nOutputStreamWriter osw = new OutputStreamWriter(p.getOutputStream());\nosw.write(\"ls\\n\");\nosw.flush();\n</code></pre>\n\n<p>And all I can read is: </p>\n\n<pre><code>build.gradle\ngradle\ngradlew\ngradlew.bat\nout\nsettings.gradle\nsrc \n</code></pre>\n\n<p>No <code>selya@selya-pc:/mnt/c/Users/selya$</code> read. So I can't use it as a separator between commands. I think that <code>wsl</code> somehow tracks, in what environment it was launched, for example, through <code>isatty()</code>, and therefore the output is different.</p>\n\n<p><strong>With both:</strong></p>\n\n<p>Аs far as I know, for programs that are running outside the terminal, <code>stdout</code> is not buffered. So there are some problems with, for example, <code>sudo</code>, because it asks fro a password without <code>newline</code>/<code>flush</code> (<code>[sudo] password for selya:</code>), therefore I can't read this line... </p>\n\n<p>I found a solution - pass command as argument to <code>unbuffer</code> util, for example:</p>\n\n<pre><code>wsl unbuffer -p sudo apt-get update \n</code></pre>\n\n<p>(<code>-p</code> stands for <code>pipeline</code>).</p>\n\n<p>But other problems still remain. Is there any way to do this? Or maybe there is lib for it? Even <code>c</code> or <code>c++</code> lib will suit my needs...</p>\n\n<p>P.S. I tried to find a solution for several days. Russian-speaking SO didn't help me, that's why I'm here. Sorry for my English...</p>\n"},{"tags":["java","android","android-studio","raspberry-pi4","screensharing"],"comments":[{"owner":{"account_id":9987229,"reputation":475,"user_id":9458132,"display_name":"Rajat Gupta"},"score":0,"creation_date":1685902493,"post_id":76401136,"comment_id":134722506,"body_markdown":"You should take a look at MediaProjection and MediaEncoder APIs. At the end it will be like a video streaming problem.","body":"You should take a look at MediaProjection and MediaEncoder APIs. At the end it will be like a video streaming problem."}],"owner":{"account_id":28750313,"reputation":1,"user_id":22018561,"display_name":"Harvie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685892603,"creation_date":1685892603,"question_id":76401136,"body_markdown":"How can I make an android app that shares the whole screen of my android phone to my raspberry pi4 screen with 3.5 inch display? is there any tutorial or something that you can recommend?\r\n\r\nI tried genymobile scrcpy but I wanted to do something myself but something like scrcpy too but im noob.. haha","title":"Looking for guidance on creating a screen sharing Android app for Raspberry Pi with a smaller display","body":"<p>How can I make an android app that shares the whole screen of my android phone to my raspberry pi4 screen with 3.5 inch display? is there any tutorial or something that you can recommend?</p>\n<p>I tried genymobile scrcpy but I wanted to do something myself but something like scrcpy too but im noob.. haha</p>\n"},{"tags":["java","oop","inheritance","types","casting"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685891078,"creation_date":1685891078,"answer_id":76401039,"question_id":76401006,"body_markdown":"You have introduced a *variable shadow*. The field `B.z` is **distinct** from `A.z` (and inherited, but shadowing the `A.z`). But if you change it from\r\n\r\n    class B extends A {\r\n        int z = 20;\r\n\r\nto something like\r\n\r\n    class B extends A {\r\n        public B() {\r\n            this.z = 20;\r\n        }\r\n\r\nThen it&#39;s actually inheritance and there will only be a single `z`.","title":"Reasoning Behind this Java Behaviour","body":"<p>You have introduced a <em>variable shadow</em>. The field <code>B.z</code> is <strong>distinct</strong> from <code>A.z</code> (and inherited, but shadowing the <code>A.z</code>). But if you change it from</p>\n<pre><code>class B extends A {\n    int z = 20;\n</code></pre>\n<p>to something like</p>\n<pre><code>class B extends A {\n    public B() {\n        this.z = 20;\n    }\n</code></pre>\n<p>Then it's actually inheritance and there will only be a single <code>z</code>.</p>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685891755,"creation_date":1685891755,"answer_id":76401072,"question_id":76401006,"body_markdown":"In Java (and most languages I know), fields are not overriden. So if you define a field in parent class and other field in child class with same name, both fields will exists there (and each one can be accessed normally within its class). (Consider defining your `z` in `B` as String not int! now they have different types, and `B` sees a String `z`).\r\n\r\nBut non-static methods can be overriden. \r\n\r\nWhen you have `A obj = new B()` you are having an instance of `B`, but with a reference of type A. When accessing the fields (which are not overridable), then your are accessing `A.z`, but when you call the method (which is overriden), the real method which is called lookup through a `dynamic lookup table` and B&#39;s method get called (that&#39;s the power of inheritance), and the method accesses it&#39;s own `z`. (Again consider `z` in B be of `String`, then `obj.z` is of type int not String which is in the `obj`&#39;s type class).","title":"Reasoning Behind this Java Behaviour","body":"<p>In Java (and most languages I know), fields are not overriden. So if you define a field in parent class and other field in child class with same name, both fields will exists there (and each one can be accessed normally within its class). (Consider defining your <code>z</code> in <code>B</code> as String not int! now they have different types, and <code>B</code> sees a String <code>z</code>).</p>\n<p>But non-static methods can be overriden.</p>\n<p>When you have <code>A obj = new B()</code> you are having an instance of <code>B</code>, but with a reference of type A. When accessing the fields (which are not overridable), then your are accessing <code>A.z</code>, but when you call the method (which is overriden), the real method which is called lookup through a <code>dynamic lookup table</code> and B's method get called (that's the power of inheritance), and the method accesses it's own <code>z</code>. (Again consider <code>z</code> in B be of <code>String</code>, then <code>obj.z</code> is of type int not String which is in the <code>obj</code>'s type class).</p>\n"}],"owner":{"account_id":26260870,"reputation":109,"user_id":20613664,"display_name":"Alden Luthfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1685898626,"accepted_answer_id":76401072,"answer_count":2,"score":0,"last_activity_date":1685891755,"creation_date":1685890783,"question_id":76401006,"body_markdown":"## CONTEXT\r\n\r\nsay we have a class inheritance structure like this\r\n\r\n```java\r\nclass A {\r\n    int z = 10;\r\n\r\n    public void display() {\r\n        System.out.println(&quot;A&#39;s z is &quot; + z);\r\n    }\r\n}\r\n\r\nclass B extends A {\r\n    int z = 20;\r\n\r\n    public void display() {\r\n        System.out.println(&quot;B&#39;s z is &quot; + z);\r\n    }\r\n\r\n    public void onlyB() {\r\n        System.out.println(&quot;This is only in B&quot;);\r\n    }\r\n}\r\n\r\nclass Main {\r\n\r\n    public static void main(String args[]) {\r\n        A obj = new B();\r\n\r\n        System.out.println(obj.z); // 10\r\n        obj.display(); // B&#39;s z is 20\r\n    }\r\n}\r\n```\r\n## QUESTION\r\n\r\nWhy does ```obj.z``` gives ```A```&#39;s ```z``` but ```obj.display()``` uses ```B```&#39;s ```z```, is there a way to think about this so that it makes sense logically?\r\n\r\n## ATTEMPTS AT UNDERTANDING\r\n\r\nby saying\r\n\r\n```java\r\nA obj = new B();\r\n```\r\n\r\nIn my mind, this is saying &quot;create an object of type A, but use al of B&#39;s implementations&quot;\r\n\r\nby that reasoning, it is logical that the object cannot use ```onlyB()``` because it is of type ```A```, and ```A``` does not have ```onlyB()```. also by that reasoning, ```display()``` would use ```B```&#39;s implementation. But why does calling ```z``` use ```A```&#39;s ```z``` instead of ```B```&#39;s? shouldn&#39;t the object use ```B```&#39;s implementation of ```z```?\r\n\r\nI know this wont appear in practice but I am very curious to know. A better spelled out explanation as to why this happens would be appreciated.\r\n\r\n","title":"Reasoning Behind this Java Behaviour","body":"<h2>CONTEXT</h2>\n<p>say we have a class inheritance structure like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class A {\n    int z = 10;\n\n    public void display() {\n        System.out.println(&quot;A's z is &quot; + z);\n    }\n}\n\nclass B extends A {\n    int z = 20;\n\n    public void display() {\n        System.out.println(&quot;B's z is &quot; + z);\n    }\n\n    public void onlyB() {\n        System.out.println(&quot;This is only in B&quot;);\n    }\n}\n\nclass Main {\n\n    public static void main(String args[]) {\n        A obj = new B();\n\n        System.out.println(obj.z); // 10\n        obj.display(); // B's z is 20\n    }\n}\n</code></pre>\n<h2>QUESTION</h2>\n<p>Why does <code>obj.z</code> gives <code>A</code>'s <code>z</code> but <code>obj.display()</code> uses <code>B</code>'s <code>z</code>, is there a way to think about this so that it makes sense logically?</p>\n<h2>ATTEMPTS AT UNDERTANDING</h2>\n<p>by saying</p>\n<pre class=\"lang-java prettyprint-override\"><code>A obj = new B();\n</code></pre>\n<p>In my mind, this is saying &quot;create an object of type A, but use al of B's implementations&quot;</p>\n<p>by that reasoning, it is logical that the object cannot use <code>onlyB()</code> because it is of type <code>A</code>, and <code>A</code> does not have <code>onlyB()</code>. also by that reasoning, <code>display()</code> would use <code>B</code>'s implementation. But why does calling <code>z</code> use <code>A</code>'s <code>z</code> instead of <code>B</code>'s? shouldn't the object use <code>B</code>'s implementation of <code>z</code>?</p>\n<p>I know this wont appear in practice but I am very curious to know. A better spelled out explanation as to why this happens would be appreciated.</p>\n"},{"tags":["java","command-line-interface","picocli"],"answers":[{"comments":[{"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"score":0,"creation_date":1634047524,"post_id":69502973,"comment_id":122917938,"body_markdown":"Can I overwrite the way how the default red message is generated when I execute my app without a parameter? This message: `Missing required options: ...`","body":"Can I overwrite the way how the default red message is generated when I execute my app without a parameter? This message: <code>Missing required options: ...</code>"}],"tags":[],"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633741419,"creation_date":1633741014,"answer_id":69502973,"question_id":69488821,"body_markdown":"This is documented in the section on subcommands, [Making Subcommands Required](https://picocli.info/#_required_subcommands). \r\n\r\nEssentially, do not implement Callable or Runnable in the top-level command. This makes it mandatory for end users to specify a subcommand. The manual has an example. \r\n\r\nAbout your second question, how to customize the usage help message, please take a look at the picocli-examples module of the picocli GitHub project. A lot of the examples are about custom help. \r\nFor example, [this one](https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/customhelp/ShowCommandHierarchy.java) shows the full hierarchy of subcommands (and sub-subcommands) in the usage help of the top-level command. ","title":"picocli: show help if no parameter given","body":"<p>This is documented in the section on subcommands, <a href=\"https://picocli.info/#_required_subcommands\" rel=\"nofollow noreferrer\">Making Subcommands Required</a>.</p>\n<p>Essentially, do not implement Callable or Runnable in the top-level command. This makes it mandatory for end users to specify a subcommand. The manual has an example.</p>\n<p>About your second question, how to customize the usage help message, please take a look at the picocli-examples module of the picocli GitHub project. A lot of the examples are about custom help.\nFor example, <a href=\"https://github.com/remkop/picocli/blob/master/picocli-examples/src/main/java/picocli/examples/customhelp/ShowCommandHierarchy.java\" rel=\"nofollow noreferrer\">this one</a> shows the full hierarchy of subcommands (and sub-subcommands) in the usage help of the top-level command.</p>\n"},{"tags":[],"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685891465,"creation_date":1685891465,"answer_id":76401061,"question_id":69488821,"body_markdown":"You can also do this with `CommandSpec`, as shown in the [Git example in the picocli-examples repository](https://github.com/remkop/picocli/blob/main/picocli-examples/src/main/java/picocli/examples/git/Git.java). Just add `spec.commandLine().usage(System.err)` to the `call()`/`run()` method of your top-level command.\r\n\r\n```java\r\n@Command(name = &quot;cli&quot;, subcommands = {ShowUserCommand.class})\r\npublic class CLI implements Runnable {\r\n\r\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\r\n    private boolean help;\r\n\r\n    @Spec\r\n    CommandSpec spec;\r\n\r\n    @Override\r\n    public void run() {\r\n        // print the help menu if no subcommand is passed\r\n        spec.commandLine().usage(System.err);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final int exitCode = new CommandLine(new CLI()).execute(args);\r\n        System.exit(exitCode);\r\n    }\r\n}\r\n\r\n@Command(name = &quot;show-user&quot;, description = &quot;Show the current user&quot;)\r\npublic class ShowUserCommand implements Runnable {\r\n    \r\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\r\n    private boolean help;\r\n    \r\n    @Option(names = {&quot;-u&quot;, &quot;--uppercase&quot;}, description = &quot;Print the username as uppercase&quot;)\r\n    private boolean uppercase;\r\n\r\n    @Spec\r\n    CommandSpec spec;\r\n    \r\n    @Override\r\n    public void run() {\r\n        String username = System.getProperty(&quot;user.name&quot;);\r\n        System.out.println(&quot;User: &quot; + (uppercase ? username.toUpperCase() : username));\r\n    }\r\n}\r\n```\r\n\r\nExecuting the command without any parameters will print the help menu:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/dWJTN.png&quot; width=&quot;500&quot; /&gt;\r\n\r\nIn regards to your followup question, there doesn&#39;t seem to be a way to print the full help message (including options for the subcommands), it&#39;s required to pass the subcommand with `-h` to see the help for that specific subcommand.","title":"picocli: show help if no parameter given","body":"<p>You can also do this with <code>CommandSpec</code>, as shown in the <a href=\"https://github.com/remkop/picocli/blob/main/picocli-examples/src/main/java/picocli/examples/git/Git.java\" rel=\"nofollow noreferrer\">Git example in the picocli-examples repository</a>. Just add <code>spec.commandLine().usage(System.err)</code> to the <code>call()</code>/<code>run()</code> method of your top-level command.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Command(name = &quot;cli&quot;, subcommands = {ShowUserCommand.class})\npublic class CLI implements Runnable {\n\n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\n    private boolean help;\n\n    @Spec\n    CommandSpec spec;\n\n    @Override\n    public void run() {\n        // print the help menu if no subcommand is passed\n        spec.commandLine().usage(System.err);\n    }\n\n    public static void main(String[] args) {\n        final int exitCode = new CommandLine(new CLI()).execute(args);\n        System.exit(exitCode);\n    }\n}\n\n@Command(name = &quot;show-user&quot;, description = &quot;Show the current user&quot;)\npublic class ShowUserCommand implements Runnable {\n    \n    @Option(names = {&quot;-h&quot;, &quot;--help&quot;}, usageHelp = true, description = &quot;Display this usage menu&quot;)\n    private boolean help;\n    \n    @Option(names = {&quot;-u&quot;, &quot;--uppercase&quot;}, description = &quot;Print the username as uppercase&quot;)\n    private boolean uppercase;\n\n    @Spec\n    CommandSpec spec;\n    \n    @Override\n    public void run() {\n        String username = System.getProperty(&quot;user.name&quot;);\n        System.out.println(&quot;User: &quot; + (uppercase ? username.toUpperCase() : username));\n    }\n}\n</code></pre>\n<p>Executing the command without any parameters will print the help menu:</p>\n<img src=\"https://i.stack.imgur.com/dWJTN.png\" width=\"500\" />\n<p>In regards to your followup question, there doesn't seem to be a way to print the full help message (including options for the subcommands), it's required to pass the subcommand with <code>-h</code> to see the help for that specific subcommand.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1233,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69502973,"answer_count":2,"score":2,"last_activity_date":1685891465,"creation_date":1633649015,"question_id":69488821,"body_markdown":"I would like to show the help automatically when I run my  CLI app without parameters.\r\nI have seen that this question appears multiply times on StackOverflow. I spent significant time figuring this out, I have read the [official document][1], checked articles, but still not clear how to achieve this.\r\n\r\nThis is what I have:\r\n\r\n**Main class**\r\n```\r\n@Command(\r\n        subcommands = {C1.class, C2.class}\r\n)\r\npublic class HelloCli implements Callable&lt;Integer&gt;  {\r\n\r\n    @Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n            usageHelp = true,\r\n            description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;wanna show the help here&quot;);\r\n        return 1;\r\n    }\r\n\r\n    public static void main(String... args) {\r\n        int exitCode = new CommandLine(new HelloCli()).execute(args);\r\n        System.exit(exitCode);\r\n    }\r\n}\r\n```\r\n\r\n**The class that handles the _show-user_ function:**\r\n```\r\n@CommandLine.Command(name = &quot;show-user&quot;,\r\n                     aliases = &quot;-show-user&quot;)\r\npublic class C1 implements Callable&lt;Integer&gt; {\r\n\r\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n                        usageHelp = true,\r\n                        description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @CommandLine.Option(names = {&quot;-p1&quot;},\r\n                        description = &quot;show-user: param 1&quot;)\r\n    String  p1;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;executing the &#39;show-user&#39; business logic...&quot;);\r\n        System.out.println(&quot;param 1: &quot; + p1);\r\n        return 4;\r\n    }\r\n}\r\n```\r\n\r\n**The class to handle the _create-user_ command:**\r\n```\r\n@CommandLine.Command(name = &quot;create-user&quot;,\r\n                     aliases = &quot;-create-user&quot;)\r\npublic class C2  implements Callable&lt;Integer&gt; {\r\n\r\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\r\n                        usageHelp = true,\r\n                        description = &quot;display this help message&quot;)\r\n    boolean usageHelpRequested;\r\n\r\n    @CommandLine.Option(names = {&quot;-p1&quot;},\r\n                        description = &quot;create-user: another param 1&quot;)\r\n    String  p1;\r\n\r\n    @Override\r\n    public Integer call() throws Exception {\r\n        System.out.println(&quot;executing the &#39;create-user&#39; business logic...&quot;);\r\n        System.out.println(&quot;param 1: &quot; + p1);\r\n        return 5;\r\n    }\r\n}\r\n```\r\n\r\n**Case 1: when I call this app with `-h` then the help is displayed properly:**\r\n```\r\nUsage: &lt;main class&gt; [?] [COMMAND]\r\n      ?, -h, --help   display this help message\r\nCommands:\r\n  show-user, -show-user\r\n  create-user, -create-user\r\n```\r\n\r\n**Case 2: showing help for the 1st function, calling `show-user -h`:**\r\n```\r\nUsage: &lt;main class&gt; show-user [?] [-p1=&lt;p1&gt;]\r\n      ?, -h, --help   display this help message\r\n      -p1=&lt;p1&gt;        show-user: param 1\r\n```\r\n\r\n**Case 3: chowing help for the 1st function, calling `create-user -h`:**\r\n```\r\nUsage: &lt;main class&gt; create-user [?] [-p1=&lt;p1&gt;]\r\n      ?, -h, --help   display this help message\r\n      -p1=&lt;p1&gt;        create-user: another param 1\r\n```\r\n\r\n**Case 4: calling my app without param shows this:**\r\n```\r\nwanna show the help here\r\n```\r\n\r\n**My question is simple:**\r\n\r\nHow to show the help when I run my CLI tool without params (`Case 4`)?\r\n\r\nI guess that I need to add custom code into the `HelloCli.call()` method with a loop that collects the help texts from the two classes that implement the functions. But not sure how. I have not found any sample code for this popular use case.\r\n\r\nMy additional question is similar to the first one:\r\nCan I show somehow the full help that is shown together everything from `Case 2` and `Case 3`?\r\n\r\n\r\n  [1]: https://picocli.info/","title":"picocli: show help if no parameter given","body":"<p>I would like to show the help automatically when I run my  CLI app without parameters.\nI have seen that this question appears multiply times on StackOverflow. I spent significant time figuring this out, I have read the <a href=\"https://picocli.info/\" rel=\"nofollow noreferrer\">official document</a>, checked articles, but still not clear how to achieve this.</p>\n<p>This is what I have:</p>\n<p><strong>Main class</strong></p>\n<pre><code>@Command(\n        subcommands = {C1.class, C2.class}\n)\npublic class HelloCli implements Callable&lt;Integer&gt;  {\n\n    @Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n            usageHelp = true,\n            description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;wanna show the help here&quot;);\n        return 1;\n    }\n\n    public static void main(String... args) {\n        int exitCode = new CommandLine(new HelloCli()).execute(args);\n        System.exit(exitCode);\n    }\n}\n</code></pre>\n<p><strong>The class that handles the <em>show-user</em> function:</strong></p>\n<pre><code>@CommandLine.Command(name = &quot;show-user&quot;,\n                     aliases = &quot;-show-user&quot;)\npublic class C1 implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n                        usageHelp = true,\n                        description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @CommandLine.Option(names = {&quot;-p1&quot;},\n                        description = &quot;show-user: param 1&quot;)\n    String  p1;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;executing the 'show-user' business logic...&quot;);\n        System.out.println(&quot;param 1: &quot; + p1);\n        return 4;\n    }\n}\n</code></pre>\n<p><strong>The class to handle the <em>create-user</em> command:</strong></p>\n<pre><code>@CommandLine.Command(name = &quot;create-user&quot;,\n                     aliases = &quot;-create-user&quot;)\npublic class C2  implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(names = {&quot;?&quot;, &quot;-h&quot;, &quot;--help&quot;},\n                        usageHelp = true,\n                        description = &quot;display this help message&quot;)\n    boolean usageHelpRequested;\n\n    @CommandLine.Option(names = {&quot;-p1&quot;},\n                        description = &quot;create-user: another param 1&quot;)\n    String  p1;\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(&quot;executing the 'create-user' business logic...&quot;);\n        System.out.println(&quot;param 1: &quot; + p1);\n        return 5;\n    }\n}\n</code></pre>\n<p><strong>Case 1: when I call this app with <code>-h</code> then the help is displayed properly:</strong></p>\n<pre><code>Usage: &lt;main class&gt; [?] [COMMAND]\n      ?, -h, --help   display this help message\nCommands:\n  show-user, -show-user\n  create-user, -create-user\n</code></pre>\n<p><strong>Case 2: showing help for the 1st function, calling <code>show-user -h</code>:</strong></p>\n<pre><code>Usage: &lt;main class&gt; show-user [?] [-p1=&lt;p1&gt;]\n      ?, -h, --help   display this help message\n      -p1=&lt;p1&gt;        show-user: param 1\n</code></pre>\n<p><strong>Case 3: chowing help for the 1st function, calling <code>create-user -h</code>:</strong></p>\n<pre><code>Usage: &lt;main class&gt; create-user [?] [-p1=&lt;p1&gt;]\n      ?, -h, --help   display this help message\n      -p1=&lt;p1&gt;        create-user: another param 1\n</code></pre>\n<p><strong>Case 4: calling my app without param shows this:</strong></p>\n<pre><code>wanna show the help here\n</code></pre>\n<p><strong>My question is simple:</strong></p>\n<p>How to show the help when I run my CLI tool without params (<code>Case 4</code>)?</p>\n<p>I guess that I need to add custom code into the <code>HelloCli.call()</code> method with a loop that collects the help texts from the two classes that implement the functions. But not sure how. I have not found any sample code for this popular use case.</p>\n<p>My additional question is similar to the first one:\nCan I show somehow the full help that is shown together everything from <code>Case 2</code> and <code>Case 3</code>?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1685912674,"post_id":76401031,"comment_id":134723630,"body_markdown":"Most likely the error is in the class `printDirectory`.","body":"Most likely the error is in the class <code>printDirectory</code>."}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890988,"creation_date":1685890988,"question_id":76401031,"body_markdown":"I&#39;m trying to make a simple application that connects to an FTP server using Apache Commons. I&#39;m able to connect to the FTP server but Logcat won&#39;t print the directory. \r\n\r\nWhat am I doing wrong here? Rather than printing the directory, it just prints the traffic stats.\r\n\r\noutput\r\n```\r\n2023-06-04 08:55:26.356 25469-25496 System.out              com.example.ftpbuddy                 I  Client logged in!\r\n2023-06-04 08:55:26.366 25469-25496 TrafficStats            com.example.ftpbuddy                 D  tagSocket(114) with statsTag=0xffffffff, statsUid=-1\r\n2023-06-04 08:55:26.372 25469-25469 System.out              com.example.ftpbuddy                 I  Done...\r\n```\r\n\r\n**FTPServices.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\n\r\nimport android.os.AsyncTask;\r\nimport android.os.Debug;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class FTPServices  {\r\n\r\n    public void loginFtp(String host, int port, String username, String password) {\r\n        try {\r\n            FTPClient client = new login(host, port, username, password).execute().get();\r\n            FTPFile[] files = new printDirectory(client, &quot;/home/gabriel&quot;).execute().get();\r\n\r\n            for(int i = 0; i &lt; files.length; i++) {\r\n                System.out.println(&quot;&gt; &quot; + files[i].getName());\r\n            }\r\n\r\n            System.out.println(&quot;Done...&quot;);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public class login extends AsyncTask&lt;Void, Void, FTPClient&gt; {\r\n\r\n        private String host;\r\n        private String username;\r\n        private String password;\r\n        private int port;\r\n\r\n        login(String host, int port, String username, String password)\r\n        {\r\n            this.host = host;\r\n            this.port = port;\r\n            this.password = password;\r\n            this.username = username;\r\n        }\r\n        @Override\r\n        protected FTPClient doInBackground(Void... voids) {\r\n            try {\r\n                FTPClient client = new FTPClient();\r\n                client.connect(host, port);\r\n                client.login(username, password);\r\n                System.out.println(&quot;Client logged in!&quot;);\r\n\r\n                return client;\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public class printDirectory extends AsyncTask&lt;Void, Void, FTPFile[]&gt; {\r\n\r\n        private FTPClient client;\r\n        private String directory;\r\n\r\n        printDirectory(FTPClient client, String directory) {\r\n            this.client = client;\r\n            this.directory = directory;\r\n        }\r\n\r\n        @Override\r\n        protected FTPFile[] doInBackground(Void... voids) {\r\n            try {\r\n                FTPFile[] files = this.client.listFiles(this.directory);\r\n                return files;\r\n            } catch(Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**ConnectActivity.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\n\r\npublic class ConnectActivity extends AppCompatActivity {\r\n    EditText etHost;\r\n    EditText etPort;\r\n    EditText etUsername;\r\n    EditText etPassword;\r\n    Button btnConnect;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_connect);\r\n\r\n        etHost = findViewById(R.id.etHost);\r\n        etPort = findViewById(R.id.etPort);\r\n        etUsername = findViewById(R.id.etUsername);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        btnConnect = findViewById(R.id.btnConnect);\r\n\r\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\r\n    }\r\n\r\n    public class ConnectButtonHandler implements View.OnClickListener {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            FTPServices services = new FTPServices();\r\n            services.loginFtp(\r\n                    etHost.getText().toString(),\r\n                    Integer.parseInt(etPort.getText().toString()),\r\n                    etUsername.getText().toString(),\r\n                    etPassword.getText().toString()\r\n            );\r\n\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI understand that AsyncTask is deprecated, and I&#39;m still very new to Android Development. I just don&#39;t understand why it doesn&#39;t print the file names in the given directory. \r\n\r\nIf someone could help guide me to the right direction, that would be great, thanks!","title":"How come Logcat only prints TrafficStats?","body":"<p>I'm trying to make a simple application that connects to an FTP server using Apache Commons. I'm able to connect to the FTP server but Logcat won't print the directory.</p>\n<p>What am I doing wrong here? Rather than printing the directory, it just prints the traffic stats.</p>\n<p>output</p>\n<pre><code>2023-06-04 08:55:26.356 25469-25496 System.out              com.example.ftpbuddy                 I  Client logged in!\n2023-06-04 08:55:26.366 25469-25496 TrafficStats            com.example.ftpbuddy                 D  tagSocket(114) with statsTag=0xffffffff, statsUid=-1\n2023-06-04 08:55:26.372 25469-25469 System.out              com.example.ftpbuddy                 I  Done...\n</code></pre>\n<p><strong>FTPServices.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\n\nimport android.os.AsyncTask;\nimport android.os.Debug;\n\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\n\nimport java.io.IOException;\n\npublic class FTPServices  {\n\n    public void loginFtp(String host, int port, String username, String password) {\n        try {\n            FTPClient client = new login(host, port, username, password).execute().get();\n            FTPFile[] files = new printDirectory(client, &quot;/home/gabriel&quot;).execute().get();\n\n            for(int i = 0; i &lt; files.length; i++) {\n                System.out.println(&quot;&gt; &quot; + files[i].getName());\n            }\n\n            System.out.println(&quot;Done...&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public class login extends AsyncTask&lt;Void, Void, FTPClient&gt; {\n\n        private String host;\n        private String username;\n        private String password;\n        private int port;\n\n        login(String host, int port, String username, String password)\n        {\n            this.host = host;\n            this.port = port;\n            this.password = password;\n            this.username = username;\n        }\n        @Override\n        protected FTPClient doInBackground(Void... voids) {\n            try {\n                FTPClient client = new FTPClient();\n                client.connect(host, port);\n                client.login(username, password);\n                System.out.println(&quot;Client logged in!&quot;);\n\n                return client;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            return null;\n        }\n    }\n\n    public class printDirectory extends AsyncTask&lt;Void, Void, FTPFile[]&gt; {\n\n        private FTPClient client;\n        private String directory;\n\n        printDirectory(FTPClient client, String directory) {\n            this.client = client;\n            this.directory = directory;\n        }\n\n        @Override\n        protected FTPFile[] doInBackground(Void... voids) {\n            try {\n                FTPFile[] files = this.client.listFiles(this.directory);\n                return files;\n            } catch(Exception e) {\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n    }\n\n}\n\n</code></pre>\n<p><strong>ConnectActivity.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport org.apache.commons.net.ftp.FTPClient;\n\npublic class ConnectActivity extends AppCompatActivity {\n    EditText etHost;\n    EditText etPort;\n    EditText etUsername;\n    EditText etPassword;\n    Button btnConnect;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_connect);\n\n        etHost = findViewById(R.id.etHost);\n        etPort = findViewById(R.id.etPort);\n        etUsername = findViewById(R.id.etUsername);\n        etPassword = findViewById(R.id.etPassword);\n        btnConnect = findViewById(R.id.btnConnect);\n\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\n    }\n\n    public class ConnectButtonHandler implements View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n\n            FTPServices services = new FTPServices();\n            services.loginFtp(\n                    etHost.getText().toString(),\n                    Integer.parseInt(etPort.getText().toString()),\n                    etUsername.getText().toString(),\n                    etPassword.getText().toString()\n            );\n\n\n        }\n    }\n\n}\n</code></pre>\n<p>I understand that AsyncTask is deprecated, and I'm still very new to Android Development. I just don't understand why it doesn't print the file names in the given directory.</p>\n<p>If someone could help guide me to the right direction, that would be great, thanks!</p>\n"},{"tags":["java","liquibase","liquibase-cli"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1685900377,"post_id":76401026,"comment_id":134722274,"body_markdown":"Use / instead of \\ as a path separator. Even on Windows.","body":"Use / instead of \\ as a path separator. Even on Windows."},{"owner":{"account_id":27960048,"reputation":151,"user_id":21352044,"display_name":"PJatLiquibase"},"score":0,"creation_date":1685984389,"post_id":76401026,"comment_id":134734272,"body_markdown":"Does src\\main\\resources\\db-with-sample-data.xml have an include or reference to &quot;db-changelog.xml&quot;?","body":"Does src\\main\\resources\\db-with-sample-data.xml have an include or reference to &quot;db-changelog.xml&quot;?"},{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1685988104,"post_id":76401026,"comment_id":134734921,"body_markdown":"@PJatLiquibase yes..","body":"@PJatLiquibase yes.."}],"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890943,"creation_date":1685890943,"question_id":76401026,"body_markdown":"I have observed a very strange behaviour when running Liquibase command (with `liquibase.exe` tool) from CMD terminal, on Windows.\r\n\r\nI have a project, that&#39;s structured as:\r\n```\r\nmy_project\r\n|-src\r\n  |-main\r\n    |-java\r\n    |-resources\r\n      |-db-with-sample-data.xml\r\n    |-webapp\r\n  |-test\r\n    |-java\r\n```\r\nNow, if I&#39;m in the `my_project` folder and I run:\r\n```\r\nliquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;src\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\r\n```\r\nI get:\r\n```\r\nUnexpected error running Liquibase: The file db-changelog.xml was not found in the configured search path:\r\n    - C:\\projects\\my_project\r\n    - ...(other default paths)\r\n```\r\nand if I run:\r\n```\r\nliquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;sr\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\r\n```\r\n(**pay attention!** I changed `src` to `sr`)\r\n\r\nthen I get:\r\n```\r\nUnexpected error running Liquibase: The file sr\\main\\resources\\db-with-sample-data.xml was not found in the configured search path:\r\n    - C:\\projects\\my_project\r\n    - ...(other default paths)\r\n```\r\n\r\nOk, I see, that `Liquibse`, by default, looks for the `--changeLogFile` value **relative to the folder** I run it (because I see where it&#39;s looking for for the --changeLogFile value after every run of the liquibase.exe command).\r\n\r\nBut, why in the first case it reports, it could not find `db-changelog.xml` and in the second one (when I just removed one letter `c`) - it then properly parses the `--changeLogFile` value?","title":"Liquibase looks for &quot;db-changelog.xml&quot; file even when the --changeLogFile option refers to the different file","body":"<p>I have observed a very strange behaviour when running Liquibase command (with <code>liquibase.exe</code> tool) from CMD terminal, on Windows.</p>\n<p>I have a project, that's structured as:</p>\n<pre><code>my_project\n|-src\n  |-main\n    |-java\n    |-resources\n      |-db-with-sample-data.xml\n    |-webapp\n  |-test\n    |-java\n</code></pre>\n<p>Now, if I'm in the <code>my_project</code> folder and I run:</p>\n<pre><code>liquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;src\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\n</code></pre>\n<p>I get:</p>\n<pre><code>Unexpected error running Liquibase: The file db-changelog.xml was not found in the configured search path:\n    - C:\\projects\\my_project\n    - ...(other default paths)\n</code></pre>\n<p>and if I run:</p>\n<pre><code>liquibase --driver=com.mysql.cj.jdbc.Driver --classpath=&quot;C:\\mysql-connector-java-8.0.28.jar&quot; --changeLogFile=&quot;sr\\main\\resources\\db-with-sample-data.xml&quot; --url=&quot;jdbc:mysql://localhost:3306/mydb&quot; --username=user --password=password update\n</code></pre>\n<p>(<strong>pay attention!</strong> I changed <code>src</code> to <code>sr</code>)</p>\n<p>then I get:</p>\n<pre><code>Unexpected error running Liquibase: The file sr\\main\\resources\\db-with-sample-data.xml was not found in the configured search path:\n    - C:\\projects\\my_project\n    - ...(other default paths)\n</code></pre>\n<p>Ok, I see, that <code>Liquibse</code>, by default, looks for the <code>--changeLogFile</code> value <strong>relative to the folder</strong> I run it (because I see where it's looking for for the --changeLogFile value after every run of the liquibase.exe command).</p>\n<p>But, why in the first case it reports, it could not find <code>db-changelog.xml</code> and in the second one (when I just removed one letter <code>c</code>) - it then properly parses the <code>--changeLogFile</code> value?</p>\n"},{"tags":["java","shell","jar","nohup","dev-null"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685785373,"post_id":76394570,"comment_id":134712095,"body_markdown":"What&#39;s in the output files with `java -cp jar_file1.jar:jar_file2.jar MyJavaCode &gt;output.log 2&gt; error.log`? i.e. don&#39;t worry about backgrounding it until, **a.** the basic command is correct and **b.** you have proved it will run correctly in the foreground. And *cd ${DIR}* would be better as `cd &quot;$DIR&quot;`","body":"What&#39;s in the output files with <code>java -cp jar_file1.jar:jar_file2.jar MyJavaCode &gt;output.log 2&gt; error.log</code>? i.e. don&#39;t worry about backgrounding it until, <b>a.</b> the basic command is correct and <b>b.</b> you have proved it will run correctly in the foreground. And <i>cd ${DIR}</i> would be better as <code>cd &quot;$DIR&quot;</code>"},{"owner":{"account_id":21729533,"reputation":74,"user_id":16038483,"display_name":"Mohammad Javad"},"score":0,"creation_date":1685796432,"post_id":76394570,"comment_id":134713092,"body_markdown":"You can use &#39;tmux&#39; to run in the background.","body":"You can use &#39;tmux&#39; to run in the background."},{"owner":{"account_id":21729533,"reputation":74,"user_id":16038483,"display_name":"Mohammad Javad"},"score":0,"creation_date":1685796516,"post_id":76394570,"comment_id":134713098,"body_markdown":"To install it in Linux:\n  `sudo apt-get install tmux`","body":"To install it in Linux:   <code>sudo apt-get install tmux</code>"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685805200,"post_id":76394570,"comment_id":134713975,"body_markdown":"@user16320675 If I run like java ... MyjavaClass, I recceived following error \nError: could not find or load main class MyjavaClass\ncaused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyjavaClass)","body":"@user16320675 If I run like java ... MyjavaClass, I recceived following error  Error: could not find or load main class MyjavaClass caused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyjavaClass)"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685805509,"post_id":76394570,"comment_id":134714014,"body_markdown":"@g00se I had my intended output lines in my output.log file, and I saw no errors.","body":"@g00se I had my intended output lines in my output.log file, and I saw no errors."},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685808177,"post_id":76394570,"comment_id":134714282,"body_markdown":"@user16320675, please accept my apologies. MyJavaCode is the name. I tried the command &quot;java -cp path/to/jar1.jar:path/to/jar2.jar MyJavaCode&quot; and received the following&#160;errors:&#160;\n&quot;Could not find or load main class MyJavaCode.&#160;\nCaused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyJavaCode)&quot;.\nMyJavaCode.class can be found in my directory.","body":"@user16320675, please accept my apologies. MyJavaCode is the name. I tried the command &quot;java -cp path/to/jar1.jar:path/to/jar2.jar MyJavaCode&quot; and received the following errors:  &quot;Could not find or load main class MyJavaCode.  Caused by: java.langNoClassDefFoundError: path/to/JavaClass (wrong name: MyJavaCode)&quot;. MyJavaCode.class can be found in my directory."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685808209,"post_id":76394570,"comment_id":134714285,"body_markdown":"Then there&#39;s no reason you can&#39;t background it. Prefer `tmux` over `nohup` or better still, if it&#39;s a service then use a service wrapper","body":"Then there&#39;s no reason you can&#39;t background it. Prefer <code>tmux</code> over <code>nohup</code> or better still, if it&#39;s a service then use a service wrapper"},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685890559,"post_id":76394570,"comment_id":134721085,"body_markdown":"@user16320675 Now I have changed eeerything to jar. \nWhen I use the command &#39;&#39;&#39;java -jar Myjar.jar&#39;&#39;&#39;, the code runs well. However, when I try to run it in the background using the command &#39;&#39;&#39;nohup java -jar Mylar.jar &amp;&#39;&#39;&#39;, it fails.","body":"@user16320675 Now I have changed eeerything to jar.  When I use the command &#39;&#39;&#39;java -jar Myjar.jar&#39;&#39;&#39;, the code runs well. However, when I try to run it in the background using the command &#39;&#39;&#39;nohup java -jar Mylar.jar &amp;&#39;&#39;&#39;, it fails."}],"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685890606,"creation_date":1685766922,"question_id":76394570,"body_markdown":"My SH file:\r\n```sh\r\n#!/bin/bash\r\n\r\nDIR=&quot;$(dirname &quot;$(readlink -f &quot;$0&quot;)&quot;)/&quot;\r\n\r\ncd &quot;$DIR&quot;\r\n\r\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n\r\necho &quot;JAVA_KAFKA script running now&quot;\r\n```\r\nThe above code is my SH script, and I&#39;m not able to run it in the background. \r\n\r\nWe tried it using the following command:\r\n```sh\r\nnohup java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; output.log 2&gt; error.log &amp;\r\n\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; /dev/null 2&gt;&amp;1 &amp;\r\n```\r\nIf I run this command, it triggers the script, and the script starts running, but after 5 seconds, the script stops running.\r\n\r\n```none\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\r\n```\r\nIf I run this command without `nohup` and\r\n`/dev/null 2&gt;&amp;1 &amp;` manually in the terminal, and it&#39;s working fine. How can I run this in the background?","title":"Not able to run java code in the background using sh file","body":"<p>My SH file:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nDIR=&quot;$(dirname &quot;$(readlink -f &quot;$0&quot;)&quot;)/&quot;\n\ncd &quot;$DIR&quot;\n\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n\necho &quot;JAVA_KAFKA script running now&quot;\n</code></pre>\n<p>The above code is my SH script, and I'm not able to run it in the background.</p>\n<p>We tried it using the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>nohup java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; output.log 2&gt; error.log &amp;\n\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java &gt; /dev/null 2&gt;&amp;1 &amp;\n</code></pre>\n<p>If I run this command, it triggers the script, and the script starts running, but after 5 seconds, the script stops running.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:snappy-java-1.1.10.0.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>If I run this command without <code>nohup</code> and\n<code>/dev/null 2&gt;&amp;1 &amp;</code> manually in the terminal, and it's working fine. How can I run this in the background?</p>\n"},{"tags":["java","runtime-error","classpath","javacompiler","java-package"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685865039,"post_id":76399323,"comment_id":134718486,"body_markdown":"Looks like your class argument should be `com.quotemedia.streamer.client.example.EnduserCredentialExample`","body":"Looks like your class argument should be <code>com.quotemedia.streamer.client.example.EnduserCredentialExam&zwnj;&#8203;ple</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685865703,"post_id":76399323,"comment_id":134718552,"body_markdown":"All details relevant to your question must be in the question.  Hint: your question will become meaningless to others the instant that your google drive links are disabled.","body":"All details relevant to your question must be in the question.  Hint: your question will become meaningless to others the instant that your google drive links are disabled."},{"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"score":0,"creation_date":1685867339,"post_id":76399323,"comment_id":134718694,"body_markdown":"@g00se When I try below command \n\n`java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; com/quotemedia/streamer/client/example/EnduserCredentialExampl`\n\nIm getting following error,\n\nError: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample\n\tjava.lang.UnsupportedClassVersionError: Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). Try running with &#39;--enable-preview&#39;","body":"@g00se When I try below command   <code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-jav&zwnj;&#8203;a-1.1.10.0.jar:lz4-j&zwnj;&#8203;ava-1.8.0.jar:slf4j-&zwnj;&#8203;api-2.0.7.jar:.&quot; com&#47;quotemedia&#47;streamer&#47;client&#47;example&#47;EnduserCredentialExam&zwnj;&#8203;pl</code>  Im getting following error,  Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExam&zwnj;&#8203;ple \tjava.lang.UnsupportedClassVersionError: Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExam&zwnj;&#8203;ple (class file version 61.65535). Try running with &#39;--enable-preview&#39;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685867961,"post_id":76399323,"comment_id":134718744,"body_markdown":"Navethaneeth - You don&#39;t get it.  Please don&#39;t give us links to your Google Drive. Not in the question.  Not in the comments.  **Not at all**.","body":"Navethaneeth - You don&#39;t get it.  Please don&#39;t give us links to your Google Drive. Not in the question.  Not in the comments.  <b>Not at all</b>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685868086,"post_id":76399323,"comment_id":134718752,"body_markdown":"You didn&#39;t use what I gave you","body":"You didn&#39;t use what I gave you"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685869549,"creation_date":1685868968,"answer_id":76399603,"question_id":76399323,"body_markdown":"You appear to be making a number of mistakes ...\r\n\r\nFirstly you appear to be ignoring warnings about unchecked / unsafe conversions:\r\n\r\n    Note: EnduserCredentialExample.java uses unchecked or unsafe operations.\r\n    Note: Recompile with -Xlint:unchecked for details.\r\n\r\nYou need to do what the message says.  Recompile that class with the `-Xlint:unchecked` option.  Then read the error messages and correct your source code.  \r\n\r\n(Hint: I am NOT going to look at your Google drive to figure out errors are.  You know what you need to do about that.  I have told you ... twice already!!)\r\n\r\n----------------\r\n\r\nNext we have this error\r\n\r\n    Error: Could not find or load main class EnduserCredentialExample \r\n        Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample \r\n        (wrong name: EnduserCredentialExample)\r\n\r\nThat means that there is a mismatch between the package name of the class and its pathname in the file system.  See this Q&amp;A for an explanation:\r\n\r\n  - https://stackoverflow.com/questions/7509295/\r\n\r\n-----------------------------\r\n\r\nFinally we have this error:\r\n\r\n    Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample java.lang.UnsupportedClassVersionError: \r\n    Preview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). \r\n    Try running with &#39;--enable-preview&#39;\r\n\r\nIt appears that you have (previously) compiled `EnduserCredentialExample` with Java 17 preview features enabled.  That&#39;s OK ... but you also need to include `--enable-preview` in the `java` command line options when you load and run the class.  This Q&amp;A may help you understand:\r\n\r\n  - https://stackoverflow.com/questions/67164057\r\n\r\nUnless you are intentionally using preview features in your code, it is inadvisable to enable them at compile time.\r\n","title":"Java Error: Could not find or load main class, Caused by: java.lang.NoClassDefFoundError","body":"<p>You appear to be making a number of mistakes ...</p>\n<p>Firstly you appear to be ignoring warnings about unchecked / unsafe conversions:</p>\n<pre><code>Note: EnduserCredentialExample.java uses unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n</code></pre>\n<p>You need to do what the message says.  Recompile that class with the <code>-Xlint:unchecked</code> option.  Then read the error messages and correct your source code.</p>\n<p>(Hint: I am NOT going to look at your Google drive to figure out errors are.  You know what you need to do about that.  I have told you ... twice already!!)</p>\n<hr />\n<p>Next we have this error</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample \n    Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample \n    (wrong name: EnduserCredentialExample)\n</code></pre>\n<p>That means that there is a mismatch between the package name of the class and its pathname in the file system.  See this Q&amp;A for an explanation:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/7509295/\">NoClassDefFoundError: wrong name</a></li>\n</ul>\n<hr />\n<p>Finally we have this error:</p>\n<pre><code>Error: LinkageError occurred while loading main class com.quotemedia.streamer.client.example.EnduserCredentialExample java.lang.UnsupportedClassVersionError: \nPreview features are not enabled for com/quotemedia/streamer/client/example/EnduserCredentialExample (class file version 61.65535). \nTry running with '--enable-preview'\n</code></pre>\n<p>It appears that you have (previously) compiled <code>EnduserCredentialExample</code> with Java 17 preview features enabled.  That's OK ... but you also need to include <code>--enable-preview</code> in the <code>java</code> command line options when you load and run the class.  This Q&amp;A may help you understand:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67164057\">How to remove --enable-preview in Java 16?</a></li>\n</ul>\n<p>Unless you are intentionally using preview features in your code, it is inadvisable to enable them at compile time.</p>\n"}],"owner":{"account_id":28741250,"reputation":11,"user_id":22011320,"display_name":"Navaneeth Busha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685889763,"creation_date":1685863041,"question_id":76399323,"body_markdown":"\r\n\r\n### Compiled \r\n\r\nI&#39;ve compiled the java code, but I&#39;m not able to run it. I compiled the code with the following:\r\n\r\n```\r\njavac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\r\n```\r\n\r\nCurrently, I&#39;m getting this output:\r\n\r\n```\r\nNote: EnduserCredentialExample.java uses unchecked or unsafe operations. \r\nNote: Recompile with -Xlint:unchecked for details. \r\n```\r\n\r\n### Tried running the compiled class\r\n\r\nI also tried running with another approach:\r\n\r\n```\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample\r\n```\r\n\r\nWhich, unfortunately, produces the following error:\r\n\r\n```\r\nError: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\r\n```\r\n\r\nAnd then I also tried running the code using .java (I added **.java** to it):\r\n\r\n```\r\njava -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\r\n```\r\n\r\nBut this worked when running the normal java code but when I tried running the compiled class, I got this error:\r\n\r\n```\r\nError: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\r\n```","title":"Java Error: Could not find or load main class, Caused by: java.lang.NoClassDefFoundError","body":"<h3>Compiled</h3>\n<p>I've compiled the java code, but I'm not able to run it. I compiled the code with the following:</p>\n<pre><code>javac -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>Currently, I'm getting this output:</p>\n<pre><code>Note: EnduserCredentialExample.java uses unchecked or unsafe operations. \nNote: Recompile with -Xlint:unchecked for details. \n</code></pre>\n<h3>Tried running the compiled class</h3>\n<p>I also tried running with another approach:</p>\n<pre><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample\n</code></pre>\n<p>Which, unfortunately, produces the following error:</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\n</code></pre>\n<p>And then I also tried running the code using .java (I added <strong>.java</strong> to it):</p>\n<pre><code>java -cp &quot;streamer-client-java.jar:kafka-clients-3.4.0.jar:snappy-java-1.1.10.0.jar:lz4-java-1.8.0.jar:slf4j-api-2.0.7.jar:.&quot; EnduserCredentialExample.java\n</code></pre>\n<p>But this worked when running the normal java code but when I tried running the compiled class, I got this error:</p>\n<pre><code>Error: Could not find or load main class EnduserCredentialExample Caused by: java.lang.NoClassDefFoundError: com/quotemedia/streamer/client/example/EnduserCredentialExample (wrong name: EnduserCredentialExample)\n</code></pre>\n"},{"tags":["java","gwt","vaadin","vaadin8","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685889314,"creation_date":1685889314,"answer_id":76400906,"question_id":76400705,"body_markdown":"There was `ecj` dependency, that came here with the `jasperreports` dependency like that:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BNRqb.png\r\n\r\nso had to find what exactly was adding it and exclude from that dependency:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.openpayment&lt;/groupId&gt;\r\n                &lt;artifactId&gt;payment-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n    &lt;!--                &lt;exclusion&gt;--&gt;\r\n    &lt;!--                        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;--&gt;\r\n    &lt;!--                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;--&gt;\r\n    &lt;!--                &lt;/exclusion&gt;--&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;              \r\n            &lt;/dependency&gt;\r\n\r\n","title":"Widgetset can&#39;t be compiled for com.vaadin:grid-renderers-collection-addon:2.7.0 and Vaadin 8.10.1","body":"<p>There was <code>ecj</code> dependency, that came here with the <code>jasperreports</code> dependency like that:</p>\n<p><a href=\"https://i.stack.imgur.com/BNRqb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNRqb.png\" alt=\"enter image description here\" /></a></p>\n<p>so had to find what exactly was adding it and exclude from that dependency:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.openpayment&lt;/groupId&gt;\n            &lt;artifactId&gt;payment-impl&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n&lt;!--                &lt;exclusion&gt;--&gt;\n&lt;!--                        &lt;groupId&gt;org.eclipse.jdt.core.compiler&lt;/groupId&gt;--&gt;\n&lt;!--                        &lt;artifactId&gt;ecj&lt;/artifactId&gt;--&gt;\n&lt;!--                &lt;/exclusion&gt;--&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jdt&lt;/groupId&gt;\n                    &lt;artifactId&gt;ecj&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;              \n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685889314,"creation_date":1685886331,"question_id":76400705,"body_markdown":"In our Vaadin 8.10.1 project we need to set up CheckboxRenderer in grid, that&#39;s why we have added:\r\n \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grid-renderers-collection-addon&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nbecause it is compatible with Vaadin 8.10.1 according to the compatibility matrix: https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7\r\n\r\nFor the grid I coded:\r\n\r\n    Setter&lt;Payment, Boolean&gt; setter = new Setter&lt;Payment, Boolean&gt;() {\r\n        @Override\r\n        public void accept(Payment s, Boolean aBoolean) {\r\n    \r\n        }\r\n    };\r\n    CheckboxRenderer renderer = new CheckboxRenderer(setter);\r\n    paymentGrid.addColumn(Payment::getSelectedToMultiAction).setRenderer(renderer).setCaption(&quot;&quot;);\r\n    \r\n    renderer.addClickListener(event -&gt; {\r\n        Payment toBeAdded = (Payment) event.getItem();\r\n        if (toBeAdded.getSelectedToMultiAction()) {\r\n            selectedPayments.add(toBeAdded);\r\n        } else {\r\n            selectedPayments.remove(toBeAdded);\r\n        }\r\n    });\r\n\r\nThere was no way for the version `2.7.0` to initialize the `CheckboxRenderer` rather than passing a `Setter` object for it (I&#39;m not sure that I&#39;m initializing it correctly, as I haven&#39;t fount any example on using the `Setter`)\r\n\r\nWidgetset set up is:\r\n\r\n    @SpringUI\r\n    @Theme(&quot;valo-ps&quot;)\r\n    @Widgetset(&quot;com.vaadin.v7.Vaadin7WidgetSet&quot;)\r\n    @StyleSheet({&quot;https://fonts.googleapis.com/css?family=Roboto&quot;})\r\n\r\nand `gwt-dev` is `2.8.2`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I compile my code with \r\n\r\n    --- vaadin-maven-plugin:8.10.1:compile (default)\r\n\r\ni see the output about several widgetsets:\r\n\r\n    [INFO] Widgetsets found from classpath:\r\n    [INFO] \torg.vaadin.teemu.ratingstars.gwt.RatingStarsWidgetset in jar:file:D:/m2repository/org/vaadin/addons/ratingstars/2.1/ratingstars-2.1.jar!/\r\n    [INFO] \torg.vaadin.sparklines.SparklinesWidgetset in jar:file:D:/m2repository/org/vaadin/addons/sparklines/7.0.2/sparklines-7.0.2.jar!/\r\n    [INFO] \tcom.vaadin.DefaultWidgetSet in jar:file:D:/m2repository/com/vaadin/vaadin-client/8.10.1/vaadin-client-8.10.1.jar!/\r\n    [INFO] \torg.vaadin.grid.cellrenderers.RenderersCollectionWidgetSet in jar:file:D:/m2repository/com/vaadin/grid-renderers-collection-addon/2.7.0/grid-renderers-collection-addon-2.7.0.jar!/\r\n    [INFO] Addon styles found from classpath:\r\n    [INFO] \tVAADIN/addons/app-layout/app-layout.scss in jar:file:D:/m2repository/com/github/appreciated/app-layout-addon/1.0.2/app-layout-addon-1.0.2.jar!/\r\n\r\n\r\nand finally it fails with \r\n\r\n    [INFO] auto discovered modules [AppWidgetset]\r\n    [INFO] Compiling module AppWidgetset\r\n    [INFO] [ERROR] An internal compiler exception occurred\r\n    [INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\r\n    [INFO] \tat com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:204)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:155)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:144)\r\n    [INFO] \tat com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.main(Compiler.java:125)\r\n    [INFO] Caused by: java.lang.NoSuchFieldError: resources\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\r\n    [INFO] \t... 26 more\r\n    [INFO]    [ERROR] at DateTimeService.java(87): try\r\n    [INFO]   {\r\n    [INFO]     return LocaleService.getMonthNames(locale)[month];\r\n    [INFO]   }\r\n    [INFO] catch (final LocaleNotLoadedException e)\r\n    [INFO]   {\r\n    [INFO]     getLogger().log(Level.SEVERE, &quot;Error in getMonth&quot;, e);\r\n    [INFO]     return null;\r\n    [INFO]   }\r\n    [INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\r\n\r\nSo, what could be the root cause of the problem and what could be the workaround?\r\n\r\nPS&gt; sometime with no explicit change in any configuratio, Im getting another error:\r\n\r\n    [INFO] --- vaadin-maven-plugin:8.10.1:compile (default) @ payment-web ---\r\n    [INFO] auto discovered modules [AppWidgetset]\r\n    [INFO] Compiling module AppWidgetset\r\n    [INFO] [ERROR] An internal compiler exception occurred\r\n    [INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\r\n    [INFO] \tat org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\r\n    [INFO] \tat com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\r\n    [INFO] \tat com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\r\n    [INFO] \tat com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\r\n    [INFO] \tat com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:204)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:155)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.compile(Compiler.java:144)\r\n    [INFO] \tat com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\r\n    [INFO] \tat com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\r\n    [INFO] \tat com.google.gwt.dev.Compiler.main(Compiler.java:125)\r\n    [INFO] Caused by: java.lang.NoSuchFieldError: resources\r\n    [INFO] \tat com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\r\n    [INFO] \t... 26 more\r\n    [INFO]    [ERROR] at DecimalMinValidatorForString.java(35): try\r\n    [INFO]   {\r\n    [INFO]     bigValue = new BigDecimal(value);\r\n    [INFO]   }\r\n    [INFO] catch (NumberFormatException e)\r\n    [INFO]   {\r\n    [INFO]     return false;\r\n    [INFO]   }\r\n    [INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKIbV.png","title":"Widgetset can&#39;t be compiled for com.vaadin:grid-renderers-collection-addon:2.7.0 and Vaadin 8.10.1","body":"<p>In our Vaadin 8.10.1 project we need to set up CheckboxRenderer in grid, that's why we have added:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n        &lt;artifactId&gt;grid-renderers-collection-addon&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>because it is compatible with Vaadin 8.10.1 according to the compatibility matrix: <a href=\"https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7\" rel=\"nofollow noreferrer\">https://vaadin.com/directory/component/grid-renderers-collection-for-vaadin7</a></p>\n<p>For the grid I coded:</p>\n<pre><code>Setter&lt;Payment, Boolean&gt; setter = new Setter&lt;Payment, Boolean&gt;() {\n    @Override\n    public void accept(Payment s, Boolean aBoolean) {\n\n    }\n};\nCheckboxRenderer renderer = new CheckboxRenderer(setter);\npaymentGrid.addColumn(Payment::getSelectedToMultiAction).setRenderer(renderer).setCaption(&quot;&quot;);\n\nrenderer.addClickListener(event -&gt; {\n    Payment toBeAdded = (Payment) event.getItem();\n    if (toBeAdded.getSelectedToMultiAction()) {\n        selectedPayments.add(toBeAdded);\n    } else {\n        selectedPayments.remove(toBeAdded);\n    }\n});\n</code></pre>\n<p>There was no way for the version <code>2.7.0</code> to initialize the <code>CheckboxRenderer</code> rather than passing a <code>Setter</code> object for it (I'm not sure that I'm initializing it correctly, as I haven't fount any example on using the <code>Setter</code>)</p>\n<p>Widgetset set up is:</p>\n<pre><code>@SpringUI\n@Theme(&quot;valo-ps&quot;)\n@Widgetset(&quot;com.vaadin.v7.Vaadin7WidgetSet&quot;)\n@StyleSheet({&quot;https://fonts.googleapis.com/css?family=Roboto&quot;})\n</code></pre>\n<p>and <code>gwt-dev</code> is <code>2.8.2</code></p>\n<p><a href=\"https://i.stack.imgur.com/CKIbV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKIbV.png\" alt=\"enter image description here\" /></a></p>\n<p>When I compile my code with</p>\n<pre><code>--- vaadin-maven-plugin:8.10.1:compile (default)\n</code></pre>\n<p>i see the output about several widgetsets:</p>\n<pre><code>[INFO] Widgetsets found from classpath:\n[INFO]  org.vaadin.teemu.ratingstars.gwt.RatingStarsWidgetset in jar:file:D:/m2repository/org/vaadin/addons/ratingstars/2.1/ratingstars-2.1.jar!/\n[INFO]  org.vaadin.sparklines.SparklinesWidgetset in jar:file:D:/m2repository/org/vaadin/addons/sparklines/7.0.2/sparklines-7.0.2.jar!/\n[INFO]  com.vaadin.DefaultWidgetSet in jar:file:D:/m2repository/com/vaadin/vaadin-client/8.10.1/vaadin-client-8.10.1.jar!/\n[INFO]  org.vaadin.grid.cellrenderers.RenderersCollectionWidgetSet in jar:file:D:/m2repository/com/vaadin/grid-renderers-collection-addon/2.7.0/grid-renderers-collection-addon-2.7.0.jar!/\n[INFO] Addon styles found from classpath:\n[INFO]  VAADIN/addons/app-layout/app-layout.scss in jar:file:D:/m2repository/com/github/appreciated/app-layout-addon/1.0.2/app-layout-addon-1.0.2.jar!/\n</code></pre>\n<p>and finally it fails with</p>\n<pre><code>[INFO] auto discovered modules [AppWidgetset]\n[INFO] Compiling module AppWidgetset\n[INFO] [ERROR] An internal compiler exception occurred\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\n[INFO]  at com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:204)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:155)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:144)\n[INFO]  at com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\n[INFO]  at com.google.gwt.dev.Compiler.main(Compiler.java:125)\n[INFO] Caused by: java.lang.NoSuchFieldError: resources\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\n[INFO]  ... 26 more\n[INFO]    [ERROR] at DateTimeService.java(87): try\n[INFO]   {\n[INFO]     return LocaleService.getMonthNames(locale)[month];\n[INFO]   }\n[INFO] catch (final LocaleNotLoadedException e)\n[INFO]   {\n[INFO]     getLogger().log(Level.SEVERE, &quot;Error in getMonth&quot;, e);\n[INFO]     return null;\n[INFO]   }\n[INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\n</code></pre>\n<p>So, what could be the root cause of the problem and what could be the workaround?</p>\n<p>PS&gt; sometime with no explicit change in any configuratio, Im getting another error:</p>\n<pre><code>[INFO] --- vaadin-maven-plugin:8.10.1:compile (default) @ payment-web ---\n[INFO] auto discovered modules [AppWidgetset]\n[INFO] Compiling module AppWidgetset\n[INFO] [ERROR] An internal compiler exception occurred\n[INFO] com.google.gwt.dev.jjs.InternalCompilerException: Error constructing Java AST\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.translateException(GwtAstBuilder.java:3997)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2169)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TryStatement.traverse(TryStatement.java:1244)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.traverse(MethodDeclaration.java:369)\n[INFO]  at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.traverse(TypeDeclaration.java:1479)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.processImpl(GwtAstBuilder.java:3933)\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder.process(GwtAstBuilder.java:3971)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater$UnitProcessorImpl.process(CompilationStateBuilder.java:129)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler$CompilerImpl.process(JdtCompiler.java:336)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:575)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:475)\n[INFO]  at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:426)\n[INFO]  at com.google.gwt.dev.javac.JdtCompiler.doCompile(JdtCompiler.java:1040)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder$CompileMoreLater.compile(CompilationStateBuilder.java:325)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.doBuildFrom(CompilationStateBuilder.java:548)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:479)\n[INFO]  at com.google.gwt.dev.javac.CompilationStateBuilder.buildFrom(CompilationStateBuilder.java:465)\n[INFO]  at com.google.gwt.dev.cfg.ModuleDef.getCompilationState(ModuleDef.java:423)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:222)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:202)\n[INFO]  at com.google.gwt.dev.Precompile.precompile(Precompile.java:143)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:204)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:155)\n[INFO]  at com.google.gwt.dev.Compiler.compile(Compiler.java:144)\n[INFO]  at com.google.gwt.dev.Compiler$1.run(Compiler.java:118)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.doRun(CompileTaskRunner.java:55)\n[INFO]  at com.google.gwt.dev.CompileTaskRunner.runWithAppropriateLogger(CompileTaskRunner.java:50)\n[INFO]  at com.google.gwt.dev.Compiler.main(Compiler.java:125)\n[INFO] Caused by: java.lang.NoSuchFieldError: resources\n[INFO]  at com.google.gwt.dev.jjs.impl.GwtAstBuilder$AstVisitor.endVisit(GwtAstBuilder.java:2144)\n[INFO]  ... 26 more\n[INFO]    [ERROR] at DecimalMinValidatorForString.java(35): try\n[INFO]   {\n[INFO]     bigValue = new BigDecimal(value);\n[INFO]   }\n[INFO] catch (NumberFormatException e)\n[INFO]   {\n[INFO]     return false;\n[INFO]   }\n[INFO]       org.eclipse.jdt.internal.compiler.ast.TryStatement\n</code></pre>\n"},{"tags":["java","swing","search","filter","jtable"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685875493,"post_id":76399713,"comment_id":134719394,"body_markdown":"You don&#39;t show how you call `filter()`\nYou really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You don&#39;t show how you call <code>filter()</code> You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1685888274,"post_id":76399713,"comment_id":134720782,"body_markdown":"My guess is that you’re not taking the sort order into account.  The TableModel is never sorted;  only the *view* (meaning, the JTable) is sorted.  This means that, for example, row 5 in the JTable may not correspond to row 5 in the TableModel.  Instead of table1.getSelectedRow(), use `table1.convertRowIndexToModel(table1.getSelectedRow())`.","body":"My guess is that you’re not taking the sort order into account.  The TableModel is never sorted;  only the <i>view</i> (meaning, the JTable) is sorted.  This means that, for example, row 5 in the JTable may not correspond to row 5 in the TableModel.  Instead of table1.getSelectedRow(), use <code>table1.convertRowIndexToModel(table1.getSelectedRow())</code>."}],"owner":{"account_id":24945093,"reputation":1,"user_id":18810503,"display_name":"Justin Pimentel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685888225,"answer_count":0,"score":0,"last_activity_date":1685888333,"creation_date":1685870869,"question_id":76399713,"body_markdown":"How do I obtain a value of a cell in a jtable.\r\n\r\n\r\nI already have it working but I have encountered a problem which lead me to being stuck in it for a few mins now. \r\n\r\nwhen selecting a cell i can make it show in the jtextfields with no problem, when i click justin i can make it show justin. when i click mary i can make it show mary. But the problem arose when i tried the search function of my code. When i try to search for mary then click mary, it shows justin instead of mary. \r\n\r\nThis is how it currently is (https://i.stack.imgur.com/JTw8Y.png)\r\n\r\nThis is how it looks like when using it normally (https://i.stack.imgur.com/eZP6Y.png)\r\n\r\nThis is where the problem began (https://i.stack.imgur.com/lomAM.png)\r\n\r\nThis is what im currently using for it to show in the jtextfields\r\n```\r\nDefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\r\n\r\n        String tblsport = tblModel.getValueAt(table1.getSelectedRow(),1).toString(); \r\n        String tblname = tblModel.getValueAt(table1.getSelectedRow(),2).toString(); \r\n        String tblmeal = tblModel.getValueAt(table1.getSelectedRow(),3).toString(); \r\n        name.setText(tblname);\r\n        sport.setText(tblsport);\r\n        meal.setText(tblmeal); \r\n```\r\n\r\nand for the sorting, i use this currently\r\n\r\n```\r\npublic void filter(String name){\r\n        DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\r\n        TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt; (tblModel);\r\n        table1.setRowSorter(tr);\r\n        tr.setRowFilter(RowFilter.regexFilter(name));\r\n    }\r\n```\r\n\r\nand this is how i called the filter\r\n\r\n```\r\nprivate void filterKeyReleased(java.awt.event.KeyEvent evt) {                                   \r\n        String search = filter.getText().toUpperCase();\r\n        filter(search);\r\n    } \r\n```\r\n\r\n\r\n\r\n\r\nI already put the code above so I hope you guys can help me!","title":"How can I show the correct value in jtextfields when selecting a cell in a JTable with filter and search function in Java?","body":"<p>How do I obtain a value of a cell in a jtable.</p>\n<p>I already have it working but I have encountered a problem which lead me to being stuck in it for a few mins now.</p>\n<p>when selecting a cell i can make it show in the jtextfields with no problem, when i click justin i can make it show justin. when i click mary i can make it show mary. But the problem arose when i tried the search function of my code. When i try to search for mary then click mary, it shows justin instead of mary.</p>\n<p>This is how it currently is (<a href=\"https://i.stack.imgur.com/JTw8Y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/JTw8Y.png</a>)</p>\n<p>This is how it looks like when using it normally (<a href=\"https://i.stack.imgur.com/eZP6Y.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/eZP6Y.png</a>)</p>\n<p>This is where the problem began (<a href=\"https://i.stack.imgur.com/lomAM.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/lomAM.png</a>)</p>\n<p>This is what im currently using for it to show in the jtextfields</p>\n<pre><code>DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\n\n        String tblsport = tblModel.getValueAt(table1.getSelectedRow(),1).toString(); \n        String tblname = tblModel.getValueAt(table1.getSelectedRow(),2).toString(); \n        String tblmeal = tblModel.getValueAt(table1.getSelectedRow(),3).toString(); \n        name.setText(tblname);\n        sport.setText(tblsport);\n        meal.setText(tblmeal); \n</code></pre>\n<p>and for the sorting, i use this currently</p>\n<pre><code>public void filter(String name){\n        DefaultTableModel tblModel = (DefaultTableModel)table1.getModel();\n        TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt; (tblModel);\n        table1.setRowSorter(tr);\n        tr.setRowFilter(RowFilter.regexFilter(name));\n    }\n</code></pre>\n<p>and this is how i called the filter</p>\n<pre><code>private void filterKeyReleased(java.awt.event.KeyEvent evt) {                                   \n        String search = filter.getText().toUpperCase();\n        filter(search);\n    } \n</code></pre>\n<p>I already put the code above so I hope you guys can help me!</p>\n"},{"tags":["java","swing","jtable","tablemodel","tablerowsorter"],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685887994,"creation_date":1618671919,"answer_id":67139634,"question_id":67139091,"body_markdown":"When you sort or filter a table, the data in the `TableModel` doesn&#39;t change. Only the view of the data changes.\r\n\r\nIf you want to get the data from the model, then you need to convert the &quot;view row&quot; to the &quot;model row&quot; by using the `convertRowIndexToModel(...)` method:\r\n\r\n    int linha = this.jTable1.getSelectedRow();\r\n    int modelRow = jTable1.convertRowIndexToModel(linha);\r\n    int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(modelRow, 0));\r\n    //int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\r\n\r\nAlso, why are you using Integer.parseInt(...)? If the data in the model is an integer value, then it should be stored as an Integer value, not a String value.\r\n\r\n\r\n            ","title":"JTable when searched - not getting right ID","body":"<p>When you sort or filter a table, the data in the <code>TableModel</code> doesn't change. Only the view of the data changes.</p>\n<p>If you want to get the data from the model, then you need to convert the &quot;view row&quot; to the &quot;model row&quot; by using the <code>convertRowIndexToModel(...)</code> method:</p>\n<pre><code>int linha = this.jTable1.getSelectedRow();\nint modelRow = jTable1.convertRowIndexToModel(linha);\nint idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(modelRow, 0));\n//int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\n</code></pre>\n<p>Also, why are you using Integer.parseInt(...)? If the data in the model is an integer value, then it should be stored as an Integer value, not a String value.</p>\n"}],"owner":{"account_id":21296604,"reputation":7,"user_id":15673061,"display_name":"RafaelMacaco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67139634,"answer_count":1,"score":0,"last_activity_date":1685887994,"creation_date":1618668642,"question_id":67139091,"body_markdown":"So I&#39;m trying to after searching a name click on the table and then edit it in other table, the problem is that I&#39;m not getting the right ID but instead only getting the ID that is the first.\r\n\r\n[JTable][1]\r\n\r\n\r\n[Search in action][2]\r\n\r\n[ID wrong][3]\r\n\r\n\r\n**Edit Code**\r\n   \r\n\r\n    int linha = this.jTable1.getSelectedRow();\r\n    int idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\r\n    Utilizador uti = UtilizadorJpaController.read(idUtilizador);\r\n    CriarCliente updateCliente = new CriarCliente(uti);\r\n    updateCliente.setVisible(true);\r\n\r\n**Search Code**\r\n\r\n    DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\r\n    TableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt;(model);\r\n    jTable1.setRowSorter(tr);\r\n    tr.setRowFilter(RowFilter.regexFilter(jTextField1.getText().trim(),1))\r\n\r\n  [1]: https://i.stack.imgur.com/TnNIq.png\r\n  [2]: https://i.stack.imgur.com/MHAyG.png\r\n  [3]: https://i.stack.imgur.com/ge1SB.png\r\n\r\n","title":"JTable when searched - not getting right ID","body":"<p>So I'm trying to after searching a name click on the table and then edit it in other table, the problem is that I'm not getting the right ID but instead only getting the ID that is the first.</p>\n<p><a href=\"https://i.stack.imgur.com/TnNIq.png\" rel=\"nofollow noreferrer\">JTable</a></p>\n<p><a href=\"https://i.stack.imgur.com/MHAyG.png\" rel=\"nofollow noreferrer\">Search in action</a></p>\n<p><a href=\"https://i.stack.imgur.com/ge1SB.png\" rel=\"nofollow noreferrer\">ID wrong</a></p>\n<p><strong>Edit Code</strong></p>\n<pre><code>int linha = this.jTable1.getSelectedRow();\nint idUtilizador = Integer.parseInt((String)(this.jTable1.getModel() ).getValueAt(linha, 0));\nUtilizador uti = UtilizadorJpaController.read(idUtilizador);\nCriarCliente updateCliente = new CriarCliente(uti);\nupdateCliente.setVisible(true);\n</code></pre>\n<p><strong>Search Code</strong></p>\n<pre><code>DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\nTableRowSorter&lt;DefaultTableModel&gt; tr = new TableRowSorter&lt;DefaultTableModel&gt;(model);\njTable1.setRowSorter(tr);\ntr.setRowFilter(RowFilter.regexFilter(jTextField1.getText().trim(),1))\n</code></pre>\n"},{"tags":["java","swing","sorting","jtable","filtering"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1317308812,"post_id":7599051,"comment_id":9219029,"body_markdown":"*&quot;Hope I&#39;ve explained this well enough&quot;*  An [SSCCE](http://pscode.org/sscce.html) is usually good for explaining code.  As an aside, did you have a question?","body":"<i>&quot;Hope I&#39;ve explained this well enough&quot;</i>  An <a href=\"http://pscode.org/sscce.html\" rel=\"nofollow noreferrer\">SSCCE</a> is usually good for explaining code.  As an aside, did you have a question?"}],"answers":[{"comments":[{"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"score":0,"creation_date":1317309384,"post_id":7599186,"comment_id":9219229,"body_markdown":"I think you have added rows and columns into jTable, instead of this if you try to add rows and columns into your model then you can upadte model anytime via .fireTableDataChanged() or .fireTableStructureChanged(); Please check this example: http://www.java2s.com/Tutorial/Java/0240__Swing/SampleSortingTableModel.htm .I dont know how to update table if table = new jTable(myModel) is not working.","body":"I think you have added rows and columns into jTable, instead of this if you try to add rows and columns into your model then you can upadte model anytime via .fireTableDataChanged() or .fireTableStructureChanged(); Please check this example: <a href=\"http://www.java2s.com/Tutorial/Java/0240__Swing/SampleSortingTableModel.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0240__Swing/&hellip;</a> .I dont know how to update table if table = new jTable(myModel) is not working."},{"owner":{"display_name":"user918076"},"score":0,"creation_date":1317310432,"post_id":7599186,"comment_id":9219598,"body_markdown":"I&#39;m not adding any rows or columns onto the table. After filtering the wrong dialog shows up.","body":"I&#39;m not adding any rows or columns onto the table. After filtering the wrong dialog shows up."}],"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317307930,"creation_date":1317307930,"answer_id":7599186,"question_id":7599051,"body_markdown":"After you change data you can refresh table as below;\r\n\r\n    for(int i = 0; i &lt; table.getRowCount(); i++)\r\n    {         table.convertRowIndexToModel(i);     } \r\n\r\n    table = new jTable(myModel);\r\n\r\nor\r\n\r\n    myModel.fireTableDataChanged()\r\n\r\n\r\n\r\nHope it helps\r\n\r\nBurak\r\n","title":"JTable Sorting and Filtering","body":"<p>After you change data you can refresh table as below;</p>\n\n<pre><code>for(int i = 0; i &lt; table.getRowCount(); i++)\n{         table.convertRowIndexToModel(i);     } \n\ntable = new jTable(myModel);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>myModel.fireTableDataChanged()\n</code></pre>\n\n<p>Hope it helps</p>\n\n<p>Burak</p>\n"},{"tags":[],"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317308895,"creation_date":1317308895,"answer_id":7599400,"question_id":7599051,"body_markdown":"please see tutorial about [JTable][1], there is excelent example about `Comparator` and good explanations about how to use the TableModel too \r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/components/table.html#sorting","title":"JTable Sorting and Filtering","body":"<p>please see tutorial about <a href=\"http://download.oracle.com/javase/tutorial/uiswing/components/table.html#sorting\" rel=\"nofollow\">JTable</a>, there is excelent example about <code>Comparator</code> and good explanations about how to use the TableModel too </p>\n"},{"comments":[{"owner":{"display_name":"user918076"},"score":0,"creation_date":1317310329,"post_id":7599535,"comment_id":9219562,"body_markdown":"So convertRowIndexToModel(...) will convert the row index I&#39;ve selected into the one that is on the model?","body":"So convertRowIndexToModel(...) will convert the row index I&#39;ve selected into the one that is on the model?"},{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":0,"creation_date":1424941649,"post_id":7599535,"comment_id":45760329,"body_markdown":"thanks @camickr !!! it worked :D . That&#39;s what I did: &quot;int row = myjTable.convertRowIndexToModel(myjTable.rowAtPoint(p));&quot;   so now I have the row that I need :))","body":"thanks @camickr !!! it worked :D . That&#39;s what I did: &quot;int row = myjTable.convertRowIndexToModel(myjTable.rowAtPoint(p));&quot;   so now I have the row that I need :))"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685887816,"creation_date":1317309423,"answer_id":7599535,"question_id":7599051,"body_markdown":"&gt; I think my problem is that the model isn&#39;t being updated after the filters have taken place\r\n\r\nThe model is never updated. \r\n\r\nOnly the view is updated to show the data from the model in a sorted/filtered order.\r\n\r\n&gt; Each row on the table can be double clicked to open a dialog.\r\n\r\nSo I assume you copy the data for one row to the dialog so it can be edited and then added back to the original model.\r\n\r\nTherefore you need to use the `convertRowIndexToModel(...)` to get the model row number so you can access the model data to be displayed on the edit dialog. You would only do this for the row to be edited, not the entire table.","title":"JTable Sorting and Filtering","body":"<blockquote>\n<p>I think my problem is that the model isn't being updated after the filters have taken place</p>\n</blockquote>\n<p>The model is never updated.</p>\n<p>Only the view is updated to show the data from the model in a sorted/filtered order.</p>\n<blockquote>\n<p>Each row on the table can be double clicked to open a dialog.</p>\n</blockquote>\n<p>So I assume you copy the data for one row to the dialog so it can be edited and then added back to the original model.</p>\n<p>Therefore you need to use the <code>convertRowIndexToModel(...)</code> to get the model row number so you can access the model data to be displayed on the edit dialog. You would only do this for the row to be edited, not the entire table.</p>\n"}],"owner":{"display_name":"user918076"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2648,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7599535,"answer_count":3,"score":1,"last_activity_date":1685887816,"creation_date":1317307341,"question_id":7599051,"body_markdown":"I am creating a program that filters the contents of a JTable using two columns. I have used a RowSorter and everything works fine - at least according to what I can see (the view).\r\n\r\nEach row on the table can be double clicked to open a dialog. This dialog allows you to edit information on the table. However, the information on the dialog is still of that of the original view (before filtering was used).\r\n\r\n**Example:**\r\n\r\nBefore filtering the first row on the table is row a.\r\nAfter filtering the first row on the table is row b.\r\n\r\nHowever, when I double click to open the dialog on the first row (after filtering, which should now be row b, the dialog for row a opens.)\r\n[Hope I&#39;ve explained this well enough]\r\n\r\nI think my problem is that the model isn&#39;t being updated after the filters have taken place. I&#39;ve tried:\r\n\r\n    \t\tfor(int i = 0; i &lt; table.getRowCount(); i++){\r\n\t\t\ttable.convertRowIndexToView(i);\r\n\t\t}\r\nand\r\n\r\n    for(int i = 0; i &lt; table.getRowCount(); i++){\r\n\t\t\ttable.convertRowIndexToModel(i);\r\n\t\t}\r\n\r\nI am also getting a similar problem when I sort the table using the column headers.\r\n\r\nHow do I fix this problem?","title":"JTable Sorting and Filtering","body":"<p>I am creating a program that filters the contents of a JTable using two columns. I have used a RowSorter and everything works fine - at least according to what I can see (the view).</p>\n\n<p>Each row on the table can be double clicked to open a dialog. This dialog allows you to edit information on the table. However, the information on the dialog is still of that of the original view (before filtering was used).</p>\n\n<p><strong>Example:</strong></p>\n\n<p>Before filtering the first row on the table is row a.\nAfter filtering the first row on the table is row b.</p>\n\n<p>However, when I double click to open the dialog on the first row (after filtering, which should now be row b, the dialog for row a opens.)\n[Hope I've explained this well enough]</p>\n\n<p>I think my problem is that the model isn't being updated after the filters have taken place. I've tried:</p>\n\n<pre><code>        for(int i = 0; i &lt; table.getRowCount(); i++){\n        table.convertRowIndexToView(i);\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for(int i = 0; i &lt; table.getRowCount(); i++){\n        table.convertRowIndexToModel(i);\n    }\n</code></pre>\n\n<p>I am also getting a similar problem when I sort the table using the column headers.</p>\n\n<p>How do I fix this problem?</p>\n"},{"tags":["java","spring-boot","spring-mvc","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685887263,"creation_date":1685887263,"answer_id":76400760,"question_id":76396976,"body_markdown":"&gt; Solution\r\n\r\nJust provide a custom error page and define the control logic to redirect when project detect something illegal like 0 or else.  \r\n\r\n\r\n&gt; Issue\r\n\r\n\r\nThe major issue in your code snippet is that your prodide uri without any parameter , so that the http handler ```/registeredUsers/{page}``` which your define variables like ```Integer page ``` will be a default value  zero ,  If you use int instead of it and then appearently you will get an Nullpointexception error .","title":"View Page is not rendering in Thymeleaf and Spring boot","body":"<blockquote>\n<p>Solution</p>\n</blockquote>\n<p>Just provide a custom error page and define the control logic to redirect when project detect something illegal like 0 or else.</p>\n<blockquote>\n<p>Issue</p>\n</blockquote>\n<p>The major issue in your code snippet is that your prodide uri without any parameter , so that the http handler <code>/registeredUsers/{page}</code> which your define variables like <code>Integer page </code> will be a default value  zero ,  If you use int instead of it and then appearently you will get an Nullpointexception error .</p>\n"}],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685887263,"creation_date":1685809979,"question_id":76396976,"body_markdown":"I&#39;ve written my front end on thymeleaf and backend is in springboot and I&#39;ve my this view page https://i.imgur.com/qOHWi4E.png and I am applying a search feature on it, and when I search the element and filter the record, I want, it should open on the same page but view name changed like something like this https://i.imgur.com/EUyB3zf.png\r\n\r\nThis is my default controller to load the list of registered user here:\r\n\r\n    @GetMapping(&quot;/registeredUsers/{page}&quot;)\r\n\tpublic String registeredUsers(Model model, @PathVariable(&quot;page&quot;) Integer page) {\r\n\t\tmodel.addAttribute(&quot;title&quot;, &quot;Registered User&quot;);\r\n\t\t\r\n\t//\tPageRequest pageable =PageRequest.of(page, perPageResultCount);\r\n\t\tPageable pageable = PageRequest.of(page, perPageResultCount);\r\n\t\tint totalNumberOfRegisteredUser = this.userRepository.findAll().size();\r\n\t\tPage&lt;Users&gt; listOfUserDetails = this.userRepository.findAll(pageable);\r\n\t\t\r\n\t\tList&lt;Users&gt; listOfUsers = listOfUserDetails.getContent();\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;totalNumberOfRegisteredUser&quot;, totalNumberOfRegisteredUser);\r\n\t\tmodel.addAttribute(&quot;totalPage&quot;, listOfUserDetails);\r\n\t\tmodel.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\r\n\t\tmodel.addAttribute(&quot;registeredUserClass&quot;, &quot;active&quot;);\r\n\t\t\r\n\t\tmodel.addAttribute(&quot;currentPage&quot;, page);\r\n\t\tmodel.addAttribute(&quot;totalPages&quot;, listOfUserDetails.getTotalPages());\r\n\t\t//model.addAttribute(&quot;queryParameter&quot;, queryParameter);\r\n\t\t\r\n\t\treturn &quot;/admin/registeredUsers&quot;;\r\n\t}\r\n\r\n\r\nThis is my search controller\r\n\r\n    @GetMapping(&quot;/searchKeyword/{page}&quot;)\r\n\tpublic String searchKeyword(@RequestParam(&quot;keyword&quot;) String keyword, Model model, @PathVariable(&quot;page&quot;) Integer page) {\r\n\t\tmodel.addAttribute(&quot;pageNum&quot;, page);\r\n\t\tList&lt;Users&gt; listOfUsers = this.userRepository.searchByKeyword(keyword);\r\n\t\tmodel.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\r\n\t\treturn &quot;/admin/registeredUsers&quot;;\r\n\t}\r\n\r\nAs you can see in the search controller when I am returning the same page as **/admin/registeredUsers** from method  @GetMapping(&quot;/searchKeyword/{page}&quot;) which I am returning in **@GetMapping(&quot;/registeredUsers/{page}&quot;)**, it is changing the url bar and therefore, it is not rending the page and giving 404 error because there is no any page like **/admin/searchKeyword/0**\r\n\r\n","title":"View Page is not rendering in Thymeleaf and Spring boot","body":"<p>I've written my front end on thymeleaf and backend is in springboot and I've my this view page <a href=\"https://i.imgur.com/qOHWi4E.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/qOHWi4E.png</a> and I am applying a search feature on it, and when I search the element and filter the record, I want, it should open on the same page but view name changed like something like this <a href=\"https://i.imgur.com/EUyB3zf.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/EUyB3zf.png</a></p>\n<p>This is my default controller to load the list of registered user here:</p>\n<pre><code>@GetMapping(&quot;/registeredUsers/{page}&quot;)\npublic String registeredUsers(Model model, @PathVariable(&quot;page&quot;) Integer page) {\n    model.addAttribute(&quot;title&quot;, &quot;Registered User&quot;);\n    \n//  PageRequest pageable =PageRequest.of(page, perPageResultCount);\n    Pageable pageable = PageRequest.of(page, perPageResultCount);\n    int totalNumberOfRegisteredUser = this.userRepository.findAll().size();\n    Page&lt;Users&gt; listOfUserDetails = this.userRepository.findAll(pageable);\n    \n    List&lt;Users&gt; listOfUsers = listOfUserDetails.getContent();\n    \n    model.addAttribute(&quot;totalNumberOfRegisteredUser&quot;, totalNumberOfRegisteredUser);\n    model.addAttribute(&quot;totalPage&quot;, listOfUserDetails);\n    model.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\n    model.addAttribute(&quot;registeredUserClass&quot;, &quot;active&quot;);\n    \n    model.addAttribute(&quot;currentPage&quot;, page);\n    model.addAttribute(&quot;totalPages&quot;, listOfUserDetails.getTotalPages());\n    //model.addAttribute(&quot;queryParameter&quot;, queryParameter);\n    \n    return &quot;/admin/registeredUsers&quot;;\n}\n</code></pre>\n<p>This is my search controller</p>\n<pre><code>@GetMapping(&quot;/searchKeyword/{page}&quot;)\npublic String searchKeyword(@RequestParam(&quot;keyword&quot;) String keyword, Model model, @PathVariable(&quot;page&quot;) Integer page) {\n    model.addAttribute(&quot;pageNum&quot;, page);\n    List&lt;Users&gt; listOfUsers = this.userRepository.searchByKeyword(keyword);\n    model.addAttribute(&quot;detailsOfTotalRegisteredUsers&quot;, listOfUsers);\n    return &quot;/admin/registeredUsers&quot;;\n}\n</code></pre>\n<p>As you can see in the search controller when I am returning the same page as <strong>/admin/registeredUsers</strong> from method  @GetMapping(&quot;/searchKeyword/{page}&quot;) which I am returning in <strong>@GetMapping(&quot;/registeredUsers/{page}&quot;)</strong>, it is changing the url bar and therefore, it is not rending the page and giving 404 error because there is no any page like <strong>/admin/searchKeyword/0</strong></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda"],"answers":[{"comments":[{"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"score":0,"creation_date":1685901209,"post_id":76400737,"comment_id":134722358,"body_markdown":"You&#39;re right, my assumption were incorrect. I guess I got confused with the fact that you could also provide a .zip file in a lambda function and incorrectly misinterpreted what the command was doing. I zipped the jar file and uploaded so your guess is also correct lol. Thanks","body":"You&#39;re right, my assumption were incorrect. I guess I got confused with the fact that you could also provide a .zip file in a lambda function and incorrectly misinterpreted what the command was doing. I zipped the jar file and uploaded so your guess is also correct lol. Thanks"}],"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685886806,"creation_date":1685886806,"answer_id":76400737,"question_id":76400532,"body_markdown":"&gt; My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function\r\n\r\nThat is an incorrect assumption. That line simply uses the .jar file as the zip file. It uploads the .jar file directly. A .jar file is a zip file already. There is no need to zip it up again.\r\n\r\n&gt; However, when I attempt the following using AWS S3: \r\n&gt;\r\n&gt; `aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip`\r\n\r\nYou haven&#39;t provided any context as to what that .zip file is exactly. I&#39;m going to guess what you did was take the .jar file and zip it up into a .zip file. Instead of doing that, try uploading the .jar file directly to S3 and using that. ","title":"AWS Lambda ClassNotFound when deploying via AWS S3","body":"<blockquote>\n<p>My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function</p>\n</blockquote>\n<p>That is an incorrect assumption. That line simply uses the .jar file as the zip file. It uploads the .jar file directly. A .jar file is a zip file already. There is no need to zip it up again.</p>\n<blockquote>\n<p>However, when I attempt the following using AWS S3:</p>\n<p><code>aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip</code></p>\n</blockquote>\n<p>You haven't provided any context as to what that .zip file is exactly. I'm going to guess what you did was take the .jar file and zip it up into a .zip file. Instead of doing that, try uploading the .jar file directly to S3 and using that.</p>\n"}],"owner":{"account_id":4092737,"reputation":129,"user_id":3360335,"accept_rate":86,"display_name":"invincibles04"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76400737,"answer_count":1,"score":1,"last_activity_date":1685886806,"creation_date":1685883218,"question_id":76400532,"body_markdown":"I have a simple java project that utilises AWS Lambda, I use the necessary maven-shade-plugin config details to package the application to a jar file. I have two options of deploying this jar to AWS Lambda, either by saving the jar/zipped jar in an s3 bucket or running manually update-function-code command.\r\n\r\nI ran this command, which works fine, I&#39;m able to test my code. My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function\r\n\r\n    aws lambda update-function-code --function-name demo-test --zip-file fileb://./target/demo-lambda-1.0-SNAPSHOT.jar\r\n\r\nHowever, when I attempt the following using AWS S3:\r\n\r\n    aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip\r\n\r\nIt returns this error when I try to test my code:\r\n\r\n    Class not found: com.demo.lambda.handlers.DemoHandler: java.lang.ClassNotFoundException\r\n    java.lang.ClassNotFoundException: com.demo.lambda.handlers.DemoHandler. Current classpath: file:/var/task/","title":"AWS Lambda ClassNotFound when deploying via AWS S3","body":"<p>I have a simple java project that utilises AWS Lambda, I use the necessary maven-shade-plugin config details to package the application to a jar file. I have two options of deploying this jar to AWS Lambda, either by saving the jar/zipped jar in an s3 bucket or running manually update-function-code command.</p>\n<p>I ran this command, which works fine, I'm able to test my code. My assumption is that this line zips the jar file located in ./target directory deploys it to the lambda function</p>\n<pre><code>aws lambda update-function-code --function-name demo-test --zip-file fileb://./target/demo-lambda-1.0-SNAPSHOT.jar\n</code></pre>\n<p>However, when I attempt the following using AWS S3:</p>\n<pre><code>aws lambda update-function-code --function-name demo-test --s3-bucket build-owanbe-api-lambdas --s3-key demo-lambda-1.0-SNAPSHOT.zip\n</code></pre>\n<p>It returns this error when I try to test my code:</p>\n<pre><code>Class not found: com.demo.lambda.handlers.DemoHandler: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: com.demo.lambda.handlers.DemoHandler. Current classpath: file:/var/task/\n</code></pre>\n"},{"tags":["java","sql","mysql","prepared-statement","vert.x"],"answers":[{"tags":[],"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885499,"creation_date":1685885499,"answer_id":76400659,"question_id":76395809,"body_markdown":"For whatever reason, the above prepared statement query runs perfectly fine against `mariadb 10.5` but fails against `MySQL 8.0.25` even though `max_prepared_stmt_count` is set to non-zero value. I changed the code from using `preparedQuery` with `connectOptions.setCachePreparedStatements(true)` to simply using `query` with concatenated parameters and it started working. Not sure if it is a bug or not. ","title":"Mysql PreparedStatement Query returns 0 rows though table has newly inserted data","body":"<p>For whatever reason, the above prepared statement query runs perfectly fine against <code>mariadb 10.5</code> but fails against <code>MySQL 8.0.25</code> even though <code>max_prepared_stmt_count</code> is set to non-zero value. I changed the code from using <code>preparedQuery</code> with <code>connectOptions.setCachePreparedStatements(true)</code> to simply using <code>query</code> with concatenated parameters and it started working. Not sure if it is a bug or not.</p>\n"}],"owner":{"account_id":10097137,"reputation":163,"user_id":7462177,"display_name":"Obb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685885499,"creation_date":1685791159,"question_id":76395809,"body_markdown":"I&#39;m porting an old java program that polls the db every few minutes. It simply queries a certain table and based on the row values processes them (i have to maintain the polling, can&#39;t change to CDC like debezium). I am using vertx `setTimer` to do the periodic scheduling (so that one starts after the previous has ended). I have this property in the class `private static Handler&lt;Long&gt; pollingHandler;` and initialize it as below and call it for the first time. When I copy the query `FETCH_SAMPLE_DATA_QUERY` with various valid parameters of `start_id` and `batch_size` and use it in mysql console, it works. In code, **only the first call** works and returns the right number of rows, and after finished processing `start_id` is updated for the next scheduled call. But the subsequent scheduled calls all return 0 rows. The logs are filled with `Processing 0 records` when I debug. I can&#39;t seem to understand why it&#39;s returning an empty RowSet. The initial call does update `start_id` when I check the debug logs and therefore second call should return new batch of rows but it returns empty and so goes for the rest of the subsequent calls. The debug value for `start_id` remains the same after it was updated by the first call. When I replace `?` in the query with the debug values and run the query in mysql console, it returns `batch_size` number of rows. I can&#39;t seem to understand how this is happening.\r\n\r\n      \r\n      pollingHandler = id -&gt; {\r\n       LOGGER.debug(&quot;start_id: {}&quot;, start_id);\r\n       LOGGER.debug(&quot;batch_size: {}&quot;, batch_size);\r\n\r\n       mysqlClient\r\n        .preparedQuery(FETCH_SAMPLE_DATA_QUERY)\r\n        .execute(Tuple.of(start_id,batch_size))\r\n        .onSuccess(rows -&gt; {\r\n          LOGGER.debug(&quot;Processing {} rows&quot;, rows.size());\r\n\t\t  \r\n          if (rows.size() &gt; 0) {\r\n            RowIterator&lt;Row&gt; rowIterator = rows.iterator();\r\n            processRows(rowIterator); // this updates start_id so that the next query starts from somewhere else\r\n          }\r\n          vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\r\n        })\r\n        .onFailure(err -&gt; {\r\n          LOGGER.error(err.getMessage(),err);\r\n          vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\r\n        });\r\n     };\r\n\r\n     // Schedule the first execution\r\n     vertx.setTimer(config.getInteger(&quot;polling-interval&quot;), pollingHandler);","title":"Mysql PreparedStatement Query returns 0 rows though table has newly inserted data","body":"<p>I'm porting an old java program that polls the db every few minutes. It simply queries a certain table and based on the row values processes them (i have to maintain the polling, can't change to CDC like debezium). I am using vertx <code>setTimer</code> to do the periodic scheduling (so that one starts after the previous has ended). I have this property in the class <code>private static Handler&lt;Long&gt; pollingHandler;</code> and initialize it as below and call it for the first time. When I copy the query <code>FETCH_SAMPLE_DATA_QUERY</code> with various valid parameters of <code>start_id</code> and <code>batch_size</code> and use it in mysql console, it works. In code, <strong>only the first call</strong> works and returns the right number of rows, and after finished processing <code>start_id</code> is updated for the next scheduled call. But the subsequent scheduled calls all return 0 rows. The logs are filled with <code>Processing 0 records</code> when I debug. I can't seem to understand why it's returning an empty RowSet. The initial call does update <code>start_id</code> when I check the debug logs and therefore second call should return new batch of rows but it returns empty and so goes for the rest of the subsequent calls. The debug value for <code>start_id</code> remains the same after it was updated by the first call. When I replace <code>?</code> in the query with the debug values and run the query in mysql console, it returns <code>batch_size</code> number of rows. I can't seem to understand how this is happening.</p>\n<pre><code>  pollingHandler = id -&gt; {\n   LOGGER.debug(&quot;start_id: {}&quot;, start_id);\n   LOGGER.debug(&quot;batch_size: {}&quot;, batch_size);\n\n   mysqlClient\n    .preparedQuery(FETCH_SAMPLE_DATA_QUERY)\n    .execute(Tuple.of(start_id,batch_size))\n    .onSuccess(rows -&gt; {\n      LOGGER.debug(&quot;Processing {} rows&quot;, rows.size());\n      \n      if (rows.size() &gt; 0) {\n        RowIterator&lt;Row&gt; rowIterator = rows.iterator();\n        processRows(rowIterator); // this updates start_id so that the next query starts from somewhere else\n      }\n      vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\n    })\n    .onFailure(err -&gt; {\n      LOGGER.error(err.getMessage(),err);\n      vertx.setTimer(config.getLong(&quot;polling-interval&quot;), pollingHandler);\n    });\n };\n\n // Schedule the first execution\n vertx.setTimer(config.getInteger(&quot;polling-interval&quot;), pollingHandler);\n</code></pre>\n"},{"tags":["java","mysql","angular","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1685885744,"post_id":76400641,"comment_id":134720493,"body_markdown":"500 is an internal server error. Look into your server logfiles and you should find a message the shows the reason of the error","body":"500 is an internal server error. Look into your server logfiles and you should find a message the shows the reason of the error"}],"owner":{"account_id":26992601,"reputation":67,"user_id":20555252,"display_name":"Malinsha Vithanage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1685885234,"creation_date":1685885234,"question_id":76400641,"body_markdown":"I am coding a web application for a service management system. Here, I need to create site visits. \r\n\r\nOnce I create a site visit, It should be enabled for editing and the editing should be done according to the site Visit Id. The Site visit ID should not be changed. Therefore, I tried to code an auto-fill feature for the site visit ID and remove the text box that allows entering the site visit id in the editing forum. However, the changes I made during editing were not saved.\r\n\r\nThen, I attempted another method. If I enter an incorrect site visit Id, then it should not be changed and It should be displayed as &quot;Incorrect site visit ID &quot;. Now all the changes done by me are saved properly when site visit ID is correct. But still it doesn&#39;t display the message &quot; Incorrect site visit ID&quot; when the ID is incorrect. Instead It gives the message &quot;Http failure response for http://localhost:8080/siteVisit/update: 500 OK &quot;. Additionally If the incorrect site visit ID is available in another site visit that I created previously, the data according to that site visit id is changed.\r\n \r\nI need to fix these errors. I used Angular , spring boot and MySQL for development. Please help me because I am a beginner. [![enter image description here](https://i.stack.imgur.com/4A2Ek.png)](https://i.stack.imgur.com/4A2Ek.png)\r\n\r\nBackend \r\nSiteVisitResource.java\r\n```\r\n        @PutMapping(&quot;/update&quot;)\r\n        public ResponseEntity&lt;SiteVisit&gt;updateSiteVisit(@RequestBody SiteVisit siteVisit){\r\n            SiteVisit updateSiteVisit=siteVisitService.updateSiteVisit(siteVisit);\r\n            return new ResponseEntity&lt;&gt;(updateSiteVisit, HttpStatus.CREATED);\r\n\r\n        }\r\n```\r\nSitVisitService.java\r\n```\r\n        public SiteVisit updateSiteVisit(SiteVisit siteVisit){\r\n\r\n            return siteVisitRepo.save(siteVisit);\r\n        }\r\n```\r\n\r\n\r\nFrontend\r\nComponent.html\r\n```\r\n\r\n&lt;!-- Edit Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;updateSiteVisitModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;siteVisitEditModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n           &lt;div class=&quot;modal-header&quot;&gt;\r\n              &lt;h5 class=&quot;modal-title&quot; id=&quot;updateSiteVisitModalLabel&quot;&gt;Edit Site Visit {{editSiteVisits?.siteVisitId}}&lt;/h5&gt;\r\n              &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n              &lt;/button&gt;\r\n           &lt;/div&gt;\r\n\r\n           &lt;div class=&quot;modal-body&quot;&gt;\r\n              &lt;form #editForm=&quot;ngForm&quot;&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;name&quot;&gt;SiteVisitId&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.siteVisitId}}&quot; name=&quot;siteVisitId&quot; class=&quot;form-control&quot; id=&quot;siteVisitId&quot; aria-describedby=&quot;emailHelp&quot; placeholder=&quot;siteVisitId&quot;&gt;\r\n                  &lt;/div&gt; \r\n\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;scheduledDate&quot;&gt;Scheduled Date&lt;/label&gt;\r\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.scheduledDate}}&quot; name=&quot;scheduledDate&quot; class=&quot;form-control&quot; id=&quot;scheduledDate&quot; placeholder=&quot;scheduledDate&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;assignedTeamId&quot;&gt;Assigned Team Id&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedTeamId}}&quot; name=&quot;assignedTeamId&quot; class=&quot;form-control&quot; id=&quot;assignedTeamId&quot; placeholder=&quot;assignedTeamId&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;assignedVehicle&quot;&gt;Assigned Vehicle&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedVehicle}}&quot; name=&quot;assignedVehicle&quot; class=&quot;form-control&quot; id=&quot;assignedVehicle&quot; name=&quot;assignedVehicle&quot; placeholder=&quot;assignedVehicle&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;dateRange&quot;&gt;End Date&lt;/label&gt;\r\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.dateRange}}&quot; name=&quot;dateRange&quot; class=&quot;form-control&quot; id=&quot;dateRange&quot; placeholder=&quot;dateRange&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;form-group&quot;&gt;\r\n                    &lt;label for=&quot;state&quot;&gt;Status&lt;/label&gt;\r\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.state}}&quot; name=&quot;state&quot; class=&quot;form-control&quot; id=&quot;state&quot; placeholder=&quot;state&quot;&gt;\r\n                 &lt;/div&gt;\r\n                 &lt;div class=&quot;modal-footer&quot;&gt;\r\n                    &lt;button type=&quot;button&quot; id=&quot;&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-secondary&quot;&gt;Close&lt;/button&gt;\r\n                    &lt;button (click)=&quot;onUpdateSiteVisit(editForm.value)&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-primary&quot;&gt;\r\n                        Save changes\r\n                      &lt;/button&gt;\r\n                      &lt;p *ngIf=&quot;!editSiteVisits?.siteVisitId&quot; class=&quot;text-danger&quot;&gt;Please enter a siteVisitId.&lt;/p&gt;\r\n                      \r\n                 &lt;/div&gt;\r\n              &lt;/form&gt;\r\n           &lt;/div&gt;\r\n        &lt;/div&gt;\r\n     &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n```\r\n\r\nComponent.ts\r\n\r\n```\r\n   //Edit asite visit\r\n  public onUpdateSiteVisit(siteVisit: SiteVisit): void {\r\n    \r\n    this.siteVisitService.updateSiteVisit(siteVisit).subscribe(\r\n      (response: SiteVisit) =&gt; {\r\n        console.log(response);\r\n        this.getSiteVisits();\r\n        \r\n      \r\n      },\r\n      (error: HttpErrorResponse) =&gt; {\r\n        alert(error.message);\r\n      }\r\n    );\r\n  }\r\n```\r\n\r\n","title":"Way to Edit data without changing current Site Visit ID Using Angular+ Spring boot+ MySQL","body":"<p>I am coding a web application for a service management system. Here, I need to create site visits.</p>\n<p>Once I create a site visit, It should be enabled for editing and the editing should be done according to the site Visit Id. The Site visit ID should not be changed. Therefore, I tried to code an auto-fill feature for the site visit ID and remove the text box that allows entering the site visit id in the editing forum. However, the changes I made during editing were not saved.</p>\n<p>Then, I attempted another method. If I enter an incorrect site visit Id, then it should not be changed and It should be displayed as &quot;Incorrect site visit ID &quot;. Now all the changes done by me are saved properly when site visit ID is correct. But still it doesn't display the message &quot; Incorrect site visit ID&quot; when the ID is incorrect. Instead It gives the message &quot;Http failure response for http://localhost:8080/siteVisit/update: 500 OK &quot;. Additionally If the incorrect site visit ID is available in another site visit that I created previously, the data according to that site visit id is changed.</p>\n<p>I need to fix these errors. I used Angular , spring boot and MySQL for development. Please help me because I am a beginner. <a href=\"https://i.stack.imgur.com/4A2Ek.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4A2Ek.png\" alt=\"enter image description here\" /></a></p>\n<p>Backend\nSiteVisitResource.java</p>\n<pre><code>        @PutMapping(&quot;/update&quot;)\n        public ResponseEntity&lt;SiteVisit&gt;updateSiteVisit(@RequestBody SiteVisit siteVisit){\n            SiteVisit updateSiteVisit=siteVisitService.updateSiteVisit(siteVisit);\n            return new ResponseEntity&lt;&gt;(updateSiteVisit, HttpStatus.CREATED);\n\n        }\n</code></pre>\n<p>SitVisitService.java</p>\n<pre><code>        public SiteVisit updateSiteVisit(SiteVisit siteVisit){\n\n            return siteVisitRepo.save(siteVisit);\n        }\n</code></pre>\n<p>Frontend\nComponent.html</p>\n<pre><code>\n&lt;!-- Edit Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;updateSiteVisitModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;siteVisitEditModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n           &lt;div class=&quot;modal-header&quot;&gt;\n              &lt;h5 class=&quot;modal-title&quot; id=&quot;updateSiteVisitModalLabel&quot;&gt;Edit Site Visit {{editSiteVisits?.siteVisitId}}&lt;/h5&gt;\n              &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n              &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n              &lt;/button&gt;\n           &lt;/div&gt;\n\n           &lt;div class=&quot;modal-body&quot;&gt;\n              &lt;form #editForm=&quot;ngForm&quot;&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;name&quot;&gt;SiteVisitId&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.siteVisitId}}&quot; name=&quot;siteVisitId&quot; class=&quot;form-control&quot; id=&quot;siteVisitId&quot; aria-describedby=&quot;emailHelp&quot; placeholder=&quot;siteVisitId&quot;&gt;\n                  &lt;/div&gt; \n\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;scheduledDate&quot;&gt;Scheduled Date&lt;/label&gt;\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.scheduledDate}}&quot; name=&quot;scheduledDate&quot; class=&quot;form-control&quot; id=&quot;scheduledDate&quot; placeholder=&quot;scheduledDate&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;assignedTeamId&quot;&gt;Assigned Team Id&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedTeamId}}&quot; name=&quot;assignedTeamId&quot; class=&quot;form-control&quot; id=&quot;assignedTeamId&quot; placeholder=&quot;assignedTeamId&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;assignedVehicle&quot;&gt;Assigned Vehicle&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.assignedVehicle}}&quot; name=&quot;assignedVehicle&quot; class=&quot;form-control&quot; id=&quot;assignedVehicle&quot; name=&quot;assignedVehicle&quot; placeholder=&quot;assignedVehicle&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;dateRange&quot;&gt;End Date&lt;/label&gt;\n                    &lt;input type=&quot;date&quot; ngModel=&quot;{{editSiteVisits?.dateRange}}&quot; name=&quot;dateRange&quot; class=&quot;form-control&quot; id=&quot;dateRange&quot; placeholder=&quot;dateRange&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;state&quot;&gt;Status&lt;/label&gt;\n                    &lt;input type=&quot;text&quot; ngModel=&quot;{{editSiteVisits?.state}}&quot; name=&quot;state&quot; class=&quot;form-control&quot; id=&quot;state&quot; placeholder=&quot;state&quot;&gt;\n                 &lt;/div&gt;\n                 &lt;div class=&quot;modal-footer&quot;&gt;\n                    &lt;button type=&quot;button&quot; id=&quot;&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-secondary&quot;&gt;Close&lt;/button&gt;\n                    &lt;button (click)=&quot;onUpdateSiteVisit(editForm.value)&quot; data-dismiss=&quot;modal&quot; class=&quot;btn btn-primary&quot;&gt;\n                        Save changes\n                      &lt;/button&gt;\n                      &lt;p *ngIf=&quot;!editSiteVisits?.siteVisitId&quot; class=&quot;text-danger&quot;&gt;Please enter a siteVisitId.&lt;/p&gt;\n                      \n                 &lt;/div&gt;\n              &lt;/form&gt;\n           &lt;/div&gt;\n        &lt;/div&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n\n</code></pre>\n<p>Component.ts</p>\n<pre><code>   //Edit asite visit\n  public onUpdateSiteVisit(siteVisit: SiteVisit): void {\n    \n    this.siteVisitService.updateSiteVisit(siteVisit).subscribe(\n      (response: SiteVisit) =&gt; {\n        console.log(response);\n        this.getSiteVisits();\n        \n      \n      },\n      (error: HttpErrorResponse) =&gt; {\n        alert(error.message);\n      }\n    );\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin","rounding"],"comments":[{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":72,"creation_date":1519744319,"post_id":49011924,"comment_id":85028397,"body_markdown":"Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect.","body":"Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect."},{"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"score":0,"creation_date":1519744600,"post_id":49011924,"comment_id":85028613,"body_markdown":"It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1","body":"It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":11,"creation_date":1519744701,"post_id":49011924,"comment_id":85028678,"body_markdown":"Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit.","body":"Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit."},{"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"score":0,"creation_date":1519744855,"post_id":49011924,"comment_id":85028772,"body_markdown":"Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this.","body":"Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1519744939,"post_id":49011924,"comment_id":85028830,"body_markdown":"Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it.","body":"Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it."},{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":26,"creation_date":1519745111,"post_id":49011924,"comment_id":85028949,"body_markdown":"There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality.","body":"There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality."},{"owner":{"account_id":5872668,"reputation":519,"user_id":4624524,"accept_rate":80,"display_name":"Felipe Andrade"},"score":13,"creation_date":1538518203,"post_id":49011924,"comment_id":92168324,"body_markdown":"You&#39;re looking for a Ceiling and not a Round","body":"You&#39;re looking for a Ceiling and not a Round"},{"owner":{"account_id":5372553,"reputation":3631,"user_id":4280615,"accept_rate":73,"display_name":"Nate Vaughan"},"score":2,"creation_date":1574976291,"post_id":49011924,"comment_id":104425955,"body_markdown":"@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1","body":"@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1"},{"owner":{"display_name":"user3386180"},"score":0,"creation_date":1613137424,"post_id":49011924,"comment_id":116990298,"body_markdown":"@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments. \n\nFor anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation.","body":"@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments.   For anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation."},{"owner":{"account_id":26155,"reputation":7677,"user_id":67808,"accept_rate":64,"display_name":"Dmitry Brant"},"score":2,"creation_date":1613140717,"post_id":49011924,"comment_id":116991801,"body_markdown":"@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not *at all* clear from the question that this is what OP wants.","body":"@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not <i>at all</i> clear from the question that this is what OP wants."},{"owner":{"display_name":"user3386180"},"score":1,"creation_date":1613142573,"post_id":49011924,"comment_id":116992671,"body_markdown":"@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way.","body":"@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way."}],"answers":[{"tags":[],"owner":{"account_id":2527365,"reputation":142511,"user_id":2196460,"accept_rate":93,"display_name":"hotkey"},"comment_count":0,"down_vote_count":3,"up_vote_count":65,"is_accepted":false,"score":62,"last_activity_date":1519746785,"creation_date":1519745402,"answer_id":49012345,"question_id":49011924,"body_markdown":"The [`BigDecimal`][1] rounding features several [`RoundingMode`][2]s, including those rounding up (away from zero) or towards positive infinity. If that&#39;s what you need, you can perform rounding by calling [`setScale`][3] as follows:\r\n\r\n    val number = 0.0449999\r\n    val rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\r\n    println(rounded) // 0.1\r\n\r\nNote, however, that it works in a way that will also round anything between `0.0` and `0.1` to `0.1` (e.g. `0.00001` → `0.1`).\r\n\r\n&lt;sup&gt;The [`.toBigDecimal()`][4] extension is available [since Kotlin 1.2][5].&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\r\n  [4]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\r\n  [5]: https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> rounding features several <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\"><code>RoundingMode</code></a>s, including those rounding up (away from zero) or towards positive infinity. If that's what you need, you can perform rounding by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\" rel=\"noreferrer\"><code>setScale</code></a> as follows:</p>\n\n<pre><code>val number = 0.0449999\nval rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\nprintln(rounded) // 0.1\n</code></pre>\n\n<p>Note, however, that it works in a way that will also round anything between <code>0.0</code> and <code>0.1</code> to <code>0.1</code> (e.g. <code>0.00001</code> → <code>0.1</code>).</p>\n\n<p><sup>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\" rel=\"noreferrer\"><code>.toBigDecimal()</code></a> extension is available <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal\" rel=\"noreferrer\">since Kotlin 1.2</a>.</sup></p>\n"},{"comments":[{"owner":{"account_id":1054762,"reputation":1539,"user_id":1057740,"accept_rate":100,"display_name":"A.Alqadomi"},"score":18,"creation_date":1552462218,"post_id":49432344,"comment_id":97013419,"body_markdown":"One important note to the &quot;Answer 1&quot; it caused my application to crash when i changed language to arabic . the .toDouble() crashed because the number was formatted in arabic (something like this ١٦.٣٤٥٣)","body":"One important note to the &quot;Answer 1&quot; it caused my application to crash when i changed language to arabic . the .toDouble() crashed because the number was formatted in arabic (something like this ١٦.٣٤٥٣)"},{"owner":{"account_id":11811298,"reputation":1336,"user_id":8642686,"display_name":"paul_f"},"score":0,"creation_date":1654533670,"post_id":49432344,"comment_id":128108004,"body_markdown":"1 is risky with localisation","body":"1 is risky with localisation"},{"owner":{"account_id":11811298,"reputation":1336,"user_id":8642686,"display_name":"paul_f"},"score":0,"creation_date":1654534227,"post_id":49432344,"comment_id":128108174,"body_markdown":"You can probably save 1000s of crashes here if you update to add DecimalFormatSymbols(Locale.ENGLISH)","body":"You can probably save 1000s of crashes here if you update to add DecimalFormatSymbols(Locale.ENGLISH)"}],"tags":[],"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"comment_count":3,"down_vote_count":8,"up_vote_count":167,"is_accepted":true,"score":159,"last_activity_date":1586515931,"creation_date":1521731880,"answer_id":49432344,"question_id":49011924,"body_markdown":"Finally I did what `Andy Turner` suggested, rounded to 3 decimals, then to 2 and then to 1:\r\n\r\n**Answer 1:**\r\n\r\n    val number:Double = 0.0449999\r\n    val number3digits:Double = String.format(&quot;%.3f&quot;, number).toDouble()\r\n    val number2digits:Double = String.format(&quot;%.2f&quot;, number3digits).toDouble()\r\n    val solution:Double = String.format(&quot;%.1f&quot;, number2digits).toDouble()\r\n\r\n**Answer 2:**\r\n\r\n    val number:Double = 0.0449999\r\n    val number3digits:Double = Math.round(number * 1000.0) / 1000.0\r\n    val number2digits:Double = Math.round(number3digits * 100.0) / 100.0\r\n    val solution:Double = Math.round(number2digits * 10.0) / 10.0\r\n\r\n**Result**: \r\n\r\n&gt; 0.045 → 0.05 → 0.1\r\n\r\nNote: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Finally I did what <code>Andy Turner</code> suggested, rounded to 3 decimals, then to 2 and then to 1:</p>\n\n<p><strong>Answer 1:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = String.format(\"%.3f\", number).toDouble()\nval number2digits:Double = String.format(\"%.2f\", number3digits).toDouble()\nval solution:Double = String.format(\"%.1f\", number2digits).toDouble()\n</code></pre>\n\n<p><strong>Answer 2:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = Math.round(number * 1000.0) / 1000.0\nval number2digits:Double = Math.round(number3digits * 100.0) / 100.0\nval solution:Double = Math.round(number2digits * 10.0) / 10.0\n</code></pre>\n\n<p><strong>Result</strong>: </p>\n\n<blockquote>\n  <p>0.045 → 0.05 → 0.1</p>\n</blockquote>\n\n<p>Note: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.</p>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"comment_count":0,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1596125383,"creation_date":1533415658,"answer_id":51689453,"question_id":49011924,"body_markdown":"**1. Method (using Noelia&#39;s idea):**\r\n\r\nYou can pass the number of desired decimal places in a string template and make the precision variable this way:\r\n\r\n    fun Number.roundTo(\r\n      numFractionDigits: Int\r\n    ) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\r\n\r\n**2. Method (numeric, no string conversion)**\r\n\r\n    fun Double.roundTo(numFractionDigits: Int): Double {\r\n      val factor = 10.0.pow(numFractionDigits.toDouble())\r\n      return (this * factor).roundToInt() / factor\r\n    }\r\n\r\n&lt;sub&gt;One could create an overload for `Float` as well.&lt;/sub&gt;\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>1. Method (using Noelia's idea):</strong></p>\n<p>You can pass the number of desired decimal places in a string template and make the precision variable this way:</p>\n<pre><code>fun Number.roundTo(\n  numFractionDigits: Int\n) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\n</code></pre>\n<p><strong>2. Method (numeric, no string conversion)</strong></p>\n<pre><code>fun Double.roundTo(numFractionDigits: Int): Double {\n  val factor = 10.0.pow(numFractionDigits.toDouble())\n  return (this * factor).roundToInt() / factor\n}\n</code></pre>\n<p><sub>One could create an overload for <code>Float</code> as well.</sub></p>\n"},{"comments":[{"owner":{"account_id":10364641,"reputation":1607,"user_id":7644072,"display_name":"Robbie Cronin"},"score":0,"creation_date":1553145383,"post_id":54665180,"comment_id":97278910,"body_markdown":"what is the import for DecimalFormat? I can&#39;t find it","body":"what is the import for DecimalFormat? I can&#39;t find it"},{"owner":{"account_id":13640180,"reputation":3514,"user_id":9840325,"display_name":"Gaurang Goda"},"score":1,"creation_date":1553233403,"post_id":54665180,"comment_id":97315678,"body_markdown":"I have used below import to execute the above methods, hope it helps.\n\n1) import java.math.BigDecimal\n2) import java.math.RoundingMode\n3) import java.text.DecimalFormat","body":"I have used below import to execute the above methods, hope it helps.  1) import java.math.BigDecimal 2) import java.math.RoundingMode 3) import java.text.DecimalFormat"},{"owner":{"account_id":11811298,"reputation":1336,"user_id":8642686,"display_name":"paul_f"},"score":2,"creation_date":1560264454,"post_id":54665180,"comment_id":99674353,"body_markdown":"I am getting a crash using this. It can cause an issue where to number is formatted as &quot;4,93&quot;. Crash: Fatal Exception: java.lang.NumberFormatException\nFor input string: &quot;5,79&quot;","body":"I am getting a crash using this. It can cause an issue where to number is formatted as &quot;4,93&quot;. Crash: Fatal Exception: java.lang.NumberFormatException For input string: &quot;5,79&quot;"},{"owner":{"account_id":4436291,"reputation":803,"user_id":3612063,"display_name":"kotoMJ"},"score":8,"creation_date":1586029023,"post_id":54665180,"comment_id":107977074,"body_markdown":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH))","body":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH))"},{"owner":{"account_id":9899385,"reputation":79,"user_id":7329859,"display_name":"Wiktor Kalinowski"},"score":1,"creation_date":1629478003,"post_id":54665180,"comment_id":121705839,"body_markdown":"Do not use. Exception will happen!","body":"Do not use. Exception will happen!"},{"owner":{"account_id":13640180,"reputation":3514,"user_id":9840325,"display_name":"Gaurang Goda"},"score":0,"creation_date":1629915859,"post_id":54665180,"comment_id":121816310,"body_markdown":"@WiktorKalinowski could you please share the exception which comes in this code in the logcat, It will help us to solve the issue.","body":"@WiktorKalinowski could you please share the exception which comes in this code in the logcat, It will help us to solve the issue."},{"owner":{"account_id":5020545,"reputation":287,"user_id":4034143,"display_name":"hmac"},"score":0,"creation_date":1645018717,"post_id":54665180,"comment_id":125758518,"body_markdown":"the examples aren&#39;t clear re rounding modes, &quot;HALF_UP&quot; is standard round to nearest (round up if halfway)","body":"the examples aren&#39;t clear re rounding modes, &quot;HALF_UP&quot; is standard round to nearest (round up if halfway)"}],"tags":[],"owner":{"account_id":13640180,"reputation":3514,"user_id":9840325,"display_name":"Gaurang Goda"},"comment_count":7,"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1592905334,"creation_date":1550044867,"answer_id":54665180,"question_id":49011924,"body_markdown":"I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.\r\n\r\n**If you want the highest value of the 2 digits after decimal use below code.**\r\n\r\n    import java.math.BigDecimal \r\n    import java.math.RoundingMode\r\n    import java.text.DecimalFormat\r\n\r\nhere, **1.45678 = 1.46**\r\n\r\n    fun roundOffDecimal(number: Double): Double? {\r\n        val df = DecimalFormat(&quot;#.##&quot;)\r\n        df.roundingMode = RoundingMode.CEILING\r\n        return df.format(number).toDouble()\r\n    }\r\n**If you want the lowest value of the 2 digits after decimal use below code.**\r\n\r\nhere, **1.45678 = 1.45**\r\n\r\n    fun roundOffDecimal(number: Double): Double? {\r\n        val df = DecimalFormat(&quot;#.##&quot;)\r\n        df.roundingMode = RoundingMode.FLOOR\r\n        return df.format(number).toDouble()\r\n    }\r\n\r\n\r\nHere a list of all available flags: `CEILING`, `DOWN`, `FLOOR`, `HALF_DOWN`, `HALF_EVEN`, `HALF_UP`, `UNNECESSARY`, `UP`\r\n\r\nThe detailed information is given in [docs][1]\r\n\r\n  [1]: https://developer.android.com/reference/java/math/RoundingMode","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.</p>\n<p><strong>If you want the highest value of the 2 digits after decimal use below code.</strong></p>\n<pre><code>import java.math.BigDecimal \nimport java.math.RoundingMode\nimport java.text.DecimalFormat\n</code></pre>\n<p>here, <strong>1.45678 = 1.46</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.CEILING\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p><strong>If you want the lowest value of the 2 digits after decimal use below code.</strong></p>\n<p>here, <strong>1.45678 = 1.45</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.FLOOR\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p>Here a list of all available flags: <code>CEILING</code>, <code>DOWN</code>, <code>FLOOR</code>, <code>HALF_DOWN</code>, <code>HALF_EVEN</code>, <code>HALF_UP</code>, <code>UNNECESSARY</code>, <code>UP</code></p>\n<p>The detailed information is given in <a href=\"https://developer.android.com/reference/java/math/RoundingMode\" rel=\"noreferrer\">docs</a></p>\n"},{"comments":[{"owner":{"account_id":4436291,"reputation":803,"user_id":3612063,"display_name":"kotoMJ"},"score":11,"creation_date":1586028767,"post_id":59513133,"comment_id":107976991,"body_markdown":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException\nFor input string: &quot;0,1&quot; . In order to prevent this issue use &quot;%.${n}f&quot;.format(Locale.ENGLISH,this).toFloat()","body":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use &quot;%.${n}f&quot;.format(Locale.ENGLISH,this).toFloat()"}],"tags":[],"owner":{"account_id":15908560,"reputation":1023,"user_id":11479058,"display_name":"Ignacio Garcia"},"comment_count":1,"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1592828632,"creation_date":1577553300,"answer_id":59513133,"question_id":49011924,"body_markdown":"An example of extension functions for Float and Double, round to n decimal positions.\r\n\r\n    fun Float.roundTo(n : Int) : Float {\r\n        return &quot;%.${n}f&quot;.format(this).toFloat()\r\n    }\r\n\r\n    fun Double.roundTo(n : Int) : Double {\r\n        return &quot;%.${n}f&quot;.format(this).toDouble()\r\n    }\r\n\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>An example of extension functions for Float and Double, round to n decimal positions.</p>\n<pre><code>fun Float.roundTo(n : Int) : Float {\n    return &quot;%.${n}f&quot;.format(this).toFloat()\n}\n\nfun Double.roundTo(n : Int) : Double {\n    return &quot;%.${n}f&quot;.format(this).toDouble()\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6432090,"reputation":789,"user_id":5663340,"display_name":"Jim Ovejera"},"score":0,"creation_date":1665326995,"post_id":61033820,"comment_id":130669198,"body_markdown":"Why not use `Locale.getDefault`?","body":"Why not use <code>Locale.getDefault</code>?"},{"owner":{"account_id":4436291,"reputation":803,"user_id":3612063,"display_name":"kotoMJ"},"score":1,"creation_date":1665414571,"post_id":61033820,"comment_id":130689023,"body_markdown":"@JimOvejera because in formatting you expect a dot in the format. You can be sure English has the dot. But for default locale, when user has for example Portugies locale you get coma in the number so the formatting will fail.","body":"@JimOvejera because in formatting you expect a dot in the format. You can be sure English has the dot. But for default locale, when user has for example Portugies locale you get coma in the number so the formatting will fail."}],"tags":[],"owner":{"account_id":4436291,"reputation":803,"user_id":3612063,"display_name":"kotoMJ"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1586335182,"creation_date":1586029413,"answer_id":61033820,"question_id":49011924,"body_markdown":"**Always beware of Locale!**\r\n\r\nWith unspecified locale you can get occasional issue (e.g. with Portugies locale) such as\r\n```\r\nFatal Exception: java.lang.NumberFormatException\r\nFor input string: &quot;0,1&quot;\r\n``` \r\n**1. Solution using DecimalFormat approach**\r\n\r\n``` \r\nfun Float.roundToOneDecimalPlace(): Float {\r\n\tval df = DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH)).apply {\r\n\t\troundingMode = RoundingMode.HALF_UP\r\n\t}\r\n\treturn df.format(this).toFloat()\r\n}\r\n```\r\n\r\n\r\n**2. Solution using string format approach**\r\n\r\n```\r\nfun Float.roundTo(decimalPlaces: Int): Float {\r\n\treturn &quot;%.${decimalPlaces}f&quot;.format(Locale.ENGLISH,this).toFloat()\r\n}\r\n```\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>Always beware of Locale!</strong></p>\n\n<p>With unspecified locale you can get occasional issue (e.g. with Portugies locale) such as</p>\n\n<pre><code>Fatal Exception: java.lang.NumberFormatException\nFor input string: \"0,1\"\n</code></pre>\n\n<p><strong>1. Solution using DecimalFormat approach</strong></p>\n\n<pre><code>fun Float.roundToOneDecimalPlace(): Float {\n    val df = DecimalFormat(\"#.#\", DecimalFormatSymbols(Locale.ENGLISH)).apply {\n        roundingMode = RoundingMode.HALF_UP\n    }\n    return df.format(this).toFloat()\n}\n</code></pre>\n\n<p><strong>2. Solution using string format approach</strong></p>\n\n<pre><code>fun Float.roundTo(decimalPlaces: Int): Float {\n    return \"%.${decimalPlaces}f\".format(Locale.ENGLISH,this).toFloat()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14193141,"reputation":5681,"user_id":13098417,"display_name":"Shirsh Shukla"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1610522392,"creation_date":1610522392,"answer_id":65697275,"question_id":49011924,"body_markdown":"Try this,\r\nits work for me\r\n\r\n         val number = 0.045\r\n         var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\r\n         Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Try this,\nits work for me</p>\n<pre><code>     val number = 0.045\n     var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\n     Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14822624,"reputation":101,"user_id":10704407,"display_name":"Toufiqul Haque Mamun"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635135202,"creation_date":1635135202,"answer_id":69702809,"question_id":49011924,"body_markdown":"Try this way for two decimal value return as string\r\n\r\n    private fun getValue(doubleValue: Double): String {\r\n        return String.format(Locale.US, &quot;%.2f&quot;, doubleValue)\r\n    }","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Try this way for two decimal value return as string</p>\n<pre><code>private fun getValue(doubleValue: Double): String {\n    return String.format(Locale.US, &quot;%.2f&quot;, doubleValue)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8323622,"reputation":319,"user_id":6254352,"display_name":"jafar_aml"},"comment_count":0,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1651074967,"creation_date":1638785102,"answer_id":70243733,"question_id":49011924,"body_markdown":"In Kotlin I just use this function:\r\n\r\n    fun roundTheNumber(numInDouble: Double): String {\r\n    \r\n            return &quot;%.2f&quot;.format(numInDouble)\r\n    \r\n        }","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>In Kotlin I just use this function:</p>\n<pre><code>fun roundTheNumber(numInDouble: Double): String {\n\n        return &quot;%.2f&quot;.format(numInDouble)\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860838,"reputation":1261,"user_id":7303915,"display_name":"Usman Zafer"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644508943,"creation_date":1644508943,"answer_id":71068333,"question_id":49011924,"body_markdown":"**For new comers**\r\n\r\n Using String.format for decimal precision can lead to problems for different languages.\r\n\r\nUse the following code to convert Double to as many decimal places as you want.\r\n\r\n    val price = 6.675668\r\n    \r\n    //to convert to 2 decimal places\r\n    totalTime = Math.round(totalTime * 100.0) / 100.00\r\n    // totalTime = 6.68\r\n    \r\n    //to convert to 4 decimal places\r\n    totalTime = Math.round(totalTime * 10000.0) / 10000.00\r\n    // totalTime = 6.6757\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p><strong>For new comers</strong></p>\n<p>Using String.format for decimal precision can lead to problems for different languages.</p>\n<p>Use the following code to convert Double to as many decimal places as you want.</p>\n<pre><code>val price = 6.675668\n\n//to convert to 2 decimal places\ntotalTime = Math.round(totalTime * 100.0) / 100.00\n// totalTime = 6.68\n\n//to convert to 4 decimal places\ntotalTime = Math.round(totalTime * 10000.0) / 10000.00\n// totalTime = 6.6757\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17612183,"reputation":381,"user_id":13413423,"display_name":"Mehranjp73"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648159166,"creation_date":1648159166,"answer_id":71609923,"question_id":49011924,"body_markdown":"Use this extension function:\r\n\r\n    toBigDecimal(MathContext(3, RoundingMode.HALF_EVEN)).toPlainString()","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Use this extension function:</p>\n<pre><code>toBigDecimal(MathContext(3, RoundingMode.HALF_EVEN)).toPlainString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5039612,"reputation":471,"user_id":4047442,"display_name":"Saiful Sazib"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684745745,"creation_date":1684745745,"answer_id":76304484,"question_id":49011924,"body_markdown":"  Use Kotlin Extension Function and then call where you need.\r\n\r\n    fun Double.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n    fun Long.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n    fun Float.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\r\n\r\nExample:\r\n\r\n    val amount = 156.26588\r\n    val roundAmount = amount.roundTo()\r\n    Log.d(&quot;Amount:&quot; &quot;$roundAmount&quot;) // Amount:156.26\r\n\r\n","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>Use Kotlin Extension Function and then call where you need.</p>\n<pre><code>fun Double.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Long.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Float.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\n</code></pre>\n<p>Example:</p>\n<pre><code>val amount = 156.26588\nval roundAmount = amount.roundTo()\nLog.d(&quot;Amount:&quot; &quot;$roundAmount&quot;) // Amount:156.26\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14771414,"reputation":868,"user_id":10667764,"display_name":"Arun Aditya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685885211,"creation_date":1685885211,"answer_id":76400640,"question_id":49011924,"body_markdown":"If You want pure Kotlin solution then you can use ```roundToInt()``` method of Kolin\r\n\r\n```\r\nval result = ((number * 1000).roundToInt())/1000.0\r\n```","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>If You want pure Kotlin solution then you can use <code>roundToInt()</code> method of Kolin</p>\n<pre><code>val result = ((number * 1000).roundToInt())/1000.0\n</code></pre>\n"}],"owner":{"account_id":9605274,"reputation":3846,"user_id":7131507,"display_name":"Noelia"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187783,"favorite_count":0,"down_vote_count":13,"up_vote_count":128,"accepted_answer_id":49432344,"answer_count":13,"score":115,"last_activity_date":1685885211,"creation_date":1519744188,"question_id":49011924,"body_markdown":"I have a Double variable that is `0.0449999` and I would like to round it to 1 decimal place `0.1` .\r\n\r\nI am using Kotlin but the Java solution is also helpful.\r\n\r\n`val number:Double = 0.0449999`\r\n\r\nI tried getting 1 decimal place with these two solutions:\r\n\r\n1. `val solution = Math.round(number * 10.0) / 10.0`\r\n2. `val solution = String.format(&quot;%.1f&quot;, number)`\r\n\r\nThe problem is that I get 0.0 in both cases because it rounds the number from `0.04` to `0.0`. It doesn&#39;t take all decimals and round it.\r\n\r\nI would like to obtain 0.1: `0.045 -&gt; 0.05 -&gt; 0.1`","title":"Round Double to 1 decimal place kotlin: from 0.044999 to 0.1","body":"<p>I have a Double variable that is <code>0.0449999</code> and I would like to round it to 1 decimal place <code>0.1</code> .</p>\n\n<p>I am using Kotlin but the Java solution is also helpful.</p>\n\n<p><code>val number:Double = 0.0449999</code></p>\n\n<p>I tried getting 1 decimal place with these two solutions:</p>\n\n<ol>\n<li><code>val solution = Math.round(number * 10.0) / 10.0</code></li>\n<li><code>val solution = String.format(\"%.1f\", number)</code></li>\n</ol>\n\n<p>The problem is that I get 0.0 in both cases because it rounds the number from <code>0.04</code> to <code>0.0</code>. It doesn't take all decimals and round it.</p>\n\n<p>I would like to obtain 0.1: <code>0.045 -&gt; 0.05 -&gt; 0.1</code></p>\n"},{"tags":["java","kotlin","sparql","graphdb","rdf4j"],"owner":{"account_id":19265827,"reputation":11,"user_id":14080785,"display_name":"Andrea Corradetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685884898,"creation_date":1685876099,"question_id":76400033,"body_markdown":"I&#39;m developing a graphdb plugin using graphdb&#39;s Plugin API.\r\n\r\nI need my plugin to retrieve some statements from the current active graphdb repository to process them further.\r\nI want to make a query with this format:\r\n\r\n```\r\nPREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;\r\nPREFIX owl: &lt;http://www.w3.org/2002/07/owl#&gt;\r\nprefix proof: &lt;http://www.ontotext.com/proof/&gt;\r\nselect ?rule ?s ?p ?o ?context where {\r\n    values (?subject ?predicate ?object) {(&lt;urn:Mary&gt; &lt;urn:hasChild&gt; &lt;urn:John&gt;)}\r\n    ?ctx proof:explain (?subject ?predicate ?object) .\r\n    ?ctx proof:rule ?rule .\r\n    ?ctx proof:subject ?s .\r\n    ?ctx proof:predicate ?p .\r\n    ?ctx proof:object ?o .\r\n    ?ctx proof:context ?context .\r\n}\r\n```\r\n\r\nIf it&#39;s relevant, the stated query should be handled by another plugin: [the proof plugin](https://github.com/Ontotext-AD/graphdb-proof-plugin).  \r\nThis should happen automatically if the query is formulated correctly and the plugin is active and running on the repository.\r\n\r\n\r\nRDF4J offers some classes to formulate and send queries to a `RepositoryConnection` object. \r\n\r\n```\r\nRepository db = new SailRepository(new MemoryStore());\r\n\r\n// Open a connection to the database\r\ntry (RepositoryConnection conn = db.getConnection()) {\r\n  String filename = &quot;example-data-artists.ttl&quot;;\r\n  try (InputStream input = Example15SimpleSPARQLQuery.class.getResourceAsStream(&quot;/&quot; + filename)) {\r\n    // add the RDF data from the inputstream directly to our database\r\n    conn.add(input, &quot;&quot;, RDFFormat.TURTLE);\r\n  }\r\n\r\n  // We do a simple SPARQL SELECT-query that retrieves all resources of type `ex:Artist`,\r\n  // and their first names.\r\n  String queryString = &quot;PREFIX ex: &lt;http://example.org/&gt; \\n&quot;;\r\n  queryString += &quot;PREFIX foaf: &lt;&quot; + FOAF.NAMESPACE + &quot;&gt; \\n&quot;;\r\n  queryString += &quot;SELECT ?s ?n \\n&quot;;\r\n  queryString += &quot;WHERE { \\n&quot;;\r\n  queryString += &quot;    ?s a ex:Artist; \\n&quot;;\r\n  queryString += &quot;       foaf:firstName ?n .&quot;;\r\n  queryString += &quot;}&quot;;\r\n\r\n  TupleQuery query = conn.prepareTupleQuery(queryString);\r\n\r\n  // A QueryResult is also an AutoCloseable resource, so make sure it gets closed when done.\r\n  try (TupleQueryResult result = query.evaluate()) {\r\n    // we just iterate over all solutions in the result...\r\n    for (BindingSet solution : result) {\r\n      // ... and print out the value of the variable binding for ?s and ?n\r\n      System.out.println(&quot;?s = &quot; + solution.getValue(&quot;s&quot;));\r\n      System.out.println(&quot;?n = &quot; + solution.getValue(&quot;n&quot;));\r\n    }\r\n  }\r\n} finally {\r\n  // Before our program exits, make sure the database is properly shut down.\r\n  db.shutDown();\r\n}\r\n```\r\n\r\nThe first issue is that I haven&#39;t found a way to get an object of the correct type pointing to the current working repository for graphdb.  \r\nThe plugin API works with a `PluginConnection` object ([documented here](https://graphdb.ontotext.com/documentation/10.0/plug-in-api.html#repository-internals)) offering some utilities, but which does not seem to allow this kind of interfacing.  \r\nI was able to list all repositories present at localhost:7200, but I don&#39;t know how to distinguish the current working repository; if I want access to a repository I must know its id/name which is user-defined.\r\n\r\n[The docs show a possible solution using configuration files](https://graphdb.ontotext.com/documentation/10.0/using-graphdb-with-the-rdf4j-api.html).  \r\nI don&#39;t think I can rely on those. I can&#39;t be sure of where they are placed in a graphdb installation and it seems impractical in the context of a plugin.  \r\nAlso, they don&#39;t seem to show which repository is currently being queried.\r\n\r\nI have considered using the `getStatements()` function offered by `PluginConnection`. This allows for some basic filtering based on subject, predicate and object.  \r\nI find this insufficient for 2 reasons:\r\n1. I don&#39;t know how to use it to reproduce the behavior of more complex queries like the one above\r\n2. I can&#39;t use rdf lists in the object like this `?ctx proof:explain (?subject ?predicate ?object) .`\r\n\r\n\r\n","title":"How can I make sparql queries to the active repository from a graphdb plugin in java/kotlin?","body":"<p>I'm developing a graphdb plugin using graphdb's Plugin API.</p>\n<p>I need my plugin to retrieve some statements from the current active graphdb repository to process them further.\nI want to make a query with this format:</p>\n<pre><code>PREFIX rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;\nPREFIX owl: &lt;http://www.w3.org/2002/07/owl#&gt;\nprefix proof: &lt;http://www.ontotext.com/proof/&gt;\nselect ?rule ?s ?p ?o ?context where {\n    values (?subject ?predicate ?object) {(&lt;urn:Mary&gt; &lt;urn:hasChild&gt; &lt;urn:John&gt;)}\n    ?ctx proof:explain (?subject ?predicate ?object) .\n    ?ctx proof:rule ?rule .\n    ?ctx proof:subject ?s .\n    ?ctx proof:predicate ?p .\n    ?ctx proof:object ?o .\n    ?ctx proof:context ?context .\n}\n</code></pre>\n<p>If it's relevant, the stated query should be handled by another plugin: <a href=\"https://github.com/Ontotext-AD/graphdb-proof-plugin\" rel=\"nofollow noreferrer\">the proof plugin</a>.<br />\nThis should happen automatically if the query is formulated correctly and the plugin is active and running on the repository.</p>\n<p>RDF4J offers some classes to formulate and send queries to a <code>RepositoryConnection</code> object.</p>\n<pre><code>Repository db = new SailRepository(new MemoryStore());\n\n// Open a connection to the database\ntry (RepositoryConnection conn = db.getConnection()) {\n  String filename = &quot;example-data-artists.ttl&quot;;\n  try (InputStream input = Example15SimpleSPARQLQuery.class.getResourceAsStream(&quot;/&quot; + filename)) {\n    // add the RDF data from the inputstream directly to our database\n    conn.add(input, &quot;&quot;, RDFFormat.TURTLE);\n  }\n\n  // We do a simple SPARQL SELECT-query that retrieves all resources of type `ex:Artist`,\n  // and their first names.\n  String queryString = &quot;PREFIX ex: &lt;http://example.org/&gt; \\n&quot;;\n  queryString += &quot;PREFIX foaf: &lt;&quot; + FOAF.NAMESPACE + &quot;&gt; \\n&quot;;\n  queryString += &quot;SELECT ?s ?n \\n&quot;;\n  queryString += &quot;WHERE { \\n&quot;;\n  queryString += &quot;    ?s a ex:Artist; \\n&quot;;\n  queryString += &quot;       foaf:firstName ?n .&quot;;\n  queryString += &quot;}&quot;;\n\n  TupleQuery query = conn.prepareTupleQuery(queryString);\n\n  // A QueryResult is also an AutoCloseable resource, so make sure it gets closed when done.\n  try (TupleQueryResult result = query.evaluate()) {\n    // we just iterate over all solutions in the result...\n    for (BindingSet solution : result) {\n      // ... and print out the value of the variable binding for ?s and ?n\n      System.out.println(&quot;?s = &quot; + solution.getValue(&quot;s&quot;));\n      System.out.println(&quot;?n = &quot; + solution.getValue(&quot;n&quot;));\n    }\n  }\n} finally {\n  // Before our program exits, make sure the database is properly shut down.\n  db.shutDown();\n}\n</code></pre>\n<p>The first issue is that I haven't found a way to get an object of the correct type pointing to the current working repository for graphdb.<br />\nThe plugin API works with a <code>PluginConnection</code> object (<a href=\"https://graphdb.ontotext.com/documentation/10.0/plug-in-api.html#repository-internals\" rel=\"nofollow noreferrer\">documented here</a>) offering some utilities, but which does not seem to allow this kind of interfacing.<br />\nI was able to list all repositories present at localhost:7200, but I don't know how to distinguish the current working repository; if I want access to a repository I must know its id/name which is user-defined.</p>\n<p><a href=\"https://graphdb.ontotext.com/documentation/10.0/using-graphdb-with-the-rdf4j-api.html\" rel=\"nofollow noreferrer\">The docs show a possible solution using configuration files</a>.<br />\nI don't think I can rely on those. I can't be sure of where they are placed in a graphdb installation and it seems impractical in the context of a plugin.<br />\nAlso, they don't seem to show which repository is currently being queried.</p>\n<p>I have considered using the <code>getStatements()</code> function offered by <code>PluginConnection</code>. This allows for some basic filtering based on subject, predicate and object.<br />\nI find this insufficient for 2 reasons:</p>\n<ol>\n<li>I don't know how to use it to reproduce the behavior of more complex queries like the one above</li>\n<li>I can't use rdf lists in the object like this <code>?ctx proof:explain (?subject ?predicate ?object) .</code></li>\n</ol>\n"},{"tags":["java","arrays","json","org.json"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685870090,"post_id":76399561,"comment_id":134718920,"body_markdown":"You should be using a `JSONArray` as the value of the `Blocks` field.","body":"You should be using a <code>JSONArray</code> as the value of the <code>Blocks</code> field."},{"owner":{"account_id":13605092,"reputation":57,"user_id":9885009,"display_name":"Hamid"},"score":0,"creation_date":1685884662,"post_id":76399561,"comment_id":134720374,"body_markdown":"@TimMoore Thanks, Already I used `JSONArray`. But the challenge is inside the `blocks`, I need to append some json data inside the `blocks`.","body":"@TimMoore Thanks, Already I used <code>JSONArray</code>. But the challenge is inside the <code>blocks</code>, I need to append some json data inside the <code>blocks</code>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1685885266,"post_id":76399561,"comment_id":134720432,"body_markdown":"I&#39;d suggest using regular arraylist/objects. Then if you want JSON, using Jackson/Gson. Keep in mind, Java doesn&#39;t have string interpolation, so `${link}` isn&#39;t doing what you think","body":"I&#39;d suggest using regular arraylist/objects. Then if you want JSON, using Jackson/Gson. Keep in mind, Java doesn&#39;t have string interpolation, so <code>${link}</code> isn&#39;t doing what you think"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1685915905,"post_id":76399561,"comment_id":134723905,"body_markdown":"It looks like Groovy code. Java also doesn’t have an each method on lists or use that lambda syntax.","body":"It looks like Groovy code. Java also doesn’t have an each method on lists or use that lambda syntax."}],"owner":{"account_id":13605092,"reputation":57,"user_id":9885009,"display_name":"Hamid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685884893,"creation_date":1685867994,"question_id":76399561,"body_markdown":"I need to implement a Java method to return a JSON. Here is the desired JSON output that I need to produce.\r\n```\r\n{\r\n  &quot;channel&quot;: &quot;channelId&quot;,\r\n  &quot;thread_ts&quot;: &quot;threadId&quot;,\r\n  &quot;reply_broadcast&quot;: true,\r\n  &quot;attachments&quot;: [{\r\n    &quot;color&quot;: &quot;#2F8AB7&quot;,\r\n    &quot;blocks&quot;: [{\r\n        &quot;type&quot;: &quot;divider&quot;\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test header text&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;divider&quot;\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test text 01&quot;\r\n        },\r\n        &quot;accessory&quot;: {\r\n          &quot;type&quot;: &quot;button&quot;,\r\n          &quot;text&quot;: {\r\n            &quot;type&quot;: &quot;plain_text&quot;,\r\n            &quot;text&quot;: &quot;Click Here&quot;,\r\n            &quot;emoji&quot;: true\r\n          },\r\n          &quot;url&quot;: &quot;https://mycompany.com/link1&quot;\r\n        }\r\n      },\r\n      {\r\n        &quot;type&quot;: &quot;section&quot;,\r\n        &quot;text&quot;: {\r\n          &quot;type&quot;: &quot;mrkdwn&quot;,\r\n          &quot;text&quot;: &quot;Test text 02&quot;\r\n        },\r\n        &quot;accessory&quot;: {\r\n          &quot;type&quot;: &quot;button&quot;,\r\n          &quot;text&quot;: {\r\n            &quot;type&quot;: &quot;plain_text&quot;,\r\n            &quot;text&quot;: &quot;Click Here&quot;,\r\n            &quot;emoji&quot;: true\r\n          },\r\n          &quot;url&quot;: &quot;https://mycompany.com/link2&quot;\r\n        }\r\n      }\r\n    ]\r\n  }]\r\n}\r\n```\r\nFor this aim, I&#39;ve used `JSONObject` and `JSONArray` (`org.json`). Here is the particular section of this JSON which must be dynamic and extendable.\r\n```\r\n{\r\n  &quot;type&quot;:&quot;section&quot;,\r\n  &quot;text&quot;:{\r\n    &quot;type&quot;:&quot;mrkdwn&quot;,\r\n    &quot;text&quot;:&quot;Test text 03&quot;\r\n  },\r\n  &quot;accessory&quot;:{\r\n    &quot;type&quot;:&quot;button&quot;,\r\n    &quot;text&quot;:{\r\n      &quot;type&quot;:&quot;plain_text&quot;,\r\n      &quot;text&quot;:&quot;Click Here&quot;,\r\n      &quot;emoji&quot;:true\r\n    },\r\n    &quot;url&quot;:&quot;https://mycompany.com/link3&quot;\r\n  }\r\n}\r\n```\r\nThe problem is, merging/appending two `JSONObject`s together is not possible without defining the &#39;key&#39;. How can I add the dynamic part to the JSON.\r\n```java\r\nprivate JSONObject produceJsonBlock(final List&lt;String&gt; links) {\r\n    JSONObject jsonObject = new JSONObject()\r\n            .put(&quot;channel&quot;, &quot;channelId&quot;)\r\n            .put(&quot;thread_ts&quot;, &quot;threadId&quot;)\r\n            .put(&quot;reply_broadcast&quot;, &quot;broadcast&quot;)\r\n            .put(&quot;attachments&quot;, new JSONArray()\r\n                    .put(0, new JSONObject()\r\n                            .put(&quot;color&quot;, &quot;colorMessage&quot;)\r\n                            .put(&quot;blocks&quot;, new JSONArray()\r\n                                    .put(0, new JSONObject()\r\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\r\n                                            .put(&quot;type&quot;, &quot;section&quot;)\r\n                                            .put(&quot;text&quot;, new JSONObject()\r\n                                                    .put(&quot;type&quot;, &quot;mrkdwn&quot;)\r\n                                                    .put(&quot;text&quot;, &quot;&quot;)\r\n                                            )\r\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\r\n                                    )\r\n                            )\r\n                    )\r\n            )\r\n\r\n    links.each { final String link -&gt;\r\n        JSONObject linksJson = new JSONObject()\r\n                .put(&quot;type&quot;, &quot;section&quot;)\r\n                .put(&quot;text&quot;, new JSONObject()\r\n                        .put(&quot;type&quot;, &quot;mrkdwn&quot;)\r\n                        .put(&quot;text&quot;, &quot;Test text ...&quot;)\r\n                )\r\n                .put(&quot;accessory&quot;, new JSONObject()\r\n                        .put(&quot;type&quot;, &quot;button&quot;)\r\n                        .put(&quot;text&quot;, &quot;Click Here&quot;)\r\n                        .put(&quot;emoji&quot;, true)\r\n                        .put(&quot;url&quot;, &quot;https://mycompany.com/${link}&quot;)\r\n                )\r\n        /**\r\n         * ???\r\n         * As I checked jsonObject.append()/jsonObject.put(), they cannot be used. because\r\n         * they don&#39;t accept just a JSONObject without introducing the key.\r\n         * */\r\n\r\n    }\r\n}\r\n```","title":"How to produce a dynamic JSON by JSONObject in Java","body":"<p>I need to implement a Java method to return a JSON. Here is the desired JSON output that I need to produce.</p>\n<pre><code>{\n  &quot;channel&quot;: &quot;channelId&quot;,\n  &quot;thread_ts&quot;: &quot;threadId&quot;,\n  &quot;reply_broadcast&quot;: true,\n  &quot;attachments&quot;: [{\n    &quot;color&quot;: &quot;#2F8AB7&quot;,\n    &quot;blocks&quot;: [{\n        &quot;type&quot;: &quot;divider&quot;\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test header text&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;divider&quot;\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test text 01&quot;\n        },\n        &quot;accessory&quot;: {\n          &quot;type&quot;: &quot;button&quot;,\n          &quot;text&quot;: {\n            &quot;type&quot;: &quot;plain_text&quot;,\n            &quot;text&quot;: &quot;Click Here&quot;,\n            &quot;emoji&quot;: true\n          },\n          &quot;url&quot;: &quot;https://mycompany.com/link1&quot;\n        }\n      },\n      {\n        &quot;type&quot;: &quot;section&quot;,\n        &quot;text&quot;: {\n          &quot;type&quot;: &quot;mrkdwn&quot;,\n          &quot;text&quot;: &quot;Test text 02&quot;\n        },\n        &quot;accessory&quot;: {\n          &quot;type&quot;: &quot;button&quot;,\n          &quot;text&quot;: {\n            &quot;type&quot;: &quot;plain_text&quot;,\n            &quot;text&quot;: &quot;Click Here&quot;,\n            &quot;emoji&quot;: true\n          },\n          &quot;url&quot;: &quot;https://mycompany.com/link2&quot;\n        }\n      }\n    ]\n  }]\n}\n</code></pre>\n<p>For this aim, I've used <code>JSONObject</code> and <code>JSONArray</code> (<code>org.json</code>). Here is the particular section of this JSON which must be dynamic and extendable.</p>\n<pre><code>{\n  &quot;type&quot;:&quot;section&quot;,\n  &quot;text&quot;:{\n    &quot;type&quot;:&quot;mrkdwn&quot;,\n    &quot;text&quot;:&quot;Test text 03&quot;\n  },\n  &quot;accessory&quot;:{\n    &quot;type&quot;:&quot;button&quot;,\n    &quot;text&quot;:{\n      &quot;type&quot;:&quot;plain_text&quot;,\n      &quot;text&quot;:&quot;Click Here&quot;,\n      &quot;emoji&quot;:true\n    },\n    &quot;url&quot;:&quot;https://mycompany.com/link3&quot;\n  }\n}\n</code></pre>\n<p>The problem is, merging/appending two <code>JSONObject</code>s together is not possible without defining the 'key'. How can I add the dynamic part to the JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JSONObject produceJsonBlock(final List&lt;String&gt; links) {\n    JSONObject jsonObject = new JSONObject()\n            .put(&quot;channel&quot;, &quot;channelId&quot;)\n            .put(&quot;thread_ts&quot;, &quot;threadId&quot;)\n            .put(&quot;reply_broadcast&quot;, &quot;broadcast&quot;)\n            .put(&quot;attachments&quot;, new JSONArray()\n                    .put(0, new JSONObject()\n                            .put(&quot;color&quot;, &quot;colorMessage&quot;)\n                            .put(&quot;blocks&quot;, new JSONArray()\n                                    .put(0, new JSONObject()\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\n                                            .put(&quot;type&quot;, &quot;section&quot;)\n                                            .put(&quot;text&quot;, new JSONObject()\n                                                    .put(&quot;type&quot;, &quot;mrkdwn&quot;)\n                                                    .put(&quot;text&quot;, &quot;&quot;)\n                                            )\n                                            .put(&quot;type&quot;, &quot;divider&quot;)\n                                    )\n                            )\n                    )\n            )\n\n    links.each { final String link -&gt;\n        JSONObject linksJson = new JSONObject()\n                .put(&quot;type&quot;, &quot;section&quot;)\n                .put(&quot;text&quot;, new JSONObject()\n                        .put(&quot;type&quot;, &quot;mrkdwn&quot;)\n                        .put(&quot;text&quot;, &quot;Test text ...&quot;)\n                )\n                .put(&quot;accessory&quot;, new JSONObject()\n                        .put(&quot;type&quot;, &quot;button&quot;)\n                        .put(&quot;text&quot;, &quot;Click Here&quot;)\n                        .put(&quot;emoji&quot;, true)\n                        .put(&quot;url&quot;, &quot;https://mycompany.com/${link}&quot;)\n                )\n        /**\n         * ???\n         * As I checked jsonObject.append()/jsonObject.put(), they cannot be used. because\n         * they don't accept just a JSONObject without introducing the key.\n         * */\n\n    }\n}\n</code></pre>\n"},{"tags":["java","hbase","apache-phoenix"],"owner":{"account_id":27860771,"reputation":1,"user_id":21273369,"display_name":"defcharlielin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685884504,"creation_date":1685883684,"question_id":76400553,"body_markdown":"[enter image description here](https://i.stack.imgur.com/hOUAo.png)\r\n[enter image description here](https://i.stack.imgur.com/6uzo0.png)\r\n\r\nMy Hadoop is 3.1.3,HBase is 2.0.5,Phoenix is 5.0.0\r\nWhen i am running Java API code to connect Apache Phoenix in test,output the problem:\r\n```\r\nException in thread &quot;main&quot; java.sql.SQLException: ERROR 2006 (INT08): Incompatible jars detected between client and server. Ensure that phoenix-[version]-server.jar is put on the classpath of HBase in every region server: Failed after attempts=16, exceptions:\r\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\r\n\r\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\r\n\tat org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\r\n\tat org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\r\n\tat org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\r\n\tat org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\r\n\tat org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\r\n\tat org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\r\n```\r\n\r\nBut i have add phoenix-5.0.0-HBase-2.0-server.jar to HBase Classpath,also i add Phoenix driver in pom.xml","title":"Java API connect Apache Phoenix failed,ERROR 2006 (INT08)","body":"<p><a href=\"https://i.stack.imgur.com/hOUAo.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/6uzo0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My Hadoop is 3.1.3,HBase is 2.0.5,Phoenix is 5.0.0\nWhen i am running Java API code to connect Apache Phoenix in test,output the problem:</p>\n<pre><code>Exception in thread &quot;main&quot; java.sql.SQLException: ERROR 2006 (INT08): Incompatible jars detected between client and server. Ensure that phoenix-[version]-server.jar is put on the classpath of HBase in every region server: Failed after attempts=16, exceptions:\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\n\nSun Jun 04 20:48:32 CST 2023, RpcRetryingCaller{globalStartTime=1685882911171, pause=100, maxAttempts=16}, org.apache.hadoop.hbase.NotServingRegionException: org.apache.hadoop.hbase.NotServingRegionException: SYSTEM:CATALOG,,1685627196784.b7ab9fb04c17719c8acf0b428e7343fd. is not online on master.hadoop.com,16020,1685882875673\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegionByEncodedName(HRegionServer.java:3272)\n    at org.apache.hadoop.hbase.regionserver.HRegionServer.getRegion(HRegionServer.java:3249)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.getRegion(RSRpcServices.java:1414)\n    at org.apache.hadoop.hbase.regionserver.RSRpcServices.execService(RSRpcServices.java:2390)\n    at org.apache.hadoop.hbase.shaded.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:42010)\n    at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:413)\n    at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:130)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:324)\n    at org.apache.hadoop.hbase.ipc.RpcExecutor$Handler.run(RpcExecutor.java:304)\n</code></pre>\n<p>But i have add phoenix-5.0.0-HBase-2.0-server.jar to HBase Classpath,also i add Phoenix driver in pom.xml</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1685879600,"post_id":76400283,"comment_id":134719796,"body_markdown":"Please edit your question and provide the entire stack trace, not just the exception line.","body":"Please edit your question and provide the entire stack trace, not just the exception line."},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1685882324,"post_id":76400283,"comment_id":134720085,"body_markdown":"https://en.wikipedia.org/wiki/JavaScript is not https://en.wikipedia.org/wiki/Java_(programming_language) and  not even https://en.wikipedia.org/wiki/Java","body":"<a href=\"https://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JavaScript</a> is not <a href=\"https://en.wikipedia.org/wiki/Java_(programming_language)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_(programming_language)</a> and  not even <a href=\"https://en.wikipedia.org/wiki/Java\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java</a>"},{"owner":{"account_id":24764408,"reputation":306,"user_id":18648400,"display_name":"Mirco0"},"score":0,"creation_date":1685882401,"post_id":76400283,"comment_id":134720093,"body_markdown":"Can you share your `AndroidManifest.xml `?","body":"Can you share your <code>AndroidManifest.xml </code>?"}],"owner":{"account_id":23943407,"reputation":1,"user_id":17936106,"display_name":"pranavh vummidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685883862,"creation_date":1685879568,"question_id":76400283,"body_markdown":"I was creating a messaging app the Haxm was not downloaded  \r\nwhen I Downloaded from a Github link the flamingo software started to crash \r\nthen I deleted the Haxm and tried to run in my phone but launch was successful but app is not opening it says there is a bug Iam new to android studio and I don&#39;t know where to look for bugs in my code because my debugger was clean when I saw my logcat  it showed the following error\r\n: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.\r\n \r\n\r\n```kotlin\r\npackage com.example.chatapplication\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Intent\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.widget.Button\r\nimport android.widget.EditText\r\n\r\n\r\n\r\nprivate lateinit var editemail:EditText\r\nprivate lateinit var editpassword:EditText\r\nprivate lateinit var btn:Button\r\nprivate lateinit var btn2:Button\r\n\r\n\r\n\r\n\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        editemail=findViewById(R.id.email)\r\n        editpassword=findViewById(R.id.password)\r\n        btn=findViewById(R.id.button)\r\n        btn2=findViewById(R.id.button2)\r\n        btn2.setOnClickListener {\r\n            val intent=Intent(this,Signup::class.java) //signup activity is empty xml and java file\r\n            startActivity(intent)\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nactivity_main.xml\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/relative&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;\r\n    &gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/logo&quot;\r\n        android:layout_width=&quot;200dp&quot;\r\n        android:layout_height=&quot;182dp&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;113dp&quot;\r\n        android:layout_marginTop=&quot;26dp&quot;\r\n        android:background=&quot;@drawable/logo&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/email&quot;\r\n        android:layout_width=&quot;405dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_below=&quot;@+id/logo&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginStart=&quot;6dp&quot;\r\n        android:layout_marginLeft=&quot;6dp&quot;\r\n        android:layout_marginTop=&quot;28dp&quot;\r\n        android:layout_marginEnd=&quot;0dp&quot;\r\n        android:layout_marginRight=&quot;6dp&quot;\r\n        android:background=&quot;@drawable/border&quot;\r\n        android:hint=&quot;Email&quot;\r\n        android:paddingLeft=&quot;15dp&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/password&quot;\r\n        android:layout_width=&quot;405dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_below=&quot;@+id/relative&quot;\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_alignParentEnd=&quot;true&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:layout_marginStart=&quot;4dp&quot;\r\n        android:layout_marginLeft=&quot;6dp&quot;\r\n        android:layout_marginTop=&quot;33dp&quot;\r\n        android:layout_marginEnd=&quot;2dp&quot;\r\n        android:layout_marginRight=&quot;6dp&quot;\r\n        android:background=&quot;@drawable/border&quot;\r\n        android:hint=&quot;Password&quot;\r\n        android:paddingLeft=&quot;15dp&quot;\r\n        tools:ignore=&quot;NotSibling&quot; /&gt;\r\n\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;140dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n\r\n\r\n        android:layout_alignParentTop=&quot;true&quot;\r\n\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;497dp&quot;\r\n        android:layout_marginEnd=&quot;116dp&quot;\r\n        android:layout_marginBottom=&quot;186dp&quot;\r\n        android:background=&quot;@drawable/fill&quot;\r\n        android:text=&quot;signup&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button&quot;\r\n        android:layout_width=&quot;150dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;424dp&quot;\r\n        android:layout_marginEnd=&quot;161dp&quot;\r\n        android:layout_marginBottom=&quot;224dp&quot;\r\n        android:background=&quot;@drawable/fill&quot;\r\n        android:text=&quot;Signin&quot; /&gt;\r\n\r\n\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}:","body":"<p>I was creating a messaging app the Haxm was not downloaded<br />\nwhen I Downloaded from a Github link the flamingo software started to crash\nthen I deleted the Haxm and tried to run in my phone but launch was successful but app is not opening it says there is a bug Iam new to android studio and I don't know where to look for bugs in my code because my debugger was clean when I saw my logcat  it showed the following error\n: java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.chatapplication/com.example.chatapplication.MainActivity}: java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activity.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.chatapplication\n\nimport android.annotation.SuppressLint\nimport android.content.Intent\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\n\n\n\nprivate lateinit var editemail:EditText\nprivate lateinit var editpassword:EditText\nprivate lateinit var btn:Button\nprivate lateinit var btn2:Button\n\n\n\n\n\nclass MainActivity : AppCompatActivity() {\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        editemail=findViewById(R.id.email)\n        editpassword=findViewById(R.id.password)\n        btn=findViewById(R.id.button)\n        btn2=findViewById(R.id.button2)\n        btn2.setOnClickListener {\n            val intent=Intent(this,Signup::class.java) //signup activity is empty xml and java file\n            startActivity(intent)\n        }\n\n\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/relative&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;\n    &gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/logo&quot;\n        android:layout_width=&quot;200dp&quot;\n        android:layout_height=&quot;182dp&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;113dp&quot;\n        android:layout_marginTop=&quot;26dp&quot;\n        android:background=&quot;@drawable/logo&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/email&quot;\n        android:layout_width=&quot;405dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_below=&quot;@+id/logo&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginStart=&quot;6dp&quot;\n        android:layout_marginLeft=&quot;6dp&quot;\n        android:layout_marginTop=&quot;28dp&quot;\n        android:layout_marginEnd=&quot;0dp&quot;\n        android:layout_marginRight=&quot;6dp&quot;\n        android:background=&quot;@drawable/border&quot;\n        android:hint=&quot;Email&quot;\n        android:paddingLeft=&quot;15dp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/password&quot;\n        android:layout_width=&quot;405dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_below=&quot;@+id/relative&quot;\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_alignParentEnd=&quot;true&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginLeft=&quot;6dp&quot;\n        android:layout_marginTop=&quot;33dp&quot;\n        android:layout_marginEnd=&quot;2dp&quot;\n        android:layout_marginRight=&quot;6dp&quot;\n        android:background=&quot;@drawable/border&quot;\n        android:hint=&quot;Password&quot;\n        android:paddingLeft=&quot;15dp&quot;\n        tools:ignore=&quot;NotSibling&quot; /&gt;\n\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;140dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n\n\n        android:layout_alignParentTop=&quot;true&quot;\n\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;497dp&quot;\n        android:layout_marginEnd=&quot;116dp&quot;\n        android:layout_marginBottom=&quot;186dp&quot;\n        android:background=&quot;@drawable/fill&quot;\n        android:text=&quot;signup&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;424dp&quot;\n        android:layout_marginEnd=&quot;161dp&quot;\n        android:layout_marginBottom=&quot;224dp&quot;\n        android:background=&quot;@drawable/fill&quot;\n        android:text=&quot;Signin&quot; /&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jakarta-mail","mime-message"],"answers":[{"tags":[],"owner":{"account_id":14838004,"reputation":56,"user_id":10715499,"display_name":"Ken.Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685883861,"creation_date":1685883861,"answer_id":76400564,"question_id":76391900,"body_markdown":"Message use MimeMessage type.\r\n``` java\r\nMessage msg = new MimeMessage(session);\r\n// Set headers for confidentiality\r\nmsg.setHeader(&quot;Sensitivity&quot;, &quot;Company-Confidential&quot;);\r\nmsg.setHeader(&quot;Importance&quot;, &quot;High&quot;);\r\nmsg.setHeader(&quot;Priority&quot;, &quot;1&quot;);\r\n```","title":"How can I classify an email as internal in Outlook when sending it using JavaMail with Java Spring and Spring Boot?","body":"<p>Message use MimeMessage type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message msg = new MimeMessage(session);\n// Set headers for confidentiality\nmsg.setHeader(&quot;Sensitivity&quot;, &quot;Company-Confidential&quot;);\nmsg.setHeader(&quot;Importance&quot;, &quot;High&quot;);\nmsg.setHeader(&quot;Priority&quot;, &quot;1&quot;);\n</code></pre>\n"}],"owner":{"account_id":5134857,"reputation":11,"user_id":4113955,"display_name":"Maddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1685883861,"creation_date":1685722867,"question_id":76391900,"body_markdown":"How to add confidentiality using mime message . \r\n```java\r\nMessage msg = new Message ( session)\r\nmsg. Setfrom(….)\r\nmsg.setReply(…)\r\nmsg. Setsubject(…)\r\n….\r\n```\r\nI tried below and able to get in mail  that “please treat this as private” . \r\nBut this is not what ima trying to get\r\nMsg.Setheader (Sensitivity,”private”);\r\n\r\nWhen we sent a mail via Java mail ,I need to  get mail  classified as internal in my outlook . \r\nCan someone please guide me \r\n \r\nThanks in advance ","title":"How can I classify an email as internal in Outlook when sending it using JavaMail with Java Spring and Spring Boot?","body":"<p>How to add confidentiality using mime message .</p>\n<pre class=\"lang-java prettyprint-override\"><code>Message msg = new Message ( session)\nmsg. Setfrom(….)\nmsg.setReply(…)\nmsg. Setsubject(…)\n….\n</code></pre>\n<p>I tried below and able to get in mail  that “please treat this as private” .\nBut this is not what ima trying to get\nMsg.Setheader (Sensitivity,”private”);</p>\n<p>When we sent a mail via Java mail ,I need to  get mail  classified as internal in my outlook .\nCan someone please guide me</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","multithreading","graphics2d"],"answers":[{"comments":[{"owner":{"account_id":6683309,"reputation":51,"user_id":5155608,"display_name":"Ramirez"},"score":0,"creation_date":1686049934,"post_id":76400540,"comment_id":134742961,"body_markdown":"As you suggest, now I&#39;m using a matrix[size][size] in my Threads and draw the matrix in the paint method. - Works like a charm.","body":"As you suggest, now I&#39;m using a matrix[size][size] in my Threads and draw the matrix in the paint method. - Works like a charm."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685883450,"creation_date":1685883450,"answer_id":76400540,"question_id":76399866,"body_markdown":"I see at least two reasons:\r\n1. `Graphics2D` is an abstract class which is not guaranteed to be thread safe. So executing whatever on it is a mistake in general. It could work in some cases, but doesn&#39;t have to.\r\n\r\n2. Your code is not thread-tolerant itself: `g.setColor(color);` is not atomic/synchronized with a `g.draw(new Rectangle(point));` call. So it would overlap between threads and be executed in an unpredictable order across them like this: \r\n\r\n&gt; thread 1: setColor(color1);\r\n&gt; \r\n&gt; thread 2: setColor(color2);\r\n&gt; \r\n&gt; thread 1: draw() // with color2;\r\n&gt; \r\n&gt; thread 2: draw() // with color2 also;\r\n\r\nSo consider:\r\n1. Synchronize `setColor` with `draw` for example in a basic way:\r\n\r\n\r\n            Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\r\n            synchronized(lockObject) {\r\n                g.setColor(color);\r\n                g.draw(new Rectangle(point));\r\n            }\r\n\r\nwhere the `lockObject` is an object shared between threads\r\n\r\n2. (Recommended) Avoid using `Graphics2D` with multiple threads. Consider doing only your math and other preparations in multiple thread and call `Graphics2D` from a single one. \r\n\r\n\r\n","title":"I&#39;m trying to draw a SRTM3-Tile with Multithreading in Java - what i&#39;m doing wrong?","body":"<p>I see at least two reasons:</p>\n<ol>\n<li><p><code>Graphics2D</code> is an abstract class which is not guaranteed to be thread safe. So executing whatever on it is a mistake in general. It could work in some cases, but doesn't have to.</p>\n</li>\n<li><p>Your code is not thread-tolerant itself: <code>g.setColor(color);</code> is not atomic/synchronized with a <code>g.draw(new Rectangle(point));</code> call. So it would overlap between threads and be executed in an unpredictable order across them like this:</p>\n</li>\n</ol>\n<blockquote>\n<p>thread 1: setColor(color1);</p>\n<p>thread 2: setColor(color2);</p>\n<p>thread 1: draw() // with color2;</p>\n<p>thread 2: draw() // with color2 also;</p>\n</blockquote>\n<p>So consider:</p>\n<ol>\n<li><p>Synchronize <code>setColor</code> with <code>draw</code> for example in a basic way:</p>\n<pre><code>     Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\n     synchronized(lockObject) {\n         g.setColor(color);\n         g.draw(new Rectangle(point));\n     }\n</code></pre>\n</li>\n</ol>\n<p>where the <code>lockObject</code> is an object shared between threads</p>\n<ol start=\"2\">\n<li>(Recommended) Avoid using <code>Graphics2D</code> with multiple threads. Consider doing only your math and other preparations in multiple thread and call <code>Graphics2D</code> from a single one.</li>\n</ol>\n"}],"owner":{"account_id":6683309,"reputation":51,"user_id":5155608,"display_name":"Ramirez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76400540,"answer_count":1,"score":2,"last_activity_date":1685883450,"creation_date":1685873726,"question_id":76399866,"body_markdown":"I&#39;m trying to paint a Srtm3-Tile with the Help of Multithreading. If i use only a single Thread every works fine, but when i use Multithreading the graphic ends up in a mess. Currently i use 12 Cores - any idea?\r\n\r\nHere is the code:\r\n\r\nThread-Init this piece of code resides in the paint method:\r\n\r\n                int cpuCount = Runtime.getRuntime().availableProcessors(); //12 Cores\r\n                int blockSize = size / cpuCount;\r\n                BigMapPOJO bigMapPOJO = new BigMapPOJO(srtmBorderPOJO.getFileName(), bigMap);\r\n\r\n\r\n                SrtmV2Thread threadArray[] = new SrtmV2Thread[cpuCount];\r\n                //Init Threads, cpuCount=1 works fine...\r\n                for (int i = 0; i &lt; cpuCount; i++) {\r\n                    SrtmV2Thread srtmV2Thread;\r\n                    if (i == cpuCount - 1) {\r\n                        srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), size, srtmBorderPOJO, min, max);\r\n                    } else {\r\n                        srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), blockSize + (i * blockSize), srtmBorderPOJO, min, max);\r\n                    }\r\n                    threadArray[i] = srtmV2Thread;\r\n                }\r\n                for (int i = 0; i &lt; threadArray.length; i++) {\r\n                    //Start Threads\r\n                    threadArray[i].start();\r\n                }\r\n                for (int i = 0; i &lt; threadArray.length; i++) {\r\n                    try {\r\n                        //Wait for completion\r\n                        threadArray[i].join();\r\n                    } catch (InterruptedException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                }\r\n\r\nRun Method of the Thread:\r\n\r\n              @Override\r\n             public void run() {\r\n\r\n        GeoPosition geoPosition0 = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat(), srtmV2BorderPOJO.getCoord0().getLon());\r\n        GeoPosition geoPosition1 = new GeoPosition(srtmV2BorderPOJO.getCoord1().getLat(), srtmV2BorderPOJO.getCoord1().getLon());\r\n        GeoPosition geoPosition2 = new GeoPosition(srtmV2BorderPOJO.getCoord2().getLat(), srtmV2BorderPOJO.getCoord2().getLon());\r\n        GeoPosition geoPosition3 = new GeoPosition(srtmV2BorderPOJO.getCoord3().getLat(), srtmV2BorderPOJO.getCoord3().getLon());\r\n\r\n        Point2D pt0 = map.getTileFactory().geoToPixel(geoPosition0, map.getZoom());\r\n        Point2D pt1 = map.getTileFactory().geoToPixel(geoPosition1, map.getZoom());\r\n        Point2D pt2 = map.getTileFactory().geoToPixel(geoPosition2, map.getZoom());\r\n        Point2D pt3 = map.getTileFactory().geoToPixel(geoPosition3, map.getZoom());\r\n\r\n        /*\r\n        0-1\r\n        3-2\r\n         */\r\n        //calulate width and height of a single tile\r\n        int resHor = (int) ((pt1.getX() - pt0.getX()));\r\n        int resVer = (int) ((pt3.getY() - pt0.getY()));\r\n\r\n        int horStep = (int) (size / (double) resHor);\r\n        int verStep = (int) (size / (double) resVer);\r\n        \r\n        //start and end comes from the thread init\r\n        for (int y = start; y &lt; end; y += verStep) {\r\n\r\n            for (int x = 0; x &lt; size; x += horStep) {\r\n\r\n                double ver = y / (double) (size);\r\n                double hor = x / (double) (size);\r\n\r\n                GeoPosition geoPosition = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat() - ver, srtmV2BorderPOJO.getCoord0().getLon() + hor);\r\n                Point2D ptHeight = map.getTileFactory().geoToPixel(geoPosition, map.getZoom());\r\n\r\n                short height = bigMapPOJO.getBigMap()[y][x];\r\n                if (height &lt; 0) {\r\n                    height = 0;\r\n                }\r\n\r\n                double percent = getPercentFromHeight(min, max, height);\r\n                Color colorHeight = genColor(percent);\r\n\r\n                double red = colorHeight.getRed();\r\n                double green = colorHeight.getGreen();\r\n                double blue = colorHeight.getBlue();\r\n                \r\n                //draw point in calculated color, according to height\r\n                java.awt.Color color = new java.awt.Color((int) (red * 255), (int) (green * 255), (int) (blue * 255), 255);\r\n                g.setColor(color);\r\n\r\n                Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\r\n\r\n                g.draw(new Rectangle(point));\r\n            }\r\n        }\r\n    }","title":"I&#39;m trying to draw a SRTM3-Tile with Multithreading in Java - what i&#39;m doing wrong?","body":"<p>I'm trying to paint a Srtm3-Tile with the Help of Multithreading. If i use only a single Thread every works fine, but when i use Multithreading the graphic ends up in a mess. Currently i use 12 Cores - any idea?</p>\n<p>Here is the code:</p>\n<p>Thread-Init this piece of code resides in the paint method:</p>\n<pre><code>            int cpuCount = Runtime.getRuntime().availableProcessors(); //12 Cores\n            int blockSize = size / cpuCount;\n            BigMapPOJO bigMapPOJO = new BigMapPOJO(srtmBorderPOJO.getFileName(), bigMap);\n\n\n            SrtmV2Thread threadArray[] = new SrtmV2Thread[cpuCount];\n            //Init Threads, cpuCount=1 works fine...\n            for (int i = 0; i &lt; cpuCount; i++) {\n                SrtmV2Thread srtmV2Thread;\n                if (i == cpuCount - 1) {\n                    srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), size, srtmBorderPOJO, min, max);\n                } else {\n                    srtmV2Thread = new SrtmV2Thread(g, map, bigMapPOJO, 0 + (i * blockSize), blockSize + (i * blockSize), srtmBorderPOJO, min, max);\n                }\n                threadArray[i] = srtmV2Thread;\n            }\n            for (int i = 0; i &lt; threadArray.length; i++) {\n                //Start Threads\n                threadArray[i].start();\n            }\n            for (int i = 0; i &lt; threadArray.length; i++) {\n                try {\n                    //Wait for completion\n                    threadArray[i].join();\n                } catch (InterruptedException ex) {\n                    ex.printStackTrace();\n                }\n            }\n</code></pre>\n<p>Run Method of the Thread:</p>\n<pre><code>          @Override\n         public void run() {\n\n    GeoPosition geoPosition0 = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat(), srtmV2BorderPOJO.getCoord0().getLon());\n    GeoPosition geoPosition1 = new GeoPosition(srtmV2BorderPOJO.getCoord1().getLat(), srtmV2BorderPOJO.getCoord1().getLon());\n    GeoPosition geoPosition2 = new GeoPosition(srtmV2BorderPOJO.getCoord2().getLat(), srtmV2BorderPOJO.getCoord2().getLon());\n    GeoPosition geoPosition3 = new GeoPosition(srtmV2BorderPOJO.getCoord3().getLat(), srtmV2BorderPOJO.getCoord3().getLon());\n\n    Point2D pt0 = map.getTileFactory().geoToPixel(geoPosition0, map.getZoom());\n    Point2D pt1 = map.getTileFactory().geoToPixel(geoPosition1, map.getZoom());\n    Point2D pt2 = map.getTileFactory().geoToPixel(geoPosition2, map.getZoom());\n    Point2D pt3 = map.getTileFactory().geoToPixel(geoPosition3, map.getZoom());\n\n    /*\n    0-1\n    3-2\n     */\n    //calulate width and height of a single tile\n    int resHor = (int) ((pt1.getX() - pt0.getX()));\n    int resVer = (int) ((pt3.getY() - pt0.getY()));\n\n    int horStep = (int) (size / (double) resHor);\n    int verStep = (int) (size / (double) resVer);\n    \n    //start and end comes from the thread init\n    for (int y = start; y &lt; end; y += verStep) {\n\n        for (int x = 0; x &lt; size; x += horStep) {\n\n            double ver = y / (double) (size);\n            double hor = x / (double) (size);\n\n            GeoPosition geoPosition = new GeoPosition(srtmV2BorderPOJO.getCoord0().getLat() - ver, srtmV2BorderPOJO.getCoord0().getLon() + hor);\n            Point2D ptHeight = map.getTileFactory().geoToPixel(geoPosition, map.getZoom());\n\n            short height = bigMapPOJO.getBigMap()[y][x];\n            if (height &lt; 0) {\n                height = 0;\n            }\n\n            double percent = getPercentFromHeight(min, max, height);\n            Color colorHeight = genColor(percent);\n\n            double red = colorHeight.getRed();\n            double green = colorHeight.getGreen();\n            double blue = colorHeight.getBlue();\n            \n            //draw point in calculated color, according to height\n            java.awt.Color color = new java.awt.Color((int) (red * 255), (int) (green * 255), (int) (blue * 255), 255);\n            g.setColor(color);\n\n            Point point = new Point((int) ptHeight.getX(), (int) ptHeight.getY());\n\n            g.draw(new Rectangle(point));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","charts","axis","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685319370,"post_id":76353666,"comment_id":134640831,"body_markdown":"A similar problem is examined [here](https://stackoverflow.com/a/39202162/230513); more [here](https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20mapDatasetToRangeAxis&amp;searchOn=3).","body":"A similar problem is examined <a href=\"https://stackoverflow.com/a/39202162/230513\">here</a>; more <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5bjfreechart%5d%20mapDatasetToRangeAxis&amp;searchOn=3\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1685551970,"post_id":76353666,"comment_id":134677393,"body_markdown":"If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/76353666/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."}],"owner":{"account_id":28698522,"reputation":1,"user_id":21976194,"display_name":"Chefselber"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685883249,"answer_count":0,"score":0,"last_activity_date":1685883366,"creation_date":1685309168,"question_id":76353666,"body_markdown":"I&#180;m trying to add a second ValueAxis to the JFreeChart.\r\nI have two TimeSeries who have exactly the same x-values.\r\nthe first dataset should attach to the left Y-Axis and the second dataset to the right Y-Axis.\r\n\r\nIt works, but there are two blue y-value axis of the second Database value in the chart.\r\nOne belong to the left Y-Axis (blue one - nearly zero) and one to the right.\r\nOtherwise the values of the 1. values of the database are not correct displayed.\r\n[the values of the red are not correct displayed](https://i.stack.imgur.com/f2GEX.png)\r\n\r\n\r\n\r\n[Here is the value displaying is correct] But there is additional the blue one at zero value?\r\n(https://i.stack.imgur.com/rPv3C.png)\r\n\r\n\r\n\r\n After rezooming there is this displaying \r\n[enter image description here](https://i.stack.imgur.com/ZXyNP.png)\r\nThe one which is corresponding to the right y-Axis is gone??\r\n\r\n\r\nZooming the blue one:\r\nThe Y-Values to the left and the right are now the same? :(\r\n[enter image description here][1]\r\n\r\n\r\n\r\n```\r\npublic Graphen(final String title)\r\n    {\r\n        super(title);\r\n\r\n        final String chartTitel = &quot;PV Daten&quot;;\r\n        resultSet = Verbinden_thread_Datenbank.DatenAbfrage3();\r\n        TimeSeriesCollection TSC = new TimeSeriesCollection();\r\n        XYSeriesCollection XYSC = new XYSeriesCollection();\r\n       \r\n        TimeSeries s = Batterieleistung(resultSet);\r\n        TSC.addSeries(s);\r\n        TemperaturKesselResultSet = Verbinden_thread_Datenbank.DatenAbfrage2();\r\n         \r\n        TimeSeries s2 = TemperaturKessel(TemperaturKesselResultSet);\r\n        TSC.addSeries(s2);\r\n\r\n\r\n\r\n        final JFreeChart chart = ChartFactory.createTimeSeriesChart(&quot;PV Daten&quot;, &quot;Uhrzeit&quot;,&quot;Batteriespannung&quot;, TSC);   ///new TimeSeriesCollection(s)\r\n\r\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n        f.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\r\n\r\n        XYPlot plot = (XYPlot) chart.getXYPlot();\r\n        ValueAxis valueAxis1 = (ValueAxis) plot.getRangeAxis(0);  // 1\r\n       /////\r\n    //    plot.setDataset(1,chart.getXYPlot().getDataset(0));      // 0   \r\n        valueAxis1.setRange(-5000.0, 5000.0);\r\n     //  plot.mapDatasetToRangeAxis(1, 1);\r\n/////        \r\n  \r\n      final NumberAxis axis3 = new NumberAxis(&quot;Temperatur Kessel&quot;);\r\n         plot.setRangeAxis(1,axis3);         // 2\r\n \r\n      ValueAxis valueAxis2 = (ValueAxis) plot.getRangeAxis(1);       // 2      \r\n    valueAxis2.setRange(38.0, 50.0);\r\n      \r\n//      \r\n  \r\n         \r\n        plot.setDataset(1,chart.getXYPlot().getDataset(0)) ;                     ///(1,chart.getXYPlot().getDataset(0));      // 0   \r\n        valueAxis2.setRange(38.0, 50.0);\r\n        plot.mapDatasetToRangeAxis(1, 1);\r\n   //     plot.setDataset(0, chart.getXYPlot().getDataset(0));              // (1,chart.getXYPlot().getDataset(0)); \r\n\r\n//    XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\r\n    //    r.setDefaultShapesVisible(true);\r\n\r\n    DateAxis domain = (DateAxis) plot.getDomainAxis();\r\n        domain.setDateFormatOverride(f);\r\n        domain.setVerticalTickLabels(true);\r\n\r\n   \r\n\r\n  \r\n        final ChartPanel panel = new ChartPanel(chart);\r\n     \r\n        panel.setPreferredSize(new java.awt.Dimension(1600,800));\r\n        panel.setRangeZoomable(true);\r\n        panel.setDomainZoomable(true);\r\n        setContentPane(panel);\r\n/*\r\n\r\nCategoryAxis domainAxis = plot.getDomainAxis();\r\ndomainAxis.setCategoryLabelPositions(\r\n    CategoryLabelPositions.createUpRotationLabelPositions(Math.PI / 2.0));\r\n*/\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe x-Values of the two TimeSeries are completely the same.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ql6BF.png","title":"Correct displaying of a second Y-axis JFreeChart","body":"<p>I´m trying to add a second ValueAxis to the JFreeChart.\nI have two TimeSeries who have exactly the same x-values.\nthe first dataset should attach to the left Y-Axis and the second dataset to the right Y-Axis.</p>\n<p>It works, but there are two blue y-value axis of the second Database value in the chart.\nOne belong to the left Y-Axis (blue one - nearly zero) and one to the right.\nOtherwise the values of the 1. values of the database are not correct displayed.\n<a href=\"https://i.stack.imgur.com/f2GEX.png\" rel=\"nofollow noreferrer\">the values of the red are not correct displayed</a></p>\n<p>[Here is the value displaying is correct] But there is additional the blue one at zero value?\n(<a href=\"https://i.stack.imgur.com/rPv3C.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rPv3C.png</a>)</p>\n<p>After rezooming there is this displaying\n<a href=\"https://i.stack.imgur.com/ZXyNP.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThe one which is corresponding to the right y-Axis is gone??</p>\n<p>Zooming the blue one:\nThe Y-Values to the left and the right are now the same? :(\n<a href=\"https://i.stack.imgur.com/Ql6BF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public Graphen(final String title)\n    {\n        super(title);\n\n        final String chartTitel = &quot;PV Daten&quot;;\n        resultSet = Verbinden_thread_Datenbank.DatenAbfrage3();\n        TimeSeriesCollection TSC = new TimeSeriesCollection();\n        XYSeriesCollection XYSC = new XYSeriesCollection();\n       \n        TimeSeries s = Batterieleistung(resultSet);\n        TSC.addSeries(s);\n        TemperaturKesselResultSet = Verbinden_thread_Datenbank.DatenAbfrage2();\n         \n        TimeSeries s2 = TemperaturKessel(TemperaturKesselResultSet);\n        TSC.addSeries(s2);\n\n\n\n        final JFreeChart chart = ChartFactory.createTimeSeriesChart(&quot;PV Daten&quot;, &quot;Uhrzeit&quot;,&quot;Batteriespannung&quot;, TSC);   ///new TimeSeriesCollection(s)\n\n        SimpleDateFormat f = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\n        f.setTimeZone(TimeZone.getTimeZone(&quot;Europe/Berlin&quot;));\n\n        XYPlot plot = (XYPlot) chart.getXYPlot();\n        ValueAxis valueAxis1 = (ValueAxis) plot.getRangeAxis(0);  // 1\n       /////\n    //    plot.setDataset(1,chart.getXYPlot().getDataset(0));      // 0   \n        valueAxis1.setRange(-5000.0, 5000.0);\n     //  plot.mapDatasetToRangeAxis(1, 1);\n/////        \n  \n      final NumberAxis axis3 = new NumberAxis(&quot;Temperatur Kessel&quot;);\n         plot.setRangeAxis(1,axis3);         // 2\n \n      ValueAxis valueAxis2 = (ValueAxis) plot.getRangeAxis(1);       // 2      \n    valueAxis2.setRange(38.0, 50.0);\n      \n//      \n  \n         \n        plot.setDataset(1,chart.getXYPlot().getDataset(0)) ;                     ///(1,chart.getXYPlot().getDataset(0));      // 0   \n        valueAxis2.setRange(38.0, 50.0);\n        plot.mapDatasetToRangeAxis(1, 1);\n   //     plot.setDataset(0, chart.getXYPlot().getDataset(0));              // (1,chart.getXYPlot().getDataset(0)); \n\n//    XYLineAndShapeRenderer r = (XYLineAndShapeRenderer) plot.getRenderer();\n    //    r.setDefaultShapesVisible(true);\n\n    DateAxis domain = (DateAxis) plot.getDomainAxis();\n        domain.setDateFormatOverride(f);\n        domain.setVerticalTickLabels(true);\n\n   \n\n  \n        final ChartPanel panel = new ChartPanel(chart);\n     \n        panel.setPreferredSize(new java.awt.Dimension(1600,800));\n        panel.setRangeZoomable(true);\n        panel.setDomainZoomable(true);\n        setContentPane(panel);\n/*\n\nCategoryAxis domainAxis = plot.getDomainAxis();\ndomainAxis.setCategoryLabelPositions(\n    CategoryLabelPositions.createUpRotationLabelPositions(Math.PI / 2.0));\n*/\n}\n</code></pre>\n<p>The x-Values of the two TimeSeries are completely the same.</p>\n"},{"tags":["java","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1685887070,"post_id":76400529,"comment_id":134720654,"body_markdown":"@angelcervera You can call `document()` without any argument on a `CollectionReference` to have the Firestore SDK generate the ID. This API does not perform any interaction with the database backend, so you can use it inside the transaction - and then use the resulting `DocumentReference` in the transaction to write to it transactionally. --- https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#document()","body":"@angelcervera You can call <code>document()</code> without any argument on a <code>CollectionReference</code> to have the Firestore SDK generate the ID. This API does not perform any interaction with the database backend, so you can use it inside the transaction - and then use the resulting <code>DocumentReference</code> in the transaction to write to it transactionally. --- <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/CollectionReference#document()\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/android/com/google/fireba&zwnj;&#8203;se/&hellip;</a>"},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":0,"creation_date":1685894327,"post_id":76400529,"comment_id":134721582,"body_markdown":"@FrankvanPuffelen So doing a transaction instead a batch will result in the same performance and cost?","body":"@FrankvanPuffelen So doing a transaction instead a batch will result in the same performance and cost?"},{"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"score":1,"creation_date":1685894773,"post_id":76400529,"comment_id":134721628,"body_markdown":"Frank was not saying anything about any differences between transactions and batches. He was just saying that you can generate a document ID using the SDK at basically no cost since it all happens on the client app and doesn&#39;t interact with the database at all.","body":"Frank was not saying anything about any differences between transactions and batches. He was just saying that you can generate a document ID using the SDK at basically no cost since it all happens on the client app and doesn&#39;t interact with the database at all."},{"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"score":0,"creation_date":1685898405,"post_id":76400529,"comment_id":134722051,"body_markdown":"I can see that now. Got it. Thanks everybody","body":"I can see that now. Got it. Thanks everybody"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1685900981,"post_id":76400529,"comment_id":134722330,"body_markdown":"Oops, sorry for the the confusion - and thanks for clarifying, Doug! &#128591;","body":"Oops, sorry for the the confusion - and thanks for clarifying, Doug! 🙏"}],"tags":[],"owner":{"account_id":426109,"reputation":302042,"user_id":807126,"display_name":"Doug Stevenson"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685883189,"creation_date":1685883189,"answer_id":76400529,"question_id":76400085,"body_markdown":"Firestore doesn&#39;t automatically generate document IDs when [working with batches](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch). For each document in the batch, you must provide a [DocumentReference](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference), and that object contains the ID before anything happens.\r\n\r\nYou can generate an ID any way you want.  They don&#39;t contain any data, and they are not hashes. They are just random characters, and are generated by the client app.\r\n\r\nRead:\r\n\r\n- https://stackoverflow.com/questions/49595193/generating-random-key-firestore\r\n- https://stackoverflow.com/questions/65595217/firestore-random-id\r\n- https://stackoverflow.com/questions/76223132/size-of-random-autogenerated-document-ids-in-firestore","title":"Retrieve Firestore generated ID when adding in batch","body":"<p>Firestore doesn't automatically generate document IDs when <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/WriteBatch\" rel=\"nofollow noreferrer\">working with batches</a>. For each document in the batch, you must provide a <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference\" rel=\"nofollow noreferrer\">DocumentReference</a>, and that object contains the ID before anything happens.</p>\n<p>You can generate an ID any way you want.  They don't contain any data, and they are not hashes. They are just random characters, and are generated by the client app.</p>\n<p>Read:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49595193/generating-random-key-firestore\">Generating random Key firestore</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65595217/firestore-random-id\">Firestore Random ID</a></li>\n<li><a href=\"https://stackoverflow.com/questions/76223132/size-of-random-autogenerated-document-ids-in-firestore\">Size of random autogenerated Document IDs in Firestore</a></li>\n</ul>\n"}],"owner":{"account_id":90166,"reputation":3781,"user_id":248304,"accept_rate":88,"display_name":"angelcervera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400529,"answer_count":1,"score":0,"last_activity_date":1685883189,"creation_date":1685877002,"question_id":76400085,"body_markdown":"I have a background service that is updating/removing/adding records in a Firestore collection to keep it in sync with another source of data.\r\n\r\nBecause performance, I want to do this in batches so I try to follow the [official documentation](https://firebase.google.com/docs/firestore/manage-data/transactions#batched-writes).\r\n\r\nBut here is my question. When adding, I need to get the ID that Firestore is automatically generating for every add but I can not find a way to retrieve it.\r\n\r\nSo Is there a way? If there is not, what is the best way to generate me own IDs (ex. No idea if Firestore is using the ID as a hash to distribute the data)?\r\n\r\nRegards\r\n\r\n\r\n","title":"Retrieve Firestore generated ID when adding in batch","body":"<p>I have a background service that is updating/removing/adding records in a Firestore collection to keep it in sync with another source of data.</p>\n<p>Because performance, I want to do this in batches so I try to follow the <a href=\"https://firebase.google.com/docs/firestore/manage-data/transactions#batched-writes\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n<p>But here is my question. When adding, I need to get the ID that Firestore is automatically generating for every add but I can not find a way to retrieve it.</p>\n<p>So Is there a way? If there is not, what is the best way to generate me own IDs (ex. No idea if Firestore is using the ID as a hash to distribute the data)?</p>\n<p>Regards</p>\n"},{"tags":["java","spring-boot","thymeleaf","crud"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685883530,"post_id":76400350,"comment_id":134720237,"body_markdown":"If you want to hit your `@PostMapping(&quot;/update&quot;)` controller, one option is to use a [form](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form) in your Thymleaf template and make that form use a `POST` method. Currently, your Thymeleaf is only generating a URL (not the URL you need to hit your controller) and that uses a `GET` (by default), not a `POST`.","body":"If you want to hit your <code>@PostMapping(&quot;&#47;update&quot;)</code> controller, one option is to use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/form\" rel=\"nofollow noreferrer\">form</a> in your Thymleaf template and make that form use a <code>POST</code> method. Currently, your Thymeleaf is only generating a URL (not the URL you need to hit your controller) and that uses a <code>GET</code> (by default), not a <code>POST</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685883549,"post_id":76400350,"comment_id":134720239,"body_markdown":"[Thymeleaf dynamically create forms using th:each](https://stackoverflow.com/q/54466032/12567365)","body":"<a href=\"https://stackoverflow.com/q/54466032/12567365\">Thymeleaf dynamically create forms using th:each</a>"}],"owner":{"account_id":25193602,"reputation":3,"user_id":19033473,"display_name":"Matthew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685883079,"creation_date":1685880620,"question_id":76400350,"body_markdown":"I would like to change the status field from current &quot;ToDo&quot; to &quot;InProgress&quot;.\r\n\r\nHTML:\r\n\r\n```\r\n&lt;div&gt;\r\n    &lt;div class=&quot;card-inner&quot; th:if=&quot;${project.status.toString()==&#39;ToDo&#39;}&quot; th:each=&quot;project: ${project}&quot;&gt;\r\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;generateForm()&quot;&gt;Action&lt;/button&gt;\r\n\r\n        &lt;p th:text=&quot;${project.code}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${project.name}&quot;&gt;&lt;/p&gt;\r\n        &lt;p th:text=&quot;${project.status.getDeclaringClass()}&quot;&gt;&lt;/p&gt;\r\n        &lt;a th:href=&quot;@{&#39;projects/edit/&#39; + ${project.id}}&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\r\n        &lt;a th:href=&quot;@{&#39;projects/update/&#39; + ${project.id}+&#39;InProgress&#39;}&quot; class=&quot;btn btn-secondary&quot;&gt;InProgress&lt;/a&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nController:\r\n\r\n```\r\n@PostMapping(&quot;/update&quot;)\r\nString update(@PathVariable Long id,@PathVariable String status) {\r\n    Project project=projectService.getOne(id);\r\n    project.setStatus(Status.valueOf(status)); // is an enum\r\n    projectService.save(project);\r\n    return &quot;redirect:/projects&quot;;\r\n}\r\n```\r\n\r\nInstead of going to `localhost:8080/projects` after clicking on `InProgress` it is going to `http://localhost:8080/projects/update/852InProgress`.","title":"How to change object field (status) by button (HTML) and stay in the same page?","body":"<p>I would like to change the status field from current &quot;ToDo&quot; to &quot;InProgress&quot;.</p>\n<p>HTML:</p>\n<pre><code>&lt;div&gt;\n    &lt;div class=&quot;card-inner&quot; th:if=&quot;${project.status.toString()=='ToDo'}&quot; th:each=&quot;project: ${project}&quot;&gt;\n        &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; onclick=&quot;generateForm()&quot;&gt;Action&lt;/button&gt;\n\n        &lt;p th:text=&quot;${project.code}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${project.name}&quot;&gt;&lt;/p&gt;\n        &lt;p th:text=&quot;${project.status.getDeclaringClass()}&quot;&gt;&lt;/p&gt;\n        &lt;a th:href=&quot;@{'projects/edit/' + ${project.id}}&quot; class=&quot;btn btn-secondary&quot;&gt;Edit&lt;/a&gt;\n        &lt;a th:href=&quot;@{'projects/update/' + ${project.id}+'InProgress'}&quot; class=&quot;btn btn-secondary&quot;&gt;InProgress&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/update&quot;)\nString update(@PathVariable Long id,@PathVariable String status) {\n    Project project=projectService.getOne(id);\n    project.setStatus(Status.valueOf(status)); // is an enum\n    projectService.save(project);\n    return &quot;redirect:/projects&quot;;\n}\n</code></pre>\n<p>Instead of going to <code>localhost:8080/projects</code> after clicking on <code>InProgress</code> it is going to <code>http://localhost:8080/projects/update/852InProgress</code>.</p>\n"},{"tags":["java","unit-testing","jenkins","mockito","junit5"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1662612839,"post_id":73623109,"comment_id":130047090,"body_markdown":"Was the migration split into a few separate commits? Are you sure Jenkins is running the build on the newest commit (verify commit hash) that is matching what you&#39;re verifying locally? Another idea would be caching - try to clear the cache and verify again.","body":"Was the migration split into a few separate commits? Are you sure Jenkins is running the build on the newest commit (verify commit hash) that is matching what you&#39;re verifying locally? Another idea would be caching - try to clear the cache and verify again."}],"answers":[{"tags":[],"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685882422,"creation_date":1685882422,"answer_id":76400466,"question_id":73623109,"body_markdown":"Figured out what was happening. \r\n\r\nWe tried to `mockStatic()` a few methods.\r\n\r\nHowever, those methods would call a few classes that contained static fields/methods that were NOT statically mocked because they were so deep in spaghetti, we didn&#39;t even realized the flow of code was getting there. \r\n\r\nSome of those static methods would contact the DB and pull information from there that would then be used inside the unit tests. \r\n\r\nWhen ran locally, that did not present any problem as every dev had a local database and the connection was successful. \r\n\r\nThe Jenkins environment however didn&#39;t have a DB so when the static methods initialized and attempted to connect, a DB connection exception was thrown. \r\n\r\nHowever, as mentioned, that exception was thrown inside a `try-with-resources` `mockStatic()` block and since the static mocking did not complete, any subsequent attempt to `mockStatic()` the class that previously failed, would result in the aforementioned `UnfinishedMockingSessionException`. \r\n\r\nThe solution was to find the statically mock any method that would attempt to communicate with the Database. \r\n\r\nWhat I still don&#39;t understand is why would an exception being thrown inside a `try-with-resources` `mockStatic()` block would prevent any subsequent attempts. In my understanding it should have been localized. The exception thrown was masking the real problem. \r\n\r\nIn any case, I don&#39;t work there nor care anymore. ","title":"Multiple tests fail when ran on Jenkins after migration","body":"<p>Figured out what was happening.</p>\n<p>We tried to <code>mockStatic()</code> a few methods.</p>\n<p>However, those methods would call a few classes that contained static fields/methods that were NOT statically mocked because they were so deep in spaghetti, we didn't even realized the flow of code was getting there.</p>\n<p>Some of those static methods would contact the DB and pull information from there that would then be used inside the unit tests.</p>\n<p>When ran locally, that did not present any problem as every dev had a local database and the connection was successful.</p>\n<p>The Jenkins environment however didn't have a DB so when the static methods initialized and attempted to connect, a DB connection exception was thrown.</p>\n<p>However, as mentioned, that exception was thrown inside a <code>try-with-resources</code> <code>mockStatic()</code> block and since the static mocking did not complete, any subsequent attempt to <code>mockStatic()</code> the class that previously failed, would result in the aforementioned <code>UnfinishedMockingSessionException</code>.</p>\n<p>The solution was to find the statically mock any method that would attempt to communicate with the Database.</p>\n<p>What I still don't understand is why would an exception being thrown inside a <code>try-with-resources</code> <code>mockStatic()</code> block would prevent any subsequent attempts. In my understanding it should have been localized. The exception thrown was masking the real problem.</p>\n<p>In any case, I don't work there nor care anymore.</p>\n"}],"owner":{"account_id":12363440,"reputation":15,"user_id":9016655,"display_name":"Eri_JW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400466,"answer_count":1,"score":0,"last_activity_date":1685882422,"creation_date":1662471754,"question_id":73623109,"body_markdown":"I recently migrated a Unit Testing suite to Junit 5.8.2 and Mockito 4.5.1 + Mockito Inline to allow static mocking. Powermock was removed.\r\n\r\n2000+ tests were migrated and they all run successfully when ran inside the IDE (IntelliJ). Both with the IDEA and Gradle runner. \r\n\r\nHowever, when Jenkins attempts to run them there are over 900 failed tests. Some of the exceptions thrown. \r\n\r\n```\r\norg.mockito.exceptions.misusing.MissingMethodInvocationException: \r\nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.\r\nFor example:\r\n    when(mock.getArticles()).thenReturn(articles);\r\n```\r\n```\r\norg.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\nBoolean cannot be returned by someMethod()\r\nsomeMethod() should return Date`\r\n```\r\n\r\nI understand what causes these errors as I&#39;ve seen them multiple times during the migration so this is not a duplicate asking for the solution.(Unless there&#39;s something different with the Jenkins environment) The code that throws such exceptions should not be throwing them. And it does not in the IDE. It&#39;s thrown exclusively in Jenkins. \r\n\r\nAn additional exception which I have never seen before is thrown as well. \r\n\r\n```\r\norg.mockito.exceptions.misusing.UnfinishedMockingSessionException: \r\nUnfinished mocking session detected.\r\nPrevious MockitoSession was not concluded with &#39;finishMocking()&#39;.\r\nFor examples of correct usage see javadoc for MockitoSession class.\r\n```\r\n\r\nMost of the exceptions are of this type. \r\nHowever, the MockitoSession inteface is not used anywhere in the test suite. All mocks are initialized with `@ExtendWith(MockitoExtension.class)`\r\n\r\nI have no idea what could be causing this. \r\n\r\nJenkins is running the same versions of Java/Junit/Mockito/Spring as the code in the IDE. \r\nIt seems clear to me that the different environments are causing the issue. However, what could be the difference and how would I go about finding it? \r\n\r\nI attempted to reproduce the results locally but was unable to. Any ideas towards that are also welcome. ","title":"Multiple tests fail when ran on Jenkins after migration","body":"<p>I recently migrated a Unit Testing suite to Junit 5.8.2 and Mockito 4.5.1 + Mockito Inline to allow static mocking. Powermock was removed.</p>\n<p>2000+ tests were migrated and they all run successfully when ran inside the IDE (IntelliJ). Both with the IDEA and Gradle runner.</p>\n<p>However, when Jenkins attempts to run them there are over 900 failed tests. Some of the exceptions thrown.</p>\n<pre><code>org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\n    when(mock.getArticles()).thenReturn(articles);\n</code></pre>\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nBoolean cannot be returned by someMethod()\nsomeMethod() should return Date`\n</code></pre>\n<p>I understand what causes these errors as I've seen them multiple times during the migration so this is not a duplicate asking for the solution.(Unless there's something different with the Jenkins environment) The code that throws such exceptions should not be throwing them. And it does not in the IDE. It's thrown exclusively in Jenkins.</p>\n<p>An additional exception which I have never seen before is thrown as well.</p>\n<pre><code>org.mockito.exceptions.misusing.UnfinishedMockingSessionException: \nUnfinished mocking session detected.\nPrevious MockitoSession was not concluded with 'finishMocking()'.\nFor examples of correct usage see javadoc for MockitoSession class.\n</code></pre>\n<p>Most of the exceptions are of this type.\nHowever, the MockitoSession inteface is not used anywhere in the test suite. All mocks are initialized with <code>@ExtendWith(MockitoExtension.class)</code></p>\n<p>I have no idea what could be causing this.</p>\n<p>Jenkins is running the same versions of Java/Junit/Mockito/Spring as the code in the IDE.\nIt seems clear to me that the different environments are causing the issue. However, what could be the difference and how would I go about finding it?</p>\n<p>I attempted to reproduce the results locally but was unable to. Any ideas towards that are also welcome.</p>\n"},{"tags":["java","spring","database","spring-boot","mariadb"],"comments":[{"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"score":0,"creation_date":1685881543,"post_id":76400348,"comment_id":134719992,"body_markdown":"It might have something to do with your dependencies. Can you upload your pom.xml?","body":"It might have something to do with your dependencies. Can you upload your pom.xml?"},{"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"score":0,"creation_date":1685881844,"post_id":76400348,"comment_id":134720015,"body_markdown":"@BarHoshen I added the dependencies for mariaDB and for the data-jpa is that enough? or do you want the hole pom.xml","body":"@BarHoshen I added the dependencies for mariaDB and for the data-jpa is that enough? or do you want the hole pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":3878753,"reputation":312,"user_id":3211953,"accept_rate":25,"display_name":"Bar Hoshen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685882212,"creation_date":1685882212,"answer_id":76400450,"question_id":76400348,"body_markdown":"By the version of your mariadb driver, i would bet you have used springframework guru&#39;s guide. That guide uses springboot 1.4.4, so my second bet would be that your problem is a version mismatch.\r\nIf you are using springboot parent 3.X.X, I recommend you try mariadb java client version 3.1.4/3.1.0.","title":"Spring Boot Maria DB Connection | Failed to determine a suitable driver class","body":"<p>By the version of your mariadb driver, i would bet you have used springframework guru's guide. That guide uses springboot 1.4.4, so my second bet would be that your problem is a version mismatch.\nIf you are using springboot parent 3.X.X, I recommend you try mariadb java client version 3.1.4/3.1.0.</p>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76400450,"answer_count":1,"score":0,"last_activity_date":1685882212,"creation_date":1685880616,"question_id":76400348,"body_markdown":"I wanted to add a mariaDB Database connection to my spring Boot application.\r\n\r\nI definied the application.properties like this:\r\n\r\n```\r\n#mariaDB Connection\r\nspring.datasource.url=jdbc:mariadb://localhost:3306/database\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\n```\r\n\r\nbut i get The following error:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n```\r\n\r\nDatabase dependencies\r\n```xml\r\n\r\n\t\t&lt;!-- ===============\r\n             == MariaDB\r\n             =============== --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nDoes someone has any idea, what i need to change, that the connection will work?","title":"Spring Boot Maria DB Connection | Failed to determine a suitable driver class","body":"<p>I wanted to add a mariaDB Database connection to my spring Boot application.</p>\n<p>I definied the application.properties like this:</p>\n<pre><code>#mariaDB Connection\nspring.datasource.url=jdbc:mariadb://localhost:3306/database\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=org.mariadb.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=create-drop\n\n</code></pre>\n<p>but i get The following error:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n</code></pre>\n<p>Database dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;!-- ===============\n             == MariaDB\n             =============== --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;version&gt;1.5.7&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Does someone has any idea, what i need to change, that the connection will work?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1498483866,"post_id":44760849,"comment_id":76502584,"body_markdown":"You need to configure a local repository that maven can access: https://maven.apache.org/guides/introduction/introduction-to-repositories.html (See point: Internal Repositories) Also: https://stackoverflow.com/questions/13834141/create-local-maven-repository","body":"You need to configure a local repository that maven can access: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> (See point: Internal Repositories) Also: <a href=\"https://stackoverflow.com/questions/13834141/create-local-maven-repository\" title=\"create local maven repository\">stackoverflow.com/questions/13834141/&hellip;</a>"},{"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"score":0,"creation_date":1498486623,"post_id":44760849,"comment_id":76504442,"body_markdown":"@OHGODSPIDERS I had considered this, but I setting up a networked internal repository is out of my control, plus will take quite a while to make its way through the corporate beast to actually reach fruition","body":"@OHGODSPIDERS I had considered this, but I setting up a networked internal repository is out of my control, plus will take quite a while to make its way through the corporate beast to actually reach fruition"}],"answers":[{"comments":[{"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"score":0,"creation_date":1498486236,"post_id":44760959,"comment_id":76504154,"body_markdown":"Tried, but didn&#39;t work. I actually have a feeling that my cutting short the error message may have changed the nature of the error. I&#39;ve now included the whole error message (sorry, my bad)","body":"Tried, but didn&#39;t work. I actually have a feeling that my cutting short the error message may have changed the nature of the error. I&#39;ve now included the whole error message (sorry, my bad)"},{"owner":{"account_id":245542,"reputation":3314,"user_id":1989695,"accept_rate":100,"display_name":"noscreenname"},"score":0,"creation_date":1498487954,"post_id":44760959,"comment_id":76505436,"body_markdown":"@DarkHippo edit my answer after extra info about the error.","body":"@DarkHippo edit my answer after extra info about the error."},{"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"score":0,"creation_date":1498488938,"post_id":44760959,"comment_id":76506080,"body_markdown":"@noscreenname Great, thanks. Unfortunately deploying a networked internal repo isn&#39;t an option because of company politics (even typing that made me throw up a little)","body":"@noscreenname Great, thanks. Unfortunately deploying a networked internal repo isn&#39;t an option because of company politics (even typing that made me throw up a little)"},{"owner":{"account_id":245542,"reputation":3314,"user_id":1989695,"accept_rate":100,"display_name":"noscreenname"},"score":0,"creation_date":1498489847,"post_id":44760959,"comment_id":76506676,"body_markdown":"@DarkHippo you can configure you repository on local filesystem: `file:// URL`. It&#39;s in the maven documentation link I&#39;ve posted.","body":"@DarkHippo you can configure you repository on local filesystem: <code>file:&#47;&#47; URL</code>. It&#39;s in the maven documentation link I&#39;ve posted."}],"tags":[],"owner":{"account_id":245542,"reputation":3314,"user_id":1989695,"accept_rate":100,"display_name":"noscreenname"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498487905,"creation_date":1498483881,"answer_id":44760959,"question_id":44760849,"body_markdown":"This looks like locked directory. Are you sure the process you are trying to build is not running, and no external program is using the project directory. \r\n\r\nTry removing the target directory manually. \r\n\r\nEdit: Ok, so it&#39;s actually a problem with remote maven repository.\r\n\r\nHave you tried configuring a custom maven repo\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;my-internal-site&lt;/id&gt;\r\n          &lt;url&gt;http://myserver/repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n      ...\r\n    &lt;/project&gt;\r\n\r\nMore info [here][1]\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/introduction/introduction-to-repositories.html","title":"Maven failed to execute goal without internet connection","body":"<p>This looks like locked directory. Are you sure the process you are trying to build is not running, and no external program is using the project directory. </p>\n\n<p>Try removing the target directory manually. </p>\n\n<p>Edit: Ok, so it's actually a problem with remote maven repository.</p>\n\n<p>Have you tried configuring a custom maven repo</p>\n\n<pre><code>&lt;project&gt;\n  ...\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;my-internal-site&lt;/id&gt;\n      &lt;url&gt;http://myserver/repo&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n\n<p>More info <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":11197635,"reputation":82,"user_id":8215796,"display_name":"codespawner"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1498484647,"creation_date":1498484647,"answer_id":44761218,"question_id":44760849,"body_markdown":"Yes. It looks like maven is not able to delete the working directory. Check if any process locking your directory. Else delete it manually. ","title":"Maven failed to execute goal without internet connection","body":"<p>Yes. It looks like maven is not able to delete the working directory. Check if any process locking your directory. Else delete it manually. </p>\n"},{"comments":[{"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"score":0,"creation_date":1686140172,"post_id":76400419,"comment_id":134757785,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34495819)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34495819\">From Review</a>"}],"tags":[],"owner":{"account_id":9486849,"reputation":1,"user_id":7052998,"display_name":"kumarsuman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685881775,"creation_date":1685881702,"answer_id":76400419,"question_id":44760849,"body_markdown":"If you building from eclipse and facing this issue then try not to check the offline mode..[Please check the SS for your reference][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9Y8zz.png","title":"Maven failed to execute goal without internet connection","body":"<p>If you building from eclipse and facing this issue then try not to check the offline mode..<a href=\"https://i.stack.imgur.com/9Y8zz.png\" rel=\"nofollow noreferrer\">Please check the SS for your reference</a></p>\n"}],"owner":{"account_id":278155,"reputation":1255,"user_id":572585,"accept_rate":67,"display_name":"Dark Hippo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1685881775,"creation_date":1498483549,"question_id":44760849,"body_markdown":"I&#39;m trying to get a Maven build working for a Java project, with the rather *interesting* caveat that the machine I&#39;m building on does not have, and cannot have, access to the Maven repository.\r\n\r\nThe error I&#39;m getting with any of the Lifecycle processes I try and run is \r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project xxxxxx: Execution default-clean of goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean failed: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (https://repo.maven.apache.org/maven2) in offline mode and the artifact org.codehaus.plexus:plexus-utils:jar:1.1 has not been downloaded from it before. -&gt; [Help 1]\r\n\r\nBecause of the disconnected nature of the machine I&#39;m working on, I&#39;ve had to have the Maven build tool manually downloaded for me, and from the error messages I&#39;ve been receiving, I&#39;ve also had the relevant plugins manually downloaded (`maven-clean-plugin-2.5.jar` for example), but I&#39;m having trouble figuring out where to put the plugins manually so Maven can pick them up and work with them.","title":"Maven failed to execute goal without internet connection","body":"<p>I'm trying to get a Maven build working for a Java project, with the rather <em>interesting</em> caveat that the machine I'm building on does not have, and cannot have, access to the Maven repository.</p>\n\n<p>The error I'm getting with any of the Lifecycle processes I try and run is </p>\n\n<blockquote>\n  <p>Failed to execute goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean (default-clean) on project xxxxxx: Execution default-clean of goal org.apache.maven.plugins:maven-clean-plugin:2.5:clean failed: Plugin org.apache.maven.plugins:maven-clean-plugin:2.5 or one of its dependencies could not be resolved: Cannot access central (<a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2</a>) in offline mode and the artifact org.codehaus.plexus:plexus-utils:jar:1.1 has not been downloaded from it before. -> [Help 1]</p>\n</blockquote>\n\n<p>Because of the disconnected nature of the machine I'm working on, I've had to have the Maven build tool manually downloaded for me, and from the error messages I've been receiving, I've also had the relevant plugins manually downloaded (<code>maven-clean-plugin-2.5.jar</code> for example), but I'm having trouble figuring out where to put the plugins manually so Maven can pick them up and work with them.</p>\n"},{"tags":["java","scala","apache-spark","generics"],"owner":{"account_id":11375595,"reputation":99,"user_id":8340005,"display_name":"maxwellray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685881611,"creation_date":1685881611,"question_id":76400412,"body_markdown":"I have a repo that contains a number of Spark programs. The programs frequently read from various Cassandra tables. To facilitate reading from the tables, I&#39;ve added companion objects to the case classes representing the data types in each of the tables with methods to simplify retrieval.\r\n```\r\ncase class Home(\r\n                 user_id: String,\r\n                 home_id: String,\r\n                 confirmed: Boolean,\r\n                 joined_home_utc: Timestamp\r\n               )\r\n\r\nobject Home extends CassandraReadable[Home.Partition, Home] {\r\n  case class Partition(user_id: String)\r\n\r\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[Partition]] = Option.empty): Dataset[Home] = {\r\n    import session.implicits._\r\n    import com.datastax.spark.connector._\r\n\r\n    var homes = session\r\n      .read\r\n      .cassandraFormat(&quot;homes&quot;, &quot;default&quot;, pushdownEnable = true)\r\n      .load\r\n      .directJoin(AlwaysOn)\r\n      .as[Home]\r\n\r\n    if (partitions.isDefined) {\r\n      val partitionDs = partitions.get\r\n      homes = partitionDs.joinWith(homes, partitionDs(&quot;user_id&quot;) === homes(&quot;user_id&quot;))\r\n        .map(_._2)\r\n    }\r\n\r\n    homes\r\n  }\r\n}\r\n\r\n```\r\nTo allow for incremental ingestion, we typically only read a subset of the table&#39;s partitions at once. Since this is the case for nearly all of the tables, I&#39;ve created a trait which outlines the structure of the retrieval methods.\r\n```\r\ntrait CassandraReadable[PartitionType, ResultType] {\r\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[PartitionType]]=Option.empty): Dataset[ResultType]\r\n}\r\n\r\n```\r\nI define the case class representing a table&#39;s partitions within the companion object, but I&#39;m now getting a circular dependency error when implementing the trait. Is there a better way I should be going about this? I believe moving the partition to another file would resolve the circular dependency issue, but I was hoping to keep information relevant to the table all within one file, as the `Partition` class is never really used outside of the context of interaction with the table. Scala is not my primary language so I may be totally off-base with design philosophy here. Any help is appreciated, thanks!","title":"Structuring Cassandra Database Reads in Spark","body":"<p>I have a repo that contains a number of Spark programs. The programs frequently read from various Cassandra tables. To facilitate reading from the tables, I've added companion objects to the case classes representing the data types in each of the tables with methods to simplify retrieval.</p>\n<pre><code>case class Home(\n                 user_id: String,\n                 home_id: String,\n                 confirmed: Boolean,\n                 joined_home_utc: Timestamp\n               )\n\nobject Home extends CassandraReadable[Home.Partition, Home] {\n  case class Partition(user_id: String)\n\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[Partition]] = Option.empty): Dataset[Home] = {\n    import session.implicits._\n    import com.datastax.spark.connector._\n\n    var homes = session\n      .read\n      .cassandraFormat(&quot;homes&quot;, &quot;default&quot;, pushdownEnable = true)\n      .load\n      .directJoin(AlwaysOn)\n      .as[Home]\n\n    if (partitions.isDefined) {\n      val partitionDs = partitions.get\n      homes = partitionDs.joinWith(homes, partitionDs(&quot;user_id&quot;) === homes(&quot;user_id&quot;))\n        .map(_._2)\n    }\n\n    homes\n  }\n}\n\n</code></pre>\n<p>To allow for incremental ingestion, we typically only read a subset of the table's partitions at once. Since this is the case for nearly all of the tables, I've created a trait which outlines the structure of the retrieval methods.</p>\n<pre><code>trait CassandraReadable[PartitionType, ResultType] {\n  def readFromCassandra(session: SparkSession, partitions: Option[Dataset[PartitionType]]=Option.empty): Dataset[ResultType]\n}\n\n</code></pre>\n<p>I define the case class representing a table's partitions within the companion object, but I'm now getting a circular dependency error when implementing the trait. Is there a better way I should be going about this? I believe moving the partition to another file would resolve the circular dependency issue, but I was hoping to keep information relevant to the table all within one file, as the <code>Partition</code> class is never really used outside of the context of interaction with the table. Scala is not my primary language so I may be totally off-base with design philosophy here. Any help is appreciated, thanks!</p>\n"},{"tags":["java","intellij-idea","gradle"],"answers":[{"comments":[{"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"score":1,"creation_date":1485768117,"post_id":41931053,"comment_id":71045051,"body_markdown":"I tried using : `gradle GRADLE_OPTS=&quot;-D--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot; --debug --stacktrace`  and  `gradle GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=--add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED&quot; --debug --stacktrace` but it doesn&#39;t work.","body":"I tried using : <code>gradle GRADLE_OPTS=&quot;-D--add-opens=java.base&#47;java.lang=ALL-UNNAMED --add-opens=java.base&#47;java.util=ALL-UNNAMED --add-opens=java.base&#47;java.io=ALL-UNNAMED&quot; --debug --stacktrace</code>  and  <code>gradle GRADLE_OPTS=&quot;-Dorg.gradle.jvmargs=--add-opens=java.base&#47;java&zwnj;&#8203;.lang=ALL-UNNAMED --add-opens=java.base&#47;java.util=ALL-UNNAMED --add-opens=java.base&#47;java.io=ALL-UNNAMED&quot; --debug --stacktrace</code> but it doesn&#39;t work."},{"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"score":1,"creation_date":1485928291,"post_id":41931053,"comment_id":71123688,"body_markdown":"It works if I put GRADLE_OPTS in .bashrc, then source it and run `gradle  --debug --stacktrace`","body":"It works if I put GRADLE_OPTS in .bashrc, then source it and run <code>gradle  --debug --stacktrace</code>"},{"owner":{"account_id":2742136,"reputation":1664,"user_id":2363435,"display_name":"Daniel T. Sobrosa"},"score":1,"creation_date":1606237534,"post_id":41931053,"comment_id":114900441,"body_markdown":"You have to pass it as a enviroment variable, usually it comes before the command in terminal.\nGRADLE_OPTS=&quot;-Xmx512m -Xms256m -XX:MaxPermSize=512m -XX:PermSize=256m&quot; ./gradlew test","body":"You have to pass it as a enviroment variable, usually it comes before the command in terminal. GRADLE_OPTS=&quot;-Xmx512m -Xms256m -XX:MaxPermSize=512m -XX:PermSize=256m&quot; ./gradlew test"}],"tags":[],"owner":{"account_id":2077480,"reputation":64,"user_id":1850410,"display_name":"zeeke"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1685880888,"creation_date":1485762439,"answer_id":41931053,"question_id":41930552,"body_markdown":"You can use the GRADLE_OPTS environment variable. Here is the [documentation][1]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables","title":"How can I pass VM arguments to gradle from command line?","body":"<p>You can use the GRADLE_OPTS environment variable. Here is the <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_environment_variables\" rel=\"nofollow noreferrer\">documentation</a></p>\n"},{"comments":[{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":1,"creation_date":1623393060,"post_id":66019185,"comment_id":120070963,"body_markdown":"Should you list all of your JVM args behind one parameter like this multiple ?","body":"Should you list all of your JVM args behind one parameter like this multiple ?"},{"owner":{"account_id":3486966,"reputation":2270,"user_id":2917630,"display_name":"ultraon"},"score":1,"creation_date":1626302037,"post_id":66019185,"comment_id":120859747,"body_markdown":"It depends on jvmArgs doc, more complex example: org.gradle.jvmargs=-Xms2g -Xmx4g -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g -Dkotlin.daemon.jvm.options=&quot;-Xmx2g&quot; -Dfile.encoding=UTF-8 -Dkotlin.compiler.execution.strategy=&quot;in-process&quot;","body":"It depends on jvmArgs doc, more complex example: org.gradle.jvmargs=-Xms2g -Xmx4g -XX:MaxPermSize=1024m -XX:MaxMetaspaceSize=1g -Dkotlin.daemon.jvm.options=&quot;-Xmx2g&quot; -Dfile.encoding=UTF-8 -Dkotlin.compiler.execution.strategy=&quot;in-process&quot;"}],"tags":[],"owner":{"account_id":3486966,"reputation":2270,"user_id":2917630,"display_name":"ultraon"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1675220788,"creation_date":1612309320,"answer_id":66019185,"question_id":41930552,"body_markdown":"Try this:\r\n\r\n    ./gradlew -Dorg.gradle.jvmargs=-Xmx16g wrapper\r\n\r\n---\r\n## NOTE\r\n- Pay attention to `-D`, this marks the *property* to be passed to Gradle and JVM.\r\n- Using `-P` a property is passed as Gradle *project property*.\r\n","title":"How can I pass VM arguments to gradle from command line?","body":"<p>Try this:</p>\n<pre><code>./gradlew -Dorg.gradle.jvmargs=-Xmx16g wrapper\n</code></pre>\n<hr />\n<h2>NOTE</h2>\n<ul>\n<li>Pay attention to <code>-D</code>, this marks the <em>property</em> to be passed to Gradle and JVM.</li>\n<li>Using <code>-P</code> a property is passed as Gradle <em>project property</em>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7468655,"reputation":758,"user_id":5677294,"display_name":"Dave Kraczo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649237431,"creation_date":1649237431,"answer_id":71764282,"question_id":41930552,"body_markdown":"Hi for Intellij IDEA run you can add property to JM Options at Run Configuration.\r\nFirst make sure you have enabled add VM options at Modify Options\r\n[![enter image description here][1]][1]\r\n\r\nAfter that add --add-opens java.base/java.util=ALL-UNNAMED\r\nto vm option\r\n\r\n[\r\n![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YVZ2L.png\r\n  [2]: https://i.stack.imgur.com/1dbvY.png\r\n\r\n\r\nFor deployment add options to gradle run as @ultraon described or for  Docker add to run_script.sh as JAVA_OPTS\r\n\r\nJAVA_OPTS=&quot;-XX:+UseG1GC \\\r\n    -Xms512m \\\r\n    -Xmx2048m \\\r\n    --add-opens java.base/java.util=ALL-UNNAMED\r\n    -Dspring.profiles.active=$PROFILE,discovery&quot;\r\n\r\n","title":"How can I pass VM arguments to gradle from command line?","body":"<p>Hi for Intellij IDEA run you can add property to JM Options at Run Configuration.\nFirst make sure you have enabled add VM options at Modify Options\n<a href=\"https://i.stack.imgur.com/YVZ2L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVZ2L.png\" alt=\"enter image description here\" /></a></p>\n<p>After that add --add-opens java.base/java.util=ALL-UNNAMED\nto vm option</p>\n<p><a href=\"https://i.stack.imgur.com/1dbvY.png\" rel=\"nofollow noreferrer\">\n<img src=\"https://i.stack.imgur.com/1dbvY.png\" alt=\"enter image description here\" /></a></p>\n<p>For deployment add options to gradle run as @ultraon described or for  Docker add to run_script.sh as JAVA_OPTS</p>\n<p>JAVA_OPTS=&quot;-XX:+UseG1GC <br />\n-Xms512m <br />\n-Xmx2048m <br />\n--add-opens java.base/java.util=ALL-UNNAMED\n-Dspring.profiles.active=$PROFILE,discovery&quot;</p>\n"}],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29948,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":41931053,"answer_count":3,"score":16,"last_activity_date":1685880888,"creation_date":1485760056,"question_id":41930552,"body_markdown":"How can I pass VM arguments to gradle from command line. The Gradle Tool option in Idea is working fine ( screehshot attached).\r\nI am trying to pass --add-opens to gradle and am aware of -P but it is not working.\r\n\r\n[The GRADLE VM options from the Idea][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nUxnr.png","title":"How can I pass VM arguments to gradle from command line?","body":"<p>How can I pass VM arguments to gradle from command line. The Gradle Tool option in Idea is working fine ( screehshot attached).\nI am trying to pass --add-opens to gradle and am aware of -P but it is not working.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nUxnr.png\" rel=\"noreferrer\">The GRADLE VM options from the Idea</a></p>\n"},{"tags":["java","selenium-webdriver","selenium-ide"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1685954057,"post_id":76397818,"comment_id":134727489,"body_markdown":"The &#39;About&#39; seems to be broken.","body":"The &#39;About&#39; seems to be broken."}],"owner":{"account_id":22945300,"reputation":3,"user_id":17077358,"display_name":"kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685880130,"creation_date":1685822124,"question_id":76397818,"body_markdown":"I’m encountering an issue with an element not being clickable when scrolling while working in Selenium/Java.\r\n\r\nI am learning Selenium through the website https://saucelabs.com. After login, I naviagate the pricing page and in the pricing page I have to choose a monthly $50 plan and for that I need to click on subscribe for this plan. When I use the `xpath` and complete xpath in both cases it is not working. Below is my code. \r\n\r\nHow can I make the element clickable while scrolling?\r\n    \r\n\r\n```package codeclass;\r\npublic class assign1code {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\r\n        driver.manage().window().maximize();\r\n\r\n        driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\r\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\r\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\r\n        driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\r\n        new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()=&#39;About&#39;]&quot;))).click();\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/header/div/div/div[1]/div[2]/div/div[2]/a/span&quot;)).click();\r\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\r\n        jse.executeScript(&quot;scroll(0, 4100)&quot;); // if the element is on bottom.\r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/button&quot;)).click();\r\n        JavascriptExecutor jsee = (JavascriptExecutor) driver;\r\n        jsee.executeScript(&quot;scroll(0, 4100)&quot;); \r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/div/div/div/div/div/div[3]/button&quot;)).click();\r\n        JavascriptExecutor jseee = (JavascriptExecutor) driver;\r\n        jseee.executeScript(&quot;scroll(0, 6100)&quot;); \r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div/div[2]/div[2]/div/div[2]/div[4]/div/a&quot;)).click();\r\n    }\r\n}","title":"element not clickable when scrolling","body":"<p>I’m encountering an issue with an element not being clickable when scrolling while working in Selenium/Java.</p>\n<p>I am learning Selenium through the website <a href=\"https://saucelabs.com\" rel=\"nofollow noreferrer\">https://saucelabs.com</a>. After login, I naviagate the pricing page and in the pricing page I have to choose a monthly $50 plan and for that I need to click on subscribe for this plan. When I use the <code>xpath</code> and complete xpath in both cases it is not working. Below is my code.</p>\n<p>How can I make the element clickable while scrolling?</p>\n<pre><code>public class assign1code {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;src/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.saucedemo.com/&quot;);\n        driver.manage().window().maximize();\n\n        driver.findElement(By.id(&quot;user-name&quot;)).sendKeys(&quot;standard_user&quot;);\n        driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;secret_sauce&quot;);\n        driver.findElement(By.id(&quot;login-button&quot;)).click();\n        driver.findElement(By.id(&quot;react-burger-menu-btn&quot;)).click();\n        new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//nav/a[text()='About']&quot;))).click();\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;__next\\&quot;]/header/div/div/div[1]/div[2]/div/div[2]/a/span&quot;)).click();\n        JavascriptExecutor jse = (JavascriptExecutor) driver;\n        jse.executeScript(&quot;scroll(0, 4100)&quot;); // if the element is on bottom.\n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/button&quot;)).click();\n        JavascriptExecutor jsee = (JavascriptExecutor) driver;\n        jsee.executeScript(&quot;scroll(0, 4100)&quot;); \n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;credits-calculator\\&quot;]/div/div/div/div/div/div[3]/button&quot;)).click();\n        JavascriptExecutor jseee = (JavascriptExecutor) driver;\n        jseee.executeScript(&quot;scroll(0, 6100)&quot;); \n        Thread.sleep(3000);\n        driver.findElement(By.xpath(&quot;/html/body/div[1]/div[2]/div/div[2]/div[2]/div/div[2]/div[4]/div/a&quot;)).click();\n    }\n}\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685879723,"creation_date":1685722956,"answer_id":76391915,"question_id":76390643,"body_markdown":"Mapstruct *is* capable of that with no extra code needed. Here&#39;s the generated method\r\n```java\r\n@Override\r\n    public QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto, Authentication auth) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        QuestionComment questionComment = new QuestionComment();\r\n\r\n        questionComment.setText( dto.text() );\r\n\r\n        enrichWithOwner( questionComment, auth );\r\n        enrichWithQuestion( questionComment, dto ); // ← look at it\r\n\r\n        return questionComment;\r\n    }\r\n```\r\nWhat made me post this question was largely the fact that a chat bot said Mapstruct wouldn&#39;t pass the source object because\r\n\r\n&gt; Any source parameters used in the regular mapping method are not passed to the @AfterMapping method, as they are not needed for any further mapping operations at that point.\r\n\r\nIt appears the chat bot was mistaken on that","title":"Is Mapstruct capable of passing a source object to an @AfterMapping method?","body":"<p>Mapstruct <em>is</em> capable of that with no extra code needed. Here's the generated method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto, Authentication auth) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        QuestionComment questionComment = new QuestionComment();\n\n        questionComment.setText( dto.text() );\n\n        enrichWithOwner( questionComment, auth );\n        enrichWithQuestion( questionComment, dto ); // ← look at it\n\n        return questionComment;\n    }\n</code></pre>\n<p>What made me post this question was largely the fact that a chat bot said Mapstruct wouldn't pass the source object because</p>\n<blockquote>\n<p>Any source parameters used in the regular mapping method are not passed to the @AfterMapping method, as they are not needed for any further mapping operations at that point.</p>\n</blockquote>\n<p>It appears the chat bot was mistaken on that</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76391915,"answer_count":1,"score":0,"last_activity_date":1685879723,"creation_date":1685712784,"question_id":76390643,"body_markdown":"Consider this code\r\n```java\r\n@Mapper\r\n@RequiredArgsConstructor\r\npublic abstract class QuestionCommentMapper {\r\n    protected final QuestionService questionService;\r\n\r\n    public abstract QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto,\r\n                                                                          @Context Authentication auth);\r\n\r\n    @AfterMapping\r\n    protected void enrichWithOwner(@MappingTarget QuestionComment questionComment, @Context Authentication auth) {\r\n        Account owner = AuthenticationProcessor.extractAccount(auth);\r\n        questionComment.setOwner(owner);\r\n    }\r\n\r\n    @AfterMapping\r\n    protected void enrichWithQuestion(@MappingTarget QuestionComment questionComment,\r\n                                      @Context QuestionCommentRequestDto dto) {\r\n        Long questionId = dto.questionId();\r\n        Question question = questionService.getById(questionId);\r\n        questionComment.setQuestion(question);\r\n    }\r\n}\r\n```\r\n**Would Mapstruct pass a `QuestionCommentRequestDto` object to the `enrichWithQuestion()` method which is a source in the original mapping method? If not, how can I perform that second &quot;enriching&quot; without forgoing Mapstruct&#39;s code generation?** If I write anything in the mapping method (e.g. use the `QuestionCommentRequestDto` instance to set `QuestionComment`&#39;s `Question` field, as in my `enrichWithQuestion()` method), Mapstruct won&#39;t generate anything, and I&#39;ll have to basically write everything manually","title":"Is Mapstruct capable of passing a source object to an @AfterMapping method?","body":"<p>Consider this code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\n@RequiredArgsConstructor\npublic abstract class QuestionCommentMapper {\n    protected final QuestionService questionService;\n\n    public abstract QuestionComment dtoAndAuthenticationToQuestionComment(QuestionCommentRequestDto dto,\n                                                                          @Context Authentication auth);\n\n    @AfterMapping\n    protected void enrichWithOwner(@MappingTarget QuestionComment questionComment, @Context Authentication auth) {\n        Account owner = AuthenticationProcessor.extractAccount(auth);\n        questionComment.setOwner(owner);\n    }\n\n    @AfterMapping\n    protected void enrichWithQuestion(@MappingTarget QuestionComment questionComment,\n                                      @Context QuestionCommentRequestDto dto) {\n        Long questionId = dto.questionId();\n        Question question = questionService.getById(questionId);\n        questionComment.setQuestion(question);\n    }\n}\n</code></pre>\n<p><strong>Would Mapstruct pass a <code>QuestionCommentRequestDto</code> object to the <code>enrichWithQuestion()</code> method which is a source in the original mapping method? If not, how can I perform that second &quot;enriching&quot; without forgoing Mapstruct's code generation?</strong> If I write anything in the mapping method (e.g. use the <code>QuestionCommentRequestDto</code> instance to set <code>QuestionComment</code>'s <code>Question</code> field, as in my <code>enrichWithQuestion()</code> method), Mapstruct won't generate anything, and I'll have to basically write everything manually</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685879597,"creation_date":1685879597,"answer_id":76400287,"question_id":76393242,"body_markdown":"**Step 1.** Annotate your all-args and factory method as `@JsonCreator`\r\n```java\r\npublic class Person {\r\n    private int id;\r\n    private String name;\r\n\r\n    @JsonCreator\r\n    public Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\n```java\r\npublic final class Data&lt;T&gt; {\r\n\r\n    private final T data;\r\n\r\n    private Data(T data) {\r\n        this.data = data;\r\n    }\r\n    \r\n    @JsonCreator\r\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\r\n        return new Data&lt;&gt;(data);\r\n    }\r\n}\r\n```\r\n**Step 2.** Register the `ParameterNamesModule`. This will help Jackson map constructor/ factory method parameters to their eponymous fields automatically\r\n```java\r\nnew ObjectMapper().registerModule(new ParameterNamesModule());\r\n```\r\n**Step 3.** Make sure to create and pass a `TypeReference` object\r\n```java\r\n        TypeReference&lt;Data&lt;Person&gt;&gt; typeReference =\r\n                new TypeReference&lt;&gt;() {};\r\n        Data&lt;Person&gt; deserializedPersonJson =\r\n                objectMapper.readValue(personJson, typeReference);\r\n```","title":"How can I make Jackson deserialize a JSON into an object wrapped in a generic wrapper that uses factory instantiation?","body":"<p><strong>Step 1.</strong> Annotate your all-args and factory method as <code>@JsonCreator</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private int id;\n    private String name;\n\n    @JsonCreator\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Data&lt;T&gt; {\n\n    private final T data;\n\n    private Data(T data) {\n        this.data = data;\n    }\n    \n    @JsonCreator\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\n        return new Data&lt;&gt;(data);\n    }\n}\n</code></pre>\n<p><strong>Step 2.</strong> Register the <code>ParameterNamesModule</code>. This will help Jackson map constructor/ factory method parameters to their eponymous fields automatically</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().registerModule(new ParameterNamesModule());\n</code></pre>\n<p><strong>Step 3.</strong> Make sure to create and pass a <code>TypeReference</code> object</p>\n<pre class=\"lang-java prettyprint-override\"><code>        TypeReference&lt;Data&lt;Person&gt;&gt; typeReference =\n                new TypeReference&lt;&gt;() {};\n        Data&lt;Person&gt; deserializedPersonJson =\n                objectMapper.readValue(personJson, typeReference);\n</code></pre>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76400287,"answer_count":1,"score":1,"last_activity_date":1685879597,"creation_date":1685736940,"question_id":76393242,"body_markdown":"Consider this JSON\r\n```txt\r\n{\r\n&quot;data&quot;: \r\n    {\r\n     &quot;id&quot;: 1,\r\n     &quot;name&quot;: &quot;Sergey&quot;\r\n    }\r\n}\r\n```\r\nSuppose, I want it to be deserialized into\r\n```java\r\nData&lt;Person&gt; person;\r\n```\r\nSuppose, `Person` is a simple class with a canonical constructor\r\n```java\r\npublic class Person {\r\n    private int id;\r\n    private String name;\r\n    public Person(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n}\r\n```\r\nSuppose, `Data` is a bit trickier: it is generic and its instantiation relies on a static factory method. Its no-args constructor is `private` and is not supposed to be used anywhere else\r\n```java\r\npublic final class Data&lt;T&gt; {\r\n\r\n    private final T data;\r\n\r\n    private Data(T data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\r\n        return new Data&lt;&gt;(data);\r\n    }\r\n}\r\n```\r\n**How do I make Jackson perform that deserialization in the most concise and efficient way possible?** Does [this Baeldung article][1] provide an exemplary solution to this problem? I heard it now occasionally uses AI-generated text so I want to make sure I can&#39;t achieve it in a way that is shorter and clearer\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-deserialization","title":"How can I make Jackson deserialize a JSON into an object wrapped in a generic wrapper that uses factory instantiation?","body":"<p>Consider this JSON</p>\n<pre><code>{\n&quot;data&quot;: \n    {\n     &quot;id&quot;: 1,\n     &quot;name&quot;: &quot;Sergey&quot;\n    }\n}\n</code></pre>\n<p>Suppose, I want it to be deserialized into</p>\n<pre class=\"lang-java prettyprint-override\"><code>Data&lt;Person&gt; person;\n</code></pre>\n<p>Suppose, <code>Person</code> is a simple class with a canonical constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    private int id;\n    private String name;\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n}\n</code></pre>\n<p>Suppose, <code>Data</code> is a bit trickier: it is generic and its instantiation relies on a static factory method. Its no-args constructor is <code>private</code> and is not supposed to be used anywhere else</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Data&lt;T&gt; {\n\n    private final T data;\n\n    private Data(T data) {\n        this.data = data;\n    }\n\n    public static &lt;T&gt; Data&lt;T&gt; build(T data) {\n        return new Data&lt;&gt;(data);\n    }\n}\n</code></pre>\n<p><strong>How do I make Jackson perform that deserialization in the most concise and efficient way possible?</strong> Does <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">this Baeldung article</a> provide an exemplary solution to this problem? I heard it now occasionally uses AI-generated text so I want to make sure I can't achieve it in a way that is shorter and clearer</p>\n"},{"tags":["java","android","floating-action-button","bottomappbar"],"owner":{"account_id":3672042,"reputation":169,"user_id":4905091,"accept_rate":75,"display_name":"Ambreen Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685879213,"creation_date":1685879213,"question_id":76400248,"body_markdown":"Respectable Gurus,\r\nI am trying to add fab button with expandable arc / radial menu in android.material.bottomappbar.BottomAppBar using xml and java class, after a lot of research I did not succeed.\r\nI want the bottom bar with menu like screenshot bellow.\r\nAny Help will be appreciated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XJ0AK.png","title":"floating action button radial menu in BottomAppBar android java","body":"<p>Respectable Gurus,\nI am trying to add fab button with expandable arc / radial menu in android.material.bottomappbar.BottomAppBar using xml and java class, after a lot of research I did not succeed.\nI want the bottom bar with menu like screenshot bellow.\nAny Help will be appreciated.</p>\n<p><a href=\"https://i.stack.imgur.com/XJ0AK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XJ0AK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","reflection","dynamic-proxy"],"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1352285083,"post_id":13267990,"comment_id":18083930,"body_markdown":"@gefei it has a much more specific meaning in Java: http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html","body":"@gefei it has a much more specific meaning in Java: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/reflect/Proxy.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352285146,"post_id":13267990,"comment_id":18083964,"body_markdown":"Thanks. Suppose ,I have class Dog and there I have a method bark(). So  in which situation I will need a proxy for the Dog class please?","body":"Thanks. Suppose ,I have class Dog and there I have a method bark(). So  in which situation I will need a proxy for the Dog class please?"},{"owner":{"account_id":955054,"reputation":5629,"user_id":980520,"accept_rate":90,"display_name":"lynks"},"score":0,"creation_date":1352285326,"post_id":13267990,"comment_id":18084034,"body_markdown":"From that definition it sounds like it is just talking about `implements`.","body":"From that definition it sounds like it is just talking about <code>implements</code>."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1352285327,"post_id":13267990,"comment_id":18084035,"body_markdown":"If the Dog proxy is really a front for an instance running on a remote machine.  You don&#39;t have to know whether the Dog that&#39;s barking in your app lives in your address space or across the world.","body":"If the Dog proxy is really a front for an instance running on a remote machine.  You don&#39;t have to know whether the Dog that&#39;s barking in your app lives in your address space or across the world."},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352285600,"post_id":13267990,"comment_id":18084153,"body_markdown":"the book says ---The proxy\nimplements the same interface as the target so that it can be used in exactly the\nsame way. The proxy delegates some or all of the calls that it receives to its target\nand thus acts as either an intermediary or a substitute. In its role as an intermedi-ary, the proxy may add functionality either before or after the method is for-warded to the target. This gives the reflective programmer the capability to add\nbehavior to objects--- does this mean Dog class must have to implement interfcae if it wants to have its Proxy?","body":"the book says ---The proxy implements the same interface as the target so that it can be used in exactly the same way. The proxy delegates some or all of the calls that it receives to its target and thus acts as either an intermediary or a substitute. In its role as an intermedi-ary, the proxy may add functionality either before or after the method is for-warded to the target. This gives the reflective programmer the capability to add behavior to objects--- does this mean Dog class must have to implement interfcae if it wants to have its Proxy?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1352286198,"post_id":13267990,"comment_id":18084416,"body_markdown":"please edit your question with further details (instead of doing so in a longish comment), it&#39;s easier to read and answer :-)","body":"please edit your question with further details (instead of doing so in a longish comment), it&#39;s easier to read and answer :-)"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1352286284,"post_id":13267990,"comment_id":18084445,"body_markdown":"Didn&#39;t the book outline examples?","body":"Didn&#39;t the book outline examples?"},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352352537,"post_id":13267990,"comment_id":18109253,"body_markdown":"Yes, the book did provide example but I need simple ones please.","body":"Yes, the book did provide example but I need simple ones please."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352285862,"creation_date":1352285862,"answer_id":13268289,"question_id":13267990,"body_markdown":"The classic example is an RMI proxy, where a method call made on a local proxy object result in a method call on the proxied object that resides in another JVM on another machine.\r\n\r\nThe proxy allows the caller to treat the remote object as if it was a local object ...in most respects.","title":"What are Proxy in the Reflection API good for?","body":"<p>The classic example is an RMI proxy, where a method call made on a local proxy object result in a method call on the proxied object that resides in another JVM on another machine.</p>\n\n<p>The proxy allows the caller to treat the remote object as if it was a local object ...in most respects.</p>\n"},{"comments":[{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352288379,"post_id":13268333,"comment_id":18085291,"body_markdown":"can proxies be considered like java servlet Filter please?","body":"can proxies be considered like java servlet Filter please?"},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":0,"creation_date":1352290256,"post_id":13268333,"comment_id":18086123,"body_markdown":"For Generic Wrappers, yes. For Virtual Objects, no.","body":"For Generic Wrappers, yes. For Virtual Objects, no."},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352356591,"post_id":13268333,"comment_id":18110439,"body_markdown":"I have found this link as an easy example . http://www.javalobby.org/java/forums/t18631.html. Do you agree please?","body":"I have found this link as an easy example . <a href=\"http://www.javalobby.org/java/forums/t18631.html\" rel=\"nofollow noreferrer\">javalobby.org/java/forums/t18631.html</a>. Do you agree please?"},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":0,"creation_date":1352360430,"post_id":13268333,"comment_id":18111638,"body_markdown":"@user1805790 Agree about what? The example is *technically* valid, but it make little sense in itself. You can read the comment by  Mikhail Galyutin at the bottom of the blog post.","body":"@user1805790 Agree about what? The example is <i>technically</i> valid, but it make little sense in itself. You can read the comment by  Mikhail Galyutin at the bottom of the blog post."},{"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"score":0,"creation_date":1352366085,"post_id":13268333,"comment_id":18113675,"body_markdown":"Ok. Thanks again. Do you know any such link that provides this kind of easy example please?","body":"Ok. Thanks again. Do you know any such link that provides this kind of easy example please?"},{"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"score":0,"creation_date":1352370451,"post_id":13268333,"comment_id":18115684,"body_markdown":"@user1805790 Better read this article http://www.ibm.com/developerworks/java/library/j-jtp08305/index.html","body":"@user1805790 Better read this article <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp08305/index.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp08305/index.html</a>"}],"tags":[],"owner":{"account_id":76005,"reputation":38195,"user_id":217862,"accept_rate":64,"display_name":"ewernli"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1352286666,"creation_date":1352286011,"answer_id":13268333,"question_id":13267990,"body_markdown":"Well, proxy is just a *mechanism*, you can do diffrent things with and a lot of framework use them in various ways. \n\nHere are however &quot;classical&quot; areas where proxies can be used:\n\n* *Access control*: intercept invocations and perform some control check\n* *Security*: you can wrap/unwrap references as they flow across modules to perform checks and restrict certain actions\n* *Persistence*: only the proxy is available, and data are loaded on demand from another storage medium\n* *Lazy loading*: the proxy load or compute information only when needed\n* *Asynchrony*: the proxy is a handle for a result that will be available later (so-called transparent future)\n* *Remoting*: the proxy provide the illusion of having the object localy, and deals with remote communication\n* *Contracts*: ensure the pre- and post-conditions are met before and after an invocation\n* *AOP*: aspect-oriented programming rely on the ability to intercept method invocation. One technique to do so it so use proxies.\n\n*Note: these areas have some overlap.* \n\nIn the paper &quot;[On the design of the ECMAScript Reflection API][1]&quot;, the authors distighuish between two main kinds of proxies: \n \n&gt; *Generic wrappers*. Proxies that wrap other objects in the same address\n&gt; space. Ex- ample uses include access control wrappers (e.g. revokable\n&gt; references), higher-order contracts [Findler and Felleisen 2002],\n&gt; profiling, taint tracking, etc. \n&gt;\n&gt; *Virtual objects*. Proxies that emulate\n&gt; other objects, without the emulated objects having to be present in\n&gt; the same address space. Examples include remote object proxies\n&gt; (emulate objects in other address spaces), persistent objects (emulate\n&gt; objects stored in databases), transparent futures (emulate objects not\n&gt; yet computed), lazily instantiated objects, test mock-ups, etc.\n\nI think it covers more or less the areas I describe before. But no list will be complete. There is not fixed case for proxies--it is a generic mechanism or principle. \n\n  [1]: http://www.techrepublic.com/whitepapers/on-the-design-of-the-ecmascript-reflection-api/4039313","title":"What are Proxy in the Reflection API good for?","body":"<p>Well, proxy is just a <em>mechanism</em>, you can do diffrent things with and a lot of framework use them in various ways.</p>\n<p>Here are however &quot;classical&quot; areas where proxies can be used:</p>\n<ul>\n<li><em>Access control</em>: intercept invocations and perform some control check</li>\n<li><em>Security</em>: you can wrap/unwrap references as they flow across modules to perform checks and restrict certain actions</li>\n<li><em>Persistence</em>: only the proxy is available, and data are loaded on demand from another storage medium</li>\n<li><em>Lazy loading</em>: the proxy load or compute information only when needed</li>\n<li><em>Asynchrony</em>: the proxy is a handle for a result that will be available later (so-called transparent future)</li>\n<li><em>Remoting</em>: the proxy provide the illusion of having the object localy, and deals with remote communication</li>\n<li><em>Contracts</em>: ensure the pre- and post-conditions are met before and after an invocation</li>\n<li><em>AOP</em>: aspect-oriented programming rely on the ability to intercept method invocation. One technique to do so it so use proxies.</li>\n</ul>\n<p><em>Note: these areas have some overlap.</em></p>\n<p>In the paper &quot;<a href=\"http://www.techrepublic.com/whitepapers/on-the-design-of-the-ecmascript-reflection-api/4039313\" rel=\"nofollow noreferrer\">On the design of the ECMAScript Reflection API</a>&quot;, the authors distighuish between two main kinds of proxies:</p>\n<blockquote>\n<p><em>Generic wrappers</em>. Proxies that wrap other objects in the same address\nspace. Ex- ample uses include access control wrappers (e.g. revokable\nreferences), higher-order contracts [Findler and Felleisen 2002],\nprofiling, taint tracking, etc.</p>\n<p><em>Virtual objects</em>. Proxies that emulate\nother objects, without the emulated objects having to be present in\nthe same address space. Examples include remote object proxies\n(emulate objects in other address spaces), persistent objects (emulate\nobjects stored in databases), transparent futures (emulate objects not\nyet computed), lazily instantiated objects, test mock-ups, etc.</p>\n</blockquote>\n<p>I think it covers more or less the areas I describe before. But no list will be complete. There is not fixed case for proxies--it is a generic mechanism or principle.</p>\n"}],"owner":{"account_id":2019220,"reputation":13,"user_id":1805790,"display_name":"user1805790"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13268333,"answer_count":2,"score":1,"last_activity_date":1685878454,"creation_date":1352284880,"question_id":13267990,"body_markdown":"I am learning the concepts of reflection and I am reading &quot;Java Reflection In action&quot; book. I have just started with the chapter &quot;Proxy&quot; where it says &quot;a proxy, that supports the interface of\r\nanother object, its target, so that the proxy can substitute for the target for all practical purposes&quot; .\r\n\r\nCan I have a real life easy example to understand this concept of proxy please?","title":"What are Proxy in the Reflection API good for?","body":"<p>I am learning the concepts of reflection and I am reading \"Java Reflection In action\" book. I have just started with the chapter \"Proxy\" where it says \"a proxy, that supports the interface of\nanother object, its target, so that the proxy can substitute for the target for all practical purposes\" .</p>\n\n<p>Can I have a real life easy example to understand this concept of proxy please?</p>\n"},{"tags":["java","spring","maven","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685809681,"creation_date":1685809681,"answer_id":76396961,"question_id":76396251,"body_markdown":"Looking at the Spring Boot version, you are using Spring Data Elasticsearch 4.4.x (which now is out of maintenance). You are using the configuration for the new Elasticsearch Client (`org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration`). The use of the then new client was introduced in 4.4 as a still new and potentially unstable feature.\r\n\r\nI am not seeing that you set the `jakarta-json.version` (see [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients) about configuration of the new client.\r\n\r\nDo you special reasons why you override and provide `getElasticsearchTransport()` and `getElasticsearchClient()`? These beans are alrea provided by the base class, the only method you need to provide is the one providing the configuration.\r\n\r\nRemember that when using that version and connecting to Elasticsearch 8 you need to set the compatibility headers on each request, see [the documentation](https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch.clients.configuration) about that.\r\n\r\nI&#39;d recommend you use an up to date version of Spring Data Elasticsearch.\r\n\r\n\r\n\r\n","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>Looking at the Spring Boot version, you are using Spring Data Elasticsearch 4.4.x (which now is out of maintenance). You are using the configuration for the new Elasticsearch Client (<code>org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration</code>). The use of the then new client was introduced in 4.4 as a still new and potentially unstable feature.</p>\n<p>I am not seeing that you set the <code>jakarta-json.version</code> (see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients\" rel=\"nofollow noreferrer\">the documentation</a> about configuration of the new client.</p>\n<p>Do you special reasons why you override and provide <code>getElasticsearchTransport()</code> and <code>getElasticsearchClient()</code>? These beans are alrea provided by the base class, the only method you need to provide is the one providing the configuration.</p>\n<p>Remember that when using that version and connecting to Elasticsearch 8 you need to set the compatibility headers on each request, see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.4.12/reference/html/#elasticsearch.clients.configuration\" rel=\"nofollow noreferrer\">the documentation</a> about that.</p>\n<p>I'd recommend you use an up to date version of Spring Data Elasticsearch.</p>\n"},{"tags":[],"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685810828,"creation_date":1685810828,"answer_id":76397039,"question_id":76396251,"body_markdown":"You are using [spring-boot-starter-parent:2.7.12](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.12), which means you are using [spring-boot-starter-data-elasticsearch:2.7.12](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch/2.7.12). If you look at the dependencies, the last one has a dependency on [spring-data-elasticsearch:4.4.12](https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.4.12). The [migration guide for 4.4.x](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4) says that you need to [manually add some dependencies](https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients.how-to.dependencies). I&#39;m not seeing any of those dependencies in the `pom.xml` you showed in the question.","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>You are using <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter/2.7.12\" rel=\"nofollow noreferrer\">spring-boot-starter-parent:2.7.12</a>, which means you are using <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch/2.7.12\" rel=\"nofollow noreferrer\">spring-boot-starter-data-elasticsearch:2.7.12</a>. If you look at the dependencies, the last one has a dependency on <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-elasticsearch/4.4.12\" rel=\"nofollow noreferrer\">spring-data-elasticsearch:4.4.12</a>. The <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4\" rel=\"nofollow noreferrer\">migration guide for 4.4.x</a> says that you need to <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#elasticsearch-migration-guide-4.3-4.4.new-clients.how-to.dependencies\" rel=\"nofollow noreferrer\">manually add some dependencies</a>. I'm not seeing any of those dependencies in the <code>pom.xml</code> you showed in the question.</p>\n"}],"owner":{"account_id":26132574,"reputation":21,"user_id":19823079,"display_name":"Carlos Ruiz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1062,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685876281,"creation_date":1685797684,"question_id":76396251,"body_markdown":"I am new on ElasticSearch, and I would like to have a Spring Boot Application that connects to a database ElasticSearch 8.6, in order to do CRUD operations over an index.\r\nI was trying to do a CRUD application using Spring Boot with ElasticSearch database.\r\n\r\nEntity:\r\n\r\n```\r\n@Document(createIndex = true, indexName = &quot;client&quot;)\r\npublic class ClientEntity {\r\n\r\n  public ClientEntity() {\r\n    super();\r\n  }\r\n\r\n  @Id\r\n  private String id;\r\n\r\n  @Field(type = FieldType.Text, name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @Field(type = FieldType.Long, name = &quot;phoneNumber&quot;)\r\n  private Long phone;\r\n```\r\n\r\nThe repository interface from spring data is:\r\n\r\n```    \r\n    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\r\n    import org.springframework.stereotype.Repository;\r\n\r\n    @Repository\r\n    public interface ClientRepository extends ElasticsearchRepository&lt;ClientEntity, String&gt; {\r\n    \r\n    }\r\n```\r\n\r\nElastic search config:\r\n```\r\n    import org.apache.http.HttpHost;\r\n    import org.apache.http.auth.AuthScope;\r\n    import org.apache.http.auth.UsernamePasswordCredentials;\r\n    import org.apache.http.client.CredentialsProvider;\r\n    import org.apache.http.impl.client.BasicCredentialsProvider;\r\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\r\n    import org.elasticsearch.client.RestClient;\r\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\r\n    import org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration;\r\n    import     org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n    \r\n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\r\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\r\n    import co.elastic.clients.transport.ElasticsearchTransport;\r\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\r\n    \r\n    @Configuration\r\n    public class ConfigElasticSearch extends ElasticsearchConfiguration {\r\n      @Bean\r\n      public ElasticsearchTransport getElasticsearchTransport() {\r\n        return new RestClientTransport(getRestClient(), new JacksonJsonpMapper());\r\n      }\r\n\r\n      @Bean\r\n      public ElasticsearchClient getElasticsearchClient() {\r\n        ElasticsearchClient client = new ElasticsearchClient(getElasticsearchTransport());\r\n        return client;\r\n      }\r\n\r\n      @Override\r\n      public ClientConfiguration clientConfiguration() {\r\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;)\r\n         .withBasicAuth(&quot;user&quot;, &quot;my-password&quot;).build();\r\n      }\r\n\r\n```\r\npom.xml:\r\n```\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.7.12&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;java.version&gt;17&lt;/java.version&gt;\r\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n      &lt;json-web-token.version&gt;0.9.1&lt;/json-web-token.version&gt;   \r\n      &lt;org-modelmapper.version&gt;3.1.1&lt;/org-modelmapper.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n            &lt;version&gt;${org-modelmapper.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n           &lt;/dependency&gt;\r\n    \r\n    &lt;!-- ES --&gt;\r\n           &lt;dependency&gt;\r\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n              &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n          &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n         &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;    \r\n\r\n```\r\n\r\nThe service that uses the Spring Data repository is the following:\r\n\r\n```\r\n\r\n    @Service(&quot;clientPersistence&quot;)\r\n    public class ClientPersistenceElasticSearchDb {\r\n\r\n      @Autowired\r\n      private ClientRepository clientRepository;\r\n\r\n      public Stream\\&lt;ClientEntity\\&gt; findAll() {\r\n       return StreamSupport.stream(this.clientRepository.findAll().spliterator(), false);\r\n      }\r\n\r\n      public Optional\\&lt;ClientEntity\\&gt; findById(String id) {\r\n        return clientRepository.findById(id);\r\n      }\r\n    }\r\n\r\n```\r\n\r\nThe main configuration for my microservice is:\r\n```\r\n\r\n    @SpringBootApplication\r\n    public class ClientMicroserviceApplication {\r\n\r\n      public static void main(String[] args) {\r\n        SpringApplication.run(EmpleadosMicroservicioApplication.class, args);\r\n      }\r\n\r\n    }\r\n\r\n```\r\n\r\nIf I start my microservice, I get the following when starting (and then, the microservice hangs):\r\n\r\n&gt; \r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;clientPersistencia&#39;: Unsatisfied dependency expressed through field &#39;clientRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;clientRepository&#39; defined in es.clientmicroservice.dao.clientRepository defined in @EnableElasticsearchRepositories declared on ConfigElasticSearch : Cannot resolve reference to bean &#39;elasticsearchTemplate&#39; while setting bean property &#39;elasticsearchOperations&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;elasticsearchOperations&#39; defined in class path resource \\[es/clientmicroservice/config/ConfigElasticSearch .class\\]: Unsatisfied dependency expressed through method &#39;elasticsearchOperations&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticsearchClient&#39; defined in class path resource \\[es/clientmicroservice/config/ConfigElasticSearch .class\\]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \\[co.elastic.clients.elasticsearch.ElasticsearchClient\\]: Factory method &#39;elasticsearchClient&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider\r\n\r\nI don&#39;t know why my class clientPersistence is not build because missing JsonProvider dependency.\r\n\r\nAny one could help me?\r\n\r\nThank you in advance!!\r\n```","title":"Issue connecting a spring boot application with elasticsearch 8.6 using spring data","body":"<p>I am new on ElasticSearch, and I would like to have a Spring Boot Application that connects to a database ElasticSearch 8.6, in order to do CRUD operations over an index.\nI was trying to do a CRUD application using Spring Boot with ElasticSearch database.</p>\n<p>Entity:</p>\n<pre><code>@Document(createIndex = true, indexName = &quot;client&quot;)\npublic class ClientEntity {\n\n  public ClientEntity() {\n    super();\n  }\n\n  @Id\n  private String id;\n\n  @Field(type = FieldType.Text, name = &quot;name&quot;)\n  private String name;\n\n  @Field(type = FieldType.Long, name = &quot;phoneNumber&quot;)\n  private Long phone;\n</code></pre>\n<p>The repository interface from spring data is:</p>\n<pre><code>    import org.springframework.data.elasticsearch.repository.ElasticsearchRepository;\n    import org.springframework.stereotype.Repository;\n\n    @Repository\n    public interface ClientRepository extends ElasticsearchRepository&lt;ClientEntity, String&gt; {\n    \n    }\n</code></pre>\n<p>Elastic search config:</p>\n<pre><code>    import org.apache.http.HttpHost;\n    import org.apache.http.auth.AuthScope;\n    import org.apache.http.auth.UsernamePasswordCredentials;\n    import org.apache.http.client.CredentialsProvider;\n    import org.apache.http.impl.client.BasicCredentialsProvider;\n    import org.apache.http.impl.nio.client.HttpAsyncClientBuilder;\n    import org.elasticsearch.client.RestClient;\n    import org.elasticsearch.client.RestClientBuilder.HttpClientConfigCallback;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.data.elasticsearch.client.ClientConfiguration;\n    import org.springframework.data.elasticsearch.client.elc.ElasticsearchConfiguration;\n    import     org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\n    \n    import co.elastic.clients.elasticsearch.ElasticsearchClient;\n    import co.elastic.clients.json.jackson.JacksonJsonpMapper;\n    import co.elastic.clients.transport.ElasticsearchTransport;\n    import co.elastic.clients.transport.rest_client.RestClientTransport;\n    \n    @Configuration\n    public class ConfigElasticSearch extends ElasticsearchConfiguration {\n      @Bean\n      public ElasticsearchTransport getElasticsearchTransport() {\n        return new RestClientTransport(getRestClient(), new JacksonJsonpMapper());\n      }\n\n      @Bean\n      public ElasticsearchClient getElasticsearchClient() {\n        ElasticsearchClient client = new ElasticsearchClient(getElasticsearchTransport());\n        return client;\n      }\n\n      @Override\n      public ClientConfiguration clientConfiguration() {\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;)\n         .withBasicAuth(&quot;user&quot;, &quot;my-password&quot;).build();\n      }\n\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.7.12&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n      &lt;java.version&gt;17&lt;/java.version&gt;\n      &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n      &lt;json-web-token.version&gt;0.9.1&lt;/json-web-token.version&gt;   \n      &lt;org-modelmapper.version&gt;3.1.1&lt;/org-modelmapper.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;${org-modelmapper.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n    \n    &lt;!-- ES --&gt;\n           &lt;dependency&gt;\n              &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n              &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n         &lt;/dependency&gt;\n        &lt;dependency&gt;\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n           &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;    \n\n</code></pre>\n<p>The service that uses the Spring Data repository is the following:</p>\n<pre><code>\n    @Service(&quot;clientPersistence&quot;)\n    public class ClientPersistenceElasticSearchDb {\n\n      @Autowired\n      private ClientRepository clientRepository;\n\n      public Stream\\&lt;ClientEntity\\&gt; findAll() {\n       return StreamSupport.stream(this.clientRepository.findAll().spliterator(), false);\n      }\n\n      public Optional\\&lt;ClientEntity\\&gt; findById(String id) {\n        return clientRepository.findById(id);\n      }\n    }\n\n</code></pre>\n<p>The main configuration for my microservice is:</p>\n<pre><code>\n    @SpringBootApplication\n    public class ClientMicroserviceApplication {\n\n      public static void main(String[] args) {\n        SpringApplication.run(EmpleadosMicroservicioApplication.class, args);\n      }\n\n    }\n\n</code></pre>\n<p>If I start my microservice, I get the following when starting (and then, the microservice hangs):</p>\n<blockquote>\n</blockquote>\n<p>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'clientPersistencia': Unsatisfied dependency expressed through field 'clientRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'clientRepository' defined in es.clientmicroservice.dao.clientRepository defined in @EnableElasticsearchRepositories declared on ConfigElasticSearch : Cannot resolve reference to bean 'elasticsearchTemplate' while setting bean property 'elasticsearchOperations'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'elasticsearchOperations' defined in class path resource [es/clientmicroservice/config/ConfigElasticSearch .class]: Unsatisfied dependency expressed through method 'elasticsearchOperations' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticsearchClient' defined in class path resource [es/clientmicroservice/config/ConfigElasticSearch .class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [co.elastic.clients.elasticsearch.ElasticsearchClient]: Factory method 'elasticsearchClient' threw exception; nested exception is java.lang.NoClassDefFoundError: jakarta/json/spi/JsonProvider</p>\n<p>I don't know why my class clientPersistence is not build because missing JsonProvider dependency.</p>\n<p>Any one could help me?</p>\n<p>Thank you in advance!!</p>\n<pre><code></code></pre>\n"},{"tags":["java","maven","junit","dependencies"],"answers":[{"tags":[],"owner":{"account_id":20665651,"reputation":46,"user_id":16061614,"display_name":"Cristian Bucataru"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685875132,"creation_date":1685875132,"answer_id":76399959,"question_id":76399682,"body_markdown":"\r\n - The rest-assured dependency you are using is providing a transitive dependency on commons-codec:commons-codec:1.11, which has a known security vulnerability. The warning is indicating that there&#39;s a potential risk of exposing sensitive information to unauthorized actors due to this vulnerability.\r\n\r\n - To remove this warning, you can either exclude the vulnerable dependency from the rest-assured dependency or add the latest version of commons-codec as a separate dependency\r\n\r\n---\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\nOR\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n    &lt;version&gt;1.15&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Java - Maven rest-assured library has warning transitive vulnerable dependency commons-codec:commons-codec:1.11","body":"<ul>\n<li><p>The rest-assured dependency you are using is providing a transitive dependency on commons-codec:commons-codec:1.11, which has a known security vulnerability. The warning is indicating that there's a potential risk of exposing sensitive information to unauthorized actors due to this vulnerability.</p>\n</li>\n<li><p>To remove this warning, you can either exclude the vulnerable dependency from the rest-assured dependency or add the latest version of commons-codec as a separate dependency</p>\n</li>\n</ul>\n<hr />\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n    &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>OR</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n    &lt;version&gt;1.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19044543,"reputation":6393,"user_id":13903942,"display_name":"Federico Ba&#249;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76399959,"answer_count":1,"score":1,"last_activity_date":1685875132,"creation_date":1685870275,"question_id":76399682,"body_markdown":"### Problem\r\n\r\nAdding dependency *rest-assured* gives this warning:\r\n\r\n```\r\n\r\nProvides transitive vulnerable dependency commons-codec:commons-codec:1.11\r\n```\r\n\r\n\r\n* IDE: Intellij - 222.4554.10\r\n* Build tool: Maven \r\n* Jar with error: rest-assured\r\n* Warning: &#39;Cxeb68d52e-5509 3.7 Exposure of Sensitive Information to an Unauthorized Actor vulnerability pending CVSS allocation&#39;\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n----\r\n\r\n### Questions\r\n\r\n* How can I remove this warning\r\n* What are this warning in general means? \r\n\r\n","title":"Java - Maven rest-assured library has warning transitive vulnerable dependency commons-codec:commons-codec:1.11","body":"<h3>Problem</h3>\n<p>Adding dependency <em>rest-assured</em> gives this warning:</p>\n<pre><code>\nProvides transitive vulnerable dependency commons-codec:commons-codec:1.11\n</code></pre>\n<ul>\n<li>IDE: Intellij - 222.4554.10</li>\n<li>Build tool: Maven</li>\n<li>Jar with error: rest-assured</li>\n<li>Warning: 'Cxeb68d52e-5509 3.7 Exposure of Sensitive Information to an Unauthorized Actor vulnerability pending CVSS allocation'</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;artifactId&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.13.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<hr />\n<h3>Questions</h3>\n<ul>\n<li>How can I remove this warning</li>\n<li>What are this warning in general means?</li>\n</ul>\n"},{"tags":["java","locale","faker"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685861222,"post_id":76399221,"comment_id":134718192,"body_markdown":"Share your code with us. Although `java-faker` no longer maintained, You should use another lib.","body":"Share your code with us. Although <code>java-faker</code> no longer maintained, You should use another lib."},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861413,"post_id":76399221,"comment_id":134718209,"body_markdown":"Which lib is worth to check in your opinion? I have to generate phoneNo, first name, last name and email","body":"Which lib is worth to check in your opinion? I have to generate phoneNo, first name, last name and email"},{"owner":{"account_id":1519336,"reputation":1656,"user_id":2057969,"display_name":"Lover of Structure"},"score":0,"creation_date":1685861429,"post_id":76399221,"comment_id":134718213,"body_markdown":"You mean *international calling codes*.","body":"You mean <i>international calling codes</i>."},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861539,"post_id":76399221,"comment_id":134718223,"body_markdown":"right, calling codes","body":"right, calling codes"},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685861732,"post_id":76399221,"comment_id":134718235,"body_markdown":"Can you see your locale in supported locales https://github.com/DiUS/java-faker#supported-locales?","body":"Can you see your locale in supported locales <a href=\"https://github.com/DiUS/java-faker#supported-locales\" rel=\"nofollow noreferrer\">github.com/DiUS/java-faker#supported-locales</a>?"},{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685861813,"post_id":76399221,"comment_id":134718239,"body_markdown":"Yes I see, but I don&#39;t see a method to get calling code","body":"Yes I see, but I don&#39;t see a method to get calling code"},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1685862384,"post_id":76399221,"comment_id":134718281,"body_markdown":"So, the project does not support country_code of your locale.","body":"So, the project does not support country_code of your locale."}],"answers":[{"comments":[{"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"score":0,"creation_date":1685862325,"post_id":76399269,"comment_id":134718278,"body_markdown":"I&#39;ll then, thanks","body":"I&#39;ll then, thanks"}],"tags":[],"owner":{"account_id":22929532,"reputation":58,"user_id":17064082,"display_name":"Jack Lam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685862538,"creation_date":1685861985,"answer_id":76399269,"question_id":76399221,"body_markdown":"I think it&#39;s a library level issue, I checked with ```locale=de``` is able to generate something like ```+49-174-4012298``` which contained the country code (+49), and you can find more information on the library repo with the config of the code, [[de.yml][1] [en-GB.yml][2]] perhaps you might want to switch to another data mocking library, code example below.\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Faker f = new Faker(new Locale(&quot;de&quot;));\r\n        System.out.println(f.phoneNumber().cellPhone());\r\n    }\r\n}\r\n```\r\n[![Output from my side with locale=de][3]][3]\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Faker f = new Faker(new Locale(&quot;en-GB&quot;));\r\n        System.out.println(f.phoneNumber().cellPhone());\r\n    }\r\n}\r\n```\r\n[![Output from my side with locale=en-GB][4]][4]\r\n\r\n\r\n  [1]: https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/de.yml\r\n  [2]: https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/en-GB.yml\r\n  [3]: https://i.stack.imgur.com/0gfZT.png\r\n  [4]: https://i.stack.imgur.com/DpwQt.png","title":"Get phone calling country_code from locale","body":"<p>I think it's a library level issue, I checked with <code>locale=de</code> is able to generate something like <code>+49-174-4012298</code> which contained the country code (+49), and you can find more information on the library repo with the config of the code, [<a href=\"https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/de.yml\" rel=\"nofollow noreferrer\">de.yml</a> <a href=\"https://github.com/DiUS/java-faker/blob/a8b8ff0acc6fcc629d08a3a9952f83be56a9a3c3/src/main/resources/en-GB.yml\" rel=\"nofollow noreferrer\">en-GB.yml</a>] perhaps you might want to switch to another data mocking library, code example below.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Faker f = new Faker(new Locale(&quot;de&quot;));\n        System.out.println(f.phoneNumber().cellPhone());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0gfZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gfZT.png\" alt=\"Output from my side with locale=de\" /></a></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Faker f = new Faker(new Locale(&quot;en-GB&quot;));\n        System.out.println(f.phoneNumber().cellPhone());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DpwQt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DpwQt.png\" alt=\"Output from my side with locale=en-GB\" /></a></p>\n"}],"owner":{"account_id":28747851,"reputation":1,"user_id":22016568,"display_name":"Joe"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685874010,"creation_date":1685860873,"question_id":76399221,"body_markdown":"I&#39;m using java-faker library to generate phone number based on LOCALE. \r\nNumber is generated without country code like +1, +44 etc\r\n\r\nIs any possibility to get county code from java based on LOCALE?\r\n\r\nCan&#39;t find any country_code selection in java-faker library, also in LOCALE I don&#39;t see that option, but maybe I&#39;m missing something\r\n\r\n\r\n\r\n \r\n\r\n     public static String getPhoneNumber() {\r\n            return getFaker().phoneNumber().cellPhone();\r\n        }\r\n\r\n      static Faker getFaker() {\r\n            return new Faker(new Locale(LANGUAGE));\r\n        }\r\n\r\n","title":"Get phone calling country_code from locale","body":"<p>I'm using java-faker library to generate phone number based on LOCALE.\nNumber is generated without country code like +1, +44 etc</p>\n<p>Is any possibility to get county code from java based on LOCALE?</p>\n<p>Can't find any country_code selection in java-faker library, also in LOCALE I don't see that option, but maybe I'm missing something</p>\n<pre><code> public static String getPhoneNumber() {\n        return getFaker().phoneNumber().cellPhone();\n    }\n\n  static Faker getFaker() {\n        return new Faker(new Locale(LANGUAGE));\n    }\n</code></pre>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685870594,"post_id":76399671,"comment_id":134718965,"body_markdown":"but does the test fail?? (expected list, verify) ...or is just the output confusing?","body":"but does the test fail?? (expected list, verify) ...or is just the output confusing?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1685872234,"post_id":76399671,"comment_id":134719122,"body_markdown":"@xerx593  test success passed. I&#39;m confusing of output","body":"@xerx593  test success passed. I&#39;m confusing of output"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1685872939,"post_id":76399671,"comment_id":134719185,"body_markdown":"(but actually the code is &quot;bad testable&quot;..instead of investing time in powermocking, you should consider to improve on that;)","body":"(but actually the code is &quot;bad testable&quot;..instead of investing time in powermocking, you should consider to improve on that;)"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1685873120,"post_id":76399671,"comment_id":134719197,"body_markdown":"As @xerx593 says, wanting to do this is a symptom that you haven&#39;t written your code with testability in mind. You should refactor it.","body":"As @xerx593 says, wanting to do this is a symptom that you haven&#39;t written your code with testability in mind. You should refactor it."}],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1685874011,"post_id":76399879,"comment_id":134719267,"body_markdown":"yes, this seems the desired/an &quot;Important Gotcha&quot;, https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#13","body":"yes, this seems the desired/an &quot;Important Gotcha&quot;, <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#13\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/&hellip;</a>"}],"tags":[],"owner":{"account_id":26632345,"reputation":90,"user_id":20249350,"display_name":"Hassen Gaaya"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685873845,"creation_date":1685873845,"answer_id":76399879,"question_id":76399671,"body_markdown":"Use     \r\n\r\n    doReturn(&quot;call_serviceMethod_1_MOCK&quot;).when(myServiceSpy).serviceMethod_1();\r\n        \r\n\r\nInstead of \r\n\r\n    when(myServiceSpy.serviceMethod_1()).thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);","title":"Method Mockito.spy() call real method?","body":"<p>Use</p>\n<pre><code>doReturn(&quot;call_serviceMethod_1_MOCK&quot;).when(myServiceSpy).serviceMethod_1();\n    \n</code></pre>\n<p>Instead of</p>\n<pre><code>when(myServiceSpy.serviceMethod_1()).thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\n</code></pre>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76399879,"answer_count":1,"score":2,"last_activity_date":1685873845,"creation_date":1685870062,"question_id":76399671,"body_markdown":"I have 3 methods. When run unit test I need the next:\r\n\r\n1. Method `serviceMethod_1` not call real method \r\n2. Method `serviceMethod_2` call real method\r\n3. Method `serviceMethod_1` call real method\r\n\r\n\r\nHere definition of method `Mockito.spy()`\r\n\r\n    Mockito.spy() - each method implementation are the real one, except if you have defined a mocked behaviour with when(..)\r\n\r\n\r\nThat&#39;s exactlty what I need.\r\n\r\nSo here my unit test:\r\n\r\n  \r\n\r\n    import org.mockito.Spy;\r\n    @Spy\r\n    private MyServiceImpl myServiceSpy;\r\n\r\n    @Before\r\n        public void setup() {\r\n            System.out.println(&quot;\\nSETUP&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void myService_method_1_spy() {\r\n            when(myServiceSpy.serviceMethod_1())\r\n                    .thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\r\n    \r\n            List&lt;String&gt; actualList = myServiceSpy.performService();\r\n            \r\n    \r\n            List&lt;String&gt; expectedList = Arrays.asList(\r\n                    &quot;call_serviceMethod_1_MOCK&quot;,\r\n                    &quot;call_serviceMethod_2_REAL&quot;,\r\n                    &quot;call_serviceMethod_3_REAL&quot;);\r\n            assertEquals(expectedList, actualList);\r\n           \r\n            verify(myServiceSpy, times(1)).serviceMethod_1();\r\n        }\r\n\r\n\r\n\r\nHere service class:\r\n\r\n    public class MyServiceImpl implements MyService {\r\n        private String text;\r\n    \r\n        @Override\r\n        public String serviceMethod_1() {\r\n            String result = &quot;call_serviceMethod_1_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_1: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String serviceMethod_2() {\r\n            String result = &quot;call_serviceMethod_2_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_2: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public String serviceMethod_3() {\r\n            String result = &quot;call_serviceMethod_3_REAL&quot;;\r\n            System.out.println(&quot;serviceMethod_3: result = &quot; + result);\r\n            return result;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;String&gt; performService() {\r\n            System.out.println(&quot;performService: START, this.className = &quot; + this.getClass().getName()); // In the name contain word &quot;MockitoMock&quot;\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            String item_1 = serviceMethod_1();\r\n            String item_2 = serviceMethod_2();\r\n            String item_3 = serviceMethod_3();\r\n            list.add(item_1);\r\n            list.add(item_2);\r\n            list.add(item_3);\r\n            return list;\r\n        }\r\n    \r\n        public void setText(String text) {\r\n            this.text = text;\r\n        }\r\n    }\r\n\r\nBut when I run test I get the next output:\r\n\r\n    SETUP\r\n    serviceMethod_1: result = call_serviceMethod_1_REAL\r\n    performService: START, this.className = com.myproejctjava.javatestproject.service.MyServiceImpl$MockitoMock$Il2iukBL\r\n    serviceMethod_2: result = call_serviceMethod_2_REAL\r\n    serviceMethod_3: result = call_serviceMethod_3_REAL\r\n    BUILD SUCCESSFUL in 1s\r\n\r\nAs you can see in the test call REAL method `serviceMethod_1`.\r\n\r\nWhy method `spy()` not help me? I need to not call real method `serviceMethod_1`","title":"Method Mockito.spy() call real method?","body":"<p>I have 3 methods. When run unit test I need the next:</p>\n<ol>\n<li>Method <code>serviceMethod_1</code> not call real method</li>\n<li>Method <code>serviceMethod_2</code> call real method</li>\n<li>Method <code>serviceMethod_1</code> call real method</li>\n</ol>\n<p>Here definition of method <code>Mockito.spy()</code></p>\n<pre><code>Mockito.spy() - each method implementation are the real one, except if you have defined a mocked behaviour with when(..)\n</code></pre>\n<p>That's exactlty what I need.</p>\n<p>So here my unit test:</p>\n<pre><code>import org.mockito.Spy;\n@Spy\nprivate MyServiceImpl myServiceSpy;\n\n@Before\n    public void setup() {\n        System.out.println(&quot;\\nSETUP&quot;);\n    }\n\n    @Test\n    public void myService_method_1_spy() {\n        when(myServiceSpy.serviceMethod_1())\n                .thenReturn(&quot;call_serviceMethod_1_MOCK&quot;);\n\n        List&lt;String&gt; actualList = myServiceSpy.performService();\n        \n\n        List&lt;String&gt; expectedList = Arrays.asList(\n                &quot;call_serviceMethod_1_MOCK&quot;,\n                &quot;call_serviceMethod_2_REAL&quot;,\n                &quot;call_serviceMethod_3_REAL&quot;);\n        assertEquals(expectedList, actualList);\n       \n        verify(myServiceSpy, times(1)).serviceMethod_1();\n    }\n</code></pre>\n<p>Here service class:</p>\n<pre><code>public class MyServiceImpl implements MyService {\n    private String text;\n\n    @Override\n    public String serviceMethod_1() {\n        String result = &quot;call_serviceMethod_1_REAL&quot;;\n        System.out.println(&quot;serviceMethod_1: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public String serviceMethod_2() {\n        String result = &quot;call_serviceMethod_2_REAL&quot;;\n        System.out.println(&quot;serviceMethod_2: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public String serviceMethod_3() {\n        String result = &quot;call_serviceMethod_3_REAL&quot;;\n        System.out.println(&quot;serviceMethod_3: result = &quot; + result);\n        return result;\n    }\n\n    @Override\n    public List&lt;String&gt; performService() {\n        System.out.println(&quot;performService: START, this.className = &quot; + this.getClass().getName()); // In the name contain word &quot;MockitoMock&quot;\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        String item_1 = serviceMethod_1();\n        String item_2 = serviceMethod_2();\n        String item_3 = serviceMethod_3();\n        list.add(item_1);\n        list.add(item_2);\n        list.add(item_3);\n        return list;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n}\n</code></pre>\n<p>But when I run test I get the next output:</p>\n<pre><code>SETUP\nserviceMethod_1: result = call_serviceMethod_1_REAL\nperformService: START, this.className = com.myproejctjava.javatestproject.service.MyServiceImpl$MockitoMock$Il2iukBL\nserviceMethod_2: result = call_serviceMethod_2_REAL\nserviceMethod_3: result = call_serviceMethod_3_REAL\nBUILD SUCCESSFUL in 1s\n</code></pre>\n<p>As you can see in the test call REAL method <code>serviceMethod_1</code>.</p>\n<p>Why method <code>spy()</code> not help me? I need to not call real method <code>serviceMethod_1</code></p>\n"},{"tags":["java","comparator"],"comments":[{"owner":{"account_id":80868,"reputation":8448,"user_id":228371,"accept_rate":86,"display_name":"Freiheit"},"score":1,"creation_date":1322663757,"post_id":8327514,"comment_id":22408162,"body_markdown":"What is the name and class of the Exception? Is it an IllegalArgumentException? If I had to guess I would think that you should be doing `s1.getParent().equals(s2)` instead of `s1.getParent() == s2`.","body":"What is the name and class of the Exception? Is it an IllegalArgumentException? If I had to guess I would think that you should be doing <code>s1.getParent().equals(s2)</code> instead of <code>s1.getParent() == s2</code>."},{"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"score":0,"creation_date":1322663810,"post_id":8327514,"comment_id":10265687,"body_markdown":"And the exception that is thrown as well.","body":"And the exception that is thrown as well."},{"owner":{"account_id":22614,"reputation":70817,"user_id":55943,"display_name":"mqp"},"score":2,"creation_date":1322663901,"post_id":8327514,"comment_id":10265726,"body_markdown":"I don&#39;t know much about Java or about Java comparison APIs, but this comparison method seems dead wrong.  Suppose `s1` is the parent of `s2`, and `s2` is not the parent of `s1`.  Then `compareParents(s1, s2)` is `0`, but `compareParents(s2, s1)` is `1`.  That doesn&#39;t make sense.  (In addition, it&#39;s not transitive, like aix mentioned below.)","body":"I don&#39;t know much about Java or about Java comparison APIs, but this comparison method seems dead wrong.  Suppose <code>s1</code> is the parent of <code>s2</code>, and <code>s2</code> is not the parent of <code>s1</code>.  Then <code>compareParents(s1, s2)</code> is <code>0</code>, but <code>compareParents(s2, s1)</code> is <code>1</code>.  That doesn&#39;t make sense.  (In addition, it&#39;s not transitive, like aix mentioned below.)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1322664039,"post_id":8327514,"comment_id":10265779,"body_markdown":"This error appears to only be produced by a specific library http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/TimSort.java.html","body":"This error appears to only be produced by a specific library <a href=\"http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/TimSort.java.html\" rel=\"nofollow noreferrer\">cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/sha&zwnj;&#8203;re/&hellip;</a>"},{"owner":{"account_id":388244,"reputation":1444,"user_id":747047,"accept_rate":90,"display_name":"Mualig"},"score":0,"creation_date":1322664172,"post_id":8327514,"comment_id":10265833,"body_markdown":"in java, you can use equals (return a boolean) or compareTo (return -1, 0 or +1). Override this functions in your Foo class and after that, you can check s1.getParent().equals(s2) ...","body":"in java, you can use equals (return a boolean) or compareTo (return -1, 0 or +1). Override this functions in your Foo class and after that, you can check s1.getParent().equals(s2) ..."},{"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"score":0,"creation_date":1428238671,"post_id":8327514,"comment_id":47079326,"body_markdown":"Whether or not the exception is thrown depends on the used JRE version. Java6 will allow this, Java 7 and 8 will throw the error.","body":"Whether or not the exception is thrown depends on the used JRE version. Java6 will allow this, Java 7 and 8 will throw the error."}],"answers":[{"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":5,"creation_date":1466616516,"post_id":8327575,"comment_id":63395567,"body_markdown":"Introduced in Java 7&#39;s `java.util.Arrays.sort` http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only","body":"Introduced in Java 7&#39;s <code>java.util.Arrays.sort</code> <a href=\"http://stackoverflow.com/questions/7849539/comparison-method-violates-its-general-contract-java-7-only\" title=\"comparison method violates its general contract java 7 only\">stackoverflow.com/questions/7849539/&hellip;</a>"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":65,"creation_date":1488666974,"post_id":8327575,"comment_id":72334814,"body_markdown":"The fact the library is detecting this is awesome. Someone at sun deserves to throw out a giant _You&#39;re welcome_.","body":"The fact the library is detecting this is awesome. Someone at sun deserves to throw out a giant <i>You&#39;re welcome</i>."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":1,"creation_date":1526546758,"post_id":8327575,"comment_id":87789662,"body_markdown":"Can you generalise this answer a bit to make this question more useful as a reference post?","body":"Can you generalise this answer a bit to make this question more useful as a reference post?"},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":1,"creation_date":1551943531,"post_id":8327575,"comment_id":96827592,"body_markdown":"@Qix - as much as I love Sun, this was added in Java 7 under the Oracle banner","body":"@Qix - as much as I love Sun, this was added in Java 7 under the Oracle banner"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":1,"creation_date":1552321536,"post_id":8327575,"comment_id":96955522,"body_markdown":"@isapir Damn! Good catch.","body":"@isapir Damn! Good catch."},{"owner":{"account_id":468668,"reputation":737,"user_id":874802,"display_name":"Per Lindberg"},"score":0,"creation_date":1635337689,"post_id":8327575,"comment_id":123269831,"body_markdown":"Transitivity aside, another way to trigger this Exception is to sort on values that may change during the sort. For example, sorting a File[] created by dir.listFiles(): `Arrays.sort(files, (a, b) -&gt; (int) (a.lastModified() - b.lastModified()))`","body":"Transitivity aside, another way to trigger this Exception is to sort on values that may change during the sort. For example, sorting a File[] created by dir.listFiles(): <code>Arrays.sort(files, (a, b) -&gt; (int) (a.lastModified() - b.lastModified()))</code>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1661116517,"post_id":8327575,"comment_id":129689475,"body_markdown":"@Qix-MONICAWASMISTREATED To clear up the history, the TimSort port to Java was written by Josh Bloch (formerly of Sun) who was at Google at the time, and it was integrated by Sun folks into the OpenJDK 7 development line in July 2009. This was before Oracle entered the picture. Oracle was responsible for delivering the JDK 7 release, though. [JDK 7 changeset](http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/bfd7abda8f79) – [bug report](https://bugs.openjdk.org/browse/JDK-6804124)","body":"@Qix-MONICAWASMISTREATED To clear up the history, the TimSort port to Java was written by Josh Bloch (formerly of Sun) who was at Google at the time, and it was integrated by Sun folks into the OpenJDK 7 development line in July 2009. This was before Oracle entered the picture. Oracle was responsible for delivering the JDK 7 release, though. <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/rev/bfd7abda8f79\" rel=\"nofollow noreferrer\">JDK 7 changeset</a> – <a href=\"https://bugs.openjdk.org/browse/JDK-6804124\" rel=\"nofollow noreferrer\">bug report</a>"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":2,"creation_date":1661116634,"post_id":8327575,"comment_id":129689495,"body_markdown":"@isapir See previous comment.","body":"@isapir See previous comment."}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":8,"down_vote_count":1,"up_vote_count":298,"is_accepted":true,"score":297,"last_activity_date":1401431640,"creation_date":1322663792,"answer_id":8327575,"question_id":8327514,"body_markdown":"**Your comparator is not transitive.**\r\n\r\nLet `A` be the parent of `B`, and `B` be the parent of `C`. Since `A &gt; B` and `B &gt; C`, then it must be the case that `A &gt; C`. However, if your comparator is invoked on `A` and `C`, it would return zero, meaning `A == C`. This violates the contract and hence throws the exception.\r\n\r\nIt&#39;s rather nice of the library to detect this and let you know, rather than behave erratically.\r\n\r\nOne way to satisfy the transitivity requirement in `compareParents()` is to traverse the `getParent()` chain instead of only looking at the immediate ancestor.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p><strong>Your comparator is not transitive.</strong></p>\n\n<p>Let <code>A</code> be the parent of <code>B</code>, and <code>B</code> be the parent of <code>C</code>. Since <code>A &gt; B</code> and <code>B &gt; C</code>, then it must be the case that <code>A &gt; C</code>. However, if your comparator is invoked on <code>A</code> and <code>C</code>, it would return zero, meaning <code>A == C</code>. This violates the contract and hence throws the exception.</p>\n\n<p>It's rather nice of the library to detect this and let you know, rather than behave erratically.</p>\n\n<p>One way to satisfy the transitivity requirement in <code>compareParents()</code> is to traverse the <code>getParent()</code> chain instead of only looking at the immediate ancestor.</p>\n"},{"comments":[{"owner":{"account_id":135551,"reputation":10101,"user_id":338479,"accept_rate":80,"display_name":"Edward Falk"},"score":0,"creation_date":1368655301,"post_id":8327599,"comment_id":23818932,"body_markdown":"No, actually I think OP is trying to sort a list of some sort, and wants to actually compare references.","body":"No, actually I think OP is trying to sort a list of some sort, and wants to actually compare references."}],"tags":[],"owner":{"account_id":329428,"reputation":4250,"user_id":652945,"accept_rate":60,"display_name":"erimerturk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322664879,"creation_date":1322663914,"answer_id":8327599,"question_id":8327514,"body_markdown":"You can&#39;t compare object data like this:`s1.getParent() == s2` - this will compare the object references. You should override `equals function` for Foo class and then compare them like this `s1.getParent().equals(s2)`","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>You can't compare object data like this:<code>s1.getParent() == s2</code> - this will compare the object references. You should override <code>equals function</code> for Foo class and then compare them like this <code>s1.getParent().equals(s2)</code></p>\n"},{"comments":[{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":9,"creation_date":1397241874,"post_id":11620614,"comment_id":35165520,"body_markdown":"I have to add that if any of your `value` is a NaN (if `value` is a `double` or `float`), it would fail as well.","body":"I have to add that if any of your <code>value</code> is a NaN (if <code>value</code> is a <code>double</code> or <code>float</code>), it would fail as well."}],"tags":[],"owner":{"account_id":208465,"reputation":3409,"user_id":458968,"accept_rate":75,"display_name":"you786"},"comment_count":1,"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1343078094,"creation_date":1343078094,"answer_id":11620614,"question_id":8327514,"body_markdown":"Just because this is what I got when I Googled this error, my problem was that I had \r\n\r\n    if (value &lt; other.value)\r\n      return -1;\r\n    else if (value &gt;= other.value)\r\n      return 1;\r\n    else\r\n      return 0;\r\n\r\nthe `value &gt;= other.value` should (obviously) actually be `value &gt; other.value` so that you can actually return 0 with equal objects. ","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Just because this is what I got when I Googled this error, my problem was that I had </p>\n\n<pre><code>if (value &lt; other.value)\n  return -1;\nelse if (value &gt;= other.value)\n  return 1;\nelse\n  return 0;\n</code></pre>\n\n<p>the <code>value &gt;= other.value</code> should (obviously) actually be <code>value &gt; other.value</code> so that you can actually return 0 with equal objects. </p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1496835138,"creation_date":1374831405,"answer_id":17877916,"question_id":8327514,"body_markdown":"I&#39;ve seen this happen in a piece of code where the often recurring check for null values was performed:\r\n\r\n    if(( A==null ) &amp;&amp; ( B==null )\r\n      return +1;//WRONG: two null values should return 0!!!","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>I've seen this happen in a piece of code where the often recurring check for null values was performed:</p>\n\n<pre><code>if(( A==null ) &amp;&amp; ( B==null )\n  return +1;//WRONG: two null values should return 0!!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2435396,"reputation":441,"user_id":2125432,"display_name":"CESDewar"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1380245007,"creation_date":1380245007,"answer_id":19041290,"question_id":8327514,"body_markdown":"The violation of the contract often means that the comparator is not providing the correct or consistent value when comparing objects. For example, you might want to perform a string compare and force empty strings to sort to the end with:\r\n\r\n\tif ( one.length() == 0 ) {\r\n\t\treturn 1;\t\t\t\t\t// empty string sorts last\r\n\t}\r\n\tif ( two.length() == 0 ) {\r\n\t\treturn -1;\t\t\t\t\t// empty string sorts last\t\t\t\t\t\r\n\t}\r\n\treturn one.compareToIgnoreCase( two );\r\n\r\nBut this overlooks the case where BOTH one and two are empty - and in that case, the wrong value is returned (1 instead of 0 to show a match), and the comparator reports that as a violation. It should have been written as:\r\n\r\n\tif ( one.length() == 0 ) {\r\n\t\tif ( two.length() == 0 ) {\r\n\t\t\treturn 0;\t\t\t\t// BOth empty - so indicate\r\n\t\t}\r\n\t\treturn 1;\t\t\t\t\t// empty string sorts last\r\n\t}\r\n\tif ( two.length() == 0 ) {\r\n\t\treturn -1;\t\t\t\t\t// empty string sorts last\t\t\t\t\t\r\n\t}\r\n\treturn one.compareToIgnoreCase( two );\r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>The violation of the contract often means that the comparator is not providing the correct or consistent value when comparing objects. For example, you might want to perform a string compare and force empty strings to sort to the end with:</p>\n\n<pre><code>if ( one.length() == 0 ) {\n    return 1;                   // empty string sorts last\n}\nif ( two.length() == 0 ) {\n    return -1;                  // empty string sorts last                  \n}\nreturn one.compareToIgnoreCase( two );\n</code></pre>\n\n<p>But this overlooks the case where BOTH one and two are empty - and in that case, the wrong value is returned (1 instead of 0 to show a match), and the comparator reports that as a violation. It should have been written as:</p>\n\n<pre><code>if ( one.length() == 0 ) {\n    if ( two.length() == 0 ) {\n        return 0;               // BOth empty - so indicate\n    }\n    return 1;                   // empty string sorts last\n}\nif ( two.length() == 0 ) {\n    return -1;                  // empty string sorts last                  \n}\nreturn one.compareToIgnoreCase( two );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1408651,"reputation":1395,"user_id":1335717,"accept_rate":70,"display_name":"Martin"},"score":0,"creation_date":1426825524,"post_id":25262198,"comment_id":46538838,"body_markdown":"Simply invoke checkConsitency metohod with parameter list and comparator.","body":"Simply invoke checkConsitency metohod with parameter list and comparator."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1453748725,"post_id":25262198,"comment_id":57728601,"body_markdown":"Your code does not compile. Classes `Compare`, `Convert` (and potentially others) are not defined. Please update the code sniplet with a self-contained example.","body":"Your code does not compile. Classes <code>Compare</code>, <code>Convert</code> (and potentially others) are not defined. Please update the code sniplet with a self-contained example."},{"owner":{"account_id":5728567,"reputation":427,"user_id":4524838,"accept_rate":50,"display_name":"Roland Illig"},"score":0,"creation_date":1486474534,"post_id":25262198,"comment_id":71352583,"body_markdown":"You should fix the typo in `checkConsi(s)tency` and remove all redundant `@param` declarations to make the code more readable.","body":"You should fix the typo in <code>checkConsi(s)tency</code> and remove all redundant <code>@param</code> declarations to make the code more readable."}],"tags":[],"owner":{"account_id":1408651,"reputation":1395,"user_id":1335717,"accept_rate":70,"display_name":"Martin"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407839865,"creation_date":1407839865,"answer_id":25262198,"question_id":8327514,"body_markdown":"Java does not check consistency in a strict sense, only notifies you if it runs into serious trouble. Also it does not give you much information from the error.\r\n\r\nI was puzzled with what&#39;s happening in my sorter and made a strict consistencyChecker, maybe this will help you:\r\n\r\n    /**\r\n     * @param dailyReports\r\n     * @param comparator\r\n     */\r\n    public static &lt;T&gt; void checkConsitency(final List&lt;T&gt; dailyReports, final Comparator&lt;T&gt; comparator) {\r\n      final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes = new HashMap&lt;T, List&lt;T&gt;&gt;();\r\n  \r\n      iterateDistinctPairs(dailyReports.iterator(), new IPairIteratorCallback&lt;T&gt;() {\r\n        /**\r\n         * @param o1\r\n         * @param o2\r\n         */\r\n        @Override\r\n        public void pair(T o1, T o2) {\r\n          final int diff = comparator.compare(o1, o2);\r\n          if (diff &lt; Compare.EQUAL) {\r\n            checkConsistency(objectMapSmallerOnes, o1, o2);\r\n            getListSafely(objectMapSmallerOnes, o2).add(o1);\r\n          } else if (Compare.EQUAL &lt; diff) {\r\n            checkConsistency(objectMapSmallerOnes, o2, o1);\r\n            getListSafely(objectMapSmallerOnes, o1).add(o2);\r\n          } else {\r\n            throw new IllegalStateException(&quot;Equals not expected?&quot;);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  \r\n    /**\r\n     * @param objectMapSmallerOnes\r\n     * @param o1\r\n     * @param o2\r\n     */\r\n    static &lt;T&gt; void checkConsistency(final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes, T o1, T o2) {\r\n      final List&lt;T&gt; smallerThan = objectMapSmallerOnes.get(o1);\r\n  \r\n      if (smallerThan != null) {\r\n        for (final T o : smallerThan) {\r\n          if (o == o2) {\r\n            throw new IllegalStateException(o2 + &quot;  cannot be smaller than &quot; + o1 + &quot; if it&#39;s supposed to be vice versa.&quot;);\r\n          }\r\n          checkConsistency(objectMapSmallerOnes, o, o2);\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param keyMapValues \r\n     * @param key \r\n     * @param &lt;Key&gt; \r\n     * @param &lt;Value&gt; \r\n     * @return List&lt;Value&gt;\r\n     */ \r\n    public static &lt;Key, Value&gt; List&lt;Value&gt; getListSafely(Map&lt;Key, List&lt;Value&gt;&gt; keyMapValues, Key key) {\r\n      List&lt;Value&gt; values = keyMapValues.get(key);\r\n      \r\n      if (values == null) {\r\n        keyMapValues.put(key, values = new LinkedList&lt;Value&gt;());\r\n      }\r\n      \r\n      return values;\r\n    }\r\n    \r\n    /**\r\n     * @author Oku\r\n     *\r\n     * @param &lt;T&gt;\r\n     */\r\n    public interface IPairIteratorCallback&lt;T&gt; {\r\n      /**\r\n       * @param o1\r\n       * @param o2\r\n       */\r\n      void pair(T o1, T o2);\r\n    }\r\n    \r\n    /**\r\n     * \r\n     * Iterates through each distinct unordered pair formed by the elements of a given iterator\r\n     *\r\n     * @param it\r\n     * @param callback\r\n     */\r\n    public static &lt;T&gt; void iterateDistinctPairs(final Iterator&lt;T&gt; it, IPairIteratorCallback&lt;T&gt; callback) {\r\n      List&lt;T&gt; list = Convert.toMinimumArrayList(new Iterable&lt;T&gt;() {\r\n  \r\n        @Override\r\n        public Iterator&lt;T&gt; iterator() {\r\n          return it;\r\n        }\r\n        \r\n      });\r\n      \r\n      for (int outerIndex = 0; outerIndex &lt; list.size() - 1; outerIndex++) {\r\n        for (int innerIndex = outerIndex + 1; innerIndex &lt; list.size(); innerIndex++) {\r\n          callback.pair(list.get(outerIndex), list.get(innerIndex));\r\n        }\r\n      }\r\n    }\r\n  ","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Java does not check consistency in a strict sense, only notifies you if it runs into serious trouble. Also it does not give you much information from the error.</p>\n\n<p>I was puzzled with what's happening in my sorter and made a strict consistencyChecker, maybe this will help you:</p>\n\n<pre><code>/**\n * @param dailyReports\n * @param comparator\n */\npublic static &lt;T&gt; void checkConsitency(final List&lt;T&gt; dailyReports, final Comparator&lt;T&gt; comparator) {\n  final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes = new HashMap&lt;T, List&lt;T&gt;&gt;();\n\n  iterateDistinctPairs(dailyReports.iterator(), new IPairIteratorCallback&lt;T&gt;() {\n    /**\n     * @param o1\n     * @param o2\n     */\n    @Override\n    public void pair(T o1, T o2) {\n      final int diff = comparator.compare(o1, o2);\n      if (diff &lt; Compare.EQUAL) {\n        checkConsistency(objectMapSmallerOnes, o1, o2);\n        getListSafely(objectMapSmallerOnes, o2).add(o1);\n      } else if (Compare.EQUAL &lt; diff) {\n        checkConsistency(objectMapSmallerOnes, o2, o1);\n        getListSafely(objectMapSmallerOnes, o1).add(o2);\n      } else {\n        throw new IllegalStateException(\"Equals not expected?\");\n      }\n    }\n  });\n}\n\n/**\n * @param objectMapSmallerOnes\n * @param o1\n * @param o2\n */\nstatic &lt;T&gt; void checkConsistency(final Map&lt;T, List&lt;T&gt;&gt; objectMapSmallerOnes, T o1, T o2) {\n  final List&lt;T&gt; smallerThan = objectMapSmallerOnes.get(o1);\n\n  if (smallerThan != null) {\n    for (final T o : smallerThan) {\n      if (o == o2) {\n        throw new IllegalStateException(o2 + \"  cannot be smaller than \" + o1 + \" if it's supposed to be vice versa.\");\n      }\n      checkConsistency(objectMapSmallerOnes, o, o2);\n    }\n  }\n}\n\n/**\n * @param keyMapValues \n * @param key \n * @param &lt;Key&gt; \n * @param &lt;Value&gt; \n * @return List&lt;Value&gt;\n */ \npublic static &lt;Key, Value&gt; List&lt;Value&gt; getListSafely(Map&lt;Key, List&lt;Value&gt;&gt; keyMapValues, Key key) {\n  List&lt;Value&gt; values = keyMapValues.get(key);\n\n  if (values == null) {\n    keyMapValues.put(key, values = new LinkedList&lt;Value&gt;());\n  }\n\n  return values;\n}\n\n/**\n * @author Oku\n *\n * @param &lt;T&gt;\n */\npublic interface IPairIteratorCallback&lt;T&gt; {\n  /**\n   * @param o1\n   * @param o2\n   */\n  void pair(T o1, T o2);\n}\n\n/**\n * \n * Iterates through each distinct unordered pair formed by the elements of a given iterator\n *\n * @param it\n * @param callback\n */\npublic static &lt;T&gt; void iterateDistinctPairs(final Iterator&lt;T&gt; it, IPairIteratorCallback&lt;T&gt; callback) {\n  List&lt;T&gt; list = Convert.toMinimumArrayList(new Iterable&lt;T&gt;() {\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n      return it;\n    }\n\n  });\n\n  for (int outerIndex = 0; outerIndex &lt; list.size() - 1; outerIndex++) {\n    for (int innerIndex = outerIndex + 1; innerIndex &lt; list.size(); innerIndex++) {\n      callback.pair(list.get(outerIndex), list.get(innerIndex));\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":220213,"reputation":5790,"user_id":477494,"accept_rate":67,"display_name":"Uncle Iroh"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432250075,"creation_date":1432250075,"answer_id":30385881,"question_id":8327514,"body_markdown":"In our case were were getting this error because we had accidentally flipped the order of comparison of s1 and s2.  So watch out for that.  It was obviously way more complicated than the following but this is an illustration:\r\n\r\n    s1 == s2   \r\n        return 0;\r\n    s2 &gt; s1 \r\n        return 1;\r\n    s1 &lt; s2 \r\n        return -1;","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In our case were were getting this error because we had accidentally flipped the order of comparison of s1 and s2.  So watch out for that.  It was obviously way more complicated than the following but this is an illustration:</p>\n\n<pre><code>s1 == s2   \n    return 0;\ns2 &gt; s1 \n    return 1;\ns1 &lt; s2 \n    return -1;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1142146,"reputation":348,"user_id":1125721,"accept_rate":44,"display_name":"JSong"},"score":2,"creation_date":1537759566,"post_id":33971198,"comment_id":91886451,"body_markdown":"This was helpful! My code was logically okay but there was an error because of the precision problem.","body":"This was helpful! My code was logically okay but there was an error because of the precision problem."},{"owner":{"account_id":3316004,"reputation":1326,"user_id":2788374,"accept_rate":25,"display_name":"lcfd"},"score":0,"creation_date":1689761890,"post_id":33971198,"comment_id":135258007,"body_markdown":"another idea is to box them and defer to `Double.compare`","body":"another idea is to box them and defer to <code>Double.compare</code>"}],"tags":[],"owner":{"account_id":6174371,"reputation":1762,"user_id":4832515,"display_name":"SomeGuy"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1448712716,"creation_date":1448712716,"answer_id":33971198,"question_id":8327514,"body_markdown":"Even if your compareTo is holds transitivity in theory, sometimes subtle bugs mess things up... such as floating point arithmetic error. It happened to me. this was my code:\r\n\r\n\tpublic int compareTo(tfidfContainer compareTfidf) {\r\n\t\t//descending order\r\n\t\tif (this.tfidf &gt; compareTfidf.tfidf)\r\n\t\t\treturn -1;\r\n\t\telse if (this.tfidf &lt; compareTfidf.tfidf)\r\n\t\t\treturn 1;\r\n\t\telse\r\n\t\t\treturn 0;\r\n\t\t\r\n\t}\t\r\n\r\n\r\n\r\nThe transitive property clearly holds, but for some reason I was getting the IllegalArgumentException. And it turns out that due to tiny errors in floating point arithmetic, the round-off errors where causing the transitive property to break where they shouldn&#39;t! So I rewrote the code to consider really tiny differences 0, and it worked:\r\n\r\n\tpublic int compareTo(tfidfContainer compareTfidf) {\r\n\t\t//descending order\r\n\t\tif ((this.tfidf - compareTfidf.tfidf) &lt; .000000001)\r\n\t\t\treturn 0;\r\n\t\tif (this.tfidf &gt; compareTfidf.tfidf)\r\n\t\t\treturn -1;\r\n\t\telse if (this.tfidf &lt; compareTfidf.tfidf)\r\n\t\t\treturn 1;\r\n\t\treturn 0;\r\n\t}\t","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Even if your compareTo is holds transitivity in theory, sometimes subtle bugs mess things up... such as floating point arithmetic error. It happened to me. this was my code:</p>\n\n<pre><code>public int compareTo(tfidfContainer compareTfidf) {\n    //descending order\n    if (this.tfidf &gt; compareTfidf.tfidf)\n        return -1;\n    else if (this.tfidf &lt; compareTfidf.tfidf)\n        return 1;\n    else\n        return 0;\n\n}   \n</code></pre>\n\n<p>The transitive property clearly holds, but for some reason I was getting the IllegalArgumentException. And it turns out that due to tiny errors in floating point arithmetic, the round-off errors where causing the transitive property to break where they shouldn't! So I rewrote the code to consider really tiny differences 0, and it worked:</p>\n\n<pre><code>public int compareTo(tfidfContainer compareTfidf) {\n    //descending order\n    if ((this.tfidf - compareTfidf.tfidf) &lt; .000000001)\n        return 0;\n    if (this.tfidf &gt; compareTfidf.tfidf)\n        return -1;\n    else if (this.tfidf &lt; compareTfidf.tfidf)\n        return 1;\n    return 0;\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1623708,"reputation":1531,"user_id":1499750,"accept_rate":71,"display_name":"jc12"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1490972797,"creation_date":1490972797,"answer_id":43143987,"question_id":8327514,"body_markdown":"In my case I was doing something like the following:\r\n\r\n    if (a.someField == null) {\r\n        return 1;\r\n    }\r\n\r\n    if (b.someField == null) {\r\n        return -1;\r\n    }\r\n\r\n    if (a.someField.equals(b.someField)) {\r\n        return a.someOtherField.compareTo(b.someOtherField);\r\n    }\r\n\r\n    return a.someField.compareTo(b.someField);\r\n\r\nWhat I forgot to check was when both a.someField and b.someField are null.\r\n    \r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In my case I was doing something like the following:</p>\n\n<pre><code>if (a.someField == null) {\n    return 1;\n}\n\nif (b.someField == null) {\n    return -1;\n}\n\nif (a.someField.equals(b.someField)) {\n    return a.someOtherField.compareTo(b.someOtherField);\n}\n\nreturn a.someField.compareTo(b.someField);\n</code></pre>\n\n<p>What I forgot to check was when both a.someField and b.someField are null.</p>\n"},{"tags":[],"owner":{"account_id":2142526,"reputation":1962,"user_id":1900859,"accept_rate":80,"display_name":"Andrii Karaivanskyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547521633,"creation_date":1536102354,"answer_id":52175042,"question_id":8327514,"body_markdown":"If `compareParents(s1, s2) == -1` then `compareParents(s2, s1) == 1` is expected. With your code it&#39;s not always true. \r\n\r\nSpecifically if `s1.getParent() == s2 &amp;&amp; s2.getParent() == s1`. \r\nIt&#39;s just one of the possible problems.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>If <code>compareParents(s1, s2) == -1</code> then <code>compareParents(s2, s1) == 1</code> is expected. With your code it's not always true. </p>\n\n<p>Specifically if <code>s1.getParent() == s2 &amp;&amp; s2.getParent() == s1</code>. \nIt's just one of the possible problems.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":1,"creation_date":1563902283,"post_id":57169207,"comment_id":100851855,"body_markdown":"Please  double check that my attempt to help you with the formatting did not break anything. I am unsure about the `-` a the start of the proposed solution. Maybe you intended something like a one-item bullet point list instead.","body":"Please  double check that my attempt to help you with the formatting did not break anything. I am unsure about the <code>-</code> a the start of the proposed solution. Maybe you intended something like a one-item bullet point list instead."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":4,"creation_date":1563902351,"post_id":57169207,"comment_id":100851881,"body_markdown":"Also please explain how this helps with the described problem. It currently is practically a code-only answer.","body":"Also please explain how this helps with the described problem. It currently is practically a code-only answer."}],"tags":[],"owner":{"account_id":8768854,"reputation":109,"user_id":6556369,"display_name":"Rishav Roy"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1563902191,"creation_date":1563902077,"answer_id":57169207,"question_id":8327514,"body_markdown":"Editing VM Configuration worked for me.\r\n\r\n    -Djava.util.Arrays.useLegacyMergeSort=true","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Editing VM Configuration worked for me.</p>\n\n<pre><code>-Djava.util.Arrays.useLegacyMergeSort=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12707974,"reputation":137,"user_id":9232557,"display_name":"DongGeun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609588613,"creation_date":1609588613,"answer_id":65538824,"question_id":8327514,"body_markdown":"In my case, it was an infinite sort.\r\nThat is, at first the line moved up according to the condition, and then the same line moved down to the same place. \r\nI added one more condition at the end that unambiguously established the order of the lines.\r\n","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>In my case, it was an infinite sort.\nThat is, at first the line moved up according to the condition, and then the same line moved down to the same place.\nI added one more condition at the end that unambiguously established the order of the lines.</p>\n"},{"tags":[],"owner":{"account_id":23895881,"reputation":1,"user_id":17894871,"display_name":"E-Rabbit"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641839271,"creation_date":1641838351,"answer_id":70657060,"question_id":8327514,"body_markdown":"I faced the same issue and I solved it.\r\n```\r\n//This this your code\r\n\r\nprivate int compareParents(Foo s1, Foo s2) {\r\n    if (s1.getParent() == s2) return -1;\r\n    if (s2.getParent() == s1) return 1;\r\n    return 0;\r\n}\r\n```\r\nThe violation is comparing different things with each other.\r\n```\r\n//acceptable\r\ncompare between s1.getParent() and s2.getParent()\r\n```\r\n```\r\n//acceptable\r\ncompare between s1 and s2\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between s1 and s2.getParent()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between s1.getParent() and s2\r\n```\r\nIn my code, I wanted to sort addresses by their coordination. In the comparator, I compared between X and Y (by mistake), instead of X and X.\r\n```\r\n//My code:\r\n    private void sortBasedOnX(){\r\n        //addresses is a list of addresses where each address has X and Y\r\n        addresses.sort((o1, o2) -&gt; {\r\n\r\n            String a = o1.getAddress().getX(); \r\n            String b = o2.getAddress().getY(); //&lt;-- this is supposed to be getX\r\n\r\n            return Integer.parseInt(a)-Integer.parseInt(b);\r\n        });\r\n    }\r\n```\r\n```\r\n//acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress().getX()\r\n```\r\n```\r\n//acceptable\r\ncompare between o1.getAddress().getY() and o1.getAddress().getY()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress().getY()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1.getAddress()\r\n```\r\n```\r\n//NOT acceptable\r\ncompare between o1.getAddress().getX() and o1\r\n```","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>I faced the same issue and I solved it.</p>\n<pre><code>//This this your code\n\nprivate int compareParents(Foo s1, Foo s2) {\n    if (s1.getParent() == s2) return -1;\n    if (s2.getParent() == s1) return 1;\n    return 0;\n}\n</code></pre>\n<p>The violation is comparing different things with each other.</p>\n<pre><code>//acceptable\ncompare between s1.getParent() and s2.getParent()\n</code></pre>\n<pre><code>//acceptable\ncompare between s1 and s2\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between s1 and s2.getParent()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between s1.getParent() and s2\n</code></pre>\n<p>In my code, I wanted to sort addresses by their coordination. In the comparator, I compared between X and Y (by mistake), instead of X and X.</p>\n<pre><code>//My code:\n    private void sortBasedOnX(){\n        //addresses is a list of addresses where each address has X and Y\n        addresses.sort((o1, o2) -&gt; {\n\n            String a = o1.getAddress().getX(); \n            String b = o2.getAddress().getY(); //&lt;-- this is supposed to be getX\n\n            return Integer.parseInt(a)-Integer.parseInt(b);\n        });\n    }\n</code></pre>\n<pre><code>//acceptable\ncompare between o1.getAddress().getX() and o1.getAddress().getX()\n</code></pre>\n<pre><code>//acceptable\ncompare between o1.getAddress().getY() and o1.getAddress().getY()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1.getAddress().getY()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1.getAddress()\n</code></pre>\n<pre><code>//NOT acceptable\ncompare between o1.getAddress().getX() and o1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3409479,"reputation":394,"user_id":2859785,"accept_rate":20,"display_name":"Yashdeep Hinge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685873639,"creation_date":1685873639,"answer_id":76399863,"question_id":8327514,"body_markdown":"So The main reason this happens is when the compare or compareTo method is not following the basic contract of comparison which is transitivity. \r\n    \r\n    `If A&gt;B And B&gt;C then A has to be greater than A has to greater than C`\r\n    \r\nPlease don&#39;t directly jump at using \r\n    \r\n    ` -Djava.util.Arrays.useLegacyMergeSort=true `\r\n    \r\nIt will make your sorting logic buggy. \r\n    \r\n    `   \r\n        Foo s1 = new Foo();\r\n        Foo s2 = new Foo();\r\n        Foo s3 = new Foo();\r\n    \r\n        s1.setParent(s2);\r\n        s2.setParent(s3);\r\n        s3.setParent(s1);\r\n    \r\n        compareParents(s1, s2); // returns -1\r\n        compareParents(s2, s3); // returns 1\r\n        compareParents(s1, s3); // returns 1\r\n    `\r\nIn these cases your compareParents method will break the transitive property.","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>So The main reason this happens is when the compare or compareTo method is not following the basic contract of comparison which is transitivity.</p>\n<pre><code>`If A&gt;B And B&gt;C then A has to be greater than A has to greater than C`\n</code></pre>\n<p>Please don't directly jump at using</p>\n<pre><code>` -Djava.util.Arrays.useLegacyMergeSort=true `\n</code></pre>\n<p>It will make your sorting logic buggy.</p>\n<pre><code>`   \n    Foo s1 = new Foo();\n    Foo s2 = new Foo();\n    Foo s3 = new Foo();\n\n    s1.setParent(s2);\n    s2.setParent(s3);\n    s3.setParent(s1);\n\n    compareParents(s1, s2); // returns -1\n    compareParents(s2, s3); // returns 1\n    compareParents(s1, s3); // returns 1\n`\n</code></pre>\n<p>In these cases your compareParents method will break the transitive property.</p>\n"}],"owner":{"account_id":1075227,"reputation":2525,"user_id":1073531,"accept_rate":100,"display_name":"n00bster"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261589,"favorite_count":0,"down_vote_count":1,"up_vote_count":222,"accepted_answer_id":8327575,"answer_count":14,"score":221,"last_activity_date":1685873639,"creation_date":1322663476,"question_id":8327514,"body_markdown":"Can someone explain me in simple terms, why does this code throw an exception, &quot;Comparison method violates its general contract!&quot;, and how do I fix it?\r\n\r\n    private int compareParents(Foo s1, Foo s2) {\r\n    \tif (s1.getParent() == s2) return -1;\r\n    \tif (s2.getParent() == s1) return 1;\r\n    \treturn 0;\r\n    }","title":"&quot;Comparison method violates its general contract!&quot;","body":"<p>Can someone explain me in simple terms, why does this code throw an exception, \"Comparison method violates its general contract!\", and how do I fix it?</p>\n\n<pre><code>private int compareParents(Foo s1, Foo s2) {\n    if (s1.getParent() == s2) return -1;\n    if (s2.getParent() == s1) return 1;\n    return 0;\n}\n</code></pre>\n"},{"tags":["java","bazel"],"answers":[{"tags":[],"owner":{"account_id":975399,"reputation":7972,"user_id":996815,"accept_rate":96,"display_name":"Vertexwahn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1572331518,"creation_date":1572330985,"answer_id":58602434,"question_id":58567693,"body_markdown":"`java_toolchain` seems to do the trick:\r\n\r\nFor example:\r\n\r\nIn your `BUILD` file add:\r\n\r\n    java_toolchain(\r\n        name = &quot;bootstrap_toolchain&quot;,\r\n        # javac -extdirs is implemented by appending the contents to the platform\r\n        # class path after -bootclasspath. For convenience, we currently have a\r\n        # single jar that contains the contents of both the bootclasspath and\r\n        # extdirs.\r\n        bootclasspath = [&quot;//tools/jdk:platformclasspath.jar&quot;],\r\n        extclasspath = [],\r\n        genclass = [&quot;bootstrap_genclass_deploy.jar&quot;],\r\n        ijar = [&quot;//third_party/ijar&quot;],\r\n        javabuilder = [&quot;bootstrap_VanillaJavaBuilder_deploy.jar&quot;],\r\n        javac = [&quot;//third_party/java/jdk/langtools:javac_jar&quot;],\r\n        jvm_opts = [\r\n            # Prevent &quot;Could not reserve enough space for object heap&quot; errors on Windows.\r\n            &quot;-Xmx512m&quot;,\r\n            # Using tiered compilation improves performance of Javac when not using the worker mode.\r\n            &quot;-XX:+TieredCompilation&quot;,\r\n            &quot;-XX:TieredStopAtLevel=1&quot;,\r\n        ],\r\n        singlejar = [&quot;//src/java_tools/singlejar:bootstrap_deploy.jar&quot;],\r\n        source_version = &quot;8&quot;,\r\n        tags = [&quot;manual&quot;],\r\n        target_version = &quot;8&quot;,\r\n        visibility = [&quot;//visibility:public&quot;],\r\n    )\r\n\r\n\r\n.bazelrc\r\n\r\n    build --java_toolchain=//:bootstrap_toolchain\r\n","title":"How to specify Java version with Bazel","body":"<p><code>java_toolchain</code> seems to do the trick:</p>\n\n<p>For example:</p>\n\n<p>In your <code>BUILD</code> file add:</p>\n\n<pre><code>java_toolchain(\n    name = \"bootstrap_toolchain\",\n    # javac -extdirs is implemented by appending the contents to the platform\n    # class path after -bootclasspath. For convenience, we currently have a\n    # single jar that contains the contents of both the bootclasspath and\n    # extdirs.\n    bootclasspath = [\"//tools/jdk:platformclasspath.jar\"],\n    extclasspath = [],\n    genclass = [\"bootstrap_genclass_deploy.jar\"],\n    ijar = [\"//third_party/ijar\"],\n    javabuilder = [\"bootstrap_VanillaJavaBuilder_deploy.jar\"],\n    javac = [\"//third_party/java/jdk/langtools:javac_jar\"],\n    jvm_opts = [\n        # Prevent \"Could not reserve enough space for object heap\" errors on Windows.\n        \"-Xmx512m\",\n        # Using tiered compilation improves performance of Javac when not using the worker mode.\n        \"-XX:+TieredCompilation\",\n        \"-XX:TieredStopAtLevel=1\",\n    ],\n    singlejar = [\"//src/java_tools/singlejar:bootstrap_deploy.jar\"],\n    source_version = \"8\",\n    tags = [\"manual\"],\n    target_version = \"8\",\n    visibility = [\"//visibility:public\"],\n)\n</code></pre>\n\n<p>.bazelrc</p>\n\n<pre><code>build --java_toolchain=//:bootstrap_toolchain\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2937349,"reputation":1112,"user_id":2515975,"display_name":"user2515975"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685873516,"creation_date":1575716969,"answer_id":59225361,"question_id":58567693,"body_markdown":"For bazel 5.0.0+:\r\n\r\nThe version can be specified on the command line or in your .bazelrc:\r\n\r\n`build --java_language_version=17`\r\n\r\nSee https://bazel.build/docs/bazel-and-java#config-source-code\r\n\r\nFor bazel pre-5.0.0:\r\n\r\nBazel comes with some toolchains already defined, and they can specified on the command line or in your .bazelrc:\r\n\r\n`build --java_toolchain=@bazel_tools//tools/jdk:toolchain_java11 --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_java11`\r\n\r\nUnfortunately no standard JDK13 toolchain yet..","title":"How to specify Java version with Bazel","body":"<p>For bazel 5.0.0+:</p>\n<p>The version can be specified on the command line or in your .bazelrc:</p>\n<p><code>build --java_language_version=17</code></p>\n<p>See <a href=\"https://bazel.build/docs/bazel-and-java#config-source-code\" rel=\"nofollow noreferrer\">https://bazel.build/docs/bazel-and-java#config-source-code</a></p>\n<p>For bazel pre-5.0.0:</p>\n<p>Bazel comes with some toolchains already defined, and they can specified on the command line or in your .bazelrc:</p>\n<p><code>build --java_toolchain=@bazel_tools//tools/jdk:toolchain_java11 --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_java11</code></p>\n<p>Unfortunately no standard JDK13 toolchain yet..</p>\n"},{"tags":[],"owner":{"account_id":5275439,"reputation":13,"user_id":6432243,"display_name":"GuapoRocco"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607196518,"creation_date":1607196518,"answer_id":65161064,"question_id":58567693,"body_markdown":"You can now [Configure the JDK Toolchain](https://docs.bazel.build/versions/master/bazel-and-java.html#configuring-the-jdk) to use a locally installed JDK.\r\n\r\nAfter installing OpenJDK 16, I created `~/.bazelrc` with the following contents:\r\n\r\n```\r\nbuild --define=ABSOLUTE_JAVABASE=/home/guaporocco/.jdks/openjdk-16\r\nbuild --javabase=@bazel_tools//tools/jdk:absolute_javabase\r\nbuild --host_javabase=@bazel_tools//tools/jdk:absolute_javabase\r\nbuild --java_toolchain=@bazel_tools//tools/jdk:toolchain_vanilla\r\nbuild --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_vanilla\r\n```\r\n\r\nI can confirm that this works with test projects using features introduced after version 11, like multi-line-strings.","title":"How to specify Java version with Bazel","body":"<p>You can now <a href=\"https://docs.bazel.build/versions/master/bazel-and-java.html#configuring-the-jdk\" rel=\"nofollow noreferrer\">Configure the JDK Toolchain</a> to use a locally installed JDK.</p>\n<p>After installing OpenJDK 16, I created <code>~/.bazelrc</code> with the following contents:</p>\n<pre><code>build --define=ABSOLUTE_JAVABASE=/home/guaporocco/.jdks/openjdk-16\nbuild --javabase=@bazel_tools//tools/jdk:absolute_javabase\nbuild --host_javabase=@bazel_tools//tools/jdk:absolute_javabase\nbuild --java_toolchain=@bazel_tools//tools/jdk:toolchain_vanilla\nbuild --host_java_toolchain=@bazel_tools//tools/jdk:toolchain_vanilla\n</code></pre>\n<p>I can confirm that this works with test projects using features introduced after version 11, like multi-line-strings.</p>\n"}],"owner":{"account_id":4299014,"reputation":53,"user_id":3513191,"display_name":"swiftdeveloper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6642,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":59225361,"answer_count":3,"score":5,"last_activity_date":1685873516,"creation_date":1572058517,"question_id":58567693,"body_markdown":"I am using Bazel to build and test a Java project. It seems to be compiling with JDK10 that it downloaded from somewhere. Would like to specify that it use JDK13. \r\n\r\nHow do I do this? is it something i can put in the .bazelrc or BUILD file? Really having trouble with this.","title":"How to specify Java version with Bazel","body":"<p>I am using Bazel to build and test a Java project. It seems to be compiling with JDK10 that it downloaded from somewhere. Would like to specify that it use JDK13. </p>\n\n<p>How do I do this? is it something i can put in the .bazelrc or BUILD file? Really having trouble with this.</p>\n"},{"tags":["java","json","jackson"],"answers":[{"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1685829839,"post_id":76398164,"comment_id":134716499,"body_markdown":"Jackson can absolutely deserialize automatically based on class property names. EDIT: My mistake. Looks like this is a limitation when using constructor initialization. This is correct.","body":"Jackson can absolutely deserialize automatically based on class property names. EDIT: My mistake. Looks like this is a limitation when using constructor initialization. This is correct."},{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":2,"creation_date":1685832518,"post_id":76398164,"comment_id":134716722,"body_markdown":"@ChristopherSchneider you can redeem yourself with an upvote &#128526;","body":"@ChristopherSchneider you can redeem yourself with an upvote 😎"}],"tags":[],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685872617,"creation_date":1685828922,"answer_id":76398164,"question_id":76397276,"body_markdown":"Unfortunately, Jackson is not smart enough to automatically map JSON&#39;s `id`, `text`, etc. to your class&#39;s fields `id`, `text`, and so on. So you have to manually perform the mapping with `@JsonProperty` annotations like so\r\n```java\r\n    @JsonCreator\r\n    private QuestionCommentResponseDto(@JsonProperty(&quot;id&quot;) Long id, @JsonProperty(&quot;questionId&quot;) Long questionId,\r\n                                       @JsonProperty(&quot;createdDate&quot;) LocalDateTime createdDate,\r\n                                       @JsonProperty(&quot;modifiedDate&quot;) LocalDateTime modifiedDate,\r\n                                       @JsonProperty(&quot;text&quot;) String text, @JsonProperty(&quot;owner&quot;) AccountResponseDto owner) {\r\n        this(id, questionId, createdDate, modifiedDate, text);\r\n        this.owner = owner;\r\n    }\r\n```\r\nAssuming `AccountResponseDto` has its own means to facilitate Jackson&#39;s deserialization efforts (e.g. a no-args + setters), it should work fine\r\n\r\nAlternatively, you can register the `ParameterNamesModule` like so (or opt for some bean definition in case you use frameworks like Spring)\r\n```java\r\nnew ObjectMapper().registerModule(new ParameterNamesModule())\r\n/*\r\nyou probably want to chain registerModule(new JavaTimeModule()) too \r\nsince you are using LocalDateTime\r\n*/\r\n```\r\nWhen you do so, you no longer have to manually map parameters with eponymous class fields avoiding the clutter. Note Jackson 3.x supports this module by default, but since you encounter that problem, you probably use Jackson 2.x so explicit module registration is required","title":"InvalidDefinitionException: &quot;Argument #0 of constructor has no property name&quot;","body":"<p>Unfortunately, Jackson is not smart enough to automatically map JSON's <code>id</code>, <code>text</code>, etc. to your class's fields <code>id</code>, <code>text</code>, and so on. So you have to manually perform the mapping with <code>@JsonProperty</code> annotations like so</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @JsonCreator\n    private QuestionCommentResponseDto(@JsonProperty(&quot;id&quot;) Long id, @JsonProperty(&quot;questionId&quot;) Long questionId,\n                                       @JsonProperty(&quot;createdDate&quot;) LocalDateTime createdDate,\n                                       @JsonProperty(&quot;modifiedDate&quot;) LocalDateTime modifiedDate,\n                                       @JsonProperty(&quot;text&quot;) String text, @JsonProperty(&quot;owner&quot;) AccountResponseDto owner) {\n        this(id, questionId, createdDate, modifiedDate, text);\n        this.owner = owner;\n    }\n</code></pre>\n<p>Assuming <code>AccountResponseDto</code> has its own means to facilitate Jackson's deserialization efforts (e.g. a no-args + setters), it should work fine</p>\n<p>Alternatively, you can register the <code>ParameterNamesModule</code> like so (or opt for some bean definition in case you use frameworks like Spring)</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ObjectMapper().registerModule(new ParameterNamesModule())\n/*\nyou probably want to chain registerModule(new JavaTimeModule()) too \nsince you are using LocalDateTime\n*/\n</code></pre>\n<p>When you do so, you no longer have to manually map parameters with eponymous class fields avoiding the clutter. Note Jackson 3.x supports this module by default, but since you encounter that problem, you probably use Jackson 2.x so explicit module registration is required</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76398164,"answer_count":1,"score":0,"last_activity_date":1685872617,"creation_date":1685814268,"question_id":76397276,"body_markdown":"I have trouble deserializing a JSON. My DTO class has a special `private` constructor for that. I annotated it with `@JsonCreator`\r\n```java\r\n@Getter\r\npublic class QuestionCommentResponseDto {\r\n    private final Long id;\r\n    private final Long questionId;\r\n    private final LocalDateTime createdDate;\r\n    private final LocalDateTime modifiedDate;\r\n    private final String text;\r\n    @Setter\r\n    private AccountResponseDto owner;\r\n\r\n    public QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\r\n                                      LocalDateTime modifiedDate, String text) {\r\n        this.id = id;\r\n        this.questionId = questionId;\r\n        this.createdDate = createdDate;\r\n        this.modifiedDate = modifiedDate;\r\n        this.text = text;\r\n    }\r\n    @JsonCreator\r\n    private QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\r\n                                      LocalDateTime modifiedDate, String text,\r\n                                      AccountResponseDto owner) {\r\n        this(id, questionId, createdDate, modifiedDate, text);\r\n        this.owner = owner;\r\n    }\r\n// equals() and hashcode()\r\n}\r\n```\r\n```java\r\n// the associated DTO\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class AccountResponseDto {\r\n\r\n    private Long id;\r\n    private String username;\r\n// equals() and hashcode()\r\n```\r\nFor some reason, Jackson can&#39;t use the designated constructor. The error message is obscure\r\n```txt\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `stack.overflow.model.dto.response.QuestionCommentResponseDto`: Argument #0 of constructor [constructor for `stack.overflow.model.dto.response.QuestionCommentResponseDto` (6 args), annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)} has no property name (and is not Injectable): can not use as property-based Creator\r\n at [Source: (String)&quot;{&quot;data&quot;:{&quot;id&quot;:1,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-03T20:16:57.238883&quot;,&quot;modifiedDate&quot;:&quot;2023-06-03T20:16:57.238883&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}}}&quot;; line: 1, column: 1]\r\n```\r\nWhat does it mean? What is &quot;argument #0&quot;? &quot;id&quot;? How is it problematic? It perfectly matches the field in name and type so I expect Jackson to be smart enough to map them together. And most importantly, **how do I fix this problem?**\r\n\r\n[This similar question][1] is for Kotlin so I don&#39;t think it&#39;s helpful in this case\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50830692/invaliddefinitionexception-on-jackson-readvalue-on-custom-class-while-deserialis","title":"InvalidDefinitionException: &quot;Argument #0 of constructor has no property name&quot;","body":"<p>I have trouble deserializing a JSON. My DTO class has a special <code>private</code> constructor for that. I annotated it with <code>@JsonCreator</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\npublic class QuestionCommentResponseDto {\n    private final Long id;\n    private final Long questionId;\n    private final LocalDateTime createdDate;\n    private final LocalDateTime modifiedDate;\n    private final String text;\n    @Setter\n    private AccountResponseDto owner;\n\n    public QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\n                                      LocalDateTime modifiedDate, String text) {\n        this.id = id;\n        this.questionId = questionId;\n        this.createdDate = createdDate;\n        this.modifiedDate = modifiedDate;\n        this.text = text;\n    }\n    @JsonCreator\n    private QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\n                                      LocalDateTime modifiedDate, String text,\n                                      AccountResponseDto owner) {\n        this(id, questionId, createdDate, modifiedDate, text);\n        this.owner = owner;\n    }\n// equals() and hashcode()\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// the associated DTO\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class AccountResponseDto {\n\n    private Long id;\n    private String username;\n// equals() and hashcode()\n</code></pre>\n<p>For some reason, Jackson can't use the designated constructor. The error message is obscure</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `stack.overflow.model.dto.response.QuestionCommentResponseDto`: Argument #0 of constructor [constructor for `stack.overflow.model.dto.response.QuestionCommentResponseDto` (6 args), annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)} has no property name (and is not Injectable): can not use as property-based Creator\n at [Source: (String)&quot;{&quot;data&quot;:{&quot;id&quot;:1,&quot;questionId&quot;:1,&quot;createdDate&quot;:&quot;2023-06-03T20:16:57.238883&quot;,&quot;modifiedDate&quot;:&quot;2023-06-03T20:16:57.238883&quot;,&quot;text&quot;:&quot;text&quot;,&quot;owner&quot;:{&quot;id&quot;:1,&quot;username&quot;:&quot;mickey_m&quot;}}}&quot;; line: 1, column: 1]\n</code></pre>\n<p>What does it mean? What is &quot;argument #0&quot;? &quot;id&quot;? How is it problematic? It perfectly matches the field in name and type so I expect Jackson to be smart enough to map them together. And most importantly, <strong>how do I fix this problem?</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/50830692/invaliddefinitionexception-on-jackson-readvalue-on-custom-class-while-deserialis\">This similar question</a> is for Kotlin so I don't think it's helpful in this case</p>\n"},{"tags":["java","mysql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685863566,"post_id":76395586,"comment_id":134718366,"body_markdown":"It is distinguishable to you because you know what the &#39;keys&#39; are. MyBatis needs `&lt;id /&gt;` or `&lt;idArg /&gt;` elements to identify objects. See the [doc](https://mybatis.org/mybatis-3/sqlmap-xml.html#result-maps). If you have difficulty, please provide an executable demo project like [these](https://github.com/harawata/mybatis-issues).","body":"It is distinguishable to you because you know what the &#39;keys&#39; are. MyBatis needs <code>&lt;id &#47;&gt;</code> or <code>&lt;idArg &#47;&gt;</code> elements to identify objects. See the <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html#result-maps\" rel=\"nofollow noreferrer\">doc</a>. If you have difficulty, please provide an executable demo project like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a>."},{"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"score":0,"creation_date":1685871154,"post_id":76395586,"comment_id":134719020,"body_markdown":"@ave If I use the &lt;idArg&gt;, it returns six instances instead of two. I need to tell MyBatis that the table object is determined by the schema and table name. Is there any way to combine these two values?","body":"@ave If I use the &lt;idArg&gt;, it returns six instances instead of two. I need to tell MyBatis that the table object is determined by the schema and table name. Is there any way to combine these two values?"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1685980254,"post_id":76395586,"comment_id":134733451,"body_markdown":"I wrote a quick [demo](https://github.com/harawata/mybatis-issues/blob/master/so-76395586/) for you. I may not fully understand the design and had to make some guesses. Take a look at the comment I left in the XML mapper and if I&#39;m off base, please copy/modify the project and share it on your GitHub repo.","body":"I wrote a quick <a href=\"https://github.com/harawata/mybatis-issues/blob/master/so-76395586/\" rel=\"nofollow noreferrer\">demo</a> for you. I may not fully understand the design and had to make some guesses. Take a look at the comment I left in the XML mapper and if I&#39;m off base, please copy/modify the project and share it on your GitHub repo."}],"owner":{"account_id":18192712,"reputation":79,"user_id":13238303,"display_name":"michal.kyjovsky"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685872290,"creation_date":1685787430,"question_id":76395586,"body_markdown":"I am facing difficulty with MyBatis when I try to get the metadata about tables, their columns, and constraints (MySQL database). I have the following query consisting of JOIN of four tables:\r\n\r\n```SQL\r\nSELECT T.TABLE_NAME,\r\n       T.TABLE_SCHEMA,\r\n       T.CREATE_OPTIONS,\r\n       T.TABLE_COMMENT,\r\n       C.COLUMN_NAME,\r\n       C.COLUMN_TYPE,\r\n       C.COLUMN_DEFAULT,\r\n       C.EXTRA,\r\n       C.COLUMN_KEY,\r\n       C.IS_NULLABLE,\r\n       C.NUMERIC_PRECISION,\r\n       C.NUMERIC_SCALE,\r\n       C.ORDINAL_POSITION,\r\n       C.CHARACTER_MAXIMUM_LENGTH,\r\n       TC.CONSTRAINT_NAME,\r\n       TC.CONSTRAINT_TYPE,\r\n       TC.TABLE_SCHEMA,\r\n       TC.TABLE_NAME AS CONSTRAINT_TABLE_NAME,\r\n       TC.CONSTRAINT_SCHEMA,\r\n       KCU.COLUMN_NAME\r\nFROM INFORMATION_SCHEMA.TABLES AS T\r\n         INNER JOIN\r\n     INFORMATION_SCHEMA.COLUMNS AS C\r\n     ON T.TABLE_SCHEMA = C.TABLE_SCHEMA\r\n         AND T.TABLE_NAME = C.TABLE_NAME\r\n         LEFT OUTER JOIN\r\n     INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC\r\n     ON TC.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n         AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n         AND TC.CONSTRAINT_SCHEMA = T.TABLE_SCHEMA\r\n         AND TC.CONSTRAINT_SCHEMA = C.TABLE_SCHEMA\r\n         AND TC.TABLE_NAME = C.TABLE_NAME\r\n         AND TC.TABLE_NAME = T.TABLE_NAME\r\n         AND C.TABLE_NAME = T.TABLE_NAME\r\n         INNER JOIN information_schema.KEY_COLUMN_USAGE AS KCU\r\n                    ON KCU.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n                        AND KCU.TABLE_NAME = TC.TABLE_NAME\r\n                        AND KCU.CONSTRAINT_NAME = TC.CONSTRAINT_NAME\r\n                        AND C.COLUMN_NAME = KCU.COLUMN_NAME\r\nWHERE T.TABLE_TYPE = &#39;BASE TABLE&#39;\r\n  AND T.TABLE_NAME = &#39;order_items&#39;\r\n  AND TC.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n  AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\r\n  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA\r\n  AND C.TABLE_NAME = T.TABLE_NAME\r\n  AND C.TABLE_NAME = TC.TABLE_NAME\r\n  AND TC.TABLE_NAME = T.TABLE_NAME\r\nORDER BY T.TABLE_SCHEMA, C.ORDINAL_POSITION;\r\n```\r\nNow I have a situation where I have two identical tables in two different schemas:\r\n\r\n|#  |TABLE_NAME                   |TABLE_SCHEMA|CREATE_OPTIONS                               |TABLE_COMMENT|COLUMN_NAME   |COLUMN_TYPE|COLUMN_DEFAULT|EXTRA         |COLUMN_KEY|IS_NULLABLE|NUMERIC_PRECISION|NUMERIC_SCALE|ORDINAL_POSITION|CHARACTER_MAXIMUM_LENGTH|CONSTRAINT_NAME   |CONSTRAINT_TYPE|TABLE_SCHEMA                  |CONSTRAINT_TABLE_NAME|CONSTRAINT_SCHEMA             |COLUMN_NAME   |\r\n|---|-----------------------------|------------|---------------------------------------------|-------------|--------------|-----------|--------------|--------------|----------|-----------|-----------------|-------------|----------------|------------------------|------------------|---------------|------------------------------|---------------------|------------------------------|--------------|\r\n|1  |order_items                  |unit_test_database_three|                                             |             |order_item_id3|int        |              |auto_increment|PRI       |NO         |10               |0            |1               |                        |PRIMARY           |PRIMARY KEY    |unit_test_database_three|order_items          |unit_test_database_three|order_item_id3|\r\n|2  |order_items                  |unit_test_database_three|                                             |             |order_id3     |int        |              |              |MUL       |NO         |10               |0            |2               |                        |order_items_ibfk_1|FOREIGN KEY    |unit_test_database_three|order_items          |unit_test_database_three|order_id3     |\r\n|3  |order_items                  |unit_test_database_three|                                             |             |product_id    |int        |              |              |MUL       |NO         |10               |0            |3               |                        |order_items_ibfk_2|FOREIGN KEY    |unit_test_database_three|order_items          |unit_test_database_three|product_id    |\r\n|4  |order_items                  |unit_test_database_two|                                             |             |order_item_id |int        |              |auto_increment|PRI       |NO         |10               |0            |1               |                        |PRIMARY           |PRIMARY KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |order_item_id |\r\n|5  |order_items                  |unit_test_database_two|                                             |             |order_id      |int        |              |              |MUL       |NO         |10               |0            |2               |                        |order_items_ibfk_1|FOREIGN KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |order_id      |\r\n|6  |order_items                  |unit_test_database_two|                                             |             |product_id    |int        |              |              |MUL       |NO         |10               |0            |3               |                        |order_items_ibfk_2|FOREIGN KEY    |unit_test_database_two  |order_items          |unit_test_database_two  |product_id    |\r\n\r\nThe MyBatis result map looks as follows:\r\n\r\n```XML\r\n\r\n&lt;resultMap id=&quot;schemaMap&quot; type=&quot;Schema&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;tableConstraintMap&quot; type=&quot;TableConstraint&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_TYPE&quot;\r\n                 javaType=&quot;TableConstraint$ConstraintTypes&quot;\r\n                 typeHandler=&quot;ConstraintTypesTypeHandler&quot;/&gt;\r\n            &lt;arg column=&quot;CONSTRAINT_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\r\n                 javaType=&quot;Schema&quot;/&gt;\r\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\r\n                 javaType=&quot;Schema&quot;/&gt;\r\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;columnMap&quot; type=&quot;Column&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;COLUMN_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg column=&quot;COLUMN_TYPE&quot; javaType=&quot;String&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n        &lt;result property=&quot;defaultValue&quot; column=&quot;COLUMN_DEFAULT&quot;/&gt;\r\n        &lt;result property=&quot;extraDetail&quot; column=&quot;EXTRA&quot;/&gt;\r\n        &lt;result property=&quot;key&quot; column=&quot;COLUMN_KEY&quot;/&gt;\r\n        &lt;result property=&quot;nullable&quot; column=&quot;IS_NULLABLE&quot;\r\n                typeHandler=&quot;BooleanTypeHandler&quot;/&gt;\r\n        &lt;result property=&quot;characterMaximumLength&quot; column=&quot;CHARACTER_MAXIMUM_LENGTH&quot;/&gt;\r\n        &lt;result property=&quot;numericPrecision&quot; column=&quot;NUMERIC_PRECISION&quot;/&gt;\r\n        &lt;result property=&quot;numericScale&quot; column=&quot;NUMERIC_SCALE&quot;/&gt;\r\n        &lt;result property=&quot;ordinalPosition&quot; column=&quot;ORDINAL_POSITION&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n\r\n    &lt;resultMap id=&quot;tableMap&quot; type=&quot;Table&quot;&gt;\r\n        &lt;constructor&gt;\r\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\r\n            &lt;arg resultMap=&quot;schemaMap&quot; javaType=&quot;Schema&quot;/&gt;\r\n        &lt;/constructor&gt;\r\n        &lt;result property=&quot;createOptions&quot; column=&quot;CREATE_OPTIONS&quot;/&gt;\r\n        &lt;result property=&quot;comment&quot; column=&quot;TABLE_COMMENT&quot;/&gt;\r\n        &lt;association property=&quot;columns&quot; resultMap=&quot;columnMap&quot;/&gt;\r\n        &lt;association property=&quot;constraints&quot; resultMap=&quot;tableConstraintMap&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n```\r\n\r\nMy problem is that even though I got distinguishable results, MyBatis returns a single Table object that consists of all columns and constraints (based on equals methods) and a single Schema. I need to have two Table objects with the correct Schema, Columns and Constraints associated.\r\n\r\nDoes anyone know where I do have a mistake? If it is in query or results map? Thank you for any hints or help.\r\n\r\n### Update\r\nAs per comments, I tried to use the `idArgs` to the `Table` object&#39;s constructor, but it resulted in the creation of 6 Tables, each having one column. The tables should be created based on the combination of the TABLE_NAME and TABLE_SCHEMA columns.\r\n","title":"MyBatis - Map the records with difference in one column two individual objects","body":"<p>I am facing difficulty with MyBatis when I try to get the metadata about tables, their columns, and constraints (MySQL database). I have the following query consisting of JOIN of four tables:</p>\n<pre><code>SELECT T.TABLE_NAME,\n       T.TABLE_SCHEMA,\n       T.CREATE_OPTIONS,\n       T.TABLE_COMMENT,\n       C.COLUMN_NAME,\n       C.COLUMN_TYPE,\n       C.COLUMN_DEFAULT,\n       C.EXTRA,\n       C.COLUMN_KEY,\n       C.IS_NULLABLE,\n       C.NUMERIC_PRECISION,\n       C.NUMERIC_SCALE,\n       C.ORDINAL_POSITION,\n       C.CHARACTER_MAXIMUM_LENGTH,\n       TC.CONSTRAINT_NAME,\n       TC.CONSTRAINT_TYPE,\n       TC.TABLE_SCHEMA,\n       TC.TABLE_NAME AS CONSTRAINT_TABLE_NAME,\n       TC.CONSTRAINT_SCHEMA,\n       KCU.COLUMN_NAME\nFROM INFORMATION_SCHEMA.TABLES AS T\n         INNER JOIN\n     INFORMATION_SCHEMA.COLUMNS AS C\n     ON T.TABLE_SCHEMA = C.TABLE_SCHEMA\n         AND T.TABLE_NAME = C.TABLE_NAME\n         LEFT OUTER JOIN\n     INFORMATION_SCHEMA.TABLE_CONSTRAINTS AS TC\n     ON TC.TABLE_SCHEMA = T.TABLE_SCHEMA\n         AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\n         AND TC.CONSTRAINT_SCHEMA = T.TABLE_SCHEMA\n         AND TC.CONSTRAINT_SCHEMA = C.TABLE_SCHEMA\n         AND TC.TABLE_NAME = C.TABLE_NAME\n         AND TC.TABLE_NAME = T.TABLE_NAME\n         AND C.TABLE_NAME = T.TABLE_NAME\n         INNER JOIN information_schema.KEY_COLUMN_USAGE AS KCU\n                    ON KCU.TABLE_SCHEMA = TC.TABLE_SCHEMA\n                        AND KCU.TABLE_NAME = TC.TABLE_NAME\n                        AND KCU.CONSTRAINT_NAME = TC.CONSTRAINT_NAME\n                        AND C.COLUMN_NAME = KCU.COLUMN_NAME\nWHERE T.TABLE_TYPE = 'BASE TABLE'\n  AND T.TABLE_NAME = 'order_items'\n  AND TC.TABLE_SCHEMA = T.TABLE_SCHEMA\n  AND C.TABLE_SCHEMA = TC.TABLE_SCHEMA\n  AND C.TABLE_SCHEMA = T.TABLE_SCHEMA\n  AND C.TABLE_NAME = T.TABLE_NAME\n  AND C.TABLE_NAME = TC.TABLE_NAME\n  AND TC.TABLE_NAME = T.TABLE_NAME\nORDER BY T.TABLE_SCHEMA, C.ORDINAL_POSITION;\n</code></pre>\n<p>Now I have a situation where I have two identical tables in two different schemas:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>#</th>\n<th>TABLE_NAME</th>\n<th>TABLE_SCHEMA</th>\n<th>CREATE_OPTIONS</th>\n<th>TABLE_COMMENT</th>\n<th>COLUMN_NAME</th>\n<th>COLUMN_TYPE</th>\n<th>COLUMN_DEFAULT</th>\n<th>EXTRA</th>\n<th>COLUMN_KEY</th>\n<th>IS_NULLABLE</th>\n<th>NUMERIC_PRECISION</th>\n<th>NUMERIC_SCALE</th>\n<th>ORDINAL_POSITION</th>\n<th>CHARACTER_MAXIMUM_LENGTH</th>\n<th>CONSTRAINT_NAME</th>\n<th>CONSTRAINT_TYPE</th>\n<th>TABLE_SCHEMA</th>\n<th>CONSTRAINT_TABLE_NAME</th>\n<th>CONSTRAINT_SCHEMA</th>\n<th>COLUMN_NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>order_item_id3</td>\n<td>int</td>\n<td></td>\n<td>auto_increment</td>\n<td>PRI</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>1</td>\n<td></td>\n<td>PRIMARY</td>\n<td>PRIMARY KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>order_item_id3</td>\n</tr>\n<tr>\n<td>2</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>order_id3</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>2</td>\n<td></td>\n<td>order_items_ibfk_1</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>order_id3</td>\n</tr>\n<tr>\n<td>3</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td></td>\n<td></td>\n<td>product_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>3</td>\n<td></td>\n<td>order_items_ibfk_2</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_three</td>\n<td>order_items</td>\n<td>unit_test_database_three</td>\n<td>product_id</td>\n</tr>\n<tr>\n<td>4</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>order_item_id</td>\n<td>int</td>\n<td></td>\n<td>auto_increment</td>\n<td>PRI</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>1</td>\n<td></td>\n<td>PRIMARY</td>\n<td>PRIMARY KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>order_item_id</td>\n</tr>\n<tr>\n<td>5</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>order_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>2</td>\n<td></td>\n<td>order_items_ibfk_1</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>order_id</td>\n</tr>\n<tr>\n<td>6</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td></td>\n<td></td>\n<td>product_id</td>\n<td>int</td>\n<td></td>\n<td></td>\n<td>MUL</td>\n<td>NO</td>\n<td>10</td>\n<td>0</td>\n<td>3</td>\n<td></td>\n<td>order_items_ibfk_2</td>\n<td>FOREIGN KEY</td>\n<td>unit_test_database_two</td>\n<td>order_items</td>\n<td>unit_test_database_two</td>\n<td>product_id</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The MyBatis result map looks as follows:</p>\n<pre><code>\n&lt;resultMap id=&quot;schemaMap&quot; type=&quot;Schema&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;tableConstraintMap&quot; type=&quot;TableConstraint&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;CONSTRAINT_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg column=&quot;CONSTRAINT_TYPE&quot;\n                 javaType=&quot;TableConstraint$ConstraintTypes&quot;\n                 typeHandler=&quot;ConstraintTypesTypeHandler&quot;/&gt;\n            &lt;arg column=&quot;CONSTRAINT_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\n                 javaType=&quot;Schema&quot;/&gt;\n            &lt;arg column=&quot;TABLE_SCHEMA&quot; resultMap=&quot;schemaMap&quot;\n                 javaType=&quot;Schema&quot;/&gt;\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;columnMap&quot; type=&quot;Column&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;COLUMN_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg column=&quot;COLUMN_TYPE&quot; javaType=&quot;String&quot;/&gt;\n        &lt;/constructor&gt;\n        &lt;result property=&quot;defaultValue&quot; column=&quot;COLUMN_DEFAULT&quot;/&gt;\n        &lt;result property=&quot;extraDetail&quot; column=&quot;EXTRA&quot;/&gt;\n        &lt;result property=&quot;key&quot; column=&quot;COLUMN_KEY&quot;/&gt;\n        &lt;result property=&quot;nullable&quot; column=&quot;IS_NULLABLE&quot;\n                typeHandler=&quot;BooleanTypeHandler&quot;/&gt;\n        &lt;result property=&quot;characterMaximumLength&quot; column=&quot;CHARACTER_MAXIMUM_LENGTH&quot;/&gt;\n        &lt;result property=&quot;numericPrecision&quot; column=&quot;NUMERIC_PRECISION&quot;/&gt;\n        &lt;result property=&quot;numericScale&quot; column=&quot;NUMERIC_SCALE&quot;/&gt;\n        &lt;result property=&quot;ordinalPosition&quot; column=&quot;ORDINAL_POSITION&quot;/&gt;\n    &lt;/resultMap&gt;\n\n    &lt;resultMap id=&quot;tableMap&quot; type=&quot;Table&quot;&gt;\n        &lt;constructor&gt;\n            &lt;arg column=&quot;TABLE_NAME&quot; javaType=&quot;String&quot;/&gt;\n            &lt;arg resultMap=&quot;schemaMap&quot; javaType=&quot;Schema&quot;/&gt;\n        &lt;/constructor&gt;\n        &lt;result property=&quot;createOptions&quot; column=&quot;CREATE_OPTIONS&quot;/&gt;\n        &lt;result property=&quot;comment&quot; column=&quot;TABLE_COMMENT&quot;/&gt;\n        &lt;association property=&quot;columns&quot; resultMap=&quot;columnMap&quot;/&gt;\n        &lt;association property=&quot;constraints&quot; resultMap=&quot;tableConstraintMap&quot;/&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>My problem is that even though I got distinguishable results, MyBatis returns a single Table object that consists of all columns and constraints (based on equals methods) and a single Schema. I need to have two Table objects with the correct Schema, Columns and Constraints associated.</p>\n<p>Does anyone know where I do have a mistake? If it is in query or results map? Thank you for any hints or help.</p>\n<h3>Update</h3>\n<p>As per comments, I tried to use the <code>idArgs</code> to the <code>Table</code> object's constructor, but it resulted in the creation of 6 Tables, each having one column. The tables should be created based on the combination of the TABLE_NAME and TABLE_SCHEMA columns.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":1,"creation_date":1685865821,"post_id":76399430,"comment_id":134718564,"body_markdown":"What do you mean about *doesn&#39;t work*? Add a string as an example and the expected output.","body":"What do you mean about <i>doesn&#39;t work</i>? Add a string as an example and the expected output."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685869600,"post_id":76399430,"comment_id":134718887,"body_markdown":"I know that it doesn&#39;t make sense, that&#39;s why I asked here. I found a way to fix it , but still not sure why it worked partially at all.","body":"I know that it doesn&#39;t make sense, that&#39;s why I asked here. I found a way to fix it , but still not sure why it worked partially at all."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685870566,"post_id":76399430,"comment_id":134718962,"body_markdown":"Context is everything. `String#split(String regex)` splits based on a regex.","body":"Context is everything. <code>String#split(String regex)</code> splits based on a regex."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685870926,"post_id":76399430,"comment_id":134718995,"body_markdown":"But isn&#39;t it odd that using regex &quot;\\t&quot; and &quot;\\\\t&quot; have the same result?","body":"But isn&#39;t it odd that using regex &quot;\\t&quot; and &quot;\\\\t&quot; have the same result?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1685872230,"post_id":76399430,"comment_id":134719121,"body_markdown":"@Craio not really; regular expressions match their content literally, unless the character is a meta character. A tab will be matched literally, while `\\t` is a meta &quot;character&quot; which also matches a tab.","body":"@Craio not really; regular expressions match their content literally, unless the character is a meta character. A tab will be matched literally, while <code>\\t</code> is a meta &quot;character&quot; which also matches a tab."},{"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"score":0,"creation_date":1685872892,"post_id":76399430,"comment_id":134719179,"body_markdown":"@knittl Ok, so as regex those two are the same, but for the join they aren&#39;t.","body":"@knittl Ok, so as regex those two are the same, but for the join they aren&#39;t."}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1685871932,"post_id":76399722,"comment_id":134719084,"body_markdown":"As a side note, if we are not sure if out delimiter can be *interpreted* by regex and we want to be sure that regex will treat it *literally* we can use `Pattern.quote` to generate regex matching only such literal. So if we want to split on ``\\`` followed by ``t`` we can write `split(&quot;\\\\\\\\t&quot;)` or `split(Pattern.quote(&quot;\\\\t&quot;))`.In other words instead of `split(delimiter)` we can use `split(Pattern.quote(delimiter))`","body":"As a side note, if we are not sure if out delimiter can be <i>interpreted</i> by regex and we want to be sure that regex will treat it <i>literally</i> we can use <code>Pattern.quote</code> to generate regex matching only such literal. So if we want to split on <code>\\</code> followed by <code>t</code> we can write <code>split(&quot;\\\\\\\\t&quot;)</code> or <code>split(Pattern.quote(&quot;\\\\t&quot;))</code>.In other words instead of <code>split(delimiter)</code> we can use <code>split(Pattern.quote(delimiter))</code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1685872135,"post_id":76399722,"comment_id":134719107,"body_markdown":"@Pshemo thanks, I have extended my answer to clarify this","body":"@Pshemo thanks, I have extended my answer to clarify this"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685872123,"creation_date":1685871033,"answer_id":76399722,"question_id":76399430,"body_markdown":"Context is everything.\r\n\r\n* `&quot;\\t&quot;` is a String with a single tab &lt;kbd&gt;⇥&lt;/kbd&gt; character\r\n* `&quot;\\\\t&quot;` is a String with a backslash character and a lower case &#39;t&#39; character\r\n* `&quot;\\t&quot;` is a regular expression which contains the literal tab character, which matches tab characters in the input\r\n* `&quot;\\\\t&quot;` is a regular expression which contains the meta character `\\t`, which matches tab characters in the input\r\n* `&quot;\\\\\\\\t&quot;` is a string containing 2 backslashes and lower case &#39;t&#39; character. You can get it by executing `Pattern.quote(&quot;\\\\t&quot;)`.\r\n* `&quot;\\\\\\\\t&quot;` is a regular expression which contains an escaped backslash and a lower case &#39;t&#39; (`\\\\t`), which matches a backslash followed by a lower case &#39;t&#39;.\r\n\r\nThe important thing to note is that [`String#split(String)`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-) splits based on a _regex_:\r\n\r\n&gt; Splits this string around matches of the given [regular expression](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum).\r\n\r\n```\r\nvar input =&quot;a\\tb\\tc&quot;; // an &#39;a&#39;, a tab, a &#39;b&#39;, a tab, a &#39;c&#39;\r\nvar deli = &quot;\\\\t&quot;; // a backslash and a &#39;t&#39;\r\nString[] split = input.split(deli); // splits on the regex `\\t`\r\nvar join = String.join(deli,split); // joins with backslash and t\r\n// the value of join is now &quot;a\\\\tb\\\\tc&quot; (an &#39;a&#39;, a backslash, a &#39;t&#39;, a &#39;b&#39;, a backslash, a &#39;t&#39;, a &#39;c&#39;\r\nvar split2 = join.split(deli); // the string does not contain any tabs anymore, so the regex matching tabs cannot split\r\n```\r\n\r\nYou should be able to easily see the difference if you output the value of the variable `join` and `input` and comparing them.","title":"Java String.join and tabs","body":"<p>Context is everything.</p>\n<ul>\n<li><code>&quot;\\t&quot;</code> is a String with a single tab <kbd>⇥</kbd> character</li>\n<li><code>&quot;\\\\t&quot;</code> is a String with a backslash character and a lower case 't' character</li>\n<li><code>&quot;\\t&quot;</code> is a regular expression which contains the literal tab character, which matches tab characters in the input</li>\n<li><code>&quot;\\\\t&quot;</code> is a regular expression which contains the meta character <code>\\t</code>, which matches tab characters in the input</li>\n<li><code>&quot;\\\\\\\\t&quot;</code> is a string containing 2 backslashes and lower case 't' character. You can get it by executing <code>Pattern.quote(&quot;\\\\t&quot;)</code>.</li>\n<li><code>&quot;\\\\\\\\t&quot;</code> is a regular expression which contains an escaped backslash and a lower case 't' (<code>\\\\t</code>), which matches a backslash followed by a lower case 't'.</li>\n</ul>\n<p>The important thing to note is that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow noreferrer\"><code>String#split(String)</code></a> splits based on a <em>regex</em>:</p>\n<blockquote>\n<p>Splits this string around matches of the given <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">regular expression</a>.</p>\n</blockquote>\n<pre><code>var input =&quot;a\\tb\\tc&quot;; // an 'a', a tab, a 'b', a tab, a 'c'\nvar deli = &quot;\\\\t&quot;; // a backslash and a 't'\nString[] split = input.split(deli); // splits on the regex `\\t`\nvar join = String.join(deli,split); // joins with backslash and t\n// the value of join is now &quot;a\\\\tb\\\\tc&quot; (an 'a', a backslash, a 't', a 'b', a backslash, a 't', a 'c'\nvar split2 = join.split(deli); // the string does not contain any tabs anymore, so the regex matching tabs cannot split\n</code></pre>\n<p>You should be able to easily see the difference if you output the value of the variable <code>join</code> and <code>input</code> and comparing them.</p>\n"}],"owner":{"account_id":2439670,"reputation":63,"user_id":2128555,"display_name":"Craio"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76399722,"answer_count":1,"score":1,"last_activity_date":1685872123,"creation_date":1685865325,"question_id":76399430,"body_markdown":"I&#39;m trying to split a string using a delimiter, do operations on the elements than join together again using the same delimiter.\r\n\r\n    String[] split = input.split(deli); // split on the string\r\n    // Do stuff with split\r\n    return String.join(delimiter,split); // join with the same string\r\n\r\nThis works fine, unless the used deli is &#39;\\t&#39; (tab) (and probably other similar ones).  \r\nBecause String.join refers to the delimiter as a &#39;charsequence&#39; might this be the cause?\r\n\r\nFor example:\r\n\r\n     var deli=&quot;\\t&quot;;\r\n     var split = data.split(deli); // splits properly\r\n     var join = String.join(deli,split); // joins with sequence instead of char \r\n     var it = join.split(deli); // doesn&#39;t work\r\n\r\nIs this normal? If so, how can I best work around it?  \r\nFor now i&#39;m doing this.\r\n```\r\nvar deli=&quot;\\t&quot;;\r\nvar split = data.split(deli); // splits properly\r\nif( deli.equalsIgnoreCase(&quot;\\\\t&quot;)) \r\n     return String.join(String.valueOf((char)9),items);\r\nreturn String.join(deli,items);\r\n````\r\n\r\nDelimiter is read from a xml file attribute and that was read as &quot;\\\\\\t&quot; and not &quot;\\t&quot; (in ide debug it showed as \\t). Which is to be expected but because the split always worked, never thought anything of it. \r\n\r\n````\r\n// First split works, second doesn&#39;t\r\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\r\n    var deli = &quot;\\\\t&quot;;\r\n    String[] split = input.split(deli); // splits properly\r\n    var join = String.join(deli,split);\r\n    var split2 = join.split(deli); // doesn&#39;t split\r\n\r\n// Both splits work\r\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\r\n    var deli = &quot;\\t&quot;;\r\n    String[] split = input.split(deli);\r\n    var join = String.join(deli,split);\r\n    var split2 = join.split(deli); // splits properly\r\n````\r\nSo solution to my issue is properly converting \\t attribute to a &#39;tab&#39;.\r\n\r\nBut why does the first split work but not the second one? You&#39;d expect to fail on the first split.","title":"Java String.join and tabs","body":"<p>I'm trying to split a string using a delimiter, do operations on the elements than join together again using the same delimiter.</p>\n<pre><code>String[] split = input.split(deli); // split on the string\n// Do stuff with split\nreturn String.join(delimiter,split); // join with the same string\n</code></pre>\n<p>This works fine, unless the used deli is '\\t' (tab) (and probably other similar ones).<br />\nBecause String.join refers to the delimiter as a 'charsequence' might this be the cause?</p>\n<p>For example:</p>\n<pre><code> var deli=&quot;\\t&quot;;\n var split = data.split(deli); // splits properly\n var join = String.join(deli,split); // joins with sequence instead of char \n var it = join.split(deli); // doesn't work\n</code></pre>\n<p>Is this normal? If so, how can I best work around it?<br />\nFor now i'm doing this.</p>\n<pre><code>var deli=&quot;\\t&quot;;\nvar split = data.split(deli); // splits properly\nif( deli.equalsIgnoreCase(&quot;\\\\t&quot;)) \n     return String.join(String.valueOf((char)9),items);\nreturn String.join(deli,items);\n</code></pre>\n<p>Delimiter is read from a xml file attribute and that was read as &quot;\\\\t&quot; and not &quot;\\t&quot; (in ide debug it showed as \\t). Which is to be expected but because the split always worked, never thought anything of it.</p>\n<pre><code>// First split works, second doesn't\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\n    var deli = &quot;\\\\t&quot;;\n    String[] split = input.split(deli); // splits properly\n    var join = String.join(deli,split);\n    var split2 = join.split(deli); // doesn't split\n\n// Both splits work\n    var input =&quot;[2023-04-25 07:31:26.175]\\t1\\tgeneric:qsr2150|par\\t1770.112, 10.25, 9.043&quot;;\n    var deli = &quot;\\t&quot;;\n    String[] split = input.split(deli);\n    var join = String.join(deli,split);\n    var split2 = join.split(deli); // splits properly\n</code></pre>\n<p>So solution to my issue is properly converting \\t attribute to a 'tab'.</p>\n<p>But why does the first split work but not the second one? You'd expect to fail on the first split.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1685874605,"post_id":76390360,"comment_id":134719315,"body_markdown":"replace comma `,` with semicolon `;`! (between (Excel!)function arguments:) (`&quot;\\&quot;,\\&quot;Click` to `&quot;\\&quot;;\\&quot;Click`)","body":"replace comma <code>,</code> with semicolon <code>;</code>! (between (Excel!)function arguments:) (<code>&quot;\\&quot;,\\&quot;Click</code> to <code>&quot;\\&quot;;\\&quot;Click</code>)"}],"owner":{"account_id":28526149,"reputation":1,"user_id":21834191,"display_name":"Calvin NewGate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685871742,"creation_date":1685710647,"question_id":76390360,"body_markdown":"I am trying to implement a String value which will set the hyperlink text in Excel.  \r\nThis string is been implemented using the URL which is been fetched from DB and trying to populate in a string.  \r\nBut when I am printing the values in Excel it is printing  \r\n`=HYPERLINK(&quot;https://aphit-apo-prd-images.s3-ap-southeast-1.amazonaws.com/signatures/7121031286405333_161143194_signature_IKnC2PrFajWg05zcOqtPYWBojiB0kq9Wm10S_%2Boh2jbnxTinCHoovg2azHwmq6yL.jpg?20230314060753&quot;,&quot;Click to view signature&quot;)`  \r\nrather than showing only link like -&gt; [Click to view signature](https://stackoverflow.com)\r\n\r\nIt is showing only text you can check scenarios image for reference.\r\n\r\nI tried implementing -&gt;\r\n\r\n```\r\n if(StringUtils.isNotBlank(stringVal)) {\r\n                        \tstringVal = &quot;=HYPERLINK(&quot; + &quot;\\&quot;&quot; + stringVal + &quot;\\&quot;,\\&quot;Click to view signature\\&quot;)&quot;;\r\n                            columnValueLst.add(stringVal);\r\n                        }\r\n```\r\nBut the when I am viewing in Excel it is showing like the below Image\r\n\r\n[Current Scenario](https://i.stack.imgur.com/vloEE.png)\r\n\r\n[Expected Scenario](https://i.stack.imgur.com/ET4CI.png)\r\n","title":"How to add HyperLink without using anchor tag and hyperLink class In Java to set in Excel?","body":"<p>I am trying to implement a String value which will set the hyperlink text in Excel.<br />\nThis string is been implemented using the URL which is been fetched from DB and trying to populate in a string.<br />\nBut when I am printing the values in Excel it is printing<br />\n<code>=HYPERLINK(&quot;https://aphit-apo-prd-images.s3-ap-southeast-1.amazonaws.com/signatures/7121031286405333_161143194_signature_IKnC2PrFajWg05zcOqtPYWBojiB0kq9Wm10S_%2Boh2jbnxTinCHoovg2azHwmq6yL.jpg?20230314060753&quot;,&quot;Click to view signature&quot;)</code><br />\nrather than showing only link like -&gt; <a href=\"https://stackoverflow.com\">Click to view signature</a></p>\n<p>It is showing only text you can check scenarios image for reference.</p>\n<p>I tried implementing -&gt;</p>\n<pre><code> if(StringUtils.isNotBlank(stringVal)) {\n                            stringVal = &quot;=HYPERLINK(&quot; + &quot;\\&quot;&quot; + stringVal + &quot;\\&quot;,\\&quot;Click to view signature\\&quot;)&quot;;\n                            columnValueLst.add(stringVal);\n                        }\n</code></pre>\n<p>But the when I am viewing in Excel it is showing like the below Image</p>\n<p><a href=\"https://i.stack.imgur.com/vloEE.png\" rel=\"nofollow noreferrer\">Current Scenario</a></p>\n<p><a href=\"https://i.stack.imgur.com/ET4CI.png\" rel=\"nofollow noreferrer\">Expected Scenario</a></p>\n"},{"tags":["java","maven","apache-commons-collection"],"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1452237496,"post_id":34671338,"comment_id":57088160,"body_markdown":"so you wish to change your dependency version from **3.2.1** to either **3.2.2** or **4.1** ? post your dependency snippet to question.","body":"so you wish to change your dependency version from <b>3.2.1</b> to either <b>3.2.2</b> or <b>4.1</b> ? post your dependency snippet to question."},{"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"score":0,"creation_date":1452238180,"post_id":34671338,"comment_id":57088442,"body_markdown":"You get it, dear Sabir Khan.","body":"You get it, dear Sabir Khan."}],"answers":[{"tags":[],"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1685869763,"creation_date":1452238060,"answer_id":34671594,"question_id":34671338,"body_markdown":"Unless I am missing something obvious, just specifying dependency in your POM ought to be sufficient:\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      ...\r\n    &lt;/dependencies&gt;\r\n\r\nIf you specify it a the **top** of your `&lt;dependencies&gt;` section, it will override any other transitive inclusion of `commons-collections`. \r\n\r\nOf course, you may wind up with incompatibilities where other dependencies depend on the other version, but that&#39;s what unit tests are for, right? ;-)\r\n","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>Unless I am missing something obvious, just specifying dependency in your POM ought to be sufficient:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;version&gt;3.2.2&lt;/version&gt;\n  &lt;/dependency&gt;\n  ...\n&lt;/dependencies&gt;\n</code></pre>\n<p>If you specify it a the <strong>top</strong> of your <code>&lt;dependencies&gt;</code> section, it will override any other transitive inclusion of <code>commons-collections</code>.</p>\n<p>Of course, you may wind up with incompatibilities where other dependencies depend on the other version, but that's what unit tests are for, right? ;-)</p>\n"},{"comments":[{"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"score":0,"creation_date":1452238603,"post_id":34671630,"comment_id":57088625,"body_markdown":"I am not sure that will work as intended. If you do a `mvn dependency:build-classpath` or `mvn dependency:tree`, you&#39;ll see that the dependency chain includes `commons-collections:1.10` **before** the version you really want. For your approach to work, the `&lt;exclusion&gt;` section should be attached to _each_ dependency that transitively includes the `commons-collections:1.10`.","body":"I am not sure that will work as intended. If you do a <code>mvn dependency:build-classpath</code> or <code>mvn dependency:tree</code>, you&#39;ll see that the dependency chain includes <code>commons-collections:1.10</code> <b>before</b> the version you really want. For your approach to work, the <code>&lt;exclusion&gt;</code> section should be attached to <i>each</i> dependency that transitively includes the <code>commons-collections:1.10</code>."},{"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"score":0,"creation_date":1452249250,"post_id":34671630,"comment_id":57094673,"body_markdown":"It does work as intended, but as you mention correctly, you need to exclude it from every dependency which transitively includes `commons-collections`. Your approach is much shorter, but I prefer the explicity of mine.","body":"It does work as intended, but as you mention correctly, you need to exclude it from every dependency which transitively includes <code>commons-collections</code>. Your approach is much shorter, but I prefer the explicity of mine."}],"tags":[],"owner":{"account_id":23845,"reputation":4116,"user_id":60127,"display_name":"rudolfson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452238204,"creation_date":1452238204,"answer_id":34671630,"question_id":34671338,"body_markdown":"What you need to do is exclude `commons-collections` from the affected dependencies and include the desired version in your dependencies directly.\r\n\r\nExample `pom.xml` excerpt assuming `commons-configuration` uses the vulnerable `commons-collections`\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n                    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nFor simplicity I didn&#39;t show configuring this in a root `pom.xml` in the `dependency-management` section.\r\n\r\nThe `&lt;scope&gt;` should be set to `runtime` since you mentioned not using the library directly.","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>What you need to do is exclude <code>commons-collections</code> from the affected dependencies and include the desired version in your dependencies directly.</p>\n\n<p>Example <code>pom.xml</code> excerpt assuming <code>commons-configuration</code> uses the vulnerable <code>commons-collections</code></p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n        &lt;version&gt;1.10&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n                &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>For simplicity I didn't show configuring this in a root <code>pom.xml</code> in the <code>dependency-management</code> section.</p>\n\n<p>The <code>&lt;scope&gt;</code> should be set to <code>runtime</code> since you mentioned not using the library directly.</p>\n"},{"comments":[{"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"score":1,"creation_date":1455680290,"post_id":35446959,"comment_id":58592550,"body_markdown":"I guess it&#39;s because `commons-collections4` is a different artifact as for `maven` dependency checker.","body":"I guess it&#39;s because <code>commons-collections4</code> is a different artifact as for <code>maven</code> dependency checker."},{"owner":{"account_id":1876051,"reputation":3428,"user_id":1697245,"accept_rate":69,"display_name":"Arthur Eirich"},"score":0,"creation_date":1691587405,"post_id":35446959,"comment_id":135511707,"body_markdown":"I have this issue, too. But maven says 3.2.2 has been moved to v4. There is no more version 3.x out there. Having v4 in dependencyManagement tag doesn&#39;t solve the complaint. So what to do now?","body":"I have this issue, too. But maven says 3.2.2 has been moved to v4. There is no more version 3.x out there. Having v4 in dependencyManagement tag doesn&#39;t solve the complaint. So what to do now?"}],"tags":[],"owner":{"account_id":7856503,"reputation":1,"user_id":5938161,"display_name":"sophie"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455687915,"creation_date":1455677296,"answer_id":35446959,"question_id":34671338,"body_markdown":"I&#39;ve added these lines in my `pom.xml`, but still commons-`collections3.2` is getting downloaded..\r\n\r\n   \r\n\r\n     &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;${apachecommonslang.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n        &lt;version&gt;${dbcp.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n        &lt;/dependency&gt; ","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>I've added these lines in my <code>pom.xml</code>, but still commons-<code>collections3.2</code> is getting downloaded..</p>\n\n<pre><code> &lt;dependencies&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n    &lt;version&gt;4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;${apachecommonslang.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n    &lt;version&gt;${dbcp.version}&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n    &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n    &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n    &lt;/dependency&gt; \n</code></pre>\n"}],"owner":{"account_id":2109047,"reputation":490,"user_id":1874690,"accept_rate":100,"display_name":"hotohoto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34671594,"answer_count":3,"score":2,"last_activity_date":1685869763,"creation_date":1452237004,"question_id":34671338,"body_markdown":"My Java app project is being managed by Maven.\r\n\r\nMy project has a few library dependencies depending again on `Apache commons collection 3.2.1` which is vulnerable - e.g. Apache commons configuration, velocity, etc.\r\n\r\n(I can see it is being used by running `mvn dependency:tree` command.)\r\n\r\nI did neither write any line of codes using Apache commons collection directly nor defined the dependency of it, but it&#39;s being used.\r\n\r\nWhat could I do to remove its dependency and to force to use **safe version - 3.2.2, 4.1.**\r\n\r\nFor your information:\r\n[JIRA Bug - Arbitrary remote code execution with InvokerTransformer](https://issues.apache.org/jira/browse/COLLECTIONS-580)\r\n\r\nHere is the part of my pom.xml, and I guess there&#39;s nothing remarkable.\r\n\r\n\t...\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;commons-configuration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.6&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;velocity&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t...\r\n\r\n\r\n","title":"How can I remove the old vulnerable Apache commons collection version dependency from my project&#39;s maven dependency tree?","body":"<p>My Java app project is being managed by Maven.</p>\n\n<p>My project has a few library dependencies depending again on <code>Apache commons collection 3.2.1</code> which is vulnerable - e.g. Apache commons configuration, velocity, etc.</p>\n\n<p>(I can see it is being used by running <code>mvn dependency:tree</code> command.)</p>\n\n<p>I did neither write any line of codes using Apache commons collection directly nor defined the dependency of it, but it's being used.</p>\n\n<p>What could I do to remove its dependency and to force to use <strong>safe version - 3.2.2, 4.1.</strong></p>\n\n<p>For your information:\n<a href=\"https://issues.apache.org/jira/browse/COLLECTIONS-580\" rel=\"nofollow\">JIRA Bug - Arbitrary remote code execution with InvokerTransformer</a></p>\n\n<p>Here is the part of my pom.xml, and I guess there's nothing remarkable.</p>\n\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n    &lt;version&gt;1.6&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt;\n    &lt;artifactId&gt;velocity&lt;/artifactId&gt;\n    &lt;version&gt;1.7&lt;/version&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":265101,"reputation":8176,"user_id":551841,"accept_rate":100,"display_name":"AlanFoster"},"score":0,"creation_date":1325496702,"post_id":8699195,"comment_id":10822682,"body_markdown":"Post the source for FoodItems","body":"Post the source for FoodItems"}],"answers":[{"tags":[],"owner":{"account_id":364968,"reputation":45753,"user_id":709635,"accept_rate":91,"display_name":"plus-"},"comment_count":0,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1325497445,"creation_date":1325496742,"answer_id":8699243,"question_id":8699195,"body_markdown":" - the object which implements `Comparable` is `Fegan`.\r\n\r\nThe method `compareTo` you are overidding in it should have a `Fegan` object as a parameter whereas you are casting it to a `FoodItems`. Your `compareTo` implementation should describe how a `Fegan` compare to another `Fegan`.\r\n\r\n - To actually do your sorting, you might want to make your `FoodItems` implement `Comparable` aswell and copy paste your actual `compareTo` logic in it.","title":"cannot be cast to java.lang.Comparable","body":"<ul>\n<li>the object which implements <code>Comparable</code> is <code>Fegan</code>.</li>\n</ul>\n\n<p>The method <code>compareTo</code> you are overidding in it should have a <code>Fegan</code> object as a parameter whereas you are casting it to a <code>FoodItems</code>. Your <code>compareTo</code> implementation should describe how a <code>Fegan</code> compare to another <code>Fegan</code>.</p>\n\n<ul>\n<li>To actually do your sorting, you might want to make your <code>FoodItems</code> implement <code>Comparable</code> aswell and copy paste your actual <code>compareTo</code> logic in it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10597096,"reputation":384,"user_id":7805375,"display_name":"Rohan Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685868940,"creation_date":1570427420,"answer_id":58264099,"question_id":8699195,"body_markdown":"I faced a similar kind of issue while using a custom object as a key in Treemap.\r\nWhenever you are using a custom object as a key in hashmap then you override two function equals and hashcode, However if you are using ContainsKey method of Treemap on this object then you need to override CompareTo method as well otherwise you will be getting this error\r\nSomeone using a custom object as a key in hashmap in kotlin should do like following \r\n```kotlin\r\ndata class CustomObjectKey(var key1:String = &quot;&quot; , var key2:String =&quot;&quot;): Comparable&lt;CustomObjectKey?&gt; {\r\n    override fun compareTo(other: CustomObjectKey?): Int {\r\n        if(other == null)\r\n            return -1\r\n       // suppose you want to do comparison based on key 1 \r\n        return this.key1.compareTo((other)key1)\r\n    }\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if(other == null)\r\n            return false\r\n        return this.key1 == (other as CustomObjectKey).key1\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return this.key1.hashCode()\r\n    } \r\n}\r\n```","title":"cannot be cast to java.lang.Comparable","body":"<p>I faced a similar kind of issue while using a custom object as a key in Treemap.\nWhenever you are using a custom object as a key in hashmap then you override two function equals and hashcode, However if you are using ContainsKey method of Treemap on this object then you need to override CompareTo method as well otherwise you will be getting this error\nSomeone using a custom object as a key in hashmap in kotlin should do like following</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class CustomObjectKey(var key1:String = &quot;&quot; , var key2:String =&quot;&quot;): Comparable&lt;CustomObjectKey?&gt; {\n    override fun compareTo(other: CustomObjectKey?): Int {\n        if(other == null)\n            return -1\n       // suppose you want to do comparison based on key 1 \n        return this.key1.compareTo((other)key1)\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if(other == null)\n            return false\n        return this.key1 == (other as CustomObjectKey).key1\n    }\n\n    override fun hashCode(): Int {\n        return this.key1.hashCode()\n    } \n}\n</code></pre>\n"}],"owner":{"account_id":1122623,"reputation":413,"user_id":1110626,"display_name":"who must not be named"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131166,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":8699243,"answer_count":2,"score":38,"last_activity_date":1685868940,"creation_date":1325496479,"question_id":8699195,"body_markdown":"    import java.util.HashMap;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Fegan implements Comparable{\r\n\tHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\r\n\tList list = new ArrayList&lt;FoodItems&gt;();\r\n\tint x =0;\r\n\tpublic void addToCart(FoodItems f)\r\n\t{\r\n\t\tcart.put(f.name, f.valueOfFood);\r\n\t}\r\n\tpublic String display(FoodItems f)\r\n\t{\r\n\t\treturn(f.name + &quot; costs &quot; + f.valueOfFood);\r\n\t}\r\n\tpublic void addToList(FoodItems f)\r\n\t{\r\n\t\t//FoodItems temp = (FoodItems) f;\r\n\t\tlist.add(f);\r\n\t}\r\n\tpublic int compareTo(Object o)\r\n\t{\r\n\t\t//FoodItems temp = (FoodItems) o;\r\n\t\tif(this.x == ((FoodItems)o).valueOfFood)\r\n\t\t\treturn 0;\r\n\t\telse if (this.x &lt;((FoodItems)o).valueOfFood)\r\n\t\t\treturn 1;\r\n\t\telse \r\n\t\t\treturn -1;\r\n\t}\r\n\tpublic void sortMap(List list)\r\n\t{\r\n\t\tfor(int i =0; i&lt; list.size(); i++)\r\n\t\t{\r\n\t\t\tFoodItems temp = (FoodItems) list.get(i);\r\n\t\t\tcart.put(temp.name, temp.valueOfItem);\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n\r\n-----------------\r\n\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    public class Test {\r\n\tpublic static void main(String [] args)\r\n\t{\r\n\t\tHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\r\n\t\tFoodItems firts = new FoodItems(&quot;Chocolate&quot; , 50);\r\n\t\tFoodItems second = new FoodItems(&quot;Juice&quot;, 79);\r\n\t\tFoodItems third = new FoodItems(&quot;Apple&quot;, 200);\r\n\t\tFoodItems forth = new FoodItems(&quot;Orange&quot;, 300);\r\n\t\tFoodItems fifth = new FoodItems(&quot;Milk&quot; , 400);\r\n\t\tArrayList items = new ArrayList();\r\n\t\titems.add(firts);\r\n\t\titems.add(second);\r\n\t\titems.add(third);\r\n\t\titems.add(forth);\r\n\t\titems.add(fifth);\r\n\t\tCollections.sort(items);\r\n        Iterator itr = items.iterator();\r\n        Fegan myFegan = new Fegan();\r\n        myFegan.sortMap(items);\r\n\r\n        while(itr.hasNext()){\r\n            Object element = itr.next();\r\n            System.out.println(element + &quot;\\n&quot;);\r\n        }\r\n\t}\r\n    }\r\n\r\nWhy it is writing:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassCastException: FoodItems cannot be cast to java.lang.Comparable\r\n\tat java.util.ComparableTimSort.countRunAndMakeAscending(Unknown Source)\r\n\tat java.util.ComparableTimSort.sort(Unknown Source)\r\n\tat java.util.ComparableTimSort.sort(Unknown Source)\r\n\tat java.util.Arrays.sort(Unknown Source)\r\n\tat java.util.Collections.sort(Unknown Source)\r\n\tat Test.main(Test.java:21)","title":"cannot be cast to java.lang.Comparable","body":"<pre><code>import java.util.HashMap;\nimport java.io.*;\nimport java.util.*;\npublic class Fegan implements Comparable{\nHashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\nList list = new ArrayList&lt;FoodItems&gt;();\nint x =0;\npublic void addToCart(FoodItems f)\n{\n    cart.put(f.name, f.valueOfFood);\n}\npublic String display(FoodItems f)\n{\n    return(f.name + \" costs \" + f.valueOfFood);\n}\npublic void addToList(FoodItems f)\n{\n    //FoodItems temp = (FoodItems) f;\n    list.add(f);\n}\npublic int compareTo(Object o)\n{\n    //FoodItems temp = (FoodItems) o;\n    if(this.x == ((FoodItems)o).valueOfFood)\n        return 0;\n    else if (this.x &lt;((FoodItems)o).valueOfFood)\n        return 1;\n    else \n        return -1;\n}\npublic void sortMap(List list)\n{\n    for(int i =0; i&lt; list.size(); i++)\n    {\n        FoodItems temp = (FoodItems) list.get(i);\n        cart.put(temp.name, temp.valueOfItem);\n\n    }\n}\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.io.*;\nimport java.util.*;\npublic class Test {\npublic static void main(String [] args)\n{\n    HashMap&lt;String, Integer&gt; cart = new HashMap&lt;String, Integer&gt;();\n    FoodItems firts = new FoodItems(\"Chocolate\" , 50);\n    FoodItems second = new FoodItems(\"Juice\", 79);\n    FoodItems third = new FoodItems(\"Apple\", 200);\n    FoodItems forth = new FoodItems(\"Orange\", 300);\n    FoodItems fifth = new FoodItems(\"Milk\" , 400);\n    ArrayList items = new ArrayList();\n    items.add(firts);\n    items.add(second);\n    items.add(third);\n    items.add(forth);\n    items.add(fifth);\n    Collections.sort(items);\n    Iterator itr = items.iterator();\n    Fegan myFegan = new Fegan();\n    myFegan.sortMap(items);\n\n    while(itr.hasNext()){\n        Object element = itr.next();\n        System.out.println(element + \"\\n\");\n    }\n}\n}\n</code></pre>\n\n<p>Why it is writing:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: FoodItems cannot be cast to java.lang.Comparable\nat java.util.ComparableTimSort.countRunAndMakeAscending(Unknown Source)\nat java.util.ComparableTimSort.sort(Unknown Source)\nat java.util.ComparableTimSort.sort(Unknown Source)\nat java.util.Arrays.sort(Unknown Source)\nat java.util.Collections.sort(Unknown Source)\nat Test.main(Test.java:21)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":3,"creation_date":1685868293,"post_id":76399519,"comment_id":134718770,"body_markdown":"Parsing the file is in no way related on how you select the file to parse, so it is not a problem with JavaFX. It is just a matter of the contents of that file and the desired target format after parsing it. Therefore it would help a lot if you would specify both in detail.","body":"Parsing the file is in no way related on how you select the file to parse, so it is not a problem with JavaFX. It is just a matter of the contents of that file and the desired target format after parsing it. Therefore it would help a lot if you would specify both in detail."},{"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"score":0,"creation_date":1685868651,"post_id":76399519,"comment_id":134718800,"body_markdown":"I have two questions. How should I write information to a file (serialize a class or just write its data to a file)? And the second question: how do I just select a file through FileChooser and get data from it?","body":"I have two questions. How should I write information to a file (serialize a class or just write its data to a file)? And the second question: how do I just select a file through FileChooser and get data from it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1685868732,"post_id":76399519,"comment_id":134718806,"body_markdown":"You just repeated the question (*after* failing to supply info you were asked for). Question likely to be closed","body":"You just repeated the question (<i>after</i> failing to supply info you were asked for). Question likely to be closed"},{"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"score":0,"creation_date":1685871275,"post_id":76399519,"comment_id":134719028,"body_markdown":"I repeat once again that the meaning of the question is precisely in the analysis. And I don&#39;t understand how FileChooser works at all. How do I select a text or serialized file via FileChooser and get the text from that file","body":"I repeat once again that the meaning of the question is precisely in the analysis. And I don&#39;t understand how FileChooser works at all. How do I select a text or serialized file via FileChooser and get the text from that file"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1685873594,"post_id":76399519,"comment_id":134719243,"body_markdown":"I voted to close because scope is way too wide. I suggest you spend time looking at each stage of your problem: look at samples for using FileChooser, java.nio.file.Files class for file handling, and then come back to registering your JavaFX button action handler which links up all of those. There are many tutorials and SO questions on each topic.","body":"I voted to close because scope is way too wide. I suggest you spend time looking at each stage of your problem: look at samples for using FileChooser, java.nio.file.Files class for file handling, and then come back to registering your JavaFX button action handler which links up all of those. There are many tutorials and SO questions on each topic."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1685874898,"post_id":76399519,"comment_id":134719348,"body_markdown":"Not understanding how `FileChooser` works at all: try a tutorial or two. They will help you a lot better than a Stack Overflow question.","body":"Not understanding how <code>FileChooser</code> works at all: try a tutorial or two. They will help you a lot better than a Stack Overflow question."}],"owner":{"account_id":28748226,"reputation":3,"user_id":22016854,"display_name":"Alex Dipayen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685868158,"creation_date":1685866987,"question_id":76399519,"body_markdown":"I have a JavaFX application that has a &quot;load text&quot; button. When you click this button, you need to select a file and load information from it by class (its fields)\r\n\r\n1) How to make such logic? Which file should I choose (serialized or write data of an arbitrary class just to a file without serialization)?\r\n\r\n2) How to parse these values? That is, there are 3 test fields in the class and how can I get these values ​​of my arbitrary class when I click on the &quot;load message&quot; button\r\n\r\nButton FXML:\r\n\r\n```XML\r\n&lt;Button fx:id=&quot;buttonLoadMessage&quot;\r\n        layoutX=&quot;261.0&quot;\r\n        layoutY=&quot;66.0&quot;\r\n        mnemonicParsing=&quot;false&quot;\r\n        prefHeight=&quot;25.0&quot;\r\n        prefWidth=&quot;169.0&quot;\r\n        text=&quot;load message&quot;&gt;\r\n                       \r\n```\r\n\r\nthe button does not have onaction since I did not create a method for this logic, because I do not understand how to\r\n","title":"How to parse values from a file that I select through the FileChooser class?","body":"<p>I have a JavaFX application that has a &quot;load text&quot; button. When you click this button, you need to select a file and load information from it by class (its fields)</p>\n<ol>\n<li><p>How to make such logic? Which file should I choose (serialized or write data of an arbitrary class just to a file without serialization)?</p>\n</li>\n<li><p>How to parse these values? That is, there are 3 test fields in the class and how can I get these values ​​of my arbitrary class when I click on the &quot;load message&quot; button</p>\n</li>\n</ol>\n<p>Button FXML:</p>\n<pre><code>&lt;Button fx:id=&quot;buttonLoadMessage&quot;\n        layoutX=&quot;261.0&quot;\n        layoutY=&quot;66.0&quot;\n        mnemonicParsing=&quot;false&quot;\n        prefHeight=&quot;25.0&quot;\n        prefWidth=&quot;169.0&quot;\n        text=&quot;load message&quot;&gt;\n                       \n</code></pre>\n<p>the button does not have onaction since I did not create a method for this logic, because I do not understand how to</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea"],"owner":{"account_id":28743260,"reputation":1,"user_id":22012960,"display_name":"TravisB97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685867458,"creation_date":1685791103,"question_id":76395805,"body_markdown":"Please help with my code. I started my very first test automation framework using Java, Maven, Selenium and Intellij and followed this guide - https://devqa.io/develop-test-automation-framework-scratch/ . If you go through the guide and at the end of part 2 it says a Chrome window should pop up when i run my code. I am having some issues and was hoping someone could go through it and tell me where I&#39;m going wrong. Thanks in advance!\r\n\r\n[Two of my dependencies are highlighted as weak warnings][1]\r\n\r\n\r\n\r\nTried to run code after completing framework. Hoped a chrome window would pop up upon completion but running into some issues.\r\n[Here is what messages I get when i run this class][2]\r\n\r\nHere&#39;s a GitHub link to my project - https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aZeDN.png\r\n  [2]: https://i.stack.imgur.com/moLLp.png","title":"First test automation framework attempt","body":"<p>Please help with my code. I started my very first test automation framework using Java, Maven, Selenium and Intellij and followed this guide - <a href=\"https://devqa.io/develop-test-automation-framework-scratch/\" rel=\"nofollow noreferrer\">https://devqa.io/develop-test-automation-framework-scratch/</a> . If you go through the guide and at the end of part 2 it says a Chrome window should pop up when i run my code. I am having some issues and was hoping someone could go through it and tell me where I'm going wrong. Thanks in advance!</p>\n<p><a href=\"https://i.stack.imgur.com/aZeDN.png\" rel=\"nofollow noreferrer\">Two of my dependencies are highlighted as weak warnings</a></p>\n<p>Tried to run code after completing framework. Hoped a chrome window would pop up upon completion but running into some issues.\n<a href=\"https://i.stack.imgur.com/moLLp.png\" rel=\"nofollow noreferrer\">Here is what messages I get when i run this class</a></p>\n<p>Here's a GitHub link to my project - <a href=\"https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667\" rel=\"nofollow noreferrer\">https://github.com/TravisB97/TravisTAF/commit/ce1b906bc43ea6faa0f23ac891bc8a82492be667</a></p>\n"},{"tags":["java","spring-boot","mockito","spybean"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1685619583,"post_id":76381417,"comment_id":134687075,"body_markdown":"Have you tried `Mockito.when(environment.acceptsProfiles(Profiles.of(&quot;prod&quot;))).thenReturn(true);` ?","body":"Have you tried <code>Mockito.when(environment.acceptsProfiles(Profiles.of(&quot;prod&quot;)&zwnj;&#8203;)).thenReturn(true);</code> ?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685619834,"post_id":76381417,"comment_id":134687135,"body_markdown":"yeah, same problem.","body":"yeah, same problem."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1685620612,"post_id":76381417,"comment_id":134687341,"body_markdown":"did you initialize `environment` properly?","body":"did you initialize <code>environment</code> properly?"},{"owner":{"account_id":6494677,"reputation":823,"user_id":5027640,"accept_rate":77,"display_name":"logi0517"},"score":0,"creation_date":1685620887,"post_id":76381417,"comment_id":134687405,"body_markdown":"what annotations do you have on the top of your class? @ SpyBean is a spring annotation, you need @ SpringBootTest annotation, to build the application context for the test.","body":"what annotations do you have on the top of your class? @ SpyBean is a spring annotation, you need @ SpringBootTest annotation, to build the application context for the test."},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685620900,"post_id":76381417,"comment_id":134687409,"body_markdown":"how? shouldnt it come from the application context?","body":"how? shouldnt it come from the application context?"},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685622054,"post_id":76381417,"comment_id":134687667,"body_markdown":"it is a spring boot test- I have added the information to the question to clarify","body":"it is a spring boot test- I have added the information to the question to clarify"}],"answers":[{"comments":[{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685888221,"post_id":76399527,"comment_id":134720772,"body_markdown":"thank you for your answer! My problem is, I di not actually want to use settings from the profile in the test, I only want to verify that specific functionality works only if a profile is active.","body":"thank you for your answer! My problem is, I di not actually want to use settings from the profile in the test, I only want to verify that specific functionality works only if a profile is active."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1685948905,"post_id":76399527,"comment_id":134726629,"body_markdown":"Is the functionality based on choosing different beans for injection depending on the profile? This knowledge is required to solve your problem fully, because beans creation takes place on context initialization/refresh, which occurs before running the test case (or even whole test class, depending on the configuration).","body":"Is the functionality based on choosing different beans for injection depending on the profile? This knowledge is required to solve your problem fully, because beans creation takes place on context initialization/refresh, which occurs before running the test case (or even whole test class, depending on the configuration)."},{"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"score":0,"creation_date":1685955104,"post_id":76399527,"comment_id":134727667,"body_markdown":"well there is something in the code like if (environment.acceptsProfiles(...)) {someBean.doThis();} else {throw Exception(...)}. I need a way to verify the behaviour in an integrative test without actually using the settings from the &quot;prod&quot; profile.","body":"well there is something in the code like if (environment.acceptsProfiles(...)) {someBean.doThis();} else {throw Exception(...)}. I need a way to verify the behaviour in an integrative test without actually using the settings from the &quot;prod&quot; profile."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":1,"creation_date":1685956825,"post_id":76399527,"comment_id":134728037,"body_markdown":"If you&#39;d like to test just the `if` (BTW you should consider using different strategies as beans created based on a profile and injected depending on the profile value), it would be best to just stick to a unit test (without Spring context) with mocked `environment`. If it is an integration test, then using a profile has its other consequences like settings and beans. To work around that you could create an additional profile like `test` and skip the settings/beans you do not need if it&#39;s active and activate both `prod` and `test` profiles in the test.","body":"If you&#39;d like to test just the <code>if</code> (BTW you should consider using different strategies as beans created based on a profile and injected depending on the profile value), it would be best to just stick to a unit test (without Spring context) with mocked <code>environment</code>. If it is an integration test, then using a profile has its other consequences like settings and beans. To work around that you could create an additional profile like <code>test</code> and skip the settings/beans you do not need if it&#39;s active and activate both <code>prod</code> and <code>test</code> profiles in the test."}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1685867115,"creation_date":1685867115,"answer_id":76399527,"question_id":76381417,"body_markdown":"`Environment` is part of the essential configuration used to create Spring context while the application is started. The environment object is created before the context is prepared and only later registered as a bean within the context to enable injection. Because of that it cannot be mocked or spied on, similarly to `ApplicationContext` or `BeanFactory`, which are basic Spring context building blocks as well.\r\n\r\nYou can verify that yourself, using a debugger and the Spring Boot open-sourced code - look specifically at [this part][1] (`run` method in the `SpringApplication` class). The `Environment` object is prepared before the context is created and the mock/spy beans are created and injected during context refresh after its creation. To verify that you could simply create a class, mark it with the `@SpyBean` annotation in a test, set a breakpoint in the constructor and run the test with debugging. Whether Spring testing library should inform about the incorrect usage of `@MockBean`/`@SpyBean` on the interfaces/classes that cannot be mocked or spied on is a different matter and you could ask that question or propose adding that in an appropriate GitHub repository.\r\n\r\nRegarding the solution to the problem (I think) you&#39;re trying to solve: it looks like you could use the [@ActiveProfiles][2] annotation to enable a specific profile in your test class or use [any other way of setting an active Spring profile][3].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L306-L311\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\r\n  [3]: https://www.baeldung.com/spring-profiles#set-profiles","title":"NotAMockException when trying to mock a method on a SpyBean of Environment","body":"<p><code>Environment</code> is part of the essential configuration used to create Spring context while the application is started. The environment object is created before the context is prepared and only later registered as a bean within the context to enable injection. Because of that it cannot be mocked or spied on, similarly to <code>ApplicationContext</code> or <code>BeanFactory</code>, which are basic Spring context building blocks as well.</p>\n<p>You can verify that yourself, using a debugger and the Spring Boot open-sourced code - look specifically at <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/SpringApplication.java#L306-L311\" rel=\"nofollow noreferrer\">this part</a> (<code>run</code> method in the <code>SpringApplication</code> class). The <code>Environment</code> object is prepared before the context is created and the mock/spy beans are created and injected during context refresh after its creation. To verify that you could simply create a class, mark it with the <code>@SpyBean</code> annotation in a test, set a breakpoint in the constructor and run the test with debugging. Whether Spring testing library should inform about the incorrect usage of <code>@MockBean</code>/<code>@SpyBean</code> on the interfaces/classes that cannot be mocked or spied on is a different matter and you could ask that question or propose adding that in an appropriate GitHub repository.</p>\n<p>Regarding the solution to the problem (I think) you're trying to solve: it looks like you could use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"nofollow noreferrer\">@ActiveProfiles</a> annotation to enable a specific profile in your test class or use <a href=\"https://www.baeldung.com/spring-profiles#set-profiles\" rel=\"nofollow noreferrer\">any other way of setting an active Spring profile</a>.</p>\n"}],"owner":{"account_id":134602,"reputation":1277,"user_id":336849,"accept_rate":64,"display_name":"Greg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":302,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76399527,"answer_count":1,"score":0,"last_activity_date":1685867115,"creation_date":1685619120,"question_id":76381417,"body_markdown":"In an integration test `(@SpringBootTest)` class I declare a spyBean:\r\n\r\n    @SpyBean\r\n    private Environment environment;\r\n\r\nIn a test I try to mock one method:\r\n\r\n    doReturn(true).when(environment).acceptsProfiles(Profiles.of(&quot;prod&quot;));\r\n\r\nHowever, I get the following error:\r\n\r\n    org.mockito.exceptions.misusing.NotAMockException: \r\n    Argument passed to when() is not a mock!\r\n    Example of correct stubbing:\r\n        doThrow(new RuntimeException()).when(mock).someMethod();\r\n\r\nHow can I properly mock the method?","title":"NotAMockException when trying to mock a method on a SpyBean of Environment","body":"<p>In an integration test <code>(@SpringBootTest)</code> class I declare a spyBean:</p>\n<pre><code>@SpyBean\nprivate Environment environment;\n</code></pre>\n<p>In a test I try to mock one method:</p>\n<pre><code>doReturn(true).when(environment).acceptsProfiles(Profiles.of(&quot;prod&quot;));\n</code></pre>\n<p>However, I get the following error:</p>\n<pre><code>org.mockito.exceptions.misusing.NotAMockException: \nArgument passed to when() is not a mock!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\n</code></pre>\n<p>How can I properly mock the method?</p>\n"},{"tags":["java","serialization","tomcat9","session-replication"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1685867413,"post_id":76399504,"comment_id":134718701,"body_markdown":"Run under the debugger and set breakpoints which log the classes of the objects being serialised.","body":"Run under the debugger and set breakpoints which log the classes of the objects being serialised."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1685872973,"post_id":76399504,"comment_id":134719188,"body_markdown":"Classic [XY problem](https://xyproblem.info/). &#39;Show[ing] object references&#39; wont&#39; help you here. What you really need to do is find where in your project you have `com.example.ClassFoo` as a non-transient non-static object field.","body":"Classic <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY problem</a>. &#39;Show[ing] object references&#39; wont&#39; help you here. What you really need to do is find where in your project you have <code>com.example.ClassFoo</code> as a non-transient non-static object field."}],"owner":{"account_id":4904476,"reputation":4812,"user_id":3951576,"accept_rate":50,"display_name":"eastwater"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685866679,"creation_date":1685866679,"question_id":76399504,"body_markdown":"For the following stacktrace of tomcat session replication, is there a way to show object reference graph for serialization? i.e., \r\n\r\n    Object A in session -&gt; Object B -&gt; .... -&gt; ClassFoo Object\r\n\r\nIn other words, how to show the object type to write for each writeObject() method in stacktrace?\r\n\r\nAny object logging for java serialization? \r\n\r\n    java.io.NotSerializableException: com.example.ClassFoo\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\r\n            at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\r\n            at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\r\n            at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\r\n            at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:345)\r\n            at org.apache.catalina.ha.session.DeltaRequest$AttributeInfo.writeExternal(DeltaRequest.java:438)\r\n            at org.apache.catalina.ha.session.DeltaRequest.writeExternal(DeltaRequest.java:326)\r\n            at org.apache.catalina.ha.session.DeltaRequest.serialize(DeltaRequest.java:340)\r\n            at org.apache.catalina.ha.session.DeltaSession.getDiff(DeltaSession.java:168)\r\n            at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1046)\r\n            at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1014)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.send(ReplicationValve.java:527)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendMessage(ReplicationValve.java:515)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendSessionReplicationMessage(ReplicationValve.java:497)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.sendReplicationMessage(ReplicationValve.java:409)\r\n            at org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:340)","title":"java serialization: how to show object references","body":"<p>For the following stacktrace of tomcat session replication, is there a way to show object reference graph for serialization? i.e.,</p>\n<pre><code>Object A in session -&gt; Object B -&gt; .... -&gt; ClassFoo Object\n</code></pre>\n<p>In other words, how to show the object type to write for each writeObject() method in stacktrace?</p>\n<p>Any object logging for java serialization?</p>\n<pre><code>java.io.NotSerializableException: com.example.ClassFoo\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1543)\n        at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1500)\n        at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1423)\n        at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1169)\n        at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:345)\n        at org.apache.catalina.ha.session.DeltaRequest$AttributeInfo.writeExternal(DeltaRequest.java:438)\n        at org.apache.catalina.ha.session.DeltaRequest.writeExternal(DeltaRequest.java:326)\n        at org.apache.catalina.ha.session.DeltaRequest.serialize(DeltaRequest.java:340)\n        at org.apache.catalina.ha.session.DeltaSession.getDiff(DeltaSession.java:168)\n        at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1046)\n        at org.apache.catalina.ha.session.DeltaManager.requestCompleted(DeltaManager.java:1014)\n        at org.apache.catalina.ha.tcp.ReplicationValve.send(ReplicationValve.java:527)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendMessage(ReplicationValve.java:515)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendSessionReplicationMessage(ReplicationValve.java:497)\n        at org.apache.catalina.ha.tcp.ReplicationValve.sendReplicationMessage(ReplicationValve.java:409)\n        at org.apache.catalina.ha.tcp.ReplicationValve.invoke(ReplicationValve.java:340)\n</code></pre>\n"},{"tags":["java","jsp","pdf-generation"],"comments":[{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1389080903,"post_id":20966185,"comment_id":31496447,"body_markdown":"Are Hindi chars really invisible or appear as junk char sequence, boxes etc?","body":"Are Hindi chars really invisible or appear as junk char sequence, boxes etc?"},{"owner":{"account_id":2436173,"reputation":5566,"user_id":2126023,"accept_rate":85,"display_name":"Saif Asif"},"score":0,"creation_date":1389081356,"post_id":20966185,"comment_id":31496620,"body_markdown":"Can you log the hindi chars and see that do they really come up as you want or they appear as garbage characters ?","body":"Can you log the hindi chars and see that do they really come up as you want or they appear as garbage characters ?"},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389081521,"post_id":20966185,"comment_id":31496683,"body_markdown":"@PopoFibo invisible...no junk characters..in the database I get #2960.And when I retrieve on textbox,I get hindi text back.But when I pull it from database to pdf it doesnt come.","body":"@PopoFibo invisible...no junk characters..in the database I get #2960.And when I retrieve on textbox,I get hindi text back.But when I pull it from database to pdf it doesnt come."},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389081606,"post_id":20966185,"comment_id":31496722,"body_markdown":"@SaifAsif I didnt get ur point?U mean in the textarea if they come in garbage?If yes,it comes properly on that...just on pdf nothing appears when I retireve from db","body":"@SaifAsif I didnt get ur point?U mean in the textarea if they come in garbage?If yes,it comes properly on that...just on pdf nothing appears when I retireve from db"}],"answers":[{"comments":[{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389082125,"post_id":20966668,"comment_id":31496951,"body_markdown":"But in my case I need to print english and hindi both in one page.Will this work?","body":"But in my case I need to print english and hindi both in one page.Will this work?"},{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1389082325,"post_id":20966668,"comment_id":31497049,"body_markdown":"@user3040563 Yes try the example in the reference link, it displays the English chars as text and right below the Hindi graphics, see the edit above as well","body":"@user3040563 Yes try the example in the reference link, it displays the English chars as text and right below the Hindi graphics, see the edit above as well"},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389173311,"post_id":20966668,"comment_id":31542824,"body_markdown":"I tried your example.not the graphics part but the first one `document.add(new Paragraph(&quot;Pure iText: &quot; + str,\n\t\t\t\tnew com.lowagie.text.Font(bf, 12)));`.I get this as output  `Konkani &amp;#2361;&amp;#2379; &amp;#2360;&amp;#2375;&amp;#2360;&amp;#2381;&amp;#2360;&amp;#2379;&amp;#2344`","body":"I tried your example.not the graphics part but the first one <code>document.add(new Paragraph(&quot;Pure iText: &quot; + str, \t\t\t\tnew com.lowagie.text.Font(bf, 12)));</code>.I get this as output  <code>Konkani &amp;#2361;&amp;#2379; &amp;#2360;&amp;#2375;&amp;#2360;&amp;#2381;&amp;#2360;&amp;#2379;&amp;#2344</code>"},{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1389175292,"post_id":20966668,"comment_id":31544057,"body_markdown":"@user3040563 look at the code [here](http://codetidy.com/7732/); just replace `String text = &quot;????&quot;;` with `String text = &quot;भारत&quot;;`. Graphics part is important as that is the place where the Hindi chars are rendered, not before that.","body":"@user3040563 look at the code <a href=\"http://codetidy.com/7732/\" rel=\"nofollow noreferrer\">here</a>; just replace <code>String text = &quot;????&quot;;</code> with <code>String text = &quot;भारत&quot;;</code>. Graphics part is important as that is the place where the Hindi chars are rendered, not before that."},{"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"score":0,"creation_date":1389175335,"post_id":20966668,"comment_id":31544082,"body_markdown":"@user3040563 the code in the link in my comment above would work as is and probably would give a better explanation of the intent","body":"@user3040563 the code in the link in my comment above would work as is and probably would give a better explanation of the intent"},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389175410,"post_id":20966668,"comment_id":31544124,"body_markdown":"ok fine..I will try it out again...is there no way I could change some font xmlparser?","body":"ok fine..I will try it out again...is there no way I could change some font xmlparser?"},{"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"score":0,"creation_date":1389176291,"post_id":20966668,"comment_id":31544747,"body_markdown":"This I have on db &#39;&amp;#2361;&amp;#2379&#39; as characters.But when I use drawstring I get words overlapping...Ny idea y?","body":"This I have on db &#39;&amp;#2361;&amp;#2379&#39; as characters.But when I use drawstring I get words overlapping...Ny idea y?"}],"tags":[],"owner":{"account_id":3309393,"reputation":8547,"user_id":2783244,"accept_rate":100,"display_name":"StoopidDonut"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389082313,"creation_date":1389081805,"answer_id":20966668,"question_id":20966185,"body_markdown":"In all possibility even the latest iText version does not support Devanagari script, reference [here][1].\r\n\r\nHowever, there are alternatives like using awt Graphics2D class, set a font supporting unicode chars and add it to the PDF (not as text though).\r\n\r\nExample: [here][2]\r\n\r\n**Output using the above reference:**\r\n\r\n![enter image description here][3]\r\n\r\n&#39;New PDF in Hindi&#39; is rendered as the text here\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18900933/does-itext-have-ligature-implementation-for-indian-languages-such-as-hindi-mara\r\n  [2]: https://bitbucket.org/ivertex/itext-fork/src/079fcc1e0bfd7505a622f5bfc8896f130815a751/examples/src/in_action/chapter12/HindiExample.java?at=default\r\n  [3]: http://i.stack.imgur.com/d4YVn.png","title":"Getting hindi to display on pdf created with JSP","body":"<p>In all possibility even the latest iText version does not support Devanagari script, reference <a href=\"https://stackoverflow.com/questions/18900933/does-itext-have-ligature-implementation-for-indian-languages-such-as-hindi-mara\">here</a>.</p>\n\n<p>However, there are alternatives like using awt Graphics2D class, set a font supporting unicode chars and add it to the PDF (not as text though).</p>\n\n<p>Example: <a href=\"https://bitbucket.org/ivertex/itext-fork/src/079fcc1e0bfd7505a622f5bfc8896f130815a751/examples/src/in_action/chapter12/HindiExample.java?at=default\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><strong>Output using the above reference:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/d4YVn.png\" alt=\"enter image description here\"></p>\n\n<p>'New PDF in Hindi' is rendered as the text here</p>\n"},{"tags":[],"owner":{"account_id":11808626,"reputation":741,"user_id":8640538,"display_name":"should_be_working"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685866615,"creation_date":1685866615,"answer_id":76399502,"question_id":20966185,"body_markdown":"Hindi script is not available in the core version of iText.\r\nYou could buy the addon pdfCalligraph of iText.\r\n\r\nOr you could use the open source https://wkhtmltopdf.org/ that can handle HTML to PDF conversion and text scripts other then western.\r\n\r\nThere is also some paid API like https://pdftoolkitapi.com/ that do it all.","title":"Getting hindi to display on pdf created with JSP","body":"<p>Hindi script is not available in the core version of iText.\nYou could buy the addon pdfCalligraph of iText.</p>\n<p>Or you could use the open source <a href=\"https://wkhtmltopdf.org/\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org/</a> that can handle HTML to PDF conversion and text scripts other then western.</p>\n<p>There is also some paid API like <a href=\"https://pdftoolkitapi.com/\" rel=\"nofollow noreferrer\">https://pdftoolkitapi.com/</a> that do it all.</p>\n"}],"owner":{"account_id":3542176,"reputation":1735,"user_id":2958963,"accept_rate":57,"display_name":"Santino &#39;Sonny&#39; Corleone"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1685866615,"creation_date":1389079660,"question_id":20966185,"body_markdown":"This is the code I have\r\n\r\n    &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt;\r\n        &lt;%@ page trimDirectiveWhitespaces=&quot;true&quot; %&gt;\r\n        &lt;%@page import=&quot;com.itextpdf.text.Document&quot;%&gt;\r\n        &lt;%@page import=&quot;com.itextpdf.text.Paragraph&quot;%&gt; \r\n       &lt;%@page import=&quot;com.itextpdf.text.PageSize&quot;%&gt;\r\n       &lt;%@ page import=&quot;javax.servlet.http.*,javax.servlet.*,com.itextpdf.text.DocumentException&quot; %&gt;\r\n       &lt;%@page import=&quot;java.io.*,java.text.SimpleDateFormat&quot;%&gt;\r\n       &lt;%@page import=&quot;java.sql.*,java.nio.charset.Charset&quot;%&gt;\r\n       &lt;%@ page import=&quot;com.itextpdf.tool.xml.ElementHandler,java.util.List,java.util.Arrays,java.util.Collections,java.util.*,com.itextpdf.text.pdf.*,com.itextpdf.tool.xml.ElementList,com.itextpdf.text.Rectangle,com.itextpdf.text.Element,com.itextpdf.text.*,com.itextpdf.text.Font,java.awt.Color,com.itextpdf.text.Font.FontFamily,java.util.Date,java.text.*,com.itextpdf.tool.xml.XMLWorkerHelper&quot; %&gt;\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n    &lt;title&gt;Insert title here&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;% \r\n    String date=request.getParameter(&quot;user&quot;);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    SimpleDateFormat myFormat = new SimpleDateFormat(&quot;EEE,dd MMM yyyy&quot;);\r\n    final java.util.Date dtt = df.parse(date);\r\n    final String ds = myFormat.format(df.parse(date));\r\n    \r\n    class HeaderAndFooter extends PdfPageEventHelper {\r\n       private String name = &quot;&quot;;\r\n       protected Phrase footer;\r\n       protected Phrase header;\r\n       Font headerFont = new Font(FontFamily.COURIER, 13, Font.UNDERLINE);\r\n       Font footerFont = new Font(FontFamily.HELVETICA, 11, Font.BOLD);\r\n       String date1;\r\n       public HeaderAndFooter(String name) {\r\n        super();\r\n        this.name = name;\r\n        header = new Phrase(&quot;***** Header *****&quot;);\r\n        footer = new Phrase(&quot;**** Footer ****&quot;);\r\n      }\r\n    \r\n      @Override\r\n       public void onEndPage(PdfWriter writer, Document document) {\r\n         PdfContentByte cb = writer.getDirectContent();\r\n         //header content\r\n         String headerContent =name;\r\n         //header content\r\n         String footerContent = headerContent;\r\n      //date selection\r\n         ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(&quot;Date:&quot;+ds,headerFont), document.leftMargin() - 1, document.top() + 18, 0);\r\n         }\r\n      }\r\n    OutputStream output=response.getOutputStream();\r\n    response.setContentType(&quot;application/pdf&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;inline; filename=details.pdf&quot;);\r\n    try{\r\n    \tDocument document = new Document(PageSize.A4);\r\n    PdfWriter writer=PdfWriter.getInstance(document, output);\r\n    document.open();\r\n    writer.setPageEvent(new HeaderAndFooter(date));\r\n    XMLWorkerHelper worker = XMLWorkerHelper.getInstance();\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/yre&quot;, &quot;root&quot;, &quot;root&quot;);\r\n    Statement st=con.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\r\n    List arrlist = new ArrayList();\r\n    ResultSet rsta=st.executeQuery(&quot;Select * from yu where date=&#39;&quot;+date+&quot;&#39; &quot;);\r\n    int interval=0;\r\n    while(rsta.next()){\r\n    interval=rsta.getInt(&quot;inter&quot;);\r\n    }  \r\n    System.out.println(interval);\r\n    ResultSet rs=st.executeQuery(&quot;SELECT * FROM ur_start2 where date=&#39;&quot;+date+&quot;&#39; &quot;);\r\n     while(rs.next()){\r\n     arrlist.add(rs.getString(&quot;data&quot;));\r\n     }  \r\n    for(int i=0;i&lt;interval+1;i++){\r\n      String str =(String) arrlist.get(i);\r\n      worker.parseXHtml(writer, document, new StringReader(&quot;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&quot;+str+&quot;&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;/body&gt;&lt;/html&gt;&quot;));\r\n    }\r\n    document.close();\r\n    writer.flush();\r\n    writer.close();\r\n    output.close();\r\n    }catch(IOException e){e.printStackTrace();} \r\n    %&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThis gives me only english characters in the displayed pdf.Whereas the hindi font is invisible.\r\n\r\nWhat ever I have typed in hindi is also retrieved back in hindi on textareas.But on pdf I am not able to retrieve it in hindi.\r\n\r\nWhat should I do to retrieve it in Hindi?","title":"Getting hindi to display on pdf created with JSP","body":"<p>This is the code I have</p>\n\n<pre><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt;\n    &lt;%@ page trimDirectiveWhitespaces=\"true\" %&gt;\n    &lt;%@page import=\"com.itextpdf.text.Document\"%&gt;\n    &lt;%@page import=\"com.itextpdf.text.Paragraph\"%&gt; \n   &lt;%@page import=\"com.itextpdf.text.PageSize\"%&gt;\n   &lt;%@ page import=\"javax.servlet.http.*,javax.servlet.*,com.itextpdf.text.DocumentException\" %&gt;\n   &lt;%@page import=\"java.io.*,java.text.SimpleDateFormat\"%&gt;\n   &lt;%@page import=\"java.sql.*,java.nio.charset.Charset\"%&gt;\n   &lt;%@ page import=\"com.itextpdf.tool.xml.ElementHandler,java.util.List,java.util.Arrays,java.util.Collections,java.util.*,com.itextpdf.text.pdf.*,com.itextpdf.tool.xml.ElementList,com.itextpdf.text.Rectangle,com.itextpdf.text.Element,com.itextpdf.text.*,com.itextpdf.text.Font,java.awt.Color,com.itextpdf.text.Font.FontFamily,java.util.Date,java.text.*,com.itextpdf.tool.xml.XMLWorkerHelper\" %&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;% \nString date=request.getParameter(\"user\");\nDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\nSimpleDateFormat myFormat = new SimpleDateFormat(\"EEE,dd MMM yyyy\");\nfinal java.util.Date dtt = df.parse(date);\nfinal String ds = myFormat.format(df.parse(date));\n\nclass HeaderAndFooter extends PdfPageEventHelper {\n   private String name = \"\";\n   protected Phrase footer;\n   protected Phrase header;\n   Font headerFont = new Font(FontFamily.COURIER, 13, Font.UNDERLINE);\n   Font footerFont = new Font(FontFamily.HELVETICA, 11, Font.BOLD);\n   String date1;\n   public HeaderAndFooter(String name) {\n    super();\n    this.name = name;\n    header = new Phrase(\"***** Header *****\");\n    footer = new Phrase(\"**** Footer ****\");\n  }\n\n  @Override\n   public void onEndPage(PdfWriter writer, Document document) {\n     PdfContentByte cb = writer.getDirectContent();\n     //header content\n     String headerContent =name;\n     //header content\n     String footerContent = headerContent;\n  //date selection\n     ColumnText.showTextAligned(cb, Element.ALIGN_LEFT, new Phrase(\"Date:\"+ds,headerFont), document.leftMargin() - 1, document.top() + 18, 0);\n     }\n  }\nOutputStream output=response.getOutputStream();\nresponse.setContentType(\"application/pdf\");\nresponse.setHeader(\"Content-Disposition\", \"inline; filename=details.pdf\");\ntry{\n    Document document = new Document(PageSize.A4);\nPdfWriter writer=PdfWriter.getInstance(document, output);\ndocument.open();\nwriter.setPageEvent(new HeaderAndFooter(date));\nXMLWorkerHelper worker = XMLWorkerHelper.getInstance();\nClass.forName(\"com.mysql.jdbc.Driver\");\nConnection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/yre\", \"root\", \"root\");\nStatement st=con.createStatement( ResultSet.TYPE_SCROLL_INSENSITIVE,ResultSet.CONCUR_UPDATABLE);\nList arrlist = new ArrayList();\nResultSet rsta=st.executeQuery(\"Select * from yu where date='\"+date+\"' \");\nint interval=0;\nwhile(rsta.next()){\ninterval=rsta.getInt(\"inter\");\n}  \nSystem.out.println(interval);\nResultSet rs=st.executeQuery(\"SELECT * FROM ur_start2 where date='\"+date+\"' \");\n while(rs.next()){\n arrlist.add(rs.getString(\"data\"));\n }  \nfor(int i=0;i&lt;interval+1;i++){\n  String str =(String) arrlist.get(i);\n  worker.parseXHtml(writer, document, new StringReader(\"&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body&gt;\"+str+\"&lt;br&gt;&lt;/br&gt;&lt;br&gt;&lt;/br&gt;&lt;/body&gt;&lt;/html&gt;\"));\n}\ndocument.close();\nwriter.flush();\nwriter.close();\noutput.close();\n}catch(IOException e){e.printStackTrace();} \n%&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This gives me only english characters in the displayed pdf.Whereas the hindi font is invisible.</p>\n\n<p>What ever I have typed in hindi is also retrieved back in hindi on textareas.But on pdf I am not able to retrieve it in hindi.</p>\n\n<p>What should I do to retrieve it in Hindi?</p>\n"},{"tags":["java","mysql","windows","swing","launch4j"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1685952056,"post_id":76399443,"comment_id":134727175,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":16717408,"reputation":1,"user_id":12083104,"display_name":"Karabo Mojai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685865523,"creation_date":1685865523,"question_id":76399443,"body_markdown":"I want to convert my POS Sales Application from a jar to exe. I keep on receiving this error(This application was configured to use a bundled Java Runtime Environment but the Runtime is missing or corrupted).How can I overcome this?\r\n\r\n\r\n\r\n&#128557;&#128557;\r\n\r\nI made the POS System using Eclipse and it&#39;s connected to a database. It&#39;s not a complex project but just a simple one.\r\n\r\nThe project consists with a login page then it redirects to the main page (point of sales GUI). \r\n\r\nI tried creating the jar file specifically for the login page and create a folder on my desktop and copied the JRE files from Java to the create Exe named folder on my desktop. \r\n\r\nI used Launch4j to create the exe. \r\n\r\nSo, I need to be able run the exe file, It won&#39;t run. It keep on giving me that error... ","title":"Java Runtime Environment Missionary or Corrupted","body":"<p>I want to convert my POS Sales Application from a jar to exe. I keep on receiving this error(This application was configured to use a bundled Java Runtime Environment but the Runtime is missing or corrupted).How can I overcome this?</p>\n<p>😭😭</p>\n<p>I made the POS System using Eclipse and it's connected to a database. It's not a complex project but just a simple one.</p>\n<p>The project consists with a login page then it redirects to the main page (point of sales GUI).</p>\n<p>I tried creating the jar file specifically for the login page and create a folder on my desktop and copied the JRE files from Java to the create Exe named folder on my desktop.</p>\n<p>I used Launch4j to create the exe.</p>\n<p>So, I need to be able run the exe file, It won't run. It keep on giving me that error...</p>\n"},{"tags":["java","android","kotlin","osmdroid"],"comments":[{"owner":{"account_id":6576425,"reputation":3053,"user_id":5082285,"display_name":"Markus Kauppinen"},"score":1,"creation_date":1685978471,"post_id":76399398,"comment_id":134732991,"body_markdown":"You are looking for _Geocoding_ and _Reverse Geocoding_ and [OSMBonusPack](https://github.com/MKergall/osmbonuspack) has those features, apparently. Some more info on the topic: [https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid](https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid)","body":"You are looking for <i>Geocoding</i> and <i>Reverse Geocoding</i> and <a href=\"https://github.com/MKergall/osmbonuspack\" rel=\"nofollow noreferrer\">OSMBonusPack</a> has those features, apparently. Some more info on the topic: <a href=\"https://stackoverflow.com/questions/22925204/simple-example-reverse-geocoding-osmdroid\">https://stackoverflow.com/questions/22925204/simple-example-&zwnj;&#8203;reverse-geocoding-os&zwnj;&#8203;mdroid</a>"}],"owner":{"account_id":26846163,"reputation":1,"user_id":20431875,"display_name":"Diphenylamyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685864847,"creation_date":1685864847,"question_id":76399398,"body_markdown":"How can I get an address of the point (or a point by the address) in OSMDroid library? Should I use another libraries or Geopackages? Where can I get it? \r\n\r\nI&#39;ve already tried to use MapListener but it returns only coordinates.","title":"Looking for a library to get point address in OSMDroid for Android","body":"<p>How can I get an address of the point (or a point by the address) in OSMDroid library? Should I use another libraries or Geopackages? Where can I get it?</p>\n<p>I've already tried to use MapListener but it returns only coordinates.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":2,"creation_date":1429847333,"post_id":512184,"comment_id":47803111,"body_markdown":"Beware that the answer differs in JUnit 4 (initialize in declaration) and JUnit 3 (use setUp); this is the root of the confusion.","body":"Beware that the answer differs in JUnit 4 (initialize in declaration) and JUnit 3 (use setUp); this is the root of the confusion."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1458212341,"post_id":512184,"comment_id":59763843,"body_markdown":"See also http://stackoverflow.com/questions/6094081/junit-using-constructor-instead-of-before","body":"See also <a href=\"http://stackoverflow.com/questions/6094081/junit-using-constructor-instead-of-before\" title=\"junit using constructor instead of before\">stackoverflow.com/questions/6094081/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1233766515,"post_id":512220,"comment_id":325959,"body_markdown":"+1 because I also prefer readability.  However, I&#39;m not convinced that the second way is an optimization at all.","body":"+1 because I also prefer readability.  However, I&#39;m not convinced that the second way is an optimization at all."},{"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"score":0,"creation_date":1233767111,"post_id":512220,"comment_id":326005,"body_markdown":"@Motlin I added the dbunit example to clarify how you can optimize with setup.","body":"@Motlin I added the dbunit example to clarify how you can optimize with setup."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1233768500,"post_id":512220,"comment_id":326093,"body_markdown":"The database is essentially global state.  So moving the db setup to setUp() is not an optimization, it&#39;s necessary for the tests to complete properly.","body":"The database is essentially global state.  So moving the db setup to setUp() is not an optimization, it&#39;s necessary for the tests to complete properly."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1234053541,"post_id":512220,"comment_id":338092,"body_markdown":"@Alex B: As Motlin said, this is not an optimization.  You are just changing where in the code the initialization is done, but not how many times nor how quickly.","body":"@Alex B: As Motlin said, this is not an optimization.  You are just changing where in the code the initialization is done, but not how many times nor how quickly."},{"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"score":0,"creation_date":1234103679,"post_id":512220,"comment_id":339008,"body_markdown":"I intended to imply use of the &quot;@BeforeClass&quot; annotation.   Editing the example to clarify.","body":"I intended to imply use of the &quot;@BeforeClass&quot; annotation.   Editing the example to clarify."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1234200587,"post_id":512220,"comment_id":342041,"body_markdown":"@BeforeClass changes the semantics of the test - it changes the state.  I really need an empty list for each test.  So this no longer answers the question.","body":"@BeforeClass changes the semantics of the test - it changes the state.  I really need an empty list for each test.  So this no longer answers the question."}],"tags":[],"owner":{"account_id":4169,"reputation":24716,"user_id":6180,"accept_rate":83,"display_name":"Alex B"},"comment_count":6,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1234104004,"creation_date":1233766373,"answer_id":512220,"question_id":512184,"body_markdown":"I prefer readability first which most often does not use the setup method.   I make an exception when a basic setup operation takes a long time and is repeated within each test.  \r\nAt that point I move that functionality into a setup method using the `@BeforeClass` annotation (optimize later).\r\n\r\nExample of optimization using the `@BeforeClass` setup method: I use dbunit for some database functional tests.   The setup method is responsible for putting the database in a known state (very slow... 30 seconds - 2 minutes depending on amount of data).   I load this data in the setup method annotated with `@BeforeClass` and then run 10-20 tests against the same set of data as opposed to re-loading/initializing the database inside each test.\r\n\r\nUsing Junit 3.8 (extending TestCase as shown in your example) requires writing a little more code than just adding an annotation, but the &quot;run once before class setup&quot; is still possible.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>I prefer readability first which most often does not use the setup method.   I make an exception when a basic setup operation takes a long time and is repeated within each test.<br>\nAt that point I move that functionality into a setup method using the <code>@BeforeClass</code> annotation (optimize later).</p>\n\n<p>Example of optimization using the <code>@BeforeClass</code> setup method: I use dbunit for some database functional tests.   The setup method is responsible for putting the database in a known state (very slow... 30 seconds - 2 minutes depending on amount of data).   I load this data in the setup method annotated with <code>@BeforeClass</code> and then run 10-20 tests against the same set of data as opposed to re-loading/initializing the database inside each test.</p>\n\n<p>Using Junit 3.8 (extending TestCase as shown in your example) requires writing a little more code than just adding an annotation, but the \"run once before class setup\" is still possible.</p>\n"},{"comments":[{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":3,"creation_date":1233768394,"post_id":512394,"comment_id":326089,"body_markdown":"Correct, but off topic.  The database is essentially global state.  This is not a problem I face.  I&#39;m merely concerned with execution speed of properly independent tests.","body":"Correct, but off topic.  The database is essentially global state.  This is not a problem I face.  I&#39;m merely concerned with execution speed of properly independent tests."},{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":0,"creation_date":1429847109,"post_id":512394,"comment_id":47803040,"body_markdown":"This initialization order is only true in JUnit 3, where it is an important caution. In JUnit 4 test instances are created lazily, so initializing in the declaration or in a setup method both happen at test time. Also for one-time setup, one can use `@BeforeClass` in JUnit 4.","body":"This initialization order is only true in JUnit 3, where it is an important caution. In JUnit 4 test instances are created lazily, so initializing in the declaration or in a setup method both happen at test time. Also for one-time setup, one can use <code>@BeforeClass</code> in JUnit 4."}],"tags":[],"owner":{"account_id":20615,"reputation":973,"user_id":49431,"accept_rate":20,"display_name":"Jurgen Hannaert"},"comment_count":2,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1233768580,"creation_date":1233768146,"answer_id":512394,"question_id":512184,"body_markdown":"In addition to Alex B&#39;s answer.\r\n\r\nIt is even required to use the setUp method to instantiate resources in a certain state. Doing this in the constructor is not only a matter of timings, but because of the way JUnit runs the tests, each test state would be erased after running one.\r\n\r\nJUnit first creates instances of the testClass for each test method and starts running the tests after each instance is created. Before running the test method, its setup method is ran, in which some state can be prepared.\r\n\r\nIf the database state would be created in the constructor, all instances would instantiate the db state right after each other, before running each tests. As of the second test, tests would run with a dirty state.\r\n\r\nJUnits lifecycle:\r\n\r\n 1. Create a different testclass instance for each test method\r\n 2. Repeat for each testclass instance: call setup + call the testmethod\r\n\r\nWith some loggings in a test with two test methods you get: (number is the hashcode)\r\n\r\n - Creating new instance: 5718203\r\n - Creating new instance: 5947506\r\n - Setup: 5718203\r\n - TestOne: 5718203\r\n - Setup: 5947506\r\n - TestTwo: 5947506","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In addition to Alex B's answer.</p>\n\n<p>It is even required to use the setUp method to instantiate resources in a certain state. Doing this in the constructor is not only a matter of timings, but because of the way JUnit runs the tests, each test state would be erased after running one.</p>\n\n<p>JUnit first creates instances of the testClass for each test method and starts running the tests after each instance is created. Before running the test method, its setup method is ran, in which some state can be prepared.</p>\n\n<p>If the database state would be created in the constructor, all instances would instantiate the db state right after each other, before running each tests. As of the second test, tests would run with a dirty state.</p>\n\n<p>JUnits lifecycle:</p>\n\n<ol>\n<li>Create a different testclass instance for each test method</li>\n<li>Repeat for each testclass instance: call setup + call the testmethod</li>\n</ol>\n\n<p>With some loggings in a test with two test methods you get: (number is the hashcode)</p>\n\n<ul>\n<li>Creating new instance: 5718203</li>\n<li>Creating new instance: 5947506</li>\n<li>Setup: 5718203</li>\n<li>TestOne: 5718203</li>\n<li>Setup: 5947506</li>\n<li>TestTwo: 5947506</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":0,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1436795854,"creation_date":1233769988,"answer_id":512523,"question_id":512184,"body_markdown":"I started digging myself and I found one potential advantage of using `setUp()`.  If any exceptions are thrown during the execution of `setUp()`, JUnit will print a very helpful stack trace.  On the other hand, if an exception is thrown during object construction, the error message simply says JUnit was unable to instantiate the test case and you don&#39;t see the line number where the failure occurred, probably because JUnit uses reflection to instantiate the test classes.\r\n\r\nNone of this applies to the example of creating an empty collection, since that will never throw, but it is an advantage of the `setUp()` method.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>I started digging myself and I found one potential advantage of using <code>setUp()</code>.  If any exceptions are thrown during the execution of <code>setUp()</code>, JUnit will print a very helpful stack trace.  On the other hand, if an exception is thrown during object construction, the error message simply says JUnit was unable to instantiate the test case and you don't see the line number where the failure occurred, probably because JUnit uses reflection to instantiate the test classes.</p>\n\n<p>None of this applies to the example of creating an empty collection, since that will never throw, but it is an advantage of the <code>setUp()</code> method.</p>\n"},{"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1234113195,"post_id":523159,"comment_id":339171,"body_markdown":"well said. Just get used to always instantiate in setUp() and you have one question less to worry about - e.g. where should I instantiate my fooBar, where my collection. It&#39;s a kind of coding standard that you just need to adhere to. Benefits you not with lists, but with other instantiations.","body":"well said. Just get used to always instantiate in setUp() and you have one question less to worry about - e.g. where should I instantiate my fooBar, where my collection. It&#39;s a kind of coding standard that you just need to adhere to. Benefits you not with lists, but with other instantiations."},{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1234201178,"post_id":523159,"comment_id":342083,"body_markdown":"@Olaf Thanks for the info about the coding standard, I hadn&#39;t thought about that.  I tend to agree with Moss Collum&#39;s idea of a coding standard more though.","body":"@Olaf Thanks for the info about the coding standard, I hadn&#39;t thought about that.  I tend to agree with Moss Collum&#39;s idea of a coding standard more though."}],"tags":[],"owner":{"account_id":24475,"reputation":10672,"user_id":62237,"accept_rate":55,"display_name":"amit"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1233982434,"creation_date":1233982434,"answer_id":523159,"question_id":512184,"body_markdown":"In your case (creating a list) there is no difference in practice. But generally it is better to use setUp(), because that will help Junit to report Exceptions correctly. If an exception occurs in constructor/initializer of a Test, that is a test *failure*. However, if an exception occurs during setup, it is natural to think of it as some issue in setting up the test, and junit reports it appropriately.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In your case (creating a list) there is no difference in practice. But generally it is better to use setUp(), because that will help Junit to report Exceptions correctly. If an exception occurs in constructor/initializer of a Test, that is a test <em>failure</em>. However, if an exception occurs during setup, it is natural to think of it as some issue in setting up the test, and junit reports it appropriately.</p>\n"},{"comments":[{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":1,"creation_date":1234200754,"post_id":524900,"comment_id":342059,"body_markdown":"+1 because you&#39;re the first person to actually support initializing the list during object construction for marking it final.  The stuff about static variables is off-topic to the question though.","body":"+1 because you&#39;re the first person to actually support initializing the list during object construction for marking it final.  The stuff about static variables is off-topic to the question though."},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1234201211,"post_id":524900,"comment_id":342085,"body_markdown":"@Motlin: true, the stuff about static variables is a little off-topic.  I&#39;m not sure why I added that, but it seemed appropriate at the time, an extension of what I was saying in the first paragraph.","body":"@Motlin: true, the stuff about static variables is a little off-topic.  I&#39;m not sure why I added that, but it seemed appropriate at the time, an extension of what I was saying in the first paragraph."},{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":0,"creation_date":1429846519,"post_id":524900,"comment_id":47802910,"body_markdown":"The advantage of `final`is mentioned in the question though.","body":"The advantage of <code>final</code>is mentioned in the question though."}],"tags":[],"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1234054359,"creation_date":1234054359,"answer_id":524900,"question_id":512184,"body_markdown":"Since each test is executed independently, with a fresh instance of the object, there&#39;s not much point to the Test object having any internal state except that shared between `setUp()` and an individual test and `tearDown()`.  This is one reason (in addition to the reasons others gave) that it&#39;s good to use the `setUp()` method.\r\n\r\nNote:  It&#39;s a bad idea for a JUnit test object to maintain static state!  If you make use of static variable in your tests for anything other than tracking or diagnostic purposes, you are invalidating part of the purpose of JUnit, which is that the tests can (an may) be run in any order, each test running with a fresh, clean state.\r\n\r\nThe advantages to using `setUp()` is that you don&#39;t have to cut-and-paste initialization code in every test method and that you don&#39;t have test setup code in the constructor.  In your case, there is little difference.  Just creating an empty list can be done safely as you show it or in the constructor as it&#39;s a trivial initialization.  However, as you and others have pointed out, anything that can possibly throw an `Exception` should be done in `setUp()` so you get the diagnostic stack dump if it fails.\r\n\r\nIn your case, where you are just creating an empty list, I would do the same way you are suggesting:  Assign the new list at the point of declaration.  Especially because this way you have the option of marking it `final` if this makes sense for your test class.\r\n","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>Since each test is executed independently, with a fresh instance of the object, there's not much point to the Test object having any internal state except that shared between <code>setUp()</code> and an individual test and <code>tearDown()</code>.  This is one reason (in addition to the reasons others gave) that it's good to use the <code>setUp()</code> method.</p>\n\n<p>Note:  It's a bad idea for a JUnit test object to maintain static state!  If you make use of static variable in your tests for anything other than tracking or diagnostic purposes, you are invalidating part of the purpose of JUnit, which is that the tests can (an may) be run in any order, each test running with a fresh, clean state.</p>\n\n<p>The advantages to using <code>setUp()</code> is that you don't have to cut-and-paste initialization code in every test method and that you don't have test setup code in the constructor.  In your case, there is little difference.  Just creating an empty list can be done safely as you show it or in the constructor as it's a trivial initialization.  However, as you and others have pointed out, anything that can possibly throw an <code>Exception</code> should be done in <code>setUp()</code> so you get the diagnostic stack dump if it fails.</p>\n\n<p>In your case, where you are just creating an empty list, I would do the same way you are suggesting:  Assign the new list at the point of declaration.  Especially because this way you have the option of marking it <code>final</code> if this makes sense for your test class.</p>\n"},{"tags":[],"owner":{"account_id":7580,"reputation":3562,"user_id":13210,"accept_rate":60,"display_name":"Moss Collum"},"comment_count":0,"down_vote_count":0,"up_vote_count":107,"is_accepted":true,"score":107,"last_activity_date":1685864040,"creation_date":1234114764,"answer_id":526085,"question_id":512184,"body_markdown":"If you&#39;re wondering specifically about the examples in the JUnit FAQ, such as the [basic test template][1], I think the best practice being shown off there is that the *class under test* should be instantiated in your setUp method (or in a test method).\r\n\r\nWhen the JUnit examples create an ArrayList in the setUp method, they all go on to test the behavior of that ArrayList, with cases like testIndexOutOfBoundException, testEmptyCollection, and the like. The perspective there is of someone writing a class and making sure it works right.\r\n\r\nYou should probably do the same when testing your own classes: create your object in setUp or in a test method, so that you&#39;ll be able to get reasonable output if you break it later.\r\n\r\nOn the other hand, if you use a Java collection class (or other library class, for that matter) in your test code, it&#39;s probably not because you want to test it--it&#39;s just part of the test fixture. In this case, you can safely assume it works as intended, so initializing it in the declaration won&#39;t be a problem.\r\n\r\nFor what it&#39;s worth, I work on a reasonably large, several-year-old, TDD-developed code base. We habitually initialize things in their declarations in test code, and in the year and a half that I&#39;ve been on this project, it has never caused a problem. So there&#39;s at least some anecdotal evidence that it&#39;s a reasonable thing to do.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20221017015856/https://junit.sourceforge.net/doc/faq/faq.htm#tests_16","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>If you're wondering specifically about the examples in the JUnit FAQ, such as the <a href=\"https://web.archive.org/web/20221017015856/https://junit.sourceforge.net/doc/faq/faq.htm#tests_16\" rel=\"nofollow noreferrer\">basic test template</a>, I think the best practice being shown off there is that the <em>class under test</em> should be instantiated in your setUp method (or in a test method).</p>\n<p>When the JUnit examples create an ArrayList in the setUp method, they all go on to test the behavior of that ArrayList, with cases like testIndexOutOfBoundException, testEmptyCollection, and the like. The perspective there is of someone writing a class and making sure it works right.</p>\n<p>You should probably do the same when testing your own classes: create your object in setUp or in a test method, so that you'll be able to get reasonable output if you break it later.</p>\n<p>On the other hand, if you use a Java collection class (or other library class, for that matter) in your test code, it's probably not because you want to test it--it's just part of the test fixture. In this case, you can safely assume it works as intended, so initializing it in the declaration won't be a problem.</p>\n<p>For what it's worth, I work on a reasonably large, several-year-old, TDD-developed code base. We habitually initialize things in their declarations in test code, and in the year and a half that I've been on this project, it has never caused a problem. So there's at least some anecdotal evidence that it's a reasonable thing to do.</p>\n"},{"comments":[{"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"score":0,"creation_date":1307031209,"post_id":6202293,"comment_id":7240159,"body_markdown":"Interesting. So the behavior you described at first only applies to JUnit 3?","body":"Interesting. So the behavior you described at first only applies to JUnit 3?"}],"tags":[],"owner":{"account_id":94840,"reputation":498,"user_id":258688,"display_name":"dsaff"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1429850078,"creation_date":1306936422,"answer_id":6202293,"question_id":512184,"body_markdown":"In JUnit 3, your field initializers will be run once per test method *before any tests are run*.  As long as your field values are small in memory, take little set up time, and do not affect global state, using field initializers is technically fine.  However, if those do not hold, you may end up consuming a lot of memory or time setting up your fields before the first test is run, and possibly even running out of memory.  For this reason, many developers always set field values in the setUp() method, where it&#39;s always safe, even when it&#39;s not strictly necessary.\r\n\r\nNote that in JUnit 4, test object initialization happens right before test running, and so using field initializers is safer, and recommended style.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In JUnit 3, your field initializers will be run once per test method <em>before any tests are run</em>.  As long as your field values are small in memory, take little set up time, and do not affect global state, using field initializers is technically fine.  However, if those do not hold, you may end up consuming a lot of memory or time setting up your fields before the first test is run, and possibly even running out of memory.  For this reason, many developers always set field values in the setUp() method, where it's always safe, even when it's not strictly necessary.</p>\n\n<p>Note that in JUnit 4, test object initialization happens right before test running, and so using field initializers is safer, and recommended style.</p>\n"},{"tags":[],"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1458192206,"creation_date":1429832398,"answer_id":29836251,"question_id":512184,"body_markdown":"In JUnit 4:\r\n\r\n* For the *Class Under Test*, initialize in a [`@Before`](http://junit.sourceforge.net/javadoc/org/junit/Before.html) method, to catch failures.\r\n* For *other classes*, initialize in the declaration...\r\n  * ...for brevity, and to mark fields `final`, exactly as stated in the question,\r\n  * ...unless it is *complex initialization* that could fail, in which case use `@Before`, to catch failures.\r\n* For *global state* (esp. *slow initialization*, like a database), use `@BeforeClass`, but *be careful* of dependencies between tests.\r\n* Initialization of an object used in a *single test* should of course be done in the test method itself.\r\n\r\nInitializing in a `@Before` method or test method allows you to get better error reporting on failures. This is especially useful for instantiating the Class Under Test (which you might break), but is also useful for calling external systems, like filesystem access (&quot;file not found&quot;) or connecting to a database (&quot;connection refused&quot;).\r\n\r\nIt is *acceptable* to have a simple standard and always use `@Before` (clear errors but verbose) or always initialize in declaration (concise but gives confusing errors), since complex coding rules are hard to follow, and this isn&#39;t a big deal.\r\n\r\nInitializing in `setUp` is a relic of JUnit 3, where all test instances were initialized eagerly, which causes problems (speed, memory, resource exhaustion) if you do expensive initialization. Thus best practice was to do expensive initialization in `setUp`, which was only run when the test was executed. This no longer applies, so it is much less necessary to use `setUp`.\r\n\r\nThis summarizes several other replies that bury the lede, notably by Craig P. Motlin (question itself and self-answer), Moss Collum (class under test), and dsaff.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>In JUnit 4:</p>\n\n<ul>\n<li>For the <em>Class Under Test</em>, initialize in a <a href=\"http://junit.sourceforge.net/javadoc/org/junit/Before.html\" rel=\"noreferrer\"><code>@Before</code></a> method, to catch failures.</li>\n<li>For <em>other classes</em>, initialize in the declaration...\n\n<ul>\n<li>...for brevity, and to mark fields <code>final</code>, exactly as stated in the question,</li>\n<li>...unless it is <em>complex initialization</em> that could fail, in which case use <code>@Before</code>, to catch failures.</li>\n</ul></li>\n<li>For <em>global state</em> (esp. <em>slow initialization</em>, like a database), use <code>@BeforeClass</code>, but <em>be careful</em> of dependencies between tests.</li>\n<li>Initialization of an object used in a <em>single test</em> should of course be done in the test method itself.</li>\n</ul>\n\n<p>Initializing in a <code>@Before</code> method or test method allows you to get better error reporting on failures. This is especially useful for instantiating the Class Under Test (which you might break), but is also useful for calling external systems, like filesystem access (\"file not found\") or connecting to a database (\"connection refused\").</p>\n\n<p>It is <em>acceptable</em> to have a simple standard and always use <code>@Before</code> (clear errors but verbose) or always initialize in declaration (concise but gives confusing errors), since complex coding rules are hard to follow, and this isn't a big deal.</p>\n\n<p>Initializing in <code>setUp</code> is a relic of JUnit 3, where all test instances were initialized eagerly, which causes problems (speed, memory, resource exhaustion) if you do expensive initialization. Thus best practice was to do expensive initialization in <code>setUp</code>, which was only run when the test was executed. This no longer applies, so it is much less necessary to use <code>setUp</code>.</p>\n\n<p>This summarizes several other replies that bury the lede, notably by Craig P. Motlin (question itself and self-answer), Moss Collum (class under test), and dsaff.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534106631,"creation_date":1534106631,"answer_id":51812702,"question_id":512184,"body_markdown":"- The constant values (uses in fixtures or assertions) should be initialized in their declarations and `final` (as never change) \r\n\r\n- the object under test should be initialized in the setup method because we may set things on.  Of course we may not set something now but we could set it later. Instantiating in the init method would ease the changes.   \r\n  \r\n- dependencies of the object under test if these are mocked, should not even be instantiated by yourself : today the mock frameworks can instantiate it by reflection.    \r\n\r\nA test without dependency to mock could look like :\r\n\r\n    public class SomeTest {\r\n    \r\n        Some some; //instance under test\r\n        static final String GENERIC_ID = &quot;123&quot;;\r\n        static final String PREFIX_URL_WS = &quot;http://foo.com/ws&quot;;\r\n    \r\n        @Before\r\n        public void beforeEach() {\r\n           some = new Some(new Foo(), new Bar());\r\n        } \r\n\r\n        @Test\r\n        public void populateList()\r\n             ...\r\n        }\r\n    }\r\n\r\nA test with dependencies to isolate could look like :\r\n \r\n    @RunWith(org.mockito.runners.MockitoJUnitRunner.class)\r\n    public class SomeTest {\r\n    \r\n        Some some; //instance under test\r\n        static final String GENERIC_ID = &quot;123&quot;;\r\n        static final String PREFIX_URL_WS = &quot;http://foo.com/ws&quot;;\r\n    \r\n        @Mock\r\n        Foo fooMock;\r\n    \r\n        @Mock\r\n        Bar barMock;\r\n    \r\n        @Before\r\n        public void beforeEach() {\r\n           some = new Some(fooMock, barMock);\r\n        }\r\n \r\n        @Test\r\n        public void populateList()\r\n             ...\r\n        }\r\n    }\r\n","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<ul>\n<li><p>The constant values (uses in fixtures or assertions) should be initialized in their declarations and <code>final</code> (as never change) </p></li>\n<li><p>the object under test should be initialized in the setup method because we may set things on.  Of course we may not set something now but we could set it later. Instantiating in the init method would ease the changes.   </p></li>\n<li><p>dependencies of the object under test if these are mocked, should not even be instantiated by yourself : today the mock frameworks can instantiate it by reflection.    </p></li>\n</ul>\n\n<p>A test without dependency to mock could look like :</p>\n\n<pre><code>public class SomeTest {\n\n    Some some; //instance under test\n    static final String GENERIC_ID = \"123\";\n    static final String PREFIX_URL_WS = \"http://foo.com/ws\";\n\n    @Before\n    public void beforeEach() {\n       some = new Some(new Foo(), new Bar());\n    } \n\n    @Test\n    public void populateList()\n         ...\n    }\n}\n</code></pre>\n\n<p>A test with dependencies to isolate could look like :</p>\n\n<pre><code>@RunWith(org.mockito.runners.MockitoJUnitRunner.class)\npublic class SomeTest {\n\n    Some some; //instance under test\n    static final String GENERIC_ID = \"123\";\n    static final String PREFIX_URL_WS = \"http://foo.com/ws\";\n\n    @Mock\n    Foo fooMock;\n\n    @Mock\n    Bar barMock;\n\n    @Before\n    public void beforeEach() {\n       some = new Some(fooMock, barMock);\n    }\n\n    @Test\n    public void populateList()\n         ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12059,"reputation":26552,"user_id":23572,"accept_rate":63,"display_name":"Craig P. Motlin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178066,"favorite_count":0,"down_vote_count":0,"up_vote_count":139,"accepted_answer_id":526085,"answer_count":9,"score":139,"last_activity_date":1685864040,"creation_date":1233765846,"question_id":512184,"body_markdown":"Should I initialize class fields at declaration like this?\r\n\r\n    public class SomeTest extends TestCase\r\n    {\r\n        private final List list = new ArrayList();\r\n    \r\n        public void testPopulateList()\r\n        {\r\n            // Add stuff to the list\r\n            // Assert the list contains what I expect\r\n        }\r\n    }\r\n\r\nOr in setUp() like this?\r\n\r\n    public class SomeTest extends TestCase\r\n    {\r\n        private List list;\r\n    \r\n        @Override\r\n        protected void setUp() throws Exception\r\n        {\r\n            super.setUp();\r\n            this.list = new ArrayList();\r\n        }\r\n    \r\n        public void testPopulateList()\r\n        {\r\n            // Add stuff to the list\r\n            // Assert the list contains what I expect\r\n        }\r\n    }\r\n\r\nI tend to use the first form because it&#39;s more concise, and allows me to use final fields.  If I don&#39;t *need* to use the setUp() method for set-up, should I still use it, and why?\r\n\r\n**Clarification:**\r\nJUnit will instantiate the test class once per test method.  That means `list` will be created once per test, regardless of where I declare it.  It also means there are no temporal dependencies between the tests.  So it seems like there are no advantages to using setUp().  However the JUnit FAQ has many examples that initialize an empty collection in setUp(), so I figure there must be a reason.","title":"Best Practice: Initialize JUnit class fields in setUp() or at declaration?","body":"<p>Should I initialize class fields at declaration like this?</p>\n\n<pre><code>public class SomeTest extends TestCase\n{\n    private final List list = new ArrayList();\n\n    public void testPopulateList()\n    {\n        // Add stuff to the list\n        // Assert the list contains what I expect\n    }\n}\n</code></pre>\n\n<p>Or in setUp() like this?</p>\n\n<pre><code>public class SomeTest extends TestCase\n{\n    private List list;\n\n    @Override\n    protected void setUp() throws Exception\n    {\n        super.setUp();\n        this.list = new ArrayList();\n    }\n\n    public void testPopulateList()\n    {\n        // Add stuff to the list\n        // Assert the list contains what I expect\n    }\n}\n</code></pre>\n\n<p>I tend to use the first form because it's more concise, and allows me to use final fields.  If I don't <em>need</em> to use the setUp() method for set-up, should I still use it, and why?</p>\n\n<p><strong>Clarification:</strong>\nJUnit will instantiate the test class once per test method.  That means <code>list</code> will be created once per test, regardless of where I declare it.  It also means there are no temporal dependencies between the tests.  So it seems like there are no advantages to using setUp().  However the JUnit FAQ has many examples that initialize an empty collection in setUp(), so I figure there must be a reason.</p>\n"},{"tags":["java","angular","spring","spring-boot","deployment"],"comments":[{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1682376071,"post_id":76096484,"comment_id":134202596,"body_markdown":"Do you have a security config class that extends to WebSecurityConfigurerAdapter? or at least a class that has filterchain method that is annotated with @Bean?","body":"Do you have a security config class that extends to WebSecurityConfigurerAdapter? or at least a class that has filterchain method that is annotated with @Bean?"},{"owner":{"account_id":28387751,"reputation":1,"user_id":21713978,"display_name":"mezghani selmen"},"score":0,"creation_date":1682381118,"post_id":76096484,"comment_id":134203110,"body_markdown":"Hi Luigi, currently i have not. I tried both yesterday but neither of them solved the issue. So i deleted them both from my microservice.","body":"Hi Luigi, currently i have not. I tried both yesterday but neither of them solved the issue. So i deleted them both from my microservice."},{"owner":{"account_id":20851443,"reputation":381,"user_id":15315878,"display_name":"Luigi Woodhouse"},"score":0,"creation_date":1682383837,"post_id":76096484,"comment_id":134203363,"body_markdown":"try adding this to your configure or filterchain method  &quot; http.cors().and().csrf().disable();&quot;","body":"try adding this to your configure or filterchain method  &quot; http.cors().and().csrf().disable();&quot;"},{"owner":{"account_id":14182472,"reputation":198,"user_id":10245558,"display_name":"Roland"},"score":0,"creation_date":1682406599,"post_id":76096484,"comment_id":134205742,"body_markdown":"I think a better solution is to implement a gateway (spring cloud gateway for example) which will be the only entry point to your backend services and add the CORS policies on the level of the gateway","body":"I think a better solution is to implement a gateway (spring cloud gateway for example) which will be the only entry point to your backend services and add the CORS policies on the level of the gateway"}],"answers":[{"tags":[],"owner":{"account_id":5853596,"reputation":1232,"user_id":4611561,"accept_rate":33,"display_name":"Pradeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682384219,"creation_date":1682384219,"answer_id":76097016,"question_id":76096484,"body_markdown":"There are 2 ways to fix the CORS Policy\r\n1) Create CORS Configurer in the backend like below :\r\n\r\n\t\r\n\r\n    @Bean\r\n    \tpublic WebMvcConfigurer corsConfigurer() {\r\n    \r\n    \t\treturn new WebMvcConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void addCorsMappings(CorsRegistry registry) {\r\n    \t\t\t\tif (allowedOrigins != null &amp;&amp; allowedOrigins.length &gt; 0) {\r\n    \t\t\t\t\tregistry.addMapping(&quot;/**&quot;).allowCredentials(true).allowedOrigins(allowedOrigins).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t} \r\n\r\nIn your application.properties file, you can mention which host where it calls from\r\nsomething like this \r\n\r\n    cors.allowed_from= http://localhost:4200, http://localhost:3000,  http://localhost:9000/api/swagger-ui.html#/\r\n\r\n2) Create a proxy file called (proxy.conf.json) in UI and include that in angular.json like below:\r\n\r\nproxy.conf.json:\r\n\r\n    {\r\n      &quot;/api/*&quot;: {\r\n        &quot;target&quot;: &quot;https://dev.mcc.api.xxx.com&quot;,\r\n        &quot;secure&quot;: true,\r\n        &quot;changeOrigin&quot;: true,\r\n        &quot;logLevel&quot;: &quot;debug&quot;,\r\n      }\r\n\r\nangular.json:\r\n\r\n  &quot;serve&quot;: {\r\n          &quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\r\n          &quot;options&quot;: {\r\n              &quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;,\r\n\r\n\r\n  \r\n\r\n","title":"CORS policy issue with Spring Boot microservice and Angular frontend","body":"<p>There are 2 ways to fix the CORS Policy</p>\n<ol>\n<li><p>Create CORS Configurer in the backend like below :</p>\n<p>@Bean\npublic WebMvcConfigurer corsConfigurer() {</p>\n<pre><code>     return new WebMvcConfigurer() {\n         @Override\n         public void addCorsMappings(CorsRegistry registry) {\n             if (allowedOrigins != null &amp;&amp; allowedOrigins.length &gt; 0) {\n                 registry.addMapping(&quot;/**&quot;).allowCredentials(true).allowedOrigins(allowedOrigins).allowedMethods(&quot;GET&quot;, &quot;POST&quot;,&quot;PUT&quot;, &quot;DELETE&quot;);\n             }\n         }\n     };\n } \n</code></pre>\n</li>\n</ol>\n<p>In your application.properties file, you can mention which host where it calls from\nsomething like this</p>\n<pre><code>cors.allowed_from= http://localhost:4200, http://localhost:3000,  http://localhost:9000/api/swagger-ui.html#/\n</code></pre>\n<ol start=\"2\">\n<li>Create a proxy file called (proxy.conf.json) in UI and include that in angular.json like below:</li>\n</ol>\n<p>proxy.conf.json:</p>\n<pre><code>{\n  &quot;/api/*&quot;: {\n    &quot;target&quot;: &quot;https://dev.mcc.api.xxx.com&quot;,\n    &quot;secure&quot;: true,\n    &quot;changeOrigin&quot;: true,\n    &quot;logLevel&quot;: &quot;debug&quot;,\n  }\n</code></pre>\n<p>angular.json:</p>\n<p>&quot;serve&quot;: {\n&quot;builder&quot;: &quot;@angular-devkit/build-angular:dev-server&quot;,\n&quot;options&quot;: {\n&quot;proxyConfig&quot;: &quot;src/proxy.conf.json&quot;,</p>\n"}],"owner":{"account_id":28387751,"reputation":1,"user_id":21713978,"display_name":"mezghani selmen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685863722,"creation_date":1682374660,"question_id":76096484,"body_markdown":"I&#39;m building a web application with an Angular frontend and multiple Spring Boot microservices on the backend. I&#39;m currently facing a CORS policy issue when trying to send a POST request from my Angular app to one of my Spring Boot microservices.\r\nThe error message I&#39;m getting in the browser console is:\r\n\r\nAccess to XMLHttpRequest at &#39;http://localhost:8082/publications/new&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: The value of the &#39;Access-Control-Allow-Credentials&#39; header in the response is &#39;&#39; which must be &#39;true&#39; when the request&#39;s credentials mode is &#39;include&#39;. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.\r\n\r\nI have added the @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;) annotation to the controllers in my microservices to allow cross-origin requests from my Angular app, but I&#39;m still getting the error.\r\n\r\nHere is the code for the controller in my publication-service microservice:\r\n\r\n\r\n```\r\n    `@RestController\r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\r\n    @RequestMapping(&quot;/publications&quot;)\r\n    public class PublicationController {\r\n\r\n         @Autowired\r\n         private PublicationService publicationService;\r\n\r\n    @PostMapping(&quot;/new&quot;)\r\n    public ResponseEntity&lt;Publication&gt; createPublication(@RequestParam(&quot;file&quot;) MultipartFile file,       @RequestParam(&quot;content&quot;) String content ,@RequestParam(&quot;username&quot;) String username) throws     IOException {\r\n        Publication publication = new Publication();\r\n        publication.setContent(content);\r\n        HttpHeaders responseHeaders = new HttpHeaders();\r\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\r\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n        return new ResponseEntity&lt;&gt;(publicationService.createPublication(publication, file),   responseHeaders, HttpStatus.CREATED);\r\n    }\r\n    }      `\r\n```\r\n                                    \r\n In the angular part i have this HTTP interceptor : \r\n\r\n\r\n\r\n\r\n\r\n```\r\n`    import { Injectable } from &#39;@angular/core&#39;;\r\n     import { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HTTP_INTERCEPTORS } from &#39;@angular/common/http&#39;;\r\nimport { Observable } from &#39;rxjs&#39;;\r\n\r\n@Injectable()\r\nexport class HttpRequestInterceptor implements HttpInterceptor {\r\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\r\n    req = req.clone({\r\n      withCredentials: true,\r\n    });\r\n\r\n    return next.handle(req);\r\n  }\r\n}\r\n\r\nexport const httpInterceptorProviders = [\r\n  { provide: HTTP_INTERCEPTORS, useClass: HttpRequestInterceptor, multi: true },\r\n     ];`\r\n```\r\n\r\n\r\n\r\ni also modified the application.properties of my microservice like this :\r\n\r\n```\r\nserver.port=8082\r\nspring.application.name=publication-service\r\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\r\nspring.datasource.url=jdbc:mysql://localhost:3307/jeee?useSSL=false\r\nspring.datasource.username=root\r\nspring.datasource.password=66pasS..\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\r\n#pour ouvrir canal de connexion\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n# Enable CORS\r\nspring.mvc.cors.allow-credentials=true\r\nspring.mvc.cors.allowed-origins=http://localhost:4200\r\nspring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS\r\nspring.mvc.cors.allowed-headers=*\r\n```\r\n\r\n","title":"CORS policy issue with Spring Boot microservice and Angular frontend","body":"<p>I'm building a web application with an Angular frontend and multiple Spring Boot microservices on the backend. I'm currently facing a CORS policy issue when trying to send a POST request from my Angular app to one of my Spring Boot microservices.\nThe error message I'm getting in the browser console is:</p>\n<p>Access to XMLHttpRequest at 'http://localhost:8082/publications/new' from origin 'http://localhost:4200' has been blocked by CORS policy: The value of the 'Access-Control-Allow-Credentials' header in the response is '' which must be 'true' when the request's credentials mode is 'include'. The credentials mode of requests initiated by the XMLHttpRequest is controlled by the withCredentials attribute.</p>\n<p>I have added the @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;) annotation to the controllers in my microservices to allow cross-origin requests from my Angular app, but I'm still getting the error.</p>\n<p>Here is the code for the controller in my publication-service microservice:</p>\n<pre><code>    `@RestController\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, allowCredentials = &quot;true&quot;)\n    @RequestMapping(&quot;/publications&quot;)\n    public class PublicationController {\n\n         @Autowired\n         private PublicationService publicationService;\n\n    @PostMapping(&quot;/new&quot;)\n    public ResponseEntity&lt;Publication&gt; createPublication(@RequestParam(&quot;file&quot;) MultipartFile file,       @RequestParam(&quot;content&quot;) String content ,@RequestParam(&quot;username&quot;) String username) throws     IOException {\n        Publication publication = new Publication();\n        publication.setContent(content);\n        HttpHeaders responseHeaders = new HttpHeaders();\n        responseHeaders.set(&quot;Access-Control-Allow-Origin&quot;, &quot;http://localhost:4200&quot;);\n        responseHeaders.set(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        return new ResponseEntity&lt;&gt;(publicationService.createPublication(publication, file),   responseHeaders, HttpStatus.CREATED);\n    }\n    }      `\n</code></pre>\n<p>In the angular part i have this HTTP interceptor :</p>\n<pre><code>`    import { Injectable } from '@angular/core';\n     import { HttpEvent, HttpInterceptor, HttpHandler, HttpRequest, HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\n@Injectable()\nexport class HttpRequestInterceptor implements HttpInterceptor {\n  intercept(req: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n    req = req.clone({\n      withCredentials: true,\n    });\n\n    return next.handle(req);\n  }\n}\n\nexport const httpInterceptorProviders = [\n  { provide: HTTP_INTERCEPTORS, useClass: HttpRequestInterceptor, multi: true },\n     ];`\n</code></pre>\n<p>i also modified the application.properties of my microservice like this :</p>\n<pre><code>server.port=8082\nspring.application.name=publication-service\neureka.client.service-url.defaultZone= http://localhost:8761/eureka\nspring.datasource.url=jdbc:mysql://localhost:3307/jeee?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=66pasS..\nspring.jpa.database-platform=org.hibernate.dialect.MySQLDialect\n#pour ouvrir canal de connexion\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n# Enable CORS\nspring.mvc.cors.allow-credentials=true\nspring.mvc.cors.allowed-origins=http://localhost:4200\nspring.mvc.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS\nspring.mvc.cors.allowed-headers=*\n</code></pre>\n"},{"tags":["java","sql","plsql","resultset"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1685861680,"post_id":76399224,"comment_id":134718231,"body_markdown":"You are passing in a String bind variable value as number inside single quotes - this means it searches on segment1 by String `&#39;679223&#39;`. Drop the single quotes if you mean to search on string `679223`, or bind as a number 679223 if column segment1 is numeric","body":"You are passing in a String bind variable value as number inside single quotes - this means it searches on segment1 by String <code>&#39;679223&#39;</code>. Drop the single quotes if you mean to search on string <code>679223</code>, or bind as a number 679223 if column segment1 is numeric"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685861984,"post_id":76399224,"comment_id":134718252,"body_markdown":"And drop *if (rs.isBeforeFirst())* too. It&#39;s redundant and potentially problematic","body":"And drop <i>if (rs.isBeforeFirst())</i> too. It&#39;s redundant and potentially problematic"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862059,"post_id":76399224,"comment_id":134718257,"body_markdown":"Hey @g00se i need to search using singl quotes","body":"Hey @g00se i need to search using singl quotes"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862086,"post_id":76399224,"comment_id":134718260,"body_markdown":"@DuncG hey pal, what do you mean?","body":"@DuncG hey pal, what do you mean?"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862111,"post_id":76399224,"comment_id":134718261,"body_markdown":"@DuncG i need to search using single quotes","body":"@DuncG i need to search using single quotes"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862210,"post_id":76399224,"comment_id":134718265,"body_markdown":"Well I didn&#39;t comment on that but what makes you think you do? What data type is &#39;segment1&#39;? (Though you shouldn&#39;t need to quote it whatever type). The whole point of `PreparedStatement` is that it takes care of quoting","body":"Well I didn&#39;t comment on that but what makes you think you do? What data type is &#39;segment1&#39;? (Though you shouldn&#39;t need to quote it whatever type). The whole point of <code>PreparedStatement</code> is that it takes care of quoting"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862263,"post_id":76399224,"comment_id":134718269,"body_markdown":"@DuncG if i search using this: SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = 679223 i got the error ORA-01722:  &quot;invalid number&quot; thats why i need to use this instead SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;","body":"@DuncG if i search using this: SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = 679223 i got the error ORA-01722:  &quot;invalid number&quot; thats why i need to use this instead SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862420,"post_id":76399224,"comment_id":134718285,"body_markdown":"You&#39;re getting confused. You needed quotes there because it was a regular query on a string type","body":"You&#39;re getting confused. You needed quotes there because it was a regular query on a string type"},{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685862638,"post_id":76399224,"comment_id":134718302,"body_markdown":"@g00se segment1 is VARCHAR2(40) data type. Im a little confused. Could you please show me some code to fix it?","body":"@g00se segment1 is VARCHAR2(40) data type. Im a little confused. Could you please show me some code to fix it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1685862825,"post_id":76399224,"comment_id":134718317,"body_markdown":"You don&#39;t need code. Just follow @DuncG&#39;s instructions. When it&#39;s working follow mine","body":"You don&#39;t need code. Just follow @DuncG&#39;s instructions. When it&#39;s working follow mine"}],"answers":[{"comments":[{"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"score":0,"creation_date":1685863244,"post_id":76399317,"comment_id":134718344,"body_markdown":"ohhh, yeah!! that was all.\nI got cunfused but now i get it :).\nThank you!","body":"ohhh, yeah!! that was all. I got cunfused but now i get it :). Thank you!"}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685862907,"creation_date":1685862907,"answer_id":76399317,"question_id":76399224,"body_markdown":"With a string value use a bind variable without the quotes:\r\n\r\n    String segmentValue = &quot;&quot;+l_order_number; \r\n    stmt.setString(1, segmentValue);`","title":"Not getting the desired output in PreparedSql statement (JAVA)","body":"<p>With a string value use a bind variable without the quotes:</p>\n<pre><code>String segmentValue = &quot;&quot;+l_order_number; \nstmt.setString(1, segmentValue);`\n</code></pre>\n"}],"owner":{"account_id":10568126,"reputation":33,"user_id":7976147,"display_name":"Programming_guy"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76399317,"answer_count":1,"score":0,"last_activity_date":1685862907,"creation_date":1685860911,"question_id":76399224,"body_markdown":"Im trying to pass a value to a query and save the result from the column.The value need to be passed using &quot;single quotes&quot;\r\n\r\n```\r\nExample:SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = &#39;679223&#39;;\r\n```\r\n\r\nThe result from that is **3321688 (NUMBER DATA TYPE)**\r\n\r\nI did this in java:\r\n\r\n    String query = &quot;SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = ?&quot;;\r\n    String segmentValue = &quot;&#39;&quot;+l_order_number +&quot;&#39;&quot;; \r\n    System.out.println(&quot;segmentValue&quot;+segmentValue); //at this point i can see the value &#39;679223&#39;\r\n    \r\n    \r\n    \r\n    PreparedStatement stmt = connection.prepareStatement(query);\r\n    stmt.setString(1, segmentValue);`\r\n               ResultSet rs = stmt.executeQuery();\r\n                if (rs.isBeforeFirst()) {\r\n                    System.out.println(&quot;Query executed successfully. Result:&quot;);\r\n                    while (rs.next()) {\r\n                        long salesOrderId = rs.getLong(&quot;sales_order_id&quot;);\r\n                        System.out.println(&quot;sales_order_id: &quot; + salesOrderId);\r\n                    }\r\n                } else {\r\n                   System.out.println(&quot;No rows found in the result set.&quot;);\r\n                }\r\n\r\nThe problem is that no matter what the value in variable salesOrderId is always = 0 and i fall into this part &quot;No rows found in the result set.&quot;  \r\n  \r\nWhat i am doing wrong?\r\n\r\nWhy i am not getting\r\n\r\nI try many MANY ways withput success","title":"Not getting the desired output in PreparedSql statement (JAVA)","body":"<p>Im trying to pass a value to a query and save the result from the column.The value need to be passed using &quot;single quotes&quot;</p>\n<pre><code>Example:SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = '679223';\n</code></pre>\n<p>The result from that is <strong>3321688 (NUMBER DATA TYPE)</strong></p>\n<p>I did this in java:</p>\n<pre><code>String query = &quot;SELECT sales_order_id FROM mtl_sales_orders WHERE segment1 = ?&quot;;\nString segmentValue = &quot;'&quot;+l_order_number +&quot;'&quot;; \nSystem.out.println(&quot;segmentValue&quot;+segmentValue); //at this point i can see the value '679223'\n\n\n\nPreparedStatement stmt = connection.prepareStatement(query);\nstmt.setString(1, segmentValue);`\n           ResultSet rs = stmt.executeQuery();\n            if (rs.isBeforeFirst()) {\n                System.out.println(&quot;Query executed successfully. Result:&quot;);\n                while (rs.next()) {\n                    long salesOrderId = rs.getLong(&quot;sales_order_id&quot;);\n                    System.out.println(&quot;sales_order_id: &quot; + salesOrderId);\n                }\n            } else {\n               System.out.println(&quot;No rows found in the result set.&quot;);\n            }\n</code></pre>\n<p>The problem is that no matter what the value in variable salesOrderId is always = 0 and i fall into this part &quot;No rows found in the result set.&quot;</p>\n<p>What i am doing wrong?</p>\n<p>Why i am not getting</p>\n<p>I try many MANY ways withput success</p>\n"},{"tags":["java","android","kotlin","protocol-buffers"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1685878455,"post_id":76399303,"comment_id":134719676,"body_markdown":"Protobuf messages to my experience only make sense if you define them in the proto language, generate the model classes for your language and use them. Serializing arbitrary data classes to proto isn&#39;t the way protobuf was designed and thus doesn&#39;t work so well.","body":"Protobuf messages to my experience only make sense if you define them in the proto language, generate the model classes for your language and use them. Serializing arbitrary data classes to proto isn&#39;t the way protobuf was designed and thus doesn&#39;t work so well."},{"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"score":1,"creation_date":1685900721,"post_id":76399303,"comment_id":134722303,"body_markdown":"Protobuf requires to know the schema of the data upfront, I don&#39;t think it can (de)serialize just any object. There are some libraries that try to serialize just any data by introspecting it, for example GSON. They won&#39;t be as space-efficient as protobuf though. To optimize space you can look for serializing the data into Bson or MessagePack. Anyway, this is a very tricky thing to do. What if objects reference some non-serialzable or heavy objects like `Activity`? What if there are circular references? Usually, it is better to create schemas explicitly.","body":"Protobuf requires to know the schema of the data upfront, I don&#39;t think it can (de)serialize just any object. There are some libraries that try to serialize just any data by introspecting it, for example GSON. They won&#39;t be as space-efficient as protobuf though. To optimize space you can look for serializing the data into Bson or MessagePack. Anyway, this is a very tricky thing to do. What if objects reference some non-serialzable or heavy objects like <code>Activity</code>? What if there are circular references? Usually, it is better to create schemas explicitly."}],"owner":{"account_id":9979751,"reputation":31,"user_id":7383082,"display_name":"Taylor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1685862683,"creation_date":1685862683,"question_id":76399303,"body_markdown":"Turn java object into protobuf programatically.\r\n\r\nI am developing a log lib in Android. The interface of Log lib is`fun log(message: Any)`. Anything could be logged, maybe it is a String or a data class.\r\n\r\nFor avoiding log losting, it is stored in sdcard. To make log smaller, i choose protobuf.\r\n\r\nI want to wrap the origin log with some extra info, so i write the following message in protobuf:\r\n\r\n```\r\nsyntax = &quot;proto3&quot;;\r\nimport &quot;google/protobuf/any.proto&quot;;\r\n\r\nmessage Log {\r\n  uint64 id = 1; // The unique id of Log\r\n  google.protobuf.Any data = 2; \r\n}\r\n```\r\n\r\nMy question is how to turn an java object into protobuf&#39;s Any programatically?\r\n\r\nOr is there any better way to achieve the goal?\r\n\r\n\r\n\r\nI have found [protobuf-dynamic](https://github.com/os72/protobuf-dynamic), but i dont event know what field is in java object.","title":"How can I convert a Java object to protobuf&#39;s Any programmatically?","body":"<p>Turn java object into protobuf programatically.</p>\n<p>I am developing a log lib in Android. The interface of Log lib is<code>fun log(message: Any)</code>. Anything could be logged, maybe it is a String or a data class.</p>\n<p>For avoiding log losting, it is stored in sdcard. To make log smaller, i choose protobuf.</p>\n<p>I want to wrap the origin log with some extra info, so i write the following message in protobuf:</p>\n<pre><code>syntax = &quot;proto3&quot;;\nimport &quot;google/protobuf/any.proto&quot;;\n\nmessage Log {\n  uint64 id = 1; // The unique id of Log\n  google.protobuf.Any data = 2; \n}\n</code></pre>\n<p>My question is how to turn an java object into protobuf's Any programatically?</p>\n<p>Or is there any better way to achieve the goal?</p>\n<p>I have found <a href=\"https://github.com/os72/protobuf-dynamic\" rel=\"nofollow noreferrer\">protobuf-dynamic</a>, but i dont event know what field is in java object.</p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":6234997,"reputation":317,"user_id":4850588,"display_name":"developer-vivekjain"},"score":1,"creation_date":1618866134,"post_id":67168999,"comment_id":118728008,"body_markdown":"Have you checked whether your maven version is comparable with your java version or not?","body":"Have you checked whether your maven version is comparable with your java version or not?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1618903882,"post_id":67168999,"comment_id":118736662,"body_markdown":"You are using a ca. 9 year old pluing (maven-war-plugin) and a 13 year old plugin (maven-jetty-plugin) and you should use the most recent version https://maven.apache.org/plugins/ furthermore","body":"You are using a ca. 9 year old pluing (maven-war-plugin) and a 13 year old plugin (maven-jetty-plugin) and you should use the most recent version <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a> furthermore"},{"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"score":2,"creation_date":1618939838,"post_id":67168999,"comment_id":118753122,"body_markdown":"I changed the versions of maven-war-plugin and maven-jetty-plugin and the errors disappeared. Thank you very much.","body":"I changed the versions of maven-war-plugin and maven-jetty-plugin and the errors disappeared. Thank you very much."},{"owner":{"account_id":1458880,"reputation":622,"user_id":1373752,"accept_rate":70,"display_name":"warfish"},"score":0,"creation_date":1626184926,"post_id":67168999,"comment_id":120821752,"body_markdown":"@Sani please post a solution and validate it","body":"@Sani please post a solution and validate it"}],"answers":[{"comments":[{"owner":{"account_id":2161934,"reputation":4386,"user_id":1915920,"accept_rate":97,"display_name":"Andreas Covidiot"},"score":2,"creation_date":1648208063,"post_id":68484632,"comment_id":126571948,"body_markdown":"just adjusting the war-plugin version helped, omitting the compiler-plugin version (no `&lt;version&gt;...` part)","body":"just adjusting the war-plugin version helped, omitting the compiler-plugin version (no <code>&lt;version&gt;...</code> part)"}],"tags":[],"owner":{"account_id":22273071,"reputation":834,"user_id":16502719,"display_name":"Akshay"},"comment_count":1,"down_vote_count":1,"up_vote_count":82,"is_accepted":true,"score":81,"last_activity_date":1627067455,"creation_date":1626955935,"answer_id":68484632,"question_id":67168999,"body_markdown":"Change the version of the war plugin in your `pom.xml` and add `maven-compiler-plugin` according to your jdk version.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Maven error Cannot access defaults field of Properties","body":"<p>Change the version of the war plugin in your <code>pom.xml</code> and add <code>maven-compiler-plugin</code> according to your jdk version.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":946595,"reputation":2006,"user_id":973740,"display_name":"Juliano Alves"},"score":3,"creation_date":1681087150,"post_id":75936006,"comment_id":133997694,"body_markdown":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, **can you edit your answer to include an explanation of what you&#39;re doing** and why you believe it is the best approach?","body":"Remember that Stack Overflow isn&#39;t just intended to solve the immediate problem, but also to help future readers find solutions to similar problems, which requires understanding the underlying code. This is especially important for members of our community who are beginners, and not familiar with the syntax. Given that, <b>can you edit your answer to include an explanation of what you&#39;re doing</b> and why you believe it is the best approach?"}],"tags":[],"owner":{"account_id":22194583,"reputation":1,"user_id":16436166,"display_name":"Ashish Gusian"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683725290,"creation_date":1680673511,"answer_id":75936006,"question_id":67168999,"body_markdown":"```\r\n  &lt;pluginManagement&gt;\r\n   \r\n       &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.1.0&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n    \r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.0.2&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n         &lt;plugin&gt;\r\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;3.8.0&lt;/version&gt;\r\n         &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.22.1&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;3.2.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;`enter code here`\r\n     &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.5.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n    &lt;plugin&gt;\r\n     &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n     &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/plugin&gt;\r\n   &lt;/plugins&gt;\r\n  &lt;/pluginManagement&gt;\r\n```\r\n\r\n\r\nAdd this plugin in `pom.xml` file in between &lt;build&gt; &lt;/build&gt;.\r\nerror will vanish","title":"Maven error Cannot access defaults field of Properties","body":"<pre><code>  &lt;pluginManagement&gt;\n   \n       &lt;plugins&gt;\n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.1.0&lt;/version&gt;\n         &lt;/plugin&gt;\n    \n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.0.2&lt;/version&gt;\n         &lt;/plugin&gt;\n         &lt;plugin&gt;\n           &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n           &lt;version&gt;3.8.0&lt;/version&gt;\n         &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.22.1&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n     &lt;version&gt;3.2.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;`enter code here`\n     &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n     &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.8.2&lt;/version&gt;\n    &lt;/plugin&gt;\n   &lt;/plugins&gt;\n  &lt;/pluginManagement&gt;\n</code></pre>\n<p>Add this plugin in <code>pom.xml</code> file in between  .\nerror will vanish</p>\n"},{"tags":[],"owner":{"account_id":13566136,"reputation":155,"user_id":9786128,"display_name":"Muhammad Taha"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1685456950,"creation_date":1685456950,"answer_id":76365901,"question_id":67168999,"body_markdown":"with in your `build` tag paste below code\r\n\r\n    &lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3.2&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;","title":"Maven error Cannot access defaults field of Properties","body":"<p>with in your <code>build</code> tag paste below code</p>\n<pre><code>&lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n</code></pre>\n"}],"owner":{"account_id":19981008,"reputation":913,"user_id":14644191,"display_name":"Enchantres"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102163,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":68484632,"answer_count":3,"score":44,"last_activity_date":1685861266,"creation_date":1618864456,"question_id":67168999,"body_markdown":"I use the newest version of Java -&gt; 16. When I run mvn clean, I am getting ***Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer*** error. I read that adding maven-war-plugin can be a solution, but it didn&#39;t work for me. When I run mvn install, the following error occurs:  \r\n\r\n&gt; Error injecting constructor, java.lang.ExceptionInInitializerError:\r\n&gt; **Cannot access defaults field of Properties   at**\r\n&gt; org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)   while\r\n&gt; locating org.apache.maven.plugin.war.WarMojo\r\n\r\nHow can I solve these problems? Are they caused by the Java version?\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;web-programming&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;servlet-demo&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;16&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;!-- Optional. Allows the app to be run by simply typing mvn jetty:run --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;6.1.4&lt;/version&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;1.2.13&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;contextPath&gt;/&lt;/contextPath&gt;\r\n\t\t\t\t\t&lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\r\n\t\t\t\t\t&lt;connectors&gt;\r\n\t\t\t\t\t\t&lt;connector\r\n\t\t\t\t\t\t\timplementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;port&gt;9090&lt;/port&gt;\r\n\t\t\t\t\t\t&lt;/connector&gt;\r\n\t\t\t\t\t&lt;/connectors&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"Maven error Cannot access defaults field of Properties","body":"<p>I use the newest version of Java -&gt; 16. When I run mvn clean, I am getting <em><strong>Could not initialize class org.apache.maven.plugin.war.util.WebappStructureSerializer</strong></em> error. I read that adding maven-war-plugin can be a solution, but it didn't work for me. When I run mvn install, the following error occurs:</p>\n<blockquote>\n<p>Error injecting constructor, java.lang.ExceptionInInitializerError:\n<strong>Cannot access defaults field of Properties   at</strong>\norg.apache.maven.plugin.war.WarMojo.(Unknown Source)   while\nlocating org.apache.maven.plugin.war.WarMojo</p>\n</blockquote>\n<p>How can I solve these problems? Are they caused by the Java version?\n</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;web-programming&lt;/groupId&gt;\n&lt;artifactId&gt;servlet-demo&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;5.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- Optional. Allows the app to be run by simply typing mvn jetty:run --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.mortbay.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jetty-plugin&lt;/artifactId&gt;\n            &lt;version&gt;6.1.4&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;log4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n                    &lt;version&gt;1.2.13&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;configuration&gt;\n                &lt;contextPath&gt;/&lt;/contextPath&gt;\n                &lt;scanIntervalSeconds&gt;10&lt;/scanIntervalSeconds&gt;\n                &lt;connectors&gt;\n                    &lt;connector\n                        implementation=&quot;org.mortbay.jetty.nio.SelectChannelConnector&quot;&gt;\n                        &lt;port&gt;9090&lt;/port&gt;\n                    &lt;/connector&gt;\n                &lt;/connectors&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","spring","htmlunit"],"comments":[{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1685885968,"post_id":76399236,"comment_id":134720515,"body_markdown":"Have you been debug before ask question?  Method  ```loginToVotePage```  is static ,  and according to your code snippet it seems like  login info redirect scenario . Not sure how the code run  and  your did not clarify the account info is missing at which method or line ?  If your are using spring as network framewok that you can try to modify your method as local method and provide minimal runable demo that it would be more clear got your main issue.","body":"Have you been debug before ask question?  Method  <code>loginToVotePage</code>  is static ,  and according to your code snippet it seems like  login info redirect scenario . Not sure how the code run  and  your did not clarify the account info is missing at which method or line ?  If your are using spring as network framewok that you can try to modify your method as local method and provide minimal runable demo that it would be more clear got your main issue."}],"owner":{"account_id":16174816,"reputation":21,"user_id":11677764,"display_name":"ZackOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685861173,"creation_date":1685861173,"question_id":76399236,"body_markdown":"I am trying to submit my account info into this page (https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141). But for some reason, when I use click method in navigateToOldVotePage function in below, it shows me username and password is empty error. I cannot figure out why the entered information is not submitted...\r\n\r\n\r\n```\r\npublic static HtmlPage loginToVotePage(WebClient webClient, Account account) {\r\n        HtmlPage loginPage = navigateToLoginPage(webClient);\r\n        HtmlPage loginPage = navigateToOldLoginPage(webClient);\r\n        return navigateToOldVotePage(loginPage, account);\r\n    }\r\n\r\n    private static HtmlPage navigateToOldLoginPage(WebClient webClient) {\r\n        try {\r\n            HtmlPage page = webClient.getPage(OLD_HOME_URL);\r\n            final List&lt;FrameWindow&gt; window = page.getFrames();\r\n            final HtmlPage pageTwo = (HtmlPage) window.get(1).getEnclosedPage();\r\n            HtmlAnchor loginAnchor = pageTwo.getFirstByXPath(OLD_LOGIN_XPATH);\r\n            return loginAnchor.click();\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error happend duing navigating to login page: &quot; + e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private static HtmlPage navigateToOldVotePage(HtmlPage page, Account account) {\r\n        try {\r\n            HtmlInput userInput = page.getElementByName(&quot;userId&quot;);\r\n            HtmlInput pwdInput = page.getElementByName(&quot;password&quot;);\r\n            userInput.setValueAttribute(account.toeiId);\r\n            pwdInput.setValueAttribute(account.password);\r\n            \r\n            HtmlAnchor submitLogin = page.getFirstByXPath(&quot;//*[@id=&#39;disp&#39;]/center/form/table[5]/tbody/tr[1]/td[2]/table/tbody/tr[2]/td/a&quot;);\r\n            HtmlPage loggedIn = submitLogin.click();\r\n\r\n            // 168...: /web/rsvWUA_Action.do\r\n\r\n            System.out.println(loggedIn.asXml());\r\n\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;Error happend duing loging process: &quot; + e);\r\n        }\r\n\r\n        return null;\r\n    }\r\n```","title":"Why my HtmlUnit Login function does not work","body":"<p>I am trying to submit my account info into this page (<a href=\"https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141\" rel=\"nofollow noreferrer\">https://yoyaku.sports.metro.tokyo.lg.jp/user/view/user/homeIndex.html?te-uniquekey=1887c057141</a>). But for some reason, when I use click method in navigateToOldVotePage function in below, it shows me username and password is empty error. I cannot figure out why the entered information is not submitted...</p>\n<pre><code>public static HtmlPage loginToVotePage(WebClient webClient, Account account) {\n        HtmlPage loginPage = navigateToLoginPage(webClient);\n        HtmlPage loginPage = navigateToOldLoginPage(webClient);\n        return navigateToOldVotePage(loginPage, account);\n    }\n\n    private static HtmlPage navigateToOldLoginPage(WebClient webClient) {\n        try {\n            HtmlPage page = webClient.getPage(OLD_HOME_URL);\n            final List&lt;FrameWindow&gt; window = page.getFrames();\n            final HtmlPage pageTwo = (HtmlPage) window.get(1).getEnclosedPage();\n            HtmlAnchor loginAnchor = pageTwo.getFirstByXPath(OLD_LOGIN_XPATH);\n            return loginAnchor.click();\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error happend duing navigating to login page: &quot; + e);\n        }\n\n        return null;\n    }\n\n    private static HtmlPage navigateToOldVotePage(HtmlPage page, Account account) {\n        try {\n            HtmlInput userInput = page.getElementByName(&quot;userId&quot;);\n            HtmlInput pwdInput = page.getElementByName(&quot;password&quot;);\n            userInput.setValueAttribute(account.toeiId);\n            pwdInput.setValueAttribute(account.password);\n            \n            HtmlAnchor submitLogin = page.getFirstByXPath(&quot;//*[@id='disp']/center/form/table[5]/tbody/tr[1]/td[2]/table/tbody/tr[2]/td/a&quot;);\n            HtmlPage loggedIn = submitLogin.click();\n\n            // 168...: /web/rsvWUA_Action.do\n\n            System.out.println(loggedIn.asXml());\n\n        } catch (Exception e) {\n            System.err.println(&quot;Error happend duing loging process: &quot; + e);\n        }\n\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","object","oop","arraylist"],"answers":[{"tags":[],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685831465,"creation_date":1685831465,"answer_id":76398268,"question_id":76397263,"body_markdown":"Change \r\nMath.abs(objs_one.get(z).age - objs_one.get(l).age\r\nto\r\nMath.abs(objs_one.get(z).age - objs_two.get(l).age","title":"Trying to Compute the differences in two different ArrayLists of Objects with Instance Fields of Type Integer[JAVA]","body":"<p>Change\nMath.abs(objs_one.get(z).age - objs_one.get(l).age\nto\nMath.abs(objs_one.get(z).age - objs_two.get(l).age</p>\n"}],"owner":{"account_id":24963958,"reputation":35,"user_id":18827675,"display_name":"Dean Loyals"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685860493,"creation_date":1685814111,"question_id":76397263,"body_markdown":"```\r\npackage pckg;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class Tester \r\n{\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tArrayList&lt;TesterObj&gt; my_first_objects = new ArrayList&lt;TesterObj&gt;();\r\n\t\tTesterObj one = new TesterObj(5,&quot;john&quot;,6.8,&quot;HELKEOLOSSJK NHSSB BSBSJBS NS S&quot;);\r\n\t\tTesterObj two = new TesterObj(25,&quot;eric&quot;,12.32,&quot;SKSMK skm1d dms dnms kmdks&quot;);\r\n\t\tTesterObj three = new TesterObj(15,&quot;sally&quot;,2.40,&quot;dskmdnk kmdk kwmd kdsmkd qpdok&quot;);\r\n\t\tTesterObj four = new TesterObj(31,&quot;susan&quot;,9.87,&quot;ksmdks qwersc kpaolxnio akmdn&quot;);\r\n\t\tTesterObj five = new TesterObj(18,&quot;mary&quot;,86.32,&quot;dksnd oqoijdl padxl&quot;);\r\n\r\n\t\tmy_first_objects.add(one);\r\n\t\tmy_first_objects.add(two);\r\n\t\tmy_first_objects.add(three);\r\n\t\tmy_first_objects.add(four);\r\n\t\tmy_first_objects.add(five);\r\n\r\n\t\tArrayList&lt;TesterObj&gt; my_second_objects = new ArrayList&lt;TesterObj&gt;();\r\n\r\n\t\tTesterObj six = new TesterObj(12,&quot;jolly&quot;,20.4,&quot;dxksmd oasodkx skldm&quot;);\r\n\t\tTesterObj seven = new TesterObj(93,&quot;buddy&quot;,34.32,&quot;osdk lsldm lasdkoa&quot;);\r\n\t\tTesterObj eight = new TesterObj(44,&quot;kurt&quot;,90.54,&quot;dksmd llamz kmska alsmx&quot;);\r\n\t\tTesterObj nine = new TesterObj(35,&quot;jimi&quot;,923.23,&quot;alsmx zmasx skdm akdm&quot;);\r\n\t\tTesterObj ten = new TesterObj(42,&quot;kanye&quot;,12.43,&quot;aposdkx xksmd&quot;);\r\n\r\n\t\tmy_second_objects.add(six);\r\n\t\tmy_second_objects.add(seven);\r\n\t\tmy_second_objects.add(eight);\r\n\t\tmy_second_objects.add(nine);\r\n\t\tmy_second_objects.add(ten);\r\n\r\n\t\tmatch(my_first_objects, my_second_objects);\r\n\t}\r\n\r\n\t// OBJS_ONE and OBJS_TWO MUST BE EQUAL IN SIZE!!! , 3 is number of instance fields to compare\r\n\r\n\tpublic static HashMap&lt;TesterObj,TesterObj&gt; match(ArrayList&lt;TesterObj&gt; objs_one, ArrayList&lt;TesterObj&gt; objs_two)\r\n\t{\r\n\t\tArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\r\n\t\tHashMap&lt;TesterObj,TesterObj&gt; map = new HashMap&lt;TesterObj,TesterObj&gt;();\r\n\r\n\t\tfor(int z=0;z&lt;objs_one.size(); z++) \r\n\t\t{\r\n\t\t\tfor(int l = 0;l&lt;objs_two.size(); l++) \r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;THE AGE OF OBJ ONE IS &quot; + objs_one.get(z).age +\r\n\t\t\t\t\t\t&quot;THE AGE OF OBJ TWO IS &quot; + objs_two.get(l).age );\r\n\t\t\t\tdiffs.add(Math.abs(objs_one.get(z).age - objs_one.get(l).age));\r\n\t\t\t\tSystem.out.println(diffs);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n}\r\n```\r\nThe first iteration(of the inner loop) should return 7 because `Math.abs(5-12)` is 7 but it instead returns 0. This pattern continues and the next iteration returns 10 when it should return `Math.abs(5-93)` or 88.\r\n\r\nThe goal of this project is then to continue this on a row by row basis (each obj one iterates once for n obj two elements) until finished then the lowest difference is returned.","title":"Trying to Compute the differences in two different ArrayLists of Objects with Instance Fields of Type Integer[JAVA]","body":"<pre><code>package pckg;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class Tester \n{\n    public static void main(String[] args) \n    {\n        ArrayList&lt;TesterObj&gt; my_first_objects = new ArrayList&lt;TesterObj&gt;();\n        TesterObj one = new TesterObj(5,&quot;john&quot;,6.8,&quot;HELKEOLOSSJK NHSSB BSBSJBS NS S&quot;);\n        TesterObj two = new TesterObj(25,&quot;eric&quot;,12.32,&quot;SKSMK skm1d dms dnms kmdks&quot;);\n        TesterObj three = new TesterObj(15,&quot;sally&quot;,2.40,&quot;dskmdnk kmdk kwmd kdsmkd qpdok&quot;);\n        TesterObj four = new TesterObj(31,&quot;susan&quot;,9.87,&quot;ksmdks qwersc kpaolxnio akmdn&quot;);\n        TesterObj five = new TesterObj(18,&quot;mary&quot;,86.32,&quot;dksnd oqoijdl padxl&quot;);\n\n        my_first_objects.add(one);\n        my_first_objects.add(two);\n        my_first_objects.add(three);\n        my_first_objects.add(four);\n        my_first_objects.add(five);\n\n        ArrayList&lt;TesterObj&gt; my_second_objects = new ArrayList&lt;TesterObj&gt;();\n\n        TesterObj six = new TesterObj(12,&quot;jolly&quot;,20.4,&quot;dxksmd oasodkx skldm&quot;);\n        TesterObj seven = new TesterObj(93,&quot;buddy&quot;,34.32,&quot;osdk lsldm lasdkoa&quot;);\n        TesterObj eight = new TesterObj(44,&quot;kurt&quot;,90.54,&quot;dksmd llamz kmska alsmx&quot;);\n        TesterObj nine = new TesterObj(35,&quot;jimi&quot;,923.23,&quot;alsmx zmasx skdm akdm&quot;);\n        TesterObj ten = new TesterObj(42,&quot;kanye&quot;,12.43,&quot;aposdkx xksmd&quot;);\n\n        my_second_objects.add(six);\n        my_second_objects.add(seven);\n        my_second_objects.add(eight);\n        my_second_objects.add(nine);\n        my_second_objects.add(ten);\n\n        match(my_first_objects, my_second_objects);\n    }\n\n    // OBJS_ONE and OBJS_TWO MUST BE EQUAL IN SIZE!!! , 3 is number of instance fields to compare\n\n    public static HashMap&lt;TesterObj,TesterObj&gt; match(ArrayList&lt;TesterObj&gt; objs_one, ArrayList&lt;TesterObj&gt; objs_two)\n    {\n        ArrayList&lt;Integer&gt; diffs = new ArrayList&lt;Integer&gt;();\n        HashMap&lt;TesterObj,TesterObj&gt; map = new HashMap&lt;TesterObj,TesterObj&gt;();\n\n        for(int z=0;z&lt;objs_one.size(); z++) \n        {\n            for(int l = 0;l&lt;objs_two.size(); l++) \n            {\n                System.out.println(&quot;THE AGE OF OBJ ONE IS &quot; + objs_one.get(z).age +\n                        &quot;THE AGE OF OBJ TWO IS &quot; + objs_two.get(l).age );\n                diffs.add(Math.abs(objs_one.get(z).age - objs_one.get(l).age));\n                System.out.println(diffs);\n            }\n        }\n        return map;\n    }\n}\n</code></pre>\n<p>The first iteration(of the inner loop) should return 7 because <code>Math.abs(5-12)</code> is 7 but it instead returns 0. This pattern continues and the next iteration returns 10 when it should return <code>Math.abs(5-93)</code> or 88.</p>\n<p>The goal of this project is then to continue this on a row by row basis (each obj one iterates once for n obj two elements) until finished then the lowest difference is returned.</p>\n"},{"tags":["java","jar","gstreamer","executable-jar","gstreamer-1.0"],"owner":{"account_id":25839069,"reputation":21,"user_id":19574955,"display_name":"Amit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685860314,"creation_date":1678610375,"question_id":75711945,"body_markdown":"I am running the code once with a loop which use pipelines and buses again and again.\r\nat the end of each iteration i want to clean completely all the resources.\r\nI&#39;ve looked into the documents and looks like this should be enough:\r\n\r\n    pipeline.setState(State.NULL);\r\n    bus.dispose();\r\n    pipeline.dispose();\r\n\r\nhowever, when the application run again I still see the number of pipeline and bus object incrementing and not beginning from 0.\r\nTried also to use Gst.deinit() and Gst.init(), nothing seem to work.\r\nIs disposing the pipeline and bus object not suppose to reset them completely?\r\n\r\nEdit:\r\nI&#39;m still trying to find the right way of cleaning the memory used by each pipeline..\r\nAlso tried to add bus.clearSyncHandler() before the disposing but still the pipeline and bus numbers are continuously growing. ","title":"GStreamer - using dispose function won&#39;t clean up resources","body":"<p>I am running the code once with a loop which use pipelines and buses again and again.\nat the end of each iteration i want to clean completely all the resources.\nI've looked into the documents and looks like this should be enough:</p>\n<pre><code>pipeline.setState(State.NULL);\nbus.dispose();\npipeline.dispose();\n</code></pre>\n<p>however, when the application run again I still see the number of pipeline and bus object incrementing and not beginning from 0.\nTried also to use Gst.deinit() and Gst.init(), nothing seem to work.\nIs disposing the pipeline and bus object not suppose to reset them completely?</p>\n<p>Edit:\nI'm still trying to find the right way of cleaning the memory used by each pipeline..\nAlso tried to add bus.clearSyncHandler() before the disposing but still the pipeline and bus numbers are continuously growing.</p>\n"},{"tags":["java","glowroot"],"owner":{"account_id":26308422,"reputation":126,"user_id":19972444,"display_name":"Neos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685859077,"creation_date":1685859077,"question_id":76399151,"body_markdown":"I downloaded GLOWROOT code source from their GitHub repository \r\n[https://github.com/glowroot/glowroot] then I build the project . \r\nMy main goal is to do some modification to the errors section because I am not in need to trace the errors section . \r\n\r\nSo I built the application and it was too many several jars on every location of the project which made it hard for me to handle and to re-arrange it in a manner to deploy it within my WILDFLY 15 application Server. \r\n\r\nI tried to see if I can do anything  on the binary distribution but as far as I understand the UI gets generated in the application deployment and it is not accessible from outside . \r\n\r\nI opened an issue about this like a service request to get some clarifications but no response . \r\n\r\nI would prefer a solution that handles the issue within the GLOWROOT project that I cloned from the git repository . \r\n\r\nThanks a lot for your time and your help . \r\n\r\n\r\n\r\nI tried to change the UI and re-arrange the project to deploy it . \r\n\r\nand jars were a lot I didn&#39;t know even how to arrange them in a deployable way . ","title":"Glowroot Api is very hard to handle in terms of building","body":"<p>I downloaded GLOWROOT code source from their GitHub repository\n[https://github.com/glowroot/glowroot] then I build the project .\nMy main goal is to do some modification to the errors section because I am not in need to trace the errors section .</p>\n<p>So I built the application and it was too many several jars on every location of the project which made it hard for me to handle and to re-arrange it in a manner to deploy it within my WILDFLY 15 application Server.</p>\n<p>I tried to see if I can do anything  on the binary distribution but as far as I understand the UI gets generated in the application deployment and it is not accessible from outside .</p>\n<p>I opened an issue about this like a service request to get some clarifications but no response .</p>\n<p>I would prefer a solution that handles the issue within the GLOWROOT project that I cloned from the git repository .</p>\n<p>Thanks a lot for your time and your help .</p>\n<p>I tried to change the UI and re-arrange the project to deploy it .</p>\n<p>and jars were a lot I didn't know even how to arrange them in a deployable way .</p>\n"},{"tags":["javascript","java","pentaho"],"comments":[{"owner":{"account_id":14350718,"reputation":4439,"user_id":10366273,"display_name":"MyNameIsCaleb"},"score":0,"creation_date":1556031245,"post_id":55813495,"comment_id":98294671,"body_markdown":"What have you tried so far? Please provide a MCVE: https://stackoverflow.com/help/mcve","body":"What have you tried so far? Please provide a MCVE: <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}],"answers":[{"tags":[],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1559052187,"creation_date":1556029717,"answer_id":55813496,"question_id":55813495,"body_markdown":"Just add a step `JavaScript Modified Values` with the following code:\r\n\r\n```javascript \r\nvar reader = new com.lowagie.text.pdf.PdfReader(&quot;c:\\\\temp\\\\mypdf.pdf&quot;) // OR JUST PUT THE COLUMN NAME IN THE FLOW;\r\nvar pdfTE = new com.lowagie.text.pdf.parser.PdfTextExtractor(reader);\r\nvar noOfPages = reader.getNumberOfPages();\r\nvar textPDF = &quot;&quot;;\r\nfor (var i = 1; i &lt;= noOfPages; i++) {\r\n\ttextPDF += pdfTE.getTextFromPage(i);\r\n}\r\n```","title":"How to extract text from pdfs with pentaho?","body":"<p>Just add a step <code>JavaScript Modified Values</code> with the following code:</p>\n\n<pre><code>var reader = new com.lowagie.text.pdf.PdfReader(\"c:\\\\temp\\\\mypdf.pdf\") // OR JUST PUT THE COLUMN NAME IN THE FLOW;\nvar pdfTE = new com.lowagie.text.pdf.parser.PdfTextExtractor(reader);\nvar noOfPages = reader.getNumberOfPages();\nvar textPDF = \"\";\nfor (var i = 1; i &lt;= noOfPages; i++) {\n    textPDF += pdfTE.getTextFromPage(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11800937,"reputation":61,"user_id":8634657,"display_name":"Hernan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685857309,"creation_date":1685857309,"answer_id":76399086,"question_id":55813495,"body_markdown":"I followed these steps:\r\n\r\n 1. Put the jar file itextpdf-5.5.9.jar in ~\\pdi-ce-9.4.0.0-343\\data-integration\\lib\r\n 2. Configure a User Defined Java Class as follows:\r\n\r\n  2.a. **Class code**\r\n\r\n\t\t\t\timport java.io.IOException;\r\n\t\t\t\t\r\n\t\t\t\timport com.itextpdf.text.pdf.PdfReader;\r\n\t\t\t\timport com.itextpdf.text.pdf.parser.PdfTextExtractor;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//String firstnameField;\r\n\t\t\t\t//String lastnameField;\r\n\t\t\t\tString nameField;\r\n\t\t\t\t\r\n\t\t\t\t//https://www.w3schools.blog/itext-read-pdf-file-in-java\r\n\t\t\t\t\r\n\t\t\t\tpublic boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException\r\n\t\t\t\t{\r\n\t\t\t\t\t// First, get a row from the default input hop\r\n\t\t\t\t\t//\r\n\t\t\t\t\tObject[] r = getRow();\r\n\t\t\t\t\r\n\t\t\t\t\t// If the row object is null, we are done processing.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tif (r == null) {\r\n\t\t\t\t\t\tsetOutputDone();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (first) {\r\n\t\t\t\t\t\t//firstnameField = getParameter(&quot;FIRSTNAME_FIELD&quot;);\r\n\t\t\t\t\t\t//lastnameField = getParameter(&quot;LASTNAME_FIELD&quot;);\r\n\t\t\t\t\t\tnameField = getParameter(&quot;NAME_FIELD&quot;);\r\n\t\t\t\t\t\tfirst=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t// It is always safest to call createOutputRow() to ensure that your output row&#39;s Object[] is large\r\n\t\t\t\t\t// enough to handle any new fields you are creating in this step.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tObject[] outputRow = createOutputRow(r, data.outputRowMeta.size());\r\n\t\t\t\t\r\n\t\t\t\t\t//String firstname = get(Fields.In, firstnameField).getString(r);\r\n\t\t\t\t\t//String lastname = get(Fields.In, lastnameField).getString(r);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\tString pageContent = &quot;&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t//Create PdfReader instance.\r\n\t\t\t\t\t\tString path = &quot;C:\\\\Users\\\\myusername\\\\Downloads\\\\myPDF.pdf&quot;;\r\n\t\t\t\t\t\tpath = path.replace(&quot;\\\\&quot;, &quot;/&quot;);        \r\n\t\t\t\t\t\tPdfReader pdfReader = new PdfReader(path);\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Get the number of pages in pdf.\r\n\t\t\t\t\t\tint pages = pdfReader.getNumberOfPages();\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Iterate the pdf through pages.\r\n\t\t\t\t\t\tfor(int i=1; i&lt;=pages; i++) {\r\n\t\t\t\t\t\t\t//Extract the page content using PdfTextExtractor.\r\n\t\t\t\t\t\t\tpageContent =\r\n\t\t\t\t\t\t\tPdfTextExtractor.getTextFromPage(pdfReader, i);\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t//Print the page content on console.\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Content on Page &quot;\r\n\t\t\t\t\t\t\t\t+ i + &quot;: &quot; + pageContent);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\t//Close the PdfReader.\r\n\t\t\t\t\t\tpdfReader.close();\r\n\t\t\t\t\r\n\t\t\t\t\t// OR JUST PUT THE COLUMN NAME IN THE FLOW;\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Set the value in the output field\r\n\t\t\t\t\t//\r\n\t\t\t\t\tget(Fields.Out, nameField).setValue(outputRow, pageContent);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// putRow will send the row on to the default output hop.\r\n\t\t\t\t\t//\r\n\t\t\t\t\tputRow(data.outputRowMeta, outputRow);\r\n\t\t\t\t\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\r\n 2.b. **Fields**\r\n[![image][1]][1]\r\n\r\n 2.c. **Parameters**\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/25mcw.png\r\n  [2]: https://i.stack.imgur.com/dXBHV.png\r\n\r\nThe PDF content will be in the resulting field *pageContent*\r\n\r\nMy env:\r\n\r\n - Windows 10\r\n - Java 8\r\n - Pentaho Data Integration 9.4\r\n - itextpdf 5.5.9 (downloaded from https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar)","title":"How to extract text from pdfs with pentaho?","body":"<p>I followed these steps:</p>\n<ol>\n<li>Put the jar file itextpdf-5.5.9.jar in ~\\pdi-ce-9.4.0.0-343\\data-integration\\lib</li>\n<li>Configure a User Defined Java Class as follows:</li>\n</ol>\n<p>2.a. <strong>Class code</strong></p>\n<pre><code>            import java.io.IOException;\n            \n            import com.itextpdf.text.pdf.PdfReader;\n            import com.itextpdf.text.pdf.parser.PdfTextExtractor;\n            \n            \n            //String firstnameField;\n            //String lastnameField;\n            String nameField;\n            \n            //https://www.w3schools.blog/itext-read-pdf-file-in-java\n            \n            public boolean processRow(StepMetaInterface smi, StepDataInterface sdi) throws KettleException\n            {\n                // First, get a row from the default input hop\n                //\n                Object[] r = getRow();\n            \n                // If the row object is null, we are done processing.\n                //\n                if (r == null) {\n                    setOutputDone();\n                    return false;\n                }\n            \n                if (first) {\n                    //firstnameField = getParameter(&quot;FIRSTNAME_FIELD&quot;);\n                    //lastnameField = getParameter(&quot;LASTNAME_FIELD&quot;);\n                    nameField = getParameter(&quot;NAME_FIELD&quot;);\n                    first=false;\n                }\n            \n                // It is always safest to call createOutputRow() to ensure that your output row's Object[] is large\n                // enough to handle any new fields you are creating in this step.\n                //\n                Object[] outputRow = createOutputRow(r, data.outputRowMeta.size());\n            \n                //String firstname = get(Fields.In, firstnameField).getString(r);\n                //String lastname = get(Fields.In, lastnameField).getString(r);\n            \n            \n                String pageContent = &quot;&quot;;\n            \n                try {\n                    //Create PdfReader instance.\n                    String path = &quot;C:\\\\Users\\\\myusername\\\\Downloads\\\\myPDF.pdf&quot;;\n                    path = path.replace(&quot;\\\\&quot;, &quot;/&quot;);        \n                    PdfReader pdfReader = new PdfReader(path);\n            \n                    //Get the number of pages in pdf.\n                    int pages = pdfReader.getNumberOfPages();\n            \n                    //Iterate the pdf through pages.\n                    for(int i=1; i&lt;=pages; i++) {\n                        //Extract the page content using PdfTextExtractor.\n                        pageContent =\n                        PdfTextExtractor.getTextFromPage(pdfReader, i);\n            \n                        //Print the page content on console.\n                        System.out.println(&quot;Content on Page &quot;\n                            + i + &quot;: &quot; + pageContent);\n                    }\n            \n                    //Close the PdfReader.\n                    pdfReader.close();\n            \n                // OR JUST PUT THE COLUMN NAME IN THE FLOW;\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            \n                \n                // Set the value in the output field\n                //\n                get(Fields.Out, nameField).setValue(outputRow, pageContent);\n                \n                // putRow will send the row on to the default output hop.\n                //\n                putRow(data.outputRowMeta, outputRow);\n            \n                return true;\n            }\n</code></pre>\n<p>2.b. <strong>Fields</strong>\n<a href=\"https://i.stack.imgur.com/25mcw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/25mcw.png\" alt=\"image\" /></a></p>\n<p>2.c. <strong>Parameters</strong>\n<a href=\"https://i.stack.imgur.com/dXBHV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dXBHV.png\" alt=\"enter image description here\" /></a></p>\n<p>The PDF content will be in the resulting field <em>pageContent</em></p>\n<p>My env:</p>\n<ul>\n<li>Windows 10</li>\n<li>Java 8</li>\n<li>Pentaho Data Integration 9.4</li>\n<li>itextpdf 5.5.9 (downloaded from <a href=\"https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/itextpdf/itextpdf/5.5.9/itextpdf-5.5.9.jar</a>)</li>\n</ul>\n"}],"owner":{"account_id":1480496,"reputation":669,"user_id":1390012,"display_name":"mesompi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2018,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1685857309,"creation_date":1556029717,"question_id":55813495,"body_markdown":"How can I read text from PDFs files using pentaho?\r\n\r\nIs there any solution using only built-in java libraries?","title":"How to extract text from pdfs with pentaho?","body":"<p>How can I read text from PDFs files using pentaho?</p>\n\n<p>Is there any solution using only built-in java libraries?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":2,"creation_date":1685731997,"post_id":76392681,"comment_id":134707607,"body_markdown":"I&#39;m curious as to why you would expect anything other than a 403?  If you want to call the `/hello` endpoint without being authenticated, then you need to add that to your security filter chain as a `permitAll()`","body":"I&#39;m curious as to why you would expect anything other than a 403?  If you want to call the <code>&#47;hello</code> endpoint without being authenticated, then you need to add that to your security filter chain as a <code>permitAll()</code>"},{"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"score":0,"creation_date":1685734703,"post_id":76392681,"comment_id":134708090,"body_markdown":"This is just a test filter where I am trying to prove spring security works. I have another project where I want to apply these learnings...in which my actual filter does inspect the header for a cookie and validate against the database.","body":"This is just a test filter where I am trying to prove spring security works. I have another project where I want to apply these learnings...in which my actual filter does inspect the header for a cookie and validate against the database."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1685738897,"post_id":76392681,"comment_id":134708721,"body_markdown":"@KishorePaila Spring Security works perfectly. You are not authenticated, so you can&#39;t access any resource. Your code works as it should be. If you expect something else, you should add athentication to your code.","body":"@KishorePaila Spring Security works perfectly. You are not authenticated, so you can&#39;t access any resource. Your code works as it should be. If you expect something else, you should add athentication to your code."}],"answers":[{"tags":[],"owner":{"account_id":6379574,"reputation":188,"user_id":4949489,"display_name":"Brainwash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685739947,"creation_date":1685739294,"answer_id":76393426,"question_id":76392681,"body_markdown":"I assume, despite attempt to authenticate all Http requests, probably framework is expecting few more configuration. Due to lack of those configuration it is probably triggering forbidden access.\r\n\r\nCould you try something as below and let us know if it works?\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.addFilterBefore(new TestFilter(), UsernamePasswordAuthenticationFilter.class)\r\n                .authorizeRequests()\r\n                .anyRequest().authenticated();\r\n        return http.build();\r\n      }\r\n    }\r\n\r\nwe configure an in-memory user store with a single user &quot;user&quot; having the password &quot;password&quot; and the role &quot;USER&quot;. The configure(HttpSecurity http) method defines the authorization rules, allowing any request to be authenticated and using HTTP Basic authentication, obviously you can further enhance as per your need. I assume, missing credentials were triggering that error (just a guess).","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>I assume, despite attempt to authenticate all Http requests, probably framework is expecting few more configuration. Due to lack of those configuration it is probably triggering forbidden access.</p>\n<p>Could you try something as below and let us know if it works?</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.addFilterBefore(new TestFilter(), UsernamePasswordAuthenticationFilter.class)\n            .authorizeRequests()\n            .anyRequest().authenticated();\n    return http.build();\n  }\n}\n</code></pre>\n<p>we configure an in-memory user store with a single user &quot;user&quot; having the password &quot;password&quot; and the role &quot;USER&quot;. The configure(HttpSecurity http) method defines the authorization rules, allowing any request to be authenticated and using HTTP Basic authentication, obviously you can further enhance as per your need. I assume, missing credentials were triggering that error (just a guess).</p>\n"},{"comments":[{"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"score":0,"creation_date":1685855908,"post_id":76399029,"comment_id":134717903,"body_markdown":"My filter executed and I received a &quot;200 OK&quot; with this configuration.","body":"My filter executed and I received a &quot;200 OK&quot; with this configuration."}],"tags":[],"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1685855861,"creation_date":1685855861,"answer_id":76399029,"question_id":76392681,"body_markdown":"The only way I could tell Spring to only execute my filter (once) and not do anything else is with this configuration:\r\n```\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        return http.build();\r\n    }\r\n```","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>The only way I could tell Spring to only execute my filter (once) and not do anything else is with this configuration:</p>\n<pre><code>@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":3582904,"reputation":47,"user_id":2990665,"accept_rate":25,"display_name":"Kishore Paila"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1039,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1685855861,"creation_date":1685730566,"question_id":76392681,"body_markdown":"When trying to test custom authentication using a custom filter (using spring security 6); I keep receiving &quot;Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access&quot; error in DEBUG logs. Does anyone know what I am missing in the configuration.\r\nI left the filter code empty for now.\r\n\r\nThis is what I see in DB logs when I hit the endpoint:\r\n```\r\n14:23:02.619 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms\r\n14:23:04.923 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /hello\r\n14:23:04.928 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/hello?continue to session\r\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\r\n14:23:05.504 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session\r\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig\r\n{\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests(authorize -&gt; authorize\r\n                .anyRequest().authenticated()\r\n        );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\npublic class TestFilter extends GenericFilterBean {\r\n    @Override\r\n    public void doFilter(\r\n            ServletRequest request,\r\n            ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n        System.out.print(&quot;::::::::::::::::::::in the test filter::::::::::::::::::::::&quot;);\r\n        chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t@GetMapping(&quot;/hello&quot;)\r\n\tpublic String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n\t\treturn String.format(&quot;Hello %s!&quot;, name);\r\n\t}\r\n}\r\n```","title":"spring security 6 custom filter errors with 403 forbidden","body":"<p>When trying to test custom authentication using a custom filter (using spring security 6); I keep receiving &quot;Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access&quot; error in DEBUG logs. Does anyone know what I am missing in the configuration.\nI left the filter code empty for now.</p>\n<p>This is what I see in DB logs when I hit the endpoint:</p>\n<pre><code>14:23:02.619 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms\n14:23:04.923 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /hello\n14:23:04.928 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/hello?continue to session\n14:23:04.943 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\n14:23:05.504 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/error?continue to session\n14:23:05.505 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.Http403ForbiddenEntryPoint - Pre-authenticated entry point called. Rejecting access\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig\n{\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests(authorize -&gt; authorize\n                .anyRequest().authenticated()\n        );\n        return http.build();\n    }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class TestFilter extends GenericFilterBean {\n    @Override\n    public void doFilter(\n            ServletRequest request,\n            ServletResponse response,\n            FilterChain chain) throws IOException, ServletException {\n        System.out.print(&quot;::::::::::::::::::::in the test filter::::::::::::::::::::::&quot;);\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<pre><code>@SpringBootApplication\n@RestController\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @GetMapping(&quot;/hello&quot;)\n    public String hello(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return String.format(&quot;Hello %s!&quot;, name);\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","tomcat7","setenv"],"answers":[{"comments":[{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1330425169,"post_id":9480266,"comment_id":11998141,"body_markdown":"shouldn&#39;t it be `export JRE_HOME=...` ?","body":"shouldn&#39;t it be <code>export JRE_HOME=...</code> ?"},{"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"score":0,"creation_date":1330425319,"post_id":9480266,"comment_id":11998186,"body_markdown":"Ghm, I use a similar command for `CATALINA_OPTS` and it works without exporting. In any way OP can confirm this.","body":"Ghm, I use a similar command for <code>CATALINA_OPTS</code> and it works without exporting. In any way OP can confirm this."}],"tags":[],"owner":{"account_id":4774,"reputation":26513,"user_id":7345,"accept_rate":81,"display_name":"mindas"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1330425035,"creation_date":1330425035,"answer_id":9480266,"question_id":9480210,"body_markdown":"Just create one yourself; it isn&#39;t part of the distribution. It&#39;s not that hard. For your case, simply add\r\n\r\n    JRE_HOME=/path/to/your/java/installation\r\n\r\nto the file and make it executable (`chmod 755 setenv.sh`).\r\n\r\nYou can also add other options (e.g. `-Xmx`) if necessary.","title":"Tomcat 7 setenv.sh is not found","body":"<p>Just create one yourself; it isn't part of the distribution. It's not that hard. For your case, simply add</p>\n\n<pre><code>JRE_HOME=/path/to/your/java/installation\n</code></pre>\n\n<p>to the file and make it executable (<code>chmod 755 setenv.sh</code>).</p>\n\n<p>You can also add other options (e.g. <code>-Xmx</code>) if necessary.</p>\n"},{"tags":[],"owner":{"account_id":1810936,"reputation":269,"user_id":1647025,"display_name":"kirigiri"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1391376138,"creation_date":1379719997,"answer_id":18927324,"question_id":9480210,"body_markdown":"User Mindas&#39; answer is completely correct: it is necessary to create the `setenv.sh` file in either the `CATALINA_HOME` or `CATALINA_BASE` directory, as the comment in the `catalina.sh` file indicates.  \r\n\r\nHowever, there is a &quot;chicken and egg&quot; problem wherein Tomcat must guess the location of the `CATALINA_HOME/bin/` directory in the case where the `CATALINA_HOME` environment variable is not set.  \r\n\r\nI have encountered this situation on a Ubuntu server where fortunately Tomcat guesses the `CATALINA_HOME/bin/` directory correctly.  For a single-user environment where customization of Tomcat for different users isn&#39;t necessary, it seems that setting the `JAVA_HOME` or `JRE_HOME` environment variable in the `catalina.sh` script would be a solution to the &quot;chicken and egg&quot; problem.","title":"Tomcat 7 setenv.sh is not found","body":"<p>User Mindas' answer is completely correct: it is necessary to create the <code>setenv.sh</code> file in either the <code>CATALINA_HOME</code> or <code>CATALINA_BASE</code> directory, as the comment in the <code>catalina.sh</code> file indicates.  </p>\n\n<p>However, there is a \"chicken and egg\" problem wherein Tomcat must guess the location of the <code>CATALINA_HOME/bin/</code> directory in the case where the <code>CATALINA_HOME</code> environment variable is not set.  </p>\n\n<p>I have encountered this situation on a Ubuntu server where fortunately Tomcat guesses the <code>CATALINA_HOME/bin/</code> directory correctly.  For a single-user environment where customization of Tomcat for different users isn't necessary, it seems that setting the <code>JAVA_HOME</code> or <code>JRE_HOME</code> environment variable in the <code>catalina.sh</code> script would be a solution to the \"chicken and egg\" problem.</p>\n"},{"tags":[],"owner":{"account_id":148947,"reputation":7935,"user_id":361089,"accept_rate":63,"display_name":"Technext"},"comment_count":0,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1685854392,"creation_date":1379789696,"answer_id":18936348,"question_id":9480210,"body_markdown":"Documentation actually mentions the absence of the `setenv.(sh|bat)` file (by default):\r\n\r\n&gt; (3.4) Using the &quot;setenv&quot; script (optional, recommended)\r\n&gt; \r\n&gt; Apart from CATALINA_HOME and CATALINA_BASE, all environment variables\r\n&gt; can be specified in the &quot;setenv&quot; script. The script is placed either\r\n&gt; into CATALINA_BASE/bin or into CATALINA_HOME/bin directory and is\r\n&gt; named setenv.bat (on Windows) or setenv.sh (on *nix). The file has to\r\n&gt; be readable.\r\n&gt; \r\n&gt; By default the setenv script file is absent. If the script file is\r\n&gt; present both in CATALINA_BASE and in CATALINA_HOME, the one in\r\n&gt; CATALINA_BASE is preferred.\r\n&gt; \r\n&gt; For example, to configure the JRE_HOME and CATALINA_PID variables you\r\n&gt; can create the following script file:\r\n&gt; \r\n&gt; On Windows, %CATALINA_BASE%\\bin\\setenv.bat:\r\n&gt; \r\n&gt;       set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre@MIN_JAVA_VERSION@&quot;\r\n&gt;       exit /b 0\r\n&gt; \r\n&gt; On *nix, $CATALINA_BASE/bin/setenv.sh:\r\n&gt;\r\n&gt;       JRE_HOME=/usr/java/latest\r\n&gt;       CATALINA_PID=&quot;/run/tomcat.pid&quot;\r\n\r\n\r\n\r\n&lt;https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151&gt;","title":"Tomcat 7 setenv.sh is not found","body":"<p>Documentation actually mentions the absence of the <code>setenv.(sh|bat)</code> file (by default):</p>\n<blockquote>\n<p>(3.4) Using the &quot;setenv&quot; script (optional, recommended)</p>\n<p>Apart from CATALINA_HOME and CATALINA_BASE, all environment variables\ncan be specified in the &quot;setenv&quot; script. The script is placed either\ninto CATALINA_BASE/bin or into CATALINA_HOME/bin directory and is\nnamed setenv.bat (on Windows) or setenv.sh (on *nix). The file has to\nbe readable.</p>\n<p>By default the setenv script file is absent. If the script file is\npresent both in CATALINA_BASE and in CATALINA_HOME, the one in\nCATALINA_BASE is preferred.</p>\n<p>For example, to configure the JRE_HOME and CATALINA_PID variables you\ncan create the following script file:</p>\n<p>On Windows, %CATALINA_BASE%\\bin\\setenv.bat:</p>\n<pre><code>  set &quot;JRE_HOME=%ProgramFiles%\\Java\\jre@MIN_JAVA_VERSION@&quot;\n  exit /b 0\n</code></pre>\n<p>On *nix, $CATALINA_BASE/bin/setenv.sh:</p>\n<pre><code>  JRE_HOME=/usr/java/latest\n  CATALINA_PID=&quot;/run/tomcat.pid&quot;\n</code></pre>\n</blockquote>\n<p><a href=\"https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/10.1.9/RUNNING.txt#L151</a></p>\n"},{"comments":[{"owner":{"account_id":5540603,"reputation":350,"user_id":4397266,"display_name":"Kunal Gadhia"},"score":2,"creation_date":1490677392,"post_id":43051272,"comment_id":73206115,"body_markdown":"Great!! Worked for me","body":"Great!! Worked for me"},{"owner":{"account_id":146361,"reputation":492,"user_id":356765,"display_name":"Marco Pelegrini"},"score":0,"creation_date":1586391163,"post_id":43051272,"comment_id":108114683,"body_markdown":"These options usually goes in the CATALINA_OPTS though as JAVA_OPTS is used by the internal Tomcat commands too: stop process, the version command etc.","body":"These options usually goes in the CATALINA_OPTS though as JAVA_OPTS is used by the internal Tomcat commands too: stop process, the version command etc."}],"tags":[],"owner":{"account_id":5587189,"reputation":475,"user_id":4427476,"display_name":"SUDARSHAN BHALERAO"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490630649,"creation_date":1490630649,"answer_id":43051272,"question_id":9480210,"body_markdown":"If you don&#39;t find the &quot;setenv.sh&quot;  or &quot;setenv.bat&quot; in bin folder of tomcat, follow the following setps:\r\n\r\n1.  Create new file in bin folder of tomcat.\r\n2.  Rename it to `setenv.sh` for **linux** user or `setenv.bat` for **windows** user\r\n3.  Now you can set multiple thing into this file:\r\n\r\n*Setting JRE_HOME*\r\n\r\nFor **linux** user \r\n\r\n    JRE_HOME=/path/to/jre/jre6\r\n\r\nFor **Windows** user\r\n\r\n    set JAVA_HOME=C:\\Path\\to\\jre\\jdk6\r\n\r\n\r\n*Setting JAVA_OPTS*\r\n\r\nFor **linux** user\r\n\r\n    JAVA_OPTS=&quot;$JAVA_OPTS -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///C:/foobar.properties&quot;\r\n\r\nFor **windows** user\r\n\r\n    set &quot;JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///D:\\foobar.properties&quot;\r\n\r\n**Restart tomcat after setting variables**.\r\nThat&#39;s it.","title":"Tomcat 7 setenv.sh is not found","body":"<p>If you don't find the \"setenv.sh\"  or \"setenv.bat\" in bin folder of tomcat, follow the following setps:</p>\n\n<ol>\n<li>Create new file in bin folder of tomcat.</li>\n<li>Rename it to <code>setenv.sh</code> for <strong>linux</strong> user or <code>setenv.bat</code> for <strong>windows</strong> user</li>\n<li>Now you can set multiple thing into this file:</li>\n</ol>\n\n<p><em>Setting JRE_HOME</em></p>\n\n<p>For <strong>linux</strong> user </p>\n\n<pre><code>JRE_HOME=/path/to/jre/jre6\n</code></pre>\n\n<p>For <strong>Windows</strong> user</p>\n\n<pre><code>set JAVA_HOME=C:\\Path\\to\\jre\\jdk6\n</code></pre>\n\n<p><em>Setting JAVA_OPTS</em></p>\n\n<p>For <strong>linux</strong> user</p>\n\n<pre><code>JAVA_OPTS=\"$JAVA_OPTS -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///C:/foobar.properties\"\n</code></pre>\n\n<p>For <strong>windows</strong> user</p>\n\n<pre><code>set \"JAVA_OPTS=%JAVA_OPTS% -Xms512m -Xmx512m -DFOOBAR_CONFIGURATION_FILE=file:///D:\\foobar.properties\"\n</code></pre>\n\n<p><strong>Restart tomcat after setting variables</strong>.\nThat's it.</p>\n"},{"tags":[],"owner":{"account_id":36818,"reputation":2521,"user_id":105101,"display_name":"Greg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672433946,"creation_date":1672433946,"answer_id":74965757,"question_id":9480210,"body_markdown":"In my case, I downloaded Tomcat for Windows. It also came with Linux shell scripts, so I created a &#39;setenv.sh&#39; and tried to run it from Windows Subsystem for Linux, but got the above error. The issue was that the non-binary shell scripts were formatted for Windows, and Linux didn&#39;t know how to run them. After converting them to Linux format, it was able to recognize and run the scripts. Try this to convert from Windows to Linux:\r\n\r\n    dos2unix $CATALINA_HOME/bin/*.sh","title":"Tomcat 7 setenv.sh is not found","body":"<p>In my case, I downloaded Tomcat for Windows. It also came with Linux shell scripts, so I created a 'setenv.sh' and tried to run it from Windows Subsystem for Linux, but got the above error. The issue was that the non-binary shell scripts were formatted for Windows, and Linux didn't know how to run them. After converting them to Linux format, it was able to recognize and run the scripts. Try this to convert from Windows to Linux:</p>\n<pre><code>dos2unix $CATALINA_HOME/bin/*.sh\n</code></pre>\n"}],"owner":{"account_id":43590,"reputation":13459,"user_id":127511,"accept_rate":49,"display_name":"Prakash Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95199,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"answer_count":5,"score":27,"last_activity_date":1685854392,"creation_date":1330424745,"question_id":9480210,"body_markdown":"I downloaded and extracted the [apache-tomcat-7.0][1]. As per the instructions in the RUNNING.txt (%CATALINA_BASE%/RUNNING.txt), it should set the JRE_HOME in the &quot;setenv.sh&quot; file.\r\n\r\nWhere is this file located ? Documentation said, it would be in CATALINA_HOME/bin directory. However this file is not present there.\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-7.0-doc/setup.html#Introduction","title":"Tomcat 7 setenv.sh is not found","body":"<p>I downloaded and extracted the <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/setup.html#Introduction\">apache-tomcat-7.0</a>. As per the instructions in the RUNNING.txt (%CATALINA_BASE%/RUNNING.txt), it should set the JRE_HOME in the \"setenv.sh\" file.</p>\n\n<p>Where is this file located ? Documentation said, it would be in CATALINA_HOME/bin directory. However this file is not present there.</p>\n"},{"tags":["java","string","input","java.util.scanner"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1685845114,"post_id":76398643,"comment_id":134717444,"body_markdown":"Not possible, I’m afraid.  Output and input are completely separate from each other.  Program output cannot be “undone.”  What is your goal?  Perhaps there is another way to achieve it.","body":"Not possible, I’m afraid.  Output and input are completely separate from each other.  Program output cannot be “undone.”  What is your goal?  Perhaps there is another way to achieve it."}],"answers":[{"tags":[],"owner":{"account_id":21112081,"reputation":21,"user_id":15519826,"display_name":"DAvinash97"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685853017,"creation_date":1685853017,"answer_id":76398934,"question_id":76398643,"body_markdown":"I am not sure what you are asking. If this is **not** your desired output. Just Let me know! So coming to my answer, if you mean to replace A&#39;s value, and as per your code it returns `HelloThere` but you want `There` (the user input). If that&#39;s so, you can define another variable and get the user input. And then change A&#39;s value.\r\n\r\nLike this:\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n    public static void main(String[] args) throws Exception {\r\n        Scanner ir = new Scanner (System.in);\r\n        String A = &quot;Hello&quot;;\r\n        System.out.println(A); // Current Value of A\r\n        String B = ir.nextLine(); // Taking User&#39;s input\r\n        A = B; // Changing A&#39;s Value\r\n        System.out.println(A); // New value\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nHello\r\nThere\r\nThere\r\n```","title":"Is it possible to make an existing string editable for the user using Scanner? If so, how?","body":"<p>I am not sure what you are asking. If this is <strong>not</strong> your desired output. Just Let me know! So coming to my answer, if you mean to replace A's value, and as per your code it returns <code>HelloThere</code> but you want <code>There</code> (the user input). If that's so, you can define another variable and get the user input. And then change A's value.</p>\n<p>Like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args) throws Exception {\n        Scanner ir = new Scanner (System.in);\n        String A = &quot;Hello&quot;;\n        System.out.println(A); // Current Value of A\n        String B = ir.nextLine(); // Taking User's input\n        A = B; // Changing A's Value\n        System.out.println(A); // New value\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Hello\nThere\nThere\n</code></pre>\n"}],"owner":{"account_id":18607761,"reputation":1,"user_id":13560983,"display_name":"RLFD43"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1685853017,"creation_date":1685842645,"question_id":76398643,"body_markdown":"So say my program has\r\n`String A = &quot;hello&quot;;`\r\n\r\nand I want it to paste &quot;A&quot; into the user&#39;s input space so the user can modify it(e.g. backspace, add more text), then once the user is done, they can just press enter and their input overwrites &quot;A&quot;.\r\n\r\nApologies if this has been asked before.\r\n\r\nso far this what I&#39;ve tried, but it can only add text, not delete them. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t    Scanner ir = new Scanner (System.in);\r\n\t\tString A = &quot;Hello&quot;;\r\n\t\tSystem.out.println(A);\r\n\t\tA = A+ ir.nextLine();\r\n\t\tSystem.out.println(A);\r\n\t}\r\n}\r\n```\r\n\r\nthis is the output. When i try to use backspace, it doesn&#39;t remove any characters from &quot;Hello&quot;\r\n\r\n```\r\nHello // output\r\n There  // input\r\nHello There // output\r\n```\r\n\r\n\r\n\r\n","title":"Is it possible to make an existing string editable for the user using Scanner? If so, how?","body":"<p>So say my program has\n<code>String A = &quot;hello&quot;;</code></p>\n<p>and I want it to paste &quot;A&quot; into the user's input space so the user can modify it(e.g. backspace, add more text), then once the user is done, they can just press enter and their input overwrites &quot;A&quot;.</p>\n<p>Apologies if this has been asked before.</p>\n<p>so far this what I've tried, but it can only add text, not delete them.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main\n{\n    public static void main(String[] args) throws Exception {\n        Scanner ir = new Scanner (System.in);\n        String A = &quot;Hello&quot;;\n        System.out.println(A);\n        A = A+ ir.nextLine();\n        System.out.println(A);\n    }\n}\n</code></pre>\n<p>this is the output. When i try to use backspace, it doesn't remove any characters from &quot;Hello&quot;</p>\n<pre><code>Hello // output\n There  // input\nHello There // output\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"comments":[{"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"score":0,"creation_date":1666096081,"post_id":74110768,"comment_id":130849963,"body_markdown":"When i remove it i get the following error   Description:\n\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).","body":"When i remove it i get the following error   Description:  Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.  Reason: Failed to determine a suitable driver class   Action:  Consider the following: \tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath. \tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active)."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666096191,"post_id":74110768,"comment_id":130850010,"body_markdown":"Yes, either you need to use H2 database or some other database. If you are creating Repository and Entity classes then a database is required. If you will use H2 database then no need to add any JPA property in application.properties","body":"Yes, either you need to use H2 database or some other database. If you are creating Repository and Entity classes then a database is required. If you will use H2 database then no need to add any JPA property in application.properties"},{"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"score":0,"creation_date":1666096315,"post_id":74110768,"comment_id":130850047,"body_markdown":"Can you please assist me on how to do that?","body":"Can you please assist me on how to do that?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666096358,"post_id":74110768,"comment_id":130850069,"body_markdown":"Please add the below dependency in pom.xml                      \t\t    \n            &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\n\t\t&lt;/dependency&gt;","body":"Please add the below dependency in pom.xml                      \t\t                 &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt; \t\t\t&lt;scope&gt;runtime&lt;/scope&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666096814,"post_id":74110768,"comment_id":130850222,"body_markdown":"Good to hear that it solved your issue :)","body":"Good to hear that it solved your issue :)"}],"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666095106,"creation_date":1666095106,"answer_id":74110768,"question_id":74110470,"body_markdown":"Please remove ```exclude = {DataSourceAutoConfiguration.class }``` from below class and run again. It will fix the issue.\r\n\r\n```java\r\npackage com.devops.maven.cars_api_maven;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n\r\n@SpringBootApplication (\r\n        exclude = {DataSourceAutoConfiguration.class },\r\n        scanBasePackages={\r\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\r\n        )\r\n\r\n    public class CarsApplication {\r\n        \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CarsApplication.class, args);\r\n        }\r\n}\r\n```","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Please remove <code>exclude = {DataSourceAutoConfiguration.class }</code> from below class and run again. It will fix the issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.devops.maven.cars_api_maven;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n\n@SpringBootApplication (\n        exclude = {DataSourceAutoConfiguration.class },\n        scanBasePackages={\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\n        )\n\n    public class CarsApplication {\n        \n        public static void main(String[] args) {\n            SpringApplication.run(CarsApplication.class, args);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111148,"reputation":8552,"user_id":4767429,"accept_rate":91,"display_name":"Avijit Nagare"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685850555,"creation_date":1685850555,"answer_id":76398861,"question_id":74110470,"body_markdown":"I ran into this issue once. I didn&#39;t follow package conventions so spring boot couldn&#39;t find those classes/bean correctly. Even &quot;scanBasePackages&quot; didn&#39;t work.\r\n\r\nWrong package declarations:\r\n\r\n     Ex. com.example.course.dao\r\n         services\r\n         com.example.controller\r\n         course.entities\r\n\r\nCorrect declaration:\r\n \r\n\r\n    Ex. com.example.course.dao\r\n         com.example.course.services\r\n         com.example.course.controller\r\n         com.example.course.entities\r\nI hope this may help someone.","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>I ran into this issue once. I didn't follow package conventions so spring boot couldn't find those classes/bean correctly. Even &quot;scanBasePackages&quot; didn't work.</p>\n<p>Wrong package declarations:</p>\n<pre><code> Ex. com.example.course.dao\n     services\n     com.example.controller\n     course.entities\n</code></pre>\n<p>Correct declaration:</p>\n<pre><code>Ex. com.example.course.dao\n     com.example.course.services\n     com.example.course.controller\n     com.example.course.entities\n</code></pre>\n<p>I hope this may help someone.</p>\n"}],"owner":{"account_id":15246712,"reputation":15,"user_id":15582416,"display_name":"Loopinfility"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110768,"answer_count":2,"score":0,"last_activity_date":1685850555,"creation_date":1666093713,"question_id":74110470,"body_markdown":"Hello there I am new to spring boot, i am getting this error since a while, unfortunately can&#39;t fix it. I am googling since then but still not find what i did wrong. I believe the error exists in the Service Class. I tried to remove the field injection ( @Autowired) and implemented as a constructor injection but that did not work as well Find below my code:\r\n\r\nEntity:\r\n\r\n    package com.devops.maven.cars_api_maven.model;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    @Entity\r\n    @Table(name = &quot;CARS&quot;)\r\n    @SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\r\n    public class Car {\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\r\n        private Long id;\r\n        String manufacturer;\r\n        String model;\r\n        int build;\r\n    \r\n        public Car() {\r\n        }\r\n    \r\n        public Car(Long id, String manufacturer, String model, int build) {\r\n            this.id = id;\r\n            this.manufacturer = manufacturer;\r\n            this.model = model;\r\n            this.build = build;\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getManufacturer() {\r\n            return manufacturer;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public int getBuild() {\r\n            return build;\r\n        }\r\n    \r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setManufacturer(String manufacturer) {\r\n            this.manufacturer = manufacturer;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public void setBuild(int build) {\r\n            this.build = build;\r\n        }\r\n    }\r\n\r\nDAO\r\n\r\n    package com.devops.maven.cars_api_maven.repositories;\r\n    \r\n    import com.devops.maven.cars_api_maven.model.Car;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    \r\n    @Repository\r\n    public interface CarsRepository extends JpaRepository&lt;Car, Long&gt; {\r\n    }\r\n\r\n\r\nMain\r\n\r\n    package com.devops.maven.cars_api_maven;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    \r\n    \r\n    \r\n    @SpringBootApplication (\r\n    \t\texclude = {DataSourceAutoConfiguration.class },\r\n    \t\tscanBasePackages={\r\n    \t\t\t&quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\r\n    \t\t)\r\n    \r\n    \tpublic class CarsApplication {\r\n    \t\t\r\n    \t\tpublic static void main(String[] args) {\r\n    \t\t\tSpringApplication.run(CarsApplication.class, args);\r\n    \t\t}\r\n    }\r\n\r\nService Class\r\n\r\n\r\n    package com.devops.maven.cars_api_maven;\r\n    \r\n    import com.devops.maven.cars_api_maven.model.Car;\r\n    import com.devops.maven.cars_api_maven.repositories.CarsRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;cars&quot;)\r\n    @Service\r\n    public class CarsController {\r\n       @Autowired\r\n       private CarsRepository repository;\r\n    \r\n        @GetMapping\r\n        public List&lt;Car&gt; getCars() {\r\n            return repository.findAll();\r\n        }\r\n    \r\n        @PostMapping\r\n        public Car addCar(@RequestBody Car car) {\r\n            return repository.save(car);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@GetMapping(value = &quot;/{id}&quot;)\r\n        public Car getCarById(@PathVariable(&quot;id&quot;) long id) {\r\n            return repository.getOne(id);\r\n        }\r\n    \r\n        @DeleteMapping(value = &quot;/{id}&quot;)\r\n        public void removeCarById(@PathVariable(&quot;id&quot;) long id) {\r\n            repository.deleteById(id);\r\n        }\r\n    }\r\n\r\n\r\nError output: \r\n\r\n&gt; *************************** APPLICATION FAILED TO START\r\n&gt; ***************************\r\n&gt; \r\n&gt; Description:\r\n&gt; \r\n&gt; Field repository in com.devops.maven.cars_api_maven.CarsController\r\n&gt; required a bean of type\r\n&gt; &#39;com.devops.maven.cars_api_maven.repositories.CarsRepository&#39; that\r\n&gt; could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type\r\n&gt; &#39;com.devops.maven.cars_api_maven.repositories.CarsRepository&#39; in your\r\n&gt; configuration.\r\n\r\n\r\n","title":"The injection point has the following annotations: @org.springframework.beans.factory.annotation.Autowired(required=true)","body":"<p>Hello there I am new to spring boot, i am getting this error since a while, unfortunately can't fix it. I am googling since then but still not find what i did wrong. I believe the error exists in the Service Class. I tried to remove the field injection ( @Autowired) and implemented as a constructor injection but that did not work as well Find below my code:</p>\n<p>Entity:</p>\n<pre><code>package com.devops.maven.cars_api_maven.model;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport javax.persistence.*;\n\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n@Entity\n@Table(name = &quot;CARS&quot;)\n@SequenceGenerator(name=&quot;seq&quot;, initialValue=4, allocationSize=100)\npublic class Car {\n    @Id\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator=&quot;seq&quot;)\n    private Long id;\n    String manufacturer;\n    String model;\n    int build;\n\n    public Car() {\n    }\n\n    public Car(Long id, String manufacturer, String model, int build) {\n        this.id = id;\n        this.manufacturer = manufacturer;\n        this.model = model;\n        this.build = build;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getManufacturer() {\n        return manufacturer;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public int getBuild() {\n        return build;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public void setManufacturer(String manufacturer) {\n        this.manufacturer = manufacturer;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public void setBuild(int build) {\n        this.build = build;\n    }\n}\n</code></pre>\n<p>DAO</p>\n<pre><code>package com.devops.maven.cars_api_maven.repositories;\n\nimport com.devops.maven.cars_api_maven.model.Car;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface CarsRepository extends JpaRepository&lt;Car, Long&gt; {\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.devops.maven.cars_api_maven;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n\n\n@SpringBootApplication (\n        exclude = {DataSourceAutoConfiguration.class },\n        scanBasePackages={\n            &quot;com.devops.maven&quot;, &quot;com.devop.application&quot;}\n        )\n\n    public class CarsApplication {\n        \n        public static void main(String[] args) {\n            SpringApplication.run(CarsApplication.class, args);\n        }\n}\n</code></pre>\n<p>Service Class</p>\n<pre><code>package com.devops.maven.cars_api_maven;\n\nimport com.devops.maven.cars_api_maven.model.Car;\nimport com.devops.maven.cars_api_maven.repositories.CarsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;cars&quot;)\n@Service\npublic class CarsController {\n   @Autowired\n   private CarsRepository repository;\n\n    @GetMapping\n    public List&lt;Car&gt; getCars() {\n        return repository.findAll();\n    }\n\n    @PostMapping\n    public Car addCar(@RequestBody Car car) {\n        return repository.save(car);\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @GetMapping(value = &quot;/{id}&quot;)\n    public Car getCarById(@PathVariable(&quot;id&quot;) long id) {\n        return repository.getOne(id);\n    }\n\n    @DeleteMapping(value = &quot;/{id}&quot;)\n    public void removeCarById(@PathVariable(&quot;id&quot;) long id) {\n        repository.deleteById(id);\n    }\n}\n</code></pre>\n<p>Error output:</p>\n<blockquote>\n<p>*************************** APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field repository in com.devops.maven.cars_api_maven.CarsController\nrequired a bean of type\n'com.devops.maven.cars_api_maven.repositories.CarsRepository' that\ncould not be found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type\n'com.devops.maven.cars_api_maven.repositories.CarsRepository' in your\nconfiguration.</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":3,"creation_date":1685851017,"post_id":76398746,"comment_id":134717691,"body_markdown":"Your problem is that you&#39;re trying to access the network on the main thread, just like [the exception&#39;s documentation](https://developer.android.com/reference/android/os/NetworkOnMainThreadException) says you can&#39;t do.","body":"Your problem is that you&#39;re trying to access the network on the main thread, just like <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException\" rel=\"nofollow noreferrer\">the exception&#39;s documentation</a> says you can&#39;t do."}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1685850982,"answer_count":0,"score":0,"last_activity_date":1685849910,"creation_date":1685846095,"question_id":76398746,"body_markdown":"I&#39;m still new to Android development, and for one of my projects I decided to make a simple FTP client using Apache Commons. \r\n\r\nWhenever I try to connect to the FTP server I get this error\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.ftpbuddy, PID: 6287\r\n                                                                                                    android.os.NetworkOnMainThreadException\r\n                                                                                                    \tat android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1667)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\r\n                                                                                                    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\r\n                                                                                                    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\r\n                                                                                                    \tat java.net.Socket.connect(Socket.java:646)\r\n                                                                                                    \tat org.apache.commons.net.SocketClient._connect(SocketClient.java:132)\r\n                                                                                                    \tat org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\r\n                                                                                                    \tat com.example.ftpbuddy.FTPServices.loginFtp(FTPServices.java:15)\r\n                                                                                                    \tat com.example.ftpbuddy.MainActivity$ConnectButtonHandler.onClick(MainActivity.java:38)\r\n                                                                                                    \tat android.view.View.performClick(View.java:7506)\r\n                                                                                                    \tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\r\n                                                                                                    \tat android.view.View.performClickInternal(View.java:7483)\r\n                                                                                                    \tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n                                                                                                    \tat android.view.View$PerformClick.run(View.java:29334)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:942)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                  \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\n\r\nI&#39;m not sure why this is giving me an issue. The connection details are correct, and I&#39;ve set the permissions. Here&#39;s my code\r\n\r\n**MainActivity.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText etHost;\r\n    EditText etPort;\r\n    EditText etUsername;\r\n    EditText etPassword;\r\n    Button btnConnect;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        etHost = findViewById(R.id.etHost);\r\n        etPort = findViewById(R.id.etPort);\r\n        etUsername = findViewById(R.id.etUsername);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        btnConnect = findViewById(R.id.btnConnect);\r\n\r\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\r\n    }\r\n\r\n    public class ConnectButtonHandler implements View.OnClickListener {\r\n        @Override\r\n        public void onClick(View v) {\r\n            FTPServices services = new FTPServices();\r\n            FTPClient current = services.loginFtp(\r\n                    etHost.getText().toString(),\r\n                    Integer.parseInt(etPort.getText().toString()),\r\n                    etUsername.getText().toString(),\r\n                    etPassword.getText().toString()\r\n            );\r\n\r\n            services.printDirectory(&quot;/home/gabriel&quot;, current);\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n**FTPService.java**\r\n```\r\npackage com.example.ftpbuddy;\r\n\r\n\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class FTPServices {\r\n\r\n    public FTPClient loginFtp(String host, int port, String username, String password) {\r\n        FTPClient ftpClient = new FTPClient();\r\n\r\n        try {\r\n            ftpClient.connect(host, port);\r\n            ftpClient.login(username, password);\r\n        } catch (IOException e) {\r\n            System.out.println(e.getMessage());\r\n            System.out.println(e.getCause());\r\n\r\n        }\r\n\r\n        return ftpClient;\r\n    }\r\n\r\n    public void printDirectory(String directory, FTPClient ftpClient) {\r\n\r\n        try {\r\n            for(FTPFile ftpFile : ftpClient.listFiles(directory)) {\r\n                System.out.println(ftpFile.getName());\r\n                System.out.println();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nThese are the permissions:\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\n\r\n\r\nOnce again, I&#39;m not too sure why this is happening, all the connection details are correct. If somebody could help guide me to the right direction then that would be great, thanks.","title":"Keep getting &quot;android.os.NetworkOnMainThreadException&quot;?","body":"<p>I'm still new to Android development, and for one of my projects I decided to make a simple FTP client using Apache Commons.</p>\n<p>Whenever I try to connect to the FTP server I get this error</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.example.ftpbuddy, PID: 6287\n                                                                                                    android.os.NetworkOnMainThreadException\n                                                                                                        at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1667)\n                                                                                                        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:389)\n                                                                                                        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:230)\n                                                                                                        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:212)\n                                                                                                        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:436)\n                                                                                                        at java.net.Socket.connect(Socket.java:646)\n                                                                                                        at org.apache.commons.net.SocketClient._connect(SocketClient.java:132)\n                                                                                                        at org.apache.commons.net.SocketClient.connect(SocketClient.java:268)\n                                                                                                        at com.example.ftpbuddy.FTPServices.loginFtp(FTPServices.java:15)\n                                                                                                        at com.example.ftpbuddy.MainActivity$ConnectButtonHandler.onClick(MainActivity.java:38)\n                                                                                                        at android.view.View.performClick(View.java:7506)\n                                                                                                        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1131)\n                                                                                                        at android.view.View.performClickInternal(View.java:7483)\n                                                                                                        at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n                                                                                                        at android.view.View$PerformClick.run(View.java:29334)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:942)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7872)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>I'm not sure why this is giving me an issue. The connection details are correct, and I've set the permissions. Here's my code</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport org.apache.commons.net.ftp.FTPClient;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText etHost;\n    EditText etPort;\n    EditText etUsername;\n    EditText etPassword;\n    Button btnConnect;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        etHost = findViewById(R.id.etHost);\n        etPort = findViewById(R.id.etPort);\n        etUsername = findViewById(R.id.etUsername);\n        etPassword = findViewById(R.id.etPassword);\n        btnConnect = findViewById(R.id.btnConnect);\n\n        btnConnect.setOnClickListener(new ConnectButtonHandler());\n    }\n\n    public class ConnectButtonHandler implements View.OnClickListener {\n        @Override\n        public void onClick(View v) {\n            FTPServices services = new FTPServices();\n            FTPClient current = services.loginFtp(\n                    etHost.getText().toString(),\n                    Integer.parseInt(etPort.getText().toString()),\n                    etUsername.getText().toString(),\n                    etPassword.getText().toString()\n            );\n\n            services.printDirectory(&quot;/home/gabriel&quot;, current);\n\n        }\n    }\n\n\n}\n</code></pre>\n<p><strong>FTPService.java</strong></p>\n<pre><code>package com.example.ftpbuddy;\n\n\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\n\nimport java.io.IOException;\n\npublic class FTPServices {\n\n    public FTPClient loginFtp(String host, int port, String username, String password) {\n        FTPClient ftpClient = new FTPClient();\n\n        try {\n            ftpClient.connect(host, port);\n            ftpClient.login(username, password);\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n            System.out.println(e.getCause());\n\n        }\n\n        return ftpClient;\n    }\n\n    public void printDirectory(String directory, FTPClient ftpClient) {\n\n        try {\n            for(FTPFile ftpFile : ftpClient.listFiles(directory)) {\n                System.out.println(ftpFile.getName());\n                System.out.println();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n\n}\n</code></pre>\n<p>These are the permissions:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>Once again, I'm not too sure why this is happening, all the connection details are correct. If somebody could help guide me to the right direction then that would be great, thanks.</p>\n"},{"tags":["java","google-api","java-web-start"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685849722,"post_id":76398762,"comment_id":134717627,"body_markdown":"It&#39;s not clear with you are trying to solve. I suggest to read [how to ask](https://stackoverflow.com/help/how-to-ask)","body":"It&#39;s not clear with you are trying to solve. I suggest to read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>"}],"owner":{"account_id":28631620,"reputation":1,"user_id":21922533,"display_name":"Nguyen Anh Viet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1685849054,"creation_date":1685846691,"question_id":76398762,"body_markdown":"\r\nwhen i create a java application i run successfull and can send \r\n\r\nMesseage ID: 188843b70d664da7\r\n\r\n    {\r\n      &quot;id&quot;: &quot;188843b70d664da7&quot;,\r\n      &quot;labelIds&quot;: [\r\n        &quot;UNREAD&quot;,\r\n        &quot;SENT&quot;,\r\n        &quot;INBOX&quot;\r\n      ],\r\n      &quot;threadId&quot;: &quot;188843b70d664da7&quot;\r\n    }\r\n\r\n\r\n\r\nBut when use code in java application to java web project i have a error\r\n\r\n    com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\r\n    POST https://oauth2.googleapis.com/token\r\n    {\r\n      &quot;error&quot;: &quot;invalid_grant&quot;,\r\n      &quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\r\n    }\r\n    \tat com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308)\r\n    \tat com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:324)\r\n    \tat com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:547)\r\n    \tat com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:470)\r\n    \tat com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:201)\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:880)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\r\n    \tat controller.GMAIL.sendMail(GMAIL.java:108)\r\n    \tat action.ForgotPass.doGet(ForgotPass.java:76)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n","title":"I have a problem in java when send mail by google","body":"<p>when i create a java application i run successfull and can send</p>\n<p>Messeage ID: 188843b70d664da7</p>\n<pre><code>{\n  &quot;id&quot;: &quot;188843b70d664da7&quot;,\n  &quot;labelIds&quot;: [\n    &quot;UNREAD&quot;,\n    &quot;SENT&quot;,\n    &quot;INBOX&quot;\n  ],\n  &quot;threadId&quot;: &quot;188843b70d664da7&quot;\n}\n</code></pre>\n<p>But when use code in java application to java web project i have a error</p>\n<pre><code>com.google.api.client.auth.oauth2.TokenResponseException: 400 Bad Request\nPOST https://oauth2.googleapis.com/token\n{\n  &quot;error&quot;: &quot;invalid_grant&quot;,\n  &quot;error_description&quot;: &quot;Token has been expired or revoked.&quot;\n}\n    at com.google.api.client.auth.oauth2.TokenResponseException.from(TokenResponseException.java:103)\n    at com.google.api.client.auth.oauth2.TokenRequest.executeUnparsed(TokenRequest.java:308)\n    at com.google.api.client.auth.oauth2.TokenRequest.execute(TokenRequest.java:324)\n    at com.google.api.client.auth.oauth2.Credential.executeRefreshToken(Credential.java:547)\n    at com.google.api.client.auth.oauth2.Credential.refreshToken(Credential.java:470)\n    at com.google.api.client.auth.oauth2.Credential.intercept(Credential.java:201)\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:880)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:525)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:466)\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:576)\n    at controller.GMAIL.sendMail(GMAIL.java:108)\n    at action.ForgotPass.doGet(ForgotPass.java:76)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1685849408,"post_id":76398777,"comment_id":134717607,"body_markdown":"An [XY problem](https://en.wikipedia.org/wiki/XY_problem)? I suggest that you will want to describe why you think you need this?","body":"An <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>? I suggest that you will want to describe why you think you need this?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1685851526,"post_id":76398777,"comment_id":134717716,"body_markdown":"Maybe you could do it by using bytecode engineering to *inject* a new constructor into the parent class.  But that&#39;s modifying the class.  AFAIK there&#39;s no way to do it without modifying the parent class.","body":"Maybe you could do it by using bytecode engineering to <i>inject</i> a new constructor into the parent class.  But that&#39;s modifying the class.  AFAIK there&#39;s no way to do it without modifying the parent class."},{"owner":{"account_id":190591,"reputation":199,"user_id":430665,"display_name":"tomzhi"},"score":0,"creation_date":1685859126,"post_id":76398777,"comment_id":134718061,"body_markdown":"@StephenC Thanks for the suggestion. There is a method in `Unsafe` to allocate the object without calling the constructor. But I don&#39;t know how to invoke constructors later with the desired argument. Not sure if it&#39;s even possible.","body":"@StephenC Thanks for the suggestion. There is a method in <code>Unsafe</code> to allocate the object without calling the constructor. But I don&#39;t know how to invoke constructors later with the desired argument. Not sure if it&#39;s even possible."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1685860384,"post_id":76398777,"comment_id":134718140,"body_markdown":"It isn&#39;t possible.","body":"It isn&#39;t possible."}],"answers":[{"tags":[],"owner":{"account_id":20732441,"reputation":1553,"user_id":15224052,"display_name":"Oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685848725,"creation_date":1685848725,"answer_id":76398814,"question_id":76398777,"body_markdown":"While you ask a great question, unfortunately, what you want is not possible with reflection and plain-old Java in general. It breaks encapsulation, the same reason `super.super.method()` is not permitted in Java. The design you describe is clearly something like:\r\n\r\n```java\r\n// SdkClass\r\npublic class Shape {\r\n  public Shape(boolean isRectangle) {}\r\n}\r\n\r\n// LibClass\r\npublic class Rectangle extends Shape {\r\n  public Rectangle() {\r\n    super(true);\r\n  }\r\n}\r\n\r\n// MyClass\r\npublic class Square extends Rectangle {\r\n  public Square() {\r\n    super();\r\n  }\r\n}\r\n```\r\n\r\nThe point is that `Rectangle` is designed to be a base class for all rectangular shapes.\r\n\r\nAlthough, if your application is containerized through some framework such as Spring, you could potentially leverage AOP to accomplish this: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html.","title":"Java: pass a different value to grandparent constructor","body":"<p>While you ask a great question, unfortunately, what you want is not possible with reflection and plain-old Java in general. It breaks encapsulation, the same reason <code>super.super.method()</code> is not permitted in Java. The design you describe is clearly something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// SdkClass\npublic class Shape {\n  public Shape(boolean isRectangle) {}\n}\n\n// LibClass\npublic class Rectangle extends Shape {\n  public Rectangle() {\n    super(true);\n  }\n}\n\n// MyClass\npublic class Square extends Rectangle {\n  public Square() {\n    super();\n  }\n}\n</code></pre>\n<p>The point is that <code>Rectangle</code> is designed to be a base class for all rectangular shapes.</p>\n<p>Although, if your application is containerized through some framework such as Spring, you could potentially leverage AOP to accomplish this: <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/aop.html</a>.</p>\n"}],"owner":{"account_id":190591,"reputation":199,"user_id":430665,"display_name":"tomzhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1685850889,"answer_count":1,"score":1,"last_activity_date":1685848725,"creation_date":1685847385,"question_id":76398777,"body_markdown":"I&#39;m working on a library which is based on another library Lib, which is based on an SDK.\r\n\r\nI need to have my class `MyClass` extend a class from Lib `LibClass`, which in turn extends a class from SDK `SdkClass`. In the constructor of `LibClass`, it passes a value to `SdkClass`&#39; constructor via `super(someArg)`.\r\n\r\nHowever, for my code to work, I need to pass a different argument to SdkClass while keeping the rest the same. I don&#39;t have access to the source code of Lib. Is it possible to do it with some reflection?\r\n\r\nThank you!","title":"Java: pass a different value to grandparent constructor","body":"<p>I'm working on a library which is based on another library Lib, which is based on an SDK.</p>\n<p>I need to have my class <code>MyClass</code> extend a class from Lib <code>LibClass</code>, which in turn extends a class from SDK <code>SdkClass</code>. In the constructor of <code>LibClass</code>, it passes a value to <code>SdkClass</code>' constructor via <code>super(someArg)</code>.</p>\n<p>However, for my code to work, I need to pass a different argument to SdkClass while keeping the rest the same. I don't have access to the source code of Lib. Is it possible to do it with some reflection?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","project-reactor"],"comments":[{"owner":{"account_id":1853939,"reputation":93,"user_id":1679912,"display_name":"Mahbub"},"score":1,"creation_date":1503644535,"post_id":45124660,"comment_id":78710261,"body_markdown":"this link may help you: [https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808](https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808)","body":"this link may help you: <a href=\"https://stackoverflow.com/questions/39483059/transactional-annotation-error#answer-43715808\">https://stackoverflow.com/questions/39483059/transactional-a&zwnj;&#8203;nnotation-error#answ&zwnj;&#8203;er-43715808</a>"}],"answers":[{"tags":[],"owner":{"account_id":2309888,"reputation":185,"user_id":2028254,"display_name":"levye"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542514983,"creation_date":1542514615,"answer_id":53357841,"question_id":45124660,"body_markdown":"You can assign a bean name to your OrderHandlerConsumer class so that Autowire resolution will be easier, Moreover, Instead of Autowiring with the concrete class, try to auto-wire with the interface. So that you can change @Service annotation to,\r\n\r\n    @Service(value=&quot;orderHandlerConsumer&quot;)\r\n\r\n\r\n  and try to Autowire with the interface type,  \r\n  \r\n\r\n    @Autowire  \r\n    reactor.fn.Consumer orderHandlerConsumer;","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>You can assign a bean name to your OrderHandlerConsumer class so that Autowire resolution will be easier, Moreover, Instead of Autowiring with the concrete class, try to auto-wire with the interface. So that you can change @Service annotation to,</p>\n\n<pre><code>@Service(value=\"orderHandlerConsumer\")\n</code></pre>\n\n<p>and try to Autowire with the interface type,  </p>\n\n<pre><code>@Autowire  \nreactor.fn.Consumer orderHandlerConsumer;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":10,"creation_date":1597335275,"post_id":58822288,"comment_id":112105785,"body_markdown":"@Rohan could you explain your answer please?","body":"@Rohan could you explain your answer please?"},{"owner":{"account_id":7298005,"reputation":1485,"user_id":5561990,"accept_rate":50,"display_name":"RexSplode"},"score":1,"creation_date":1610714070,"post_id":58822288,"comment_id":116225672,"body_markdown":"It is what the tip suggests in the console: Action:\n\nConsider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on &#39;@EnableAsync&#39; and/or &#39;@EnableCaching.&#39;","body":"It is what the tip suggests in the console: Action:  Consider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on &#39;@EnableAsync&#39; and/or &#39;@EnableCaching.&#39;"},{"owner":{"account_id":1923106,"reputation":4357,"user_id":1734119,"accept_rate":62,"display_name":"Chop"},"score":0,"creation_date":1652770695,"post_id":58822288,"comment_id":127679708,"body_markdown":"@RexSplode This doesn&#39;t explain the cause behind this suggestion.","body":"@RexSplode This doesn&#39;t explain the cause behind this suggestion."}],"tags":[],"owner":{"account_id":9034944,"reputation":841,"user_id":6731329,"display_name":"Rohan"},"comment_count":3,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1573574204,"creation_date":1573574204,"answer_id":58822288,"question_id":45124660,"body_markdown":"In your application class file where you define it as Spring application, add underneath it.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableCaching(proxyTargetClass = true)","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>In your application class file where you define it as Spring application, add underneath it.</p>\n\n<pre><code>@SpringBootApplication\n@EnableCaching(proxyTargetClass = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386527,"reputation":11,"user_id":4290221,"display_name":"G R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598643371,"creation_date":1584994349,"answer_id":60820911,"question_id":45124660,"body_markdown":"Please try autowiring as below\r\n\r\n    class Test{\r\n        @Autowired\r\n        private Consumer orderHandlerConsumer;\r\n    }","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>Please try autowiring as below</p>\n<pre><code>class Test{\n    @Autowired\n    private Consumer orderHandlerConsumer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1685845941,"creation_date":1643240395,"answer_id":70871595,"question_id":45124660,"body_markdown":"While the other answer will solve this issue, I think it will be more appropriate for me to explain *why* applying `proxyTargetClass = true` will fix this.\r\n\r\nFirst of all, Spring, as a framework, utilizes *proxying* in order to supply the bean with some extended functionality, such as declarative transactions via `@Transactional`, or caching by the means of `@Cacheable`, etc. There are, in general, 2 ways(*) Spring can create proxy on top of your bean:\r\n\r\n1) JDK dynamic proxying\r\n2) CGLib proxying\r\n\r\n[Official documentation][1] on this, in case you are interested.\r\n\r\nSpring can create JDK dynamic proxy of the bean (in case proxying is required for this bean of course) if original class of the bean implements at least one interface. So spring basically create another implementation of this interface at runtime with some additional logic on top of original class.\r\n\r\n**What is the problem:** if the bean is proxied by the means of JDK dynamic proxying , then **you cannot inject this bean via its original class**. Something like this:\r\n\r\n    @SpringBootApplication\r\n    @EnableTransactionManagement(proxyTargetClass = false)\r\n    public class StackoverflowApplication {\r\n    \r\n        @Autowired private SomeService service;\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StackoverflowApplication.class, args);\r\n        }\r\n    }\r\n    \r\n    @Service\r\n    class SomeService implements SomeInterface {\r\n        \r\n        @Override\r\n        @Transactional\r\n        public void handle() { }\r\n    }\r\n    \r\n    interface SomeInterface {\r\n        void handle();\r\n    }\r\n\r\nwon&#39;t work. Why? Well, because `@Transactional` tells Spring that it needs to create proxy of `SomeService` at runtime, and within `@EnableTransactionManagement` I specifically asked Spring to make it by the means of JDK dynamic proxy - Spring will succeed, since JDK dynamic proxy can be created, but the problem is at runtime there is not bean of type `SomeService`, there is only a bean of type `SomeInterface` (by the way, if you inject service here not by the class, but by the interface - it will work, I assume you understand the reason by reading explanation above).\r\n\r\n**Solution:** by applying `@EnableTransactionManagement(proxyTargetClass = true)` (notice *true* value here) you force spring to create CGLIB proxy (this rule is applicable only for beans that utilize declarative transaction management, i.e. via annotations). In case of CGLIB proxying, Spring will try to extend the original class, and add additional functionality at runtime in the generated child class. **And in this case injection by class will work** - because the bean extends class `SomeService`, so\r\n\r\n    @Autowired\r\n    private SomeService someService;\r\n\r\nwill work perfectly fine. **But, in general, if possible, inject bean by  interface, not by class**. In this case both CGLIB and JDK dynamic proxy will work. So, be aware of proxying mechanisms spring can use. Hope it helped, have a nice day.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\r\n","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>While the other answer will solve this issue, I think it will be more appropriate for me to explain <em>why</em> applying <code>proxyTargetClass = true</code> will fix this.</p>\n<p>First of all, Spring, as a framework, utilizes <em>proxying</em> in order to supply the bean with some extended functionality, such as declarative transactions via <code>@Transactional</code>, or caching by the means of <code>@Cacheable</code>, etc. There are, in general, 2 ways(*) Spring can create proxy on top of your bean:</p>\n<ol>\n<li>JDK dynamic proxying</li>\n<li>CGLib proxying</li>\n</ol>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"noreferrer\">Official documentation</a> on this, in case you are interested.</p>\n<p>Spring can create JDK dynamic proxy of the bean (in case proxying is required for this bean of course) if original class of the bean implements at least one interface. So spring basically create another implementation of this interface at runtime with some additional logic on top of original class.</p>\n<p><strong>What is the problem:</strong> if the bean is proxied by the means of JDK dynamic proxying , then <strong>you cannot inject this bean via its original class</strong>. Something like this:</p>\n<pre><code>@SpringBootApplication\n@EnableTransactionManagement(proxyTargetClass = false)\npublic class StackoverflowApplication {\n\n    @Autowired private SomeService service;\n\n    public static void main(String[] args) {\n        SpringApplication.run(StackoverflowApplication.class, args);\n    }\n}\n\n@Service\nclass SomeService implements SomeInterface {\n    \n    @Override\n    @Transactional\n    public void handle() { }\n}\n\ninterface SomeInterface {\n    void handle();\n}\n</code></pre>\n<p>won't work. Why? Well, because <code>@Transactional</code> tells Spring that it needs to create proxy of <code>SomeService</code> at runtime, and within <code>@EnableTransactionManagement</code> I specifically asked Spring to make it by the means of JDK dynamic proxy - Spring will succeed, since JDK dynamic proxy can be created, but the problem is at runtime there is not bean of type <code>SomeService</code>, there is only a bean of type <code>SomeInterface</code> (by the way, if you inject service here not by the class, but by the interface - it will work, I assume you understand the reason by reading explanation above).</p>\n<p><strong>Solution:</strong> by applying <code>@EnableTransactionManagement(proxyTargetClass = true)</code> (notice <em>true</em> value here) you force spring to create CGLIB proxy (this rule is applicable only for beans that utilize declarative transaction management, i.e. via annotations). In case of CGLIB proxying, Spring will try to extend the original class, and add additional functionality at runtime in the generated child class. <strong>And in this case injection by class will work</strong> - because the bean extends class <code>SomeService</code>, so</p>\n<pre><code>@Autowired\nprivate SomeService someService;\n</code></pre>\n<p>will work perfectly fine. <strong>But, in general, if possible, inject bean by  interface, not by class</strong>. In this case both CGLIB and JDK dynamic proxy will work. So, be aware of proxying mechanisms spring can use. Hope it helped, have a nice day.</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652533993,"creation_date":1652533993,"answer_id":72240546,"question_id":45124660,"body_markdown":"&gt; If the target object to be proxied implements at least one interface\r\n&gt; then a JDK dynamic proxy will be used. All of the interfaces\r\n&gt; implemented by the target type will be proxied. If the target object\r\n&gt; does not implement any interfaces then a CGLIB proxy will be created.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\r\n\r\n**You can call it two ways.** \r\n\r\n*1st way is without mentioning the proxy [with default proxy]*, you can Autowire it by the interface like below.\r\n\r\n```java\r\n@Autowired\r\nprivate Consumer orderHandlerConsumer;\r\n```\r\nSpring AOP will create an instance for ```OrderHandlerConsumer```.\r\n\r\n*2nd way is, mention the proxy in the bean as ```ScopedProxyMode.TARGET_CLASS```.\r\nthen you can Autowire an instance without the interface [based on the class].* \r\n\r\n```java\r\n@Service\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\r\n    @Override\r\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\r\n        event.getData().getLatch().countDown();\r\n    }\r\n}\r\n```\r\nand Autowire by the class like below.\r\n```java\r\n@Autowired\r\nprivate OrderHandlerConsumer orderHandlerConsumer;\r\n```\r\n","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<blockquote>\n<p>If the target object to be proxied implements at least one interface\nthen a JDK dynamic proxy will be used. All of the interfaces\nimplemented by the target type will be proxied. If the target object\ndoes not implement any interfaces then a CGLIB proxy will be created.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch08s06.html</a></p>\n<p><strong>You can call it two ways.</strong></p>\n<p><em>1st way is without mentioning the proxy [with default proxy]</em>, you can Autowire it by the interface like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate Consumer orderHandlerConsumer;\n</code></pre>\n<p>Spring AOP will create an instance for <code>OrderHandlerConsumer</code>.</p>\n<p><em>2nd way is, mention the proxy in the bean as <code>ScopedProxyMode.TARGET_CLASS</code>.\nthen you can Autowire an instance without the interface [based on the class].</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@Scope(value = ConfigurableBeanFactory.SCOPE_SINGLETON, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\n    @Override\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\n        event.getData().getLatch().countDown();\n    }\n}\n</code></pre>\n<p>and Autowire by the class like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate OrderHandlerConsumer orderHandlerConsumer;\n</code></pre>\n"}],"owner":{"account_id":4068081,"reputation":10971,"user_id":3342253,"accept_rate":94,"display_name":"Jan Nielsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32920,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":70871595,"answer_count":5,"score":37,"last_activity_date":1685845941,"creation_date":1500175287,"question_id":45124660,"body_markdown":"My Spring 4 application, which uses Reactor 2, fails to start with:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The bean &#39;orderHandlerConsumer&#39; could not be injected as a &#39;fm.data.repository.OrderHandlerConsumer&#39; because it is a JDK dynamic proxy that implements:\r\n    \treactor.fn.Consumer\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on @EnableAsync and/or @EnableCaching.\r\n\r\nThe `OrderHandlerConsumer` is really simple:\r\n\r\n    @Service\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\r\n    \t@Override\r\n    \tpublic void accept(Event&lt;OrderEnvelope&gt; event) {\r\n    \t\tevent.getData().getLatch().countDown();\r\n    \t}\r\n    }\r\n\r\nAny ideas what might be going awry?","title":"The bean could not be injected as a &#39;Type&#39; because it is a JDK dynamic proxy that implements: reactor.fn.Consumer","body":"<p>My Spring 4 application, which uses Reactor 2, fails to start with:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe bean 'orderHandlerConsumer' could not be injected as a 'fm.data.repository.OrderHandlerConsumer' because it is a JDK dynamic proxy that implements:\n    reactor.fn.Consumer\n\n\nAction:\n\nConsider injecting the bean as one of its interfaces or forcing the use of CGLib-based proxies by setting proxyTargetClass=true on @EnableAsync and/or @EnableCaching.\n</code></pre>\n\n<p>The <code>OrderHandlerConsumer</code> is really simple:</p>\n\n<pre><code>@Service\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class OrderHandlerConsumer implements Consumer&lt;Event&lt;OrderEnvelope&gt;&gt; {\n    @Override\n    public void accept(Event&lt;OrderEnvelope&gt; event) {\n        event.getData().getLatch().countDown();\n    }\n}\n</code></pre>\n\n<p>Any ideas what might be going awry?</p>\n"},{"tags":["java","eclipse","http"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1685806090,"post_id":76396686,"comment_id":134714074,"body_markdown":"Look at &quot;Java &gt; Appearance &gt; Type Filters&quot; in the Preferences. They are probably filterered out there.","body":"Look at &quot;Java &gt; Appearance &gt; Type Filters&quot; in the Preferences. They are probably filterered out there."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1685807377,"post_id":76396686,"comment_id":134714199,"body_markdown":"If I am not mistaken, unless you are using an old version of Java, anything outside `java` and `javax` packages aren&#39;t directly accessible to developers. What Java version are you using?","body":"If I am not mistaken, unless you are using an old version of Java, anything outside <code>java</code> and <code>javax</code> packages aren&#39;t directly accessible to developers. What Java version are you using?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685845855,"creation_date":1685845855,"answer_id":76398739,"question_id":76396686,"body_markdown":"This is explained in [Oracle&#39;s Java FAQ page][1]. The reason is that packages under sun.* and any other packages that come with the Java/JDK distribution are not part of the Java standard. They are implementation classes that come with no guarantee of compatibility or stability. Developers are advised against using them to prevent breaking their applications when new versions of Java are released. This has caused problems in the past. It should not be used in production applications.\r\n\r\nAlso note that the class that you are trying to use is extremely limited in functionality and doesn&#39;t resemble real HTTP application development.  \r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/faq-sun-packages.html","title":"Why does Eclipse not show import suggestions for packages in System Libraries like com.sun.net.httpserver?","body":"<p>This is explained in <a href=\"https://www.oracle.com/java/technologies/faq-sun-packages.html\" rel=\"nofollow noreferrer\">Oracle's Java FAQ page</a>. The reason is that packages under sun.* and any other packages that come with the Java/JDK distribution are not part of the Java standard. They are implementation classes that come with no guarantee of compatibility or stability. Developers are advised against using them to prevent breaking their applications when new versions of Java are released. This has caused problems in the past. It should not be used in production applications.</p>\n<p>Also note that the class that you are trying to use is extremely limited in functionality and doesn't resemble real HTTP application development.</p>\n"}],"owner":{"account_id":28744521,"reputation":1,"user_id":22013957,"display_name":"orange2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1685845855,"creation_date":1685805367,"question_id":76396686,"body_markdown":"I&#39;ve been trying to learn networking/server development on Java without the use of any frameworks. The first option that came to me was the HttpServer class which is defaulted in System Libraies under the com.sun.net.httpserver package. I noticed however, that I have to manually import this package every time, Eclipse isn&#39;t showing the import suggestions like it does normal system library packages. After testing around I noticed it&#39;s doing this for a lot of the system library packages, mostly ones starting with jdk (jdk.httpserver for example which is where the com.sun.net.httpserver package is).\r\n\r\nI&#39;ve tried manually adding the package to the build path, I uninstalled and reinstalled eclipse, I&#39;ve tried a different JRE&#39;s and nothing has worked so far.","title":"Why does Eclipse not show import suggestions for packages in System Libraries like com.sun.net.httpserver?","body":"<p>I've been trying to learn networking/server development on Java without the use of any frameworks. The first option that came to me was the HttpServer class which is defaulted in System Libraies under the com.sun.net.httpserver package. I noticed however, that I have to manually import this package every time, Eclipse isn't showing the import suggestions like it does normal system library packages. After testing around I noticed it's doing this for a lot of the system library packages, mostly ones starting with jdk (jdk.httpserver for example which is where the com.sun.net.httpserver package is).</p>\n<p>I've tried manually adding the package to the build path, I uninstalled and reinstalled eclipse, I've tried a different JRE's and nothing has worked so far.</p>\n"},{"tags":["java","algorithm","matrix","depth-first-search"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1685839357,"post_id":76398253,"comment_id":134717178,"body_markdown":"storing information about visited cells (`grid[x][y] = &#39;0&#39;`) drastically reduces time complexity of the algorithm: you may hit a cell either via outer `MxN` loop or via neighbour cell in inner loop, since every cell has at most 4 neighbours and you store information about visited cells (i.e. you can&#39;t hit the cell via the same neighbour twice), you hit every cell at most 6 (5 reads and 1 write) times.","body":"storing information about visited cells (<code>grid[x][y] = &#39;0&#39;</code>) drastically reduces time complexity of the algorithm: you may hit a cell either via outer <code>MxN</code> loop or via neighbour cell in inner loop, since every cell has at most 4 neighbours and you store information about visited cells (i.e. you can&#39;t hit the cell via the same neighbour twice), you hit every cell at most 6 (5 reads and 1 write) times."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1685834446,"creation_date":1685834446,"answer_id":76398390,"question_id":76398253,"body_markdown":"Your analysis is incorrect. It&#39;s an interesting case, because this is quite tricky, but, it really is `O(m*n)`. Let&#39;s first try to intuit what is going on without yet trying to go for a rigorous proof.\r\n\r\nIf the map is a smattering of tiny islands, you&#39;ll be &#39;island-filling&#39; a lot, but each island fill operation is extremely fast: There won&#39;t be any land around your &#39;1&#39; at all, so you push the coords to the stack, then go through the &#39;pop it and scan the neighbours; any neighbouring land is added to the stack&#39; song and dance routine which goes through only once because there is no new land to add. So, you&#39;ll be doing about `O(m*n)` landscans, but each landscan has `O(1)` performance, for a grand total of just `O(m*n)`.\r\n\r\nIf, on the other hand, the map is 1 or 2 very large islands, your &#39;island-fill&#39; is far more expensive. About `O(m*n)` more expensive in the obvious case of one gigantic land (an input that is _all_ 1 values). However, the amount of landscans you do here is `O(1)`, so it still adds up to only `O(m*n)`.\r\n\r\nPerhaps you&#39;ve realized the tricky part: These 2 things __are in balance__ - the most middling input (as in, neither &#39;smattering of tiny islands&#39; nor &#39;one giant island&#39;, but, a few medium size islands) has performance of `O(sqrt(m*n))` landfills to do, and each landfill&#39;s performance characteristic is, roughly speaking, also `O(sqrt(m*n))`. Multiply those together and you get back to just `O(m*n)`.\r\n\r\nA rigorous proof of that is somewhat more difficult. This can happen with big-O notation. The trick is: The concept of worst-case scenario cannot __necessarily__ be lopped up into individual pieces.\r\n\r\n* Yes, for any given land-scan, the worst case is `O(m*n)`, sure.\r\n* Yes, the amount of cells you need to go through and do the landscan for, worst case, is `O(m*n)`, sure.\r\n\r\nAnd _usually_ you can just multiply that together and be done with it. But if the worst cases are in balance (if one sub-section exhibiting worst-case __guarantees__ the other ends up exhibiting best-case), then that may be an overly hasty conclusion. It then depends on how they are related: If trying to average-case them both gives you half on each, you get `O(&#189; m*n) * `O(&#189; m*n)` which is, of course, still `O((m*n)&#178;` once you ditch the constant factors. But in this case, the &#39;middle&#39; case square roots and that __is__ the same &#39;order of magnitude&#39;, and therefore that really does mean you can&#39;t just multiply em together.\r\n\r\nFiguring that out can indeed be tricky.\r\n","title":"Time Complexity of Number of Islands Question","body":"<p>Your analysis is incorrect. It's an interesting case, because this is quite tricky, but, it really is <code>O(m*n)</code>. Let's first try to intuit what is going on without yet trying to go for a rigorous proof.</p>\n<p>If the map is a smattering of tiny islands, you'll be 'island-filling' a lot, but each island fill operation is extremely fast: There won't be any land around your '1' at all, so you push the coords to the stack, then go through the 'pop it and scan the neighbours; any neighbouring land is added to the stack' song and dance routine which goes through only once because there is no new land to add. So, you'll be doing about <code>O(m*n)</code> landscans, but each landscan has <code>O(1)</code> performance, for a grand total of just <code>O(m*n)</code>.</p>\n<p>If, on the other hand, the map is 1 or 2 very large islands, your 'island-fill' is far more expensive. About <code>O(m*n)</code> more expensive in the obvious case of one gigantic land (an input that is <em>all</em> 1 values). However, the amount of landscans you do here is <code>O(1)</code>, so it still adds up to only <code>O(m*n)</code>.</p>\n<p>Perhaps you've realized the tricky part: These 2 things <strong>are in balance</strong> - the most middling input (as in, neither 'smattering of tiny islands' nor 'one giant island', but, a few medium size islands) has performance of <code>O(sqrt(m*n))</code> landfills to do, and each landfill's performance characteristic is, roughly speaking, also <code>O(sqrt(m*n))</code>. Multiply those together and you get back to just <code>O(m*n)</code>.</p>\n<p>A rigorous proof of that is somewhat more difficult. This can happen with big-O notation. The trick is: The concept of worst-case scenario cannot <strong>necessarily</strong> be lopped up into individual pieces.</p>\n<ul>\n<li>Yes, for any given land-scan, the worst case is <code>O(m*n)</code>, sure.</li>\n<li>Yes, the amount of cells you need to go through and do the landscan for, worst case, is <code>O(m*n)</code>, sure.</li>\n</ul>\n<p>And <em>usually</em> you can just multiply that together and be done with it. But if the worst cases are in balance (if one sub-section exhibiting worst-case <strong>guarantees</strong> the other ends up exhibiting best-case), then that may be an overly hasty conclusion. It then depends on how they are related: If trying to average-case them both gives you half on each, you get <code>O(½ m*n) * </code>O(½ m<em>n)<code>which is, of course, still</code>O((m</em>n)²` once you ditch the constant factors. But in this case, the 'middle' case square roots and that <strong>is</strong> the same 'order of magnitude', and therefore that really does mean you can't just multiply em together.</p>\n<p>Figuring that out can indeed be tricky.</p>\n"},{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1685843098,"creation_date":1685835914,"answer_id":76398440,"question_id":76398253,"body_markdown":"Your algorithm is O(mn).\r\n\r\nYou are correct that the outer loops visit each element once, so that costs O(mn).\r\n\r\nThe inner while loop is started mn times as well, and *sometimes* it may do O(mn) iterations after it starts, but how many iterations of this loop are there *in total*?  If you estimate using mn starts times O(mn) iterations, you miss an important consideration.\r\n\r\nIf you write your algorithm exactly right, then each iteration of the while loop corresponds to a 1 changing to a 0.  Since there can be at most mn 1s in the matrix, the total number of while loop iterations can be at most mn *all together*.\r\n\r\nBecause you didn&#39;t write it exactly right, you can get up to 4 stack elements when a 1 changes to a 0, but 4mn is still in O(mn), so it still works in O(mn) time.","title":"Time Complexity of Number of Islands Question","body":"<p>Your algorithm is O(mn).</p>\n<p>You are correct that the outer loops visit each element once, so that costs O(mn).</p>\n<p>The inner while loop is started mn times as well, and <em>sometimes</em> it may do O(mn) iterations after it starts, but how many iterations of this loop are there <em>in total</em>?  If you estimate using mn starts times O(mn) iterations, you miss an important consideration.</p>\n<p>If you write your algorithm exactly right, then each iteration of the while loop corresponds to a 1 changing to a 0.  Since there can be at most mn 1s in the matrix, the total number of while loop iterations can be at most mn <em>all together</em>.</p>\n<p>Because you didn't write it exactly right, you can get up to 4 stack elements when a 1 changes to a 0, but 4mn is still in O(mn), so it still works in O(mn) time.</p>\n"}],"owner":{"account_id":8992767,"reputation":125,"user_id":6704137,"display_name":"Stacking_Flow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76398390,"answer_count":2,"score":1,"last_activity_date":1685843098,"creation_date":1685831051,"question_id":76398253,"body_markdown":"This question has been asked several times on StackOverflow, but I ask again because it has been poorly answered or explained.\r\n\r\nThere is a question on LeetCode, link is here: [LeetCode Question Link][1]\r\n\r\n\r\n  [1]: https://leetcode.com/problems/number-of-islands/description/\r\n\r\nWhere you have to find the number of islands (represented as &quot;1&quot;s) on a matrix.\r\n\r\nThis is my iterative depth first search (DFS) solution to the question:\r\n\r\n    public int numIslands(char[][] grid) {\r\n        Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\r\n        int counter = 0;\r\n        int northBound = 0;\r\n        int eastBound = grid[0].length - 1;\r\n        int southBound = grid.length - 1;\r\n        int westBound = 0;\r\n        \r\n        for (int i = 0; i &lt; grid.length; i++) {\r\n            for (int j = 0; j &lt; grid[0].length; j++) {\r\n                if (grid[i][j] == &#39;1&#39;) {\r\n                    stack.add(i);\r\n                    stack.add(j);\r\n                    counter += 1;\r\n\r\n                    while (stack.size() &gt; 0) {\r\n                        int y = (int) stack.pop();\r\n                        int x = (int) stack.pop();\r\n                        grid[x][y] = &#39;0&#39;;\r\n\r\n                        if (x-1 &gt;= northBound &amp;&amp; grid[x-1][y] == &#39;1&#39;) {\r\n                            stack.push(x-1);\r\n                            stack.push(y);\r\n                        }\r\n\r\n                        if (y+1 &lt;= eastBound &amp;&amp; grid[x][y+1] == &#39;1&#39;) {\r\n                            stack.push(x);\r\n                            stack.push(y+1);\r\n                        }\r\n\r\n                        if (x+1 &lt;= southBound &amp;&amp; grid[x+1][y] == &#39;1&#39;) {\r\n                            stack.push(x+1);\r\n                            stack.push(y);\r\n                        }\r\n\r\n                        if (y-1 &gt;= westBound &amp;&amp; grid[x][y-1] == &#39;1&#39;) {\r\n                            stack.push(x);\r\n                            stack.push(y-1);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return counter;\r\n    }\r\n\r\nMost people used a recursive solution, but it seems like the general consensus is that the time complexity of a DFS solution to this question is O(m * n), where m is the number of rows and n is the number of columns in the matrix.\r\n\r\nOn the contrary, when I look at my solution, I think that the time complexity is O((m * n)^2). Firstly, we can see that the two outer for loops visit each matrix element once, so that is O(m * n). However, at each element that the two outer for loops visit, it may visit anywhere between 1 and m * n other elements, depending on the number of adjacent elements with 1s. Therefore, the composite time complexity can be `O((m*n) * (m*n))`.\r\n\r\nWhat is the explanation for my complexity analysis being incorrect? Why did others ignore the complexity of the innermost while loop? Thanks","title":"Time Complexity of Number of Islands Question","body":"<p>This question has been asked several times on StackOverflow, but I ask again because it has been poorly answered or explained.</p>\n<p>There is a question on LeetCode, link is here: <a href=\"https://leetcode.com/problems/number-of-islands/description/\" rel=\"nofollow noreferrer\">LeetCode Question Link</a></p>\n<p>Where you have to find the number of islands (represented as &quot;1&quot;s) on a matrix.</p>\n<p>This is my iterative depth first search (DFS) solution to the question:</p>\n<pre><code>public int numIslands(char[][] grid) {\n    Stack&lt;Integer&gt; stack = new Stack&lt;&gt;();\n    int counter = 0;\n    int northBound = 0;\n    int eastBound = grid[0].length - 1;\n    int southBound = grid.length - 1;\n    int westBound = 0;\n    \n    for (int i = 0; i &lt; grid.length; i++) {\n        for (int j = 0; j &lt; grid[0].length; j++) {\n            if (grid[i][j] == '1') {\n                stack.add(i);\n                stack.add(j);\n                counter += 1;\n\n                while (stack.size() &gt; 0) {\n                    int y = (int) stack.pop();\n                    int x = (int) stack.pop();\n                    grid[x][y] = '0';\n\n                    if (x-1 &gt;= northBound &amp;&amp; grid[x-1][y] == '1') {\n                        stack.push(x-1);\n                        stack.push(y);\n                    }\n\n                    if (y+1 &lt;= eastBound &amp;&amp; grid[x][y+1] == '1') {\n                        stack.push(x);\n                        stack.push(y+1);\n                    }\n\n                    if (x+1 &lt;= southBound &amp;&amp; grid[x+1][y] == '1') {\n                        stack.push(x+1);\n                        stack.push(y);\n                    }\n\n                    if (y-1 &gt;= westBound &amp;&amp; grid[x][y-1] == '1') {\n                        stack.push(x);\n                        stack.push(y-1);\n                    }\n                }\n            }\n        }\n    }\n\n    return counter;\n}\n</code></pre>\n<p>Most people used a recursive solution, but it seems like the general consensus is that the time complexity of a DFS solution to this question is O(m * n), where m is the number of rows and n is the number of columns in the matrix.</p>\n<p>On the contrary, when I look at my solution, I think that the time complexity is O((m * n)^2). Firstly, we can see that the two outer for loops visit each matrix element once, so that is O(m * n). However, at each element that the two outer for loops visit, it may visit anywhere between 1 and m * n other elements, depending on the number of adjacent elements with 1s. Therefore, the composite time complexity can be <code>O((m*n) * (m*n))</code>.</p>\n<p>What is the explanation for my complexity analysis being incorrect? Why did others ignore the complexity of the innermost while loop? Thanks</p>\n"},{"tags":["java","javafx","javafx-webengine","jsobject"],"comments":[{"owner":{"account_id":5237964,"reputation":6741,"user_id":4185959,"accept_rate":64,"display_name":"Itai"},"score":1,"creation_date":1507987913,"post_id":46744432,"comment_id":80436210,"body_markdown":"It is not too far-fetched that the `JSObject` only holds weak references to the members passed to it. Could you try holding a reference to the `Bridge` instance? (It appears as if you meant to, but then you create a whole new one for the `JSObject`...)","body":"It is not too far-fetched that the <code>JSObject</code> only holds weak references to the members passed to it. Could you try holding a reference to the <code>Bridge</code> instance? (It appears as if you meant to, but then you create a whole new one for the <code>JSObject</code>...)"},{"owner":{"account_id":10178879,"reputation":75,"user_id":7516499,"display_name":"Matt Chad"},"score":0,"creation_date":1507995063,"post_id":46744432,"comment_id":80438431,"body_markdown":"@sillyfly actually, you&#39;re right. Inexplicably I passed a new instance of Bridge and I don&#39;t why, javafx seems a little intolerant to local assignment like that. Thanks a lot.","body":"@sillyfly actually, you&#39;re right. Inexplicably I passed a new instance of Bridge and I don&#39;t why, javafx seems a little intolerant to local assignment like that. Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":1794949,"reputation":176,"user_id":1634547,"accept_rate":100,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1520930505,"creation_date":1518355684,"answer_id":48731982,"question_id":46744432,"body_markdown":"To make the solution more obvious: the approach suggested by @sillyfly works.\r\n\r\nInstead of creating a new `Bridge` (or in my case `Console`) instance for every state change, make a single instance and reassign it every time. Something along the following lines.\r\n\r\n    public class AppController {\r\n        public WebView webview;\r\n    \r\n        @FXML\r\n        public void initialize() {\r\n            final Console console = new Console();\r\n            final WebEngine engine = webview.getEngine();\r\n            engine.setJavaScriptEnabled(true);\r\n            engine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\r\n                @Override\r\n                public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\r\n                    final JSObject window = (JSObject) engine.executeScript(&quot;window&quot;);\r\n                    window.setMember(&quot;console&quot;, console);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class Console {\r\n            public void log(String text) {\r\n                System.out.println(&quot;[WebView console] &quot; + text);\r\n            }\r\n        }\r\n    }","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>To make the solution more obvious: the approach suggested by @sillyfly works.</p>\n\n<p>Instead of creating a new <code>Bridge</code> (or in my case <code>Console</code>) instance for every state change, make a single instance and reassign it every time. Something along the following lines.</p>\n\n<pre><code>public class AppController {\n    public WebView webview;\n\n    @FXML\n    public void initialize() {\n        final Console console = new Console();\n        final WebEngine engine = webview.getEngine();\n        engine.setJavaScriptEnabled(true);\n        engine.getLoadWorker().stateProperty().addListener(new ChangeListener&lt;Worker.State&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Worker.State&gt; observable, Worker.State oldValue, Worker.State newValue) {\n                final JSObject window = (JSObject) engine.executeScript(\"window\");\n                window.setMember(\"console\", console);\n            }\n        });\n    }\n\n    public class Console {\n        public void log(String text) {\n            System.out.println(\"[WebView console] \" + text);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28746934,"reputation":1,"user_id":22015861,"display_name":"JES510"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685842936,"creation_date":1685842669,"answer_id":76398644,"question_id":46744432,"body_markdown":"Note that the Java objects bound using JSObject.setMember, JSObject.setSlot, and JSObject.call are implemented using weak references. This means that the Java object can be garbage collected, causing subsequent accesses to the JavaScript objects to have no effect.\r\n\r\nhttps://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html\r\n\r\nin your case when declaring new Bridge() the collector subsequently destroys it, declares it as a global variable and then passes it by parameter to setMember()","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>Note that the Java objects bound using JSObject.setMember, JSObject.setSlot, and JSObject.call are implemented using weak references. This means that the Java object can be garbage collected, causing subsequent accesses to the JavaScript objects to have no effect.</p>\n<p><a href=\"https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html\" rel=\"nofollow noreferrer\">https://openjfx.io/javadoc/17/javafx.web/javafx/scene/web/WebEngine.html</a></p>\n<p>in your case when declaring new Bridge() the collector subsequently destroys it, declares it as a global variable and then passes it by parameter to setMember()</p>\n"}],"owner":{"account_id":10178879,"reputation":75,"user_id":7516499,"display_name":"Matt Chad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":48731982,"answer_count":2,"score":5,"last_activity_date":1685842936,"creation_date":1507983387,"question_id":46744432,"body_markdown":"I&#39;m making a web based app with Java support for some particular requests (e.g. print without choosing the printer everytime) and there is something that id driving me **crazy**.\r\n\r\nI use JavaFX for instantiate the browser object and everything works fine, but of course I need to make callbacks from JavaScript to Java, here is the code:\r\n\r\n    ...\r\n    ...\r\n    we.getLoadWorker().stateProperty().addListener( new ChangeListener&lt;Worker.State&gt;()\r\n        {\r\n\t\t\t@Override\r\n\t\t\tpublic void changed(ObservableValue&lt;? extends State&gt; observable, State oldValue, State newValue)\r\n\t\t\t{\r\n\t\t\t\tif ( newValue == Worker.State.SUCCEEDED )\r\n\t            {\r\n\t                bridge = new Bridge();\r\n\t                JSObject jsobj = (JSObject) we.executeScript( &quot;window&quot; );\r\n\t                jsobj.setMember( &quot;app&quot;, new Bridge() );\r\n\t            }\r\n\r\n\t\t\t\tif ( newValue == Worker.State.CANCELLED )\r\n\t            {\r\n\t\t\t\t\tSystem.out.println( newValue );\r\n\t\t\t\t\tSystem.out.println( &quot;An error accourred&quot; );\r\n\t            }\r\n\t\t\t}\r\n        });\r\n        ...\r\n        ...\r\n\r\nThis works but after a few minutesthe bridge stoo working totally, javascript can&#39;t make callbacks anymore and if I try to make an alert() on the &quot;app&quot; object it return me undefined.\r\nI&#39;m using JDK9","title":"JavaFX JSObject stop working after a few minutes?","body":"<p>I'm making a web based app with Java support for some particular requests (e.g. print without choosing the printer everytime) and there is something that id driving me <strong>crazy</strong>.</p>\n\n<p>I use JavaFX for instantiate the browser object and everything works fine, but of course I need to make callbacks from JavaScript to Java, here is the code:</p>\n\n<pre><code>...\n...\nwe.getLoadWorker().stateProperty().addListener( new ChangeListener&lt;Worker.State&gt;()\n    {\n        @Override\n        public void changed(ObservableValue&lt;? extends State&gt; observable, State oldValue, State newValue)\n        {\n            if ( newValue == Worker.State.SUCCEEDED )\n            {\n                bridge = new Bridge();\n                JSObject jsobj = (JSObject) we.executeScript( \"window\" );\n                jsobj.setMember( \"app\", new Bridge() );\n            }\n\n            if ( newValue == Worker.State.CANCELLED )\n            {\n                System.out.println( newValue );\n                System.out.println( \"An error accourred\" );\n            }\n        }\n    });\n    ...\n    ...\n</code></pre>\n\n<p>This works but after a few minutesthe bridge stoo working totally, javascript can't make callbacks anymore and if I try to make an alert() on the \"app\" object it return me undefined.\nI'm using JDK9</p>\n"},{"tags":["java","arrays","algorithm","sum","brute-force"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1504482285,"post_id":46028717,"comment_id":79017483,"body_markdown":"If your code **works** (gives correct results) but you are looking for a way to improve it you should move your question to https://codereview.stackexchange.com/","body":"If your code <b>works</b> (gives correct results) but you are looking for a way to improve it you should move your question to <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":11686695,"reputation":393,"user_id":8556265,"display_name":"John Bonata"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504484004,"creation_date":1504484004,"answer_id":46028875,"question_id":46028717,"body_markdown":"What you are trying to do is get permutations of an array. Using each permutation, you can then total the values if desired. There is another StackExchange hosted site that allows code review to be done. You may want to compare against other&#39;s algorithms:\r\n\r\nhttps://stackoverflow.com/questions/2920315/permutation-of-array\r\n\r\nhttps://stackoverflow.com/questions/30387185/print-out-all-permutations-of-an-array","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>What you are trying to do is get permutations of an array. Using each permutation, you can then total the values if desired. There is another StackExchange hosted site that allows code review to be done. You may want to compare against other's algorithms:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2920315/permutation-of-array\">Permutation of array</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30387185/print-out-all-permutations-of-an-array\">Print out all permutations of an Array</a></p>\n"},{"tags":[],"owner":{"account_id":449564,"reputation":78084,"user_id":844416,"display_name":"MBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504494030,"creation_date":1504492260,"answer_id":46029565,"question_id":46028717,"body_markdown":"Your approach starts like effective dynamic-programming algorithm for subset-sum problem (your task is kind of this problem) but seems it does not reuse calculated data. Note that counting the number of possible variants using DP takes pseudo-polynomial time O(N*Sum), while output of all variants grows exponentially.\r\n\r\nYou can store already calculated subtasks in additional array/list - this is `memoization` (up-to-down) approach, it is easy to modify recursion to exploit it.\r\n\r\nAnother DP approach - bottom-up table filling:\r\n\r\n     Make array Sol[n+1] of lists of lists\r\n     For every input item X:\r\n          Scan Sol array from the last to the first index i\r\n             if (i==X) or (Sol[i-X] is not empty): \r\n                   Add all Sol[i-X][j]+X to  Sol[X] list\r\n\r\n      example for [1,2,3,5] array after outer loops:\r\n      [] [1] []...\r\n      [] [[1]] [[2]] [[1,2]]...\r\n      [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3]] [[1,2,3]]\r\n      [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3],[5]] [[1,2,3],[1,5]] \r\n           [[2,5]] [[1,2,5],[3,5]] [[1,3,5]] [[2,3,5]] [[1,2,3,5]]\r\n              ","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>Your approach starts like effective dynamic-programming algorithm for subset-sum problem (your task is kind of this problem) but seems it does not reuse calculated data. Note that counting the number of possible variants using DP takes pseudo-polynomial time O(N*Sum), while output of all variants grows exponentially.</p>\n\n<p>You can store already calculated subtasks in additional array/list - this is <code>memoization</code> (up-to-down) approach, it is easy to modify recursion to exploit it.</p>\n\n<p>Another DP approach - bottom-up table filling:</p>\n\n<pre><code> Make array Sol[n+1] of lists of lists\n For every input item X:\n      Scan Sol array from the last to the first index i\n         if (i==X) or (Sol[i-X] is not empty): \n               Add all Sol[i-X][j]+X to  Sol[X] list\n\n  example for [1,2,3,5] array after outer loops:\n  [] [1] []...\n  [] [[1]] [[2]] [[1,2]]...\n  [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3]] [[1,2,3]]\n  [] [[1]] [[2]] [[1,2],[3]] [[1,3]] [[2,3],[5]] [[1,2,3],[1,5]] \n       [[2,5]] [[1,2,5],[3,5]] [[1,3,5]] [[2,3,5]] [[1,2,3,5]]\n</code></pre>\n"}],"owner":{"account_id":9167980,"reputation":36,"user_id":6816760,"display_name":"Nick B."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1098,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1685841594,"creation_date":1504481976,"question_id":46028717,"body_markdown":"I was thinking about an algorithm to this problem:\r\n\r\nImagine we have the following array \r\n\r\n    a = {1, 2, 4, 5, 7}\r\n\r\nand want to get all possible sums out of these numbers that are equal to a given number `N` (The order of the summands isn&#39;t interesting for now).\r\n\r\nIn case of `N=8` a few valid answers are:\r\n\r\n&gt; 1+2+5&lt;br&gt;1+7&lt;br&gt;2+2+2+2&lt;br&gt;...\r\n\r\nSo now I will explain you my approach.\r\n\r\nFirst of all we make a new array `b` of the length `N+1` and put every number `x` from array `a` to the array `b` at index `[N-x]` and fill the remaining elements with -1.  \r\nThis should create the following array:\r\n\r\n    b = {-1, 7, -1, 5, 4, -1, 2, 1, -1}\r\n\r\nAs you can see every element of b that is not -1 needs to be added to its index to get `N`. (Example: `b[1]=7` =&gt; Index = 1, value = 7 =&gt; 7+1=8=`N`)\r\n\r\nWhat we do now is, we go through every index `x` of this array where `b[x]!=-1` and start the whole process from the beginning but this time we say `N=x` so that we get all possible sums to get the index `x` which (as shown above) is the value we need to add to the value of the element at `b[x]`.\r\n\r\nWe do all of this recursively and as soon as we get to a point where an index is equal to 0, we print the whole chain of summands.\r\n\r\nI implemented this in Java and it works fine:\r\n\r\n    public static void main(String[] args) {\r\n    \t\tint[]numbers = {1, 2, 4, 5, 7};\r\n    \t\tint n = 8;\r\n    \t\t\r\n    \t\tnumbers = summandArray(numbers, n);\r\n    \t\tprintArray(numbers);\r\n    \t\t\r\n    \t\t\r\n    \t\tgetSums(numbers, n, &quot;&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void getSums(int[] numbers, int n, String summands) {\r\n    \t\tString startSummands = summands;\r\n    \t\tfor(int i = 0; i &lt; numbers.length; i++) {\r\n    \t\t\tsummands = startSummands;\r\n    \t\t\tif(numbers[i] != -1) {\r\n    \t\t\t\tint neededSummand = i;\r\n    \t\t\t\tif(neededSummand == 0) {\r\n    \t\t\t\t\tsummands+=numbers[i];\r\n    \t\t\t\t\tSystem.out.println(summands);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tint[] newNumbers = summandArray(numbers, neededSummand);\r\n    \t\t\t\t\tsummands+=numbers[i]+&quot;+&quot;;\r\n    \t\t\t\t\tgetSums(newNumbers, neededSummand, summands);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static int[] summandArray(int[] array, int n) {\r\n    \t\tint[] result = new int[n+1];\r\n    \t\tfor(int i = 0; i &lt; result.length; i++) {\r\n    \t\t\tresult[i] = -1;\r\n    \t\t}\r\n    \t\tfor(int i = 0; i &lt; array.length; i++) {\r\n    \t\t\tif(array[i] &lt;= n &amp;&amp; array[i] != -1) {\r\n    \t\t\t\tint index = n-array[i];\r\n    \t\t\t\tresult[index] = array[i];\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n\r\nHowever I am not too sure about how well the algorithm performs. I mean isn&#39;t this nothing else than a really complicated version of brute force and thus really inefficient?\r\n\r\nThanks for taking the time","title":"Efficient way of generating all possible sums of N out of given numbers","body":"<p>I was thinking about an algorithm to this problem:</p>\n<p>Imagine we have the following array</p>\n<pre><code>a = {1, 2, 4, 5, 7}\n</code></pre>\n<p>and want to get all possible sums out of these numbers that are equal to a given number <code>N</code> (The order of the summands isn't interesting for now).</p>\n<p>In case of <code>N=8</code> a few valid answers are:</p>\n<blockquote>\n<p>1+2+5<br>1+7<br>2+2+2+2<br>...</p>\n</blockquote>\n<p>So now I will explain you my approach.</p>\n<p>First of all we make a new array <code>b</code> of the length <code>N+1</code> and put every number <code>x</code> from array <code>a</code> to the array <code>b</code> at index <code>[N-x]</code> and fill the remaining elements with -1.<br />\nThis should create the following array:</p>\n<pre><code>b = {-1, 7, -1, 5, 4, -1, 2, 1, -1}\n</code></pre>\n<p>As you can see every element of b that is not -1 needs to be added to its index to get <code>N</code>. (Example: <code>b[1]=7</code> =&gt; Index = 1, value = 7 =&gt; 7+1=8=<code>N</code>)</p>\n<p>What we do now is, we go through every index <code>x</code> of this array where <code>b[x]!=-1</code> and start the whole process from the beginning but this time we say <code>N=x</code> so that we get all possible sums to get the index <code>x</code> which (as shown above) is the value we need to add to the value of the element at <code>b[x]</code>.</p>\n<p>We do all of this recursively and as soon as we get to a point where an index is equal to 0, we print the whole chain of summands.</p>\n<p>I implemented this in Java and it works fine:</p>\n<pre><code>public static void main(String[] args) {\n        int[]numbers = {1, 2, 4, 5, 7};\n        int n = 8;\n        \n        numbers = summandArray(numbers, n);\n        printArray(numbers);\n        \n        \n        getSums(numbers, n, &quot;&quot;);\n        \n    }\n    \n    public static void getSums(int[] numbers, int n, String summands) {\n        String startSummands = summands;\n        for(int i = 0; i &lt; numbers.length; i++) {\n            summands = startSummands;\n            if(numbers[i] != -1) {\n                int neededSummand = i;\n                if(neededSummand == 0) {\n                    summands+=numbers[i];\n                    System.out.println(summands);\n                }\n                else {\n                    int[] newNumbers = summandArray(numbers, neededSummand);\n                    summands+=numbers[i]+&quot;+&quot;;\n                    getSums(newNumbers, neededSummand, summands);\n                }\n            }\n\n        }\n        \n    }\n    \n    public static int[] summandArray(int[] array, int n) {\n        int[] result = new int[n+1];\n        for(int i = 0; i &lt; result.length; i++) {\n            result[i] = -1;\n        }\n        for(int i = 0; i &lt; array.length; i++) {\n            if(array[i] &lt;= n &amp;&amp; array[i] != -1) {\n                int index = n-array[i];\n                result[index] = array[i];\n            }\n        }\n        return result;\n    }\n</code></pre>\n<p>However I am not too sure about how well the algorithm performs. I mean isn't this nothing else than a really complicated version of brute force and thus really inefficient?</p>\n<p>Thanks for taking the time</p>\n"},{"tags":["java","gradle","minecraft","gradlew","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":14222647,"reputation":86,"user_id":16790983,"display_name":"NoahBlaaa15"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1685840781,"creation_date":1685840781,"answer_id":76398592,"question_id":76391702,"body_markdown":"I think the fabric-loom naming scheme was changed after `0.10-SNAPSHOT`. \r\nTry changing the version of loom in your `build.gradle` from `0.12-SNAPSHOT` to `1.2-SNAPSHOT`.","title":"Gradle error java.lang.UnsupportedOperationException: null with Fabric MC 1.19.4","body":"<p>I think the fabric-loom naming scheme was changed after <code>0.10-SNAPSHOT</code>.\nTry changing the version of loom in your <code>build.gradle</code> from <code>0.12-SNAPSHOT</code> to <code>1.2-SNAPSHOT</code>.</p>\n"}],"owner":{"account_id":19668386,"reputation":33,"user_id":14398159,"display_name":"Omay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":76398592,"answer_count":1,"score":1,"last_activity_date":1685840781,"creation_date":1685721294,"question_id":76391702,"body_markdown":"I am attempting to port the Minecraft mod Colormatic to 1.19.4, as the developer has not made any changes for ~4 months. The compilation worked when I had Gradle 7.3, but I have updated it to Gradle 8.1.1. I looked online, and the only relevant solution was to clear the caches, but it did not work. Solution is mentioned [here](https://github.com/orgs/FabricMC/discussions/2362).\r\n\r\nHere is the full log, running `./gradlew build --info`\r\n```\r\nInitialized native services in: /Users/omay/.gradle/native\r\nInitialized jansi services in: /Users/omay/.gradle/native\r\nReceived JVM installation metadata from &#39;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home&#39;: {JAVA_HOME=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home, JAVA_VERSION=17.0.7, JAVA_VENDOR=Eclipse Adoptium, RUNTIME_NAME=OpenJDK Runtime Environment, RUNTIME_VERSION=17.0.7+7, VM_NAME=OpenJDK 64-Bit Server VM, VM_VERSION=17.0.7+7, VM_VENDOR=Eclipse Adoptium, OS_ARCH=aarch64}\r\nThe client will now receive all logging from the daemon (pid: 65238). The daemon log file: /Users/omay/.gradle/daemon/8.1.1/daemon-65238.out.log\r\nStarting 23rd build in daemon [uptime: 1 hrs 6 mins 24.966 secs, performance: 99%, GC rate: 0.01/s, heap usage: 10% of 1 GiB]\r\nUsing 8 worker leases.\r\nNow considering [/Users/omay/IdeaProjects/colormatic, /Users/omay/IdeaProjects/jukebox] as hierarchies to watch\r\nWatching the file system is configured to be enabled if available\r\nFile system watching is active\r\nStarting Build\r\nSettings evaluated using settings file &#39;/Users/omay/IdeaProjects/colormatic/settings.gradle&#39;.\r\nProjects loaded. Root project using build file &#39;/Users/omay/IdeaProjects/colormatic/build.gradle&#39;.\r\nIncluded projects: [root project &#39;colormatic&#39;]\r\n\r\n&gt; Configure project :\r\nEvaluating root project &#39;colormatic&#39; using build file &#39;/Users/omay/IdeaProjects/colormatic/build.gradle&#39;.\r\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\r\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\nFabric Loom: 0.12.56\r\n(kotlinx.metadata.jvm.KotlinClassMetadata) with version (0.4.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-metadata-jvm/0.4.2/8f80407e1e84727a7e7b9edd1323081c3ab1d8da/kotlinx-metadata-jvm-0.4.2.jar)\r\n(org.objectweb.asm.ClassVisitor) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm/9.3/8e6300ef51c1d801a7ed62d07cd221aca3a90640/asm-9.3.jar)\r\n(org.objectweb.asm.tree.analysis.Analyzer) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-analysis/9.3/4b071f211b37c38e0e9f5998550197c8593f6ad8/asm-analysis-9.3.jar)\r\n(org.objectweb.asm.commons.ClassRemapper) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-commons/9.3/1f2a432d1212f5c352ae607d7b61dcae20c20af5/asm-commons-9.3.jar)\r\n(org.objectweb.asm.tree.ClassNode) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-tree/9.3/78d2ecd61318b5a58cd04fb237636c0e86b77d97/asm-tree-9.3.jar)\r\n(org.objectweb.asm.util.ASMifier) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-util/9.3/9595bc05510d0bd4b610188b77333fe4851a1975/asm-util-9.3.jar)\r\n(com.fasterxml.jackson.databind.ObjectMapper) with version (2.13.2.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.13.2.2/ffeb635597d093509f33e1e94274d14be610f933/jackson-databind-2.13.2.2.jar)\r\n(com.google.gson.Gson) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.code.gson/gson/2.9.0/8a1167e089096758b49f9b34066ef98b2f4b37aa/gson-2.9.0.jar)\r\n(com.google.common.base.Preconditions) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/31.1-jre/60458f877d055d0c9114d9e1a2efb737b4bc282c/guava-31.1-jre.jar)\r\n(org.apache.commons.io.FileUtils) with version (2.11.0) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/2.11.0/a2503f302b11ebde7ebc3df41daebe0e4eea3689/commons-io-2.11.0.jar)\r\nThe configuration :mainSourceElements is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\r\n:extracting yarn-1.19.4+build.2-v2.jar\r\nNot publishing sources jar as it was not found. Use java.withSourcesJar() to fix.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;colormatic&#39;.\r\n&gt; Failed to setup Minecraft, java.lang.UnsupportedOperationException: null\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 584ms\r\n```\r\n\r\nAs said above, I tried to remove the cache, the above log being the first run after removing the cache. I&#39;d expect different errors, because the source code is not yet supporting Minecraft 1.19.4, along with the other changed dependencies.\r\n\r\nI am not familiar with Gradle or Java, and am mainly just playing around, so if the error is caused by the source code, there is also a GitHub repo [here](https://github.com/Omay238/colormatic).","title":"Gradle error java.lang.UnsupportedOperationException: null with Fabric MC 1.19.4","body":"<p>I am attempting to port the Minecraft mod Colormatic to 1.19.4, as the developer has not made any changes for ~4 months. The compilation worked when I had Gradle 7.3, but I have updated it to Gradle 8.1.1. I looked online, and the only relevant solution was to clear the caches, but it did not work. Solution is mentioned <a href=\"https://github.com/orgs/FabricMC/discussions/2362\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here is the full log, running <code>./gradlew build --info</code></p>\n<pre><code>Initialized native services in: /Users/omay/.gradle/native\nInitialized jansi services in: /Users/omay/.gradle/native\nReceived JVM installation metadata from '/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home': {JAVA_HOME=/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home, JAVA_VERSION=17.0.7, JAVA_VENDOR=Eclipse Adoptium, RUNTIME_NAME=OpenJDK Runtime Environment, RUNTIME_VERSION=17.0.7+7, VM_NAME=OpenJDK 64-Bit Server VM, VM_VERSION=17.0.7+7, VM_VENDOR=Eclipse Adoptium, OS_ARCH=aarch64}\nThe client will now receive all logging from the daemon (pid: 65238). The daemon log file: /Users/omay/.gradle/daemon/8.1.1/daemon-65238.out.log\nStarting 23rd build in daemon [uptime: 1 hrs 6 mins 24.966 secs, performance: 99%, GC rate: 0.01/s, heap usage: 10% of 1 GiB]\nUsing 8 worker leases.\nNow considering [/Users/omay/IdeaProjects/colormatic, /Users/omay/IdeaProjects/jukebox] as hierarchies to watch\nWatching the file system is configured to be enabled if available\nFile system watching is active\nStarting Build\nSettings evaluated using settings file '/Users/omay/IdeaProjects/colormatic/settings.gradle'.\nProjects loaded. Root project using build file '/Users/omay/IdeaProjects/colormatic/build.gradle'.\nIncluded projects: [root project 'colormatic']\n\n&gt; Configure project :\nEvaluating root project 'colormatic' using build file '/Users/omay/IdeaProjects/colormatic/build.gradle'.\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration detachedConfiguration1 is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration detachedConfiguration1 is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nThe configuration :classpath is both resolvable and consumable. This is considered a legacy configuration and it will eventually only be possible to be one of these.\nThe configuration :classpath is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\nFabric Loom: 0.12.56\n(kotlinx.metadata.jvm.KotlinClassMetadata) with version (0.4.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlinx/kotlinx-metadata-jvm/0.4.2/8f80407e1e84727a7e7b9edd1323081c3ab1d8da/kotlinx-metadata-jvm-0.4.2.jar)\n(org.objectweb.asm.ClassVisitor) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm/9.3/8e6300ef51c1d801a7ed62d07cd221aca3a90640/asm-9.3.jar)\n(org.objectweb.asm.tree.analysis.Analyzer) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-analysis/9.3/4b071f211b37c38e0e9f5998550197c8593f6ad8/asm-analysis-9.3.jar)\n(org.objectweb.asm.commons.ClassRemapper) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-commons/9.3/1f2a432d1212f5c352ae607d7b61dcae20c20af5/asm-commons-9.3.jar)\n(org.objectweb.asm.tree.ClassNode) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-tree/9.3/78d2ecd61318b5a58cd04fb237636c0e86b77d97/asm-tree-9.3.jar)\n(org.objectweb.asm.util.ASMifier) with version (9.3) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/org.ow2.asm/asm-util/9.3/9595bc05510d0bd4b610188b77333fe4851a1975/asm-util-9.3.jar)\n(com.fasterxml.jackson.databind.ObjectMapper) with version (2.13.2.2) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.13.2.2/ffeb635597d093509f33e1e94274d14be610f933/jackson-databind-2.13.2.2.jar)\n(com.google.gson.Gson) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.code.gson/gson/2.9.0/8a1167e089096758b49f9b34066ef98b2f4b37aa/gson-2.9.0.jar)\n(com.google.common.base.Preconditions) with version (null) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/com.google.guava/guava/31.1-jre/60458f877d055d0c9114d9e1a2efb737b4bc282c/guava-31.1-jre.jar)\n(org.apache.commons.io.FileUtils) with version (2.11.0) was loaded from (/Users/omay/.gradle/caches/modules-2/files-2.1/commons-io/commons-io/2.11.0/a2503f302b11ebde7ebc3df41daebe0e4eea3689/commons-io-2.11.0.jar)\nThe configuration :mainSourceElements is both consumable and declarable. This combination is incorrect, only one of these flags should be set.\n:extracting yarn-1.19.4+build.2-v2.jar\nNot publishing sources jar as it was not found. Use java.withSourcesJar() to fix.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'colormatic'.\n&gt; Failed to setup Minecraft, java.lang.UnsupportedOperationException: null\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 584ms\n</code></pre>\n<p>As said above, I tried to remove the cache, the above log being the first run after removing the cache. I'd expect different errors, because the source code is not yet supporting Minecraft 1.19.4, along with the other changed dependencies.</p>\n<p>I am not familiar with Gradle or Java, and am mainly just playing around, so if the error is caused by the source code, there is also a GitHub repo <a href=\"https://github.com/Omay238/colormatic\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9832,"page":393,"page_size":100}
