{"items":[{"tags":["java","loops"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696797311,"post_id":77255179,"comment_id":136195884,"body_markdown":"`for (int j = 1; j &lt;= 12; j++)` means “run the body of this loop as long as j is less than or equal to 12.”  `for (int n = 1; num1 == num2; num1++)` means “run the body this loop as long as num1 is exactly equal to num2.”  If num1 and num2 are not equal to begin with, the loop will run zero times.  Perhaps you meant to write `num1 &lt;= num2`?","body":"<code>for (int j = 1; j &lt;= 12; j++)</code> means “run the body of this loop as long as j is less than or equal to 12.”  <code>for (int n = 1; num1 == num2; num1++)</code> means “run the body this loop as long as num1 is exactly equal to num2.”  If num1 and num2 are not equal to begin with, the loop will run zero times.  Perhaps you meant to write <code>num1 &lt;= num2</code>?"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1696798604,"post_id":77255179,"comment_id":136195999,"body_markdown":"What is the expected output? What do the terms **the 4 times table, the 5 times table ...** mean? Can you add your desired output for your example values?","body":"What is the expected output? What do the terms <b>the 4 times table, the 5 times table ...</b> mean? Can you add your desired output for your example values?"}],"answers":[{"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696798920,"creation_date":1696798920,"answer_id":77255326,"question_id":77255179,"body_markdown":"The problem is the following condition in the external loop:\r\n\r\n    num1 == num2\r\n\r\nIn order to make `for` cycle work, it should become `true`. In your case you should replace `num1 == num2` with `num1 &lt;= num2`:\r\n\r\n    for (int n = 1; num1 &lt;= num2; num1++)","title":"Trying to create a times table program for a range of tables","body":"<p>The problem is the following condition in the external loop:</p>\n<pre><code>num1 == num2\n</code></pre>\n<p>In order to make <code>for</code> cycle work, it should become <code>true</code>. In your case you should replace <code>num1 == num2</code> with <code>num1 &lt;= num2</code>:</p>\n<pre><code>for (int n = 1; num1 &lt;= num2; num1++)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696813121,"creation_date":1696802741,"answer_id":77255499,"question_id":77255179,"body_markdown":"Loop from _num1_ to _num2_ inclusive, and then from _1_ to _12_.\r\n\r\n```java\r\nfor (int i = num1, j; i &lt;= num2; i++) {\r\n    for (j = 1; j &lt;= 12; j++)\r\n        System.out.printf(&quot;%s x %s = %s%n&quot;, i, j, i * j);\r\n    System.out.println();\r\n}\r\n```\r\n\r\nHere is an example output.\r\n\r\n```none\r\n5 x 1 = 5\r\n5 x 2 = 10\r\n5 x 3 = 15\r\n5 x 4 = 20\r\n5 x 5 = 25\r\n5 x 6 = 30\r\n5 x 7 = 35\r\n5 x 8 = 40\r\n5 x 9 = 45\r\n5 x 10 = 50\r\n5 x 11 = 55\r\n5 x 12 = 60\r\n```","title":"Trying to create a times table program for a range of tables","body":"<p>Loop from <em>num1</em> to <em>num2</em> inclusive, and then from <em>1</em> to <em>12</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = num1, j; i &lt;= num2; i++) {\n    for (j = 1; j &lt;= 12; j++)\n        System.out.printf(&quot;%s x %s = %s%n&quot;, i, j, i * j);\n    System.out.println();\n}\n</code></pre>\n<p>Here is an example output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>5 x 1 = 5\n5 x 2 = 10\n5 x 3 = 15\n5 x 4 = 20\n5 x 5 = 25\n5 x 6 = 30\n5 x 7 = 35\n5 x 8 = 40\n5 x 9 = 45\n5 x 10 = 50\n5 x 11 = 55\n5 x 12 = 60\n</code></pre>\n"}],"owner":{"account_id":29625412,"reputation":13,"user_id":22705274,"display_name":"John Hughes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77255326,"answer_count":2,"score":1,"last_activity_date":1696813121,"creation_date":1696795924,"question_id":77255179,"body_markdown":"I am trying to create a program that will display times tables for a user, the times tables displayed should be between two user inputted numbers. for example, the user inputs 4 and 8, the program should display the 4 times table, the 5 times table, the 6 times table, the 7 times table and the 8 times table. I am very new to Java, I have looked online, but I couldn&#39;t really find anything that helped me a great deal. I am slowly understanding loops, but as I mentioned before, I am very much still a novice. Thank you :)!\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class timesTables\r\n{\r\n    public static void main (String[] args)\r\n    {\r\n        // variables\r\n        int num1 = 0;\r\n        int num2 = 0;\r\n\r\n        // open scanner\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        // ask user for a table number\r\n        System.out.println(&quot;Please enter a number: &quot;);\r\n\r\n        // store input in a variable\r\n        num1 = sc.nextInt();\r\n\r\n        // ask user for another table number\r\n        System.out.println(&quot;Please enter another number: &quot;);\r\n\r\n        // store input in a variable\r\n        num2 = sc.nextInt();\r\n\r\n        // display times table from num1 to num2\r\n        /* for (int i = 0; i &lt;= 12; i++)\r\n        {\r\n            // multiply num1 by i\r\n            int j = num1 * i;\r\n\r\n            // display result of previous calculation\r\n            System.out.println(j);\r\n        } */\r\n\r\n        for (int n = 1; num1 == num2; num1++)\r\n        {\r\n            for (int j = 1; j &lt;= 12; j++)\r\n            {\r\n                // multiply num1 by j\r\n                int multiplication = num1 * j;\r\n\r\n                // display result of previous calculation\r\n                System.out.println(multiplication);\r\n            }\r\n        }\r\n\r\n        // close scanner\r\n        sc.close();\r\n    }\r\n}\r\n```","title":"Trying to create a times table program for a range of tables","body":"<p>I am trying to create a program that will display times tables for a user, the times tables displayed should be between two user inputted numbers. for example, the user inputs 4 and 8, the program should display the 4 times table, the 5 times table, the 6 times table, the 7 times table and the 8 times table. I am very new to Java, I have looked online, but I couldn't really find anything that helped me a great deal. I am slowly understanding loops, but as I mentioned before, I am very much still a novice. Thank you :)!</p>\n<pre><code>import java.util.Scanner;\n\npublic class timesTables\n{\n    public static void main (String[] args)\n    {\n        // variables\n        int num1 = 0;\n        int num2 = 0;\n\n        // open scanner\n        Scanner sc = new Scanner(System.in);\n\n        // ask user for a table number\n        System.out.println(&quot;Please enter a number: &quot;);\n\n        // store input in a variable\n        num1 = sc.nextInt();\n\n        // ask user for another table number\n        System.out.println(&quot;Please enter another number: &quot;);\n\n        // store input in a variable\n        num2 = sc.nextInt();\n\n        // display times table from num1 to num2\n        /* for (int i = 0; i &lt;= 12; i++)\n        {\n            // multiply num1 by i\n            int j = num1 * i;\n\n            // display result of previous calculation\n            System.out.println(j);\n        } */\n\n        for (int n = 1; num1 == num2; num1++)\n        {\n            for (int j = 1; j &lt;= 12; j++)\n            {\n                // multiply num1 by j\n                int multiplication = num1 * j;\n\n                // display result of previous calculation\n                System.out.println(multiplication);\n            }\n        }\n\n        // close scanner\n        sc.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","terminal"],"comments":[{"owner":{"account_id":14245148,"reputation":949,"user_id":10582056,"display_name":"ahrooran"},"score":0,"creation_date":1654753112,"post_id":52497961,"comment_id":128167719,"body_markdown":"any update on this for intellij community 2022.1.1?","body":"any update on this for intellij community 2022.1.1?"}],"answers":[{"tags":[],"owner":{"account_id":9291552,"reputation":1,"user_id":10412510,"display_name":"nilopanda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537883405,"creation_date":1537879089,"answer_id":52498423,"question_id":52497961,"body_markdown":"You need to change the SDK version in project structure. You can change it through IntelliJ navigation top bar, by following this path:\r\n\r\nFile &gt; Project Structure &gt; Project tab &gt; Project SDK\r\n\r\n","title":"IntelliJ terminal jdk setting","body":"<p>You need to change the SDK version in project structure. You can change it through IntelliJ navigation top bar, by following this path:</p>\n\n<p>File > Project Structure > Project tab > Project SDK</p>\n"},{"tags":[],"owner":{"account_id":13945839,"reputation":446,"user_id":10070623,"display_name":"Frito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537977093,"creation_date":1537880598,"answer_id":52498894,"question_id":52497961,"body_markdown":"Check Preferences-&gt;Tools-&gt;Terminal do determine the used shell implementation.\r\n\r\nChange the shell path or change your environment settings with the used shell to take effect e.g. for setting `JAVA_HOME` and `PATH`.\r\n\r\nYou can even use the &quot;shell integration&quot; flag to load a custom rc config file. Please check the IntelliJ documentation for this.\r\n\r\nYou are not able to use the configured projects JDK in a dynamic way. If you need this, please file an enhancement request to Jetbrains.\r\n\r\n","title":"IntelliJ terminal jdk setting","body":"<p>Check Preferences->Tools->Terminal do determine the used shell implementation.</p>\n\n<p>Change the shell path or change your environment settings with the used shell to take effect e.g. for setting <code>JAVA_HOME</code> and <code>PATH</code>.</p>\n\n<p>You can even use the \"shell integration\" flag to load a custom rc config file. Please check the IntelliJ documentation for this.</p>\n\n<p>You are not able to use the configured projects JDK in a dynamic way. If you need this, please file an enhancement request to Jetbrains.</p>\n"},{"tags":[],"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538055892,"creation_date":1538055892,"answer_id":52538539,"question_id":52497961,"body_markdown":"I repost the answer of @yole from the comments. It is not possible.","title":"IntelliJ terminal jdk setting","body":"<p>I repost the answer of @yole from the comments. It is not possible.</p>\n"},{"tags":[],"owner":{"account_id":169547,"reputation":2331,"user_id":395693,"accept_rate":85,"display_name":"HellishHeat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669987292,"creation_date":1669196109,"answer_id":74544549,"question_id":52497961,"body_markdown":"For anyone else who stumbles on this question, here is how I resolved a similar issue:\r\n\r\nMaybe this is just my company&#39;s security*, but when a JDK is installed with an .exe, something like the following path is created and added to the root of the %path% variable:\r\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath\r\n\r\nOn that path you&#39;ll find a &#39;java&#39; executable for the installed version of java.\r\n\r\nThe fix was to simply uninstall that version of java, via the system settings.\r\n\r\n`*` I mean that I was unable to see the &#39;true&#39; path variable, may have been my company&#39;s security.\r\n","title":"IntelliJ terminal jdk setting","body":"<p>For anyone else who stumbles on this question, here is how I resolved a similar issue:</p>\n<p>Maybe this is just my company's security*, but when a JDK is installed with an .exe, something like the following path is created and added to the root of the %path% variable:\nC:\\Program Files\\Common Files\\Oracle\\Java\\javapath</p>\n<p>On that path you'll find a 'java' executable for the installed version of java.</p>\n<p>The fix was to simply uninstall that version of java, via the system settings.</p>\n<p><code>*</code> I mean that I was unable to see the 'true' path variable, may have been my company's security.</p>\n"},{"tags":[],"owner":{"account_id":28183256,"reputation":1,"user_id":21539933,"display_name":"jmwdev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696812155,"creation_date":1696811846,"answer_id":77255789,"question_id":52497961,"body_markdown":"As per other answers - doesn&#39;t look like its supported but in the meantime I thought I would post a workaround that solves the poster&#39;s problem:\r\n\r\nmy solution is to create a shell script that launches with the terminal profile:\r\n* check the existence of .idea directory in current working directory\r\n* if it does then pull the configured name of the jdk from the misc.xml\r\n* find the jdk directory under $home/.jdks where intellij installs them.\r\n* add the found jdk bin directory to the head of the path in the current session\r\n\r\nmy solution is in powershell as I found it an interesting exercise to solve.  The same can be achieved in Unix as easily if not easier.\r\n\r\n\r\n```\r\n# $Home\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1\r\n\r\n$ideaDir = &quot;./.idea&quot;\r\nif (Test-Path -Path $ideaDir)\r\n{\r\n    $jdksDir = &quot;$Home\\.jdks&quot;\r\n    $match = Select-String -Path &quot;$ideaDir/misc.xml&quot; -Pattern &quot;project-jdk-name=`&quot;(.*?)`&quot; &quot;\r\n    $jdkName = $match.Matches.groups[1].value\r\n\r\n    [array]$jdks = ls -Directory -Name $jdksDir\r\n    $success = 0\r\n    foreach( $jdk in $jdks) {\r\n        if($jdk.Contains( $jdkName )) {\r\n            $pathBlock = &quot;$jdksDir\\$jdk\\bin&quot;\r\n            echo &quot;adding $pathBlock to path&quot;\r\n            $env:Path = &quot;$pathBlock;&quot; + $env:Path\r\n            $success = 1\r\n            break\r\n        }\r\n    }\r\n    if( $success -eq 0) {\r\n        &quot;failed to add jdk $jdkName to path&quot;\r\n    }\r\n}\r\n```\r\n\r\nSome assumptions have been made here: \r\n* jdks are installed via intellij and jdk names are defaulted (I tested with correto-18 and openjdk-21).\r\n* I noticed is that workspace files are saved on exit, not on the change itself.  If you&#39;re swapping around quickly then it&#39;s not much of a solution.  If however you&#39;ve got different projects on different jdks then it may make life easier.  You can paste the code into your powershell [profile][1] to execute on new terminal sessions \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/powershell/scripting/learn/shell/creating-profiles?view=powershell-7.3","title":"IntelliJ terminal jdk setting","body":"<p>As per other answers - doesn't look like its supported but in the meantime I thought I would post a workaround that solves the poster's problem:</p>\n<p>my solution is to create a shell script that launches with the terminal profile:</p>\n<ul>\n<li>check the existence of .idea directory in current working directory</li>\n<li>if it does then pull the configured name of the jdk from the misc.xml</li>\n<li>find the jdk directory under $home/.jdks where intellij installs them.</li>\n<li>add the found jdk bin directory to the head of the path in the current session</li>\n</ul>\n<p>my solution is in powershell as I found it an interesting exercise to solve.  The same can be achieved in Unix as easily if not easier.</p>\n<pre><code># $Home\\Documents\\WindowsPowerShell\\Microsoft.PowerShell_profile.ps1\n\n$ideaDir = &quot;./.idea&quot;\nif (Test-Path -Path $ideaDir)\n{\n    $jdksDir = &quot;$Home\\.jdks&quot;\n    $match = Select-String -Path &quot;$ideaDir/misc.xml&quot; -Pattern &quot;project-jdk-name=`&quot;(.*?)`&quot; &quot;\n    $jdkName = $match.Matches.groups[1].value\n\n    [array]$jdks = ls -Directory -Name $jdksDir\n    $success = 0\n    foreach( $jdk in $jdks) {\n        if($jdk.Contains( $jdkName )) {\n            $pathBlock = &quot;$jdksDir\\$jdk\\bin&quot;\n            echo &quot;adding $pathBlock to path&quot;\n            $env:Path = &quot;$pathBlock;&quot; + $env:Path\n            $success = 1\n            break\n        }\n    }\n    if( $success -eq 0) {\n        &quot;failed to add jdk $jdkName to path&quot;\n    }\n}\n</code></pre>\n<p>Some assumptions have been made here:</p>\n<ul>\n<li>jdks are installed via intellij and jdk names are defaulted (I tested with correto-18 and openjdk-21).</li>\n<li>I noticed is that workspace files are saved on exit, not on the change itself.  If you're swapping around quickly then it's not much of a solution.  If however you've got different projects on different jdks then it may make life easier.  You can paste the code into your powershell <a href=\"https://learn.microsoft.com/en-us/powershell/scripting/learn/shell/creating-profiles?view=powershell-7.3\" rel=\"nofollow noreferrer\">profile</a> to execute on new terminal sessions</li>\n</ul>\n"}],"owner":{"account_id":12170967,"reputation":592,"user_id":8885662,"display_name":"giotto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2494,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52538539,"answer_count":5,"score":1,"last_activity_date":1696812155,"creation_date":1537877495,"question_id":52497961,"body_markdown":"I have a project in IntelliJ Idea that uses jdk 8. In my system I have many jdk installed for development. Every time I create a new terminal window inside IntelliJ, the latest system jdk (jdk 10) is used and not the project one (jdk 8 in this case) and I have to switch manually. Of course I realise the error only after some build which requires jdk 8 does not work properly.\r\n\r\nIs there a possibility to set the jdk used in IntelliJ terminal? ","title":"IntelliJ terminal jdk setting","body":"<p>I have a project in IntelliJ Idea that uses jdk 8. In my system I have many jdk installed for development. Every time I create a new terminal window inside IntelliJ, the latest system jdk (jdk 10) is used and not the project one (jdk 8 in this case) and I have to switch manually. Of course I realise the error only after some build which requires jdk 8 does not work properly.</p>\n\n<p>Is there a possibility to set the jdk used in IntelliJ terminal? </p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","querydsl"],"comments":[{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1696748189,"post_id":77251851,"comment_id":136191313,"body_markdown":"With using projections I&#39;d advise to use two queries. First fetch all the workers including their id, then extract the worker&#39;s ids and pass them to another query fetching all the cars by worker id. Of course there is some glue logic to join the projections/DTOs but you will have a constant of two queries.","body":"With using projections I&#39;d advise to use two queries. First fetch all the workers including their id, then extract the worker&#39;s ids and pass them to another query fetching all the cars by worker id. Of course there is some glue logic to join the projections/DTOs but you will have a constant of two queries."},{"owner":{"account_id":29622402,"reputation":11,"user_id":22703024,"display_name":"Mehmet Fırat &#214;ZG&#220;N"},"score":0,"creation_date":1696761604,"post_id":77251851,"comment_id":136192416,"body_markdown":"when there are a so many person, the loop take too much time, almost impossible. that is why i want to get them from db together.","body":"when there are a so many person, the loop take too much time, almost impossible. that is why i want to get them from db together."}],"answers":[{"tags":[],"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696727148,"creation_date":1696727148,"answer_id":77251982,"question_id":77251851,"body_markdown":"Default FetchType for @OneToMany is FetchType.LAZY. If you want get workers with filled cars you can change FetchType to EAGER but this is not recommended.\r\n\r\nYou can achieve that creating your own method which can return List&lt;Person&gt;:\r\n\r\n    @Query(&quot;SELECT DISTINCT person FROM Person person &quot; +\r\n            &quot;JOIN FETCH person.cars cars&quot;)\r\n\r\nor using EntityGraph on existing repository method e.g. findAll:\r\n\r\n    @EntityGraph(attributePaths = {&quot;cars&quot;})","title":"How to take a list field from database for a DTO? Spring boot - querydsl?","body":"<p>Default FetchType for @OneToMany is FetchType.LAZY. If you want get workers with filled cars you can change FetchType to EAGER but this is not recommended.</p>\n<p>You can achieve that creating your own method which can return List:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT person FROM Person person &quot; +\n        &quot;JOIN FETCH person.cars cars&quot;)\n</code></pre>\n<p>or using EntityGraph on existing repository method e.g. findAll:</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;cars&quot;})\n</code></pre>\n"}],"owner":{"account_id":29622402,"reputation":11,"user_id":22703024,"display_name":"Mehmet Fırat &#214;ZG&#220;N"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696811670,"creation_date":1696722639,"question_id":77251851,"body_markdown":"edit: \r\n\r\ni think i am solving this by creating views in db.\r\n\r\nedit 2:\r\n\r\nyeah, views worked.\r\n\r\nthe original post:\r\n\r\n\r\nI am gonna write my tables and I will give the main DTO (WorkerDTO) and the other DTO&#39;s which are I want to use as fields of the main one.\r\n\r\nI want to get the list of WorkerDTO which contains a list of  CarDTO. How can I do that? I want to do it in one shot. I don&#39;t want to go to database again and again.\r\n\r\nI will lose my little mind.\r\n\r\n```\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @OneToMany(mappedBy = &quot;personId&quot;, cascade = CascadeType.ALL)\r\n    private Set&lt;Car&gt; cars = new LinkedHashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Table(name = &quot;car&quot;)\r\npublic class Car {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;person_id&quot;)\r\n    private Person personId;\r\n\r\n    @JoinColumn(name = &quot;motor_id&quot;)\r\n    private Motor motorId;\r\n\r\n    @Column(name = &quot;model&quot;)\r\n    private String model;\r\n\r\n    @Column(name = &quot;color&quot;)\r\n    private String color;\r\n}\r\n```\r\n\r\n```\r\n@Table(name = &quot;motor&quot;)\r\npublic class Motor {\r\n    @Id\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;type&quot;)\r\n    private String type;\r\n}\r\n```\r\n\r\n```\r\npublic class WorkerDTO {\r\n     private string name;\r\n     private List&lt;CarDTO&gt; cars; \r\n     \r\n}\r\n```\r\n\r\n```\r\npublic class CarDTO{\r\n     private MotorDTO motor;\r\n     private String model;\r\n}\r\n```\r\n\r\n```\r\npublic class MotorDTO{\r\n     private String type;\r\n}\r\n```\r\n\r\n\r\n\r\nI used QueryDsl&#39;s Projections.list(...) method to left join the list of cars.\r\n\r\nI tried @Query(&quot;select new WorkerDTO(...&quot;)\r\n\r\nI think i will find the question like the second one.","title":"How to take a list field from database for a DTO? Spring boot - querydsl?","body":"<p>edit:</p>\n<p>i think i am solving this by creating views in db.</p>\n<p>edit 2:</p>\n<p>yeah, views worked.</p>\n<p>the original post:</p>\n<p>I am gonna write my tables and I will give the main DTO (WorkerDTO) and the other DTO's which are I want to use as fields of the main one.</p>\n<p>I want to get the list of WorkerDTO which contains a list of  CarDTO. How can I do that? I want to do it in one shot. I don't want to go to database again and again.</p>\n<p>I will lose my little mind.</p>\n<pre><code>@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @OneToMany(mappedBy = &quot;personId&quot;, cascade = CascadeType.ALL)\n    private Set&lt;Car&gt; cars = new LinkedHashSet&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Table(name = &quot;car&quot;)\npublic class Car {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;person_id&quot;)\n    private Person personId;\n\n    @JoinColumn(name = &quot;motor_id&quot;)\n    private Motor motorId;\n\n    @Column(name = &quot;model&quot;)\n    private String model;\n\n    @Column(name = &quot;color&quot;)\n    private String color;\n}\n</code></pre>\n<pre><code>@Table(name = &quot;motor&quot;)\npublic class Motor {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(name = &quot;type&quot;)\n    private String type;\n}\n</code></pre>\n<pre><code>public class WorkerDTO {\n     private string name;\n     private List&lt;CarDTO&gt; cars; \n     \n}\n</code></pre>\n<pre><code>public class CarDTO{\n     private MotorDTO motor;\n     private String model;\n}\n</code></pre>\n<pre><code>public class MotorDTO{\n     private String type;\n}\n</code></pre>\n<p>I used QueryDsl's Projections.list(...) method to left join the list of cars.</p>\n<p>I tried @Query(&quot;select new WorkerDTO(...&quot;)</p>\n<p>I think i will find the question like the second one.</p>\n"},{"tags":["java","jms","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1463060080,"creation_date":1463057533,"answer_id":37187487,"question_id":37186017,"body_markdown":"You can use two `@JmsListener`s and the `selector` property to direct the different message types to each listener.\r\n\r\nThis requires the sender to set a message property that is then used in the selector expression.\r\n\r\nIt&#39;s a bit more complicated when using the messaging template because you have to build a new message but with the basic `JmsTemplate`:\r\n\r\n\r\n    jmsTemplate.convertSendAndReceive(dest, object, messagePostProcessor);\r\n\r\nwhere `messagePostProcessor` has a method\r\n\r\n    public Message postProcessMessage(Message message) {\r\n        message.setStringProperty(&quot;requiresReply&quot;, &quot;yes&quot;);\r\n        return message;\r\n    }\r\n\r\nThen use `requiresReply=yes/no` in the selector.\r\n\r\nIf you want to avoid the cast and use the messaging template, you need to use `MessageBuilder.fromMessage(message).setHeader(...).build()` in the (different) `MessagePostProcessor`). In this case it&#39;s a spring-messaging `Message` not a JMS `Message`.\r\n\r\n__EDIT__\r\n\r\nYou really don&#39;t need any of this, though, if your listener can tell from the data whether a reply is expected and simply returns `null` for messages that don&#39;t need a reply.\r\n","title":"Using a @JmsListener to handle sendAndReceive and just send","body":"<p>You can use two <code>@JmsListener</code>s and the <code>selector</code> property to direct the different message types to each listener.</p>\n\n<p>This requires the sender to set a message property that is then used in the selector expression.</p>\n\n<p>It's a bit more complicated when using the messaging template because you have to build a new message but with the basic <code>JmsTemplate</code>:</p>\n\n<pre><code>jmsTemplate.convertSendAndReceive(dest, object, messagePostProcessor);\n</code></pre>\n\n<p>where <code>messagePostProcessor</code> has a method</p>\n\n<pre><code>public Message postProcessMessage(Message message) {\n    message.setStringProperty(\"requiresReply\", \"yes\");\n    return message;\n}\n</code></pre>\n\n<p>Then use <code>requiresReply=yes/no</code> in the selector.</p>\n\n<p>If you want to avoid the cast and use the messaging template, you need to use <code>MessageBuilder.fromMessage(message).setHeader(...).build()</code> in the (different) <code>MessagePostProcessor</code>). In this case it's a spring-messaging <code>Message</code> not a JMS <code>Message</code>.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>You really don't need any of this, though, if your listener can tell from the data whether a reply is expected and simply returns <code>null</code> for messages that don't need a reply.</p>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9524,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696811601,"creation_date":1463053798,"question_id":37186017,"body_markdown":"I have a spring service that has @JmsListener method. It gets invoked by a client send out a message via JmsMessagingTemplate.convertSendAndReceive(). This works fine.\r\n\r\n    @Service\r\n    public class JmsMessageProcessor {\r\n        @JmsListener(destination = &quot;myDestination&quot;)\r\n        protected Message&lt;MyResponseObj&gt; handleRequest(final MyInputObj myObj) {\r\n            return MessageBuilder.withPayload(processObj(myObj)).build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n.\r\n\r\n    // client\r\n     MyResponseObj response = jmsMessagingTemplate.convertSendAndReceive(myDestination, myObj,\r\n                    MyResponseObj.class);\r\n\r\n\r\nI&#39;m attemptign to implement on the client, functionality for just doing a `convertSend` call. That is, the client will send and forget, and not wait for a response. I have made such a call, and it does get processed on the server side\r\n\r\n     jmsMessagingTemplate.convertAndSend(myDestination, myObj);\r\n\r\n\r\nBut, I get an error on the server side indicating that the request message does not contain a reply-to destination. This makes some sense to me, because i&#39;m not doing a &quot;receive&quot; method call via the jmsMessageTemplate. But, I&#39;m not sure what to do about this. Is it possible to have another JmsListener method for the same destination, but handle specificaly the &quot;send without reply&quot; requests, or do i have to create a seperate destination and JMS queue? Basically, I want my server / jms listener to be able to not send back a response if it doesn&#39;t need to.\r\n\r\n    javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n    org.springframework.jms.listener.adapter.ReplyFailureException: Failed to send reply with payload [GenericMessage [payload=MyResponseObj@51c082ec, headers={timestamp=1462996638601, id=41877e45-b220-a320-f07a-64f9d50d98ae}]]; nested exception is javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:249) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:68) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:721) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:681) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:651) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1150) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1142) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1039) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at java.lang.Thread.run(Thread.java:745) [?:1.7.0_99]\r\n    Caused by: javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:343) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:316) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:245) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n            ... 10 more\r\n\r\n","title":"Using a @JmsListener to handle sendAndReceive and just send","body":"<p>I have a spring service that has @JmsListener method. It gets invoked by a client send out a message via JmsMessagingTemplate.convertSendAndReceive(). This works fine.</p>\n<pre><code>@Service\npublic class JmsMessageProcessor {\n    @JmsListener(destination = &quot;myDestination&quot;)\n    protected Message&lt;MyResponseObj&gt; handleRequest(final MyInputObj myObj) {\n        return MessageBuilder.withPayload(processObj(myObj)).build();\n    }\n\n}\n</code></pre>\n<p>.</p>\n<pre><code>// client\n MyResponseObj response = jmsMessagingTemplate.convertSendAndReceive(myDestination, myObj,\n                MyResponseObj.class);\n</code></pre>\n<p>I'm attemptign to implement on the client, functionality for just doing a <code>convertSend</code> call. That is, the client will send and forget, and not wait for a response. I have made such a call, and it does get processed on the server side</p>\n<pre><code> jmsMessagingTemplate.convertAndSend(myDestination, myObj);\n</code></pre>\n<p>But, I get an error on the server side indicating that the request message does not contain a reply-to destination. This makes some sense to me, because i'm not doing a &quot;receive&quot; method call via the jmsMessageTemplate. But, I'm not sure what to do about this. Is it possible to have another JmsListener method for the same destination, but handle specificaly the &quot;send without reply&quot; requests, or do i have to create a seperate destination and JMS queue? Basically, I want my server / jms listener to be able to not send back a response if it doesn't need to.</p>\n<pre><code>javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\norg.springframework.jms.listener.adapter.ReplyFailureException: Failed to send reply with payload [GenericMessage [payload=MyResponseObj@51c082ec, headers={timestamp=1462996638601, id=41877e45-b220-a320-f07a-64f9d50d98ae}]]; nested exception is javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:249) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:68) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:721) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:681) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:651) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:315) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:253) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1150) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1142) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1039) [spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at java.lang.Thread.run(Thread.java:745) [?:1.7.0_99]\nCaused by: javax.jms.InvalidDestinationException: Cannot determine response destination: Request message does not contain reply-to destination, and no default response destination set.\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:343) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.getResponseDestination(AbstractAdaptableMessageListener.java:316) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        at org.springframework.jms.listener.adapter.AbstractAdaptableMessageListener.handleResult(AbstractAdaptableMessageListener.java:245) ~[spring-jms-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n        ... 10 more\n</code></pre>\n"},{"tags":["java","recursion","linked-list"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1696780896,"post_id":77254262,"comment_id":136194243,"body_markdown":"Why does your code and with **2** closing braces with no indentation? Find the reason for that, and you&#39;ll find the reason why javac can&#39;t find your main.","body":"Why does your code and with <b>2</b> closing braces with no indentation? Find the reason for that, and you&#39;ll find the reason why javac can&#39;t find your main."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696799684,"post_id":77254262,"comment_id":136196081,"body_markdown":"There is no such thing as a recursive linked list.","body":"There is no such thing as a recursive linked list."},{"owner":{"account_id":29626368,"reputation":1,"user_id":22705992,"display_name":"Viv"},"score":0,"creation_date":1696813052,"post_id":77254262,"comment_id":136196967,"body_markdown":"I added extra brackets because the code wouldn&#39;t compile without the rainbow class being open, which I thought was weird. Based on the comment below, I&#39;m going to try and separate the two methods, and this way it won&#39;t be so muddled anymore hopefully. \n\nI guess a better labeling of this would be a recursive approach to counting a linked list.","body":"I added extra brackets because the code wouldn&#39;t compile without the rainbow class being open, which I thought was weird. Based on the comment below, I&#39;m going to try and separate the two methods, and this way it won&#39;t be so muddled anymore hopefully.   I guess a better labeling of this would be a recursive approach to counting a linked list."}],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47686,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696811592,"creation_date":1696799231,"answer_id":77255349,"question_id":77254262,"body_markdown":"Please save yourself a good deal of trouble and follow standard formatting guidelines and use an autoformatter. Brackets should open and close in a predictable manner and indentation should strictly follow the brackets.\r\n\r\n`main` needs to be top-level, and you probably want your classes unnested in general:\r\n\r\n```java\r\nimport java.util.LinkedList;\r\n\r\npublic class Rainbow {\r\n    // Create the nodes for the linked list Rainbow\r\n\r\n    class Node {\r\n        int info;\r\n        Node next;\r\n        Node(int k) {\r\n            info = k;\r\n            next = null;\r\n        }\r\n    }\r\n\r\n    class ManageNodes {\r\n        // Create head of the list\r\n        Node head;\r\n\r\n        // Put a new node at the front of the list\r\n        public void push(int new_info) {\r\n            // Create node pointer and data\r\n            Node new_node = new Node(new_info);\r\n\r\n            // The new_node.next becomes the new head\r\n            new_node.next = head;\r\n\r\n            // The head points to the new node\r\n            head = new_node;\r\n        }\r\n\r\n        // Count nodes in the linked list\r\n        public int getCountRainbow(Node node) {\r\n            // End of the list\r\n            if (node == null)\r\n                return 0;\r\n\r\n            // count this node and the rest on the list\r\n            return 1 + getCountRainbow(node.next);\r\n        }\r\n\r\n        public int getCount() { return getCountRainbow(head); }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Create the linked list named &quot;rainbow&quot;\r\n        LinkedList rainbow = new LinkedList();\r\n\r\n        // Add the colors into the linked list\r\n        rainbow.push(&quot;Red&quot;);\r\n        rainbow.push(&quot;Orange&quot;);\r\n        rainbow.push(&quot;Yellow&quot;);\r\n        rainbow.push(&quot;Green&quot;);\r\n        rainbow.push(&quot;Blue&quot;);\r\n        rainbow.push(&quot;Indigo&quot;);\r\n        rainbow.push(&quot;Violet&quot;);\r\n        // System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\r\n    }\r\n}\r\n```\r\n\r\nAnd:\r\n\r\n```java\r\nimport java.util.LinkedList;\r\n\r\npublic class Rainbow {\r\n\r\n    // Create the nodes for the linked list Rainbow\r\n    class Node {\r\n        String data;\r\n        Node next;\r\n        Node(String k) {\r\n            data = k;\r\n            next = null;\r\n        }\r\n\r\n        // Create head of the list\r\n        Node head;\r\n\r\n        // Put a new node at the front of the list\r\n        public void push(String new_data) {\r\n            // Add data to new_node\r\n            Node new_node = new Node(new_data);\r\n\r\n            // The new_node.next becomes the new head\r\n            new_node.next = head;\r\n\r\n            // The head points to the new node\r\n            head = new_node;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Create the linked list named &quot;rainbow&quot;\r\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\r\n\r\n        // Add the colors into the linked list\r\n        rainbow.push(&quot;Red&quot;);\r\n        rainbow.push(&quot;Orange&quot;);\r\n        rainbow.push(&quot;Yellow&quot;);\r\n        rainbow.push(&quot;Green&quot;);\r\n        rainbow.push(&quot;Blue&quot;);\r\n        rainbow.push(&quot;Indigo&quot;);\r\n        rainbow.push(&quot;Violet&quot;);\r\n\r\n        // Print list\r\n        // System.out.println(&quot;There are &quot; + rainbow.getLength() +\r\n        //                    &quot; nodes in total.&quot;);\r\n    }\r\n\r\n    // Call the getCount() function\r\n    // public int getLength() { return getCount(this.head); }\r\n\r\n    // Count nodes in the linked list\r\n    private int getCount(Node currentPointer) {\r\n        // End of the list\r\n        if (currentPointer == null)\r\n            return 0;\r\n\r\n        // count this node and the rest on the list\r\n        return 1 + getCount(currentPointer.next);\r\n    }\r\n}\r\n```\r\n\r\nBoth files need to be called Rainbow.java to compile, so I assume they&#39;re variants of the same thing.\r\n\r\nThere are other problems in your code, but this should at least get you moving forward. Any commented-out lines were preventing compilation and need to be fixed.\r\n\r\nTaking a further step back, it&#39;s unusual use the builtin LinkedList as well as your own linked Node classes. I&#39;m not sure what you&#39;re trying to do, but if this is a data structure exercise, you&#39;d usually implement your own linked list without Java collections. On the other hand, if you&#39;re not implementing your own linked list class, skip writing Node and NodeManager classes completely and use the collections API. Calling `rainbow.getCount()` suggests that you are confusing your custom linked list with the builtin Java linked list. Choose one or the other.","title":"Can&#39;t compile Java Code that Counts a Recursive Linked List","body":"<p>Please save yourself a good deal of trouble and follow standard formatting guidelines and use an autoformatter. Brackets should open and close in a predictable manner and indentation should strictly follow the brackets.</p>\n<p><code>main</code> needs to be top-level, and you probably want your classes unnested in general:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedList;\n\npublic class Rainbow {\n    // Create the nodes for the linked list Rainbow\n\n    class Node {\n        int info;\n        Node next;\n        Node(int k) {\n            info = k;\n            next = null;\n        }\n    }\n\n    class ManageNodes {\n        // Create head of the list\n        Node head;\n\n        // Put a new node at the front of the list\n        public void push(int new_info) {\n            // Create node pointer and data\n            Node new_node = new Node(new_info);\n\n            // The new_node.next becomes the new head\n            new_node.next = head;\n\n            // The head points to the new node\n            head = new_node;\n        }\n\n        // Count nodes in the linked list\n        public int getCountRainbow(Node node) {\n            // End of the list\n            if (node == null)\n                return 0;\n\n            // count this node and the rest on the list\n            return 1 + getCountRainbow(node.next);\n        }\n\n        public int getCount() { return getCountRainbow(head); }\n    }\n\n    public static void main(String[] args) {\n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList rainbow = new LinkedList();\n\n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n        // System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\n    }\n}\n</code></pre>\n<p>And:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.LinkedList;\n\npublic class Rainbow {\n\n    // Create the nodes for the linked list Rainbow\n    class Node {\n        String data;\n        Node next;\n        Node(String k) {\n            data = k;\n            next = null;\n        }\n\n        // Create head of the list\n        Node head;\n\n        // Put a new node at the front of the list\n        public void push(String new_data) {\n            // Add data to new_node\n            Node new_node = new Node(new_data);\n\n            // The new_node.next becomes the new head\n            new_node.next = head;\n\n            // The head points to the new node\n            head = new_node;\n        }\n    }\n\n    public static void main(String[] args) {\n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\n\n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n\n        // Print list\n        // System.out.println(&quot;There are &quot; + rainbow.getLength() +\n        //                    &quot; nodes in total.&quot;);\n    }\n\n    // Call the getCount() function\n    // public int getLength() { return getCount(this.head); }\n\n    // Count nodes in the linked list\n    private int getCount(Node currentPointer) {\n        // End of the list\n        if (currentPointer == null)\n            return 0;\n\n        // count this node and the rest on the list\n        return 1 + getCount(currentPointer.next);\n    }\n}\n</code></pre>\n<p>Both files need to be called Rainbow.java to compile, so I assume they're variants of the same thing.</p>\n<p>There are other problems in your code, but this should at least get you moving forward. Any commented-out lines were preventing compilation and need to be fixed.</p>\n<p>Taking a further step back, it's unusual use the builtin LinkedList as well as your own linked Node classes. I'm not sure what you're trying to do, but if this is a data structure exercise, you'd usually implement your own linked list without Java collections. On the other hand, if you're not implementing your own linked list class, skip writing Node and NodeManager classes completely and use the collections API. Calling <code>rainbow.getCount()</code> suggests that you are confusing your custom linked list with the builtin Java linked list. Choose one or the other.</p>\n"}],"owner":{"account_id":29626368,"reputation":1,"user_id":22705992,"display_name":"Viv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1696811592,"creation_date":1696780106,"question_id":77254262,"body_markdown":"I have made two different versions of trying to compile a Java code that counts a linked list. I have changed the order of the main string, as well as variables, but I continue to get the same error: &quot;Error: Main method not found in class Rainbow, please define the main method as:\r\n   public static void main(String[] args)\r\nor a JavaFX application class must extend javafx.application.Application&quot;. Does anyone know what I am doing wrong? I have to keep the public class Rainbow or else I get an error as well. \r\n\r\n\r\n```\r\nimport java.util.LinkedList;\r\n\t\r\npublic class Rainbow {\t\r\n\t\r\n\t// Create the nodes for the linked list Rainbow\r\n\tclass Node {\r\n\t\tString data;\r\n\t\tNode next;\r\n\t\tNode(String k)\r\n\t\t{\r\n\t\t\tdata = k;\r\n\t\t\tnext = null;\r\n\t\t}\r\n\r\n\t\t// Create head of the list\r\n\t\tNode head;\r\n\t\t\r\n\t\t// Put a new node at the front of the list\r\n\tpublic void push(String new_data)\r\n\t\t{\r\n\t\t\t// Add data to new_node\r\n\t\t\tNode new_node = new Node(new_data);\r\n\t\t\t\r\n\t\t\t// The new_node.next becomes the new head\r\n\t\t\tnew_node.next = head;\r\n\t\t\t\r\n\t\t\t// The head points to the new node \r\n\t\t\thead = new_node; \t\r\n\t\t}\r\n\t\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\t\r\n\t\t// Create the linked list named &quot;rainbow&quot;\r\n\t\tLinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\r\n\t\t\t\r\n\t\t// Add the colors into the linked list\r\n\t\trainbow.push(&quot;Red&quot;);\r\n\t\trainbow.push(&quot;Orange&quot;);\r\n\t\trainbow.push(&quot;Yellow&quot;);\r\n\t\trainbow.push(&quot;Green&quot;);\r\n\t\trainbow.push(&quot;Blue&quot;);\r\n\t\trainbow.push(&quot;Indigo&quot;);\r\n\t\trainbow.push(&quot;Violet&quot;);\r\n\t\t\t\r\n\t\t// Print list\r\n\t\tSystem.out.println(&quot;There are &quot; + rainbow.getLength() + &quot; nodes in total.&quot;);\r\n\t\t}\r\n\t\r\n\t//Call the getCount() function\r\n\tpublic int getLength() {\r\n\t\treturn getCount(this.head);\r\n\t}\r\n\t\r\n\t// Count nodes in the linked list\r\n\tprivate int getCount(Node currentPointer)\r\n\t{\r\n\t\t// End of the list\r\n\t\tif (currentPointer == null)\r\n\t\t\treturn 0;\r\n\t\t\r\n\t\t// count this node and the rest on the list\r\n\t\treturn 1 + getCount(currentPointer.next);\r\n\t}\r\n\t\r\n\t\r\n\t}\r\n}\r\n}\r\n\r\n```\r\n\r\nAnd also:\r\n\r\n\r\n```\r\nimport java.util.LinkedList;\r\n\r\n            \r\n\r\npublic class Rainbow { \r\n\r\n            \r\n\r\n            // Create the nodes for the linked list Rainbow\r\n\r\n            class Node {\r\n\r\n                        int info;\r\n\r\n                        Node next;\r\n\r\n                        Node(int k)\r\n\r\n                        {\r\n\r\n                                    info = k;\r\n\r\n                                    next = null;\r\n\r\n                        }\r\n\r\n \r\n\r\n            class ManageNodes {\r\n\r\n                        // Create head of the list\r\n\r\n                        Node head;\r\n\r\n                        \r\n\r\n                        // Put a new node at the front of the list\r\n\r\n                        public void push(int new_info)\r\n\r\n                        {\r\n\r\n                                    // Create node pointer and data\r\n\r\n                                    Node new_node = new Node(new_info);\r\n\r\n                                    \r\n\r\n                                    // The new_node.next becomes the new head\r\n\r\n                                    new_node.next = head;\r\n\r\n                                    \r\n\r\n                                    // The head points to the new node\r\n\r\n                                    head = new_node;      \r\n\r\n                        }\r\n\r\n                        \r\n\r\n            \r\n\r\n            // Count nodes in the linked list\r\n\r\n            public int getCountRainbow(Node node)\r\n\r\n            {\r\n\r\n                        // End of the list\r\n\r\n                        if (node ==null)\r\n\r\n                                    return 0;\r\n\r\n                        \r\n\r\n                        // count this node and the rest on the list\r\n\r\n                        return 1 + getCountRainbow(node.next);\r\n\r\n            }\r\n\r\n            \r\n\r\n            public int getCount() {return getCountRainbow(head);}\r\n\r\n            \r\n\r\n            public static void main(String[] args) {\r\n\r\n            \r\n\r\n                        // Create the linked list named &quot;rainbow&quot;\r\n\r\n                        LinkedList rainbow = new LinkedList();\r\n\r\n                        \r\n\r\n                        // Add the colors into the linked list\r\n\r\n                        rainbow.push(&quot;Red&quot;);\r\n\r\n                        rainbow.push(&quot;Orange&quot;);\r\n\r\n                        rainbow.push(&quot;Yellow&quot;);\r\n\r\n                        rainbow.push(&quot;Green&quot;);\r\n\r\n                        rainbow.push(&quot;Blue&quot;);\r\n\r\n                        rainbow.push(&quot;Indigo&quot;);\r\n\r\n                        rainbow.push(&quot;Violet&quot;);\r\n\r\n                        \r\n\r\n                        System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\r\n\r\n                        }\r\n\r\n            }\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI tried reordering the different parts of the code, changing variable types, and moving the main. I continue to get errors. ","title":"Can&#39;t compile Java Code that Counts a Recursive Linked List","body":"<p>I have made two different versions of trying to compile a Java code that counts a linked list. I have changed the order of the main string, as well as variables, but I continue to get the same error: &quot;Error: Main method not found in class Rainbow, please define the main method as:\npublic static void main(String[] args)\nor a JavaFX application class must extend javafx.application.Application&quot;. Does anyone know what I am doing wrong? I have to keep the public class Rainbow or else I get an error as well.</p>\n<pre><code>import java.util.LinkedList;\n    \npublic class Rainbow {  \n    \n    // Create the nodes for the linked list Rainbow\n    class Node {\n        String data;\n        Node next;\n        Node(String k)\n        {\n            data = k;\n            next = null;\n        }\n\n        // Create head of the list\n        Node head;\n        \n        // Put a new node at the front of the list\n    public void push(String new_data)\n        {\n            // Add data to new_node\n            Node new_node = new Node(new_data);\n            \n            // The new_node.next becomes the new head\n            new_node.next = head;\n            \n            // The head points to the new node \n            head = new_node;    \n        }\n        \n    public static void main(String[] args) {\n            \n        // Create the linked list named &quot;rainbow&quot;\n        LinkedList&lt;String&gt; rainbow = new LinkedList&lt;String&gt;();\n            \n        // Add the colors into the linked list\n        rainbow.push(&quot;Red&quot;);\n        rainbow.push(&quot;Orange&quot;);\n        rainbow.push(&quot;Yellow&quot;);\n        rainbow.push(&quot;Green&quot;);\n        rainbow.push(&quot;Blue&quot;);\n        rainbow.push(&quot;Indigo&quot;);\n        rainbow.push(&quot;Violet&quot;);\n            \n        // Print list\n        System.out.println(&quot;There are &quot; + rainbow.getLength() + &quot; nodes in total.&quot;);\n        }\n    \n    //Call the getCount() function\n    public int getLength() {\n        return getCount(this.head);\n    }\n    \n    // Count nodes in the linked list\n    private int getCount(Node currentPointer)\n    {\n        // End of the list\n        if (currentPointer == null)\n            return 0;\n        \n        // count this node and the rest on the list\n        return 1 + getCount(currentPointer.next);\n    }\n    \n    \n    }\n}\n}\n\n</code></pre>\n<p>And also:</p>\n<pre><code>import java.util.LinkedList;\n\n            \n\npublic class Rainbow { \n\n            \n\n            // Create the nodes for the linked list Rainbow\n\n            class Node {\n\n                        int info;\n\n                        Node next;\n\n                        Node(int k)\n\n                        {\n\n                                    info = k;\n\n                                    next = null;\n\n                        }\n\n \n\n            class ManageNodes {\n\n                        // Create head of the list\n\n                        Node head;\n\n                        \n\n                        // Put a new node at the front of the list\n\n                        public void push(int new_info)\n\n                        {\n\n                                    // Create node pointer and data\n\n                                    Node new_node = new Node(new_info);\n\n                                    \n\n                                    // The new_node.next becomes the new head\n\n                                    new_node.next = head;\n\n                                    \n\n                                    // The head points to the new node\n\n                                    head = new_node;      \n\n                        }\n\n                        \n\n            \n\n            // Count nodes in the linked list\n\n            public int getCountRainbow(Node node)\n\n            {\n\n                        // End of the list\n\n                        if (node ==null)\n\n                                    return 0;\n\n                        \n\n                        // count this node and the rest on the list\n\n                        return 1 + getCountRainbow(node.next);\n\n            }\n\n            \n\n            public int getCount() {return getCountRainbow(head);}\n\n            \n\n            public static void main(String[] args) {\n\n            \n\n                        // Create the linked list named &quot;rainbow&quot;\n\n                        LinkedList rainbow = new LinkedList();\n\n                        \n\n                        // Add the colors into the linked list\n\n                        rainbow.push(&quot;Red&quot;);\n\n                        rainbow.push(&quot;Orange&quot;);\n\n                        rainbow.push(&quot;Yellow&quot;);\n\n                        rainbow.push(&quot;Green&quot;);\n\n                        rainbow.push(&quot;Blue&quot;);\n\n                        rainbow.push(&quot;Indigo&quot;);\n\n                        rainbow.push(&quot;Violet&quot;);\n\n                        \n\n                        System.out.println(&quot;Count of nodes is &quot; + rainbow.getCount());\n\n                        }\n\n            }\n\n}\n\n}\n</code></pre>\n<p>I tried reordering the different parts of the code, changing variable types, and moving the main. I continue to get errors.</p>\n"},{"tags":["java","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1498655762,"post_id":44800330,"comment_id":76587058,"body_markdown":"It&#39;s not clear what you mean by &quot;synchronous clients&quot;. That code will create a single asynchronous consumer.","body":"It&#39;s not clear what you mean by &quot;synchronous clients&quot;. That code will create a single asynchronous consumer."},{"owner":{"account_id":11211346,"reputation":13,"user_id":8225323,"display_name":"Matwfo"},"score":0,"creation_date":1498658370,"post_id":44800330,"comment_id":76589282,"body_markdown":"I wanted to create 10 message clients listening to the same queue to process a message. Once, the message gets consumed by the message client, then it should synchronous.","body":"I wanted to create 10 message clients listening to the same queue to process a message. Once, the message gets consumed by the message client, then it should synchronous."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1498659479,"creation_date":1498659479,"answer_id":44805128,"question_id":44800330,"body_markdown":"Set the boot properties...\r\n\r\n\r\n    spring.jms.listener.concurrency=10\r\n    spring.jms.listener.max-concurrency=10\r\n\r\n\r\nThe listener container will start 10 threads - each consuming from the same queue; they will invoke the JMS listener method.\r\n\r\nSee the [Spring Boot documentation - Application Properties](http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/common-application-properties.html) and scroll down to the JMS section.\r\n","title":"Spring Factory to create synchronous consumers listening to the queue","body":"<p>Set the boot properties...</p>\n\n<pre><code>spring.jms.listener.concurrency=10\nspring.jms.listener.max-concurrency=10\n</code></pre>\n\n<p>The listener container will start 10 threads - each consuming from the same queue; they will invoke the JMS listener method.</p>\n\n<p>See the <a href=\"http://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">Spring Boot documentation - Application Properties</a> and scroll down to the JMS section.</p>\n"}],"owner":{"account_id":11211346,"reputation":13,"user_id":8225323,"display_name":"Matwfo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2161,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44805128,"answer_count":1,"score":1,"last_activity_date":1696811379,"creation_date":1498646820,"question_id":44800330,"body_markdown":"I am new to Spring Boot and coding for my college project work and I need some help.\r\nI want to create a spring boot application, which starts a factory class that will create and starts 10 synchronous clients. These clients must be listening constantly to the queues. Below is my code. I am not sure, if I am on right track and need some help. Is my implementation correct? How can I make sure that 10 synchronous clients are created? How do I use identifier to identify which  message client processed the message ?\r\n\r\nApplication.java\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n        @Bean\r\n        public MesFactory mesFactory(){\r\n            return new MesFactory();\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n    \r\n    public class MesFactory {\r\n    \r\n        private ExecutorService executorService = \r\n    \r\n        Executors.newFixedThreadPool(10);\r\n    \r\n        @PostConstruct\r\n        public void build(){\r\n            executorService.execute(() -&gt; new MesClient());\r\n        }\r\n    }\r\n    \r\n    \r\n    @Component\r\n    @EnableJms\r\n    public class MesClient {\r\n    \r\n        private static final Log log = LogFactory.getLog(MesClient.class);\r\n    \r\n        @Autowired\r\n        private JmsTemplate jmsTemplate;\r\n    \r\n        @JmsListener(destination = &quot;incoming-messages-queue&quot;)\r\n        public void receive(String message) {\r\n            System.out.println(&quot;Received &lt;&quot; + message + &quot;&gt;&quot;);\r\n            doPerformMessage(message);\r\n        }\r\n    \r\n        public void doPerformMessage(String message){\r\n           // parsing happens here\r\n        } \r\n    \r\n        @Bean\r\n        ConnectionFactory connectionFactory() {\r\n            return new RMQConnectionFactory();\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 100000000L)\r\n        public void sendMessage() {\r\n    \r\n            String message= &quot;Hi World&quot;;\r\n    \r\n            // Coerce a javax.jms.MessageCreator\r\n            MessageCreator messageCreator = (Session session) -&gt; {\r\n                return session.createTextMessage(message);\r\n            };\r\n    \r\n            // And publish to RabbitMQ using Spring&#39;s JmsTemplate\r\n            jmsTemplate.send(&quot;incoming-messages-queue&quot;, messageCreator);\r\n        }\r\n    \r\n    }\r\n\r\n   \r\n\r\n\r\n\r\n","title":"Spring Factory to create synchronous consumers listening to the queue","body":"<p>I am new to Spring Boot and coding for my college project work and I need some help.\nI want to create a spring boot application, which starts a factory class that will create and starts 10 synchronous clients. These clients must be listening constantly to the queues. Below is my code. I am not sure, if I am on right track and need some help. Is my implementation correct? How can I make sure that 10 synchronous clients are created? How do I use identifier to identify which  message client processed the message ?</p>\n\n<p>Application.java</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    @Bean\n    public MesFactory mesFactory(){\n        return new MesFactory();\n    }\n\n    public static void main(String... args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\npublic class MesFactory {\n\n    private ExecutorService executorService = \n\n    Executors.newFixedThreadPool(10);\n\n    @PostConstruct\n    public void build(){\n        executorService.execute(() -&gt; new MesClient());\n    }\n}\n\n\n@Component\n@EnableJms\npublic class MesClient {\n\n    private static final Log log = LogFactory.getLog(MesClient.class);\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    @JmsListener(destination = \"incoming-messages-queue\")\n    public void receive(String message) {\n        System.out.println(\"Received &lt;\" + message + \"&gt;\");\n        doPerformMessage(message);\n    }\n\n    public void doPerformMessage(String message){\n       // parsing happens here\n    } \n\n    @Bean\n    ConnectionFactory connectionFactory() {\n        return new RMQConnectionFactory();\n    }\n\n    @Scheduled(fixedRate = 100000000L)\n    public void sendMessage() {\n\n        String message= \"Hi World\";\n\n        // Coerce a javax.jms.MessageCreator\n        MessageCreator messageCreator = (Session session) -&gt; {\n            return session.createTextMessage(message);\n        };\n\n        // And publish to RabbitMQ using Spring's JmsTemplate\n        jmsTemplate.send(\"incoming-messages-queue\", messageCreator);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1385153960,"post_id":20154237,"comment_id":30041155,"body_markdown":"I&#39;d check that the temp queue really gets created. Go to [ActiveMQ web console](http://activemq.apache.org/web-console.html) and see what&#39;s going on.","body":"I&#39;d check that the temp queue really gets created. Go to <a href=\"http://activemq.apache.org/web-console.html\" rel=\"nofollow noreferrer\">ActiveMQ web console</a> and see what&#39;s going on."},{"owner":{"account_id":1813967,"reputation":11821,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"score":0,"creation_date":1385154145,"post_id":20154237,"comment_id":30041252,"body_markdown":"I went to the ActiveMQ web admin web console and checked it. I didn&#39;t find any items under the `Queue` column. Should `TemporaryQueue` belong to `Queue` in ActiveMQ?","body":"I went to the ActiveMQ web admin web console and checked it. I didn&#39;t find any items under the <code>Queue</code> column. Should <code>TemporaryQueue</code> belong to <code>Queue</code> in ActiveMQ?"},{"owner":{"account_id":473351,"reputation":5860,"user_id":882403,"display_name":"dimoniy"},"score":0,"creation_date":1385155847,"post_id":20154237,"comment_id":30042018,"body_markdown":"I&#39;m not sure about queues created with createTemproraryQueue(), but named temp queues which just start with &quot;dynamicQueues&quot; definitely show up. Check out &quot;Dynamically creating destinations&quot; section of [this document](http://activemq.apache.org/jndi-support.html) - maybe it will work for your project","body":"I&#39;m not sure about queues created with createTemproraryQueue(), but named temp queues which just start with &quot;dynamicQueues&quot; definitely show up. Check out &quot;Dynamically creating destinations&quot; section of <a href=\"http://activemq.apache.org/jndi-support.html\" rel=\"nofollow noreferrer\">this document</a> - maybe it will work for your project"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385156654,"creation_date":1385156301,"answer_id":20154949,"question_id":20154237,"body_markdown":"If you are using spring-jms, why not just use a [MessageListenerAdapter][1] as your listener? - he will take care of the replyTo stuff and your listener can be a simple POJO.\r\n\r\nIn any case, you don&#39;t need to cast it to a Tempoarary queue; it&#39;s just a destination as far as the listener is concerned.\r\n\r\nCheckout the [MessageListenerAdapter` javadocs][2].\r\n\r\nAlso, you need to create a consumer on the temp queue on the sending side, to receive the reply. If the sending connection is closed, the temp queue will go away.\r\n\r\n[1]:http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/jms.html#jms-receiving-async-message-listener-adapter\r\n\r\n[2]:http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/adapter/MessageListenerAdapter.html","title":"Get receipt confirmation from the listener in JMS","body":"<p>If you are using spring-jms, why not just use a <a href=\"http://docs.spring.io/spring-framework/docs/current/spring-framework-reference/html/jms.html#jms-receiving-async-message-listener-adapter\" rel=\"nofollow\">MessageListenerAdapter</a> as your listener? - he will take care of the replyTo stuff and your listener can be a simple POJO.</p>\n\n<p>In any case, you don't need to cast it to a Tempoarary queue; it's just a destination as far as the listener is concerned.</p>\n\n<p>Checkout the <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/adapter/MessageListenerAdapter.html\" rel=\"nofollow\">MessageListenerAdapter` javadocs</a>.</p>\n\n<p>Also, you need to create a consumer on the temp queue on the sending side, to receive the reply. If the sending connection is closed, the temp queue will go away.</p>\n"},{"tags":[],"owner":{"account_id":1813967,"reputation":11821,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385312310,"creation_date":1385312310,"answer_id":20177223,"question_id":20154237,"body_markdown":"I ended up using a separate JMS Queue to send the acknowledge message from the listener-1 to the sender. For some reason, the temporaryQueue created by ActiveMQ is not available during the JMS session. ","title":"Get receipt confirmation from the listener in JMS","body":"<p>I ended up using a separate JMS Queue to send the acknowledge message from the listener-1 to the sender. For some reason, the temporaryQueue created by ActiveMQ is not available during the JMS session. </p>\n"}],"owner":{"account_id":1813967,"reputation":11821,"user_id":1649466,"accept_rate":64,"display_name":"tonga"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696811297,"creation_date":1385153437,"question_id":20154237,"body_markdown":"I&#39;m using Spring JMS and ActiveMQ to send message from a sender to multiple listeners using JMS topic (publish/subscribe). So far all listeners can receive message from the sender. But I want to add a functionality that when a particular listener, say listener1, gets the message, listener1 will send a receipt confirmation to the sender. I followed the comment in  [my old post][1] and created a `TemporaryQueue` in the sender and used ReplyTo in the sender and receiver to get the confirmation message from the listener to the sender. \r\n\r\nMy sender class is:\r\n\r\n    public class CustomerStatusSender {\r\n    \tprivate JmsTemplate jmsTemplate;\r\n    \tprivate Topic topic;\r\n    \r\n    \tpublic void setJmsTemplate(JmsTemplate jmsTemplate) {\r\n    \t\tthis.jmsTemplate = jmsTemplate;\r\n    \t}\r\n    \t\r\n    \tpublic void setTopic(Topic topic) {\r\n    \t\tthis.topic = topic;\r\n    \t}\r\n    \t\r\n    \tpublic void simpleSend(final String customerStatusMessage) {\r\n    \t\tjmsTemplate.send(topic, new MessageCreator() {\r\n    \t\t\tpublic Message createMessage(Session session) throws JMSException {\r\n    \t\t\t\tTextMessage message = session.createTextMessage(&quot;hello world&quot;);\r\n    \t\t\t\tmessage.setStringProperty(&quot;content&quot;, customerStatusMessage);\r\n    \t\t\t\tmessage.setIntProperty(&quot;count&quot;, 10);\r\n    \t\t\t\t//send acknowledge request to a listener via a tempQueue\r\n    \t\t\t\tDestination tempQueue = session.createTemporaryQueue();\r\n    \t\t\t\tmessage.setJMSCorrelationID(&quot;replyMessage&quot;);\r\n    \t\t\t\tmessage.setJMSReplyTo(tempQueue);\r\n    \t\t\t\treturn message;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    }\r\n\r\nThe sender creates a `TemporaryQueue` for the listener to send back the confirmation message. Then in one of the listeners, I have the following code to send the confirmation message back to the sender:\r\n\r\n    public class CustomerStatusListener implements SessionAwareMessageListener&lt;Message&gt; {\r\n    \tpublic void onMessage(Message message, Session session) {\r\n    \t\tif (message instanceof TextMessage) {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.println(&quot;Subscriber 1 got you! The message is: &quot;\r\n    \t\t\t\t\t\t+ message.getStringProperty(&quot;content&quot;));\r\n    \t\t\t\t//create a receipt confirmation message and send it back to the sender\r\n    \t\t\t\tMessage response = session.createMessage();\r\n    \t\t\t\tresponse.setJMSCorrelationID(message.getJMSCorrelationID());\r\n    \t\t\t\tresponse.setBooleanProperty(&quot;Ack&quot;, true);\r\n    \t\t\t\tTemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\r\n    \t\t\t\tMessageProducer producer = session.createProducer(tempQueue);\r\n    \t\t\t\tproducer.send(tempQueue, response);\r\n    \t\t\t} catch (JMSException ex) {\r\n    \t\t\t\tthrow new RuntimeException(ex);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(\r\n    \t\t\t\t\t&quot;Message must be of type TextMessage&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHowever, I found that the following line in the Listener class throws an error:\r\n\r\n    TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\r\n    MessageProducer producer = session.createProducer(tempQueue);\r\n\r\nThe exception error says: \r\n\r\n    The destination temp-queue://ID:xyz-1385491-1:2:1 does not exist. \r\n\r\nSo what&#39;s wrong here? I assume that `tempQueue` created by the sender is available for the listener in the same JMS session. Why the `tempQueue` object after calling `message.getJMSReplyTo()` does not return a valid `TemporaryQueue`? \r\n\r\nThe other question is: How do I receive the confirmation message in the sender? Should I implements `MessageListener` interface in the sender in order to receive the confirmation from the listener? Or should I just call `receive()` method to receive it synchronously?\r\n\r\nThanks for any suggestions!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20059056/how-to-know-if-a-listener-gets-the-message-in-jms","title":"Get receipt confirmation from the listener in JMS","body":"<p>I'm using Spring JMS and ActiveMQ to send message from a sender to multiple listeners using JMS topic (publish/subscribe). So far all listeners can receive message from the sender. But I want to add a functionality that when a particular listener, say listener1, gets the message, listener1 will send a receipt confirmation to the sender. I followed the comment in  <a href=\"https://stackoverflow.com/questions/20059056/how-to-know-if-a-listener-gets-the-message-in-jms\">my old post</a> and created a <code>TemporaryQueue</code> in the sender and used ReplyTo in the sender and receiver to get the confirmation message from the listener to the sender.</p>\n<p>My sender class is:</p>\n<pre><code>public class CustomerStatusSender {\n    private JmsTemplate jmsTemplate;\n    private Topic topic;\n\n    public void setJmsTemplate(JmsTemplate jmsTemplate) {\n        this.jmsTemplate = jmsTemplate;\n    }\n    \n    public void setTopic(Topic topic) {\n        this.topic = topic;\n    }\n    \n    public void simpleSend(final String customerStatusMessage) {\n        jmsTemplate.send(topic, new MessageCreator() {\n            public Message createMessage(Session session) throws JMSException {\n                TextMessage message = session.createTextMessage(&quot;hello world&quot;);\n                message.setStringProperty(&quot;content&quot;, customerStatusMessage);\n                message.setIntProperty(&quot;count&quot;, 10);\n                //send acknowledge request to a listener via a tempQueue\n                Destination tempQueue = session.createTemporaryQueue();\n                message.setJMSCorrelationID(&quot;replyMessage&quot;);\n                message.setJMSReplyTo(tempQueue);\n                return message;\n            }\n        });\n    }\n}\n</code></pre>\n<p>The sender creates a <code>TemporaryQueue</code> for the listener to send back the confirmation message. Then in one of the listeners, I have the following code to send the confirmation message back to the sender:</p>\n<pre><code>public class CustomerStatusListener implements SessionAwareMessageListener&lt;Message&gt; {\n    public void onMessage(Message message, Session session) {\n        if (message instanceof TextMessage) {\n            try {\n                System.out.println(&quot;Subscriber 1 got you! The message is: &quot;\n                        + message.getStringProperty(&quot;content&quot;));\n                //create a receipt confirmation message and send it back to the sender\n                Message response = session.createMessage();\n                response.setJMSCorrelationID(message.getJMSCorrelationID());\n                response.setBooleanProperty(&quot;Ack&quot;, true);\n                TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\n                MessageProducer producer = session.createProducer(tempQueue);\n                producer.send(tempQueue, response);\n            } catch (JMSException ex) {\n                throw new RuntimeException(ex);\n            }\n        } else {\n            throw new IllegalArgumentException(\n                    &quot;Message must be of type TextMessage&quot;);\n        }\n    }\n}\n</code></pre>\n<p>However, I found that the following line in the Listener class throws an error:</p>\n<pre><code>TemporaryQueue tempQueue = (TemporaryQueue) message.getJMSReplyTo();\nMessageProducer producer = session.createProducer(tempQueue);\n</code></pre>\n<p>The exception error says:</p>\n<pre><code>The destination temp-queue://ID:xyz-1385491-1:2:1 does not exist. \n</code></pre>\n<p>So what's wrong here? I assume that <code>tempQueue</code> created by the sender is available for the listener in the same JMS session. Why the <code>tempQueue</code> object after calling <code>message.getJMSReplyTo()</code> does not return a valid <code>TemporaryQueue</code>?</p>\n<p>The other question is: How do I receive the confirmation message in the sender? Should I implements <code>MessageListener</code> interface in the sender in order to receive the confirmation from the listener? Or should I just call <code>receive()</code> method to receive it synchronously?</p>\n<p>Thanks for any suggestions!</p>\n"},{"tags":["java","spring-boot","spring-jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1596752936,"post_id":63290283,"comment_id":111920189,"body_markdown":"So is the code you pasted the code you&#39;re using to generate the warning about exceeding the number of allowed connections or the code you modified in order to avoid the warning?","body":"So is the code you pasted the code you&#39;re using to generate the warning about exceeding the number of allowed connections or the code you modified in order to avoid the warning?"},{"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"score":0,"creation_date":1596814266,"post_id":63290283,"comment_id":111940892,"body_markdown":"@JustinBertram I only added finally block and didn&#39;t test it. If we exclude finally block, it&#39;s going to generate that warning message or who knows with finally block also it&#39;s going to behave in same manner.","body":"@JustinBertram I only added finally block and didn&#39;t test it. If we exclude finally block, it&#39;s going to generate that warning message or who knows with finally block also it&#39;s going to behave in same manner."}],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596741664,"creation_date":1596741664,"answer_id":63290424,"question_id":63290283,"body_markdown":"The issue is the below code, which will open new connection each message - you should make this ideally invoke this once (and again if connection expires). \r\n\r\n    // Getting JMS connection from the server and starting it\r\n    ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    connection = connectionFactory.createConnection();\r\n    connection.start();\r\n\r\n get a session from it and close the session. Based on usage you can even keep session for longer.\r\n","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>The issue is the below code, which will open new connection each message - you should make this ideally invoke this once (and again if connection expires).</p>\n<pre><code>// Getting JMS connection from the server and starting it\nConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\nconnection = connectionFactory.createConnection();\nconnection.start();\n</code></pre>\n<p>get a session from it and close the session. Based on usage you can even keep session for longer.</p>\n"},{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1597169216,"creation_date":1596816016,"answer_id":63305361,"question_id":63290283,"body_markdown":"The reason you&#39;re getting &quot;Exceeded the maximum number of allowed client connections&quot; is because you&#39;re creating connections and not closing them. In other words, your application is &quot;leaking&quot; connections. In order to fix the leak you need to close the connection. Closing a JMS connection in a `finally` block is the generally accepted practice so your code looks good there. However, you need to check for `null` in case there is a problem before the `connection` is actually created, e.g.:\r\n\r\n```java\r\nfinally {\r\n    if (connection != null) {\r\n        connection.close();\r\n    }                \r\n}\r\n```\r\n\r\nThat said, it&#39;s worth noting that creating &amp; closing a JMS connection &amp; session &amp; producer to send a *single* message is a well-known anti-pattern. It would be better if you cached the connection (e.g. in a `static` variable) and re-used it. For example:\r\n\r\n```java\r\n@Component\r\npublic class DownloadConsumer {\r\n\r\n   @Autowired\r\n   private JavaMailSender javaMailSender;\r\n\r\n   // one instance, reuse\r\n   private final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n\r\n   private static Connection connection;\r\n\r\n   private static Object connectionLock = new Object();\r\n\r\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\r\n   private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\r\n   private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\r\n   // default broker URL is : tcp://localhost:61616&quot;\r\n\r\n   private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\r\n   private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\r\n\r\n   // Working Code with JMS 2.0\r\n   @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\r\n   public void processBrokerQueues(String message) throws DaoException, JMSException {\r\n\r\n      try {\r\n\r\n         RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\r\n\r\n         String receivedStatus = requestDao.getRequestStatus(message);\r\n\r\n         //Retrieve Username from the message to include in an email\r\n         String[] parts = message.split(&quot;#&quot;);\r\n         String userName = parts[1].trim();\r\n\r\n         //Retrieve personnelID from the message to include in the webservice calls\r\n\r\n         String personnelID = parts[3].trim();\r\n\r\n         //Before sending this message, do the check for COMPLETE or ERROR etc\r\n         if (receivedStatus.equals(&quot;COMPLETE&quot;)) {\r\n\r\n            String latestUUID = requestDao.getUUID();\r\n\r\n            logger.info(&quot;Received UUID in Controller is as follows! &quot;);\r\n            logger.info(latestUUID);\r\n\r\n            requestDao.sendMessage(message, latestUUID);\r\n            logger.info(&quot;Received status is COMPLETE! &quot;);\r\n            logger.info(&quot;Sending email to the user! &quot;);\r\n            String emailMessage = &quot;Dear &quot; + userName + &quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\r\n            String recipientEmail = userName + &quot;@organization.com&quot;;\r\n\r\n            /*****************************************************\\\r\n             // START: EMAIL Related Code\r\n             *******************************************************/\r\n\r\n            MimeMessage msg = javaMailSender.createMimeMessage();\r\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n            helper.setFrom(&quot;ABCResearch@organization.com&quot;);\r\n            helper.setTo(recipientEmail);\r\n            helper.setSubject(&quot;Requested Files !&quot;);\r\n            helper.setText(emailMessage, true);\r\n\r\n            javaMailSender.send(msg);\r\n\r\n         } else {\r\n            try {\r\n               createConnection();\r\n\r\n               Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\r\n               // Destination represents here our queue &#39;MessageProducerJMSV1&#39; on the  JMS server\r\n               Destination destination = session.createQueue(subject);\r\n\r\n               MessageProducer producer = session.createProducer(destination);\r\n\r\n               //Sending message to the queue\r\n               TextMessage toSendMessage = session.createTextMessage(message);\r\n\r\n               long delay = 300 * 1000;\r\n               long period = 300 * 1000;\r\n\r\n               toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\r\n\r\n               producer.send(toSendMessage);\r\n            } catch (Throwable th) {\r\n               th.printStackTrace();\r\n               \r\n               synchronized (connectionLock) {\r\n                  // if there are any problems close the connection and it will be re-created next time\r\n                  if (connection != null) {\r\n                     connection.close();\r\n                     connection = null;\r\n                  }\r\n               }\r\n            }\r\n         }\r\n      } catch (Throwable th) {\r\n         th.printStackTrace();\r\n      }\r\n   }\r\n   \r\n   private void createConnection() {\r\n      synchronized (connectionLock) {\r\n         if (connection == null) {\r\n            // Getting JMS connection from the server\r\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n            connection = connectionFactory.createConnection();\r\n         }\r\n      }\r\n   }\r\n}\r\n```\r\nYou&#39;ll note that in this code there is no `finally` block to close the connection. That&#39;s intentional because the whole point of this code is *keep the connection open* so that it&#39;s not opening &amp; closing the connection to send a single message. The connection is being re-used between invocations. The only time the connection is closed is when a `Throwable` is caught.\r\n\r\nAlso, keep in mind that there&#39;s no reason to call `start()` on the JMS connection if it&#39;s just *sending* a message. The `start()` method only impacts *consumers*.","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>The reason you're getting &quot;Exceeded the maximum number of allowed client connections&quot; is because you're creating connections and not closing them. In other words, your application is &quot;leaking&quot; connections. In order to fix the leak you need to close the connection. Closing a JMS connection in a <code>finally</code> block is the generally accepted practice so your code looks good there. However, you need to check for <code>null</code> in case there is a problem before the <code>connection</code> is actually created, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>finally {\n    if (connection != null) {\n        connection.close();\n    }                \n}\n</code></pre>\n<p>That said, it's worth noting that creating &amp; closing a JMS connection &amp; session &amp; producer to send a <em>single</em> message is a well-known anti-pattern. It would be better if you cached the connection (e.g. in a <code>static</code> variable) and re-used it. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DownloadConsumer {\n\n   @Autowired\n   private JavaMailSender javaMailSender;\n\n   // one instance, reuse\n   private final CloseableHttpClient httpClient = HttpClients.createDefault();\n\n   private static Connection connection;\n\n   private static Object connectionLock = new Object();\n\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\n   private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\n   private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\n   // default broker URL is : tcp://localhost:61616&quot;\n\n   private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\n   private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\n\n   // Working Code with JMS 2.0\n   @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\n   public void processBrokerQueues(String message) throws DaoException, JMSException {\n\n      try {\n\n         RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\n\n         String receivedStatus = requestDao.getRequestStatus(message);\n\n         //Retrieve Username from the message to include in an email\n         String[] parts = message.split(&quot;#&quot;);\n         String userName = parts[1].trim();\n\n         //Retrieve personnelID from the message to include in the webservice calls\n\n         String personnelID = parts[3].trim();\n\n         //Before sending this message, do the check for COMPLETE or ERROR etc\n         if (receivedStatus.equals(&quot;COMPLETE&quot;)) {\n\n            String latestUUID = requestDao.getUUID();\n\n            logger.info(&quot;Received UUID in Controller is as follows! &quot;);\n            logger.info(latestUUID);\n\n            requestDao.sendMessage(message, latestUUID);\n            logger.info(&quot;Received status is COMPLETE! &quot;);\n            logger.info(&quot;Sending email to the user! &quot;);\n            String emailMessage = &quot;Dear &quot; + userName + &quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\n            String recipientEmail = userName + &quot;@organization.com&quot;;\n\n            /*****************************************************\\\n             // START: EMAIL Related Code\n             *******************************************************/\n\n            MimeMessage msg = javaMailSender.createMimeMessage();\n            MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n            helper.setFrom(&quot;ABCResearch@organization.com&quot;);\n            helper.setTo(recipientEmail);\n            helper.setSubject(&quot;Requested Files !&quot;);\n            helper.setText(emailMessage, true);\n\n            javaMailSender.send(msg);\n\n         } else {\n            try {\n               createConnection();\n\n               Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n\n               // Destination represents here our queue 'MessageProducerJMSV1' on the  JMS server\n               Destination destination = session.createQueue(subject);\n\n               MessageProducer producer = session.createProducer(destination);\n\n               //Sending message to the queue\n               TextMessage toSendMessage = session.createTextMessage(message);\n\n               long delay = 300 * 1000;\n               long period = 300 * 1000;\n\n               toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\n\n               producer.send(toSendMessage);\n            } catch (Throwable th) {\n               th.printStackTrace();\n               \n               synchronized (connectionLock) {\n                  // if there are any problems close the connection and it will be re-created next time\n                  if (connection != null) {\n                     connection.close();\n                     connection = null;\n                  }\n               }\n            }\n         }\n      } catch (Throwable th) {\n         th.printStackTrace();\n      }\n   }\n   \n   private void createConnection() {\n      synchronized (connectionLock) {\n         if (connection == null) {\n            // Getting JMS connection from the server\n            ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n            connection = connectionFactory.createConnection();\n         }\n      }\n   }\n}\n</code></pre>\n<p>You'll note that in this code there is no <code>finally</code> block to close the connection. That's intentional because the whole point of this code is <em>keep the connection open</em> so that it's not opening &amp; closing the connection to send a single message. The connection is being re-used between invocations. The only time the connection is closed is when a <code>Throwable</code> is caught.</p>\n<p>Also, keep in mind that there's no reason to call <code>start()</code> on the JMS connection if it's just <em>sending</em> a message. The <code>start()</code> method only impacts <em>consumers</em>.</p>\n"}],"owner":{"account_id":2624585,"reputation":1457,"user_id":2271895,"accept_rate":97,"display_name":"Tan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63305361,"answer_count":2,"score":0,"last_activity_date":1696810585,"creation_date":1596741038,"question_id":63290283,"body_markdown":"I am trying to figure out a solution for the following error message without increasing the default connection size from 1000 to 2000 or more.\r\n\r\n Recently I came across the following error when around 1000 messages were sent to the broker with a delay of 5 minutes as shown in the code below.\r\n\r\n    WARN  | Could not accept connection  : Exceeded the maximum number of allowed client connections. See the &#39;maximumConnections&#39; property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600\r\n\r\n\r\n\r\n\r\n\r\nThe following is the code which is listening to ActiveMQ continously and as soon as it sees `COMPLETE`, it sends out an email to the user after generating a file.Otherwise, it goes inside `else`\r\nblock and sends out the message to the broker again. \r\n\r\nInside the else block, I want to test by closing the connection after I am done sending the message. So I have closed the connection inside a finally block as shown below. Is this a correct way to go about it?\r\n\r\n    @Component\r\n    public class DownloadConsumer {\r\n    \t\r\n    \t@Autowired\r\n        private JavaMailSender javaMailSender;\r\n    \t\r\n    \t// one instance, reuse\r\n        private final CloseableHttpClient httpClient = HttpClients.createDefault();\r\n        \r\n    \tConnection connection;\r\n    \t        \r\n    \t\r\n    \t// Working Code with JMS 2.0\r\n    \t@JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\r\n    \t\tpublic void processBrokerQueues(String message) throws DaoException, JMSException {\r\n    \t\t\t\r\n    \t\t\r\n    \t\t try {\r\n    \t\t\t\r\n    \t\t\tRequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\r\n    \t\t\t\r\n    \t\t\tString receivedStatus = requestDao.getRequestStatus(message);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t     \r\n    \t\t\t//Retrieve Username from the message to include in an email\r\n    \t\t\t String[] parts = message.split(&quot;#&quot;);\r\n    \t\t\t String userName = parts[1].trim();\r\n    \t\t\t \r\n    \t\t\t//Retrieve personnelID from the message to include in the webservice calls\r\n    \t\t\t\r\n    \t\t\t String personnelID = parts[3].trim();\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t//Before sending this message, do the check for COMPLETE or ERROR etc\r\n    \t\t\tif(receivedStatus.equals(&quot;COMPLETE&quot;)) {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tString latestUUID = requestDao.getUUID();\r\n    \t\t\t\t\r\n    \t\t\t\tlogger.info(&quot;Received UUID in Controller is as follows! &quot;);\r\n    \t\t\t\tlogger.info(latestUUID);\r\n    \t\t\t\t\r\n    \t\t\t\trequestDao.sendMessage(message,latestUUID);\r\n    \t\t\t\tlogger.info(&quot;Received status is COMPLETE! &quot;);\r\n    \t\t\t\tlogger.info(&quot;Sending email to the user! &quot;);\r\n    \t\t\t\tString emailMessage = &quot;Dear &quot;+userName+&quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\r\n    \t\t\t\tString recipientEmail = userName+&quot;@organization.com&quot;;\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t/*****************************************************\\\r\n    \t\t\t\t// START: EMAIL Related Code\r\n    \t\t\t\t\r\n    \t\t\t\t *******************************************************/\r\n    \t\t\t\t\r\n    \t\t\t\tMimeMessage msg = javaMailSender.createMimeMessage();\r\n    \t\t\t\t MimeMessageHelper helper = new MimeMessageHelper(msg, true);\r\n    \t\t\t\t helper.setFrom(&quot;ABCResearch@organization.com&quot;);\r\n    \t\t\t\t helper.setTo(recipientEmail);\r\n    \t\t\t\t helper.setSubject(&quot;Requested Files !&quot;);\r\n    \t\t\t\t helper.setText(emailMessage,true);\r\n    \t\t\t\t \r\n    \t\t\t\t javaMailSender.send(msg);\r\n    \t\t\t\t \r\n    \t\t\t\t\r\n    \t\t\t        \r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t// Getting JMS connection from the server and starting it\r\n    \t\t\t\tConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\r\n    \t\t\t\tconnection = connectionFactory.createConnection();\r\n    \t\t\t\tconnection.start();\r\n    \t\t\t\t\r\n    \t\t\t\tSession session = connection.createSession(false,\r\n    \t\t\t\t\t\tSession.AUTO_ACKNOWLEDGE);\r\n    \t\t\t\t\r\n    \t\t\t\t// Destination represents here our queue &#39;MessageProducerJMSV1&#39; on the  JMS server\r\n    \t\t\t\tDestination destination = session.createQueue(subject);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\tMessageProducer producer = session.createProducer(destination);\r\n    \t\t\t\t\r\n    \t\t\t\t//Sending message to the queue\r\n    \t\t\t\tTextMessage toSendMessage = session.createTextMessage(message);\r\n    \t\t\t\t\r\n    \t\t\t\tlong delay = 300 * 1000;\r\n    \t\t\t\tlong period =300 * 1000;\r\n    \t\t\t\t\r\n    \t\t\t\ttoSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\r\n    \t\t\t\t\r\n    \t\t\t\tproducer.send(toSendMessage);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t}\r\n    \t\t\tcatch(Throwable th){\r\n    \t\t\t\tth.printStackTrace();\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tfinally {\r\n    \t\t\t\r\n    \t\t\t\tconnection.close();\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t     }\r\n       // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\r\n    \tprivate static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\r\n    \tprivate static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\r\n    \t// default broker URL is : tcp://localhost:61616&quot;\r\n    \t\r\n    \tprivate static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\r\n    \t\r\n    \t\r\n    \r\n    }","title":"Trying to release conncection to avoid maximum client connection error","body":"<p>I am trying to figure out a solution for the following error message without increasing the default connection size from 1000 to 2000 or more.</p>\n<p>Recently I came across the following error when around 1000 messages were sent to the broker with a delay of 5 minutes as shown in the code below.</p>\n<pre><code>WARN  | Could not accept connection  : Exceeded the maximum number of allowed client connections. See the 'maximumConnections' property on the TCP transport configuration URI in the ActiveMQ configuration file (e.g., activemq.xml) | org.apache.activemq.broker.TransportConnector | ActiveMQ Transport Server Thread Handler: tcp://0.0.0.0:61616?maximumConnections=1000&amp;wireFormat.maxFrameSize=104857600\n</code></pre>\n<p>The following is the code which is listening to ActiveMQ continously and as soon as it sees <code>COMPLETE</code>, it sends out an email to the user after generating a file.Otherwise, it goes inside <code>else</code>\nblock and sends out the message to the broker again.</p>\n<p>Inside the else block, I want to test by closing the connection after I am done sending the message. So I have closed the connection inside a finally block as shown below. Is this a correct way to go about it?</p>\n<pre><code>@Component\npublic class DownloadConsumer {\n    \n    @Autowired\n    private JavaMailSender javaMailSender;\n    \n    // one instance, reuse\n    private final CloseableHttpClient httpClient = HttpClients.createDefault();\n    \n    Connection connection;\n            \n    \n    // Working Code with JMS 2.0\n    @JmsListener(destination = &quot;MessageProducerJMSV1&quot;)\n        public void processBrokerQueues(String message) throws DaoException, JMSException {\n            \n        \n         try {\n            \n            RequestDao requestDao = (RequestDao) context.getBean(&quot;requestDao&quot;);\n            \n            String receivedStatus = requestDao.getRequestStatus(message);\n            \n            \n             \n            //Retrieve Username from the message to include in an email\n             String[] parts = message.split(&quot;#&quot;);\n             String userName = parts[1].trim();\n             \n            //Retrieve personnelID from the message to include in the webservice calls\n            \n             String personnelID = parts[3].trim();\n            \n            \n            \n            \n            //Before sending this message, do the check for COMPLETE or ERROR etc\n            if(receivedStatus.equals(&quot;COMPLETE&quot;)) {\n                \n                \n                \n                String latestUUID = requestDao.getUUID();\n                \n                logger.info(&quot;Received UUID in Controller is as follows! &quot;);\n                logger.info(latestUUID);\n                \n                requestDao.sendMessage(message,latestUUID);\n                logger.info(&quot;Received status is COMPLETE! &quot;);\n                logger.info(&quot;Sending email to the user! &quot;);\n                String emailMessage = &quot;Dear &quot;+userName+&quot;,&lt;p&gt;Your files are ready. &lt;/p&gt;&lt;p&gt; Thanks,&lt;br/&gt; Jack/p&gt;&quot;;\n                String recipientEmail = userName+&quot;@organization.com&quot;;\n                \n                \n                \n                \n                /*****************************************************\\\n                // START: EMAIL Related Code\n                \n                 *******************************************************/\n                \n                MimeMessage msg = javaMailSender.createMimeMessage();\n                 MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n                 helper.setFrom(&quot;ABCResearch@organization.com&quot;);\n                 helper.setTo(recipientEmail);\n                 helper.setSubject(&quot;Requested Files !&quot;);\n                 helper.setText(emailMessage,true);\n                 \n                 javaMailSender.send(msg);\n                 \n                \n                    \n                                \n            }\n            else {\n                \n                \n                // Getting JMS connection from the server and starting it\n                ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(url);\n                connection = connectionFactory.createConnection();\n                connection.start();\n                \n                Session session = connection.createSession(false,\n                        Session.AUTO_ACKNOWLEDGE);\n                \n                // Destination represents here our queue 'MessageProducerJMSV1' on the  JMS server\n                Destination destination = session.createQueue(subject);\n                \n                \n                MessageProducer producer = session.createProducer(destination);\n                \n                //Sending message to the queue\n                TextMessage toSendMessage = session.createTextMessage(message);\n                \n                long delay = 300 * 1000;\n                long period =300 * 1000;\n                \n                toSendMessage.setLongProperty(ScheduledMessage.AMQ_SCHEDULED_DELAY, delay);\n                \n                producer.send(toSendMessage);\n                \n                \n                \n                \n            }\n            \n            }\n            catch(Throwable th){\n                th.printStackTrace();   \n                \n            }\n            finally {\n            \n                connection.close();\n                \n            }\n            \n         }\n   // URL of the JMS server. DEFAULT_BROKER_URL will just mean that JMS server is on localhost\n    private static String url = ActiveMQConnection.DEFAULT_BROKER_URL;\n    private static String subject = &quot;MessageProducerJMSV1&quot;; //Queue Name\n    // default broker URL is : tcp://localhost:61616&quot;\n    \n    private static ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;ApplicationContext.xml&quot;);\n    private static final Logger logger = LoggerFactory.getLogger(DownloadConsumer.class);\n    \n    \n\n}\n</code></pre>\n"},{"tags":["java","concurrency","spring-jms"],"comments":[{"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"score":0,"creation_date":1445842874,"post_id":33339224,"comment_id":54476041,"body_markdown":"What do you mean by &quot;in reality it starts 3 consumers simultaneously&quot; ? If you can see 10 consumers in AMQ console, then you have 10 consumers. Try give it steady load over time and you will notice all 10 consumers will get load.","body":"What do you mean by &quot;in reality it starts 3 consumers simultaneously&quot; ? If you can see 10 consumers in AMQ console, then you have 10 consumers. Try give it steady load over time and you will notice all 10 consumers will get load."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445843073,"post_id":33339224,"comment_id":54476125,"body_markdown":"@PetterNordlander I will just update my question to bring in clarity.","body":"@PetterNordlander I will just update my question to bring in clarity."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445843332,"post_id":33339224,"comment_id":54476242,"body_markdown":"@PetterNordlander please see my edit. I mean to say in my consumer code i am printing received message text. So from output it looks like it has started 3 consumers simultaneously and not 10.","body":"@PetterNordlander please see my edit. I mean to say in my consumer code i am printing received message text. So from output it looks like it has started 3 consumers simultaneously and not 10."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445850102,"post_id":33339224,"comment_id":54479405,"body_markdown":"@PetterNordlander please see my observations in the question above. I have updated my question.","body":"@PetterNordlander please see my observations in the question above. I have updated my question."},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":1,"creation_date":1445850748,"post_id":33339224,"comment_id":54479778,"body_markdown":"@mahendra if you specify only one number it means a &quot;maximum&quot; number of consumers will be started. Which mean always less than &quot;maximum&quot; is started unless Spring JMS thinks it needs more. Try to specify a range with a minimum value and give your consumer a steady load (not 50 messages). And you will see all consumers working up to the specified maximum.","body":"@mahendra if you specify only one number it means a &quot;maximum&quot; number of consumers will be started. Which mean always less than &quot;maximum&quot; is started unless Spring JMS thinks it needs more. Try to specify a range with a minimum value and give your consumer a steady load (not 50 messages). And you will see all consumers working up to the specified maximum."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445851052,"post_id":33339224,"comment_id":54479937,"body_markdown":"@Strelok By the term steady load you mean I should increase number of messages and specify range for consumers. Right ?","body":"@Strelok By the term steady load you mean I should increase number of messages and specify range for consumers. Right ?"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1445851711,"post_id":33339224,"comment_id":54480324,"body_markdown":"Just start your consumer program and then start your producer to produce messages in an infinite loop as fast as possible. You will see all your consumers working.","body":"Just start your consumer program and then start your producer to produce messages in an infinite loop as fast as possible. You will see all your consumers working."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445851992,"post_id":33339224,"comment_id":54480477,"body_markdown":"Yes that way I can see. But consumer and producer are 2 independent applications. Consumer may not be available at the same time when producer sends messages.","body":"Yes that way I can see. But consumer and producer are 2 independent applications. Consumer may not be available at the same time when producer sends messages."},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445852356,"post_id":33339224,"comment_id":54480672,"body_markdown":"And If I first start producer and send messages and then start consumer I can see it is hardly consuming with 3 threads maximum and not 5","body":"And If I first start producer and send messages and then start consumer I can see it is hardly consuming with 3 threads maximum and not 5"},{"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"score":0,"creation_date":1445855114,"post_id":33339224,"comment_id":54482308,"body_markdown":"Well.. DMLC is built to adjust to a given load with some algorithm.  I fail to see the problem. As well, DMLC is not really built to scale well with start/stop behavior. Rather it&#39;s usually kept running with a given amount of max consumers. If you want to do some detailed tweaks on this, consider implementing your own message listener and threading, or extend DMLC","body":"Well.. DMLC is built to adjust to a given load with some algorithm.  I fail to see the problem. As well, DMLC is not really built to scale well with start/stop behavior. Rather it&#39;s usually kept running with a given amount of max consumers. If you want to do some detailed tweaks on this, consider implementing your own message listener and threading, or extend DMLC"},{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1445855674,"post_id":33339224,"comment_id":54482639,"body_markdown":"Your consumers can be prefetching many messages at ones from the queue. The answers in this question might be helpful: http://stackoverflow.com/questions/12583161/defaultmessagelistenercontainer-not-scaling","body":"Your consumers can be prefetching many messages at ones from the queue. The answers in this question might be helpful: <a href=\"http://stackoverflow.com/questions/12583161/defaultmessagelistenercontainer-not-scaling\" title=\"defaultmessagelistenercontainer not scaling\">stackoverflow.com/questions/12583161/&hellip;</a>"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1445856221,"post_id":33339224,"comment_id":54482986,"body_markdown":"@Strelok But I am not setting any `prefetch` attribute on listener-container","body":"@Strelok But I am not setting any <code>prefetch</code> attribute on listener-container"},{"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"score":0,"creation_date":1446006906,"post_id":33339224,"comment_id":54559398,"body_markdown":"@Gary Russell can you provide some suggestion on this ? I have posted my solution below. But just want to know is this proper way of doing this ?","body":"@Gary Russell can you provide some suggestion on this ? I have posted my solution below. But just want to know is this proper way of doing this ?"}],"answers":[{"tags":[],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445864655,"creation_date":1445864655,"answer_id":33346507,"question_id":33339224,"body_markdown":"As Strelok pointed me about prefetching of messages. Created `prefetchPolicy` bean with `queuePrefetch` property set to 1.\r\nWhose reference is set in connectionFactory.\r\n\r\nI did some changes in configuration, those are as below:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\r\n    \r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/jms\r\n    \thttp://www.springframework.org/schema/jms/spring-jms-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot; p:brokerURL=&quot;tcp://localhost:61616&quot;\r\n    \t\tp:prefetchPolicy-ref=&quot;prefetchPolicy&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;prefetchPolicy&quot; class=&quot;org.apache.activemq.ActiveMQPrefetchPolicy&quot;\r\n    \t\tp:queuePrefetch=&quot;1&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;listener&quot; class=&quot;com.javatpoint.MyMessageListener&quot;&gt;&lt;/bean&gt;\r\n    \r\n    \t&lt;jms:listener-container concurrency=&quot;10-15&quot; connection-factory=&quot;connectionFactory&quot;&gt;\r\n    \t\t&lt;jms:listener destination=&quot;javatpointQueue&quot; ref=&quot;listener&quot;\r\n    \t\t\tmethod=&quot;onMessage&quot;&gt;&lt;/jms:listener&gt;\r\n    \t&lt;/jms:listener-container&gt;\r\n    \r\n    \t&lt;!-- The JMS destination --&gt;\r\n    \r\n    \t  &lt;bean id=&quot;destination&quot; class=&quot;org.apache.activemq.command.ActiveMQQueue&quot;&gt;\r\n    \t    &lt;constructor-arg value=&quot;javatpointQueue&quot; /&gt;\r\n    \t  &lt;/bean&gt;\r\n    &lt;/beans&gt;","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>As Strelok pointed me about prefetching of messages. Created <code>prefetchPolicy</code> bean with <code>queuePrefetch</code> property set to 1.\nWhose reference is set in connectionFactory.</p>\n\n<p>I did some changes in configuration, those are as below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jms=\"http://www.springframework.org/schema/jms\"\n\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/jms\n    http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\"&gt;\n\n    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\" p:brokerURL=\"tcp://localhost:61616\"\n        p:prefetchPolicy-ref=\"prefetchPolicy\" /&gt;\n\n    &lt;bean id=\"prefetchPolicy\" class=\"org.apache.activemq.ActiveMQPrefetchPolicy\"\n        p:queuePrefetch=\"1\" /&gt;\n\n    &lt;bean id=\"listener\" class=\"com.javatpoint.MyMessageListener\"&gt;&lt;/bean&gt;\n\n    &lt;jms:listener-container concurrency=\"10-15\" connection-factory=\"connectionFactory\"&gt;\n        &lt;jms:listener destination=\"javatpointQueue\" ref=\"listener\"\n            method=\"onMessage\"&gt;&lt;/jms:listener&gt;\n    &lt;/jms:listener-container&gt;\n\n    &lt;!-- The JMS destination --&gt;\n\n      &lt;bean id=\"destination\" class=\"org.apache.activemq.command.ActiveMQQueue\"&gt;\n        &lt;constructor-arg value=\"javatpointQueue\" /&gt;\n      &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1489655,"reputation":1239,"user_id":1397066,"display_name":"Pavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494915024,"creation_date":1494915024,"answer_id":43993664,"question_id":33339224,"body_markdown":"JMS can work in concurrency mode. Below I am sharing the sample snippet \r\n***concurrentConsumers = 100 value***\r\n\r\n[Spring JMS Documentation][1]\r\n\r\n    &lt;bean id=&quot;listenerContainer&quot;\t\tclass=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n    \t\t&lt;property name=&quot;concurrentConsumers&quot;&gt;\r\n    \t\t\t&lt;value&gt;100&lt;/value&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;destination&quot; ref=&quot;queue&quot; /&gt;\r\n    \t\t&lt;property name=&quot;messageListener&quot; ref=&quot;messageListener&quot; /&gt;\r\n    \t\t&lt;property name=&quot;sessionTransacted&quot; value=&quot;false&quot; /&gt;\r\n    \t\t&lt;property name=&quot;sessionAcknowledgeMode&quot; value=&quot;1&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/4.0.3.RELEASE/spring-framework-reference/html/remoting.html#remoting-jms","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>JMS can work in concurrency mode. Below I am sharing the sample snippet \n<strong><em>concurrentConsumers = 100 value</em></strong></p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/4.0.3.RELEASE/spring-framework-reference/html/remoting.html#remoting-jms\" rel=\"nofollow noreferrer\">Spring JMS Documentation</a></p>\n\n<pre><code>&lt;bean id=\"listenerContainer\"        class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"&gt;\n        &lt;property name=\"concurrentConsumers\"&gt;\n            &lt;value&gt;100&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=\"connectionFactory\" ref=\"connectionFactory\" /&gt;\n        &lt;property name=\"destination\" ref=\"queue\" /&gt;\n        &lt;property name=\"messageListener\" ref=\"messageListener\" /&gt;\n        &lt;property name=\"sessionTransacted\" value=\"false\" /&gt;\n        &lt;property name=\"sessionAcknowledgeMode\" value=\"1\" /&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9167277,"reputation":161,"user_id":6816321,"display_name":"Alexey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1524903069,"creation_date":1524903069,"answer_id":50074363,"question_id":33339224,"body_markdown":"Just met this problem on spring-boot 1.5.9 application.\r\n\r\nAs pointed out by @Strelok and @mahendra kawde, the issue is due to prefetchPolicy parameter. The default value is 1000.\r\n\r\n&gt; Large prefetch values are recommended for high performance with high message volumes. However, for lower message volumes, where each message takes a long time to process, the prefetch should be set to 1. This ensures that a consumer is only processing one message at a time. Specifying a prefetch limit of zero, however, will cause the consumer to poll for messages, one at a time, instead of the message being pushed to the consumer.\r\n\r\nTake a look at http://activemq.apache.org/what-is-the-prefetch-limit-for.html\r\n\r\nOne can change prefetchPolicy parameter as following:\r\n\r\n 1. In `application.properties` file ([working example][1])\r\n\r\n        spring.activemq.broker-url=tcp://localhost:61616?jms.prefetchPolicy.queuePrefetch=1\r\n 2. In DefaultMessageListenerContainer by modifying destinationName parameter ([working example][2]) \r\n\r\n        &lt;bean id=&quot;cons-even&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;\r\n          &lt;property name=&quot;destinationName&quot; value=&quot;queue-name?consumer.prefetchSize=1&quot;/&gt;\r\n          ...\r\n        &lt;/bean&gt;\r\n\r\n 3. In ConnectionFactory bean ([working example][3]):\r\n\r\n        @Bean\r\n        public ConnectionFactory jmsConnectionFactory() {\r\n            ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(brokerUrl);\r\n            ActiveMQPrefetchPolicy policy = new ActiveMQPrefetchPolicy();\r\n            policy.setQueuePrefetch(1);\r\n            factory.setPrefetchPolicy(policy);\r\n            return factory;\r\n        }\r\n\r\n\r\nRelated topics:\r\n\r\n 1. https://stackoverflow.com/questions/35492496/how-do-i-make-spring-jmslistener-burst-to-max-concurrent-threads\r\n 2. https://stackoverflow.com/questions/43042909/dynamic-scaling-of-jms-consumer-in-spring-boot\r\n\r\n\r\n  [1]: https://github.com/estarter/jms-spring-camel-demo/tree/conf1\r\n  [2]: https://github.com/estarter/jms-spring-camel-demo/tree/conf2\r\n  [3]: https://github.com/estarter/jms-spring-camel-demo/tree/conf3","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>Just met this problem on spring-boot 1.5.9 application.</p>\n\n<p>As pointed out by @Strelok and @mahendra kawde, the issue is due to prefetchPolicy parameter. The default value is 1000.</p>\n\n<blockquote>\n  <p>Large prefetch values are recommended for high performance with high message volumes. However, for lower message volumes, where each message takes a long time to process, the prefetch should be set to 1. This ensures that a consumer is only processing one message at a time. Specifying a prefetch limit of zero, however, will cause the consumer to poll for messages, one at a time, instead of the message being pushed to the consumer.</p>\n</blockquote>\n\n<p>Take a look at <a href=\"http://activemq.apache.org/what-is-the-prefetch-limit-for.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/what-is-the-prefetch-limit-for.html</a></p>\n\n<p>One can change prefetchPolicy parameter as following:</p>\n\n<ol>\n<li><p>In <code>application.properties</code> file (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf1\" rel=\"nofollow noreferrer\">working example</a>)</p>\n\n<pre><code>spring.activemq.broker-url=tcp://localhost:61616?jms.prefetchPolicy.queuePrefetch=1\n</code></pre></li>\n<li><p>In DefaultMessageListenerContainer by modifying destinationName parameter (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf2\" rel=\"nofollow noreferrer\">working example</a>) </p>\n\n<pre><code>&lt;bean id=\"cons-even\" class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"&gt;\n  &lt;property name=\"destinationName\" value=\"queue-name?consumer.prefetchSize=1\"/&gt;\n  ...\n&lt;/bean&gt;\n</code></pre></li>\n<li><p>In ConnectionFactory bean (<a href=\"https://github.com/estarter/jms-spring-camel-demo/tree/conf3\" rel=\"nofollow noreferrer\">working example</a>):</p>\n\n<pre><code>@Bean\npublic ConnectionFactory jmsConnectionFactory() {\n    ActiveMQConnectionFactory factory = new ActiveMQConnectionFactory(brokerUrl);\n    ActiveMQPrefetchPolicy policy = new ActiveMQPrefetchPolicy();\n    policy.setQueuePrefetch(1);\n    factory.setPrefetchPolicy(policy);\n    return factory;\n}\n</code></pre></li>\n</ol>\n\n<p>Related topics:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/35492496/how-do-i-make-spring-jmslistener-burst-to-max-concurrent-threads\">How do I make Spring JMSListener burst to max concurrent threads?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/43042909/dynamic-scaling-of-jms-consumer-in-spring-boot\">Dynamic scaling of JMS consumer in spring boot</a></li>\n</ol>\n"}],"owner":{"account_id":6335906,"reputation":855,"user_id":4919308,"accept_rate":49,"display_name":"mahendra kawde"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36105,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696810490,"creation_date":1445838644,"question_id":33339224,"body_markdown":"Hi I am learning Spring JMS with ActiveMQ. \r\nIn my example scenario is Producer application sends around 50 messages in queue and when I start Consumer application it starts to  consume those messages.\r\n\r\nNow I want multiple consumer threads to consume messages from queue.\r\nI am using **JMS listener-container**. When I googled for that I found there is a **concurrency** attribute.\r\n\r\nAccording to [Spring JMS doc][1] concurrency attribute specifies\r\n\r\n&gt; The number of concurrent sessions/consumers to start for each listener. Can either be a simple number indicating the maximum number (e.g. &quot;5&quot;) or a range indicating the lower as well as the upper limit (e.g. &quot;3-5&quot;). Note that a specified minimum is just a hint and might be ignored at runtime. Default is 1; keep concurrency limited to 1 in case of a topic listener or if queue ordering is important; consider raising it for general queues.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace\r\n\r\nBut in my configuration I am setting this attribute to 5 but it seems it fails to start 5 concurrent listeners.\r\n\r\nConfiguration for listener:\r\n\r\n**consumer-applicationContext.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:jms=&quot;http://www.springframework.org/schema/jms&quot;\r\n    \r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n    \thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \thttp://www.springframework.org/schema/jms\r\n    \thttp://www.springframework.org/schema/jms/spring-jms-3.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot; p:brokerURL=&quot;tcp://localhost:61616&quot; /&gt;\r\n    \r\n    \t&lt;bean id=&quot;listener&quot; class=&quot;com.jms.example.MyMessageListener&quot;&gt;&lt;/bean&gt;\r\n    \r\n    \t&lt;jms:listener-container container-type=&quot;default&quot; concurrency=&quot;5&quot;\r\n    \t\tconnection-factory=&quot;connectionFactory&quot;&gt;\r\n    \t\t&lt;jms:listener destination=&quot;MyQueue&quot; ref=&quot;listener&quot;\r\n    \t\t\tmethod=&quot;onMessage&quot;&gt;&lt;/jms:listener&gt;\r\n    \t&lt;/jms:listener-container&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nAnd If I used bean **DefaultMessageListenerContainer** instead of **jms:listener-container** with properties:\r\n\r\n    &lt;bean id=&quot;msgListenerContainer&quot; \r\n    \t\tclass=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;\r\n    \t\tp:connectionFactory-ref=&quot;connectionFactory&quot;\r\n    \t\tp:destination-ref=&quot;destination&quot;\r\n    \t\tp:messageListener-ref=&quot;listener&quot;\r\n        \tp:concurrentConsumers=&quot;10&quot;\r\n    \t    p:maxConcurrentConsumers=&quot;50&quot; /&gt;\r\n\r\nThen in ActiveMQ console I could see 10 consumers but in reality it starts 3 consumers simultaneously or sometimes 6 or only 1 consumer.\r\n\r\n**EDIT:**\r\n\r\nConsumer code:\r\n\r\n    public class MyMessageListener implements MessageListener{\r\n    \r\n    \t\r\n    \tpublic void onMessage(Message m) {\r\n    \t\tTextMessage message=(TextMessage)m;\r\n    \t\ttry{\r\n    \t\t\tSystem.out.println(&quot;Start = &quot; + message.getText());\r\n    \t\t\tThread.sleep(5000);\r\n    \t\t\tSystem.out.println(&quot;End = &quot; + message.getText());\r\n    \t\t}catch (Exception e) {e.printStackTrace();\t}\r\n    \t}\r\n    }\r\n\r\nI am printing consumed messages on console whose output is explained in scenarios below:\r\n\r\n**OBSERVATION:**\r\n\r\nI observed some weird behavior. \r\nMy producer and consumer are two independent applications. \r\n\r\n**Scenario - 1:**\r\n\r\n 1. I start producer and send messages(Meanwhile consumer is NOT running)\r\n 2. Then I start consumer to consume messages.\r\n\r\nHere problem is it does not loads all 10 consumers. Sometimes it loads 3 OR 1.\r\n\r\n \r\n\r\n    Start = hello jms 1 // consumer 1 started \r\n    Start = hello jms 2 // consumer 2 started \r\n    Start = hello jms 3 // consumer 3 started \r\n    End = hello jms 1  //  consumer 1 ended\r\n    Start = hello jms 4 // consumer 4 started and hence always 3 consumers and not 10\r\n    End = hello jms 2\r\n    Start = hello jms 5\r\n    End = hello jms 3\r\n    Start = hello jms 6\r\n\r\n**Scenario - 2:**\r\n\r\n 1. I start producer and send messages(Meanwhile consumer is running)\r\n 2. Since the consumer is in running state it starts to consume them.\r\n\r\nSo it does load all 5 consumers properly as expected. so the output is:\r\n\r\n    Start = hello jms 1 // consumer 1 started \r\n    Start = hello jms 2 // consumer 2 started \r\n    Start = hello jms 3 // consumer 3 started \r\n    Start = hello jms 4 // consumer 4 started \r\n    Start = hello jms 5 // consumer 5 started \r\n    Start = hello jms 6 // consumer 6 started \r\n    Start = hello jms 7 // consumer 7 started \r\n    Start = hello jms 8 // consumer 8 started \r\n    Start = hello jms 9 // consumer 9 started \r\n    Start = hello jms 10 // consumer 10 started. Hence all them started at same time as expected.\r\n    End = hello jms 1\r\n    Start = hello jms 11\r\n    End = hello jms 2\r\n    Start = hello jms 12\r\n    End = hello jms 3\r\n    Start = hello jms 13\r\n\r\nWhy is this happening. It is really eating my brain.\r\nI don&#39;t want to keep consumer to be running forever. I want to keep both detached. \r\n\r\n\r\nPlease help.","title":"Spring JMS listener-container concurrency attribute not working","body":"<p>Hi I am learning Spring JMS with ActiveMQ. \nIn my example scenario is Producer application sends around 50 messages in queue and when I start Consumer application it starts to  consume those messages.</p>\n\n<p>Now I want multiple consumer threads to consume messages from queue.\nI am using <strong>JMS listener-container</strong>. When I googled for that I found there is a <strong>concurrency</strong> attribute.</p>\n\n<p>According to <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/jms.html#jms-namespace\" rel=\"nofollow\">Spring JMS doc</a> concurrency attribute specifies</p>\n\n<blockquote>\n  <p>The number of concurrent sessions/consumers to start for each listener. Can either be a simple number indicating the maximum number (e.g. \"5\") or a range indicating the lower as well as the upper limit (e.g. \"3-5\"). Note that a specified minimum is just a hint and might be ignored at runtime. Default is 1; keep concurrency limited to 1 in case of a topic listener or if queue ordering is important; consider raising it for general queues.</p>\n</blockquote>\n\n<p>But in my configuration I am setting this attribute to 5 but it seems it fails to start 5 concurrent listeners.</p>\n\n<p>Configuration for listener:</p>\n\n<p><strong>consumer-applicationContext.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:jms=\"http://www.springframework.org/schema/jms\"\n\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n    http://www.springframework.org/schema/jms\n    http://www.springframework.org/schema/jms/spring-jms-3.0.xsd\"&gt;\n\n    &lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\" p:brokerURL=\"tcp://localhost:61616\" /&gt;\n\n    &lt;bean id=\"listener\" class=\"com.jms.example.MyMessageListener\"&gt;&lt;/bean&gt;\n\n    &lt;jms:listener-container container-type=\"default\" concurrency=\"5\"\n        connection-factory=\"connectionFactory\"&gt;\n        &lt;jms:listener destination=\"MyQueue\" ref=\"listener\"\n            method=\"onMessage\"&gt;&lt;/jms:listener&gt;\n    &lt;/jms:listener-container&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>And If I used bean <strong>DefaultMessageListenerContainer</strong> instead of <strong>jms:listener-container</strong> with properties:</p>\n\n<pre><code>&lt;bean id=\"msgListenerContainer\" \n        class=\"org.springframework.jms.listener.DefaultMessageListenerContainer\"\n        p:connectionFactory-ref=\"connectionFactory\"\n        p:destination-ref=\"destination\"\n        p:messageListener-ref=\"listener\"\n        p:concurrentConsumers=\"10\"\n        p:maxConcurrentConsumers=\"50\" /&gt;\n</code></pre>\n\n<p>Then in ActiveMQ console I could see 10 consumers but in reality it starts 3 consumers simultaneously or sometimes 6 or only 1 consumer.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Consumer code:</p>\n\n<pre><code>public class MyMessageListener implements MessageListener{\n\n\n    public void onMessage(Message m) {\n        TextMessage message=(TextMessage)m;\n        try{\n            System.out.println(\"Start = \" + message.getText());\n            Thread.sleep(5000);\n            System.out.println(\"End = \" + message.getText());\n        }catch (Exception e) {e.printStackTrace();  }\n    }\n}\n</code></pre>\n\n<p>I am printing consumed messages on console whose output is explained in scenarios below:</p>\n\n<p><strong>OBSERVATION:</strong></p>\n\n<p>I observed some weird behavior. \nMy producer and consumer are two independent applications. </p>\n\n<p><strong>Scenario - 1:</strong></p>\n\n<ol>\n<li>I start producer and send messages(Meanwhile consumer is NOT running)</li>\n<li>Then I start consumer to consume messages.</li>\n</ol>\n\n<p>Here problem is it does not loads all 10 consumers. Sometimes it loads 3 OR 1.</p>\n\n<pre><code>Start = hello jms 1 // consumer 1 started \nStart = hello jms 2 // consumer 2 started \nStart = hello jms 3 // consumer 3 started \nEnd = hello jms 1  //  consumer 1 ended\nStart = hello jms 4 // consumer 4 started and hence always 3 consumers and not 10\nEnd = hello jms 2\nStart = hello jms 5\nEnd = hello jms 3\nStart = hello jms 6\n</code></pre>\n\n<p><strong>Scenario - 2:</strong></p>\n\n<ol>\n<li>I start producer and send messages(Meanwhile consumer is running)</li>\n<li>Since the consumer is in running state it starts to consume them.</li>\n</ol>\n\n<p>So it does load all 5 consumers properly as expected. so the output is:</p>\n\n<pre><code>Start = hello jms 1 // consumer 1 started \nStart = hello jms 2 // consumer 2 started \nStart = hello jms 3 // consumer 3 started \nStart = hello jms 4 // consumer 4 started \nStart = hello jms 5 // consumer 5 started \nStart = hello jms 6 // consumer 6 started \nStart = hello jms 7 // consumer 7 started \nStart = hello jms 8 // consumer 8 started \nStart = hello jms 9 // consumer 9 started \nStart = hello jms 10 // consumer 10 started. Hence all them started at same time as expected.\nEnd = hello jms 1\nStart = hello jms 11\nEnd = hello jms 2\nStart = hello jms 12\nEnd = hello jms 3\nStart = hello jms 13\n</code></pre>\n\n<p>Why is this happening. It is really eating my brain.\nI don't want to keep consumer to be running forever. I want to keep both detached. </p>\n\n<p>Please help.</p>\n"},{"tags":["java","spring-boot","asynchronous","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":1,"creation_date":1629720019,"post_id":68890488,"comment_id":121753235,"body_markdown":"Did you check the transaction handling? Could it be that `convertAndSend` does not commit the message, so the listener can not see it?","body":"Did you check the transaction handling? Could it be that <code>convertAndSend</code> does not commit the message, so the listener can not see it?"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629722554,"creation_date":1629722554,"answer_id":68892932,"question_id":68890488,"body_markdown":"It looks like you are using transactions, the transaction won&#39;t commit until the `@JmsListener` method exits so the other consumer won&#39;t see it.\r\n\r\nYou can&#39;t use transactions for this use case.\r\n\r\nHence the `@Async` works because the send will be performed in a different transaction.","title":"Spring Boot JmsListener blocked by other JmsListener for different destination","body":"<p>It looks like you are using transactions, the transaction won't commit until the <code>@JmsListener</code> method exits so the other consumer won't see it.</p>\n<p>You can't use transactions for this use case.</p>\n<p>Hence the <code>@Async</code> works because the send will be performed in a different transaction.</p>\n"}],"owner":{"account_id":5254523,"reputation":925,"user_id":4197768,"accept_rate":40,"display_name":"Mark Sch&#228;fer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68892932,"answer_count":1,"score":0,"last_activity_date":1696809667,"creation_date":1629712141,"question_id":68890488,"body_markdown":"I encountered the following situation in a Spring Boot application with JMS over ActiveMQ 5 as broker.\r\n\r\nA `@JMSListener` annotated method processes a message and sends a response message to a different destination. There is also a `@JMSListener` for this destination, which is not called when the response has been sent to the broker, but only when the processing of the original listner is completely finished. If this listener is additionally annotated with `@Async`, the reponse is received immediately after sending as expected.\r\n\r\nThe original project is way too big, so I prepared the minimal example below.\r\nIt contains a Spring Boot application `TestApp` with a single `@JmsListener` *(1)* which immediately forwards a message from Destination *in* to *out* and *afterwards* sleeps for 3 seconds.\r\n\r\nThe application is started in a test which sends a single message to *in* and waits for 2 seconds for the response on *out*. \r\n\r\nOnly if the `@Async` is present at *(1)* the test is successful.\r\n\r\nFurther observations:\r\n- Same behaviour if the test uses variant *(2)* and receives the response via `JmsTemplate` instead using a `JmsListener`.\r\n- In any case one can see that the message is present in the broker immediately after sending.\r\n\r\n**Question**: Why is receiving self-sent messages blocked in this situation? How can the outgoing message be received immediately without using `@Async`?\r\n\r\n\r\n**Update/Solution**: As Gary suggested there is indeed a transaction present but seemingly not of Spring Boot but one created by the included activemq-lib. \r\n\r\n\r\n```java\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.Matchers.hasSize;\r\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.NONE;\r\n\r\nimport java.time.Duration;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.jms.annotation.EnableJms;\r\nimport org.springframework.jms.annotation.JmsListener;\r\nimport org.springframework.jms.core.JmsTemplate;\r\nimport org.springframework.scheduling.annotation.Async;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.test.context.DynamicPropertyRegistry;\r\nimport org.springframework.test.context.DynamicPropertySource;\r\nimport org.testcontainers.containers.GenericContainer;\r\nimport org.testcontainers.containers.output.Slf4jLogConsumer;\r\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\r\nimport org.testcontainers.junit.jupiter.Container;\r\nimport org.testcontainers.junit.jupiter.Testcontainers;\r\nimport org.testcontainers.utility.DockerImageName;\r\n\r\n@SpringBootTest(classes = TestApp.class, webEnvironment = NONE)\r\n@Testcontainers\r\npublic class JmsTest\r\n{\r\n    private static final Logger LOG = LoggerFactory.getLogger(JmsTest.class);\r\n\r\n    @Container\r\n    public static final GenericContainer&lt;?&gt; ACTIVEMQ =\r\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;rmohr/activemq&quot;))\r\n            .withExposedPorts(8161, 61616)\r\n            .waitingFor(new LogMessageWaitStrategy().withRegEx(&quot;.*Apache ActiveMQ .* started.*&quot;))\r\n            .withStartupTimeout(Duration.ofSeconds(60))\r\n            .withLogConsumer(new Slf4jLogConsumer(LOG));\r\n\r\n    @DynamicPropertySource\r\n    private static void ports(DynamicPropertyRegistry registry)\r\n    {\r\n        registry.add(&quot;spring.activemq.broker-url&quot;, () -&gt; &quot;tcp://&quot; + ACTIVEMQ.getHost() + &quot;:&quot; + ACTIVEMQ.getMappedPort(61616));\r\n    }\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    private List&lt;String&gt; messages = new LinkedList&lt;&gt;();\r\n\r\n    @Async\r\n    @JmsListener(destination = &quot;out&quot;)\r\n    public void onOut(String message)\r\n    {\r\n        LOG.warn(&quot;Received message from out: {}&quot;, message);\r\n        messages.add(message);\r\n    }\r\n\r\n    @Test\r\n    public void foo() throws InterruptedException\r\n    {\r\n        LOG.warn(&quot;Sending request&quot;);\r\n        // Sending some message on destination &#39;in&#39; to be received and answered by the listener below\r\n        jmsTemplate.convertAndSend(&quot;in&quot;, UUID.randomUUID().toString());\r\n\r\n        LOG.warn(&quot;Waiting for repsonse&quot;);\r\n\r\n        // (2)    // Try to receive response from &#39;out&#39;\r\n        //        jmsTemplate.setReceiveTimeout(2_000);\r\n        //        Message response = jmsTemplate.receive(&quot;out&quot;);\r\n        //        assertThat(response, notNullValue());\r\n        \r\n        Thread.sleep(2_000);\r\n        assertThat(messages, hasSize(1));\r\n\r\n    }\r\n}\r\n\r\n@SpringBootApplication\r\n@EnableJms\r\n@EnableAsync\r\nclass TestApp\r\n{\r\n    private static final Logger LOG = LoggerFactory.getLogger(TestApp.class);\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        SpringApplication.run(TestApp.class, args);\r\n    }\r\n\r\n    @Autowired\r\n    private JmsTemplate jmsTemplate;\r\n\r\n    // (1)\r\n    // @Async\r\n    @JmsListener(destination = &quot;in&quot;)\r\n    public void onIn(String message) throws InterruptedException\r\n    {\r\n        LOG.warn(&quot;Received message from in: {}&quot;, message);\r\n\r\n        jmsTemplate.convertAndSend(&quot;out&quot;, message);\r\n        LOG.warn(&quot;Sent Response&quot;);\r\n\r\n        LOG.warn(&quot;Sleeping ...&quot;);\r\n        Thread.sleep(3_000);\r\n\r\n        LOG.warn(&quot;Finished&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere the `pom.xml`:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;foo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jmstest&lt;/artifactId&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.15.3&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```","title":"Spring Boot JmsListener blocked by other JmsListener for different destination","body":"<p>I encountered the following situation in a Spring Boot application with JMS over ActiveMQ 5 as broker.</p>\n<p>A <code>@JMSListener</code> annotated method processes a message and sends a response message to a different destination. There is also a <code>@JMSListener</code> for this destination, which is not called when the response has been sent to the broker, but only when the processing of the original listner is completely finished. If this listener is additionally annotated with <code>@Async</code>, the reponse is received immediately after sending as expected.</p>\n<p>The original project is way too big, so I prepared the minimal example below.\nIt contains a Spring Boot application <code>TestApp</code> with a single <code>@JmsListener</code> <em>(1)</em> which immediately forwards a message from Destination <em>in</em> to <em>out</em> and <em>afterwards</em> sleeps for 3 seconds.</p>\n<p>The application is started in a test which sends a single message to <em>in</em> and waits for 2 seconds for the response on <em>out</em>.</p>\n<p>Only if the <code>@Async</code> is present at <em>(1)</em> the test is successful.</p>\n<p>Further observations:</p>\n<ul>\n<li>Same behaviour if the test uses variant <em>(2)</em> and receives the response via <code>JmsTemplate</code> instead using a <code>JmsListener</code>.</li>\n<li>In any case one can see that the message is present in the broker immediately after sending.</li>\n</ul>\n<p><strong>Question</strong>: Why is receiving self-sent messages blocked in this situation? How can the outgoing message be received immediately without using <code>@Async</code>?</p>\n<p><strong>Update/Solution</strong>: As Gary suggested there is indeed a transaction present but seemingly not of Spring Boot but one created by the included activemq-lib.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.Matchers.hasSize;\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.NONE;\n\nimport java.time.Duration;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.UUID;\n\nimport org.junit.jupiter.api.Test;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.jms.annotation.EnableJms;\nimport org.springframework.jms.annotation.JmsListener;\nimport org.springframework.jms.core.JmsTemplate;\nimport org.springframework.scheduling.annotation.Async;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.test.context.DynamicPropertyRegistry;\nimport org.springframework.test.context.DynamicPropertySource;\nimport org.testcontainers.containers.GenericContainer;\nimport org.testcontainers.containers.output.Slf4jLogConsumer;\nimport org.testcontainers.containers.wait.strategy.LogMessageWaitStrategy;\nimport org.testcontainers.junit.jupiter.Container;\nimport org.testcontainers.junit.jupiter.Testcontainers;\nimport org.testcontainers.utility.DockerImageName;\n\n@SpringBootTest(classes = TestApp.class, webEnvironment = NONE)\n@Testcontainers\npublic class JmsTest\n{\n    private static final Logger LOG = LoggerFactory.getLogger(JmsTest.class);\n\n    @Container\n    public static final GenericContainer&lt;?&gt; ACTIVEMQ =\n        new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;rmohr/activemq&quot;))\n            .withExposedPorts(8161, 61616)\n            .waitingFor(new LogMessageWaitStrategy().withRegEx(&quot;.*Apache ActiveMQ .* started.*&quot;))\n            .withStartupTimeout(Duration.ofSeconds(60))\n            .withLogConsumer(new Slf4jLogConsumer(LOG));\n\n    @DynamicPropertySource\n    private static void ports(DynamicPropertyRegistry registry)\n    {\n        registry.add(&quot;spring.activemq.broker-url&quot;, () -&gt; &quot;tcp://&quot; + ACTIVEMQ.getHost() + &quot;:&quot; + ACTIVEMQ.getMappedPort(61616));\n    }\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    private List&lt;String&gt; messages = new LinkedList&lt;&gt;();\n\n    @Async\n    @JmsListener(destination = &quot;out&quot;)\n    public void onOut(String message)\n    {\n        LOG.warn(&quot;Received message from out: {}&quot;, message);\n        messages.add(message);\n    }\n\n    @Test\n    public void foo() throws InterruptedException\n    {\n        LOG.warn(&quot;Sending request&quot;);\n        // Sending some message on destination 'in' to be received and answered by the listener below\n        jmsTemplate.convertAndSend(&quot;in&quot;, UUID.randomUUID().toString());\n\n        LOG.warn(&quot;Waiting for repsonse&quot;);\n\n        // (2)    // Try to receive response from 'out'\n        //        jmsTemplate.setReceiveTimeout(2_000);\n        //        Message response = jmsTemplate.receive(&quot;out&quot;);\n        //        assertThat(response, notNullValue());\n        \n        Thread.sleep(2_000);\n        assertThat(messages, hasSize(1));\n\n    }\n}\n\n@SpringBootApplication\n@EnableJms\n@EnableAsync\nclass TestApp\n{\n    private static final Logger LOG = LoggerFactory.getLogger(TestApp.class);\n\n    public static void main(String[] args)\n    {\n        SpringApplication.run(TestApp.class, args);\n    }\n\n    @Autowired\n    private JmsTemplate jmsTemplate;\n\n    // (1)\n    // @Async\n    @JmsListener(destination = &quot;in&quot;)\n    public void onIn(String message) throws InterruptedException\n    {\n        LOG.warn(&quot;Received message from in: {}&quot;, message);\n\n        jmsTemplate.convertAndSend(&quot;out&quot;, message);\n        LOG.warn(&quot;Sent Response&quot;);\n\n        LOG.warn(&quot;Sleeping ...&quot;);\n        Thread.sleep(3_000);\n\n        LOG.warn(&quot;Finished&quot;);\n    }\n}\n</code></pre>\n<p>Here the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;foo&lt;/groupId&gt;\n    &lt;artifactId&gt;jmstest&lt;/artifactId&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;2.5.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n            &lt;version&gt;1.15.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;1.15.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","activemq","spring-jms"],"answers":[{"tags":[],"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1523514448,"creation_date":1523434913,"answer_id":49770042,"question_id":49769219,"body_markdown":"`deadLetterStrategy` concerns broker, so you have to define beans as below\r\n\r\ntake a look at \r\nhttp://activemq.apache.org/message-redelivery-and-dlq-handling.html\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    \r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.apache.activemq.RedeliveryPolicy;\r\n    import org.apache.activemq.broker.BrokerService;\r\n    import org.apache.activemq.broker.region.policy.DeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.PolicyEntry;\r\n    import org.apache.activemq.broker.region.policy.PolicyMap;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\r\n    \t\tComponent.class }))\r\n    public class ActiveMQConfigurationDeadLetterStrategy {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic BrokerService broker() throws Exception {\r\n    \t\tfinal BrokerService broker = new BrokerService();\r\n    \t\tbroker.addConnector(&quot;tcp://localhost:61616&quot;);\r\n    \t\tbroker.addConnector(&quot;vm://localhost&quot;);\r\n    \t\tbroker.setPersistent(false);\r\n    \t\tbroker.setDestinationPolicy(policyMap());\r\n    \t\treturn broker;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic PolicyMap policyMap() {\r\n    \t\tPolicyMap destinationPolicy = new PolicyMap();\r\n    \t\tList&lt;PolicyEntry&gt; entries = new ArrayList&lt;PolicyEntry&gt;();\r\n    \t\tPolicyEntry queueEntry = new PolicyEntry();\r\n    \t\tqueueEntry.setQueue(&quot;&gt;&quot;);\r\n    \t\tqueueEntry.setDeadLetterStrategy(deadLetterStrategy());\r\n    \t\tPolicyEntry topicEntry = new PolicyEntry();\r\n    \t\ttopicEntry.setTopic(&quot;&gt;&quot;);\r\n    \t\ttopicEntry.setDeadLetterStrategy(deadLetterStrategy());\r\n    \t\tentries.add(queueEntry);\r\n    \t\tentries.add(topicEntry);\r\n    \t\tdestinationPolicy.setPolicyEntries(entries);\r\n    \t\treturn destinationPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic DeadLetterStrategy deadLetterStrategy() {\r\n    \t\tIndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\r\n    \t\tdeadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\r\n    \t\tdeadLetterStrategy.setUseQueueForQueueMessages(true);\r\n    \t\treturn deadLetterStrategy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedeliveryPolicy redeliveryPolicy() {\r\n    \t\tRedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n    \t\tredeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n    \t\tredeliveryPolicy.setBackOffMultiplier(2);\r\n    \t\tredeliveryPolicy.setUseExponentialBackOff(true);\r\n    \t\tredeliveryPolicy.setMaximumRedeliveries(5);\r\n    \t\treturn redeliveryPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactory jmsConnectionFactory() {\r\n    \t\tActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\r\n    \t\tconnectionFactory.setRedeliveryPolicy(redeliveryPolicy());\r\n    \t\treturn connectionFactory;\r\n    \t}\r\n    }\r\n\r\n**UPDATE**\r\n\r\nIf you use an external AMQ the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file\r\nFor example :\r\n\r\n    &lt;broker&gt;\r\n       \r\n      &lt;destinationPolicy&gt;\r\n        &lt;policyMap&gt;\r\n          &lt;policyEntries&gt;\r\n            &lt;!-- Set the following policy on all queues using the &#39;&gt;&#39; wildcard --&gt;\r\n            &lt;policyEntry queue=&quot;&gt;&quot;&gt;\r\n              &lt;deadLetterStrategy&gt;\r\n                &lt;!--\r\n                  Use the prefix &#39;DLQ.&#39; for the destination name, and make\r\n                  the DLQ a queue rather than a topic\r\n                --&gt;\r\n                &lt;individualDeadLetterStrategy queuePrefix=&quot;DLQ.&quot; useQueueForQueueMessages=&quot;true&quot;/&gt;\r\n              &lt;/deadLetterStrategy&gt;\r\n            &lt;/policyEntry&gt;\r\n          &lt;/policyEntries&gt;\r\n        &lt;/policyMap&gt;\r\n      &lt;/destinationPolicy&gt;\r\n       \r\n    &lt;/broker&gt;\r\n\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import javax.jms.ConnectionFactory;\r\n    \r\n    import org.apache.activemq.ActiveMQConnectionFactory;\r\n    import org.apache.activemq.RedeliveryPolicy;\r\n    import org.apache.activemq.broker.BrokerService;\r\n    import org.apache.activemq.broker.region.policy.DeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\r\n    import org.apache.activemq.broker.region.policy.PolicyEntry;\r\n    import org.apache.activemq.broker.region.policy.PolicyMap;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.ConfigurableApplicationContext;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.FilterType;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @SpringBootApplication\r\n    @Configuration\r\n    @ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\r\n    \t\tComponent.class }))\r\n    public class ActiveMQConfigurationDeadLetterStrategy {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic RedeliveryPolicy redeliveryPolicy() {\r\n    \t\tRedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n    \t\tredeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n    \t\tredeliveryPolicy.setBackOffMultiplier(2);\r\n    \t\tredeliveryPolicy.setUseExponentialBackOff(true);\r\n    \t\tredeliveryPolicy.setMaximumRedeliveries(5);\r\n    \t\treturn redeliveryPolicy;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConnectionFactory jmsConnectionFactory() {\r\n    \t\tActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n    \t\tconnectionFactory.setRedeliveryPolicy(redeliveryPolicy());\r\n    \t\treturn connectionFactory;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n","title":"spring-boot-jms Redeliverypolicy bean ignored?","body":"<p><code>deadLetterStrategy</code> concerns broker, so you have to define beans as below</p>\n\n<p>take a look at \n<a href=\"http://activemq.apache.org/message-redelivery-and-dlq-handling.html\" rel=\"nofollow noreferrer\">http://activemq.apache.org/message-redelivery-and-dlq-handling.html</a></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport javax.jms.ConnectionFactory;\n\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.apache.activemq.RedeliveryPolicy;\nimport org.apache.activemq.broker.BrokerService;\nimport org.apache.activemq.broker.region.policy.DeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.PolicyEntry;\nimport org.apache.activemq.broker.region.policy.PolicyMap;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.stereotype.Component;\n\n@SpringBootApplication\n@Configuration\n@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\n        Component.class }))\npublic class ActiveMQConfigurationDeadLetterStrategy {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\n    }\n\n    @Bean\n    public BrokerService broker() throws Exception {\n        final BrokerService broker = new BrokerService();\n        broker.addConnector(\"tcp://localhost:61616\");\n        broker.addConnector(\"vm://localhost\");\n        broker.setPersistent(false);\n        broker.setDestinationPolicy(policyMap());\n        return broker;\n    }\n\n    @Bean\n    public PolicyMap policyMap() {\n        PolicyMap destinationPolicy = new PolicyMap();\n        List&lt;PolicyEntry&gt; entries = new ArrayList&lt;PolicyEntry&gt;();\n        PolicyEntry queueEntry = new PolicyEntry();\n        queueEntry.setQueue(\"&gt;\");\n        queueEntry.setDeadLetterStrategy(deadLetterStrategy());\n        PolicyEntry topicEntry = new PolicyEntry();\n        topicEntry.setTopic(\"&gt;\");\n        topicEntry.setDeadLetterStrategy(deadLetterStrategy());\n        entries.add(queueEntry);\n        entries.add(topicEntry);\n        destinationPolicy.setPolicyEntries(entries);\n        return destinationPolicy;\n    }\n\n    @Bean\n    public DeadLetterStrategy deadLetterStrategy() {\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\n        deadLetterStrategy.setQueueSuffix(\".dlq\");\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\n        return deadLetterStrategy;\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory();\n        connectionFactory.setRedeliveryPolicy(redeliveryPolicy());\n        return connectionFactory;\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>If you use an external AMQ the deadLetterStrategy can only be set in the destination policy map of the activemq.xml configuration file\nFor example :</p>\n\n<pre><code>&lt;broker&gt;\n\n  &lt;destinationPolicy&gt;\n    &lt;policyMap&gt;\n      &lt;policyEntries&gt;\n        &lt;!-- Set the following policy on all queues using the '&gt;' wildcard --&gt;\n        &lt;policyEntry queue=\"&gt;\"&gt;\n          &lt;deadLetterStrategy&gt;\n            &lt;!--\n              Use the prefix 'DLQ.' for the destination name, and make\n              the DLQ a queue rather than a topic\n            --&gt;\n            &lt;individualDeadLetterStrategy queuePrefix=\"DLQ.\" useQueueForQueueMessages=\"true\"/&gt;\n          &lt;/deadLetterStrategy&gt;\n        &lt;/policyEntry&gt;\n      &lt;/policyEntries&gt;\n    &lt;/policyMap&gt;\n  &lt;/destinationPolicy&gt;\n\n&lt;/broker&gt;\n\n\n\n\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.jms.ConnectionFactory;\n\nimport org.apache.activemq.ActiveMQConnectionFactory;\nimport org.apache.activemq.RedeliveryPolicy;\nimport org.apache.activemq.broker.BrokerService;\nimport org.apache.activemq.broker.region.policy.DeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.IndividualDeadLetterStrategy;\nimport org.apache.activemq.broker.region.policy.PolicyEntry;\nimport org.apache.activemq.broker.region.policy.PolicyMap;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.FilterType;\nimport org.springframework.stereotype.Component;\n\n@SpringBootApplication\n@Configuration\n@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = { Configuration.class,\n        Component.class }))\npublic class ActiveMQConfigurationDeadLetterStrategy {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext app = SpringApplication.run(ActiveMQConfigurationDeadLetterStrategy.class, args);\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public ConnectionFactory jmsConnectionFactory() {\n        ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(\"tcp://localhost:61616\");\n        connectionFactory.setRedeliveryPolicy(redeliveryPolicy());\n        return connectionFactory;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12840968,"reputation":469,"user_id":9289030,"display_name":"Kristof Plennings"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49770042,"answer_count":1,"score":3,"last_activity_date":1696809570,"creation_date":1523432394,"question_id":49769219,"body_markdown":"So I&#39;m setting up Spring JMS with ActiveMQ, and I&#39;m testing my setup a bit.\r\n\r\nI&#39;m trying to setup a `RedeliveryPolicy` so it isn&#39;t instantly retried, but I noticed in my logging + ActiveMQ broker that it&#39;s instantly retried and not using my `RedeliveryPolicy` bean. Could anyone point me out what I&#39;m doing wrong? According to what I could find in the docs it seems to be correct. (and if anyone sees why my `individualdeadletterstrategy` is ignored but put on the general DLQ always welcome).\r\n```java\r\n    @Bean\r\n    public MessageConverter jacksonJmsMessageConverter() {\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setTargetType(MessageType.TEXT);\r\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n        return converter;\r\n    }\r\n\r\n    @Bean\r\n    public DeadLetterStrategy deadLetterStrategy() {\r\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\r\n        deadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\r\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\r\n        return deadLetterStrategy;\r\n    }\r\n\r\n    @Bean\r\n    public RedeliveryPolicy redeliveryPolicy() {\r\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\r\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\r\n        redeliveryPolicy.setBackOffMultiplier(2);\r\n        redeliveryPolicy.setUseExponentialBackOff(true);\r\n        redeliveryPolicy.setMaximumRedeliveries(5);\r\n        return redeliveryPolicy;\r\n    }\r\n\r\n    @Bean\r\n    public Queue myQueue() {\r\n        return new ActiveMQQueue(&quot;myQueue&quot;);\r\n    }\r\n```","title":"spring-boot-jms Redeliverypolicy bean ignored?","body":"<p>So I'm setting up Spring JMS with ActiveMQ, and I'm testing my setup a bit.</p>\n<p>I'm trying to setup a <code>RedeliveryPolicy</code> so it isn't instantly retried, but I noticed in my logging + ActiveMQ broker that it's instantly retried and not using my <code>RedeliveryPolicy</code> bean. Could anyone point me out what I'm doing wrong? According to what I could find in the docs it seems to be correct. (and if anyone sees why my <code>individualdeadletterstrategy</code> is ignored but put on the general DLQ always welcome).</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public MessageConverter jacksonJmsMessageConverter() {\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        return converter;\n    }\n\n    @Bean\n    public DeadLetterStrategy deadLetterStrategy() {\n        IndividualDeadLetterStrategy deadLetterStrategy = new IndividualDeadLetterStrategy();\n        deadLetterStrategy.setQueueSuffix(&quot;.dlq&quot;);\n        deadLetterStrategy.setUseQueueForQueueMessages(true);\n        return deadLetterStrategy;\n    }\n\n    @Bean\n    public RedeliveryPolicy redeliveryPolicy() {\n        RedeliveryPolicy redeliveryPolicy = new RedeliveryPolicy();\n        redeliveryPolicy.setInitialRedeliveryDelay(5000);\n        redeliveryPolicy.setBackOffMultiplier(2);\n        redeliveryPolicy.setUseExponentialBackOff(true);\n        redeliveryPolicy.setMaximumRedeliveries(5);\n        return redeliveryPolicy;\n    }\n\n    @Bean\n    public Queue myQueue() {\n        return new ActiveMQQueue(&quot;myQueue&quot;);\n    }\n</code></pre>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"score":0,"creation_date":1696807633,"post_id":77255452,"comment_id":136196621,"body_markdown":"Error message states GToolTip class does not exist.","body":"Error message states GToolTip class does not exist."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696808377,"creation_date":1696808377,"answer_id":77255679,"question_id":77255452,"body_markdown":"You&#39;re close, but you still need 3 more &quot;ingredients&quot;:\r\n 1. your points should have labels (e.g. `dataPoints.add(1500, 5.0, &quot;Sample data point 1&quot;);`)\r\n 2. you should assign those points to the plot via `setPoints()`: `plot1.setPoints(dataPoints);`\r\n 3. you need to manually force drawing the labels in `draw()` (otherwise the labels will be rendered [*if* the mouse is pressed or dragged *and* `activatePointLabels()` was called][1]): `plot1.drawLabelsAt(mouseX, mouseY);` (within the plot&#39;s `beginDraw()`/`endDraw()` context calls)\r\n\r\n(You should also remove any code you don&#39;t use)\r\n\r\n```java\r\nimport grafica.*;\r\n\r\nGPlot plot1;\r\nGPointsArray dataPoints;\r\n\r\nvoid setup() {\r\n  size(1920, 1080);\r\n  createPlot();\r\n  \r\n}\r\n\r\nvoid createPlot() {\r\n  \r\n  plot1 = new GPlot(this);\r\n  plot1.setPos(0, 0);\r\n  plot1.setDim(1280, 720);\r\n  plot1.getTitle().setText(&quot;MAP A&quot;);\r\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\r\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\r\n  plot1.setPointColor(color(0, 0, 0, 255));\r\n  plot1.setPointSize(30);\r\n  \r\n  // Sample data points\r\n  dataPoints = new GPointsArray();\r\n  dataPoints.add(1500/2, 5.0, &quot;sample data point 1&quot;);\r\n  dataPoints.add(2000/2, 6.5, &quot;sample data point 2&quot;);\r\n  dataPoints.add(2500/2, 4.2, &quot;sample data point 3&quot;);\r\n  dataPoints.add(1800/2, 5.8, &quot;sample data point 4&quot;);\r\n  // populate plot with points\r\n  plot1.setPoints(dataPoints);\r\n}\r\n\r\nvoid draw() {\r\n  plot1.beginDraw();\r\n  plot1.drawBackground();\r\n  plot1.drawBox();\r\n  plot1.drawXAxis();\r\n  plot1.drawYAxis();\r\n  plot1.drawTitle();\r\n  plot1.drawGridLines(GPlot.BOTH);\r\n  plot1.drawPoints(); \r\n  // force drawing labels on hover\r\n  plot1.drawLabelsAt(mouseX, mouseY);\r\n  plot1.endDraw();\r\n}\r\n```\r\n(I tweaked the sketch dimensions and plot point coordinates to fit on my laptop screen: feel free to adjust as needed of course)\r\n\r\nThis is the first time I use this library and noticed the [library website][2] isn&#39;t hosting the documentation. Processing libraries tend to come with javadocs generated documentation. You should be able to find that in **Documents/Processing/libraries/grafica/reference**.\r\n\r\n\r\n  [1]: https://github.com/jagracar/grafica/blob/master/src/grafica/GPlot.java#L2942C9-L2942C9\r\n  [2]: https://jagracar.com/grafica.php","title":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4","body":"<p>You're close, but you still need 3 more &quot;ingredients&quot;:</p>\n<ol>\n<li>your points should have labels (e.g. <code>dataPoints.add(1500, 5.0, &quot;Sample data point 1&quot;);</code>)</li>\n<li>you should assign those points to the plot via <code>setPoints()</code>: <code>plot1.setPoints(dataPoints);</code></li>\n<li>you need to manually force drawing the labels in <code>draw()</code> (otherwise the labels will be rendered <a href=\"https://github.com/jagracar/grafica/blob/master/src/grafica/GPlot.java#L2942C9-L2942C9\" rel=\"nofollow noreferrer\"><em>if</em> the mouse is pressed or dragged <em>and</em> <code>activatePointLabels()</code> was called</a>): <code>plot1.drawLabelsAt(mouseX, mouseY);</code> (within the plot's <code>beginDraw()</code>/<code>endDraw()</code> context calls)</li>\n</ol>\n<p>(You should also remove any code you don't use)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import grafica.*;\n\nGPlot plot1;\nGPointsArray dataPoints;\n\nvoid setup() {\n  size(1920, 1080);\n  createPlot();\n  \n}\n\nvoid createPlot() {\n  \n  plot1 = new GPlot(this);\n  plot1.setPos(0, 0);\n  plot1.setDim(1280, 720);\n  plot1.getTitle().setText(&quot;MAP A&quot;);\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\n  plot1.setPointColor(color(0, 0, 0, 255));\n  plot1.setPointSize(30);\n  \n  // Sample data points\n  dataPoints = new GPointsArray();\n  dataPoints.add(1500/2, 5.0, &quot;sample data point 1&quot;);\n  dataPoints.add(2000/2, 6.5, &quot;sample data point 2&quot;);\n  dataPoints.add(2500/2, 4.2, &quot;sample data point 3&quot;);\n  dataPoints.add(1800/2, 5.8, &quot;sample data point 4&quot;);\n  // populate plot with points\n  plot1.setPoints(dataPoints);\n}\n\nvoid draw() {\n  plot1.beginDraw();\n  plot1.drawBackground();\n  plot1.drawBox();\n  plot1.drawXAxis();\n  plot1.drawYAxis();\n  plot1.drawTitle();\n  plot1.drawGridLines(GPlot.BOTH);\n  plot1.drawPoints(); \n  // force drawing labels on hover\n  plot1.drawLabelsAt(mouseX, mouseY);\n  plot1.endDraw();\n}\n</code></pre>\n<p>(I tweaked the sketch dimensions and plot point coordinates to fit on my laptop screen: feel free to adjust as needed of course)</p>\n<p>This is the first time I use this library and noticed the <a href=\"https://jagracar.com/grafica.php\" rel=\"nofollow noreferrer\">library website</a> isn't hosting the documentation. Processing libraries tend to come with javadocs generated documentation. You should be able to find that in <strong>Documents/Processing/libraries/grafica/reference</strong>.</p>\n"}],"owner":{"account_id":26623937,"reputation":9,"user_id":20242262,"display_name":"Elvis C."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696808377,"creation_date":1696801647,"question_id":77255452,"body_markdown":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4.\r\n\r\nI have tried using a loop to display the text but it seems the graph plot doesn&#39;t allow anything display on it. \r\n\r\nI dont know what else to do.\r\nI have tried using the GTooltip function in the G4P library (with no success).\r\n\r\nHere&#39;s my attempt so far:\r\n```\r\nimport interfascia.*;\r\n\r\nimport controlP5.*;\r\n\r\nimport grafica.*;\r\n\r\nimport g4p_controls.*;\r\n\r\nGPlot plot1;\r\nGButton clearButton;\r\nGButton updateButton;\r\nGPointsArray dataPoints;\r\nGToolTip tooltip;\r\n\r\nvoid setup() {\r\n  size(2000, 1300);\r\n  createGUI();\r\n  createPlot();\r\n}\r\n\r\nvoid createGUI() {}\r\n\r\nvoid createPlot() {\r\n  plot1 = new GPlot(this);\r\n  plot1.setPos(0, 0);\r\n  plot1.setDim(1500, 1000);\r\n  plot1.getTitle().setText(&quot;MAP A&quot;);\r\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\r\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\r\n  plot1.setPointColor(color(0, 0, 0, 255));\r\n  plot1.setPointSize(10);\r\n\r\n  // Sample data points\r\n  dataPoints = new GPointsArray();\r\n  dataPoints.add(1500, 5.0);  // Sample data point 1\r\n  dataPoints.add(2000, 6.5);  // Sample data point 2\r\n  dataPoints.add(2500, 4.2);  // Sample data point 3\r\n  dataPoints.add(1800, 5.8);  // Sample data point 4\r\n\r\n  \r\n}\r\n\r\nvoid draw() {\r\n  plot1.beginDraw();\r\n  plot1.drawBackground();\r\n  plot1.drawBox();\r\n  plot1.drawXAxis();\r\n  plot1.drawYAxis();\r\n  plot1.drawTitle();\r\n  plot1.drawGridLines(GPlot.BOTH);\r\n  plot1.drawPoints(); \r\n  plot1.endDraw();\r\n}\r\n\r\n\r\n```\r\n","title":"I&#39;m having issues displaying text on a point in a graph when you hover over it in Processing4","body":"<p>I'm having issues displaying text on a point in a graph when you hover over it in Processing4.</p>\n<p>I have tried using a loop to display the text but it seems the graph plot doesn't allow anything display on it.</p>\n<p>I dont know what else to do.\nI have tried using the GTooltip function in the G4P library (with no success).</p>\n<p>Here's my attempt so far:</p>\n<pre><code>import interfascia.*;\n\nimport controlP5.*;\n\nimport grafica.*;\n\nimport g4p_controls.*;\n\nGPlot plot1;\nGButton clearButton;\nGButton updateButton;\nGPointsArray dataPoints;\nGToolTip tooltip;\n\nvoid setup() {\n  size(2000, 1300);\n  createGUI();\n  createPlot();\n}\n\nvoid createGUI() {}\n\nvoid createPlot() {\n  plot1 = new GPlot(this);\n  plot1.setPos(0, 0);\n  plot1.setDim(1500, 1000);\n  plot1.getTitle().setText(&quot;MAP A&quot;);\n  plot1.getXAxis().getAxisLabel().setText(&quot;Vehicle Weight (lbs)&quot;);\n  plot1.getYAxis().getAxisLabel().setText(&quot;Acceleration time 0 to 60 (Sec)&quot;);\n  plot1.setPointColor(color(0, 0, 0, 255));\n  plot1.setPointSize(10);\n\n  // Sample data points\n  dataPoints = new GPointsArray();\n  dataPoints.add(1500, 5.0);  // Sample data point 1\n  dataPoints.add(2000, 6.5);  // Sample data point 2\n  dataPoints.add(2500, 4.2);  // Sample data point 3\n  dataPoints.add(1800, 5.8);  // Sample data point 4\n\n  \n}\n\nvoid draw() {\n  plot1.beginDraw();\n  plot1.drawBackground();\n  plot1.drawBox();\n  plot1.drawXAxis();\n  plot1.drawYAxis();\n  plot1.drawTitle();\n  plot1.drawGridLines(GPlot.BOTH);\n  plot1.drawPoints(); \n  plot1.endDraw();\n}\n\n\n</code></pre>\n"},{"tags":["java","hive"],"answers":[{"tags":[],"owner":{"account_id":6584319,"reputation":63,"user_id":5087549,"display_name":"sandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448872932,"creation_date":1448872932,"answer_id":33994479,"question_id":33993706,"body_markdown":"The  hive.server2.idle.session.timeout causes a session to be terminated when it is not accessed for the specified duration. However, hive.server2.idle.session.timeout needs to be specified with hive.server2.session.check.interval set to \r\na positive value. basically, we need to be specify a number of session checks within the timeout interval to cause the session to be closed.\r\n\r\nMore details can be checked here\r\nhttps://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>The  hive.server2.idle.session.timeout causes a session to be terminated when it is not accessed for the specified duration. However, hive.server2.idle.session.timeout needs to be specified with hive.server2.session.check.interval set to \na positive value. basically, we need to be specify a number of session checks within the timeout interval to cause the session to be closed.</p>\n\n<p>More details can be checked here\n<a href=\"https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval\" rel=\"nofollow\">https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.session.check.interval</a></p>\n"},{"tags":[],"owner":{"account_id":6693666,"reputation":8924,"user_id":5162372,"display_name":"Samson Scharfrichter"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1490857794,"creation_date":1452897145,"answer_id":34820985,"question_id":33993706,"body_markdown":"You are looking at the problem the wrong way. These properties are **not** set in the URL, as described in the [Hive AdminManual][1]...\r\n\r\nIn the Hadoop ecosystem, **server defaults** are set in XML config files -- in that case `/etc/hive/conf/hive-site.xml` and/or `hiveserver2-site.xml`\r\n\r\nOnce your session is open, you can set **custom values** with the `set &lt;prop&gt;=&lt;value&gt;` statement *(somewhat similar to the Oracle ALTER SESSION)*.\r\n\r\nCaveat: some properties are defined as &quot;final&quot; in the config files and cannot be overriden. Check with your Hadoop Admin if in doubt.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>You are looking at the problem the wrong way. These properties are <strong>not</strong> set in the URL, as described in the <a href=\"https://cwiki.apache.org/confluence/display/Hive/AdminManual+Configuration\" rel=\"nofollow noreferrer\">Hive AdminManual</a>...</p>\n\n<p>In the Hadoop ecosystem, <strong>server defaults</strong> are set in XML config files -- in that case <code>/etc/hive/conf/hive-site.xml</code> and/or <code>hiveserver2-site.xml</code></p>\n\n<p>Once your session is open, you can set <strong>custom values</strong> with the <code>set &lt;prop&gt;=&lt;value&gt;</code> statement <em>(somewhat similar to the Oracle ALTER SESSION)</em>.</p>\n\n<p>Caveat: some properties are defined as \"final\" in the config files and cannot be overriden. Check with your Hadoop Admin if in doubt.</p>\n"}],"owner":{"account_id":4524298,"reputation":1987,"user_id":3676621,"accept_rate":25,"display_name":"Reena Upadhyay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8615,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696806125,"creation_date":1448869692,"question_id":33993706,"body_markdown":"I am using hive jdbc 1.0 in my java application to create connection with hive server and execute query. I want to set the idle hive connection timeout from java code. Like say, user first creates the hive connection, and if the hive connection remains idle for next 10 minutes, then this connection object should get expired. If user uses this same connection object after 10 minutes for executing query, then hive jdbc should throw error. Can you please tell me the way to achieve this through java code.\r\n\r\nI know there is a property `hive.server2.idle.session.timeout` in hive, but I don&#39;t know whether this is the right property required to be set from java code or there is some other property. I tried setting this property in jdbc connection string but it did not worked.\r\n\r\n    try {\r\n        Class.forName(&quot;org.apache.hive.jdbc.HiveDriver&quot;);\r\n    } catch (ClassNotFoundException e) {\r\n        LOG.error(ExceptionUtils.getStackTrace(e));\r\n    }\r\n        \r\n    String jdbcurl = &quot;jdbc:hive2://localhost:10000/idw?hive.server2.idle.session.timeout=1000ms&quot;;\r\n    Connection con;\r\n    con = DriverManager.getConnection(jdbcurl,&quot;root&quot;,&quot;&quot;);\r\n                    \r\n    Thread.sleep(3000);\r\n\r\nNow below I am using connection object, hive jdbc should throw error here as I used connection object after 3000 ms but I had set the idle timeout as 1000ms but hive jdbc had not thrown error \r\n\r\n    ResultSet rs = con.createStatement().executeQuery(&quot;select * from idw.emp&quot;);\r\n\r\nNeed help on this.","title":"How to set idle Hive jdbc connection out from java code using hive jdbc","body":"<p>I am using hive jdbc 1.0 in my java application to create connection with hive server and execute query. I want to set the idle hive connection timeout from java code. Like say, user first creates the hive connection, and if the hive connection remains idle for next 10 minutes, then this connection object should get expired. If user uses this same connection object after 10 minutes for executing query, then hive jdbc should throw error. Can you please tell me the way to achieve this through java code.</p>\n\n<p>I know there is a property <code>hive.server2.idle.session.timeout</code> in hive, but I don't know whether this is the right property required to be set from java code or there is some other property. I tried setting this property in jdbc connection string but it did not worked.</p>\n\n<pre><code>try {\n    Class.forName(\"org.apache.hive.jdbc.HiveDriver\");\n} catch (ClassNotFoundException e) {\n    LOG.error(ExceptionUtils.getStackTrace(e));\n}\n\nString jdbcurl = \"jdbc:hive2://localhost:10000/idw?hive.server2.idle.session.timeout=1000ms\";\nConnection con;\ncon = DriverManager.getConnection(jdbcurl,\"root\",\"\");\n\nThread.sleep(3000);\n</code></pre>\n\n<p>Now below I am using connection object, hive jdbc should throw error here as I used connection object after 3000 ms but I had set the idle timeout as 1000ms but hive jdbc had not thrown error </p>\n\n<pre><code>ResultSet rs = con.createStatement().executeQuery(\"select * from idw.emp\");\n</code></pre>\n\n<p>Need help on this.</p>\n"},{"tags":["java","hibernate","jpa","single-table-inheritance","discriminator"],"answers":[{"tags":[],"owner":{"account_id":11343192,"reputation":642,"user_id":8316534,"display_name":"Vitalii Muzalevskyi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1502049110,"creation_date":1502049110,"answer_id":45536005,"question_id":45533514,"body_markdown":"I&#39;m think you have this problem because you specified wrong parameter of `@DiscriminatorColumn` anotation, you should use `name` instead of `columnDefinition`.","title":"Hibernate ignoring discriminator column - always using &#39;dtype&#39;","body":"<p>I'm think you have this problem because you specified wrong parameter of <code>@DiscriminatorColumn</code> anotation, you should use <code>name</code> instead of <code>columnDefinition</code>.</p>\n"}],"owner":{"account_id":10015178,"reputation":73,"user_id":7406734,"display_name":"Ian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2899,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":45536005,"answer_count":1,"score":2,"last_activity_date":1696805342,"creation_date":1502033043,"question_id":45533514,"body_markdown":"I have a strange situation in my SINGLE_TAB inheritance Hibernate config whereby the @DiscriminatorColumn seems to be ignored and the query is always defaulting back to the &#39;dtype&#39; column. It&#39;s like the behaviour I would see when I had not included the annotation at all (the default column name being &#39;dtype&#39;).\r\n\r\nBase entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;post&quot;)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(columnDefinition = &quot;post_type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n    public class Post {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;title&quot;)\r\n        private String title;\r\n    \r\n        @Column(name = &quot;body&quot;)\r\n        private String body;\r\n    \r\n        @NotNull\r\n        @Column(name = &quot;post_type&quot;, insertable = false, updatable = false)\r\n        private String postType;\r\n    \r\n        // other simple columns\r\n    \r\n    \r\n    \r\n        // ommit getters/setters + hashcode etc\r\n    }\r\n\r\nSubclass entity:\r\n\r\n    @Entity\r\n    @DiscriminatorValue(value = &quot;EVENT&quot;)\r\n    public class Event extends Post {\r\n    \r\n        // ommitted basic methods, no extra config\r\n    \r\n    }\r\n\r\nI also need access to the discriminator value itself within each object (the postType field). I still have the same behaviour even if I remove it so it doesn&#39;t seem to be the cause.\r\n\r\nWhen I try to do a query on the subclass through a JPA repository:\r\n\r\n    public interface EventRepository extends JpaRepository&lt;Event, Integer&gt; {\r\n        List&lt;Event&gt; findAll();\r\n    }\r\n\r\nHibernate generates the query:\r\n\r\n    select post0_.id as id2_4_, post0_.bodyl as body_bod3_4_, post0_.title as title12_4_ \r\n    from post post0_ \r\n    where post0_.dtype=&#39;EVENT&#39;\r\n\r\nwhich of course generates an error as &#39;dtype&#39; doesn&#39;t exist in the table.\r\n\r\nThe strange thing is that if I use @DiscriminatorFormula(&quot;post_type&quot;) on the Post entity instead, everything seems to work. It is however slower so I would prefer to use the @DiscriminatorColumn as it should fit my needs exactly.\r\n\r\nI am using Hibernate 5.2.10-FINAL and Spring Data JPA 1.11.4 (or generally the latest of hopefully everything).\r\n\r\nAny ideas on what could be causing this?\r\n","title":"Hibernate ignoring discriminator column - always using &#39;dtype&#39;","body":"<p>I have a strange situation in my SINGLE_TAB inheritance Hibernate config whereby the @DiscriminatorColumn seems to be ignored and the query is always defaulting back to the 'dtype' column. It's like the behaviour I would see when I had not included the annotation at all (the default column name being 'dtype').</p>\n\n<p>Base entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"post\")\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(columnDefinition = \"post_type\", discriminatorType = DiscriminatorType.STRING)\npublic class Post {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = \"title\")\n    private String title;\n\n    @Column(name = \"body\")\n    private String body;\n\n    @NotNull\n    @Column(name = \"post_type\", insertable = false, updatable = false)\n    private String postType;\n\n    // other simple columns\n\n\n\n    // ommit getters/setters + hashcode etc\n}\n</code></pre>\n\n<p>Subclass entity:</p>\n\n<pre><code>@Entity\n@DiscriminatorValue(value = \"EVENT\")\npublic class Event extends Post {\n\n    // ommitted basic methods, no extra config\n\n}\n</code></pre>\n\n<p>I also need access to the discriminator value itself within each object (the postType field). I still have the same behaviour even if I remove it so it doesn't seem to be the cause.</p>\n\n<p>When I try to do a query on the subclass through a JPA repository:</p>\n\n<pre><code>public interface EventRepository extends JpaRepository&lt;Event, Integer&gt; {\n    List&lt;Event&gt; findAll();\n}\n</code></pre>\n\n<p>Hibernate generates the query:</p>\n\n<pre><code>select post0_.id as id2_4_, post0_.bodyl as body_bod3_4_, post0_.title as title12_4_ \nfrom post post0_ \nwhere post0_.dtype='EVENT'\n</code></pre>\n\n<p>which of course generates an error as 'dtype' doesn't exist in the table.</p>\n\n<p>The strange thing is that if I use @DiscriminatorFormula(\"post_type\") on the Post entity instead, everything seems to work. It is however slower so I would prefer to use the @DiscriminatorColumn as it should fit my needs exactly.</p>\n\n<p>I am using Hibernate 5.2.10-FINAL and Spring Data JPA 1.11.4 (or generally the latest of hopefully everything).</p>\n\n<p>Any ideas on what could be causing this?</p>\n"},{"tags":["java","jsp","include","jsp-tags","tagfile"],"answers":[{"tags":[],"owner":{"account_id":1360098,"reputation":433,"user_id":1297631,"accept_rate":88,"display_name":"Darth"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1359455212,"creation_date":1359455212,"answer_id":14580718,"question_id":14580120,"body_markdown":"[Possible Duplicate Question][1]\r\n\r\n`&lt;@include&gt;` - The directive tag instructs the JSP compiler to merge contents of the included file into the JSP before creating the generated servlet code. It is the equivalent to cutting and pasting the text from your include page right into your JSP.\r\n\r\n\r\n - Only one servlet is executed at run time.\r\n - Scriptlet variables declared in the parent page can be accessed in the included page (remember, they are the same page).\r\n - The included page does not need to able to be compiled as a standalone JSP. It can be a code fragment or plain text. The included page will never be compiled as a standalone. The included page can also have any extension, though .jspf has become a conventionally used extension.\r\n - One drawback on older containers is that changes to the include pages may not take effect until the parent page is updated. Recent versions of Tomcat will check the include pages for updates and force a recompile of the parent if they&#39;re updated.\r\n - A further drawback is that since the code is inlined directly into the service method of the generated servlet, the method can grow very large. If it exceeds 64 KB, your JSP compilation will likely fail.\r\n\r\n`&lt;jsp:include&gt;` - The JSP Action tag on the other hand instructs the container to pause the execution of this page, go run the included page, and merge the output from that page into the output from this page.\r\n\r\n - Each included page is executed as a separate servlet at run time.\r\n - Pages can conditionally be included at run time. This is often useful for templating frameworks that build pages out of includes. The parent page can determine which page, if any, to include according to some run-time condition.\r\n - The values of scriptlet variables need to be explicitly passed to the include page.\r\n - The included page must be able to be run on its own.\r\n - You are less likely to run into compilation errors due to the maximum method size being exceeded in the generated servlet class.\r\n\r\n&gt; Depending on your needs, you may either use `&lt;@include&gt;` or\r\n&gt; `&lt;jsp:include&gt;`\r\n\r\n  [1]: https://stackoverflow.com/questions/7879906/what-is-the-difference-between-jspinclude-page-and-include-file","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p><a href=\"https://stackoverflow.com/questions/7879906/what-is-the-difference-between-jspinclude-page-and-include-file\">Possible Duplicate Question</a></p>\n\n<p><code>&lt;@include&gt;</code> - The directive tag instructs the JSP compiler to merge contents of the included file into the JSP before creating the generated servlet code. It is the equivalent to cutting and pasting the text from your include page right into your JSP.</p>\n\n<ul>\n<li>Only one servlet is executed at run time.</li>\n<li>Scriptlet variables declared in the parent page can be accessed in the included page (remember, they are the same page).</li>\n<li>The included page does not need to able to be compiled as a standalone JSP. It can be a code fragment or plain text. The included page will never be compiled as a standalone. The included page can also have any extension, though .jspf has become a conventionally used extension.</li>\n<li>One drawback on older containers is that changes to the include pages may not take effect until the parent page is updated. Recent versions of Tomcat will check the include pages for updates and force a recompile of the parent if they're updated.</li>\n<li>A further drawback is that since the code is inlined directly into the service method of the generated servlet, the method can grow very large. If it exceeds 64 KB, your JSP compilation will likely fail.</li>\n</ul>\n\n<p><code>&lt;jsp:include&gt;</code> - The JSP Action tag on the other hand instructs the container to pause the execution of this page, go run the included page, and merge the output from that page into the output from this page.</p>\n\n<ul>\n<li>Each included page is executed as a separate servlet at run time.</li>\n<li>Pages can conditionally be included at run time. This is often useful for templating frameworks that build pages out of includes. The parent page can determine which page, if any, to include according to some run-time condition.</li>\n<li>The values of scriptlet variables need to be explicitly passed to the include page.</li>\n<li>The included page must be able to be run on its own.</li>\n<li>You are less likely to run into compilation errors due to the maximum method size being exceeded in the generated servlet class.</li>\n</ul>\n\n<blockquote>\n  <p>Depending on your needs, you may either use <code>&lt;@include&gt;</code> or\n  <code>&lt;jsp:include&gt;</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1070146,"reputation":427,"user_id":1069633,"display_name":"Saurabh Ande"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466628310,"creation_date":1360268315,"answer_id":14760220,"question_id":14580120,"body_markdown":"Main advantage of `&lt;jsp:include /&gt;` over `&lt;%@ include &gt;` is:\r\n\r\n`&lt;jsp:include /&gt;` allows to pass parameters\r\n\r\n    &lt;jsp:include page=&quot;inclusion.jsp&quot;&gt;\r\n        &lt;jsp:param name=&quot;menu&quot; value=&quot;objectValue&quot;/&gt;\r\n    &lt;/jsp:include&gt;\r\n\r\n \r\n\r\nwhich is not possible in `&lt;%@include file=&quot;somefile.jsp&quot; %&gt;`\r\n    \r\n\r\n","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>Main advantage of <code>&lt;jsp:include /&gt;</code> over <code>&lt;%@ include &gt;</code> is:</p>\n\n<p><code>&lt;jsp:include /&gt;</code> allows to pass parameters</p>\n\n<pre><code>&lt;jsp:include page=\"inclusion.jsp\"&gt;\n    &lt;jsp:param name=\"menu\" value=\"objectValue\"/&gt;\n&lt;/jsp:include&gt;\n</code></pre>\n\n<p>which is not possible in <code>&lt;%@include file=\"somefile.jsp\" %&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"down_vote_count":0,"up_vote_count":303,"is_accepted":true,"score":303,"last_activity_date":1696804340,"creation_date":1360283701,"answer_id":14763794,"question_id":14580120,"body_markdown":"## Overview of JSP Syntax Elements\r\nFirst, to make things more clear, here is a short overview of [JSP syntax elements](https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#i1005711):\r\n\r\n - [*Directives*][1]: These convey information regarding the JSP page as a\r\n   whole.\r\n - [*Scripting elements*][2]: These are Java coding elements such as\r\n   declarations, expressions, scriptlets, and comments.\r\n - [*Objects* and *scopes*][3]: JSP objects can be created either explicitly or\r\n   implicitly and are accessible within a given scope, such as from\r\n   anywhere in the JSP page or the session.\r\n - [*Actions*][4]: These create objects or affect the output stream in the JSP\r\n   response (or both).\r\n\r\n---\r\n## How content is included in JSP\r\nThere are several mechanisms for reusing content in a JSP file.\r\n\r\nThe following **4 mechanisms to include content in JSP** can be categorized as **direct reuse**:  \r\n(for the first 3 mechanisms quoting from [&quot;Head First Servlets and JSP&quot;](http://www.amazon.com/Head-First-Servlets-JSP-Certified/dp/0596516681))\r\n\r\n&gt; ## 1) The include *directive*:\r\n&gt; \r\n&gt;     &lt;%@ include file=&quot;header.html&quot; %&gt;\r\n&gt; **Static**: adds the content from the value of the file  attribute to the current page **at translation time**.  The directive was\r\n&gt; originally intended for static layout templates, like HTML  headers.\r\n\r\n&gt; ## 2) The &lt;code&gt;&amp;lt;jsp:include&amp;gt;&lt;/code&gt; *standard action*:\r\n&gt;     &lt;jsp:include page=&quot;header.jsp&quot; /&gt;\r\n&gt; **Dynamic**: adds the content from the value of the  page attribute to the current page **at request time**. Was intended more for dynamic\r\n&gt; content  coming from JSPs.\r\n&gt; &lt;h2&gt;3) The &lt;code&gt;&amp;lt;c:import&amp;gt;&lt;/code&gt; JSTL tag:&lt;/h2&gt;\r\n&gt; \r\n&gt;     &lt;c:import url=”http://www.example.com/foo/bar.html” /&gt;\r\n&gt; **Dynamic**: adds the content from the value of the  URL attribute to the current page, **at request time**.  It works a lot like\r\n&gt; `&lt;jsp:include&gt;`, but it’s more  powerful and flexible: unlike the\r\n&gt; other two includes,  the `&lt;c:import&gt;` **URL can be from  outside the\r\n&gt; web Container**!\r\n&gt; \r\n&gt; ## 4) Preludes and codas:\r\n&gt; **Static**: *preludes* and *codas* **can be applied only to the beginnings and ends of pages**.  \r\n&gt; You can implicitly include *preludes* (also called headers) and *codas*\r\n&gt; (also called footers) for a group of JSP pages by adding\r\n&gt; `&lt;include-prelude&gt;` and `&lt;include-coda&gt;` elements respectively within\r\n&gt; a `&lt;jsp-property-group&gt;` element in the Web application *web.xml* deployment descriptor.  \r\n&gt;\r\n&gt; Read more here:  \r\n&gt; • [Configuring Implicit Includes at the Beginning and End of JSPs](https://docs.oracle.com/cd/E24329_01/web.1211/e21049/configurejsp.htm#WBAPP188)  \r\n&gt; • [Defining implicit includes](http://docs.oracle.com/javaee/5/tutorial/doc/bnajg.html#bnajl)  \r\n\r\n\r\n---\r\n**Tag File** is an **indirect method** of content reuse, the way of **encapsulating reusable content**. \r\nA _Tag File_ is a source file that contains a fragment of JSP code that is reusable as a **custom tag**.  \r\n\r\nThe PURPOSE of includes and Tag Files is different.\r\n \r\n[**Tag file**](http://www.softwaresummit.com/2005/speakers/BergmanJSP2.0TagFiles.pdf) (a concept introduced with JSP 2.0) is one of the options **for creating custom tags**.  It&#39;s a faster and easier way to build _custom tags_. \r\n[**Custom tags**](http://docs.oracle.com/javaee/5/tutorial/doc/bnalj.html), also known as tag extensions, are JSP elements that allow custom logic and output provided by other Java components to be inserted into JSP pages. The logic provided through a custom tag is implemented by a Java object known as a _tag handler_.   \r\n\r\n\r\nSome examples of tasks that can be performed by custom tags include operating on implicit objects, processing forms, accessing databases and other enterprise services such as email and directories, and implementing flow control. \r\n\r\n---\r\n&lt;h3&gt;Regarding your Edit&lt;/h3&gt;\r\n\r\nMaybe in your example (in your _&quot;Edit&quot;_ paragraph), there is no difference between using direct include and a Tag File. But **custom tags have a rich set of features**. They can\r\n\r\n  -  Be customized by means of attributes passed from the calling page.\r\n\r\n  -  Pass variables back to the calling page.\r\n\r\n  -  Access all the objects available to JSP pages.\r\n\r\n  -  Communicate with each other. You can create and initialize a JavaBeans component, create a public EL variable that refers to that bean in one tag, and then use the bean in another tag.\r\n\r\n  - Be nested within one another and communicate by means of private variables.\r\n \r\n\r\nAlso read this from &quot;Pro JSP 2&quot;: [Understanding JSP Custom Tags](http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA252#v=onepage&amp;q=usage%20of%20jsp%20tag%20files&amp;f=false).\r\n\r\n---\r\n&lt;h2&gt;Useful reading&lt;/h2&gt;\r\n\r\n - [**Difference between include directive and include action in\r\n   JSP**](http://javarevisited.blogspot.com/2012/01/difference-between-page-include-and.html)\r\n\r\n - [**JSP tricks to make templating\r\n   easier**](https://stackoverflow.com/a/3257426/814702)\r\n\r\n - Very informative and easy to understand tutorial from _coreservlet.com_ with beautiful\r\n   explanations that include `&lt;jsp:include&gt; VS. &lt;%@ include %&gt;`\r\n   comparison table:  \r\n[**Including Files and Applets in JSP\r\n   Pages**](https://web.archive.org/web/20200720001812/http://www.java-programming.info/tutorial/pdf/csajsp2/12-File-Inclusion.pdf)\r\n\r\n - Another nice tutorial from _coreservlets.com_ related to tag libraries and\r\n   tag files:   \r\n[**Creating Custom JSP Tag Libraries: The\r\n   Basics**](http://courses.coreservlets.com/Course-Materials/pdf/msajsp/07-Basic-Custom-Tags.pdf)\r\n\r\n - The official Java EE 5 Tutorial with examples:  \r\n[**Encapsulating Reusable Content\r\n   Using Tag\r\n   Files**](http://docs.oracle.com/javaee/5/tutorial/doc/bnama.html). \r\n\r\n - This page from the official Java EE 5 tutorial should give you even\r\n   more understanding:     \r\n[**Reusing Content in JSP\r\n   Pages**](http://docs.oracle.com/javaee/5/tutorial/doc/bnajb.html).\r\n\r\n - This excerpt from the book &quot;Pro JSP 2&quot; also discuses **why do you need\r\n   a Tag File instead of using static include**:  \r\n[**Reusing Content with Tag\r\n   Files**](http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA257#v=onepage&amp;q&amp;f=false)\r\n\r\n - Very useful guide right from the Oracle documentation:  \r\n   [**Static Includes Versus Dynamic Includes**](https://docs.oracle.com/cd/A97336_01/buslog.102/a83726/keydev1.htm#1015959)\r\n\r\n---\r\n# Conclusion\r\n\r\n&gt; _Use the right tools for each task._\r\n\r\n**Use _Tag Files_** as a quick and easy way of creating _custom tags_ that can help you *encapsulate reusable content*.  \r\n\r\nAs for the including content in JSP (quote from [here](http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/)):\r\n\r\n&gt;  - **Use the include directive** if the file *changes rarely*. It’s the fastest mechanism. If your container doesn’t automatically detect changes, you can force the changes to take effect by deleting the main page class file.\r\n&gt;  - **Use the include action** only for content that *changes often*, and if which page to include cannot be decided until the main page is requested.\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref25\r\n  [2]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref37\r\n  [3]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref51\r\n  [4]: https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref75","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<h2>Overview of JSP Syntax Elements</h2>\n<p>First, to make things more clear, here is a short overview of <a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#i1005711\" rel=\"nofollow noreferrer\">JSP syntax elements</a>:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref25\" rel=\"nofollow noreferrer\"><em>Directives</em></a>: These convey information regarding the JSP page as a\nwhole.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref37\" rel=\"nofollow noreferrer\"><em>Scripting elements</em></a>: These are Java coding elements such as\ndeclarations, expressions, scriptlets, and comments.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref51\" rel=\"nofollow noreferrer\"><em>Objects</em> and <em>scopes</em></a>: JSP objects can be created either explicitly or\nimplicitly and are accessible within a given scope, such as from\nanywhere in the JSP page or the session.</li>\n<li><a href=\"https://docs.oracle.com/cd/B14099_19/web.1012/b14014/genlovw.htm#sthref75\" rel=\"nofollow noreferrer\"><em>Actions</em></a>: These create objects or affect the output stream in the JSP\nresponse (or both).</li>\n</ul>\n<hr />\n<h2>How content is included in JSP</h2>\n<p>There are several mechanisms for reusing content in a JSP file.</p>\n<p>The following <strong>4 mechanisms to include content in JSP</strong> can be categorized as <strong>direct reuse</strong>:<br />\n(for the first 3 mechanisms quoting from <a href=\"https://rads.stackoverflow.com/amzn/click/com/0596516681\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">&quot;Head First Servlets and JSP&quot;</a>)</p>\n<blockquote>\n<h2>1) The include <em>directive</em>:</h2>\n<pre><code>&lt;%@ include file=&quot;header.html&quot; %&gt;\n</code></pre>\n<p><strong>Static</strong>: adds the content from the value of the file  attribute to the current page <strong>at translation time</strong>.  The directive was\noriginally intended for static layout templates, like HTML  headers.</p>\n</blockquote>\n<blockquote>\n<h2>2) The <code>&lt;jsp:include&gt;</code> <em>standard action</em>:</h2>\n<pre><code>&lt;jsp:include page=&quot;header.jsp&quot; /&gt;\n</code></pre>\n<p><strong>Dynamic</strong>: adds the content from the value of the  page attribute to the current page <strong>at request time</strong>. Was intended more for dynamic\ncontent  coming from JSPs.</p>\n<h2>3) The <code>&lt;c:import&gt;</code> JSTL tag:</h2>\n<pre><code>&lt;c:import url=”http://www.example.com/foo/bar.html” /&gt;\n</code></pre>\n<p><strong>Dynamic</strong>: adds the content from the value of the  URL attribute to the current page, <strong>at request time</strong>.  It works a lot like\n<code>&lt;jsp:include&gt;</code>, but it’s more  powerful and flexible: unlike the\nother two includes,  the <code>&lt;c:import&gt;</code> <strong>URL can be from  outside the\nweb Container</strong>!</p>\n<h2>4) Preludes and codas:</h2>\n<p><strong>Static</strong>: <em>preludes</em> and <em>codas</em> <strong>can be applied only to the beginnings and ends of pages</strong>.<br />\nYou can implicitly include <em>preludes</em> (also called headers) and <em>codas</em>\n(also called footers) for a group of JSP pages by adding\n<code>&lt;include-prelude&gt;</code> and <code>&lt;include-coda&gt;</code> elements respectively within\na <code>&lt;jsp-property-group&gt;</code> element in the Web application <em>web.xml</em> deployment descriptor.</p>\n<p>Read more here:<br />\n• <a href=\"https://docs.oracle.com/cd/E24329_01/web.1211/e21049/configurejsp.htm#WBAPP188\" rel=\"nofollow noreferrer\">Configuring Implicit Includes at the Beginning and End of JSPs</a><br />\n• <a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnajg.html#bnajl\" rel=\"nofollow noreferrer\">Defining implicit includes</a></p>\n</blockquote>\n<hr />\n<p><strong>Tag File</strong> is an <strong>indirect method</strong> of content reuse, the way of <strong>encapsulating reusable content</strong>.\nA <em>Tag File</em> is a source file that contains a fragment of JSP code that is reusable as a <strong>custom tag</strong>.</p>\n<p>The PURPOSE of includes and Tag Files is different.</p>\n<p><a href=\"http://www.softwaresummit.com/2005/speakers/BergmanJSP2.0TagFiles.pdf\" rel=\"nofollow noreferrer\"><strong>Tag file</strong></a> (a concept introduced with JSP 2.0) is one of the options <strong>for creating custom tags</strong>.  It's a faster and easier way to build <em>custom tags</em>.\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnalj.html\" rel=\"nofollow noreferrer\"><strong>Custom tags</strong></a>, also known as tag extensions, are JSP elements that allow custom logic and output provided by other Java components to be inserted into JSP pages. The logic provided through a custom tag is implemented by a Java object known as a <em>tag handler</em>.</p>\n<p>Some examples of tasks that can be performed by custom tags include operating on implicit objects, processing forms, accessing databases and other enterprise services such as email and directories, and implementing flow control.</p>\n<hr />\n<h3>Regarding your Edit</h3>\n<p>Maybe in your example (in your <em>&quot;Edit&quot;</em> paragraph), there is no difference between using direct include and a Tag File. But <strong>custom tags have a rich set of features</strong>. They can</p>\n<ul>\n<li><p>Be customized by means of attributes passed from the calling page.</p>\n</li>\n<li><p>Pass variables back to the calling page.</p>\n</li>\n<li><p>Access all the objects available to JSP pages.</p>\n</li>\n<li><p>Communicate with each other. You can create and initialize a JavaBeans component, create a public EL variable that refers to that bean in one tag, and then use the bean in another tag.</p>\n</li>\n<li><p>Be nested within one another and communicate by means of private variables.</p>\n</li>\n</ul>\n<p>Also read this from &quot;Pro JSP 2&quot;: <a href=\"http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA252#v=onepage&amp;q=usage%20of%20jsp%20tag%20files&amp;f=false\" rel=\"nofollow noreferrer\">Understanding JSP Custom Tags</a>.</p>\n<hr />\n<h2>Useful reading</h2>\n<ul>\n<li><p><a href=\"http://javarevisited.blogspot.com/2012/01/difference-between-page-include-and.html\" rel=\"nofollow noreferrer\"><strong>Difference between include directive and include action in\nJSP</strong></a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/3257426/814702\"><strong>JSP tricks to make templating\neasier</strong></a></p>\n</li>\n<li><p>Very informative and easy to understand tutorial from <em>coreservlet.com</em> with beautiful\nexplanations that include <code>&lt;jsp:include&gt; VS. &lt;%@ include %&gt;</code>\ncomparison table:<br />\n<a href=\"https://web.archive.org/web/20200720001812/http://www.java-programming.info/tutorial/pdf/csajsp2/12-File-Inclusion.pdf\" rel=\"nofollow noreferrer\"><strong>Including Files and Applets in JSP\nPages</strong></a></p>\n</li>\n<li><p>Another nice tutorial from <em>coreservlets.com</em> related to tag libraries and\ntag files:<br />\n<a href=\"http://courses.coreservlets.com/Course-Materials/pdf/msajsp/07-Basic-Custom-Tags.pdf\" rel=\"nofollow noreferrer\"><strong>Creating Custom JSP Tag Libraries: The\nBasics</strong></a></p>\n</li>\n<li><p>The official Java EE 5 Tutorial with examples:<br />\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnama.html\" rel=\"nofollow noreferrer\"><strong>Encapsulating Reusable Content\nUsing Tag\nFiles</strong></a>.</p>\n</li>\n<li><p>This page from the official Java EE 5 tutorial should give you even\nmore understanding:<br />\n<a href=\"http://docs.oracle.com/javaee/5/tutorial/doc/bnajb.html\" rel=\"nofollow noreferrer\"><strong>Reusing Content in JSP\nPages</strong></a>.</p>\n</li>\n<li><p>This excerpt from the book &quot;Pro JSP 2&quot; also discuses <strong>why do you need\na Tag File instead of using static include</strong>:<br />\n<a href=\"http://books.google.ee/books?id=A3FuJXgx0RAC&amp;lpg=PA256&amp;ots=hqQMmIx_cH&amp;dq=usage%20of%20jsp%20tag%20files&amp;pg=PA257#v=onepage&amp;q&amp;f=false\" rel=\"nofollow noreferrer\"><strong>Reusing Content with Tag\nFiles</strong></a></p>\n</li>\n<li><p>Very useful guide right from the Oracle documentation:<br />\n<a href=\"https://docs.oracle.com/cd/A97336_01/buslog.102/a83726/keydev1.htm#1015959\" rel=\"nofollow noreferrer\"><strong>Static Includes Versus Dynamic Includes</strong></a></p>\n</li>\n</ul>\n<hr />\n<h1>Conclusion</h1>\n<blockquote>\n<p><em>Use the right tools for each task.</em></p>\n</blockquote>\n<p><strong>Use <em>Tag Files</em></strong> as a quick and easy way of creating <em>custom tags</em> that can help you <em>encapsulate reusable content</em>.</p>\n<p>As for the including content in JSP (quote from <a href=\"http://sharat.wordpress.com/2006/08/28/10-what-is-the-difference-between-pagedirective-include-action-tag-include/\" rel=\"nofollow noreferrer\">here</a>):</p>\n<blockquote>\n<ul>\n<li><strong>Use the include directive</strong> if the file <em>changes rarely</em>. It’s the fastest mechanism. If your container doesn’t automatically detect changes, you can force the changes to take effect by deleting the main page class file.</li>\n<li><strong>Use the include action</strong> only for content that <em>changes often</em>, and if which page to include cannot be decided until the main page is requested.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13694,"reputation":1056,"user_id":27649,"display_name":"Hari"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1360310921,"creation_date":1360306338,"answer_id":14767241,"question_id":14580120,"body_markdown":"All three template options - `&lt;%@include&gt;`, `&lt;jsp:include&gt;` and `&lt;%@tag&gt;` are valid, and all three cover different use cases.\r\n\r\nWith `&lt;@include&gt;`, the JSP parser in-lines the content of the included file into the JSP before compilation (similar to a C `#include`). You&#39;d use this option with simple, static content: for example, if you wanted to include header, footer, or navigation elements into every page in your web-app. The included content becomes part of the compiled JSP and there&#39;s no extra cost at runtime.\r\n\r\n`&lt;jsp:include&gt;` (and JSTL&#39;s `&lt;c:import&gt;`, which is similar and even more powerful) are best suited to dynamic content. Use these when you need to include content from another URL, local or remote; when the resource you&#39;re including is itself dynamic; or when the included content uses variables or bean definitions that conflict with the including page. `&lt;c:import&gt;` also allows you to store the included text in a variable, which you can further manipulate or reuse. Both these incur an additional runtime cost for the dispatch: this is minimal, but you need to be aware that the dynamic include is not &quot;free&quot;.\r\n\r\nUse tag files when you want to create reusable user interface components. If you have a List of Widgets, say, and you want to iterate over the Widgets and display properties of each (in a table, or in a form), you&#39;d create a tag. Tags can take arguments, using `&lt;%@tag attribute&gt;` and these arguments can be either mandatory or optional - somewhat like method parameters. \r\n\r\nTag files are a simpler, JSP-based mechanism of writing tag libraries, which (pre JSP 2.0) you had to write using Java code. It&#39;s a lot cleaner to write JSP tag files when there&#39;s a lot of rendering to do in the tag: you don&#39;t need to mix Java and HTML code as you&#39;d have to do if you wrote your tags in Java.\r\n","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>All three template options - <code>&lt;%@include&gt;</code>, <code>&lt;jsp:include&gt;</code> and <code>&lt;%@tag&gt;</code> are valid, and all three cover different use cases.</p>\n\n<p>With <code>&lt;@include&gt;</code>, the JSP parser in-lines the content of the included file into the JSP before compilation (similar to a C <code>#include</code>). You'd use this option with simple, static content: for example, if you wanted to include header, footer, or navigation elements into every page in your web-app. The included content becomes part of the compiled JSP and there's no extra cost at runtime.</p>\n\n<p><code>&lt;jsp:include&gt;</code> (and JSTL's <code>&lt;c:import&gt;</code>, which is similar and even more powerful) are best suited to dynamic content. Use these when you need to include content from another URL, local or remote; when the resource you're including is itself dynamic; or when the included content uses variables or bean definitions that conflict with the including page. <code>&lt;c:import&gt;</code> also allows you to store the included text in a variable, which you can further manipulate or reuse. Both these incur an additional runtime cost for the dispatch: this is minimal, but you need to be aware that the dynamic include is not \"free\".</p>\n\n<p>Use tag files when you want to create reusable user interface components. If you have a List of Widgets, say, and you want to iterate over the Widgets and display properties of each (in a table, or in a form), you'd create a tag. Tags can take arguments, using <code>&lt;%@tag attribute&gt;</code> and these arguments can be either mandatory or optional - somewhat like method parameters. </p>\n\n<p>Tag files are a simpler, JSP-based mechanism of writing tag libraries, which (pre JSP 2.0) you had to write using Java code. It's a lot cleaner to write JSP tag files when there's a lot of rendering to do in the tag: you don't need to mix Java and HTML code as you'd have to do if you wrote your tags in Java.</p>\n"},{"tags":[],"owner":{"account_id":1530819,"reputation":2490,"user_id":1428052,"accept_rate":50,"display_name":"Abhijeet Ashok Muneshwar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581379757,"creation_date":1382078053,"answer_id":19443081,"question_id":14580120,"body_markdown":"According to: \r\n[Java Revisited](http://javarevisited.blogspot.in/2012/01/difference-between-page-include-and.html)\r\n\r\n1. Resources included by include directive are loaded during jsp translation time, while resources included by include action are loaded during request time.\r\n\r\n2. Any change on included resources will not be visible in case of include directive until jsp file compiles again. While in case of include action, any change in included resource will be visible in the next request.\r\n\r\n3. Include directive is static import, while include action is dynamic import.\r\n\r\n4. Include directive uses file attribute to specify resources to be included while include action uses page attribute for the same purpose.","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>According to: \n<a href=\"http://javarevisited.blogspot.in/2012/01/difference-between-page-include-and.html\" rel=\"nofollow noreferrer\">Java Revisited</a></p>\n\n<ol>\n<li><p>Resources included by include directive are loaded during jsp translation time, while resources included by include action are loaded during request time.</p></li>\n<li><p>Any change on included resources will not be visible in case of include directive until jsp file compiles again. While in case of include action, any change in included resource will be visible in the next request.</p></li>\n<li><p>Include directive is static import, while include action is dynamic import.</p></li>\n<li><p>Include directive uses file attribute to specify resources to be included while include action uses page attribute for the same purpose.</p></li>\n</ol>\n"}],"owner":{"account_id":1986060,"reputation":4978,"user_id":1814823,"accept_rate":65,"display_name":"sonicboom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132473,"favorite_count":0,"down_vote_count":1,"up_vote_count":162,"accepted_answer_id":14763794,"answer_count":5,"score":161,"last_activity_date":1696804340,"creation_date":1359453512,"question_id":14580120,"body_markdown":"It seems that there are two methods for templating with JSP. Including files with one of these statements \r\n\r\n    &lt;%@ include file=&quot;foo.html&quot; %&gt;\r\n    &lt;jsp:include page=&quot;foo.html&quot; /&gt;\r\n\r\nor using JSP tag files \r\n\r\n    // Save this as mytag.tag\r\n    &lt;%@ tag description=&quot;Description&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;jsp:doBody/&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nAnd in another JSP page call it with\r\n\r\n    &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n        \r\n    &lt;t:mytag&gt;\r\n        &lt;h1&gt;Hello World&lt;/h1&gt;\r\n    &lt;/t:mytag&gt;\r\n\r\nSo which method should I use? Is one now considered deprecated or are they both valid and cover different use cases?\r\n\r\n**Edit**\r\n\r\nIsn&#39;t using this tag file the same as using an include?\r\n\r\n    // Save this as product.tag\r\n    &lt;%@ tag description=&quot;Product templage&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    &lt;%@ tag import=&quot;com.myapp.Product&quot; %&gt;\r\n    &lt;%@ attribute name=&quot;product&quot; required=&quot;true&quot; type=&quot;com.myapp.Product&quot;%&gt;\r\n    \r\n    Product name: ${product.name} &lt;br/&gt;\r\n    Quantity: ${product.quantity} &lt;br/&gt;\r\n\r\nAnd call it on another JSP with\r\n\r\n    &lt;%@ taglib prefix=&quot;t&quot; tagdir=&quot;/WEB-INF/tags&quot; %&gt;\r\n    \r\n    &lt;t:product&gt;\r\n        &lt;c:forEach items=&quot;${cart.products}&quot; var=&quot;product&quot;&gt;\r\n            &lt;t:product product=&quot;${product}&quot;/&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/t:product&gt;\r\n\r\nThat seems to me to be the very same as using an include and passing parameters to it. So are Tag Files the same as includes?","title":"What&#39;s the difference between including files with JSP include directive, JSP include action and using JSP Tag Files?","body":"<p>It seems that there are two methods for templating with JSP. Including files with one of these statements </p>\n\n<pre><code>&lt;%@ include file=\"foo.html\" %&gt;\n&lt;jsp:include page=\"foo.html\" /&gt;\n</code></pre>\n\n<p>or using JSP tag files </p>\n\n<pre><code>// Save this as mytag.tag\n&lt;%@ tag description=\"Description\" pageEncoding=\"UTF-8\"%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;jsp:doBody/&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And in another JSP page call it with</p>\n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:mytag&gt;\n    &lt;h1&gt;Hello World&lt;/h1&gt;\n&lt;/t:mytag&gt;\n</code></pre>\n\n<p>So which method should I use? Is one now considered deprecated or are they both valid and cover different use cases?</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Isn't using this tag file the same as using an include?</p>\n\n<pre><code>// Save this as product.tag\n&lt;%@ tag description=\"Product templage\" pageEncoding=\"UTF-8\"%&gt;\n&lt;%@ tag import=\"com.myapp.Product\" %&gt;\n&lt;%@ attribute name=\"product\" required=\"true\" type=\"com.myapp.Product\"%&gt;\n\nProduct name: ${product.name} &lt;br/&gt;\nQuantity: ${product.quantity} &lt;br/&gt;\n</code></pre>\n\n<p>And call it on another JSP with</p>\n\n<pre><code>&lt;%@ taglib prefix=\"t\" tagdir=\"/WEB-INF/tags\" %&gt;\n\n&lt;t:product&gt;\n    &lt;c:forEach items=\"${cart.products}\" var=\"product\"&gt;\n        &lt;t:product product=\"${product}\"/&gt;\n    &lt;/c:forEach&gt;\n&lt;/t:product&gt;\n</code></pre>\n\n<p>That seems to me to be the very same as using an include and passing parameters to it. So are Tag Files the same as includes?</p>\n"},{"tags":["java","xml","dom","runtime-error","java-17"],"owner":{"account_id":24170163,"reputation":11,"user_id":18132344,"display_name":"newbee_to_code"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696804287,"creation_date":1696787988,"question_id":77254731,"body_markdown":"I&#39;m facing this issue in a individual module of a spring boot application while migrating from JAVA 11 to JAVA 17. The parent pom has xercesImpl 2.12.0.SP03 , jaxb-api 2.3.1, jaxb-impl 2.3.2, jersey-media-jaxb 2.31.\r\n\r\nThere is no error at the compile time build is success, but there is error at the run time. \r\n\r\nI have upgrade the spring boot version from 2.3.5 to 2.7.13 and spring-core version from 5.2.20 to 5.3.28\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [SpringConfiguration.xml]; nested exception is java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\r\n    \r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 43 common frames omitted\r\n\r\nI have checked in maven dependencies resolver, that either xercesImpl is coming from some other dependencies in the pom, but it is not. Even I have tried to run by adding it externally in the pom as we are parsing some xml document. But still getting the same issue .\r\n\r\nPlease advice. Thanks in advance...\r\n```\r\nthis is the pom.xml of the concerned module\r\n\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.tibco.tibjms&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tibjms&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;knowledge-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;drools-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;eclipse-jdt-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.antlr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;antlr-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xmlpull&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xmlpull&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\r\n\t\t\r\n\t\t&lt;!-- Logback appender using ELK over Kafka --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.danielwegener&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-kafka-appender&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- Logback appender using ELK over Kafka end --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\r\n\r\nThere is JAVA_OPTIONS in start.sh of the project -Dmovement.springInitFiles=SpringConfiguration.xml. \r\n```\r\nAnd SpringConfiguration.xml is present in the resources folder of the module.\r\n\r\n\r\nI tried adding externally xerces and xercesImpl in the module by looking some of the solutions Available.\r\n```\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.0.SP03&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n                 &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;xerces&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n   \r\n```\r\n But it didn&#39;t worked. I dont have lesser version of xerces than 2.6.2 in internal repo.\r\n","title":"Caused by: java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS error in JDK 11 to JDK17 migration","body":"<p>I'm facing this issue in a individual module of a spring boot application while migrating from JAVA 11 to JAVA 17. The parent pom has xercesImpl 2.12.0.SP03 , jaxb-api 2.3.1, jaxb-impl 2.3.2, jersey-media-jaxb 2.31.</p>\n<p>There is no error at the compile time build is success, but there is error at the run time.</p>\n<p>I have upgrade the spring boot version from 2.3.5 to 2.7.13 and spring-core version from 5.2.20 to 5.3.28</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected exception parsing XML document from class path resource [SpringConfiguration.xml]; nested exception is java.lang.NoClassDefFoundError: org/w3c/dom/ls/DocumentLS\n\nCaused by: java.lang.ClassNotFoundException: org.w3c.dom.ls.DocumentLS\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 43 common frames omitted\n</code></pre>\n<p>I have checked in maven dependencies resolver, that either xercesImpl is coming from some other dependencies in the pom, but it is not. Even I have tried to run by adding it externally in the pom as we are parsing some xml document. But still getting the same issue .</p>\n<p>Please advice. Thanks in advance...</p>\n<pre><code>this is the pom.xml of the concerned module\n\n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tibco.tibjms&lt;/groupId&gt;\n            &lt;artifactId&gt;tibjms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-client&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;knowledge-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-compiler&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.drools&lt;/groupId&gt;\n            &lt;artifactId&gt;drools-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;&lt;/groupId&gt;\n            &lt;artifactId&gt;eclipse-jdt-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.antlr&lt;/groupId&gt;\n            &lt;artifactId&gt;antlr-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;xmlpull&lt;/groupId&gt;\n            &lt;artifactId&gt;xmlpull&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core-lgpl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n        &lt;artifactId&gt;com.ibm.mq.allclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;dhbcore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ws.commons.axiom&lt;/groupId&gt;\n            &lt;artifactId&gt;axiom-impl&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;*&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n    \n        \n        &lt;!-- Logback appender using ELK over Kafka --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.danielwegener&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-kafka-appender&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Logback appender using ELK over Kafka end --&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;joda-time&lt;/groupId&gt;\n            &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n\n\nThere is JAVA_OPTIONS in start.sh of the project -Dmovement.springInitFiles=SpringConfiguration.xml. \n</code></pre>\n<p>And SpringConfiguration.xml is present in the resources folder of the module.</p>\n<p>I tried adding externally xerces and xercesImpl in the module by looking some of the solutions Available.</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\n                &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n                &lt;version&gt;2.12.0.SP03&lt;/version&gt;\n            &lt;/dependency&gt;\n                 &lt;dependency&gt;\n                &lt;groupId&gt;xerces&lt;/groupId&gt;\n                &lt;artifactId&gt;xerces&lt;/artifactId&gt;\n                &lt;version&gt;2.6.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n   \n</code></pre>\n<p>But it didn't worked. I dont have lesser version of xerces than 2.6.2 in internal repo.</p>\n"},{"tags":["java","spring","rest","spring-boot","interceptor"],"answers":[{"tags":[],"owner":{"account_id":14209744,"reputation":81,"user_id":10265330,"display_name":"Rembrandt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1665167845,"creation_date":1540275940,"answer_id":52942407,"question_id":52810882,"body_markdown":"Finally I have figured it out so I will leave here some simple but useful advice for others.\r\nI have used a request wrapper but to make it work properly I have added a filter with highest order to wrap every request into wrapper at the beginning, before interceptor is executed. Now it works well ;)\r\nHere&#39;s most important code - filter to wrap every request into multi read wrapper(interceptor looks almost the same as above and wrapper is not invented by me, found on stack and I found it as most clear and readable):\r\n\r\n\r\n    import lombok.SneakyThrows;\r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.core.annotation.Order;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Component\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public class GlobalWrapFilter implements Filter {\r\n    \r\n    \r\n        @Override\r\n        @SneakyThrows\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\r\n            MultiReadRequest wrapper = new MultiReadRequest((HttpServletRequest) request);\r\n            chain.doFilter(wrapper, response);\r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n        }\r\n    \r\n        class MultiReadRequest extends HttpServletRequestWrapper {\r\n    \r\n            private String requestBody;\r\n    \r\n            @SneakyThrows\r\n            public MultiReadRequest(HttpServletRequest request) {\r\n                super(request);\r\n                requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n            }\r\n    \r\n            @Override\r\n            public ServletInputStream getInputStream() throws IOException {\r\n                final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(requestBody.getBytes());\r\n                return new ServletInputStream() {\r\n                    @Override\r\n                    public boolean isFinished() {\r\n                        return byteArrayInputStream.available() == 0;\r\n                    }\r\n    \r\n                    @Override\r\n                    public boolean isReady() {\r\n                        return true;\r\n                    }\r\n    \r\n                    @Override\r\n                    public void setReadListener(ReadListener readListener) {\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public int read() throws IOException {\r\n                        return byteArrayInputStream.read();\r\n                    }\r\n                };\r\n            }\r\n    \r\n            @Override\r\n            @SneakyThrows\r\n            public BufferedReader getReader() {\r\n                return new BufferedReader(new InputStreamReader(this.getInputStream(), StandardCharsets.UTF_8));\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>Finally I have figured it out so I will leave here some simple but useful advice for others.\nI have used a request wrapper but to make it work properly I have added a filter with highest order to wrap every request into wrapper at the beginning, before interceptor is executed. Now it works well ;)\nHere's most important code - filter to wrap every request into multi read wrapper(interceptor looks almost the same as above and wrapper is not invented by me, found on stack and I found it as most clear and readable):</p>\n<pre><code>import lombok.SneakyThrows;\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.stream.Collectors;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class GlobalWrapFilter implements Filter {\n\n\n    @Override\n    @SneakyThrows\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) {\n        MultiReadRequest wrapper = new MultiReadRequest((HttpServletRequest) request);\n        chain.doFilter(wrapper, response);\n    }\n\n    @Override\n    public void destroy() {\n    }\n\n    class MultiReadRequest extends HttpServletRequestWrapper {\n\n        private String requestBody;\n\n        @SneakyThrows\n        public MultiReadRequest(HttpServletRequest request) {\n            super(request);\n            requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n        }\n\n        @Override\n        public ServletInputStream getInputStream() throws IOException {\n            final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(requestBody.getBytes());\n            return new ServletInputStream() {\n                @Override\n                public boolean isFinished() {\n                    return byteArrayInputStream.available() == 0;\n                }\n\n                @Override\n                public boolean isReady() {\n                    return true;\n                }\n\n                @Override\n                public void setReadListener(ReadListener readListener) {\n\n                }\n\n                @Override\n                public int read() throws IOException {\n                    return byteArrayInputStream.read();\n                }\n            };\n        }\n\n        @Override\n        @SneakyThrows\n        public BufferedReader getReader() {\n            return new BufferedReader(new InputStreamReader(this.getInputStream(), StandardCharsets.UTF_8));\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26421834,"reputation":1,"user_id":20069397,"display_name":"KP_EV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696803172,"creation_date":1696573012,"answer_id":77242204,"question_id":52810882,"body_markdown":"I dont have enough karma to comment, but the answer from @Rembrandt has a critical flaw:\r\n\r\n```java\r\nrequestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n```\r\n\r\n\r\nThis line is destroying every utf8 encoding in a spring boot app.\r\n\r\nThe fix is to not use getReader(), but to use .getInputStream() instead to get the actual raw data without any interpretation","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>I dont have enough karma to comment, but the answer from @Rembrandt has a critical flaw:</p>\n<pre class=\"lang-java prettyprint-override\"><code>requestBody = request.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n</code></pre>\n<p>This line is destroying every utf8 encoding in a spring boot app.</p>\n<p>The fix is to not use getReader(), but to use .getInputStream() instead to get the actual raw data without any interpretation</p>\n"}],"owner":{"account_id":14209744,"reputation":81,"user_id":10265330,"display_name":"Rembrandt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52942407,"answer_count":2,"score":1,"last_activity_date":1696803172,"creation_date":1539585075,"question_id":52810882,"body_markdown":"I have a problem with reading request body in interceptor. Both `getReader()` and `getInputStream()` causing problems.\r\nMy interceptor:\r\n\r\n    public class MyInterceptor extends HandlerInterceptorAdapter {\r\n    @Override\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception)\r\n            throws Exception {\r\n        // TODO Auto-generated method stub\r\n\r\n    }\r\n    @Override\r\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\r\n            throws Exception {\r\n        // TODO Auto-generated method stub\r\n    }\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n\r\n        String requestBody = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\r\n\r\n    //or\r\n    // String requestBody = new BufferedReader(new InputStreamReader(httpRequest.getInputStream()))\r\n    //                .lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    //some logic...\r\n        return true;\r\n    }\r\n\r\nBoth approaches failing because probably spring uses such resource somewhere internally.\r\nFirst causess **java.lang.IllegalStateException: getReader() has already been called for this request** and other **Required request body is missing: org.springframework.http.ResponseEntity**...\r\n\r\nI have tried some workarounds with wrappers without an effect. I think its because I cannot pass wrapper down like in filters(i dont want to use filter cause I have common exception managager(@ControllerAdvice).\r\n\r\nIs this a known issue? Is there any workaround for this?\r\n","title":"Cannot properly read reqest body in interceptor - Spring BOOT 2.0.4","body":"<p>I have a problem with reading request body in interceptor. Both <code>getReader()</code> and <code>getInputStream()</code> causing problems.\nMy interceptor:</p>\n\n<pre><code>public class MyInterceptor extends HandlerInterceptorAdapter {\n@Override\npublic void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception exception)\n        throws Exception {\n    // TODO Auto-generated method stub\n\n}\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\n        throws Exception {\n    // TODO Auto-generated method stub\n}\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n\n    String requestBody = httpRequest.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n\n//or\n// String requestBody = new BufferedReader(new InputStreamReader(httpRequest.getInputStream()))\n//                .lines().collect(Collectors.joining(\"\\n\"));\n//some logic...\n    return true;\n}\n</code></pre>\n\n<p>Both approaches failing because probably spring uses such resource somewhere internally.\nFirst causess <strong>java.lang.IllegalStateException: getReader() has already been called for this request</strong> and other <strong>Required request body is missing: org.springframework.http.ResponseEntity</strong>...</p>\n\n<p>I have tried some workarounds with wrappers without an effect. I think its because I cannot pass wrapper down like in filters(i dont want to use filter cause I have common exception managager(@ControllerAdvice).</p>\n\n<p>Is this a known issue? Is there any workaround for this?</p>\n"},{"tags":["java","android","delete-file"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1645723684,"post_id":71255668,"comment_id":125953131,"body_markdown":"And what is logcat saying ?","body":"And what is logcat saying ?"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1645723848,"post_id":71255668,"comment_id":125953185,"body_markdown":"Look for scoped storage. You need to use content resolver","body":"Look for scoped storage. You need to use content resolver"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645724124,"post_id":71255668,"comment_id":125953282,"body_markdown":"@PeterMmm Nothing more, but the deletion really returns false.","body":"@PeterMmm Nothing more, but the deletion really returns false."},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645724465,"post_id":71255668,"comment_id":125953408,"body_markdown":"@cmak Ok, I&#39;ll read more about this. From what I&#39;ve just seen, this is something from Android 11, correct?","body":"@cmak Ok, I&#39;ll read more about this. From what I&#39;ve just seen, this is something from Android 11, correct?"},{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1645725058,"post_id":71255668,"comment_id":125953630,"body_markdown":"https://stackoverflow.com/a/5322390/9474700 check this","body":"<a href=\"https://stackoverflow.com/a/5322390/9474700\">stackoverflow.com/a/5322390/9474700</a> check this"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645726521,"post_id":71255668,"comment_id":125954138,"body_markdown":"@behrad Not worked.","body":"@behrad Not worked."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645727229,"post_id":71255668,"comment_id":125954369,"body_markdown":"You should have started telling full path of folder. After that who created that folder and if it contains files. If it contains files then tell also who created them.","body":"You should have started telling full path of folder. After that who created that folder and if it contains files. If it contains files then tell also who created them."},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":1,"creation_date":1645731783,"post_id":71255668,"comment_id":125955851,"body_markdown":"@Whats91356 Get the document folder https://developer.android.com/training/data-storage/shared/documents-files#open-file\nthen delete it https://stackoverflow.com/a/31755101/11880323 There&#39;s no way to do it directly unless your app is granted the access all storage permission, which Play Store only allows to apps that really need it like file managers","body":"@Whats91356 Get the document folder <a href=\"https://developer.android.com/training/data-storage/shared/documents-files#open-file\" rel=\"nofollow noreferrer\">developer.android.com/training/data-storage/shared/&hellip;</a> then delete it <a href=\"https://stackoverflow.com/a/31755101/11880323\">stackoverflow.com/a/31755101/11880323</a> There&#39;s no way to do it directly unless your app is granted the access all storage permission, which Play Store only allows to apps that really need it like file managers"},{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":0,"creation_date":1645732826,"post_id":71255668,"comment_id":125956197,"body_markdown":"@cmak Thanks cmak, it is a valious information, reading the articles.","body":"@cmak Thanks cmak, it is a valious information, reading the articles."}],"answers":[{"tags":[],"owner":{"account_id":336119,"reputation":17010,"user_id":663604,"accept_rate":89,"display_name":"Oliver Spryn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645727922,"creation_date":1645727922,"answer_id":71256726,"question_id":71255668,"body_markdown":"Android has done much to change its permission models around file access since Android 10 and 11. The preferred approach is to use [Scoped Storage APIs][1].\r\n\r\nMany of the old file read/write permissions are on life support and will no longer work. If they do continue to work, then must justify to Google why you need them, and then go through a security approval by Google. You will only be granted approval if you app is classified as a file browser application, or the like.\r\n\r\nBasically, the new model is to use Android&#39;s file browsers to gain access to read/write/update a particular file that the user selects, and defer the rest of the file management to Google&#39;s first-party applications. The access you get is based on what the user selected in the first-party file browser. You are then handed a URI back to your application with the proper permissions to perform the intended action, such as read/write/etc...\r\n\r\nYou may find this video useful:\r\n\r\nhttps://www.youtube.com/watch?v=RjyYCUW-9tY\r\n\r\n  [1]: https://developer.android.com/about/versions/11/privacy/storage","title":"How to delete a folder on Android 11?","body":"<p>Android has done much to change its permission models around file access since Android 10 and 11. The preferred approach is to use <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">Scoped Storage APIs</a>.</p>\n<p>Many of the old file read/write permissions are on life support and will no longer work. If they do continue to work, then must justify to Google why you need them, and then go through a security approval by Google. You will only be granted approval if you app is classified as a file browser application, or the like.</p>\n<p>Basically, the new model is to use Android's file browsers to gain access to read/write/update a particular file that the user selects, and defer the rest of the file management to Google's first-party applications. The access you get is based on what the user selected in the first-party file browser. You are then handed a URI back to your application with the proper permissions to perform the intended action, such as read/write/etc...</p>\n<p>You may find this video useful:</p>\n<p><a href=\"https://www.youtube.com/watch?v=RjyYCUW-9tY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RjyYCUW-9tY</a></p>\n"},{"tags":[],"owner":{"account_id":8016842,"reputation":327,"user_id":6046829,"display_name":"AmirMohamamd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645741343,"creation_date":1645741343,"answer_id":71258942,"question_id":71255668,"body_markdown":"Have you tried Context.deleteFile() ?\r\n\r\n    getApplicationContext().deleteFile(filename);","title":"How to delete a folder on Android 11?","body":"<p>Have you tried Context.deleteFile() ?</p>\n<pre><code>getApplicationContext().deleteFile(filename);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11255966,"reputation":347,"user_id":8255752,"display_name":"Mohammed Alomair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696801946,"creation_date":1696801946,"answer_id":77255473,"question_id":71255668,"body_markdown":"To delete all files inside the ExternalFilesDir\r\n\r\n    fun removeAllFilesInExternalFilesDir(context: Context, folder: String) {\r\n        context.getExternalFilesDir(folder)?.listFiles()?.forEach {\r\n            it.delete()\r\n        }\r\n    }","title":"How to delete a folder on Android 11?","body":"<p>To delete all files inside the ExternalFilesDir</p>\n<pre><code>fun removeAllFilesInExternalFilesDir(context: Context, folder: String) {\n    context.getExternalFilesDir(folder)?.listFiles()?.forEach {\n        it.delete()\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71256726,"answer_count":3,"score":1,"last_activity_date":1696801946,"creation_date":1645722352,"question_id":71255668,"body_markdown":"I have a doubt, how I can delete a folder on Android 11 (or 10)?\r\n\r\nHave much answers here on Stack how to do it, but nothing of worked.\r\n\r\nThis code worked for me on Android 5:\r\n\r\n     public static boolean deleteDir(File dir) {\r\n          if (dir.isDirectory()) {\r\n               String[] children = dir.list();\r\n               for (int i=0; i&lt;children.length; i++) {\r\n                    boolean success = deleteDir(new File(dir, children[i]));\r\n                    if (!success) {\r\n                         return false;\r\n                    }\r\n               }\r\n          }\r\n    \r\n          // The directory is now empty so delete it\r\n          return dir.delete();\r\n     }\r\n\r\nOn newest versions of Android it not work. I noticed that there are applications that can to do this, so I imagine it is possible. Any answer about it?","title":"How to delete a folder on Android 11?","body":"<p>I have a doubt, how I can delete a folder on Android 11 (or 10)?</p>\n<p>Have much answers here on Stack how to do it, but nothing of worked.</p>\n<p>This code worked for me on Android 5:</p>\n<pre><code> public static boolean deleteDir(File dir) {\n      if (dir.isDirectory()) {\n           String[] children = dir.list();\n           for (int i=0; i&lt;children.length; i++) {\n                boolean success = deleteDir(new File(dir, children[i]));\n                if (!success) {\n                     return false;\n                }\n           }\n      }\n\n      // The directory is now empty so delete it\n      return dir.delete();\n }\n</code></pre>\n<p>On newest versions of Android it not work. I noticed that there are applications that can to do this, so I imagine it is possible. Any answer about it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":2,"creation_date":1580453007,"post_id":59998928,"comment_id":106109530,"body_markdown":"https://stackoverflow.com/questions/2626981/restricting-dynamically-loaded-classes-and-jars-based-on-a-security-policy This might be helpful to you.","body":"<a href=\"https://stackoverflow.com/questions/2626981/restricting-dynamically-loaded-classes-and-jars-based-on-a-security-policy\" title=\"restricting dynamically loaded classes and jars based on a security policy\">stackoverflow.com/questions/2626981/&hellip;</a> This might be helpful to you."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":2,"creation_date":1580453124,"post_id":59998928,"comment_id":106109569,"body_markdown":"Looks like you have to set SecurityManager  https://docs.oracle.com/javase/6/docs/api/java/lang/SecurityManager.html","body":"Looks like you have to set SecurityManager  <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/SecurityManager.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8446144,"reputation":577,"user_id":6336728,"display_name":"timlg07"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696801089,"creation_date":1696769490,"answer_id":77253689,"question_id":59998928,"body_markdown":"While for this exact situation, a SecurityManager might be the best fit (even though it is deprecated and marked for removal without replacement since Java 17), you actually can restrict access to other classes via the class loader.\r\n\r\nThis can be done by overriding your class loader&#39;s `loadClass` method.  \r\nIt is essential to understand the delegation model for class loaders to restrict it:\r\n\r\n&gt; The ClassLoader class uses a delegation model to search for classes\r\n&gt; and resources. Each instance of ClassLoader has an associated parent\r\n&gt; class loader. When requested to find a class or resource, a\r\n&gt; ClassLoader instance will delegate the search for the class or\r\n&gt; resource to its parent class loader before attempting to find the\r\n&gt; class or resource itself. The virtual machine&#39;s built-in class loader,\r\n&gt; called the &quot;bootstrap class loader&quot;, does not itself have a parent but\r\n&gt; may serve as the parent of a ClassLoader instance.\r\n\r\nThe role of the `loadClass` method is the following:\r\n\r\n&gt; Loads the class with the specified binary name. The default\r\n&gt; implementation of this method searches for classes in the following\r\n&gt; order: \r\n&gt; - Invoke findLoadedClass(String) to check if the class has\r\n&gt; already been loaded.\r\n&gt; \r\n&gt; - Invoke the loadClass method on the parent class loader. If the parent\r\n&gt; is null the class loader built-in to the virtual machine is used,\r\n&gt; instead.\r\n&gt; \r\n&gt; - Invoke the findClass(String) method to find the class.\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\r\n\r\nSo if we override `findClass` our code is only called if the parent class loader could not load/find the class. But we want to intercept all loaded classes, so we need to override `loadClass` instead:\r\n\r\n\r\n    @Override\r\n    public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\r\n        synchronized (getClassLoadingLock(name)) {\r\n            if (allowDelegateLoadingOf(name)) {\r\n                System.out.println(&quot;Delegate loading of &quot; + name + &quot; to parent class loader.&quot;);\r\n                return super.loadClass(name);\r\n            }\r\n\r\n            System.out.println(&quot;Prohibit class from delegating: &quot; + name);\r\n            return findClass(name);\r\n        }\r\n    }\r\n\r\nIn this case the `allowDelegateLoadingOf` is just a simple boolean method that determines if a class should be delegated and therefore loaded or not. This can be done by simply checking the class name against a list of whitelisted or blacklisted packages/classes.","title":"Custom Class loader to restrict access to classes","body":"<p>While for this exact situation, a SecurityManager might be the best fit (even though it is deprecated and marked for removal without replacement since Java 17), you actually can restrict access to other classes via the class loader.</p>\n<p>This can be done by overriding your class loader's <code>loadClass</code> method.<br />\nIt is essential to understand the delegation model for class loaders to restrict it:</p>\n<blockquote>\n<p>The ClassLoader class uses a delegation model to search for classes\nand resources. Each instance of ClassLoader has an associated parent\nclass loader. When requested to find a class or resource, a\nClassLoader instance will delegate the search for the class or\nresource to its parent class loader before attempting to find the\nclass or resource itself. The virtual machine's built-in class loader,\ncalled the &quot;bootstrap class loader&quot;, does not itself have a parent but\nmay serve as the parent of a ClassLoader instance.</p>\n</blockquote>\n<p>The role of the <code>loadClass</code> method is the following:</p>\n<blockquote>\n<p>Loads the class with the specified binary name. The default\nimplementation of this method searches for classes in the following\norder:</p>\n<ul>\n<li><p>Invoke findLoadedClass(String) to check if the class has\nalready been loaded.</p>\n</li>\n<li><p>Invoke the loadClass method on the parent class loader. If the parent\nis null the class loader built-in to the virtual machine is used,\ninstead.</p>\n</li>\n<li><p>Invoke the findClass(String) method to find the class.</p>\n</li>\n</ul>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/ClassLoader.html</a></p>\n<p>So if we override <code>findClass</code> our code is only called if the parent class loader could not load/find the class. But we want to intercept all loaded classes, so we need to override <code>loadClass</code> instead:</p>\n<pre><code>@Override\npublic Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException {\n    synchronized (getClassLoadingLock(name)) {\n        if (allowDelegateLoadingOf(name)) {\n            System.out.println(&quot;Delegate loading of &quot; + name + &quot; to parent class loader.&quot;);\n            return super.loadClass(name);\n        }\n\n        System.out.println(&quot;Prohibit class from delegating: &quot; + name);\n        return findClass(name);\n    }\n}\n</code></pre>\n<p>In this case the <code>allowDelegateLoadingOf</code> is just a simple boolean method that determines if a class should be delegated and therefore loaded or not. This can be done by simply checking the class name against a list of whitelisted or blacklisted packages/classes.</p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696801089,"creation_date":1580452099,"question_id":59998928,"body_markdown":"My application have this custom classloader:\r\n\r\n    JarByteClassloader loader = new JarByteClassloader(jar);\r\n    Class c = loader.loadClass(classToLoad);\r\n    Thread.currentThread().setContextClassLoader(loader);\r\n    JarEntryObject jarEntry = (JarEntryObject) c.newInstance();\r\n\r\nI&#39;d like to ask if it&#39;s possible to restrict access to specific classes from the instances loaded by a custom classloader? \r\n\r\nAs such, for example, `System.getProperty()` or `System.getenv()` should fail. In what way can this be done? ","title":"Custom Class loader to restrict access to classes","body":"<p>My application have this custom classloader:</p>\n\n<pre><code>JarByteClassloader loader = new JarByteClassloader(jar);\nClass c = loader.loadClass(classToLoad);\nThread.currentThread().setContextClassLoader(loader);\nJarEntryObject jarEntry = (JarEntryObject) c.newInstance();\n</code></pre>\n\n<p>I'd like to ask if it's possible to restrict access to specific classes from the instances loaded by a custom classloader? </p>\n\n<p>As such, for example, <code>System.getProperty()</code> or <code>System.getenv()</code> should fail. In what way can this be done? </p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1385450656,"post_id":20210853,"comment_id":30136431,"body_markdown":"iterate it and simple increase counter by one","body":"iterate it and simple increase counter by one"},{"owner":{"account_id":3364665,"reputation":143,"user_id":2825603,"accept_rate":40,"display_name":"Jaydev"},"score":0,"creation_date":1385450851,"post_id":20210853,"comment_id":30136522,"body_markdown":"dont we have any inbuilt function for that?","body":"dont we have any inbuilt function for that?"},{"owner":{"account_id":158028,"reputation":1877,"user_id":376365,"accept_rate":17,"display_name":"CMerrill"},"score":0,"creation_date":1395673052,"post_id":20210853,"comment_id":34432014,"body_markdown":"Why haven&#39;t you accepted one of the answers?","body":"Why haven&#39;t you accepted one of the answers?"},{"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"score":0,"creation_date":1472816633,"post_id":20210853,"comment_id":65916691,"body_markdown":"As the element as ID, you should use ID instead of xpath. Because ID is more preferable than xpath.","body":"As the element as ID, you should use ID instead of xpath. Because ID is more preferable than xpath."}],"answers":[{"tags":[],"owner":{"account_id":3599950,"reputation":395,"user_id":3003463,"display_name":"Ajay"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1696800925,"creation_date":1385451875,"answer_id":20211224,"question_id":20210853,"body_markdown":"Use `.getOptions()` method and store them in a list .Then find its size.\r\n\r\n    Select se = new Select(driver.findElement(By.id(&quot;select drop down locator&quot;)));\r\n\r\n    List&lt;WebElement&gt; l = se.getOptions();\r\n    l.size();\r\n\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Use <code>.getOptions()</code> method and store them in a list .Then find its size.</p>\n<pre><code>Select se = new Select(driver.findElement(By.id(&quot;select drop down locator&quot;)));\n\nList&lt;WebElement&gt; l = se.getOptions();\nl.size();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3865924,"reputation":21,"user_id":3202485,"display_name":"Meena T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390292989,"creation_date":1389875884,"answer_id":21162006,"question_id":20210853,"body_markdown":"Use `.getXpathCount()` method\r\n\r\n    int numOptions = selenium.getXpathCount(&quot;//*[@id=&#39;ddlTablePay&#39;]/option&quot;).intValue();","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Use <code>.getXpathCount()</code> method</p>\n\n<pre><code>int numOptions = selenium.getXpathCount(\"//*[@id='ddlTablePay']/option\").intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1625469,"reputation":4314,"user_id":1501118,"accept_rate":36,"display_name":"Sharanabasu Angadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442399628,"creation_date":1442399628,"answer_id":32606170,"question_id":20210853,"body_markdown":"    optionItems = Select(driver.find_element_by_xpath(&quot;//select[@id=&#39;ddlTablePay&#39;]&quot;))\r\n    print &quot;Total Elements &quot; + str(len(optionItems.options))\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<pre><code>optionItems = Select(driver.find_element_by_xpath(\"//select[@id='ddlTablePay']\"))\nprint \"Total Elements \" + str(len(optionItems.options))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7033595,"reputation":31,"user_id":5388492,"display_name":"IVI4K LI"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443525291,"creation_date":1443524977,"answer_id":32842373,"question_id":20210853,"body_markdown":"    String[] options = driver.findElement(By.id(&quot;dropdown&quot;)).getText().split(&quot;\\n&quot;);\r\n    options.length;","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<pre><code>String[] options = driver.findElement(By.id(\"dropdown\")).getText().split(\"\\n\");\noptions.length;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696800901,"creation_date":1472818221,"answer_id":39292110,"question_id":20210853,"body_markdown":"To count the number of options\r\n\r\n    Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\r\n    List&lt;WebElement&gt; elementCount = dropDown.getOptions();\r\n    System.out.println(&quot;Number of items: &quot; + elementCount.size());\r\n\r\nTo get and print all the Options\r\n\r\n    Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\r\n    \t\tList &lt;WebElement&gt; elementCount = dropDown.getOptions();\r\n    \t\tint itemSize = elementCount.size();\r\n    \t\tfor(int i = 0; i &lt; itemSize ; i++){\r\n    \t\t\tString optionsValue = elementCount.get(i).getText();\r\n    \t\t\tSystem.out.println(optionsValue);\r\n    \t\t}\r\n\r\n","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>To count the number of options</p>\n<pre><code>Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\nList&lt;WebElement&gt; elementCount = dropDown.getOptions();\nSystem.out.println(&quot;Number of items: &quot; + elementCount.size());\n</code></pre>\n<p>To get and print all the Options</p>\n<pre><code>Select dropDown = new Select(driver.findElement(By.id(&quot;ddlTablePay&quot;)));\n        List &lt;WebElement&gt; elementCount = dropDown.getOptions();\n        int itemSize = elementCount.size();\n        for(int i = 0; i &lt; itemSize ; i++){\n            String optionsValue = elementCount.get(i).getText();\n            System.out.println(optionsValue);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10205950,"reputation":321,"user_id":7534680,"display_name":"Aawara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665207494,"creation_date":1665207494,"answer_id":73994662,"question_id":20210853,"body_markdown":"Pass the xpath of the dropdown whose count you want:\r\n\r\n    static int getDropdownListCount(String xpath) {\r\n    \t\t\r\n    \tWebElement element = driver.findElement(By.xpath(xpath));\r\n    \tSelect select = new Select(element);\r\n    \tList&lt;WebElement&gt; elements = select.getOptions();\r\n    \treturn elements.size();\r\n    }\r\n\r\nIt&#39;ll return count of total number of options under that dropdown.","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>Pass the xpath of the dropdown whose count you want:</p>\n<pre><code>static int getDropdownListCount(String xpath) {\n        \n    WebElement element = driver.findElement(By.xpath(xpath));\n    Select select = new Select(element);\n    List&lt;WebElement&gt; elements = select.getOptions();\n    return elements.size();\n}\n</code></pre>\n<p>It'll return count of total number of options under that dropdown.</p>\n"},{"tags":[],"owner":{"account_id":17487416,"reputation":1,"user_id":12680170,"display_name":"Divesh Pathak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696800879,"creation_date":1696501465,"answer_id":77236273,"question_id":20210853,"body_markdown":"you can use the below syntax to count the number of element in drop down list. First you need to read anyone element from drop down list as below. \r\n```\r\nString report1 = driver.findElement(By.xpath(&quot;xpath of first element of dropdown list&quot;)).getText();\r\n\r\nString [] element = driver.findElement(By.xpath(&quot;your-xpath-complete drop down section&quot;)).getText().split(&quot;\\n&quot;);\r\n\r\nelements.length\r\n```\r\nelements.length is the number of elements present in your drop down list","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>you can use the below syntax to count the number of element in drop down list. First you need to read anyone element from drop down list as below.</p>\n<pre><code>String report1 = driver.findElement(By.xpath(&quot;xpath of first element of dropdown list&quot;)).getText();\n\nString [] element = driver.findElement(By.xpath(&quot;your-xpath-complete drop down section&quot;)).getText().split(&quot;\\n&quot;);\n\nelements.length\n</code></pre>\n<p>elements.length is the number of elements present in your drop down list</p>\n"}],"owner":{"account_id":3364665,"reputation":143,"user_id":2825603,"accept_rate":40,"display_name":"Jaydev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49413,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":7,"score":8,"last_activity_date":1696800925,"creation_date":1385450619,"question_id":20210853,"body_markdown":"I have Select Dropdown list with this: \r\n\r\n    xpath //*[@id=&quot;ddlTablePay&quot;] \r\n\r\nI need to count the number of options in this drop-down. Thank You","title":"How to count the number of options in a select drop down box in Selenium WebDriver using Java?","body":"<p>I have Select Dropdown list with this: </p>\n\n<pre><code>xpath //*[@id=\"ddlTablePay\"] \n</code></pre>\n\n<p>I need to count the number of options in this drop-down. Thank You</p>\n"},{"tags":["java","javafx","netbeans","java-8","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696799423,"creation_date":1696793689,"answer_id":77255059,"question_id":77255002,"body_markdown":"Keyboard events are only delivered to the node with the keyboard focus. So when the circle is selected, you need to request that the circle has focus:\r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n        \r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n        \r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n\r\n        selectedCircle.requestFocus();\r\n    }\r\n\r\nAdditionally, the default keyboard handlers on the scene will move focus to other nodes for certain key presses. So you probably want to consume the events for keys you are handling to prevent keyboard focus from moving:\r\n\r\n    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n        if(event.getCode() == KeyCode.LEFT){\r\n            circle.setCenterX(circle.getCenterX() - 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.RIGHT){\r\n            circle.setCenterX(circle.getCenterX() + 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.UP){\r\n            circle.setCenterY(circle.getCenterY() - 10);\r\n            event.consume();\r\n        } else if(event.getCode() == KeyCode.DOWN){\r\n            circle.setCenterY(circle.getCenterY() + 10);\r\n            event.consume();\r\n        }\r\n\r\n    }\r\n\r\n---\r\n\r\nAs an alternative solution, you might also consider adding the key listener to the scene, instead of to the individual circles. First, define a method in the controller to move the selected circle, and remove the existing key handler code:\r\n\r\n```\r\npublic class FXMLDocumentController implements Initializable {\r\n\r\n    @FXML\r\n    private Pane containerPane;\r\n\r\n    @FXML\r\n    private Button addCircleButton;\r\n\r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n\r\n    @FXML\r\n    private Slider sizeSlider;\r\n\r\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private Circle selectedCircle = null;\r\n\r\n    @FXML\r\n    private void handleAddCircleButton(ActionEvent event) {\r\n\r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n\r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n\r\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\r\n\r\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n            handleCircleClick(circle);\r\n        });\r\n\r\n//        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n//            handleCircleMovement(e, circle);\r\n//        });\r\n\r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n\r\n\r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n    }\r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n\r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n\r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n\r\n        selectedCircle.requestFocus();\r\n    }\r\n\r\n    public void moveSelectedCircle(double deltaX, double deltaY) {\r\n        if (selectedCircle != null) {\r\n            selectedCircle.setCenterX(selectedCircle.getCenterX() + deltaX);\r\n            selectedCircle.setCenterY(selectedCircle.getCenterY() + deltaY);\r\n        }\r\n    }\r\n\r\n//    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n//        if(event.getCode() == KeyCode.LEFT){\r\n//            circle.setCenterX(circle.getCenterX() - 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.RIGHT){\r\n//            circle.setCenterX(circle.getCenterX() + 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.UP){\r\n//            circle.setCenterY(circle.getCenterY() - 10);\r\n//            event.consume();\r\n//        } else if(event.getCode() == KeyCode.DOWN){\r\n//            circle.setCenterY(circle.getCenterY() + 10);\r\n//            event.consume();\r\n//        }\r\n//\r\n//    }\r\n\r\n\r\n}\r\n```\r\n\r\nThen, modify the application code to retrieve a reference to the controller. Add a key pressed handler to the scene and invoke the `moveSelectedCircle(...)` method on the controller with the appropriate parameter values:\r\n\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddCircleApp extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        Parent root = loader.load();\r\n        FXMLDocumentController controller = loader.getController();\r\n\r\n        Scene scene = new Scene(root);\r\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\r\n            double deltaX = switch (e.getCode()) {\r\n                case LEFT -&gt; -10;\r\n                case RIGHT -&gt; 10;\r\n                default -&gt; 0;\r\n            };\r\n            double deltaY = switch (e.getCode()) {\r\n                case UP -&gt; -10;\r\n                case DOWN -&gt; 10;\r\n                default -&gt; 0;\r\n            };\r\n            switch (e.getCode()) {\r\n                case LEFT, RIGHT, UP, DOWN -&gt; {\r\n                    controller.moveSelectedCircle(deltaX, deltaY);\r\n                    e.consume();\r\n                }\r\n            }\r\n        });\r\n\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n}\r\n```","title":"I can&#39;t move a circle shape using the keyboard in javaFX","body":"<p>Keyboard events are only delivered to the node with the keyboard focus. So when the circle is selected, you need to request that the circle has focus:</p>\n<pre><code>private void handleCircleClick(Circle clickedCircle) {\n    /*circles.forEach((circle) -&gt; {\n    circle.setStroke(Color.TRANSPARENT);\n    });*/\n    \n    if(selectedCircle != null){\n        selectedCircle.setStroke(Color.TRANSPARENT);\n    }\n    \n    selectedCircle = clickedCircle;\n    selectedCircle.setStroke(Color.BLACK);\n    selectedCircle.setStrokeWidth(2.0);\n\n    selectedCircle.requestFocus();\n}\n</code></pre>\n<p>Additionally, the default keyboard handlers on the scene will move focus to other nodes for certain key presses. So you probably want to consume the events for keys you are handling to prevent keyboard focus from moving:</p>\n<pre><code>private void handleCircleMovement(KeyEvent event, Circle circle){\n    if(event.getCode() == KeyCode.LEFT){\n        circle.setCenterX(circle.getCenterX() - 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.RIGHT){\n        circle.setCenterX(circle.getCenterX() + 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.UP){\n        circle.setCenterY(circle.getCenterY() - 10);\n        event.consume();\n    } else if(event.getCode() == KeyCode.DOWN){\n        circle.setCenterY(circle.getCenterY() + 10);\n        event.consume();\n    }\n\n}\n</code></pre>\n<hr />\n<p>As an alternative solution, you might also consider adding the key listener to the scene, instead of to the individual circles. First, define a method in the controller to move the selected circle, and remove the existing key handler code:</p>\n<pre><code>public class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private Pane containerPane;\n\n    @FXML\n    private Button addCircleButton;\n\n    @FXML\n    private ColorPicker colorPicker;\n\n    @FXML\n    private Slider sizeSlider;\n\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private Circle selectedCircle = null;\n\n    @FXML\n    private void handleAddCircleButton(ActionEvent event) {\n\n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n\n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\n\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\n            handleCircleClick(circle);\n        });\n\n//        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n//            handleCircleMovement(e, circle);\n//        });\n\n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n\n\n        System.out.println(&quot;New circle was created!&quot;);\n    }\n\n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }\n\n    private void handleCircleClick(Circle clickedCircle) {\n        /*circles.forEach((circle) -&gt; {\n        circle.setStroke(Color.TRANSPARENT);\n        });*/\n\n        if(selectedCircle != null){\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n\n        selectedCircle = clickedCircle;\n        selectedCircle.setStroke(Color.BLACK);\n        selectedCircle.setStrokeWidth(2.0);\n\n        selectedCircle.requestFocus();\n    }\n\n    public void moveSelectedCircle(double deltaX, double deltaY) {\n        if (selectedCircle != null) {\n            selectedCircle.setCenterX(selectedCircle.getCenterX() + deltaX);\n            selectedCircle.setCenterY(selectedCircle.getCenterY() + deltaY);\n        }\n    }\n\n//    private void handleCircleMovement(KeyEvent event, Circle circle){\n//        if(event.getCode() == KeyCode.LEFT){\n//            circle.setCenterX(circle.getCenterX() - 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.RIGHT){\n//            circle.setCenterX(circle.getCenterX() + 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.UP){\n//            circle.setCenterY(circle.getCenterY() - 10);\n//            event.consume();\n//        } else if(event.getCode() == KeyCode.DOWN){\n//            circle.setCenterY(circle.getCenterY() + 10);\n//            event.consume();\n//        }\n//\n//    }\n\n\n}\n</code></pre>\n<p>Then, modify the application code to retrieve a reference to the controller. Add a key pressed handler to the scene and invoke the <code>moveSelectedCircle(...)</code> method on the controller with the appropriate parameter values:</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class AddCircleApp extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        Parent root = loader.load();\n        FXMLDocumentController controller = loader.getController();\n\n        Scene scene = new Scene(root);\n        scene.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\n            double deltaX = switch (e.getCode()) {\n                case LEFT -&gt; -10;\n                case RIGHT -&gt; 10;\n                default -&gt; 0;\n            };\n            double deltaY = switch (e.getCode()) {\n                case UP -&gt; -10;\n                case DOWN -&gt; 10;\n                default -&gt; 0;\n            };\n            switch (e.getCode()) {\n                case LEFT, RIGHT, UP, DOWN -&gt; {\n                    controller.moveSelectedCircle(deltaX, deltaY);\n                    e.consume();\n                }\n            }\n        });\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":29627250,"reputation":61,"user_id":22706630,"display_name":"Enzo Pirineli Pacheco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77255059,"answer_count":1,"score":1,"last_activity_date":1696799423,"creation_date":1696792520,"question_id":77255002,"body_markdown":"I&#39;m developing a challenge in which I must add a new circle to the screen every time the user presses a button. In addition to allowing the user to choose the size and color of the circle to be added. I managed to develop this functionality!\r\n\r\nThe next step is to select a circle, highlight it from the others and allow you to move it around the interface using the arrow keys. The first part I managed to develop, every time the user selects a circle with the mouse, a border appears on it, highlighting it. However, I am unable to develop the move functionality.  Whenever I click an arrow key, the circle doesn&#39;t move, instead, what changes is the focus between the buttons.\r\n\r\nCould you help me, please?\r\n\r\nThis is my FXMLDocumentController.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.net.URL;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ColorPicker;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.input.KeyEvent;\r\nimport javafx.scene.input.KeyCode;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Circle;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class FXMLDocumentController implements Initializable {\r\n    \r\n    @FXML\r\n    private Pane containerPane;\r\n    \r\n    @FXML\r\n    private Button addCircleButton;\r\n    \r\n    @FXML\r\n    private ColorPicker colorPicker;\r\n    \r\n    @FXML\r\n    private Slider sizeSlider;\r\n    \r\n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\r\n    private Circle selectedCircle = null;\r\n    \r\n    @FXML\r\n    private void handleAddCircleButton(ActionEvent event) {\r\n        \r\n        Random rand = new Random();\r\n        int x = rand.nextInt(500);\r\n        int y = rand.nextInt(200);\r\n        \r\n        Color selectedColor = colorPicker.getValue();\r\n        double selectedSize = sizeSlider.getValue();\r\n        \r\n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\r\n        \r\n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\r\n            handleCircleClick(circle);\r\n        });\r\n        \r\n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\r\n            handleCircleMovement(e, circle);\r\n        });\r\n        \r\n        circles.add(circle);\r\n        containerPane.getChildren().add(circle);\r\n        \r\n        System.out.println(&quot;New circle was created!&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void initialize(URL url, ResourceBundle rb) {\r\n        // TODO\r\n    }    \r\n\r\n    private void handleCircleClick(Circle clickedCircle) {\r\n        /*circles.forEach((circle) -&gt; {\r\n        circle.setStroke(Color.TRANSPARENT);\r\n        });*/\r\n        \r\n        if(selectedCircle != null){\r\n            selectedCircle.setStroke(Color.TRANSPARENT);\r\n        }\r\n        \r\n        selectedCircle = clickedCircle;\r\n        selectedCircle.setStroke(Color.BLACK);\r\n        selectedCircle.setStrokeWidth(2.0);\r\n    }\r\n    \r\n    private void handleCircleMovement(KeyEvent event, Circle circle){\r\n        if(event.getCode() == KeyCode.LEFT){\r\n            circle.setCenterX(circle.getCenterX() - 10);\r\n        } else if(event.getCode() == KeyCode.RIGHT){\r\n            circle.setCenterX(circle.getCenterX() + 10);\r\n        } else if(event.getCode() == KeyCode.UP){\r\n            circle.setCenterY(circle.getCenterY() - 10);\r\n        } else if(event.getCode() == KeyCode.DOWN){\r\n            circle.setCenterY(circle.getCenterY() + 10);\r\n        }\r\n    \r\n    }    \r\n        \r\n        \r\n}\r\n\r\n```\r\n\r\n\r\nThis is my FXMLDocument.fxml:\r\n\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ColorPicker?&gt;\r\n&lt;?import javafx.scene.control.Slider?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n\r\n\r\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\r\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\r\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n\r\nThis is my AddCircleApp.java:\r\n\r\n``` java\r\npackage addcircleapp;\r\n\r\nimport java.util.ArrayList;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class AddCircleApp extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n        \r\n        Scene scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\nThis is a screenshot of the interface:\r\n[Interface](https://i.stack.imgur.com/FMU7B.png)\r\n\r\nThis is a gif of the problem:\r\n[Problem](https://i.stack.imgur.com/3mIVb.gif)\r\n\r\nI want to move the selected circle around the interface, and not change the focus between the inputs present in the interface. I already tried to find the solution using ChatGPT, but I was unsuccessful.","title":"I can&#39;t move a circle shape using the keyboard in javaFX","body":"<p>I'm developing a challenge in which I must add a new circle to the screen every time the user presses a button. In addition to allowing the user to choose the size and color of the circle to be added. I managed to develop this functionality!</p>\n<p>The next step is to select a circle, highlight it from the others and allow you to move it around the interface using the arrow keys. The first part I managed to develop, every time the user selects a circle with the mouse, a border appears on it, highlighting it. However, I am unable to develop the move functionality.  Whenever I click an arrow key, the circle doesn't move, instead, what changes is the focus between the buttons.</p>\n<p>Could you help me, please?</p>\n<p>This is my FXMLDocumentController.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.net.URL;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ColorPicker;\nimport javafx.scene.control.Slider;\nimport javafx.scene.input.KeyEvent;\nimport javafx.scene.input.KeyCode;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\nimport java.util.ResourceBundle;\n\npublic class FXMLDocumentController implements Initializable {\n    \n    @FXML\n    private Pane containerPane;\n    \n    @FXML\n    private Button addCircleButton;\n    \n    @FXML\n    private ColorPicker colorPicker;\n    \n    @FXML\n    private Slider sizeSlider;\n    \n    private List&lt;Circle&gt; circles = new ArrayList&lt;&gt;();\n    private Circle selectedCircle = null;\n    \n    @FXML\n    private void handleAddCircleButton(ActionEvent event) {\n        \n        Random rand = new Random();\n        int x = rand.nextInt(500);\n        int y = rand.nextInt(200);\n        \n        Color selectedColor = colorPicker.getValue();\n        double selectedSize = sizeSlider.getValue();\n        \n        Circle circle = new Circle(x, y, selectedSize, selectedColor);\n        \n        circle.setOnMouseClicked((MouseEvent e) -&gt; {\n            handleCircleClick(circle);\n        });\n        \n        circle.setOnKeyPressed((KeyEvent e) -&gt; {\n            handleCircleMovement(e, circle);\n        });\n        \n        circles.add(circle);\n        containerPane.getChildren().add(circle);\n        \n        System.out.println(&quot;New circle was created!&quot;);\n    }\n    \n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }    \n\n    private void handleCircleClick(Circle clickedCircle) {\n        /*circles.forEach((circle) -&gt; {\n        circle.setStroke(Color.TRANSPARENT);\n        });*/\n        \n        if(selectedCircle != null){\n            selectedCircle.setStroke(Color.TRANSPARENT);\n        }\n        \n        selectedCircle = clickedCircle;\n        selectedCircle.setStroke(Color.BLACK);\n        selectedCircle.setStrokeWidth(2.0);\n    }\n    \n    private void handleCircleMovement(KeyEvent event, Circle circle){\n        if(event.getCode() == KeyCode.LEFT){\n            circle.setCenterX(circle.getCenterX() - 10);\n        } else if(event.getCode() == KeyCode.RIGHT){\n            circle.setCenterX(circle.getCenterX() + 10);\n        } else if(event.getCode() == KeyCode.UP){\n            circle.setCenterY(circle.getCenterY() - 10);\n        } else if(event.getCode() == KeyCode.DOWN){\n            circle.setCenterY(circle.getCenterY() + 10);\n        }\n    \n    }    \n        \n        \n}\n\n</code></pre>\n<p>This is my FXMLDocument.fxml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ColorPicker?&gt;\n&lt;?import javafx.scene.control.Slider?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n\n\n&lt;Pane fx:id=&quot;containerPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;addcircleapp.FXMLDocumentController&quot;&gt;\n   &lt;children&gt;\n      &lt;Button fx:id=&quot;addCircleButton&quot; layoutX=&quot;345.0&quot; layoutY=&quot;362.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#handleAddCircleButton&quot; text=&quot;AddCircle&quot; /&gt;\n      &lt;ColorPicker fx:id=&quot;colorPicker&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; /&gt;\n      &lt;Slider fx:id=&quot;sizeSlider&quot; blockIncrement=&quot;1.0&quot; layoutX=&quot;180.0&quot; layoutY=&quot;367.0&quot; min=&quot;1.0&quot; value=&quot;50.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>This is my AddCircleApp.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package addcircleapp;\n\nimport java.util.ArrayList;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class AddCircleApp extends Application {\n    \n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        \n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n    \n}\n\n</code></pre>\n<p>This is a screenshot of the interface:\n<a href=\"https://i.stack.imgur.com/FMU7B.png\" rel=\"nofollow noreferrer\">Interface</a></p>\n<p>This is a gif of the problem:\n<a href=\"https://i.stack.imgur.com/3mIVb.gif\" rel=\"nofollow noreferrer\">Problem</a></p>\n<p>I want to move the selected circle around the interface, and not change the focus between the inputs present in the interface. I already tried to find the solution using ChatGPT, but I was unsuccessful.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1252292,"reputation":1244,"user_id":1212463,"accept_rate":82,"display_name":"lmazgon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1430773731,"creation_date":1430773255,"answer_id":30039882,"question_id":30039619,"body_markdown":"Apparently there is no `ConversionService` bean available, judging by the last nested exception:\r\n\r\n    org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\r\n\r\nA look into the [Spring documentation][1] reveals, that you should declare a `ConversionService` bean. In the XML configuration it would look like this:\r\n\r\n    &lt;bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;converters&quot;&gt;\r\n            &lt;set&gt;\r\n                &lt;bean class=&quot;example.MyCustomConverter&quot;/&gt;\r\n            &lt;/set&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd since you&#39;re using Spring Boot, I assume you are creating the context programatically, so you should create a method annotated with `@Bean`, which returns a `ConverstionService`, like this ([explained here][2]):\r\n\r\n    @Bean(name=&quot;conversionService&quot;)\r\n    public ConversionService getConversionService() {\r\n        ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\r\n        bean.setConverters(...); //add converters\r\n        bean.afterPropertiesSet();\r\n        return bean.getObject();\r\n    }\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#core-convert-Spring-config\r\n  [2]: https://stackoverflow.com/questions/11273443/how-to-configure-spring-conversionservice-with-java-config","title":"How to Autowired in ConversionService in springboot","body":"<p>Apparently there is no <code>ConversionService</code> bean available, judging by the last nested exception:</p>\n\n<pre><code>org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency.\n</code></pre>\n\n<p>A look into the <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/validation.html#core-convert-Spring-config\" rel=\"noreferrer\">Spring documentation</a> reveals, that you should declare a <code>ConversionService</code> bean. In the XML configuration it would look like this:</p>\n\n<pre><code>&lt;bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;property name=\"converters\"&gt;\n        &lt;set&gt;\n            &lt;bean class=\"example.MyCustomConverter\"/&gt;\n        &lt;/set&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And since you're using Spring Boot, I assume you are creating the context programatically, so you should create a method annotated with <code>@Bean</code>, which returns a <code>ConverstionService</code>, like this (<a href=\"https://stackoverflow.com/questions/11273443/how-to-configure-spring-conversionservice-with-java-config\">explained here</a>):</p>\n\n<pre><code>@Bean(name=\"conversionService\")\npublic ConversionService getConversionService() {\n    ConversionServiceFactoryBean bean = new ConversionServiceFactoryBean();\n    bean.setConverters(...); //add converters\n    bean.afterPropertiesSet();\n    return bean.getObject();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1568342,"reputation":841,"user_id":1456631,"display_name":"vijay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1510907160,"creation_date":1510907160,"answer_id":47346231,"question_id":30039619,"body_markdown":"Not totally agreed with the accepted answers, because there would be a default `ConverstionService` named `mvcConversionService` so you would get **duplicate bean exception**. Instead `addConverter` to `FormatterRegistry`, here is the link for the part answer:\r\n\r\n[https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor][1]\r\n\r\nAlso you would need (in some cases) to define to at least an empty `Component` for `ConversionService`, something like below:\r\n\r\n    @Component @Primary\r\n    public class MyConversionService extends DefaultConversionService implements ConversionService {\r\n        // an empty ConversionService to initiate call to register converters\r\n    }\r\n\r\nThis is to force spring container to initiate a call to:\r\n\r\n    class WebMvcConfigurerAdapter {\r\n        ...\r\n\r\n        public void addFormatters(FormatterRegistry registry) {\r\n             //registry.addConverter(...);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor","title":"How to Autowired in ConversionService in springboot","body":"<p>Not totally agreed with the accepted answers, because there would be a default <code>ConverstionService</code> named <code>mvcConversionService</code> so you would get <strong>duplicate bean exception</strong>. Instead <code>addConverter</code> to <code>FormatterRegistry</code>, here is the link for the part answer:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/25219061/java-config-equivalent-for-conversionservice-formattingconversionservicefactor\">Java Config equivalent for conversionService / FormattingConversionServiceFactoryBean</a></p>\n\n<p>Also you would need (in some cases) to define to at least an empty <code>Component</code> for <code>ConversionService</code>, something like below:</p>\n\n<pre><code>@Component @Primary\npublic class MyConversionService extends DefaultConversionService implements ConversionService {\n    // an empty ConversionService to initiate call to register converters\n}\n</code></pre>\n\n<p>This is to force spring container to initiate a call to:</p>\n\n<pre><code>class WebMvcConfigurerAdapter {\n    ...\n\n    public void addFormatters(FormatterRegistry registry) {\n         //registry.addConverter(...);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47487,"reputation":3720,"user_id":140707,"display_name":"Frans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656412052,"creation_date":1656397377,"answer_id":72781591,"question_id":30039619,"body_markdown":"Existing answers didn&#39;t work for me:\r\n- Customizing via `WebMvcConfigurerAdapter.addFormatters` (or simply annotating the converter with `@Component`) only works in the WebMvc context and I want my custom converter to be available *everywhere*, including `@Value` injections on any bean.\r\n- Defining a `ConversionService` bean (via `ConversionServiceFactoryBean` `@Bean` or `@Component`) causes Spring Boot to replace the default `ApplicationConversionService` on the `SpringApplication` bean factory with the custom bean you&#39;ve defined, which will probably be based on `DefaultConversionService` (in `AbstractApplicationContext.finishBeanFactoryInitialization`). The problem is that Spring Boot adds some handy converters such as `StringToDurationConverter` to the standard set in `DefaultConversionService`, so by replacing it you lose those conversions. This may not be an issue for you if you don&#39;t use them, but it means that solution won&#39;t work for everyone.\r\n\r\nI created the following `@Configuration` class which did the trick for me. It basically adds custom converters to the `ConversionService` instance used by `Environment` (which is then passed on to `BeanFactory`). This maintains as much backwards compatibility as possible while still adding your custom converter into the conversion services in use.\r\n\r\n```java\r\n@Configuration\r\npublic class ConversionServiceConfiguration {\r\n\r\n    @Autowired\r\n    private ConfigurableEnvironment environment;\r\n\r\n    @PostConstruct\r\n    public void addCustomConverters() {\r\n        ConfigurableConversionService conversionService = environment.getConversionService();\r\n        conversionService.addConverter(new MyCustomConverter());\r\n    }\r\n}\r\n```\r\n\r\nObviously you can autowire a list of custom converters into this configuration class and loop over them to add them to the conversion service instead of the hard-coded way of doing it above, if you want the process to be more automatic.\r\n\r\nTo make sure this configuration class gets run before any beans are instantiated that might require the converter to have been added to the `ConversionService`, add it as a *primary source* in your spring application&#39;s `run()` call:\r\n\r\n```java\r\n@SpringBootApplication\r\npublic class MySpringBootApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(new Class&lt;?&gt;[] { MySpringBootApplication.class, ConversionServiceConfiguration.class }, args);\r\n    }\r\n}\r\n```\r\n\r\nIf you don&#39;t do this, it might work, or not, depending on the order in which your classes end up in the Spring Boot JAR, which determines the order in which they are scanned. (I found this out the hard way: it worked when compiling locally with an Oracle JDK, but not on our CI server which was using a Azul Zulu JDK.)\r\n\r\nNote that for this to work in `@WebMvcTest`s, I had to also combine this configuration class along with my Spring Boot application class into a `@ContextConfiguration`:\r\n\r\n```java\r\n@WebMvcTest(controllers = MyController.class)\r\n@ContextConfiguration(classes = { MySpringBootApplication.class, ConversionServiceConfiguration.class })\r\n@TestPropertySource(properties = { /* ... properties to inject into beans, possibly using your custom converter ... */ })\r\nclass MyControllerTest {\r\n   // ...\r\n}","title":"How to Autowired in ConversionService in springboot","body":"<p>Existing answers didn't work for me:</p>\n<ul>\n<li>Customizing via <code>WebMvcConfigurerAdapter.addFormatters</code> (or simply annotating the converter with <code>@Component</code>) only works in the WebMvc context and I want my custom converter to be available <em>everywhere</em>, including <code>@Value</code> injections on any bean.</li>\n<li>Defining a <code>ConversionService</code> bean (via <code>ConversionServiceFactoryBean</code> <code>@Bean</code> or <code>@Component</code>) causes Spring Boot to replace the default <code>ApplicationConversionService</code> on the <code>SpringApplication</code> bean factory with the custom bean you've defined, which will probably be based on <code>DefaultConversionService</code> (in <code>AbstractApplicationContext.finishBeanFactoryInitialization</code>). The problem is that Spring Boot adds some handy converters such as <code>StringToDurationConverter</code> to the standard set in <code>DefaultConversionService</code>, so by replacing it you lose those conversions. This may not be an issue for you if you don't use them, but it means that solution won't work for everyone.</li>\n</ul>\n<p>I created the following <code>@Configuration</code> class which did the trick for me. It basically adds custom converters to the <code>ConversionService</code> instance used by <code>Environment</code> (which is then passed on to <code>BeanFactory</code>). This maintains as much backwards compatibility as possible while still adding your custom converter into the conversion services in use.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ConversionServiceConfiguration {\n\n    @Autowired\n    private ConfigurableEnvironment environment;\n\n    @PostConstruct\n    public void addCustomConverters() {\n        ConfigurableConversionService conversionService = environment.getConversionService();\n        conversionService.addConverter(new MyCustomConverter());\n    }\n}\n</code></pre>\n<p>Obviously you can autowire a list of custom converters into this configuration class and loop over them to add them to the conversion service instead of the hard-coded way of doing it above, if you want the process to be more automatic.</p>\n<p>To make sure this configuration class gets run before any beans are instantiated that might require the converter to have been added to the <code>ConversionService</code>, add it as a <em>primary source</em> in your spring application's <code>run()</code> call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class MySpringBootApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(new Class&lt;?&gt;[] { MySpringBootApplication.class, ConversionServiceConfiguration.class }, args);\n    }\n}\n</code></pre>\n<p>If you don't do this, it might work, or not, depending on the order in which your classes end up in the Spring Boot JAR, which determines the order in which they are scanned. (I found this out the hard way: it worked when compiling locally with an Oracle JDK, but not on our CI server which was using a Azul Zulu JDK.)</p>\n<p>Note that for this to work in <code>@WebMvcTest</code>s, I had to also combine this configuration class along with my Spring Boot application class into a <code>@ContextConfiguration</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(controllers = MyController.class)\n@ContextConfiguration(classes = { MySpringBootApplication.class, ConversionServiceConfiguration.class })\n@TestPropertySource(properties = { /* ... properties to inject into beans, possibly using your custom converter ... */ })\nclass MyControllerTest {\n   // ...\n}\n</code></pre>\n"}],"owner":{"account_id":1988124,"reputation":163,"user_id":1782902,"display_name":"lumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25747,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":30039882,"answer_count":3,"score":15,"last_activity_date":1696798712,"creation_date":1430772294,"question_id":30039619,"body_markdown":"Trying to access the ConversionControl in model in springboot, no luck.\r\n\r\n    @Component\r\n    public class CityHelperService  {\r\n\t\r\n        @Autowired\r\n        ConversionService conversionService;// = ConversionServiceFactory.registerConverters();\r\n\t\r\n\t    public City toEntity(CityDTO dto){\r\n            City entity = conversionService.convert(dto, City.class);\r\n            return entity;\r\n        }\r\n\r\n        public CityDTO toDTO(City entity){\r\n            CityDTO dto = conversionService.convert(entity, CityDTO.class);\r\n            return dto;\r\n        }\r\n    }\r\n\r\nIt shows the following error:\r\n\r\n    Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.lumiin.mytalk.model.CityModel com.lumiin.mytalk.controllers.CityController.cityModel;\r\n    nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;cityModel&#39; defined in file : Unsatisfied dependency expressed through constructor argument with index 1 of type [com.lumiin.mytalk.dao.CityHelperService]: : Error creating bean with name &#39;cityHelperService&#39;: Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)};\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;cityHelperService&#39;: Injection of autowired dependencies failed;\r\n    nested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\r\n    nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}","title":"How to Autowired in ConversionService in springboot","body":"<p>Trying to access the ConversionControl in model in springboot, no luck.</p>\n\n<pre><code>@Component\npublic class CityHelperService  {\n\n    @Autowired\n    ConversionService conversionService;// = ConversionServiceFactory.registerConverters();\n\n    public City toEntity(CityDTO dto){\n        City entity = conversionService.convert(dto, City.class);\n        return entity;\n    }\n\n    public CityDTO toDTO(City entity){\n        CityDTO dto = conversionService.convert(entity, CityDTO.class);\n        return dto;\n    }\n}\n</code></pre>\n\n<p>It shows the following error:</p>\n\n<pre><code>Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: com.lumiin.mytalk.model.CityModel com.lumiin.mytalk.controllers.CityController.cityModel;\nnested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'cityModel' defined in file : Unsatisfied dependency expressed through constructor argument with index 1 of type [com.lumiin.mytalk.dao.CityHelperService]: : Error creating bean with name 'cityHelperService': Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)};\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cityHelperService': Injection of autowired dependencies failed;\nnested exception is org.springframework.beans.factory.BeanCreationException: Could not autowire field: org.springframework.core.convert.ConversionService com.lumiin.mytalk.dao.CityHelperService.conversionService;\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.core.convert.ConversionService] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"score":0,"creation_date":1496381903,"post_id":44321371,"comment_id":75648015,"body_markdown":"How is `filePath` defined? Is it based on user input?","body":"How is <code>filePath</code> defined? Is it based on user input?"},{"owner":{"account_id":4305839,"reputation":165,"user_id":3518223,"accept_rate":88,"display_name":"user3518223"},"score":0,"creation_date":1496382576,"post_id":44321371,"comment_id":75648278,"body_markdown":"File path is taking  from an external property file .","body":"File path is taking  from an external property file ."},{"owner":{"account_id":29412,"reputation":5855,"user_id":79450,"accept_rate":100,"display_name":"Catchwa"},"score":1,"creation_date":1496704901,"post_id":44321371,"comment_id":75759076,"body_markdown":"Possible duplicate of [How to fix &quot;Path Manipulation Vulnerability&quot; in some Java Code?](https://stackoverflow.com/questions/12690652/how-to-fix-path-manipulation-vulnerability-in-some-java-code)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/12690652/how-to-fix-path-manipulation-vulnerability-in-some-java-code\">How to fix &quot;Path Manipulation Vulnerability&quot; in some Java Code?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540297337,"creation_date":1540297337,"answer_id":52948977,"question_id":44321371,"body_markdown":"You should use the Path type instead of String\r\n(https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html)\r\n\r\nit would look like something like this:\r\n\r\n     Path path = Paths.get(properties.getProperty(&quot;DO.LIB.LOC&quot;));\r\n     path = path.resolve(Paths.get(request.getParameter(&quot;read&quot;)));","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>You should use the Path type instead of String\n(<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Path.html</a>)</p>\n\n<p>it would look like something like this:</p>\n\n<pre><code> Path path = Paths.get(properties.getProperty(\"DO.LIB.LOC\"));\n path = path.resolve(Paths.get(request.getParameter(\"read\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13342452,"reputation":557,"user_id":9630273,"display_name":"V.Aggarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682069330,"creation_date":1681825692,"answer_id":76045411,"question_id":44321371,"body_markdown":"Something like this will work:\r\n\r\n\r\n        List&lt;String&gt; INVALID_FILE_NAME_CHARACTERS = Arrays.asList(&quot;..&quot;, &quot;:&quot;, &quot;/&quot;, &quot;\\\\&quot;);\r\n        String filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\r\n        String fileName = (String) request.getParameter(&quot;read&quot;);\r\n\r\n        // Validate inputs\r\n        if(filePath==null || fileName==null) return;\r\n        for(String character : B2BProfileConstant.INVALID_FILE_NAME_CHARACTERS) {\r\n            if(fileName.contains(character)) return;\r\n        }\r\n\r\n        Path path = Paths.get(filePath).resolve(fileName).normalize();\r\n        String finalPath = path.toString();","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>Something like this will work:</p>\n<pre><code>    List&lt;String&gt; INVALID_FILE_NAME_CHARACTERS = Arrays.asList(&quot;..&quot;, &quot;:&quot;, &quot;/&quot;, &quot;\\\\&quot;);\n    String filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\n    String fileName = (String) request.getParameter(&quot;read&quot;);\n\n    // Validate inputs\n    if(filePath==null || fileName==null) return;\n    for(String character : B2BProfileConstant.INVALID_FILE_NAME_CHARACTERS) {\n        if(fileName.contains(character)) return;\n    }\n\n    Path path = Paths.get(filePath).resolve(fileName).normalize();\n    String finalPath = path.toString();\n</code></pre>\n"}],"owner":{"account_id":4305839,"reputation":165,"user_id":3518223,"accept_rate":88,"display_name":"user3518223"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9221,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696795580,"creation_date":1496381068,"question_id":44321371,"body_markdown":"I am working with some coverity issues in my source code . Here i am using \r\n    the code like ,\r\n        \r\n\r\n        filePath = properties.getProperty(&quot;DO.LIB.LOC&quot;);\r\n        String fileName = (String) request.getParameter(&quot;read&quot;);\r\n\t\tfilePath += &quot;/&quot; + fileName;\r\n        downloadResultSet.flushFile(filePath, response, \r\n        fileName.substring(fileName.lastIndexOf(&quot;.&quot;) + 1));\r\n    \r\n\r\n&gt; In my coveiry scanned tool found an error like &quot;CID 38762 (#1 of 2): \r\n&gt; Filesystem path, filename, or URI manipulation (PATH_MANIPULATION)\r\n&gt; 2. sink: Constructing a path or URI using the tainted value filePath. This  may allow an attacker to access, modify, or test the existence\r\n&gt; of critical  or sensitive files. The value is used unsafely in\r\n&gt; bytecode, which cannot be  displayed.&quot;\r\n\r\n  File Path defined in an external property file and file name takes from \r\n  request .\r\n    \r\n   I am using the same code in different java file for file upload ,delete \r\n   ,download functionalities . How can i avoid these kind of vulnerabilities \r\n   from my code . Can any one help me on this ?\r\n","title":"Coverity issues for Filesystem path, filename, or URI manipulation in java","body":"<p>I am working with some coverity issues in my source code . Here i am using \n    the code like ,</p>\n\n<pre><code>    filePath = properties.getProperty(\"DO.LIB.LOC\");\n    String fileName = (String) request.getParameter(\"read\");\n    filePath += \"/\" + fileName;\n    downloadResultSet.flushFile(filePath, response, \n    fileName.substring(fileName.lastIndexOf(\".\") + 1));\n</code></pre>\n\n<blockquote>\n  <p>In my coveiry scanned tool found an error like \"CID 38762 (#1 of 2): \n  Filesystem path, filename, or URI manipulation (PATH_MANIPULATION)\n  2. sink: Constructing a path or URI using the tainted value filePath. This  may allow an attacker to access, modify, or test the existence\n  of critical  or sensitive files. The value is used unsafely in\n  bytecode, which cannot be  displayed.\"</p>\n</blockquote>\n\n<p>File Path defined in an external property file and file name takes from \n  request .</p>\n\n<p>I am using the same code in different java file for file upload ,delete \n   ,download functionalities . How can i avoid these kind of vulnerabilities \n   from my code . Can any one help me on this ?</p>\n"},{"tags":["java","undertow","xnio"],"owner":{"account_id":7287204,"reputation":1737,"user_id":5554930,"accept_rate":52,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696794927,"creation_date":1696794927,"question_id":77255124,"body_markdown":"Undertow web server (or XNIO TCP server) accepts requests in the IO threads. If IO thread blocks, requests are accumulated in the queue. \r\n\r\nIs there a way to track size of these queues (e.g. JMX)? What would be a good approach to track it?","title":"XNIO / Undertow - queue size for IO threads","body":"<p>Undertow web server (or XNIO TCP server) accepts requests in the IO threads. If IO thread blocks, requests are accumulated in the queue.</p>\n<p>Is there a way to track size of these queues (e.g. JMX)? What would be a good approach to track it?</p>\n"},{"tags":["java","maven","tomcat","rapidclipse"],"comments":[{"owner":{"account_id":3233740,"reputation":143,"user_id":2728391,"display_name":"Schwabenheinz"},"score":0,"creation_date":1674749862,"post_id":75164773,"comment_id":132784579,"body_markdown":"Not an answer, but I used RC11 on Linux and I had the same problem. \nRunning in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work.","body":"Not an answer, but I used RC11 on Linux and I had the same problem.  Running in RC/Eclipse development environment works fine, But deployment on other tomcat by a generated war file did not work."}],"answers":[{"tags":[],"owner":{"account_id":3511729,"reputation":11,"user_id":9364926,"display_name":"Dirk Bundies"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696794906,"creation_date":1696794906,"answer_id":77255123,"question_id":75164773,"body_markdown":"In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on &#39;Run As&#39; then &#39;Maven build...&#39;. In the dialog enter the following in the field &#39;goals&#39;:\r\n\r\nclean package -Pproduction\r\n\r\nThen press &#39;Run&#39;. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.\r\n\r\nIf you only have choosed &#39;clean package&#39; the .war-File does not contain all necessary files to run on another machine.\r\n","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>In the Develop Perspective select your RapidClipse Project, then right click on it to open the context menu. Click on 'Run As' then 'Maven build...'. In the dialog enter the following in the field 'goals':</p>\n<p>clean package -Pproduction</p>\n<p>Then press 'Run'. At the end a .war-File has been created in your /target folder of the RapidClipse Project which contains everything to run this .war-File on another machine running.</p>\n<p>If you only have choosed 'clean package' the .war-File does not contain all necessary files to run on another machine.</p>\n"}],"owner":{"account_id":27497168,"reputation":11,"user_id":20981515,"display_name":"andre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696794906,"creation_date":1674072568,"question_id":75164773,"body_markdown":"I am interested in working with rapidclipse and I tried it out a little. \r\nI installed rapidclipse on win10 pro. \r\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.\r\n\r\nBut when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;. \r\nI found out that there were no index files in the deployed folder from Tomcat. \r\nAfter creating an index file manually, the error disappeared from Tomcat.\r\n\r\nAt last I found out, there is no index-file inside the war-archive.\r\n\r\nThe index-file in the generated war-archive by rapidclipse is always missing.\r\n\r\nI guess that it is a configuration problem of rapidclipse.\r\n\r\nIs there anybody there who can help me?\r\n\r\n**What i&#39;ve tried:**\r\n\r\n* I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.\r\n* I used different Tomcat versions (9,10,11), and also a jetty server for deploying.\r\n* I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)","title":"RapidClipse X + 11 deployment generates a &quot;war-file&quot; without any index-file inside","body":"<p>I am interested in working with rapidclipse and I tried it out a little.\nI installed rapidclipse on win10 pro.\nEverything works fine, and the internal preview from rapidclipse works shows the expected result.</p>\n<p>But when I generate a war-file and deploy it to Tomcat, Tomcat shows an error: &quot;resource not found&quot;.\nI found out that there were no index files in the deployed folder from Tomcat.\nAfter creating an index file manually, the error disappeared from Tomcat.</p>\n<p>At last I found out, there is no index-file inside the war-archive.</p>\n<p>The index-file in the generated war-archive by rapidclipse is always missing.</p>\n<p>I guess that it is a configuration problem of rapidclipse.</p>\n<p>Is there anybody there who can help me?</p>\n<p><strong>What i've tried:</strong></p>\n<ul>\n<li>I updated maven as is it described in the tutorial and checked all possible configurations in the properties from rapidclipse.</li>\n<li>I used different Tomcat versions (9,10,11), and also a jetty server for deploying.</li>\n<li>I installed rapidclipse in different versions (10,11) on different machines (4 or 5 pcs)</li>\n</ul>\n"},{"tags":["java","gradle","kotlin-multiplatform"],"answers":[{"tags":[],"owner":{"account_id":9869929,"reputation":2134,"user_id":7309962,"display_name":"Evgeny K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696793772,"creation_date":1696759783,"answer_id":77253175,"question_id":77252663,"body_markdown":"According to error message in project `:sub2` Gradle can&#39;t choose between `jvm` and `jvm(&quot;custom&quot;)` for `:sub1`.\r\n\r\nTargets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.\r\n\r\nSo in project `:sub2` you either need to specify variant attribute for `:sub1` project or move dependency from common source. For example:\r\n\r\n```kotlin\r\nkotlin {\r\n    ...\r\n    sourceSets {\r\n        val jvmMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;normal&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        val customMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;)) {\r\n                    attributes {\r\n                        attribute(customAttribute, &quot;customValue&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nTake a look at [Kotlin Multiplatform documentations for several targets](https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform)","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>According to error message in project <code>:sub2</code> Gradle can't choose between <code>jvm</code> and <code>jvm(&quot;custom&quot;)</code> for <code>:sub1</code>.</p>\n<p>Targets should be marked on both the library and consumer sides with a custom attribute, which Gradle uses during dependency resolution.</p>\n<p>So in project <code>:sub2</code> you either need to specify variant attribute for <code>:sub1</code> project or move dependency from common source. For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n    ...\n    sourceSets {\n        val jvmMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;normal&quot;)\n                    }\n                }\n            }\n        }\n        val customMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;)) {\n                    attributes {\n                        attribute(customAttribute, &quot;customValue&quot;)\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Take a look at <a href=\"https://kotlinlang.org/docs/multiplatform-set-up-targets.html#distinguish-several-targets-for-one-platform\" rel=\"nofollow noreferrer\">Kotlin Multiplatform documentations for several targets</a></p>\n"}],"owner":{"account_id":12327091,"reputation":23,"user_id":8994358,"display_name":"Mirage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253175,"answer_count":1,"score":0,"last_activity_date":1696793772,"creation_date":1696749227,"question_id":77252663,"body_markdown":"Assume I have 3 gradle projects with the following paths and file contents:\r\n\r\n`:sub1` is a KMM project:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting\r\n    }\r\n}\r\n```\r\n\r\n`:sub2` is a KMM project that depends on `:sub1`:\r\n```\r\nplugins {\r\n    kotlin(&quot;multiplatform&quot;)\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\r\nkotlin {\r\n    targetHierarchy.default()\r\n\r\n    jvm {\r\n        attributes {\r\n            attribute(customAttribute, &quot;normal&quot;)\r\n        }\r\n    }\r\n    jvm(&quot;custom&quot;) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n\r\n    sourceSets {\r\n        val commonMain by getting {\r\n            dependencies {\r\n                api(project(&quot;:sub1&quot;))\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n`:parent` which is a JVM project that depends on `:sub2`:\r\n```\r\nplugins {\r\n    id(&quot;kotlin&quot;)\r\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\r\n}\r\n\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_17\r\n    targetCompatibility = JavaVersion.VERSION_17\r\n}\r\n\r\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\r\n\r\ndependencies {\r\n    api(project(&quot;:sub2&quot;)) {\r\n        attributes {\r\n            attribute(customAttribute, &quot;customValue&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBuilding `:project` causes the following error:\r\n```\r\n   &gt; Could not resolve project :sub1.\r\n     Required by:\r\n         project :project &gt; project :sub2\r\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute &#39;org.jetbrains.kotlin.platform.type&#39; with value &#39;jvm&#39;. However we cannot choose between the following variants of project :sub1\r\n          - jvmApiElements\r\n          - jvmRuntimeElements\r\n          - customApiElements\r\n          - customRuntimeElements\r\n\r\n```\r\n\r\nHow do I make it so that the &quot;customValue&quot; of customAttribute declared in `:project` propagates down to the project `:sub1` from `:sub2`, instead of only going down to `:sub2`, so that the &quot;custom&quot; JVM target is chosen?\r\n\r\nI have tried to set a Gradle project property during the configuration step, but I can&#39;t seem to find a way to guarantee project configuration order, so I can&#39;t reliably use properties either.","title":"Gradle KMM custom attribute doesn&#39;t get propagated to project&#39;s KMM dependencies","body":"<p>Assume I have 3 gradle projects with the following paths and file contents:</p>\n<p><code>:sub1</code> is a KMM project:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting\n    }\n}\n</code></pre>\n<p><code>:sub2</code> is a KMM project that depends on <code>:sub1</code>:</p>\n<pre><code>plugins {\n    kotlin(&quot;multiplatform&quot;)\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\n@OptIn(org.jetbrains.kotlin.gradle.ExperimentalKotlinGradlePluginApi::class)\nkotlin {\n    targetHierarchy.default()\n\n    jvm {\n        attributes {\n            attribute(customAttribute, &quot;normal&quot;)\n        }\n    }\n    jvm(&quot;custom&quot;) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n\n    sourceSets {\n        val commonMain by getting {\n            dependencies {\n                api(project(&quot;:sub1&quot;))\n            }\n        }\n    }\n}\n</code></pre>\n<p><code>:parent</code> which is a JVM project that depends on <code>:sub2</code>:</p>\n<pre><code>plugins {\n    id(&quot;kotlin&quot;)\n    id(&quot;org.jetbrains.kotlin.jvm&quot;)\n}\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_17\n    targetCompatibility = JavaVersion.VERSION_17\n}\n\nval customAttribute = Attribute.of(&quot;custom&quot;, String::class.java)\n\ndependencies {\n    api(project(&quot;:sub2&quot;)) {\n        attributes {\n            attribute(customAttribute, &quot;customValue&quot;)\n        }\n    }\n}\n</code></pre>\n<p>Building <code>:project</code> causes the following error:</p>\n<pre><code>   &gt; Could not resolve project :sub1.\n     Required by:\n         project :project &gt; project :sub2\n      &gt; The consumer was configured to find a library for use during compile-time, compatible with Java 17, preferably in the form of class files, preferably optimized for standard JVMs, and its dependencies declared externally, as well as attribute 'org.jetbrains.kotlin.platform.type' with value 'jvm'. However we cannot choose between the following variants of project :sub1\n          - jvmApiElements\n          - jvmRuntimeElements\n          - customApiElements\n          - customRuntimeElements\n\n</code></pre>\n<p>How do I make it so that the &quot;customValue&quot; of customAttribute declared in <code>:project</code> propagates down to the project <code>:sub1</code> from <code>:sub2</code>, instead of only going down to <code>:sub2</code>, so that the &quot;custom&quot; JVM target is chosen?</p>\n<p>I have tried to set a Gradle project property during the configuration step, but I can't seem to find a way to guarantee project configuration order, so I can't reliably use properties either.</p>\n"},{"tags":["java","android","android-toolbar","android-collapsingtoolbarlayout"],"answers":[{"tags":[],"owner":{"account_id":15219035,"reputation":74,"user_id":18515851,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696790949,"creation_date":1696790949,"answer_id":77254912,"question_id":77254556,"body_markdown":"It&#39;s all about AppBarLayout.\r\n\r\nYou can configure this way. \r\n\r\nAs mentioned in this question [here][1]\r\n```xml\r\n&lt;com.google.android.material.appbar.AppBarLayout \r\n\t\t\t\t \r\n        android:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:background=&quot;@null&quot;\r\n\t\tandroid:theme=&quot;?attr/actionBarTheme&quot;\r\n\t    android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/AppBarLayout&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:outlineProvider=&quot;none&quot;\r\n        app:elevation=&quot;0dp&quot;&gt;\r\n    \r\n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar","title":"How to make the background of a toolbar transparent","body":"<p>It's all about AppBarLayout.</p>\n<p>You can configure this way.</p>\n<p>As mentioned in this question <a href=\"https://stackoverflow.com/questions/58797479/how-i-can-remove-shadow-or-divider-from-bottom-of-appbar-layout-or-toolbar\">here</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;com.google.android.material.appbar.AppBarLayout \n                 \n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;@null&quot;\n        android:theme=&quot;?attr/actionBarTheme&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/AppBarLayout&quot;\n        android:orientation=&quot;vertical&quot;\n        android:outlineProvider=&quot;none&quot;\n        app:elevation=&quot;0dp&quot;&gt;\n    \n&lt;/com.google.android.material.appbar.AppBarLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24462790,"reputation":13,"user_id":18383612,"display_name":"Waleed Ashraf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696793743,"creation_date":1696793743,"answer_id":77255064,"question_id":77254556,"body_markdown":"To remove the white rectangular view behind the toolbar, you can try the following:\r\n\r\nUse a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\r\nUse a splash screen. A splash screen can be used to display the app&#39;s logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\r\nOptimize the app&#39;s initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\r\nHere is an example of how to use a custom background for the collapsing toolbar:\r\n\r\n    &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\r\n        app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n        app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n    \r\n        // ...\r\n    \r\n    &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\nThe `custom_collapsing_toolbar_background.xml` drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.\r\n\r\nHere is an example of how to use a splash screen:\r\n\r\n    &lt;activity android:name=&quot;.SplashActivity&quot;\r\n        android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\nThe `SplashActivity` class can be used to display the app&#39;s logo and branding while the app is initializing. Once the app has initialized, the `SplashActivity` can finish and the main activity can be started.\r\n\r\nHere is an example of how to optimize the app&#39;s initialization:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Load essential resources lazily and asynchronously.\r\n            // ...\r\n    \r\n            // Delay resource-heavy operations until after the main activity has started.\r\n            // ...\r\n        }\r\n    }\r\n\r\n","title":"How to make the background of a toolbar transparent","body":"<p>To remove the white rectangular view behind the toolbar, you can try the following:</p>\n<p>Use a custom background for the collapsing toolbar. This can be a transparent drawable or a drawable with a gradient that matches the status bar color. This will hide the white background when the toolbar collapses.\nUse a splash screen. A splash screen can be used to display the app's logo and branding while the app is initializing. This will hide the white background and give the user the impression that the app is loading.\nOptimize the app's initialization. This will minimize the amount of time that the white background is visible. You can do this by loading essential resources lazily and asynchronously, and by delaying resource-heavy operations until after the main activity has started.\nHere is an example of how to use a custom background for the collapsing toolbar:</p>\n<pre><code>&lt;com.google.android.material.appbar.CollapsingToolbarLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:contentScrim=&quot;@drawable/custom_collapsing_toolbar_background&quot;\n    app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n    app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n    // ...\n\n&lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n</code></pre>\n<p>The <code>custom_collapsing_toolbar_background.xml</code> drawable can be a transparent drawable or a drawable with a gradient that matches the status bar color.</p>\n<p>Here is an example of how to use a splash screen:</p>\n<pre><code>&lt;activity android:name=&quot;.SplashActivity&quot;\n    android:theme=&quot;@style/SplashTheme&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n<p>The <code>SplashActivity</code> class can be used to display the app's logo and branding while the app is initializing. Once the app has initialized, the <code>SplashActivity</code> can finish and the main activity can be started.</p>\n<p>Here is an example of how to optimize the app's initialization:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Load essential resources lazily and asynchronously.\n        // ...\n\n        // Delay resource-heavy operations until after the main activity has started.\n        // ...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23727738,"reputation":13,"user_id":17747424,"display_name":"user17747424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77254912,"answer_count":2,"score":0,"last_activity_date":1696793743,"creation_date":1696785089,"question_id":77254556,"body_markdown":"I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.[![look closely behind the toolbar as shown by the arrows](https://i.stack.imgur.com/Ydptz.png)](https://i.stack.imgur.com/Ydptz.png) \r\nHere is the code for the activity_home.xml file\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.HomeActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\r\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\r\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;300dp&quot;\r\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\r\n                android:paddingHorizontal=&quot;20dp&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;40dp&quot;\r\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;30sp&quot;\r\n                    android:textStyle=&quot;bold&quot;/&gt;\r\n\r\n                &lt;TextView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:text=&quot;Search The Database&quot;\r\n                    android:textColor=&quot;#c9d3f7&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:height=&quot;50dp&quot;\r\n                    android:hint=&quot;Search for media...&quot;\r\n                    android:paddingStart=&quot;20dp&quot;\r\n                    android:textColor=&quot;@color/black&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;\r\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\r\n                    android:paddingRight=&quot;5dp&quot;\r\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n            \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;@drawable/gradient&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\r\n\r\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;androidx.core.widget.NestedScrollView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textSize=&quot;25sp&quot;\r\n            android:text=&quot;If you&#39;re looking to remove the default white background that appears while your app initializes, there isn&#39;t a direct way to remove it completely, as it&#39;s part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\r\n\r\n1. Use a Splash Screen:\r\nAs mentioned earlier, using a splash screen with your app&#39;s branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\r\n\r\n2. Optimize Initialization:\r\nEfficiently optimize your app&#39;s initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\r\n\r\n3. Set a Theme with Transparent Background:\r\nIn your app&#39;s theme, set the background to be transparent. This doesn&#39;t remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\r\n\r\n    &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\r\n```\r\nHere is the gradient.xml file code used for the toolbar background:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:angle=&quot;120&quot;\r\n        android:endColor=&quot;@android:color/transparent&quot;\r\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\r\n\r\n&lt;/shape&gt;\r\n\r\n```\r\nHere is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n\r\n    &lt;gradient\r\n        android:startColor=&quot;#3BB1EC&quot;\r\n        android:endColor=&quot;#216CF1&quot;\r\n        android:angle=&quot;120&quot;/&gt;\r\n\r\n    &lt;corners\r\n        android:bottomRightRadius=&quot;40dp&quot;\r\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\r\n\r\n&lt;/shape&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.","title":"How to make the background of a toolbar transparent","body":"<p>I have a collapsing toolbar set up and everything is working as intended. There is only one problem, when the toolbar collapses, there is a white rectangular view behind the toolbar as shown in the image below.<a href=\"https://i.stack.imgur.com/Ydptz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ydptz.png\" alt=\"look closely behind the toolbar as shown by the arrows\" /></a>\nHere is the code for the activity_home.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.HomeActivity&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;com.google.android.material.appbar.CollapsingToolbarLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@android:color/transparent&quot;\n            app:contentScrim=&quot;@drawable/custom_app_bar_background&quot;\n            app:expandedTitleTextAppearance=&quot;@style/expandedTitleTextAppearance&quot;\n            app:layout_scrollFlags=&quot;scroll|snap|exitUntilCollapsed&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;300dp&quot;\n                android:background=&quot;@drawable/custom_app_bar_background&quot;\n                android:paddingHorizontal=&quot;20dp&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;40dp&quot;\n                    android:text=&quot;Empowering Discovery: Search the Database for a World of Information&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;30sp&quot;\n                    android:textStyle=&quot;bold&quot;/&gt;\n\n                &lt;TextView\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:text=&quot;Search The Database&quot;\n                    android:textColor=&quot;#c9d3f7&quot;\n                    android:textSize=&quot;20sp&quot; /&gt;\n\n                &lt;EditText\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:height=&quot;50dp&quot;\n                    android:hint=&quot;Search for media...&quot;\n                    android:paddingStart=&quot;20dp&quot;\n                    android:textColor=&quot;@color/black&quot;\n                    android:layout_marginTop=&quot;10dp&quot;\n                    android:drawableEnd=&quot;@drawable/search_btn&quot;\n                    android:paddingRight=&quot;5dp&quot;\n                    android:background=&quot;@drawable/search_bar_background&quot;/&gt;\n\n            &lt;/LinearLayout&gt;\n            \n            &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@drawable/gradient&quot;\n                app:layout_collapseMode=&quot;pin&quot;/&gt;\n\n        &lt;/com.google.android.material.appbar.CollapsingToolbarLayout&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;androidx.core.widget.NestedScrollView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;com.google.android.material.appbar.AppBarLayout$ScrollingViewBehavior&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:gravity=&quot;center&quot;\n            android:textSize=&quot;25sp&quot;\n            android:text=&quot;If you're looking to remove the default white background that appears while your app initializes, there isn't a direct way to remove it completely, as it's part of the Android system behavior. However, you can make it less noticeable or disguise it using various techniques. Here are a few alternatives:\n\n1. Use a Splash Screen:\nAs mentioned earlier, using a splash screen with your app's branding or logo can provide a smoother transition. The splash screen gives the impression that something is happening during the initialization phase, making the white background less noticeable.\n\n2. Optimize Initialization:\nEfficiently optimize your app's initialization process. Load essential resources lazily and asynchronously. Delay resource-heavy operations until after the main activity has started. By optimizing your initialization, the white background period is minimized, making it less noticeable.\n\n3. Set a Theme with Transparent Background:\nIn your app's theme, set the background to be transparent. This doesn't remove the white background but makes it less noticeable since the default background will be transparent instead of white. Add the following line to your theme in styles.xml:&quot;/&gt;\n\n    &lt;/androidx.core.widget.NestedScrollView&gt;\n\n&lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Here is the gradient.xml file code used for the toolbar background:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;gradient\n        android:angle=&quot;120&quot;\n        android:endColor=&quot;@android:color/transparent&quot;\n        android:startColor=&quot;#3BB1EC&quot; /&gt;\n\n&lt;/shape&gt;\n\n</code></pre>\n<p>Here is the code for the custom_app_bar_background.xml file used as scrim for CollapsingToolbarLayout and Linear layout background when the collapsing toolbar has expanded:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n\n    &lt;gradient\n        android:startColor=&quot;#3BB1EC&quot;\n        android:endColor=&quot;#216CF1&quot;\n        android:angle=&quot;120&quot;/&gt;\n\n    &lt;corners\n        android:bottomRightRadius=&quot;40dp&quot;\n        android:bottomLeftRadius=&quot;40dp&quot;/&gt;\n\n&lt;/shape&gt;\n</code></pre>\n<p>I have tried setting the background of the toolbar to transparent which did not work, because the status bar color did not smoothly mix with the tool bar color. The goal was to remove the white rectangular view behind the toolbar, as shown in the picture above.</p>\n"},{"tags":["java","spring-boot","testcontainers"],"owner":{"account_id":10424858,"reputation":179,"user_id":7686473,"accept_rate":100,"display_name":"Alterant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696793569,"creation_date":1696793569,"question_id":77255051,"body_markdown":"According to the [docs](https://java.testcontainers.org/modules/databases/jdbc/): &quot;... to get a fresh containerized instance of the database each time your application starts up&quot;\r\n\r\nBut what this really means taking into account Spring Boot context caching? Will I get one container for all tests in the project or per context or per test?\r\n\r\nLet&#39;s imagine I have several tests with several contexts:\r\n\r\n - Test A.1 with context A (@ContextConfiguration(initializers = ContextA.class))\r\n - Test A.2 with context A\r\n - ...\r\n - Test B.1 with context B (@ContextConfiguration(initializers = ContextB.class))\r\n - Test B.2 with context B\r\n - ...\r\n\r\nCan I be sure that all tests within the context will use the same container?","title":"Testcontainers JDBC URL scheme lifecycle","body":"<p>According to the <a href=\"https://java.testcontainers.org/modules/databases/jdbc/\" rel=\"nofollow noreferrer\">docs</a>: &quot;... to get a fresh containerized instance of the database each time your application starts up&quot;</p>\n<p>But what this really means taking into account Spring Boot context caching? Will I get one container for all tests in the project or per context or per test?</p>\n<p>Let's imagine I have several tests with several contexts:</p>\n<ul>\n<li>Test A.1 with context A (@ContextConfiguration(initializers = ContextA.class))</li>\n<li>Test A.2 with context A</li>\n<li>...</li>\n<li>Test B.1 with context B (@ContextConfiguration(initializers = ContextB.class))</li>\n<li>Test B.2 with context B</li>\n<li>...</li>\n</ul>\n<p>Can I be sure that all tests within the context will use the same container?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696710186,"post_id":77251388,"comment_id":136189062,"body_markdown":"what&#39;s the problem?","body":"what&#39;s the problem?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696712422,"post_id":77251388,"comment_id":136189264,"body_markdown":"@P.J.Meisch I shared it.","body":"@P.J.Meisch I shared it."},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696742953,"post_id":77251388,"comment_id":136190968,"body_markdown":"What version of SDE are you using?","body":"What version of SDE are you using?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696765349,"post_id":77251388,"comment_id":136192738,"body_markdown":"@Val What is SDE?","body":"@Val What is SDE?"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696776838,"post_id":77251388,"comment_id":136193813,"body_markdown":"Spring Data Elasticsearch","body":"Spring Data Elasticsearch"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1696791905,"post_id":77251388,"comment_id":136195373,"body_markdown":"@Val The version is 3.1.4","body":"@Val The version is 3.1.4"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1696793156,"post_id":77251388,"comment_id":136195498,"body_markdown":"SDE version is not relevant here, this is a Elasticsearch Java Client question","body":"SDE version is not relevant here, this is a Elasticsearch Java Client question"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696793118,"creation_date":1696793118,"answer_id":77255022,"question_id":77251388,"body_markdown":"You need the use a `Query.Builder` in the `query()` method and on this you can set the `rangeQuery`\r\n```\r\nSearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt; q\r\n  .index(&quot;itemindex&quot;)\r\n  .query(queryBuilder -&gt; queryBuilder.range(rangeQuery))\r\n  ), Item.class);\r\n```\r\n","title":"How to write range query in elastic search 8.8.0","body":"<p>You need the use a <code>Query.Builder</code> in the <code>query()</code> method and on this you can set the <code>rangeQuery</code></p>\n<pre><code>SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt; q\n  .index(&quot;itemindex&quot;)\n  .query(queryBuilder -&gt; queryBuilder.range(rangeQuery))\n  ), Item.class);\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77255022,"answer_count":1,"score":0,"last_activity_date":1696793379,"creation_date":1696710029,"question_id":77251388,"body_markdown":"I have a problem to write **range query** for **elastic search** running on **Docker** in my **Spring Boot** example.\r\n\r\nI tried to write **RangeQuery** but I cannot implement it in `elasticsearchClient.search.` \r\n\r\nHow can I do that?\r\n\r\n\r\nHere is the code snippet shown below\r\n\r\n    public List&lt;Item&gt; searchItemsByPriceRange(double minPrice, double maxPrice) throws IOException {\r\n            RangeQuery rangeQuery = new RangeQuery.Builder()\r\n                    .field(&quot;price&quot;)  // Specify the field name here\r\n                    .gte(JsonData.of(minPrice))   // Greater than or equal to minPrice\r\n                     .lte(JsonData.of(maxPrice))   // Less than or equal to maxPrice\r\n                    .build();\r\n    \r\n            log.info(&quot;Elasticsearch query: {}&quot;, rangeQuery.toString());\r\n    \r\n            SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\r\n                    q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\r\n    \r\n            log.info(&quot;Elasticsearch response: {}&quot;, response.toString());\r\n    \r\n            return extractItemsFromResponse(response);\r\n    }\r\n\r\n\r\n    private List&lt;Item&gt; extractItemsFromResponse(SearchResponse&lt;Item&gt; response) {\r\n        return response\r\n                .hits()\r\n                .hits()\r\n                .stream()\r\n                .map(Hit::source)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n\r\nHere is the problem part\r\n\r\n    SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\r\n                    q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\r\n    \r\n    Cannot resolve method &#39;query(RangeQuery)&#39;","title":"How to write range query in elastic search 8.8.0","body":"<p>I have a problem to write <strong>range query</strong> for <strong>elastic search</strong> running on <strong>Docker</strong> in my <strong>Spring Boot</strong> example.</p>\n<p>I tried to write <strong>RangeQuery</strong> but I cannot implement it in <code>elasticsearchClient.search.</code></p>\n<p>How can I do that?</p>\n<p>Here is the code snippet shown below</p>\n<pre><code>public List&lt;Item&gt; searchItemsByPriceRange(double minPrice, double maxPrice) throws IOException {\n        RangeQuery rangeQuery = new RangeQuery.Builder()\n                .field(&quot;price&quot;)  // Specify the field name here\n                .gte(JsonData.of(minPrice))   // Greater than or equal to minPrice\n                 .lte(JsonData.of(maxPrice))   // Less than or equal to maxPrice\n                .build();\n\n        log.info(&quot;Elasticsearch query: {}&quot;, rangeQuery.toString());\n\n        SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\n                q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\n\n        log.info(&quot;Elasticsearch response: {}&quot;, response.toString());\n\n        return extractItemsFromResponse(response);\n}\n\n\nprivate List&lt;Item&gt; extractItemsFromResponse(SearchResponse&lt;Item&gt; response) {\n    return response\n            .hits()\n            .hits()\n            .stream()\n            .map(Hit::source)\n            .collect(Collectors.toList());\n}\n</code></pre>\n<p>Here is the problem part</p>\n<pre><code>SearchResponse&lt;Item&gt; response = elasticsearchClient.search(q -&gt;\n                q.index(&quot;itemindex&quot;).query(rangeQuery), Item.class);\n\nCannot resolve method 'query(RangeQuery)'\n</code></pre>\n"},{"tags":["java","wildfly"],"comments":[{"owner":{"account_id":1182079,"reputation":1469,"user_id":1156801,"accept_rate":42,"display_name":"Rhys"},"score":0,"creation_date":1395062386,"post_id":22455154,"comment_id":34153621,"body_markdown":"Have you set JAVA_HOME in standalone.conf? Or are you referring to the JAVA_HOME environment variable?","body":"Have you set JAVA_HOME in standalone.conf? Or are you referring to the JAVA_HOME environment variable?"},{"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"score":0,"creation_date":1395062579,"post_id":22455154,"comment_id":34153750,"body_markdown":"I did not set JAVA_HOME in standalone.conf. I am referring to the one in environment variable.","body":"I did not set JAVA_HOME in standalone.conf. I am referring to the one in environment variable."},{"owner":{"account_id":1182079,"reputation":1469,"user_id":1156801,"accept_rate":42,"display_name":"Rhys"},"score":0,"creation_date":1395062653,"post_id":22455154,"comment_id":34153805,"body_markdown":"Try setting JAVA_HOME in standalone.conf (there&#39;s a line for this already in the file, but commented out), but use forward slashes (/) instead of backslashes in your JAVA_HOME path.","body":"Try setting JAVA_HOME in standalone.conf (there&#39;s a line for this already in the file, but commented out), but use forward slashes (/) instead of backslashes in your JAVA_HOME path."},{"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"score":0,"creation_date":1395062859,"post_id":22455154,"comment_id":34153934,"body_markdown":"Tried. Still same error.","body":"Tried. Still same error."},{"owner":{"account_id":1993525,"reputation":5771,"user_id":1786985,"display_name":"Tomaz Cerar"},"score":0,"creation_date":1395099511,"post_id":22455154,"comment_id":34175881,"body_markdown":"How are you running this? CMD? PowerShell? Cygwin?","body":"How are you running this? CMD? PowerShell? Cygwin?"}],"answers":[{"tags":[],"owner":{"account_id":923546,"reputation":4807,"user_id":954761,"accept_rate":58,"display_name":"Niels Bech Nielsen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395061901,"creation_date":1395061901,"answer_id":22455215,"question_id":22455154,"body_markdown":"Try calling java outside of the batch file first, i.e.\r\n\r\n    C:\\apps\\Java\\jdk1.7.0_51\\bin\\java -version\r\n\r\nThen if that succeeds, it is probably some other thing inside the script, that does it.\r\nThen you should probably try to diverge the script essentials to us\r\n","title":"WildFly: Error on start up","body":"<p>Try calling java outside of the batch file first, i.e.</p>\n\n<pre><code>C:\\apps\\Java\\jdk1.7.0_51\\bin\\java -version\n</code></pre>\n\n<p>Then if that succeeds, it is probably some other thing inside the script, that does it.\nThen you should probably try to diverge the script essentials to us</p>\n"},{"tags":[],"owner":{"account_id":4265435,"reputation":31,"user_id":3488675,"display_name":"fsantos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470398234,"creation_date":1470398234,"answer_id":38788692,"question_id":22455154,"body_markdown":"I was able to fix this by setting JAVA_HOME value in standalone.conf.bat.\r\n\r\n    rem #\r\n    rem # Specify the JBoss Profiler configuration file to load.\r\n    rem #\r\n    rem # Default is to not load a JBoss Profiler configuration file.\r\n    rem #\r\n    rem set &quot;PROFILER=%JBOSS_HOME%\\bin\\jboss-profiler.properties&quot;\r\n    \r\n    rem #\r\n    rem # Specify the location of the Java home directory (it is recommended that\r\n    rem # this always be set). If set, then &quot;%JAVA_HOME%\\bin\\java&quot; will be used as\r\n    rem # the Java VM executable; otherwise, &quot;%JAVA%&quot; will be used (see below).\r\n    rem #\r\n    rem set &quot;JAVA_HOME=C:\\opt\\jdk1.6.0_23&quot;\r\n    set &quot;JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102&quot;","title":"WildFly: Error on start up","body":"<p>I was able to fix this by setting JAVA_HOME value in standalone.conf.bat.</p>\n\n<pre><code>rem #\nrem # Specify the JBoss Profiler configuration file to load.\nrem #\nrem # Default is to not load a JBoss Profiler configuration file.\nrem #\nrem set \"PROFILER=%JBOSS_HOME%\\bin\\jboss-profiler.properties\"\n\nrem #\nrem # Specify the location of the Java home directory (it is recommended that\nrem # this always be set). If set, then \"%JAVA_HOME%\\bin\\java\" will be used as\nrem # the Java VM executable; otherwise, \"%JAVA%\" will be used (see below).\nrem #\nrem set \"JAVA_HOME=C:\\opt\\jdk1.6.0_23\"\nset \"JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_102\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18529411,"reputation":1,"user_id":13500563,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588960490,"creation_date":1588960490,"answer_id":61685104,"question_id":22455154,"body_markdown":"Always ensure you set JBOSS_HOME and JAVA_HOME to avoid any errors in standalone.conf.*\r\nto avoid any wildfly startup errors in your respective environments.\r\n\r\nSetting JBOSS_HOME resolved my error ","title":"WildFly: Error on start up","body":"<p>Always ensure you set JBOSS_HOME and JAVA_HOME to avoid any errors in standalone.conf.*\nto avoid any wildfly startup errors in your respective environments.</p>\n\n<p>Setting JBOSS_HOME resolved my error </p>\n"}],"owner":{"account_id":2535175,"reputation":2346,"user_id":2202507,"accept_rate":47,"display_name":"MaTTo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12835,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1696791620,"creation_date":1395061741,"question_id":22455154,"body_markdown":"I keep getting this silly error, when trying to start up a wildfly server:\r\n\r\n![WildFyl error][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/OzN61.png\r\n\r\nHow to fix it? I was googling for like 2 hours now and could not find any solution. \r\nMy JAVA_HOME is set to C:\\Apps\\Java\\jdk1.7.0_51\r\nI tried with changing it to jre folder but same error. I also have jdk\\bin folder in PATH. \r\n\r\nHelp me please. \r\n\r\nEDIT: Here is the code of batch script. I did not touch it, it camed with the wildfly:\r\n\r\n    @echo off\r\n    rem -------------------------------------------------------------------------\r\n    rem JBoss Bootstrap Script for Windows\r\n    rem -------------------------------------------------------------------------\r\n    \r\n    rem Use --debug to activate debug mode with an optional argument to specify the port\r\n    rem Usage : standalone.bat --debug\r\n    rem         standalone.bat --debug 9797\r\n    \r\n    @if not &quot;%ECHO%&quot; == &quot;&quot;  echo %ECHO%\r\n    @if &quot;%OS%&quot; == &quot;Windows_NT&quot; setlocal\r\n    \r\n    rem By default debug mode is disable.\r\n    set DEBUG_MODE=false\r\n    set DEBUG_PORT=8787\r\n    rem Set to all parameters by default\r\n    set &quot;SERVER_OPTS=%*&quot;\r\n    \r\n    rem Get the program name before using shift as the command modify the variable ~nx0\r\n    if &quot;%OS%&quot; == &quot;Windows_NT&quot; (\r\n      set &quot;PROGNAME=%~nx0%&quot;\r\n    ) else (\r\n      set &quot;PROGNAME=standalone.bat&quot;\r\n    )\r\n    \r\n    if &quot;%OS%&quot; == &quot;Windows_NT&quot; (\r\n      set &quot;DIRNAME=%~dp0%&quot;\r\n    ) else (\r\n      set DIRNAME=.\\\r\n    )\r\n    \r\n    rem Read command-line args.\r\n    :READ-ARGS\r\n    if &quot;%1&quot; == &quot;&quot; (\r\n       goto MAIN\r\n    ) else if &quot;%1&quot; == &quot;--debug&quot; (\r\n       goto READ-DEBUG-PORT\r\n    ) else (\r\n       rem This doesn&#39;t work as Windows splits on = and spaces by default\r\n       rem set SERVER_OPTS=%SERVER_OPTS% %1\r\n       shift\r\n       goto READ-ARGS\r\n    )\r\n    \r\n    :READ-DEBUG-PORT\r\n    set &quot;DEBUG_MODE=true&quot;\r\n    set DEBUG_ARG=&quot;%2&quot;\r\n    if not &quot;x%DEBUG_ARG&quot; == &quot;x&quot; (\r\n       if x%DEBUG_ARG:-=%==x%DEBUG_ARG% (\r\n          shift\r\n          set DEBUG_PORT=%DEBUG_ARG%\r\n       )\r\n       shift\r\n       goto READ-ARGS\r\n    )\r\n    \r\n    :MAIN\r\n    rem $Id$\r\n    )\r\n    \r\n    pushd &quot;%DIRNAME%..&quot;\r\n    set &quot;RESOLVED_JBOSS_HOME=%CD%&quot;\r\n    popd\r\n    \r\n    if &quot;x%JBOSS_HOME%&quot; == &quot;x&quot; (\r\n      set &quot;JBOSS_HOME=%RESOLVED_JBOSS_HOME%&quot;\r\n    )\r\n    \r\n    pushd &quot;%JBOSS_HOME%&quot;\r\n    set &quot;SANITIZED_JBOSS_HOME=%CD%&quot;\r\n    popd\r\n    \r\n    if /i &quot;%RESOLVED_JBOSS_HOME%&quot; NEQ &quot;%SANITIZED_JBOSS_HOME%&quot; (\r\n       echo.\r\n       echo   WARNING:  JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.\r\n       echo.\r\n       echo       JBOSS_HOME: &quot;%JBOSS_HOME%&quot;\r\n       echo.\r\n    )\r\n    \r\n    rem Read an optional configuration file.\r\n    if &quot;x%STANDALONE_CONF%&quot; == &quot;x&quot; (\r\n       set &quot;STANDALONE_CONF=%DIRNAME%standalone.conf.bat&quot;\r\n    )\r\n    if exist &quot;%STANDALONE_CONF%&quot; (\r\n       echo Calling &quot;%STANDALONE_CONF%&quot;\r\n       call &quot;%STANDALONE_CONF%&quot; %*\r\n    ) else (\r\n       echo Config file not found &quot;%STANDALONE_CONF%&quot;\r\n    )\r\n    \r\n    \r\n    rem Set debug settings if not already set\r\n    if &quot;%DEBUG_MODE%&quot; == &quot;true&quot; (\r\n       echo &quot;%JAVA_OPTS%&quot; | findstr /I &quot;\\-agentlib:jdwp&quot; &gt; nul\r\n      if errorlevel == 1 (\r\n         set &quot;JAVA_OPTS=%JAVA_OPTS% -agentlib:jdwp=transport=dt_socket,address=%DEBUG_PORT%,server=y,suspend=n&quot;\r\n      ) else (\r\n         echo Debug already enabled in JAVA_OPTS, ignoring --debug argument\r\n      )\r\n    )\r\n    \r\n    set DIRNAME=\r\n    \r\n    rem Setup JBoss specific properties\r\n    set &quot;JAVA_OPTS=-Dprogram.name=%PROGNAME% %JAVA_OPTS%&quot;\r\n    \r\n    if &quot;x%JAVA_HOME%&quot; == &quot;x&quot; (\r\n      set  JAVA=java\r\n      echo JAVA_HOME is not set. Unexpected results may occur.\r\n      echo Set JAVA_HOME to the directory of your local JDK to avoid this message.\r\n    ) else (\r\n      if not exist &quot;%JAVA_HOME%&quot; (\r\n        echo JAVA_HOME &quot;%JAVA_HOME%&quot; path doesn&#39;t exist\r\n        goto END\r\n      ) else (\r\n        echo Setting JAVA property to &quot;%JAVA_HOME%\\bin\\java&quot;\r\n        set &quot;JAVA=%JAVA_HOME%\\bin\\java&quot;\r\n      )\r\n    )\r\n    \r\n    if not &quot;%PRESERVE_JAVA_OPTS%&quot; == &quot;true&quot; (\r\n      rem Add -client to the JVM options, if supported (32 bit VM), and not overriden\r\n      echo &quot;%JAVA_OPTS%&quot; | findstr /I \\-server &gt; nul\r\n      if errorlevel == 1 (\r\n        &quot;%JAVA%&quot; -client -version 2&gt;&amp;1 | findstr /I /C:&quot;Client VM&quot; &gt; nul\r\n        if not errorlevel == 1 (\r\n          set &quot;JAVA_OPTS=-client %JAVA_OPTS%&quot;\r\n        )\r\n      )\r\n    )\r\n    \r\n    if not &quot;%PRESERVE_JAVA_OPTS%&quot; == &quot;true&quot; (\r\n      rem Add compressed oops, if supported (64 bit VM), and not overriden\r\n      echo &quot;%JAVA_OPTS%&quot; | findstr /I &quot;\\-XX:\\-UseCompressedOops \\-client&quot; &gt; nul\r\n      if errorlevel == 1 (\r\n        &quot;%JAVA%&quot; -XX:+UseCompressedOops -version &gt; nul 2&gt;&amp;1\r\n        if not errorlevel == 1 (\r\n          set &quot;JAVA_OPTS=-XX:+UseCompressedOops %JAVA_OPTS%&quot;\r\n        )\r\n      )\r\n    )\r\n    \r\n    \r\n    rem Find jboss-modules.jar, or we can&#39;t continue\r\n    if exist &quot;%JBOSS_HOME%\\jboss-modules.jar&quot; (\r\n        set &quot;RUNJAR=%JBOSS_HOME%\\jboss-modules.jar&quot;\r\n    ) else (\r\n      echo Could not locate &quot;%JBOSS_HOME%\\jboss-modules.jar&quot;.\r\n      echo Please check that you are in the bin directory when running this script.\r\n      goto END\r\n    )\r\n    \r\n    rem Setup JBoss specific properties\r\n    \r\n    rem Setup directories, note directories with spaces do not work\r\n    set &quot;CONSOLIDATED_OPTS=%JAVA_OPTS% %SERVER_OPTS%&quot;\r\n    :DIRLOOP\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.base.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_BASE_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.config.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_CONFIG_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    echo(%CONSOLIDATED_OPTS% | findstr /r /c:&quot;^-Djboss.server.log.dir&quot; &gt; nul &amp;&amp; (\r\n      for /f &quot;tokens=1,2* delims==&quot; %%a IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n        for /f %%i IN (&quot;%%b&quot;) DO set &quot;JBOSS_LOG_DIR=%%~fi&quot;\r\n      )\r\n    )\r\n    \r\n    for /f &quot;tokens=1* delims= &quot; %%i IN (&quot;%CONSOLIDATED_OPTS%&quot;) DO (\r\n      if %%i == &quot;&quot; (\r\n        goto ENDDIRLOOP\r\n      ) else (\r\n        set CONSOLIDATED_OPTS=%%j\r\n        GOTO DIRLOOP\r\n      )\r\n    )\r\n    \r\n    :ENDDIRLOOP\r\n    \r\n    rem Set default module root paths\r\n    if &quot;x%JBOSS_MODULEPATH%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_MODULEPATH=%JBOSS_HOME%\\modules&quot;\r\n    )\r\n    \r\n    rem Set the standalone base dir\r\n    if &quot;x%JBOSS_BASE_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_BASE_DIR=%JBOSS_HOME%\\standalone&quot;\r\n    )\r\n    rem Set the standalone log dir\r\n    if &quot;x%JBOSS_LOG_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_LOG_DIR=%JBOSS_BASE_DIR%\\log&quot;\r\n    )\r\n    rem Set the standalone configuration dir\r\n    if &quot;x%JBOSS_CONFIG_DIR%&quot; == &quot;x&quot; (\r\n      set  &quot;JBOSS_CONFIG_DIR=%JBOSS_BASE_DIR%\\configuration&quot;\r\n    )\r\n    \r\n    echo ===============================================================================\r\n    echo.\r\n    echo   JBoss Bootstrap Environment\r\n    echo.\r\n    echo   JBOSS_HOME: &quot;%JBOSS_HOME%&quot;\r\n    echo.\r\n    echo   JAVA: &quot;%JAVA%&quot;\r\n    echo.\r\n    echo   JAVA_OPTS: &quot;%JAVA_OPTS%&quot;\r\n    echo.\r\n    echo ===============================================================================\r\n    echo.\r\n    \r\n    :RESTART\r\n    &quot;%JAVA%&quot; %JAVA_OPTS% ^\r\n     &quot;-Dorg.jboss.boot.log.file=%JBOSS_LOG_DIR%\\server.log&quot; ^\r\n     &quot;-Dlogging.configuration=file:%JBOSS_CONFIG_DIR%/logging.properties&quot; ^\r\n        -jar &quot;%JBOSS_HOME%\\jboss-modules.jar&quot; ^\r\n        -mp &quot;%JBOSS_MODULEPATH%&quot; ^\r\n         org.jboss.as.standalone ^\r\n        &quot;-Djboss.home.dir=%JBOSS_HOME%&quot; ^\r\n         %SERVER_OPTS%\r\n    \r\n    if ERRORLEVEL 10 goto RESTART\r\n    \r\n    :END\r\n    if &quot;x%NOPAUSE%&quot; == &quot;x&quot; pause\r\n    \r\n    :END_NO_PAUSE\r\n\r\n","title":"WildFly: Error on start up","body":"<p>I keep getting this silly error, when trying to start up a wildfly server:</p>\n\n<p><img src=\"https://i.stack.imgur.com/OzN61.png\" alt=\"WildFyl error\"></p>\n\n<p>How to fix it? I was googling for like 2 hours now and could not find any solution. \nMy JAVA_HOME is set to C:\\Apps\\Java\\jdk1.7.0_51\nI tried with changing it to jre folder but same error. I also have jdk\\bin folder in PATH. </p>\n\n<p>Help me please. </p>\n\n<p>EDIT: Here is the code of batch script. I did not touch it, it camed with the wildfly:</p>\n\n<pre><code>@echo off\nrem -------------------------------------------------------------------------\nrem JBoss Bootstrap Script for Windows\nrem -------------------------------------------------------------------------\n\nrem Use --debug to activate debug mode with an optional argument to specify the port\nrem Usage : standalone.bat --debug\nrem         standalone.bat --debug 9797\n\n@if not \"%ECHO%\" == \"\"  echo %ECHO%\n@if \"%OS%\" == \"Windows_NT\" setlocal\n\nrem By default debug mode is disable.\nset DEBUG_MODE=false\nset DEBUG_PORT=8787\nrem Set to all parameters by default\nset \"SERVER_OPTS=%*\"\n\nrem Get the program name before using shift as the command modify the variable ~nx0\nif \"%OS%\" == \"Windows_NT\" (\n  set \"PROGNAME=%~nx0%\"\n) else (\n  set \"PROGNAME=standalone.bat\"\n)\n\nif \"%OS%\" == \"Windows_NT\" (\n  set \"DIRNAME=%~dp0%\"\n) else (\n  set DIRNAME=.\\\n)\n\nrem Read command-line args.\n:READ-ARGS\nif \"%1\" == \"\" (\n   goto MAIN\n) else if \"%1\" == \"--debug\" (\n   goto READ-DEBUG-PORT\n) else (\n   rem This doesn't work as Windows splits on = and spaces by default\n   rem set SERVER_OPTS=%SERVER_OPTS% %1\n   shift\n   goto READ-ARGS\n)\n\n:READ-DEBUG-PORT\nset \"DEBUG_MODE=true\"\nset DEBUG_ARG=\"%2\"\nif not \"x%DEBUG_ARG\" == \"x\" (\n   if x%DEBUG_ARG:-=%==x%DEBUG_ARG% (\n      shift\n      set DEBUG_PORT=%DEBUG_ARG%\n   )\n   shift\n   goto READ-ARGS\n)\n\n:MAIN\nrem $Id$\n)\n\npushd \"%DIRNAME%..\"\nset \"RESOLVED_JBOSS_HOME=%CD%\"\npopd\n\nif \"x%JBOSS_HOME%\" == \"x\" (\n  set \"JBOSS_HOME=%RESOLVED_JBOSS_HOME%\"\n)\n\npushd \"%JBOSS_HOME%\"\nset \"SANITIZED_JBOSS_HOME=%CD%\"\npopd\n\nif /i \"%RESOLVED_JBOSS_HOME%\" NEQ \"%SANITIZED_JBOSS_HOME%\" (\n   echo.\n   echo   WARNING:  JBOSS_HOME may be pointing to a different installation - unpredictable results may occur.\n   echo.\n   echo       JBOSS_HOME: \"%JBOSS_HOME%\"\n   echo.\n)\n\nrem Read an optional configuration file.\nif \"x%STANDALONE_CONF%\" == \"x\" (\n   set \"STANDALONE_CONF=%DIRNAME%standalone.conf.bat\"\n)\nif exist \"%STANDALONE_CONF%\" (\n   echo Calling \"%STANDALONE_CONF%\"\n   call \"%STANDALONE_CONF%\" %*\n) else (\n   echo Config file not found \"%STANDALONE_CONF%\"\n)\n\n\nrem Set debug settings if not already set\nif \"%DEBUG_MODE%\" == \"true\" (\n   echo \"%JAVA_OPTS%\" | findstr /I \"\\-agentlib:jdwp\" &gt; nul\n  if errorlevel == 1 (\n     set \"JAVA_OPTS=%JAVA_OPTS% -agentlib:jdwp=transport=dt_socket,address=%DEBUG_PORT%,server=y,suspend=n\"\n  ) else (\n     echo Debug already enabled in JAVA_OPTS, ignoring --debug argument\n  )\n)\n\nset DIRNAME=\n\nrem Setup JBoss specific properties\nset \"JAVA_OPTS=-Dprogram.name=%PROGNAME% %JAVA_OPTS%\"\n\nif \"x%JAVA_HOME%\" == \"x\" (\n  set  JAVA=java\n  echo JAVA_HOME is not set. Unexpected results may occur.\n  echo Set JAVA_HOME to the directory of your local JDK to avoid this message.\n) else (\n  if not exist \"%JAVA_HOME%\" (\n    echo JAVA_HOME \"%JAVA_HOME%\" path doesn't exist\n    goto END\n  ) else (\n    echo Setting JAVA property to \"%JAVA_HOME%\\bin\\java\"\n    set \"JAVA=%JAVA_HOME%\\bin\\java\"\n  )\n)\n\nif not \"%PRESERVE_JAVA_OPTS%\" == \"true\" (\n  rem Add -client to the JVM options, if supported (32 bit VM), and not overriden\n  echo \"%JAVA_OPTS%\" | findstr /I \\-server &gt; nul\n  if errorlevel == 1 (\n    \"%JAVA%\" -client -version 2&gt;&amp;1 | findstr /I /C:\"Client VM\" &gt; nul\n    if not errorlevel == 1 (\n      set \"JAVA_OPTS=-client %JAVA_OPTS%\"\n    )\n  )\n)\n\nif not \"%PRESERVE_JAVA_OPTS%\" == \"true\" (\n  rem Add compressed oops, if supported (64 bit VM), and not overriden\n  echo \"%JAVA_OPTS%\" | findstr /I \"\\-XX:\\-UseCompressedOops \\-client\" &gt; nul\n  if errorlevel == 1 (\n    \"%JAVA%\" -XX:+UseCompressedOops -version &gt; nul 2&gt;&amp;1\n    if not errorlevel == 1 (\n      set \"JAVA_OPTS=-XX:+UseCompressedOops %JAVA_OPTS%\"\n    )\n  )\n)\n\n\nrem Find jboss-modules.jar, or we can't continue\nif exist \"%JBOSS_HOME%\\jboss-modules.jar\" (\n    set \"RUNJAR=%JBOSS_HOME%\\jboss-modules.jar\"\n) else (\n  echo Could not locate \"%JBOSS_HOME%\\jboss-modules.jar\".\n  echo Please check that you are in the bin directory when running this script.\n  goto END\n)\n\nrem Setup JBoss specific properties\n\nrem Setup directories, note directories with spaces do not work\nset \"CONSOLIDATED_OPTS=%JAVA_OPTS% %SERVER_OPTS%\"\n:DIRLOOP\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.base.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_BASE_DIR=%%~fi\"\n  )\n)\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.config.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_CONFIG_DIR=%%~fi\"\n  )\n)\necho(%CONSOLIDATED_OPTS% | findstr /r /c:\"^-Djboss.server.log.dir\" &gt; nul &amp;&amp; (\n  for /f \"tokens=1,2* delims==\" %%a IN (\"%CONSOLIDATED_OPTS%\") DO (\n    for /f %%i IN (\"%%b\") DO set \"JBOSS_LOG_DIR=%%~fi\"\n  )\n)\n\nfor /f \"tokens=1* delims= \" %%i IN (\"%CONSOLIDATED_OPTS%\") DO (\n  if %%i == \"\" (\n    goto ENDDIRLOOP\n  ) else (\n    set CONSOLIDATED_OPTS=%%j\n    GOTO DIRLOOP\n  )\n)\n\n:ENDDIRLOOP\n\nrem Set default module root paths\nif \"x%JBOSS_MODULEPATH%\" == \"x\" (\n  set  \"JBOSS_MODULEPATH=%JBOSS_HOME%\\modules\"\n)\n\nrem Set the standalone base dir\nif \"x%JBOSS_BASE_DIR%\" == \"x\" (\n  set  \"JBOSS_BASE_DIR=%JBOSS_HOME%\\standalone\"\n)\nrem Set the standalone log dir\nif \"x%JBOSS_LOG_DIR%\" == \"x\" (\n  set  \"JBOSS_LOG_DIR=%JBOSS_BASE_DIR%\\log\"\n)\nrem Set the standalone configuration dir\nif \"x%JBOSS_CONFIG_DIR%\" == \"x\" (\n  set  \"JBOSS_CONFIG_DIR=%JBOSS_BASE_DIR%\\configuration\"\n)\n\necho ===============================================================================\necho.\necho   JBoss Bootstrap Environment\necho.\necho   JBOSS_HOME: \"%JBOSS_HOME%\"\necho.\necho   JAVA: \"%JAVA%\"\necho.\necho   JAVA_OPTS: \"%JAVA_OPTS%\"\necho.\necho ===============================================================================\necho.\n\n:RESTART\n\"%JAVA%\" %JAVA_OPTS% ^\n \"-Dorg.jboss.boot.log.file=%JBOSS_LOG_DIR%\\server.log\" ^\n \"-Dlogging.configuration=file:%JBOSS_CONFIG_DIR%/logging.properties\" ^\n    -jar \"%JBOSS_HOME%\\jboss-modules.jar\" ^\n    -mp \"%JBOSS_MODULEPATH%\" ^\n     org.jboss.as.standalone ^\n    \"-Djboss.home.dir=%JBOSS_HOME%\" ^\n     %SERVER_OPTS%\n\nif ERRORLEVEL 10 goto RESTART\n\n:END\nif \"x%NOPAUSE%\" == \"x\" pause\n\n:END_NO_PAUSE\n</code></pre>\n"},{"tags":["java","spring","docker","docker-compose"],"comments":[{"owner":{"account_id":13217925,"reputation":5500,"user_id":14401160,"display_name":"STerliakov"},"score":0,"creation_date":1696792173,"post_id":77254832,"comment_id":136195403,"body_markdown":"Drop the volume and try again - if you used this volume before (`/var/lib/postgresql/data` contains any data) with another `POSTGRES_DB`. new database is not created. If it doesn&#39;t help, please add `docker compose logs postgres -t` output to your question. If it begins with `PostgreSQL Database directory appears to contain a database; Skipping initialization`, my assumption is correct - use another volume or drop this one first.","body":"Drop the volume and try again - if you used this volume before (<code>&#47;var&#47;lib&#47;postgresql&#47;data</code> contains any data) with another <code>POSTGRES_DB</code>. new database is not created. If it doesn&#39;t help, please add <code>docker compose logs postgres -t</code> output to your question. If it begins with <code>PostgreSQL Database directory appears to contain a database; Skipping initialization</code>, my assumption is correct - use another volume or drop this one first."},{"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"score":0,"creation_date":1696795797,"post_id":77254832,"comment_id":136195770,"body_markdown":"@STerliakov thx","body":"@STerliakov thx"}],"owner":{"account_id":27479976,"reputation":97,"user_id":20967366,"display_name":"panic08"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696789740,"creation_date":1696789740,"question_id":77254832,"body_markdown":"I have a problem. I want to do a database migration, so I have this kind of application-prod.properties:\r\n```\r\nspring.flyway.enabled=true\r\nspring.flyway.url=jdbc:postgresql://postgres:5432/users\r\nspring.flyway.user=postgres\r\nspring.flyway.password=1234\r\nspring.flyway.locations=classpath:db/migration\r\n```\r\nNow when building containers and startup, I want the migration to run, however I see an error when starting the server:\r\n```\r\nserapi_1   | 2023-10-08T18:19:12.353Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\r\nuserapi_1   | 2023-10-08T18:19:12.354Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\r\nuserapi_1   | 2023-10-08T18:19:12.355Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    :\r\npostgres_1  | 2023-10-08 18:19:12.845 UTC [34] FATAL:  database &quot;users&quot; does not exist\r\nuserapi_1   | 2023-10-08T18:19:12.897Z  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   | 2023-10-08T18:19:12.946Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\r\nuserapi_1   |\r\nuserapi_1   | Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\nuserapi_1   | 2023-10-08T18:19:12.999Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nuserapi_1   |\r\nuserapi_1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;flywayInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at com.example.userapi.UserApiApplication.main(UserApiApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\nuserapi_1   |   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\nuserapi_1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\nuserapi_1   |   at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   |   at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[userApi.jar:0.0.1-SNAPSHOT]\r\nuserapi_1   | Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   | ---------------------------------------------------------------------------------\r\nuserapi_1   | SQL State  : 3D000\r\nuserapi_1   | Error Code : 0\r\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:140) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.flywaydb.core.Flyway.migrate(Flyway.java:140) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.1.4.jar!/:3.1.4]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   ... 24 common frames omitted\r\nuserapi_1   | Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;users&quot; does not exist\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\r\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-9.16.3.jar!/:na]\r\nuserapi_1   |   ... 30 common frames omitted\r\nuserapi_1   |\r\n```\r\nThat is, for some reason, docker-compose does not create the database. How can I fix this?\r\nMy docker-compose:\r\n```\r\nversion: &#39;3&#39;\r\nservices:\r\n  postgres:\r\n    image: postgres:latest\r\n    environment:\r\n      POSTGRES_DB: users\r\n      POSTGRES_USER: postgres\r\n      POSTGRES_PASSWORD: 1234\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    volumes:\r\n      - /srv/db_data:/var/lib/postgresql/data\r\n\r\n  auth:\r\n    build:\r\n      context: ./auth\r\n    ports:\r\n      - &quot;8080:8080&quot;\r\n    volumes:\r\n      - /srv/photos:/srv/photos\r\n\r\n  userapi:\r\n    build:\r\n      context: ./userApi\r\n    ports:\r\n      - &quot;8081:8081&quot;\r\n    depends_on:\r\n      - postgres\r\n\r\n```","title":"Flyway: FATAL: database &quot;users&quot; does not exist Docker-compose","body":"<p>I have a problem. I want to do a database migration, so I have this kind of application-prod.properties:</p>\n<pre><code>spring.flyway.enabled=true\nspring.flyway.url=jdbc:postgresql://postgres:5432/users\nspring.flyway.user=postgres\nspring.flyway.password=1234\nspring.flyway.locations=classpath:db/migration\n</code></pre>\n<p>Now when building containers and startup, I want the migration to run, however I see an error when starting the server:</p>\n<pre><code>serapi_1   | 2023-10-08T18:19:12.353Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : Flyway Community Edition 9.16.3 by Redgate\nuserapi_1   | 2023-10-08T18:19:12.354Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    : See release notes here: https://rd.gt/416ObMi\nuserapi_1   | 2023-10-08T18:19:12.355Z  INFO 1 --- [           main] o.f.c.internal.license.VersionPrinter    :\npostgres_1  | 2023-10-08 18:19:12.845 UTC [34] FATAL:  database &quot;users&quot; does not exist\nuserapi_1   | 2023-10-08T18:19:12.897Z  WARN 1 --- [           main] onfigReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   | 2023-10-08T18:19:12.946Z  INFO 1 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger :\nuserapi_1   |\nuserapi_1   | Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\nuserapi_1   | 2023-10-08T18:19:12.999Z ERROR 1 --- [           main] o.s.boot.SpringApplication               : Application run failed\nuserapi_1   |\nuserapi_1   | org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at com.example.userapi.UserApiApplication.main(UserApiApplication.java:10) ~[classes!/:0.0.1-SNAPSHOT]\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\nuserapi_1   |   at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\nuserapi_1   |   at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\nuserapi_1   |   at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\nuserapi_1   |   at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:95) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   |   at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[userApi.jar:0.0.1-SNAPSHOT]\nuserapi_1   | Caused by: org.flywaydb.core.internal.exception.FlywaySqlException: Unable to obtain connection from database: FATAL: database &quot;users&quot; does not exist\nuserapi_1   | ---------------------------------------------------------------------------------\nuserapi_1   | SQL State  : 3D000\nuserapi_1   | Error Code : 0\nuserapi_1   | Message    : FATAL: database &quot;users&quot; does not exist\nuserapi_1   |\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:60) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcConnectionFactory.&lt;init&gt;(JdbcConnectionFactory.java:74) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:140) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.flywaydb.core.Flyway.migrate(Flyway.java:140) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.1.4.jar!/:3.1.4]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.12.jar!/:6.0.12]\nuserapi_1   |   ... 24 common frames omitted\nuserapi_1   | Caused by: org.postgresql.util.PSQLException: FATAL: database &quot;users&quot; does not exist\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2825) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.QueryExecutorImpl.&lt;init&gt;(QueryExecutorImpl.java:175) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:313) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:263) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.Driver.makeConnection(Driver.java:443) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.postgresql.Driver.connect(Driver.java:297) ~[postgresql-42.6.0.jar!/:42.6.0]\nuserapi_1   |   at org.springframework.jdbc.datasource.SimpleDriverDataSource.getConnectionFromDriver(SimpleDriverDataSource.java:144) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169) ~[spring-jdbc-6.0.12.jar!/:6.0.12]\nuserapi_1   |   at org.flywaydb.core.internal.jdbc.JdbcUtils.openConnection(JdbcUtils.java:48) ~[flyway-core-9.16.3.jar!/:na]\nuserapi_1   |   ... 30 common frames omitted\nuserapi_1   |\n</code></pre>\n<p>That is, for some reason, docker-compose does not create the database. How can I fix this?\nMy docker-compose:</p>\n<pre><code>version: '3'\nservices:\n  postgres:\n    image: postgres:latest\n    environment:\n      POSTGRES_DB: users\n      POSTGRES_USER: postgres\n      POSTGRES_PASSWORD: 1234\n    ports:\n      - &quot;5432:5432&quot;\n    volumes:\n      - /srv/db_data:/var/lib/postgresql/data\n\n  auth:\n    build:\n      context: ./auth\n    ports:\n      - &quot;8080:8080&quot;\n    volumes:\n      - /srv/photos:/srv/photos\n\n  userapi:\n    build:\n      context: ./userApi\n    ports:\n      - &quot;8081:8081&quot;\n    depends_on:\n      - postgres\n\n</code></pre>\n"},{"tags":["java","mysql","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696787889,"creation_date":1696787229,"answer_id":77254684,"question_id":77254547,"body_markdown":"Replace\r\n\r\n    &lt;tr th:each=&quot;userList : ${theUsers}&quot;&gt;\r\n        &lt;td th:text=&quot;${user.id_user}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${user.user_name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nwith\r\n\r\n    &lt;tr th:each=&quot;theUsers : ${userList}&quot;&gt;\r\n        &lt;td th:text=&quot;${theUsers.id_user}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${theUsers.user_name}&quot;&gt;&lt;/td&gt;\r\n        &lt;td th:text=&quot;${theUsers.login}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nThe userList needs to match the value that you assigned in your controller with this line\r\n  \r\n\r\n    theModel.addAttribute(&quot;userList&quot;, theUsers);\r\n\r\n`theUsers` is the variable name that you will use to represent each object while you iterate through the list.\r\n\r\nAnd all fields need to match the fields of your entity, NOT your database. Your database User field is called `&quot;username&quot;`, but in your entity class it is named `login` and what you need to do is to iterate through fields of your entity, not your database fields.\r\n\r\nhttps://www.baeldung.com/thymeleaf-iteration","title":"Problem to iterate through objects in database with spring/thymeleaf","body":"<p>Replace</p>\n<pre><code>&lt;tr th:each=&quot;userList : ${theUsers}&quot;&gt;\n    &lt;td th:text=&quot;${user.id_user}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${user.user_name}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;tr th:each=&quot;theUsers : ${userList}&quot;&gt;\n    &lt;td th:text=&quot;${theUsers.id_user}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${theUsers.user_name}&quot;&gt;&lt;/td&gt;\n    &lt;td th:text=&quot;${theUsers.login}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>The userList needs to match the value that you assigned in your controller with this line</p>\n<pre><code>theModel.addAttribute(&quot;userList&quot;, theUsers);\n</code></pre>\n<p><code>theUsers</code> is the variable name that you will use to represent each object while you iterate through the list.</p>\n<p>And all fields need to match the fields of your entity, NOT your database. Your database User field is called <code>&quot;username&quot;</code>, but in your entity class it is named <code>login</code> and what you need to do is to iterate through fields of your entity, not your database fields.</p>\n<p><a href=\"https://www.baeldung.com/thymeleaf-iteration\" rel=\"nofollow noreferrer\">https://www.baeldung.com/thymeleaf-iteration</a></p>\n"}],"owner":{"account_id":29626794,"reputation":3,"user_id":22706281,"display_name":"Daimyo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77254684,"answer_count":1,"score":0,"last_activity_date":1696789587,"creation_date":1696784930,"question_id":77254547,"body_markdown":"Recently I started to create my clone project for Splitwise. The problem is that I can&#39;t iterate through my Users from the database, even tho they exist and are written in the console.\r\n\r\nhttps://github.com/DamianKwc/SplitwiseProject.git\r\n\r\nThe web is opening correctly as well as the template but there are no objects. This is my first time here, sorry for any issues.","title":"Problem to iterate through objects in database with spring/thymeleaf","body":"<p>Recently I started to create my clone project for Splitwise. The problem is that I can't iterate through my Users from the database, even tho they exist and are written in the console.</p>\n<p><a href=\"https://github.com/DamianKwc/SplitwiseProject.git\" rel=\"nofollow noreferrer\">https://github.com/DamianKwc/SplitwiseProject.git</a></p>\n<p>The web is opening correctly as well as the template but there are no objects. This is my first time here, sorry for any issues.</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1411118467,"post_id":25930191,"comment_id":40592993,"body_markdown":"Make sure your settings are right, that your database exists and is up and running and that you can connect to it with that user. Also make sure that you have selected the correct dialect for Hibernate else you might end up with the wrong SQL .","body":"Make sure your settings are right, that your database exists and is up and running and that you can connect to it with that user. Also make sure that you have selected the correct dialect for Hibernate else you might end up with the wrong SQL ."},{"owner":{"account_id":3756385,"reputation":664,"user_id":3122666,"accept_rate":67,"display_name":"jimish"},"score":0,"creation_date":1411120786,"post_id":25930191,"comment_id":40594329,"body_markdown":"hey, my database exists and its up and running... But I dont know how to select dialect for hibernate. can you suggest something useful related?","body":"hey, my database exists and its up and running... But I dont know how to select dialect for hibernate. can you suggest something useful related?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1411121183,"post_id":25930191,"comment_id":40594528,"body_markdown":"I suggest a read of the documentation instead of only hacking around. However setting the `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect` should do the trick. You also might want to add the full stack trace to your post.","body":"I suggest a read of the documentation instead of only hacking around. However setting the <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQL5InnoDBDialec&zwnj;&#8203;t</code> should do the trick. You also might want to add the full stack trace to your post."}],"answers":[{"tags":[],"owner":{"account_id":2556881,"reputation":1451,"user_id":2218653,"accept_rate":31,"display_name":"Suvasis"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1411121291,"creation_date":1411121194,"answer_id":25931386,"question_id":25930191,"body_markdown":"You can verify your pom file and make sure minimum of below jars are available\r\n    \t\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Spring AOP --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;!-- MySQL JDBC connector --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t**Make sure you are reading your db.properties file from application-context.xml**\r\n    \t\t\r\n    \t\t&lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t  &lt;property name=&quot;locations&quot;&gt;\r\n                &lt;list&gt;\r\n                    &lt;value&gt;classpath:db.properties&lt;/value&gt; \r\n                &lt;/list&gt;\r\n            &lt;/property&gt; \r\n    \t\t&lt;/bean&gt;\r\n    \t\t\r\n    \t\t**Make sure you use proper datasource and entity manager in application-context.xml**\r\n    \t\t\r\n    \t\t&lt;bean id=&quot;dataSource&quot; class=&quot;{our.DataSource}&quot; destroy-method=&quot;close&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;driverClass&quot; value=&quot;${driver}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;jdbcUrl&quot; value=&quot;${url}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;user&quot; value=&quot;${username}&quot;/&gt;\r\n    \t\t\t&lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;\r\n    \t\t&lt;/bean&gt;\r\n        \r\n    \t\t&lt;bean id=&quot;entityManagerFactory&quot;\r\n    \t\t\tclass=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n    \t\t\t&lt;property name=&quot;persistenceUnitName&quot; value=&quot;spring-jpa&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t&lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot;&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;generateDdl&quot; value=&quot;true&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;showSql&quot; value=&quot;false&quot; /&gt;\r\n    \t\t\t\t\t&lt;property name=&quot;databasePlatform&quot; value=&quot;${dialect}&quot; /&gt;\t\r\n    \t\t\t\t&lt;/bean&gt;\r\n    \t\t\t&lt;/property&gt;\r\n    \t\t\t\r\n    \t\t&lt;/bean&gt;\r\n    \t\r\n    \t**Make sure you are adding minimum of below properties in db.properties**\r\n    \t    \r\n        dialect=org.hibernate.dialect.MySQL5InnoDBDialect\r\n        url=jdbc:mysql://localhost:3306/dbName\r\n        driver=com.mysql.jdbc.Driver\r\n        username=root\r\n        password=test","title":"Connect MySQL to Spring application","body":"<p>You can verify your pom file and make sure minimum of below jars are available</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring AOP --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- MySQL JDBC connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        **Make sure you are reading your db.properties file from application-context.xml**\n\n        &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n          &lt;property name=\"locations\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;classpath:db.properties&lt;/value&gt; \n            &lt;/list&gt;\n        &lt;/property&gt; \n        &lt;/bean&gt;\n\n        **Make sure you use proper datasource and entity manager in application-context.xml**\n\n        &lt;bean id=\"dataSource\" class=\"{our.DataSource}\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClass\" value=\"${driver}\"/&gt;\n            &lt;property name=\"jdbcUrl\" value=\"${url}\"/&gt;\n            &lt;property name=\"user\" value=\"${username}\"/&gt;\n            &lt;property name=\"password\" value=\"${password}\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;bean id=\"entityManagerFactory\"\n            class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n            &lt;property name=\"persistenceUnitName\" value=\"spring-jpa\" /&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"jpaVendorAdapter\"&gt;\n                &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\"&gt;\n                    &lt;property name=\"generateDdl\" value=\"true\" /&gt;\n                    &lt;property name=\"showSql\" value=\"false\" /&gt;\n                    &lt;property name=\"databasePlatform\" value=\"${dialect}\" /&gt; \n                &lt;/bean&gt;\n            &lt;/property&gt;\n\n        &lt;/bean&gt;\n\n    **Make sure you are adding minimum of below properties in db.properties**\n\n    dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n    url=jdbc:mysql://localhost:3306/dbName\n    driver=com.mysql.jdbc.Driver\n    username=root\n    password=test\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257480,"reputation":5081,"user_id":538921,"accept_rate":91,"display_name":"Edward J Beckett"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411158079,"creation_date":1411157065,"answer_id":25941616,"question_id":25930191,"body_markdown":"Expounding on @M. Deinum&#39;s comment... You need to specify the JPA configuration information as the [Spring RestBucks App](https://github.com/olivergierke/spring-restbucks) is using [Spring Data JPA](https://github.com/spring-projects/spring-data-jpa).  \r\n\r\nAdding standard JPA properties and specifying the database-platform ([Common Application Properties](http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)) should get your JPA connection working.\r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n    # Enable spring data repos \r\n    spring.data.jpa.repositories.enabled=true\r\n\r\n    # Replace with your connection string\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/restbucks\r\n\r\n    # Replace with your credentials\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Expounding on @M. Deinum's comment... You need to specify the JPA configuration information as the <a href=\"https://github.com/olivergierke/spring-restbucks\" rel=\"noreferrer\">Spring RestBucks App</a> is using <a href=\"https://github.com/spring-projects/spring-data-jpa\" rel=\"noreferrer\">Spring Data JPA</a>.  </p>\n\n<p>Adding standard JPA properties and specifying the database-platform (<a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">Common Application Properties</a>) should get your JPA connection working.</p>\n\n<pre><code>spring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n\n# Enable spring data repos \nspring.data.jpa.repositories.enabled=true\n\n# Replace with your connection string\nspring.datasource.url=jdbc:mysql://localhost:3306/restbucks\n\n# Replace with your credentials\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2582569,"reputation":371,"user_id":2238913,"display_name":"gauravbhatt13"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1634252360,"creation_date":1436676081,"answer_id":31364432,"question_id":25930191,"body_markdown":"Include only the following configuration in your application.properties in classpath and it will work like a charm:\r\n\r\n     spring.datasource.url=jdbc:mysql://localhost/jpa_example\r\n     spring.datasource.username=root\r\n     spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n     spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nThis &quot;spring.jpa.database-platform&quot; specify which database you are going to use. It may be postgress, MySQL etc. According to that you need to specify it.","title":"Connect MySQL to Spring application","body":"<p>Include only the following configuration in your application.properties in classpath and it will work like a charm:</p>\n<pre><code> spring.datasource.url=jdbc:mysql://localhost/jpa_example\n spring.datasource.username=root\n spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\n</code></pre>\n<p>This &quot;spring.jpa.database-platform&quot; specify which database you are going to use. It may be postgress, MySQL etc. According to that you need to specify it.</p>\n"},{"tags":[],"owner":{"account_id":6579388,"reputation":726,"user_id":5084108,"display_name":"Vinoj Vetha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476425294,"creation_date":1476425294,"answer_id":40036050,"question_id":25930191,"body_markdown":"# Database Server IP, Port Number and DB Name \nspring.datasource.url=jdbc:mysql://localhost/sample  \n\n\n\n\n# Database Server UserName \nspring.datasource.username=root  \n\n\n\n\n# Database Server Password \nspring.datasource.password=root123 \n\n\n\n\n# Update database on every Time Server starts \nspring.jpa.hibernate.ddl-auto=update","title":"Connect MySQL to Spring application","body":"<h1>Database Server IP, Port Number and DB Name</h1>\n<p>spring.datasource.url=jdbc:mysql://localhost/sample</p>\n<h1>Database Server UserName</h1>\n<p>spring.datasource.username=root</p>\n<h1>Database Server Password</h1>\n<p>spring.datasource.password=root123</p>\n<h1>Update database on every Time Server starts</h1>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478825507,"creation_date":1478825507,"answer_id":40539565,"question_id":25930191,"body_markdown":"Add MySQL Connector/J to classpath:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThis is an example of file **application.properties** inside Spring-based application:\r\n\r\n    datasource.mine.poolSize=30\r\n    \r\n    spring.datasource.url=jdbc:mysql://127.0.0.1/vy?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=123456\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Add MySQL Connector/J to classpath:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;6.0.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This is an example of file <strong>application.properties</strong> inside Spring-based application:</p>\n\n<pre><code>datasource.mine.poolSize=30\n\nspring.datasource.url=jdbc:mysql://127.0.0.1/vy?useUnicode=true&amp;useJDBCCompliantTimezoneShift=true&amp;useLegacyDatetimeCode=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583257075,"creation_date":1583257075,"answer_id":60512762,"question_id":25930191,"body_markdown":"    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/boot\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n\r\nI was tried with above configuration but was not connected after 1 hour I was get connected by putting an SPACE after password= (password= )","title":"Connect MySQL to Spring application","body":"<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/boot\nspring.datasource.username=root\nspring.datasource.password=\n</code></pre>\n\n<p>I was tried with above configuration but was not connected after 1 hour I was get connected by putting an SPACE after password= (password= )</p>\n"},{"tags":[],"owner":{"account_id":15418679,"reputation":156,"user_id":11123293,"display_name":"Tofazzal Hossain"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1600166791,"creation_date":1600166791,"answer_id":63900245,"question_id":25930191,"body_markdown":"Add bellow properties in your application.properties file:    \r\n\r\n    # Use one of create/update/create-update    \r\n    spring.jpa.hibernate.ddl-auto=update  \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db?createDatabaseIfNotExist=true   \r\n    spring.datasource.username=root  //your db user name  \r\n    spring.datasource.password=root  //your db user password \r\n    spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \r\n    #If your MySql version 5 then use MySQL5Dialect\r\n\r\n\r\n    # Enable spring data repos\r\n    spring.data.jpa.repositories.enabled=true\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.database=mysql\r\n    \r\n\r\n    ","title":"Connect MySQL to Spring application","body":"<p>Add bellow properties in your application.properties file:</p>\n<pre><code># Use one of create/update/create-update    \nspring.jpa.hibernate.ddl-auto=update  \nspring.datasource.url=jdbc:mysql://localhost:3306/db?createDatabaseIfNotExist=true   \nspring.datasource.username=root  //your db user name  \nspring.datasource.password=root  //your db user password \nspring.datasource.driverClassName=com.mysql.cj.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect  \n#If your MySql version 5 then use MySQL5Dialect\n\n\n# Enable spring data repos\nspring.data.jpa.repositories.enabled=true\nspring.jpa.show-sql=true\nspring.jpa.database=mysql\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618978061,"creation_date":1618978061,"answer_id":67189154,"question_id":25930191,"body_markdown":"\r\n\r\nPlease add mysql-connector-java dependency  \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\nand Add the below mentioned properties in application.properties\r\n\r\n\r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/yourDatabaseName?useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=YourPassword\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>Please add mysql-connector-java dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and Add the below mentioned properties in application.properties</p>\n<pre><code># Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\nspring.datasource.url=jdbc:mysql://localhost:3306/yourDatabaseName?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=YourPassword\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658308546,"creation_date":1658308546,"answer_id":73048895,"question_id":25930191,"body_markdown":"I will like to add that we should be mindful of the database platform we are using while connecting to our SQL database.\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MYSQL8Dialect.\r\n\r\nwasn&#39;t working for me, until I commented it out and added\r\n\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\n","title":"Connect MySQL to Spring application","body":"<p>I will like to add that we should be mindful of the database platform we are using while connecting to our SQL database.</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.MYSQL8Dialect.</p>\n<p>wasn't working for me, until I commented it out and added</p>\n<p>spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect</p>\n"},{"tags":[],"owner":{"account_id":19850767,"reputation":61,"user_id":14541306,"display_name":"Vinojan Isoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669720546,"creation_date":1669720546,"answer_id":74613204,"question_id":25930191,"body_markdown":"    spring.datasource.url = jdbc:mysql://127.0.0.1:3306/employee-schema\r\n    spring.datasource.username = root\r\n    spring.datasource.password = Vinojan\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\n\r\n","title":"Connect MySQL to Spring application","body":"<pre><code>spring.datasource.url = jdbc:mysql://127.0.0.1:3306/employee-schema\nspring.datasource.username = root\nspring.datasource.password = Vinojan\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10076508,"reputation":487,"user_id":7448439,"display_name":"srinivas chaitanya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1688494115,"creation_date":1688494115,"answer_id":76614992,"question_id":25930191,"body_markdown":"As of spring boot 3,  `org.hibernate.dialect.MySQL8Dialect`  and `com.mysql.jdbc.Driver` are deprecated. Use the below properties instead\r\n\r\n&gt; spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n&gt; \r\n&gt; spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nsample `application.properties` file\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.show-sql=true\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/dev\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","title":"Connect MySQL to Spring application","body":"<p>As of spring boot 3,  <code>org.hibernate.dialect.MySQL8Dialect</code>  and <code>com.mysql.jdbc.Driver</code> are deprecated. Use the below properties instead</p>\n<blockquote>\n<p>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</p>\n<p>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</p>\n</blockquote>\n<p>sample <code>application.properties</code> file</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.show-sql=true\nspring.datasource.url=jdbc:mysql://localhost:3306/dev\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4991816,"reputation":112,"user_id":4013767,"display_name":"Manojkumaar G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696788933,"creation_date":1696788933,"answer_id":77254787,"question_id":25930191,"body_markdown":"The following can be used for application.yml file\r\n\r\n&gt;     spring:\r\n&gt;       datasource:\r\n&gt;         driver-class-name: com.mysql.cj.jdbc.Driver\r\n&gt;         url: jdbc:mysql://localhost:3306/wikimedia\r\n&gt;         username: root\r\n&gt;         password: root\r\n&gt;       jpa:\r\n&gt;         database: mysql\r\n&gt;         show-sql: true\r\n&gt;         database-platform: org.hibernate.dialect.MySQLDialect\r\n&gt;         hibernate:\r\n&gt;           ddl-auto: update\r\n&gt;       data:\r\n&gt;         jpa:\r\n&gt;           repositories:\r\n&gt;             enabled: true","title":"Connect MySQL to Spring application","body":"<p>The following can be used for application.yml file</p>\n<blockquote>\n<pre><code>spring:\n  datasource:\n    driver-class-name: com.mysql.cj.jdbc.Driver\n    url: jdbc:mysql://localhost:3306/wikimedia\n    username: root\n    password: root\n  jpa:\n    database: mysql\n    show-sql: true\n    database-platform: org.hibernate.dialect.MySQLDialect\n    hibernate:\n      ddl-auto: update\n  data:\n    jpa:\n      repositories:\n        enabled: true\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":3756385,"reputation":664,"user_id":3122666,"accept_rate":67,"display_name":"jimish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185001,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"answer_count":12,"score":15,"last_activity_date":1696788933,"creation_date":1411117352,"question_id":25930191,"body_markdown":"I want to use MySQL database rather than using runtime database like hsqldb. I have cloned [this repository][1] and it is using hsqldb as its database. \r\n\r\nAs I want to learn how to use relational database with rest based spring application. So I have made following changes to pom.xml:\r\nchanged pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;org.springsource.restbucks&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;restbucks&lt;/artifactId&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Spring RESTBucks&lt;/name&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;spring-data-releasetrain.version&gt;Evans-RC1&lt;/spring-data-releasetrain.version&gt;\r\n    \t\t&lt;tomcat.version&gt;8.0.9&lt;/tomcat.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!-- Spring Data REST --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t        &lt;exclusion&gt;\r\n    \t\t            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t        &lt;/exclusion&gt;\r\n    \t\t    &lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JDK 8 DateTime support for Hibernate --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;usertype.extended&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0.GA&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Database &gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Misc --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-tx-events&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.14.4&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-libs-snapshot&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-libs-snapshot&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nand in application.properties (spring-restbucks/src/main/resources/application.properties), I have made following changes:\r\n\r\n    # JPA\r\n    spring.jpa.show-sql=true\r\n    \r\n    server.port=8080\r\n    \r\n    spring.datasource.url=jdbc:mysql://localhost/restBucks\r\n    \r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    \r\n    spring.datasource.username=root\r\n    \r\n    spring.datasource.password=\r\n\r\nbut I am facing about 15 errors like:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;orderInitializer&#39; defined in file [/home/jimish/projects/spring_projects/spring/spring-restbucks/target/classes/org/springsource/restbucks/order/OrderInitializer.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springsource.restbucks.order.OrderInitializer]: Constructor threw exception; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nSo if anyone can suggest path for how to connect mysql to spring application that would be great.\r\nThanks.\r\n\r\n\r\n\r\n  [1]: https://github.com/olivergierke/spring-restbucks.git","title":"Connect MySQL to Spring application","body":"<p>I want to use MySQL database rather than using runtime database like hsqldb. I have cloned <a href=\"https://github.com/olivergierke/spring-restbucks.git\" rel=\"noreferrer\">this repository</a> and it is using hsqldb as its database. </p>\n\n<p>As I want to learn how to use relational database with rest based spring application. So I have made following changes to pom.xml:\nchanged pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.springsource.restbucks&lt;/groupId&gt;\n    &lt;artifactId&gt;restbucks&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring RESTBucks&lt;/name&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;spring-data-releasetrain.version&gt;Evans-RC1&lt;/spring-data-releasetrain.version&gt;\n        &lt;tomcat.version&gt;8.0.9&lt;/tomcat.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;!-- Spring Data REST --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JDK 8 DateTime support for Hibernate --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jadira.usertype&lt;/groupId&gt;\n            &lt;artifactId&gt;usertype.extended&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Database &gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Misc --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx-events&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.BUILD-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.14.4&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-libs-snapshot&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-libs-snapshot&lt;/id&gt;\n            &lt;url&gt;http://repo.spring.io/libs-snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and in application.properties (spring-restbucks/src/main/resources/application.properties), I have made following changes:</p>\n\n<pre><code># JPA\nspring.jpa.show-sql=true\n\nserver.port=8080\n\nspring.datasource.url=jdbc:mysql://localhost/restBucks\n\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\n\nspring.datasource.username=root\n\nspring.datasource.password=\n</code></pre>\n\n<p>but I am facing about 15 errors like:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'orderInitializer' defined in file [/home/jimish/projects/spring_projects/spring/spring-restbucks/target/classes/org/springsource/restbucks/order/OrderInitializer.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class [org.springsource.restbucks.order.OrderInitializer]: Constructor threw exception; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet\n</code></pre>\n\n<p>So if anyone can suggest path for how to connect mysql to spring application that would be great.\nThanks.</p>\n"},{"tags":["java","android","gradle","android-productflavors"],"comments":[{"owner":{"account_id":7345988,"reputation":597,"user_id":5593663,"accept_rate":64,"display_name":"iSandeep"},"score":0,"creation_date":1454427395,"post_id":35155779,"comment_id":58033505,"body_markdown":"I have&#39;nt done it before but [Gradle Plugin User Guide](http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Product-Flavor-Configuration) may be helpful for you.","body":"I have&#39;nt done it before but <a href=\"http://tools.android.com/tech-docs/new-build-system/user-guide#TOC-Product-Flavor-Configuration\" rel=\"nofollow noreferrer\">Gradle Plugin User Guide</a> may be helpful for you."}],"answers":[{"tags":[],"owner":{"account_id":7490163,"reputation":1636,"user_id":5692170,"display_name":"Joopkins"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1454428938,"creation_date":1454428938,"answer_id":35158154,"question_id":35155779,"body_markdown":"I misread the question initially. To exclude the free version you would use proVersionCompile and partnerVersionCompile with the desired dependency to exclude the freeVersion.\r\n\r\n    dependencies {\r\n        proVersionCompile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n        partnerVersionCompile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n    }","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>I misread the question initially. To exclude the free version you would use proVersionCompile and partnerVersionCompile with the desired dependency to exclude the freeVersion.</p>\n\n<pre><code>dependencies {\n    proVersionCompile 'com.google.android.gms:play-services-analytics:8.4.0'\n    partnerVersionCompile 'com.google.android.gms:play-services-analytics:8.4.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1929,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1478376035,"creation_date":1475125873,"answer_id":39761871,"question_id":35155779,"body_markdown":"Please notice the use of `freeCompile` and declaring a variable `flavor` to conditionally apply the plugin.   \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    def flavor\r\n    \r\n    android {\r\n        \r\n        ....\r\n\r\n        ....\r\n\r\n        productFlavors {\r\n            free {\r\n                applicationId &quot;com.anandbibek.builditbigger.free&quot;\r\n                flavor = &quot;free&quot;\r\n            }\r\n            paid {\r\n                applicationId &quot;com.anandbibek.builditbigger.paid&quot;\r\n                flavor = &quot;paid&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        // Added for AdMob\r\n        freeCompile &#39;com.google.firebase:firebase-ads:9.6.1&#39;\r\n    \r\n        compile &#39;com.android.support:appcompat-v7:24.2.1&#39;\r\n        compile &#39;com.google.code.findbugs:jsr305:2.0.1&#39;\r\n    \r\n    }\r\n    if(flavor == &quot;free&quot;) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n\r\n\r\nMake sure you put the `google-services.json` file in flavor specific folder. In my case, I put that in `app/src/free` only . This facility is available when you use `classpath &#39;com.google.gms:google-services:3.0.0&#39;` in your main project gradle file.","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>Please notice the use of <code>freeCompile</code> and declaring a variable <code>flavor</code> to conditionally apply the plugin.   </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\ndef flavor\n\nandroid {\n\n    ....\n\n    ....\n\n    productFlavors {\n        free {\n            applicationId \"com.anandbibek.builditbigger.free\"\n            flavor = \"free\"\n        }\n        paid {\n            applicationId \"com.anandbibek.builditbigger.paid\"\n            flavor = \"paid\"\n        }\n    }\n}\n\ndependencies {\n\n    // Added for AdMob\n    freeCompile 'com.google.firebase:firebase-ads:9.6.1'\n\n    compile 'com.android.support:appcompat-v7:24.2.1'\n    compile 'com.google.code.findbugs:jsr305:2.0.1'\n\n}\nif(flavor == \"free\") {\n    apply plugin: 'com.google.gms.google-services'\n}\n</code></pre>\n\n<p>Make sure you put the <code>google-services.json</code> file in flavor specific folder. In my case, I put that in <code>app/src/free</code> only . This facility is available when you use <code>classpath 'com.google.gms:google-services:3.0.0'</code> in your main project gradle file.</p>\n"},{"tags":[],"owner":{"account_id":187471,"reputation":2788,"user_id":425538,"display_name":"appmattus"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1522265587,"creation_date":1522265587,"answer_id":49542745,"question_id":35155779,"body_markdown":"Another solution is to disable the task the google-services plugin adds - here I enable the task if the flavorName is not &quot;freeVersion&quot; but this logic can clearly be updated to say look at the variants buildType instead.\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    // must be after the plugin is applied otherwise no tasks will be found\r\n    android.applicationVariants.all { variant -&gt;\r\n        def googleTask = tasks.findByName(&quot;process${variant.name.capitalize()}GoogleServices&quot;)\r\n        googleTask.enabled = !&quot;freeVersion&quot;.equals(variant.flavorName)\r\n    }","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>Another solution is to disable the task the google-services plugin adds - here I enable the task if the flavorName is not \"freeVersion\" but this logic can clearly be updated to say look at the variants buildType instead.</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\n// must be after the plugin is applied otherwise no tasks will be found\nandroid.applicationVariants.all { variant -&gt;\n    def googleTask = tasks.findByName(\"process${variant.name.capitalize()}GoogleServices\")\n    googleTask.enabled = !\"freeVersion\".equals(variant.flavorName)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3410724,"reputation":456,"user_id":2860701,"display_name":"AndroidZen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696788487,"creation_date":1696788487,"answer_id":77254761,"question_id":35155779,"body_markdown":"After trying these and other examples, none of the solutions have worked for me. I imagine that these responses are a bit outdated, considering that the answer is from 2018, and Gradle has changed a lot, especially with the migration from Groovy to Kotlin. In the end, the code that worked for me is the following:\r\n\r\n```\r\nval variantsWithoutFirebase = arrayListOf(\r\n    &quot;variantDebug&quot;, &quot;variantStaging&quot;, &quot;variantRelease&quot;\r\n)\r\nafterEvaluate {\r\n    android.applicationVariants.all { _ -&gt;\r\n        project.tasks.filter { task -&gt;\r\n            variantsWithoutFirebase.any { task.name.contains(it, true) }\r\n        }.map { task -&gt;\r\n            if (\r\n                task.name.contains(&quot;GoogleServices&quot;) ||\r\n                task.name.contains(&quot;uploadCrashlyticsMapping&quot;)\r\n            ) {\r\n                // Remove google services plugin\r\n                tasks.findByName(task.name)?.enabled = false\r\n                println(&quot;Disable task: ${task.name}&quot;)\r\n            }\r\n        }\r\n        false\r\n    }\r\n}\r\n```","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>After trying these and other examples, none of the solutions have worked for me. I imagine that these responses are a bit outdated, considering that the answer is from 2018, and Gradle has changed a lot, especially with the migration from Groovy to Kotlin. In the end, the code that worked for me is the following:</p>\n<pre><code>val variantsWithoutFirebase = arrayListOf(\n    &quot;variantDebug&quot;, &quot;variantStaging&quot;, &quot;variantRelease&quot;\n)\nafterEvaluate {\n    android.applicationVariants.all { _ -&gt;\n        project.tasks.filter { task -&gt;\n            variantsWithoutFirebase.any { task.name.contains(it, true) }\n        }.map { task -&gt;\n            if (\n                task.name.contains(&quot;GoogleServices&quot;) ||\n                task.name.contains(&quot;uploadCrashlyticsMapping&quot;)\n            ) {\n                // Remove google services plugin\n                tasks.findByName(task.name)?.enabled = false\n                println(&quot;Disable task: ${task.name}&quot;)\n            }\n        }\n        false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4466925,"reputation":153,"user_id":3634297,"display_name":"user3634297"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6272,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1696788487,"creation_date":1454422428,"question_id":35155779,"body_markdown":"In my Android project, there are several product flavors:\r\n\r\n    buildTypes {\r\n        release {}\r\n        debug {}\r\n        staging {}\r\n    }\r\n\r\n    productFlavors {\r\n        freeVersion {}\r\n        proVersion {}\r\n        partnerVersion {}\r\n    }\r\n    \r\nAlso, i use Google Analytics:\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\n    dependencies {\r\n        compile &#39;com.google.android.gms:play-services-analytics:8.4.0&#39;\r\n    }\r\n\r\n\r\nHow to exclude google-services in one of them? For example, in:\r\n\r\n    freeVersion {}","title":"Android Studio: How to exclude google-services module in product flavor?","body":"<p>In my Android project, there are several product flavors:</p>\n\n<pre><code>buildTypes {\n    release {}\n    debug {}\n    staging {}\n}\n\nproductFlavors {\n    freeVersion {}\n    proVersion {}\n    partnerVersion {}\n}\n</code></pre>\n\n<p>Also, i use Google Analytics:</p>\n\n<pre><code>apply plugin: 'com.google.gms.google-services'\n\ndependencies {\n    compile 'com.google.android.gms:play-services-analytics:8.4.0'\n}\n</code></pre>\n\n<p>How to exclude google-services in one of them? For example, in:</p>\n\n<pre><code>freeVersion {}\n</code></pre>\n"},{"tags":["java","reactjs","spring","spring-boot","pom.xml"],"owner":{"account_id":10046033,"reputation":672,"user_id":7427398,"accept_rate":32,"display_name":"ksernow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696788390,"creation_date":1696788390,"question_id":77254752,"body_markdown":"I am trying to configure my react app for running in different env (prod, stage and local). The react app is served via spring boot and so I am trying to find the best way to build and run the app but make sure it uses different urls based where it is run. \r\n\r\nFor eg, if I run on local, it should use localhost:8080, \r\nif I run on prod it should use the url www.prodUrl.com,\r\nif I run on stage, it should use www.stageUrl.com\r\n\r\nHere is my pom.xml\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;master&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hype&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;hype&lt;/name&gt;\r\n\t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.28&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;keycloak-model-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.stripe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.30.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;21.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.7.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.12.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;install node and npm&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm install&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;npm run build:widget&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;npm&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;arguments&gt;run build:widget&lt;/arguments&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\r\n\t\t\t\t\t&lt;nodeVersion&gt;v20.2.0&lt;/nodeVersion&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;resources&gt;\r\n\t\t\t\t\t\t\t\t&lt;resource&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;filtering&gt;true&lt;/filtering&gt;\r\n\t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n\t\t\t\t\t\t\t&lt;/resources&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the react file where I need to configure using dynamic url\r\n```\r\nimport axios from &#39;axios&#39;;\r\n\r\nexport const widgetAxiosClient = () =&gt; {\r\n  const client = axios.create({\r\n     baseURL: &quot;http://localhost:7171/api/&quot;\r\n  });\r\n\r\n  return { client };\r\n};\r\n\r\n```","title":"Set dynamic url for react app served via spring boot","body":"<p>I am trying to configure my react app for running in different env (prod, stage and local). The react app is served via spring boot and so I am trying to find the best way to build and run the app but make sure it uses different urls based where it is run.</p>\n<p>For eg, if I run on local, it should use localhost:8080,\nif I run on prod it should use the url <a href=\"http://www.prodUrl.com\" rel=\"nofollow noreferrer\">www.prodUrl.com</a>,\nif I run on stage, it should use <a href=\"http://www.stageUrl.com\" rel=\"nofollow noreferrer\">www.stageUrl.com</a></p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;master&lt;/groupId&gt;\n    &lt;artifactId&gt;hype&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;hype&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.keycloak/keycloak-admin-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-admin-client&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-core&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-model-jpa&lt;/artifactId&gt;\n            &lt;version&gt;21.1.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                    &lt;artifactId&gt;liquibase-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.stripe&lt;/groupId&gt;\n            &lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\n            &lt;version&gt;22.30.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;21.1.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.12.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;install node and npm&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm install&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run build:widget&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run build:widget&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;workingDirectory&gt;src/main/webapp&lt;/workingDirectory&gt;\n                    &lt;nodeVersion&gt;v20.2.0&lt;/nodeVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/classes/static&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/webapp/build&lt;/directory&gt;\n                                    &lt;filtering&gt;true&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here is the react file where I need to configure using dynamic url</p>\n<pre><code>import axios from 'axios';\n\nexport const widgetAxiosClient = () =&gt; {\n  const client = axios.create({\n     baseURL: &quot;http://localhost:7171/api/&quot;\n  });\n\n  return { client };\n};\n\n</code></pre>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":10153177,"reputation":5292,"user_id":7499069,"display_name":"tuhin47"},"score":0,"creation_date":1696777246,"post_id":77253903,"comment_id":136193857,"body_markdown":"What are APIs you already tried from Postman (or any client)? Please provide an example here.","body":"What are APIs you already tried from Postman (or any client)? Please provide an example here."},{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":1,"creation_date":1696778285,"post_id":77253903,"comment_id":136193981,"body_markdown":"Remove the gateway controller. The uri only is for the host and port. You need to use a filter such as setpath, or rewrite path","body":"Remove the gateway controller. The uri only is for the host and port. You need to use a filter such as setpath, or rewrite path"},{"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"score":0,"creation_date":1696787674,"post_id":77253903,"comment_id":136194916,"body_markdown":"thanks a lot @spencergibb, I removed the gateway controller and searched more about SetPath and RewritePath and finally it works!","body":"thanks a lot @spencergibb, I removed the gateway controller and searched more about SetPath and RewritePath and finally it works!"}],"answers":[{"tags":[],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696787590,"creation_date":1696787590,"answer_id":77254711,"question_id":77253903,"body_markdown":"```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n      - id: route1\r\n      # where we send traffic\r\n        uri: http://localhost:9001/api/movies\r\n        predicates:\r\n        - Path=/movies/**\r\n        filters:\r\n          - RewritePath=/movies/(?&lt;segment&gt;.*),/api/movies/$\\{segment}\r\n```\r\nThis is the final configuration that has worked.\r\nHere is the example which I found and adapted to my case from Baeldung [link][1]. Thanks a lot to [spencergibb][2] for directions with SetPath and RewritePath.\r\n\r\nI needed all from /movies/** , to go to /api/movies/** in the other app, and now it works.\r\n\r\n  [1]: https://www.baeldung.com/spring-cloud-gateway-url-rewriting\r\n  [2]: https://stackoverflow.com/users/2730527/spencergibb","title":"spring cloud gateway no redirect to other application","body":"<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n      - id: route1\n      # where we send traffic\n        uri: http://localhost:9001/api/movies\n        predicates:\n        - Path=/movies/**\n        filters:\n          - RewritePath=/movies/(?&lt;segment&gt;.*),/api/movies/$\\{segment}\n</code></pre>\n<p>This is the final configuration that has worked.\nHere is the example which I found and adapted to my case from Baeldung <a href=\"https://www.baeldung.com/spring-cloud-gateway-url-rewriting\" rel=\"nofollow noreferrer\">link</a>. Thanks a lot to <a href=\"https://stackoverflow.com/users/2730527/spencergibb\">spencergibb</a> for directions with SetPath and RewritePath.</p>\n<p>I needed all from /movies/** , to go to /api/movies/** in the other app, and now it works.</p>\n"}],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696787590,"creation_date":1696773860,"question_id":77253903,"body_markdown":"I have a movies API which is exposed on port 9001 and I am trying to build a gateway API on port 9000 to redirect the requests to the movies API. Java 17, OS Win10\r\n\r\nHere is code for movies API.\r\n\r\nController :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/movies&quot;)\r\npublic class MoviesAPI {\r\n    private final Logger log = LoggerFactory.getLogger(MoviesAPI.class);\r\n\r\n    private final MovieRepository movieRepository;\r\n\r\n    public MoviesAPI(MovieRepository movieRepository) {\r\n        this.movieRepository = movieRepository;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;Movie&gt; getAll(){\r\n        log.info(&quot;REST request to get all movies&quot;);\r\n        return movieRepository.findAll();\r\n    }\r\n\r\n    @PostMapping\r\n    public Optional&lt;Movie&gt; saveMovie(@RequestBody Movie movie){\r\n        log.info(&quot;REST request to save movie : {}&quot;, movie);\r\n        movie.setLastUpdatedTime(Instant.now());\r\n        return Optional.of(movieRepository.save(movie));\r\n    }\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    public Optional&lt;Movie&gt; getMovieById(@PathVariable UUID id){\r\n        log.info(&quot;REST request to get movie by id : {}&quot;, id);\r\n        return movieRepository.findById(id);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{id}&quot;)\r\n    public void deleteMovie(@PathVariable UUID id) {\r\n        log.info(&quot;REST request to delete movie by id : {}&quot;, id);\r\n        if (movieRepository.existsById(id)) {\r\n            movieRepository.deleteById(id);\r\n        } else {\r\n            throw new RuntimeException(&quot;Movie with ID &quot; + id + &quot; not found&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\napplication.yml :\r\n\r\n```\r\nserver:\r\n  port: 9001\r\nspring:\r\n  data:\r\n    mongodb:\r\n      host: localhost\r\n      port: 27017\r\n      database: movies1\r\n# swagger-ui custom path\r\nspringdoc:\r\n  swagger-ui:\r\n    path: /swagger-ui.html\r\n```\r\nMain application class:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SmartProxyJavocApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SmartProxyJavocApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd here is the code for gateway API.\r\n\r\nController :\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/gateway&quot;)\r\npublic class GatewayFallback {\r\n\r\n    private final Logger log = LoggerFactory.getLogger(GatewayFallback.class);\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public String getAccount() {\r\n        return &quot;yes&quot;;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\napplication.yml :\r\n```\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      routes:\r\n        - id: route1\r\n          # where we send traffic\r\n          uri: http://localhost:9001/api/movies\r\n          predicates:\r\n            - Path=/gateway/all\r\nserver:\r\n  port: 9000\r\n```\r\nMain application class:\r\n```\r\n@SpringBootApplication\r\npublic class ProxyApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ProxyApplication.class, args);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI have tried several values for Path like : ```/gateway/all/**, /gateway/**```, changing the server port for gateway (8080). The code seems good according to the tutorials and articles I&#39;ve read but still I can&#39;t figure out what is the problem.","title":"spring cloud gateway no redirect to other application","body":"<p>I have a movies API which is exposed on port 9001 and I am trying to build a gateway API on port 9000 to redirect the requests to the movies API. Java 17, OS Win10</p>\n<p>Here is code for movies API.</p>\n<p>Controller :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/movies&quot;)\npublic class MoviesAPI {\n    private final Logger log = LoggerFactory.getLogger(MoviesAPI.class);\n\n    private final MovieRepository movieRepository;\n\n    public MoviesAPI(MovieRepository movieRepository) {\n        this.movieRepository = movieRepository;\n    }\n\n    @GetMapping\n    public List&lt;Movie&gt; getAll(){\n        log.info(&quot;REST request to get all movies&quot;);\n        return movieRepository.findAll();\n    }\n\n    @PostMapping\n    public Optional&lt;Movie&gt; saveMovie(@RequestBody Movie movie){\n        log.info(&quot;REST request to save movie : {}&quot;, movie);\n        movie.setLastUpdatedTime(Instant.now());\n        return Optional.of(movieRepository.save(movie));\n    }\n\n    @GetMapping(&quot;/{id}&quot;)\n    public Optional&lt;Movie&gt; getMovieById(@PathVariable UUID id){\n        log.info(&quot;REST request to get movie by id : {}&quot;, id);\n        return movieRepository.findById(id);\n    }\n\n    @DeleteMapping(&quot;/{id}&quot;)\n    public void deleteMovie(@PathVariable UUID id) {\n        log.info(&quot;REST request to delete movie by id : {}&quot;, id);\n        if (movieRepository.existsById(id)) {\n            movieRepository.deleteById(id);\n        } else {\n            throw new RuntimeException(&quot;Movie with ID &quot; + id + &quot; not found&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>application.yml :</p>\n<pre><code>server:\n  port: 9001\nspring:\n  data:\n    mongodb:\n      host: localhost\n      port: 27017\n      database: movies1\n# swagger-ui custom path\nspringdoc:\n  swagger-ui:\n    path: /swagger-ui.html\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\npublic class SmartProxyJavocApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SmartProxyJavocApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>And here is the code for gateway API.</p>\n<p>Controller :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/gateway&quot;)\npublic class GatewayFallback {\n\n    private final Logger log = LoggerFactory.getLogger(GatewayFallback.class);\n\n    @GetMapping(&quot;/all&quot;)\n    public String getAccount() {\n        return &quot;yes&quot;;\n    }\n\n}\n\n</code></pre>\n<p>application.yml :</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      routes:\n        - id: route1\n          # where we send traffic\n          uri: http://localhost:9001/api/movies\n          predicates:\n            - Path=/gateway/all\nserver:\n  port: 9000\n</code></pre>\n<p>Main application class:</p>\n<pre><code>@SpringBootApplication\npublic class ProxyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProxyApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>I have tried several values for Path like : <code>/gateway/all/**, /gateway/**</code>, changing the server port for gateway (8080). The code seems good according to the tutorials and articles I've read but still I can't figure out what is the problem.</p>\n"},{"tags":["java","spring","websocket","interceptor","messaging"],"owner":{"account_id":29582120,"reputation":11,"user_id":22671667,"display_name":"Eugene Kulik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696786950,"creation_date":1696442791,"question_id":77232005,"body_markdown":"The problem I&#39;m having is with the execution order of **ChannelInterceptors**.I tried setting up websocket security. Defined a **ChannelInterseptor** to implement jwt token based authentication and added its **ChannelRegistration**. Also added **@EnableWebsocketSecurity** annotation to enable security for websocket. At the same time, interceptor chains are added that define security rules.Here is my class implementing **WebSocketMessageBrokerConfigurer**. My **ChannelInterceptor** was being added later than the security interceptor chain, resulting in an authorization error.\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\n@EnableWebSocketSecurity\r\n@Slf4j\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    private final JwtDecoder jwtDecoder;\r\n\r\n    public WebSocketConfig(JwtDecoder jwtDecoder) {\r\n        this.jwtDecoder = jwtDecoder;\r\n    }\r\n\r\n    @Bean\r\n    public ChannelInterceptor csrfChannelInterceptor(){\r\n        return new ChannelInterceptor() {\r\n            @Override\r\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n                return ChannelInterceptor.super.preSend(message, channel);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.interceptors(new ChannelInterceptor() {\r\n            @Override\r\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n                StompHeaderAccessor accessor =\r\n                    MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n                if (StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n                    List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\r\n\r\n                    String accessToken = authorization.get(0).split(&quot; &quot;)[1];\r\n                    Jwt jwt = jwtDecoder.decode(accessToken);\r\n                    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\r\n                    Authentication authentication = converter.convert(jwt);\r\n                    accessor.setUser(authentication);\r\n                }\r\n                return message;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\r\n    }\r\n\r\n    @Bean\r\n    public AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\r\n        messages\r\n            .anyMessage().authenticated();\r\n        return messages.build();\r\n    }\r\n\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;);\r\n        registry.addEndpoint(&quot;/chat&quot;)\r\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;)\r\n            .withSockJS();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the order in which **ChannelInterseptors** are registered depends only on the insertion order, since everything is implemented through a regular ArrayList. There is one way - to determine the order of configurations that implement the **WebsocketMessageBrokerConfigurer** interface. They are injected via a setter in the **DelegatingWebSocketMessageBrokerConfiguration**. And the order of implementation of collections can be changed using the **@Order** annotation, placing it above our configuration class.\r\nThis solved the problem in my case, but I wondered if there would be a need to explicitly define the order of interceptors, such as wedging into a chain of security interceptors. An analogy can be drawn with **SecurityFilterChain**, when configuring it you can use the **addFilterAt**, **addFilterBefore**, **addFilterAfter** methods.\r\n\r\n*I couldn&#39;t find a way, but maybe I&#39;m missing something.*\r\n\r\n*This post is intended more for discussion. I want to start contributing if the detected problem turns out to be valid.*","title":"How can one determine order of execution of ChannelInterceptors in Spring messaging?","body":"<p>The problem I'm having is with the execution order of <strong>ChannelInterceptors</strong>.I tried setting up websocket security. Defined a <strong>ChannelInterseptor</strong> to implement jwt token based authentication and added its <strong>ChannelRegistration</strong>. Also added <strong>@EnableWebsocketSecurity</strong> annotation to enable security for websocket. At the same time, interceptor chains are added that define security rules.Here is my class implementing <strong>WebSocketMessageBrokerConfigurer</strong>. My <strong>ChannelInterceptor</strong> was being added later than the security interceptor chain, resulting in an authorization error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSocketMessageBroker\n@EnableWebSocketSecurity\n@Slf4j\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    private final JwtDecoder jwtDecoder;\n\n    public WebSocketConfig(JwtDecoder jwtDecoder) {\n        this.jwtDecoder = jwtDecoder;\n    }\n\n    @Bean\n    public ChannelInterceptor csrfChannelInterceptor(){\n        return new ChannelInterceptor() {\n            @Override\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n                return ChannelInterceptor.super.preSend(message, channel);\n            }\n        };\n    }\n\n    @Override\n    public void configureClientInboundChannel(ChannelRegistration registration) {\n        registration.interceptors(new ChannelInterceptor() {\n            @Override\n            public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n                StompHeaderAccessor accessor =\n                    MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n                if (StompCommand.CONNECT.equals(accessor.getCommand())) {\n                    List&lt;String&gt; authorization = accessor.getNativeHeader(&quot;Authorization&quot;);\n\n                    String accessToken = authorization.get(0).split(&quot; &quot;)[1];\n                    Jwt jwt = jwtDecoder.decode(accessToken);\n                    JwtAuthenticationConverter converter = new JwtAuthenticationConverter();\n                    Authentication authentication = converter.convert(jwt);\n                    accessor.setUser(authentication);\n                }\n                return message;\n            }\n        });\n    }\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new AuthenticationPrincipalArgumentResolver());\n    }\n\n    @Bean\n    public AuthorizationManager&lt;Message&lt;?&gt;&gt; messageAuthorizationManager(MessageMatcherDelegatingAuthorizationManager.Builder messages) {\n        messages\n            .anyMessage().authenticated();\n        return messages.build();\n    }\n\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;);\n        registry.addEndpoint(&quot;/chat&quot;)\n            .setAllowedOrigins(&quot;http://localhost:8080&quot;, &quot;http://localhost:4200&quot;)\n            .withSockJS();\n    }\n}\n</code></pre>\n<p>The problem is that the order in which <strong>ChannelInterseptors</strong> are registered depends only on the insertion order, since everything is implemented through a regular ArrayList. There is one way - to determine the order of configurations that implement the <strong>WebsocketMessageBrokerConfigurer</strong> interface. They are injected via a setter in the <strong>DelegatingWebSocketMessageBrokerConfiguration</strong>. And the order of implementation of collections can be changed using the <strong>@Order</strong> annotation, placing it above our configuration class.\nThis solved the problem in my case, but I wondered if there would be a need to explicitly define the order of interceptors, such as wedging into a chain of security interceptors. An analogy can be drawn with <strong>SecurityFilterChain</strong>, when configuring it you can use the <strong>addFilterAt</strong>, <strong>addFilterBefore</strong>, <strong>addFilterAfter</strong> methods.</p>\n<p><em>I couldn't find a way, but maybe I'm missing something.</em></p>\n<p><em>This post is intended more for discussion. I want to start contributing if the detected problem turns out to be valid.</em></p>\n"},{"tags":["java","swing","jframe","jscrollpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1368344917,"post_id":16505239,"comment_id":23693473,"body_markdown":"1) For better help sooner, post an [SSCCE](http://sscce.org/). 2) Please learn common [Java naming conventions](http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307) (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. 3) Don&#39;t set the size of top level containers.  Instead layout the content &amp; call `pack()`. 4) For frame positioning, you cannot go by `setLocationByPlatform(true)`.  See [this answer](http://stackoverflow.com/a/7143398/418556) for demo. ..","body":"1) For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>. 2) Please learn common <a href=\"http://java.sun.com/docs/books/jls/second_edition/html/names.doc.html#73307\" rel=\"nofollow noreferrer\">Java naming conventions</a> (specifically the case used for the names) for class, method &amp; attribute names &amp; use them consistently. 3) Don&#39;t set the size of top level containers.  Instead layout the content &amp; call <code>pack()</code>. 4) For frame positioning, you cannot go by <code>setLocationByPlatform(true)</code>.  See <a href=\"http://stackoverflow.com/a/7143398/418556\">this answer</a> for demo. .."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1368345119,"post_id":16505239,"comment_id":23693510,"body_markdown":".. 5) See [The Use of Multiple JFrames, Good/Bad Practice?](http://stackoverflow.com/a/9554657/418556)","body":".. 5) See <a href=\"http://stackoverflow.com/a/9554657/418556\">The Use of Multiple JFrames, Good/Bad Practice?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1616886,"reputation":83,"user_id":1494329,"display_name":"Himanshu Upadhyay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368356642,"creation_date":1368356642,"answer_id":16506684,"question_id":16505239,"body_markdown":"By Default, JFrame has Borderlayout. BorderLayout have five flags. When you will not specify any flag, It will add you component to frame with center flag. Center flag give all space to component which is added with center flag, if no other flag is specified with component. for more information on border layout, visit following link:\r\n[http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\r\n\r\nYou can add both by using following statement:\r\n\r\n    JFrame frame = new JFrame();\r\n    \r\n    frame.add(new JPanel(), BorderLayout.NORTH);\r\n    \r\n    frame.add(new JScrollpane(), BorderLayout.CENTER);","title":"Add a JScrollPane to a JFrame","body":"<p>By Default, JFrame has Borderlayout. BorderLayout have five flags. When you will not specify any flag, It will add you component to frame with center flag. Center flag give all space to component which is added with center flag, if no other flag is specified with component. for more information on border layout, visit following link:\n<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/border.html</a></p>\n\n<p>You can add both by using following statement:</p>\n\n<pre><code>JFrame frame = new JFrame();\n\nframe.add(new JPanel(), BorderLayout.NORTH);\n\nframe.add(new JScrollpane(), BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1616886,"reputation":83,"user_id":1494329,"display_name":"Himanshu Upadhyay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442177472,"creation_date":1368361437,"answer_id":16507310,"question_id":16505239,"body_markdown":"GridBagLayout is not good for this situation. With lesser code you can get desired Code.\r\n\r\n    JPanel pnlButton = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n    pnlButton.add(button1);\r\n    pnlButton.add(button2);\r\n    \r\n    JFrame frame = new JFrame();\r\n    frame.add(scrollPane, BorderLayout.CENTER);\r\n    frame.add(pnlButton, BorderLayout.PAGE_END);\r\n\r\n\r\nIf you want to go only with Gridbaglayout. Then you will have to set weightX, weightY, gridwidth and other properties like that\r\n\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n    gbc.weightx=1.0;\r\n    gbc.weighy=1.0;\r\n    gbc.fill = GridBagConstraints.BOTH;\r\n    guiPanel.add(scrollPane, gbc);\r\n    gbc.gridwidth = 1;\r\n    gbc.fill = GridBagConstraints.NONE\r\n    guiPanel.add(buttons, gbc);        \r\n    guiFrame.add(guiPanel, BorderLayout.CENTER);\r\n    guiFrame.setVisible(true);\r\n\r\nPlease try and let me know, if it does not work, I will send complete code with GridBaglayout.","title":"Add a JScrollPane to a JFrame","body":"<p>GridBagLayout is not good for this situation. With lesser code you can get desired Code.</p>\n\n<pre><code>JPanel pnlButton = new JPanel(new FlowLayout(FlowLayout.CENTER));\npnlButton.add(button1);\npnlButton.add(button2);\n\nJFrame frame = new JFrame();\nframe.add(scrollPane, BorderLayout.CENTER);\nframe.add(pnlButton, BorderLayout.PAGE_END);\n</code></pre>\n\n<p>If you want to go only with Gridbaglayout. Then you will have to set weightX, weightY, gridwidth and other properties like that</p>\n\n<pre><code>GridBagConstraints gbc = new GridBagConstraints();\ngbc.gridwidth = GridBagConstraints.REMAINDER;\ngbc.weightx=1.0;\ngbc.weighy=1.0;\ngbc.fill = GridBagConstraints.BOTH;\nguiPanel.add(scrollPane, gbc);\ngbc.gridwidth = 1;\ngbc.fill = GridBagConstraints.NONE\nguiPanel.add(buttons, gbc);        \nguiFrame.add(guiPanel, BorderLayout.CENTER);\nguiFrame.setVisible(true);\n</code></pre>\n\n<p>Please try and let me know, if it does not work, I will send complete code with GridBaglayout.</p>\n"}],"owner":{"account_id":2726139,"reputation":735,"user_id":2351151,"accept_rate":30,"display_name":"user2351151"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696786317,"creation_date":1368344797,"question_id":16505239,"body_markdown":"I have a question in relation to adding components to a Java frame.\r\n\r\nI have a JPanel with two buttons and also a JScrollPane that has a JTable added to it. I am wanting to add both these to a JFrame.\r\n\r\nI can add either the JPanel to the JFrame, or the JScrollPane to the JFrame and they display correctly. I am having trouble adding them both to the JFrame and displaying them both.\r\n\r\nIs there something related to JFrames that do not allow this? Any help will be appreciated.\r\n\r\n**EDIT**\r\n\r\nThe problem is not with the layout (at least I do not think that it is), the problem is that the ScrollPane is not displaying correctly.\r\nHere is the code:\r\n\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n        guiPanel.add(scrollPane, gbc);\r\n        guiPanel.add(buttons, gbc);        \r\n        \r\n        guiFrame.add(guiPanel, BorderLayout.CENTER);\r\n        guiFrame.setVisible(true);","title":"Add a JScrollPane to a JFrame","body":"<p>I have a question in relation to adding components to a Java frame.</p>\n<p>I have a JPanel with two buttons and also a JScrollPane that has a JTable added to it. I am wanting to add both these to a JFrame.</p>\n<p>I can add either the JPanel to the JFrame, or the JScrollPane to the JFrame and they display correctly. I am having trouble adding them both to the JFrame and displaying them both.</p>\n<p>Is there something related to JFrames that do not allow this? Any help will be appreciated.</p>\n<p><strong>EDIT</strong></p>\n<p>The problem is not with the layout (at least I do not think that it is), the problem is that the ScrollPane is not displaying correctly.\nHere is the code:</p>\n<pre><code>    GridBagConstraints gbc = new GridBagConstraints();\n    gbc.gridwidth = GridBagConstraints.REMAINDER;\n    guiPanel.add(scrollPane, gbc);\n    guiPanel.add(buttons, gbc);        \n    \n    guiFrame.add(guiPanel, BorderLayout.CENTER);\n    guiFrame.setVisible(true);\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":15875202,"reputation":63,"user_id":11454627,"display_name":"prem111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696784580,"creation_date":1696779477,"question_id":77254228,"body_markdown":"i have GeoJSON features:\r\n\r\nsample.json:\r\n\r\n```\r\n{\r\n   &quot;type&quot;:&quot;FeatureCollection&quot;,\r\n   &quot;features&quot;:[\r\n      {\r\n         &quot;type&quot;:&quot;Feature&quot;,\r\n         &quot;properties&quot;:{\r\n            \r\n         },\r\n         &quot;geometry&quot;:{\r\n            &quot;type&quot;:&quot;MultiPolygon&quot;,\r\n            &quot;value&quot;:10.529,\r\n            &quot;coordinates&quot;:[\r\n               [\r\n                  [\r\n                     [\r\n                        6.594247312736228,\r\n                        46.51636675429629\r\n                     ],\r\n                     [\r\n                        6.59957345109649,\r\n                        46.511859137426164\r\n                     ],\r\n                     [\r\n                        6.605031044050632,\r\n                        46.511752830945746\r\n                     ],\r\n                 \r\n                     [\r\n                        6.594247312736228,\r\n                        46.51636675429629\r\n                     ]\r\n                  ]\r\n               ]\r\n            ]\r\n         }\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nJava:\r\n\r\n```\r\nPolygonOptions polygonOptions = new PolygonOptions();\r\n\r\n        try {\r\n            JSONObject objPolyLinesGeoJson = new JSONObject(myJson);\r\n            String features = objPolyLinesGeoJson.get(&quot;features&quot;).toString();\r\n            JSONArray jsonArray = new JSONArray(features);\r\n            ObjectMapper mapper = new ObjectMapper();\r\n            for (int i=0; i &lt; jsonArray.length(); i++) {\r\n                JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n                JsonNode geoJsonObj = mapper.readTree(jsonObject.toString());\r\n                ArrayNode geometryCoordinates = (ArrayNode) geoJsonObj.get(&quot;geometry&quot;).get(&quot;coordinates&quot;);\r\n\r\n                for (JsonNode jsonNode : geometryCoordinates) {\r\n                    // ???\r\n                }\r\n            }\r\n            Polygon polygon = mMap.addPolygon(polygonOptions);\r\n\r\n\r\n\r\n        } catch (Exception e) {\r\n           //\r\n        }\r\n```\r\n\r\nHow to add all polygon coordinates? I don&#39;t know how to load multiple arrays in a loop. How to do this&#160;with as much optimization as possible. Do I have to make a loop within a loop? I will be grateful for any advice.\r\n\r\nThanks for help !\r\n\r\n","title":"Add GeoJSON MultiPolygon from arrays to map","body":"<p>i have GeoJSON features:</p>\n<p>sample.json:</p>\n<pre><code>{\n   &quot;type&quot;:&quot;FeatureCollection&quot;,\n   &quot;features&quot;:[\n      {\n         &quot;type&quot;:&quot;Feature&quot;,\n         &quot;properties&quot;:{\n            \n         },\n         &quot;geometry&quot;:{\n            &quot;type&quot;:&quot;MultiPolygon&quot;,\n            &quot;value&quot;:10.529,\n            &quot;coordinates&quot;:[\n               [\n                  [\n                     [\n                        6.594247312736228,\n                        46.51636675429629\n                     ],\n                     [\n                        6.59957345109649,\n                        46.511859137426164\n                     ],\n                     [\n                        6.605031044050632,\n                        46.511752830945746\n                     ],\n                 \n                     [\n                        6.594247312736228,\n                        46.51636675429629\n                     ]\n                  ]\n               ]\n            ]\n         }\n      }\n   ]\n}\n</code></pre>\n<p>Java:</p>\n<pre><code>PolygonOptions polygonOptions = new PolygonOptions();\n\n        try {\n            JSONObject objPolyLinesGeoJson = new JSONObject(myJson);\n            String features = objPolyLinesGeoJson.get(&quot;features&quot;).toString();\n            JSONArray jsonArray = new JSONArray(features);\n            ObjectMapper mapper = new ObjectMapper();\n            for (int i=0; i &lt; jsonArray.length(); i++) {\n                JSONObject jsonObject = jsonArray.getJSONObject(i);\n                JsonNode geoJsonObj = mapper.readTree(jsonObject.toString());\n                ArrayNode geometryCoordinates = (ArrayNode) geoJsonObj.get(&quot;geometry&quot;).get(&quot;coordinates&quot;);\n\n                for (JsonNode jsonNode : geometryCoordinates) {\n                    // ???\n                }\n            }\n            Polygon polygon = mMap.addPolygon(polygonOptions);\n\n\n\n        } catch (Exception e) {\n           //\n        }\n</code></pre>\n<p>How to add all polygon coordinates? I don't know how to load multiple arrays in a loop. How to do this with as much optimization as possible. Do I have to make a loop within a loop? I will be grateful for any advice.</p>\n<p>Thanks for help !</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696680810,"post_id":77248761,"comment_id":136186320,"body_markdown":"Well you aren&#39;t sending anything. You don&#39;t send an object you send form fields which will be bound to the model attribute by spring.","body":"Well you aren&#39;t sending anything. You don&#39;t send an object you send form fields which will be bound to the model attribute by spring."}],"answers":[{"tags":[],"owner":{"account_id":28727022,"reputation":1,"user_id":22699641,"display_name":"yar zar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696663961,"creation_date":1696663961,"answer_id":77248827,"question_id":77248761,"body_markdown":"\r\n\r\n    &lt;form th:unless=&quot;${#strings.equals(currentUser, &#39;anonymousUser&#39;)}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\r\n    &lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot; th:value=&quot;${book.id}&quot;&gt;Add book to the card.&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n\r\n\r\n    @GetMapping(&quot;/card/{id}&quot;)\r\n        public String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\r\n            if(bookService.findOne(id).isPresent()) {\r\n                model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\r\n                System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\r\n                model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\r\n                return &quot;/books/show&quot;;\r\n            }\r\n            return &quot;redirect:/books&quot;;\r\n        }\r\n\r\n\r\n\r\n","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<pre><code>&lt;form th:unless=&quot;${#strings.equals(currentUser, 'anonymousUser')}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot; th:value=&quot;${book.id}&quot;&gt;Add book to the card.&lt;/button&gt;\n&lt;/form&gt;\n\n\n\n@GetMapping(&quot;/card/{id}&quot;)\n    public String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\n        if(bookService.findOne(id).isPresent()) {\n            model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\n            System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\n            model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\n            return &quot;/books/show&quot;;\n        }\n        return &quot;redirect:/books&quot;;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696781891,"creation_date":1696781891,"answer_id":77254374,"question_id":77248761,"body_markdown":"You have modeled showBook() as a GET method so you don&#39;t need or want to use a form and POST, a link will do the trick and is more appropriate. Try:\r\n\r\n    &lt;a id=&quot;add-button&quot; class=&quot;fw primary&quot; th:href=&quot;@{/books/{id}(id=${book.id})}&quot;&gt;Add book to the card.&lt;/a&gt;\r\n\r\nThis assumes you have @RequestMapping(&quot;/books&quot;) on the controller class and the page from which you are creating the link has access to a book in the model that has an id attribute.\r\n\r\nIf you want a button instead of a link style the link accordingly.","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<p>You have modeled showBook() as a GET method so you don't need or want to use a form and POST, a link will do the trick and is more appropriate. Try:</p>\n<pre><code>&lt;a id=&quot;add-button&quot; class=&quot;fw primary&quot; th:href=&quot;@{/books/{id}(id=${book.id})}&quot;&gt;Add book to the card.&lt;/a&gt;\n</code></pre>\n<p>This assumes you have @RequestMapping(&quot;/books&quot;) on the controller class and the page from which you are creating the link has access to a book in the model that has an id attribute.</p>\n<p>If you want a button instead of a link style the link accordingly.</p>\n"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":"я гантеля"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696781891,"creation_date":1696662571,"question_id":77248761,"body_markdown":"My BookController:\r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\r\n    if(bookService.findOne(id).isPresent()) {\r\n        model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\r\n        System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\r\n        model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\r\n        return &quot;/books/show&quot;;\r\n    }\r\n    return &quot;redirect:/books&quot;;\r\n}\r\n```\r\nI want to send this current Book object to CardController and get it in CardController. How I can do that?\r\n\r\nI made a form, but I don&#39;t know how to send an object\r\n```html\r\n&lt;form th:unless=&quot;${#strings.equals(currentUser, &#39;anonymousUser&#39;)}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\r\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot;&gt;Add book to the card.&lt;/button&gt;\r\n&lt;/form&gt;\r\n```","title":"How can I send ModelAttribute from HTML (Thymeleaf) to controller","body":"<p>My BookController:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic String showBook(Model model, @PathVariable(&quot;id&quot;) Integer id, @ModelAttribute(&quot;review&quot;) Review review){\n    if(bookService.findOne(id).isPresent()) {\n        model.addAttribute(&quot;book&quot;, bookService.findOne(id).get());\n        System.out.println(SecurityContextHolder.getContext().getAuthentication().getName());\n        model.addAttribute(&quot;currentUser&quot;, SecurityContextHolder.getContext().getAuthentication().getName());\n        return &quot;/books/show&quot;;\n    }\n    return &quot;redirect:/books&quot;;\n}\n</code></pre>\n<p>I want to send this current Book object to CardController and get it in CardController. How I can do that?</p>\n<p>I made a form, but I don't know how to send an object</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form th:unless=&quot;${#strings.equals(currentUser, 'anonymousUser')}&quot; th:method=&quot;POST&quot; th:action=&quot;@{/card}&quot;&gt;\n&lt;button id=&quot;add-button&quot; class=&quot;fw primary&quot; type=&quot;submit&quot;&gt;Add book to the card.&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":["java","android","xml","menu","android-drawer"],"answers":[{"tags":[],"owner":{"account_id":15219035,"reputation":74,"user_id":18515851,"display_name":"Jordy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696475038,"creation_date":1696474939,"answer_id":77234031,"question_id":77217920,"body_markdown":"The question is not very well understood but to perform actions on each of the menu items you will need to implement a listener.\r\n\r\n ```java\r\npublic class MainActivity extends AppCompatActivity implements  NavigationView.OnNavigationItemSelectedListener{\r\n \r\n     @Override\r\n     protected void onCreate(Bundle \r\n     savedInstanceState) {\r\n     super.onCreate(savedInstanceState);\r\n     setContentView(R.layout.activity);\r\n     }\r\n   \r\n     @Override\r\n\t public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\t\r\n     int id = item.getItemId();\r\n     switch(id){ \r\n     case R.id.search:\r\n    //action\r\n     break;\r\n\t }\r\n     return true;\r\n     }\r\n     }\r\n```","title":"How to style drawer menu options in Android Studio - headers for group not stylizing","body":"<p>The question is not very well understood but to perform actions on each of the menu items you will need to implement a listener.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements  NavigationView.OnNavigationItemSelectedListener{\n\n    @Override\n    protected void onCreate(Bundle \n    savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity);\n    }\n  \n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n   \n    int id = item.getItemId();\n    switch(id){ \n    case R.id.search:\n   //action\n    break;\n    }\n    return true;\n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":13689459,"reputation":185,"user_id":9877665,"display_name":"kiteandwindsurfer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696781730,"creation_date":1696273693,"question_id":77217920,"body_markdown":"*[Edited 10/5/2023]*\r\n\r\nI have a `drawer menu` - swipe the screen from the left and it appears with a list of menu headers each having beneath it 3-5 sub-menu items, each sub-menu item is clickable.  I cannot get the main header items to stand out - e.g. a different background color, different font size and different font color.  For a simple example, take the group header &quot;Manage Songs&quot; (`@+id/menu_item_manage_songs_header`) and sub-menu items being *Add New Songs*, *Edit Songs*, *Open Song*, *Search Song*\r\n\r\nI wish to get the group header &quot;Manage Songs&quot; to stand out but cannot locate the file/code where this is currently taking place.  Here is `DrawerLayout`:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n    ...\r\n\r\n    &lt;!-- Navigation Drawer --&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:headerLayout=&quot;@layout/nav_header&quot;\r\n        app:menu=&quot;@menu/drawer_menu&quot;\r\n         /&gt;\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nHere is my `drawer_menu.xml`:\r\n```\r\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;!-- Header: Manage Songs --&gt;\r\n    &lt;item\r\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\r\n        android:title=&quot;Manage Songs&quot;\r\n        android:enabled=&quot;false&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        app:actionLayout=&quot;@layout/custom_header_layout&quot;\r\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\r\n        &lt;menu&gt;\r\n            &lt;group android:id=&quot;@+id/group_songs&quot;&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_add_new_song&quot;\r\n                    android:title=&quot;Add New Song&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_edit_songs&quot;\r\n                    android:title=&quot;Edit Songs&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_open_song&quot;\r\n                    android:title=&quot;Open Song&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n                &lt;item\r\n                    android:id=&quot;@+id/menu_item_search_songs&quot;\r\n                    android:title=&quot;Search Songs&quot;\r\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\r\n            &lt;/group&gt;\r\n        &lt;/menu&gt;\r\n    &lt;/item&gt;\r\n    ...\r\n\r\n&lt;/menu&gt;\r\n\r\n```\r\n\r\nThank you in advance - this seems straight forward.\r\n**This is what I have tried:**\r\n(1) in my java page setting bg color\r\n\r\n - declaring under class: `MenuItem GROUP_SONGS;`\r\n - initializing in onCreate(): `GROUP_SONGS = (MenuItem) navigationView.getMenu().findItem(R.id.menu_item_manage_songs_header);`\r\n - trying to set values - I can change the text for the Title - this works: `GROUP_SONGS.setTitle(&quot;Changed [1]&quot;);`\r\n - but this doesn&#39;t work: `GROUP_SONGS.setTextSize(TypedValue.COMPLEX_UNIT_SP, 20);` (I know\r\n   that `setTextSize` is not part of the `MenuItem` class...)\r\n\r\n(2) set the `style` in `themes.xml`\r\n```\r\n    &lt;style name=&quot;GroupHeaderStyle&quot;&gt;\r\n        &lt;item name=&quot;android:background&quot;&gt;@color/light_orange&lt;/item&gt;\r\n        &lt;item name=&quot;android:textSize&quot;&gt;22sp&lt;/item&gt;\r\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\nand calling this using `itemTextAppearance`:\r\n```\r\n    &lt;item\r\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\r\n        android:title=&quot;Manage Songs&quot;\r\n        android:enabled=&quot;false&quot;\r\n        app:showAsAction=&quot;always&quot;\r\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\r\n```\r\n","title":"How to style drawer menu options in Android Studio - headers for group not stylizing","body":"<p><em>[Edited 10/5/2023]</em></p>\n<p>I have a <code>drawer menu</code> - swipe the screen from the left and it appears with a list of menu headers each having beneath it 3-5 sub-menu items, each sub-menu item is clickable.  I cannot get the main header items to stand out - e.g. a different background color, different font size and different font color.  For a simple example, take the group header &quot;Manage Songs&quot; (<code>@+id/menu_item_manage_songs_header</code>) and sub-menu items being <em>Add New Songs</em>, <em>Edit Songs</em>, <em>Open Song</em>, <em>Search Song</em></p>\n<p>I wish to get the group header &quot;Manage Songs&quot; to stand out but cannot locate the file/code where this is currently taking place.  Here is <code>DrawerLayout</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n    \n    ...\n\n    &lt;!-- Navigation Drawer --&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        app:headerLayout=&quot;@layout/nav_header&quot;\n        app:menu=&quot;@menu/drawer_menu&quot;\n         /&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>Here is my <code>drawer_menu.xml</code>:</p>\n<pre><code>&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;!-- Header: Manage Songs --&gt;\n    &lt;item\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\n        android:title=&quot;Manage Songs&quot;\n        android:enabled=&quot;false&quot;\n        app:showAsAction=&quot;always&quot;\n        app:actionLayout=&quot;@layout/custom_header_layout&quot;\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\n        &lt;menu&gt;\n            &lt;group android:id=&quot;@+id/group_songs&quot;&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_add_new_song&quot;\n                    android:title=&quot;Add New Song&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_edit_songs&quot;\n                    android:title=&quot;Edit Songs&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_open_song&quot;\n                    android:title=&quot;Open Song&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n                &lt;item\n                    android:id=&quot;@+id/menu_item_search_songs&quot;\n                    android:title=&quot;Search Songs&quot;\n                    android:onClick=&quot;onNavigationItemSelected&quot; /&gt;\n            &lt;/group&gt;\n        &lt;/menu&gt;\n    &lt;/item&gt;\n    ...\n\n&lt;/menu&gt;\n\n</code></pre>\n<p>Thank you in advance - this seems straight forward.\n<strong>This is what I have tried:</strong>\n(1) in my java page setting bg color</p>\n<ul>\n<li>declaring under class: <code>MenuItem GROUP_SONGS;</code></li>\n<li>initializing in onCreate(): <code>GROUP_SONGS = (MenuItem) navigationView.getMenu().findItem(R.id.menu_item_manage_songs_header);</code></li>\n<li>trying to set values - I can change the text for the Title - this works: <code>GROUP_SONGS.setTitle(&quot;Changed [1]&quot;);</code></li>\n<li>but this doesn't work: <code>GROUP_SONGS.setTextSize(TypedValue.COMPLEX_UNIT_SP, 20);</code> (I know\nthat <code>setTextSize</code> is not part of the <code>MenuItem</code> class...)</li>\n</ul>\n<p>(2) set the <code>style</code> in <code>themes.xml</code></p>\n<pre><code>    &lt;style name=&quot;GroupHeaderStyle&quot;&gt;\n        &lt;item name=&quot;android:background&quot;&gt;@color/light_orange&lt;/item&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;22sp&lt;/item&gt;\n        &lt;item name=&quot;android:textStyle&quot;&gt;bold&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@android:color/white&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>and calling this using <code>itemTextAppearance</code>:</p>\n<pre><code>    &lt;item\n        android:id=&quot;@+id/menu_item_manage_songs_header&quot;\n        android:title=&quot;Manage Songs&quot;\n        android:enabled=&quot;false&quot;\n        app:showAsAction=&quot;always&quot;\n        android:itemTextAppearance=&quot;@style/GroupHeaderStyle&quot;&gt;\n</code></pre>\n"},{"tags":["java","builder","opencsv"],"comments":[{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1544180897,"post_id":53667832,"comment_id":94194060,"body_markdown":"You&#39;re probably best of using a basic parser with that builder class","body":"You&#39;re probably best of using a basic parser with that builder class"},{"owner":{"account_id":2529787,"reputation":101,"user_id":2198318,"display_name":"Richard Polton"},"score":0,"creation_date":1544198556,"post_id":53667832,"comment_id":94203471,"body_markdown":"@JoakimDanielson by basic parser you mean &#39;not OpenCSV&#39; rather than something hidden in OpenCSV, I presume?","body":"@JoakimDanielson by basic parser you mean &#39;not OpenCSV&#39; rather than something hidden in OpenCSV, I presume?"},{"owner":{"account_id":12695174,"reputation":45171,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1544250905,"post_id":53667832,"comment_id":94217809,"body_markdown":"No I meant a basic parser in OpenCsv like CsvReader","body":"No I meant a basic parser in OpenCsv like CsvReader"}],"answers":[{"tags":[],"owner":{"account_id":324062,"reputation":2846,"user_id":644438,"display_name":"oujesky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565357787,"creation_date":1565357787,"answer_id":57431272,"question_id":53667832,"body_markdown":"`com.opencsv.bean.MappingStrategy` looks like a good way how to deal with this, but since you have final properties and a private constructor, you need to get a bit help from the java reflections system.\r\n\r\nThe OpenCSV&#39;s built-in mapping strategies inheriting from the `AbstractMappingStrategy` class are constructing the bean using a no-parameters default constructor and then finding setter methods to fill the values. \r\n\r\nIt&#39;s possible to prepare a `MappingStrategy` implementation that will instead find a suitable constructor with parameters matching the order and the types of mapped columns from the CSV file and use it for constructing the bean. Even if the constructor is private or protected it can be made accessible through the reflections system.\r\n\r\n---\r\n\r\nFor example the following CSV:\r\n\r\n```csv\r\nnumber;string\r\n1;abcde\r\n2;ghijk\r\n```\r\n\r\ncan be mapped to the following class:\r\n\r\n```java\r\npublic class Something {\r\n    @CsvBindByName\r\n    private final int number;\r\n    @CsvBindByName\r\n    private final String string;\r\n\r\n    public Something(int number, String string) {\r\n        this.number = number;\r\n        this.string = string;\r\n    }\r\n\r\n    // ... getters, equals, toString etc. omitted\r\n}\r\n```\r\n\r\nusing the following CvsToBean instance:\r\n\r\n```java\r\nCsvToBean&lt;Something&gt; beanLoader = new CsvToBeanBuilder&lt;Something&gt;(reader)\r\n    .withType(Something.class)\r\n    .withSeparator(&#39;;&#39;)\r\n    .withMappingStrategy(new ImmutableClassMappingStrategy&lt;&gt;(Something.class))\r\n    .build();\r\n\r\nList&lt;Something&gt; result = beanLoader.parse();\r\n```\r\n\r\n---\r\n\r\nThe full code of `ImmutableClassMappingStrategy`: \r\n\r\n```java\r\nimport com.opencsv.bean.AbstractBeanField;\r\nimport com.opencsv.bean.BeanField;\r\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\r\nimport com.opencsv.exceptions.CsvConstraintViolationException;\r\nimport com.opencsv.exceptions.CsvDataTypeMismatchException;\r\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\r\n\r\nimport java.beans.IntrospectionException;\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.lang.reflect.Method;\r\n\r\n/**\r\n * A {@link com.opencsv.bean.MappingStrategy} implementation which allows to construct immutable beans containing\r\n * final fields.\r\n *\r\n * It tries to find a constructor with order and types of arguments same as the CSV lines and construct the bean using\r\n * this constructor. If not found it tries to use the default constructor.\r\n *\r\n * @param &lt;T&gt; Type of the bean to be returned\r\n */\r\npublic class ImmutableClassMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\r\n\r\n    /**\r\n     * Constructor\r\n     * \r\n     * @param type Type of the bean which will be returned\r\n     */\r\n    public ColumnMappingStrategy(Class&lt;T&gt; type) {\r\n        setType(type);\r\n    }\r\n\r\n    @Override\r\n    public T populateNewBean(String[] line) throws InstantiationException, IllegalAccessException, IntrospectionException, InvocationTargetException, CsvRequiredFieldEmptyException, CsvDataTypeMismatchException, CsvConstraintViolationException {\r\n        verifyLineLength(line.length);\r\n\r\n        try {\r\n            // try constructing the bean using explicit constructor\r\n            return constructUsingConstructorWithArguments(line);\r\n        } catch (NoSuchMethodException e) {\r\n            // fallback to default constructor\r\n            return super.populateNewBean(line);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Tries constructing the bean using a constructor with parameters for all matching CSV columns\r\n     *\r\n     * @param line A line of input\r\n     *\r\n     * @return\r\n     * @throws NoSuchMethodException in case no suitable constructor is found\r\n     */\r\n    private T constructUsingConstructorWithArguments(String[] line) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\r\n        Constructor&lt;? extends T&gt; constructor = findSuitableConstructor(line.length);\r\n\r\n        // in case of private or protected constructor, try to set it to be accessible\r\n        if (!constructor.canAccess(null)) {\r\n            constructor.setAccessible(true);\r\n        }\r\n\r\n        Object[] arguments = prepareArguments(line);\r\n\r\n        return constructor.newInstance(arguments);\r\n    }\r\n\r\n    /**\r\n     * Tries to find a suitable constructor with exact number and types of parameters in order defined in the CSV file\r\n     *\r\n     * @param columns Number of columns in the CSV file\r\n     * @return Constructor reflection\r\n     * @throws NoSuchMethodException in case no such constructor exists\r\n     */\r\n    private Constructor&lt;? extends T&gt; findSuitableConstructor(int columns) throws NoSuchMethodException {\r\n        Class&lt;?&gt;[] types = new Class&lt;?&gt;[columns];\r\n        for (int col = 0; col &lt; columns; col++) {\r\n            BeanField&lt;T&gt; field = findField(col);\r\n            Class&lt;?&gt; type = field.getField().getType();\r\n            types[col] = type;\r\n        }\r\n        return type.getDeclaredConstructor(types);\r\n    }\r\n\r\n    /**\r\n     * Prepare arguments with correct types to be used in the constructor\r\n     *\r\n     * @param line A line of input\r\n     * @return Array of correctly typed argument values\r\n     */\r\n    private Object[] prepareArguments(String[] line) {\r\n        Object[] arguments = new Object[line.length];\r\n        for (int col = 0; col &lt; line.length; col++) {\r\n            arguments[col] = prepareArgument(col, line[col], findField(col));\r\n        }\r\n        return arguments;\r\n    }\r\n\r\n    /**\r\n     * Prepare a single argument with correct type\r\n     *\r\n     * @param col Column index\r\n     * @param value Column value\r\n     * @param beanField Field with\r\n     * @return\r\n     */\r\n    private Object prepareArgument(int col, String value, BeanField&lt;T&gt; beanField) {\r\n        Field field = beanField.getField();\r\n\r\n        // empty value for primitive type would be converted to null which would throw an NPE\r\n        if (&quot;&quot;.equals(value) &amp;&amp; field.getType().isPrimitive()) {\r\n            throw new IllegalArgumentException(String.format(&quot;Null value for primitive field &#39;%s&#39;&quot;, headerIndex.getByPosition(col)));\r\n        }\r\n\r\n        try {\r\n            // reflectively access the convert method, as it&#39;s protected in AbstractBeanField class\r\n            Method convert = AbstractBeanField.class.getDeclaredMethod(&quot;convert&quot;, String.class);\r\n            convert.setAccessible(true);\r\n            return convert.invoke(beanField, value);\r\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\r\n            throw new IllegalStateException(String.format(&quot;Unable to convert bean field &#39;%s&#39;&quot;, headerIndex.getByPosition(col)), e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n---\r\n\r\nAnother approach might be to map the CSV columns to the builder itself and build the immutable class afterwards. ","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p><code>com.opencsv.bean.MappingStrategy</code> looks like a good way how to deal with this, but since you have final properties and a private constructor, you need to get a bit help from the java reflections system.</p>\n\n<p>The OpenCSV's built-in mapping strategies inheriting from the <code>AbstractMappingStrategy</code> class are constructing the bean using a no-parameters default constructor and then finding setter methods to fill the values. </p>\n\n<p>It's possible to prepare a <code>MappingStrategy</code> implementation that will instead find a suitable constructor with parameters matching the order and the types of mapped columns from the CSV file and use it for constructing the bean. Even if the constructor is private or protected it can be made accessible through the reflections system.</p>\n\n<hr>\n\n<p>For example the following CSV:</p>\n\n<pre><code>number;string\n1;abcde\n2;ghijk\n</code></pre>\n\n<p>can be mapped to the following class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Something {\n    @CsvBindByName\n    private final int number;\n    @CsvBindByName\n    private final String string;\n\n    public Something(int number, String string) {\n        this.number = number;\n        this.string = string;\n    }\n\n    // ... getters, equals, toString etc. omitted\n}\n</code></pre>\n\n<p>using the following CvsToBean instance:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>CsvToBean&lt;Something&gt; beanLoader = new CsvToBeanBuilder&lt;Something&gt;(reader)\n    .withType(Something.class)\n    .withSeparator(';')\n    .withMappingStrategy(new ImmutableClassMappingStrategy&lt;&gt;(Something.class))\n    .build();\n\nList&lt;Something&gt; result = beanLoader.parse();\n</code></pre>\n\n<hr>\n\n<p>The full code of <code>ImmutableClassMappingStrategy</code>: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.opencsv.bean.AbstractBeanField;\nimport com.opencsv.bean.BeanField;\nimport com.opencsv.bean.HeaderColumnNameMappingStrategy;\nimport com.opencsv.exceptions.CsvConstraintViolationException;\nimport com.opencsv.exceptions.CsvDataTypeMismatchException;\nimport com.opencsv.exceptions.CsvRequiredFieldEmptyException;\n\nimport java.beans.IntrospectionException;\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\n\n/**\n * A {@link com.opencsv.bean.MappingStrategy} implementation which allows to construct immutable beans containing\n * final fields.\n *\n * It tries to find a constructor with order and types of arguments same as the CSV lines and construct the bean using\n * this constructor. If not found it tries to use the default constructor.\n *\n * @param &lt;T&gt; Type of the bean to be returned\n */\npublic class ImmutableClassMappingStrategy&lt;T&gt; extends HeaderColumnNameMappingStrategy&lt;T&gt; {\n\n    /**\n     * Constructor\n     * \n     * @param type Type of the bean which will be returned\n     */\n    public ColumnMappingStrategy(Class&lt;T&gt; type) {\n        setType(type);\n    }\n\n    @Override\n    public T populateNewBean(String[] line) throws InstantiationException, IllegalAccessException, IntrospectionException, InvocationTargetException, CsvRequiredFieldEmptyException, CsvDataTypeMismatchException, CsvConstraintViolationException {\n        verifyLineLength(line.length);\n\n        try {\n            // try constructing the bean using explicit constructor\n            return constructUsingConstructorWithArguments(line);\n        } catch (NoSuchMethodException e) {\n            // fallback to default constructor\n            return super.populateNewBean(line);\n        }\n    }\n\n    /**\n     * Tries constructing the bean using a constructor with parameters for all matching CSV columns\n     *\n     * @param line A line of input\n     *\n     * @return\n     * @throws NoSuchMethodException in case no suitable constructor is found\n     */\n    private T constructUsingConstructorWithArguments(String[] line) throws NoSuchMethodException, IllegalAccessException, InvocationTargetException, InstantiationException {\n        Constructor&lt;? extends T&gt; constructor = findSuitableConstructor(line.length);\n\n        // in case of private or protected constructor, try to set it to be accessible\n        if (!constructor.canAccess(null)) {\n            constructor.setAccessible(true);\n        }\n\n        Object[] arguments = prepareArguments(line);\n\n        return constructor.newInstance(arguments);\n    }\n\n    /**\n     * Tries to find a suitable constructor with exact number and types of parameters in order defined in the CSV file\n     *\n     * @param columns Number of columns in the CSV file\n     * @return Constructor reflection\n     * @throws NoSuchMethodException in case no such constructor exists\n     */\n    private Constructor&lt;? extends T&gt; findSuitableConstructor(int columns) throws NoSuchMethodException {\n        Class&lt;?&gt;[] types = new Class&lt;?&gt;[columns];\n        for (int col = 0; col &lt; columns; col++) {\n            BeanField&lt;T&gt; field = findField(col);\n            Class&lt;?&gt; type = field.getField().getType();\n            types[col] = type;\n        }\n        return type.getDeclaredConstructor(types);\n    }\n\n    /**\n     * Prepare arguments with correct types to be used in the constructor\n     *\n     * @param line A line of input\n     * @return Array of correctly typed argument values\n     */\n    private Object[] prepareArguments(String[] line) {\n        Object[] arguments = new Object[line.length];\n        for (int col = 0; col &lt; line.length; col++) {\n            arguments[col] = prepareArgument(col, line[col], findField(col));\n        }\n        return arguments;\n    }\n\n    /**\n     * Prepare a single argument with correct type\n     *\n     * @param col Column index\n     * @param value Column value\n     * @param beanField Field with\n     * @return\n     */\n    private Object prepareArgument(int col, String value, BeanField&lt;T&gt; beanField) {\n        Field field = beanField.getField();\n\n        // empty value for primitive type would be converted to null which would throw an NPE\n        if (\"\".equals(value) &amp;&amp; field.getType().isPrimitive()) {\n            throw new IllegalArgumentException(String.format(\"Null value for primitive field '%s'\", headerIndex.getByPosition(col)));\n        }\n\n        try {\n            // reflectively access the convert method, as it's protected in AbstractBeanField class\n            Method convert = AbstractBeanField.class.getDeclaredMethod(\"convert\", String.class);\n            convert.setAccessible(true);\n            return convert.invoke(beanField, value);\n        } catch (NoSuchMethodException | IllegalAccessException | InvocationTargetException e) {\n            throw new IllegalStateException(String.format(\"Unable to convert bean field '%s'\", headerIndex.getByPosition(col)), e);\n        }\n    }\n}\n\n</code></pre>\n\n<hr>\n\n<p>Another approach might be to map the CSV columns to the builder itself and build the immutable class afterwards. </p>\n"},{"tags":[],"owner":{"account_id":29422493,"reputation":1,"user_id":22543933,"display_name":"user22543933"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696781589,"creation_date":1696781589,"answer_id":77254359,"question_id":53667832,"body_markdown":"The response from oujesky is a nice approach but requires a constructor where the order of the arguments exactly matches that in the CSV file but could be used for other injection tasks.\r\n\r\nHowever, to make a class immutable, you could set the access level of the setter methods to private. The example below uses the CsvToBean function from opencsv.\r\n\r\n    \r\n    @Getter\r\n    public class X {\r\n        private final int a;\r\n\r\n        private X(int a) {\r\n            this.a = a;\r\n        }\r\n\r\n        @Setter(AccessLevel.PRIVATE)\r\n        public static class XBuilder {\r\n            @CsvBindByName\r\n            private int a;\r\n\r\n            public X build() {\r\n                return new X(a);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void simpleTest() {\r\n        String testData = &quot;&quot;&quot;\r\n                a\r\n                1337\r\n                &quot;&quot;&quot;;\r\n\r\n        List&lt;X&gt; xs = new CsvToBeanBuilder&lt;X.XBuilder&gt;(new StringReader(testData))\r\n                .withType(X.XBuilder.class)\r\n                .build()\r\n                .stream()\r\n                .map(X.XBuilder::build)\r\n                .collect(Collectors.toList());\r\n\r\n        Assertions.assertEquals(1, xs.size());\r\n        Assertions.assertEquals(1337, xs.get(0).getA());\r\n    }","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p>The response from oujesky is a nice approach but requires a constructor where the order of the arguments exactly matches that in the CSV file but could be used for other injection tasks.</p>\n<p>However, to make a class immutable, you could set the access level of the setter methods to private. The example below uses the CsvToBean function from opencsv.</p>\n<pre><code>@Getter\npublic class X {\n    private final int a;\n\n    private X(int a) {\n        this.a = a;\n    }\n\n    @Setter(AccessLevel.PRIVATE)\n    public static class XBuilder {\n        @CsvBindByName\n        private int a;\n\n        public X build() {\n            return new X(a);\n        }\n    }\n}\n\n@Test\nvoid simpleTest() {\n    String testData = &quot;&quot;&quot;\n            a\n            1337\n            &quot;&quot;&quot;;\n\n    List&lt;X&gt; xs = new CsvToBeanBuilder&lt;X.XBuilder&gt;(new StringReader(testData))\n            .withType(X.XBuilder.class)\n            .build()\n            .stream()\n            .map(X.XBuilder::build)\n            .collect(Collectors.toList());\n\n    Assertions.assertEquals(1, xs.size());\n    Assertions.assertEquals(1337, xs.get(0).getA());\n}\n</code></pre>\n"}],"owner":{"account_id":2529787,"reputation":101,"user_id":2198318,"display_name":"Richard Polton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3439,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696781589,"creation_date":1544179182,"question_id":53667832,"body_markdown":"OpenCSV happily converts a record into an object if that class has a default constructor and setters for each of the fields. However, the class for which I wish to generate an object is defined with final fields, a private constructor and a Builder. For example, if I want to create an object of type `X` where `X` is defined by\r\n\r\n    public class X {\r\n        private final String val;\r\n        private X(final String val) { this.val = val; }\r\n        public Builder builder() { return new Builder(); }\r\n\r\n        public static class Builder {\r\n            private String val;\r\n            public Builder withVal(final String val) { this.val = val; return this; }\r\n            public X build() { return new X(val); }\r\n        }\r\n    }\r\n\r\nI&#39;ve seen the `com.opencsv.bean.MappingStrategy` interface and wonder if this can be applied somehow but I&#39;ve not found a solution yet. Any ideas?","title":"Using OpenCSV, how can we map a record to a class that uses a Builder and not setters?","body":"<p>OpenCSV happily converts a record into an object if that class has a default constructor and setters for each of the fields. However, the class for which I wish to generate an object is defined with final fields, a private constructor and a Builder. For example, if I want to create an object of type <code>X</code> where <code>X</code> is defined by</p>\n\n<pre><code>public class X {\n    private final String val;\n    private X(final String val) { this.val = val; }\n    public Builder builder() { return new Builder(); }\n\n    public static class Builder {\n        private String val;\n        public Builder withVal(final String val) { this.val = val; return this; }\n        public X build() { return new X(val); }\n    }\n}\n</code></pre>\n\n<p>I've seen the <code>com.opencsv.bean.MappingStrategy</code> interface and wonder if this can be applied somehow but I've not found a solution yet. Any ideas?</p>\n"},{"tags":["java","java-http-client"],"answers":[{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696781486,"creation_date":1696688824,"answer_id":77250200,"question_id":77250199,"body_markdown":"This is rather clunky but the best solution I could find. It uses a custom `BodyHandler` and `BodySubscriber` that calls a callback:\r\n\r\nExample:\r\n```\r\nBodyHandler&lt;Path&gt; responceHandler = callbackBodyHandler(\r\n    1_000_000,\r\n    nrBytesReceived -&gt; System.out.print(&quot;.&quot;),\r\n    BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;),\r\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE));\r\n\r\nHttpResponse&lt;Path&gt; response = client.send(request, responceHandler);\r\n\r\n```\r\n\r\nImplementation:\r\n\r\n```\r\nprivate static &lt;T&gt; BodyHandler&lt;T&gt; callbackBodyHandler(int interval, LongConsumer callback, BodyHandler&lt;T&gt; h) {\r\n    return info -&gt; new BodySubscriber&lt;T&gt;() {\r\n        private BodySubscriber&lt;T&gt; delegateSubscriber = h.apply(info);\r\n        private long receivedBytes = 0;\r\n        private long calledBytes = 0;\r\n\r\n        @Override\r\n        public void onSubscribe(Subscription subscription) {\r\n            delegateSubscriber.onSubscribe(subscription);\r\n        }\r\n\r\n        @Override\r\n        public void onNext(List&lt;ByteBuffer&gt; item) {\r\n            receivedBytes += item.stream().mapToLong(ByteBuffer::capacity).sum();\r\n\r\n            if (receivedBytes - calledBytes &gt; interval) {\r\n                callback.accept(receivedBytes);\r\n                calledBytes = receivedBytes;\r\n            }\r\n\r\n            delegateSubscriber.onNext(item);\r\n        }\r\n\r\n        @Override\r\n        public void onError(Throwable throwable) {\r\n            delegateSubscriber.onError(throwable);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onComplete() {\r\n            delegateSubscriber.onComplete();\r\n        }\r\n\r\n        @Override\r\n        public CompletionStage&lt;T&gt; getBody() {\r\n            return delegateSubscriber.getBody();\r\n        }\r\n    };\r\n}\r\n","title":"Progress of download with java.net.http.HttpClient","body":"<p>This is rather clunky but the best solution I could find. It uses a custom <code>BodyHandler</code> and <code>BodySubscriber</code> that calls a callback:</p>\n<p>Example:</p>\n<pre><code>BodyHandler&lt;Path&gt; responceHandler = callbackBodyHandler(\n    1_000_000,\n    nrBytesReceived -&gt; System.out.print(&quot;.&quot;),\n    BodyHandlers.ofFileDownload(Path.of(&quot;.&quot;),\n        StandardOpenOption.WRITE, StandardOpenOption.CREATE));\n\nHttpResponse&lt;Path&gt; response = client.send(request, responceHandler);\n\n</code></pre>\n<p>Implementation:</p>\n<pre><code>private static &lt;T&gt; BodyHandler&lt;T&gt; callbackBodyHandler(int interval, LongConsumer callback, BodyHandler&lt;T&gt; h) {\n    return info -&gt; new BodySubscriber&lt;T&gt;() {\n        private BodySubscriber&lt;T&gt; delegateSubscriber = h.apply(info);\n        private long receivedBytes = 0;\n        private long calledBytes = 0;\n\n        @Override\n        public void onSubscribe(Subscription subscription) {\n            delegateSubscriber.onSubscribe(subscription);\n        }\n\n        @Override\n        public void onNext(List&lt;ByteBuffer&gt; item) {\n            receivedBytes += item.stream().mapToLong(ByteBuffer::capacity).sum();\n\n            if (receivedBytes - calledBytes &gt; interval) {\n                callback.accept(receivedBytes);\n                calledBytes = receivedBytes;\n            }\n\n            delegateSubscriber.onNext(item);\n        }\n\n        @Override\n        public void onError(Throwable throwable) {\n            delegateSubscriber.onError(throwable);\n\n        }\n\n        @Override\n        public void onComplete() {\n            delegateSubscriber.onComplete();\n        }\n\n        @Override\n        public CompletionStage&lt;T&gt; getBody() {\n            return delegateSubscriber.getBody();\n        }\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1696781540,"creation_date":1696688824,"question_id":77250199,"body_markdown":"I use `java.net.http.HttpClient` to download a large file.\r\n\r\nHow can I make `HttpClient` report the progress of the download? For example, can it call a callback every X byte that it has finished downloading?\r\n\r\nThe download code looks like this:\r\n\r\n```\r\nHttpClient client = HttpClient.newBuilder()\r\n    .followRedirects(Redirect.NORMAL)\r\n    .connectTimeout(Duration.ofSeconds(20))\r\n    .build();\r\n\r\nHttpRequest request = HttpRequest.newBuilder().uri(\r\n    new URI(&quot;https://example.com/large-file&quot;)).build();\r\n\r\n// The program blocks here until the download is finished\r\nHttpResponse&lt;Path&gt; response = client.send(request, BodyHandlers.ofFileDownload(\r\n    Path.of(&quot;.&quot;), StandardOpenOption.WRITE, StandardOpenOption.CREATE));\r\n\r\n```\r\n\r\nThe file that is downloaded is a couple of hundred MBs. On the user system this takes maybe a minute, during which users are left wondering whether the download is progressing or whether the program is hung.\r\n\r\nTo help with this I&#39;d like to, while the download is happening, indicate to the user how much of the file that has been downloaded and that the download is proceeding. For example by printing a dot in the terminal when 1 MB of data is completed, or regularly updating a progress bar in a GUI.\r\n\r\nHow can I do this with `HttpClient`?","title":"Progress of download with java.net.http.HttpClient","body":"<p>I use <code>java.net.http.HttpClient</code> to download a large file.</p>\n<p>How can I make <code>HttpClient</code> report the progress of the download? For example, can it call a callback every X byte that it has finished downloading?</p>\n<p>The download code looks like this:</p>\n<pre><code>HttpClient client = HttpClient.newBuilder()\n    .followRedirects(Redirect.NORMAL)\n    .connectTimeout(Duration.ofSeconds(20))\n    .build();\n\nHttpRequest request = HttpRequest.newBuilder().uri(\n    new URI(&quot;https://example.com/large-file&quot;)).build();\n\n// The program blocks here until the download is finished\nHttpResponse&lt;Path&gt; response = client.send(request, BodyHandlers.ofFileDownload(\n    Path.of(&quot;.&quot;), StandardOpenOption.WRITE, StandardOpenOption.CREATE));\n\n</code></pre>\n<p>The file that is downloaded is a couple of hundred MBs. On the user system this takes maybe a minute, during which users are left wondering whether the download is progressing or whether the program is hung.</p>\n<p>To help with this I'd like to, while the download is happening, indicate to the user how much of the file that has been downloaded and that the download is proceeding. For example by printing a dot in the terminal when 1 MB of data is completed, or regularly updating a progress bar in a GUI.</p>\n<p>How can I do this with <code>HttpClient</code>?</p>\n"},{"tags":["java","android","android-intent","limit","start-activity"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1696764988,"post_id":77252355,"comment_id":136192709,"body_markdown":"&quot;I am making game with different levels with each level in a new activity&quot; -- modern Android app development would use a single activity, with at most fragments or composables for each level. Most games would not even do that, instead leveraging functionality within a game engine for navigating between screens.","body":"&quot;I am making game with different levels with each level in a new activity&quot; -- modern Android app development would use a single activity, with at most fragments or composables for each level. Most games would not even do that, instead leveraging functionality within a game engine for navigating between screens."}],"answers":[{"tags":[],"owner":{"account_id":17973935,"reputation":185,"user_id":13062000,"display_name":"404NotFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696743701,"creation_date":1696743701,"answer_id":77252445,"question_id":77252355,"body_markdown":"Theoretically there is no such limit. But this might be happening because there are so many activities in the stack. You can try these flags to remove previous Activity from the stack. As you are developing game, I am assuming you will not be requiring to go previous level once user has completed it.\r\n\r\n    Intent intent = new Intent(this, ActivityB.class);\r\n    intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | \r\n    Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n    finish();","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>Theoretically there is no such limit. But this might be happening because there are so many activities in the stack. You can try these flags to remove previous Activity from the stack. As you are developing game, I am assuming you will not be requiring to go previous level once user has completed it.</p>\n<pre><code>Intent intent = new Intent(this, ActivityB.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | \nIntent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\nfinish();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29439484,"reputation":94,"user_id":22557788,"display_name":"Davit Hovhannisyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696780708,"creation_date":1696780708,"answer_id":77254306,"question_id":77252355,"body_markdown":"Here&#39;s a simplified example using fragments:\r\n\r\n\r\n    public class GameActivity extends AppCompatActivity {\r\n        private int currentLevel = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_game);\r\n            loadLevel(currentLevel);\r\n        }\r\n    \r\n        private void loadLevel(int level) {\r\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n            transaction.replace(R.id.fragment_container, LevelFragment.newInstance(level));\r\n            transaction.commit();\r\n        }\r\n    \r\n    \r\n        public void moveToNextLevel() {\r\n            currentLevel++;\r\n            if (currentLevel &lt;= 50) {\r\n                loadLevel(currentLevel);\r\n            } else {\r\n                \r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>Here's a simplified example using fragments:</p>\n<pre><code>public class GameActivity extends AppCompatActivity {\n    private int currentLevel = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_game);\n        loadLevel(currentLevel);\n    }\n\n    private void loadLevel(int level) {\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(R.id.fragment_container, LevelFragment.newInstance(level));\n        transaction.commit();\n    }\n\n\n    public void moveToNextLevel() {\n        currentLevel++;\n        if (currentLevel &lt;= 50) {\n            loadLevel(currentLevel);\n        } else {\n            \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21319273,"reputation":1,"user_id":15692701,"display_name":"Umar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696780708,"creation_date":1696740735,"question_id":77252355,"body_markdown":"I am making game with different levels with each level in a new activity. When user click startActivity new intent for 50 times during the game it won&#39;t open a new activity. e.g level 1= activity 1 so user wont be able to open level 51 = activity 51. If you move between activities 50 times you wont be able to move 51st time. I have checked this error on a different app as well where you can&#39;t switch between activities more than 50 times. Any idea why there is a limit and how i can solve it. Help would be appreciated. \r\n\r\n\r\n```\r\nstartActivity(new Intent(this,Level50.class));\r\n```\r\n","title":"Is there a limit for startActivity new Intent? After 50 clicks you can&#39;t open a new activity","body":"<p>I am making game with different levels with each level in a new activity. When user click startActivity new intent for 50 times during the game it won't open a new activity. e.g level 1= activity 1 so user wont be able to open level 51 = activity 51. If you move between activities 50 times you wont be able to move 51st time. I have checked this error on a different app as well where you can't switch between activities more than 50 times. Any idea why there is a limit and how i can solve it. Help would be appreciated.</p>\n<pre><code>startActivity(new Intent(this,Level50.class));\n</code></pre>\n"},{"tags":["java","list","option-type","nullable"],"comments":[{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1675444057,"post_id":75338842,"comment_id":132937333,"body_markdown":"main idea of this code is to iterate over list while also handling case when given list is null. when given list is null - using empty list will just result in no further operations and not null pointer exception","body":"main idea of this code is to iterate over list while also handling case when given list is null. when given list is null - using empty list will just result in no further operations and not null pointer exception"},{"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"score":0,"creation_date":1675447027,"post_id":75338842,"comment_id":132938270,"body_markdown":"List can not be &#39;literal null&#39; try yourself If you r fetching any records from repository here is the example\n(Select * entity where abc = ?1)\nList&lt;entity&gt; getAllMatchedRecords(param1);","body":"List can not be &#39;literal null&#39; try yourself If you r fetching any records from repository here is the example (Select * entity where abc = ?1) List&lt;entity&gt; getAllMatchedRecords(param1);"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676040121,"post_id":75338842,"comment_id":133062952,"body_markdown":"It’s not clear what your question is aiming at. If the list can never be `null`, a code construct that can handle both cases, `null` and non-`null`, will obviously handle that case. If `list` can never be `null`, using an optional is obsolete, and generally, developers should not use `null` for `List` and hence, not have a need for optional lists, however, there is no reason why this shouldn’t work.","body":"It’s not clear what your question is aiming at. If the list can never be <code>null</code>, a code construct that can handle both cases, <code>null</code> and non-<code>null</code>, will obviously handle that case. If <code>list</code> can never be <code>null</code>, using an optional is obsolete, and generally, developers should not use <code>null</code> for <code>List</code> and hence, not have a need for optional lists, however, there is no reason why this shouldn’t work."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675445422,"creation_date":1675444177,"answer_id":75338959,"question_id":75338842,"body_markdown":"If the list is null, which it could be depending on use case, it creates an empty list and prints its contents which will be empty (but no exception will be thrown).  If it is not empty, it will print its contents.\r\n```\r\nList&lt;String&gt; list = null;\r\n // prints empty list\r\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\r\n         .forEach(System.out::println);\r\n list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n // print the contents.\r\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\r\n         .forEach(System.out::println);\r\n```\r\nPrints\r\n```\r\nA\r\nB\r\nC\r\n```\r\nI presume the idea is to handle a null list by processing an empty Collection.","title":"Optional.ofNullable() on List","body":"<p>If the list is null, which it could be depending on use case, it creates an empty list and prints its contents which will be empty (but no exception will be thrown).  If it is not empty, it will print its contents.</p>\n<pre><code>List&lt;String&gt; list = null;\n // prints empty list\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\n         .forEach(System.out::println);\n list = List.of(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n // print the contents.\n Optional.ofNullable(list).orElse(Collections.emptyList()).stream()\n         .forEach(System.out::println);\n</code></pre>\n<p>Prints</p>\n<pre><code>A\nB\nC\n</code></pre>\n<p>I presume the idea is to handle a null list by processing an empty Collection.</p>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696780479,"creation_date":1696780479,"answer_id":77254289,"question_id":75338842,"body_markdown":"If you really want to use Optional here, you can do something simpler, like this:\r\n```java\r\nOptional.ofNullable(list).ifPresnt(l -&gt; l.forEach(....))\r\n```\r\n\r\nBut, in my opinion, a simple null-check should do:\r\n```java\r\nif(list != null) {\r\n\tlist.forEach(x -&gt; {...})\r\n}\r\n```","title":"Optional.ofNullable() on List","body":"<p>If you really want to use Optional here, you can do something simpler, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional.ofNullable(list).ifPresnt(l -&gt; l.forEach(....))\n</code></pre>\n<p>But, in my opinion, a simple null-check should do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(list != null) {\n    list.forEach(x -&gt; {...})\n}\n</code></pre>\n"}],"owner":{"account_id":25290010,"reputation":37,"user_id":19116298,"display_name":"Sachi97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2483,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1696780479,"creation_date":1675443414,"question_id":75338842,"body_markdown":"I need an assistance on one of the optional concepts of java 8+. I have been seeing developers using Optional.ofNullable on list object which is incorrect and I am not sure how its been working perfectly without bugs/defect. Code goes this way \r\n\r\nNote: list object is being captured by making DB call from repository layer.\r\n\r\n`Optional.ofNullable(list)\r\n    .orElse(Collections.emptyList())\r\n      .stream().forEach(x-&gt; { ------\r\n                              ------};);`\r\n\r\nList cannot be literal null if there is no elements it would be empty([]) so, how can it handle Optional.ofNullable() correctly? I tried dummy code to test by adding print statement in forEach It would print in both cases(list empty as well not empty).","title":"Optional.ofNullable() on List","body":"<p>I need an assistance on one of the optional concepts of java 8+. I have been seeing developers using Optional.ofNullable on list object which is incorrect and I am not sure how its been working perfectly without bugs/defect. Code goes this way</p>\n<p>Note: list object is being captured by making DB call from repository layer.</p>\n<p><code>Optional.ofNullable(list) .orElse(Collections.emptyList()) .stream().forEach(x-&gt; { ------ ------};);</code></p>\n<p>List cannot be literal null if there is no elements it would be empty([]) so, how can it handle Optional.ofNullable() correctly? I tried dummy code to test by adding print statement in forEach It would print in both cases(list empty as well not empty).</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1696779370,"post_id":77254215,"comment_id":136194102,"body_markdown":"I&#39;m not great with streams, but I think you&#39;d `map` test to `test.length * test.width` then use `sum()` to finish up.","body":"I&#39;m not great with streams, but I think you&#39;d <code>map</code> test to <code>test.length * test.width</code> then use <code>sum()</code> to finish up."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696780194,"creation_date":1696780194,"answer_id":77254269,"question_id":77254215,"body_markdown":"You can use `mapToInt` to convert the `Test` stream to an `IntStream`, then use the reduction method `sum`. \r\n```java\r\n    public static int getMultiSum(List&lt;Test&gt; testList){\r\n        return testList.stream().mapToInt(t -&gt; t.length * t.width).sum();\r\n    }\r\n```","title":"How I can redo foreach expression into stream API","body":"<p>You can use <code>mapToInt</code> to convert the <code>Test</code> stream to an <code>IntStream</code>, then use the reduction method <code>sum</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int getMultiSum(List&lt;Test&gt; testList){\n        return testList.stream().mapToInt(t -&gt; t.length * t.width).sum();\n    }\n</code></pre>\n"}],"owner":{"account_id":27471195,"reputation":15,"user_id":22442740,"display_name":"я гантеля"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77254269,"answer_count":1,"score":1,"last_activity_date":1696780194,"creation_date":1696779153,"question_id":77254215,"body_markdown":"So, I have function:\r\n\r\n    public static int getMultiSum(List&lt;Test&gt; testList){\r\n        int sum = 0;\r\n        for(Test test : testList){\r\n            sum += test.length * test.width;\r\n        }\r\n        return sum;\r\n    }\r\nSo, how I can use stream API for this function?","title":"How I can redo foreach expression into stream API","body":"<p>So, I have function:</p>\n<pre><code>public static int getMultiSum(List&lt;Test&gt; testList){\n    int sum = 0;\n    for(Test test : testList){\n        sum += test.length * test.width;\n    }\n    return sum;\n}\n</code></pre>\n<p>So, how I can use stream API for this function?</p>\n"},{"tags":["java","android","keyboard"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1696782359,"post_id":77254220,"comment_id":136194413,"body_markdown":"From having written keyboards-  that&#39;s generally seen when something restarts the input connection.  If you&#39;re using a basic EditText, I&#39;d check for any code that may be requesting focus or removing focus in your code.  If you&#39;re using something else, it may be a break in that UI element.","body":"From having written keyboards-  that&#39;s generally seen when something restarts the input connection.  If you&#39;re using a basic EditText, I&#39;d check for any code that may be requesting focus or removing focus in your code.  If you&#39;re using something else, it may be a break in that UI element."}],"owner":{"account_id":12998310,"reputation":1,"user_id":9395165,"display_name":"Sourabh Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696779326,"creation_date":1696779284,"question_id":77254220,"body_markdown":"I am facing a weird issue in my native android app where the android keyboard closes and reopens when I tap between words in a sentence. I have tried using   android:windowSoftInputMode=&quot;adjustResize&quot; and without it as well. \r\n\r\nThis is the 8 seconds video link showing the behaviour \r\n[Video Link][1]\r\nI am expecting that the keyboard does not close and open causing the screen flicker \r\n\r\n\r\n  [1]: https://drive.google.com/file/d/18agntb-lIEVQkwYTaA5jO1VQ65nv4kEA/view?usp=sharing","title":"Android keyboard closes and opens when I tap on any word while typing","body":"<p>I am facing a weird issue in my native android app where the android keyboard closes and reopens when I tap between words in a sentence. I have tried using   android:windowSoftInputMode=&quot;adjustResize&quot; and without it as well.</p>\n<p>This is the 8 seconds video link showing the behaviour\n<a href=\"https://drive.google.com/file/d/18agntb-lIEVQkwYTaA5jO1VQ65nv4kEA/view?usp=sharing\" rel=\"nofollow noreferrer\">Video Link</a>\nI am expecting that the keyboard does not close and open causing the screen flicker</p>\n"},{"tags":["java","concurrency"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1696777506,"post_id":77253809,"comment_id":136193886,"body_markdown":"P.S., I have a comment on how you are using `compute`. See the &quot;update&quot; in my answer (below).","body":"P.S., I have a comment on how you are using <code>compute</code>. See the &quot;update&quot; in my answer (below)."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696777456,"creation_date":1696774343,"answer_id":77253930,"question_id":77253809,"body_markdown":"You are correct. The `get()` operation is &quot;thread safe&quot; in the sense that it is guaranteed either to return the `PlainObject` that was present for the given `k` before the map was updated or, return the new object that was added under that `k`. It will never return some other object, or cause a program crash.\r\n\r\n**BUT**\r\n\r\nThe fact that the map itself is thread safe in no way protects the objects that you put _in_ the map. If you want your program to see consistent values of `v.a` and `v.b` when one thread wants to examine the object concurrently with some other thread that modifies the object, then that&#39;s entirely up to you to provide that protection.\r\n\r\n-------\r\n\r\n**update:**\r\n\r\nYour example does not use `compute` in the way it was meant to be used. The function you provide never returns a different `v` from the one that already was in the map. The code that you wrote doesn&#39;t do anything different from this version:\r\n\r\n``` lang-java\r\nvoid act(){\r\n  PlainObject v = myMap.get(&quot;abc&quot;);\r\n  if (v != null) {\r\n    v.a = 21;\r\n    // Other work\r\n    v.b = 18;\r\n  }\r\n}\r\n```\r\n\r\nThe purpose of `compute` is to let you write a function that decides whether or not the object in the map should be replaced with a different object:\r\n\r\n``` lang-java\r\n\r\nvoid foo() {\r\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\r\n    if ((v == null) || ...other reason not to update...) {\r\n      return /*the original, UNMODIFIED*/ v;\r\n    }\r\n    else {\r\n      PlainObject new_v = new PlainObject();\r\n      new_v.a = 21;\r\n      // Other work \r\n      new_v.b = 18;\r\n      return new_v;\r\n    }\r\n  });\r\n```\r\n\r\nIn this case, if some other thread calls `myMap.get(&quot;abc&quot;)`, it is guaranteed either to get the original unmodified `PlainObject` or, to get the new object. And, if your `PlainObject` instances are all _effectively immutable,_\\* then the new object already will have been _safely published_† by the time the `get()` function returns it.\r\n\r\n\\* It would be &quot;effectively immutable&quot; if no thread ever modifies a `PlainObject` after the object has been made available to other threads.\r\n\r\n† &quot;Safely published&quot; means there is a &quot;happens before&quot; relationship between the initialization of the new object and the first opportunity that any other thread has to access it.","title":"Reading mutable objects in a ConcurrentHashMap","body":"<p>You are correct. The <code>get()</code> operation is &quot;thread safe&quot; in the sense that it is guaranteed either to return the <code>PlainObject</code> that was present for the given <code>k</code> before the map was updated or, return the new object that was added under that <code>k</code>. It will never return some other object, or cause a program crash.</p>\n<p><strong>BUT</strong></p>\n<p>The fact that the map itself is thread safe in no way protects the objects that you put <em>in</em> the map. If you want your program to see consistent values of <code>v.a</code> and <code>v.b</code> when one thread wants to examine the object concurrently with some other thread that modifies the object, then that's entirely up to you to provide that protection.</p>\n<hr />\n<p><strong>update:</strong></p>\n<p>Your example does not use <code>compute</code> in the way it was meant to be used. The function you provide never returns a different <code>v</code> from the one that already was in the map. The code that you wrote doesn't do anything different from this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void act(){\n  PlainObject v = myMap.get(&quot;abc&quot;);\n  if (v != null) {\n    v.a = 21;\n    // Other work\n    v.b = 18;\n  }\n}\n</code></pre>\n<p>The purpose of <code>compute</code> is to let you write a function that decides whether or not the object in the map should be replaced with a different object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid foo() {\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\n    if ((v == null) || ...other reason not to update...) {\n      return /*the original, UNMODIFIED*/ v;\n    }\n    else {\n      PlainObject new_v = new PlainObject();\n      new_v.a = 21;\n      // Other work \n      new_v.b = 18;\n      return new_v;\n    }\n  });\n</code></pre>\n<p>In this case, if some other thread calls <code>myMap.get(&quot;abc&quot;)</code>, it is guaranteed either to get the original unmodified <code>PlainObject</code> or, to get the new object. And, if your <code>PlainObject</code> instances are all <em>effectively immutable,</em>* then the new object already will have been <em>safely published</em>† by the time the <code>get()</code> function returns it.</p>\n<p>* It would be &quot;effectively immutable&quot; if no thread ever modifies a <code>PlainObject</code> after the object has been made available to other threads.</p>\n<p>† &quot;Safely published&quot; means there is a &quot;happens before&quot; relationship between the initialization of the new object and the first opportunity that any other thread has to access it.</p>\n"}],"owner":{"account_id":1350946,"reputation":2430,"user_id":1290607,"accept_rate":82,"display_name":"Bula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77253930,"answer_count":1,"score":1,"last_activity_date":1696777456,"creation_date":1696771898,"question_id":77253809,"body_markdown":"As per the [JavaSE 8 docs][1] on the `ConcurrentHashMap`\r\n\r\n&gt; ... even though all operations are thread-safe, retrieval operations do not entail locking....\r\n\r\n\r\nHow does the above play with the `compute` function of the `ConcurrentHashMap` ? Consider the following simple object\r\n\r\n    final class PlainObject{\r\n      int a;\r\n      int b;\r\n    }\r\n\r\nConsider the following mapping\r\n\r\n    ConcurrentHashMap&lt;String, PlainObject&gt; myMap;\r\n   \r\nConsider the following function that has access to `myMap`\r\n\r\n    void act(){\r\n\r\n      myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\r\n        v.a = 21;\r\n        // Other work \r\n        v.b = 18;\r\n\r\n        return v;\r\n      });\r\n    }\r\n\r\n\r\nCan I ever perform a read on `myMap` that will print a partial result (i.e. only `a` has been modified) ? It seems the answer is yes because retrieving data does not entail locking and we are dealing with a mutable object. Is this conclusion correct?\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#get-java.lang.Object-","title":"Reading mutable objects in a ConcurrentHashMap","body":"<p>As per the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ConcurrentHashMap.html#get-java.lang.Object-\" rel=\"nofollow noreferrer\">JavaSE 8 docs</a> on the <code>ConcurrentHashMap</code></p>\n<blockquote>\n<p>... even though all operations are thread-safe, retrieval operations do not entail locking....</p>\n</blockquote>\n<p>How does the above play with the <code>compute</code> function of the <code>ConcurrentHashMap</code> ? Consider the following simple object</p>\n<pre><code>final class PlainObject{\n  int a;\n  int b;\n}\n</code></pre>\n<p>Consider the following mapping</p>\n<pre><code>ConcurrentHashMap&lt;String, PlainObject&gt; myMap;\n</code></pre>\n<p>Consider the following function that has access to <code>myMap</code></p>\n<pre><code>void act(){\n\n  myMap.compute(&quot;abc&quot;, (k, v) -&gt; {\n    v.a = 21;\n    // Other work \n    v.b = 18;\n\n    return v;\n  });\n}\n</code></pre>\n<p>Can I ever perform a read on <code>myMap</code> that will print a partial result (i.e. only <code>a</code> has been modified) ? It seems the answer is yes because retrieving data does not entail locking and we are dealing with a mutable object. Is this conclusion correct?</p>\n"},{"tags":["java","arrays","hibernate","csv"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1585234985,"post_id":60865319,"comment_id":107695170,"body_markdown":"Does you CSV file have a blank (empty) line?","body":"Does you CSV file have a blank (empty) line?"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1585246003,"post_id":60865319,"comment_id":107700479,"body_markdown":"You shouldn&#39;t read CSV that way. You could use https://www.baeldung.com/opencsv","body":"You shouldn&#39;t read CSV that way. You could use <a href=\"https://www.baeldung.com/opencsv\" rel=\"nofollow noreferrer\">baeldung.com/opencsv</a>"}],"answers":[{"tags":[],"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585222050,"creation_date":1585222050,"answer_id":60866178,"question_id":60865319,"body_markdown":"I don&#39;t know much about csv and room , but i read somewhere the header is also counted as a row \r\n\r\nSo \r\n\r\ni think when you say `line = br.readLine()` it read the header  of the csv file for the first iteration, and that header does not have any comma so `line.split` only returns ome string , and when you say `temArr[1]` it is wrong because there is only one string in the array and it is at zero index.\r\n\r\nYou should try printing that array then you will know weather or not i am right, and please also let me know, cuz it is just an idea, i am not sure.\r\n\r\nAnd if that turns out to be the case you can you `br.readline` before entering the while loop and it will work an you expected\r\n\r\n","title":"Index 1 out of bounds for length 1 error while creating the array automatically from the CSV file","body":"<p>I don't know much about csv and room , but i read somewhere the header is also counted as a row </p>\n\n<p>So </p>\n\n<p>i think when you say <code>line = br.readLine()</code> it read the header  of the csv file for the first iteration, and that header does not have any comma so <code>line.split</code> only returns ome string , and when you say <code>temArr[1]</code> it is wrong because there is only one string in the array and it is at zero index.</p>\n\n<p>You should try printing that array then you will know weather or not i am right, and please also let me know, cuz it is just an idea, i am not sure.</p>\n\n<p>And if that turns out to be the case you can you <code>br.readline</code> before entering the while loop and it will work an you expected</p>\n"}],"owner":{"account_id":17697507,"reputation":81,"user_id":12847897,"display_name":"Grzegorz Gabrychowicz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696777345,"creation_date":1585218997,"question_id":60865319,"body_markdown":"The problem seems to be trivial but I still struggle on it. The error is `java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1` from which I understand only the first index from the array can be accessed (`id` which is the primary key in that case). Why is that? Don&#39;t I determine the length of the array automatically based on the number of items separated by delimiter when I load the file CSV file ? What is wrong with my `readFile()` method then ?\r\n\r\n_________________\r\n\r\nUserData.java\r\n-------------\r\n\r\n\r\n    import javax.persistence.*;\r\n    \r\n    @Table\r\n    @Entity(name=&quot;users&quot;)\r\n\r\n    public class UserData {\r\n    \r\n    \r\n    \r\n        @Id \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column\r\n        private String firstName;\r\n    \r\n        @Column\r\n        private String lastName;\r\n    \r\n        @Column\r\n        private int telephoneNo;\r\n    \r\n        @Column\r\n        private String email;\r\n    \r\n        @Column\r\n        private String pickUp;\r\n    \r\n        @Column\r\n        private String dropOff;\r\n    \r\n        public UserData(){}\r\n    \r\n    \r\n        public UserData(String firstName, String lastName, int telephoneNo, String email, String pickUp, String dropOff){\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.telephoneNo = telephoneNo;\r\n            this.email = email;\r\n            this.pickUp = pickUp;\r\n            this.dropOff = dropOff;\r\n        }\r\n    \r\n    \r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        public int getTelephoneNo() {\r\n            return telephoneNo;\r\n        }\r\n    \r\n        public void setTelephoneNo(int telephoneNo) {\r\n            this.telephoneNo = telephoneNo;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPickUp() {\r\n            return pickUp;\r\n        }\r\n    \r\n        public void setPickUp(String pickUp) {\r\n            this.pickUp = pickUp;\r\n        }\r\n    \r\n        public String getDropOff() {\r\n            return dropOff;\r\n        }\r\n    \r\n        public void setDropOff(String dropOff) {\r\n            this.dropOff = dropOff;\r\n        }\r\n    }\r\n\r\n\r\nsample.csv\r\n----------\r\n\r\n\r\n    1,Reanna,Colepio,159031625,reanna_colepio123@gmail.com,London,Glasgow\r\n    2,Rita,Das,987443767,ritadas@outlook.com,Edinburgh,Glasgow\r\n\r\n\r\n\r\n\r\nManageData.java\r\n---------------\r\n\r\n\r\n    import org.hibernate.Session;\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class ManageData {\r\n    \r\n        public static void readFile() {\r\n            String line = &quot;&quot;;\r\n    \r\n            Session session = HibernateConfig.getSessionFactory().openSession();\r\n    \r\n            try (BufferedReader br = new BufferedReader(new FileReader(&quot;/Users/ggabrychowicz/IdeaProjects/Bus Managing System/src/main/java/sample.csv&quot;))){\r\n    \r\n                while ((line = br.readLine()) != null){\r\n                    String[] tempArr = line.split(&quot;,&quot;);\r\n    \r\n                    UserData userData = new UserData();\r\n    \r\n    \r\n                    userData.setFirstName(tempArr[1]);\r\n                    userData.setLastName(tempArr[2]);\r\n                    userData.setTelephoneNo(Integer.parseInt(tempArr[3]));\r\n                    userData.setEmail(tempArr[4]);\r\n                    userData.setPickUp(tempArr[5]);\r\n                    userData.setDropOff(tempArr[6]);\r\n    \r\n                    session.beginTransaction();\r\n                    session.save(userData);\r\n                    session.getTransaction().commit();\r\n    \r\n                }\r\n                session.close();\r\n            }\r\n    \r\n            catch (IOException e) {\r\n                if (session!=null){\r\n                    session.getTransaction().rollback();\r\n                }\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n**That&#39;s what I get when I print the array:**\r\n\r\n\r\n    1\r\n    Reanna\r\n    Colepio\r\n    159031625\r\n    reanna_colepio123@gmail.com\r\n    London\r\n    Glasgow\r\n    2\r\n    Rita\r\n    Das\r\n    987443767\r\n    ritadas@outlook.com\r\n    Edinburgh\r\n    Glasgow\r\n    Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n    \tat ManageData.readFile(ManageData.java:26)\r\n    \tat Main.main(Main.java:4)","title":"Index 1 out of bounds for length 1 error while creating the array automatically from the CSV file","body":"<p>The problem seems to be trivial but I still struggle on it. The error is <code>java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1</code> from which I understand only the first index from the array can be accessed (<code>id</code> which is the primary key in that case). Why is that? Don't I determine the length of the array automatically based on the number of items separated by delimiter when I load the file CSV file ? What is wrong with my <code>readFile()</code> method then ?</p>\n\n<hr>\n\n<h2>UserData.java</h2>\n\n<pre><code>import javax.persistence.*;\n\n@Table\n@Entity(name=\"users\")\n\npublic class UserData {\n\n\n\n    @Id \n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column\n    private String firstName;\n\n    @Column\n    private String lastName;\n\n    @Column\n    private int telephoneNo;\n\n    @Column\n    private String email;\n\n    @Column\n    private String pickUp;\n\n    @Column\n    private String dropOff;\n\n    public UserData(){}\n\n\n    public UserData(String firstName, String lastName, int telephoneNo, String email, String pickUp, String dropOff){\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.telephoneNo = telephoneNo;\n        this.email = email;\n        this.pickUp = pickUp;\n        this.dropOff = dropOff;\n    }\n\n\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getTelephoneNo() {\n        return telephoneNo;\n    }\n\n    public void setTelephoneNo(int telephoneNo) {\n        this.telephoneNo = telephoneNo;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPickUp() {\n        return pickUp;\n    }\n\n    public void setPickUp(String pickUp) {\n        this.pickUp = pickUp;\n    }\n\n    public String getDropOff() {\n        return dropOff;\n    }\n\n    public void setDropOff(String dropOff) {\n        this.dropOff = dropOff;\n    }\n}\n</code></pre>\n\n<h2>sample.csv</h2>\n\n<pre><code>1,Reanna,Colepio,159031625,reanna_colepio123@gmail.com,London,Glasgow\n2,Rita,Das,987443767,ritadas@outlook.com,Edinburgh,Glasgow\n</code></pre>\n\n<h2>ManageData.java</h2>\n\n<pre><code>import org.hibernate.Session;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport java.util.Scanner;\n\npublic class ManageData {\n\n    public static void readFile() {\n        String line = \"\";\n\n        Session session = HibernateConfig.getSessionFactory().openSession();\n\n        try (BufferedReader br = new BufferedReader(new FileReader(\"/Users/ggabrychowicz/IdeaProjects/Bus Managing System/src/main/java/sample.csv\"))){\n\n            while ((line = br.readLine()) != null){\n                String[] tempArr = line.split(\",\");\n\n                UserData userData = new UserData();\n\n\n                userData.setFirstName(tempArr[1]);\n                userData.setLastName(tempArr[2]);\n                userData.setTelephoneNo(Integer.parseInt(tempArr[3]));\n                userData.setEmail(tempArr[4]);\n                userData.setPickUp(tempArr[5]);\n                userData.setDropOff(tempArr[6]);\n\n                session.beginTransaction();\n                session.save(userData);\n                session.getTransaction().commit();\n\n            }\n            session.close();\n        }\n\n        catch (IOException e) {\n            if (session!=null){\n                session.getTransaction().rollback();\n            }\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>That's what I get when I print the array:</strong></p>\n\n<pre><code>1\nReanna\nColepio\n159031625\nreanna_colepio123@gmail.com\nLondon\nGlasgow\n2\nRita\nDas\n987443767\nritadas@outlook.com\nEdinburgh\nGlasgow\nException in thread \"main\" java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at ManageData.readFile(ManageData.java:26)\n    at Main.main(Main.java:4)\n</code></pre>\n"},{"tags":["java","neovim","nvim-lspconfig"],"owner":{"account_id":27014594,"reputation":23,"user_id":20573680,"display_name":"negbi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696777306,"creation_date":1696777306,"question_id":77254109,"body_markdown":"Basically there are two things stopping me from leaving intellij behind and using neovim for java development\r\n\r\n1. The option to show quick fixes for the current line if it has an error\r\n2. The option to see all the options for parameters for an overloaded function when hovering it\r\n\r\nThank you in advance ","title":"How to implement quick fixes and see all the parameter options for an overloaded function in neovim with nvim-jdtls","body":"<p>Basically there are two things stopping me from leaving intellij behind and using neovim for java development</p>\n<ol>\n<li>The option to show quick fixes for the current line if it has an error</li>\n<li>The option to see all the options for parameters for an overloaded function when hovering it</li>\n</ol>\n<p>Thank you in advance</p>\n"},{"tags":["java","swing","colors","label"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1476055009,"post_id":39949076,"comment_id":67179210,"body_markdown":"`new Color(r,g,b)` ..see the [`Color` constructors](http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#constructor.summary) for more options.","body":"<code>new Color(r,g,b)</code> ..see the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#constructor.summary\" rel=\"nofollow noreferrer\"><code>Color</code> constructors</a> for more options."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1476055152,"post_id":39949076,"comment_id":67179244,"body_markdown":"Note: It&#39;s possible to use hex colors in HTML, and a label supports (basic) HTML, but it would be a hack to use HTML in a label purely for using the hex color.","body":"Note: It&#39;s possible to use hex colors in HTML, and a label supports (basic) HTML, but it would be a hack to use HTML in a label purely for using the hex color."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476093428,"creation_date":1476055299,"answer_id":39949520,"question_id":39949076,"body_markdown":"Using this [approach][1] due to @[assylias][2], the following method converts a [`javafx.scene.paint.Color`][3] to a [`java.awt.Color`][4].\r\n\r\n    private static Color awtColor(javafx.scene.paint.Color fxColor) {\r\n        return new Color(\r\n            (float) fxColor.getRed(),\r\n            (float) fxColor.getGreen(),\r\n            (float) fxColor.getBlue(),\r\n            (float) fxColor.getOpacity());\r\n    }\r\n\r\nWith a suitable `import` statement, you can then leverage the JavaFX `Color` API. This example uses `Color.web()` to create &quot;an RGB color specified with an HTML or CSS attribute string.&quot;\r\n\r\n    import static javafx.scene.paint.Color.web;\r\n    …\r\n    label.setForeground(awtColor(web(&quot;0xF0F8FF&quot;))); // ALICEBLUE\r\n    label.setForegroundn(awtColor(web(&quot;AliceBlue&quot;))); // #F0F8FF\r\n\r\n  [1]: https://stackoverflow.com/a/39078746/230513\r\n  [2]: https://stackoverflow.com/users/829571/assylias\r\n  [3]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>Using this <a href=\"https://stackoverflow.com/a/39078746/230513\">approach</a> due to @<a href=\"https://stackoverflow.com/users/829571/assylias\">assylias</a>, the following method converts a <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/paint/Color.html\" rel=\"nofollow noreferrer\"><code>javafx.scene.paint.Color</code></a> to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Color.html\" rel=\"nofollow noreferrer\"><code>java.awt.Color</code></a>.</p>\n\n<pre><code>private static Color awtColor(javafx.scene.paint.Color fxColor) {\n    return new Color(\n        (float) fxColor.getRed(),\n        (float) fxColor.getGreen(),\n        (float) fxColor.getBlue(),\n        (float) fxColor.getOpacity());\n}\n</code></pre>\n\n<p>With a suitable <code>import</code> statement, you can then leverage the JavaFX <code>Color</code> API. This example uses <code>Color.web()</code> to create \"an RGB color specified with an HTML or CSS attribute string.\"</p>\n\n<pre><code>import static javafx.scene.paint.Color.web;\n…\nlabel.setForeground(awtColor(web(\"0xF0F8FF\"))); // ALICEBLUE\nlabel.setForegroundn(awtColor(web(\"AliceBlue\"))); // #F0F8FF\n</code></pre>\n"},{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476082798,"creation_date":1476082798,"answer_id":39952780,"question_id":39949076,"body_markdown":"As @Andrew said, you can use a [new Color(int rgb)](http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#Color-int-):\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n    public class HexColorTest {\r\n      public JComponent makeUI() {\r\n        JPanel p = new JPanel();\r\n        p.add(makeLabel(new Color(0xff0000)));\r\n        p.add(makeLabel(new Color(Integer.parseInt(&quot;#00ff00&quot;.substring(1), 16))));\r\n        p.add(new JLabel(&quot;&lt;html&gt;&lt;span style=&#39;color: #0000ff&#39;&gt;#0000ff&quot;));\r\n        return p;\r\n      }\r\n      private static JLabel makeLabel(Color c) {\r\n        JLabel label = new JLabel(String.format(&quot;#%06x&quot;, c.getRGB() &amp; 0xffffff));\r\n        label.setForeground(c);\r\n        return label;\r\n      }\r\n      public static void main(String... args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          JFrame f = new JFrame();\r\n          f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          f.getContentPane().add(new HexColorTest().makeUI());\r\n          f.setSize(320, 240);\r\n          f.setLocationRelativeTo(null);\r\n          f.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n\r\n","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>As @Andrew said, you can use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/awt/Color.html#Color-int-\" rel=\"nofollow\">new Color(int rgb)</a>:</p>\n\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class HexColorTest {\n  public JComponent makeUI() {\n    JPanel p = new JPanel();\n    p.add(makeLabel(new Color(0xff0000)));\n    p.add(makeLabel(new Color(Integer.parseInt(\"#00ff00\".substring(1), 16))));\n    p.add(new JLabel(\"&lt;html&gt;&lt;span style='color: #0000ff'&gt;#0000ff\"));\n    return p;\n  }\n  private static JLabel makeLabel(Color c) {\n    JLabel label = new JLabel(String.format(\"#%06x\", c.getRGB() &amp; 0xffffff));\n    label.setForeground(c);\n    return label;\n  }\n  public static void main(String... args) {\n    EventQueue.invokeLater(() -&gt; {\n      JFrame f = new JFrame();\n      f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      f.getContentPane().add(new HexColorTest().makeUI());\n      f.setSize(320, 240);\n      f.setLocationRelativeTo(null);\n      f.setVisible(true);\n    });\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9348457,"reputation":466,"user_id":6938972,"display_name":"Chains"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1476111401,"creation_date":1476111401,"answer_id":39961146,"question_id":39949076,"body_markdown":"The following should allow you to set the colour using hex with the use of the decode method.\r\n\r\n    label.setForeground(Color.decode(&quot;#FFFF00&quot;));","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>The following should allow you to set the colour using hex with the use of the decode method.</p>\n\n<pre><code>label.setForeground(Color.decode(\"#FFFF00\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18158211,"reputation":2540,"user_id":13209976,"display_name":"Blessing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616746172,"creation_date":1616746172,"answer_id":66813134,"question_id":39949076,"body_markdown":"If you want to use it as background then you can do:\r\n\r\n    label.setBackground(Color.decode(&quot;#02f7fc&quot;))","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>If you want to use it as background then you can do:</p>\n<pre><code>label.setBackground(Color.decode(&quot;#02f7fc&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696776622,"creation_date":1696776622,"answer_id":77254061,"question_id":39949076,"body_markdown":"You can also set the color by doing:\r\n\r\n    label.setBackground(new Color(0x02f7fc))","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>You can also set the color by doing:</p>\n<pre><code>label.setBackground(new Color(0x02f7fc))\n</code></pre>\n"}],"owner":{"account_id":9343290,"reputation":43,"user_id":6935282,"display_name":"Rborn Aries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8032,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":39961146,"answer_count":5,"score":3,"last_activity_date":1696776622,"creation_date":1476051212,"question_id":39949076,"body_markdown":"Is it possible to use `Color` hex in `JLabel` such as `#02f7fc`?\r\nI want to use A-F colors. Using `label.setForeground(Color.(BLUE/RED/BLACK/…);` is so boring.","title":"Is it possible to use Color Hex in JLabel like #02f7fc?","body":"<p>Is it possible to use <code>Color</code> hex in <code>JLabel</code> such as <code>#02f7fc</code>?\nI want to use A-F colors. Using <code>label.setForeground(Color.(BLUE/RED/BLACK/…);</code> is so boring.</p>\n"},{"tags":["java","selenium-webdriver","automation","browser-automation"],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696775625,"creation_date":1696775625,"answer_id":77254005,"question_id":77252522,"body_markdown":"You haven&#39;t posted the correct error based on the code you provided. The correct error is\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;div&quot;\r\n\r\nand the reason for this is `Select()` expects a SELECT element but your locator returns a DIV. You can easily fix this by changing the locator to point at the SELECT element using the ID,\r\n\r\n    By.id(&quot;searchDropdownBox&quot;)\r\n\r\nYou also have a lot of unnecessary code. Your code basically reads like\r\n\r\n1. Find the dropdown and click it - unnecessary because of step 4, below\r\n1. Scroll to the dropdown - you&#39;ve already clicked it so this step is unnecessary\r\n1. Wait until the dropdown is clickable - again, you&#39;ve already clicked it so this step is unnecessary\r\n1. Convert the dropdown to a `Select` element and select the first item in the dropdown\r\n\r\nYour entire code can be reduced to just\r\n\r\n    Select dropdown = new Select(driver.findElement(By.id(&quot;searchDropdownBox&quot;)));\r\n    dropdown.selectByIndex(1);\r\n\r\nFind the SELECT element by ID (simple and resilient locator), convert it to a `Select` so that it&#39;s easier to work with, and then select the desired OPTION using an index.","title":"Automating a dropdown in amazon","body":"<p>You haven't posted the correct error based on the code you provided. The correct error is</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.support.ui.UnexpectedTagNameException: Element should have been &quot;select&quot; but was &quot;div&quot;\n</code></pre>\n<p>and the reason for this is <code>Select()</code> expects a SELECT element but your locator returns a DIV. You can easily fix this by changing the locator to point at the SELECT element using the ID,</p>\n<pre><code>By.id(&quot;searchDropdownBox&quot;)\n</code></pre>\n<p>You also have a lot of unnecessary code. Your code basically reads like</p>\n<ol>\n<li>Find the dropdown and click it - unnecessary because of step 4, below</li>\n<li>Scroll to the dropdown - you've already clicked it so this step is unnecessary</li>\n<li>Wait until the dropdown is clickable - again, you've already clicked it so this step is unnecessary</li>\n<li>Convert the dropdown to a <code>Select</code> element and select the first item in the dropdown</li>\n</ol>\n<p>Your entire code can be reduced to just</p>\n<pre><code>Select dropdown = new Select(driver.findElement(By.id(&quot;searchDropdownBox&quot;)));\ndropdown.selectByIndex(1);\n</code></pre>\n<p>Find the SELECT element by ID (simple and resilient locator), convert it to a <code>Select</code> so that it's easier to work with, and then select the desired OPTION using an index.</p>\n"}],"owner":{"account_id":29623680,"reputation":1,"user_id":22703939,"display_name":"Yash Thakur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696775625,"creation_date":1696745576,"question_id":77252522,"body_markdown":"Actually, I am trying to automate the Amazon website, where I have to select a category from the dropdown, as shown in the snapshot. But when I try to do so, it says `ElementNotInteractableException`.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/dEyBQ.jpg)](https://i.stack.imgur.com/dEyBQ.jpg)\r\n\r\n    \r\n\r\n    WebElement dropDown = driver.findElement(By.xpath(&quot;//div[@class=&#39;nav-search-scope nav-sprite&#39;]&quot;));\r\n    dropDown.click();\r\n\t// Scroll the dropdown element into view using JavaScript\r\n\tJavascriptExecutor je = (JavascriptExecutor) driver;\r\n\tje.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, dropDown);\r\n\r\n\t// Wait for the dropdown to be clickable and visible\r\n\twait.until(ExpectedConditions.elementToBeClickable(dropDown));\r\n\r\n\t\r\n\t//selecting dropdown\r\n\tSelect select = new Select(dropDown);\r\n\tselect.selectByIndex(1);","title":"Automating a dropdown in amazon","body":"<p>Actually, I am trying to automate the Amazon website, where I have to select a category from the dropdown, as shown in the snapshot. But when I try to do so, it says <code>ElementNotInteractableException</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/dEyBQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEyBQ.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>WebElement dropDown = driver.findElement(By.xpath(&quot;//div[@class='nav-search-scope nav-sprite']&quot;));\ndropDown.click();\n// Scroll the dropdown element into view using JavaScript\nJavascriptExecutor je = (JavascriptExecutor) driver;\nje.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, dropDown);\n\n// Wait for the dropdown to be clickable and visible\nwait.until(ExpectedConditions.elementToBeClickable(dropDown));\n\n\n//selecting dropdown\nSelect select = new Select(dropDown);\nselect.selectByIndex(1);\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696768733,"post_id":77253569,"comment_id":136193057,"body_markdown":"Don&#39;t write a JPA query, write a dedicated SQL query that retrieves what you need (or write the proper JPA query which does that instead of navigating all objects and relations to get a few properties).","body":"Don&#39;t write a JPA query, write a dedicated SQL query that retrieves what you need (or write the proper JPA query which does that instead of navigating all objects and relations to get a few properties)."},{"owner":{"account_id":27265998,"reputation":1,"user_id":20788024,"display_name":"Gabriel Lagrota"},"score":0,"creation_date":1696771932,"post_id":77253569,"comment_id":136193379,"body_markdown":"@M.Deinum can you give to me some example(s) please?","body":"@M.Deinum can you give to me some example(s) please?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696829349,"post_id":77253569,"comment_id":136197959,"body_markdown":"A sample of what? I Don&#39;t know your model so I don&#39;t know what to write as a query. I assume you know how to write a proper JPQL or SQL query for the data you need. If you are quering some toplevel JPA entity then iterate over it gettting properties and properties of nested structures you are simply doing it wrong.","body":"A sample of what? I Don&#39;t know your model so I don&#39;t know what to write as a query. I assume you know how to write a proper JPQL or SQL query for the data you need. If you are quering some toplevel JPA entity then iterate over it gettting properties and properties of nested structures you are simply doing it wrong."}],"answers":[{"tags":[],"owner":{"account_id":27736279,"reputation":1,"user_id":21173797,"display_name":"obaibula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696773772,"creation_date":1696773772,"answer_id":77253900,"question_id":77253569,"body_markdown":"If you are querying a JPA entity field using a JPA query, you need to ensure that the field you are looking up in the database has an appropriate B-tree index. In your case, create an index on the &#39;year&#39; column; it should significantly improve the performance. Also, ensure that you really need all the data you fetch from the database.","title":"Performance issue with JPA dashboards","body":"<p>If you are querying a JPA entity field using a JPA query, you need to ensure that the field you are looking up in the database has an appropriate B-tree index. In your case, create an index on the 'year' column; it should significantly improve the performance. Also, ensure that you really need all the data you fetch from the database.</p>\n"}],"owner":{"account_id":27265998,"reputation":1,"user_id":20788024,"display_name":"Gabriel Lagrota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696773772,"creation_date":1696767332,"question_id":77253569,"body_markdown":"I have a production server that is experiencing severe performance issues because  need to display annual sales data in a graphical report.\r\n\r\nI didn&#39;t find any way to obtain all this data, other than through a JPA query with the year filter. However, this results in a massive volume of data, causing the application to be very slow.\r\n\r\nHow could I improve the performance of this type of generalist query?","title":"Performance issue with JPA dashboards","body":"<p>I have a production server that is experiencing severe performance issues because  need to display annual sales data in a graphical report.</p>\n<p>I didn't find any way to obtain all this data, other than through a JPA query with the year filter. However, this results in a massive volume of data, causing the application to be very slow.</p>\n<p>How could I improve the performance of this type of generalist query?</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1696769894,"post_id":77253680,"comment_id":136193175,"body_markdown":"Actually you just iterate once over the Queue, then connect its tail with its head. Of course you&#39;ll now get an infinite loop. To &#39;escape&#39; the infinite loop, you have to extend your if a little bit: `while(iter.next != null &amp;&amp; iter.next != head)`. But still, you will not &#39;re-add&#39; any other elements. What you should do instead is to 1) In a first loop, find the end (&#39;tail&#39;) of the queue and save that to its own variable. 2) run your algorithm and in there, each time before you do `iter = iter.next;` you add the current node to the end of the tail (`tail.next = iter;`) and then ...","body":"Actually you just iterate once over the Queue, then connect its tail with its head. Of course you&#39;ll now get an infinite loop. To &#39;escape&#39; the infinite loop, you have to extend your if a little bit: <code>while(iter.next != null &amp;&amp; iter.next != head)</code>. But still, you will not &#39;re-add&#39; any other elements. What you should do instead is to 1) In a first loop, find the end (&#39;tail&#39;) of the queue and save that to its own variable. 2) run your algorithm and in there, each time before you do <code>iter = iter.next;</code> you add the current node to the end of the tail (<code>tail.next = iter;</code>) and then ..."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1696769970,"post_id":77253680,"comment_id":136193182,"body_markdown":"and then jump tail to the element `tail = iter`, then do `iter = iter.next;`.","body":"and then jump tail to the element <code>tail = iter</code>, then do <code>iter = iter.next;</code>."}],"answers":[{"tags":[],"owner":{"account_id":13073313,"reputation":16,"user_id":9446247,"display_name":"عبدالعالم الشيباني"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696770068,"creation_date":1696770068,"answer_id":77253714,"question_id":77253680,"body_markdown":"The reason your code is entering an infinite loop during the second iteration of the while loop is because you&#39;re not resetting the iter pointer to the head of the linked list after you&#39;ve traversed it once. As a result, during the second iteration of the for loop, iter is already at the end of the list from the previous iteration, and the while loop condition iter.next != null is never satisfied, leading to an infinite loop.\r\n\r\nTo fix this issue, you need to reset the iter pointer to the head of the linked list before starting the next iteration of the for loop. Here&#39;s the corrected code:\r\n\r\n    class Solution&lt;E&gt; {\r\n        public Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n) {\r\n            Node&lt;E&gt; iter = head;\r\n            \r\n            for (int i = 0; i &lt; n; i++) {\r\n                // Traverse to the end of the linked list\r\n                while (iter.next != null) {\r\n                    iter = iter.next;\r\n                }\r\n                \r\n                // Connect the end of the list to the head\r\n                iter.next = head;\r\n                \r\n                // Reset iter to the head for the next iteration\r\n                iter = head;\r\n            }\r\n            \r\n            return head;\r\n        }\r\n    }\r\n\r\nBy resetting iter to head after each iteration of the for loop, you ensure that the while loop starts from the beginning of the list in each iteration, and the code should work as expected, connecting the nodes the specified number of times without entering an infinite loop.\r\n","title":"I want to connect nodes the same number of times, but it ends up in an infinite loop","body":"<p>The reason your code is entering an infinite loop during the second iteration of the while loop is because you're not resetting the iter pointer to the head of the linked list after you've traversed it once. As a result, during the second iteration of the for loop, iter is already at the end of the list from the previous iteration, and the while loop condition iter.next != null is never satisfied, leading to an infinite loop.</p>\n<p>To fix this issue, you need to reset the iter pointer to the head of the linked list before starting the next iteration of the for loop. Here's the corrected code:</p>\n<pre><code>class Solution&lt;E&gt; {\n    public Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n) {\n        Node&lt;E&gt; iter = head;\n        \n        for (int i = 0; i &lt; n; i++) {\n            // Traverse to the end of the linked list\n            while (iter.next != null) {\n                iter = iter.next;\n            }\n            \n            // Connect the end of the list to the head\n            iter.next = head;\n            \n            // Reset iter to the head for the next iteration\n            iter = head;\n        }\n        \n        return head;\n    }\n}\n</code></pre>\n<p>By resetting iter to head after each iteration of the for loop, you ensure that the while loop starts from the beginning of the list in each iteration, and the code should work as expected, connecting the nodes the specified number of times without entering an infinite loop.</p>\n"}],"owner":{"account_id":27501734,"reputation":11,"user_id":20985290,"display_name":"hyo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253714,"answer_count":1,"score":0,"last_activity_date":1696773747,"creation_date":1696769298,"question_id":77253680,"body_markdown":"```\r\nclass Solution&lt;E&gt; {\r\n    public  Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n){\r\n        Node&lt;E&gt; iter = head;\r\n        for(int i = 0;i&lt; n;i++){\r\n            while(iter.next != null){\r\n                iter = iter.next;\r\n            }\r\n            iter.next = head;\r\n        }\r\n\r\n        return head;\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThe `reproduceByN` method attempts to connect nodes a specified number of times, but it encounters an infinite loop during the second iteration of the `while` loop.\r\n\r\n\r\nThe expected outcome was to traverse the nodes to the end in the `while` loop and then add the same nodes afterward, repeating this process for a specified number of times using the `for` loop. However, it unexpectedly enters an infinite loop midway, and I&#39;m unsure about the solution.","title":"I want to connect nodes the same number of times, but it ends up in an infinite loop","body":"<pre><code>class Solution&lt;E&gt; {\n    public  Node&lt;E&gt; reproduceByN(Node&lt;E&gt; head, int n){\n        Node&lt;E&gt; iter = head;\n        for(int i = 0;i&lt; n;i++){\n            while(iter.next != null){\n                iter = iter.next;\n            }\n            iter.next = head;\n        }\n\n        return head;\n\n    }\n\n}\n\n</code></pre>\n<p>The <code>reproduceByN</code> method attempts to connect nodes a specified number of times, but it encounters an infinite loop during the second iteration of the <code>while</code> loop.</p>\n<p>The expected outcome was to traverse the nodes to the end in the <code>while</code> loop and then add the same nodes afterward, repeating this process for a specified number of times using the <code>for</code> loop. However, it unexpectedly enters an infinite loop midway, and I'm unsure about the solution.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1565079029,"post_id":57371613,"comment_id":101228255,"body_markdown":"Please show your stacktrace","body":"Please show your stacktrace"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1565080812,"post_id":57371613,"comment_id":101229148,"body_markdown":"_&quot;Caused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)&quot;_","body":"<i>&quot;Caused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)&quot;</i>"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1565081164,"post_id":57371613,"comment_id":101229335,"body_markdown":"Possible duplicate of [How do I unlock a SQLite database?](https://stackoverflow.com/questions/151026/how-do-i-unlock-a-sqlite-database)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/151026/how-do-i-unlock-a-sqlite-database\">How do I unlock a SQLite database?</a>"},{"owner":{"account_id":2105451,"reputation":1322,"user_id":1871885,"accept_rate":65,"display_name":"Ermintar"},"score":1,"creation_date":1565082413,"post_id":57371613,"comment_id":101230008,"body_markdown":"Why are you using  Collecte oldCollecte = this.find(obj.getId()); outside of transaction bonds?","body":"Why are you using  Collecte oldCollecte = this.find(obj.getId()); outside of transaction bonds?"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092171,"post_id":57371613,"comment_id":101235175,"body_markdown":"@Augusto I&#39;am not sure, I have not find a solution to my problem in this topic","body":"@Augusto I&#39;am not sure, I have not find a solution to my problem in this topic"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092179,"post_id":57371613,"comment_id":101235184,"body_markdown":"@MarkRotteveel Yes I see that, but I don&#39;t know how to fix that, can I say to hibernate to unlock my db ?","body":"@MarkRotteveel Yes I see that, but I don&#39;t know how to fix that, can I say to hibernate to unlock my db ?"},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565092189,"post_id":57371613,"comment_id":101235188,"body_markdown":"@Ermintar yes thanks, it&#39;s a mistake I changed that","body":"@Ermintar yes thanks, it&#39;s a mistake I changed that"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1565092749,"post_id":57371613,"comment_id":101235518,"body_markdown":"I don&#39;t normally use sqlite, but as far as I know, depending on the version and the exact compilation options, it may only allow a single connection. Or possibly you have multiple processes open that access the same database.","body":"I don&#39;t normally use sqlite, but as far as I know, depending on the version and the exact compilation options, it may only allow a single connection. Or possibly you have multiple processes open that access the same database."},{"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"score":0,"creation_date":1565093342,"post_id":57371613,"comment_id":101235878,"body_markdown":"@MarkRotteveel yes I have already read that somewhere, but my HibernateUtil classe give only one instance of session in order to avoid this problem. I try &quot;fuser&quot; commande on &quot;bd.db&quot; and there are only one PID when I start my program (the PID of my program I think)","body":"@MarkRotteveel yes I have already read that somewhere, but my HibernateUtil classe give only one instance of session in order to avoid this problem. I try &quot;fuser&quot; commande on &quot;bd.db&quot; and there are only one PID when I start my program (the PID of my program I think)"}],"answers":[{"tags":[],"owner":{"account_id":11022381,"reputation":242,"user_id":8096208,"display_name":"WonChul Heo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565080173,"creation_date":1565080173,"answer_id":57371900,"question_id":57371613,"body_markdown":"I think it will be resolved by placing the start of the transaction at the top of the method.","title":"How to fix : &quot;Unable to commit against JDBC Connection&quot; error in hibernate when I update entity","body":"<p>I think it will be resolved by placing the start of the transaction at the top of the method.</p>\n"}],"owner":{"account_id":13437987,"reputation":115,"user_id":9695903,"display_name":"Nooby"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10918,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696773635,"creation_date":1565078993,"question_id":57371613,"body_markdown":"I try to do an update function to update the entity with hibernate.\r\nso I did that : \r\n\r\n\r\n\tpublic boolean update(Collecte obj) {\r\n\t\tTransaction transaction = null;\r\n\t\ttry {\r\n\t\t\tSession session = HibernateUtil.getSessionFactory().openSession();\t\r\n\t        transaction = session.beginTransaction(); \r\n\t\t\t\r\n\t\t\tCollecte oldCollecte = this.find(obj.getId());\r\n\t\t\tCollecte oldCollecteMerged = (Collecte) session.merge(oldCollecte);\r\n\t\t\tCollecte objMerged = (Collecte) session.merge(obj);\r\n\t\r\n\t\t\toldCollecteMerged.setId(objMerged.getId());\r\n\t\t\toldCollecteMerged.setAdresse(objMerged.getAdresse());\r\n\t\t\toldCollecteMerged.setAuteur(objMerged.getAuteur());\r\n\t\t\toldCollecteMerged.setDate(objMerged.getDate());\r\n\t\t\toldCollecteMerged.setEnquete(objMerged.getEnquete());\r\n\t\t\toldCollecteMerged.setGmao(objMerged.getGmao());\r\n\t\t\toldCollecteMerged.setLocal(objMerged.getLocal());\r\n\t\t\toldCollecteMerged.setPce(objMerged.getPce());\r\n\t\t\toldCollecteMerged.setReponse(objMerged.getReponse());\r\n\r\n\t\t\tsession.merge(oldCollecteMerged);\r\n\t\t\ttransaction.commit();\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (transaction != null) {\r\n\t\t\t\ttransaction.rollback();\r\n\t\t\t}\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\nBut an error triggers at the line &quot;translation.commit()&quot; :\r\n\r\n- Unable to commit against JDBC Connection\r\n\r\nEdit : \r\nMore exactly, this is the full error message :\r\n\r\n```\r\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n\tat dao.CollecteDAO.update(CollecteDAO.java:77)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.DB.exec(DB.java:178)\r\n\tat org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\r\n\t... 40 more\r\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\r\n\tat dao.CollecteDAO.update(CollecteDAO.java:77)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.DB.exec(DB.java:178)\r\n\tat org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\r\n\tat org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\r\n\t... 40 more\r\nHibernate: select enquete0_.id as id1_4_, enquete0_.cloture as cloture2_4_, enquete0_.dateFermeture as dateFerm3_4_, enquete0_.dateOuverture as dateOuve4_4_, enquete0_.user_id as user_id6_4_, enquete0_.titre as titre5_4_ from Enquete enquete0_ where enquete0_.id=?\r\nao&#251;t 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nWARN: SQL Error: 5, SQLState: null\r\nao&#251;t 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\r\nERROR: [SQLITE_BUSY]  The database file is locked (database is locked)\r\nException in thread &quot;AWT-EventQueue-0&quot; javax.persistence.OptimisticLockException: org.hibernate.exception.LockAcquisitionException: could not prepare statement\r\n\tat org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:277)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:98)\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1514)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:135)\r\n\tat dao.EnqueteDAO.find(EnqueteDAO.java:106)\r\n\tat dao.EnqueteDAO.find(EnqueteDAO.java:1)\r\n\tat Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:126)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6539)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\r\n\tat java.awt.Component.processEvent(Component.java:6304)\r\n\tat java.awt.Container.processEvent(Container.java:2239)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4889)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2297)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2283)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2746)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4711)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\r\n\tat java.awt.EventQueue.access$500(EventQueue.java:97)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:709)\r\n\tat java.awt.EventQueue$3.run(EventQueue.java:703)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:733)\r\n\tat java.awt.EventQueue$4.run(EventQueue.java:731)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\r\nCaused by: org.hibernate.exception.LockAcquisitionException: could not prepare statement\r\n\tat org.hibernate.dialect.SQLiteDialect$3.convert(SQLiteDialect.java:203)\r\n\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\r\n\tat org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1984)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1914)\r\n\tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1892)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:937)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2689)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2672)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2501)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1508)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\r\n\t... 40 more\r\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:941)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:953)\r\n\tat org.sqlite.core.DB.throwex(DB.java:918)\r\n\tat org.sqlite.core.NativeDB.prepare_utf8(Native Method)\r\n\tat org.sqlite.core.NativeDB.prepare(NativeDB.java:134)\r\n\tat org.sqlite.core.DB.prepare(DB.java:257)\r\n\tat org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:47)\r\n\tat org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\r\n\tat org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\r\n\tat org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:35)\r\n\tat org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:241)\r\n\tat org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:205)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\r\n\tat org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\r\n\t... 56 more\r\n\r\n\r\n```\r\n\r\n**I tried:** \r\n\r\n- Call my update function at the start of my main =&gt; in this case the update function works\r\n- Use the &quot;fuser&quot; command in order to see if another process uses my &quot;bd.db&quot; file, but apparently not. \r\n- I have change the LockMode in my query like that : \r\n```\r\nsession.createQuery(&quot;update Collecte set local=true where id= ?0&quot;)\r\n\t\t\t.setParameter(0, obj.getId())\r\n\t\t\t.setLockMode(&quot;alias&quot;, LockMode.WRITE)\r\n\t\t\t.executeUpdate();\r\n\r\n```\r\n       =&gt; but I have the same error \r\n\r\n**Maybe**\r\n\r\n- Maybe my program does not have the right to change data in my program? (even if my insert function works well)\r\n- It seems to be a kind of conflict? The &quot;merge&quot; has to avoid this kind of error no? \r\n- It&#39;s may about the lockMode ? ","title":"How to fix : &quot;Unable to commit against JDBC Connection&quot; error in hibernate when I update entity","body":"<p>I try to do an update function to update the entity with hibernate.\nso I did that : </p>\n\n<pre><code>public boolean update(Collecte obj) {\n    Transaction transaction = null;\n    try {\n        Session session = HibernateUtil.getSessionFactory().openSession();  \n        transaction = session.beginTransaction(); \n\n        Collecte oldCollecte = this.find(obj.getId());\n        Collecte oldCollecteMerged = (Collecte) session.merge(oldCollecte);\n        Collecte objMerged = (Collecte) session.merge(obj);\n\n        oldCollecteMerged.setId(objMerged.getId());\n        oldCollecteMerged.setAdresse(objMerged.getAdresse());\n        oldCollecteMerged.setAuteur(objMerged.getAuteur());\n        oldCollecteMerged.setDate(objMerged.getDate());\n        oldCollecteMerged.setEnquete(objMerged.getEnquete());\n        oldCollecteMerged.setGmao(objMerged.getGmao());\n        oldCollecteMerged.setLocal(objMerged.getLocal());\n        oldCollecteMerged.setPce(objMerged.getPce());\n        oldCollecteMerged.setReponse(objMerged.getReponse());\n\n        session.merge(oldCollecteMerged);\n        transaction.commit();   \n    } catch (Exception e) {\n        e.printStackTrace();\n        if (transaction != null) {\n            transaction.rollback();\n        }\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>But an error triggers at the line \"translation.commit()\" :</p>\n\n<ul>\n<li>Unable to commit against JDBC Connection</li>\n</ul>\n\n<p>Edit : \nMore exactly, this is the full error message :</p>\n\n<pre><code>org.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at dao.CollecteDAO.update(CollecteDAO.java:77)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.DB.exec(DB.java:178)\n    at org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\n    ... 40 more\norg.hibernate.TransactionException: Unable to commit against JDBC Connection\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:87)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:272)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)\n    at dao.CollecteDAO.update(CollecteDAO.java:77)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:121)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.DB.exec(DB.java:178)\n    at org.sqlite.SQLiteConnection.commit(SQLiteConnection.java:404)\n    at org.hibernate.resource.jdbc.internal.AbstractLogicalConnectionImplementor.commit(AbstractLogicalConnectionImplementor.java:81)\n    ... 40 more\nHibernate: select enquete0_.id as id1_4_, enquete0_.cloture as cloture2_4_, enquete0_.dateFermeture as dateFerm3_4_, enquete0_.dateOuverture as dateOuve4_4_, enquete0_.user_id as user_id6_4_, enquete0_.titre as titre5_4_ from Enquete enquete0_ where enquete0_.id=?\naoût 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nWARN: SQL Error: 5, SQLState: null\naoût 06, 2019 10:24:08 AM org.hibernate.engine.jdbc.spi.SqlExceptionHelper logExceptions\nERROR: [SQLITE_BUSY]  The database file is locked (database is locked)\nException in thread \"AWT-EventQueue-0\" javax.persistence.OptimisticLockException: org.hibernate.exception.LockAcquisitionException: could not prepare statement\n    at org.hibernate.internal.ExceptionConverterImpl.wrapLockException(ExceptionConverterImpl.java:277)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:98)\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1514)\n    at org.hibernate.query.Query.getResultList(Query.java:135)\n    at dao.EnqueteDAO.find(EnqueteDAO.java:106)\n    at dao.EnqueteDAO.find(EnqueteDAO.java:1)\n    at Controlleur.Ctr_formulaire.actionPerformed(Ctr_formulaire.java:126)\n    at javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:2022)\n    at javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2348)\n    at javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:402)\n    at javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:259)\n    at javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:252)\n    at java.awt.Component.processMouseEvent(Component.java:6539)\n    at javax.swing.JComponent.processMouseEvent(JComponent.java:3324)\n    at java.awt.Component.processEvent(Component.java:6304)\n    at java.awt.Container.processEvent(Container.java:2239)\n    at java.awt.Component.dispatchEventImpl(Component.java:4889)\n    at java.awt.Container.dispatchEventImpl(Container.java:2297)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4904)\n    at java.awt.LightweightDispatcher.processMouseEvent(Container.java:4535)\n    at java.awt.LightweightDispatcher.dispatchEvent(Container.java:4476)\n    at java.awt.Container.dispatchEventImpl(Container.java:2283)\n    at java.awt.Window.dispatchEventImpl(Window.java:2746)\n    at java.awt.Component.dispatchEvent(Component.java:4711)\n    at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:760)\n    at java.awt.EventQueue.access$500(EventQueue.java:97)\n    at java.awt.EventQueue$3.run(EventQueue.java:709)\n    at java.awt.EventQueue$3.run(EventQueue.java:703)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    at java.awt.EventQueue$4.run(EventQueue.java:733)\n    at java.awt.EventQueue$4.run(EventQueue.java:731)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    at java.awt.EventQueue.dispatchEvent(EventQueue.java:730)\n    at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:205)\n    at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)\n    at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\n    at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)\n    at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)\nCaused by: org.hibernate.exception.LockAcquisitionException: could not prepare statement\n    at org.hibernate.dialect.SQLiteDialect$3.convert(SQLiteDialect.java:203)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:182)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:148)\n    at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1984)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1914)\n    at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1892)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:937)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340)\n    at org.hibernate.loader.Loader.doList(Loader.java:2689)\n    at org.hibernate.loader.Loader.doList(Loader.java:2672)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2506)\n    at org.hibernate.loader.Loader.list(Loader.java:2501)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:504)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:395)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:220)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1508)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1537)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1505)\n    ... 40 more\nCaused by: org.sqlite.SQLiteException: [SQLITE_BUSY]  The database file is locked (database is locked)\n    at org.sqlite.core.DB.newSQLException(DB.java:941)\n    at org.sqlite.core.DB.newSQLException(DB.java:953)\n    at org.sqlite.core.DB.throwex(DB.java:918)\n    at org.sqlite.core.NativeDB.prepare_utf8(Native Method)\n    at org.sqlite.core.NativeDB.prepare(NativeDB.java:134)\n    at org.sqlite.core.DB.prepare(DB.java:257)\n    at org.sqlite.core.CorePreparedStatement.&lt;init&gt;(CorePreparedStatement.java:47)\n    at org.sqlite.jdbc3.JDBC3PreparedStatement.&lt;init&gt;(JDBC3PreparedStatement.java:30)\n    at org.sqlite.jdbc4.JDBC4PreparedStatement.&lt;init&gt;(JDBC4PreparedStatement.java:19)\n    at org.sqlite.jdbc4.JDBC4Connection.prepareStatement(JDBC4Connection.java:35)\n    at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:241)\n    at org.sqlite.jdbc3.JDBC3Connection.prepareStatement(JDBC3Connection.java:205)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:146)\n    at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:172)\n    ... 56 more\n\n\n</code></pre>\n\n<p><strong>I tried:</strong> </p>\n\n<ul>\n<li>Call my update function at the start of my main => in this case the update function works</li>\n<li>Use the \"fuser\" command in order to see if another process uses my \"bd.db\" file, but apparently not. </li>\n<li>I have change the LockMode in my query like that : </li>\n</ul>\n\n<pre><code>session.createQuery(\"update Collecte set local=true where id= ?0\")\n            .setParameter(0, obj.getId())\n            .setLockMode(\"alias\", LockMode.WRITE)\n            .executeUpdate();\n\n</code></pre>\n\n<pre><code>   =&gt; but I have the same error \n</code></pre>\n\n<p><strong>Maybe</strong></p>\n\n<ul>\n<li>Maybe my program does not have the right to change data in my program? (even if my insert function works well)</li>\n<li>It seems to be a kind of conflict? The \"merge\" has to avoid this kind of error no? </li>\n<li>It's may about the lockMode ? </li>\n</ul>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696772753,"creation_date":1695414072,"answer_id":77160463,"question_id":77160457,"body_markdown":"There are two solution:\r\n\r\nIf you want to load everything immediately:\r\n\r\n    List&lt;Person&gt; people = mapper.readValue(fileReader, mapper.getTypeFactory().constructCollectionType(ArrayList.class, Person.class));\r\n\r\nor faster\r\n\r\n    List&lt;Person&gt; people = Arrays.asList(mapper.readValue(fileReader, Person[].class))\r\n\r\notherwise you can retrieve a MappingIterator to iterate over the elements\r\n\r\n    MappingIterator&lt;Person&gt; iterator = mapper.readerFor(Person.class).readValues(fileReader);\r\n\r\nIf you choose the version with MappingIterator, please remember to close the iterator when you have finish to use it, in order to release any resources associated with it.","title":"How to read JSON that starts with square brackets using Jackson?","body":"<p>There are two solution:</p>\n<p>If you want to load everything immediately:</p>\n<pre><code>List&lt;Person&gt; people = mapper.readValue(fileReader, mapper.getTypeFactory().constructCollectionType(ArrayList.class, Person.class));\n</code></pre>\n<p>or faster</p>\n<pre><code>List&lt;Person&gt; people = Arrays.asList(mapper.readValue(fileReader, Person[].class))\n</code></pre>\n<p>otherwise you can retrieve a MappingIterator to iterate over the elements</p>\n<pre><code>MappingIterator&lt;Person&gt; iterator = mapper.readerFor(Person.class).readValues(fileReader);\n</code></pre>\n<p>If you choose the version with MappingIterator, please remember to close the iterator when you have finish to use it, in order to release any resources associated with it.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1696775480,"accepted_answer_id":77160463,"answer_count":1,"score":3,"last_activity_date":1696772753,"creation_date":1695414033,"question_id":77160457,"body_markdown":"How to read a JSON list of elements using Jackson library? \r\nIt basically starts with square brackets, like the following one :\r\n\r\n    [\r\n       {\r\n          &quot;firstName&quot;:&quot;a&quot;,\r\n          &quot;lastName&quot;:&quot;a&quot;\r\n       },\r\n       {\r\n          &quot;firstName&quot;:&quot;b&quot;,\r\n          &quot;lastName&quot;:&quot;b&quot;\r\n       },\r\n       {\r\n          &quot;firstName&quot;:&quot;c&quot;,\r\n          &quot;lastName&quot;:&quot;c&quot;\r\n       }\r\n    ]\r\n\r\nMost of the time the JSON starts with curly brackets and it is easy to map it to a java class :\r\n\r\n\tPerson person = mapper.readValue(fileReader, Person.class);\r\n\r\nBut when the JSON starts with Square brackets how it can be read?\r\n\r\n\r\n","title":"How to read JSON that starts with square brackets using Jackson?","body":"<p>How to read a JSON list of elements using Jackson library?\nIt basically starts with square brackets, like the following one :</p>\n<pre><code>[\n   {\n      &quot;firstName&quot;:&quot;a&quot;,\n      &quot;lastName&quot;:&quot;a&quot;\n   },\n   {\n      &quot;firstName&quot;:&quot;b&quot;,\n      &quot;lastName&quot;:&quot;b&quot;\n   },\n   {\n      &quot;firstName&quot;:&quot;c&quot;,\n      &quot;lastName&quot;:&quot;c&quot;\n   }\n]\n</code></pre>\n<p>Most of the time the JSON starts with curly brackets and it is easy to map it to a java class :</p>\n<pre><code>Person person = mapper.readValue(fileReader, Person.class);\n</code></pre>\n<p>But when the JSON starts with Square brackets how it can be read?</p>\n"},{"tags":["java","spring-boot","header","mockserver"],"owner":{"account_id":28662128,"reputation":1,"user_id":21946850,"display_name":"Tech Savy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696772513,"creation_date":1696772513,"question_id":77253844,"body_markdown":"I have a Spring boot application wherein I am trying to post a byte array data to a Mock server(org.mock-server) endpoint that I configured in my local for development and testing purposes.\r\n\r\nI am using 5.13.2 version of mockserver. Following is the dependency in my pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.13.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAs I post the data using rest template it fails with the following message in mock server\r\n\r\n**didn&#39;t match expectation:**\r\n**because:**\r\n\r\n  **method matched** \r\n\r\n  **path matched**\r\n\r\n  **body matched**\r\n\r\n  **headers didn&#39;t match**\r\n\r\nAs I am using Spring&#39;s MediaType.MULTIPART_FORM_DATA, behind the scenes it appends boundary value and the header finally becomes like the following\r\n\r\n    &quot;multipart/form data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot;\r\n\r\nSimilar to spring-boot application I am setting set the expectation in Mockserver  application as \r\n\r\n    .withContentType(MediaType.MULTIPART_FORM_DATA))\r\n\r\nHowever, Mockserver doesn&#39;t append any boundary values.\r\n\r\nDue to this, my request doesn&#39;t match the expectation and it fails saying headers didn&#39;t match.\r\n\r\n\r\nFollowing is what I get in the error message in mock server:\r\n\r\n \r\n\r\n     didn&#39;t match expectation:\r\n      {\r\n        &quot;httpRequest&quot; : {\r\n          &quot;method&quot; : &quot;POST&quot;,\r\n          &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\r\n          &quot;headers&quot; : {\r\n            &quot;content-type&quot; : [ &quot;multipart/form-data&quot; ]\r\n          }\r\n        },\r\n        &quot;httpResponseClassCallback&quot; : {\r\n          &quot;callbackClass&quot; : &quot;client.mock.MockServer$MockServerTestCallback&quot;\r\n        },\r\n        &quot;id&quot; : &quot;5ad06177-2fb7-4a1e-a67d-3efd4aad451e&quot;,\r\n        &quot;priority&quot; : 0,\r\n        &quot;timeToLive&quot; : {\r\n          &quot;unlimited&quot; : true\r\n        },\r\n        &quot;times&quot; : {\r\n          &quot;unlimited&quot; : true\r\n        }\r\n      }\r\n     because:\r\n      method matched\r\n      path matched\r\n      body matched\r\n      headers didn&#39;t match\r\n\r\nand the request received in mock server:\r\n\r\n    {\r\n        &quot;method&quot; : &quot;POST&quot;,\r\n        &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\r\n        &quot;headers&quot; : {\r\n          &quot;content-length&quot; : [ &quot;187787&quot; ],\r\n          &quot;X-Forwarded-Proto&quot; : [ &quot;https&quot; ],\r\n          &quot;X-Forwarded-Port&quot; : [ &quot;443&quot; ],\r\n          &quot;X-Forwarded-For&quot; : [ &quot;10.227.150.116&quot; ],\r\n          &quot;X-Amzn-Trace-Id&quot; : [ &quot;Root=1-6522a19a-0f4fcbe5241bf6491903bb64&quot; ],\r\n          &quot;User-Agent&quot; : [ &quot;Java/1.8.0_361&quot; ],\r\n          &quot;Host&quot; : [ &quot;mock server url&quot; ],\r\n          &quot;Content-Type&quot; : [ &quot;multipart/form-data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot; ],\r\n          &quot;Accept&quot; : [ &quot;text/plain, application/json, application/*+json, */*&quot; ]\r\n        },\r\n        &quot;keepAlive&quot; : true,\r\n        &quot;secure&quot; : false,\r\n         ...\r\n         ...\r\n\r\nIs there a way I can match the incoming headers in mock-server?","title":"spring boot MediaType.MULTIPART_FORM_DATA_VALUE doesn&#39;t match with org.mock-server MediaType.MULTIPART_FORM_DATA","body":"<p>I have a Spring boot application wherein I am trying to post a byte array data to a Mock server(org.mock-server) endpoint that I configured in my local for development and testing purposes.</p>\n<p>I am using 5.13.2 version of mockserver. Following is the dependency in my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n            &lt;artifactId&gt;mockserver-netty-no-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;5.13.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>As I post the data using rest template it fails with the following message in mock server</p>\n<p><strong>didn't match expectation:</strong>\n<strong>because:</strong></p>\n<p><strong>method matched</strong></p>\n<p><strong>path matched</strong></p>\n<p><strong>body matched</strong></p>\n<p><strong>headers didn't match</strong></p>\n<p>As I am using Spring's MediaType.MULTIPART_FORM_DATA, behind the scenes it appends boundary value and the header finally becomes like the following</p>\n<pre><code>&quot;multipart/form data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot;\n</code></pre>\n<p>Similar to spring-boot application I am setting set the expectation in Mockserver  application as</p>\n<pre><code>.withContentType(MediaType.MULTIPART_FORM_DATA))\n</code></pre>\n<p>However, Mockserver doesn't append any boundary values.</p>\n<p>Due to this, my request doesn't match the expectation and it fails saying headers didn't match.</p>\n<p>Following is what I get in the error message in mock server:</p>\n<pre><code> didn't match expectation:\n  {\n    &quot;httpRequest&quot; : {\n      &quot;method&quot; : &quot;POST&quot;,\n      &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\n      &quot;headers&quot; : {\n        &quot;content-type&quot; : [ &quot;multipart/form-data&quot; ]\n      }\n    },\n    &quot;httpResponseClassCallback&quot; : {\n      &quot;callbackClass&quot; : &quot;client.mock.MockServer$MockServerTestCallback&quot;\n    },\n    &quot;id&quot; : &quot;5ad06177-2fb7-4a1e-a67d-3efd4aad451e&quot;,\n    &quot;priority&quot; : 0,\n    &quot;timeToLive&quot; : {\n      &quot;unlimited&quot; : true\n    },\n    &quot;times&quot; : {\n      &quot;unlimited&quot; : true\n    }\n  }\n because:\n  method matched\n  path matched\n  body matched\n  headers didn't match\n</code></pre>\n<p>and the request received in mock server:</p>\n<pre><code>{\n    &quot;method&quot; : &quot;POST&quot;,\n    &quot;path&quot; : &quot;&lt;some url&gt;&quot;,\n    &quot;headers&quot; : {\n      &quot;content-length&quot; : [ &quot;187787&quot; ],\n      &quot;X-Forwarded-Proto&quot; : [ &quot;https&quot; ],\n      &quot;X-Forwarded-Port&quot; : [ &quot;443&quot; ],\n      &quot;X-Forwarded-For&quot; : [ &quot;10.227.150.116&quot; ],\n      &quot;X-Amzn-Trace-Id&quot; : [ &quot;Root=1-6522a19a-0f4fcbe5241bf6491903bb64&quot; ],\n      &quot;User-Agent&quot; : [ &quot;Java/1.8.0_361&quot; ],\n      &quot;Host&quot; : [ &quot;mock server url&quot; ],\n      &quot;Content-Type&quot; : [ &quot;multipart/form-data;boundary=clexl9TkRm9qMj0rUEmsVt3WtQmwNfoffzTIIHN&quot; ],\n      &quot;Accept&quot; : [ &quot;text/plain, application/json, application/*+json, */*&quot; ]\n    },\n    &quot;keepAlive&quot; : true,\n    &quot;secure&quot; : false,\n     ...\n     ...\n</code></pre>\n<p>Is there a way I can match the incoming headers in mock-server?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":4,"creation_date":1696735104,"post_id":77252174,"comment_id":136190611,"body_markdown":"`the iteration value is not carrying over from the method consistently` What exactly does that mean? `Is it possible to prevent the variables from a method from being destroyed?` Again, what exactly does that mean? Variables vanish when their scope ends.","body":"<code>the iteration value is not carrying over from the method consistently</code> What exactly does that mean? <code>Is it possible to prevent the variables from a method from being destroyed?</code> Again, what exactly does that mean? Variables vanish when their scope ends."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1696735533,"post_id":77252174,"comment_id":136190626,"body_markdown":"Rest `j` back to `0` when calling `draw` - or better yet, making a local variable","body":"Rest <code>j</code> back to <code>0</code> when calling <code>draw</code> - or better yet, making a local variable"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":6,"creation_date":1696739453,"post_id":77252174,"comment_id":136190785,"body_markdown":"BTW Java&#39;s `Collections` class provides a `shuffle()` method that basically does this for you.  Just shuffle your deck after putting it into a `List`, then use `remove()` to pull out one card at a time.  Doesn&#39;t matter which card, after a shuffle the order will be random.","body":"BTW Java&#39;s <code>Collections</code> class provides a <code>shuffle()</code> method that basically does this for you.  Just shuffle your deck after putting it into a <code>List</code>, then use <code>remove()</code> to pull out one card at a time.  Doesn&#39;t matter which card, after a shuffle the order will be random."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696757485,"post_id":77252174,"comment_id":136192040,"body_markdown":"You variables are already instance variables - so their values will persist between method calls. The porblem is you are not reseting `j` variable between call by setting it to 0. I dont think `j` needs to be an instance variable.","body":"You variables are already instance variables - so their values will persist between method calls. The porblem is you are not reseting <code>j</code> variable between call by setting it to 0. I dont think <code>j</code> needs to be an instance variable."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1696760835,"post_id":77252174,"comment_id":136192341,"body_markdown":"How to draw n random cards (which you have implemented as Strings): `List&lt;String&gt; cards = new ArrayList&lt;&gt;(Arrays.asList(DeckOfCards)); Collections.shuffle(cards); List&lt;String&gt; hand = cards.subList(0, n);`","body":"How to draw n random cards (which you have implemented as Strings): <code>List&lt;String&gt; cards = new ArrayList&lt;&gt;(Arrays.asList(DeckOfCards)); Collections.shuffle(cards); List&lt;String&gt; hand = cards.subList(0, n);</code>"},{"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"score":0,"creation_date":1696793130,"post_id":77252174,"comment_id":136195495,"body_markdown":"@tkausl I mean that I want the i value saved after running the method and carrying over the next time I run the method.   I understand the trash collector destroys it if there is no reference to it (i.e. when the method ends) so it is eventually destroyed, but I am not sure how to save the iteration and carry it over to every instance of the method &#39;draw&#39; being run.","body":"@tkausl I mean that I want the i value saved after running the method and carrying over the next time I run the method.   I understand the trash collector destroys it if there is no reference to it (i.e. when the method ends) so it is eventually destroyed, but I am not sure how to save the iteration and carry it over to every instance of the method &#39;draw&#39; being run."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696922679,"post_id":77252174,"comment_id":136211116,"body_markdown":"I&#39;d go with the suggestion in the comment from Bohemian. Shuffle the deck in the `Deck` constructor.  When a card is drawn, remove it from the head (or tail) of the list. You could, instead, have a `nextCard` counter that indexes the `List` and gets incremented when a card is drawn.","body":"I&#39;d go with the suggestion in the comment from Bohemian. Shuffle the deck in the <code>Deck</code> constructor.  When a card is drawn, remove it from the head (or tail) of the list. You could, instead, have a <code>nextCard</code> counter that indexes the <code>List</code> and gets incremented when a card is drawn."}],"answers":[{"tags":[],"owner":{"account_id":27736279,"reputation":1,"user_id":21173797,"display_name":"obaibula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696771949,"creation_date":1696771949,"answer_id":77253812,"question_id":77252174,"body_markdown":"First, ensure that you initialize your &quot;alreadyDrawnCards&quot; array with &quot;-1&quot; values using an **instance initializer block**. This is important because when an array of ints is instantiated in Java, it will always have a card with a value of &quot;0&quot; in java:\r\n\r\n    {\r\n        Arrays.fill(alreadyDrawnCards, -1);\r\n    }\r\n\r\nNext, let&#39;s fix the code to correctly search for duplicates in the array. This is a brute-force approach, but let&#39;s focus on correctness before optimizing for performance:\r\n\r\n    for (var j = 0; j &lt; alreadyDrawnCards.length; j++) {\r\n            var alreadyDrawnCard = alreadyDrawnCards[j];\r\n            if (drawnCard == alreadyDrawnCard) {\r\n                drawnCard = (int) (Math.random() * 52);\r\n                j = 0;\r\n            }\r\n        }\r\n\r\nAdditionally, there&#39;s no need to check if i &lt; 53 here because you&#39;ll encounter an exception regardless. Instead, you can add the following code at the beginning of your draw method to handle an empty deck gracefully::\r\n\r\n    if(i == 52){\r\n            throw new ArrayIndexOutOfBoundsException(&quot;Deck is empty&quot;);\r\n        }\r\n\r\nThis ensures that your code correctly handles the case when the deck is empty.\r\n\r\n\r\n\r\nHope it helps.","title":"Java variable passing from method - a deck draw program","body":"<p>First, ensure that you initialize your &quot;alreadyDrawnCards&quot; array with &quot;-1&quot; values using an <strong>instance initializer block</strong>. This is important because when an array of ints is instantiated in Java, it will always have a card with a value of &quot;0&quot; in java:</p>\n<pre><code>{\n    Arrays.fill(alreadyDrawnCards, -1);\n}\n</code></pre>\n<p>Next, let's fix the code to correctly search for duplicates in the array. This is a brute-force approach, but let's focus on correctness before optimizing for performance:</p>\n<pre><code>for (var j = 0; j &lt; alreadyDrawnCards.length; j++) {\n        var alreadyDrawnCard = alreadyDrawnCards[j];\n        if (drawnCard == alreadyDrawnCard) {\n            drawnCard = (int) (Math.random() * 52);\n            j = 0;\n        }\n    }\n</code></pre>\n<p>Additionally, there's no need to check if i &lt; 53 here because you'll encounter an exception regardless. Instead, you can add the following code at the beginning of your draw method to handle an empty deck gracefully::</p>\n<pre><code>if(i == 52){\n        throw new ArrayIndexOutOfBoundsException(&quot;Deck is empty&quot;);\n    }\n</code></pre>\n<p>This ensures that your code correctly handles the case when the deck is empty.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":28732510,"reputation":3,"user_id":22004159,"display_name":"Puppy_With_Pinecone"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696771949,"creation_date":1696734527,"question_id":77252174,"body_markdown":"The method of a class to draw a random card from a deck and prevent repeat draws is failing to do so because the iteration value is not carrying over from the method consistently.  Is it possible to prevent the variables from a method from being destroyed?   \r\n\r\nHere is the class and method that I&#39;m using for the deck draw portion of the code:\r\n\r\n    public class Deck\r\n    {\r\n       // Array for the deck of cards\r\n       private String[] DeckOfCards =\r\n       { &quot; 2 of spades &quot;, &quot; 3 of spades &quot;, &quot; 4 of spades &quot;, &quot; 5 of spades &quot;, &quot; 6 of spades &quot;, &quot; 7 of spades        \r\n         &quot;, &quot; 8 of spades &quot;, &quot; 9 of spades &quot;, &quot; 10 of spades &quot;, &quot; Jack of spades &quot;, &quot; Queen of spades &quot;,\r\n         &quot; King of Spades &quot;, &quot; Ace of spades &quot;, &quot; 2 of clubs &quot;, &quot; 3 of clubs &quot;, &quot; 4 of clubs &quot;, &quot; 5 of        \r\n         clubs &quot;, &quot; 6 of clubs &quot;, &quot; 7 of clubs &quot;, &quot; 8 of clubs &quot;, &quot; 9 of clubs &quot;, &quot; 10 of clubs &quot;, \r\n         &quot; Jack of clubs &quot;, &quot; Queen of clubs &quot;, &quot; King of Clubs &quot;, &quot; Ace of clubs &quot;, &quot; 2 of diamonds &quot;,\r\n         &quot; 3 of diamonds &quot;, &quot; 4 of diamonds &quot;, &quot; 5 of diamonds &quot;, &quot; 6 of diamonds &quot;, &quot; 7 of diamonds &quot;,\r\n         &quot; 8 of diamonds &quot;, &quot; 9 of diamonds &quot;, &quot; 10 of diamonds &quot;, &quot; Jack of diamonds &quot;, \r\n         &quot; Queen of     diamonds &quot;, &quot; King of Diamonds &quot;, &quot; Ace of diamonds &quot;, &quot; 2 of hearts &quot;, \r\n         &quot; 3 of hearts &quot;, &quot; 4 of hearts &quot;, &quot; 5 of hearts &quot;, &quot; 6 of hearts &quot;, &quot; 7 of hearts &quot;,\r\n         &quot; 8 of hearts &quot;, &quot; 9 of hearts &quot;, &quot; 10 of hearts &quot;, &quot; Jack of hearts &quot;, &quot; Queen of hearts &quot;,\r\n         &quot; King of Hearts &quot;, &quot; Ace of hearts &quot; };\r\n   \r\n       // Declaring other variables\r\n       int[] alreadyDrawnCards = new int[53];\r\n       int drawnCard;\r\n       int i = 0;\r\n       int j = 0;\r\n   \r\n       /**\r\n        *  method used to draw cards\r\n        */\r\n       protected int draw()\r\n       {      \r\n      \r\n          drawnCard = (int)(Math.random() * 53);\r\n      \r\n          while(j &lt; i)\r\n          {\r\n             if(drawnCard == alreadyDrawnCards[j])\r\n             {\r\n            \r\n                drawnCard = (int)(Math.random() * 53);\r\n                j = -1;         \r\n             }\r\n         \r\n             j++;\r\n          }\r\n      \r\n          if(i &lt; 53) \r\n          {\r\n             alreadyDrawnCards[i] = drawnCard; // add drawn card to drawn cards\r\n             i++;\r\n          }\r\n      \r\n          System.out.println(&quot;The&quot; + DeckOfCards[drawnCard] + &quot;was drawn from the deck&quot;);\r\n      \r\n          return drawnCard;\r\n       }\r\n    }\r\n\r\nThe code for the invocation of the method is:  \r\n\r\n    public class BlackjackGameSimulator\r\n    {\r\n\r\n       public static void main(String[] args)\r\n       {\r\n          Deck BlackJackDeck = new Deck();\r\n          BlackJackDeck.draw();\r\n\r\n       }\r\n    }\r\n\r\n","title":"Java variable passing from method - a deck draw program","body":"<p>The method of a class to draw a random card from a deck and prevent repeat draws is failing to do so because the iteration value is not carrying over from the method consistently.  Is it possible to prevent the variables from a method from being destroyed?</p>\n<p>Here is the class and method that I'm using for the deck draw portion of the code:</p>\n<pre><code>public class Deck\n{\n   // Array for the deck of cards\n   private String[] DeckOfCards =\n   { &quot; 2 of spades &quot;, &quot; 3 of spades &quot;, &quot; 4 of spades &quot;, &quot; 5 of spades &quot;, &quot; 6 of spades &quot;, &quot; 7 of spades        \n     &quot;, &quot; 8 of spades &quot;, &quot; 9 of spades &quot;, &quot; 10 of spades &quot;, &quot; Jack of spades &quot;, &quot; Queen of spades &quot;,\n     &quot; King of Spades &quot;, &quot; Ace of spades &quot;, &quot; 2 of clubs &quot;, &quot; 3 of clubs &quot;, &quot; 4 of clubs &quot;, &quot; 5 of        \n     clubs &quot;, &quot; 6 of clubs &quot;, &quot; 7 of clubs &quot;, &quot; 8 of clubs &quot;, &quot; 9 of clubs &quot;, &quot; 10 of clubs &quot;, \n     &quot; Jack of clubs &quot;, &quot; Queen of clubs &quot;, &quot; King of Clubs &quot;, &quot; Ace of clubs &quot;, &quot; 2 of diamonds &quot;,\n     &quot; 3 of diamonds &quot;, &quot; 4 of diamonds &quot;, &quot; 5 of diamonds &quot;, &quot; 6 of diamonds &quot;, &quot; 7 of diamonds &quot;,\n     &quot; 8 of diamonds &quot;, &quot; 9 of diamonds &quot;, &quot; 10 of diamonds &quot;, &quot; Jack of diamonds &quot;, \n     &quot; Queen of     diamonds &quot;, &quot; King of Diamonds &quot;, &quot; Ace of diamonds &quot;, &quot; 2 of hearts &quot;, \n     &quot; 3 of hearts &quot;, &quot; 4 of hearts &quot;, &quot; 5 of hearts &quot;, &quot; 6 of hearts &quot;, &quot; 7 of hearts &quot;,\n     &quot; 8 of hearts &quot;, &quot; 9 of hearts &quot;, &quot; 10 of hearts &quot;, &quot; Jack of hearts &quot;, &quot; Queen of hearts &quot;,\n     &quot; King of Hearts &quot;, &quot; Ace of hearts &quot; };\n\n   // Declaring other variables\n   int[] alreadyDrawnCards = new int[53];\n   int drawnCard;\n   int i = 0;\n   int j = 0;\n\n   /**\n    *  method used to draw cards\n    */\n   protected int draw()\n   {      \n  \n      drawnCard = (int)(Math.random() * 53);\n  \n      while(j &lt; i)\n      {\n         if(drawnCard == alreadyDrawnCards[j])\n         {\n        \n            drawnCard = (int)(Math.random() * 53);\n            j = -1;         \n         }\n     \n         j++;\n      }\n  \n      if(i &lt; 53) \n      {\n         alreadyDrawnCards[i] = drawnCard; // add drawn card to drawn cards\n         i++;\n      }\n  \n      System.out.println(&quot;The&quot; + DeckOfCards[drawnCard] + &quot;was drawn from the deck&quot;);\n  \n      return drawnCard;\n   }\n}\n</code></pre>\n<p>The code for the invocation of the method is:</p>\n<pre><code>public class BlackjackGameSimulator\n{\n\n   public static void main(String[] args)\n   {\n      Deck BlackJackDeck = new Deck();\n      BlackJackDeck.draw();\n\n   }\n}\n</code></pre>\n"},{"tags":["java","swing","jinternalframe","jdesktoppane"],"answers":[{"tags":[],"owner":{"account_id":48120,"reputation":93879,"user_id":142822,"display_name":"KV Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321363784,"creation_date":1321363784,"answer_id":8137079,"question_id":8136944,"body_markdown":"Try to set `FlowLayout` of JFrame and use `add()` method to add JDesktopPane.\r\n\r\n    frame.setLayout(new FlowLayout());\r\n    tableDisplay.setPreferredSize(new Dimension(100,100));\r\n    frame.add(tableDisplay);","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>Try to set <code>FlowLayout</code> of JFrame and use <code>add()</code> method to add JDesktopPane.</p>\n\n<pre><code>frame.setLayout(new FlowLayout());\ntableDisplay.setPreferredSize(new Dimension(100,100));\nframe.add(tableDisplay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1321373276,"creation_date":1321371775,"answer_id":8138986,"question_id":8136944,"body_markdown":"The collaborator which is responsible for doing the move/resize is the DesktopPaneManager. So I would try to limit the movement to within the pane. Here&#39;s a quick &amp; dirty proof of concept:\r\n\r\n        JDesktopPane background = new JDesktopPane();\r\n        JInternalFrame internalFrame = new JInternalFrame(&quot;Internal Frame&quot;,\r\n                true, true, true, true);\r\n        DesktopManager manager = new DefaultDesktopManager() {\r\n            /** This moves the &lt;code&gt;JComponent&lt;/code&gt; and repaints the damaged areas. */\r\n            @Override\r\n            public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\r\n                boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\r\n                if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) return;\r\n                f.setBounds(newX, newY, newWidth, newHeight);\r\n                if(didResize) {\r\n                    f.validate();\r\n                } \r\n            }\r\n          \r\n            protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\r\n                if (newX &lt; 0 || newY &lt; 0) return false;\r\n                if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\r\n                if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\r\n                return true;\r\n            }\r\n            \r\n        };\r\n        background.setDesktopManager(manager);\r\n\r\nThere are some issues to solve, obviously :-) F.i. \r\n\r\n- use the manager as appropriate for the LAF, which could be done by implementing a wrapper DesktopManager which delegates everything else to the LAF installed\r\n- check for side-effects (the drag appears a unresponsive after having hit a wall, there might be other things needed)\r\n\r\n**Edit**\r\n\r\njust to clarify: with &quot;unresponsive&quot; I mean that the user has to release and press/drag again (once the internal frame has hit the desktop bounds) to further move the. That&#39;s not overly surprising, as the BorderListener (that&#39;s the mouseListener installed by BasicInternalFrame) keeps some state related to the initial press and then requests re-locates relative to that initial location. Dragging the mouse with the frame stuck somewhere confuses that internal state. \r\n\r\nInterestingly, looking at the code, it seems like there had been intentions to limit the movement to not push it to the outside,\r\n\r\n\t\t// Make sure we stay in-bounds\r\n\t\tif(newX + i.left &lt;= -__x)\r\n\t\t    newX = -__x - i.left + 1;\r\n\t\tif(newY + i.top &lt;= -__y)\r\n\t\t    newY = -__y - i.top + 1;\r\n\t\tif(newX + __x + i.right &gt;= pWidth)\r\n\t\t    newX = pWidth - __x - i.right - 1;\r\n\t\tif(newY + __y + i.bottom &gt;= pHeight)\r\n\t\t    newY =  pHeight - __y - i.bottom - 1;\r\n\r\nthat&#39;s relative to the current mouse location, though. ","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>The collaborator which is responsible for doing the move/resize is the DesktopPaneManager. So I would try to limit the movement to within the pane. Here's a quick &amp; dirty proof of concept:</p>\n\n<pre><code>    JDesktopPane background = new JDesktopPane();\n    JInternalFrame internalFrame = new JInternalFrame(\"Internal Frame\",\n            true, true, true, true);\n    DesktopManager manager = new DefaultDesktopManager() {\n        /** This moves the &lt;code&gt;JComponent&lt;/code&gt; and repaints the damaged areas. */\n        @Override\n        public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\n            boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\n            if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) return;\n            f.setBounds(newX, newY, newWidth, newHeight);\n            if(didResize) {\n                f.validate();\n            } \n        }\n\n        protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\n            if (newX &lt; 0 || newY &lt; 0) return false;\n            if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\n            if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\n            return true;\n        }\n\n    };\n    background.setDesktopManager(manager);\n</code></pre>\n\n<p>There are some issues to solve, obviously :-) F.i. </p>\n\n<ul>\n<li>use the manager as appropriate for the LAF, which could be done by implementing a wrapper DesktopManager which delegates everything else to the LAF installed</li>\n<li>check for side-effects (the drag appears a unresponsive after having hit a wall, there might be other things needed)</li>\n</ul>\n\n<p><strong>Edit</strong></p>\n\n<p>just to clarify: with \"unresponsive\" I mean that the user has to release and press/drag again (once the internal frame has hit the desktop bounds) to further move the. That's not overly surprising, as the BorderListener (that's the mouseListener installed by BasicInternalFrame) keeps some state related to the initial press and then requests re-locates relative to that initial location. Dragging the mouse with the frame stuck somewhere confuses that internal state. </p>\n\n<p>Interestingly, looking at the code, it seems like there had been intentions to limit the movement to not push it to the outside,</p>\n\n<pre><code>    // Make sure we stay in-bounds\n    if(newX + i.left &lt;= -__x)\n        newX = -__x - i.left + 1;\n    if(newY + i.top &lt;= -__y)\n        newY = -__y - i.top + 1;\n    if(newX + __x + i.right &gt;= pWidth)\n        newX = pWidth - __x - i.right - 1;\n    if(newY + __y + i.bottom &gt;= pHeight)\n        newY =  pHeight - __y - i.bottom - 1;\n</code></pre>\n\n<p>that's relative to the current mouse location, though. </p>\n"},{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1321447504,"creation_date":1321445505,"answer_id":8151453,"question_id":8136944,"body_markdown":"Full credit to kleopatra for pointing me in the right direction.\r\n\r\nI think I&#39;ve solved the unresponsiveness issue, and am sharing my solution here. Following kleopatra&#39;s answer, if the mouse point is outside of the pane, the internal frame is at the edge of the pane. Also, this continues to follow the mouse - i.e. if you move the mouse off the bottom of the pane, and then round to the right hand side of the pane, the frame will follow along the bottom of the pane, and then up the right sand of the pane.\r\n\r\n    public class BoundedDesktopManager extends DefaultDesktopManager {\r\n       \r\n      @Override\r\n      public void beginDraggingFrame(JComponent f) {\r\n        // Don&#39;t do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\r\n      }\r\n    \r\n      @Override\r\n      public void beginResizingFrame(JComponent f, int direction) {\r\n        // Don&#39;t do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\r\n      }\r\n    \r\n      @Override\r\n      public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\r\n        boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\r\n        if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) {\r\n          Container parent = f.getParent();\r\n          Dimension parentSize = parent.getSize();\r\n          int boundedX = (int) Math.min(Math.max(0, newX), parentSize.getWidth() - newWidth);\r\n          int boundedY = (int) Math.min(Math.max(0, newY), parentSize.getHeight() - newHeight);\r\n          f.setBounds(boundedX, boundedY, newWidth, newHeight);\r\n        } else {\r\n          f.setBounds(newX, newY, newWidth, newHeight);\r\n        }\r\n        if(didResize) {\r\n          f.validate();\r\n        }\r\n      }\r\n    \r\n      protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\r\n        if (newX &lt; 0 || newY &lt; 0) return false;\r\n        if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\r\n        if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\r\n        return true;\r\n      }\r\n    }","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>Full credit to kleopatra for pointing me in the right direction.</p>\n\n<p>I think I've solved the unresponsiveness issue, and am sharing my solution here. Following kleopatra's answer, if the mouse point is outside of the pane, the internal frame is at the edge of the pane. Also, this continues to follow the mouse - i.e. if you move the mouse off the bottom of the pane, and then round to the right hand side of the pane, the frame will follow along the bottom of the pane, and then up the right sand of the pane.</p>\n\n<pre><code>public class BoundedDesktopManager extends DefaultDesktopManager {\n\n  @Override\n  public void beginDraggingFrame(JComponent f) {\n    // Don't do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\n  }\n\n  @Override\n  public void beginResizingFrame(JComponent f, int direction) {\n    // Don't do anything. Needed to prevent the DefaultDesktopManager setting the dragMode\n  }\n\n  @Override\n  public void setBoundsForFrame(JComponent f, int newX, int newY, int newWidth, int newHeight) {\n    boolean didResize = (f.getWidth() != newWidth || f.getHeight() != newHeight);\n    if (!inBounds((JInternalFrame) f, newX, newY, newWidth, newHeight)) {\n      Container parent = f.getParent();\n      Dimension parentSize = parent.getSize();\n      int boundedX = (int) Math.min(Math.max(0, newX), parentSize.getWidth() - newWidth);\n      int boundedY = (int) Math.min(Math.max(0, newY), parentSize.getHeight() - newHeight);\n      f.setBounds(boundedX, boundedY, newWidth, newHeight);\n    } else {\n      f.setBounds(newX, newY, newWidth, newHeight);\n    }\n    if(didResize) {\n      f.validate();\n    }\n  }\n\n  protected boolean inBounds(JInternalFrame f, int newX, int newY, int newWidth, int newHeight) {\n    if (newX &lt; 0 || newY &lt; 0) return false;\n    if (newX + newWidth &gt; f.getDesktopPane().getWidth()) return false;\n    if (newY + newHeight &gt; f.getDesktopPane().getHeight()) return false;\n    return true;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6848439,"reputation":191,"user_id":5266381,"display_name":"Mike Lampton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440547210,"creation_date":1440547210,"answer_id":32215986,"question_id":8136944,"body_markdown":"It is important that the top of the JInternalFrame not get hidden, since that is where its grab bar and control buttons are located.  So, as a last step before setting bounds, make sure that your y value is not negative: for example, with a statement like y = Math.max(0, y).","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>It is important that the top of the JInternalFrame not get hidden, since that is where its grab bar and control buttons are located.  So, as a last step before setting bounds, make sure that your y value is not negative: for example, with a statement like y = Math.max(0, y).</p>\n"},{"tags":[],"owner":{"account_id":4009160,"reputation":575,"user_id":3303059,"display_name":"ericek111"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696771848,"creation_date":1696716374,"answer_id":77251667,"question_id":8136944,"body_markdown":"This fully satisfies my needs. It keeps the dragged frame fully visible and it &quot;slides&quot; the window on the edge of the desktop pane area when the mouse cursor is moved beyond it.\r\n\r\n```java\r\nJDesktopPane desktop = new JDesktopPane();\r\nDesktopManager manager = new DefaultDesktopManager() {\r\n    @Override\r\n    public void dragFrame(JComponent f, int newX, int newY) {\r\n        JDesktopPane desktop = ((JInternalFrame) f).getDesktopPane();\r\n        newX = Math.clamp(newX, 0, desktop.getWidth() - f.getWidth());\r\n        newY = Math.clamp(newY, 0, desktop.getHeight() - f.getHeight());\r\n        super.dragFrame(f, newX, newY);\r\n    }\r\n};\r\nbackground.setDesktopManager(desktop);\r\n```\r\n`Math.clamp` is available in Java 21. [Implement it yourself](https://stackoverflow.com/a/16657020/3303059) if needed.","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>This fully satisfies my needs. It keeps the dragged frame fully visible and it &quot;slides&quot; the window on the edge of the desktop pane area when the mouse cursor is moved beyond it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JDesktopPane desktop = new JDesktopPane();\nDesktopManager manager = new DefaultDesktopManager() {\n    @Override\n    public void dragFrame(JComponent f, int newX, int newY) {\n        JDesktopPane desktop = ((JInternalFrame) f).getDesktopPane();\n        newX = Math.clamp(newX, 0, desktop.getWidth() - f.getWidth());\n        newY = Math.clamp(newY, 0, desktop.getHeight() - f.getHeight());\n        super.dragFrame(f, newX, newY);\n    }\n};\nbackground.setDesktopManager(desktop);\n</code></pre>\n<p><code>Math.clamp</code> is available in Java 21. <a href=\"https://stackoverflow.com/a/16657020/3303059\">Implement it yourself</a> if needed.</p>\n"}],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7444,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8138986,"answer_count":5,"score":8,"last_activity_date":1696771848,"creation_date":1321363140,"question_id":8136944,"body_markdown":"When I have a JInternalFrame in a JDesktopPane, the JInternalFrame is movable (which is good). However, it&#39;s possible to move it outside of the visible scope of the JDesktopPane (which I&#39;m not so fond of)\r\n\r\nTo see for yourself, here&#39;s some sample code:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n      JFrame frame = new JFrame(&quot;JDesktopPane&quot;);\r\n      JDesktopPane tableDisplay = new JDesktopPane();\r\n    \r\n      JInternalFrame internalFrame = new JInternalFrame(&quot;JInternalFrame&quot;,true,true,true,true);\r\n      internalFrame.setContentPane(new JLabel(&quot;Content&quot;));\r\n      internalFrame.pack();\r\n      internalFrame.setVisible(true);\r\n      tableDisplay.add(internalFrame, JDesktopPane.POPUP_LAYER);\r\n    \r\n      frame.setContentPane(tableDisplay);\r\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n      frame.setMinimumSize(new Dimension(400, 300));\r\n      frame.setVisible(true);\r\n    }\r\n\r\nIs it possible to set either the JInternalFrame or JDesktopPane so that they won&#39;t allow this?","title":"Preventing JInternalFrame from being moved out of a JDesktopPane","body":"<p>When I have a JInternalFrame in a JDesktopPane, the JInternalFrame is movable (which is good). However, it's possible to move it outside of the visible scope of the JDesktopPane (which I'm not so fond of)</p>\n\n<p>To see for yourself, here's some sample code:</p>\n\n<pre><code>public static void main(String[] args) {\n\n  JFrame frame = new JFrame(\"JDesktopPane\");\n  JDesktopPane tableDisplay = new JDesktopPane();\n\n  JInternalFrame internalFrame = new JInternalFrame(\"JInternalFrame\",true,true,true,true);\n  internalFrame.setContentPane(new JLabel(\"Content\"));\n  internalFrame.pack();\n  internalFrame.setVisible(true);\n  tableDisplay.add(internalFrame, JDesktopPane.POPUP_LAYER);\n\n  frame.setContentPane(tableDisplay);\n  frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  frame.setMinimumSize(new Dimension(400, 300));\n  frame.setVisible(true);\n}\n</code></pre>\n\n<p>Is it possible to set either the JInternalFrame or JDesktopPane so that they won't allow this?</p>\n"},{"tags":["java","localization"],"answers":[{"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1381230054,"creation_date":1381230054,"answer_id":19245944,"question_id":19245881,"body_markdown":"You can simply use `getLocalizedMessage()` to display the message, the default implementation just calls `getMessage()`.\r\n\r\nFrom the [documentation of the Throwable class][1]:\r\n\r\n &gt; **public String getLocalizedMessage()**  \r\n &gt; Creates a localized description of this throwable. Subclasses may override this method in order to produce a locale-specific message. For subclasses that do not override this method, the default implementation returns the same result as getMessage().\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29","title":"Localized exceptions in java","body":"<p>You can simply use <code>getLocalizedMessage()</code> to display the message, the default implementation just calls <code>getMessage()</code>.</p>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html#getLocalizedMessage%28%29\" rel=\"nofollow\">documentation of the Throwable class</a>:</p>\n\n<blockquote>\n  <p><strong>public String getLocalizedMessage()</strong><br>\n  Creates a localized description of this throwable. Subclasses may override this method in order to produce a locale-specific message. For subclasses that do not override this method, the default implementation returns the same result as getMessage().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696771347,"creation_date":1696764819,"answer_id":77253443,"question_id":19245881,"body_markdown":"This is a simple demo.\r\n\r\n    import java.util.Locale;\r\n    import java.util.MissingResourceException;\r\n    import java.util.Optional;\r\n    import java.util.ResourceBundle; \r\n    import javax.enterprise.inject.spi.BeanManager;\r\n    import javax.enterprise.inject.spi.CDI;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    public abstract class AbstractException extends RuntimeException {\r\n    \r\n    \t// get locale from request if you are using cdi\r\n \t    @Context\r\n\t    private HttpServletRequest request;\r\n    \r\n    \t@Override\r\n    \tpublic String getLocalizedMessage() {                \r\n            BeanManager beanManager = CDI.current().getBeanManager();\r\n\t\t    HttpServletRequest request = HttpServletRequest.class\r\n\t\t\t\t.cast(beanManager.getReference(beanManager.resolve(beanManager.getBeans(HttpServletRequest.class)),\r\n\t\t\t\t\t\tHttpServletRequest.class, beanManager.createCreationalContext(null)));\r\n\t\t\r\n    \t\tLocale locale = Optional.ofNullable(request).map(HttpServletRequest::getLocale)\r\n    \t\t\t\t.orElseGet(Locale::getDefault); \r\n\t\t    String message;\r\n\t\t    try {\r\n\t\t\t    message = ResourceBundle.getBundle(&quot;messages&quot;, locale).getString(getClass().getName());\r\n\t\t    } catch (MissingResourceException e) {\r\n\t\t    \tmessage = super.getLocalizedMessage();\r\n\t\t    }\r\n\t\t    return message;\r\n    \t}\r\n    }\r\n    public class ExceptionImpl extends AbstractException {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tthrow new ExceptionImpl();\r\n    \t}\r\n    }\r\nThe content of messages_en_US.properties:\r\n\r\n    ExceptionImpl=this is message!","title":"Localized exceptions in java","body":"<p>This is a simple demo.</p>\n<pre><code>import java.util.Locale;\nimport java.util.MissingResourceException;\nimport java.util.Optional;\nimport java.util.ResourceBundle; \nimport javax.enterprise.inject.spi.BeanManager;\nimport javax.enterprise.inject.spi.CDI;\nimport javax.servlet.http.HttpServletRequest;\n\npublic abstract class AbstractException extends RuntimeException {\n\n    // get locale from request if you are using cdi\n    @Context\n    private HttpServletRequest request;\n\n    @Override\n    public String getLocalizedMessage() {                \n        BeanManager beanManager = CDI.current().getBeanManager();\n        HttpServletRequest request = HttpServletRequest.class\n            .cast(beanManager.getReference(beanManager.resolve(beanManager.getBeans(HttpServletRequest.class)),\n                    HttpServletRequest.class, beanManager.createCreationalContext(null)));\n    \n        Locale locale = Optional.ofNullable(request).map(HttpServletRequest::getLocale)\n                .orElseGet(Locale::getDefault); \n        String message;\n        try {\n            message = ResourceBundle.getBundle(&quot;messages&quot;, locale).getString(getClass().getName());\n        } catch (MissingResourceException e) {\n            message = super.getLocalizedMessage();\n        }\n        return message;\n    }\n}\npublic class ExceptionImpl extends AbstractException {\n    public static void main(String[] args) {\n        throw new ExceptionImpl();\n    }\n}\n</code></pre>\n<p>The content of messages_en_US.properties:</p>\n<pre><code>ExceptionImpl=this is message!\n</code></pre>\n"}],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9583,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1696771347,"creation_date":1381229891,"question_id":19245881,"body_markdown":"I have an interface for validation of user&#39;s input. To validate I use some standard Java validators and some custom ones. My custom validators throws a ParseException with a localized message on error. But I don&#39;t know whether Java or third party lib also uses localized messages. \r\n\r\nQuestion: how I get a hint in catch-block whether the exception has a localized message or not (a standard Java way, not a custom exception class/interface)?\r\n","title":"Localized exceptions in java","body":"<p>I have an interface for validation of user's input. To validate I use some standard Java validators and some custom ones. My custom validators throws a ParseException with a localized message on error. But I don't know whether Java or third party lib also uses localized messages. </p>\n\n<p>Question: how I get a hint in catch-block whether the exception has a localized message or not (a standard Java way, not a custom exception class/interface)?</p>\n"},{"tags":["java","spring-boot","security"],"answers":[{"tags":[],"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593035293,"creation_date":1593035293,"answer_id":62564599,"question_id":62563078,"body_markdown":"It actually took a while to understand this weakness and I have read a big part of https://cwe.mitre.org/data/definitions/732.html while doing it. So, the issue is, that when you create files using Java IO, they are created without considering system access rights. We usually don&#39;t want to enable everyone on the host to access the files we create by setting a default mask like `rw-rw-rw-` in Linux.\r\n\r\nUnfortunately Java IO has little means to restrict file access rights. The good thing is, Java&#39;s NIO has better means to do so. Please look into https://stackoverflow.com/questions/664432/how-do-i-programmatically-change-file-permissions whether it solves your problem.","title":"Fixing Incorrect Permission Assignment for Critical Resources (CWE 732)","body":"<p>It actually took a while to understand this weakness and I have read a big part of <a href=\"https://cwe.mitre.org/data/definitions/732.html\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/definitions/732.html</a> while doing it. So, the issue is, that when you create files using Java IO, they are created without considering system access rights. We usually don't want to enable everyone on the host to access the files we create by setting a default mask like <code>rw-rw-rw-</code> in Linux.</p>\n<p>Unfortunately Java IO has little means to restrict file access rights. The good thing is, Java's NIO has better means to do so. Please look into <a href=\"https://stackoverflow.com/questions/664432/how-do-i-programmatically-change-file-permissions\">How do I programmatically change file permissions?</a> whether it solves your problem.</p>\n"}],"owner":{"account_id":17852171,"reputation":21,"user_id":12967690,"display_name":"thomaswtx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9326,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696770140,"creation_date":1593028515,"question_id":62563078,"body_markdown":"I have been looking for solutions to this issue for awhile. Some of the resources I&#39;ve found have recommended using the java.nio library which hasn&#39;t corrected this issue for me. I am using Java, and this has been flagged in multiple places throughout my service. Some flagged examples...\r\n\r\n```private Writer writer```  \r\n```private FileOutputStream outputStream```  \r\n```outputStream = new FileOutputStream(file.getAbsolutePath(), true)```\r\n\r\nI found one other thread speaking about this particular vulnerability for something along the lines of...\r\n\r\n```File file = path.toFile()```  \r\n```File directory = new File(location)```  \r\n\r\nWhich was solved with ```file.setReadable(true)```, and ```directory.setReadable(true, false)```. I can&#39;t seem to find solutions for the other types of permissions that are getting flagged for outputstreams, or FileWriters. Can someone shed some light on this issue? Ah, and the vulnerability is being flagged by code analysis software. I&#39;m not sure if it&#39;s dynamic or static, but it is an automated process for our service that scans for vulnerabilities. ","title":"Fixing Incorrect Permission Assignment for Critical Resources (CWE 732)","body":"<p>I have been looking for solutions to this issue for awhile. Some of the resources I've found have recommended using the java.nio library which hasn't corrected this issue for me. I am using Java, and this has been flagged in multiple places throughout my service. Some flagged examples...</p>\n<p><code>private Writer writer</code><br />\n<code>private FileOutputStream outputStream</code><br />\n<code>outputStream = new FileOutputStream(file.getAbsolutePath(), true)</code></p>\n<p>I found one other thread speaking about this particular vulnerability for something along the lines of...</p>\n<p><code>File file = path.toFile()</code><br />\n<code>File directory = new File(location)</code></p>\n<p>Which was solved with <code>file.setReadable(true)</code>, and <code>directory.setReadable(true, false)</code>. I can't seem to find solutions for the other types of permissions that are getting flagged for outputstreams, or FileWriters. Can someone shed some light on this issue? Ah, and the vulnerability is being flagged by code analysis software. I'm not sure if it's dynamic or static, but it is an automated process for our service that scans for vulnerabilities.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1696761529,"post_id":77250771,"comment_id":136192409,"body_markdown":"i dont really understand why you need your own custom cors filter, all you need to do is to configure the default one that already exists, all in accordance to the docs https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html","body":"i dont really understand why you need your own custom cors filter, all you need to do is to configure the default one that already exists, all in accordance to the docs <a href=\"https://docs.spring.io/spring-security/reference/servlet/integrations/cors.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/integration&zwnj;&#8203;s/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696744097,"creation_date":1696699413,"answer_id":77250818,"question_id":77250771,"body_markdown":"Your code register a bean named `corsFilter` of type `FilterRegistrationBean&lt;CorsFilter&gt;` but according to the exception message Spring searches for a bean named `corsFilter` of type `CorsFilter`.\r\n\r\nYou could try to change your code to\r\n\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n    \r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n\r\n        return new CorsFilter(source);    \r\n    }\r\n\r\nOr, if you want to register the cors filter yourself you need to rename the bean:\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilterRegistration() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n    \r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n    \r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        return bean;\r\n    }\r\n\r\nWhich variant you want to implement will depend on your needs:\r\n* Spring usually orders their filter beans the way they think its best - if this is sufficient I would go with their default order\r\n* If your needs differ from that you need to go with the manual filter registration\r\n\r\n-----\r\n\r\n_Is &quot;corsFilter&quot; some sort of &quot;reserved word&quot; / &quot;reserved bean name&quot;?_\r\n\r\nOne could call it a &quot;reserved bean name&quot;:\r\n\r\n* Once you `@EnableWebSecurity` Spring Security uses `HttpSecurity`\r\n* `HttpSecurity` uses a `CorsConfigurer` to add a `CorsFilter` to the Spring Security chain\r\n* `CorsConfigurer` searches for a bean named &quot;corsFilter&quot;. If it finds one it assumes that this is the `CorsFilter` it should configure and expects it to be of type `CorsFilter`.","title":"corsFilter bean is not created due to BeanNotOfRequiredTypeException","body":"<p>Your code register a bean named <code>corsFilter</code> of type <code>FilterRegistrationBean&lt;CorsFilter&gt;</code> but according to the exception message Spring searches for a bean named <code>corsFilter</code> of type <code>CorsFilter</code>.</p>\n<p>You could try to change your code to</p>\n<pre><code>@Bean\npublic CorsFilter corsFilter() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n    return new CorsFilter(source);    \n}\n</code></pre>\n<p>Or, if you want to register the cors filter yourself you need to rename the bean:</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CorsFilter&gt; corsFilterRegistration() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n    FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    return bean;\n}\n</code></pre>\n<p>Which variant you want to implement will depend on your needs:</p>\n<ul>\n<li>Spring usually orders their filter beans the way they think its best - if this is sufficient I would go with their default order</li>\n<li>If your needs differ from that you need to go with the manual filter registration</li>\n</ul>\n<hr />\n<p><em>Is &quot;corsFilter&quot; some sort of &quot;reserved word&quot; / &quot;reserved bean name&quot;?</em></p>\n<p>One could call it a &quot;reserved bean name&quot;:</p>\n<ul>\n<li>Once you <code>@EnableWebSecurity</code> Spring Security uses <code>HttpSecurity</code></li>\n<li><code>HttpSecurity</code> uses a <code>CorsConfigurer</code> to add a <code>CorsFilter</code> to the Spring Security chain</li>\n<li><code>CorsConfigurer</code> searches for a bean named &quot;corsFilter&quot;. If it finds one it assumes that this is the <code>CorsFilter</code> it should configure and expects it to be of type <code>CorsFilter</code>.</li>\n</ul>\n"}],"owner":{"account_id":13898292,"reputation":33,"user_id":10034488,"display_name":"LittleLingzi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77250818,"answer_count":1,"score":1,"last_activity_date":1696769933,"creation_date":1696698616,"question_id":77250771,"body_markdown":"I have a pretty typical method which would create a corsFilter bean in SpringBoot App, but when my server starts, I see the error saying BeanNotOfRequiredTypeException? Any help? Thanks\r\n\r\n    @Bean\r\n    public FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(true);\r\n        corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\r\n        corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\r\n        corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\r\n\r\n\r\n        FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\r\n        bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\r\n        return bean;`\r\n    }\r\n\r\nCaused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named &#39;corsFilter&#39; is expected to be of type &#39;org.springframework.web.filter.CorsFilter&#39; but was actually of type &#39;org.springframework.boot.web.servlet.FilterRegistrationBean&#39;\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.adaptBeanInstance(AbstractBeanFactory.java:417) ~[spring-beans-5.3.29.jar:5.3.29]\r\n\r\n\r\nthe trace goes to SpringBoot framework and thus it is difficult to troubleshoot.Read a lot in the internet, but no luck","title":"corsFilter bean is not created due to BeanNotOfRequiredTypeException","body":"<p>I have a pretty typical method which would create a corsFilter bean in SpringBoot App, but when my server starts, I see the error saying BeanNotOfRequiredTypeException? Any help? Thanks</p>\n<pre><code>@Bean\npublic FilterRegistrationBean&lt;CorsFilter&gt; corsFilter() {\n    CorsConfiguration corsConfig = new CorsConfiguration();\n    corsConfig.setAllowCredentials(true);\n    corsConfig.setAllowedOrigins(delimitedStringToList(corsFilterAllowedOrigins));\n    corsConfig.setAllowedHeaders(delimitedStringToList(corsFilterAllowedHeaders));\n    corsConfig.setAllowedMethods(delimitedStringToList(corsFilterAllowedMethods));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(corsFilterAllowedPathPattern, corsConfig);\n\n\n    FilterRegistrationBean&lt;CorsFilter&gt; bean = new FilterRegistrationBean&lt;&gt;(new CorsFilter(source));\n    bean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n    return bean;`\n}\n</code></pre>\n<p>Caused by: org.springframework.beans.factory.BeanNotOfRequiredTypeException: Bean named 'corsFilter' is expected to be of type 'org.springframework.web.filter.CorsFilter' but was actually of type 'org.springframework.boot.web.servlet.FilterRegistrationBean'\nat org.springframework.beans.factory.support.AbstractBeanFactory.adaptBeanInstance(AbstractBeanFactory.java:417) ~[spring-beans-5.3.29.jar:5.3.29]</p>\n<p>the trace goes to SpringBoot framework and thus it is difficult to troubleshoot.Read a lot in the internet, but no luck</p>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":334652,"reputation":2551,"user_id":661232,"accept_rate":93,"display_name":"chrislovecnm"},"score":0,"creation_date":1322682425,"post_id":8326946,"comment_id":10272252,"body_markdown":"More details please, and have you looked at spring integration?","body":"More details please, and have you looked at spring integration?"}],"answers":[{"tags":[],"owner":{"account_id":96857,"reputation":4984,"user_id":263052,"display_name":"Jakub Korab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1322821151,"creation_date":1322821151,"answer_id":8354815,"question_id":8326946,"body_markdown":"Spring&#39;s MessageListenerContainers are designed to only hold one MessageListener and run multiple threads through them, in the same way that multiple threads run through a servlet instance.\r\n\r\nA way that you could implement what you are talking about is register the one MessageListener, and have it act as a facade to a set of other listeners that you instantiate into it, and have the facade forward requests to them.","title":"Task distribution using Spring JMS receiving","body":"<p>Spring's MessageListenerContainers are designed to only hold one MessageListener and run multiple threads through them, in the same way that multiple threads run through a servlet instance.</p>\n\n<p>A way that you could implement what you are talking about is register the one MessageListener, and have it act as a facade to a set of other listeners that you instantiate into it, and have the facade forward requests to them.</p>\n"}],"owner":{"account_id":77836,"reputation":1493,"user_id":221897,"accept_rate":100,"display_name":"nishu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8354815,"answer_count":1,"score":1,"last_activity_date":1696768880,"creation_date":1322660916,"question_id":8326946,"body_markdown":"I am trying to receive JMS messages from a JMS queue. On receiving messages they are  forwarded to different servers for processing.\r\n\r\nI want to instantiate Message Listeners with information about server it is communicating with and process status.\r\n\r\nUsing available Spring Message Listener Container Classes only a single stateless instance of Message Listener can be created which is used with multiple threads.\r\n\r\nIs there a solution for adding multiple instances of Message Listener to Message Listener Container?\r\n","title":"Task distribution using Spring JMS receiving","body":"<p>I am trying to receive JMS messages from a JMS queue. On receiving messages they are  forwarded to different servers for processing.</p>\n<p>I want to instantiate Message Listeners with information about server it is communicating with and process status.</p>\n<p>Using available Spring Message Listener Container Classes only a single stateless instance of Message Listener can be created which is used with multiple threads.</p>\n<p>Is there a solution for adding multiple instances of Message Listener to Message Listener Container?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1696763649,"post_id":77252848,"comment_id":136192576,"body_markdown":"“Subscene in Subscne” -&gt; why would you do that?","body":"“Subscene in Subscne” -&gt; why would you do that?"},{"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"score":0,"creation_date":1696765224,"post_id":77252848,"comment_id":136192728,"body_markdown":"Subscene is a standalone component that I encapsulate, and the component can be nested for use.","body":"Subscene is a standalone component that I encapsulate, and the component can be nested for use."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696766607,"post_id":77252848,"comment_id":136192869,"body_markdown":"The text in the image that you posted doesn&#39;t look blurry to me. Also - and I don&#39;t know if it affects your problem - I think you should try to match the JavaFX version with the Java version so maybe you should try to use JavaFX 17 (with JDK 17) or alternatively, JDK 19 with JavaFX 19.","body":"The text in the image that you posted doesn&#39;t look blurry to me. Also - and I don&#39;t know if it affects your problem - I think you should try to match the JavaFX version with the Java version so maybe you should try to use JavaFX 17 (with JDK 17) or alternatively, JDK 19 with JavaFX 19."},{"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"score":0,"creation_date":1696773632,"post_id":77252848,"comment_id":136193513,"body_markdown":"api document &quot;A SubScene is embedded into the main scene or another sub-scene&quot;.In Demo that&#39;s exactly the way I used it. Scene&gt;Subscene&gt;Subscene","body":"api document &quot;A SubScene is embedded into the main scene or another sub-scene&quot;.In Demo that&#39;s exactly the way I used it. Scene&gt;Subscene&gt;Subscene"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1696779895,"post_id":77252848,"comment_id":136194149,"body_markdown":"The same statement is true of and container (for example the `StackPane`s that you use as the content of the `SubScene`). Are you using any of the properties that are specific to the subscene (different depth buffers, cameras, or aliasing)? Otherwise why not just implement this with a regular container (`Region` subclass of some kind)?","body":"The same statement is true of and container (for example the <code>StackPane</code>s that you use as the content of the <code>SubScene</code>). Are you using any of the properties that are specific to the subscene (different depth buffers, cameras, or aliasing)? Otherwise why not just implement this with a regular container (<code>Region</code> subclass of some kind)?"},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696788190,"post_id":77252848,"comment_id":136194981,"body_markdown":"@Abra Zoom in. You’ll find more anti-aliasing on the lower text. Notice the “steps”/chunkiness of curves in the &quot;S”.","body":"@Abra Zoom in. You’ll find more anti-aliasing on the lower text. Notice the “steps”/chunkiness of curves in the &quot;S”."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696788614,"post_id":77252848,"comment_id":136195029,"body_markdown":"@Abra No, matching versions is unnecessary. JavaFX 20 &amp; 21 requires JDK 17 or later. Prior versions such require JDK 11+. See [this Question](https://stackoverflow.com/q/71957134/642706).","body":"@Abra No, matching versions is unnecessary. JavaFX 20 &amp; 21 requires JDK 17 or later. Prior versions such require JDK 11+. See <a href=\"https://stackoverflow.com/q/71957134/642706\">this Question</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1696794121,"post_id":77252848,"comment_id":136195612,"body_markdown":"I was mistaken; the artifact disappears if you set the `vBox` _X_ and _Y_ scales to the same value, which preserves the aspect ratio.","body":"I was mistaken; the artifact disappears if you set the <code>vBox</code> <i>X</i> and <i>Y</i> scales to the same value, which preserves the aspect ratio."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1696892071,"post_id":77252848,"comment_id":136208467,"body_markdown":"If you don&#39;t snap to pixel or you don&#39;t scale in an integer multiple or you scale x and y differently (as pointed out by trashgod), then the system will need to antialias the scene content (graphics and text), and stuff will be blurrier than if snapped to pixel (unrelated to subscenes).  As each line or text won&#39;t fall exactly on pixel boundaries the antialiasing will differ slightly from line to line and character to character.  A HiDPI display exhibits fewer artifacts.  Font smoothing can also play a role as pointed out in [Lee&#39;s answer](https://stackoverflow.com/a/77253630/1155209).","body":"If you don&#39;t snap to pixel or you don&#39;t scale in an integer multiple or you scale x and y differently (as pointed out by trashgod), then the system will need to antialias the scene content (graphics and text), and stuff will be blurrier than if snapped to pixel (unrelated to subscenes).  As each line or text won&#39;t fall exactly on pixel boundaries the antialiasing will differ slightly from line to line and character to character.  A HiDPI display exhibits fewer artifacts.  Font smoothing can also play a role as pointed out in <a href=\"https://stackoverflow.com/a/77253630/1155209\">Lee&#39;s answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":27313798,"reputation":31,"user_id":20828532,"display_name":"LeeWyatt"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1696768574,"creation_date":1696768447,"answer_id":77253630,"question_id":77252848,"body_markdown":"For the blurry text bug, you can refer to the suggestions from [@crschnick][1]. It&#39;s related to the text smoothing mode. You might want to check out the fix he submitted.\r\n\r\n\r\n  [1]: https://github.com/crschnick\r\n\r\n    .text {-fx-font-smoothing-type: gray;}\r\n\r\n\r\nFor reference, check out this link: https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296.","title":"JavaFx Subscene in Subscene Text Blurry","body":"<p>For the blurry text bug, you can refer to the suggestions from <a href=\"https://github.com/crschnick\" rel=\"nofollow noreferrer\">@crschnick</a>. It's related to the text smoothing mode. You might want to check out the fix he submitted.</p>\n<pre><code>.text {-fx-font-smoothing-type: gray;}\n</code></pre>\n<p>For reference, check out this link: <a href=\"https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296\" rel=\"nofollow noreferrer\">https://github.com/dlsc-software-consulting-gmbh/jfxcentral2/issues/296</a>.</p>\n"}],"owner":{"account_id":7703268,"reputation":21,"user_id":5835024,"display_name":"KaLa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696768574,"creation_date":1696753616,"question_id":77252848,"body_markdown":"I found that placing a subscene into another subscene would make the text in the sub-subscene so blurry. I had tried to set the cache for the subscene but did not improve it.Below is the minimum demo and the picture to show the  problem.I do not know if it is a jfx bug or incorrect usage.\r\n\r\nMay I ask how to solve this problem.\r\nI am using jdk version 17 and jfx version 19.\r\n\r\nI tried to add sub-subscene root node directly without using Subscene, and the text was no longer blurry.\r\n\r\n\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.SceneAntialiasing;\r\n    import javafx.scene.SubScene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.ScrollPane;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.text.Text;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class TestSubSceneApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            HBox hBox = new HBox();\r\n            hBox.setPrefHeight(300);\r\n            hBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\r\n            Label label = new Label(&quot;123&quot;);\r\n            label.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Button button = new Button(&quot;testButton&quot;);\r\n            button.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Text text = new Text(&quot;test&quot;);\r\n            text.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            hBox.setSpacing(50);\r\n            hBox.setAlignment(Pos.CENTER);\r\n            hBox.getChildren().addAll(label, button, text);\r\n    \r\n            StackPane stackPane = new StackPane();\r\n            Scene scene = new Scene(stackPane, 1000, 1000);\r\n    \r\n            VBox vBox = new VBox();\r\n            vBox.setSpacing(10);\r\n            //borderPane.setPrefSize(1600,1600);\r\n            vBox.setCache(false);\r\n            vBox.setSnapToPixel(false);\r\n            vBox.setCacheShape(false);\r\n            vBox.getChildren().add(hBox);\r\n            vBox.setScaleX(0.81231312);\r\n            vBox.setScaleY(0.82341123);\r\n    \r\n            SubScene subScene = new SubScene(vBox, 1000, 700);\r\n            stackPane.getChildren().add(subScene);\r\n    \r\n            StackPane content = new StackPane();\r\n            HBox subHBox = new HBox();\r\n            subHBox.setPrefHeight(300);\r\n            SubScene bottomSubScene = new SubScene(content, 1000, 350);\r\n            subHBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\r\n            Label subLabel = new Label(&quot;123&quot;);\r\n            subLabel.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Button subButton = new Button(&quot;testButton&quot;);\r\n            subButton.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            Text subText = new Text(&quot;test&quot;);\r\n            subText.setStyle(&quot;-fx-font-size:30px;&quot;);\r\n            subHBox.getChildren().addAll(subLabel, subButton, subText);\r\n            subHBox.setSpacing(50);\r\n            subHBox.setAlignment(Pos.TOP_CENTER);\r\n            content.getChildren().add(subHBox);\r\n            content.setBackground(new Background(new BackgroundFill(Color.GREY,null,null)));\r\n            //vBox.setPrefSize(500,600);\r\n            //content.setScaleX(0.81231312);\r\n            //content.setScaleY(0.82341123);\r\n            vBox.getChildren().add(bottomSubScene);\r\n    \r\n            stage.setTitle(&quot;Test Demo&quot;);\r\n            stage.setScene(scene);\r\n            stage.setResizable(true);\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zcWDt.png","title":"JavaFx Subscene in Subscene Text Blurry","body":"<p>I found that placing a subscene into another subscene would make the text in the sub-subscene so blurry. I had tried to set the cache for the subscene but did not improve it.Below is the minimum demo and the picture to show the  problem.I do not know if it is a jfx bug or incorrect usage.</p>\n<p>May I ask how to solve this problem.\nI am using jdk version 17 and jfx version 19.</p>\n<p>I tried to add sub-subscene root node directly without using Subscene, and the text was no longer blurry.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.SceneAntialiasing;\nimport javafx.scene.SubScene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ScrollPane;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.scene.text.Text;\nimport javafx.stage.Stage;\n\npublic class TestSubSceneApplication extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        HBox hBox = new HBox();\n        hBox.setPrefHeight(300);\n        hBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\n        Label label = new Label(&quot;123&quot;);\n        label.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Button button = new Button(&quot;testButton&quot;);\n        button.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Text text = new Text(&quot;test&quot;);\n        text.setStyle(&quot;-fx-font-size:30px;&quot;);\n        hBox.setSpacing(50);\n        hBox.setAlignment(Pos.CENTER);\n        hBox.getChildren().addAll(label, button, text);\n\n        StackPane stackPane = new StackPane();\n        Scene scene = new Scene(stackPane, 1000, 1000);\n\n        VBox vBox = new VBox();\n        vBox.setSpacing(10);\n        //borderPane.setPrefSize(1600,1600);\n        vBox.setCache(false);\n        vBox.setSnapToPixel(false);\n        vBox.setCacheShape(false);\n        vBox.getChildren().add(hBox);\n        vBox.setScaleX(0.81231312);\n        vBox.setScaleY(0.82341123);\n\n        SubScene subScene = new SubScene(vBox, 1000, 700);\n        stackPane.getChildren().add(subScene);\n\n        StackPane content = new StackPane();\n        HBox subHBox = new HBox();\n        subHBox.setPrefHeight(300);\n        SubScene bottomSubScene = new SubScene(content, 1000, 350);\n        subHBox.setBackground(new Background(new BackgroundFill(Color.YELLOW,null,null)));\n        Label subLabel = new Label(&quot;123&quot;);\n        subLabel.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Button subButton = new Button(&quot;testButton&quot;);\n        subButton.setStyle(&quot;-fx-font-size:30px;&quot;);\n        Text subText = new Text(&quot;test&quot;);\n        subText.setStyle(&quot;-fx-font-size:30px;&quot;);\n        subHBox.getChildren().addAll(subLabel, subButton, subText);\n        subHBox.setSpacing(50);\n        subHBox.setAlignment(Pos.TOP_CENTER);\n        content.getChildren().add(subHBox);\n        content.setBackground(new Background(new BackgroundFill(Color.GREY,null,null)));\n        //vBox.setPrefSize(500,600);\n        //content.setScaleX(0.81231312);\n        //content.setScaleY(0.82341123);\n        vBox.getChildren().add(bottomSubScene);\n\n        stage.setTitle(&quot;Test Demo&quot;);\n        stage.setScene(scene);\n        stage.setResizable(true);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zcWDt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zcWDt.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":430054,"reputation":1875,"user_id":813268,"accept_rate":89,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1325190635,"creation_date":1325190635,"answer_id":8673043,"question_id":8669938,"body_markdown":"I believe you should be aware of both mentioned criteria. The solution is to use a pool of connection. In this case you share the connections and most of the time do not create a new one, as well as pool usually is limited to a specific number of connection (this is my assumption as of how I would implement it) - so that it doesn&#39;t take all resources in JVM. \r\n\r\nTake a look at [PooledConnectionFactory][1] related section.\r\n\r\nAlso decision to keep connections or to recreate them totally depends on your usage scenario. If you plan to send messages regularly - sharing the connection is the right thing to do - since connection and session (I would recommend sharing sessions if possible in a high traffic) creation are quite expensive operations. However if your messages will be sent not that often ( few times per hour? :) ) - it will make sense not to keep alive the idle connection.\r\n\r\n\r\n  [1]: http://activemq.apache.org/spring-support.html","title":"Durable Topic Connection Design Opinions Sought","body":"<p>I believe you should be aware of both mentioned criteria. The solution is to use a pool of connection. In this case you share the connections and most of the time do not create a new one, as well as pool usually is limited to a specific number of connection (this is my assumption as of how I would implement it) - so that it doesn't take all resources in JVM. </p>\n\n<p>Take a look at <a href=\"http://activemq.apache.org/spring-support.html\" rel=\"nofollow\">PooledConnectionFactory</a> related section.</p>\n\n<p>Also decision to keep connections or to recreate them totally depends on your usage scenario. If you plan to send messages regularly - sharing the connection is the right thing to do - since connection and session (I would recommend sharing sessions if possible in a high traffic) creation are quite expensive operations. However if your messages will be sent not that often ( few times per hour? :) ) - it will make sense not to keep alive the idle connection.</p>\n"}],"owner":{"account_id":1107919,"reputation":318,"user_id":1098929,"accept_rate":100,"display_name":"Roger Joys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1696855212,"accepted_answer_id":8673043,"answer_count":1,"score":1,"last_activity_date":1696768516,"creation_date":1325173608,"question_id":8669938,"body_markdown":"I have a very simple app that is using JMS. The use case that it solves will involve sending small atomic Topic messages. \r\n\r\nMy first pass at this functionality built one connection to the broker and reused it as needed. However, in reading some of the docs, it seems like hanging onto a connection for reuse potentially hogs resources in the JVM.\r\n\r\nSo my dilemma is, do I go incur the overhead of building up and tearing down a connection for every message, or do I incur the cost of hanging onto resources that for the most part sit idle.\r\n\r\nI know there is no one definitive answer and the real answer is &quot;it depends&quot;, but would really like some insight and opinions from others.\r\n\r\n","title":"Durable Topic Connection Design Opinions Sought","body":"<p>I have a very simple app that is using JMS. The use case that it solves will involve sending small atomic Topic messages.</p>\n<p>My first pass at this functionality built one connection to the broker and reused it as needed. However, in reading some of the docs, it seems like hanging onto a connection for reuse potentially hogs resources in the JVM.</p>\n<p>So my dilemma is, do I go incur the overhead of building up and tearing down a connection for every message, or do I incur the cost of hanging onto resources that for the most part sit idle.</p>\n<p>I know there is no one definitive answer and the real answer is &quot;it depends&quot;, but would really like some insight and opinions from others.</p>\n"},{"tags":["java","queue","jms"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326020736,"post_id":8776703,"comment_id":10943136,"body_markdown":"If the Database is down, why not wait until it is up before attempting to proceed.  That way there is no need to replay the messages","body":"If the Database is down, why not wait until it is up before attempting to proceed.  That way there is no need to replay the messages"},{"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"score":0,"creation_date":1326032582,"post_id":8776703,"comment_id":10945180,"body_markdown":"You mean block until DB is up? I am not sure this is ok ... unless I misunderstand your comment.","body":"You mean block until DB is up? I am not sure this is ok ... unless I misunderstand your comment."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1326032746,"post_id":8776703,"comment_id":10945211,"body_markdown":"What would happen if you blocked until the database is up? Does that thread have something more important to do? ;) If it does, I would have that more important thing run in another thread, session or connection.","body":"What would happen if you blocked until the database is up? Does that thread have something more important to do? ;) If it does, I would have that more important thing run in another thread, session or connection."}],"answers":[{"tags":[],"owner":{"account_id":35623,"reputation":30546,"user_id":100957,"accept_rate":93,"display_name":"Heiko Rupp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326023268,"creation_date":1326023268,"answer_id":8777219,"question_id":8776703,"body_markdown":"I think the standard behavior is already doing what you want: if the message broker is using the same database and the database is not available, it will not accept the messages and thus the client will spool them until the message broker is ready again.\r\n\r\nIf they do not share the same database and the message broker is on, it will spool the message and retry if `onMessage` throws an exception.\r\nThe message broker will try to resend according to its configurable policy.","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>I think the standard behavior is already doing what you want: if the message broker is using the same database and the database is not available, it will not accept the messages and thus the client will spool them until the message broker is ready again.</p>\n\n<p>If they do not share the same database and the message broker is on, it will spool the message and retry if <code>onMessage</code> throws an exception.\nThe message broker will try to resend according to its configurable policy.</p>\n"},{"tags":[],"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1326082179,"creation_date":1326082179,"answer_id":8783830,"question_id":8776703,"body_markdown":"After some more research, I have stumbled on the session.recover() which I can use to trigger redelivery. I have seen there is the RedeliveryPolicy class which I can use to set message resend  options. Now my code looks like:\r\n\r\n    ConnectionFactory factory = new ActiveMQConnectionFactory(url);\r\n    RedeliveryPolicy policy = new RedeliveryPolicy();\r\n    policy.setBackOffMultiplier((short) 2);\r\n    policy.setRedeliveryDelay(30000);\r\n    policy.setInitialRedeliveryDelay(60000);\r\n    policy.setUseExponentialBackOff(true);\r\n    ((ActiveMQConnectionFactory)factory).setRedeliveryPolicy(policy);\r\n    \r\n    final Session session = connection.createSession(false,\r\n    \t\t\t\tSession.CLIENT_ACKNOWLEDGE);\r\n    ...\r\n    ...\r\n    ...\r\n    ..\r\n    \r\n    \r\n    //inside onMessage()\r\n    try {\r\n    \tif (DB is available){\r\n    \t\t//process message\r\n    \t\t//save required details to DB\r\n    \t\tmsg.acknowledge();\r\n    \t}\r\n    \telse{\r\n    \t\tsession.recover();\r\n    \t}\r\n    \t} catch (Exception e) {}","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>After some more research, I have stumbled on the session.recover() which I can use to trigger redelivery. I have seen there is the RedeliveryPolicy class which I can use to set message resend  options. Now my code looks like:</p>\n\n<pre><code>ConnectionFactory factory = new ActiveMQConnectionFactory(url);\nRedeliveryPolicy policy = new RedeliveryPolicy();\npolicy.setBackOffMultiplier((short) 2);\npolicy.setRedeliveryDelay(30000);\npolicy.setInitialRedeliveryDelay(60000);\npolicy.setUseExponentialBackOff(true);\n((ActiveMQConnectionFactory)factory).setRedeliveryPolicy(policy);\n\nfinal Session session = connection.createSession(false,\n                Session.CLIENT_ACKNOWLEDGE);\n...\n...\n...\n..\n\n\n//inside onMessage()\ntry {\n    if (DB is available){\n        //process message\n        //save required details to DB\n        msg.acknowledge();\n    }\n    else{\n        session.recover();\n    }\n    } catch (Exception e) {}\n</code></pre>\n"}],"owner":{"account_id":989421,"reputation":81,"user_id":1007131,"accept_rate":29,"display_name":"gkinu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8783830,"answer_count":2,"score":3,"last_activity_date":1696768315,"creation_date":1326017133,"question_id":8776703,"body_markdown":"I have a client that receives messages from a Queue. I currently have a `MessageListener` that implements `onMessage()`. \r\n\r\nOnce the message is received, it is processed further then saved to a Database on the `onMessage()` method; the client then acknowledges the message receipt. \r\n\r\nAs long as the database is up there is no problem. But if the DB is down, the client will not acknowledge. \r\n\r\nTo cater for this, I want the client to be sending scheduled requests to the queue for any unacknowledged messages at scheduled intervals. \r\n\r\nAs it is, the only way I have of doing this is to restart the client which is not Ideal. Is there a way to trigger the queue to resend an unacknowledged message without a restart? \r\n\r\nWhat i have in `onMessage()`:\r\n\r\n    //code to connect to  queue\r\n    try {\r\n\tif (DB is available){\r\n            //process message\r\n            //save required details to DB\r\n            msg.acknowledge();\r\n        }\r\n        else{\r\n            //schedule to request same message later from queue\r\n        }\r\n    } catch (Exception e) {}\r\n","title":"Can I Send a Message Request Directly to a Queue?","body":"<p>I have a client that receives messages from a Queue. I currently have a <code>MessageListener</code> that implements <code>onMessage()</code>. </p>\n\n<p>Once the message is received, it is processed further then saved to a Database on the <code>onMessage()</code> method; the client then acknowledges the message receipt. </p>\n\n<p>As long as the database is up there is no problem. But if the DB is down, the client will not acknowledge. </p>\n\n<p>To cater for this, I want the client to be sending scheduled requests to the queue for any unacknowledged messages at scheduled intervals. </p>\n\n<p>As it is, the only way I have of doing this is to restart the client which is not Ideal. Is there a way to trigger the queue to resend an unacknowledged message without a restart? </p>\n\n<p>What i have in <code>onMessage()</code>:</p>\n\n<pre><code>//code to connect to  queue\ntry {\nif (DB is available){\n        //process message\n        //save required details to DB\n        msg.acknowledge();\n    }\n    else{\n        //schedule to request same message later from queue\n    }\n} catch (Exception e) {}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1696666343,"post_id":77248939,"comment_id":136185101,"body_markdown":"You mean `(char) -1`? Or do you mean you want to represent the string `-1` as a char?","body":"You mean <code>(char) -1</code>? Or do you mean you want to represent the string <code>-1</code> as a char?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":9,"creation_date":1696666451,"post_id":77248939,"comment_id":136185109,"body_markdown":"`char` is an _unsigned_ 16-bit integer. It can&#39;t have the literal value `-1`. Note that doing `(char) -1` will give you the `char` for `65535`.","body":"<code>char</code> is an <i>unsigned</i> 16-bit integer. It can&#39;t have the literal value <code>-1</code>. Note that doing <code>(char) -1</code> will give you the <code>char</code> for <code>65535</code>."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":6,"creation_date":1696668098,"post_id":77248939,"comment_id":136185208,"body_markdown":"The appropriate way is to use `int` as the return type. That is also what Java does in - for example - [`Reader.read()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read()).","body":"The appropriate way is to use <code>int</code> as the return type. That is also what Java does in - for example - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/Reader.html#read()\" rel=\"nofollow noreferrer\"><code>Reader.read()</code></a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1696668148,"post_id":77248939,"comment_id":136185213,"body_markdown":"So if [method parameter] `S` contains more than one non-repeating character, you want method `nonrepeatingCharacter` to return just one of them? Can `S` contain any valid character, including non-printable characters such as [unicode] null, i.e. 0 (zero)?","body":"So if [method parameter] <code>S</code> contains more than one non-repeating character, you want method <code>nonrepeatingCharacter</code> to return just one of them? Can <code>S</code> contain any valid character, including non-printable characters such as [unicode] null, i.e. 0 (zero)?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1696669778,"post_id":77248939,"comment_id":136185358,"body_markdown":"You should in any case be working with *codepoints* these days. When you do, your problem disappears","body":"You should in any case be working with <i>codepoints</i> these days. When you do, your problem disappears"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1696681496,"post_id":77248939,"comment_id":136186388,"body_markdown":"Note that this doesn&#39;t return a non-repeating character, it returns a character with odd parity (it occurs 1, 3, 5 etc times)","body":"Note that this doesn&#39;t return a non-repeating character, it returns a character with odd parity (it occurs 1, 3, 5 etc times)"}],"answers":[{"tags":[],"owner":{"account_id":6022910,"reputation":36,"user_id":4729507,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696666881,"creation_date":1696666881,"answer_id":77248981,"question_id":77248939,"body_markdown":"I guess you want to return a &#39;mark&#39; value when `al.size() == 0`. You can do it like this:\r\n\r\n```java\r\nstatic Character nonrepeatingCharacter(String S)\r\n{\r\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n    \r\n    for(int i=0; i&lt;S.length(); i++){\r\n        if(!al.contains(S.charAt(i))){\r\n            al.add(S.charAt(i));\r\n        }\r\n        else{\r\n            al.remove(Character.valueOf(S.charAt(i)));\r\n        }\r\n    }\r\n    \r\n    if(al.size() == 0){\r\n        return null;\r\n    }\r\n    \r\n    return al.get(0);\r\n}\r\n```","title":"how to return -1 as char in java","body":"<p>I guess you want to return a 'mark' value when <code>al.size() == 0</code>. You can do it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Character nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        return null;\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1696681129,"creation_date":1696678927,"answer_id":77249618,"question_id":77248939,"body_markdown":"You can&#39;t directly return -1 as a char because char in Java is unsigned and doesn&#39;t support negative values. If you want to return -1, you need to change the return type of your method to int:\r\n\r\n    static int nonrepeatingCharacter(String S)\r\n    {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i=0; i&lt;S.length(); i++){\r\n            if(!al.contains(S.charAt(i))){\r\n                al.add(S.charAt(i));\r\n            }\r\n            else{\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0){\r\n            return -1;\r\n        }\r\n        \r\n        return al.get(0);\r\n    }\r\n\r\n\r\nThen your function call would look like below:\r\n\r\n    int result = nonrepeatingCharacter(&quot;someString&quot;);\r\n    \r\n    if (result == -1) {\r\n        // ...\r\n    } else {\r\n        char nonRepeatingChar = (char) result;\r\n    }\r\n\r\nA more modern aproach would be to use Optional:\r\n\r\n    static Optional&lt;Character&gt; nonrepeatingCharacter(String S) {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i = 0; i &lt; S.length(); i++) {\r\n            if(!al.contains(S.charAt(i))) {\r\n                al.add(S.charAt(i));\r\n            } else {\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0) {\r\n            return Optional.empty();\r\n        }\r\n        \r\n        return Optional.of(al.get(0));\r\n    }\r\n\r\n\r\nand its usage:\r\n\r\n    Optional&lt;Character&gt; result = nonrepeatingCharacter(&quot;someString&quot;);\r\n    \r\n    if (result.isPresent()) {\r\n        char nonRepeatingChar = result.get();\r\n        // ...\r\n    } else {\r\n        // ...\r\n    }\r\n\r\nThis way your code will be less error prone. \r\n\r\nFinally, to make your function be compliant with full Unicode range, you should switch to using code points, this will also allow you to return -1:\r\n\r\n    static int nonrepeatingCodePoint(String S) {\r\n        ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n    \r\n        for (int i = 0; i &lt; S.length(); ) {\r\n            int codePoint = S.codePointAt(i);\r\n    \r\n            if (!al.contains(codePoint)) {\r\n                al.add(codePoint);\r\n            } else {\r\n                al.remove(Integer.valueOf(codePoint));\r\n            }\r\n    \r\n            i += Character.charCount(codePoint);\r\n        }\r\n    \r\n        if (al.size() == 0) {\r\n            return -1;\r\n        }\r\n    \r\n        return al.get(0);\r\n    }\r\n\r\nchar type in java represents only BMP part of Unicode, which are characters from U+0000 to U+FFFF. For characters outside BMP (U+010000 to U+10FFFF) single character is represented as pair of chars. So, to correctly work with all possible characters, you should \r\n work with pairs of chars:\r\n\r\n    char[] chars = Character.toChars(codePoint);\r\n","title":"how to return -1 as char in java","body":"<p>You can't directly return -1 as a char because char in Java is unsigned and doesn't support negative values. If you want to return -1, you need to change the return type of your method to int:</p>\n<pre><code>static int nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        return -1;\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n<p>Then your function call would look like below:</p>\n<pre><code>int result = nonrepeatingCharacter(&quot;someString&quot;);\n\nif (result == -1) {\n    // ...\n} else {\n    char nonRepeatingChar = (char) result;\n}\n</code></pre>\n<p>A more modern aproach would be to use Optional:</p>\n<pre><code>static Optional&lt;Character&gt; nonrepeatingCharacter(String S) {\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i = 0; i &lt; S.length(); i++) {\n        if(!al.contains(S.charAt(i))) {\n            al.add(S.charAt(i));\n        } else {\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0) {\n        return Optional.empty();\n    }\n    \n    return Optional.of(al.get(0));\n}\n</code></pre>\n<p>and its usage:</p>\n<pre><code>Optional&lt;Character&gt; result = nonrepeatingCharacter(&quot;someString&quot;);\n\nif (result.isPresent()) {\n    char nonRepeatingChar = result.get();\n    // ...\n} else {\n    // ...\n}\n</code></pre>\n<p>This way your code will be less error prone.</p>\n<p>Finally, to make your function be compliant with full Unicode range, you should switch to using code points, this will also allow you to return -1:</p>\n<pre><code>static int nonrepeatingCodePoint(String S) {\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; S.length(); ) {\n        int codePoint = S.codePointAt(i);\n\n        if (!al.contains(codePoint)) {\n            al.add(codePoint);\n        } else {\n            al.remove(Integer.valueOf(codePoint));\n        }\n\n        i += Character.charCount(codePoint);\n    }\n\n    if (al.size() == 0) {\n        return -1;\n    }\n\n    return al.get(0);\n}\n</code></pre>\n<p>char type in java represents only BMP part of Unicode, which are characters from U+0000 to U+FFFF. For characters outside BMP (U+010000 to U+10FFFF) single character is represented as pair of chars. So, to correctly work with all possible characters, you should\nwork with pairs of chars:</p>\n<pre><code>char[] chars = Character.toChars(codePoint);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696768183,"creation_date":1696688316,"answer_id":77250168,"question_id":77248939,"body_markdown":"Bearing in mind my previous comment, you could try something like:\r\n```\r\nimport java.util.Optional;\r\nimport java.util.Map;\r\nimport java.util.LinkedHashMap;\r\nimport static java.util.stream.Collectors.*;\r\n\r\npublic class Grin {\r\n    public static void main(String[] args) throws Exception {\r\n        String s = &quot;&#128512;-example&quot;;\r\n        if (args.length &gt; 0) {\r\n            s = args[0];\r\n        }\r\n        int n = Grin.getFirstNonRepeatingCharacter(s);\r\n        if (n &gt; -1) {\r\n            System.out.printf(&quot;The first non-repeating character is &#39;%s&#39;%n&quot;, new String(new int[] { n }, 0, 1));\r\n        }\r\n        else {\r\n            System.out.println(&quot;No non-repeating&quot;);\r\n        }\r\n    }\r\n\r\n    public static int getFirstNonRepeatingCharacter(String s) {\r\n        Map&lt;Integer, Long&gt; m = s.codePoints().boxed().collect(\r\n            groupingBy(i -&gt;i, \r\n            LinkedHashMap&lt;Integer, Long&gt;::new,\r\n            counting()));\r\n        Optional&lt;Integer&gt; codePoint = m.entrySet().stream()\r\n            .filter(e -&gt; 1 == e.getValue())\r\n            .map(Map.Entry::getKey)\r\n            .findFirst();\r\n        return codePoint.isPresent()? codePoint.get() : -1;\r\n    }\r\n}\r\n\r\n```\r\nWith no arguments, prints &#39;&#128512;&#39; UPDATE: although the previous code illustrated the point about codepoints and -1, it wasn&#39;t really accurate, so I&#39;ve now updated it.","title":"how to return -1 as char in java","body":"<p>Bearing in mind my previous comment, you could try something like:</p>\n<pre><code>import java.util.Optional;\nimport java.util.Map;\nimport java.util.LinkedHashMap;\nimport static java.util.stream.Collectors.*;\n\npublic class Grin {\n    public static void main(String[] args) throws Exception {\n        String s = &quot;😀-example&quot;;\n        if (args.length &gt; 0) {\n            s = args[0];\n        }\n        int n = Grin.getFirstNonRepeatingCharacter(s);\n        if (n &gt; -1) {\n            System.out.printf(&quot;The first non-repeating character is '%s'%n&quot;, new String(new int[] { n }, 0, 1));\n        }\n        else {\n            System.out.println(&quot;No non-repeating&quot;);\n        }\n    }\n\n    public static int getFirstNonRepeatingCharacter(String s) {\n        Map&lt;Integer, Long&gt; m = s.codePoints().boxed().collect(\n            groupingBy(i -&gt;i, \n            LinkedHashMap&lt;Integer, Long&gt;::new,\n            counting()));\n        Optional&lt;Integer&gt; codePoint = m.entrySet().stream()\n            .filter(e -&gt; 1 == e.getValue())\n            .map(Map.Entry::getKey)\n            .findFirst();\n        return codePoint.isPresent()? codePoint.get() : -1;\n    }\n}\n\n</code></pre>\n<p>With no arguments, prints '😀' UPDATE: although the previous code illustrated the point about codepoints and -1, it wasn't really accurate, so I've now updated it.</p>\n"}],"owner":{"account_id":25751664,"reputation":11,"user_id":19504108,"display_name":"Aman Kumar Shaw"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1697402865,"answer_count":3,"score":-2,"last_activity_date":1696768183,"creation_date":1696666103,"question_id":77248939,"body_markdown":"I want to return -1 as a char\r\n\r\n    static char nonrepeatingCharacter(String S)\r\n    {\r\n        ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\r\n        \r\n        for(int i=0; i&lt;S.length(); i++){\r\n            if(!al.contains(S.charAt(i))){\r\n                al.add(S.charAt(i));\r\n            }\r\n            else{\r\n                al.remove(Character.valueOf(S.charAt(i)));\r\n            }\r\n        }\r\n        \r\n        if(al.size() == 0){\r\n            // Here I want to return -1\r\n        }\r\n        \r\n        return al.get(0);\r\n    }","title":"how to return -1 as char in java","body":"<p>I want to return -1 as a char</p>\n<pre><code>static char nonrepeatingCharacter(String S)\n{\n    ArrayList&lt;Character&gt; al = new ArrayList&lt;Character&gt;();\n    \n    for(int i=0; i&lt;S.length(); i++){\n        if(!al.contains(S.charAt(i))){\n            al.add(S.charAt(i));\n        }\n        else{\n            al.remove(Character.valueOf(S.charAt(i)));\n        }\n    }\n    \n    if(al.size() == 0){\n        // Here I want to return -1\n    }\n    \n    return al.get(0);\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":5757383,"reputation":13785,"user_id":4544823,"display_name":"Ken Bekov"},"score":0,"creation_date":1583812300,"post_id":60611093,"comment_id":107232306,"body_markdown":"`proxyBeanMethods` allows you to invoke one method marked as `Bean` from another one declared in the same configuration class.","body":"<code>proxyBeanMethods</code> allows you to invoke one method marked as <code>Bean</code> from another one declared in the same configuration class."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1656873484,"post_id":60611093,"comment_id":128672090,"body_markdown":"@KenBekov ... and? how is that useful, though? I might miss you point here","body":"@KenBekov ... and? how is that useful, though? I might miss you point here"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1666300425,"post_id":60611093,"comment_id":130910963,"body_markdown":"Please see also this issue : [Make Spring web configuration classes use proxyBeanMethods=false by default](https://github.com/spring-projects/spring-framework/issues/23004)","body":"Please see also this issue : <a href=\"https://github.com/spring-projects/spring-framework/issues/23004\" rel=\"nofollow noreferrer\">Make Spring web configuration classes use proxyBeanMethods=false by default</a>"},{"owner":{"account_id":1851020,"reputation":4117,"user_id":1677594,"display_name":"Guillaume Husta"},"score":0,"creation_date":1666300903,"post_id":60611093,"comment_id":130911098,"body_markdown":"And also, on Spring Security : [Switch to proxy-less configuration by leveraging @Configuration(proxyBeanMethods = false)](https://github.com/spring-projects/spring-security/issues/6818)","body":"And also, on Spring Security : <a href=\"https://github.com/spring-projects/spring-security/issues/6818\" rel=\"nofollow noreferrer\">Switch to proxy-less configuration by leveraging @Configuration(proxyBeanMethods = false)</a>"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1583823805,"creation_date":1583823805,"answer_id":60612839,"question_id":60611093,"body_markdown":"It isn&#39;t the same as `@Lazy` and this is also explained in the [javadoc][1] of the property. \r\n\r\nThe default is `true` meaning each `@Bean` method will get proxied through  CgLib. Each call to the method will pass through the proxy and assuming singleton scoped beans, it will return the same instance each time the method is called. \r\n\r\nWhen setting it to `false` no such proxy method will be created and each call to the method will create a new instance of the bean. It will act just as a factory method. This is basically the same as the so called [Bean Lite Mode][2], or `@Bean` methods on non-`@Configuration` annotated classes. \r\n\r\nNow the latter isn&#39;t the same as `@Lazy` which will only defer the construction to the moment it is needed.\r\n\r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html#proxyBeanMethods--\r\n[2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html","title":"ProxyBeanMethods in Spring","body":"<p>It isn't the same as <code>@Lazy</code> and this is also explained in the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Configuration.html#proxyBeanMethods--\" rel=\"noreferrer\">javadoc</a> of the property. </p>\n\n<p>The default is <code>true</code> meaning each <code>@Bean</code> method will get proxied through  CgLib. Each call to the method will pass through the proxy and assuming singleton scoped beans, it will return the same instance each time the method is called. </p>\n\n<p>When setting it to <code>false</code> no such proxy method will be created and each call to the method will create a new instance of the bean. It will act just as a factory method. This is basically the same as the so called <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Bean.html\" rel=\"noreferrer\">Bean Lite Mode</a>, or <code>@Bean</code> methods on non-<code>@Configuration</code> annotated classes. </p>\n\n<p>Now the latter isn't the same as <code>@Lazy</code> which will only defer the construction to the moment it is needed.</p>\n"}],"owner":{"account_id":17121470,"reputation":381,"user_id":12389586,"display_name":"trilocho"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16161,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":1,"score":15,"last_activity_date":1696767873,"creation_date":1583810188,"question_id":60611093,"body_markdown":"Can someone give a real case example of how using boolean element `proxyBeanMethods` is going to change how the application&#39;s bean interact with one another ? From my understand  setting `proxyBeanMethods` to `false` is similiar to using `@Lazy` annotation on  the dependencies of a bean in which those dependencies will only be created once the  methods that return them are called therefore improve the startup speed. Is there anything I&#39;m missing ?","title":"ProxyBeanMethods in Spring","body":"<p>Can someone give a real case example of how using boolean element <code>proxyBeanMethods</code> is going to change how the application's bean interact with one another ? From my understand  setting <code>proxyBeanMethods</code> to <code>false</code> is similiar to using <code>@Lazy</code> annotation on  the dependencies of a bean in which those dependencies will only be created once the  methods that return them are called therefore improve the startup speed. Is there anything I'm missing ?</p>\n"},{"tags":["java","ruby","spring-integration","stomp"],"comments":[{"owner":{"account_id":61215,"reputation":37217,"user_id":182590,"display_name":"Mark Thomas"},"score":0,"creation_date":1320859192,"post_id":8068491,"comment_id":9886025,"body_markdown":"What happens when you read from a Ruby client?","body":"What happens when you read from a Ruby client?"},{"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"score":0,"creation_date":1320862694,"post_id":8068491,"comment_id":9887176,"body_markdown":"@Mark, when read from ruby client, the content is read properly","body":"@Mark, when read from ruby client, the content is read properly"}],"answers":[{"tags":[],"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1320862760,"creation_date":1320862760,"answer_id":8069617,"question_id":8068491,"body_markdown":"Found the answer, its the header `suppress_content_length`\r\nadding this made it to work\r\n\r\n&gt; :suppress_content_length =&gt; true","title":"stomp content-type header set to plain for xml content","body":"<p>Found the answer, its the header <code>suppress_content_length</code>\nadding this made it to work</p>\n\n<blockquote>\n  <p>:suppress_content_length => true</p>\n</blockquote>\n"}],"owner":{"account_id":205768,"reputation":5552,"user_id":454686,"accept_rate":83,"display_name":"Manoj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8069617,"answer_count":1,"score":1,"last_activity_date":1696767723,"creation_date":1320857516,"question_id":8068491,"body_markdown":"I&#39;m sending a XML content to ActiveMQ from ruby script using stomp\r\n\r\nI&#39;m explicitly setting the content-type header toapplication/xml;charset=utf-8 as shown below\r\n\r\n    client.publish queue, xml, {&#39;content-type&#39;=&gt;&#39;application/xml;charset=utf-8&#39;}\r\n\r\nBut when I read the message from a java client that uses spring-integration to read the message the content-type is text/plain.\r\n\r\nAs a result when unmarshaller is invoked the parsing is failed with the exception\r\n\r\n    1448446 [org.springframework.jms.listener.DefaultMessageListenerContainer#0-1] WARN org.springframework.jms.listener.DefaultMessageListenerContainer - Execution of JMS message listener failed\r\n    org.springframework.integration.transformer.MessageTransformationException: failed to transform message payload\r\n    \tat org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:40)\r\n    \tat org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:49)\r\n    \tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:91)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\r\n    \tat org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:76)\r\n    \tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\r\n    \tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\r\n    \tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\r\n    \tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\r\n    \tat org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:168)\r\n    \tat org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:203)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:518)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:479)\r\n    \tat org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:451)\r\n    \tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:323)\r\n    \tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:261)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:982)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:974)\r\n    \tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:876)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n    Caused by: org.springframework.integration.core.MessagingException: Failed to create Source for payload type [[B]\r\n    \tat org.springframework.integration.xml.source.DomSourceFactory.createSource(DomSourceFactory.java:62)\r\n    \tat org.springframework.integration.xml.transformer.XmlPayloadUnmarshallingTransformer.transformPayload(XmlPayloadUnmarshallingTransformer.java:91)\r\n    \tat org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:33)\r\n    \t... 30 more\r\n\r\nWhat could be the problem","title":"stomp content-type header set to plain for xml content","body":"<p>I'm sending a XML content to ActiveMQ from ruby script using stomp</p>\n\n<p>I'm explicitly setting the content-type header toapplication/xml;charset=utf-8 as shown below</p>\n\n<pre><code>client.publish queue, xml, {'content-type'=&gt;'application/xml;charset=utf-8'}\n</code></pre>\n\n<p>But when I read the message from a java client that uses spring-integration to read the message the content-type is text/plain.</p>\n\n<p>As a result when unmarshaller is invoked the parsing is failed with the exception</p>\n\n<pre><code>1448446 [org.springframework.jms.listener.DefaultMessageListenerContainer#0-1] WARN org.springframework.jms.listener.DefaultMessageListenerContainer - Execution of JMS message listener failed\norg.springframework.integration.transformer.MessageTransformationException: failed to transform message payload\n    at org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:40)\n    at org.springframework.integration.transformer.MessageTransformingHandler.handleRequestMessage(MessageTransformingHandler.java:49)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:91)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\n    at org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\n    at org.springframework.integration.router.AbstractMessageRouter.handleMessageInternal(AbstractMessageRouter.java:76)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:59)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:103)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:90)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:43)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:116)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:94)\n    at org.springframework.integration.channel.MessageChannelTemplate.doSend(MessageChannelTemplate.java:223)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:180)\n    at org.springframework.integration.channel.MessageChannelTemplate.send(MessageChannelTemplate.java:168)\n    at org.springframework.integration.jms.ChannelPublishingJmsMessageListener.onMessage(ChannelPublishingJmsMessageListener.java:203)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:518)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:479)\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:451)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:323)\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:261)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:982)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:974)\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:876)\n    at java.lang.Thread.run(Thread.java:680)\nCaused by: org.springframework.integration.core.MessagingException: Failed to create Source for payload type [[B]\n    at org.springframework.integration.xml.source.DomSourceFactory.createSource(DomSourceFactory.java:62)\n    at org.springframework.integration.xml.transformer.XmlPayloadUnmarshallingTransformer.transformPayload(XmlPayloadUnmarshallingTransformer.java:91)\n    at org.springframework.integration.transformer.AbstractPayloadTransformer.transform(AbstractPayloadTransformer.java:33)\n    ... 30 more\n</code></pre>\n\n<p>What could be the problem</p>\n"},{"tags":["javascript","java","spring","spring-boot","vaadin"],"comments":[{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1696775536,"post_id":77253585,"comment_id":136193678,"body_markdown":"Use the spring security configuration provided by Vaadin in their docs.","body":"Use the spring security configuration provided by Vaadin in their docs."}],"owner":{"account_id":29625375,"reputation":1,"user_id":22705245,"display_name":"Dhruv Vishwakarma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696767580,"creation_date":1696767580,"question_id":77253585,"body_markdown":"I&#39;ve been stuck here since a while now \r\n\r\nMy Vaadin with Spring boot app just lands me to the &quot;You&#39;re Offline&quot; page everytime, Tried changing configurations but wasn&#39;t sure ablout which specific config i needed to change. \r\n\r\n\r\n```\r\npackage com.example.demofinal;\r\n\r\nimport com.vaadin.flow.component.page.AppShellConfigurator;\r\nimport com.vaadin.flow.component.page.BodySize;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.component.page.Viewport;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.server.PWA;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.ImportResource;\r\nimport org.springframework.context.annotation.PropertySource;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n\r\n@Configuration\r\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class })\r\n@EnableWebSecurity\r\n@ImportResource(&quot;classpath:http-beans.xml&quot;)\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@Viewport(&quot;width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes, viewport-fit=cover&quot;)\r\n@Push()\r\n@PWA(name = &quot;File Upload App&quot;, shortName = &quot;Upload App&quot;)\r\n@BodySize(height = &quot;100vh&quot;, width = &quot;100vw&quot;)\r\n@PageTitle(&quot;File Upload App&quot;)\r\npublic class DemofinalApplication extends WebSecurityConfigurerAdapter implements AppShellConfigurator {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemofinalApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.headers().frameOptions().sameOrigin();\r\n        http.csrf().disable();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.example.demofinal.views;\r\n\r\nimport com.vaadin.flow.component.button.Button;\r\nimport com.vaadin.flow.component.html.H1;\r\nimport com.vaadin.flow.component.notification.Notification;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.component.page.Push;\r\nimport com.vaadin.flow.component.textfield.TextField;\r\nimport com.vaadin.flow.component.upload.Upload;\r\nimport com.vaadin.flow.component.upload.receivers.MultiFileMemoryBuffer;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.server.PWA;\r\nimport com.vaadin.flow.theme.Theme;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.http.*;\r\nimport org.springframework.util.LinkedMultiValueMap;\r\nimport org.springframework.util.MultiValueMap;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\n@Route(&quot;upload&quot;)\r\npublic class UploadView extends VerticalLayout {\r\n\r\n\r\n    public UploadView() {\r\n        add(new H1(&quot;File Upload Form&quot;));\r\n        MultiFileMemoryBuffer buffer = new MultiFileMemoryBuffer();\r\n        Upload upload = new Upload(buffer);\r\n        Button uploadButton = new Button(&quot;Upload&quot;);\r\n        TextField appVersionField = new TextField(&quot;App Version&quot;);\r\n        TextField userIdField = new TextField(&quot;UserId&quot;);\r\n        add(userIdField, appVersionField, upload, uploadButton);\r\n\r\n        upload.setUploadButton(uploadButton);\r\n        upload.setAcceptedFileTypes(&quot;application/pdf&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;);\r\n\r\n        upload.addSucceededListener(event -&gt; {\r\n            String userId = userIdField.getValue();\r\n            String appVersion = appVersionField.getValue();\r\n\r\n            try (InputStream inputStream = buffer.getInputStream(event.getFileName());\r\n                 ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n\r\n                byte[] byteBuffer = new byte[8192];\r\n                int bytesRead;\r\n                while ((bytesRead = inputStream.read(byteBuffer)) != -1) {\r\n                    outputStream.write(byteBuffer, 0, bytesRead);\r\n                }\r\n\r\n                // Create a MultiValueMap to hold the file and other form data\r\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n                body.add(&quot;file&quot;, new ByteArrayResource(outputStream.toByteArray()) {\r\n                    @Override\r\n                    public String getFilename() {\r\n                        return event.getFileName();\r\n                    }\r\n                });\r\n                body.add(&quot;userId&quot;, userId);\r\n                body.add(&quot;appVersion&quot;, appVersion);\r\n\r\n                // Create a HttpHeaders object with Content-Type as multipart/form-data\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n                // Create a HttpEntity with body and headers\r\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n                // Make a POST request to your Spring Boot API endpoint\r\n                RestTemplate restTemplate = new RestTemplate();\r\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n                        &quot;http://localhost:9099/debug&quot;, // Replace with your API endpoint URL\r\n                        HttpMethod.POST,\r\n                        requestEntity,\r\n                        String.class\r\n                );\r\n\r\n                // Handle the API response if needed\r\n                String apiResponse = response.getBody();\r\n                Notification.show(&quot;API Response: &quot; + apiResponse, 5000, Notification.Position.BOTTOM_START);\r\n\r\n            } catch (IOException e) {\r\n                // Handle exceptions, for example, show an error message to the user\r\n                Notification.show(&quot;Error uploading file: &quot; + e.getMessage(), 5000, Notification.Position.BOTTOM_START);\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nvaadin.whitelisted-packages=com.example.demofinal.*,com.vaadin\r\nvaadin.load-on-startup=true\r\n\r\n[](https://i.stack.imgur.com/y7bNN.png)\r\n\r\n\r\nI tried changing configurations which might be related to this issue but wasn&#39;t able to find the Root Cause for this issue. Help!!","title":"Spring Boot with Vaadin | Always lands on &quot;You&#39;re offline&quot; page , is there any configuration which alters such behaviour?","body":"<p>I've been stuck here since a while now</p>\n<p>My Vaadin with Spring boot app just lands me to the &quot;You're Offline&quot; page everytime, Tried changing configurations but wasn't sure ablout which specific config i needed to change.</p>\n<pre><code>package com.example.demofinal;\n\nimport com.vaadin.flow.component.page.AppShellConfigurator;\nimport com.vaadin.flow.component.page.BodySize;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.component.page.Viewport;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.server.PWA;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.r2dbc.R2dbcAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.ImportResource;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n@Configuration\n@SpringBootApplication(exclude = {R2dbcAutoConfiguration.class, DataSourceAutoConfiguration.class })\n@EnableWebSecurity\n@ImportResource(&quot;classpath:http-beans.xml&quot;)\n@PropertySource(&quot;classpath:application.properties&quot;)\n@Viewport(&quot;width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes, viewport-fit=cover&quot;)\n@Push()\n@PWA(name = &quot;File Upload App&quot;, shortName = &quot;Upload App&quot;)\n@BodySize(height = &quot;100vh&quot;, width = &quot;100vw&quot;)\n@PageTitle(&quot;File Upload App&quot;)\npublic class DemofinalApplication extends WebSecurityConfigurerAdapter implements AppShellConfigurator {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemofinalApplication.class, args);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.headers().frameOptions().sameOrigin();\n        http.csrf().disable();\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demofinal.views;\n\nimport com.vaadin.flow.component.button.Button;\nimport com.vaadin.flow.component.html.H1;\nimport com.vaadin.flow.component.notification.Notification;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.component.page.Push;\nimport com.vaadin.flow.component.textfield.TextField;\nimport com.vaadin.flow.component.upload.Upload;\nimport com.vaadin.flow.component.upload.receivers.MultiFileMemoryBuffer;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.server.PWA;\nimport com.vaadin.flow.theme.Theme;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.http.*;\nimport org.springframework.util.LinkedMultiValueMap;\nimport org.springframework.util.MultiValueMap;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Route(&quot;upload&quot;)\npublic class UploadView extends VerticalLayout {\n\n\n    public UploadView() {\n        add(new H1(&quot;File Upload Form&quot;));\n        MultiFileMemoryBuffer buffer = new MultiFileMemoryBuffer();\n        Upload upload = new Upload(buffer);\n        Button uploadButton = new Button(&quot;Upload&quot;);\n        TextField appVersionField = new TextField(&quot;App Version&quot;);\n        TextField userIdField = new TextField(&quot;UserId&quot;);\n        add(userIdField, appVersionField, upload, uploadButton);\n\n        upload.setUploadButton(uploadButton);\n        upload.setAcceptedFileTypes(&quot;application/pdf&quot;, &quot;image/jpeg&quot;, &quot;image/png&quot;);\n\n        upload.addSucceededListener(event -&gt; {\n            String userId = userIdField.getValue();\n            String appVersion = appVersionField.getValue();\n\n            try (InputStream inputStream = buffer.getInputStream(event.getFileName());\n                 ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n\n                byte[] byteBuffer = new byte[8192];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(byteBuffer)) != -1) {\n                    outputStream.write(byteBuffer, 0, bytesRead);\n                }\n\n                // Create a MultiValueMap to hold the file and other form data\n                MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n                body.add(&quot;file&quot;, new ByteArrayResource(outputStream.toByteArray()) {\n                    @Override\n                    public String getFilename() {\n                        return event.getFileName();\n                    }\n                });\n                body.add(&quot;userId&quot;, userId);\n                body.add(&quot;appVersion&quot;, appVersion);\n\n                // Create a HttpHeaders object with Content-Type as multipart/form-data\n                HttpHeaders headers = new HttpHeaders();\n                headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n                // Create a HttpEntity with body and headers\n                HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n                // Make a POST request to your Spring Boot API endpoint\n                RestTemplate restTemplate = new RestTemplate();\n                ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                        &quot;http://localhost:9099/debug&quot;, // Replace with your API endpoint URL\n                        HttpMethod.POST,\n                        requestEntity,\n                        String.class\n                );\n\n                // Handle the API response if needed\n                String apiResponse = response.getBody();\n                Notification.show(&quot;API Response: &quot; + apiResponse, 5000, Notification.Position.BOTTOM_START);\n\n            } catch (IOException e) {\n                // Handle exceptions, for example, show an error message to the user\n                Notification.show(&quot;Error uploading file: &quot; + e.getMessage(), 5000, Notification.Position.BOTTOM_START);\n                e.printStackTrace();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>vaadin.whitelisted-packages=com.example.demofinal.*,com.vaadin\nvaadin.load-on-startup=true</p>\n<p><a href=\"https://i.stack.imgur.com/y7bNN.png\" rel=\"nofollow noreferrer\"></a></p>\n<p>I tried changing configurations which might be related to this issue but wasn't able to find the Root Cause for this issue. Help!!</p>\n"},{"tags":["java","c++","configuration","activemq"],"answers":[{"tags":[],"owner":{"account_id":61561,"reputation":1199,"user_id":183395,"display_name":"bsnyder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1320185951,"creation_date":1320185951,"answer_id":7973644,"question_id":7973164,"body_markdown":"The ActiveMQ configuration can be changed at runtime via JMX. However, any changes that are made at runtime will not be persisted to the configuration file. ","title":"ActiveMQ real time configuration","body":"<p>The ActiveMQ configuration can be changed at runtime via JMX. However, any changes that are made at runtime will not be persisted to the configuration file. </p>\n"},{"tags":[],"owner":{"account_id":955704,"reputation":5543,"user_id":981048,"display_name":"jkysam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1320186555,"creation_date":1320186555,"answer_id":7973738,"question_id":7973164,"body_markdown":"As mentioned by bsnyder it you can change broker config at runtime with JMX. \r\nAn easy way of doing this is to use JConsole to get to the broker&#39;s JMX Beans ([instructions here][1]), there is also a JMX API if you need to this through code. \r\n\r\n\r\n  [1]: http://activemq.apache.org/jmx.html","title":"ActiveMQ real time configuration","body":"<p>As mentioned by bsnyder it you can change broker config at runtime with JMX. \nAn easy way of doing this is to use JConsole to get to the broker's JMX Beans (<a href=\"http://activemq.apache.org/jmx.html\" rel=\"nofollow\">instructions here</a>), there is also a JMX API if you need to this through code. </p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":7973644,"answer_count":2,"score":2,"last_activity_date":1696767398,"creation_date":1320183007,"question_id":7973164,"body_markdown":"I would like to change ActiveMQ configuration while it is running.\r\n\r\nLet&#39;s say I want to increase the memory usage, flow control etc. while ActiveMQ is running, but i don&#39;t want to restart it. Is this possible? I tried it but the changes didn&#39;t kick in.\r\n\r\nIs there a way to do this?\r\n\r\nI do have C++ and java clients (producers and consumers respectively)","title":"ActiveMQ real time configuration","body":"<p>I would like to change ActiveMQ configuration while it is running.</p>\n<p>Let's say I want to increase the memory usage, flow control etc. while ActiveMQ is running, but i don't want to restart it. Is this possible? I tried it but the changes didn't kick in.</p>\n<p>Is there a way to do this?</p>\n<p>I do have C++ and java clients (producers and consumers respectively)</p>\n"},{"tags":["java","http","pastebin"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1632378842,"post_id":69286463,"comment_id":122476489,"body_markdown":"Better you should post your solution as an [answer](https://stackoverflow.com/help/self-answer) rather than as an edit to your question.","body":"Better you should post your solution as an <a href=\"https://stackoverflow.com/help/self-answer\">answer</a> rather than as an edit to your question."},{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1696767441,"post_id":69286463,"comment_id":136192947,"body_markdown":"As you are aware, please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare https://stackoverflow.com/help/self-answer","body":"As you are aware, please do not edit solution announcements into the question. Accept (i.e. click the &quot;tick&quot; next to it) one of the existing answer, if there are any. You can also create your own answer, and even accept it, if your solution is not yet covered by an existing answer. Compare <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}],"answers":[{"tags":[],"owner":{"account_id":27816548,"reputation":1,"user_id":21237811,"display_name":"DiamondPG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676693289,"creation_date":1676693289,"answer_id":75491121,"question_id":69286463,"body_markdown":"I had this problem when I was developing with Construct 2. I had to use an external website to bypass some security protocol. I don&#39;t remember what it was, but it worked. Here is the website. https://api.allorigins.win/raw?url=. Paste your raw url after &quot;url=&quot;\r\n\r\nI realize I am very late. but if you are still stuck on it, I hope this helps.","title":"Getting the raw content from pastebin [Java]","body":"<p>I had this problem when I was developing with Construct 2. I had to use an external website to bypass some security protocol. I don't remember what it was, but it worked. Here is the website. <a href=\"https://api.allorigins.win/raw?url=\" rel=\"nofollow noreferrer\">https://api.allorigins.win/raw?url=</a>. Paste your raw url after &quot;url=&quot;</p>\n<p>I realize I am very late. but if you are still stuck on it, I hope this helps.</p>\n"}],"owner":{"account_id":22827343,"reputation":21,"user_id":16976400,"display_name":"KZB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1703,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696767346,"creation_date":1632321723,"question_id":69286463,"body_markdown":"When I try to retrieve the data from a pastebin and convert it to a string. It returns nothing. Just an empty line.\r\n\r\nCode:\r\n```\r\ntry {\r\n    URL url = new URL(&quot;http://pastebin.com/raw.php?i=&quot;+pasteKey);\r\n    String text = new BufferedReader(new InputStreamReader(url.openStream(), \r\n             StandardCharsets.UTF_8)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    System.out.println(text);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nI have tried using `GET` but got the same result","title":"Getting the raw content from pastebin [Java]","body":"<p>When I try to retrieve the data from a pastebin and convert it to a string. It returns nothing. Just an empty line.</p>\n<p>Code:</p>\n<pre><code>try {\n    URL url = new URL(&quot;http://pastebin.com/raw.php?i=&quot;+pasteKey);\n    String text = new BufferedReader(new InputStreamReader(url.openStream(), \n             StandardCharsets.UTF_8)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n    System.out.println(text);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>I have tried using <code>GET</code> but got the same result</p>\n"},{"tags":["java","android","kotlin","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":29520193,"reputation":857,"user_id":22623172,"display_name":"Vlad Guriev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696718441,"creation_date":1696718441,"answer_id":77251742,"question_id":77251716,"body_markdown":"You can rewrite it as follows:\r\n\r\n```Kotlin\r\n@GET(&quot;/auth/send-email&quot;)\r\nfun sendEmail(@Query(&quot;email&quot;) email: String)\r\n```","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>You can rewrite it as follows:</p>\n<pre><code>@GET(&quot;/auth/send-email&quot;)\nfun sendEmail(@Query(&quot;email&quot;) email: String)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23369220,"reputation":164,"user_id":17440365,"display_name":"mohammad.hasan.mahdavi81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696764229,"creation_date":1696764229,"answer_id":77253417,"question_id":77251716,"body_markdown":"As the exception message said : \r\n\r\n&gt; for dynamic query parameters use @Query\r\n\r\n`@Path` is used for replacing a URL path segment, not for adding query parameters.\r\n \r\nYour function should be something like this: \r\n\r\n    @GET(&quot;/auth/send-email&quot;)\r\n    fun sendEmail(@Query(&quot;email&quot;) email: String)","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>As the exception message said :</p>\n<blockquote>\n<p>for dynamic query parameters use @Query</p>\n</blockquote>\n<p><code>@Path</code> is used for replacing a URL path segment, not for adding query parameters.</p>\n<p>Your function should be something like this:</p>\n<pre><code>@GET(&quot;/auth/send-email&quot;)\nfun sendEmail(@Query(&quot;email&quot;) email: String)\n</code></pre>\n"}],"owner":{"account_id":26356906,"reputation":3,"user_id":20013762,"display_name":"Jamshid_5818"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77253417,"answer_count":2,"score":0,"last_activity_date":1696767108,"creation_date":1696717927,"question_id":77251716,"body_markdown":"I don&#39;t understand where the error is. My project has REGISTER section. I need to get the email and send it to AuthService.\r\n\r\nThis image shows the error:\r\n\r\n[![][1]][1]\r\n\r\nThis is my AuthService:\r\n\r\n[![][2]][2]\r\n\r\nThis is a sample request from Postman:\r\n\r\n[![][3]][3]\r\n\r\n  [1]: https://i.stack.imgur.com/R86Eo.png\r\n  [2]: https://i.stack.imgur.com/6JuO1.png\r\n  [3]: https://i.stack.imgur.com/2fVGY.png","title":"How can I fix the error in Retrofit 2? I have an error sending a request","body":"<p>I don't understand where the error is. My project has REGISTER section. I need to get the email and send it to AuthService.</p>\n<p>This image shows the error:</p>\n<p><a href=\"https://i.stack.imgur.com/R86Eo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R86Eo.png\" alt=\"\" /></a></p>\n<p>This is my AuthService:</p>\n<p><a href=\"https://i.stack.imgur.com/6JuO1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JuO1.png\" alt=\"\" /></a></p>\n<p>This is a sample request from Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/2fVGY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2fVGY.png\" alt=\"\" /></a></p>\n"},{"tags":["java","android","kotlin","adapter","recycle"],"comments":[{"owner":{"account_id":19315649,"reputation":692,"user_id":14120486,"display_name":"ItzDavi"},"score":0,"creation_date":1696783001,"post_id":77253554,"comment_id":136194470,"body_markdown":"Please, add the code causing the error here. Providing also the stack trace will help.","body":"Please, add the code causing the error here. Providing also the stack trace will help."}],"owner":{"account_id":26356906,"reputation":3,"user_id":20013762,"display_name":"Jamshid_5818"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696767064,"creation_date":1696767064,"question_id":77253554,"body_markdown":"I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?\r\n\r\n[You can get my project from this link. I just want to get it right](https://github.com/Jamshid2606/MultipleRecycleView)\r\n\r\n\r\n\r\nI am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?\r\n\r\n\r\n[You can get my project from this link. I just want to get it right](https://github.com/Jamshid2606/MultipleRecycleView)","title":"I am passing data to the recycleView in reverse order. But I got an error somewhere","body":"<p>I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?</p>\n<p><a href=\"https://github.com/Jamshid2606/MultipleRecycleView\" rel=\"nofollow noreferrer\">You can get my project from this link. I just want to get it right</a></p>\n<p>I am passing data to the recycleView in reverse order. The xmn part of my code has a recycleView inside a recycleView. But when he draws the 2nd item, he freezes? Am I making a mistake somewhere?</p>\n<p><a href=\"https://github.com/Jamshid2606/MultipleRecycleView\" rel=\"nofollow noreferrer\">You can get my project from this link. I just want to get it right</a></p>\n"},{"tags":["java","avl-tree"],"comments":[{"owner":{"account_id":2667036,"reputation":3989,"user_id":2305243,"accept_rate":100,"display_name":"Alan Dong"},"score":1,"creation_date":1390629211,"post_id":21347187,"comment_id":32185339,"body_markdown":"Please refer http://stackoverflow.com/questions/12985226/avl-tree-minimum-node","body":"Please refer <a href=\"http://stackoverflow.com/questions/12985226/avl-tree-minimum-node\" title=\"avl tree minimum node\">stackoverflow.com/questions/12985226/avl-tree-minimum-node</a>"},{"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"score":1,"creation_date":1390629323,"post_id":21347187,"comment_id":32185361,"body_markdown":"The answer for that question does not answer my problem.","body":"The answer for that question does not answer my problem."}],"answers":[{"tags":[],"owner":{"account_id":3159138,"reputation":33796,"user_id":2670792,"accept_rate":100,"display_name":"Christian Tapia"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1390630778,"creation_date":1390629173,"answer_id":21347225,"question_id":21347187,"body_markdown":"In `S(h) = S(h-1) + S(h-2) + 1`,\r\n\r\n`S(h)` is a [**recursive** function/formula][1]. A recursive function calls itself (in a smaller or simpler way) inside its body.\r\n\r\nNote that a recursive function must have some base cases, in this case:\r\n\r\n    S(1) = 0\r\n    S(2) = 1\r\n\r\nSo let&#39;s say `h = 6`, then `S(h = 6)` will be (just replacing):\r\n\r\n    S(6) = S(6-1) + S(6-2) + 1\r\n    S(6) = S(5) + S(4) + 1 \r\n    S(6) = 2*S(4) + S(3) + 1 + 1\r\n    S(6) = 2*(S(3) + S(2) + 1) + S(3) + 2\r\n    S(6) = 3*S(3) + 2*S(2) + 4\r\n    S(6) = 3*(S(2) + S(1) + 1) + 2*S(2) + 4\r\n    S(6) = 5*S(2) + 3*S(1) + 7\r\n    S(6) = 5*1 + 3*0 + 7\r\n    S(6) = 12\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Recursion_%28computer_science%29","title":"Minimum number of node in AVL tree?","body":"<p>In <code>S(h) = S(h-1) + S(h-2) + 1</code>,</p>\n\n<p><code>S(h)</code> is a <a href=\"http://en.wikipedia.org/wiki/Recursion_%28computer_science%29\"><strong>recursive</strong> function/formula</a>. A recursive function calls itself (in a smaller or simpler way) inside its body.</p>\n\n<p>Note that a recursive function must have some base cases, in this case:</p>\n\n<pre><code>S(1) = 0\nS(2) = 1\n</code></pre>\n\n<p>So let's say <code>h = 6</code>, then <code>S(h = 6)</code> will be (just replacing):</p>\n\n<pre><code>S(6) = S(6-1) + S(6-2) + 1\nS(6) = S(5) + S(4) + 1 \nS(6) = 2*S(4) + S(3) + 1 + 1\nS(6) = 2*(S(3) + S(2) + 1) + S(3) + 2\nS(6) = 3*S(3) + 2*S(2) + 4\nS(6) = 3*(S(2) + S(1) + 1) + 2*S(2) + 4\nS(6) = 5*S(2) + 3*S(1) + 7\nS(6) = 5*1 + 3*0 + 7\nS(6) = 12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8291,"reputation":860427,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390714265,"creation_date":1390629323,"answer_id":21347246,"question_id":21347187,"body_markdown":"You&#39;re confusing `S(h-1)` with `S(h)-1`, the first is the (minimum) size of a tree with height `h-1`, the second the size of a tree of height `h`, _then_ subtract one from that.\r\n\r\n","title":"Minimum number of node in AVL tree?","body":"<p>You're confusing <code>S(h-1)</code> with <code>S(h)-1</code>, the first is the (minimum) size of a tree with height <code>h-1</code>, the second the size of a tree of height <code>h</code>, <em>then</em> subtract one from that.</p>\n"},{"tags":[],"owner":{"account_id":4488111,"reputation":11,"user_id":3650052,"display_name":"kobiyashi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400427886,"creation_date":1400427886,"answer_id":23723777,"question_id":21347187,"body_markdown":"using the Fibonacci sequence in two ways:\r\nthe first way is less complex but not as efficient as the second one. In order to understand the second way you need to know some math, which I wont explain here unless you really wish for it or check out wiki for some answers\r\nfirst way:\r\n\r\n    public int findMinNodes(int h){\r\n       if(h&lt;0)\r\n          return 0;\r\n       int a=1;\r\n       int b=2;\r\n       int c;\r\n       for(int i=1;i&lt;h;i++){\r\n          c=a+b+1;\r\n          a=b;\r\n          b=c;\r\n          }\r\n       return b;\r\n    }\r\n\r\nsecond way:\r\n\r\n    public static int findMinNodes(int h){\r\n\t\t   return (int)(Math.round(((Math.sqrt(5)+2)/\r\n\t\t\t\tMath.sqrt(5))*Math.pow((1+\r\n\t\t\t\tMath.sqrt(5))/2,h)-1));\r\n\t        }\r\nNote:if you try the second method with really large inputs (say h=6000) your answer will display &quot;infinity&quot; that is due to the Math methods.","title":"Minimum number of node in AVL tree?","body":"<p>using the Fibonacci sequence in two ways:\nthe first way is less complex but not as efficient as the second one. In order to understand the second way you need to know some math, which I wont explain here unless you really wish for it or check out wiki for some answers\nfirst way:</p>\n\n<pre><code>public int findMinNodes(int h){\n   if(h&lt;0)\n      return 0;\n   int a=1;\n   int b=2;\n   int c;\n   for(int i=1;i&lt;h;i++){\n      c=a+b+1;\n      a=b;\n      b=c;\n      }\n   return b;\n}\n</code></pre>\n\n<p>second way:</p>\n\n<pre><code>public static int findMinNodes(int h){\n       return (int)(Math.round(((Math.sqrt(5)+2)/\n            Math.sqrt(5))*Math.pow((1+\n            Math.sqrt(5))/2,h)-1));\n        }\n</code></pre>\n\n<p>Note:if you try the second method with really large inputs (say h=6000) your answer will display \"infinity\" that is due to the Math methods.</p>\n"},{"tags":[],"owner":{"account_id":4212409,"reputation":1,"user_id":3449719,"display_name":"user3449719"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417190646,"creation_date":1417190646,"answer_id":27192361,"question_id":21347187,"body_markdown":"Min nodes in avl tree with height h are when it has a balancing factor of either 1 or-1.\r\nIn that kind of avl tree\r\nOne sub tree has height h-1 and other sub tree&#39;s height is h-2. \r\nTherefore we calculate no. Of nodes of tree of height h-1 and h-2 recursively and add 1 to it. \r\n1 is added to count root node of previous tree. \r\n\r\n","title":"Minimum number of node in AVL tree?","body":"<p>Min nodes in avl tree with height h are when it has a balancing factor of either 1 or-1.\nIn that kind of avl tree\nOne sub tree has height h-1 and other sub tree's height is h-2. \nTherefore we calculate no. Of nodes of tree of height h-1 and h-2 recursively and add 1 to it. \n1 is added to count root node of previous tree. </p>\n"},{"tags":[],"owner":{"account_id":6454493,"reputation":43,"user_id":5000396,"display_name":"Duncan Iglesias"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449964366,"creation_date":1449964366,"answer_id":34246385,"question_id":21347187,"body_markdown":"Just a quick note to the question above, the minimum number of nodes in an AVL tree for a tree with a height of 6 is not 12, it should be 20. The following equation should demonstrate the recursive call of the S(h) function.\r\n\r\nSince we know that S(1) = 1, S(2) = 2, &amp; S(3) = 4, we can reduce the following equation to these knowns for h = 6.\r\n\r\n    S(h) = S(h-1) + S(h-2) + 1\r\n    S(6) = S(5) + S(4) + 1                           // recursive S(5) &amp; S(4)\r\n    S(6) = (S(4) + S(3) + 1) + (S(3) + S(2) + 1) + 1 // don&#39;t forget &#39;+1&#39;\r\n    S(6) = [(S(3) + S(2) + 1) + S(3) + 1] + (S(3) + S(2) + 1) + 1\r\n\r\n    // now sub in the values\r\n    S(6) = [(4 + 2 + 1) + 4 + 1] + (4 + 2 + 1) + 1\r\n    S(6) = 4 + 2 + 1 + 4 + 1 + 4 + 2 + 1 + 1\r\n    S(6) = 20\r\n\r\nI hope this helps. Please let me know if I overlooked something!","title":"Minimum number of node in AVL tree?","body":"<p>Just a quick note to the question above, the minimum number of nodes in an AVL tree for a tree with a height of 6 is not 12, it should be 20. The following equation should demonstrate the recursive call of the S(h) function.</p>\n\n<p>Since we know that S(1) = 1, S(2) = 2, &amp; S(3) = 4, we can reduce the following equation to these knowns for h = 6.</p>\n\n<pre><code>S(h) = S(h-1) + S(h-2) + 1\nS(6) = S(5) + S(4) + 1                           // recursive S(5) &amp; S(4)\nS(6) = (S(4) + S(3) + 1) + (S(3) + S(2) + 1) + 1 // don't forget '+1'\nS(6) = [(S(3) + S(2) + 1) + S(3) + 1] + (S(3) + S(2) + 1) + 1\n\n// now sub in the values\nS(6) = [(4 + 2 + 1) + 4 + 1] + (4 + 2 + 1) + 1\nS(6) = 4 + 2 + 1 + 4 + 1 + 4 + 2 + 1 + 1\nS(6) = 20\n</code></pre>\n\n<p>I hope this helps. Please let me know if I overlooked something!</p>\n"},{"tags":[],"owner":{"account_id":2968367,"reputation":131,"user_id":2521040,"display_name":"Rana Priyanka"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1651474382,"creation_date":1452698993,"answer_id":34770585,"question_id":21347187,"body_markdown":"The minimum number of nodes in an AVL tree for a tree with a height of 6 is not 20, it should be 33. \r\n\r\nThe following equation should demonstrate the recursive call of the N(h) function.\r\n\r\nSince we know that N(0)=1 ,N(1) = 2, N(2) = 4, we can reduce the following equation to these knowns for h = 6.\r\n\r\nBecause AVL tree is balanced BST, for each height h, we must form a  h-1 and h-2 tree before moving forward to construct a height h AVL tree by adding another node. \r\nThus, formula N(h)=1+N(h-1)+N(h-2)\r\n\r\nN(3)=1+N(3-1)+N(3-2)=1+N(2)+N(1)=7\r\n\r\nN(4)=1+N(4-1)+N(4-2)=1+N(3)+N(2)=12\r\n\r\nN(5)=1+N(5-1)+N(5-2)=1+N(4)+N(3)=20\r\n\r\nN(6)=1+N(6-1)+N(6-2)=1+N(5)+N(4)=33\r\n\r\nI hope this may help you","title":"Minimum number of node in AVL tree?","body":"<p>The minimum number of nodes in an AVL tree for a tree with a height of 6 is not 20, it should be 33.</p>\n<p>The following equation should demonstrate the recursive call of the N(h) function.</p>\n<p>Since we know that N(0)=1 ,N(1) = 2, N(2) = 4, we can reduce the following equation to these knowns for h = 6.</p>\n<p>Because AVL tree is balanced BST, for each height h, we must form a  h-1 and h-2 tree before moving forward to construct a height h AVL tree by adding another node.\nThus, formula N(h)=1+N(h-1)+N(h-2)</p>\n<p>N(3)=1+N(3-1)+N(3-2)=1+N(2)+N(1)=7</p>\n<p>N(4)=1+N(4-1)+N(4-2)=1+N(3)+N(2)=12</p>\n<p>N(5)=1+N(5-1)+N(5-2)=1+N(4)+N(3)=20</p>\n<p>N(6)=1+N(6-1)+N(6-2)=1+N(5)+N(4)=33</p>\n<p>I hope this may help you</p>\n"},{"tags":[],"owner":{"account_id":3758357,"reputation":69,"user_id":3124166,"display_name":"Michael B"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1490499119,"creation_date":1490499119,"answer_id":43024693,"question_id":21347187,"body_markdown":"For the function N(h) = 1 + N(h - 1) + N(h - 2)\r\n\r\nMIT Recitation 04 states the base cases for this recursive function are:\r\nN(1) = 1; N(2) = 2\r\n\r\ntherefore\r\n\r\nN(3) = 1 + N(2) + N(1) = 1 + 2 + 1 = 4\r\n\r\nN(4) = 1 + N(3) + N(2) = 1 + 4 + 2 = 7\r\n\r\nN(5) = 1 + N(4) + N(3) = 1 + 7 + 4 = 12\r\n\r\nN(6) = 1 + N(5) + N(4) = 1 + 12 + 7 = 20\r\n\r\nN(7) = 1 + N(6) + N(5) = 1 + 20 + 12 = 33\r\n\r\nN(8) = 1 + N(7) + N(6) = 1 + 33 + 20 = 54\r\n\r\nand so on, just keep plugging the numbers in from previous answers...\r\n\r\n\r\nhttps://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf","title":"Minimum number of node in AVL tree?","body":"<p>For the function N(h) = 1 + N(h - 1) + N(h - 2)</p>\n\n<p>MIT Recitation 04 states the base cases for this recursive function are:\nN(1) = 1; N(2) = 2</p>\n\n<p>therefore</p>\n\n<p>N(3) = 1 + N(2) + N(1) = 1 + 2 + 1 = 4</p>\n\n<p>N(4) = 1 + N(3) + N(2) = 1 + 4 + 2 = 7</p>\n\n<p>N(5) = 1 + N(4) + N(3) = 1 + 7 + 4 = 12</p>\n\n<p>N(6) = 1 + N(5) + N(4) = 1 + 12 + 7 = 20</p>\n\n<p>N(7) = 1 + N(6) + N(5) = 1 + 20 + 12 = 33</p>\n\n<p>N(8) = 1 + N(7) + N(6) = 1 + 33 + 20 = 54</p>\n\n<p>and so on, just keep plugging the numbers in from previous answers...</p>\n\n<p><a href=\"https://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf\" rel=\"noreferrer\">https://courses.csail.mit.edu/6.006/spring11/rec/rec04.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":10018483,"reputation":21,"user_id":7408960,"display_name":"Gautier Blandin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639826276,"creation_date":1639826276,"answer_id":70402954,"question_id":21347187,"body_markdown":"The question is a bit old, but I&#39;ve just studied the subject and so I can provide a detailed answer.\r\n\r\n**If you just want the answer :** \r\nThe minimum of nodes in an AVL tree of height h is f(h+2) - 1 where f is the [Fibonacci sequence][1], defined as follow :\r\nf(0) = 1, f(1) = 1, f(n+2) = f(n+1) + f(n).\r\n\r\n*Proof :* \r\n\r\nWe can prove this relationship by proving the two following proposition by recursion :\r\n\r\nLet s(n) be the minimum number of nodes in an AVL tree of height n.\r\n\r\nWe have : s(0) = 1, s(1) = 2, s(n+2) = s(n+1) + s(n) + 1.\r\n\r\n**Proposition 1 : s(n) = f(0) + f(1) + f(2) + ... + f(n)**\r\n\r\n\r\nThis can quite easily be showed by recursion : \r\n\r\nFirst, at rank 0 and 1, we have : \r\ns(0) = f(0), s(1) = 2 = f(0) + f(1)\r\n\r\nNow let&#39;s show that if the propostion is true at rank n and n+1, then it is true at rank n+2 :\r\n\r\n\r\n    s(n+2) = s(n+1) + s(n) + 1 [formula for s(n+2)]\r\n           = (f(0) + f(1) + ... + f(n+1)) + (f(0) + f(1) + ... + f(n)) + 1 [apply Proposition 1 at rank n and n+1]\r\n           = f(0) + ((f(1) + f(0)) + (f(2) + f(1)) + ... + (f(n+1) + f(n))) + 1 [rearrange the sums]\r\n           = f(0) + (f(2) + f(3) + ... + f(n+2)) + 1 [apply f(n+2) = f(n+1) + f(n)]\r\n           = f(0) + f(1) + (f(2) + f(3) + ... + f(n+2)) [f(1) = 1 and rearrange]\r\n           = f(0) + f(1) + ... + f(n+2)\r\nWhich by recursion shows that the property is true for any n greater than 0.\r\n\r\n\r\n**Proposition 2 : f(n+2) - 1 = f(0) + f(1) + f(2) + ... + f(n)**\r\n\r\nThis proof is left as an exercice to the reader, but it&#39;s exactly the same principle as the previous one.\r\n\r\nNow we have, by applying props 1 and 2 successively :\r\ns(n) = f(0) + f(1) + ... + f(n) = f(n+2) - 1\r\n\r\nThere is a general expression for the Fibonacci sequence, so we can apply it for n+2 to very quickly compute the minimum number of nodes in an AVL tree of any height.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fibonacci_number","title":"Minimum number of node in AVL tree?","body":"<p>The question is a bit old, but I've just studied the subject and so I can provide a detailed answer.</p>\n<p><strong>If you just want the answer :</strong>\nThe minimum of nodes in an AVL tree of height h is f(h+2) - 1 where f is the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow noreferrer\">Fibonacci sequence</a>, defined as follow :\nf(0) = 1, f(1) = 1, f(n+2) = f(n+1) + f(n).</p>\n<p><em>Proof :</em></p>\n<p>We can prove this relationship by proving the two following proposition by recursion :</p>\n<p>Let s(n) be the minimum number of nodes in an AVL tree of height n.</p>\n<p>We have : s(0) = 1, s(1) = 2, s(n+2) = s(n+1) + s(n) + 1.</p>\n<p><strong>Proposition 1 : s(n) = f(0) + f(1) + f(2) + ... + f(n)</strong></p>\n<p>This can quite easily be showed by recursion :</p>\n<p>First, at rank 0 and 1, we have :\ns(0) = f(0), s(1) = 2 = f(0) + f(1)</p>\n<p>Now let's show that if the propostion is true at rank n and n+1, then it is true at rank n+2 :</p>\n<pre><code>s(n+2) = s(n+1) + s(n) + 1 [formula for s(n+2)]\n       = (f(0) + f(1) + ... + f(n+1)) + (f(0) + f(1) + ... + f(n)) + 1 [apply Proposition 1 at rank n and n+1]\n       = f(0) + ((f(1) + f(0)) + (f(2) + f(1)) + ... + (f(n+1) + f(n))) + 1 [rearrange the sums]\n       = f(0) + (f(2) + f(3) + ... + f(n+2)) + 1 [apply f(n+2) = f(n+1) + f(n)]\n       = f(0) + f(1) + (f(2) + f(3) + ... + f(n+2)) [f(1) = 1 and rearrange]\n       = f(0) + f(1) + ... + f(n+2)\n</code></pre>\n<p>Which by recursion shows that the property is true for any n greater than 0.</p>\n<p><strong>Proposition 2 : f(n+2) - 1 = f(0) + f(1) + f(2) + ... + f(n)</strong></p>\n<p>This proof is left as an exercice to the reader, but it's exactly the same principle as the previous one.</p>\n<p>Now we have, by applying props 1 and 2 successively :\ns(n) = f(0) + f(1) + ... + f(n) = f(n+2) - 1</p>\n<p>There is a general expression for the Fibonacci sequence, so we can apply it for n+2 to very quickly compute the minimum number of nodes in an AVL tree of any height.</p>\n"},{"tags":[],"owner":{"account_id":19484937,"reputation":1,"user_id":20927917,"display_name":"Sharvil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696766116,"creation_date":1696766077,"answer_id":77253505,"question_id":21347187,"body_markdown":"The expression is (here h is the height):\r\n\r\n\r\n\r\n\r\n https://i.stack.imgur.com/iXTSI.png","title":"Minimum number of node in AVL tree?","body":"<p>The expression is (here h is the height):</p>\n<p><a href=\"https://i.stack.imgur.com/iXTSI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iXTSI.png</a></p>\n"}],"owner":{"account_id":3482182,"reputation":159,"user_id":2913922,"accept_rate":83,"display_name":"user2913922"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60212,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":21347225,"answer_count":9,"score":10,"last_activity_date":1696766116,"creation_date":1390628830,"question_id":21347187,"body_markdown":"I know the formula of finding minimum number of node in a AVL tree is \r\n\r\n`S(h) = S(h-1) + S(h-2) + 1`\r\n\r\nHowever, I don&#39;t really get how to use this function, say if we have a AVL height of 6.\r\nThe answer tells me that Minimum = 7 + 4 + 1 =12. But how do you get this number? I mean when you plug in 6 isn&#39;t it (6-1) + (6-2) + 1?\r\n\r\nCan anyone explain to me how to solve this? My teacher haven&#39;t talk about this yet but I really want to figure this out myself in order to be prepared for the test next week.","title":"Minimum number of node in AVL tree?","body":"<p>I know the formula of finding minimum number of node in a AVL tree is </p>\n\n<p><code>S(h) = S(h-1) + S(h-2) + 1</code></p>\n\n<p>However, I don't really get how to use this function, say if we have a AVL height of 6.\nThe answer tells me that Minimum = 7 + 4 + 1 =12. But how do you get this number? I mean when you plug in 6 isn't it (6-1) + (6-2) + 1?</p>\n\n<p>Can anyone explain to me how to solve this? My teacher haven't talk about this yet but I really want to figure this out myself in order to be prepared for the test next week.</p>\n"},{"tags":["java","jakarta-ee","ejb"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":3,"creation_date":1376136449,"post_id":18161682,"comment_id":26605331,"body_markdown":"For starters, you shouldn&#39;t be opening your `EntityManager` in a global scope; the `EntityManager` roughly corresponds to a session. If you really need to handle your own session management (injecting @PersistenceContext is better), you should be creating and closing an `EntityManager` in each call to `addNewEntry`.","body":"For starters, you shouldn&#39;t be opening your <code>EntityManager</code> in a global scope; the <code>EntityManager</code> roughly corresponds to a session. If you really need to handle your own session management (injecting @PersistenceContext is better), you should be creating and closing an <code>EntityManager</code> in each call to <code>addNewEntry</code>."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1376136532,"post_id":18161682,"comment_id":26605353,"body_markdown":"Have you confirmed that your container is treating the object as something requiring dependency injection? Not every object gets hooked into, and if you&#39;re just calling `new BlogEntryDao()` somewhere, the container may not know to initialize it as a bean.","body":"Have you confirmed that your container is treating the object as something requiring dependency injection? Not every object gets hooked into, and if you&#39;re just calling <code>new BlogEntryDao()</code> somewhere, the container may not know to initialize it as a bean."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1376136596,"post_id":18161682,"comment_id":26605367,"body_markdown":"@chrylis Yeah thanks, I am calling new BlogEntryDao actually.","body":"@chrylis Yeah thanks, I am calling new BlogEntryDao actually."},{"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"score":0,"creation_date":1376136801,"post_id":18161682,"comment_id":26605412,"body_markdown":"@chrylis Thanks, changing it to EJB BlogEntryDao fixed it. Can you please proivde an answer so I can accept it?","body":"@chrylis Thanks, changing it to EJB BlogEntryDao fixed it. Can you please proivde an answer so I can accept it?"},{"owner":{"account_id":6980449,"reputation":2835,"user_id":5353589,"display_name":"Weidian Huang"},"score":0,"creation_date":1482212946,"post_id":18161682,"comment_id":69670895,"body_markdown":"I think you can define init-method=&quot;initialize&quot; in the bean configuration file.","body":"I think you can define init-method=&quot;initialize&quot; in the bean configuration file."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1376137122,"creation_date":1376137122,"answer_id":18161798,"question_id":18161682,"body_markdown":"The Java EE bean annotations such as `@PostConstruct` only apply to container-managed beans. If you are simply calling `new BlogEntryDao` yourself, the container isn&#39;t going to intercept the creation and call the `@PostConstruct` method.\r\n\r\n(Furthermore, you&#39;d be better off using `@PersistenceContext` or `@PersistenceUnit` instead of manually fetching the `EntityManagerFactory` in your `initialize()` method, and you should be creating an `EntityManager` for each call to `addNewEntry()`, since they&#39;re short-lived. Making these changes would eliminate the need for `initialize()` at all.)","title":"Why is PostConstruct not called?","body":"<p>The Java EE bean annotations such as <code>@PostConstruct</code> only apply to container-managed beans. If you are simply calling <code>new BlogEntryDao</code> yourself, the container isn't going to intercept the creation and call the <code>@PostConstruct</code> method.</p>\n\n<p>(Furthermore, you'd be better off using <code>@PersistenceContext</code> or <code>@PersistenceUnit</code> instead of manually fetching the <code>EntityManagerFactory</code> in your <code>initialize()</code> method, and you should be creating an <code>EntityManager</code> for each call to <code>addNewEntry()</code>, since they're short-lived. Making these changes would eliminate the need for <code>initialize()</code> at all.)</p>\n"},{"tags":[],"owner":{"account_id":139814,"reputation":16844,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1446226082,"creation_date":1418093207,"answer_id":27370669,"question_id":18161682,"body_markdown":"Since this question comes up first on Google for &quot;postconstruct not called&quot;, another reason a `@PostConstruct` method might not be called besides using the `new` keyword instead of putting `@PostConstruct` in a Spring bean is if you have a circular dependency.  \r\n\r\nIf this bean were to depend on another bean that depended on this bean, your other bean might call `addNewEntry()` before `BlogEntryDao` was initialized, even though BlogEntryDao is a dependency for that other bean.  \r\n\r\nThis is because Spring didn&#39;t know which bean you wanted to load first due to the circular reference.  In this case, one can remove the circular reference or use `@AutoWired`/`@Value` constructor parameters instead of member values or setters, or if using xml configuration, maybe you can swap the order in which the beans are defined.","title":"Why is PostConstruct not called?","body":"<p>Since this question comes up first on Google for \"postconstruct not called\", another reason a <code>@PostConstruct</code> method might not be called besides using the <code>new</code> keyword instead of putting <code>@PostConstruct</code> in a Spring bean is if you have a circular dependency.  </p>\n\n<p>If this bean were to depend on another bean that depended on this bean, your other bean might call <code>addNewEntry()</code> before <code>BlogEntryDao</code> was initialized, even though BlogEntryDao is a dependency for that other bean.  </p>\n\n<p>This is because Spring didn't know which bean you wanted to load first due to the circular reference.  In this case, one can remove the circular reference or use <code>@AutoWired</code>/<code>@Value</code> constructor parameters instead of member values or setters, or if using xml configuration, maybe you can swap the order in which the beans are defined.</p>\n"},{"tags":[],"owner":{"account_id":5671980,"reputation":370,"user_id":4486357,"display_name":"Tomasz Kubiak"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1446224902,"creation_date":1446224902,"answer_id":33441330,"question_id":18161682,"body_markdown":"I had the same problem in my application.\r\nYou didn&#39;t post your bean context configuration xml file (so I&#39;m not sure if it&#39;s the same issue) but in my case adding this line:\r\n\r\n    &lt;context:annotation-config/&gt;\r\n\r\nSolved my problem.\r\nYou need either `&lt;context:annotation-config/&gt;` or `&lt;context:component-scan/&gt;` to enable @PostConstruct annotation.","title":"Why is PostConstruct not called?","body":"<p>I had the same problem in my application.\nYou didn't post your bean context configuration xml file (so I'm not sure if it's the same issue) but in my case adding this line:</p>\n\n<pre><code>&lt;context:annotation-config/&gt;\n</code></pre>\n\n<p>Solved my problem.\nYou need either <code>&lt;context:annotation-config/&gt;</code> or <code>&lt;context:component-scan/&gt;</code> to enable @PostConstruct annotation.</p>\n"},{"tags":[],"owner":{"account_id":5735631,"reputation":81,"user_id":4529909,"display_name":"divaylo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1481561399,"creation_date":1481561399,"answer_id":41105631,"question_id":18161682,"body_markdown":"In my case @PostConstruct was not called because my initialize() method was static and was also throwing an exception. In either case the method is ignored. I hope it helps someone else who made the same mistake.\r\nThis can be found in the console:\r\n\r\n    WARNING: JSF1044: Method &#39;&lt;XXX&gt;&#39; marked with the &#39;javax.annotation.PostConstruct&#39; annotation cannot be static.  This method will be ignored.\r\n    WARNING: JSF1047: Method &#39;&lt;XXX&gt;&#39; marked with the &#39;javax.annotation.PostConstruct&#39; annotation cannot declare any checked exceptions.  This method will be ignored.\r\n\r\n","title":"Why is PostConstruct not called?","body":"<p>In my case @PostConstruct was not called because my initialize() method was static and was also throwing an exception. In either case the method is ignored. I hope it helps someone else who made the same mistake.\nThis can be found in the console:</p>\n\n<pre><code>WARNING: JSF1044: Method '&lt;XXX&gt;' marked with the 'javax.annotation.PostConstruct' annotation cannot be static.  This method will be ignored.\nWARNING: JSF1047: Method '&lt;XXX&gt;' marked with the 'javax.annotation.PostConstruct' annotation cannot declare any checked exceptions.  This method will be ignored.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597333047,"creation_date":1597330425,"answer_id":63397741,"question_id":18161682,"body_markdown":"In my case `@PostConstruct` method was not called because I was referencing to a `public instance variable` of the spring service bean directly in other service beans (ie myService.myProperty). When i made a public `getter method` for the property (ie `getMyProperty()`) and used that to get the property the `@PostConstruct` method was called again. Also I made `myProperty` `private` to prevent any accidental direct referencing in the future.\r\n\r\nAlso note that if you don&#39;t explicitly register the class with `@Bean` in a `@Configuration` annotated class and rely soley on `@Autowired` instead, the `@PostConstruct` method may not be executed immediately on startup. Only when one of the methods of the autowired class are referenced and called by another class will that class be loaded and only at that time will the `@PostConstruct` method be called. In other words, by only using `@Autowired` you are essentially lazy loading a class. If you want to load it at startup, register it with `@Bean`\r\n\r\nHeres a good SO thread about the difference between `@Bean` and `@Autowired` https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired\r\n\r\nEDIT: One last remark. When you have a webapplication and decided to annotate your class with `@RequestScope` then the `@Postconstruct` annotated method will be called each time when a new request comes in. This is because `@RequestScope` instructs spring to create a new `instance` of the class every time a new request comes in. If you want all requests to use the same instance, then you could use `@Bean` as mentioned above, but you could also use the annotation `@Singleton` above your class. This will cause the class to be loaded eagerly upon startup.","title":"Why is PostConstruct not called?","body":"<p>In my case <code>@PostConstruct</code> method was not called because I was referencing to a <code>public instance variable</code> of the spring service bean directly in other service beans (ie myService.myProperty). When i made a public <code>getter method</code> for the property (ie <code>getMyProperty()</code>) and used that to get the property the <code>@PostConstruct</code> method was called again. Also I made <code>myProperty</code> <code>private</code> to prevent any accidental direct referencing in the future.</p>\n<p>Also note that if you don't explicitly register the class with <code>@Bean</code> in a <code>@Configuration</code> annotated class and rely soley on <code>@Autowired</code> instead, the <code>@PostConstruct</code> method may not be executed immediately on startup. Only when one of the methods of the autowired class are referenced and called by another class will that class be loaded and only at that time will the <code>@PostConstruct</code> method be called. In other words, by only using <code>@Autowired</code> you are essentially lazy loading a class. If you want to load it at startup, register it with <code>@Bean</code></p>\n<p>Heres a good SO thread about the difference between <code>@Bean</code> and <code>@Autowired</code> <a href=\"https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired\">Difference between @Bean and @Autowired</a></p>\n<p>EDIT: One last remark. When you have a webapplication and decided to annotate your class with <code>@RequestScope</code> then the <code>@Postconstruct</code> annotated method will be called each time when a new request comes in. This is because <code>@RequestScope</code> instructs spring to create a new <code>instance</code> of the class every time a new request comes in. If you want all requests to use the same instance, then you could use <code>@Bean</code> as mentioned above, but you could also use the annotation <code>@Singleton</code> above your class. This will cause the class to be loaded eagerly upon startup.</p>\n"},{"tags":[],"owner":{"account_id":18337746,"reputation":351,"user_id":13354782,"display_name":"amitsatputecd7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605499296,"creation_date":1605499296,"answer_id":64852556,"question_id":18161682,"body_markdown":"Make sure the class having `@Postconstruct` method lies within the same package. I moved class file to main package and it worked.","title":"Why is PostConstruct not called?","body":"<p>Make sure the class having <code>@Postconstruct</code> method lies within the same package. I moved class file to main package and it worked.</p>\n"},{"tags":[],"owner":{"account_id":7069108,"reputation":2285,"user_id":5411388,"accept_rate":85,"display_name":"Tinus Tate"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1612624934,"creation_date":1612624934,"answer_id":66078483,"question_id":18161682,"body_markdown":"When using Spring make sure you are using the right PostConstruct annotation from the right package.\r\n\r\n    javax.annotation.PostConstruct\r\n\r\nshould be the one. Not for example:\r\n\r\n    jakarta.annotation.PostConstruct\r\n\r\nIt took me a little while to figure out why only one of my PostConstruct didn&#39;t work.","title":"Why is PostConstruct not called?","body":"<p>When using Spring make sure you are using the right PostConstruct annotation from the right package.</p>\n<pre><code>javax.annotation.PostConstruct\n</code></pre>\n<p>should be the one. Not for example:</p>\n<pre><code>jakarta.annotation.PostConstruct\n</code></pre>\n<p>It took me a little while to figure out why only one of my PostConstruct didn't work.</p>\n"},{"tags":[],"owner":{"account_id":5336470,"reputation":144,"user_id":4255253,"display_name":"Tanimak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613068292,"creation_date":1613068292,"answer_id":66160705,"question_id":18161682,"body_markdown":"In my case I had two instances of `javax.annotation.PostConstruct` inside classpath. One was bundled with the war package and another was provided by tomcat. When Spring is scanning for the `@PostConstruct` annotation it compares these two different instances. Therefore the `@PostConstruct` annotated method was not picked while scanning. \r\n\r\nProviding only one instance of `javax.annotation-api` library solved the issue.   ","title":"Why is PostConstruct not called?","body":"<p>In my case I had two instances of <code>javax.annotation.PostConstruct</code> inside classpath. One was bundled with the war package and another was provided by tomcat. When Spring is scanning for the <code>@PostConstruct</code> annotation it compares these two different instances. Therefore the <code>@PostConstruct</code> annotated method was not picked while scanning.</p>\n<p>Providing only one instance of <code>javax.annotation-api</code> library solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":21801695,"reputation":1,"user_id":16100428,"display_name":"curiousP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630099776,"creation_date":1630099776,"answer_id":68959542,"question_id":18161682,"body_markdown":"Since most of the ways are already mentioned. However one can also create a bean in the config file for the class \r\n\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor\r\n\r\n;\r\n\r\nThis will enable *PostConstruct* and *PreDestroy* annotations.\r\n\r\n&gt;     &lt;bean class=&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot;&gt;&lt;/bean&gt;\r\n\r\nAlso for *Predestroy* one needs to call *context.registerShutDownHook()*\r\n\r\n","title":"Why is PostConstruct not called?","body":"<p>Since most of the ways are already mentioned. However one can also create a bean in the config file for the class</p>\n<blockquote>\n<p>org.springframework.context.annotation.CommonAnnotationBeanPostProcessor</p>\n</blockquote>\n<p>;</p>\n<p>This will enable <em>PostConstruct</em> and <em>PreDestroy</em> annotations.</p>\n<blockquote>\n<pre><code>&lt;bean class=&quot;org.springframework.context.annotation.CommonAnnotationBeanPostProcessor&quot;&gt;&lt;/bean&gt;\n</code></pre>\n</blockquote>\n<p>Also for <em>Predestroy</em> one needs to call <em>context.registerShutDownHook()</em></p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66064,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":18161798,"answer_count":9,"score":37,"last_activity_date":1696765497,"creation_date":1376136276,"question_id":18161682,"body_markdown":"I am working on a simple Java EE application.\r\n\r\nI have class like this:\r\n\r\n    import javax.annotation.PostConstruct;\r\n    import javax.ejb.Stateless;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n    \r\n    @Stateless\r\n    public class BlogEntryDao {\r\n    \r\n        EntityManager em;\r\n    \r\n        @PostConstruct\r\n        public void initialize(){\r\n            EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;Persistence&quot;);\r\n            em = emf.createEntityManager();\r\n        }\r\n    \r\n        public void addNewEntry(){\r\n            Blogentry blogentry = new Blogentry();\r\n            \r\n            blogentry.setTitle(&quot;Test&quot;);\r\n            blogentry.setContent(&quot;asdfasfas&quot;);\r\n    \r\n            em.persist(blogentry);\r\n    \r\n        }\r\n    }\r\n\r\nSo my managed bean calls this method. Until here no problems. But since the initialize method is not called, I am getting an NPE in **em.persist**.\r\n\r\nWhy is the initialize method not being called? I am running this on Glassfish server.\r\n","title":"Why is PostConstruct not called?","body":"<p>I am working on a simple Java EE application.</p>\n<p>I have class like this:</p>\n<pre><code>import javax.annotation.PostConstruct;\nimport javax.ejb.Stateless;\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\n@Stateless\npublic class BlogEntryDao {\n\n    EntityManager em;\n\n    @PostConstruct\n    public void initialize(){\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;Persistence&quot;);\n        em = emf.createEntityManager();\n    }\n\n    public void addNewEntry(){\n        Blogentry blogentry = new Blogentry();\n        \n        blogentry.setTitle(&quot;Test&quot;);\n        blogentry.setContent(&quot;asdfasfas&quot;);\n\n        em.persist(blogentry);\n\n    }\n}\n</code></pre>\n<p>So my managed bean calls this method. Until here no problems. But since the initialize method is not called, I am getting an NPE in <strong>em.persist</strong>.</p>\n<p>Why is the initialize method not being called? I am running this on Glassfish server.</p>\n"},{"tags":["java","eclipse","swing","jframe"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1696760266,"post_id":77253079,"comment_id":136192286,"body_markdown":"`Login` extends `HMS_Main`, so `new Login()` implicitly calls  the `public HMS_Main()` constructor. And `HMS_Main()` does another `new Login()`, which again implicitly calls  the `public HMS_Main()` constructor. And so on.","body":"<code>Login</code> extends <code>HMS_Main</code>, so <code>new Login()</code> implicitly calls  the <code>public HMS_Main()</code> constructor. And <code>HMS_Main()</code> does another <code>new Login()</code>, which again implicitly calls  the <code>public HMS_Main()</code> constructor. And so on."}],"owner":{"account_id":29624538,"reputation":1,"user_id":22704600,"display_name":"RenzSwiing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696764496,"answer_count":0,"score":0,"last_activity_date":1696765116,"creation_date":1696758180,"question_id":77253079,"body_markdown":"Beginner programmer here so I apologize if I&#39;m going to put an all out code block, but regarding the proble, I&#39;m trying to call a method from another package and use it on my main package, but somehow the error (in the title) keeps popping up and saying that the method is null. I&#39;m kind of at a loss since I&#39;ve tried a bunch of different initializations that I know  and it&#39;s still popping up. Ty in advance to those who will make me understand. :]\r\n\r\n\r\nMain Code:\r\n\r\n```\r\npackage HMS_GUI;\r\n\r\nimport HMS_Elements.Login;\r\nimport java.awt.EventQueue;\r\n\r\npublic class HMS_Main {\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tLogin window = new Login();\r\n\t\t\t\t\twindow.f1.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tpublic HMS_Main() {\r\n\t\tLogin login = new Login();\r\n\t\tlogin.ini();\r\n\t}\r\n}\r\n```\r\n\r\nPackage code to be used in Main:\r\n\r\n```\r\npackage HMS_Elements;\r\n\r\nimport HMS_GUI.HMS_Main;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPasswordField;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JTextField;\r\nimport javax.swing.WindowConstants;\r\n\r\npublic class Login extends HMS_Main {\r\n\t\r\n\tpublic JFrame f1;\r\n\tpublic JTextField txtUn;\r\n\tprivate JPasswordField txtPw;\r\n\t\r\n\tpublic void ini() {\r\n\t\t\r\n\t\tf1.setResizable(false);\r\n\t\tf1.setTitle(&quot;Electro Inc.&quot;);\r\n\t\tf1.setBounds(100, 100, 629, 361);\r\n\t\tf1.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tf1.getContentPane().setLayout(null);\r\n\t\t\r\n\t\tJButton btnLogin = new JButton(&quot;LOGIN&quot;);\r\n\t\tbtnLogin.addActionListener(new ActionListener() {\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\ttxtUn.getText();\r\n\t\t\t\tchar[] pass = txtPw.getPassword();\r\n\t\t\t\tchar[] pw = {&#39;2&#39;, &#39;0&#39;, &#39;2&#39;, &#39;3&#39;};\r\n\t\t\t\tArrays.equals(pw,pass);\r\n\t}\r\n});\r\n\t\t\r\n\t}\r\n} \r\n```\r\n\r\nResults in the stack trace:\r\n\r\n```\r\nException in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError\r\n        at HMS_GUI.HMS_Main.&lt;init&gt;(HMS_Main.java:28)\r\n\tat HMS_Elements.Login.&lt;init&gt;(Login.java:17)\r\n        ...\r\n\r\ninfinitely on the same lines...\r\n```\r\n\r\n","title":"I keep getting - Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError","body":"<p>Beginner programmer here so I apologize if I'm going to put an all out code block, but regarding the proble, I'm trying to call a method from another package and use it on my main package, but somehow the error (in the title) keeps popping up and saying that the method is null. I'm kind of at a loss since I've tried a bunch of different initializations that I know  and it's still popping up. Ty in advance to those who will make me understand. :]</p>\n<p>Main Code:</p>\n<pre><code>package HMS_GUI;\n\nimport HMS_Elements.Login;\nimport java.awt.EventQueue;\n\npublic class HMS_Main {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Login window = new Login();\n                    window.f1.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n\n    public HMS_Main() {\n        Login login = new Login();\n        login.ini();\n    }\n}\n</code></pre>\n<p>Package code to be used in Main:</p>\n<pre><code>package HMS_Elements;\n\nimport HMS_GUI.HMS_Main;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPasswordField;\n\nimport java.util.Arrays;\nimport java.util.Scanner;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JTextField;\nimport javax.swing.WindowConstants;\n\npublic class Login extends HMS_Main {\n    \n    public JFrame f1;\n    public JTextField txtUn;\n    private JPasswordField txtPw;\n    \n    public void ini() {\n        \n        f1.setResizable(false);\n        f1.setTitle(&quot;Electro Inc.&quot;);\n        f1.setBounds(100, 100, 629, 361);\n        f1.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        f1.getContentPane().setLayout(null);\n        \n        JButton btnLogin = new JButton(&quot;LOGIN&quot;);\n        btnLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                txtUn.getText();\n                char[] pass = txtPw.getPassword();\n                char[] pw = {'2', '0', '2', '3'};\n                Arrays.equals(pw,pass);\n    }\n});\n        \n    }\n} \n</code></pre>\n<p>Results in the stack trace:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.StackOverflowError\n        at HMS_GUI.HMS_Main.&lt;init&gt;(HMS_Main.java:28)\n    at HMS_Elements.Login.&lt;init&gt;(Login.java:17)\n        ...\n\ninfinitely on the same lines...\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sns","aws-lambda","aws-java-sdk"],"comments":[{"owner":{"account_id":38708,"reputation":22179,"user_id":111286,"display_name":"Eric Hammond"},"score":0,"creation_date":1451294233,"post_id":34490252,"comment_id":56723056,"body_markdown":"Try increasing the allocated memory setting to the max. This will speed up the processing necessary to perform the SNS API calls. You currently have it at the slowest setting. Then try increasing the timeout seconds. How many DynamoDB events are you receiving in each AWS Lambda function invocation that times out?","body":"Try increasing the allocated memory setting to the max. This will speed up the processing necessary to perform the SNS API calls. You currently have it at the slowest setting. Then try increasing the timeout seconds. How many DynamoDB events are you receiving in each AWS Lambda function invocation that times out?"},{"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"score":0,"creation_date":1451295016,"post_id":34490252,"comment_id":56723423,"body_markdown":"@EricHammond I&#39;m receiving just 1 event per lambda call. I doubt that requires more memory and time. The payload is also very tiny. Also, when I add the SNS part, even the first call to `logger.log()` (the one that logs the received data) is not reached.","body":"@EricHammond I&#39;m receiving just 1 event per lambda call. I doubt that requires more memory and time. The payload is also very tiny. Also, when I add the SNS part, even the first call to <code>logger.log()</code> (the one that logs the received data) is not reached."},{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1451328606,"post_id":34490252,"comment_id":56739560,"body_markdown":"Java functions are definitely slower to start and need more memory on Lambda than NodeJS or Python functions. I would definitely start by increasing the timeout and available memory.","body":"Java functions are definitely slower to start and need more memory on Lambda than NodeJS or Python functions. I would definitely start by increasing the timeout and available memory."},{"owner":{"account_id":414294,"reputation":6451,"user_id":788433,"display_name":"JaredHatfield"},"score":1,"creation_date":1451345603,"post_id":34490252,"comment_id":56746575,"body_markdown":"The timeout could also be caused by the fact that requests using the AWS SDK fail they are automatically retried using exponential backoff.  This could be happening if there resource doesn&#39;t exist, there is a permission issue, or the service is actually down.  Set the Lambda function timeout to over a minute or change the SDKs retry logic to avoid this type of timeout altogether.","body":"The timeout could also be caused by the fact that requests using the AWS SDK fail they are automatically retried using exponential backoff.  This could be happening if there resource doesn&#39;t exist, there is a permission issue, or the service is actually down.  Set the Lambda function timeout to over a minute or change the SDKs retry logic to avoid this type of timeout altogether."},{"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"score":0,"creation_date":1451364671,"post_id":34490252,"comment_id":56751120,"body_markdown":"Seems like it was a memory issue after all. Thanks guys. Can one of you post it as an answer ?","body":"Seems like it was a memory issue after all. Thanks guys. Can one of you post it as an answer ?"}],"answers":[{"tags":[],"owner":{"account_id":1955366,"reputation":4747,"user_id":1758461,"accept_rate":33,"display_name":"Josh Wulf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451411216,"creation_date":1451411216,"answer_id":34516213,"question_id":34490252,"body_markdown":"Increase the amount of memory allocated for the Lambda operation.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Increase the amount of memory allocated for the Lambda operation.</p>\n"},{"tags":[],"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1451540681,"creation_date":1451540681,"answer_id":34541684,"question_id":34490252,"body_markdown":"Well, since none of the people who commented on my question are answering, I&#39;ll answer it myself.\r\n\r\nIncreasing the memory usage to 256 MB and timeout to 30 seconds seems to have solved the issue.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Well, since none of the people who commented on my question are answering, I'll answer it myself.</p>\n\n<p>Increasing the memory usage to 256 MB and timeout to 30 seconds seems to have solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":11698661,"reputation":1,"user_id":8564561,"display_name":"ProductGuy1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545755922,"creation_date":1545755922,"answer_id":53924035,"question_id":34490252,"body_markdown":"Increasing the memory allocated to the lambda function worked for me as well (this setting is in the lambda console under basic settings).\r\n\r\nThis one was maddening for me - I was using the same JAR file for 2 different lambda functions with identical configurations, and the SNS call was working for one but timing out for the other. Maddening!\r\n","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>Increasing the memory allocated to the lambda function worked for me as well (this setting is in the lambda console under basic settings).</p>\n\n<p>This one was maddening for me - I was using the same JAR file for 2 different lambda functions with identical configurations, and the SNS call was working for one but timing out for the other. Maddening!</p>\n"},{"tags":[],"owner":{"account_id":1278216,"reputation":1181,"user_id":1232977,"accept_rate":83,"display_name":"romor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696764849,"creation_date":1696764849,"answer_id":77253444,"question_id":34490252,"body_markdown":"In my case, the problem was a network issue. A lambda in an VPC typically has no network access if the VPC is missing a NAT gateway. This blocked the triggering of the SNS.\r\n\r\nYou can solve this by creating an Amazon VPC endpoint for Amazon SNS:\r\n\r\n - in the Amazon VPC console, create a new Endpoint\r\n - select the AWS service com.amazonaws.\\&lt;your-region&gt;.sns\r\n - select your lambda vpc, all subnets, security group\r\n\r\nOnce this AWS PrivateLink is established, the SNS notifications from my Lambda function immediately worked, without further changes in the SNS or Lambda itself.","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>In my case, the problem was a network issue. A lambda in an VPC typically has no network access if the VPC is missing a NAT gateway. This blocked the triggering of the SNS.</p>\n<p>You can solve this by creating an Amazon VPC endpoint for Amazon SNS:</p>\n<ul>\n<li>in the Amazon VPC console, create a new Endpoint</li>\n<li>select the AWS service com.amazonaws.&lt;your-region&gt;.sns</li>\n<li>select your lambda vpc, all subnets, security group</li>\n</ul>\n<p>Once this AWS PrivateLink is established, the SNS notifications from my Lambda function immediately worked, without further changes in the SNS or Lambda itself.</p>\n"}],"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10764,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":34541684,"answer_count":4,"score":12,"last_activity_date":1696764849,"creation_date":1451292175,"question_id":34490252,"body_markdown":"I&#39;m trying to publish some data to SNS from a Lambda function call, but it doesn&#39;t seem to be working. My function code is - \r\n\r\n    public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\r\n\r\n        private static final String SNS_TOPIC_ARN = &quot;arn:aws:sns:us-west-2:account_number:function_name&quot;;\r\n\r\n        @Override\r\n        public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\r\n\r\n            LambdaLogger logger = context.getLogger();\r\n\r\n            AmazonSNSClient snsClient = new AmazonSNSClient(new DefaultAWSCredentialsProviderChain());\r\n            snsClient.setRegion(Region.getRegion(Regions.US_WEST_2));\r\n\r\n            for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\r\n                Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\r\n\r\n                if (newImage == null) {\r\n                    continue;\r\n                }\r\n\r\n                String sensorId = newImage.get(&quot;sensorID&quot;).getS();\r\n                long timestamp = Long.parseLong(newImage.get(&quot;timestamp&quot;).getS());\r\n                double temperature = Double.parseDouble(newImage.get(&quot;payload&quot;).getM().get(&quot;temp&quot;).getN());\r\n\r\n                String data = sensorId + &quot; &quot; + timestamp + &quot; &quot; + temperature;\r\n\r\n                logger.log(data);\r\n\r\n                PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\r\n\r\n                PublishResult publishResult = snsClient.publish(publishRequest);\r\n\r\n                logger.log(&quot;Publish Successful &quot; + publishResult.getMessageId());\r\n            }\r\n\r\n            snsClient.shutdown();\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\nThis call results in a timeout (10 seconds) and the lambda invocation fails. If I comment out the SNS publishing part, i.e., if I just log the data received from DynamoDB, it works just fine. As soon as the SNS publishing code is added, it times out.\r\n\r\nThe timeout message logged in CloudWatch is - \r\n\r\n`START RequestId: 8db74187-459b-42c5-8a06-b3a74873b236 Version: $LATEST\r\nEND RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\r\nREPORT RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\tDuration: 10001.66 ms\tBilled Duration: 10000 ms \tMemory Size: 128 MB\tMax Memory Used: 37 MB\r\nTask timed out after 10.00 seconds`\r\n\r\nI have all the proper permissions in place, and I&#39;m able to publish to SNS using just the following code running on my PC - \r\n\r\n    PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\r\n    PublishResult publishResult = snsClient.publish(publishRequest);\r\n    System.out.println(&quot;Publish Successful &quot; + publishResult.getMessageId());\r\n\r\nI have also tried using `AmazonSNSAsyncClient` instead of `AmazonSNSClient`, it gives the same result.\r\n\r\nWhat am I missing here ?","title":"Timeout when publishing from AWS Lambda to SNS","body":"<p>I'm trying to publish some data to SNS from a Lambda function call, but it doesn't seem to be working. My function code is - </p>\n\n<pre><code>public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\n\n    private static final String SNS_TOPIC_ARN = \"arn:aws:sns:us-west-2:account_number:function_name\";\n\n    @Override\n    public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\n\n        LambdaLogger logger = context.getLogger();\n\n        AmazonSNSClient snsClient = new AmazonSNSClient(new DefaultAWSCredentialsProviderChain());\n        snsClient.setRegion(Region.getRegion(Regions.US_WEST_2));\n\n        for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\n            Map&lt;String, AttributeValue&gt; newImage = record.getDynamodb().getNewImage();\n\n            if (newImage == null) {\n                continue;\n            }\n\n            String sensorId = newImage.get(\"sensorID\").getS();\n            long timestamp = Long.parseLong(newImage.get(\"timestamp\").getS());\n            double temperature = Double.parseDouble(newImage.get(\"payload\").getM().get(\"temp\").getN());\n\n            String data = sensorId + \" \" + timestamp + \" \" + temperature;\n\n            logger.log(data);\n\n            PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\n\n            PublishResult publishResult = snsClient.publish(publishRequest);\n\n            logger.log(\"Publish Successful \" + publishResult.getMessageId());\n        }\n\n        snsClient.shutdown();\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>This call results in a timeout (10 seconds) and the lambda invocation fails. If I comment out the SNS publishing part, i.e., if I just log the data received from DynamoDB, it works just fine. As soon as the SNS publishing code is added, it times out.</p>\n\n<p>The timeout message logged in CloudWatch is - </p>\n\n<p><code>START RequestId: 8db74187-459b-42c5-8a06-b3a74873b236 Version: $LATEST\nEND RequestId: 8db74187-459b-42c5-8a06-b3a74873b236\nREPORT RequestId: 8db74187-459b-42c5-8a06-b3a74873b236  Duration: 10001.66 ms   Billed Duration: 10000 ms   Memory Size: 128 MB Max Memory Used: 37 MB\nTask timed out after 10.00 seconds</code></p>\n\n<p>I have all the proper permissions in place, and I'm able to publish to SNS using just the following code running on my PC - </p>\n\n<pre><code>PublishRequest publishRequest = new PublishRequest(SNS_TOPIC_ARN, data);\nPublishResult publishResult = snsClient.publish(publishRequest);\nSystem.out.println(\"Publish Successful \" + publishResult.getMessageId());\n</code></pre>\n\n<p>I have also tried using <code>AmazonSNSAsyncClient</code> instead of <code>AmazonSNSClient</code>, it gives the same result.</p>\n\n<p>What am I missing here ?</p>\n"},{"tags":["java","testrail"],"comments":[{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":0,"creation_date":1660221460,"post_id":73309885,"comment_id":129484838,"body_markdown":"You have a typo in URL - it should be `index.php?/api/v2/update_user/`, not `index.php?/api/vs/update_user/`  (**v2** not **vs**)","body":"You have a typo in URL - it should be <code>index.php?&#47;api&#47;v2&#47;update_user&#47;</code>, not <code>index.php?&#47;api&#47;vs&#47;update_user&#47;</code>  (<b>v2</b> not <b>vs</b>)"},{"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"score":0,"creation_date":1660224544,"post_id":73309885,"comment_id":129486044,"body_markdown":"That was a typo in transcribing my question, I fixed it thank you @Sergi","body":"That was a typo in transcribing my question, I fixed it thank you @Sergi"},{"owner":{"account_id":16623108,"reputation":55,"user_id":12012844,"display_name":"SurPrise 2"},"score":0,"creation_date":1660228948,"post_id":73309885,"comment_id":129488016,"body_markdown":"From the API i guess you should call it with PUT, not POST","body":"From the API i guess you should call it with PUT, not POST"},{"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"score":0,"creation_date":1660245679,"post_id":73309885,"comment_id":129493688,"body_markdown":"@SurPrise2 The API handles all change requests (including updates and deletes) with a POST request.","body":"@SurPrise2 The API handles all change requests (including updates and deletes) with a POST request."}],"answers":[{"tags":[],"owner":{"account_id":29313952,"reputation":61,"user_id":22459129,"display_name":"TGavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696764489,"creation_date":1696764071,"answer_id":77253406,"question_id":73309885,"body_markdown":"I successfully updated the user with the help of &quot;update_user&quot; end point in TestRail version 8.0.1 without encountering any issues. My client of choice for this process was POSTMAN.\r\n\r\nIt was a POST request with the below endpoint\r\n\r\n```\r\nhttps://{TESTRAIL_INSTANCE}/index.php?/api/v2/update_user/{USER_ID}\r\n\r\n```\r\n \r\nThe request body looks like below (as in this case I only wanted to change the the name of the user) \r\n\r\n```\r\n{\r\n    &quot;name&quot;: &quot;ABCD&quot;\r\n}\r\n```\r\n\r\nand I got the 200 as a response and the name of the user was updated successfully.\r\n\r\nSo, the end point is working fine without any issue. For more details you can refer to the below documentation available in TestRail \r\n[Update User][1] \r\n\r\n\r\n  [1]: https://support.testrail.com/hc/en-us/articles/7077978310292-Users#updateuser\r\n\r\nFurthermore, could you please attempt this using TestRail 8.0 and confirm whether the issue lies with your code or the TestRail version?","title":"TestRail API endpoint update_user/:user_id returning HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)","body":"<p>I successfully updated the user with the help of &quot;update_user&quot; end point in TestRail version 8.0.1 without encountering any issues. My client of choice for this process was POSTMAN.</p>\n<p>It was a POST request with the below endpoint</p>\n<pre><code>https://{TESTRAIL_INSTANCE}/index.php?/api/v2/update_user/{USER_ID}\n\n</code></pre>\n<p>The request body looks like below (as in this case I only wanted to change the the name of the user)</p>\n<pre><code>{\n    &quot;name&quot;: &quot;ABCD&quot;\n}\n</code></pre>\n<p>and I got the 200 as a response and the name of the user was updated successfully.</p>\n<p>So, the end point is working fine without any issue. For more details you can refer to the below documentation available in TestRail\n<a href=\"https://support.testrail.com/hc/en-us/articles/7077978310292-Users#updateuser\" rel=\"nofollow noreferrer\">Update User</a></p>\n<p>Furthermore, could you please attempt this using TestRail 8.0 and confirm whether the issue lies with your code or the TestRail version?</p>\n"}],"owner":{"account_id":26030721,"reputation":1,"user_id":19736994,"display_name":"Zea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696764489,"creation_date":1660149607,"question_id":73309885,"body_markdown":"I am attempting to use the TestRail API to update a user using endpoint: `POST index.php?/api/v2/update_user/:user_id`. I am receiving an error `TestRail API returned HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)`. I am using the Java API client and TestRail version 7.0.2.1016\r\n\r\nI am able to get a successful return on some of the different API methods (such as get user, get user by id/email, add/update/delete project). I believe some endpoints may not be compatible with my version of TestRail based on the API docs but can&#39;t find anything in the API docs to suggest that would apply to this `update_user` endpoint. However, if that is the case, is there another endpoint to update the user compatible with my current version? Example request below.\r\n\r\n```\r\nMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\nmap.put(&quot;role&quot;, &quot;Guest&quot;);\r\n\r\nJSONObject result = (JSONObject) client.sendPost(&quot;update_user/213&quot;, map);\r\n```","title":"TestRail API endpoint update_user/:user_id returning HTTP 404(&quot;Unknown method &#39;update_user&#39;&quot;)","body":"<p>I am attempting to use the TestRail API to update a user using endpoint: <code>POST index.php?/api/v2/update_user/:user_id</code>. I am receiving an error <code>TestRail API returned HTTP 404(&quot;Unknown method 'update_user'&quot;)</code>. I am using the Java API client and TestRail version 7.0.2.1016</p>\n<p>I am able to get a successful return on some of the different API methods (such as get user, get user by id/email, add/update/delete project). I believe some endpoints may not be compatible with my version of TestRail based on the API docs but can't find anything in the API docs to suggest that would apply to this <code>update_user</code> endpoint. However, if that is the case, is there another endpoint to update the user compatible with my current version? Example request below.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\nmap.put(&quot;role&quot;, &quot;Guest&quot;);\n\nJSONObject result = (JSONObject) client.sendPost(&quot;update_user/213&quot;, map);\n</code></pre>\n"},{"tags":["java","operators","conditional-statements"],"comments":[{"owner":{"account_id":1402825,"reputation":647,"user_id":1331274,"accept_rate":67,"display_name":"Zbyszek"},"score":0,"creation_date":1637418518,"post_id":20533309,"comment_id":123823539,"body_markdown":"For many such ints you might use some set implementation and after adding them check number of elements","body":"For many such ints you might use some set implementation and after adding them check number of elements"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1386811504,"creation_date":1386811504,"answer_id":20533321,"question_id":20533309,"body_markdown":"Equality is transitive; you don&#39;t need the last comparison `b == c`.  If `a == b` and `a == c`, then `b == c`.\r\n\r\nTry\r\n\r\n    if ((a == b) &amp;&amp; (a == c)){","title":"alternative way to compare if three ints are equal","body":"<p>Equality is transitive; you don't need the last comparison <code>b == c</code>.  If <code>a == b</code> and <code>a == c</code>, then <code>b == c</code>.</p>\n\n<p>Try</p>\n\n<pre><code>if ((a == b) &amp;&amp; (a == c)){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386811600,"creation_date":1386811600,"answer_id":20533337,"question_id":20533309,"body_markdown":"If all you need is to know whether three are equal then you can use:\r\n\r\n    if ((a==b) &amp;&amp; (b==c)) {\r\n\r\n    }","title":"alternative way to compare if three ints are equal","body":"<p>If all you need is to know whether three are equal then you can use:</p>\n\n<pre><code>if ((a==b) &amp;&amp; (b==c)) {\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1386811620,"creation_date":1386811620,"answer_id":20533343,"question_id":20533309,"body_markdown":"alternative variant:\r\n\r\n    int t1 = a-b;\r\n    int t2 = c-b;\r\n    if ( (t1|t2) == 0 ) // both are equal","title":"alternative way to compare if three ints are equal","body":"<p>alternative variant:</p>\n\n<pre><code>int t1 = a-b;\nint t2 = c-b;\nif ( (t1|t2) == 0 ) // both are equal\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19942165,"reputation":1,"user_id":14613697,"display_name":"Ricardo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605027392,"creation_date":1605022605,"answer_id":64771956,"question_id":20533309,"body_markdown":"    public static int equal(int a, int b, int c) {\r\n        int count = 0;\r\n\r\n        if (a==b &amp;&amp; b==c) { \r\n          count = 3; \r\n        } else if ((a==b &amp;&amp; b!=c) || (a==c &amp;&amp; a!=b)) { \r\n          count = 2; \r\n        }\r\n\r\n        return count;\r\n    }","title":"alternative way to compare if three ints are equal","body":"<pre><code>public static int equal(int a, int b, int c) {\n    int count = 0;\n\n    if (a==b &amp;&amp; b==c) { \n      count = 3; \n    } else if ((a==b &amp;&amp; b!=c) || (a==c &amp;&amp; a!=b)) { \n      count = 2; \n    }\n\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29624677,"reputation":1,"user_id":22704708,"display_name":"Diaconu Razvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763866,"creation_date":1696763264,"answer_id":77253369,"question_id":20533309,"body_markdown":"You can add them into a list, then remove duplicates and compare the size of the actual list minus the unique elements\r\n\r\n    List elements = Arrays.asList(a,b,c);\r\n    List distinct = elements.stream().distinct().toList();\r\n\r\n    return elements.size() == distinct.size() ? 0 : elements.size() - distinct.size() + 1;\r\n\r\ndistinct list contains one entry of the duplicate so we have to increment with 1 because we already decreased it.\r\n\r\nOr use a HashSet that holds only unique elements\r\n\r\n    List elements = Arrays.asList(a,b,c);\r\n    HashSet&lt;ArrayList&gt; set = new HashSet&lt;&gt;();\r\n    set.addAll(elements);\r\n\r\n    return elements.size() == set.size() ? 0 : elements.size() - set.size() + 1;","title":"alternative way to compare if three ints are equal","body":"<p>You can add them into a list, then remove duplicates and compare the size of the actual list minus the unique elements</p>\n<pre><code>List elements = Arrays.asList(a,b,c);\nList distinct = elements.stream().distinct().toList();\n\nreturn elements.size() == distinct.size() ? 0 : elements.size() - distinct.size() + 1;\n</code></pre>\n<p>distinct list contains one entry of the duplicate so we have to increment with 1 because we already decreased it.</p>\n<p>Or use a HashSet that holds only unique elements</p>\n<pre><code>List elements = Arrays.asList(a,b,c);\nHashSet&lt;ArrayList&gt; set = new HashSet&lt;&gt;();\nset.addAll(elements);\n\nreturn elements.size() == set.size() ? 0 : elements.size() - set.size() + 1;\n</code></pre>\n"}],"owner":{"account_id":3672632,"reputation":209,"user_id":3059427,"accept_rate":89,"display_name":"user3059427"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26722,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":20533321,"answer_count":5,"score":7,"last_activity_date":1696763866,"creation_date":1386811421,"question_id":20533309,"body_markdown":"    int a = 10;\r\n    int b = 10;\r\n    int c = 10;\r\n\r\nI am trying to find out if there is alternate way to compare if three ints or anything are equal. \r\n\r\nThe way i am currently doing is \r\n\r\n    if( (a == b) &amp;&amp; (a == c) &amp;&amp; (b == c)){\r\n    \r\n    }\r\n\r\nI was wondering if there is an alternate and more concise way to do this.\r\n\r\n\r\n\r\n\r\n","title":"alternative way to compare if three ints are equal","body":"<pre><code>int a = 10;\nint b = 10;\nint c = 10;\n</code></pre>\n\n<p>I am trying to find out if there is alternate way to compare if three ints or anything are equal. </p>\n\n<p>The way i am currently doing is </p>\n\n<pre><code>if( (a == b) &amp;&amp; (a == c) &amp;&amp; (b == c)){\n\n}\n</code></pre>\n\n<p>I was wondering if there is an alternate and more concise way to do this.</p>\n"},{"tags":["java","html","pdf"],"comments":[{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1478715094,"post_id":40512859,"comment_id":68268571,"body_markdown":"Take a look at [openhtmltopdf](https://github.com/danfickle/openhtmltopdf).","body":"Take a look at <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">openhtmltopdf</a>."}],"answers":[{"tags":[],"owner":{"account_id":360076,"reputation":1193,"user_id":701867,"accept_rate":70,"display_name":"James Baker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478713460,"creation_date":1478713460,"answer_id":40513011,"question_id":40512859,"body_markdown":"Yes, it&#39;s possible but it will involve a reasonable amount of development.\r\n\r\nThere are lots of Java technologies available for developing small web apps, such as the Spring Boot Framework (https://projects.spring.io/spring-boot/).\r\n\r\nYou probably want to look at PDFBox (https://pdfbox.apache.org/) for creating the PDF file.","title":"How to get pdf from html page","body":"<p>Yes, it's possible but it will involve a reasonable amount of development.</p>\n\n<p>There are lots of Java technologies available for developing small web apps, such as the Spring Boot Framework (<a href=\"https://projects.spring.io/spring-boot/\" rel=\"nofollow noreferrer\">https://projects.spring.io/spring-boot/</a>).</p>\n\n<p>You probably want to look at PDFBox (<a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/</a>) for creating the PDF file.</p>\n"},{"tags":[],"owner":{"account_id":9601401,"reputation":1,"user_id":7128784,"display_name":"T&#245;nis Tobre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763735,"creation_date":1478733548,"answer_id":40517635,"question_id":40512859,"body_markdown":"Why not use an external API for generating PDF documents for HTML? I&#39;m involved with a project called [pdfapi.io][1]. With it, you can create PDF documents from styled HTML easily.\r\n\r\nIt has a simple API but, to make it easier we will release Java sdk soon.\r\n\r\nReasonable amount of requests are free of charge.\r\n\r\nI hope that helps.\r\n\r\n\r\n  [1]: https://pdfapi.io","title":"How to get pdf from html page","body":"<p>Why not use an external API for generating PDF documents for HTML? I'm involved with a project called <a href=\"https://pdfapi.io\" rel=\"nofollow noreferrer\">pdfapi.io</a>. With it, you can create PDF documents from styled HTML easily.</p>\n<p>It has a simple API but, to make it easier we will release Java sdk soon.</p>\n<p>Reasonable amount of requests are free of charge.</p>\n<p>I hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2814803,"reputation":1,"user_id":2420185,"display_name":"RockSteady"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478796905,"creation_date":1478796905,"answer_id":40533047,"question_id":40512859,"body_markdown":"I&#39;ve had really good luck doing this with the Java Library called &quot;Flying Saucer&quot; I guess you&#39;ll need to google it because linking is not allowed here...","title":"How to get pdf from html page","body":"<p>I've had really good luck doing this with the Java Library called \"Flying Saucer\" I guess you'll need to google it because linking is not allowed here...</p>\n"}],"owner":{"account_id":9435646,"reputation":470,"user_id":7026895,"display_name":"guesswho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1420,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696763735,"creation_date":1478712909,"question_id":40512859,"body_markdown":"I need to generate pdf documents that gets a lot of data from database to fill contents of document. \r\nFirst, i decided to work with Fop, made some xsl template with xml and finally got my pdf... Which was not easy to do.\r\n\r\nBut it become necessary to fill some contents interactively.. so is there any way to built documents on html/xhtml page with editable fields and eventually generate pdf from that webpage? \r\n ","title":"How to get pdf from html page","body":"<p>I need to generate pdf documents that gets a lot of data from database to fill contents of document. \nFirst, i decided to work with Fop, made some xsl template with xml and finally got my pdf... Which was not easy to do.</p>\n\n<p>But it become necessary to fill some contents interactively.. so is there any way to built documents on html/xhtml page with editable fields and eventually generate pdf from that webpage? </p>\n"},{"tags":["java","android","navigationbar"],"answers":[{"tags":[],"owner":{"account_id":9194285,"reputation":418,"user_id":8628330,"display_name":"Jamal N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692718769,"creation_date":1692718769,"answer_id":76954910,"question_id":76954840,"body_markdown":"Call this method in your onCreate\r\n\r\n    private void hideSystemBars() {\r\n        WindowInsetsControllerCompat controller = new WindowInsetsControllerCompat(\r\n            getWindow(), getWindow().getDecorView()\r\n        );\r\n        \r\n        controller.hide(WindowInsetsCompat.Type.systemBars());\r\n        controller.setSystemBarsBehavior(\r\n            WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\r\n        );\r\n    }\r\n\r\nimports\r\n\r\n    import androidx.core.view.WindowInsetsCompat;\r\n    import androidx.core.view.WindowInsetsControllerCompat;\r\n\r\nThis method will hide the nav bar, and show it when the user swipe the zone of the nav bar .","title":"Hide Navigation Bar in Android","body":"<p>Call this method in your onCreate</p>\n<pre><code>private void hideSystemBars() {\n    WindowInsetsControllerCompat controller = new WindowInsetsControllerCompat(\n        getWindow(), getWindow().getDecorView()\n    );\n    \n    controller.hide(WindowInsetsCompat.Type.systemBars());\n    controller.setSystemBarsBehavior(\n        WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE\n    );\n}\n</code></pre>\n<p>imports</p>\n<pre><code>import androidx.core.view.WindowInsetsCompat;\nimport androidx.core.view.WindowInsetsControllerCompat;\n</code></pre>\n<p>This method will hide the nav bar, and show it when the user swipe the zone of the nav bar .</p>\n"},{"tags":[],"owner":{"account_id":12705507,"reputation":21,"user_id":9230940,"display_name":"Angel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696763419,"creation_date":1692721041,"answer_id":76955168,"question_id":76954840,"body_markdown":"I&#39;m not a proffesional/experienced android dev but something like this might be useful for you:\r\n\r\n            // removal of status and navigation bar\r\n        if (Build.VERSION.SDK_INT &gt;= 30) {\r\n            fullscreenContent.windowInsetsController?.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\r\n        } else {\r\n            // Note that some of these constants are new as of API 16 (Jelly Bean)\r\n            // and API 19 (KitKat). It is safe to use them, as they are inlined\r\n            // at compile-time and do nothing on earlier devices.\r\n            fullscreenContent.systemUiVisibility =\r\n                View.SYSTEM_UI_FLAG_LOW_PROFILE or\r\n                        View.SYSTEM_UI_FLAG_FULLSCREEN or\r\n                        View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\r\n                        View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY or\r\n                        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION or\r\n                        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n        \r\n    \r\nYou can add this code in your &quot;OnCreate&quot; method where &quot;fullscreenContent&quot; is the layout holding all your screen data which in your case should be a layout containing &quot;VistaJuego&quot; that you might need to add to the xml file because I don&#39;t recommend you to use the root framelayout for this purpose.","title":"Hide Navigation Bar in Android","body":"<p>I'm not a proffesional/experienced android dev but something like this might be useful for you:</p>\n<pre><code>        // removal of status and navigation bar\n    if (Build.VERSION.SDK_INT &gt;= 30) {\n        fullscreenContent.windowInsetsController?.hide(WindowInsets.Type.statusBars() or WindowInsets.Type.navigationBars())\n    } else {\n        // Note that some of these constants are new as of API 16 (Jelly Bean)\n        // and API 19 (KitKat). It is safe to use them, as they are inlined\n        // at compile-time and do nothing on earlier devices.\n        fullscreenContent.systemUiVisibility =\n            View.SYSTEM_UI_FLAG_LOW_PROFILE or\n                    View.SYSTEM_UI_FLAG_FULLSCREEN or\n                    View.SYSTEM_UI_FLAG_LAYOUT_STABLE or\n                    View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY or\n                    View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION or\n                    View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n    \n</code></pre>\n<p>You can add this code in your &quot;OnCreate&quot; method where &quot;fullscreenContent&quot; is the layout holding all your screen data which in your case should be a layout containing &quot;VistaJuego&quot; that you might need to add to the xml file because I don't recommend you to use the root framelayout for this purpose.</p>\n"}],"owner":{"account_id":22096120,"reputation":31,"user_id":16353390,"display_name":"Richman19"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696763644,"creation_date":1692718197,"question_id":76954840,"body_markdown":"I hope that someone can help me.\r\n\r\nI am developing an Android Game in Java and I need to hide the navigation bar of the main screen, but I can not find any solution to this. I have searched for a lot of information, even I checked the solutions proposed here, but nothing.\r\n\r\nI have built my map in a layout (**juego.xml**) and then I used it in a java class which extends from a view **(VistaJuego**). Additionally in this class I define another class called **ThreadJuego**. The objective of this class is to run indefinitely a method which update the physics of the game. \r\n\r\nFinally I have another class called **Juego** which extends from AppCompactActivity. This last class load an instance of Vistajuego.\r\n\r\nFind below the definition of the classes and layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;com.richard_tfg.tankgame.VistaJuego\r\n        android:id=&quot;@+id/VistaJuego&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:background=&quot;@drawable/mapa_batalla2&quot;&gt;\r\n\r\n    &lt;/com.richard_tfg.tankgame.VistaJuego&gt;\r\n\r\n&lt;/FrameLayout&gt;\r\n\r\nThis is the code of the layout. Below I will post an example of VistaJuego:\r\n\r\n   \r\n\r\n     public class VistaJuego extends View {\r\n      \r\n    \r\n        private ThreadJuego thread = new ThreadJuego();\r\n        /* Do more things */\r\n    \r\n        public VistaJuego(Context context, AttributeSet attrs){\r\n        /*Definitions of graphics*/\r\n        \r\n        }\r\n    \r\n    \r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n        /* Definitions*/\r\n        ...\r\n        ...\r\n        ...\r\n        thread.start();\r\n        }\r\n       \r\n    \r\n        protected synchronized void onDraw(Canvas canvas) {\r\n            /*Definitions*/\r\n         }\r\n    \r\n        private void setFeatures(Grafico grafico, int angulo, int rotacion){\r\n        /*Definitions*/\r\n        }\r\n    \r\n         protected synchronized void actualizaFisica(){\r\n         /*Update physics*/\r\n         }\r\n    \r\n    \r\n       \r\n    \r\n         class ThreadJuego extends Thread{\r\n        \r\n        \r\n                @Override\r\n                public void run() {\r\n                    while(true){\r\n                        actualizaFisica();\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\n\r\nFinally the code of my class Juego:\r\n\r\n    public class Juego extends AppCompatActivity {\r\n    \r\n     VistaJuego vistaJuego;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setContentView(R.layout.juego);\r\n            vistaJuego=findViewById(R.id.VistaJuego);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI am trying to hide the navigation bar with the line: \r\n\r\n    getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); but it still keeps on the screen.\r\n\r\nAdditionally I have tried to use the next method:\r\n\r\n    private void hideStatusAndNavBar() {\r\n        getWindow().getDecorView().setSystemUiVisibility(\r\n                View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\r\n                        | View.SYSTEM_UI_FLAG_FULLSCREEN\r\n                        | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\r\n        );\r\n    }\r\n\r\nand called it on the onCreate method of Juego class, but if I do this I have 2 different behaviors on my devices:\r\n\r\n 1. Honor 9X: I can see that the navigation bar is hidden but all the grapichs are mixed in a corner and the behavior of app is strange.\r\n\r\n 2. Samsung S10: The app always fails and the problem I can see on the Log in Android Studio is related with the definition thread.start(); I do not why the problem is the Thread...\r\n\r\nI have searched a lot of information but nothing works, so if someone can help me with this, I will be eternally grateful.\r\n\r\n\r\n\r\n \r\n","title":"Hide Navigation Bar in Android","body":"<p>I hope that someone can help me.</p>\n<p>I am developing an Android Game in Java and I need to hide the navigation bar of the main screen, but I can not find any solution to this. I have searched for a lot of information, even I checked the solutions proposed here, but nothing.</p>\n<p>I have built my map in a layout (<strong>juego.xml</strong>) and then I used it in a java class which extends from a view <strong>(VistaJuego</strong>). Additionally in this class I define another class called <strong>ThreadJuego</strong>. The objective of this class is to run indefinitely a method which update the physics of the game.</p>\n<p>Finally I have another class called <strong>Juego</strong> which extends from AppCompactActivity. This last class load an instance of Vistajuego.</p>\n<p>Find below the definition of the classes and layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;&gt;\n\n&lt;com.richard_tfg.tankgame.VistaJuego\n    android:id=&quot;@+id/VistaJuego&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:focusable=&quot;true&quot;\n    android:background=&quot;@drawable/mapa_batalla2&quot;&gt;\n\n&lt;/com.richard_tfg.tankgame.VistaJuego&gt;\n</code></pre>\n\n<p>This is the code of the layout. Below I will post an example of VistaJuego:</p>\n<pre><code> public class VistaJuego extends View {\n  \n\n    private ThreadJuego thread = new ThreadJuego();\n    /* Do more things */\n\n    public VistaJuego(Context context, AttributeSet attrs){\n    /*Definitions of graphics*/\n    \n    }\n\n\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n    /* Definitions*/\n    ...\n    ...\n    ...\n    thread.start();\n    }\n   \n\n    protected synchronized void onDraw(Canvas canvas) {\n        /*Definitions*/\n     }\n\n    private void setFeatures(Grafico grafico, int angulo, int rotacion){\n    /*Definitions*/\n    }\n\n     protected synchronized void actualizaFisica(){\n     /*Update physics*/\n     }\n\n\n   \n\n     class ThreadJuego extends Thread{\n    \n    \n            @Override\n            public void run() {\n                while(true){\n                    actualizaFisica();\n                }\n            }\n        }\n}\n</code></pre>\n<p>Finally the code of my class Juego:</p>\n<pre><code>public class Juego extends AppCompatActivity {\n\n VistaJuego vistaJuego;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.juego);\n        vistaJuego=findViewById(R.id.VistaJuego);\n\n    }\n}\n</code></pre>\n<p>I am trying to hide the navigation bar with the line:</p>\n<pre><code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN); but it still keeps on the screen.\n</code></pre>\n<p>Additionally I have tried to use the next method:</p>\n<pre><code>private void hideStatusAndNavBar() {\n    getWindow().getDecorView().setSystemUiVisibility(\n            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION\n                    | View.SYSTEM_UI_FLAG_FULLSCREEN\n                    | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY\n    );\n}\n</code></pre>\n<p>and called it on the onCreate method of Juego class, but if I do this I have 2 different behaviors on my devices:</p>\n<ol>\n<li><p>Honor 9X: I can see that the navigation bar is hidden but all the grapichs are mixed in a corner and the behavior of app is strange.</p>\n</li>\n<li><p>Samsung S10: The app always fails and the problem I can see on the Log in Android Studio is related with the definition thread.start(); I do not why the problem is the Thread...</p>\n</li>\n</ol>\n<p>I have searched a lot of information but nothing works, so if someone can help me with this, I will be eternally grateful.</p>\n"},{"tags":["java","maven","unicode"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696388580,"post_id":77226461,"comment_id":136145047,"body_markdown":"`Is there a way I can display it with regular characters? ` - what do you mean? ascii?","body":"<code>Is there a way I can display it with regular characters? </code> - what do you mean? ascii?"},{"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"score":0,"creation_date":1696388724,"post_id":77226461,"comment_id":136145055,"body_markdown":"Sure ascii, like in idk regular texting I guess. I definetly dont want unicode.","body":"Sure ascii, like in idk regular texting I guess. I definetly dont want unicode."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696389227,"post_id":77226461,"comment_id":136145087,"body_markdown":"Have you had a look at an ascii table?  Do you see any any upaside down question marks?","body":"Have you had a look at an ascii table?  Do you see any any upaside down question marks?"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1696389537,"post_id":77226461,"comment_id":136145094,"body_markdown":"Why don&#39;t you try [escaping](https://commons.apache.org/proper/commons-lang/javadocs/api-3.8.1/index.html?org/apache/commons/lang3/StringEscapeUtils.html) the String?","body":"Why don&#39;t you try <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-3.8.1/index.html?org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">escaping</a> the String?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1696397763,"post_id":77226461,"comment_id":136145693,"body_markdown":"The answer you receive *is* pure ASCII - because that doesn&#39;t contain any &quot;special&quot; (language specific) characters. I think what you actually *want* is UTF-8, so you don&#39;t see the `\\u0000` encoded characters but their representation in a character of a font that can display it.","body":"The answer you receive <i>is</i> pure ASCII - because that doesn&#39;t contain any &quot;special&quot; (language specific) characters. I think what you actually <i>want</i> is UTF-8, so you don&#39;t see the <code>\\u0000</code> encoded characters but their representation in a character of a font that can display it."},{"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"score":0,"creation_date":1696397915,"post_id":77226461,"comment_id":136145712,"body_markdown":"I want my program for example to display autobiograf&#237;a instead of autobiograf\\u00eda (The i with the accent is in unicode). I dont know if its a problem with the way my eclipse console is set up or if I have to change much.","body":"I want my program for example to display autobiograf&#237;a instead of autobiograf\\u00eda (The i with the accent is in unicode). I dont know if its a problem with the way my eclipse console is set up or if I have to change much."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696401036,"post_id":77226461,"comment_id":136146184,"body_markdown":"If those characters are encoded in the JSON response like that, you need to fix it at the source, or maybe you need to set the right `Accept` header in your request, e.g. to `application/json;charset=utf-8`, or use an appropriate library to decode those Unicode escapes.","body":"If those characters are encoded in the JSON response like that, you need to fix it at the source, or maybe you need to set the right <code>Accept</code> header in your request, e.g. to <code>application&#47;json;charset=utf-8</code>, or use an appropriate library to decode those Unicode escapes."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1696406332,"post_id":77226461,"comment_id":136147116,"body_markdown":"Note: write to a file. `System.out` is not reliable on encoding: it depends on the system out (so the terminal), so outside your control. But you have full control the content of a file. So easier to debug.","body":"Note: write to a file. <code>System.out</code> is not reliable on encoding: it depends on the system out (so the terminal), so outside your control. But you have full control the content of a file. So easier to debug."},{"owner":{"account_id":116746,"reputation":12467,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"score":0,"creation_date":1696457206,"post_id":77226461,"comment_id":136157185,"body_markdown":"I don&#39;t know, but maybe you shouldn&#39;t give away your API key?","body":"I don&#39;t know, but maybe you shouldn&#39;t give away your API key?"}],"answers":[{"tags":[],"owner":{"account_id":20032771,"reputation":38,"user_id":14685173,"display_name":"Petr Barandovski"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696397051,"creation_date":1696396939,"answer_id":77226930,"question_id":77226461,"body_markdown":"Try to use gson.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nSomething like that:\r\n\r\n      JsonObject jsonObject = new \r\n      JsonParser().parse(hutas).getAsJsonObject();\r\n      System.out.println(jsonObject);\r\n      JsonElement translatedText = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;translatedText&quot;);\r\n      System.out.println(translatedText);","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>Try to use gson.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Something like that:</p>\n<pre><code>  JsonObject jsonObject = new \n  JsonParser().parse(hutas).getAsJsonObject();\n  System.out.println(jsonObject);\n  JsonElement translatedText = jsonObject.get(&quot;data&quot;).getAsJsonObject().get(&quot;translatedText&quot;);\n  System.out.println(translatedText);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696763283,"creation_date":1696456033,"answer_id":77233176,"question_id":77226461,"body_markdown":"I *unescaped the string using The Apache Commons Lang `StringEscapeUtils.unescapeJava()` and it works!","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>I *unescaped the string using The Apache Commons Lang <code>StringEscapeUtils.unescapeJava()</code> and it works!</p>\n"}],"owner":{"account_id":13461172,"reputation":15,"user_id":9713139,"display_name":"a true scotsman uth"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696763283,"creation_date":1696388025,"question_id":77226461,"body_markdown":"I wrote a very simple maven program that uses the text translator API by DEVISTY and displays it.\r\n\r\n [![HERE IS A SAMPLE OF THE RESULTS OF MY PROGRAM](https://i.stack.imgur.com/ig9mi.png)](https://i.stack.imgur.com/ig9mi.png) \r\n\r\nThe translation is fine on the endpoints on the API website, and the translation is great, but when I display it as a string here, as you can see the upside down question mark and the e with the accent are displayed in Unicode. \r\n\r\nIs there a way I can display it with regular characters? I tried to turn it to `utf-8` somewhere but its the same results. Here is the code: \r\n\r\n\r\n```java\r\npackage myprogram.translator;\r\n\r\n\r\nimport java.net.URLEncoder;\r\nimport com.mashape.unirest.http.HttpResponse;\r\nimport com.mashape.unirest.http.JsonNode;\r\nimport com.mashape.unirest.http.Unirest;\r\nimport com.mashape.unirest.http.exceptions.UnirestException;\r\nimport java.util.Scanner;\r\n\r\nimport org.apache.commons.codec.binary.StringUtils;\r\n\r\n/**\r\n * Hello world!\r\n *\r\n */\r\npublic class App \r\n{\r\n    public static void main( String[] args ) throws Exception\r\n    {\r\n        stringGen gen = new stringGen();\r\n        \r\n        // TEST APPLICATION(lets hope it runs)\r\n        \r\n        Scanner scan = new Scanner(System.in);\r\n        \r\n        String startL;\r\n        String targetL;\r\n        String translateThis;\r\n        String end;\r\n        \r\n        System.out.println(&quot;What would you like to be your starting language?&quot;);\r\n        startL = scan.nextLine();\r\n        System.out.println(&quot;What would you like to be your target language?&quot;);\r\n        targetL = scan.nextLine();\r\n        System.out.println(&quot;What would you like to translate exactly?&quot;);\r\n        translateThis = scan.nextLine();\r\n        \r\n        end = gen.finalInput(startL, targetL, translateThis);\r\n        \r\n        System.out.println(end);\r\n        \r\n        HttpResponse&lt;String&gt; letsgetit = Unirest.post(&quot;https://text-translator2.p.rapidapi.com/translate&quot;)\r\n        \t\t.header(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n        \t\t.header(&quot;X-RapidAPI-Key&quot;, &quot;ef0ddf5c2dmsh5ccc18a926d497cp1b6b93jsn9f9e3bdc6353&quot;)\r\n        \t\t.header(&quot;X-RapidAPI-Host&quot;, &quot;text-translator2.p.rapidapi.com&quot;)\r\n        \t\t.body(end)\r\n        \t\t.asString();\r\n        \r\n       String hutas = letsgetit.getBody();\r\n        \r\n       byte[] bytes = StringUtils.getBytesUtf8(hutas);\r\n       \r\n       String utf8EncodedString = StringUtils.newStringUtf8(bytes);\r\n       \r\n       System.out.println(utf8EncodedString);\r\n    }\r\n}\r\n```\r\n","title":"Why is my program returning certain spanish characters in unicode?","body":"<p>I wrote a very simple maven program that uses the text translator API by DEVISTY and displays it.</p>\n<p><a href=\"https://i.stack.imgur.com/ig9mi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ig9mi.png\" alt=\"HERE IS A SAMPLE OF THE RESULTS OF MY PROGRAM\" /></a></p>\n<p>The translation is fine on the endpoints on the API website, and the translation is great, but when I display it as a string here, as you can see the upside down question mark and the e with the accent are displayed in Unicode.</p>\n<p>Is there a way I can display it with regular characters? I tried to turn it to <code>utf-8</code> somewhere but its the same results. Here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package myprogram.translator;\n\n\nimport java.net.URLEncoder;\nimport com.mashape.unirest.http.HttpResponse;\nimport com.mashape.unirest.http.JsonNode;\nimport com.mashape.unirest.http.Unirest;\nimport com.mashape.unirest.http.exceptions.UnirestException;\nimport java.util.Scanner;\n\nimport org.apache.commons.codec.binary.StringUtils;\n\n/**\n * Hello world!\n *\n */\npublic class App \n{\n    public static void main( String[] args ) throws Exception\n    {\n        stringGen gen = new stringGen();\n        \n        // TEST APPLICATION(lets hope it runs)\n        \n        Scanner scan = new Scanner(System.in);\n        \n        String startL;\n        String targetL;\n        String translateThis;\n        String end;\n        \n        System.out.println(&quot;What would you like to be your starting language?&quot;);\n        startL = scan.nextLine();\n        System.out.println(&quot;What would you like to be your target language?&quot;);\n        targetL = scan.nextLine();\n        System.out.println(&quot;What would you like to translate exactly?&quot;);\n        translateThis = scan.nextLine();\n        \n        end = gen.finalInput(startL, targetL, translateThis);\n        \n        System.out.println(end);\n        \n        HttpResponse&lt;String&gt; letsgetit = Unirest.post(&quot;https://text-translator2.p.rapidapi.com/translate&quot;)\n                .header(&quot;content-type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .header(&quot;X-RapidAPI-Key&quot;, &quot;ef0ddf5c2dmsh5ccc18a926d497cp1b6b93jsn9f9e3bdc6353&quot;)\n                .header(&quot;X-RapidAPI-Host&quot;, &quot;text-translator2.p.rapidapi.com&quot;)\n                .body(end)\n                .asString();\n        \n       String hutas = letsgetit.getBody();\n        \n       byte[] bytes = StringUtils.getBytesUtf8(hutas);\n       \n       String utf8EncodedString = StringUtils.newStringUtf8(bytes);\n       \n       System.out.println(utf8EncodedString);\n    }\n}\n</code></pre>\n"},{"tags":["java","logging","apache-kafka","log4j","kafka-producer-api"],"answers":[{"tags":[],"owner":{"account_id":7854239,"reputation":4845,"user_id":5936696,"display_name":"avr"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1457021508,"creation_date":1457021508,"answer_id":35777295,"question_id":35773780,"body_markdown":"I assumed you were talking about Kafka server logs. You can change log level to ERROR using following config\r\n\r\n    log4j.logger.kafka=ERROR, kafkaAppender\r\n\r\nHope this helps!","title":"How to configure logging for Kafka producers?","body":"<p>I assumed you were talking about Kafka server logs. You can change log level to ERROR using following config</p>\n\n<pre><code>log4j.logger.kafka=ERROR, kafkaAppender\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":9037951,"reputation":201,"user_id":6733136,"display_name":"sivakadi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1479857904,"creation_date":1479857904,"answer_id":40753630,"question_id":35773780,"body_markdown":"Try adding logging.level.org.apache.kafka: DEBUG into your clients configuration properties. \r\nI am using Springboot and this is the format. Use appropriate format for your clients program.","title":"How to configure logging for Kafka producers?","body":"<p>Try adding logging.level.org.apache.kafka: DEBUG into your clients configuration properties. \nI am using Springboot and this is the format. Use appropriate format for your clients program.</p>\n"},{"tags":[],"owner":{"account_id":415333,"reputation":9319,"user_id":790075,"accept_rate":50,"display_name":"turtlemonvh"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1493249444,"creation_date":1493249444,"answer_id":43646220,"question_id":35773780,"body_markdown":"Use the command line flag `-Dlog4j.configuration=file:/path/to/log4j.properties` when running your client.\r\n\r\nExample log4j property files:\r\n\r\n* https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\r\n    * Used by tools like mirror maker, really just stdout\r\n* https://github.com/apache/kafka/blob/trunk/config/log4j.properties\r\n    * Used by tools like kafka server\r\n\r\nFor mirror maker and other tools that result in a call to `kafka-run-class.sh`, you can use the env variable `KAFKA_LOG4J_OPTS` (set to something like `-Dlog4j.configuration=file:/path/to/log4j.properties`) to change the logging configuration.  See: https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158\r\n\r\nExample of my `log4j.properties` file for mirror maker that I use for testing.\r\n\r\n    # https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\r\n\r\n    log4j.rootLogger=DEBUG, stderr\r\n    \r\n    log4j.appender.stderr=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.stderr.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\r\n    log4j.appender.stderr.Target=System.err\r\n\r\n","title":"How to configure logging for Kafka producers?","body":"<p>Use the command line flag <code>-Dlog4j.configuration=file:/path/to/log4j.properties</code> when running your client.</p>\n\n<p>Example log4j property files:</p>\n\n<ul>\n<li><a href=\"https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties</a>\n\n<ul>\n<li>Used by tools like mirror maker, really just stdout</li>\n</ul></li>\n<li><a href=\"https://github.com/apache/kafka/blob/trunk/config/log4j.properties\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/trunk/config/log4j.properties</a>\n\n<ul>\n<li>Used by tools like kafka server</li>\n</ul></li>\n</ul>\n\n<p>For mirror maker and other tools that result in a call to <code>kafka-run-class.sh</code>, you can use the env variable <code>KAFKA_LOG4J_OPTS</code> (set to something like <code>-Dlog4j.configuration=file:/path/to/log4j.properties</code>) to change the logging configuration.  See: <a href=\"https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158\" rel=\"noreferrer\">https://github.com/apache/kafka/blob/0.10.2/bin/kafka-run-class.sh#L158</a></p>\n\n<p>Example of my <code>log4j.properties</code> file for mirror maker that I use for testing.</p>\n\n<pre><code># https://github.com/apache/kafka/blob/trunk/config/tools-log4j.properties\n\nlog4j.rootLogger=DEBUG, stderr\n\nlog4j.appender.stderr=org.apache.log4j.ConsoleAppender\nlog4j.appender.stderr.layout=org.apache.log4j.PatternLayout\nlog4j.appender.stderr.layout.ConversionPattern=[%d] %p %m (%c)%n\nlog4j.appender.stderr.Target=System.err\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4391606,"reputation":1036,"user_id":3579787,"display_name":"tjeubaoit"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522233034,"creation_date":1522233034,"answer_id":49532152,"question_id":35773780,"body_markdown":"    org.apache.log4j.Logger.getLogger(&quot;org&quot;).setLevel(Level.WARN);\r\n    org.apache.log4j.Logger.getLogger(&quot;akka&quot;).setLevel(Level.WARN);\r\n    org.apache.log4j.Logger.getLogger(&quot;kafka&quot;).setLevel(Level.WARN);","title":"How to configure logging for Kafka producers?","body":"<pre><code>org.apache.log4j.Logger.getLogger(\"org\").setLevel(Level.WARN);\norg.apache.log4j.Logger.getLogger(\"akka\").setLevel(Level.WARN);\norg.apache.log4j.Logger.getLogger(\"kafka\").setLevel(Level.WARN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523114,"reputation":546,"user_id":6389283,"accept_rate":69,"display_name":"Jestino Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592582017,"creation_date":1592582017,"answer_id":62474015,"question_id":35773780,"body_markdown":"Define the logging level as below in ```application.yml``` file or your properties file.\r\n\r\n```\r\nlogging:\r\n  level:\r\n    root: INFO\r\n    org:\r\n      apache:\r\n        kafka: WARN\r\n```\r\nBy defining the above, Kafka will print out only the warnings logs.","title":"How to configure logging for Kafka producers?","body":"<p>Define the logging level as below in <code>application.yml</code> file or your properties file.</p>\n\n<pre><code>logging:\n  level:\n    root: INFO\n    org:\n      apache:\n        kafka: WARN\n</code></pre>\n\n<p>By defining the above, Kafka will print out only the warnings logs.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677295288,"creation_date":1677295288,"answer_id":75563091,"question_id":35773780,"body_markdown":"Spring allows us to configure the package-level logging as follows.\r\n\r\nSteps\r\n* Identify your logs - (I don&#39;t need to get `info` logs of confluent kafka packages.)\r\n\r\n* Find out the package first - `io.confluent.kafka`\r\n* Set it in the application properties\r\n```properties\r\nlogging.level.io.confluent.kafka=WARN\r\n```\r\n\r\n\r\nIn your case, you need to set the below in your application properties. I added confluent kafka as well, if you use it.\r\n```\r\nlogging.level.org.apache.kafka=WARN\r\nlogging.level.io.confluent.kafka=WARN\r\n```","title":"How to configure logging for Kafka producers?","body":"<p>Spring allows us to configure the package-level logging as follows.</p>\n<p>Steps</p>\n<ul>\n<li><p>Identify your logs - (I don't need to get <code>info</code> logs of confluent kafka packages.)</p>\n</li>\n<li><p>Find out the package first - <code>io.confluent.kafka</code></p>\n</li>\n<li><p>Set it in the application properties</p>\n</li>\n</ul>\n<pre><code>logging.level.io.confluent.kafka=WARN\n</code></pre>\n<p>In your case, you need to set the below in your application properties. I added confluent kafka as well, if you use it.</p>\n<pre><code>logging.level.org.apache.kafka=WARN\nlogging.level.io.confluent.kafka=WARN\n</code></pre>\n"}],"owner":{"account_id":788920,"reputation":3452,"user_id":895429,"accept_rate":60,"display_name":"nikel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62852,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":6,"score":26,"last_activity_date":1696762166,"creation_date":1457012400,"question_id":35773780,"body_markdown":"I am using Kafka producer client and i don&#39;t have any log4j configuration in my project.\r\n\r\nOn running, the program prints a lot of Kafka Debug logs  which i really don&#39;t want.\r\n\r\nSo, i tried to add a log4j.properties to set log level to ERROR as below which does not seem to work:\r\n\r\n    log4j.rootLogger=ERROR\r\n\r\nHow do i change Kafka Log Level?","title":"How to configure logging for Kafka producers?","body":"<p>I am using Kafka producer client and i don't have any log4j configuration in my project.</p>\n\n<p>On running, the program prints a lot of Kafka Debug logs  which i really don't want.</p>\n\n<p>So, i tried to add a log4j.properties to set log level to ERROR as below which does not seem to work:</p>\n\n<pre><code>log4j.rootLogger=ERROR\n</code></pre>\n\n<p>How do i change Kafka Log Level?</p>\n"},{"tags":["java","android","mapbox-android","android-runonuithread","carto-mobile"],"owner":{"display_name":"user22635266"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696762084,"creation_date":1696762084,"question_id":77253308,"body_markdown":"I almost know [the solution (how) to my problem](https://stackoverflow.com/q/37689903/22635266) but I want to know its reason (why).\r\n\r\nI am using mapBox for showing map on Android app in java. In the main activity layout I have an indeterminate linear progress bar and in the location fragment when the app is in progress (for finding the location) it become visible otherwise invisible. (do not mind about exact codes and workablity. In below just the block codes is shown)\r\n\r\n```\r\n    LinearProgressIndicator mainActivityProgressBar;\r\n    MapView mapView;\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setBottomAppBarVisibility(true);\r\n        mainActivityProgressBar = ((MainActivity) requireActivity()).getProgressBar(); //getProgressBar() method return main activity progressbar\r\n    }\r\n        .\r\n        .\r\n        .\r\n    @Override\r\n    public void onViewCreated(@NonNull View view,@Nullable Bundle savedInstanceState){\r\n        super.onViewCreated(view,savedInstanceState);\r\n\r\n        .\r\n        .\r\n        .\r\n        mapView=findViewById(R.id.map);\r\n\r\n        }\r\n\r\n    private void showUserLocation(){\r\n        mainActivityProgressBar.show();    // &lt;------\r\n        findLocation(location-&gt;{\r\n        LatLng latLng=new LatLng(location.getLatitude(),location.getLongitude());\r\n        onNewLocation(latLng);\r\n        });\r\n        }\r\n\r\n    private void onNewLocation(LatLng newLocation){\r\n        mainActivityProgressBar.hide();    // &lt;------\r\n        // move camera to the point\r\n        }\r\n```\r\n\r\nThis works fine when I use mapbox-sdk. (don&#39;t worry about methods and variables). Due to some errors on release time (`libmapbox-gl.so` error)\r\nI tried to use another map. I tried the above method using [carto-Map](https://carto.com/) and it almost works but sometimes it shows this error:\r\n\r\n\r\n```\r\n    FATAL EXCEPTION: Thread-191\r\n        Process: PID: 3606\r\n        android.util.AndroidRuntimeException: Animators may only be run on Looper threads\r\n        at android.animation.ValueAnimator.end(ValueAnimator.java:1142)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.endAnimatorsWithoutCallbacks(DrawableWithAnimatedVisibilityChange.java:319)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisibleInternal(DrawableWithAnimatedVisibilityChange.java:293)\r\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisibleInternal(IndeterminateDrawable.java:99)\r\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisible(DrawableWithAnimatedVisibilityChange.java:240)\r\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisible(IndeterminateDrawable.java:27)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.internalHide(BaseProgressIndicator.java:250)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.access$100(BaseProgressIndicator.java:70)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator$2.run(BaseProgressIndicator.java:797)\r\n        at com.google.android.material.progressindicator.BaseProgressIndicator.hide(BaseProgressIndicator.java:235)\r\n```\r\n\r\nI want to know why one map-sdk does not give `Animators may only be run on Looper threads` but other one give this error that I think can be fixed by using `runOnUiThread`.\r\n\r\nNOTE: MapBox uses in-code (in application) token but the other one uses token in raw res-folder based on ShA1 fingerprint.","title":"Why mapBox runs without any error but with same codes the carto-Map gives &quot;Animators may only be run on Looper threads&quot;","body":"<p>I almost know <a href=\"https://stackoverflow.com/q/37689903/22635266\">the solution (how) to my problem</a> but I want to know its reason (why).</p>\n<p>I am using mapBox for showing map on Android app in java. In the main activity layout I have an indeterminate linear progress bar and in the location fragment when the app is in progress (for finding the location) it become visible otherwise invisible. (do not mind about exact codes and workablity. In below just the block codes is shown)</p>\n<pre><code>    LinearProgressIndicator mainActivityProgressBar;\n    MapView mapView;\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setBottomAppBarVisibility(true);\n        mainActivityProgressBar = ((MainActivity) requireActivity()).getProgressBar(); //getProgressBar() method return main activity progressbar\n    }\n        .\n        .\n        .\n    @Override\n    public void onViewCreated(@NonNull View view,@Nullable Bundle savedInstanceState){\n        super.onViewCreated(view,savedInstanceState);\n\n        .\n        .\n        .\n        mapView=findViewById(R.id.map);\n\n        }\n\n    private void showUserLocation(){\n        mainActivityProgressBar.show();    // &lt;------\n        findLocation(location-&gt;{\n        LatLng latLng=new LatLng(location.getLatitude(),location.getLongitude());\n        onNewLocation(latLng);\n        });\n        }\n\n    private void onNewLocation(LatLng newLocation){\n        mainActivityProgressBar.hide();    // &lt;------\n        // move camera to the point\n        }\n</code></pre>\n<p>This works fine when I use mapbox-sdk. (don't worry about methods and variables). Due to some errors on release time (<code>libmapbox-gl.so</code> error)\nI tried to use another map. I tried the above method using <a href=\"https://carto.com/\" rel=\"nofollow noreferrer\">carto-Map</a> and it almost works but sometimes it shows this error:</p>\n<pre><code>    FATAL EXCEPTION: Thread-191\n        Process: PID: 3606\n        android.util.AndroidRuntimeException: Animators may only be run on Looper threads\n        at android.animation.ValueAnimator.end(ValueAnimator.java:1142)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.endAnimatorsWithoutCallbacks(DrawableWithAnimatedVisibilityChange.java:319)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisibleInternal(DrawableWithAnimatedVisibilityChange.java:293)\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisibleInternal(IndeterminateDrawable.java:99)\n        at com.google.android.material.progressindicator.DrawableWithAnimatedVisibilityChange.setVisible(DrawableWithAnimatedVisibilityChange.java:240)\n        at com.google.android.material.progressindicator.IndeterminateDrawable.setVisible(IndeterminateDrawable.java:27)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.internalHide(BaseProgressIndicator.java:250)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.access$100(BaseProgressIndicator.java:70)\n        at com.google.android.material.progressindicator.BaseProgressIndicator$2.run(BaseProgressIndicator.java:797)\n        at com.google.android.material.progressindicator.BaseProgressIndicator.hide(BaseProgressIndicator.java:235)\n</code></pre>\n<p>I want to know why one map-sdk does not give <code>Animators may only be run on Looper threads</code> but other one give this error that I think can be fixed by using <code>runOnUiThread</code>.</p>\n<p>NOTE: MapBox uses in-code (in application) token but the other one uses token in raw res-folder based on ShA1 fingerprint.</p>\n"},{"tags":["java","database","sqlite","sap-commerce-cloud","impex"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1696807486,"post_id":77253283,"comment_id":136196606,"body_markdown":"I hope you are selecting enable code executing during import via hac or please add this line before header\n #%impex.enableCodeExecution(true);","body":"I hope you are selecting enable code executing during import via hac or please add this line before header  #%impex.enableCodeExecution(true);"},{"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"score":0,"creation_date":1696842656,"post_id":77253283,"comment_id":136199964,"body_markdown":"@RaushanKumar No luck with this\n\nI even tried giving the current date-time on the headers with your suggested change as well\n\n#% impex.enableCodeExecution(true);\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;$currentDate;currency(isocode)[default=CAD]","body":"@RaushanKumar No luck with this  I even tried giving the current date-time on the headers with your suggested change as well  #% impex.enableCodeExecution(true); #% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTi&zwnj;&#8203;meFormatter.ofPatter&zwnj;&#8203;n(&quot;MMM d, yyyy, h:mm:ss a&quot;))) INSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;$currentDate;c&zwnj;&#8203;urrency(isocode)[def&zwnj;&#8203;ault=CAD]"}],"owner":{"account_id":19556619,"reputation":1,"user_id":14310825,"display_name":"DEBAGNIK KAR"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696761477,"creation_date":1696761477,"question_id":77253283,"body_markdown":"I am trying to migrate cart data onto Hybris DB where the requirement is to insert the cart entries as the current date and time. When Testing the Impex on the HAC I get the same error what I get from the cronJobs logs.\r\n\r\nI am currently using the following Impex\r\n\r\n```\r\n $coupon=appliedCouponCodes[collection-delimiter=|][merge=true]\r\n$user=user[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameOrgCartCustomerFromWebOrgId]\r\n$store=store[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameQuoteSiteToStoreTranslator]\r\n\r\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\r\n\r\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;date[dateformat=&quot;MMM d, yyyy hh:mm:ss a&quot;][default=&quot;Mar 2, 2004, 1:24:33 p&quot;];currency(isocode)[default=CAD]\r\n;&quot;2300001&quot;;&quot;100005_w&quot;;&quot;ca.mycompanybasesite.com&quot;;&quot;ca.mycompanybasestore.com&quot;;$currentDate\r\n```\r\n\r\nNow when I hardcode the date-time value onto the data or keep it blank to get the default value it will run the impex which suggests that that there are no other dependencies on the translator being used. the below error only pops out when I use the variable $currentDate\r\n\r\n```\r\nINSERT_UPDATE Cart;code[unique=true];user[unique=true,translator=com.avantor.core.dataimport.translator.AvantorOrgCartCustomerFromWebOrgId];site(uid);store[unique=true,translator=com.avantor.core.dataimport.translator.AvantorQuoteSiteToStoreTranslator];&quot;date[dateformat=&quot;&quot;MMM dd, yyyy hh:mm:ss a&quot;&quot;][default=&quot;&quot;Mar 2, 2004, 1:24:33 p&quot;&quot;]&quot;;currency(isocode)[default=CAD]\r\n&quot;,,,,cannot parse date &#39;$currentDate&#39; with specified pattern &#39;&quot;&quot;MMM d&#39; due to Unparseable date: &quot;&quot;$currentDate&quot;&quot;&quot;;2300001;100005_w;ca.mycompanybasesite.com;ca.mycompanybasestore.com;$currentDate\r\n\r\n```\r\n\r\nI tried testing the impex on the HAC to which I found the above error, I also tried running the line in an online Java compiler\r\n\r\n```\r\nSystem.out.println(java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\r\n```\r\n\r\nwhich returns:\r\n\r\n`Oct 8, 2023, 10:23:41 AM`  \r\nto which, I had no issues with getting the date-time in the correct format. I have tried other date-time formats as no luck with that as well.\r\n\r\nI also tried formatting the date using this [answer](https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date) (SimpleDateFormat), [this](https://answers.sap.com/questions/12761406/current-date-in-impex.html) (Kindoff my current implementation) and [this](https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date) (I tried considering this) but to no avail. The issue still comes.\r\n\r\nAny pointing to the right direction would help\r\n\r\nI am on the 2211.9 version of SAP Commerce Cloud","title":"How do I import current date time in MMM d, y, h:mm:ss a format in hotfolder impex config? Error Popping out","body":"<p>I am trying to migrate cart data onto Hybris DB where the requirement is to insert the cart entries as the current date and time. When Testing the Impex on the HAC I get the same error what I get from the cronJobs logs.</p>\n<p>I am currently using the following Impex</p>\n<pre><code> $coupon=appliedCouponCodes[collection-delimiter=|][merge=true]\n$user=user[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameOrgCartCustomerFromWebOrgId]\n$store=store[unique=true,translator=com.mycompanyname.core.dataimport.translator.MyCompanyNameQuoteSiteToStoreTranslator]\n\n#% impex.definitions.put(&quot;$currentDate&quot;, java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\n\nINSERT_UPDATE Cart;code[unique=true];$user;site(uid);$store;date[dateformat=&quot;MMM d, yyyy hh:mm:ss a&quot;][default=&quot;Mar 2, 2004, 1:24:33 p&quot;];currency(isocode)[default=CAD]\n;&quot;2300001&quot;;&quot;100005_w&quot;;&quot;ca.mycompanybasesite.com&quot;;&quot;ca.mycompanybasestore.com&quot;;$currentDate\n</code></pre>\n<p>Now when I hardcode the date-time value onto the data or keep it blank to get the default value it will run the impex which suggests that that there are no other dependencies on the translator being used. the below error only pops out when I use the variable $currentDate</p>\n<pre><code>INSERT_UPDATE Cart;code[unique=true];user[unique=true,translator=com.avantor.core.dataimport.translator.AvantorOrgCartCustomerFromWebOrgId];site(uid);store[unique=true,translator=com.avantor.core.dataimport.translator.AvantorQuoteSiteToStoreTranslator];&quot;date[dateformat=&quot;&quot;MMM dd, yyyy hh:mm:ss a&quot;&quot;][default=&quot;&quot;Mar 2, 2004, 1:24:33 p&quot;&quot;]&quot;;currency(isocode)[default=CAD]\n&quot;,,,,cannot parse date '$currentDate' with specified pattern '&quot;&quot;MMM d' due to Unparseable date: &quot;&quot;$currentDate&quot;&quot;&quot;;2300001;100005_w;ca.mycompanybasesite.com;ca.mycompanybasestore.com;$currentDate\n\n</code></pre>\n<p>I tried testing the impex on the HAC to which I found the above error, I also tried running the line in an online Java compiler</p>\n<pre><code>System.out.println(java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;MMM d, yyyy, h:mm:ss a&quot;)))\n</code></pre>\n<p>which returns:</p>\n<p><code>Oct 8, 2023, 10:23:41 AM</code><br />\nto which, I had no issues with getting the date-time in the correct format. I have tried other date-time formats as no luck with that as well.</p>\n<p>I also tried formatting the date using this <a href=\"https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date\">answer</a> (SimpleDateFormat), <a href=\"https://answers.sap.com/questions/12761406/current-date-in-impex.html\" rel=\"nofollow noreferrer\">this</a> (Kindoff my current implementation) and <a href=\"https://stackoverflow.com/questions/16871367/java-text-parseexception-unparseable-date\">this</a> (I tried considering this) but to no avail. The issue still comes.</p>\n<p>Any pointing to the right direction would help</p>\n<p>I am on the 2211.9 version of SAP Commerce Cloud</p>\n"},{"tags":["java","jdbc","jdbi"],"answers":[{"tags":[],"owner":{"account_id":10389549,"reputation":71,"user_id":7661358,"display_name":"Shai"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1488986897,"creation_date":1488986897,"answer_id":42675353,"question_id":42625493,"body_markdown":"You can use the StatementContext argument for that.\r\n\r\nWhen the map method sees a new country, it creates a new Country instance and calls ctx.setAttribute to save the new instance. Later on, if there&#39;s a non-null region, it adds the region to the Country instance taken from the statement context.\r\n\r\nHere&#39;s an example:\r\n\r\n        @Override\r\n        public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\r\n\r\n            final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\r\n            if (countryIso3Code == null) {\r\n                throw new SQLDataException(&quot;Iso3Code is required&quot;);\r\n            }\r\n            Country country = (Country)ctx.getAttribute(countryIso3Code);\r\n            if (country == null) {\r\n                country = new Country();\r\n                country.setName(resultRow.getString(&quot;name&quot;));\r\n                country.setIso3Code(countryIso3Code);\r\n                country.setIso2Code(resultRow.getString(&quot;iso2Code&quot;));\r\n                ctx.setAttribute(countryIso3Code, country);\r\n            }\r\n\r\n            String region = resultRow.getString(&quot;region&quot;);\r\n            if (region != null) {\r\n                country.addRegion(region);\r\n            }\r\n            return country;\r\n        }\r\n\r\nIt&#39;s a bit inconvenient to use a builder like you do in the code you posted, but it&#39;s possible to put a builder on the statement context rather than a country. \r\n\r\nAlso, this mapper returns a country per DB row, so seven results, but since the same instance is repeated, using a Set&amp;lt;Country&amp;gt; gets you the expected four results.","title":"JDBI resultset mapping with joined list of results?","body":"<p>You can use the StatementContext argument for that.</p>\n\n<p>When the map method sees a new country, it creates a new Country instance and calls ctx.setAttribute to save the new instance. Later on, if there's a non-null region, it adds the region to the Country instance taken from the statement context.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>    @Override\n    public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n        final String countryIso3Code = resultRow.getString(\"iso3Code\");\n        if (countryIso3Code == null) {\n            throw new SQLDataException(\"Iso3Code is required\");\n        }\n        Country country = (Country)ctx.getAttribute(countryIso3Code);\n        if (country == null) {\n            country = new Country();\n            country.setName(resultRow.getString(\"name\"));\n            country.setIso3Code(countryIso3Code);\n            country.setIso2Code(resultRow.getString(\"iso2Code\"));\n            ctx.setAttribute(countryIso3Code, country);\n        }\n\n        String region = resultRow.getString(\"region\");\n        if (region != null) {\n            country.addRegion(region);\n        }\n        return country;\n    }\n</code></pre>\n\n<p>It's a bit inconvenient to use a builder like you do in the code you posted, but it's possible to put a builder on the statement context rather than a country. </p>\n\n<p>Also, this mapper returns a country per DB row, so seven results, but since the same instance is repeated, using a Set&lt;Country&gt; gets you the expected four results.</p>\n"},{"tags":[],"owner":{"account_id":5325338,"reputation":387,"user_id":4247530,"display_name":"Thomas LIMIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652433025,"creation_date":1652433025,"answer_id":72227102,"question_id":42625493,"body_markdown":"Jdbi provides the &quot;reduce row&quot; functionnality to handle &quot;joined results&quot;: https://jdbi.org/#_joins\r\n\r\nYou will need to implement a RowReducer&lt;Country&gt;, with these responsabilities:\r\n- to build the country from the result set row the first time it encounter it (you may use a simplified RawMapper&lt;Country&gt; implementation). Detection may be based on country primary key\r\n- store the build country in the container, mapped by its primary key, to be able to retrieve it when encountered again in following result set rows\r\n- retrieve the contry from the container if current row is about an already encountered country, add the region specified by the current row to the retrieved contry\r\n\r\nJdbi use the row reducer to parse each result set rows, and provide as a result the content of the container.\r\n\r\nyou can follow the example in the jdbi documentation: https://jdbi.org/#_resultbearing_reducerows\r\n\r\n\r\n\r\n","title":"JDBI resultset mapping with joined list of results?","body":"<p>Jdbi provides the &quot;reduce row&quot; functionnality to handle &quot;joined results&quot;: <a href=\"https://jdbi.org/#_joins\" rel=\"nofollow noreferrer\">https://jdbi.org/#_joins</a></p>\n<p>You will need to implement a RowReducer, with these responsabilities:</p>\n<ul>\n<li>to build the country from the result set row the first time it encounter it (you may use a simplified RawMapper implementation). Detection may be based on country primary key</li>\n<li>store the build country in the container, mapped by its primary key, to be able to retrieve it when encountered again in following result set rows</li>\n<li>retrieve the contry from the container if current row is about an already encountered country, add the region specified by the current row to the retrieved contry</li>\n</ul>\n<p>Jdbi use the row reducer to parse each result set rows, and provide as a result the content of the container.</p>\n<p>you can follow the example in the jdbi documentation: <a href=\"https://jdbi.org/#_resultbearing_reducerows\" rel=\"nofollow noreferrer\">https://jdbi.org/#_resultbearing_reducerows</a></p>\n"}],"owner":{"account_id":1072602,"reputation":3808,"user_id":1071515,"accept_rate":93,"display_name":"tomaytotomato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1417,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":42675353,"answer_count":2,"score":4,"last_activity_date":1696759847,"creation_date":1488802709,"question_id":42625493,"body_markdown":"Trying to build a Country object with JDBIs ResultSetMapper API, however I have one issue which I am not sure how to solve.\n\nFor a resultset like the following which joins the Regions (states/ territories) table to country (1 - 0..n)\n\n[![enter image description here][1]][1]\n\n\n  [1]: https://i.stack.imgur.com/oasCu.png\n\n        @Override\n    public Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n        final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\n\n\n        return Country.builder().name(resultRow.getString(&quot;name&quot;))\n                .iso2Code(resultRow.getString(&quot;iso2Code&quot;))\n                .iso3Code(resultRow.getString(&quot;iso3Code&quot;))\n                .regions(....?)\n                .build();\n\n    }\n\nHow can I get the ResultSetMapper to initialise one Country object with the appropriate list of related Regions in JDBI\n\ne.g. \n\n&gt; United States - (USA) - (US) - (PR, RI, WA)\n\n\nCurrently the list of Countries returned is like the followng\n\n&gt; United Kingdom - GBR - GB - &lt;&gt;\n&gt;\n&gt; United States - USA - US - PR\n&gt;\n&gt; United States - USA - US - RI\n&gt;\n&gt; United States - USA - US - WA\n&gt;\n&gt; Puerto Rico - PRI - PR - &lt;&gt;\n&gt;\n&gt; Canada - CAN - CA - AB\n&gt;\n&gt; Canada - CAN - CA - BC\n\n","title":"JDBI resultset mapping with joined list of results?","body":"<p>Trying to build a Country object with JDBIs ResultSetMapper API, however I have one issue which I am not sure how to solve.</p>\n<p>For a resultset like the following which joins the Regions (states/ territories) table to country (1 - 0..n)</p>\n<p><a href=\"https://i.stack.imgur.com/oasCu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oasCu.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    @Override\npublic Country map(final int index, final ResultSet resultRow, final StatementContext ctx) throws SQLException {\n\n    final String countryIso3Code = resultRow.getString(&quot;iso3Code&quot;);\n\n\n    return Country.builder().name(resultRow.getString(&quot;name&quot;))\n            .iso2Code(resultRow.getString(&quot;iso2Code&quot;))\n            .iso3Code(resultRow.getString(&quot;iso3Code&quot;))\n            .regions(....?)\n            .build();\n\n}\n</code></pre>\n<p>How can I get the ResultSetMapper to initialise one Country object with the appropriate list of related Regions in JDBI</p>\n<p>e.g.</p>\n<blockquote>\n<p>United States - (USA) - (US) - (PR, RI, WA)</p>\n</blockquote>\n<p>Currently the list of Countries returned is like the followng</p>\n<blockquote>\n<p>United Kingdom - GBR - GB - &lt;&gt;</p>\n<p>United States - USA - US - PR</p>\n<p>United States - USA - US - RI</p>\n<p>United States - USA - US - WA</p>\n<p>Puerto Rico - PRI - PR - &lt;&gt;</p>\n<p>Canada - CAN - CA - AB</p>\n<p>Canada - CAN - CA - BC</p>\n</blockquote>\n"},{"tags":["java","spring","jhipster"],"comments":[{"owner":{"account_id":5104901,"reputation":169,"user_id":4093281,"display_name":"Raphael Alves"},"score":1,"creation_date":1550138142,"post_id":54681312,"comment_id":96163067,"body_markdown":"Please post your yml and your LoggingConfiguration.java class.","body":"Please post your yml and your LoggingConfiguration.java class."}],"answers":[{"tags":[],"owner":{"account_id":14675357,"reputation":64,"user_id":10598634,"display_name":"Clay"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1550103157,"creation_date":1550103157,"answer_id":54681392,"question_id":54681312,"body_markdown":"I was just having the same issue.\r\nIt actually worked when I replaced the &quot;.&quot;s with &quot;_&quot; \r\nSo my method : \r\n\r\n    @Value(&quot;${server_port&quot;)\r\n    Integer port;\r\n\r\nand my properties.yml \r\n\r\n    server:\r\n      port: 1234\r\n    server_port: 1234\r\n\r\nOf course, the redundancy isn&#39;t ideal, but @Value seems to be unable to handle &quot;.&quot;s.\r\n","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>I was just having the same issue.\nIt actually worked when I replaced the \".\"s with \"_\" \nSo my method : </p>\n\n<pre><code>@Value(\"${server_port\")\nInteger port;\n</code></pre>\n\n<p>and my properties.yml </p>\n\n<pre><code>server:\n  port: 1234\nserver_port: 1234\n</code></pre>\n\n<p>Of course, the redundancy isn't ideal, but @Value seems to be unable to handle \".\"s.</p>\n"},{"tags":[],"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550103395,"creation_date":1550103395,"answer_id":54681421,"question_id":54681312,"body_markdown":"Spring looks for placeholders specified inside the `@Value` annotation in various locations. Since you&#39;re probably running a Spring Boot application, you might want to check the [documentation][1] for externalized configuration.\n\nI&#39;d bet you did have it specified as a command line argument, or inside the `application.properties` resource file.\n\nBtw, the `.` (dot) is not a problem.\n\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>Spring looks for placeholders specified inside the <code>@Value</code> annotation in various locations. Since you're probably running a Spring Boot application, you might want to check the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">documentation</a> for externalized configuration.</p>\n<p>I'd bet you did have it specified as a command line argument, or inside the <code>application.properties</code> resource file.</p>\n<p>Btw, the <code>.</code> (dot) is not a problem.</p>\n"},{"tags":[],"owner":{"account_id":13261077,"reputation":2382,"user_id":9575631,"display_name":"Ousama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597832189,"creation_date":1597832189,"answer_id":63484838,"question_id":54681312,"body_markdown":"I had the same issue, I solved this simply by adding the **server.port** property to **application.properties**\r\n\r\n**MultiplicationController.java**\r\n\r\n    @Slf4j\r\n    @RestController\r\n    @RequestMapping(&quot;/multiplications&quot;)\r\n    @CrossOrigin(origins = &quot;http://localhost:9090&quot;)\r\n    final class MultiplicationController {\r\n    \r\n    \tprivate final MultiplicationService multiplicationService;\r\n    \r\n    \tprivate final int serverPort;\r\n    \r\n    \t@Autowired\r\n    \tpublic MultiplicationController(final MultiplicationService multiplicationService,\r\n    \t\t\t@Value(&quot;${server.port}&quot;) int serverPort) {\r\n    \t\tthis.multiplicationService = multiplicationService;\r\n    \t\tthis.serverPort = serverPort;\r\n    \t}\r\n    \r\n    \t@GetMapping(&quot;/random&quot;)\r\n    \tpublic Multiplication getRandomMultiplication() {\r\n    \t\tlog.info(&quot;Generating a random multiplication from server @ {}&quot;, serverPort);\r\n    \t\treturn multiplicationService.createRandomMultiplication();\r\n    \t}\r\n    }\r\n\r\n**application.properties**\r\n\r\n    server.port=8080","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>I had the same issue, I solved this simply by adding the <strong>server.port</strong> property to <strong>application.properties</strong></p>\n<p><strong>MultiplicationController.java</strong></p>\n<pre><code>@Slf4j\n@RestController\n@RequestMapping(&quot;/multiplications&quot;)\n@CrossOrigin(origins = &quot;http://localhost:9090&quot;)\nfinal class MultiplicationController {\n\n    private final MultiplicationService multiplicationService;\n\n    private final int serverPort;\n\n    @Autowired\n    public MultiplicationController(final MultiplicationService multiplicationService,\n            @Value(&quot;${server.port}&quot;) int serverPort) {\n        this.multiplicationService = multiplicationService;\n        this.serverPort = serverPort;\n    }\n\n    @GetMapping(&quot;/random&quot;)\n    public Multiplication getRandomMultiplication() {\n        log.info(&quot;Generating a random multiplication from server @ {}&quot;, serverPort);\n        return multiplicationService.createRandomMultiplication();\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8080\n</code></pre>\n"}],"owner":{"account_id":7855216,"reputation":2734,"user_id":5937321,"display_name":"Developer Thing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696759345,"creation_date":1550102602,"question_id":54681312,"body_markdown":"After upgrading a jHipster project from version 4.14.5 to the version 5.8.1 I am getting this error when I try to run the application:\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.beans.factory.BeanCreationException:  Error\r\n&gt; creating bean with name &#39;loggingConfiguration&#39; defined  in file\r\n&gt; [\\config\\LoggingConfiguration.class]: \r\n&gt; \r\n&gt; Unexpected exception during bean creation; nested exception is\r\n&gt; java.lang.IllegalArgumentException:  Could not resolve placeholder\r\n&gt; &#39;server.port&#39; in value &quot;${server.port}&quot;\r\n\r\n\r\n\r\nDo you have any idea of what could be the cause of the problem?","title":"Could not resolve placeholder &#39;server.port&#39; in value &quot;${server.port}&quot;","body":"<p>After upgrading a jHipster project from version 4.14.5 to the version 5.8.1 I am getting this error when I try to run the application:</p>\n\n<blockquote>\n  <p>Exception encountered during context initialization - cancelling\n  refresh attempt:\n  org.springframework.beans.factory.BeanCreationException:  Error\n  creating bean with name 'loggingConfiguration' defined  in file\n  [\\config\\LoggingConfiguration.class]: </p>\n  \n  <p>Unexpected exception during bean creation; nested exception is\n  java.lang.IllegalArgumentException:  Could not resolve placeholder\n  'server.port' in value \"${server.port}\"</p>\n</blockquote>\n\n<p>Do you have any idea of what could be the cause of the problem?</p>\n"},{"tags":["java","android","bluetooth","android-bluetooth","pairing"],"comments":[{"owner":{"account_id":16482287,"reputation":558,"user_id":11908728,"display_name":"8bit"},"score":0,"creation_date":1696494019,"post_id":77233836,"comment_id":136160790,"body_markdown":"When you print all bonded Devices to your terminal, does your device and it&#39;s mac address appear in the output?","body":"When you print all bonded Devices to your terminal, does your device and it&#39;s mac address appear in the output?"},{"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"score":0,"creation_date":1696535489,"post_id":77233836,"comment_id":136169434,"body_markdown":"yep. it appears there. the `String.valueOf()` was changing my string to some int value of the string resource. also, as a precautionary measures for future statue, I did as Matthew suggested and am using the `.equals()` function.","body":"yep. it appears there. the <code>String.valueOf()</code> was changing my string to some int value of the string resource. also, as a precautionary measures for future statue, I did as Matthew suggested and am using the <code>.equals()</code> function."}],"answers":[{"tags":[],"owner":{"account_id":29358488,"reputation":51,"user_id":22493806,"display_name":"Matthew Sexton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696758915,"creation_date":1696471881,"answer_id":77233902,"question_id":77233836,"body_markdown":"Strings are immutable in Java, so `==` will compare memory locations. You could try using the `.equals` method, which would compare the actual characters in the string instead of the memory location.\r\n\r\nIf that doesn&#39;t work, can you put print outs for the 2 addresses.\r\n","title":"Catching specific MAC Address from Paired Devices","body":"<p>Strings are immutable in Java, so <code>==</code> will compare memory locations. You could try using the <code>.equals</code> method, which would compare the actual characters in the string instead of the memory location.</p>\n<p>If that doesn't work, can you put print outs for the 2 addresses.</p>\n"}],"owner":{"account_id":29600636,"reputation":3,"user_id":22686172,"display_name":"perpetualnoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77233902,"answer_count":1,"score":0,"last_activity_date":1696758915,"creation_date":1696470189,"question_id":77233836,"body_markdown":"everyone.\r\n\r\nnew here.\r\n\r\nI&#39;m experiencing an issue comparing MAC address from paired devices. I want my app to do something if it finds that a certain MAC address is already paired to it.\r\n\r\nHere&#39;s part of my java class:\r\n\r\n```\r\nBoolean pair_status = false;\r\n\r\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\r\nif (pairedDevices.size() &gt; 0) {\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\r\n            pair_status = true;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s my string initialization:\r\n```\r\n&lt;string name=&quot;BT_MWAddress&quot;&gt;28:A3:91:E6:A1:50&lt;/string&gt;\r\n```\r\nI can see that the device is paired with my phone.\r\n\r\nI&#39;ve tried changing my condition statement to the ones below but I&#39;m still getting the same result.\r\n- `String.valueOf(device.getAddress()) == String.valueOf(R.string.BT_MWAddress)`\r\n- `device.getAddress() == &quot;28:A3:91:E6:A1:50&quot;`\r\n- `String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;`\r\n- `String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;`\r\n\r\nAnother check I did is changing my code like below for troubleshooting. and `pair_status` always updates to `-1`. Posted the `pair_status` in a TextView.\r\n```\r\nint pair_status = 0;\r\n\r\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\r\nif (pairedDevices.size() &gt; 0) {\r\n    for (BluetoothDevice device : pairedDevices) {\r\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\r\n            pair_status = 1;\r\n        } else {\r\n            pair_status = -1;\r\n        }\r\n    }\r\n}\r\n```","title":"Catching specific MAC Address from Paired Devices","body":"<p>everyone.</p>\n<p>new here.</p>\n<p>I'm experiencing an issue comparing MAC address from paired devices. I want my app to do something if it finds that a certain MAC address is already paired to it.</p>\n<p>Here's part of my java class:</p>\n<pre><code>Boolean pair_status = false;\n\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\nif (pairedDevices.size() &gt; 0) {\n    for (BluetoothDevice device : pairedDevices) {\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\n            pair_status = true;\n        }\n    }\n}\n</code></pre>\n<p>Here's my string initialization:</p>\n<pre><code>&lt;string name=&quot;BT_MWAddress&quot;&gt;28:A3:91:E6:A1:50&lt;/string&gt;\n</code></pre>\n<p>I can see that the device is paired with my phone.</p>\n<p>I've tried changing my condition statement to the ones below but I'm still getting the same result.</p>\n<ul>\n<li><code>String.valueOf(device.getAddress()) == String.valueOf(R.string.BT_MWAddress)</code></li>\n<li><code>device.getAddress() == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n<li><code>String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n<li><code>String.valueOf(device.getAddress()) == &quot;28:A3:91:E6:A1:50&quot;</code></li>\n</ul>\n<p>Another check I did is changing my code like below for troubleshooting. and <code>pair_status</code> always updates to <code>-1</code>. Posted the <code>pair_status</code> in a TextView.</p>\n<pre><code>int pair_status = 0;\n\nSet&lt;BluetoothDevice&gt; pairedDevices = BTAdapter.getBondedDevices();\nif (pairedDevices.size() &gt; 0) {\n    for (BluetoothDevice device : pairedDevices) {\n        if (device.getAddress() == String.valueOf(R.string.BT_MWAddress)) {\n            pair_status = 1;\n        } else {\n            pair_status = -1;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","xml-parsing","thymeleaf","freemarker"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1486650017,"post_id":42139073,"comment_id":71444334,"body_markdown":"How would you convert xml data to a pdf file? How does a war file and a server come into the picture all of a sudden? Please enhance the question, nobody can help you like this.","body":"How would you convert xml data to a pdf file? How does a war file and a server come into the picture all of a sudden? Please enhance the question, nobody can help you like this."}],"answers":[{"tags":[],"owner":{"account_id":7853869,"reputation":27,"user_id":5936449,"accept_rate":80,"display_name":"master89"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1486976433,"creation_date":1486976433,"answer_id":42200149,"question_id":42139073,"body_markdown":"I don&#39;t know why was so hard for you to understand, I think it&#39;s not Klingon. I finally solved it thanks to Thymeleaf, I deployed my app in my server and with thymeleaf templates I can configure the output dinamically without redeploying","title":"Parse xml to pdf according to a template in java","body":"<p>I don't know why was so hard for you to understand, I think it's not Klingon. I finally solved it thanks to Thymeleaf, I deployed my app in my server and with thymeleaf templates I can configure the output dinamically without redeploying</p>\n"},{"tags":[],"owner":{"account_id":29360106,"reputation":1,"user_id":22495005,"display_name":"洪金秋"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696758371,"creation_date":1695868471,"answer_id":77191868,"question_id":42139073,"body_markdown":"I think that, the functionality you want to implemente is:\r\n\r\n1. A xml to pdf framework\r\n\r\n2. A server program, which implements an interface for external calls\r\n\r\n2.1. Then input param of the interface is:\r\n\r\n2.1.1. Config file in xml format(let&#39;s call it param1)\r\n\r\n2.1.2. Business data(let&#39;s call it param2)\r\n\r\n2.2. The output result of the interface is:\r\n\r\n2.2.2. pdf format files\r\n\r\nThe internal logic of the server program is: call the xml to pdf framework, send param1 and param2 parameter.\r\n\r\nTherefore, the main difficulty lies in 1: a xml to pdf framework\r\n\r\nAnd nanhu-print-java happens to be an xml to pdf framework.\r\n\r\nAn hello world demo of xml to pdf is:\r\n\r\n1. Configure file of xml format\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;html xmlns=&quot;https://github.com/hongjinqiu/nanhu-print-java&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n    &lt;style&gt;&lt;/style&gt;\r\n    &lt;macros&gt;&lt;/macros&gt;\r\n    &lt;body pageSizePdf=&quot;A4&quot; rotate=&quot;false&quot; paddingLeft=&quot;50px&quot; paddingRight=&quot;50px&quot; paddingTop=&quot;30px&quot; paddingBottom=&quot;20px&quot; width=&quot;685px&quot; height=&quot;840px&quot;&gt;\r\n        &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot; tableLayout=&quot;fixed&quot; explain=&quot;true&quot;&gt;\r\n            &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;\r\n                        &lt;span value=&quot;hello world,&quot; /&gt;\r\n                        &lt;span value=&quot;js:businessData&quot; /&gt;\r\n            &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\r\n        &lt;/table&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n2. Business data is:\r\n\r\n```\r\n{\r\n  &quot;businessData&quot;: &quot;I am businessData&quot;\r\n}\r\n```\r\n\r\n3. How to use the framework:\r\n\r\nAdd maven dependencies of nanhu-print-java framework:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.github.hongjinqiu&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;nanhu-print-java&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe code:\r\n\r\n```\r\npackage com.hongjinqiu.demo;\r\n\r\nimport com.hongjinqiu.nanhuprint.NanhuprintInterpreter;\r\nimport net.sf.json.JSONObject;\r\nimport org.apache.commons.io.IOUtils;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.InputStream;\r\nimport java.util.Map;\r\n\r\npublic class HelloWorld {\r\n    public static void main(String[] args) throws Exception {\r\n        NanhuprintInterpreter nanhuprintInterpreter = new NanhuprintInterpreter();\r\n        String filePath = &quot;/tmp/hello_world.pdf&quot;;\r\n        try (InputStream in = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.json&quot;);\r\n             InputStream xmlIn = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.xml&quot;)\r\n        ) {\r\n            ByteArrayOutputStream xmlOut = new ByteArrayOutputStream();\r\n            IOUtils.copyLarge(xmlIn, xmlOut);\r\n            String metaString = xmlOut.toString(&quot;utf8&quot;);\r\n\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            IOUtils.copyLarge(in, out);\r\n            String envJson = out.toString(&quot;utf8&quot;);\r\n\r\n            Map&lt;String, Object&gt; env = JSONObject.fromObject(envJson);\r\n            nanhuprintInterpreter.interpreterString(filePath, metaString, env);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe result page of pdf is:\r\n[hello world result page][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GyJ7Y.png","title":"Parse xml to pdf according to a template in java","body":"<p>I think that, the functionality you want to implemente is:</p>\n<ol>\n<li><p>A xml to pdf framework</p>\n</li>\n<li><p>A server program, which implements an interface for external calls</p>\n</li>\n</ol>\n<p>2.1. Then input param of the interface is:</p>\n<p>2.1.1. Config file in xml format(let's call it param1)</p>\n<p>2.1.2. Business data(let's call it param2)</p>\n<p>2.2. The output result of the interface is:</p>\n<p>2.2.2. pdf format files</p>\n<p>The internal logic of the server program is: call the xml to pdf framework, send param1 and param2 parameter.</p>\n<p>Therefore, the main difficulty lies in 1: a xml to pdf framework</p>\n<p>And nanhu-print-java happens to be an xml to pdf framework.</p>\n<p>An hello world demo of xml to pdf is:</p>\n<ol>\n<li>Configure file of xml format</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;html xmlns=&quot;https://github.com/hongjinqiu/nanhu-print-java&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;style&gt;&lt;/style&gt;\n    &lt;macros&gt;&lt;/macros&gt;\n    &lt;body pageSizePdf=&quot;A4&quot; rotate=&quot;false&quot; paddingLeft=&quot;50px&quot; paddingRight=&quot;50px&quot; paddingTop=&quot;30px&quot; paddingBottom=&quot;20px&quot; width=&quot;685px&quot; height=&quot;840px&quot;&gt;\n        &lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; width=&quot;100%&quot; tableLayout=&quot;fixed&quot; explain=&quot;true&quot;&gt;\n            &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;\n                        &lt;span value=&quot;hello world,&quot; /&gt;\n                        &lt;span value=&quot;js:businessData&quot; /&gt;\n            &lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Business data is:</li>\n</ol>\n<pre><code>{\n  &quot;businessData&quot;: &quot;I am businessData&quot;\n}\n</code></pre>\n<ol start=\"3\">\n<li>How to use the framework:</li>\n</ol>\n<p>Add maven dependencies of nanhu-print-java framework:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hongjinqiu&lt;/groupId&gt;\n    &lt;artifactId&gt;nanhu-print-java&lt;/artifactId&gt;\n    &lt;version&gt;1.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The code:</p>\n<pre><code>package com.hongjinqiu.demo;\n\nimport com.hongjinqiu.nanhuprint.NanhuprintInterpreter;\nimport net.sf.json.JSONObject;\nimport org.apache.commons.io.IOUtils;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.InputStream;\nimport java.util.Map;\n\npublic class HelloWorld {\n    public static void main(String[] args) throws Exception {\n        NanhuprintInterpreter nanhuprintInterpreter = new NanhuprintInterpreter();\n        String filePath = &quot;/tmp/hello_world.pdf&quot;;\n        try (InputStream in = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.json&quot;);\n             InputStream xmlIn = HelloWorld.class.getClassLoader().getResourceAsStream(&quot;hello_world.xml&quot;)\n        ) {\n            ByteArrayOutputStream xmlOut = new ByteArrayOutputStream();\n            IOUtils.copyLarge(xmlIn, xmlOut);\n            String metaString = xmlOut.toString(&quot;utf8&quot;);\n\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\n            IOUtils.copyLarge(in, out);\n            String envJson = out.toString(&quot;utf8&quot;);\n\n            Map&lt;String, Object&gt; env = JSONObject.fromObject(envJson);\n            nanhuprintInterpreter.interpreterString(filePath, metaString, env);\n        }\n    }\n}\n</code></pre>\n<p>The result page of pdf is:\n<a href=\"https://i.stack.imgur.com/GyJ7Y.png\" rel=\"nofollow noreferrer\">hello world result page</a></p>\n"}],"owner":{"account_id":7853869,"reputation":27,"user_id":5936449,"accept_rate":80,"display_name":"master89"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":173,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":2,"score":-4,"last_activity_date":1696758371,"creation_date":1486649874,"question_id":42139073,"body_markdown":"I need to parse an xml to pdf according to a template that doesn&#39;t requiere to generate again a war and redeploy in my server. \r\n\r\nI use JAXB to parse xml to my java entities, after that I want to generate a pdf according to a template configurable in some kind of file that doesn&#39;t requiere to rebuild my code and redeploy it in my server, so I can change my template configuration to convert the xml to pdf.\r\n\r\nIn other words, I have my full aplication that parses xml, I want to export my information to pdf according to a template file, this should be reconfigurable so I have not to redeploy my app, it must be only a properties file","title":"Parse xml to pdf according to a template in java","body":"<p>I need to parse an xml to pdf according to a template that doesn't requiere to generate again a war and redeploy in my server. </p>\n\n<p>I use JAXB to parse xml to my java entities, after that I want to generate a pdf according to a template configurable in some kind of file that doesn't requiere to rebuild my code and redeploy it in my server, so I can change my template configuration to convert the xml to pdf.</p>\n\n<p>In other words, I have my full aplication that parses xml, I want to export my information to pdf according to a template file, this should be reconfigurable so I have not to redeploy my app, it must be only a properties file</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":7799712,"reputation":947,"user_id":5899611,"display_name":"Nikolay Tomitov"},"score":0,"creation_date":1455549863,"post_id":35412948,"comment_id":58526831,"body_markdown":"Are you sure there is such class BooleanArray  ?","body":"Are you sure there is such class BooleanArray  ?"},{"owner":{"account_id":7613402,"reputation":333,"user_id":5773630,"display_name":"elTomato"},"score":4,"creation_date":1455549900,"post_id":35412948,"comment_id":58526850,"body_markdown":"Can you share the `BooleanArray` class and the `handler` declaration and initialization?","body":"Can you share the <code>BooleanArray</code> class and the <code>handler</code> declaration and initialization?"}],"answers":[{"tags":[],"owner":{"account_id":2183640,"reputation":5967,"user_id":1932557,"accept_rate":45,"display_name":"Bahramdun Adil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1455550602,"creation_date":1455549899,"answer_id":35413043,"question_id":35412948,"body_markdown":"You can try something like this:\r\n\r\n    int trueCount = 0;\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n        if (array.get(i) /* or array[i] */) {\r\n            trueCount++;\r\n        }\r\n        if (trueCount &gt;= 6) {\r\n            break;\r\n        }\r\n    }","title":"Count number of &quot;true&quot; booleans in array","body":"<p>You can try something like this:</p>\n\n<pre><code>int trueCount = 0;\nfor (int i = 0; i &lt; array.length; i++) {\n    if (array.get(i) /* or array[i] */) {\n        trueCount++;\n    }\n    if (trueCount &gt;= 6) {\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29624677,"reputation":1,"user_id":22704708,"display_name":"Diaconu Razvan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696758358,"creation_date":1696758358,"answer_id":77253095,"question_id":35412948,"body_markdown":"You can also try using the lambdas\r\n\r\n    ArrayList&lt;Boolean&gt; vals = new ArrayList();\r\n       for(boolean val: arr){\r\n           vals.add(val);\r\n       }\r\n       vals.removeIf(el -&gt; el.equals(false));\r\n       return vals.size();","title":"Count number of &quot;true&quot; booleans in array","body":"<p>You can also try using the lambdas</p>\n<pre><code>ArrayList&lt;Boolean&gt; vals = new ArrayList();\n   for(boolean val: arr){\n       vals.add(val);\n   }\n   vals.removeIf(el -&gt; el.equals(false));\n   return vals.size();\n</code></pre>\n"}],"owner":{"account_id":4423068,"reputation":969,"user_id":3602369,"accept_rate":71,"display_name":"Benni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13518,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":35413043,"answer_count":2,"score":-2,"last_activity_date":1696758358,"creation_date":1455549601,"question_id":35412948,"body_markdown":"I have an BooleanArray filled with 17 values.\r\nI want to loop through that array and count how many of them are true, or break and set a flag when it reaches a certain amount of true values. So if the array containes 6 booleans that are &quot;true&quot; I want to break the loop and do something.\r\n\r\n    BooleanArray booleanArray = new BooleanArray(17);\r\n    booleanArray.add(handler.get(0).getStatus());\r\n    booleanArray.add(handler.get(1).getStatus());\r\n    booleanArray.add(handler.get(2).getStatus());\r\n    booleanArray.add(handler.get(3).getStatus());\r\n    booleanArray.add(handler.get(4).getStatus());\r\n    //etc...\r\n\r\nIt&#39;s how to build this loop I&#39;m not sure on how to. \r\n","title":"Count number of &quot;true&quot; booleans in array","body":"<p>I have an BooleanArray filled with 17 values.\nI want to loop through that array and count how many of them are true, or break and set a flag when it reaches a certain amount of true values. So if the array containes 6 booleans that are \"true\" I want to break the loop and do something.</p>\n\n<pre><code>BooleanArray booleanArray = new BooleanArray(17);\nbooleanArray.add(handler.get(0).getStatus());\nbooleanArray.add(handler.get(1).getStatus());\nbooleanArray.add(handler.get(2).getStatus());\nbooleanArray.add(handler.get(3).getStatus());\nbooleanArray.add(handler.get(4).getStatus());\n//etc...\n</code></pre>\n\n<p>It's how to build this loop I'm not sure on how to. </p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1503041660,"post_id":45750974,"comment_id":78459223,"body_markdown":"try writing some java code","body":"try writing some java code"},{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":0,"creation_date":1503041887,"post_id":45750974,"comment_id":78459350,"body_markdown":"try using a hashmap and storing count as values in the hashmap","body":"try using a hashmap and storing count as values in the hashmap"}],"answers":[{"tags":[],"owner":{"account_id":7649396,"reputation":404,"user_id":6213808,"display_name":"Jonaswg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1503046531,"creation_date":1503041995,"answer_id":45751111,"question_id":45750974,"body_markdown":"Collections.frequency gives you occurrences of an object in a list.\r\n \r\nAnother option since this is a small array is to sort it and then iterate, and in the case where `array[i+1] == array[i]`, increase the count of duplicate values.\r\n\r\nIf elements in this case is not a primitive type, remember to overload the operator.\r\n\r\nsample implementation:\r\n\r\n    void countOcc(int []arr) {\t\r\n    \tSet&lt;Integer&gt; uniques = new LinkedHashSet&lt;Integer&gt;();\r\n    \tfor(int x : arr) {\r\n    \t\tuniques.add(x);\r\n    \t}\r\n    \t\t\r\n    \tfor(int y : uniques) {\r\n    \t\tint totalOcc = Collections.frequency(Arrays.asList(arr), y);\r\n    \t\t//gives total occurences for each unique element in the array\r\n    \t}\r\n    }\r\n\r\n","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Collections.frequency gives you occurrences of an object in a list.</p>\n\n<p>Another option since this is a small array is to sort it and then iterate, and in the case where <code>array[i+1] == array[i]</code>, increase the count of duplicate values.</p>\n\n<p>If elements in this case is not a primitive type, remember to overload the operator.</p>\n\n<p>sample implementation:</p>\n\n<pre><code>void countOcc(int []arr) {  \n    Set&lt;Integer&gt; uniques = new LinkedHashSet&lt;Integer&gt;();\n    for(int x : arr) {\n        uniques.add(x);\n    }\n\n    for(int y : uniques) {\n        int totalOcc = Collections.frequency(Arrays.asList(arr), y);\n        //gives total occurences for each unique element in the array\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10687119,"reputation":257,"user_id":7867325,"accept_rate":80,"display_name":"K Sathish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696757316,"creation_date":1503042071,"answer_id":45751142,"question_id":45750974,"body_markdown":"Traverse the arraylist and find the frequency of each element in arraylist. \r\n\r\nUse hashmap for better performance for storing the frequency of elements.\r\n\r\nInitialise count to zero. If the frequency of any element is greater than one increment the count. Finally return the count.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Traverse the arraylist and find the frequency of each element in arraylist.</p>\n<p>Use hashmap for better performance for storing the frequency of elements.</p>\n<p>Initialise count to zero. If the frequency of any element is greater than one increment the count. Finally return the count.</p>\n"},{"tags":[],"owner":{"account_id":5546023,"reputation":1387,"user_id":4400700,"accept_rate":100,"display_name":"Ch4t4r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503042126,"creation_date":1503042126,"answer_id":45751157,"question_id":45750974,"body_markdown":"Pseudocode:\r\n\r\n    dup = 0\r\n    pos = []\r\n    for i from 0 to arr.len -1 do\r\n      for c from i + 1 to arr.len -1 do\r\n        if pos.has(c) then \r\n          break\r\n        fi\r\n        if i == c then\r\n          dup++\r\n          pos.add(c)\r\n        fi\r\n      end\r\n    end\r\n\r\n\r\nRest is up to you. At lot of optimization could be done as well.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>Pseudocode:</p>\n\n<pre><code>dup = 0\npos = []\nfor i from 0 to arr.len -1 do\n  for c from i + 1 to arr.len -1 do\n    if pos.has(c) then \n      break\n    fi\n    if i == c then\n      dup++\n      pos.add(c)\n    fi\n  end\nend\n</code></pre>\n\n<p>Rest is up to you. At lot of optimization could be done as well.</p>\n"}],"owner":{"account_id":3505046,"reputation":61,"user_id":2930748,"accept_rate":33,"display_name":"kishore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":212,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":45751111,"answer_count":3,"score":-1,"last_activity_date":1696757316,"creation_date":1503041533,"question_id":45750974,"body_markdown":"How to find count of duplicate elements in arraylist and append the duplicate elements to different textviews in andorid.\r\n\r\nI have 3 different textview and single arraylist which contains 25 elements with  duplicate elements \r\n1) How many duplicate values present in arraylist\r\n2) The count of duplicate values should append to textview.","title":"How to find count of duplicate elements in arraylist and append the dupplicate elements to different textviews","body":"<p>How to find count of duplicate elements in arraylist and append the duplicate elements to different textviews in andorid.</p>\n\n<p>I have 3 different textview and single arraylist which contains 25 elements with  duplicate elements \n1) How many duplicate values present in arraylist\n2) The count of duplicate values should append to textview.</p>\n"},{"tags":["java","spring","spring-boot","logback","slf4j"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1696756843,"creation_date":1596558900,"answer_id":63251296,"question_id":63251142,"body_markdown":"I have just found out this configuration is available at the [`DefaultLogbackConfiguration`][1] file under Spring Boot project:\r\n\r\n```\r\nprivate static final String CONSOLE_LOG_PATTERN = &quot;%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &quot;\r\n\t\t\t+ &quot;%clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} &quot;\r\n\t\t\t+ &quot;%clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} &quot;\r\n\t\t\t+ &quot;%clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}&quot;;\r\n```\r\n\r\nTo find the pattern for a certain Spring Boot version, either:\r\n\r\n- Browse the source file available at GitHub: [Spring Boot 2.3.x][2].\r\n- In IntelliJ Idea press 2x &lt;kbd&gt;Left Shift&lt;/kbd&gt; and search in the `Classes` tab for `DefaultLogbackConfiguration`.\r\n\r\nThe source of my findings is https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html.\r\n\r\n____\r\n\r\n**Edit:** The default Logback console logger configuration (for example setting the logger to the `DEBUG` level) can be overridden as follows:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n    &lt;root level=&quot;DEBUG&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\r\n  [2]: https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>I have just found out this configuration is available at the <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\" rel=\"nofollow noreferrer\"><code>DefaultLogbackConfiguration</code></a> file under Spring Boot project:</p>\n<pre><code>private static final String CONSOLE_LOG_PATTERN = &quot;%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} &quot;\n            + &quot;%clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} &quot;\n            + &quot;%clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} &quot;\n            + &quot;%clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}&quot;;\n</code></pre>\n<p>To find the pattern for a certain Spring Boot version, either:</p>\n<ul>\n<li>Browse the source file available at GitHub: <a href=\"https://github.com/spring-projects/spring-boot/blob/2.3.x/spring-boot-project/spring-boot/src/main/java/org/springframework/boot/logging/logback/DefaultLogbackConfiguration.java\" rel=\"nofollow noreferrer\">Spring Boot 2.3.x</a>.</li>\n<li>In IntelliJ Idea press 2x <kbd>Left Shift</kbd> and search in the <code>Classes</code> tab for <code>DefaultLogbackConfiguration</code>.</li>\n</ul>\n<p>The source of my findings is <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/tutorials/spring-framework/spring-boot/logging-console-pattern.html</a>.</p>\n<hr />\n<p><strong>Edit:</strong> The default Logback console logger configuration (for example setting the logger to the <code>DEBUG</code> level) can be overridden as follows:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\n    &lt;root level=&quot;DEBUG&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1714288,"reputation":283,"user_id":1571719,"accept_rate":60,"display_name":"Arvinth Shriram"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1641906860,"creation_date":1641893963,"answer_id":70664507,"question_id":63251142,"body_markdown":"If you are using `logback-spring.xml`, then adding the following to your xml would automatically pick up spring&#39;s default logback configuration for console appender. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/defaults.xml&quot;/&gt;\r\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/console-appender.xml&quot; /&gt;\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nReference: [https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>If you are using <code>logback-spring.xml</code>, then adding the following to your xml would automatically pick up spring's default logback configuration for console appender.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;include resource=\"org/springframework/boot/logging/logback/defaults.xml\"/&gt;\n&lt;include resource=\"org/springframework/boot/logging/logback/console-appender.xml\" /&gt;\n&lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"CONSOLE\" /&gt;\n&lt;/root&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.2.6.RELEASE/reference/html/howto.html#howto-configure-logback-for-logging</a></p>\n"}],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14879,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":63251296,"answer_count":2,"score":22,"last_activity_date":1696756843,"creation_date":1596558356,"question_id":63251142,"body_markdown":"The Spring Boot reference documentation [4.6. Custom Log Configuration][1] states about the default system properties representing a default logging pattern to use on the console (only supported with the default Logback setup).\r\n\r\n- Spring Environment: `logging.pattern.console`\r\n- System Property: `CONSOLE_LOG_PATTERN`\r\n\r\nI guess the default log line look is familiar for all the Spring Boot framework users:\r\n\r\n    2020-08-04 12:00:00.000  INFO 24568 --- [           main] c.c.MyWonderfulSpringApplication          : The following profiles are active: local\r\nAs long as I want to take look on how it looks and get inspired for defining my own one, where can I find this default value for a currently used version of Spring Boot?\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-log-configuration","title":"What is default CONSOLE_LOG_PATTERN used for Spring Boot logging and where to find it?","body":"<p>The Spring Boot reference documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-custom-log-configuration\" rel=\"noreferrer\">4.6. Custom Log Configuration</a> states about the default system properties representing a default logging pattern to use on the console (only supported with the default Logback setup).</p>\n<ul>\n<li>Spring Environment: <code>logging.pattern.console</code></li>\n<li>System Property: <code>CONSOLE_LOG_PATTERN</code></li>\n</ul>\n<p>I guess the default log line look is familiar for all the Spring Boot framework users:</p>\n<pre><code>2020-08-04 12:00:00.000  INFO 24568 --- [           main] c.c.MyWonderfulSpringApplication          : The following profiles are active: local\n</code></pre>\n<p>As long as I want to take look on how it looks and get inspired for defining my own one, where can I find this default value for a currently used version of Spring Boot?</p>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696749053,"post_id":77252593,"comment_id":136191362,"body_markdown":"Only one RadioButton can be checked.   So what is it that you want to &#39;add up&#39; and &#39;display&#39;?","body":"Only one RadioButton can be checked.   So what is it that you want to &#39;add up&#39; and &#39;display&#39;?"},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696755152,"post_id":77252593,"comment_id":136191869,"body_markdown":"@blackapps if I understood correctly, OP wants to sum the tag values of each selected RadioButton","body":"@blackapps if I understood correctly, OP wants to sum the tag values of each selected RadioButton"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696757862,"post_id":77252593,"comment_id":136192072,"body_markdown":"@marcinj, yes but only one can be checked/selected so there is nothing to sum or add.","body":"@marcinj, yes but only one can be checked/selected so there is nothing to sum or add."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696758008,"post_id":77252593,"comment_id":136192092,"body_markdown":"Sum = tags of selected radiobuttons from all fragments","body":"Sum = tags of selected radiobuttons from all fragments"}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696755090,"creation_date":1696755090,"answer_id":77252927,"question_id":77252593,"body_markdown":"One solution is to make your `Q5Fragment` `btnSubmit` handler call some method in `Activity` derived class which will do the summing and then opening result activity. So your submit handler would look something like:\r\n\r\n    btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    ((QuestionAware)getActivity()).submitQuestions();\r\n                }\r\n            });\r\n\r\n\r\nThis requires you to declare an Inteface:\r\n\r\n     interface QuestionAware {\r\n       void submitQuestions();\r\n     } \r\n\r\n and then implement it in your Activity which holds your fragments.\r\n\r\n Now, in `submitQuestions` of your Activtiy you will get all the values from your fragments. To do it, make each fragment have a method returning its value:\r\n\r\n \r\n\r\n    public int getSelectedValue() {\r\n        int selectedValue = 0;\r\n        for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\r\n            RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\r\n            if (radioButton.isChecked()) {\r\n                selectedValue = Integer.parseInt(radioButton.getTag().toString());\r\n            }\r\n        }\r\n        return selectedValue;\r\n    }\r\n\r\n\r\nThen in `submitQuestions` summ those values and open new activity:\r\n\r\n    int total = fragment1.getSelectedValue() + fragment2.getSelectedValue() + fragment3.getSelectedValue() + fragment4.getSelectedValue() + fragment5.getSelectedValue();\r\n    \r\n    Intent intent = new Intent(this, ResultActivity.class);\r\n    intent.putExtra(&quot;totalValue&quot;, total);\r\n    startActivity(intent);","title":"How to add radio buttons from different fragments","body":"<p>One solution is to make your <code>Q5Fragment</code> <code>btnSubmit</code> handler call some method in <code>Activity</code> derived class which will do the summing and then opening result activity. So your submit handler would look something like:</p>\n<pre><code>btnSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ((QuestionAware)getActivity()).submitQuestions();\n            }\n        });\n</code></pre>\n<p>This requires you to declare an Inteface:</p>\n<pre><code> interface QuestionAware {\n   void submitQuestions();\n } \n</code></pre>\n<p>and then implement it in your Activity which holds your fragments.</p>\n<p>Now, in <code>submitQuestions</code> of your Activtiy you will get all the values from your fragments. To do it, make each fragment have a method returning its value:</p>\n<pre><code>public int getSelectedValue() {\n    int selectedValue = 0;\n    for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\n        RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\n        if (radioButton.isChecked()) {\n            selectedValue = Integer.parseInt(radioButton.getTag().toString());\n        }\n    }\n    return selectedValue;\n}\n</code></pre>\n<p>Then in <code>submitQuestions</code> summ those values and open new activity:</p>\n<pre><code>int total = fragment1.getSelectedValue() + fragment2.getSelectedValue() + fragment3.getSelectedValue() + fragment4.getSelectedValue() + fragment5.getSelectedValue();\n\nIntent intent = new Intent(this, ResultActivity.class);\nintent.putExtra(&quot;totalValue&quot;, total);\nstartActivity(intent);\n</code></pre>\n"}],"owner":{"account_id":25028120,"reputation":1,"user_id":18886149,"display_name":"kasim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696755090,"creation_date":1696747482,"question_id":77252593,"body_markdown":"I have 5 question. Each fragment has a question with 4 radio buttons. Each radio button has a tag between 1-4. In the 5 fragment it has a submit button and all the radio buttons should add up and display on a total on a new activity. However, whenever I click submit the total number is always 5 (the fragments 1-4 don&#39;t add up. What do I need to add on fragments 1-4 so the values can add and display on total. \r\n\r\n[image](https://i.stack.imgur.com/LaowT.jpg)\r\n\r\n```java\r\npackage com.example.act.Fragments;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.example.act.R;\r\nimport com.example.act.ResultActivity;\r\n\r\npublic class Q5Fragment extends Fragment {\r\n\r\n    private RadioGroup radioGroup;\r\n    private Button btnSubmit;\r\n    private int total = 0; // Initialize total to 0\r\n\r\n    public Q5Fragment() {\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_q5, container, false);\r\n\r\n        radioGroup = view.findViewById(R.id.radioGroup);\r\n        btnSubmit = view.findViewById(R.id.btnSubmit);\r\n\r\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\r\n                    RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\r\n                    if (radioButton.isChecked()) {\r\n                        int selectedValue = Integer.parseInt(radioButton.getTag().toString());\r\n                        total += selectedValue;\r\n                    }\r\n                }\r\n\r\n                Intent intent = new Intent(getActivity(), ResultActivity.class);\r\n                intent.putExtra(&quot;totalValue&quot;, total);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    public void receiveFragmentValue(int selectedValue) {\r\n        total += selectedValue;\r\n    }\r\n}\r\n```","title":"How to add radio buttons from different fragments","body":"<p>I have 5 question. Each fragment has a question with 4 radio buttons. Each radio button has a tag between 1-4. In the 5 fragment it has a submit button and all the radio buttons should add up and display on a total on a new activity. However, whenever I click submit the total number is always 5 (the fragments 1-4 don't add up. What do I need to add on fragments 1-4 so the values can add and display on total.</p>\n<p><a href=\"https://i.stack.imgur.com/LaowT.jpg\" rel=\"nofollow noreferrer\">image</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.act.Fragments;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.Toast;\n\nimport androidx.fragment.app.Fragment;\n\nimport com.example.act.R;\nimport com.example.act.ResultActivity;\n\npublic class Q5Fragment extends Fragment {\n\n    private RadioGroup radioGroup;\n    private Button btnSubmit;\n    private int total = 0; // Initialize total to 0\n\n    public Q5Fragment() {\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_q5, container, false);\n\n        radioGroup = view.findViewById(R.id.radioGroup);\n        btnSubmit = view.findViewById(R.id.btnSubmit);\n\n        btnSubmit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                for (int i = 0; i &lt; radioGroup.getChildCount(); i++) {\n                    RadioButton radioButton = (RadioButton) radioGroup.getChildAt(i);\n                    if (radioButton.isChecked()) {\n                        int selectedValue = Integer.parseInt(radioButton.getTag().toString());\n                        total += selectedValue;\n                    }\n                }\n\n                Intent intent = new Intent(getActivity(), ResultActivity.class);\n                intent.putExtra(&quot;totalValue&quot;, total);\n                startActivity(intent);\n            }\n        });\n        return view;\n    }\n\n    public void receiveFragmentValue(int selectedValue) {\n        total += selectedValue;\n    }\n}\n</code></pre>\n"},{"tags":["java","compiler-errors"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":45,"is_accepted":true,"score":43,"last_activity_date":1696754231,"creation_date":1533123004,"answer_id":51632153,"question_id":51632152,"body_markdown":"First of all, this is a compilation error.  If you ever see it in an exception message at runtime, it is because you have have run a program with compilation errors&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThe general form of the message is this:\r\n\r\n&gt;  &quot;incompatible types: possible lossy conversion from *`&lt;type1&gt;`* to *`&lt;type2&gt;`*&quot;\r\n\r\nwhere *`&lt;type1&gt;`* and *`&lt;type2&gt;`* are both primitive numeric types; i.e. one of `byte`, `char`, `short`, `int`, `long`, `float` or `double`.\r\n\r\nThis error happens when your code attempts to do an *implicit* conversion from *`&lt;type1&gt;`* to *`&lt;type2&gt;`* but the conversion could be *lossy*.\r\n\r\nIn the example in the question:\r\n\r\n      int squareRoot = Math.sqrt(i);\r\n\r\nthe `sqrt` method produces a `double`, but a conversion from `double` to `int` is potentially lossy.\r\n\r\nWhat does &quot;potentially lossy&quot; mean?\r\n-----------------------\r\n\r\nWell lets look at a couple of examples.\r\n\r\n 1.  A conversion of a `long` to an `int` is a potentially lossy conversion because there are `long` values that do not have a corresponding `int` value.   For example, any `long` value that is greater than 2^31 - 1 is too large to be represented as an `int`.  Similarly, any number less than -2^31 is too small.\r\n\r\n 2.  A conversion of an `int` to a `long` is NOT lossy conversion because every `int` value has a corresponding `long` value.\r\n\r\n 3.  A conversion of a `float` to an `long` is a potentially lossy conversion because there `float` values that are outside of the range that can be represented as `long` values.  Such numbers are (lossily) convert into `Long.MAX_VALUE` or `Long.MIN_VALUE`, as are NaN and Inf values.\r\n\r\n 4.  A conversion of an `long` to a `float` is NOT lossy conversion because every `long` value has a corresponding `float` value.  (The converted value may be less precise, but &quot;lossiness&quot; doesn&#39;t mean that ... in this context.)\r\n\r\nThese are all the conversions that are potentially lossy:\r\n\r\n  - `short` to `byte` or `char`\r\n  - `char` to `byte` or `short`\r\n  - `int` to `byte`, `short` or `char`\r\n  - `long` to `byte`, `short`, `char` or `int`\r\n  - `float` to `byte`, `short`, `char`, `int` or `long`\r\n  - `double` to `byte`, `short`, `char`, `int`, `long` or `float`.\r\n\r\nHow do you fix the error?\r\n-------------------------\r\n\r\nThe way to make the compilation error go away is to add a typecast.  For example;\r\n\r\n      int i = 47;\r\n      int squareRoot = Math.sqrt(i);         // compilation error!\r\n\r\nbecomes \r\n\r\n      int i = 47;\r\n      int squareRoot = (int) Math.sqrt(i);   // no compilation error\r\n\r\nBut is that really a fix?  Consider that the square root of `47` is `6.8556546004` ... but `squareRoot` will get the value `6`.  (The conversion will truncate, not round.)\r\n\r\nAnd what about this?\r\n\r\n      byte b = (int) 512;\r\n\r\nThat results in `b` getting the value `0`. Converting from a larger int type to a smaller int type is done by masking out the high order bits, and the low-order 8 bits of `512` are all zero.\r\n\r\nIn short, you should not simply add a typecast, because it might not do the correct thing *for your application*.  \r\n\r\nInstead, you need to understand why your code needs to do a conversion:\r\n\r\n  - Is this happening because you have made some other mistake in your code?\r\n  - Should the *`&lt;type1&gt;`* be a different type, so that a lossy conversion isn&#39;t needed here?\r\n  - If a conversion is necessary, is the *silent* lossy conversion that the typecast will do the correct behavior?  \r\n  - Or should your code be rounding instead of truncating, or doing some range checks and dealing with incorrect / unexpected values by throwing an exception?\r\n\r\n&quot;Possible lossy conversion&quot; when subscripting.\r\n----------------\r\n\r\nFirst example:\r\n\r\n    for (double d = 0; d &lt; 10.0; d += 1.0) {\r\n        System.out.println(array[d]);  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nThe problem here is that array index value must be `int`.  So `d` has to be converted from `double` to `int`.  In general, using a floating point value as an index doesn&#39;t make sense.  Either someone is under the impression that Java arrays work like (say) Python dictionaries, or they have overlooked the fact that floating-point arithmetic is often inexact.\r\n\r\nThe solution is to rewrite the code to avoid using a floating point value as an array index.  (Adding a type cast is probably an incorrect solution.)\r\n\r\nSecond example:\r\n\r\n    for (long l = 0; l &lt; 10; l++) {\r\n        System.out.println(array[l]);  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nThis is a variation of the previous problem, and the solution is the same.  The difference is that the root cause is that Java arrays are limited to 32 bit indexes.  If you want an &quot;array like&quot; data structure which has more than 2&lt;sup&gt;31&lt;/sup&gt; - 1 elements, you need to define or find a class to do it.\r\n\r\n&quot;Possible lossy conversion&quot; in method or constructor calls\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    public class User {\r\n        String name;\r\n        short age;\r\n        int height;\r\n    \r\n        public User(String name, short age, int height) {\r\n    \t    this.name = name;\r\n    \t    this.age = age;\r\n    \t    this.height = height;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \t    User user1 = new User(&quot;Dan&quot;, 20, 190);\r\n        }\r\n    }\r\n\r\nCompiling the above with Java 11 gives the following:\r\n\r\n    $ javac -Xdiags:verbose User.java \r\n    User.java:20: error: constructor User in class User cannot be applied to given types;\r\n    \tUser user1 = new User(&quot;Dan&quot;, 20, 190);\r\n    \t             ^\r\n      required: String,short,int\r\n      found: String,int,int\r\n      reason: argument mismatch; possible lossy conversion from int to short\r\n    1 error\r\n\r\nThe problem is that the literal `20` is an `int`, and the corresponding parameter in the constructor is declared as a `short`.  Converting an `int` to a `short` is lossy.\r\n\r\n&quot;Possible lossy conversion&quot; in a return statement.\r\n----------------\r\n\r\nExample:\r\n\r\n    public int compute() {\r\n        long result = 42L;\r\n        return result;  // &lt;&lt;-- possible lossy conversion\r\n    }\r\n\r\nA `return` (with a value / expression) could be thought of an an &quot;assignment to the return value&quot;.  But no matter how you think about it, it is necessary to convert the value supplied to the actual return type of the method.  Possible solutions are adding a typecast (which says &quot;I acknowledge the lossy-ness&quot;) or changing the method&#39;s return type.\r\n\r\n&quot;Possible lossy conversion&quot; due to promotion in expressions\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    byte b1 = 0x01;\r\n    byte mask = 0x0f;\r\n    byte result = b1 &amp; mask;  // &lt;&lt;-- possible lossy conversion\r\n\r\nThis will tell you that you that there is a &quot;possible lossy conversion from int to byte&quot;.  This is actually a variation of the first example.  The potentially confusing thing is understanding where the `int` comes from.  \r\n\r\nThe answer to that is it comes from the `&amp;` operator.  In fact all of the arithmetic and bitwise operators for integer types will produce an `int` or `long`, depending on the operands.  So in the above example, `b1 &amp; mask` is actually producing an `int`, but we are trying to assign that to a `byte`.  \r\n\r\nTo fix this example we must type-cast the expression result back to a `byte` before assigning it.\r\n\r\n    byte result = (byte) (b1 &amp; mask); \r\n\r\n\r\n&quot;Possible lossy conversion&quot; when assigning literals\r\n-----------------\r\n\r\nConsider this:\r\n\r\n    int a = 21;\r\n    byte b1 = a;   // &lt;&lt;-- possible lossy conversion\r\n    byte b2 = 21;  // OK\r\n\r\nWhat is going on?   Why is one version allowed but the other one isn&#39;t?  (After all they &quot;do&quot; the same thing!)\r\n\r\nFirst of all, the JLS states that `21` is an numeric literal whose type is `int`.  (There are no `byte` or `short` literals.)  So in both cases we are assigning an `int` to a `byte`.  \r\n\r\nIn the first case, the reason for the error is that not all `int` values will fit into a `byte`.\r\n\r\nIn the second case, the compiler knows that `21` is a value that will always fit into a `byte`.\r\n\r\nThe technical explanation is that in an *assignment context*, it is permissible to perform a *primitive narrowing conversion* to a `byte`, `char` or `short` if the following are all true:\r\n\r\n  - The value is the result of a compile time *constant expression* (which includes literals).\r\n  - The type of the expression is `byte`, `short`, `char` or `int`.\r\n  - The constant value being assigned is representable (without loss) in the domain of the &quot;target&quot; type.\r\n\r\nNote that this only applies with assignment statements, or more technically in *assignment contexts*. Thus:\r\n\r\n    Byte b4 = new Byte(21);  // incorrect\r\n\r\ngives a compilation error.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - For instance, the Eclipse IDE has an option which allows you to ignore compilation errors and run the code anyway.  If you select this, the IDE&#39;s compiler will create a `.class` file where the method with the error will throw an unchecked exception if it is called.  The exception message will mention the compilation error message.&lt;/sup&gt;","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>First of all, this is a compilation error.  If you ever see it in an exception message at runtime, it is because you have have run a program with compilation errors<sup>1</sup>.</p>\n<p>The general form of the message is this:</p>\n<blockquote>\n<p>&quot;incompatible types: possible lossy conversion from <em><code>&lt;type1&gt;</code></em> to <em><code>&lt;type2&gt;</code></em>&quot;</p>\n</blockquote>\n<p>where <em><code>&lt;type1&gt;</code></em> and <em><code>&lt;type2&gt;</code></em> are both primitive numeric types; i.e. one of <code>byte</code>, <code>char</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code> or <code>double</code>.</p>\n<p>This error happens when your code attempts to do an <em>implicit</em> conversion from <em><code>&lt;type1&gt;</code></em> to <em><code>&lt;type2&gt;</code></em> but the conversion could be <em>lossy</em>.</p>\n<p>In the example in the question:</p>\n<pre><code>  int squareRoot = Math.sqrt(i);\n</code></pre>\n<p>the <code>sqrt</code> method produces a <code>double</code>, but a conversion from <code>double</code> to <code>int</code> is potentially lossy.</p>\n<h2>What does &quot;potentially lossy&quot; mean?</h2>\n<p>Well lets look at a couple of examples.</p>\n<ol>\n<li><p>A conversion of a <code>long</code> to an <code>int</code> is a potentially lossy conversion because there are <code>long</code> values that do not have a corresponding <code>int</code> value.   For example, any <code>long</code> value that is greater than 2^31 - 1 is too large to be represented as an <code>int</code>.  Similarly, any number less than -2^31 is too small.</p>\n</li>\n<li><p>A conversion of an <code>int</code> to a <code>long</code> is NOT lossy conversion because every <code>int</code> value has a corresponding <code>long</code> value.</p>\n</li>\n<li><p>A conversion of a <code>float</code> to an <code>long</code> is a potentially lossy conversion because there <code>float</code> values that are outside of the range that can be represented as <code>long</code> values.  Such numbers are (lossily) convert into <code>Long.MAX_VALUE</code> or <code>Long.MIN_VALUE</code>, as are NaN and Inf values.</p>\n</li>\n<li><p>A conversion of an <code>long</code> to a <code>float</code> is NOT lossy conversion because every <code>long</code> value has a corresponding <code>float</code> value.  (The converted value may be less precise, but &quot;lossiness&quot; doesn't mean that ... in this context.)</p>\n</li>\n</ol>\n<p>These are all the conversions that are potentially lossy:</p>\n<ul>\n<li><code>short</code> to <code>byte</code> or <code>char</code></li>\n<li><code>char</code> to <code>byte</code> or <code>short</code></li>\n<li><code>int</code> to <code>byte</code>, <code>short</code> or <code>char</code></li>\n<li><code>long</code> to <code>byte</code>, <code>short</code>, <code>char</code> or <code>int</code></li>\n<li><code>float</code> to <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code> or <code>long</code></li>\n<li><code>double</code> to <code>byte</code>, <code>short</code>, <code>char</code>, <code>int</code>, <code>long</code> or <code>float</code>.</li>\n</ul>\n<h2>How do you fix the error?</h2>\n<p>The way to make the compilation error go away is to add a typecast.  For example;</p>\n<pre><code>  int i = 47;\n  int squareRoot = Math.sqrt(i);         // compilation error!\n</code></pre>\n<p>becomes</p>\n<pre><code>  int i = 47;\n  int squareRoot = (int) Math.sqrt(i);   // no compilation error\n</code></pre>\n<p>But is that really a fix?  Consider that the square root of <code>47</code> is <code>6.8556546004</code> ... but <code>squareRoot</code> will get the value <code>6</code>.  (The conversion will truncate, not round.)</p>\n<p>And what about this?</p>\n<pre><code>  byte b = (int) 512;\n</code></pre>\n<p>That results in <code>b</code> getting the value <code>0</code>. Converting from a larger int type to a smaller int type is done by masking out the high order bits, and the low-order 8 bits of <code>512</code> are all zero.</p>\n<p>In short, you should not simply add a typecast, because it might not do the correct thing <em>for your application</em>.</p>\n<p>Instead, you need to understand why your code needs to do a conversion:</p>\n<ul>\n<li>Is this happening because you have made some other mistake in your code?</li>\n<li>Should the <em><code>&lt;type1&gt;</code></em> be a different type, so that a lossy conversion isn't needed here?</li>\n<li>If a conversion is necessary, is the <em>silent</em> lossy conversion that the typecast will do the correct behavior?</li>\n<li>Or should your code be rounding instead of truncating, or doing some range checks and dealing with incorrect / unexpected values by throwing an exception?</li>\n</ul>\n<h2>&quot;Possible lossy conversion&quot; when subscripting.</h2>\n<p>First example:</p>\n<pre><code>for (double d = 0; d &lt; 10.0; d += 1.0) {\n    System.out.println(array[d]);  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>The problem here is that array index value must be <code>int</code>.  So <code>d</code> has to be converted from <code>double</code> to <code>int</code>.  In general, using a floating point value as an index doesn't make sense.  Either someone is under the impression that Java arrays work like (say) Python dictionaries, or they have overlooked the fact that floating-point arithmetic is often inexact.</p>\n<p>The solution is to rewrite the code to avoid using a floating point value as an array index.  (Adding a type cast is probably an incorrect solution.)</p>\n<p>Second example:</p>\n<pre><code>for (long l = 0; l &lt; 10; l++) {\n    System.out.println(array[l]);  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>This is a variation of the previous problem, and the solution is the same.  The difference is that the root cause is that Java arrays are limited to 32 bit indexes.  If you want an &quot;array like&quot; data structure which has more than 2<sup>31</sup> - 1 elements, you need to define or find a class to do it.</p>\n<h2>&quot;Possible lossy conversion&quot; in method or constructor calls</h2>\n<p>Consider this:</p>\n<pre><code>public class User {\n    String name;\n    short age;\n    int height;\n\n    public User(String name, short age, int height) {\n        this.name = name;\n        this.age = age;\n        this.height = height;\n    }\n\n    public static void main(String[] args) {\n        User user1 = new User(&quot;Dan&quot;, 20, 190);\n    }\n}\n</code></pre>\n<p>Compiling the above with Java 11 gives the following:</p>\n<pre><code>$ javac -Xdiags:verbose User.java \nUser.java:20: error: constructor User in class User cannot be applied to given types;\n    User user1 = new User(&quot;Dan&quot;, 20, 190);\n                 ^\n  required: String,short,int\n  found: String,int,int\n  reason: argument mismatch; possible lossy conversion from int to short\n1 error\n</code></pre>\n<p>The problem is that the literal <code>20</code> is an <code>int</code>, and the corresponding parameter in the constructor is declared as a <code>short</code>.  Converting an <code>int</code> to a <code>short</code> is lossy.</p>\n<h2>&quot;Possible lossy conversion&quot; in a return statement.</h2>\n<p>Example:</p>\n<pre><code>public int compute() {\n    long result = 42L;\n    return result;  // &lt;&lt;-- possible lossy conversion\n}\n</code></pre>\n<p>A <code>return</code> (with a value / expression) could be thought of an an &quot;assignment to the return value&quot;.  But no matter how you think about it, it is necessary to convert the value supplied to the actual return type of the method.  Possible solutions are adding a typecast (which says &quot;I acknowledge the lossy-ness&quot;) or changing the method's return type.</p>\n<h2>&quot;Possible lossy conversion&quot; due to promotion in expressions</h2>\n<p>Consider this:</p>\n<pre><code>byte b1 = 0x01;\nbyte mask = 0x0f;\nbyte result = b1 &amp; mask;  // &lt;&lt;-- possible lossy conversion\n</code></pre>\n<p>This will tell you that you that there is a &quot;possible lossy conversion from int to byte&quot;.  This is actually a variation of the first example.  The potentially confusing thing is understanding where the <code>int</code> comes from.</p>\n<p>The answer to that is it comes from the <code>&amp;</code> operator.  In fact all of the arithmetic and bitwise operators for integer types will produce an <code>int</code> or <code>long</code>, depending on the operands.  So in the above example, <code>b1 &amp; mask</code> is actually producing an <code>int</code>, but we are trying to assign that to a <code>byte</code>.</p>\n<p>To fix this example we must type-cast the expression result back to a <code>byte</code> before assigning it.</p>\n<pre><code>byte result = (byte) (b1 &amp; mask); \n</code></pre>\n<h2>&quot;Possible lossy conversion&quot; when assigning literals</h2>\n<p>Consider this:</p>\n<pre><code>int a = 21;\nbyte b1 = a;   // &lt;&lt;-- possible lossy conversion\nbyte b2 = 21;  // OK\n</code></pre>\n<p>What is going on?   Why is one version allowed but the other one isn't?  (After all they &quot;do&quot; the same thing!)</p>\n<p>First of all, the JLS states that <code>21</code> is an numeric literal whose type is <code>int</code>.  (There are no <code>byte</code> or <code>short</code> literals.)  So in both cases we are assigning an <code>int</code> to a <code>byte</code>.</p>\n<p>In the first case, the reason for the error is that not all <code>int</code> values will fit into a <code>byte</code>.</p>\n<p>In the second case, the compiler knows that <code>21</code> is a value that will always fit into a <code>byte</code>.</p>\n<p>The technical explanation is that in an <em>assignment context</em>, it is permissible to perform a <em>primitive narrowing conversion</em> to a <code>byte</code>, <code>char</code> or <code>short</code> if the following are all true:</p>\n<ul>\n<li>The value is the result of a compile time <em>constant expression</em> (which includes literals).</li>\n<li>The type of the expression is <code>byte</code>, <code>short</code>, <code>char</code> or <code>int</code>.</li>\n<li>The constant value being assigned is representable (without loss) in the domain of the &quot;target&quot; type.</li>\n</ul>\n<p>Note that this only applies with assignment statements, or more technically in <em>assignment contexts</em>. Thus:</p>\n<pre><code>Byte b4 = new Byte(21);  // incorrect\n</code></pre>\n<p>gives a compilation error.</p>\n<hr />\n<p><sup>1 - For instance, the Eclipse IDE has an option which allows you to ignore compilation errors and run the code anyway.  If you select this, the IDE's compiler will create a <code>.class</code> file where the method with the error will throw an unchecked exception if it is called.  The exception message will mention the compilation error message.</sup></p>\n"},{"tags":[],"owner":{"account_id":2872126,"reputation":454,"user_id":2618784,"display_name":"Christopher Yeleighton"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678460048,"creation_date":1678386300,"answer_id":75688638,"question_id":51632152,"body_markdown":"Compare `BigDecimal .valueOf (Math .sqrt(2)) .intValueExact ()` and `.intValue ()`.  Use `intValueExact` if the argument is supposed to be an integer.  Use the latter if truncating is OK for you or if it provably an a integer (as in `Math .sqrt (Math .multiplyExact (i, i))`)&amp;mdash;in the latter case you may want to `assert r * r == i` (`r` stands for your `squareRoot`).\r\n\r\nUnfortunately, there is no `.charValueExact`.\r\n\r\nSee also [JDK-8279986][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8279986","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>Compare <code>BigDecimal .valueOf (Math .sqrt(2)) .intValueExact ()</code> and <code>.intValue ()</code>.  Use <code>intValueExact</code> if the argument is supposed to be an integer.  Use the latter if truncating is OK for you or if it provably an a integer (as in <code>Math .sqrt (Math .multiplyExact (i, i))</code>)—in the latter case you may want to <code>assert r * r == i</code> (<code>r</code> stands for your <code>squareRoot</code>).</p>\n<p>Unfortunately, there is no <code>.charValueExact</code>.</p>\n<p>See also <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8279986\" rel=\"nofollow noreferrer\">JDK-8279986</a></p>\n"}],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23191,"favorite_count":0,"down_vote_count":8,"up_vote_count":35,"accepted_answer_id":51632153,"answer_count":2,"score":27,"last_activity_date":1696754231,"creation_date":1533123004,"question_id":51632152,"body_markdown":"New Java programmers are often confused by compilation error messages like:\r\n\r\n&gt; &quot;incompatible types: possible lossy conversion from double to int&quot;\r\n\r\nfor this line of code:\r\n\r\n    int squareRoot = Math.sqrt(i);\r\n\r\nIn general, what does the &quot;possible lossy conversion&quot; error message mean, and how do you fix it?","title":"What does &quot;possible lossy conversion&quot; mean and how do I fix it?","body":"<p>New Java programmers are often confused by compilation error messages like:</p>\n\n<blockquote>\n  <p>\"incompatible types: possible lossy conversion from double to int\"</p>\n</blockquote>\n\n<p>for this line of code:</p>\n\n<pre><code>int squareRoot = Math.sqrt(i);\n</code></pre>\n\n<p>In general, what does the \"possible lossy conversion\" error message mean, and how do you fix it?</p>\n"},{"tags":["java","oop","polymorphism"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696751604,"post_id":77252752,"comment_id":136191574,"body_markdown":"So what exactly is your question?","body":"So what exactly is your question?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696776288,"post_id":77252752,"comment_id":136193765,"body_markdown":"There are plenty of examples in [java.lang](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html#class-summary).","body":"There are plenty of examples in <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/package-summary.html#class-summary\" rel=\"nofollow noreferrer\">java.lang</a>."}],"answers":[{"tags":[],"owner":{"account_id":17069028,"reputation":94,"user_id":12350325,"display_name":"bahman karami"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1696751997,"creation_date":1696751997,"answer_id":77252777,"question_id":77252752,"body_markdown":"You are correct, it is not mandatory for a subclass to override all the methods from the superclass. It is optional and depends on the design and functionality of the subclass. Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass, but it does not force it to do so. If a subclass does not override a method, it will inherit and use the implementation from the superclass by default.\r\n\r\nFor example, suppose we have a superclass called Animal that has a method called makeSound() that prints &quot;The animal makes a sound&quot;. We can create a subclass called Dog that overrides this method and prints &quot;The dog barks&quot;. We can also create another subclass called Cat that does not override this method and inherits it from Animal. If we create objects of these subclasses and call their makeSound() methods, we will get different outputs:\r\n\r\n    // Create an object of Dog class\r\n    Dog dog = new Dog();\r\n    \r\n    // Call the makeSound() method of Dog class\r\n    dog.makeSound(); // The dog barks\r\n    \r\n    // Create an object of Cat class\r\n    Cat cat = new Cat();\r\n    \r\n    // Call the makeSound() method of Cat class\r\n    cat.makeSound(); // The animal makes a sound\r\n\r\nAs you can see, the Dog class provides a specific implementation for the makeSound() method, while the Cat class uses the general implementation from the Animal class. This is an example of polymorphism and inheritance in Java.","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>You are correct, it is not mandatory for a subclass to override all the methods from the superclass. It is optional and depends on the design and functionality of the subclass. Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass, but it does not force it to do so. If a subclass does not override a method, it will inherit and use the implementation from the superclass by default.</p>\n<p>For example, suppose we have a superclass called Animal that has a method called makeSound() that prints &quot;The animal makes a sound&quot;. We can create a subclass called Dog that overrides this method and prints &quot;The dog barks&quot;. We can also create another subclass called Cat that does not override this method and inherits it from Animal. If we create objects of these subclasses and call their makeSound() methods, we will get different outputs:</p>\n<pre><code>// Create an object of Dog class\nDog dog = new Dog();\n\n// Call the makeSound() method of Dog class\ndog.makeSound(); // The dog barks\n\n// Create an object of Cat class\nCat cat = new Cat();\n\n// Call the makeSound() method of Cat class\ncat.makeSound(); // The animal makes a sound\n</code></pre>\n<p>As you can see, the Dog class provides a specific implementation for the makeSound() method, while the Cat class uses the general implementation from the Animal class. This is an example of polymorphism and inheritance in Java.</p>\n"},{"tags":[],"owner":{"account_id":43160,"reputation":227380,"user_id":126014,"accept_rate":86,"display_name":"Mark Seemann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696752542,"creation_date":1696752542,"answer_id":77252799,"question_id":77252752,"body_markdown":"This is language-specific. In Java, methods are &#39;overridable&#39; by default, so unless declared otherwise, a child class can override all methods.\r\n\r\nYou can, however, declare methods final, in which case [they can&#39;t be overwritten by a child class][1].\r\n\r\nOther languages work differently. In C#, for example, you have to explicitly declare a method with the [virtual][2] keyword. Unless you do so, a child class can&#39;t override it.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/final.html\r\n  [2]: https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/virtual","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>This is language-specific. In Java, methods are 'overridable' by default, so unless declared otherwise, a child class can override all methods.</p>\n<p>You can, however, declare methods final, in which case <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/final.html\" rel=\"nofollow noreferrer\">they can't be overwritten by a child class</a>.</p>\n<p>Other languages work differently. In C#, for example, you have to explicitly declare a method with the <a href=\"https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/virtual\" rel=\"nofollow noreferrer\">virtual</a> keyword. Unless you do so, a child class can't override it.</p>\n"}],"owner":{"account_id":25486642,"reputation":3,"user_id":19282149,"display_name":"New Bee Beginner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696752752,"creation_date":1696751456,"question_id":77252752,"body_markdown":"Please explain this with an example.!\r\n\r\n\r\nIt is not mandatory for a subclass to be overriding all the methods from the superclass. \r\nIt provides the option to override methods, but it&#39;s not a requirement.\r\n\r\nPolymorphism allows a subclass to provide a specific implementation for a method defined in its superclass. This means that you can have a method in a superclass that is not overridden in a subclass. In such cases, the subclass will inherit and use the implementation from the superclass.\r\nPlease correct me if I am wrong!","title":"Does polymorphism allow to override all the methods of its superclass in subclass?","body":"<p>Please explain this with an example.!</p>\n<p>It is not mandatory for a subclass to be overriding all the methods from the superclass.\nIt provides the option to override methods, but it's not a requirement.</p>\n<p>Polymorphism allows a subclass to provide a specific implementation for a method defined in its superclass. This means that you can have a method in a superclass that is not overridden in a subclass. In such cases, the subclass will inherit and use the implementation from the superclass.\nPlease correct me if I am wrong!</p>\n"},{"tags":["java","sockets","stream"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1696754107,"post_id":77252766,"comment_id":136191755,"body_markdown":"Are you using both PrintWriter and ObjectOutputStream on the same socket? If yes - then this might be the cause of your exception. I suggest using only ObjectOutputStream/ObjectInputStream.","body":"Are you using both PrintWriter and ObjectOutputStream on the same socket? If yes - then this might be the cause of your exception. I suggest using only ObjectOutputStream/ObjectInputStream."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1696754988,"post_id":77252766,"comment_id":136191854,"body_markdown":"The problem is a mismatch between the classes used to write and then read the object for one of the objects that you are serializing.  One possibility is that fields were added or removed (and the serial_version_id as not changed).  Another is that the class has declared custom `readObject` and `writeObject` methods and they do not match.  Tracking this down may entail careful examination of the respective class source code; i.e. of the `ParticipantWorkState` class and its component classes.","body":"The problem is a mismatch between the classes used to write and then read the object for one of the objects that you are serializing.  One possibility is that fields were added or removed (and the serial_version_id as not changed).  Another is that the class has declared custom <code>readObject</code> and <code>writeObject</code> methods and they do not match.  Tracking this down may entail careful examination of the respective class source code; i.e. of the <code>ParticipantWorkState</code> class and its component classes."},{"owner":{"account_id":21252226,"reputation":9,"user_id":15634317,"display_name":"Egg"},"score":0,"creation_date":1696770527,"post_id":77252766,"comment_id":136193242,"body_markdown":"@marcinj thanks for your suggestion. I will try to use only one type of stream, and see if that works!","body":"@marcinj thanks for your suggestion. I will try to use only one type of stream, and see if that works!"}],"owner":{"account_id":21252226,"reputation":9,"user_id":15634317,"display_name":"Egg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696754369,"answer_count":0,"score":0,"last_activity_date":1696752006,"creation_date":1696751717,"question_id":77252766,"body_markdown":"I am writing a serversocket program, and i am trying to pass objects (in this case: ParticipantWorkState) into ObjectOutputStream and read it via an ObjectInputStream. The ParticipantWorkState class implements Serializable.\r\n\r\nWhen I try to gather the objects from all the connected clients, it throws the java.io.OptionalDataException exception. What am I doing wrong?\r\n\r\n\r\n\r\nI am receiving the objects like this:\r\n```\r\nprivate ArrayList&lt;ConnectionHandler&gt; connections = new ArrayList&lt;&gt;();\r\n\r\npublic HashMap&lt;Integer, ParticipantWorkState&gt; gatherRequestedWork() {\r\n\tbroadcast(Protocol.RequestWork);    // Messages the client that they need to send the object\r\n\tHashMap&lt;Integer, ParticipantWorkState&gt; pwsList = new HashMap&lt;&gt;();\r\n\t\r\n\tfor (ConnectionHandler c : connections) {\r\n\t\tParticipantWorkState pws = (ParticipantWorkState) c.receiveObject();\r\n\t\tpwsList.put(c.ID, pws);\r\n\t}\r\n\t\r\n\treturn pwsList;\r\n}\r\n\r\npublic void broadcast(String msg) {\r\n\tfor (ConnectionHandler ch : connections) {\r\n\t\tch.sendMessage(msg);\r\n\t}\r\n}\r\n\r\n[...]\r\n\r\nclass ConnectionHandler implements Runnable {\r\n\tprivate BufferedReader strIn;\r\n\tprivate PrintWriter strOut;\r\n\tprivate ObjectInputStream objIn;\r\n\tprivate ObjectOutputStream objOut;\r\n\r\n\tpublic void run() {\r\n\t\t// I initiate the readers and writers here\r\n\t\t...\r\n\t\t// Handles other communication\r\n\t}\r\n\r\n\tpublic void sendMessage(String msg) {\r\n\t\tstrOut.println(msg); \r\n\t}\r\n\r\n\tprivate Object receiveObject() {\r\n\t\tObject o = null;\r\n\t\ttry {\r\n\t\t\t o = objIn.readObject();  // This line throws the exception\r\n\t\t} catch (ClassNotFoundException | IOException e) {\r\n\t\t\tDebug.error(&quot;Failed to receive object.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn o;\r\n\t}\r\n}\r\n```\r\n\r\nAnd sending them like this:\r\n```\r\nprivate ObjectOutputStream objOut; // I did init this one\r\nprivate void sendWork() {\r\n\t\ttry {\r\n\t\t\tParticipantWorkState pws = manager.getParticipantWorkState();\r\n\t\t\tobjOut.writeObject(pws); \r\n\t\t} catch (IOException e) {\r\n\t\t\tDebug.error(&quot;Unable to send ParticipantWorkState&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nI tried to remove as much code that is not important as i can, let me know if you need more.\r\nThe ParticipantWorkState object is not null, and implements Serializable.\r\n\r\nPS: Is there a better way to do this?","title":"Cause of java.io.OptionalDataException in serversocket programming","body":"<p>I am writing a serversocket program, and i am trying to pass objects (in this case: ParticipantWorkState) into ObjectOutputStream and read it via an ObjectInputStream. The ParticipantWorkState class implements Serializable.</p>\n<p>When I try to gather the objects from all the connected clients, it throws the java.io.OptionalDataException exception. What am I doing wrong?</p>\n<p>I am receiving the objects like this:</p>\n<pre><code>private ArrayList&lt;ConnectionHandler&gt; connections = new ArrayList&lt;&gt;();\n\npublic HashMap&lt;Integer, ParticipantWorkState&gt; gatherRequestedWork() {\n    broadcast(Protocol.RequestWork);    // Messages the client that they need to send the object\n    HashMap&lt;Integer, ParticipantWorkState&gt; pwsList = new HashMap&lt;&gt;();\n    \n    for (ConnectionHandler c : connections) {\n        ParticipantWorkState pws = (ParticipantWorkState) c.receiveObject();\n        pwsList.put(c.ID, pws);\n    }\n    \n    return pwsList;\n}\n\npublic void broadcast(String msg) {\n    for (ConnectionHandler ch : connections) {\n        ch.sendMessage(msg);\n    }\n}\n\n[...]\n\nclass ConnectionHandler implements Runnable {\n    private BufferedReader strIn;\n    private PrintWriter strOut;\n    private ObjectInputStream objIn;\n    private ObjectOutputStream objOut;\n\n    public void run() {\n        // I initiate the readers and writers here\n        ...\n        // Handles other communication\n    }\n\n    public void sendMessage(String msg) {\n        strOut.println(msg); \n    }\n\n    private Object receiveObject() {\n        Object o = null;\n        try {\n             o = objIn.readObject();  // This line throws the exception\n        } catch (ClassNotFoundException | IOException e) {\n            Debug.error(&quot;Failed to receive object.&quot;);\n            e.printStackTrace();\n        }\n        return o;\n    }\n}\n</code></pre>\n<p>And sending them like this:</p>\n<pre><code>private ObjectOutputStream objOut; // I did init this one\nprivate void sendWork() {\n        try {\n            ParticipantWorkState pws = manager.getParticipantWorkState();\n            objOut.writeObject(pws); \n        } catch (IOException e) {\n            Debug.error(&quot;Unable to send ParticipantWorkState&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I tried to remove as much code that is not important as i can, let me know if you need more.\nThe ParticipantWorkState object is not null, and implements Serializable.</p>\n<p>PS: Is there a better way to do this?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696752660,"post_id":77252765,"comment_id":136191657,"body_markdown":"Well, which command did you run?","body":"Well, which command did you run?"},{"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"score":0,"creation_date":1696759298,"post_id":77252765,"comment_id":136192186,"body_markdown":"@knittl `try {server.run(driver);} catch (Exception e) {\tlogger.warning(&quot;error in main block: &quot;.concat(e.getMessage())); captureScreenshot(driver, String.format(&quot;%s\\\\screenshots&quot;, System.getProperty(&quot;user.home&quot;))); logger.info(&quot;screenshot saved&quot;);} finally { ...` somehere before finally but right after `logger.warning`","body":"@knittl <code>try {server.run(driver);} catch (Exception e) {\tlogger.warning(&quot;error in main block: &quot;.concat(e.getMessage())); captureScreenshot(driver, String.format(&quot;%s\\\\screenshots&quot;, System.getProperty(&quot;user.home&quot;))); logger.info(&quot;screenshot saved&quot;);} finally { ...</code> somehere before finally but right after <code>logger.warning</code>"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696759569,"post_id":77252765,"comment_id":136192209,"body_markdown":"So `server.run(driver)` (somewhere down the call stack) prints the message. Am I underthinking this question? If you remove that line, the message will not be printed; so this line is responsible for printing it. No? If not, what _exactly_ is the question here?","body":"So <code>server.run(driver)</code> (somewhere down the call stack) prints the message. Am I underthinking this question? If you remove that line, the message will not be printed; so this line is responsible for printing it. No? If not, what <i>exactly</i> is the question here?"}],"owner":{"account_id":7693984,"reputation":6097,"user_id":5829191,"accept_rate":63,"display_name":"rozerro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696751715,"creation_date":1696751715,"question_id":77252765,"body_markdown":"Which command produces a webdriver log like this?\r\n\r\n    System info: host: &#39;SOMEHOST&#39;, ip: &#39;1.1.1.1&#39;, os.name: &#39;Windows 8&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;8.0&#39;, java.version: &#39;1.8.0_361&#39;\r\n    Driver info: org.openqa.selenium.firefox.FirefoxDriver\r\n    Capabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 117.0.1, javascriptEnabled: true, moz:accessibilityChecks: false, moz:buildID: 20230912013654, moz:geckodriverVersion: 0.33.0, moz:headless: true, moz:platformVersion: 10.0, moz:processID: 1772, moz:profile: C:\\Users\\36B5~1\\AppData\\Loc..., moz:shutdownTimeout: 60000, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\r\n    Session ID: 137d5151-92d1-31af-970b-3a1db9d113b9","title":"Which command produces a webdriver log like this?","body":"<p>Which command produces a webdriver log like this?</p>\n<pre><code>System info: host: 'SOMEHOST', ip: '1.1.1.1', os.name: 'Windows 8', os.arch: 'amd64', os.version: '8.0', java.version: '1.8.0_361'\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCapabilities {acceptInsecureCerts: true, browserName: firefox, browserVersion: 117.0.1, javascriptEnabled: true, moz:accessibilityChecks: false, moz:buildID: 20230912013654, moz:geckodriverVersion: 0.33.0, moz:headless: true, moz:platformVersion: 10.0, moz:processID: 1772, moz:profile: C:\\Users\\36B5~1\\AppData\\Loc..., moz:shutdownTimeout: 60000, moz:webdriverClick: true, moz:windowless: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\nSession ID: 137d5151-92d1-31af-970b-3a1db9d113b9\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696730808,"post_id":77251803,"comment_id":136190426,"body_markdown":"You mention you&#39;ve installed a VS Code extension to work _with_ Maven, but have you actually [installed Maven](https://maven.apache.org/)?","body":"You mention you&#39;ve installed a VS Code extension to work <i>with</i> Maven, but have you actually <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">installed Maven</a>?"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696750850,"post_id":77251803,"comment_id":136191516,"body_markdown":"You might be better off using a real Java IDE like IntelliJ, Eclipse or NetBeans.","body":"You might be better off using a real Java IDE like IntelliJ, Eclipse or NetBeans."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696841283,"post_id":77251803,"comment_id":136199677,"body_markdown":"This may have something to do with your maven. Can you show your maven installation?","body":"This may have something to do with your maven. Can you show your maven installation?"}],"owner":{"account_id":19570468,"reputation":1,"user_id":14321743,"display_name":"king342"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696750819,"creation_date":1696720818,"question_id":77251803,"body_markdown":"I included a pom.xml file found online for OpenCSV (shown below)\r\n\r\n[enter image description here][1]\r\n\r\nI downloaded the recent Java extension to use Maven, then I open Maven\r\n\r\nWhen I try click install on the csvreader file under Maven project, it gives the following error: \r\n\r\n&gt; Maven executable not found in PATH. Please specify &quot;maven.executable.path&quot;.\r\n\r\nHow do I fix this error and use the library?\r\n\r\n(FYI, I am a beginner to Java, and I really want to use OpenCSV library function) \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;com.quadmeup&lt;/groupId&gt;\r\n  &lt;artifactId&gt;csv-reader&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n  &lt;name&gt;csv-reader&lt;/name&gt;\r\n  &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;2.8.2&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.7.1&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fi3Mf.png","title":"How to use Java OpenCSV Library in Visual Studio Code","body":"<p>I included a pom.xml file found online for OpenCSV (shown below)</p>\n<p><a href=\"https://i.stack.imgur.com/fi3Mf.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I downloaded the recent Java extension to use Maven, then I open Maven</p>\n<p>When I try click install on the csvreader file under Maven project, it gives the following error:</p>\n<blockquote>\n<p>Maven executable not found in PATH. Please specify &quot;maven.executable.path&quot;.</p>\n</blockquote>\n<p>How do I fix this error and use the library?</p>\n<p>(FYI, I am a beginner to Java, and I really want to use OpenCSV library function)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.quadmeup&lt;/groupId&gt;\n  &lt;artifactId&gt;csv-reader&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;csv-reader&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.opencsv/opencsv --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","screenshot"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1696877161,"post_id":77252610,"comment_id":136206579,"body_markdown":"Use WebDriverWaits with Explicit Conditions:  https://www.selenium.dev/documentation/webdriver/waits/","body":"Use WebDriverWaits with Explicit Conditions:  <a href=\"https://www.selenium.dev/documentation/webdriver/waits/\" rel=\"nofollow noreferrer\">selenium.dev/documentation/webdriver/waits</a>"}],"owner":{"account_id":29574529,"reputation":1,"user_id":22665859,"display_name":"PESCO Bill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696750306,"creation_date":1696747973,"question_id":77252610,"body_markdown":"I want to take screenshots of webpages using Selenium WebDriver. While the basic functionality seems to work, there would be an issue with capturing a specific type of webpage of a [pesco billing](https://pescobilling.pk/) site. Here&#39;s the problem.\r\n\r\nI am able to take screenshots of most webpages without any problems. However, there are some webpages with certain dynamic elements or overlays, the resulting screenshot would appears to be missing those elements. It&#39;s as if the screenshot would be taken before these dynamic elements are fully loaded.\r\n\r\nHere&#39;s a simplified version of the Java code:\r\n\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.TakesScreenshot;\r\n\r\npublic class WebpageScreenshot {\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n\r\n        try {\r\n            driver.get(&quot;https://pescobilling.pk/&quot;);\r\n\r\n            // Sleep for a few seconds to allow dynamic elements to load (not a good practice)\r\n            Thread.sleep(5000);\r\n\r\n            // Take the screenshot\r\n            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n\r\n            // Save the screenshot\r\n            // ...\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            driver.quit();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI believe the issue is related to the timing of taking the screenshot, as some elements are loaded dynamically after the initial page load. In the code snippet above, I added a Thread.sleep to pause execution, but this is not an ideal solution, and it doesn&#39;t always work perfectly.\r\n\r\nWhat is the recommended approach to ensure that the screenshot is taken after all dynamic elements have loaded? Is there a more reliable way to capture the entire webpage, including these dynamic elements?\r\n\r\n\r\n","title":"Issue with taking screenshots using Selenium WebDriver","body":"<p>I want to take screenshots of webpages using Selenium WebDriver. While the basic functionality seems to work, there would be an issue with capturing a specific type of webpage of a <a href=\"https://pescobilling.pk/\" rel=\"nofollow noreferrer\">pesco billing</a> site. Here's the problem.</p>\n<p>I am able to take screenshots of most webpages without any problems. However, there are some webpages with certain dynamic elements or overlays, the resulting screenshot would appears to be missing those elements. It's as if the screenshot would be taken before these dynamic elements are fully loaded.</p>\n<p>Here's a simplified version of the Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\n\npublic class WebpageScreenshot {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        try {\n            driver.get(&quot;https://pescobilling.pk/&quot;);\n\n            // Sleep for a few seconds to allow dynamic elements to load (not a good practice)\n            Thread.sleep(5000);\n\n            // Take the screenshot\n            File screenshotFile = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n\n            // Save the screenshot\n            // ...\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            driver.quit();\n        }\n    }\n}\n</code></pre>\n<p>I believe the issue is related to the timing of taking the screenshot, as some elements are loaded dynamically after the initial page load. In the code snippet above, I added a Thread.sleep to pause execution, but this is not an ideal solution, and it doesn't always work perfectly.</p>\n<p>What is the recommended approach to ensure that the screenshot is taken after all dynamic elements have loaded? Is there a more reliable way to capture the entire webpage, including these dynamic elements?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9881,"page":136,"page_size":100}
