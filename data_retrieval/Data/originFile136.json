{"items":[{"tags":["java","authentication","google-text-to-speech"],"answers":[{"tags":[],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696876369,"creation_date":1696876369,"answer_id":77261085,"question_id":77244462,"body_markdown":"One need to create a service account in advance. Next go to &quot;IAM and administration&quot; page - since my UI is German, I am guessing the wording - on the left menu select &quot;service account&quot;. In the heading menu select &quot;key&quot; and a little below there&#39;ll be a button &quot;add key&quot;.\r\n\r\nThe whole topic is also explained here: https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account","title":"How to authenticate for Google Text To Speech from a Java app?","body":"<p>One need to create a service account in advance. Next go to &quot;IAM and administration&quot; page - since my UI is German, I am guessing the wording - on the left menu select &quot;service account&quot;. In the heading menu select &quot;key&quot; and a little below there'll be a button &quot;add key&quot;.</p>\n<p>The whole topic is also explained here: <a href=\"https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account\" rel=\"nofollow noreferrer\">https://cloud.google.com/text-to-speech/docs/before-you-begin#creating_a_json_key_for_your_service_account</a></p>\n"}],"owner":{"account_id":4459325,"reputation":1497,"user_id":3628679,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77261085,"answer_count":1,"score":0,"last_activity_date":1696876369,"creation_date":1696595516,"question_id":77244462,"body_markdown":"I am trying to use Googles Text to Speech from a Java application - no web. I have a hard time to understand Googles pages and in particular the different authentication mechanisms. After reading `https://stackoverflow.com/questions/46287267/how-can-i-get-the-file-service-account-json-for-google-translate-api` I am even more confused. To my understanding, the below code should work, given that I would have the json file with my credentials. However, I don&#39;t know where or how to create this json file - I can&#39;t test the application due to the missing json file.\r\nIn order to make below code work, my questions are: \r\n\r\n - What is the setup on the Google Cloud side to make the below code work? Do I need an *API key* and/or a *service account*? \r\n - How to create this json file. Currently I have both, I already created an API key and a service account on the Google Cloud admin interface, but I can&#39;t find how to generate the json file using this portal. Or do I need the gcloud tool on Windows? If so, what is the command line to enter?\r\n - Despite the json file, since I have an API key (String) and know the project id, can I authenticate directly from the java code without using the json file?\r\n\r\nHere is the code\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n    \r\n    import com.google.api.gax.core.CredentialsProvider;\r\n    import com.google.api.gax.core.FixedCredentialsProvider;\r\n    import com.google.auth.oauth2.ServiceAccountCredentials;\r\n    import com.google.cloud.texttospeech.v1.AudioConfig;\r\n    import com.google.cloud.texttospeech.v1.AudioEncoding;\r\n    import com.google.cloud.texttospeech.v1.SsmlVoiceGender;\r\n    import com.google.cloud.texttospeech.v1.SynthesisInput;\r\n    import com.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;\r\n    import com.google.cloud.texttospeech.v1.TextToSpeechClient;\r\n    import com.google.cloud.texttospeech.v1.TextToSpeechSettings;\r\n    import com.google.cloud.texttospeech.v1.VoiceSelectionParams;\r\n    import com.google.protobuf.ByteString;\r\n    \r\n    public class GoogleTextToSpeech {\r\n    \r\n    \r\n    \tprotected TextToSpeechClient textToSpeechClient;\r\n    \tVoiceSelectionParams voice;\r\n    \tAudioConfig audioConfig;\r\n    \r\n    \tpublic GoogleTextToSpeech() {\r\n    \r\n    \t\tString jsonPath = &quot;tts.json&quot;;\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tCredentialsProvider credentialsProvider = FixedCredentialsProvider.create(ServiceAccountCredentials.fromStream(new FileInputStream(jsonPath)));\r\n    \r\n    \t\t\tTextToSpeechSettings settings = TextToSpeechSettings.newBuilder().setCredentialsProvider(credentialsProvider).build();\r\n    \r\n    \t\t\ttextToSpeechClient = TextToSpeechClient.create(settings);\r\n    \r\n    \t\t\tvoice = VoiceSelectionParams.newBuilder()\r\n    \t\t\t\t\t.setLanguageCode(&quot;en-US&quot;)\r\n    \t\t\t\t\t.setSsmlGender(SsmlVoiceGender.FEMALE)\r\n    \t\t\t\t\t.build();\r\n    \t\t\t\r\n    \t\t\taudioConfig = AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.LINEAR16).build();\t\t// This relates to a wav file\r\n    \r\n    \t\t} catch (IOException e1) {\r\n    \t\t\tSystem.err.println(e1.getMessage());\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \r\n    \tpublic void speak(String message) {\r\n    \r\n    \t\tSynthesisInput input = SynthesisInput.newBuilder().setText(message).build();\r\n    \t\tSynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\r\n    \t\tByteString audioContents = response.getAudioContent();\r\n    \r\n    \t\t// Write the response to the output file.\r\n    \t\ttry (OutputStream out = new FileOutputStream(&quot;output.wav&quot;)) {\r\n    \t\t\tout.write(audioContents.toByteArray());\r\n    \t\t\tSystem.out.println(&quot;Audio content written to file \\&quot;output.wav\\&quot;&quot;);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} \r\n    \t}\r\n    \r\n    }\r\n\r\nThank you in advance.\r\n","title":"How to authenticate for Google Text To Speech from a Java app?","body":"<p>I am trying to use Googles Text to Speech from a Java application - no web. I have a hard time to understand Googles pages and in particular the different authentication mechanisms. After reading <code>https://stackoverflow.com/questions/46287267/how-can-i-get-the-file-service-account-json-for-google-translate-api</code> I am even more confused. To my understanding, the below code should work, given that I would have the json file with my credentials. However, I don't know where or how to create this json file - I can't test the application due to the missing json file.\nIn order to make below code work, my questions are:</p>\n<ul>\n<li>What is the setup on the Google Cloud side to make the below code work? Do I need an <em>API key</em> and/or a <em>service account</em>?</li>\n<li>How to create this json file. Currently I have both, I already created an API key and a service account on the Google Cloud admin interface, but I can't find how to generate the json file using this portal. Or do I need the gcloud tool on Windows? If so, what is the command line to enter?</li>\n<li>Despite the json file, since I have an API key (String) and know the project id, can I authenticate directly from the java code without using the json file?</li>\n</ul>\n<p>Here is the code</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.api.gax.core.FixedCredentialsProvider;\nimport com.google.auth.oauth2.ServiceAccountCredentials;\nimport com.google.cloud.texttospeech.v1.AudioConfig;\nimport com.google.cloud.texttospeech.v1.AudioEncoding;\nimport com.google.cloud.texttospeech.v1.SsmlVoiceGender;\nimport com.google.cloud.texttospeech.v1.SynthesisInput;\nimport com.google.cloud.texttospeech.v1.SynthesizeSpeechResponse;\nimport com.google.cloud.texttospeech.v1.TextToSpeechClient;\nimport com.google.cloud.texttospeech.v1.TextToSpeechSettings;\nimport com.google.cloud.texttospeech.v1.VoiceSelectionParams;\nimport com.google.protobuf.ByteString;\n\npublic class GoogleTextToSpeech {\n\n\n    protected TextToSpeechClient textToSpeechClient;\n    VoiceSelectionParams voice;\n    AudioConfig audioConfig;\n\n    public GoogleTextToSpeech() {\n\n        String jsonPath = &quot;tts.json&quot;;\n\n        try {\n\n            CredentialsProvider credentialsProvider = FixedCredentialsProvider.create(ServiceAccountCredentials.fromStream(new FileInputStream(jsonPath)));\n\n            TextToSpeechSettings settings = TextToSpeechSettings.newBuilder().setCredentialsProvider(credentialsProvider).build();\n\n            textToSpeechClient = TextToSpeechClient.create(settings);\n\n            voice = VoiceSelectionParams.newBuilder()\n                    .setLanguageCode(&quot;en-US&quot;)\n                    .setSsmlGender(SsmlVoiceGender.FEMALE)\n                    .build();\n            \n            audioConfig = AudioConfig.newBuilder().setAudioEncoding(AudioEncoding.LINEAR16).build();        // This relates to a wav file\n\n        } catch (IOException e1) {\n            System.err.println(e1.getMessage());\n            e1.printStackTrace();\n        }\n\n    }\n\n\n    public void speak(String message) {\n\n        SynthesisInput input = SynthesisInput.newBuilder().setText(message).build();\n        SynthesizeSpeechResponse response = textToSpeechClient.synthesizeSpeech(input, voice, audioConfig);\n        ByteString audioContents = response.getAudioContent();\n\n        // Write the response to the output file.\n        try (OutputStream out = new FileOutputStream(&quot;output.wav&quot;)) {\n            out.write(audioContents.toByteArray());\n            System.out.println(&quot;Audio content written to file \\&quot;output.wav\\&quot;&quot;);\n        } catch (IOException e) {\n            e.printStackTrace();\n        } \n    }\n\n}\n</code></pre>\n<p>Thank you in advance.</p>\n"},{"tags":["java","firebase","gradle"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1696916440,"post_id":77260963,"comment_id":136210205,"body_markdown":"Have you added the proper import? If yes, can show that to us?","body":"Have you added the proper import? If yes, can show that to us?"}],"answers":[{"comments":[{"owner":{"account_id":16892933,"reputation":3,"user_id":12216205,"display_name":"Bashana Liyanage"},"score":0,"creation_date":1696920090,"post_id":77260992,"comment_id":136210647,"body_markdown":"Hello, Thank you! I added these but some other errors are happening that I cannot figure out why\n\nerror: the unnamed module reads package com.google.longrunning from both proto.google.common.protos and gax.grpc\nerror: module javafx.controlsEmpty reads package io.grpc from both grpc.api and grpc.context\nerror: module google.api.client.gson reads package io.grpc from both grpc.api and grpc.context\n\nHere are some of them.","body":"Hello, Thank you! I added these but some other errors are happening that I cannot figure out why  error: the unnamed module reads package com.google.longrunning from both proto.google.common.protos and gax.grpc error: module javafx.controlsEmpty reads package io.grpc from both grpc.api and grpc.context error: module google.api.client.gson reads package io.grpc from both grpc.api and grpc.context  Here are some of them."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1696936538,"post_id":77260992,"comment_id":136213592,"body_markdown":"Hi, you acepted the answer, did it work for you?","body":"Hi, you acepted the answer, did it work for you?"},{"owner":{"account_id":16892933,"reputation":3,"user_id":12216205,"display_name":"Bashana Liyanage"},"score":0,"creation_date":1696955308,"post_id":77260992,"comment_id":136217600,"body_markdown":"I added these but some other errors are happening that I cannot figure out why error: the unnamed module reads package com.google.longrunning from both proto.google.common.protos and gax.grpc error: module javafx.controlsEmpty reads package io.grpc from both grpc.api and grpc.context error: module google.api.client.gson reads package io.grpc from both grpc.api and grpc.context Here are some of them.","body":"I added these but some other errors are happening that I cannot figure out why error: the unnamed module reads package com.google.longrunning from both proto.google.common.protos and gax.grpc error: module javafx.controlsEmpty reads package io.grpc from both grpc.api and grpc.context error: module google.api.client.gson reads package io.grpc from both grpc.api and grpc.context Here are some of them."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1696956271,"post_id":77260992,"comment_id":136217787,"body_markdown":"change it to `compile &#39;com.firebase:firebase-client-android:2.5.0`","body":"change it to <code>compile &#39;com.firebase:firebase-client-android:2.5.0</code>"},{"owner":{"account_id":16892933,"reputation":3,"user_id":12216205,"display_name":"Bashana Liyanage"},"score":0,"creation_date":1697008448,"post_id":77260992,"comment_id":136223821,"body_markdown":"It says: Could not find method compile()","body":"It says: Could not find method compile()"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696875296,"creation_date":1696875296,"answer_id":77260992,"question_id":77260963,"body_markdown":"Try to add this in your dependencies:\r\n\r\n```groovy\r\nimplementation &#39;com.google.firebase:firebase-admin:6.3.0&#39;\r\n```","title":"Cannot Resolve Symbol &#39;firebase&#39; when Importing FirebaseOptions in Java Project","body":"<p>Try to add this in your dependencies:</p>\n<pre><code>implementation 'com.google.firebase:firebase-admin:6.3.0'\n</code></pre>\n"}],"owner":{"account_id":16892933,"reputation":3,"user_id":12216205,"display_name":"Bashana Liyanage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260992,"answer_count":1,"score":0,"last_activity_date":1696875331,"creation_date":1696874992,"question_id":77260963,"body_markdown":"I&#39;m working on a Java project and trying to integrate Firebase. I&#39;ve added the necessary dependencies to my build.gradle file, but I&#39;m encountering an issue when trying to import `com.google.firebase.FirebaseOptions` in my code. It&#39;s showing an error: `Cannot resolve symbol &#39;firebase&#39;`. Here&#39;s my build.gradle file for reference:\r\n\r\n```groovy\r\ndependencies {\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.4.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-auth&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n}\r\n```\r\n\r\nI&#39;ve ensured that my Gradle sync is up to date, but I&#39;m still facing this issue. How can I resolve the `Cannot resolve symbol` error and successfully import FirebaseOptions in my project?\r\n\r\nAny help or guidance on this matter would be greatly appreciated. Thank you!\r\n\r\nI&#39;ve tried adding .jar files externally to the lib folder and the project structure window, but the problem persists.","title":"Cannot Resolve Symbol &#39;firebase&#39; when Importing FirebaseOptions in Java Project","body":"<p>I'm working on a Java project and trying to integrate Firebase. I've added the necessary dependencies to my build.gradle file, but I'm encountering an issue when trying to import <code>com.google.firebase.FirebaseOptions</code> in my code. It's showing an error: <code>Cannot resolve symbol 'firebase'</code>. Here's my build.gradle file for reference:</p>\n<pre><code>dependencies {\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n    implementation 'com.google.firebase:firebase-auth'\n    implementation 'com.google.firebase:firebase-firestore'\n}\n</code></pre>\n<p>I've ensured that my Gradle sync is up to date, but I'm still facing this issue. How can I resolve the <code>Cannot resolve symbol</code> error and successfully import FirebaseOptions in my project?</p>\n<p>Any help or guidance on this matter would be greatly appreciated. Thank you!</p>\n<p>I've tried adding .jar files externally to the lib folder and the project structure window, but the problem persists.</p>\n"},{"tags":["java","eclipse","axis","webservice-client"],"answers":[{"comments":[{"owner":{"account_id":29633119,"reputation":1,"user_id":22711086,"display_name":"Surendra Gollapudi"},"score":0,"creation_date":1696866115,"post_id":77259930,"comment_id":136204612,"body_markdown":"Hi Alessandrao, I have already added jars to build path as you can see in screen shot. This project has dependencies on 2 other projects which also have axis.jar added to the project buildpath.","body":"Hi Alessandrao, I have already added jars to build path as you can see in screen shot. This project has dependencies on 2 other projects which also have axis.jar added to the project buildpath."},{"owner":{"account_id":9503455,"reputation":36,"user_id":7063755,"display_name":"Alessandro Lacchi"},"score":0,"creation_date":1696923723,"post_id":77259930,"comment_id":136211292,"body_markdown":"Ok but I think you need to check if your jars are in the lib folder.","body":"Ok but I think you need to check if your jars are in the lib folder."}],"tags":[],"owner":{"account_id":9503455,"reputation":36,"user_id":7063755,"display_name":"Alessandro Lacchi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696864327,"creation_date":1696863889,"answer_id":77259930,"question_id":77259789,"body_markdown":"from the exception you get it seems that you have not put axis.jar in the project lib, try checking the build path configuration for the dependencies and verify that they are present in the project lib. There seems to be a misconfiguration of the project paths.\r\n\r\nYou can also read in this thread an example of how to create a web service client with Axis on Eclipse: [How to create an Axis2 Web Service Client in Eclipse][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6782782/how-to-create-an-axis2-web-service-client-in-%20eclipse","title":"Getting error when i try to create webservice clients from WSDL in Eclipse","body":"<p>from the exception you get it seems that you have not put axis.jar in the project lib, try checking the build path configuration for the dependencies and verify that they are present in the project lib. There seems to be a misconfiguration of the project paths.</p>\n<p>You can also read in this thread an example of how to create a web service client with Axis on Eclipse: <a href=\"https://stackoverflow.com/questions/6782782/how-to-create-an-axis2-web-service-client-in-%20eclipse\">How to create an Axis2 Web Service Client in Eclipse</a></p>\n"}],"owner":{"account_id":29633119,"reputation":1,"user_id":22711086,"display_name":"Surendra Gollapudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696875190,"creation_date":1696862709,"question_id":77259789,"body_markdown":"I&#39;m getting below error when i try to create webservice client using WSDL files in Eclipse. I already added required Jars to build path/ but still getting same error. Can someone please let me know what i&#39;m doing wrong.\r\n\r\n```\r\nIWAB0503E Unable to update Java build path. Please check your system environment.\r\n    java.io.FileNotFoundException: /lib/axis.jar\r\n```\r\n\r\n[Error image](https://i.stack.imgur.com/fWmJp.png)\r\n\r\n[Project Build path][1]\r\n\r\n\r\n\r\nI added external jars to build path\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mlSO9.png\r\n  [2]: https://i.stack.imgur.com/X9DXc.png","title":"Getting error when i try to create webservice clients from WSDL in Eclipse","body":"<p>I'm getting below error when i try to create webservice client using WSDL files in Eclipse. I already added required Jars to build path/ but still getting same error. Can someone please let me know what i'm doing wrong.</p>\n<pre><code>IWAB0503E Unable to update Java build path. Please check your system environment.\n    java.io.FileNotFoundException: /lib/axis.jar\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fWmJp.png\" rel=\"nofollow noreferrer\">Error image</a></p>\n<p><a href=\"https://i.stack.imgur.com/mlSO9.png\" rel=\"nofollow noreferrer\">Project Build path</a></p>\n<p>I added external jars to build path</p>\n<p><a href=\"https://i.stack.imgur.com/X9DXc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1696874439,"post_id":77260866,"comment_id":136206136,"body_markdown":"You&#39;re *modifying the list* (`curr.next = prev;`) in a method that is only meant to be testing something. I haven&#39;t looked at anything else, but that&#39;s definitely not a good thing to be doing.","body":"You&#39;re <i>modifying the list</i> (<code>curr.next = prev;</code>) in a method that is only meant to be testing something. I haven&#39;t looked at anything else, but that&#39;s definitely not a good thing to be doing."}],"answers":[{"comments":[{"owner":{"account_id":9846009,"reputation":706,"user_id":7293500,"display_name":"Sarah Cohen"},"score":0,"creation_date":1697049699,"post_id":77260951,"comment_id":136231929,"body_markdown":"While it&#39;s helpful to share working code that solves the goal of the original code, it&#39;s important to answer the actual question that was asked. In this case, why the original code didn&#39;t work and how the programmer can fix it for themselves. Supplying the questioner with a whole slew of new code can be more less helpful than answering in plain English what/where the problem is.","body":"While it&#39;s helpful to share working code that solves the goal of the original code, it&#39;s important to answer the actual question that was asked. In this case, why the original code didn&#39;t work and how the programmer can fix it for themselves. Supplying the questioner with a whole slew of new code can be more less helpful than answering in plain English what/where the problem is."}],"tags":[],"owner":{"account_id":27131398,"reputation":1,"user_id":20673573,"display_name":"yasir abbas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696874877,"creation_date":1696874877,"answer_id":77260951,"question_id":77260866,"body_markdown":"/* Java program to check if linked list is palindrome */\r\n\r\nclass LinkedList {\r\n\tNode head; // head of list\r\n\tNode slow_ptr, fast_ptr, second_half;\r\n\r\n\t/* Linked list Node*/\r\n\tclass Node {\r\n\t\tchar data;\r\n\t\tNode next;\r\n\r\n\t\tNode(char d)\r\n\t\t{\r\n\t\t\tdata = d;\r\n\t\t\tnext = null;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Function to check if given linked list is\r\n\tpalindrome or not */\r\n\tboolean isPalindrome(Node head)\r\n\t{\r\n\t\tslow_ptr = head;\r\n\t\tfast_ptr = head;\r\n\t\tNode prev_of_slow_ptr = head;\r\n\t\tNode midnode = null; // To handle odd size list\r\n\t\tboolean res = true; // initialize result\r\n\r\n\t\tif (head != null &amp;&amp; head.next != null) {\r\n\t\t\t/* Get the middle of the list. Move slow_ptr by\r\n\t\t\t1 and fast_ptr by 2, slow_ptr will have the\r\n\t\t\tmiddle node */\r\n\t\t\twhile (fast_ptr != null\r\n\t\t\t\t&amp;&amp; fast_ptr.next != null) {\r\n\t\t\t\tfast_ptr = fast_ptr.next.next;\r\n\r\n\t\t\t\t/*We need previous of the slow_ptr for\r\n\t\t\t\tlinked lists with odd elements */\r\n\t\t\t\tprev_of_slow_ptr = slow_ptr;\r\n\t\t\t\tslow_ptr = slow_ptr.next;\r\n\t\t\t}\r\n\r\n\t\t\t/* fast_ptr would become NULL when there are\r\n\t\t\teven elements in the list and not NULL for\r\n\t\t\todd elements. We need to skip the middle node\r\n\t\t\tfor odd case and store it somewhere so that\r\n\t\t\twe can restore the original list */\r\n\t\t\tif (fast_ptr != null) {\r\n\t\t\t\tmidnode = slow_ptr;\r\n\t\t\t\tslow_ptr = slow_ptr.next;\r\n\t\t\t}\r\n\r\n\t\t\t// Now reverse the second half and compare it\r\n\t\t\t// with first half\r\n\t\t\tsecond_half = slow_ptr;\r\n\t\t\tprev_of_slow_ptr.next\r\n\t\t\t\t= null; // NULL terminate first half\r\n\t\t\treverse(); // Reverse the second half\r\n\t\t\tres = compareLists(head,\r\n\t\t\t\t\t\t\tsecond_half); // compare\r\n\r\n\t\t\t/* Construct the original list back */\r\n\t\t\treverse(); // Reverse the second half again\r\n\r\n\t\t\tif (midnode != null) {\r\n\t\t\t\t// If there was a mid node (odd size case)\r\n\t\t\t\t// which was not part of either first half\r\n\t\t\t\t// or second half.\r\n\t\t\t\tprev_of_slow_ptr.next = midnode;\r\n\t\t\t\tmidnode.next = second_half;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tprev_of_slow_ptr.next = second_half;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\r\n\t/* Function to reverse the linked list Note that this\r\n\tfunction may change the head */\r\n\tvoid reverse()\r\n\t{\r\n\t\tNode prev = null;\r\n\t\tNode current = second_half;\r\n\t\tNode next;\r\n\t\twhile (current != null) {\r\n\t\t\tnext = current.next;\r\n\t\t\tcurrent.next = prev;\r\n\t\t\tprev = current;\r\n\t\t\tcurrent = next;\r\n\t\t}\r\n\t\tsecond_half = prev;\r\n\t}\r\n\r\n\t/* Function to check if two input lists have same data*/\r\n\tboolean compareLists(Node head1, Node head2)\r\n\t{\r\n\t\tNode temp1 = head1;\r\n\t\tNode temp2 = head2;\r\n\r\n\t\twhile (temp1 != null &amp;&amp; temp2 != null) {\r\n\t\t\tif (temp1.data == temp2.data) {\r\n\t\t\t\ttemp1 = temp1.next;\r\n\t\t\t\ttemp2 = temp2.next;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t/* Both are empty return 1*/\r\n\t\tif (temp1 == null &amp;&amp; temp2 == null)\r\n\t\t\treturn true;\r\n\r\n\t\t/* Will reach here when one is NULL\r\n\t\tand other is not */\r\n\t\treturn false;\r\n\t}\r\n\r\n\t/* Push a node to linked list. Note that this function\r\n\tchanges the head */\r\n\tpublic void push(char new_data)\r\n\t{\r\n\t\t/* Allocate the Node &amp;\r\n\t\tPut in the data */\r\n\t\tNode new_node = new Node(new_data);\r\n\r\n\t\t/* link the old list of the new one */\r\n\t\tnew_node.next = head;\r\n\r\n\t\t/* Move the head to point to new Node */\r\n\t\thead = new_node;\r\n\t}\r\n\r\n\t// A utility function to print a given linked list\r\n\tvoid printList(Node ptr)\r\n\t{\r\n\t\twhile (ptr != null) {\r\n\t\t\tSystem.out.print(ptr.data + &quot;-&gt;&quot;);\r\n\t\t\tptr = ptr.next;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;NULL&quot;);\r\n\t}\r\n\r\n\t/* Driver program to test the above functions */\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\r\n\t\t/* Start with the empty list */\r\n\t\tLinkedList llist = new LinkedList();\r\n\r\n\t\tchar str[] = { &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;c&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39; };\r\n\t\tString string = new String(str);\r\n\t\tfor (int i = 0; i &lt; 7; i++) {\r\n\t\t\tllist.push(str[i]);\r\n\t\t}\r\n\t\tif (llist.isPalindrome(llist.head) != false) {\r\n\t\t\tSystem.out.println(&quot;Is Palindrome&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tSystem.out.println(&quot;Not Palindrome&quot;);\r\n\t\t\tSystem.out.println(&quot;&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n","title":"Head also gets modified when working with LinkedList","body":"<p>/* Java program to check if linked list is palindrome */</p>\n<p>class LinkedList {\nNode head; // head of list\nNode slow_ptr, fast_ptr, second_half;</p>\n<pre><code>/* Linked list Node*/\nclass Node {\n    char data;\n    Node next;\n\n    Node(char d)\n    {\n        data = d;\n        next = null;\n    }\n}\n\n/* Function to check if given linked list is\npalindrome or not */\nboolean isPalindrome(Node head)\n{\n    slow_ptr = head;\n    fast_ptr = head;\n    Node prev_of_slow_ptr = head;\n    Node midnode = null; // To handle odd size list\n    boolean res = true; // initialize result\n\n    if (head != null &amp;&amp; head.next != null) {\n        /* Get the middle of the list. Move slow_ptr by\n        1 and fast_ptr by 2, slow_ptr will have the\n        middle node */\n        while (fast_ptr != null\n            &amp;&amp; fast_ptr.next != null) {\n            fast_ptr = fast_ptr.next.next;\n\n            /*We need previous of the slow_ptr for\n            linked lists with odd elements */\n            prev_of_slow_ptr = slow_ptr;\n            slow_ptr = slow_ptr.next;\n        }\n\n        /* fast_ptr would become NULL when there are\n        even elements in the list and not NULL for\n        odd elements. We need to skip the middle node\n        for odd case and store it somewhere so that\n        we can restore the original list */\n        if (fast_ptr != null) {\n            midnode = slow_ptr;\n            slow_ptr = slow_ptr.next;\n        }\n\n        // Now reverse the second half and compare it\n        // with first half\n        second_half = slow_ptr;\n        prev_of_slow_ptr.next\n            = null; // NULL terminate first half\n        reverse(); // Reverse the second half\n        res = compareLists(head,\n                        second_half); // compare\n\n        /* Construct the original list back */\n        reverse(); // Reverse the second half again\n\n        if (midnode != null) {\n            // If there was a mid node (odd size case)\n            // which was not part of either first half\n            // or second half.\n            prev_of_slow_ptr.next = midnode;\n            midnode.next = second_half;\n        }\n        else\n            prev_of_slow_ptr.next = second_half;\n    }\n    return res;\n}\n\n/* Function to reverse the linked list Note that this\nfunction may change the head */\nvoid reverse()\n{\n    Node prev = null;\n    Node current = second_half;\n    Node next;\n    while (current != null) {\n        next = current.next;\n        current.next = prev;\n        prev = current;\n        current = next;\n    }\n    second_half = prev;\n}\n\n/* Function to check if two input lists have same data*/\nboolean compareLists(Node head1, Node head2)\n{\n    Node temp1 = head1;\n    Node temp2 = head2;\n\n    while (temp1 != null &amp;&amp; temp2 != null) {\n        if (temp1.data == temp2.data) {\n            temp1 = temp1.next;\n            temp2 = temp2.next;\n        }\n        else\n            return false;\n    }\n\n    /* Both are empty return 1*/\n    if (temp1 == null &amp;&amp; temp2 == null)\n        return true;\n\n    /* Will reach here when one is NULL\n    and other is not */\n    return false;\n}\n\n/* Push a node to linked list. Note that this function\nchanges the head */\npublic void push(char new_data)\n{\n    /* Allocate the Node &amp;\n    Put in the data */\n    Node new_node = new Node(new_data);\n\n    /* link the old list of the new one */\n    new_node.next = head;\n\n    /* Move the head to point to new Node */\n    head = new_node;\n}\n\n// A utility function to print a given linked list\nvoid printList(Node ptr)\n{\n    while (ptr != null) {\n        System.out.print(ptr.data + &quot;-&gt;&quot;);\n        ptr = ptr.next;\n    }\n    System.out.println(&quot;NULL&quot;);\n}\n\n/* Driver program to test the above functions */\npublic static void main(String[] args)\n{\n\n    /* Start with the empty list */\n    LinkedList llist = new LinkedList();\n\n    char str[] = { 'a', 'b', 'a', 'c', 'a', 'b', 'a' };\n    String string = new String(str);\n    for (int i = 0; i &lt; 7; i++) {\n        llist.push(str[i]);\n    }\n    if (llist.isPalindrome(llist.head) != false) {\n        System.out.println(&quot;Is Palindrome&quot;);\n        System.out.println(&quot;&quot;);\n    }\n    else {\n        System.out.println(&quot;Not Palindrome&quot;);\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8262944,"reputation":704,"user_id":6213626,"display_name":"chashikajw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696875185,"creation_date":1696875185,"answer_id":77260979,"question_id":77260866,"body_markdown":"The issue you&#39;re facing is happening because the code you&#39;ve written is actually modifying the original linked list when you reverse it. This means that after the reversal, the head of the linked list is now pointing to the end of the list, and you&#39;re effectively losing access to the rest of the elements.\r\n\r\nTo fix this, you should create a copy of the linked list before reversing it. You can do this by creating a new linked list and copying the values from the original list to the new one.\r\n\r\nSolution:\r\n\r\n    class Solution {\r\n        public boolean isPalindrome(ListNode head) {\r\n            // Create a copy of the linked list\r\n            ListNode copy = new ListNode(head.val);\r\n            ListNode copyCurr = copy;\r\n            ListNode curr = head.next;\r\n    \r\n            while (curr != null) {\r\n                copyCurr.next = new ListNode(curr.val);\r\n                copyCurr = copyCurr.next;\r\n                curr = curr.next;\r\n            }\r\n    \r\n            // Reverse the copy\r\n            ListNode prev = null;\r\n            ListNode temp;\r\n            curr = copy;\r\n            while (curr != null) {\r\n                temp = curr.next;\r\n                curr.next = prev;\r\n                prev = curr;\r\n                curr = temp;\r\n            }\r\n    \r\n            // Compare the original and reversed linked lists\r\n            curr = head;\r\n            while (curr != null) {\r\n                if (prev.val != curr.val) {\r\n                    return false;\r\n                }\r\n                curr = curr.next;\r\n                prev = prev.next;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }\r\n\r\nIn this code, I&#39;ve added a step to create a copy of the linked list (copy) before reversing it. The copy linked list is then used for the comparison, while the original head remains intact. This should resolve the issue you were facing.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Head also gets modified when working with LinkedList","body":"<p>The issue you're facing is happening because the code you've written is actually modifying the original linked list when you reverse it. This means that after the reversal, the head of the linked list is now pointing to the end of the list, and you're effectively losing access to the rest of the elements.</p>\n<p>To fix this, you should create a copy of the linked list before reversing it. You can do this by creating a new linked list and copying the values from the original list to the new one.</p>\n<p>Solution:</p>\n<pre><code>class Solution {\n    public boolean isPalindrome(ListNode head) {\n        // Create a copy of the linked list\n        ListNode copy = new ListNode(head.val);\n        ListNode copyCurr = copy;\n        ListNode curr = head.next;\n\n        while (curr != null) {\n            copyCurr.next = new ListNode(curr.val);\n            copyCurr = copyCurr.next;\n            curr = curr.next;\n        }\n\n        // Reverse the copy\n        ListNode prev = null;\n        ListNode temp;\n        curr = copy;\n        while (curr != null) {\n            temp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = temp;\n        }\n\n        // Compare the original and reversed linked lists\n        curr = head;\n        while (curr != null) {\n            if (prev.val != curr.val) {\n                return false;\n            }\n            curr = curr.next;\n            prev = prev.next;\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>In this code, I've added a step to create a copy of the linked list (copy) before reversing it. The copy linked list is then used for the comparison, while the original head remains intact. This should resolve the issue you were facing.</p>\n"}],"owner":{"account_id":28610674,"reputation":13,"user_id":21905702,"display_name":"Aditya Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260979,"answer_count":2,"score":0,"last_activity_date":1696875185,"creation_date":1696873858,"question_id":77260866,"body_markdown":"I was trying to check for palindrome Linked List, but head also gets modified and reached to end. Can someone help me why this is happening and how to resolve it?\r\n\r\n\r\n```\r\n/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\nclass Solution {\r\n    public boolean isPalindrome(ListNode head) {\r\n        if(head.next == null){\r\n            return true;\r\n        }\r\n        ListNode curr = head;\r\n        ListNode prev = null;\r\n        ListNode temp;\r\n        while(curr != null){\r\n            temp = curr.next;\r\n            curr.next = prev;\r\n            prev = curr;\r\n            curr = temp;\r\n        }\r\n\r\n        curr = head;\r\n        while(curr != null){\r\n            if(prev.val != curr.val){\r\n                return false;\r\n            }\r\n            curr = curr.next;\r\n            prev = prev.next;\r\n        }\r\n        return true;\r\n    }\r\n}\r\n```\r\n \r\n\r\nI tried to create another reverse method and pass head as value but then also head is getting changed.","title":"Head also gets modified when working with LinkedList","body":"<p>I was trying to check for palindrome Linked List, but head also gets modified and reached to end. Can someone help me why this is happening and how to resolve it?</p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\nclass Solution {\n    public boolean isPalindrome(ListNode head) {\n        if(head.next == null){\n            return true;\n        }\n        ListNode curr = head;\n        ListNode prev = null;\n        ListNode temp;\n        while(curr != null){\n            temp = curr.next;\n            curr.next = prev;\n            prev = curr;\n            curr = temp;\n        }\n\n        curr = head;\n        while(curr != null){\n            if(prev.val != curr.val){\n                return false;\n            }\n            curr = curr.next;\n            prev = prev.next;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>I tried to create another reverse method and pass head as value but then also head is getting changed.</p>\n"},{"tags":["java","instrumentation","byte-buddy"],"comments":[{"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"score":0,"creation_date":1696833397,"post_id":77256523,"comment_id":136198402,"body_markdown":"This seems close to what I want but could not understand what is being done &amp; need some more elaboration..\n\nhttps://stackoverflow.com/questions/38585748/pass-argument-to-bytebuddy-interceptor","body":"This seems close to what I want but could not understand what is being done &amp; need some more elaboration..  <a href=\"https://stackoverflow.com/questions/38585748/pass-argument-to-bytebuddy-interceptor\" title=\"pass argument to bytebuddy interceptor\">stackoverflow.com/questions/38585748/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696875147,"creation_date":1696873403,"answer_id":77260831,"question_id":77256523,"body_markdown":"The question has already been answered by the author of the library in this post.\r\n\r\nhttps://stackoverflow.com/questions/66951575/how-to-pass-variables-to-advice\r\n\r\nInstead of application of custom mapping at type level, I had to iterate over every method and apply the custom mapping for each method.\r\n\r\nQuestion also posted here (and answered by the library&#39;s author):\r\nhttps://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE","title":"Implementing method instrumentation using bytebuddy","body":"<p>The question has already been answered by the author of the library in this post.</p>\n<p><a href=\"https://stackoverflow.com/questions/66951575/how-to-pass-variables-to-advice\">How to pass variables to advice?</a></p>\n<p>Instead of application of custom mapping at type level, I had to iterate over every method and apply the custom mapping for each method.</p>\n<p>Question also posted here (and answered by the library's author):\n<a href=\"https://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE\" rel=\"nofollow noreferrer\">https://groups.google.com/g/byte-buddy/c/lO7yqEAyEKE</a></p>\n"}],"owner":{"account_id":4847997,"reputation":281,"user_id":3911119,"accept_rate":50,"display_name":"user3911119"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1697191000,"answer_count":1,"score":-1,"last_activity_date":1696875147,"creation_date":1696831133,"question_id":77256523,"body_markdown":"We are trying to build a javaagent for instrumenting classes using ByteBuddy. We have a javassist implementation that does not work well with Mockito, and therefore moving to ByteBuddy for instrumentation.\r\n\r\nUsing the DynamicType$Builder, we need to instrument methods of a selected class, depending on whether the method is a constructor, class initializer, or any other.\r\n\r\nIn addition, the beforeMethod interceptor method has an argument that needs to be generated uniquely for every method. The afterMethod interceptor method is a zero argument method. So, we need to:\r\n 1. Create one MethodCall instance per instrumented method, to be used for method entry.\r\n 2. Create one MethodCall instance common to all instrumented methods, to be used for method exit.\r\n\r\nThe method calls are something like this:\r\n\r\n      \r\n            private static MethodCall getInsertBefore(Method method) {\r\n                //construct a murmur32 hash using the method&#39;s class name, name, and signature.\r\n                int murmur32Hash = ...;\r\n                return MethodCall.invoke(named(&quot;beforeMethod&quot;))\r\n                        .on(SomeClass.class)\r\n                        .withReference(murmur32Hash);\r\n            }\r\n            private static MethodCall getInsertAfter() {\r\n                return MethodCall.invoke(named(&quot;afterMethod&quot;)).on(SomeClass.class); \r\n            }\r\n       \r\nThe class with annotations:\r\n\r\n    public class SomeClass {\r\n        @Advice.OnMethodEnter\r\n        public static void beforeMethod(int murmur32HashCode) {\r\n            /*murmur32HashCode is generated during transformation and not selected from argument list*/\r\n            ...\r\n        }\r\n        @Advice.OnMethodExit\r\n        public static void afterMethod() {\r\n            ...\r\n        }\r\n    }\r\n\r\nUsing DynamicType$Builder, is there any way we can visit all declared methods, and for each method, create the above mentioned MethodCall instances to be invoked before and after for the method?\r\n\r\nJavassist provided a intuitive way to do this. For ByteBuddy, in almost all examples I could find on net, the interception involves specifying a class with annotated methods, with arguments for the annotated methods selected from the invocation of the method being instrumented (no new generated values).\r\n\r\nI went through the ByteBuddy code and it seems to be doable with MethodVisitor class, though I got lost trying to understand the code sequence.\r\n\r\n---\r\n\r\nFound that if we use custom mappings, we can specify a custom value for annotations which can be referred in the interceptors.\r\nHowever, it cannot be used to set a custom value per instrumented method.\r\nMaybe, there is no easy way to do it using ByteBuddy, and I need to add a constant per method, and inject byte code to refer to it.","title":"Implementing method instrumentation using bytebuddy","body":"<p>We are trying to build a javaagent for instrumenting classes using ByteBuddy. We have a javassist implementation that does not work well with Mockito, and therefore moving to ByteBuddy for instrumentation.</p>\n<p>Using the DynamicType$Builder, we need to instrument methods of a selected class, depending on whether the method is a constructor, class initializer, or any other.</p>\n<p>In addition, the beforeMethod interceptor method has an argument that needs to be generated uniquely for every method. The afterMethod interceptor method is a zero argument method. So, we need to:</p>\n<ol>\n<li>Create one MethodCall instance per instrumented method, to be used for method entry.</li>\n<li>Create one MethodCall instance common to all instrumented methods, to be used for method exit.</li>\n</ol>\n<p>The method calls are something like this:</p>\n<pre><code>        private static MethodCall getInsertBefore(Method method) {\n            //construct a murmur32 hash using the method's class name, name, and signature.\n            int murmur32Hash = ...;\n            return MethodCall.invoke(named(&quot;beforeMethod&quot;))\n                    .on(SomeClass.class)\n                    .withReference(murmur32Hash);\n        }\n        private static MethodCall getInsertAfter() {\n            return MethodCall.invoke(named(&quot;afterMethod&quot;)).on(SomeClass.class); \n        }\n   \n</code></pre>\n<p>The class with annotations:</p>\n<pre><code>public class SomeClass {\n    @Advice.OnMethodEnter\n    public static void beforeMethod(int murmur32HashCode) {\n        /*murmur32HashCode is generated during transformation and not selected from argument list*/\n        ...\n    }\n    @Advice.OnMethodExit\n    public static void afterMethod() {\n        ...\n    }\n}\n</code></pre>\n<p>Using DynamicType$Builder, is there any way we can visit all declared methods, and for each method, create the above mentioned MethodCall instances to be invoked before and after for the method?</p>\n<p>Javassist provided a intuitive way to do this. For ByteBuddy, in almost all examples I could find on net, the interception involves specifying a class with annotated methods, with arguments for the annotated methods selected from the invocation of the method being instrumented (no new generated values).</p>\n<p>I went through the ByteBuddy code and it seems to be doable with MethodVisitor class, though I got lost trying to understand the code sequence.</p>\n<hr />\n<p>Found that if we use custom mappings, we can specify a custom value for annotations which can be referred in the interceptors.\nHowever, it cannot be used to set a custom value per instrumented method.\nMaybe, there is no easy way to do it using ByteBuddy, and I need to add a constant per method, and inject byte code to refer to it.</p>\n"},{"tags":["java","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":8262944,"reputation":704,"user_id":6213626,"display_name":"chashikajw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696874389,"creation_date":1696874055,"answer_id":77260882,"question_id":77260224,"body_markdown":"You can add checkstyle as pre-commit git hook to apply checkstyle only for staged files.\r\nYou can follow the doc for java projects. https://gist.github.com/davetron5000/37350\r\n\r\nFollowing is an example repo for Go lang projects.\r\nhttps://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml","title":"How to make checkstyle check only my staged files?","body":"<p>You can add checkstyle as pre-commit git hook to apply checkstyle only for staged files.\nYou can follow the doc for java projects. <a href=\"https://gist.github.com/davetron5000/37350\" rel=\"nofollow noreferrer\">https://gist.github.com/davetron5000/37350</a></p>\n<p>Following is an example repo for Go lang projects.\n<a href=\"https://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml\" rel=\"nofollow noreferrer\">https://github.com/envoyproxy/ratelimit/blob/main/.pre-commit-config.yaml</a></p>\n"}],"owner":{"account_id":1463180,"reputation":571,"user_id":1376887,"accept_rate":29,"display_name":"Paris Karagiannopoulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696874389,"creation_date":1696866641,"question_id":77260224,"body_markdown":"I am working on a multi-module gradle project and I am trying to add checkstyle to it. The problem is that because there is a very large code base already we do not want checkstyle to check everything. I am trying to find a way to make checkstyle check only staged files. Until now I don&#39;t have any luck with what I&#39;ve tried.\r\n\r\nWhat I am trying out now is to pass a new sourceSet but I can&#39;t understand how they work. My thinking was to finally have something like this:\r\n\r\n    checkstyle {\r\n      toolVersion = &#39;8.39&#39;\r\n      ingoreFailures = false\r\n      ...\r\n      sourceSet = getStagedSources()\r\n    }\r\nI can&#39;t figure out how to pass a new SourceSet.\r\n\r\nI am open to every suggestion even without using sourceSets.\r\n\r\nPlease help, thanks in advance","title":"How to make checkstyle check only my staged files?","body":"<p>I am working on a multi-module gradle project and I am trying to add checkstyle to it. The problem is that because there is a very large code base already we do not want checkstyle to check everything. I am trying to find a way to make checkstyle check only staged files. Until now I don't have any luck with what I've tried.</p>\n<p>What I am trying out now is to pass a new sourceSet but I can't understand how they work. My thinking was to finally have something like this:</p>\n<pre><code>checkstyle {\n  toolVersion = '8.39'\n  ingoreFailures = false\n  ...\n  sourceSet = getStagedSources()\n}\n</code></pre>\n<p>I can't figure out how to pass a new SourceSet.</p>\n<p>I am open to every suggestion even without using sourceSets.</p>\n<p>Please help, thanks in advance</p>\n"},{"tags":["java","lambda","method-reference"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696870390,"post_id":77260506,"comment_id":136205447,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":29632284,"reputation":1,"user_id":22710454,"display_name":"Clarence"},"score":0,"creation_date":1696905044,"post_id":77260830,"comment_id":136209327,"body_markdown":"The compareint method actually have done the lambda thing so I can&#39;t use lambda expression to create method so on and what I should do is sending the parameter in the method reference or lambda way what inside lambda expression needed instead of sending parameter directly like what I am trying to do?","body":"The compareint method actually have done the lambda thing so I can&#39;t use lambda expression to create method so on and what I should do is sending the parameter in the method reference or lambda way what inside lambda expression needed instead of sending parameter directly like what I am trying to do?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696956813,"post_id":77260830,"comment_id":136217908,"body_markdown":"If I understand correctly, the answer is that you can&#39;t do this.","body":"If I understand correctly, the answer is that you can&#39;t do this."},{"owner":{"account_id":29632284,"reputation":1,"user_id":22710454,"display_name":"Clarence"},"score":0,"creation_date":1696958989,"post_id":77260830,"comment_id":136218298,"body_markdown":"So I just use method refeence or Lambda like (student -&gt; student.getAge()) to fill or stand?  the parameter into the source code[ (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2)) ] because actually the compareint method have done the thing inside.","body":"So I just use method refeence or Lambda like (student -&gt; student.getAge()) to fill or stand?  the parameter into the source code[ (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2)) ] because actually the compareint method have done the thing inside."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1696960155,"post_id":77260830,"comment_id":136218468,"body_markdown":"Yes, that&#39;s correct.","body":"Yes, that&#39;s correct."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696873394,"creation_date":1696873394,"answer_id":77260830,"question_id":77260506,"body_markdown":"You can&#39;t do anything like what you&#39;re trying to do.  The closest thing is to _not_ use `comparingInt` and just write `(c1, c2) -&gt; Integer.compare(c1.getAge(), c2.getAge())`.\r\n\r\n`comparingInt` _just_ takes a function to run on its arguments.  It does not, and cannot, take the arguments itself -- not directly, at least; you could of course write\r\n\r\n```\r\nComparator&lt;Student&gt; comparator = comparingInt(Student::getAge);\r\ncomparator.compare(s1, s2);\r\n```","title":"what is the the natural expression of this Lambda expression and method reference in the method usage or it just don&#39;t have it?","body":"<p>You can't do anything like what you're trying to do.  The closest thing is to <em>not</em> use <code>comparingInt</code> and just write <code>(c1, c2) -&gt; Integer.compare(c1.getAge(), c2.getAge())</code>.</p>\n<p><code>comparingInt</code> <em>just</em> takes a function to run on its arguments.  It does not, and cannot, take the arguments itself -- not directly, at least; you could of course write</p>\n<pre><code>Comparator&lt;Student&gt; comparator = comparingInt(Student::getAge);\ncomparator.compare(s1, s2);\n</code></pre>\n"}],"owner":{"account_id":29632284,"reputation":1,"user_id":22710454,"display_name":"Clarence"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696873394,"creation_date":1696869684,"question_id":77260506,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n        Student[] students = new Student[4];\r\n        students[0] = new Student(&quot;guy1&quot;, 103, 334); // height / age （randomly written）\r\n        students[1] = new Student(&quot;guy2&quot;, 87, 534);\r\n        students[2] = new Student(&quot;guy3&quot;, 103, 232);\r\n        students[3] = new Student(&quot;guy4&quot;, 110, 121);\r\n\r\n        Arrays.sort(students, Comparator.comparingInt(Student::getAge)); // method reference\r\n        Arrays.sort(students, Comparator.comparingInt(student -&gt; student.getAge())); // Lambda expression\r\n```\r\n\r\n```\r\n// the source code of the comparingInt method\r\n&gt;! public static &lt;T&gt; Comparator&lt;T&gt; comparingInt(ToIntFunction&lt;? super T&gt; keyExtractor) {\r\n&gt;! Objects.requireNonNull(keyExtractor);\r\n&gt;! return (Comparator&lt;T&gt; &amp; Serializable)\r\n&gt;!             (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2));\r\n&gt;!     }\r\n```\r\n\r\nI konw that I need to send the object and the method to this method, But I am confused why I can&#39;t just send the Object and method as normal parameters like Comparator.comparingInt(Student, student.get age())) (I konw it doesn&#39;t work but if I don&#39;t use Lambda expression or method reference I need to create a class in this or what?)\r\n\r\n\r\n\r\nwhat I do like this is failed:\r\n```\r\n      Arrays.sort(students, Comparator.comparingInt(students,c1,getAge) kinds of , actually all can&#39;t pass IDEA.\r\n\r\n//        Animal a = new Animal() { former version\r\n//            @Override\r\n//            public void run() {\r\n//                System.out.println(&quot;dog runs&quot;);\r\n//            }\r\n//        };\r\n\r\n//        Animal a = () -&gt; {\r\n//            System.out.println(&quot;dog runs&quot;);\r\n//        };\r\n//\r\n//        a.run();\r\n```\r\n\r\nlike this, I konw the the former version of the simpify version,but I can&#39;t understand how the usage and change of comparingInt sorts of. My understanding about this is that I thought they also have the Lambda in their method body,so what outside need to do is just transfer the parameter about the object and method. But why in this way? I am curious whether there is some theory or just some rules I need to remember?\r\n\r\nMy description may be not very clearly,Thank you for answering my question!","title":"what is the the natural expression of this Lambda expression and method reference in the method usage or it just don&#39;t have it?","body":"<pre><code>public static void main(String[] args) {\n        Student[] students = new Student[4];\n        students[0] = new Student(&quot;guy1&quot;, 103, 334); // height / age （randomly written）\n        students[1] = new Student(&quot;guy2&quot;, 87, 534);\n        students[2] = new Student(&quot;guy3&quot;, 103, 232);\n        students[3] = new Student(&quot;guy4&quot;, 110, 121);\n\n        Arrays.sort(students, Comparator.comparingInt(Student::getAge)); // method reference\n        Arrays.sort(students, Comparator.comparingInt(student -&gt; student.getAge())); // Lambda expression\n</code></pre>\n<pre><code>// the source code of the comparingInt method\n&gt;! public static &lt;T&gt; Comparator&lt;T&gt; comparingInt(ToIntFunction&lt;? super T&gt; keyExtractor) {\n&gt;! Objects.requireNonNull(keyExtractor);\n&gt;! return (Comparator&lt;T&gt; &amp; Serializable)\n&gt;!             (c1, c2) -&gt; Integer.compare(keyExtractor.applyAsInt(c1), keyExtractor.applyAsInt(c2));\n&gt;!     }\n</code></pre>\n<p>I konw that I need to send the object and the method to this method, But I am confused why I can't just send the Object and method as normal parameters like Comparator.comparingInt(Student, student.get age())) (I konw it doesn't work but if I don't use Lambda expression or method reference I need to create a class in this or what?)</p>\n<p>what I do like this is failed:</p>\n<pre><code>      Arrays.sort(students, Comparator.comparingInt(students,c1,getAge) kinds of , actually all can't pass IDEA.\n\n//        Animal a = new Animal() { former version\n//            @Override\n//            public void run() {\n//                System.out.println(&quot;dog runs&quot;);\n//            }\n//        };\n\n//        Animal a = () -&gt; {\n//            System.out.println(&quot;dog runs&quot;);\n//        };\n//\n//        a.run();\n</code></pre>\n<p>like this, I konw the the former version of the simpify version,but I can't understand how the usage and change of comparingInt sorts of. My understanding about this is that I thought they also have the Lambda in their method body,so what outside need to do is just transfer the parameter about the object and method. But why in this way? I am curious whether there is some theory or just some rules I need to remember?</p>\n<p>My description may be not very clearly,Thank you for answering my question!</p>\n"},{"tags":["java","spring","caching","kubernetes","caffeine"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":2,"creation_date":1598887275,"post_id":63670352,"comment_id":112595930,"body_markdown":"The Spring authors were against that feature, but an [alternative adapter](https://github.com/stepio/coffee-boots) offers that functionality.","body":"The Spring authors were against that feature, but an <a href=\"https://github.com/stepio/coffee-boots\" rel=\"nofollow noreferrer\">alternative adapter</a> offers that functionality."}],"answers":[{"comments":[{"owner":{"account_id":482363,"reputation":1742,"user_id":896718,"accept_rate":77,"display_name":"Sathish Kumar k k"},"score":0,"creation_date":1669639221,"post_id":63697163,"comment_id":131680611,"body_markdown":"How to find the **cache size** for `cacheBuilder.maximumSize(maxSize);`. I am here trying to cache for 20 min. Is the size is in bite or byte or KB or GB or what?","body":"How to find the <b>cache size</b> for <code>cacheBuilder.maximumSize(maxSize);</code>. I am here trying to cache for 20 min. Is the size is in bite or byte or KB or GB or what?"},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1669732047,"post_id":63697163,"comment_id":131706053,"body_markdown":"@SathishKumarkk the maximum cache size is in number of entries.","body":"@SathishKumarkk the maximum cache size is in number of entries."},{"owner":{"account_id":482363,"reputation":1742,"user_id":896718,"accept_rate":77,"display_name":"Sathish Kumar k k"},"score":0,"creation_date":1669734787,"post_id":63697163,"comment_id":131707128,"body_markdown":"In my case I am going to case the method that returns a JWT token. So shall I have size as 1(one)? Since I am going to have only one entry and will update it after 20 min.","body":"In my case I am going to case the method that returns a JWT token. So shall I have size as 1(one)? Since I am going to have only one entry and will update it after 20 min."},{"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"score":0,"creation_date":1669776897,"post_id":63697163,"comment_id":131718190,"body_markdown":"@SathishKumarkk the maximumSize is a limit, is useful when you want to avoid the cache to grow to a dangerous size (in terms of available memory). But if you don&#39;t expect the number of entries to grow, you can skip setting a limit. Think if that JWT is one per application, or one per cache key (user, etc), and that will give you the expected number of entries.","body":"@SathishKumarkk the maximumSize is a limit, is useful when you want to avoid the cache to grow to a dangerous size (in terms of available memory). But if you don&#39;t expect the number of entries to grow, you can skip setting a limit. Think if that JWT is one per application, or one per cache key (user, etc), and that will give you the expected number of entries."}],"tags":[],"owner":{"account_id":4963513,"reputation":549,"user_id":3993742,"display_name":"Santiago Medina"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1599007270,"creation_date":1599007270,"answer_id":63697163,"question_id":63670352,"body_markdown":"You can declare many cache configurations programmatically instead of using yaml.\r\n\r\nSomething like this:\r\n\r\n\t@Configuration\r\n\t@EnableCaching\r\n\tpublic class CacheConfig {\r\n\r\n\t\tpublic static final String CACHE_A = &quot;cacheA&quot;;\r\n\t\tpublic static final String CACHE_B = &quot;cacheB&quot;;\r\n\t\tpublic static final String CACHE_C = &quot;cacheC&quot;;\r\n\r\n\t    @Bean\r\n\t    public CacheManager cacheManagerTicker(Ticker ticker) {\r\n\t       \r\n\t       List&lt;Cache&gt; caches = new ArrayList&lt;&gt;();\r\n\t       \r\n\t       // Cache A\r\n\t       caches.add(this.buildCache(CACHE_A, ticker, 2000L, 1L, TimeUnit.HOURS));\r\n\t       \r\n\t       // Cache B\r\n\t       caches.add(this.buildCache(CACHE_B, ticker, 2000L, 1L, TimeUnit.HOURS));\r\n\t       \r\n\t       // Cache C\r\n\t       caches.add(this.buildCache(CACHE_C, ticker, 3500L, 15L, TimeUnit.MINUTES));\r\n\t       \r\n\t       SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n\t       cacheManager.setCaches(caches);\r\n\t       return cacheManager;\r\n\t    }\r\n\t    \r\n\t    private CaffeineCache buildCache(String cacheName, Ticker ticker, Long maxSize, Long ttl, TimeUnit ttlUnit){\r\n\t    \r\n\t    \tCaffeine&lt;Object, Object&gt; cacheBuilder = Caffeine.newBuilder();\r\n\r\n\t    \t// TTL\r\n\t    \tif (ttl != null &amp;&amp; ttl &gt; 0 &amp;&amp; ttlUnit != null){\r\n\t    \t\tcacheBuilder.expireAfterWrite(ttl, ttlUnit);\r\n\t    \t}\r\n\t    \t\r\n\t    \t// Max size\r\n\t    \tif (maxSize != null &amp;&amp; maxSize &gt; 0){\r\n\t    \t\tcacheBuilder.maximumSize(maxSize);\r\n\t    \t}\r\n\t    \t\r\n\t    \t// Ticker\r\n\t    \tcacheBuilder.ticker(ticker);\r\n\t    \t\r\n\t    \treturn new CaffeineCache(cacheName, cacheBuilder.build());\r\n\t    }\r\n\t    \r\n\t    @Bean\r\n\t    public Ticker ticker() {\r\n\t        return Ticker.systemTicker();\r\n\t    }\r\n\t\t\r\n\t}","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>You can declare many cache configurations programmatically instead of using yaml.</p>\n<p>Something like this:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n\n    public static final String CACHE_A = &quot;cacheA&quot;;\n    public static final String CACHE_B = &quot;cacheB&quot;;\n    public static final String CACHE_C = &quot;cacheC&quot;;\n\n    @Bean\n    public CacheManager cacheManagerTicker(Ticker ticker) {\n       \n       List&lt;Cache&gt; caches = new ArrayList&lt;&gt;();\n       \n       // Cache A\n       caches.add(this.buildCache(CACHE_A, ticker, 2000L, 1L, TimeUnit.HOURS));\n       \n       // Cache B\n       caches.add(this.buildCache(CACHE_B, ticker, 2000L, 1L, TimeUnit.HOURS));\n       \n       // Cache C\n       caches.add(this.buildCache(CACHE_C, ticker, 3500L, 15L, TimeUnit.MINUTES));\n       \n       SimpleCacheManager cacheManager = new SimpleCacheManager();\n       cacheManager.setCaches(caches);\n       return cacheManager;\n    }\n    \n    private CaffeineCache buildCache(String cacheName, Ticker ticker, Long maxSize, Long ttl, TimeUnit ttlUnit){\n    \n        Caffeine&lt;Object, Object&gt; cacheBuilder = Caffeine.newBuilder();\n\n        // TTL\n        if (ttl != null &amp;&amp; ttl &gt; 0 &amp;&amp; ttlUnit != null){\n            cacheBuilder.expireAfterWrite(ttl, ttlUnit);\n        }\n        \n        // Max size\n        if (maxSize != null &amp;&amp; maxSize &gt; 0){\n            cacheBuilder.maximumSize(maxSize);\n        }\n        \n        // Ticker\n        cacheBuilder.ticker(ticker);\n        \n        return new CaffeineCache(cacheName, cacheBuilder.build());\n    }\n    \n    @Bean\n    public Ticker ticker() {\n        return Ticker.systemTicker();\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2662708,"reputation":951,"user_id":2302006,"display_name":"Nankai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696873364,"creation_date":1696873364,"answer_id":77260828,"question_id":63670352,"body_markdown":"Best solution for you.\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CacheConfig {\r\n        @Value(&quot;${cache.cache-names.otpCache}&quot;)\r\n        String otpCacheName;\r\n        @Value(&quot;${cache.cache-names.tokenCache}&quot;)\r\n        String tokenCacheName;\r\n        @Value(&quot;${cache.ttl.otpCache}&quot;)\r\n        int otpCacheTTL;\r\n        @Value(&quot;${cache.ttl.tokenCache}&quot;)\r\n        int tokenCacheTTL;\r\n    \r\n    \r\n        @Bean(&quot;otp-cache&quot;)\r\n        public CacheManager tokenCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(otpCacheName);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .expireAfterWrite(otpCacheTTL, TimeUnit.SECONDS));\r\n            return cacheManager;\r\n        }\r\n    \r\n        @Bean(&quot;token-cache&quot;)\r\n        public CacheManager otpCacheManager() {\r\n            CaffeineCacheManager cacheManager = new CaffeineCacheManager(tokenCacheName);\r\n            cacheManager.setCaffeine(Caffeine.newBuilder()\r\n                    .expireAfterWrite(tokenCacheTTL, TimeUnit.HOURS));\r\n            return cacheManager;\r\n        }\r\n    }","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>Best solution for you.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfig {\n    @Value(&quot;${cache.cache-names.otpCache}&quot;)\n    String otpCacheName;\n    @Value(&quot;${cache.cache-names.tokenCache}&quot;)\n    String tokenCacheName;\n    @Value(&quot;${cache.ttl.otpCache}&quot;)\n    int otpCacheTTL;\n    @Value(&quot;${cache.ttl.tokenCache}&quot;)\n    int tokenCacheTTL;\n\n\n    @Bean(&quot;otp-cache&quot;)\n    public CacheManager tokenCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(otpCacheName);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .expireAfterWrite(otpCacheTTL, TimeUnit.SECONDS));\n        return cacheManager;\n    }\n\n    @Bean(&quot;token-cache&quot;)\n    public CacheManager otpCacheManager() {\n        CaffeineCacheManager cacheManager = new CaffeineCacheManager(tokenCacheName);\n        cacheManager.setCaffeine(Caffeine.newBuilder()\n                .expireAfterWrite(tokenCacheTTL, TimeUnit.HOURS));\n        return cacheManager;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16189006,"reputation":65,"user_id":11688316,"display_name":"OLY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4941,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696873364,"creation_date":1598875004,"question_id":63670352,"body_markdown":"I need to use several caches in my service for different uses.\r\nI&#39;m looking for a way to separate their configurations like **maximumSize** and **expireAfterWrite**.\r\nI&#39;m using Spring and Kubernetes, and in the deploy.yaml I have this:\r\n\r\n    spring:\r\n      main:\r\n        allow-bean-definition-overriding: true\r\n      cache:\r\n        type: CAFFEINE\r\n        cache-names: cacheA, cacheB\r\n        caffeine:\r\n          spec: expireAfterWrite=1h,maximumSize=2000\r\n      output:\r\n        ansi:\r\n          enabled: never\r\n\r\nI want to create a new cache, **cacheC**, which will have a different configurations. \r\n\r\nHow can I do that? Thanks!","title":"Define multiple caches configurations with Spring and Caffeine","body":"<p>I need to use several caches in my service for different uses.\nI'm looking for a way to separate their configurations like <strong>maximumSize</strong> and <strong>expireAfterWrite</strong>.\nI'm using Spring and Kubernetes, and in the deploy.yaml I have this:</p>\n<pre><code>spring:\n  main:\n    allow-bean-definition-overriding: true\n  cache:\n    type: CAFFEINE\n    cache-names: cacheA, cacheB\n    caffeine:\n      spec: expireAfterWrite=1h,maximumSize=2000\n  output:\n    ansi:\n      enabled: never\n</code></pre>\n<p>I want to create a new cache, <strong>cacheC</strong>, which will have a different configurations.</p>\n<p>How can I do that? Thanks!</p>\n"},{"tags":["java","command-line","jvm-arguments"],"comments":[{"owner":{"account_id":6583624,"reputation":2702,"user_id":5087125,"display_name":"pvg"},"score":0,"creation_date":1504020031,"post_id":45942772,"comment_id":78843940,"body_markdown":"No but you can write a script that launches java for you, including your long options, which amounts to the same thing in most practical cases.","body":"No but you can write a script that launches java for you, including your long options, which amounts to the same thing in most practical cases."},{"owner":{"account_id":7009242,"reputation":1636,"user_id":5372723,"accept_rate":100,"display_name":"Turtle"},"score":0,"creation_date":1504020110,"post_id":45942772,"comment_id":78844010,"body_markdown":"Why can&#39;t you read the file first, and write the options when calling java?","body":"Why can&#39;t you read the file first, and write the options when calling java?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504020696,"post_id":45942772,"comment_id":78844395,"body_markdown":"All the Java args have to be there when it&#39;s launched in this case. I&#39;m trying to launch the application inside a tool called VMMap, which can only launch applications with a 260 character command line. My application has a command line that&#39;s over 5,500 characters (which doesn&#39;t fit). I&#39;ve updated the original post to include this information.","body":"All the Java args have to be there when it&#39;s launched in this case. I&#39;m trying to launch the application inside a tool called VMMap, which can only launch applications with a 260 character command line. My application has a command line that&#39;s over 5,500 characters (which doesn&#39;t fit). I&#39;ve updated the original post to include this information."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504022909,"post_id":45942772,"comment_id":78845767,"body_markdown":"Your question is an [X/Y Problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Tell us what problem you are trying to solve instead of asking for help with the solution, which does not appear to be the correct approach.","body":"Your question is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X/Y Problem</a>. Tell us what problem you are trying to solve instead of asking for help with the solution, which does not appear to be the correct approach."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1504036678,"post_id":45942772,"comment_id":78853182,"body_markdown":"(1) If you mean VMMap from former-sysinternals-now-part-of-MS, it can handle a pre-existing process just fine, at least as of the 2014 version I have (2) If `-classpath` alone is (much of) the problem, use envvar `CLASSPATH` instead, or wildcards, or fat jar(s) (3) Otherwise, it _may_ work to use envvar `_JAVA_OPTIONS` and/or `JAVA_TOOL_OPTIONS`","body":"(1) If you mean VMMap from former-sysinternals-now-part-of-MS, it can handle a pre-existing process just fine, at least as of the 2014 version I have (2) If <code>-classpath</code> alone is (much of) the problem, use envvar <code>CLASSPATH</code> instead, or wildcards, or fat jar(s) (3) Otherwise, it <i>may</i> work to use envvar <code>_JAVA_OPTIONS</code> and/or <code>JAVA_TOOL_OPTIONS</code>"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504079377,"post_id":45942772,"comment_id":78867422,"body_markdown":"@dave_thompson_085 Yes, it&#39;s the VMMap from SysInternals. There are effectively two ways you can debug a process with it. You can either directly attach to a running process, and it will show all the memory allocated to the process and let you look at string values held in the heap etc. The second method is to get VMMap to launch the process directly. In this mode, VMMap hooks the APIs for memory allocation and can show you memory leaks including callstacks. It&#39;s a much more detailed view of the process :) Good idea about using _JAVA_OPTIONS and/or CLASSPATH environment vars - will try those.","body":"@dave_thompson_085 Yes, it&#39;s the VMMap from SysInternals. There are effectively two ways you can debug a process with it. You can either directly attach to a running process, and it will show all the memory allocated to the process and let you look at string values held in the heap etc. The second method is to get VMMap to launch the process directly. In this mode, VMMap hooks the APIs for memory allocation and can show you memory leaks including callstacks. It&#39;s a much more detailed view of the process :) Good idea about using _JAVA_OPTIONS and/or CLASSPATH environment vars - will try those."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504080087,"post_id":45942772,"comment_id":78867863,"body_markdown":"@JarrodRoberson Thanks for the feedback, but this is not an X/Y Problem. My actual problem is that I can&#39;t debug my application with VMMap (one of many tools in my arsenal that I use regularly to debug native applications). As my application contains Java, C++ and C# code, it is a very useful tool. I know how VMMap works and what I can use it for. In this case, I need to use it to find a memory leak. But I don&#39;t need help finding the memory leak as I&#39;m quite proficient at doing that on my own. What I don&#39;t know is how to launch Java.exe and provide command line parameters in a file.","body":"@JarrodRoberson Thanks for the feedback, but this is not an X/Y Problem. My actual problem is that I can&#39;t debug my application with VMMap (one of many tools in my arsenal that I use regularly to debug native applications). As my application contains Java, C++ and C# code, it is a very useful tool. I know how VMMap works and what I can use it for. In this case, I need to use it to find a memory leak. But I don&#39;t need help finding the memory leak as I&#39;m quite proficient at doing that on my own. What I don&#39;t know is how to launch Java.exe and provide command line parameters in a file."},{"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"score":0,"creation_date":1504095257,"post_id":45942772,"comment_id":78878219,"body_markdown":"Did you try the solution I provided?","body":"Did you try the solution I provided?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504098966,"post_id":45942772,"comment_id":78881235,"body_markdown":"@nagendra547 Hi, yes I did try your suggestion and have left a comment with your answer.","body":"@nagendra547 Hi, yes I did try your suggestion and have left a comment with your answer."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504099271,"post_id":45942772,"comment_id":78881520,"body_markdown":"@MarkDouglas - the variations of solutions that are not what you are asking for and honestly better solutions points to the X/Y conclusion. You do not need to load from a text file you need to feed the same requirements to VMMap which does not predicate loading command line options from a text file as the solutions in the comments and answers prove out. You should edit your question to reword it without the request to do something that is impossible.","body":"@MarkDouglas - the variations of solutions that are not what you are asking for and honestly better solutions points to the X/Y conclusion. You do not need to load from a text file you need to feed the same requirements to VMMap which does not predicate loading command line options from a text file as the solutions in the comments and answers prove out. You should edit your question to reword it without the request to do something that is impossible."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504099609,"post_id":45942772,"comment_id":78881791,"body_markdown":"@JarrodRoberson The requirement is simple. I need to pass a very long list of command args to my application for it to run. This is over 5,500 characters in length. VMMap only allows you to specify 260 characters. One solution would have been to specify the command arguments in a file and have Java.exe read that file, but it sounds like this is not possible with the Oracle JVM. In this case the answer to my original question is &#39;it is not possible&#39;, which is an acceptable answer if true. I just needed to explore if it was possible and could have helped others who have similar requirements.","body":"@JarrodRoberson The requirement is simple. I need to pass a very long list of command args to my application for it to run. This is over 5,500 characters in length. VMMap only allows you to specify 260 characters. One solution would have been to specify the command arguments in a file and have Java.exe read that file, but it sounds like this is not possible with the Oracle JVM. In this case the answer to my original question is &#39;it is not possible&#39;, which is an acceptable answer if true. I just needed to explore if it was possible and could have helped others who have similar requirements."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504099778,"post_id":45942772,"comment_id":78881942,"body_markdown":"@JarrodRoberson I&#39;m not sure how you can call the other suggestions &#39;better solutions&#39; as none of them allow me to pass command line arguments in a file to the JVM. You are trying to get me change my question into something that people (including myself) can already answer. My question is NOT &#39;how do I pass a very long list of arguments to Java.exe&#39;.","body":"@JarrodRoberson I&#39;m not sure how you can call the other suggestions &#39;better solutions&#39; as none of them allow me to pass command line arguments in a file to the JVM. You are trying to get me change my question into something that people (including myself) can already answer. My question is NOT &#39;how do I pass a very long list of arguments to Java.exe&#39;."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1504100748,"post_id":45942772,"comment_id":78882734,"body_markdown":"@MarkDouglas - the point is you do not **have** to pass command line args from a file into the JVM, you need to provide the same args to both programs. That is your actual problem. *How to pass the same args to two programs when one of them do not allow you to read them from a file.?** The point is you do **not** have to make `java` read from a file, because that is not going to happen. If you do not edit your question do not expect any better answers that you have now. Just trying to help and provide some guidance on how to succeed on the site.","body":"@MarkDouglas - the point is you do not <b>have</b> to pass command line args from a file into the JVM, you need to provide the same args to both programs. That is your actual problem. <i>How to pass the same args to two programs when one of them do not allow you to read them from a file.?*</i> The point is you do <b>not</b> have to make <code>java</code> read from a file, because that is not going to happen. If you do not edit your question do not expect any better answers that you have now. Just trying to help and provide some guidance on how to succeed on the site."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504101361,"post_id":45942772,"comment_id":78883275,"body_markdown":"@JarrodRoberson This is getting silly. I know how to pass arguments on the command line. I am NOT attempting to pass the same arguments to &#39;both programs&#39;, only to Java.exe *from* VMMap. But even that is almost irrelevant. All I wanted to know is how (if possible) I can pass arguments in a file. The original question says *exactly* that, but you are assuming I&#39;m trying to solve a different issue, which I am not. How would you suggest I reword my question if all I want to know is how, if possible, can I pass command line args in a file to Java.exe?","body":"@JarrodRoberson This is getting silly. I know how to pass arguments on the command line. I am NOT attempting to pass the same arguments to &#39;both programs&#39;, only to Java.exe <i>from</i> VMMap. But even that is almost irrelevant. All I wanted to know is how (if possible) I can pass arguments in a file. The original question says <i>exactly</i> that, but you are assuming I&#39;m trying to solve a different issue, which I am not. How would you suggest I reword my question if all I want to know is how, if possible, can I pass command line args in a file to Java.exe?"},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504101489,"post_id":45942772,"comment_id":78883375,"body_markdown":"@JarrodRoberson I know you are trying to help, and it *is* appreciated, but please understand that my original question is all that I want an answer to - nothing more, nothing less.","body":"@JarrodRoberson I know you are trying to help, and it <i>is</i> appreciated, but please understand that my original question is all that I want an answer to - nothing more, nothing less."}],"answers":[{"comments":[{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504020970,"post_id":45942925,"comment_id":78844575,"body_markdown":"Sorry, I forgot to mention that this is on Windows. I&#39;ve updated the original post.","body":"Sorry, I forgot to mention that this is on Windows. I&#39;ve updated the original post."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1504021015,"post_id":45942925,"comment_id":78844590,"body_markdown":"Cygwin and GOW are Windows compatible and can provide the `xargs` tool.","body":"Cygwin and GOW are Windows compatible and can provide the <code>xargs</code> tool."},{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504021424,"post_id":45942925,"comment_id":78844810,"body_markdown":"Thanks glitch, but it sounds like xargs would be launching Java.exe which wouldn&#39;t work in VMMap. VMMap takes the path of the .exe to launch and attach to, and then allows you to monitor native memory allocations *in that process only*. If xargs then launched Java.exe, VMMap would be unable to monitor it.","body":"Thanks glitch, but it sounds like xargs would be launching Java.exe which wouldn&#39;t work in VMMap. VMMap takes the path of the .exe to launch and attach to, and then allows you to monitor native memory allocations <i>in that process only</i>. If xargs then launched Java.exe, VMMap would be unable to monitor it."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1504021577,"post_id":45942925,"comment_id":78844886,"body_markdown":"@MarkDouglas yes, agreed. Although `xargs` is a valid way of bridging arguments-&gt;process, your updated question makes clear that it won&#39;t meet your &#39;within VMMap&#39; needs. Perhaps the question title could be updated to make clear the need to tweak the behaviour of a java process spawned by VMMap? Otherwise, you might get passers-by offering opinions on launching your own java process (which is a much simpler proposition).","body":"@MarkDouglas yes, agreed. Although <code>xargs</code> is a valid way of bridging arguments-&gt;process, your updated question makes clear that it won&#39;t meet your &#39;within VMMap&#39; needs. Perhaps the question title could be updated to make clear the need to tweak the behaviour of a java process spawned by VMMap? Otherwise, you might get passers-by offering opinions on launching your own java process (which is a much simpler proposition)."}],"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504020619,"creation_date":1504020293,"answer_id":45942925,"question_id":45942772,"body_markdown":"You could use `xargs`.\r\n\r\nGiven a file, `arguments.in`, with the following contents:\r\n\r\n    ~/dev/code$ more arguments.in\r\n    -version\r\n\r\nInvoked like so:\r\n\r\n    ~/dev/code$ cat arguments.in | xargs $JAVA_HOME/bin/java\r\n\r\nProduces this output (i.e. the same output as if you invoked `java -version`):\r\n\r\n    java version &quot;1.8.0_51&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_51-b16)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\r\n\r\nNote: this assumes you are either on a *nix OS or are using Cygwin (or a simulator emulator such as [GOW](https://github.com/bmatzelle/gow/wiki)).","title":"How can I pass Java command line options in a separate file?","body":"<p>You could use <code>xargs</code>.</p>\n\n<p>Given a file, <code>arguments.in</code>, with the following contents:</p>\n\n<pre><code>~/dev/code$ more arguments.in\n-version\n</code></pre>\n\n<p>Invoked like so:</p>\n\n<pre><code>~/dev/code$ cat arguments.in | xargs $JAVA_HOME/bin/java\n</code></pre>\n\n<p>Produces this output (i.e. the same output as if you invoked <code>java -version</code>):</p>\n\n<pre><code>java version \"1.8.0_51\"\nJava(TM) SE Runtime Environment (build 1.8.0_51-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\n</code></pre>\n\n<p>Note: this assumes you are either on a *nix OS or are using Cygwin (or a simulator emulator such as <a href=\"https://github.com/bmatzelle/gow/wiki\" rel=\"nofollow noreferrer\">GOW</a>).</p>\n"},{"comments":[{"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"score":0,"creation_date":1504098911,"post_id":45943168,"comment_id":78881189,"body_markdown":"I don&#39;t think this can work because it&#39;s the command prompt (shell) that performs the expansion of environment variables into their actual values. When you run &#39;java.exe %VAR% yourClass&#39; from a command prompt, the substitution of %VAR% is performed before java.exe is invoked. When trying this from within VMMap, the substitution will not take place because it&#39;s simply passing the raw text &#39;%VAR%&#39; to the process being invoked.","body":"I don&#39;t think this can work because it&#39;s the command prompt (shell) that performs the expansion of environment variables into their actual values. When you run &#39;java.exe %VAR% yourClass&#39; from a command prompt, the substitution of %VAR% is performed before java.exe is invoked. When trying this from within VMMap, the substitution will not take place because it&#39;s simply passing the raw text &#39;%VAR%&#39; to the process being invoked."}],"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504022644,"creation_date":1504021013,"answer_id":45943168,"question_id":45942772,"body_markdown":"Simple way:-\r\n\r\n    yourclassName=JavaClassName\r\n    java `cat myOptionsFile.txt` $yourclassName\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nIn windows, this should work fine.\r\n\r\n    set /p VAR=&lt;myOptionsFile.txt\r\n    java.exe %VAR% yourclassName","title":"How can I pass Java command line options in a separate file?","body":"<p>Simple way:-</p>\n\n<pre><code>yourclassName=JavaClassName\njava `cat myOptionsFile.txt` $yourclassName\n</code></pre>\n\n<hr>\n\n<p>In windows, this should work fine.</p>\n\n<pre><code>set /p VAR=&lt;myOptionsFile.txt\njava.exe %VAR% yourclassName\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686580185,"creation_date":1686580185,"answer_id":76457663,"question_id":45942772,"body_markdown":"Since Java 11 (maybe before), it&#39;s possible to pass an argument file\r\n\r\n```bash\r\n$ java @my-args.txt -jar the.jar\r\n```\r\n\r\n`my-args.txt`\r\n```\r\n-Xms1G\r\n-Xmx30G\r\n```\r\n\r\n","title":"How can I pass Java command line options in a separate file?","body":"<p>Since Java 11 (maybe before), it's possible to pass an argument file</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java @my-args.txt -jar the.jar\n</code></pre>\n<p><code>my-args.txt</code></p>\n<pre><code>-Xms1G\n-Xmx30G\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1559017,"reputation":319,"user_id":1449366,"display_name":"AnrDaemon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696873249,"creation_date":1696873249,"answer_id":77260817,"question_id":45942772,"body_markdown":"Building on top of @nagendra547&#39;s answer,\r\n\r\n`java $( grep -vE &#39;^[#;]&#39; &quot;$PWD/jvm.parameters&quot; ) -jar whatever.jar`\r\n\r\nwill also allow you to include comments in your parameters file.","title":"How can I pass Java command line options in a separate file?","body":"<p>Building on top of @nagendra547's answer,</p>\n<p><code>java $( grep -vE '^[#;]' &quot;$PWD/jvm.parameters&quot; ) -jar whatever.jar</code></p>\n<p>will also allow you to include comments in your parameters file.</p>\n"}],"owner":{"account_id":7146599,"reputation":365,"user_id":5462102,"display_name":"Mark Douglas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2889,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"answer_count":4,"score":7,"last_activity_date":1696873249,"creation_date":1504019815,"question_id":45942772,"body_markdown":"Is there any way of launching Oracle&#39;s Java.exe and have it take its command line options from a text file on Windows?\r\n\r\nWhat I&#39;d like to be able to do is something like this:\r\n\r\n    java.exe -optionsFile=myOptionsFile.txt MyClass\r\n\r\nwhere &#39;myOptionsFile.txt&#39; contains a list of standard Java VM options such as &quot;-classpath=&quot;my very long classpath&quot; and &quot;-Dthis=that&quot; etc.\r\n\r\nAll of the options must be present when Java.exe is run as it is the target of a memory debugging tool called VMMap. VMMap allows you to launch a .exe and attach to it in order to debug native heap issues. In this case, I cannot generate the command line args at runtime or have another process launch java.exe for me.","title":"How can I pass Java command line options in a separate file?","body":"<p>Is there any way of launching Oracle's Java.exe and have it take its command line options from a text file on Windows?</p>\n\n<p>What I'd like to be able to do is something like this:</p>\n\n<pre><code>java.exe -optionsFile=myOptionsFile.txt MyClass\n</code></pre>\n\n<p>where 'myOptionsFile.txt' contains a list of standard Java VM options such as \"-classpath=\"my very long classpath\" and \"-Dthis=that\" etc.</p>\n\n<p>All of the options must be present when Java.exe is run as it is the target of a memory debugging tool called VMMap. VMMap allows you to launch a .exe and attach to it in order to debug native heap issues. In this case, I cannot generate the command line args at runtime or have another process launch java.exe for me.</p>\n"},{"tags":["java","gradle","intellij-idea","project"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":0,"creation_date":1542961262,"post_id":53442569,"comment_id":93758698,"body_markdown":"Did you try to invalidate the cache ?","body":"Did you try to invalidate the cache ?"},{"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"score":0,"creation_date":1542964398,"post_id":53442569,"comment_id":93760249,"body_markdown":"Yeah, but nothing change","body":"Yeah, but nothing change"},{"owner":{"account_id":12273514,"reputation":1909,"user_id":8958060,"display_name":"Petr Rastegaev"},"score":2,"creation_date":1542972239,"post_id":53442569,"comment_id":93764313,"body_markdown":"Sounds like https://youtrack.jetbrains.com/issue/IDEA-202685","body":"Sounds like <a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-202685</a>"},{"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"score":0,"creation_date":1543078259,"post_id":53442569,"comment_id":93792195,"body_markdown":"Ho ok, It&#39;s a recent problem. I see.. Thanks","body":"Ho ok, It&#39;s a recent problem. I see.. Thanks"}],"answers":[{"comments":[{"owner":{"account_id":3064504,"reputation":2117,"user_id":2995907,"accept_rate":56,"display_name":"dingalapadum"},"score":0,"creation_date":1546623451,"post_id":53729676,"comment_id":94922709,"body_markdown":"I didn&#39;t have the _exact same issue_ but quite a similar one - this solved it for me, so +1","body":"I didn&#39;t have the <i>exact same issue</i> but quite a similar one - this solved it for me, so +1"}],"tags":[],"owner":{"account_id":7278276,"reputation":147,"user_id":5548926,"display_name":"Izumi.H"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1544550534,"creation_date":1544550534,"answer_id":53729676,"question_id":53442569,"body_markdown":"I had the exact same issue and had to downgrade IntelliJ to 2018.2 to fix it.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had the exact same issue and had to downgrade IntelliJ to 2018.2 to fix it.</p>\n"},{"comments":[{"owner":{"account_id":1199473,"reputation":163,"user_id":1170435,"display_name":"Kevin Koshiol"},"score":4,"creation_date":1576167923,"post_id":54113046,"comment_id":104820106,"body_markdown":"I&#39;m getting this error in CE 2019.3, but I don&#39;t see the configuration as you have described","body":"I&#39;m getting this error in CE 2019.3, but I don&#39;t see the configuration as you have described"},{"owner":{"account_id":1848026,"reputation":899,"user_id":1675260,"display_name":"n0noob"},"score":2,"creation_date":1582107166,"post_id":54113046,"comment_id":106659799,"body_markdown":"Confirmed, mentioned options do not exists for Intellij IDEA 2019.3.\nHence, mentioned solution is not working anymore","body":"Confirmed, mentioned options do not exists for Intellij IDEA 2019.3. Hence, mentioned solution is not working anymore"}],"tags":[],"owner":{"account_id":1259498,"reputation":6156,"user_id":1218213,"display_name":"squaleLis"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1547046387,"creation_date":1547046387,"answer_id":54113046,"question_id":53442569,"body_markdown":"This is the ticket of the error (as spotted by [Petr Rastegaev][1] in the comments of the question):\n\n- https://youtrack.jetbrains.com/issue/IDEA-202685\n\nIn the thread, I found this workaround that worked for me:\n\n&gt; Settings -&gt; Build -&gt; Gradle -&gt; &quot;Create separate module per source set&quot;\n&gt;\n&gt; checked fails, unchecked is ok.\n\n\n\n  [1]: https://stackoverflow.com/users/8958060/petr-rastegaev","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This is the ticket of the error (as spotted by <a href=\"https://stackoverflow.com/users/8958060/petr-rastegaev\">Petr Rastegaev</a> in the comments of the question):</p>\n<ul>\n<li><a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-202685</a></li>\n</ul>\n<p>In the thread, I found this workaround that worked for me:</p>\n<blockquote>\n<p>Settings -&gt; Build -&gt; Gradle -&gt; &quot;Create separate module per source set&quot;</p>\n<p>checked fails, unchecked is ok.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1428336,"reputation":4593,"user_id":1351319,"accept_rate":52,"display_name":"Yaroslav"},"score":0,"creation_date":1580898232,"post_id":54440503,"comment_id":106246378,"body_markdown":"I had to use https for repo1.maven.org instead of http.","body":"I had to use https for repo1.maven.org instead of http."}],"tags":[],"owner":{"account_id":13587537,"reputation":51,"user_id":9801831,"display_name":"J&#233;r&#233;my L."},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548850726,"creation_date":1548850726,"answer_id":54440503,"question_id":53442569,"body_markdown":"This probably comes from a problem regarding a dependency in your project.\r\n\r\nCheck this thread : https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0\r\n\r\nIn my project, when I run gradle build, I have an error message related to the dependency in error. After solving that particular issue, gradle sync works normally.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This probably comes from a problem regarding a dependency in your project.</p>\n\n<p>Check this thread : <a href=\"https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-202685#focus=streamItem-27-3265172-0-0</a></p>\n\n<p>In my project, when I run gradle build, I have an error message related to the dependency in error. After solving that particular issue, gradle sync works normally.</p>\n"},{"tags":[],"owner":{"account_id":17564254,"reputation":1,"user_id":12741484,"display_name":"user12741484"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579428034,"creation_date":1579428034,"answer_id":59808985,"question_id":53442569,"body_markdown":"file path : gradle\\wrapper\\gradle-wrapper.properties   \r\n\r\nchange the setting to: distributionUrl=https\\://services.gradle.org/distributions/gradle-5.5.1-bin.zip","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>file path : gradle\\wrapper\\gradle-wrapper.properties   </p>\n\n<p>change the setting to: distributionUrl=https://services.gradle.org/distributions/gradle-5.5.1-bin.zip</p>\n"},{"tags":[],"owner":{"account_id":13276031,"reputation":46,"user_id":9585354,"display_name":"Sergey Khovrachev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580814202,"creation_date":1580814202,"answer_id":60055965,"question_id":53442569,"body_markdown":"I had the same exception in idea 2019.3.2. I removed Idea settings  (folder “.idea” ) and set up project again from scratch. That fixed the issue for me.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had the same exception in idea 2019.3.2. I removed Idea settings  (folder “.idea” ) and set up project again from scratch. That fixed the issue for me.</p>\n"},{"comments":[{"owner":{"account_id":16147660,"reputation":424,"user_id":11656856,"display_name":"Mostafa Imani"},"score":1,"creation_date":1662290131,"post_id":60549473,"comment_id":129967702,"body_markdown":"it was for my network issue too, Iranian must use VPN","body":"it was for my network issue too, Iranian must use VPN"}],"tags":[],"owner":{"account_id":16467156,"reputation":385,"user_id":11897032,"display_name":"trex"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1583424118,"creation_date":1583424118,"answer_id":60549473,"question_id":53442569,"body_markdown":"In my case it was caused due to being in &quot;offline mode&quot;.\r\n\r\nSimply enough, going out of offline mode did the trick.\r\n\r\n[Offline mode button][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vNqE7.png","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>In my case it was caused due to being in \"offline mode\".</p>\n\n<p>Simply enough, going out of offline mode did the trick.</p>\n\n<p><a href=\"https://i.stack.imgur.com/vNqE7.png\" rel=\"noreferrer\">Offline mode button</a></p>\n"},{"tags":[],"owner":{"account_id":11033244,"reputation":11,"user_id":8104007,"display_name":"Lucy Miracle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583917592,"creation_date":1583917592,"answer_id":60632480,"question_id":53442569,"body_markdown":"Version: 2019.3.3\r\nBuild: 193.6494.35\r\n\r\n1 Disabling the proxy configured inside IntelliJ settings.\r\n\r\n2 Sync.\r\n\r\n3 Re-enable the configured proxy.\r\n\r\n4 Sync should still work.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Version: 2019.3.3\nBuild: 193.6494.35</p>\n\n<p>1 Disabling the proxy configured inside IntelliJ settings.</p>\n\n<p>2 Sync.</p>\n\n<p>3 Re-enable the configured proxy.</p>\n\n<p>4 Sync should still work.</p>\n"},{"tags":[],"owner":{"account_id":3977983,"reputation":574,"user_id":3613216,"display_name":"foo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586464326,"creation_date":1586464326,"answer_id":61129747,"question_id":53442569,"body_markdown":"Try removing the local maven repository and re-importing the gradle project, i.e\r\n\r\n`rm -rf ~/.m2/repository/*`\r\n\r\nand then reimport.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Try removing the local maven repository and re-importing the gradle project, i.e</p>\n\n<p><code>rm -rf ~/.m2/repository/*</code></p>\n\n<p>and then reimport.</p>\n"},{"tags":[],"owner":{"account_id":10285344,"reputation":85,"user_id":7588855,"display_name":"Bhargav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594183585,"creation_date":1594183585,"answer_id":62787724,"question_id":53442569,"body_markdown":"In my case I got this error due to credentials miss match in the Gradle.properties. So I have updated the credentials and the issue was resolved.","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>In my case I got this error due to credentials miss match in the Gradle.properties. So I have updated the credentials and the issue was resolved.</p>\n"},{"tags":[],"owner":{"account_id":211427,"reputation":81,"user_id":4796504,"display_name":"keshav jois"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595203045,"creation_date":1595203045,"answer_id":62986930,"question_id":53442569,"body_markdown":"I had faced the same issue in Intellij version 2019.3.3 \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pGMK4.png\r\n\r\nissue was fixed when i upgraded the intellij version to 2020.1.3","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I had faced the same issue in Intellij version 2019.3.3\n<a href=\"https://i.stack.imgur.com/pGMK4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pGMK4.png\" alt=\"enter image description here\" /></a></p>\n<p>issue was fixed when i upgraded the intellij version to 2020.1.3</p>\n"},{"tags":[],"owner":{"account_id":20902551,"reputation":51,"user_id":15355327,"display_name":"Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615222678,"creation_date":1615222678,"answer_id":66533961,"question_id":53442569,"body_markdown":"This worked for me:\r\nLaunch cmd -&gt; navigate to the project path -&gt; run the command &quot;gradlew clean build&quot; -&gt; once done reimport gradle changes.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>This worked for me:\nLaunch cmd -&gt; navigate to the project path -&gt; run the command &quot;gradlew clean build&quot; -&gt; once done reimport gradle changes.</p>\n"},{"tags":[],"owner":{"account_id":1402286,"reputation":6262,"user_id":1330816,"display_name":"paneer_tikka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670312289,"creation_date":1670312289,"answer_id":74698847,"question_id":53442569,"body_markdown":"I was getting this error on a `react-native` project. My project ran fine using `react-native run-android` but Android studio failed to finish `gradle sync` with the above exception.\r\n\r\n**TLDR;** \r\n\r\nIn my case, it was caused by `react-native-gradle-plugin` that was being included from `settings.gradle`. This got added as a result of upgrading react to 0.69 in my project.\r\n\r\nI was able to comment out the following to finish gradle sync:\r\n1. In `settings.gradle`\r\n```\r\n//includeBuild(&#39;../node_modules/react-native-gradle-plugin&#39;)\r\n```\r\n2. In `android/build.gradle`\r\n```\r\n//        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\r\n```\r\n\r\nI tried installing `react-native-gradle-plugin` with `yarn` and tried adding the classpath, but that quickly snowballed into version incompatibilities between gradle version needed by the plugin and Android studio.\r\nI&#39;m not sure what side effects this commenting out has, but I haven&#39;t noticed any!","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I was getting this error on a <code>react-native</code> project. My project ran fine using <code>react-native run-android</code> but Android studio failed to finish <code>gradle sync</code> with the above exception.</p>\n<p><strong>TLDR;</strong></p>\n<p>In my case, it was caused by <code>react-native-gradle-plugin</code> that was being included from <code>settings.gradle</code>. This got added as a result of upgrading react to 0.69 in my project.</p>\n<p>I was able to comment out the following to finish gradle sync:</p>\n<ol>\n<li>In <code>settings.gradle</code></li>\n</ol>\n<pre><code>//includeBuild('../node_modules/react-native-gradle-plugin')\n</code></pre>\n<ol start=\"2\">\n<li>In <code>android/build.gradle</code></li>\n</ol>\n<pre><code>//        classpath(&quot;com.facebook.react:react-native-gradle-plugin&quot;)\n</code></pre>\n<p>I tried installing <code>react-native-gradle-plugin</code> with <code>yarn</code> and tried adding the classpath, but that quickly snowballed into version incompatibilities between gradle version needed by the plugin and Android studio.\nI'm not sure what side effects this commenting out has, but I haven't noticed any!</p>\n"},{"comments":[{"owner":{"account_id":5131203,"reputation":442,"user_id":4111346,"display_name":"Ids Klijnsma"},"score":0,"creation_date":1699630846,"post_id":76990979,"comment_id":136560187,"body_markdown":"This worked for me!","body":"This worked for me!"}],"tags":[],"owner":{"account_id":394788,"reputation":1150,"user_id":757408,"display_name":"Mihai Timar"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693209824,"creation_date":1693209824,"answer_id":76990979,"question_id":53442569,"body_markdown":"I&#39;ve encountered this recently on AndroidStudio 2022.3.1\r\n\r\nIn my case it was a sub project with a weird path. It&#39;s sitting next to the root project and i have a symlink in a subfolder that points to it.\r\nNot sure which of the two causes the issue, or if it&#39;s the combination.\r\n\r\nThe fix was changing how the subproject is included, from:\r\n\r\n    includeBuild(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;)\r\nto:\r\n\r\n    includeBuild(file(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;).toPath().toRealPath().toAbsolutePath().toString())\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I've encountered this recently on AndroidStudio 2022.3.1</p>\n<p>In my case it was a sub project with a weird path. It's sitting next to the root project and i have a symlink in a subfolder that points to it.\nNot sure which of the two causes the issue, or if it's the combination.</p>\n<p>The fix was changing how the subproject is included, from:</p>\n<pre><code>includeBuild(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;)\n</code></pre>\n<p>to:</p>\n<pre><code>includeBuild(file(&quot;path/with/symlink/pointing/outside/project-root/folder&quot;).toPath().toRealPath().toAbsolutePath().toString())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29402963,"reputation":19,"user_id":22528704,"display_name":"Wassim Becheikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696873188,"creation_date":1696873188,"answer_id":77260810,"question_id":53442569,"body_markdown":"Click the button next to device manager called &quot;Sync Project with gradle files&quot;.\r\n","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>Click the button next to device manager called &quot;Sync Project with gradle files&quot;.</p>\n"}],"owner":{"account_id":13827681,"reputation":201,"user_id":9981504,"display_name":"Yohannlog"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28226,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":14,"score":20,"last_activity_date":1696873188,"creation_date":1542959340,"question_id":53442569,"body_markdown":"I have a problem since 2 days with intellij. When I refresh gradle project, I have an error in the console and I used Java 11.\r\n\r\nI search everywhere but few people have this problem.\r\n\r\n&gt; exception during working with external system: java.lang.AssertionError\r\n\tat org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.populateModuleContentRoots(BaseGradleProjectResolverExtension.java:272)\r\n\tat com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:185)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\r\n\tat org.jetbrains.plugins.gradle.service.project.TracedProjectResolverExtension.populateModuleContentRoots(TracedProjectResolverExtension.java:62)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:382)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$200(GradleProjectResolver.java:76)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:879)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:862)\r\n\tat org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:217)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:141)\r\n\tat org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:76)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\r\n\tat com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:58)\r\n\tat com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\r\n\tat com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\r\n\tat com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:100)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:166)\r\n\tat com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:152)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:554)\r\n\tat com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:659)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:727)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:164)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:582)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:532)\r\n\tat com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:151)\r\n\tat com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:403)\r\n\tat com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nSomeone can help me ?\r\n\r\nYohann\r\n\r\n\r\n\r\n ","title":"IntellIj 2018.3 java.lang.AssertionError when refresh gradle project","body":"<p>I have a problem since 2 days with intellij. When I refresh gradle project, I have an error in the console and I used Java 11.</p>\n\n<p>I search everywhere but few people have this problem.</p>\n\n<blockquote>\n  <p>exception during working with external system: java.lang.AssertionError\n      at org.jetbrains.plugins.gradle.service.project.BaseGradleProjectResolverExtension.populateModuleContentRoots(BaseGradleProjectResolverExtension.java:272)\n      at com.android.tools.idea.gradle.project.sync.idea.AndroidGradleProjectResolver.populateModuleContentRoots(AndroidGradleProjectResolver.java:185)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.AbstractProjectResolverExtension.populateModuleContentRoots(AbstractProjectResolverExtension.java:95)\n      at org.jetbrains.plugins.gradle.service.project.TracedProjectResolverExtension.populateModuleContentRoots(TracedProjectResolverExtension.java:62)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.doResolveProjectInfo(GradleProjectResolver.java:382)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.access$200(GradleProjectResolver.java:76)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:879)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver$ProjectConnectionDataNodeFunction.fun(GradleProjectResolver.java:862)\n      at org.jetbrains.plugins.gradle.service.execution.GradleExecutionHelper.execute(GradleExecutionHelper.java:217)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:141)\n      at org.jetbrains.plugins.gradle.service.project.GradleProjectResolver.resolveProjectInfo(GradleProjectResolver.java:76)\n      at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.lambda$resolveProjectInfo$0(RemoteExternalSystemProjectResolverImpl.java:37)\n      at com.intellij.openapi.externalSystem.service.remote.AbstractRemoteExternalSystemService.execute(AbstractRemoteExternalSystemService.java:58)\n      at com.intellij.openapi.externalSystem.service.remote.RemoteExternalSystemProjectResolverImpl.resolveProjectInfo(RemoteExternalSystemProjectResolverImpl.java:37)\n      at com.intellij.openapi.externalSystem.service.remote.wrapper.ExternalSystemProjectResolverWrapper.resolveProjectInfo(ExternalSystemProjectResolverWrapper.java:45)\n      at com.intellij.openapi.externalSystem.service.internal.ExternalSystemResolveProjectTask.doExecute(ExternalSystemResolveProjectTask.java:100)\n      at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:166)\n      at com.intellij.openapi.externalSystem.service.internal.AbstractExternalSystemTask.execute(AbstractExternalSystemTask.java:152)\n      at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$3.execute(ExternalSystemUtil.java:554)\n      at com.intellij.openapi.externalSystem.util.ExternalSystemUtil$5.run(ExternalSystemUtil.java:659)\n      at com.intellij.openapi.progress.impl.CoreProgressManager$TaskRunnable.run(CoreProgressManager.java:727)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.lambda$runProcess$2(CoreProgressManager.java:164)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.registerIndicatorAndRun(CoreProgressManager.java:582)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.executeProcessUnderProgress(CoreProgressManager.java:532)\n      at com.intellij.openapi.progress.impl.ProgressManagerImpl.executeProcessUnderProgress(ProgressManagerImpl.java:87)\n      at com.intellij.openapi.progress.impl.CoreProgressManager.runProcess(CoreProgressManager.java:151)\n      at com.intellij.openapi.progress.impl.CoreProgressManager$4.run(CoreProgressManager.java:403)\n      at com.intellij.openapi.application.impl.ApplicationImpl$1.run(ApplicationImpl.java:314)\n      at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n      at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n      at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>Someone can help me ?</p>\n\n<p>Yohann</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1696874793,"post_id":77260772,"comment_id":136206207,"body_markdown":"Maybe with JavaFX WebView https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.html\nAnyway, you will end up with something that is like Selenium.","body":"Maybe with JavaFX WebView <a href=\"https://openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.html\" rel=\"nofollow noreferrer\">openjfx.io/javadoc/18/javafx.web/javafx/scene/web/WebView.ht&zwnj;&#8203;ml</a> Anyway, you will end up with something that is like Selenium."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696886558,"post_id":77260772,"comment_id":136207953,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29634282,"reputation":1,"user_id":22711965,"display_name":"Jyoti kintali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696872817,"creation_date":1696872817,"question_id":77260772,"body_markdown":"Scenario:I want to open the browser and search.All the manual actions like opening browser, searching, navigating to the results.\r\nConditions:Without selenium should be coded in java.\r\n\r\nI have tried with Jsoup, after opening the browsers storing all the html content into a doc file and then parsing it using Jsoup and then finding the element but after finding the element ,i want to click and pass value into search box.\r\nAny Suggestions are welcome!","title":"Navigate to google and perform the manual actions like searching using Java (without Selenium) , a kind of Java Bot","body":"<p>Scenario:I want to open the browser and search.All the manual actions like opening browser, searching, navigating to the results.\nConditions:Without selenium should be coded in java.</p>\n<p>I have tried with Jsoup, after opening the browsers storing all the html content into a doc file and then parsing it using Jsoup and then finding the element but after finding the element ,i want to click and pass value into search box.\nAny Suggestions are welcome!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1399354,"reputation":32465,"user_id":2344584,"accept_rate":83,"display_name":"Stefano Sanfilippo"},"score":2,"creation_date":1390225574,"post_id":21235663,"comment_id":31987330,"body_markdown":"First of all, I would fix `Uzer-Agent` with `User-Agent`. Then, you should not attempt to write a binary file with a `PrintWriter`, which is intended for text. Use a `OutputStream` instead.","body":"First of all, I would fix <code>Uzer-Agent</code> with <code>User-Agent</code>. Then, you should not attempt to write a binary file with a <code>PrintWriter</code>, which is intended for text. Use a <code>OutputStream</code> instead."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1390225601,"post_id":21235663,"comment_id":31987350,"body_markdown":"&quot;The file that I got is 4kB larger than one downloaded via browser&quot; &quot;they show equal data&quot;---these two statements are incongruent.","body":"&quot;The file that I got is 4kB larger than one downloaded via browser&quot; &quot;they show equal data&quot;---these two statements are incongruent."},{"owner":{"account_id":110956,"reputation":21410,"user_id":293369,"accept_rate":85,"display_name":"Oskar Kjellin"},"score":0,"creation_date":1390225671,"post_id":21235663,"comment_id":31987407,"body_markdown":"You do know that it is  harder to download youtube videos than to just  to this? Or do you have a direct link to the actual flv?","body":"You do know that it is  harder to download youtube videos than to just  to this? Or do you have a direct link to the actual flv?"},{"owner":{"account_id":2624940,"reputation":3,"user_id":2272162,"display_name":"user2272162"},"score":0,"creation_date":1390233266,"post_id":21235663,"comment_id":31992353,"body_markdown":"@OskarKjellin I have direct link.","body":"@OskarKjellin I have direct link."}],"answers":[{"tags":[],"owner":{"account_id":1330239,"reputation":17006,"user_id":1274314,"accept_rate":57,"display_name":"TypeIA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390225661,"creation_date":1390225661,"answer_id":21235721,"question_id":21235663,"body_markdown":"You can&#39;t read binary files (like `flv`) as if they were text files, using `readLine()` and so on. You must use the unformatted `read()` and `write()` methods in `InputStream` and `OutputStream` respectively.","title":"YouTube downloader code creates unplayable videos","body":"<p>You can't read binary files (like <code>flv</code>) as if they were text files, using <code>readLine()</code> and so on. You must use the unformatted <code>read()</code> and <code>write()</code> methods in <code>InputStream</code> and <code>OutputStream</code> respectively.</p>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1390295653,"post_id":21235922,"comment_id":32018684,"body_markdown":"Character streams must be avoided not because you don&#39;t *need* character conversion, but because you *must not use* character conversion. This is not open to free choice.","body":"Character streams must be avoided not because you don&#39;t <i>need</i> character conversion, but because you <i>must not use</i> character conversion. This is not open to free choice."},{"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"score":0,"creation_date":1390301886,"post_id":21235922,"comment_id":32022749,"body_markdown":"I&#39;d go for streams (not reader/writer) in the 1st place, but I think, that in most cases reader/writer would work just fine, with some overhead of course. It can get tricky if you along with binary data would have to download some UTF-8 encoded text - that&#39;s where reader/write WILL become handy.","body":"I&#39;d go for streams (not reader/writer) in the 1st place, but I think, that in most cases reader/writer would work just fine, with some overhead of course. It can get tricky if you along with binary data would have to download some UTF-8 encoded text - that&#39;s where reader/write WILL become handy."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1390302058,"post_id":21235922,"comment_id":32022857,"body_markdown":"Reading/writing binary data with character streams simply makes no sense at all---and in addition to that, it is not reliable. Your point about the distinction between binary data and UTF-8 encoded text is invalid: if you use a character stream, it sees *everything* as UTF-8 encoded text (or whatever encoding is in effect), and that is precisely what is wrong with it.","body":"Reading/writing binary data with character streams simply makes no sense at all---and in addition to that, it is not reliable. Your point about the distinction between binary data and UTF-8 encoded text is invalid: if you use a character stream, it sees <i>everything</i> as UTF-8 encoded text (or whatever encoding is in effect), and that is precisely what is wrong with it."}],"tags":[],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1390226219,"creation_date":1390226219,"answer_id":21235922,"question_id":21235663,"body_markdown":"yeah, although reading *might* be done with `br.readLine()` (not sure, I&#39;d read it with `br.read( char[ 4096 ], off, len )`, but writing with `pw.println` is definitely wrong, as it adds a line-break at the end of each line - something you don&#39;t want to see in a binary file.\r\n\r\nI&#39;d put it like\r\n\r\n    char[] buff = new char[ 4096 ];\r\n    int offset = 0;\r\n    while( -1 != br.read( buff, offset, 4096 ) ){\r\n      pw.write( buff );\r\n      offset += 4096;\r\n    }\r\n\r\nYou can also use Input/Output-Streams here, as you don&#39;t need to do a character-conversions.","title":"YouTube downloader code creates unplayable videos","body":"<p>yeah, although reading <em>might</em> be done with <code>br.readLine()</code> (not sure, I'd read it with <code>br.read( char[ 4096 ], off, len )</code>, but writing with <code>pw.println</code> is definitely wrong, as it adds a line-break at the end of each line - something you don't want to see in a binary file.</p>\n\n<p>I'd put it like</p>\n\n<pre><code>char[] buff = new char[ 4096 ];\nint offset = 0;\nwhile( -1 != br.read( buff, offset, 4096 ) ){\n  pw.write( buff );\n  offset += 4096;\n}\n</code></pre>\n\n<p>You can also use Input/Output-Streams here, as you don't need to do a character-conversions.</p>\n"}],"owner":{"account_id":2624940,"reputation":3,"user_id":2272162,"display_name":"user2272162"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21235922,"answer_count":2,"score":0,"last_activity_date":1696872553,"creation_date":1390225488,"question_id":21235663,"body_markdown":"I tried to download youtube video (using the same link like keepvid). The file that I got is 4kB larger than one downloaded via browser, and it cannot be played. Can anybody tell me why, and what I&#39;m doing wrong?\r\n\r\nAdditionally, when I print both files line by line, they show equal data. \r\n\r\nThe code that I used for downloading is below:\r\n\r\n```\r\ntry {\r\n  URL hr= new URL(&quot;link&quot;);\r\n   URLConnection conn= hr.openConnection();\r\n   conn.setRequestProperty(&quot;Uzer-Agent&quot;, &quot;Mozilla/5.0&quot;);\r\n   conn.connect();\r\n\r\n   \r\n   BufferedReader br=new BufferedReader(new InputStreamReader(conn.getInputStream()));\r\n             \r\n   File file=new File(&quot;video.flv&quot;);\r\n   PrintWriter pw=new PrintWriter(new FileWriter(file));\r\n             \r\n   String line=&quot;&quot;;\r\n              \r\n   while((line=br.readLine())!=null){\r\n\r\n       System.out.println(line);\r\n        \r\n       pw.println(line);\r\n              \t \r\n       }\r\n          \t  \r\n   pw.close();\r\n} \r\ncatch (Exception e) {}\r\n```","title":"YouTube downloader code creates unplayable videos","body":"<p>I tried to download youtube video (using the same link like keepvid). The file that I got is 4kB larger than one downloaded via browser, and it cannot be played. Can anybody tell me why, and what I'm doing wrong?</p>\n<p>Additionally, when I print both files line by line, they show equal data.</p>\n<p>The code that I used for downloading is below:</p>\n<pre><code>try {\n  URL hr= new URL(&quot;link&quot;);\n   URLConnection conn= hr.openConnection();\n   conn.setRequestProperty(&quot;Uzer-Agent&quot;, &quot;Mozilla/5.0&quot;);\n   conn.connect();\n\n   \n   BufferedReader br=new BufferedReader(new InputStreamReader(conn.getInputStream()));\n             \n   File file=new File(&quot;video.flv&quot;);\n   PrintWriter pw=new PrintWriter(new FileWriter(file));\n             \n   String line=&quot;&quot;;\n              \n   while((line=br.readLine())!=null){\n\n       System.out.println(line);\n        \n       pw.println(line);\n                 \n       }\n              \n   pw.close();\n} \ncatch (Exception e) {}\n</code></pre>\n"},{"tags":["java","android","xml","debugging","usb"],"answers":[{"comments":[{"owner":{"account_id":11993545,"reputation":66,"user_id":14228468,"display_name":"Edson"},"score":1,"creation_date":1687878008,"post_id":60331905,"comment_id":134996823,"body_markdown":"If MIUI optimization doesn&#39;t show up, tap &quot;Reset to default values&quot; at the very bottom, you may have to tap it several times for it to appear.","body":"If MIUI optimization doesn&#39;t show up, tap &quot;Reset to default values&quot; at the very bottom, you may have to tap it several times for it to appear."},{"owner":{"account_id":18937261,"reputation":58,"user_id":13818067,"display_name":"thanksalotquoraguy"},"score":0,"creation_date":1695464589,"post_id":60331905,"comment_id":136030066,"body_markdown":"Yes, you have to tap “Reset to default values” multiple times","body":"Yes, you have to tap “Reset to default values” multiple times"}],"tags":[],"owner":{"account_id":17774709,"reputation":195,"user_id":12907351,"display_name":"Akash R"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1582256648,"creation_date":1582256648,"answer_id":60331905,"question_id":60331665,"body_markdown":"I turned off MIUI Optimization and restarted my phone and it worked. Really cant understand why","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>I turned off MIUI Optimization and restarted my phone and it worked. Really cant understand why</p>\n"},{"tags":[],"owner":{"account_id":3477900,"reputation":29,"user_id":2910681,"display_name":"Varun RTR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637843083,"creation_date":1637843083,"answer_id":70111091,"question_id":60331665,"body_markdown":"Working fine after disable the MIUI Optimization option in Xiaomi. Now I am not getting the popup.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Working fine after disable the MIUI Optimization option in Xiaomi. Now I am not getting the popup.</p>\n"},{"tags":[],"owner":{"account_id":7908176,"reputation":2940,"user_id":5972985,"display_name":"Joseph Wambura"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647412640,"creation_date":1647412640,"answer_id":71492699,"question_id":60331665,"body_markdown":"Mostly check the targetSdk version in the android.defaultConfig:\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.matukadevelopers.todo&quot;\r\n        minSdk 23\r\n        targetSdk 32\r\n        // targetSdkPreview &quot;Tiramisu&quot;\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\nreplaced `targetSdkPreview &quot;Tiramisu&quot;` with `targetSdk 32` and it worked.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Mostly check the targetSdk version in the android.defaultConfig:</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.matukadevelopers.todo&quot;\n    minSdk 23\n    targetSdk 32\n    // targetSdkPreview &quot;Tiramisu&quot;\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n<p>replaced <code>targetSdkPreview &quot;Tiramisu&quot;</code> with <code>targetSdk 32</code> and it worked.</p>\n"},{"tags":[],"owner":{"account_id":25439815,"reputation":11,"user_id":19242951,"display_name":"Lejla"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654024178,"creation_date":1654024178,"answer_id":72453012,"question_id":60331665,"body_markdown":"For Poco M4 5G in Developer options, enable Install via USB.","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>For Poco M4 5G in Developer options, enable Install via USB.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661704374,"post_id":73471947,"comment_id":129830061,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/73471947/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26148707,"reputation":1,"user_id":19836972,"display_name":"Abhishek Dubey"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661338801,"creation_date":1661338801,"answer_id":73471947,"question_id":60331665,"body_markdown":"Basically, you have to give install it via USB permission to install the app inside developer mode option","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>Basically, you have to give install it via USB permission to install the app inside developer mode option</p>\n"},{"tags":[],"owner":{"account_id":2879456,"reputation":63,"user_id":3624151,"display_name":"beratcelik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696872011,"creation_date":1696872011,"answer_id":77260704,"question_id":60331665,"body_markdown":"USB debugging on\r\nInstall via USB on\r\nWireless debugging on\r\n\r\nIf **Install via USB** is not working, it requires a SIM card. Insert a sim card without switching off the mobile. Hence it will allow you to activate it. After activation, you can take the sim card out. ","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>USB debugging on\nInstall via USB on\nWireless debugging on</p>\n<p>If <strong>Install via USB</strong> is not working, it requires a SIM card. Insert a sim card without switching off the mobile. Hence it will allow you to activate it. After activation, you can take the sim card out.</p>\n"}],"owner":{"account_id":17774709,"reputation":195,"user_id":12907351,"display_name":"Akash R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7373,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1696872011,"creation_date":1582254667,"question_id":60331665,"body_markdown":"02/21 08:38:52: Launching &#39;app&#39; on Xiaomi Redmi Note 7 Pro.  \r\nInstallation did not succeed.  \r\nThe application could not be installed: INSTALL_FAILED_USER_RESTRICTED  \r\nInstallation via USB is disabled.  \r\n\r\n\r\nThe USB Debugging is ON and so is the Install Via USB and File Transfer\r\nI didn&#39;t have this problem till now. The weird part is that Other apps can be installed the same way over USB but this particular app isn&#39;t happening\r\nI have tried restarting both my PC and Phone \r\n\r\nI tried installing it in another phone and still shows the same error while other apps are being installed without a problem","title":"The application could not be installed: INSTALL_FAILED_USER_RESTRICTED","body":"<p>02/21 08:38:52: Launching 'app' on Xiaomi Redmi Note 7 Pro.<br>\nInstallation did not succeed.<br>\nThe application could not be installed: INSTALL_FAILED_USER_RESTRICTED<br>\nInstallation via USB is disabled.  </p>\n\n<p>The USB Debugging is ON and so is the Install Via USB and File Transfer\nI didn't have this problem till now. The weird part is that Other apps can be installed the same way over USB but this particular app isn't happening\nI have tried restarting both my PC and Phone </p>\n\n<p>I tried installing it in another phone and still shows the same error while other apps are being installed without a problem</p>\n"},{"tags":["python","java","apache-spark"],"comments":[{"owner":{"account_id":16549222,"reputation":351,"user_id":11958007,"display_name":"o_O"},"score":0,"creation_date":1697005000,"post_id":77260609,"comment_id":136223260,"body_markdown":"Seems like your nodes cannot reach out to each other. Can you check connectivity b/w the nodes? Also, are you using containers?","body":"Seems like your nodes cannot reach out to each other. Can you check connectivity b/w the nodes? Also, are you using containers?"},{"owner":{"account_id":1179194,"reputation":221,"user_id":1154507,"accept_rate":20,"display_name":"rajk"},"score":0,"creation_date":1697062869,"post_id":77260609,"comment_id":136233818,"body_markdown":"Found the issue.  \nAs explained in the above comment, worker nodes were unable to communicate to the master node. Because I was using docker container to run spark-submit to spark standalone cluster. When I run the spark-submit command from master node, things are started working fine.","body":"Found the issue.   As explained in the above comment, worker nodes were unable to communicate to the master node. Because I was using docker container to run spark-submit to spark standalone cluster. When I run the spark-submit command from master node, things are started working fine."},{"owner":{"account_id":16549222,"reputation":351,"user_id":11958007,"display_name":"o_O"},"score":0,"creation_date":1697095228,"post_id":77260609,"comment_id":136236847,"body_markdown":"Adding all the containers to a docker network should allow you to submit from worker nodes as well","body":"Adding all the containers to a docker network should allow you to submit from worker nodes as well"}],"owner":{"account_id":1179194,"reputation":221,"user_id":1154507,"accept_rate":20,"display_name":"rajk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696871303,"creation_date":1696870840,"question_id":77260609,"body_markdown":"We have setup a Spark Standalone cluster with 1 Master node and 4 Worker Nodes.\r\nWhen we submit the Spark command, we can see Application is running and getting distributed to worker nodes by master. But getting following exception every time.\r\n\r\n**Exception**\r\n\r\n``` \r\nUsing Spark&#39;s default log4j profile: org/apache/spark/log4j2-defaults.properties\r\n23/10/07 20:51:36 INFO CoarseGrainedExecutorBackend: Started daemon with process name: 1959044@{{xxx}}\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for TERM\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for HUP\r\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for INT\r\n23/10/07 20:51:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls to: root\r\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls to: root\r\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls groups to: \r\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls groups to: \r\n23/10/07 20:51:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: root; groups with view permissions: EMPTY; users with modify permissions: root; groups with modify permissions: EMPTY\r\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:428)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:417)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\r\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.SparkThreadUtils$.awaitResult(SparkThreadUtils.scala:56)\r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:310)\r\n\tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:448)\r\n\tat scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\r\n\tat scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\r\n\tat scala.collection.immutable.Range.foreach(Range.scala:158)\r\n\tat scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\r\n\tat org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:446)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\r\n\tat org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:423)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n\t... 4 more\r\nCaused by: java.io.IOException: Failed to connect to 4103b8ddce96:36101\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:294)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:214)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:226)\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.net.UnknownHostException: 4103b8ddce96\r\n\tat java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\r\n\tat java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\r\n\tat java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\r\n\tat java.base/java.net.InetAddress.getByName(InetAddress.java:1257)\r\n\tat io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:156)\r\n\tat io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:153)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat io.netty.util.internal.SocketUtils.addressByName(SocketUtils.java:153)\r\n\tat io.netty.resolver.DefaultNameResolver.doResolve(DefaultNameResolver.java:41)\r\n\tat io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:61)\r\n\tat io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:53)\r\n\tat io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:55)\r\n\tat io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:31)\r\n\tat io.netty.resolver.AbstractAddressResolver.resolve(AbstractAddressResolver.java:106)\r\n\tat io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:220)\r\n\tat io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:46)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:189)\r\n\tat io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:175)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\r\n\tat io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)\r\n\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)\r\n\tat io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:990)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:516)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 more\r\n```\r\n\r\n**Spark Submit Command**\r\n``` \r\nspark-submit --master spark://{master-node-addess}:7078 --files ./config.json  --jars ./jars/mssql-jdbc-12.2.0.jre8.jar,./jars/vertica-jdbc-12.0.4-0.jar --py-files ./Packages.zip job_build.py\r\n```\r\n\r\nWhen I run the same setup with single machine it is working fine. But when we tries to run this on standalone cluster it is failing.\r\n\r\nAny help will be appreciated. Thank you.\r\n","title":"Spark Standalone cluster with python is not working","body":"<p>We have setup a Spark Standalone cluster with 1 Master node and 4 Worker Nodes.\nWhen we submit the Spark command, we can see Application is running and getting distributed to worker nodes by master. But getting following exception every time.</p>\n<p><strong>Exception</strong></p>\n<pre><code>Using Spark's default log4j profile: org/apache/spark/log4j2-defaults.properties\n23/10/07 20:51:36 INFO CoarseGrainedExecutorBackend: Started daemon with process name: 1959044@{{xxx}}\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for TERM\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for HUP\n23/10/07 20:51:36 INFO SignalUtils: Registering signal handler for INT\n23/10/07 20:51:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls to: root\n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls to: root\n23/10/07 20:51:36 INFO SecurityManager: Changing view acls groups to: \n23/10/07 20:51:36 INFO SecurityManager: Changing modify acls groups to: \n23/10/07 20:51:36 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: root; groups with view permissions: EMPTY; users with modify permissions: root; groups with modify permissions: EMPTY\nException in thread &quot;main&quot; java.lang.reflect.UndeclaredThrowableException\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1894)\n    at org.apache.spark.deploy.SparkHadoopUtil.runAsSparkUser(SparkHadoopUtil.scala:61)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.run(CoarseGrainedExecutorBackend.scala:428)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.main(CoarseGrainedExecutorBackend.scala:417)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend.main(CoarseGrainedExecutorBackend.scala)\nCaused by: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.SparkThreadUtils$.awaitResult(SparkThreadUtils.scala:56)\n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:310)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:102)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$9(CoarseGrainedExecutorBackend.scala:448)\n    at scala.runtime.java8.JFunction1$mcVI$sp.apply(JFunction1$mcVI$sp.java:23)\n    at scala.collection.TraversableLike$WithFilter.$anonfun$foreach$1(TraversableLike.scala:985)\n    at scala.collection.immutable.Range.foreach(Range.scala:158)\n    at scala.collection.TraversableLike$WithFilter.foreach(TraversableLike.scala:984)\n    at org.apache.spark.executor.CoarseGrainedExecutorBackend$.$anonfun$run$7(CoarseGrainedExecutorBackend.scala:446)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:62)\n    at org.apache.spark.deploy.SparkHadoopUtil$$anon$1.run(SparkHadoopUtil.scala:61)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:423)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n    ... 4 more\nCaused by: java.io.IOException: Failed to connect to 4103b8ddce96:36101\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:294)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:214)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:226)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.net.UnknownHostException: 4103b8ddce96\n    at java.base/java.net.InetAddress$CachedAddresses.get(InetAddress.java:797)\n    at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1533)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1386)\n    at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1307)\n    at java.base/java.net.InetAddress.getByName(InetAddress.java:1257)\n    at io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:156)\n    at io.netty.util.internal.SocketUtils$8.run(SocketUtils.java:153)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at io.netty.util.internal.SocketUtils.addressByName(SocketUtils.java:153)\n    at io.netty.resolver.DefaultNameResolver.doResolve(DefaultNameResolver.java:41)\n    at io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:61)\n    at io.netty.resolver.SimpleNameResolver.resolve(SimpleNameResolver.java:53)\n    at io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:55)\n    at io.netty.resolver.InetSocketAddressResolver.doResolve(InetSocketAddressResolver.java:31)\n    at io.netty.resolver.AbstractAddressResolver.resolve(AbstractAddressResolver.java:106)\n    at io.netty.bootstrap.Bootstrap.doResolveAndConnect0(Bootstrap.java:220)\n    at io.netty.bootstrap.Bootstrap.access$000(Bootstrap.java:46)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:189)\n    at io.netty.bootstrap.Bootstrap$1.operationComplete(Bootstrap.java:175)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:557)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\n    at io.netty.util.concurrent.DefaultPromise.setSuccess0(DefaultPromise.java:625)\n    at io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:105)\n    at io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:84)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetSuccess(AbstractChannel.java:990)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.register0(AbstractChannel.java:516)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.access$200(AbstractChannel.java:429)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$1.run(AbstractChannel.java:486)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 more\n</code></pre>\n<p><strong>Spark Submit Command</strong></p>\n<pre><code>spark-submit --master spark://{master-node-addess}:7078 --files ./config.json  --jars ./jars/mssql-jdbc-12.2.0.jre8.jar,./jars/vertica-jdbc-12.0.4-0.jar --py-files ./Packages.zip job_build.py\n</code></pre>\n<p>When I run the same setup with single machine it is working fine. But when we tries to run this on standalone cluster it is failing.</p>\n<p>Any help will be appreciated. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":10,"creation_date":1696859919,"post_id":77259430,"comment_id":136203340,"body_markdown":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696869741,"post_id":77259430,"comment_id":136205326,"body_markdown":"You are using _char_ values for _hm1_ and _int_ values for _hm2_.","body":"You are using <i>char</i> values for <i>hm1</i> and <i>int</i> values for <i>hm2</i>."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696860489,"creation_date":1696860170,"answer_id":77259473,"question_id":77259430,"body_markdown":"Here you are multiplying `freq` by your *character*, which creates a garbage number, and then adding that garbage number to your String one time:\r\n\r\n    res+=(freq*hm1.get(str));\r\n\r\nYou need to add the character to your String `freq` times, so you need a loop:\r\n\r\n    char c = hm1.get(str);\r\n    for (int i=0; i&lt;freq; i++) {\r\n        res += c;\r\n    }\r\n\r\nOr if you&#39;re using Java 11 or later, there is convenience method for String to repeat it:\r\n\r\n    res += String.valueOf(hm1.get(str)).repeat(freq);","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>Here you are multiplying <code>freq</code> by your <em>character</em>, which creates a garbage number, and then adding that garbage number to your String one time:</p>\n<pre><code>res+=(freq*hm1.get(str));\n</code></pre>\n<p>You need to add the character to your String <code>freq</code> times, so you need a loop:</p>\n<pre><code>char c = hm1.get(str);\nfor (int i=0; i&lt;freq; i++) {\n    res += c;\n}\n</code></pre>\n<p>Or if you're using Java 11 or later, there is convenience method for String to repeat it:</p>\n<pre><code>res += String.valueOf(hm1.get(str)).repeat(freq);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861552,"creation_date":1696861552,"answer_id":77259640,"question_id":77259430,"body_markdown":"The problem is in this line: `res+=(freq*hm1.get(str));`. It is multiplying the frequency with the ASCII value of the character, not repeating the character `freq` times. This would work in Python but not in Java. You should change this line to repeat the character `freq` times. Below is example fix to your code:\r\n\r\n    for(String str:arr){\r\n        if(hm2.containsKey(str)){\r\n            freq=hm2.get(str);\r\n        }else{\r\n            for(int i=0;i&lt;freq;i++){\r\n                res+=hm1.get(str);\r\n            }\r\n            freq=1;\r\n        }\r\n    }\r\n\r\nThis will give you the expected output &quot;122444&quot; for the input &quot;one double two triple four&quot;.\r\n\r\nI would also suggest you use StringBuilder instead of String for res variable. It would be more efficient.","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>The problem is in this line: <code>res+=(freq*hm1.get(str));</code>. It is multiplying the frequency with the ASCII value of the character, not repeating the character <code>freq</code> times. This would work in Python but not in Java. You should change this line to repeat the character <code>freq</code> times. Below is example fix to your code:</p>\n<pre><code>for(String str:arr){\n    if(hm2.containsKey(str)){\n        freq=hm2.get(str);\n    }else{\n        for(int i=0;i&lt;freq;i++){\n            res+=hm1.get(str);\n        }\n        freq=1;\n    }\n}\n</code></pre>\n<p>This will give you the expected output &quot;122444&quot; for the input &quot;one double two triple four&quot;.</p>\n<p>I would also suggest you use StringBuilder instead of String for res variable. It would be more efficient.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696871209,"creation_date":1696871209,"answer_id":77260638,"question_id":77259430,"body_markdown":"The _char_ values _1, 2, 3,_ etc., are not equivalent to their integer values.\r\n\r\nHere is an example.\r\n\r\n```java\r\nStringBuilder s = new StringBuilder();\r\nString ss = &quot;one double two triple four&quot;;\r\nint i = 1;\r\nfor (String e : ss.split(&quot; &quot;)) {\r\n    if (e.equals(&quot;double&quot;)) i = 2;\r\n    else if (e.equals(&quot;triple&quot;)) i = 3;\r\n    else {\r\n        s.append(\r\n            (switch (e) {\r\n                case &quot;zero&quot; -&gt; &quot;0&quot;;\r\n                case &quot;one&quot; -&gt; &quot;1&quot;;\r\n                case &quot;two&quot; -&gt; &quot;2&quot;;\r\n                case &quot;three&quot; -&gt; &quot;3&quot;;\r\n                case &quot;four&quot; -&gt; &quot;4&quot;;\r\n                case &quot;five&quot; -&gt; &quot;5&quot;;\r\n                case &quot;six&quot; -&gt; &quot;6&quot;;\r\n                case &quot;seven&quot; -&gt; &quot;7&quot;;\r\n                case &quot;eight&quot; -&gt; &quot;8&quot;;\r\n                case &quot;nine&quot; -&gt; &quot;9&quot;;\r\n                default -&gt; &quot;&quot;;\r\n            }).repeat(i));\r\n        i = 1;\r\n    }\r\n}\r\n```","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<p>The <em>char</em> values <em>1, 2, 3,</em> etc., are not equivalent to their integer values.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder s = new StringBuilder();\nString ss = &quot;one double two triple four&quot;;\nint i = 1;\nfor (String e : ss.split(&quot; &quot;)) {\n    if (e.equals(&quot;double&quot;)) i = 2;\n    else if (e.equals(&quot;triple&quot;)) i = 3;\n    else {\n        s.append(\n            (switch (e) {\n                case &quot;zero&quot; -&gt; &quot;0&quot;;\n                case &quot;one&quot; -&gt; &quot;1&quot;;\n                case &quot;two&quot; -&gt; &quot;2&quot;;\n                case &quot;three&quot; -&gt; &quot;3&quot;;\n                case &quot;four&quot; -&gt; &quot;4&quot;;\n                case &quot;five&quot; -&gt; &quot;5&quot;;\n                case &quot;six&quot; -&gt; &quot;6&quot;;\n                case &quot;seven&quot; -&gt; &quot;7&quot;;\n                case &quot;eight&quot; -&gt; &quot;8&quot;;\n                case &quot;nine&quot; -&gt; &quot;9&quot;;\n                default -&gt; &quot;&quot;;\n            }).repeat(i));\n        i = 1;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29632727,"reputation":3,"user_id":22710800,"display_name":"dummy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77259473,"answer_count":3,"score":-1,"last_activity_date":1696871209,"creation_date":1696859756,"question_id":77259430,"body_markdown":"    import java.util.*;\r\n    public class temp{\r\n    public static void main(String args[]){\r\n        String phone_string=&quot;one double two triple four&quot;;\r\n        String[] arr=phone_string.split(&quot; &quot;,0);\r\n        int freq=1;\r\n        String res=&quot;&quot;;\r\n        HashMap&lt;String,Character&gt; hm1=new HashMap&lt;&gt;();\r\n        hm1.put(&quot;zero&quot;,&#39;0&#39;);\r\n        hm1.put(&quot;one&quot;,&#39;1&#39;);\r\n        hm1.put(&quot;two&quot;,&#39;2&#39;);\r\n        hm1.put(&quot;three&quot;,&#39;3&#39;);\r\n        hm1.put(&quot;four&quot;,&#39;4&#39;);\r\n        hm1.put(&quot;five&quot;,&#39;5&#39;);\r\n        hm1.put(&quot;six&quot;,&#39;6&#39;);\r\n        hm1.put(&quot;seven&quot;,&#39;7&#39;);\r\n        hm1.put(&quot;eight&quot;,&#39;8&#39;);\r\n        hm1.put(&quot;nine&quot;,&#39;9&#39;);\r\n        HashMap&lt;String,Integer&gt; hm2=new HashMap&lt;&gt;();\r\n        hm2.put(&quot;double&quot;,2);\r\n        hm2.put(&quot;triple&quot;,3);\r\n        for(String str:arr){\r\n            if(hm2.containsKey(str)){\r\n                freq*=hm2.get(str);\r\n            }else{\r\n                res+=(freq*hm1.get(str));\r\n                freq=1;\r\n            }\r\n        }\r\n        for(int i=0;i&lt;arr.length;i++){\r\n            System.out.print(arr[i]+&quot; &quot;);\r\n        }\r\n        System.out.println(res);\r\n    }\r\n    }\r\nDon&#39;t know why this is not working it gives me output as - 49100156 \r\nFor ex - string=&quot;one double two triple four&quot;, output=&quot;122444&quot;\r\nIs it giving me a garbage value??\r\nWhat are the corrections??","title":"I am asked to convert a phone number in words into a number and return as a string","body":"<pre><code>import java.util.*;\npublic class temp{\npublic static void main(String args[]){\n    String phone_string=&quot;one double two triple four&quot;;\n    String[] arr=phone_string.split(&quot; &quot;,0);\n    int freq=1;\n    String res=&quot;&quot;;\n    HashMap&lt;String,Character&gt; hm1=new HashMap&lt;&gt;();\n    hm1.put(&quot;zero&quot;,'0');\n    hm1.put(&quot;one&quot;,'1');\n    hm1.put(&quot;two&quot;,'2');\n    hm1.put(&quot;three&quot;,'3');\n    hm1.put(&quot;four&quot;,'4');\n    hm1.put(&quot;five&quot;,'5');\n    hm1.put(&quot;six&quot;,'6');\n    hm1.put(&quot;seven&quot;,'7');\n    hm1.put(&quot;eight&quot;,'8');\n    hm1.put(&quot;nine&quot;,'9');\n    HashMap&lt;String,Integer&gt; hm2=new HashMap&lt;&gt;();\n    hm2.put(&quot;double&quot;,2);\n    hm2.put(&quot;triple&quot;,3);\n    for(String str:arr){\n        if(hm2.containsKey(str)){\n            freq*=hm2.get(str);\n        }else{\n            res+=(freq*hm1.get(str));\n            freq=1;\n        }\n    }\n    for(int i=0;i&lt;arr.length;i++){\n        System.out.print(arr[i]+&quot; &quot;);\n    }\n    System.out.println(res);\n}\n}\n</code></pre>\n<p>Don't know why this is not working it gives me output as - 49100156\nFor ex - string=&quot;one double two triple four&quot;, output=&quot;122444&quot;\nIs it giving me a garbage value??\nWhat are the corrections??</p>\n"},{"tags":["java","mongodb","maven","selenium-webdriver","mongodb-query"],"owner":{"account_id":28145207,"reputation":1,"user_id":21507624,"display_name":"Krithikaini M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696870647,"creation_date":1696869412,"question_id":77260480,"body_markdown":"I have tried the below.\r\n```\r\nMongoDB mongoDB = new MongoDB(&lt;connection_string&gt;));\r\nMongoDatabase db = mongoDB.getConnection(\\&lt;database_name\\&gt;);\r\nMongoCollection\\&lt;Document\\&gt; collection = db.getCollection(\\&lt;collection_name\\&gt;);\r\n\r\nDocument documentToInsert = new Document();\r\ndocumentToInsert.append(&quot;lead_id&quot;, &quot;64b671e01850084fb0eaa1b0&quot;);\r\ndocumentToInsert.append(&quot;tenant_id&quot;, &quot;6423d08b6ba5d39df3db3779&quot;);\r\ndocumentToInsert.append(&quot;apartment_id&quot;, &quot;6423de7fb39ac5ff8851d0a8&quot;);\r\ndocumentToInsert.append(&quot;query&quot;, &quot;Yes, I have done my tour&quot;);\r\ndocumentToInsert.append(&quot;tour_completed_status&quot;, &quot;tourCompleted&quot;);\r\ndocumentToInsert.append(&quot;sentiment&quot;, &quot;neutral&quot;);\r\ndocumentToInsert.append(&quot;source&quot;, &quot;mark4&quot;);\r\ndocumentToInsert.append(&quot;tour_type&quot;, &quot;onplatform_inperson&quot;);\r\n\r\ncollection.insertOne(documentToInsert);\r\n```\r\nWhile debugging the above, at the point when I come to last line, it&#39;s throwing the below error.\r\n\r\n&gt; java.lang.AbstractMethodError: Receiver class com.mongodb.client.internal.MongoCollectionImpl does not define or inherit an implementation of the resolved method &#39;abstract void insertOne(java.lang.Object)&#39; of interface com.mongodb.client.MongoCollection.\r\n\r\nDependencies for Mongo DB I use are as below.\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.12.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI want to insert document in Mongo. Can anyone try this and let me know how to resolve this?","title":"java.lang.AbstractMethodError while implementing mongo db insertOne method in java","body":"<p>I have tried the below.</p>\n<pre><code>MongoDB mongoDB = new MongoDB(&lt;connection_string&gt;));\nMongoDatabase db = mongoDB.getConnection(\\&lt;database_name\\&gt;);\nMongoCollection\\&lt;Document\\&gt; collection = db.getCollection(\\&lt;collection_name\\&gt;);\n\nDocument documentToInsert = new Document();\ndocumentToInsert.append(&quot;lead_id&quot;, &quot;64b671e01850084fb0eaa1b0&quot;);\ndocumentToInsert.append(&quot;tenant_id&quot;, &quot;6423d08b6ba5d39df3db3779&quot;);\ndocumentToInsert.append(&quot;apartment_id&quot;, &quot;6423de7fb39ac5ff8851d0a8&quot;);\ndocumentToInsert.append(&quot;query&quot;, &quot;Yes, I have done my tour&quot;);\ndocumentToInsert.append(&quot;tour_completed_status&quot;, &quot;tourCompleted&quot;);\ndocumentToInsert.append(&quot;sentiment&quot;, &quot;neutral&quot;);\ndocumentToInsert.append(&quot;source&quot;, &quot;mark4&quot;);\ndocumentToInsert.append(&quot;tour_type&quot;, &quot;onplatform_inperson&quot;);\n\ncollection.insertOne(documentToInsert);\n</code></pre>\n<p>While debugging the above, at the point when I come to last line, it's throwing the below error.</p>\n<blockquote>\n<p>java.lang.AbstractMethodError: Receiver class com.mongodb.client.internal.MongoCollectionImpl does not define or inherit an implementation of the resolved method 'abstract void insertOne(java.lang.Object)' of interface com.mongodb.client.MongoCollection.</p>\n</blockquote>\n<p>Dependencies for Mongo DB I use are as below.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-driver-sync&lt;/artifactId&gt;\n    &lt;version&gt;4.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I want to insert document in Mongo. Can anyone try this and let me know how to resolve this?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6873078,"reputation":9765,"user_id":5282585,"accept_rate":78,"display_name":"nhoxbypass"},"score":1,"creation_date":1513224515,"post_id":47805687,"comment_id":82572880,"body_markdown":"I think it&#39;s not possible, you will need to compile your changes back to jar file. Btw it&#39;s not a good practice to edit external Java library. You should override it then modify your own code.","body":"I think it&#39;s not possible, you will need to compile your changes back to jar file. Btw it&#39;s not a good practice to edit external Java library. You should override it then modify your own code."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1513224951,"post_id":47805687,"comment_id":82572979,"body_markdown":"I think jrebel (a commercial product) definitely allows that. I&#39;m not certain, but I think IntelliJ [remote debug](https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html) would probably also work.","body":"I think jrebel (a commercial product) definitely allows that. I&#39;m not certain, but I think IntelliJ <a href=\"https://www.jetbrains.com/help/idea/run-debug-configuration-remote-debug.html\" rel=\"nofollow noreferrer\">remote debug</a> would probably also work."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1513849218,"post_id":47805687,"comment_id":82811509,"body_markdown":"I appreciate the quick comeback ;-)","body":"I appreciate the quick comeback ;-)"}],"answers":[{"tags":[],"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513259792,"creation_date":1513259792,"answer_id":47815083,"question_id":47805687,"body_markdown":"If you have source code for the library, create a separate module with this source code and [add a dependency](https://www.jetbrains.com/help/idea/configuring-projects.html#working-with-module-dependencies) on that module instead of a library jar. \r\n\r\nAnd to have a jar library synchronized with the source code, you can configure the jar [artifact](https://www.jetbrains.com/help/idea/working-with-artifacts.html#artifact_def) to be built from this library module together with the project build.","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>If you have source code for the library, create a separate module with this source code and <a href=\"https://www.jetbrains.com/help/idea/configuring-projects.html#working-with-module-dependencies\" rel=\"nofollow noreferrer\">add a dependency</a> on that module instead of a library jar. </p>\n\n<p>And to have a jar library synchronized with the source code, you can configure the jar <a href=\"https://www.jetbrains.com/help/idea/working-with-artifacts.html#artifact_def\" rel=\"nofollow noreferrer\">artifact</a> to be built from this library module together with the project build.</p>\n"},{"comments":[{"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"score":0,"creation_date":1513850453,"post_id":47815171,"comment_id":82812306,"body_markdown":"are there any tools like JRebel but free ?","body":"are there any tools like JRebel but free ?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1513850593,"post_id":47815171,"comment_id":82812393,"body_markdown":"@ThachHuynh The term to google for is &quot;java code hotswap&quot;. See https://sites.google.com/a/athaydes.com/renato-athaydes/posts/4freewaystohot-swapcodeonthejvm for example. For the record: we are using JRebel, and yes, that costs money. But it is worth each cent (when your environment is such that you frequently have to swap code into test/dev systems).","body":"@ThachHuynh The term to google for is &quot;java code hotswap&quot;. See <a href=\"https://sites.google.com/a/athaydes.com/renato-athaydes/posts/4freewaystohot-swapcodeonthejvm\" rel=\"nofollow noreferrer\">sites.google.com/a/athaydes.com/renato-athaydes/posts/&hellip;</a> for example. For the record: we are using JRebel, and yes, that costs money. But it is worth each cent (when your environment is such that you frequently have to swap code into test/dev systems)."},{"owner":{"account_id":939116,"reputation":1009,"user_id":967522,"accept_rate":80,"display_name":"Diego Ramos"},"score":0,"creation_date":1660947552,"post_id":47815171,"comment_id":129662310,"body_markdown":"What if I want to add loggers to the external library for debugging purposes?","body":"What if I want to add loggers to the external library for debugging purposes?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1661150139,"post_id":47815171,"comment_id":129694069,"body_markdown":"@DiegoRamos In the end, it is all software, and you can do whatever you want (disclaimer: keep in mind that *legal* questions depending on your licences might arise). If you consider it worth to enhance a library like that, and to use that in your setup, sure, go for it. But you have to understand the associated *cost* of doing so. It costs you time and energy to get it to work, and then you have to ask yourself: should this be something *permanent*? If so, you either have to try to get it into the upstream code ... or **you** will be the one maintaining this code, and worse:","body":"@DiegoRamos In the end, it is all software, and you can do whatever you want (disclaimer: keep in mind that <i>legal</i> questions depending on your licences might arise). If you consider it worth to enhance a library like that, and to use that in your setup, sure, go for it. But you have to understand the associated <i>cost</i> of doing so. It costs you time and energy to get it to work, and then you have to ask yourself: should this be something <i>permanent</i>? If so, you either have to try to get it into the upstream code ... or <b>you</b> will be the one maintaining this code, and worse:"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1661150171,"post_id":47815171,"comment_id":129694078,"body_markdown":"the one asked to **merge** things every time the external library changes. Just understand: this is a cost benefit thing: it is always about trade offs.","body":"the one asked to <b>merge</b> things every time the external library changes. Just understand: this is a cost benefit thing: it is always about trade offs."}],"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1513670603,"creation_date":1513260052,"answer_id":47815171,"question_id":47805687,"body_markdown":"Not a good idea - conceptually.\r\n\r\nEither something is an **external** library. Then its deployment artefact is a JAR. Or it is a &quot;source project&quot;. \r\n\r\nIn other words: you are trying to eat the cake and have it at the same time. If it you find a technical way to hack yourself there - you shouldn&#39;t go there. Because it is conceptually wrong. \r\n\r\nIf the question is mainly about *dynamically* updating a running JVM - for that you can use tools such as JRebel. But that also requires that your JVM is running with the JRebel agent (which is fine for test/dev systems, but a no-go in production environments).","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>Not a good idea - conceptually.</p>\n\n<p>Either something is an <strong>external</strong> library. Then its deployment artefact is a JAR. Or it is a \"source project\". </p>\n\n<p>In other words: you are trying to eat the cake and have it at the same time. If it you find a technical way to hack yourself there - you shouldn't go there. Because it is conceptually wrong. </p>\n\n<p>If the question is mainly about <em>dynamically</em> updating a running JVM - for that you can use tools such as JRebel. But that also requires that your JVM is running with the JRebel agent (which is fine for test/dev systems, but a no-go in production environments).</p>\n"},{"tags":[],"owner":{"account_id":5437590,"reputation":524,"user_id":4326590,"display_name":"Metin Dagcilar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645554461,"creation_date":1645554461,"answer_id":71226524,"question_id":47805687,"body_markdown":"For the other answers that are saying this isn&#39;t good practice, I agree but sometimes it can be useful. For example when I wanted to test a change in an external jar before submitting a merge request against the library with the suggested change. It was useful to be able to test it locally.\r\n\r\nWhat I did was\r\n 1. Clone the library locally \r\n 2. Change the version in the pom.xml to something different e.g. `testing-snapshot`\r\n 3. Run `mvn clean install` in the new cloned project to load the project into your local m2 folder\r\n 4. In the your main pom.xml where you want your new version of the project to take affect, change the version to what you chose in step 2. \r\n 5. Now reload all maven project and intellij should pick up this new version which you can now edit the source code\r\n\r\n","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>For the other answers that are saying this isn't good practice, I agree but sometimes it can be useful. For example when I wanted to test a change in an external jar before submitting a merge request against the library with the suggested change. It was useful to be able to test it locally.</p>\n<p>What I did was</p>\n<ol>\n<li>Clone the library locally</li>\n<li>Change the version in the pom.xml to something different e.g. <code>testing-snapshot</code></li>\n<li>Run <code>mvn clean install</code> in the new cloned project to load the project into your local m2 folder</li>\n<li>In the your main pom.xml where you want your new version of the project to take affect, change the version to what you chose in step 2.</li>\n<li>Now reload all maven project and intellij should pick up this new version which you can now edit the source code</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1364678,"reputation":2198,"user_id":1301373,"display_name":"winne2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696870306,"creation_date":1696869791,"answer_id":77260518,"question_id":47805687,"body_markdown":"One trick to slightly modify a library&#39;s behavior (e.g., add logging statements for debugging purposes) is to override classes with your own implementation. With a bit of practice it takes just a few seconds and doesn&#39;t require repackaging:\r\n\r\n 1. Navigate to *source code* of the library class you want to modify and copy its *package name* to the clipboard (`CTRL+C`)\r\n 3. Navigate to class&#39;s *file* in project navigator (`Alt+F1`, `1`) and copy the *file* to clipboard (`CTRL+C`)\r\n 4. Navigate to your own source root in project navigator (`src/main/java`) and press `CTRL+V`\r\n 6. In the opening dialog, just fill out &quot;Destination package&quot; with the exact same package name as in the library (use `CTRL+SHIFT+V` for IntelliJ&#39;s clipboard history) and hit `OK`\r\n\r\nYou now have an *editable duplicate* of the class of interest (same class name and package name) and it will take precedence over the &quot;original&quot; from the library (because it comes first in the CLASSPATH).\r\n\r\nYes, this is a dirty hack. But also yes, it works reliably and should at least be fine for experiments/debugging.\r\n","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>One trick to slightly modify a library's behavior (e.g., add logging statements for debugging purposes) is to override classes with your own implementation. With a bit of practice it takes just a few seconds and doesn't require repackaging:</p>\n<ol>\n<li>Navigate to <em>source code</em> of the library class you want to modify and copy its <em>package name</em> to the clipboard (<code>CTRL+C</code>)</li>\n<li>Navigate to class's <em>file</em> in project navigator (<code>Alt+F1</code>, <code>1</code>) and copy the <em>file</em> to clipboard (<code>CTRL+C</code>)</li>\n<li>Navigate to your own source root in project navigator (<code>src/main/java</code>) and press <code>CTRL+V</code></li>\n<li>In the opening dialog, just fill out &quot;Destination package&quot; with the exact same package name as in the library (use <code>CTRL+SHIFT+V</code> for IntelliJ's clipboard history) and hit <code>OK</code></li>\n</ol>\n<p>You now have an <em>editable duplicate</em> of the class of interest (same class name and package name) and it will take precedence over the &quot;original&quot; from the library (because it comes first in the CLASSPATH).</p>\n<p>Yes, this is a dirty hack. But also yes, it works reliably and should at least be fine for experiments/debugging.</p>\n"}],"owner":{"account_id":8868858,"reputation":1213,"user_id":6623145,"accept_rate":82,"display_name":"Thach Huynh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2892,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47815171,"answer_count":4,"score":1,"last_activity_date":1696870306,"creation_date":1513223967,"question_id":47805687,"body_markdown":"I am working on Java with Intellij. Now I can debug into my external lib code by attaching source to jar lib. But now I want to make change on lib&#39;s source code and make it take effect immediately without repackaging to jar and including again to my main project. Can I do that ?","title":"Java Intellij: Make change on external lib code and take effect immediately","body":"<p>I am working on Java with Intellij. Now I can debug into my external lib code by attaching source to jar lib. But now I want to make change on lib's source code and make it take effect immediately without repackaging to jar and including again to my main project. Can I do that ?</p>\n"},{"tags":["java","android","android-recyclerview"],"owner":{"account_id":29403393,"reputation":3,"user_id":22529371,"display_name":"Christyan Rodriguez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696868776,"creation_date":1696868776,"question_id":77260421,"body_markdown":"I have 2 recyclerviews and I want to move in the view through their items, changing the background color of the item that is selected and change the recyclerview with the TAB key and the focus does not leave the recycledview until the TAB key is pressed.\r\nthis is my XML\r\n```\r\n&lt;LinearLayout\r\n    android:id=&quot;@+id/clcontenido&quot;\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;0dp&quot;\r\n    app:layout_constraintBottom_toTopOf=&quot;@+id/estados_totales&quot;\r\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textcomandassiges&quot;&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv2&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:background=&quot;#CDCDCD&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:descendantFocusability=&quot;afterDescendants&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rv1&quot;\r\n        &gt;\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/rv1&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        android:layout_weight=&quot;1&quot;\r\n        android:layout_marginStart=&quot;5dp&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:layout_marginEnd=&quot;5dp&quot;\r\n        android:background=&quot;#CDCDCD&quot;\r\n        android:focusable=&quot;true&quot;\r\n        android:descendantFocusability=&quot;afterDescendants&quot;\r\n        android:focusableInTouchMode=&quot;true&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/rv2&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        &gt;\r\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI manage it with 2 adapters which are these\r\n\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\nrv_pendientes = findViewById(R.id.rv1);\r\n        rv_atenciones = findViewById(R.id.rv2);\r\n\r\n        rv_pendientes.addItemDecoration(new DividerItemDecoration(rv_pendientes.getContext(), DividerItemDecoration.VERTICAL));\r\n        rv_atenciones.addItemDecoration(new DividerItemDecoration(rv_atenciones.getContext(), DividerItemDecoration.VERTICAL));\r\n\r\n        rv_pendientes.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n        rv_atenciones.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\r\n\r\n        adapter_pendientes = new Adapter_pendientes(lista_pendientes);\r\n        adapter_atenciones = new Adapter_atenciones(lista_atenciones);\r\n\r\n        adapter_pendientes.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\r\n        adapter_atenciones.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\r\n\r\n        rv_pendientes.setAdapter(adapter_pendientes);\r\n        rv_atenciones.setAdapter(adapter_atenciones);\r\n\r\n        rv_pendientes.setHasFixedSize(true);\r\n        rv_atenciones.setHasFixedSize(true);\r\n\r\n        rv_atenciones.requestFocus();\r\n\r\n\r\nrv_pendientes.setOnKeyListener(new View.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n                    switch (keyCode) {\r\n                        case KeyEvent.KEYCODE_TAB:\r\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB 2&quot;);\r\n                            if (adapter_atenciones.getItemCount() &gt; 0) {\r\n                                adapter_atenciones.setSelectedPosition(0); // Establece la posici&#243;n seleccionada en el adaptador2\r\n                                adapter_atenciones.notifyDataSetChanged(); // Notifica al adaptador2 que los datos han cambiado\r\n                                rv_atenciones.scrollToPosition(0);\r\n                                Toast.makeText(MainActivity.this,&quot;entro 2&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\r\n                            }\r\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\r\n                            if (adapter_pendientes.selectedPosition_pendientes &gt; 0) {\r\n                                adapter_pendientes.selectedPosition_pendientes--;\r\n                                rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\r\n                                adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\r\n\r\n                            adapter_pendientes.selectedPosition_pendientes++;\r\n                            rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\r\n                            adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\r\n\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n        rv_atenciones.setOnKeyListener(new View.OnKeyListener() {\r\n            @Override\r\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\r\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\r\n                    switch (keyCode) {\r\n                        case KeyEvent.KEYCODE_TAB:\r\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB&quot;);\r\n                            if (adapter_pendientes.getItemCount() &gt; 0) {\r\n                                adapter_pendientes.setSelectedPosition(0); // Establece la posici&#243;n seleccionada en el adaptador2\r\n\r\n                                rv_pendientes.scrollToPosition(0);\r\n                                adapter_pendientes.notifyDataSetChanged();\r\n                                Toast.makeText(MainActivity.this,&quot;entro&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\r\n                            if (adapter_atenciones.selectedPosition_atenciones &gt; 0) {\r\n                                adapter_atenciones.selectedPosition_atenciones--;\r\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\r\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\r\n                            }\r\n                            break;\r\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\r\n\r\n                                adapter_atenciones.selectedPosition_atenciones++;\r\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\r\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\r\n\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n        });\r\n\r\n}\r\n\r\nprivate class Adapter_pendientes extends RecyclerView.Adapter&lt;Adapter_pendientes.ViewHolder&gt; {\r\n        private List&lt;String&gt; data;\r\n        private int selectedPosition_pendientes = RecyclerView.NO_POSITION;\r\n\r\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\r\n        public void setSelectedPosition(int position) {\r\n            selectedPosition_pendientes = position;\r\n        }\r\n        public Adapter_pendientes(List&lt;String&gt; data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        public void actualizarAlturaElemento(int nuevaAltura) {\r\n            alturaElemento = nuevaAltura;\r\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\r\n        }\r\n\r\n        private int getScreenWidth() {\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            return displayMetrics.widthPixels;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.textView_pendientes.setText(data.get(position));\r\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\r\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\r\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\r\n            );\r\n            //parametros.setMargins(5, 5, 5, 5);\r\n            holder.textView_pendientes.setLayoutParams(parametros);\r\n\r\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\r\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura din&#225;mica aqu&#237;\r\n            //holder.itemView.setLayoutParams(layoutParams);\r\n\r\n            int color = 0;\r\n            String estado = listaestado_pendientes.get(position);\r\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\r\n            switch (estado) {\r\n                case &quot;1&quot;:\r\n                    color = colorpendientes_remoto;\r\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;2&quot;:\r\n                    color = coloratenciones_remoto;\r\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;3&quot;:\r\n                    color = colorentregables_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;4&quot;:\r\n                    color=colorentregadas_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;X&quot;:\r\n                    color=coloranuladas_remoto;\r\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\r\n                    break;\r\n            }\r\n\r\n\r\n            boolean modificado = listamodifica_pendientes.get(position);\r\n            if (layout_historico==false){\r\n                if (modificado == true) {\r\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\r\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\r\n                    //alphaAnimator.setDuration(1000); // Duraci&#243;n de un segundo\r\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\r\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\r\n\r\n                    // Inicia la animaci&#243;n\r\n                    //alphaAnimator.start();\r\n                } else {\r\n                    holder.textViewmodificado.setVisibility(View.GONE);\r\n                }\r\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\r\n            } else {\r\n                holder.textViewmodificado.setVisibility(View.GONE);\r\n\r\n            }\r\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\r\n            holder.textView_pendientes.setTextColor(colortexto_remoto);\r\n            holder.textView_pendientes.setTextSize(ttexto_remoto);\r\n            holder.itemView.setBackgroundColor(color);\r\n\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\r\n            params.setMargins(3, 3, 3, 3);\r\n            holder.itemView.setLayoutParams(params);\r\n            if (position == selectedPosition_pendientes) {\r\n                holder.textView_pendientes.setBackgroundResource(R.drawable.custom_border_comanda);\r\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\r\n            } else {\r\n                holder.textView_pendientes.setBackgroundResource(0);\r\n                //holder.textViewmodificado.setBackgroundResource(0);\r\n            }\r\n            int screenWidth = getScreenWidth();\r\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\r\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            layoutParams.width = itemWidth;\r\n            holder.itemView.setLayoutParams(layoutParams);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView textView_pendientes;\r\n            TextView textViewmodificado;\r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                textView_pendientes = itemView.findViewById(R.id.textviewcomandas);\r\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\r\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\r\n                textView_pendientes.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int previousSelectedPosition = selectedPosition_pendientes;\r\n                        selectedPosition_pendientes = getAbsoluteAdapterPosition();\r\n\r\n                        // Notifica el cambio en la posici&#243;n seleccionada para actualizar la vista\r\n                        notifyItemChanged(previousSelectedPosition);\r\n                        notifyItemChanged(selectedPosition_pendientes);\r\n                        showAlertDialog(selectedPosition_pendientes);\r\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    private class Adapter_atenciones extends RecyclerView.Adapter&lt;Adapter_atenciones.ViewHolder&gt; {\r\n        private List&lt;String&gt; data;\r\n        private int selectedPosition_atenciones = RecyclerView.NO_POSITION;\r\n\r\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\r\n        public void setSelectedPosition(int position) {\r\n            selectedPosition_atenciones = position;\r\n        }\r\n        public Adapter_atenciones(List&lt;String&gt; data) {\r\n            this.data = data;\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\r\n            return new ViewHolder(view);\r\n        }\r\n\r\n        public void actualizarAlturaElemento(int nuevaAltura) {\r\n            alturaElemento = nuevaAltura;\r\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\r\n        }\r\n\r\n        private int getScreenWidth() {\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n            return displayMetrics.widthPixels;\r\n        }\r\n\r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n            holder.textView_atenciones.setText(data.get(position));\r\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\r\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\r\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\r\n            );\r\n            //parametros.setMargins(5, 5, 5, 5);\r\n            holder.textView_atenciones.setLayoutParams(parametros);\r\n\r\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\r\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura din&#225;mica aqu&#237;\r\n            //holder.itemView.setLayoutParams(layoutParams);\r\n\r\n            int color = 0;\r\n            String estado = listaestado_atenciones.get(position);\r\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\r\n            switch (estado) {\r\n                case &quot;1&quot;:\r\n                    color = colorpendientes_remoto;\r\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;2&quot;:\r\n                    color = coloratenciones_remoto;\r\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;3&quot;:\r\n                    color = colorentregables_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;4&quot;:\r\n                    color=colorentregadas_remoto;\r\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\r\n                    break;\r\n                case &quot;X&quot;:\r\n                    color=coloranuladas_remoto;\r\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\r\n                    break;\r\n            }\r\n\r\n\r\n            boolean modificado = listamodifica_atenciones.get(position);\r\n            if (layout_historico==false){\r\n                if (modificado == true) {\r\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\r\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\r\n                    //alphaAnimator.setDuration(1000); // Duraci&#243;n de un segundo\r\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\r\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\r\n\r\n                    // Inicia la animaci&#243;n\r\n                    //alphaAnimator.start();\r\n                } else {\r\n                    holder.textViewmodificado.setVisibility(View.GONE);\r\n                }\r\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\r\n            } else {\r\n                holder.textViewmodificado.setVisibility(View.GONE);\r\n\r\n            }\r\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\r\n            holder.textView_atenciones.setTextColor(colortexto_remoto);\r\n            holder.textView_atenciones.setTextSize(ttexto_remoto);\r\n            holder.itemView.setBackgroundColor(color);\r\n\r\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\r\n            params.setMargins(3, 3, 3, 3);\r\n            holder.itemView.setLayoutParams(params);\r\n            if (position == selectedPosition_atenciones) {\r\n                holder.textView_atenciones.setBackgroundResource(R.drawable.custom_border_comanda);\r\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\r\n            } else {\r\n                holder.textView_atenciones.setBackgroundResource(0);\r\n                //holder.textViewmodificado.setBackgroundResource(0);\r\n            }\r\n            int screenWidth = getScreenWidth();\r\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\r\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\r\n            layoutParams.width = itemWidth;\r\n            holder.itemView.setLayoutParams(layoutParams);\r\n        }\r\n\r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n\r\n        public class ViewHolder extends RecyclerView.ViewHolder {\r\n            TextView textView_atenciones;\r\n            TextView textViewmodificado;\r\n            public ViewHolder(@NonNull View itemView) {\r\n                super(itemView);\r\n                textView_atenciones = itemView.findViewById(R.id.textviewcomandas);\r\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\r\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\r\n                textView_atenciones.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        int previousSelectedPosition = selectedPosition_atenciones;\r\n                        selectedPosition_atenciones = getAbsoluteAdapterPosition();\r\n\r\n                        // Notifica el cambio en la posici&#243;n seleccionada para actualizar la vista\r\n                        notifyItemChanged(previousSelectedPosition);\r\n                        notifyItemChanged(selectedPosition_atenciones);\r\n                        showAlertDialog(selectedPosition_atenciones);\r\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n            }\r\n        }\r\n    }\r\n```\r\nit only cycles through the top recyclerview fine but the bottom one doesn&#39;t.\r\n\r\n\r\nchange the focus of the recyclerview with the TAB key and scroll through its items with the keyboard arrows","title":"move with the keyboard arrows through the items of 2 recyclerview","body":"<p>I have 2 recyclerviews and I want to move in the view through their items, changing the background color of the item that is selected and change the recyclerview with the TAB key and the focus does not leave the recycledview until the TAB key is pressed.\nthis is my XML</p>\n<pre><code>&lt;LinearLayout\n    android:id=&quot;@+id/clcontenido&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;0dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/estados_totales&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textcomandassiges&quot;&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:background=&quot;#CDCDCD&quot;\n        android:focusable=&quot;true&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/rv1&quot;\n        &gt;\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/rv1&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;0dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:layout_marginStart=&quot;5dp&quot;\n        android:layout_marginTop=&quot;5dp&quot;\n        android:layout_marginEnd=&quot;5dp&quot;\n        android:background=&quot;#CDCDCD&quot;\n        android:focusable=&quot;true&quot;\n        android:descendantFocusability=&quot;afterDescendants&quot;\n        android:focusableInTouchMode=&quot;true&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/rv2&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        &gt;\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I manage it with 2 adapters which are these</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\nrv_pendientes = findViewById(R.id.rv1);\n        rv_atenciones = findViewById(R.id.rv2);\n\n        rv_pendientes.addItemDecoration(new DividerItemDecoration(rv_pendientes.getContext(), DividerItemDecoration.VERTICAL));\n        rv_atenciones.addItemDecoration(new DividerItemDecoration(rv_atenciones.getContext(), DividerItemDecoration.VERTICAL));\n\n        rv_pendientes.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\n        rv_atenciones.setLayoutManager(new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false));\n\n        adapter_pendientes = new Adapter_pendientes(lista_pendientes);\n        adapter_atenciones = new Adapter_atenciones(lista_atenciones);\n\n        adapter_pendientes.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\n        adapter_atenciones.actualizarAlturaElemento(RecyclerView.LayoutParams.MATCH_PARENT);\n\n        rv_pendientes.setAdapter(adapter_pendientes);\n        rv_atenciones.setAdapter(adapter_atenciones);\n\n        rv_pendientes.setHasFixedSize(true);\n        rv_atenciones.setHasFixedSize(true);\n\n        rv_atenciones.requestFocus();\n\n\nrv_pendientes.setOnKeyListener(new View.OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\n                    switch (keyCode) {\n                        case KeyEvent.KEYCODE_TAB:\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB 2&quot;);\n                            if (adapter_atenciones.getItemCount() &gt; 0) {\n                                adapter_atenciones.setSelectedPosition(0); // Establece la posición seleccionada en el adaptador2\n                                adapter_atenciones.notifyDataSetChanged(); // Notifica al adaptador2 que los datos han cambiado\n                                rv_atenciones.scrollToPosition(0);\n                                Toast.makeText(MainActivity.this,&quot;entro 2&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\n                            }\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\n                            if (adapter_pendientes.selectedPosition_pendientes &gt; 0) {\n                                adapter_pendientes.selectedPosition_pendientes--;\n                                rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\n                                adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\n\n                            adapter_pendientes.selectedPosition_pendientes++;\n                            rv_pendientes.smoothScrollToPosition(adapter_pendientes.selectedPosition_pendientes);\n                            adapter_pendientes.notifyItemChanged(adapter_pendientes.selectedPosition_pendientes);\n\n                            break;\n                    }\n                    return true;\n                }\n                return false;\n            }\n        });\n        rv_atenciones.setOnKeyListener(new View.OnKeyListener() {\n            @Override\n            public boolean onKey(View v, int keyCode, KeyEvent event) {\n                if (event.getAction() == KeyEvent.ACTION_DOWN) {\n                    switch (keyCode) {\n                        case KeyEvent.KEYCODE_TAB:\n                            Log.d(&quot;MainActivity&quot;, &quot;Presionaste TAB&quot;);\n                            if (adapter_pendientes.getItemCount() &gt; 0) {\n                                adapter_pendientes.setSelectedPosition(0); // Establece la posición seleccionada en el adaptador2\n\n                                rv_pendientes.scrollToPosition(0);\n                                adapter_pendientes.notifyDataSetChanged();\n                                Toast.makeText(MainActivity.this,&quot;entro&quot;,Toast.LENGTH_SHORT).show();// Mueve el foco al primer elemento en rv2\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_LEFT:\n                            if (adapter_atenciones.selectedPosition_atenciones &gt; 0) {\n                                adapter_atenciones.selectedPosition_atenciones--;\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\n                            }\n                            break;\n                        case KeyEvent.KEYCODE_DPAD_RIGHT:\n\n                                adapter_atenciones.selectedPosition_atenciones++;\n                                rv_atenciones.smoothScrollToPosition(adapter_atenciones.selectedPosition_atenciones);\n                                adapter_atenciones.notifyItemChanged(adapter_atenciones.selectedPosition_atenciones);\n\n                            break;\n                    }\n                    return true;\n                }\n                return false;\n            }\n        });\n\n}\n\nprivate class Adapter_pendientes extends RecyclerView.Adapter&lt;Adapter_pendientes.ViewHolder&gt; {\n        private List&lt;String&gt; data;\n        private int selectedPosition_pendientes = RecyclerView.NO_POSITION;\n\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\n        public void setSelectedPosition(int position) {\n            selectedPosition_pendientes = position;\n        }\n        public Adapter_pendientes(List&lt;String&gt; data) {\n            this.data = data;\n        }\n\n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\n            return new ViewHolder(view);\n        }\n\n        public void actualizarAlturaElemento(int nuevaAltura) {\n            alturaElemento = nuevaAltura;\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\n        }\n\n        private int getScreenWidth() {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.widthPixels;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            holder.textView_pendientes.setText(data.get(position));\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\n            );\n            //parametros.setMargins(5, 5, 5, 5);\n            holder.textView_pendientes.setLayoutParams(parametros);\n\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura dinámica aquí\n            //holder.itemView.setLayoutParams(layoutParams);\n\n            int color = 0;\n            String estado = listaestado_pendientes.get(position);\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\n            switch (estado) {\n                case &quot;1&quot;:\n                    color = colorpendientes_remoto;\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\n                    break;\n                case &quot;2&quot;:\n                    color = coloratenciones_remoto;\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\n                    break;\n                case &quot;3&quot;:\n                    color = colorentregables_remoto;\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\n                    break;\n                case &quot;4&quot;:\n                    color=colorentregadas_remoto;\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\n                    break;\n                case &quot;X&quot;:\n                    color=coloranuladas_remoto;\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\n                    break;\n            }\n\n\n            boolean modificado = listamodifica_pendientes.get(position);\n            if (layout_historico==false){\n                if (modificado == true) {\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\n                    //alphaAnimator.setDuration(1000); // Duración de un segundo\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\n\n                    // Inicia la animación\n                    //alphaAnimator.start();\n                } else {\n                    holder.textViewmodificado.setVisibility(View.GONE);\n                }\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\n            } else {\n                holder.textViewmodificado.setVisibility(View.GONE);\n\n            }\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\n            holder.textView_pendientes.setTextColor(colortexto_remoto);\n            holder.textView_pendientes.setTextSize(ttexto_remoto);\n            holder.itemView.setBackgroundColor(color);\n\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\n            params.setMargins(3, 3, 3, 3);\n            holder.itemView.setLayoutParams(params);\n            if (position == selectedPosition_pendientes) {\n                holder.textView_pendientes.setBackgroundResource(R.drawable.custom_border_comanda);\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\n            } else {\n                holder.textView_pendientes.setBackgroundResource(0);\n                //holder.textViewmodificado.setBackgroundResource(0);\n            }\n            int screenWidth = getScreenWidth();\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            layoutParams.width = itemWidth;\n            holder.itemView.setLayoutParams(layoutParams);\n        }\n\n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder {\n            TextView textView_pendientes;\n            TextView textViewmodificado;\n            public ViewHolder(@NonNull View itemView) {\n                super(itemView);\n                textView_pendientes = itemView.findViewById(R.id.textviewcomandas);\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\n                textView_pendientes.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        int previousSelectedPosition = selectedPosition_pendientes;\n                        selectedPosition_pendientes = getAbsoluteAdapterPosition();\n\n                        // Notifica el cambio en la posición seleccionada para actualizar la vista\n                        notifyItemChanged(previousSelectedPosition);\n                        notifyItemChanged(selectedPosition_pendientes);\n                        showAlertDialog(selectedPosition_pendientes);\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        }\n    }\n\n    private class Adapter_atenciones extends RecyclerView.Adapter&lt;Adapter_atenciones.ViewHolder&gt; {\n        private List&lt;String&gt; data;\n        private int selectedPosition_atenciones = RecyclerView.NO_POSITION;\n\n        private int alturaElemento = GridLayoutManager.LayoutParams.WRAP_CONTENT;\n        public void setSelectedPosition(int position) {\n            selectedPosition_atenciones = position;\n        }\n        public Adapter_atenciones(List&lt;String&gt; data) {\n            this.data = data;\n        }\n\n        @NonNull\n        @Override\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.layout_comandas, parent, false);\n            return new ViewHolder(view);\n        }\n\n        public void actualizarAlturaElemento(int nuevaAltura) {\n            alturaElemento = nuevaAltura;\n            notifyDataSetChanged(); // Notifica al adaptador que los datos han cambiado.\n        }\n\n        private int getScreenWidth() {\n            DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            return displayMetrics.widthPixels;\n        }\n\n        @Override\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n            holder.textView_atenciones.setText(data.get(position));\n            LinearLayout.LayoutParams parametros = new LinearLayout.LayoutParams(\n                    /*width*/ RecyclerView.LayoutParams.MATCH_PARENT,\n                    /*height*/ RecyclerView.LayoutParams.MATCH_PARENT\n            );\n            //parametros.setMargins(5, 5, 5, 5);\n            holder.textView_atenciones.setLayoutParams(parametros);\n\n            //filas = preferences.getInt(&quot;filas&quot;, 1);\n            //ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            //layoutParams.height = RecyclerView.LayoutParams.WRAP_CONTENT; // Establece la altura dinámica aquí\n            //holder.itemView.setLayoutParams(layoutParams);\n\n            int color = 0;\n            String estado = listaestado_atenciones.get(position);\n            //Log.e(&quot;COLOR-ESTADO: &quot;,estado);\n            switch (estado) {\n                case &quot;1&quot;:\n                    color = colorpendientes_remoto;\n                    Log.e(&quot;COLOR: PENDIENTES &quot;, String.valueOf(color));\n                    break;\n                case &quot;2&quot;:\n                    color = coloratenciones_remoto;\n                    Log.e(&quot;COLOR: ATENCIONES &quot;, String.valueOf(color));\n                    break;\n                case &quot;3&quot;:\n                    color = colorentregables_remoto;\n                    Log.e(&quot;COLOR: ENTREGABLE &quot;, String.valueOf(color));\n                    break;\n                case &quot;4&quot;:\n                    color=colorentregadas_remoto;\n                    Log.e(&quot;COLOR: ENTREGADO &quot;, String.valueOf(color));\n                    break;\n                case &quot;X&quot;:\n                    color=coloranuladas_remoto;\n                    Log.e(&quot;COLOR: ANULADA &quot;, String.valueOf(color));\n                    break;\n            }\n\n\n            boolean modificado = listamodifica_atenciones.get(position);\n            if (layout_historico==false){\n                if (modificado == true) {\n                    holder.textViewmodificado.setVisibility(View.VISIBLE);\n                    //ObjectAnimator alphaAnimator = ObjectAnimator.ofFloat(holder.textViewmodificado, &quot;alpha&quot;, 0.0f, 1.0f);\n                    //alphaAnimator.setDuration(1000); // Duración de un segundo\n                    //alphaAnimator.setRepeatMode(ObjectAnimator.REVERSE);\n                    //alphaAnimator.setRepeatCount(ObjectAnimator.INFINITE);\n\n                    // Inicia la animación\n                    //alphaAnimator.start();\n                } else {\n                    holder.textViewmodificado.setVisibility(View.GONE);\n                }\n                holder.textViewmodificado.setBackgroundColor(Color.RED);\n            } else {\n                holder.textViewmodificado.setVisibility(View.GONE);\n\n            }\n            ttexto_remoto = preferences.getInt(&quot;ttexto&quot;, 14);\n            holder.textView_atenciones.setTextColor(colortexto_remoto);\n            holder.textView_atenciones.setTextSize(ttexto_remoto);\n            holder.itemView.setBackgroundColor(color);\n\n            ViewGroup.MarginLayoutParams params = (ViewGroup.MarginLayoutParams) holder.itemView.getLayoutParams();\n            params.setMargins(3, 3, 3, 3);\n            holder.itemView.setLayoutParams(params);\n            if (position == selectedPosition_atenciones) {\n                holder.textView_atenciones.setBackgroundResource(R.drawable.custom_border_comanda);\n                //holder.textViewmodificado.setBackgroundResource(R.drawable.custom_border);\n            } else {\n                holder.textView_atenciones.setBackgroundResource(0);\n                //holder.textViewmodificado.setBackgroundResource(0);\n            }\n            int screenWidth = getScreenWidth();\n            int itemWidth = screenWidth / 5; // Divide el ancho de la pantalla por 5 para mostrar 5 elementos por fila\n            ViewGroup.LayoutParams layoutParams = holder.itemView.getLayoutParams();\n            layoutParams.width = itemWidth;\n            holder.itemView.setLayoutParams(layoutParams);\n        }\n\n        @Override\n        public int getItemCount() {\n            return data.size();\n        }\n\n        public class ViewHolder extends RecyclerView.ViewHolder {\n            TextView textView_atenciones;\n            TextView textViewmodificado;\n            public ViewHolder(@NonNull View itemView) {\n                super(itemView);\n                textView_atenciones = itemView.findViewById(R.id.textviewcomandas);\n                textViewmodificado = itemView.findViewById(R.id.textviewmodificado);\n                //TextSizeAdjuster.adjustTextSizeBasedOnScreenSize(MainActivity.this, textView_pendientes);\n                textView_atenciones.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View v) {\n                        int previousSelectedPosition = selectedPosition_atenciones;\n                        selectedPosition_atenciones = getAbsoluteAdapterPosition();\n\n                        // Notifica el cambio en la posición seleccionada para actualizar la vista\n                        notifyItemChanged(previousSelectedPosition);\n                        notifyItemChanged(selectedPosition_atenciones);\n                        showAlertDialog(selectedPosition_atenciones);\n                        //oast.makeText(MainActivity.this,&quot;hiciste clic&quot;+selectedPosition,Toast.LENGTH_SHORT).show();\n                    }\n                });\n\n            }\n        }\n    }\n</code></pre>\n<p>it only cycles through the top recyclerview fine but the bottom one doesn't.</p>\n<p>change the focus of the recyclerview with the TAB key and scroll through its items with the keyboard arrows</p>\n"},{"tags":["java","dependency-injection","inversion-of-control"],"comments":[{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":0,"creation_date":1528282764,"post_id":50718586,"comment_id":88445772,"body_markdown":"quick search yielded https://www.dotnettricks.com/learn/dependencyinjection/what-is-ioc-container-or-di-container","body":"quick search yielded <a href=\"https://www.dotnettricks.com/learn/dependencyinjection/what-is-ioc-container-or-di-container\" rel=\"nofollow noreferrer\">dotnettricks.com/learn/dependencyinjection/&hellip;</a>"},{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":1,"creation_date":1528282835,"post_id":50718586,"comment_id":88445819,"body_markdown":"You are confusing terms. the `Program` class in this context is the composition root and is doing pure DI.","body":"You are confusing terms. the <code>Program</code> class in this context is the composition root and is doing pure DI."},{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":1,"creation_date":1528282932,"post_id":50718586,"comment_id":88445892,"body_markdown":"Another very helpful article on the subject http://blog.ploeh.dk/2014/06/10/pure-di/","body":"Another very helpful article on the subject <a href=\"http://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">blog.ploeh.dk/2014/06/10/pure-di</a>"},{"owner":{"account_id":9265692,"reputation":2883,"user_id":6881205,"accept_rate":100,"display_name":"Abdurakhmon"},"score":0,"creation_date":1528283038,"post_id":50718586,"comment_id":88445953,"body_markdown":"According to this article http://fabien.potencier.org/do-you-need-a-dependency-injection-container.html\ndi-container instantiates and configures objects,  is&#39;nt that what `Program` class is doing","body":"According to this article <a href=\"http://fabien.potencier.org/do-you-need-a-dependency-injection-container.html\" rel=\"nofollow noreferrer\">fabien.potencier.org/&hellip;</a> di-container instantiates and configures objects,  is&#39;nt that what <code>Program</code> class is doing"}],"answers":[{"comments":[{"owner":{"account_id":9675803,"reputation":652,"user_id":8126390,"display_name":"Brian"},"score":3,"creation_date":1579107242,"post_id":50724263,"comment_id":105658336,"body_markdown":"There is some free content available for the book referenced at the start. As someone trying to understand DI, it was quite helpful: https://freecontent.manning.com/dependency-injection-writing-maintainable-loosely-coupled-code/","body":"There is some free content available for the book referenced at the start. As someone trying to understand DI, it was quite helpful: <a href=\"https://freecontent.manning.com/dependency-injection-writing-maintainable-loosely-coupled-code/\" rel=\"nofollow noreferrer\">freecontent.manning.com/&hellip;</a>"},{"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":0,"creation_date":1581851342,"post_id":50724263,"comment_id":106567669,"body_markdown":"Also, chapter 1 of the book can be read in its entirety online, freely. Just go to the book&#39;s home page and click on chapter 1 in the table of content.","body":"Also, chapter 1 of the book can be read in its entirety online, freely. Just go to the book&#39;s home page and click on chapter 1 in the table of content."}],"tags":[],"owner":{"account_id":97618,"reputation":168086,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1696868500,"creation_date":1528299168,"answer_id":50724263,"question_id":50718586,"body_markdown":"According to [Dependency Injection Principles, Practices and Patterns][1], a DI Container is: \r\n\r\n&gt; &quot;*a software library that provides DI functionality and allows automating many of the tasks involved in **Object Composition**, **Interception**, and **Lifetime Management**. **DI Containers** are also known as Inversion of Control (IoC) Containers.*&quot; (&#167;3.2.2)\r\n\r\nAt the very least, a DI Container allows Auto-Wiring, which is:\r\n\r\n&gt; &quot;*the ability to automatically compose an object graph from maps between **Abstractions** and concrete types by making use of the types&#39; metadata supplied by the compiler and [its runtime environment].*&quot; (&#167;12.1.2)\r\n\r\nThis typically means that a DI Container will analyze a type&#39;s constructor and will inject dependencies into it, without the need of having to specify each constructor argument manually.\r\n\r\nFrom that perspective, your `Program` class is *not* a DI Container, but your `Program` class acts as a Composer, which is part of the Composition Root. A  [Composition Root][2] is:\r\n\r\n&gt; &quot;*a (preferably) unique location in an application where modules are composed together.*&quot; (&#167;4.1)\r\n\r\nThe Composer is the part of the Composition Root that does the actual construction of the object graphs.\r\n\r\n&gt; &quot;*It&#39;s an important part of the **Composition Root**. The **Composer** is often a **DI Container**, but it can also be any method that constructs object graphs manually*&quot; (&#167;8)\r\n\r\nIn your specific Composition Root, instead of using a DI Container, you are practicing [Pure DI][3], which is:\r\n\r\n&gt; &quot;*the practice of applying DI without a DI Container.*&quot; (&#167;1.1.1)\r\n\r\nIn other words, Pure DI is the practice of composing object graphs by hand using the `new` keyword of your language, opposed to using a DI Container, exactly as your `Program` class demonstrates.\r\n\r\n&gt; how would simple di-container [look] like\r\n\r\nDI Container implementations are typically fairly complex and there are many ways to build them. Their essence, however, lies in the maps between abstractions and concrete types. Because of this, most DI Containers internally use a dictionary or hash map. [This Stack Overflow answer](https://stackoverflow.com/a/15717047/264697) shows a simplistic dictionary-based implementation (using C#) in just a few lines of code.\r\n\r\n\r\n  [1]: https://mng.bz/BYNl\r\n  [2]: https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\r\n  [3]: https://blog.ploeh.dk/2014/06/10/pure-di/","title":"What is a DI Container?","body":"<p>According to <a href=\"https://mng.bz/BYNl\" rel=\"nofollow noreferrer\">Dependency Injection Principles, Practices and Patterns</a>, a DI Container is:</p>\n<blockquote>\n<p>&quot;<em>a software library that provides DI functionality and allows automating many of the tasks involved in <strong>Object Composition</strong>, <strong>Interception</strong>, and <strong>Lifetime Management</strong>. <strong>DI Containers</strong> are also known as Inversion of Control (IoC) Containers.</em>&quot; (§3.2.2)</p>\n</blockquote>\n<p>At the very least, a DI Container allows Auto-Wiring, which is:</p>\n<blockquote>\n<p>&quot;<em>the ability to automatically compose an object graph from maps between <strong>Abstractions</strong> and concrete types by making use of the types' metadata supplied by the compiler and [its runtime environment].</em>&quot; (§12.1.2)</p>\n</blockquote>\n<p>This typically means that a DI Container will analyze a type's constructor and will inject dependencies into it, without the need of having to specify each constructor argument manually.</p>\n<p>From that perspective, your <code>Program</code> class is <em>not</em> a DI Container, but your <code>Program</code> class acts as a Composer, which is part of the Composition Root. A  <a href=\"https://freecontent.manning.com/dependency-injection-in-net-2nd-edition-understanding-the-composition-root/\" rel=\"nofollow noreferrer\">Composition Root</a> is:</p>\n<blockquote>\n<p>&quot;<em>a (preferably) unique location in an application where modules are composed together.</em>&quot; (§4.1)</p>\n</blockquote>\n<p>The Composer is the part of the Composition Root that does the actual construction of the object graphs.</p>\n<blockquote>\n<p>&quot;<em>It's an important part of the <strong>Composition Root</strong>. The <strong>Composer</strong> is often a <strong>DI Container</strong>, but it can also be any method that constructs object graphs manually</em>&quot; (§8)</p>\n</blockquote>\n<p>In your specific Composition Root, instead of using a DI Container, you are practicing <a href=\"https://blog.ploeh.dk/2014/06/10/pure-di/\" rel=\"nofollow noreferrer\">Pure DI</a>, which is:</p>\n<blockquote>\n<p>&quot;<em>the practice of applying DI without a DI Container.</em>&quot; (§1.1.1)</p>\n</blockquote>\n<p>In other words, Pure DI is the practice of composing object graphs by hand using the <code>new</code> keyword of your language, opposed to using a DI Container, exactly as your <code>Program</code> class demonstrates.</p>\n<blockquote>\n<p>how would simple di-container [look] like</p>\n</blockquote>\n<p>DI Container implementations are typically fairly complex and there are many ways to build them. Their essence, however, lies in the maps between abstractions and concrete types. Because of this, most DI Containers internally use a dictionary or hash map. <a href=\"https://stackoverflow.com/a/15717047/264697\">This Stack Overflow answer</a> shows a simplistic dictionary-based implementation (using C#) in just a few lines of code.</p>\n"}],"owner":{"account_id":9265692,"reputation":2883,"user_id":6881205,"accept_rate":100,"display_name":"Abdurakhmon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39593,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":50724263,"answer_count":1,"score":41,"last_activity_date":1696868500,"creation_date":1528282361,"question_id":50718586,"body_markdown":"I am watching this course video about dependency injection and the instructor talked about `di-container` but did not explain in detail, now I read some articles and I want to confirm that now I am getting this right. Below is simple program and my question is, \r\n \r\n**Is Program class below is kind of simplest di-container? if not how would simple di-container would be like**\r\n\r\n    interface  Implementable {\r\n        void doSmth();\r\n    }\r\n\r\n    class A implements Implementable {\r\n    \r\n        @Override\r\n        public void doSmth() {\r\n    \r\n        }\r\n    }\r\n\r\n    class B {\r\n    \r\n        private Implementable i;\r\n    \r\n        public B(Implementable implementable) {\r\n            this.i= implementable;\r\n        }\r\n        \r\n        public void doSmth(){\r\n            i.doSmth();\r\n        }\r\n    }\r\n\r\nIs this class di-container ?\r\n\r\n    class Program {\r\n        B b = new B(new A());\r\n        b.doSmth();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"What is a DI Container?","body":"<p>I am watching this course video about dependency injection and the instructor talked about <code>di-container</code> but did not explain in detail, now I read some articles and I want to confirm that now I am getting this right. Below is simple program and my question is, </p>\n\n<p><strong>Is Program class below is kind of simplest di-container? if not how would simple di-container would be like</strong></p>\n\n<pre><code>interface  Implementable {\n    void doSmth();\n}\n\nclass A implements Implementable {\n\n    @Override\n    public void doSmth() {\n\n    }\n}\n\nclass B {\n\n    private Implementable i;\n\n    public B(Implementable implementable) {\n        this.i= implementable;\n    }\n\n    public void doSmth(){\n        i.doSmth();\n    }\n}\n</code></pre>\n\n<p>Is this class di-container ?</p>\n\n<pre><code>class Program {\n    B b = new B(new A());\n    b.doSmth();\n}\n</code></pre>\n"},{"tags":["java","debugging","gdb"],"answers":[{"comments":[{"owner":{"account_id":118372,"reputation":353,"user_id":309359,"display_name":"Javier"},"score":0,"creation_date":1298495065,"post_id":5096796,"comment_id":5712690,"body_markdown":"Only more popular or better? Could you be more specific? From what I&#39;ve read it has limitations (or maybe other uses). See [Debugging with gdb](http://publib.boulder.ibm.com/infocenter/realtime/v1r0/index.jsp?topic=/com.ibm.rt.doc.10/diag/problem_determination/linux_gdb.html).","body":"Only more popular or better? Could you be more specific? From what I&#39;ve read it has limitations (or maybe other uses). See <a href=\"http://publib.boulder.ibm.com/infocenter/realtime/v1r0/index.jsp?topic=/com.ibm.rt.doc.10/diag/problem_determination/linux_gdb.html\" rel=\"nofollow noreferrer\">Debugging with gdb</a>."},{"owner":{"account_id":60769,"reputation":59521,"user_id":181412,"accept_rate":100,"display_name":"dbyrne"},"score":0,"creation_date":1298496281,"post_id":5096796,"comment_id":5712993,"body_markdown":"&lt;speculation&gt; I tend to agree with the article you&#39;ve linked. gdb is probably more limited for debugging pure java code than other popular options.  It might be more useful for debugging the actual JVM though.  I could see it being helpful for debugging alternative JVM languages like JRuby, Clojure, or Scala as well.  My gdb experience is limited to C and C++ though, so I don&#39;t feel qualified to comment any further. &lt;/speculation&gt;","body":"&lt;speculation&gt; I tend to agree with the article you&#39;ve linked. gdb is probably more limited for debugging pure java code than other popular options.  It might be more useful for debugging the actual JVM though.  I could see it being helpful for debugging alternative JVM languages like JRuby, Clojure, or Scala as well.  My gdb experience is limited to C and C++ though, so I don&#39;t feel qualified to comment any further. &lt;/speculation&gt;"}],"tags":[],"owner":{"account_id":60769,"reputation":59521,"user_id":181412,"accept_rate":100,"display_name":"dbyrne"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1488546276,"creation_date":1298493550,"answer_id":5096796,"question_id":5096707,"body_markdown":"I would say gdb is used for debugging Java when the programmer is coming from a different language and is already familiar with gdb.  Otherwise, it seems like a strange choice given that there are more popular alternatives for Java: [jdb][1], [JSwat][2], [eclipse][3], [netbeans][4], etc.\r\n\r\nHere is a [tutorial][5] for debugging Java with gdb.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\r\n  [2]: http://sourceforge.net/projects/jswat/\r\n  [3]: http://www.ibm.com/developerworks/library/os-ecbug/\r\n  [4]: http://netbeans.org/features/java/debugger.html\r\n  [5]: http://gcc.gnu.org/java/gdb.html","title":"How is gdb used to debug Java programs?","body":"<p>I would say gdb is used for debugging Java when the programmer is coming from a different language and is already familiar with gdb.  Otherwise, it seems like a strange choice given that there are more popular alternatives for Java: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\" rel=\"noreferrer\">jdb</a>, <a href=\"http://sourceforge.net/projects/jswat/\" rel=\"noreferrer\">JSwat</a>, <a href=\"http://www.ibm.com/developerworks/library/os-ecbug/\" rel=\"noreferrer\">eclipse</a>, <a href=\"http://netbeans.org/features/java/debugger.html\" rel=\"noreferrer\">netbeans</a>, etc.</p>\n\n<p>Here is a <a href=\"http://gcc.gnu.org/java/gdb.html\" rel=\"noreferrer\">tutorial</a> for debugging Java with gdb.</p>\n"},{"tags":[],"owner":{"account_id":460911,"reputation":2174,"user_id":862295,"accept_rate":89,"display_name":"Tom Larkworthy"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1430246508,"creation_date":1430246508,"answer_id":29927395,"question_id":5096707,"body_markdown":"GDB is 99% of the time is not useful for debugging Java, but it can help you find native memory leaks which the java debuggers can&#39;t.","title":"How is gdb used to debug Java programs?","body":"<p>GDB is 99% of the time is not useful for debugging Java, but it can help you find native memory leaks which the java debuggers can't.</p>\n"},{"tags":[],"owner":{"account_id":5326312,"reputation":1120,"user_id":4248273,"accept_rate":100,"display_name":"Yeti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634482656,"creation_date":1634482656,"answer_id":69605546,"question_id":5096707,"body_markdown":"**gdb can be useful to take heap dumps fast.**\r\n\r\nNormally one would dump the heap by using [jmap][1] or similar tools. But when using this tools, the JVM performs garbage collection before dumping, which can take hours on a hanging process. With the steps below you can dump fast, restart the process and convert the dump afterwards.\r\n\r\n    gdb --pid &lt;PID&gt;\r\n    gcore /tmp/gdbdump.core\r\n    detach\r\n    quit\r\n\r\nAfterwards you need to convert the core file to a hprof file to analyze it with Java tools:\r\n\r\n    jmap -dump:format=b,file=/tmp/javadump.hprof /path/tojdk/java /tmp/gdbdump.core\r\n\r\n**Be aware:**\r\n\r\n 1. You need to use the same version of the JDK like the JRE/JDK version the process was running with. \r\n 2. The conversion can take some hours.\r\n 3. For Windows: There seems to be similar process: https://stackoverflow.com/a/35822193/4248273\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html","title":"How is gdb used to debug Java programs?","body":"<p><strong>gdb can be useful to take heap dumps fast.</strong></p>\n<p>Normally one would dump the heap by using <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/share/jmap.html\" rel=\"nofollow noreferrer\">jmap</a> or similar tools. But when using this tools, the JVM performs garbage collection before dumping, which can take hours on a hanging process. With the steps below you can dump fast, restart the process and convert the dump afterwards.</p>\n<pre><code>gdb --pid &lt;PID&gt;\ngcore /tmp/gdbdump.core\ndetach\nquit\n</code></pre>\n<p>Afterwards you need to convert the core file to a hprof file to analyze it with Java tools:</p>\n<pre><code>jmap -dump:format=b,file=/tmp/javadump.hprof /path/tojdk/java /tmp/gdbdump.core\n</code></pre>\n<p><strong>Be aware:</strong></p>\n<ol>\n<li>You need to use the same version of the JDK like the JRE/JDK version the process was running with.</li>\n<li>The conversion can take some hours.</li>\n<li>For Windows: There seems to be similar process: <a href=\"https://stackoverflow.com/a/35822193/4248273\">https://stackoverflow.com/a/35822193/4248273</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1343553,"reputation":614,"user_id":1284720,"accept_rate":56,"display_name":"sha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696868341,"creation_date":1696868341,"answer_id":77260376,"question_id":5096707,"body_markdown":"GDB can be used in java programs to debug/trace JNI (java native interface). JNI is usually used to access code in shared libraries. We can put breakpoints in the shared libraries, which can be triggered when jvm executes the JNI methods","title":"How is gdb used to debug Java programs?","body":"<p>GDB can be used in java programs to debug/trace JNI (java native interface). JNI is usually used to access code in shared libraries. We can put breakpoints in the shared libraries, which can be triggered when jvm executes the JNI methods</p>\n"}],"owner":{"account_id":118372,"reputation":353,"user_id":309359,"display_name":"Javier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29548,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":4,"score":18,"last_activity_date":1696868341,"creation_date":1298492972,"question_id":5096707,"body_markdown":"When gdb is used for debugging purposes in Java:\r\n   \r\n&lt;ul&gt;   \r\n&lt;li&gt; What&#39;s its practical use?\r\n&lt;li&gt; What are its limitations?\r\n&lt;li&gt; How is it compared to other debuggers?\r\n&lt;/ul&gt;","title":"How is gdb used to debug Java programs?","body":"<p>When gdb is used for debugging purposes in Java:</p>\n\n<ul>   \n<li> What's its practical use?\n<li> What are its limitations?\n<li> How is it compared to other debuggers?\n</ul>\n"},{"tags":["java","data-binding","jackson","jax-rs","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":311592,"reputation":2016,"user_id":625265,"accept_rate":75,"display_name":"Oz Molaim"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696868116,"creation_date":1529224829,"answer_id":50895043,"question_id":50872647,"body_markdown":"You missed a minor thing.\r\nYou should resolve the type to `Map&lt;String, Date&gt;` instead of `Map&lt;String, Object&gt;` as follow:\r\n\r\n    Map&lt;String, Date&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Date&gt;&gt;() {});\r\n\r\n","title":"Jackson ObjectMapper not respecting configured date time format","body":"<p>You missed a minor thing.\nYou should resolve the type to <code>Map&lt;String, Date&gt;</code> instead of <code>Map&lt;String, Object&gt;</code> as follow:</p>\n<pre><code>Map&lt;String, Date&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Date&gt;&gt;() {});\n</code></pre>\n"}],"owner":{"account_id":938568,"reputation":3010,"user_id":967062,"accept_rate":62,"display_name":"Nitin Bansal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2342,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":50895043,"answer_count":1,"score":2,"last_activity_date":1696868116,"creation_date":1529054699,"question_id":50872647,"body_markdown":"There&#39;s high probability I&#39;m missing something, but, I&#39;m unable to configure object mapper to use given date-time format. Parsing date-time string using same date formatter (that is used to configure object mapper) successfully parses the same date-time string. Here&#39;s relevant code.\r\n\r\n        String eventTimeString = &quot;2018-06-13 20:22:00&quot;;\r\n        String jsonString = &quot;{\\&quot;event_time\\&quot;:\\&quot;&quot;+eventTimeString+&quot;\\&quot;}&quot;;\r\n\r\n        // configure date formatter\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n        // configure object mapper\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.setDateFormat(sdf);\r\n\r\n        // parse json string using configured object mapper\r\n        Map&lt;String, Object&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n\r\n        // print event time class as parsed by object mapper\r\n        System.out.println(&quot;event time class: &quot; + (jsonDataMap.get(&quot;event_time&quot;).getClass().getName()));\r\n\r\n        // test parsing date time field\r\n        System.out.println(sdf.parse(eventTimeString));\r\n\r\nThe output that I get is:\r\n\r\n    event time class: java.lang.String\r\n    Thu Jun 14 01:52:00 IST 2018\r\n\r\nWhat am I doing wrong here?\r\n\r\nThanks...\r\n","title":"Jackson ObjectMapper not respecting configured date time format","body":"<p>There's high probability I'm missing something, but, I'm unable to configure object mapper to use given date-time format. Parsing date-time string using same date formatter (that is used to configure object mapper) successfully parses the same date-time string. Here's relevant code.</p>\n\n<pre><code>    String eventTimeString = \"2018-06-13 20:22:00\";\n    String jsonString = \"{\\\"event_time\\\":\\\"\"+eventTimeString+\"\\\"}\";\n\n    // configure date formatter\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n    // configure object mapper\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.setDateFormat(sdf);\n\n    // parse json string using configured object mapper\n    Map&lt;String, Object&gt; jsonDataMap = mapper.readValue(jsonString, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n\n    // print event time class as parsed by object mapper\n    System.out.println(\"event time class: \" + (jsonDataMap.get(\"event_time\").getClass().getName()));\n\n    // test parsing date time field\n    System.out.println(sdf.parse(eventTimeString));\n</code></pre>\n\n<p>The output that I get is:</p>\n\n<pre><code>event time class: java.lang.String\nThu Jun 14 01:52:00 IST 2018\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n\n<p>Thanks...</p>\n"},{"tags":["java","c#","datetime"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1438193516,"post_id":31708012,"comment_id":51354294,"body_markdown":"Can I suggest not storing/transmitting data in what is effectively a .NET-centric format to start with? Beyond that - look at the documentation for `DateTime.FromBinary`, which explains what the value is. Note that Java&#39;s `Date` doesn&#39;t have as much precision as `DateTime`, although `java.time.Instant` does (and more).","body":"Can I suggest not storing/transmitting data in what is effectively a .NET-centric format to start with? Beyond that - look at the documentation for <code>DateTime.FromBinary</code>, which explains what the value is. Note that Java&#39;s <code>Date</code> doesn&#39;t have as much precision as <code>DateTime</code>, although <code>java.time.Instant</code> does (and more)."},{"owner":{"account_id":1637743,"reputation":549,"user_id":1510770,"display_name":"Jegg"},"score":0,"creation_date":1438193987,"post_id":31708012,"comment_id":51354595,"body_markdown":"is it the one you are looking for ? http://stackoverflow.com/questions/23670516/what-is-the-equivalent-of-datetime-fromoadate-in-java-double-to-datetime-in-j","body":"is it the one you are looking for ? <a href=\"http://stackoverflow.com/questions/23670516/what-is-the-equivalent-of-datetime-fromoadate-in-java-double-to-datetime-in-j\" title=\"what is the equivalent of datetime fromoadate in java double to datetime in j\">stackoverflow.com/questions/23670516/&hellip;</a>"},{"owner":{"account_id":4746483,"reputation":159,"user_id":3837711,"accept_rate":40,"display_name":"Poonam E"},"score":0,"creation_date":1438194942,"post_id":31708012,"comment_id":51355140,"body_markdown":"No, that&#39;s a different one I guess","body":"No, that&#39;s a different one I guess"}],"answers":[{"tags":[],"owner":{"account_id":410984,"reputation":587,"user_id":783148,"display_name":"kjosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438196546,"creation_date":1438196546,"answer_id":31709007,"question_id":31708012,"body_markdown":"The value .Net (de-)serializes via `To-/FromBinary` seems very specific to .Net, so I don&#39;t think there&#39;s an easy way to convert that value into a `java.util.Date`.\r\n\r\nThe easiest way I can think of from the perspective of a Java developer would be to convert your .Net `DateTime` to Unix time (see [DateTimeOffset.ToUnixTimeMilliseconds](https://msdn.microsoft.com/en-us/library/dn823277(v=vs.110).aspx)) and then use that value for the `java.util.Date` [constructor](https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date(long)) that accepts that value.\r\n","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>The value .Net (de-)serializes via <code>To-/FromBinary</code> seems very specific to .Net, so I don't think there's an easy way to convert that value into a <code>java.util.Date</code>.</p>\n\n<p>The easiest way I can think of from the perspective of a Java developer would be to convert your .Net <code>DateTime</code> to Unix time (see <a href=\"https://msdn.microsoft.com/en-us/library/dn823277(v=vs.110).aspx\" rel=\"nofollow\">DateTimeOffset.ToUnixTimeMilliseconds</a>) and then use that value for the <code>java.util.Date</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html#Date(long)\" rel=\"nofollow\">constructor</a> that accepts that value.</p>\n"},{"comments":[{"owner":{"account_id":29633768,"reputation":1,"user_id":22711582,"display_name":"H Ren"},"score":0,"creation_date":1696871701,"post_id":77260323,"comment_id":136205674,"body_markdown":"Actually that is python. FYI.","body":"Actually that is python. FYI."},{"owner":{"account_id":27103,"reputation":35282,"user_id":71141,"accept_rate":82,"display_name":"Etienne de Martel"},"score":1,"creation_date":1696871948,"post_id":77260323,"comment_id":136205714,"body_markdown":"And you gave a Python answer to a Java question for... what?","body":"And you gave a Python answer to a Java question for... what?"}],"tags":[],"owner":{"account_id":29633768,"reputation":1,"user_id":22711582,"display_name":"H Ren"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696867808,"creation_date":1696867714,"answer_id":77260323,"question_id":31708012,"body_markdown":"This worked for me:\r\n\r\nx, = struct.unpack(&#39;q&#39;, File.read(8))\r\n\r\ny=x+8587633342590756227\r\n\r\ndt= datetime.datetime(2015,7,30,10,10,26,0) + datetime.timedelta(microseconds=y/10.)\r\n\t","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>This worked for me:</p>\n<p>x, = struct.unpack('q', File.read(8))</p>\n<p>y=x+8587633342590756227</p>\n<p>dt= datetime.datetime(2015,7,30,10,10,26,0) + datetime.timedelta(microseconds=y/10.)</p>\n"}],"owner":{"account_id":4746483,"reputation":159,"user_id":3837711,"accept_rate":40,"display_name":"Poonam E"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":961,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696867808,"creation_date":1438193329,"question_id":31708012,"body_markdown":"C# has `Datetime.FromBinary(long)` method which accepts `long`. I have `long data = -8587633342590756227`.\r\n`Datetime.FromBinary(-8587633342590756227)` which gives {7/30/2015 10:10:26 AM}. How to convert it to date-time format in Java?\r\n\r\nThanks","title":"What is the equivalent of Datetime.FromBinary(long) in Java?","body":"<p>C# has <code>Datetime.FromBinary(long)</code> method which accepts <code>long</code>. I have <code>long data = -8587633342590756227</code>.\n<code>Datetime.FromBinary(-8587633342590756227)</code> which gives {7/30/2015 10:10:26 AM}. How to convert it to date-time format in Java?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot","flapdoodle-embed-mongo"],"comments":[{"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"score":0,"creation_date":1620737077,"post_id":66514538,"comment_id":119284155,"body_markdown":"PyhonLearner, any solution?","body":"PyhonLearner, any solution?"},{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1632036520,"post_id":66514538,"comment_id":122381309,"body_markdown":"@Sha I have posted an answer if this is still relevant for you","body":"@Sha I have posted an answer if this is still relevant for you"}],"answers":[{"comments":[{"owner":{"account_id":15121473,"reputation":945,"user_id":10912170,"display_name":"Sha"},"score":1,"creation_date":1632124780,"post_id":69241189,"comment_id":122398997,"body_markdown":"Thank you, we solved it with similar way. We gave the fixed sleeping time like 3seconds.","body":"Thank you, we solved it with similar way. We gave the fixed sleeping time like 3seconds."},{"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"score":0,"creation_date":1678371466,"post_id":69241189,"comment_id":133522379,"body_markdown":"Could you please mentions the import as well bcs there are multiple imports available for Document and BsonTimeStemp etc.","body":"Could you please mentions the import as well bcs there are multiple imports available for Document and BsonTimeStemp etc."},{"owner":{"account_id":16481646,"reputation":143,"user_id":11908262,"display_name":"user11908262"},"score":0,"creation_date":1678371631,"post_id":69241189,"comment_id":133522417,"body_markdown":"return getDatabase(&quot;admin&quot;) methods is not working, it is asking for two param one is db_name and second is MongoDatabaseFactory param. Could you please update the code?","body":"return getDatabase(&quot;admin&quot;) methods is not working, it is asking for two param one is db_name and second is MongoDatabaseFactory param. Could you please update the code?"}],"tags":[],"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632049425,"creation_date":1632036339,"answer_id":69241189,"question_id":66514538,"body_markdown":"As there is no solution for this I will post my solution, keep in mind this happens  **for an embedded mongo db(flapdoodle version 3.0.0) with replica set only** and with the following java &amp; spring mongo drivers:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthe solution we used is the following busy wait:\r\n```\r\n    private void waitUntilReplicaReady() throws InterruptedException {\r\n        Document document = getRaplicaStatus();\r\n        while (isReplicaInitializing(document)) {\r\n            document = getRaplicaStatus();\r\n            TimeUnit.MILLISECONDS.sleep(100);\r\n        }\r\n    }\r\n\r\n    private boolean isReplicaInitializing(Document document) {\r\n        return document.get(&quot;lastStableCheckpointTimestamp&quot;, BsonTimestamp.class).getTime() == 0;\r\n    }\r\n\r\n    private Document getRaplicaStatus() {\r\n        return getDatabase(&quot;admin&quot;).runCommand(new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;));\r\n    }\r\n\r\n```\r\n\r\nWhile ```lastStableCheckpointTimestamp``` time is not set we keep pooling, when ```lastStableCheckpointTimestamp``` is set we allow the program to advance(it takes ~2 seconds for it to populate)","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>As there is no solution for this I will post my solution, keep in mind this happens  <strong>for an embedded mongo db(flapdoodle version 3.0.0) with replica set only</strong> and with the following java &amp; spring mongo drivers:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;2.2.13.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n            &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>the solution we used is the following busy wait:</p>\n<pre><code>    private void waitUntilReplicaReady() throws InterruptedException {\n        Document document = getRaplicaStatus();\n        while (isReplicaInitializing(document)) {\n            document = getRaplicaStatus();\n            TimeUnit.MILLISECONDS.sleep(100);\n        }\n    }\n\n    private boolean isReplicaInitializing(Document document) {\n        return document.get(&quot;lastStableCheckpointTimestamp&quot;, BsonTimestamp.class).getTime() == 0;\n    }\n\n    private Document getRaplicaStatus() {\n        return getDatabase(&quot;admin&quot;).runCommand(new BasicDBObject(&quot;replSetGetStatus&quot;, &quot;1&quot;));\n    }\n\n</code></pre>\n<p>While <code>lastStableCheckpointTimestamp</code> time is not set we keep pooling, when <code>lastStableCheckpointTimestamp</code> is set we allow the program to advance(it takes ~2 seconds for it to populate)</p>\n"},{"tags":[],"owner":{"account_id":12078072,"reputation":747,"user_id":8830813,"display_name":"Jayabharathi Palanisamy"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657561600,"creation_date":1657561600,"answer_id":72942663,"question_id":66514538,"body_markdown":"Adding the read preference in connection string resolved above issue \r\n\r\n    mongodb://userName:Password@mongodb0.example.com:27017?ReadPreference=primary","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>Adding the read preference in connection string resolved above issue</p>\n<pre><code>mongodb://userName:Password@mongodb0.example.com:27017?ReadPreference=primary\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8676244,"reputation":21,"user_id":6493593,"display_name":"rzoo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683723795,"creation_date":1683723795,"answer_id":76218754,"question_id":66514538,"body_markdown":"Before change this, checking  may help if IPs and ports are valid for the Mongo Db.","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>Before change this, checking  may help if IPs and ports are valid for the Mongo Db.</p>\n"}],"owner":{"account_id":14095561,"reputation":1426,"user_id":10182449,"display_name":"PythonLearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10423,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1696867601,"creation_date":1615105544,"question_id":66514538,"body_markdown":"I am getting the following exception while executing my integration test cases for transactional feature of MongoDB.\r\n\r\n    org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}; nested exception is com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\r\n    \tat org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2874)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.saveDocument(MongoTemplate.java:1485)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.doSave(MongoTemplate.java:1421)\r\n    \tat org.springframework.data.mongodb.core.MongoTemplate.save(MongoTemplate.java:1363)\r\n    ....................\r\n    Caused by: com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:244)\r\n    \tat com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:171)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:302)\r\n\r\nMy test class has the following method.\r\n\r\n    @Test\r\n       @Order(1)\r\n       void testUpdateValidationsById() {\r\n           MyEntity entity = new MyEntity();\r\n           entity.setId(&quot;6030a6e1b32d1f70b4ce8039&quot;);\r\n           entity.setAttributeType(&quot;IP Address, FQDN&quot;);\r\n           entity.setCategory(&quot;NTP&quot;);\r\n           entity.setCategoryLabel(&quot;NTP&quot;);\r\n           entity.setTrueMsgDetails(&quot;It is true&quot;);\r\n           entity.setFalseMsgDetails(&quot;It is false&quot;);\r\n           entity.setCorevalidation(&quot;Core Validation&quot;);\r\n    \r\n           ResponseEntity&lt;?&gt; re = controller.updateValidationsById(entity);\r\n           boolean flag = re.getStatusCode().is2xxSuccessful();\r\n           assertEquals(true, flag);\r\n       }\r\n\r\nMy test configuration class looks like this.\r\n\r\n    @Profile(&quot;test&quot;)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestConfiguration\r\n    public class TestMongoDBConfig implements InitializingBean, DisposableBean {\r\n    \r\n    \tprivate MongodExecutable executable;\r\n    \tprivate String replicaSetName = &quot;rs0&quot;;\r\n    \tprivate int mongoDBPort = 27021;\r\n    \r\n    \t@Override\r\n    \tpublic void afterPropertiesSet() throws Exception {\r\n    \t\tmongoDBPort = Network.getFreeServerPort();\r\n    \t\tIMongoCmdOptions cmdOptions = new MongoCmdOptionsBuilder().useNoPrealloc(false).useSmallFiles(false)\r\n    \t\t\t\t.master(false).verbose(false).useNoJournal(false).syncDelay(0).build();\r\n    \r\n    //\t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\r\n    \t\tIMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.V4_0)\r\n    //\t\t\t\t.net(new Net(27023, Network.localhostIsIPv6()))\r\n    \t\t\t\t.net(new Net(mongoDBPort, Network.localhostIsIPv6()))\r\n    \t\t\t\t.replication(new Storage(null, replicaSetName, 5000)).configServer(true).cmdOptions(cmdOptions)\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tMongodStarter starter = MongodStarter.getDefaultInstance();\r\n    \t\texecutable = starter.prepare(mongodConfig);\r\n    \t\texecutable.start();\r\n    \t}\r\n    \r\n    \t\r\n    \t@Bean(name = &quot;test1&quot;)\r\n    \tpublic MongoClient mongoClient() {\r\n    \t\tConnectionString cs = new ConnectionString(&quot;mongodb://localhost:&quot; + mongoDBPort + &quot;/&quot;);\r\n    \t\tMongoClient mongoClient = MongoClients.create(cs);\r\n    \t\tSystem.out.println(&quot;--------------------------------------&quot;);\r\n    \t\tSystem.out.println(&quot;Mongo Selected ort : &quot; + mongoDBPort);\r\n    \t\tSystem.out.println(&quot;MongoClient : &quot; + mongoClient);\r\n    \t\tSystem.out.println(&quot;--------------------------------------&quot;);\r\n    \t\tmongoClient.getDatabase(&quot;admin&quot;).runCommand(new Document(&quot;replSetInitiate&quot;, new Document()));\r\n    \t\treturn mongoClient;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Destroy.\r\n    \t *\r\n    \t * @throws Exception the exception\r\n    \t */\r\n    \t@Override\r\n    \tpublic void destroy() throws Exception {\r\n    \t\texecutable.stop();\r\n    \t}\r\n    }\r\n\r\n","title":"UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): &#39;not master&#39; on server","body":"<p>I am getting the following exception while executing my integration test cases for transactional feature of MongoDB.</p>\n<pre><code>org.springframework.data.mongodb.UncategorizedMongoDbException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}; nested exception is com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\n    at org.springframework.data.mongodb.core.MongoExceptionTranslator.translateExceptionIfPossible(MongoExceptionTranslator.java:133)\n    at org.springframework.data.mongodb.core.MongoTemplate.potentiallyConvertRuntimeException(MongoTemplate.java:2874)\n    at org.springframework.data.mongodb.core.MongoTemplate.execute(MongoTemplate.java:568)\n    at org.springframework.data.mongodb.core.MongoTemplate.saveDocument(MongoTemplate.java:1485)\n    at org.springframework.data.mongodb.core.MongoTemplate.doSave(MongoTemplate.java:1421)\n    at org.springframework.data.mongodb.core.MongoTemplate.save(MongoTemplate.java:1363)\n....................\nCaused by: com.mongodb.MongoNotPrimaryException: Command failed with error 10107 (NotMaster): 'not master' on server localhost:60876. The full response is {&quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;not master&quot;, &quot;code&quot;: 10107, &quot;codeName&quot;: &quot;NotMaster&quot;, &quot;$gleStats&quot;: {&quot;lastOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 1}}, &quot;electionId&quot;: {&quot;$oid&quot;: &quot;7fffffff0000000000000001&quot;}}, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 0, &quot;i&quot;: 0}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1615104939, &quot;i&quot;: 2}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}}\n    at com.mongodb.internal.connection.ProtocolHelper.createSpecialException(ProtocolHelper.java:244)\n    at com.mongodb.internal.connection.ProtocolHelper.getCommandFailureException(ProtocolHelper.java:171)\n    at com.mongodb.internal.connection.InternalStreamConnection.receiveCommandMessageResponse(InternalStreamConnection.java:302)\n</code></pre>\n<p>My test class has the following method.</p>\n<pre><code>@Test\n   @Order(1)\n   void testUpdateValidationsById() {\n       MyEntity entity = new MyEntity();\n       entity.setId(&quot;6030a6e1b32d1f70b4ce8039&quot;);\n       entity.setAttributeType(&quot;IP Address, FQDN&quot;);\n       entity.setCategory(&quot;NTP&quot;);\n       entity.setCategoryLabel(&quot;NTP&quot;);\n       entity.setTrueMsgDetails(&quot;It is true&quot;);\n       entity.setFalseMsgDetails(&quot;It is false&quot;);\n       entity.setCorevalidation(&quot;Core Validation&quot;);\n\n       ResponseEntity&lt;?&gt; re = controller.updateValidationsById(entity);\n       boolean flag = re.getStatusCode().is2xxSuccessful();\n       assertEquals(true, flag);\n   }\n</code></pre>\n<p>My test configuration class looks like this.</p>\n<pre><code>@Profile(&quot;test&quot;)\n@ActiveProfiles(&quot;test&quot;)\n@TestConfiguration\npublic class TestMongoDBConfig implements InitializingBean, DisposableBean {\n\n    private MongodExecutable executable;\n    private String replicaSetName = &quot;rs0&quot;;\n    private int mongoDBPort = 27021;\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        mongoDBPort = Network.getFreeServerPort();\n        IMongoCmdOptions cmdOptions = new MongoCmdOptionsBuilder().useNoPrealloc(false).useSmallFiles(false)\n                .master(false).verbose(false).useNoJournal(false).syncDelay(0).build();\n\n//      IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.PRODUCTION)\n        IMongodConfig mongodConfig = new MongodConfigBuilder().version(Version.Main.V4_0)\n//              .net(new Net(27023, Network.localhostIsIPv6()))\n                .net(new Net(mongoDBPort, Network.localhostIsIPv6()))\n                .replication(new Storage(null, replicaSetName, 5000)).configServer(true).cmdOptions(cmdOptions)\n                .build();\n\n        MongodStarter starter = MongodStarter.getDefaultInstance();\n        executable = starter.prepare(mongodConfig);\n        executable.start();\n    }\n\n    \n    @Bean(name = &quot;test1&quot;)\n    public MongoClient mongoClient() {\n        ConnectionString cs = new ConnectionString(&quot;mongodb://localhost:&quot; + mongoDBPort + &quot;/&quot;);\n        MongoClient mongoClient = MongoClients.create(cs);\n        System.out.println(&quot;--------------------------------------&quot;);\n        System.out.println(&quot;Mongo Selected ort : &quot; + mongoDBPort);\n        System.out.println(&quot;MongoClient : &quot; + mongoClient);\n        System.out.println(&quot;--------------------------------------&quot;);\n        mongoClient.getDatabase(&quot;admin&quot;).runCommand(new Document(&quot;replSetInitiate&quot;, new Document()));\n        return mongoClient;\n    }\n\n    /**\n     * Destroy.\n     *\n     * @throws Exception the exception\n     */\n    @Override\n    public void destroy() throws Exception {\n        executable.stop();\n    }\n}\n</code></pre>\n"},{"tags":["java","authentication"],"comments":[{"owner":{"account_id":2168743,"reputation":10044,"user_id":1921273,"display_name":"MrSmith42"},"score":0,"creation_date":1365101125,"post_id":15819030,"comment_id":22501387,"body_markdown":"I use HtmlUnit for such jobs because it not only supports cookies but also javascript.","body":"I use HtmlUnit for such jobs because it not only supports cookies but also javascript."},{"owner":{"account_id":347037,"reputation":79658,"user_id":680925,"display_name":"Perception"},"score":0,"creation_date":1365101722,"post_id":15819030,"comment_id":22501727,"body_markdown":"The page you are trying to access is a simple HTML page - you should be using https://login.szn.cz/loginProcess instead. Also, you need to use an SSL connection. Also, you need to specify the request method as POST and the Content-Type as &#39;application/x-www-form-urlencoded&#39;. Also you need to encode the data you are writing to the request body. Also, you seem to be missing some parameters (at least compared to when you login using the main HTML page). You might want to HtmlUnit, as suggested by @MrSmith42.","body":"The page you are trying to access is a simple HTML page - you should be using <a href=\"https://login.szn.cz/loginProcess\" rel=\"nofollow noreferrer\">login.szn.cz/loginProcess</a> instead. Also, you need to use an SSL connection. Also, you need to specify the request method as POST and the Content-Type as &#39;application/x-www-form-urlencoded&#39;. Also you need to encode the data you are writing to the request body. Also, you seem to be missing some parameters (at least compared to when you login using the main HTML page). You might want to HtmlUnit, as suggested by @MrSmith42."},{"owner":{"account_id":788355,"reputation":1152,"user_id":862441,"display_name":"srkavin"},"score":0,"creation_date":1365101781,"post_id":15819030,"comment_id":22501754,"body_markdown":"You can try casting `connect` to `HttpURLConnection` and then set the request method to POST using `setRequestMethod(&quot;POST&quot;);`","body":"You can try casting <code>connect</code> to <code>HttpURLConnection</code> and then set the request method to POST using <code>setRequestMethod(&quot;POST&quot;);</code>"},{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":2,"creation_date":1365104765,"post_id":15819030,"comment_id":22503287,"body_markdown":"@MrSmith42\nI downloaded htmlUnit and it looks great. With this I&#39;m able to login to my site and it&#39;s more elegant solution. Thanks man :)","body":"@MrSmith42 I downloaded htmlUnit and it looks great. With this I&#39;m able to login to my site and it&#39;s more elegant solution. Thanks man :)"}],"answers":[{"comments":[{"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"score":1,"creation_date":1365104816,"post_id":15819689,"comment_id":22503316,"body_markdown":"I use the advice form MrSmith42, but thanks for yours reply :)","body":"I use the advice form MrSmith42, but thanks for yours reply :)"}],"tags":[],"owner":{"account_id":2000370,"reputation":6294,"user_id":1791578,"accept_rate":60,"display_name":"ridoy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365103853,"creation_date":1365102488,"answer_id":15819689,"question_id":15819030,"body_markdown":"You can call the `URL` object&#39;s `openConnection` method to get a `URLConnection` object. You can use this `URLConnection` object to setup parameters and general request properties that you may need before connecting. Connection to the remote object represented by the `URL` is only initiated when the `URLConnection.connect` method is called. The following code opens a connection to the site *example.com*:\r\n\r\n    try {\r\n        URL myURL = new URL(&quot;http://login.szn.cz&quot;);\r\n        URLConnection myURLConnection = myURL.openConnection();\r\n        myURLConnection.connect();\r\n    } \r\n    catch (MalformedURLException e) { \r\n        // new URL() failed\r\n        // ...\r\n    } \r\n    catch (IOException e) {   \r\n        // openConnection() failed\r\n        // ...\r\n    }\r\nA new `URLConnection` object is created every time by calling the `openConnection` method of the protocol handler for this `URL`.\r\n\r\nAlso see these links..  \r\n\r\n - http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url\r\n - https://stackoverflow.com/questions/7622011/login-on-website-with-java\r\n\r\n","title":"Login to a website (Java)","body":"<p>You can call the <code>URL</code> object's <code>openConnection</code> method to get a <code>URLConnection</code> object. You can use this <code>URLConnection</code> object to setup parameters and general request properties that you may need before connecting. Connection to the remote object represented by the <code>URL</code> is only initiated when the <code>URLConnection.connect</code> method is called. The following code opens a connection to the site <em>example.com</em>:</p>\n\n<pre><code>try {\n    URL myURL = new URL(\"http://login.szn.cz\");\n    URLConnection myURLConnection = myURL.openConnection();\n    myURLConnection.connect();\n} \ncatch (MalformedURLException e) { \n    // new URL() failed\n    // ...\n} \ncatch (IOException e) {   \n    // openConnection() failed\n    // ...\n}\n</code></pre>\n\n<p>A new <code>URLConnection</code> object is created every time by calling the <code>openConnection</code> method of the protocol handler for this <code>URL</code>.</p>\n\n<p>Also see these links..  </p>\n\n<ul>\n<li><a href=\"http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url\" rel=\"nofollow noreferrer\">http://www.coderanch.com/t/524061/open-source/Java-program-Login-website-url</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7622011/login-on-website-with-java\">Login on website with java</a></li>\n</ul>\n"}],"owner":{"account_id":2403408,"reputation":1317,"user_id":2100558,"accept_rate":51,"display_name":"Sk1X1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8850,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696867601,"creation_date":1365100578,"question_id":15819030,"body_markdown":"I want to login to a website, but if I try it with this code:\r\npackage URL;\r\n\r\n    //Variables to hold the URL object and its connection to that URL.\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    public class URLLogin {\r\n    \tprivate static URL URLObj;\r\n    private static URLConnection connect;\r\n    \r\n    public static void main(String[] args) {\r\n        try {\r\n            // Establish a URL and open a connection to it. Set it to output mode.\r\n            URLObj = new URL(&quot;http://login.szn.cz&quot;);\r\n            connect = URLObj.openConnection();\r\n            connect.setDoOutput(true);        \r\n        }\r\n        catch (MalformedURLException ex) {\r\n            System.out.println(&quot;The URL specified was unable to be parsed or uses an invalid protocol. Please try again.&quot;);\r\n            System.exit(1); \r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;An exception occurred. &quot; + ex.getMessage());\r\n            System.exit(1);\r\n        }\r\n    \t\r\n    \t\r\n        try {\r\n            // Create a buffered writer to the URLConnection&#39;s output stream and write our forms parameters.\r\n            BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connect.getOutputStream(),&quot;UTF-8&quot;));\r\n            writer.write(&quot;username=S&amp;password=s&amp;login=Přihl&#225;sit se&quot;);\r\n            writer.close();\r\n    \t\t\r\n         // Now establish a buffered reader to read the URLConnection&#39;s input stream.\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connect.getInputStream()));\r\n    \t\t\r\n            String lineRead = &quot;&quot;;\r\n    \t\t\r\n            Read all available lines of data from the URL and print them to screen.\r\n            while ((lineRead = reader.readLine()) != null) {\r\n                System.out.println(lineRead);\r\n            }\r\n    \t\t\r\n            reader.close();  \r\n        }\r\n        catch (Exception ex) {\r\n            System.out.println(&quot;There was an error reading or writing to the URL: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n    }\r\n\r\nI get this error:\r\n\r\n&gt; There was an error reading or writing to the URL: Server returned HTTP\r\n&gt; response code: 405 for URL: http://login.szn.cz\r\n\r\nIs here a way how I can login to this website? Or maybe I can use cookies in Opera browser with login information?\r\n\r\nThanks for all advices.","title":"Login to a website (Java)","body":"<p>I want to login to a website, but if I try it with this code:\npackage URL;</p>\n\n<pre><code>//Variables to hold the URL object and its connection to that URL.\nimport java.net.*;\nimport java.io.*;\n\npublic class URLLogin {\n    private static URL URLObj;\nprivate static URLConnection connect;\n\npublic static void main(String[] args) {\n    try {\n        // Establish a URL and open a connection to it. Set it to output mode.\n        URLObj = new URL(\"http://login.szn.cz\");\n        connect = URLObj.openConnection();\n        connect.setDoOutput(true);        \n    }\n    catch (MalformedURLException ex) {\n        System.out.println(\"The URL specified was unable to be parsed or uses an invalid protocol. Please try again.\");\n        System.exit(1); \n    }\n    catch (Exception ex) {\n        System.out.println(\"An exception occurred. \" + ex.getMessage());\n        System.exit(1);\n    }\n\n\n    try {\n        // Create a buffered writer to the URLConnection's output stream and write our forms parameters.\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(connect.getOutputStream(),\"UTF-8\"));\n        writer.write(\"username=S&amp;password=s&amp;login=Přihlásit se\");\n        writer.close();\n\n     // Now establish a buffered reader to read the URLConnection's input stream.\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connect.getInputStream()));\n\n        String lineRead = \"\";\n\n        Read all available lines of data from the URL and print them to screen.\n        while ((lineRead = reader.readLine()) != null) {\n            System.out.println(lineRead);\n        }\n\n        reader.close();  \n    }\n    catch (Exception ex) {\n        System.out.println(\"There was an error reading or writing to the URL: \" + ex.getMessage());\n    }\n}\n}\n</code></pre>\n\n<p>I get this error:</p>\n\n<blockquote>\n  <p>There was an error reading or writing to the URL: Server returned HTTP\n  response code: 405 for URL: <a href=\"http://login.szn.cz\" rel=\"nofollow\">http://login.szn.cz</a></p>\n</blockquote>\n\n<p>Is here a way how I can login to this website? Or maybe I can use cookies in Opera browser with login information?</p>\n\n<p>Thanks for all advices.</p>\n"},{"tags":["java","objectmapper"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1476092323,"post_id":39955104,"comment_id":67190327,"body_markdown":"From what I gathered, you can use &quot;Configuration Overrides&quot; to do something similar. See [the 2.8 patchnote](https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8#configuration-overrides) and [this github issue](https://github.com/FasterXML/jackson-datatype-joda/issues/12).","body":"From what I gathered, you can use &quot;Configuration Overrides&quot; to do something similar. See <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.8#configuration-overrides\" rel=\"nofollow noreferrer\">the 2.8 patchnote</a> and <a href=\"https://github.com/FasterXML/jackson-datatype-joda/issues/12\" rel=\"nofollow noreferrer\">this github issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":1528364,"reputation":125614,"user_id":1426227,"accept_rate":79,"display_name":"cassiomolin"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1476093274,"creation_date":1476092917,"answer_id":39955590,"question_id":39955104,"body_markdown":"You can try the following:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    \r\n    DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\r\n    \r\n    LocalDateTimeDeserializer dateTimeDeserializer = new LocalDateTimeDeserializer(formatter);\r\n    LocalDateTimeSerializer dateTimeSerializer = new LocalDateTimeSerializer(formatter);\r\n            \r\n    JavaTimeModule javaTimeModule = new JavaTimeModule(); \r\n    javaTimeModule.addDeserializer(LocalDateTime.class, dateTimeDeserializer);\r\n    javaTimeModule.addSerializer(LocalDateTime.class, dateTimeSerializer);\r\n    \r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(javaTimeModule);\r\n\r\nThe [`jackson-datatype-jsr310`][1] dependency is required:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n[1]: https://github.com/FasterXML/jackson-datatype-jsr310","title":"Using DateTimeFormatter with ObjectMapper","body":"<p>You can try the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = DateTimeFormatter.ISO_DATE_TIME;\n\nLocalDateTimeDeserializer dateTimeDeserializer = new LocalDateTimeDeserializer(formatter);\nLocalDateTimeSerializer dateTimeSerializer = new LocalDateTimeSerializer(formatter);\n\nJavaTimeModule javaTimeModule = new JavaTimeModule(); \njavaTimeModule.addDeserializer(LocalDateTime.class, dateTimeDeserializer);\njavaTimeModule.addSerializer(LocalDateTime.class, dateTimeSerializer);\n\nObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(javaTimeModule);\n</code></pre>\n\n<p>The <a href=\"https://github.com/FasterXML/jackson-datatype-jsr310\" rel=\"noreferrer\"><code>jackson-datatype-jsr310</code></a> dependency is required:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5163377,"reputation":271,"user_id":4134274,"accept_rate":14,"display_name":"DanglingPointer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9750,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1696867292,"creation_date":1476091341,"question_id":39955104,"body_markdown":"Prior to Java8, we used to set DateFormat with ObjectMapper as follows\r\n\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&quot;);\r\n    ObjectMapper mapper = &lt;SomeInstantiation&gt;\r\n    mapper.setDateFormat(df);\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\nNow that we have `java.time.format.DateTimeFormatter` which is *thread-safe* and more robust unlike `SimpleDateFormat`. I want to replace above settings on `ObjectMapper`. \r\n\r\nHow do I set `DateTimeFormatter` with `ObjectMapper`?","title":"Using DateTimeFormatter with ObjectMapper","body":"<p>Prior to Java8, we used to set DateFormat with ObjectMapper as follows</p>\n<pre><code>DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ssXXX&quot;);\nObjectMapper mapper = &lt;SomeInstantiation&gt;\nmapper.setDateFormat(df);\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n<p>Now that we have <code>java.time.format.DateTimeFormatter</code> which is <em>thread-safe</em> and more robust unlike <code>SimpleDateFormat</code>. I want to replace above settings on <code>ObjectMapper</code>.</p>\n<p>How do I set <code>DateTimeFormatter</code> with <code>ObjectMapper</code>?</p>\n"},{"tags":["java","hbase","apache-zookeeper","nosql"],"comments":[{"owner":{"account_id":6476496,"reputation":3045,"user_id":5014959,"accept_rate":62,"display_name":"Alp"},"score":0,"creation_date":1475850640,"post_id":30069125,"comment_id":67123089,"body_markdown":"Have found the reason of the problem ? And have you found a solution to it ?","body":"Have found the reason of the problem ? And have you found a solution to it ?"},{"owner":{"account_id":898124,"reputation":7147,"user_id":934960,"accept_rate":72,"display_name":"Raunak Agarwal"},"score":0,"creation_date":1475865391,"post_id":30069125,"comment_id":67131307,"body_markdown":"@Alp: Hey, I don&#39;t if I really found what caused this issue. But I have a hunch, I was using hbase&#39;s zookeeper and once I had logged in to the Zookeeper CLI: `${HBASE_HOME}/bin/hbase zkcli` and did `ls /hbase`, `master` was missing in the output. So, that explains why it wasn&#39;t able to getdata for that znode. Hope this helps, please share your experience!","body":"@Alp: Hey, I don&#39;t if I really found what caused this issue. But I have a hunch, I was using hbase&#39;s zookeeper and once I had logged in to the Zookeeper CLI: <code>${HBASE_HOME}&#47;bin&#47;hbase zkcli</code> and did <code>ls &#47;hbase</code>, <code>master</code> was missing in the output. So, that explains why it wasn&#39;t able to getdata for that znode. Hope this helps, please share your experience!"},{"owner":{"account_id":6476496,"reputation":3045,"user_id":5014959,"accept_rate":62,"display_name":"Alp"},"score":0,"creation_date":1476359904,"post_id":30069125,"comment_id":67317341,"body_markdown":"Thanks for your response. My case was not exactly the same. I was just suspicious, and was trying to exhaust all possible leads. In my case, I was given a bunch of put mutations, for which I needed to create tables with column families as I go. System worked for a while but at certain point in time, zookeeper died on me. I spent some time to figure out the reason.I couldn&#39;t pin point the issue in a short period of time, but instead, I created all necessary tables upfront and then added mutations. It worked like a charm. I hope this helps others.","body":"Thanks for your response. My case was not exactly the same. I was just suspicious, and was trying to exhaust all possible leads. In my case, I was given a bunch of put mutations, for which I needed to create tables with column families as I go. System worked for a while but at certain point in time, zookeeper died on me. I spent some time to figure out the reason.I couldn&#39;t pin point the issue in a short period of time, but instead, I created all necessary tables upfront and then added mutations. It worked like a charm. I hope this helps others."}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1696945127,"post_id":77260202,"comment_id":136215364,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77260202/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29633634,"reputation":1,"user_id":22711494,"display_name":"butchi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866446,"creation_date":1696866446,"answer_id":77260202,"question_id":30069125,"body_markdown":"    &lt;configuration&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.master.port&lt;/name&gt;\r\n        &lt;value&gt;localhost:16000&lt;/value&gt;\r\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\r\n        &lt;value&gt;16022&lt;/value&gt;\r\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n        &lt;value&gt;file:///data/hbase&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\r\n        &lt;value&gt;/data//hbase/zookeeper&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n        &lt;value&gt;localhost&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;dfs.replication&lt;/name&gt;\r\n        &lt;value&gt;2&lt;/value&gt;\r\n      &lt;/property&gt;\r\n      &lt;property&gt;\r\n        &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n        &lt;value&gt;2181&lt;/value&gt;\r\n        &lt;description&gt;Property from ZooKeeper&#39;s config zoo.cfg.&lt;/description&gt;              \r\n      &lt;/property&gt;\r\n\r\n&lt;/configuration&gt;","title":"Hbase Zookeeper Standalone mode","body":"<pre><code>&lt;configuration&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.master.port&lt;/name&gt;\n    &lt;value&gt;localhost:16000&lt;/value&gt;\n    &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\n    &lt;value&gt;16022&lt;/value&gt;\n    &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.rootdir&lt;/name&gt;\n    &lt;value&gt;file:///data/hbase&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\n    &lt;value&gt;/data//hbase/zookeeper&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n    &lt;value&gt;localhost&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;dfs.replication&lt;/name&gt;\n    &lt;value&gt;2&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n    &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n    &lt;value&gt;2181&lt;/value&gt;\n    &lt;description&gt;Property from ZooKeeper's config zoo.cfg.&lt;/description&gt;              \n  &lt;/property&gt;\n</code></pre>\n\n"}],"owner":{"account_id":898124,"reputation":7147,"user_id":934960,"accept_rate":72,"display_name":"Raunak Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696866446,"creation_date":1430893726,"question_id":30069125,"body_markdown":"I have a setup with hbase deployed in standalone mode. Everything works fine initially but after 30 mins or so my zookeeper service dies. I get this exception:\r\n\r\n    2015-05-05 19:52:06,999 ERROR [main] zookeeper.RecoverableZooKeeper: ZooKeeper getData failed after 1 attempts\r\n    2015-05-05 19:52:06,999 WARN  [main] zookeeper.ZKUtil: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Unable to get data of znode /hbase/master\r\n    org.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /hbase/master\r\n            at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)\r\n            at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\r\n            at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1155)\r\n            at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.getData(RecoverableZooKeeper.java:360)\r\n            at org.apache.hadoop.hbase.zookeeper.ZKUtil.getDataNoWatch(ZKUtil.java:775)\r\n            at org.apache.hadoop.hbase.zookeeper.MasterAddressTracker.deleteIfEquals(MasterAddressTracker.java:251)\r\n            at org.apache.hadoop.hbase.ZNodeClearer.clear(ZNodeClearer.java:149)\r\n            at org.apache.hadoop.hbase.master.HMasterCommandLine.run(HMasterCommandLine.java:143)\r\n            at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\r\n            at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)\r\n            at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1996)\r\n    2015-05-05 19:52:06,999 WARN  [main-SendThread(agalaxy:2181)] zookeeper.ClientCnxn: Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect\r\n    java.net.ConnectException: Connection refused\r\n            at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n            at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)\r\n            at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)\r\n            at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)\r\n    2015-05-05 19:52:06,999 ERROR [main] zookeeper.ZooKeeperWatcher: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Received unexpected KeeperException, re-throwing exception\r\n\r\nI am pumping stream of continuous data into hbase. I checked zookeeper logs, but much of it is non-readable. I couldn&#39;t trace the reason for the service to die off. Can anyone please help. Thanks! Here&#39;s my config\r\n\r\n \r\n\r\n\r\n    &lt;configuration&gt;\r\n       &lt;property&gt;\r\n            &lt;name&gt;hbase.master&lt;/name&gt;\r\n            &lt;value&gt;localhost:60000&lt;/value&gt;\r\n            &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\r\n            &lt;value&gt;60020&lt;/value&gt;\r\n            &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.rootdir&lt;/name&gt;\r\n            &lt;value&gt;file:///data/hbase&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\r\n            &lt;value&gt;/data/zookeeper&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.tmp.dir&lt;/name&gt;\r\n            &lt;value&gt;/data/hbase/tmp&lt;/value&gt;\r\n     &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\r\n            &lt;value&gt;localhost&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;dfs.replication&lt;/name&gt;\r\n            &lt;value&gt;2&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\r\n            &lt;value&gt;2181&lt;/value&gt;\r\n            &lt;description&gt;Property from ZooKeeper&#39;s config zoo.cfg.\r\n                The port at which the clients will connect.\r\n            &lt;/description&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n","title":"Hbase Zookeeper Standalone mode","body":"<p>I have a setup with hbase deployed in standalone mode. Everything works fine initially but after 30 mins or so my zookeeper service dies. I get this exception:</p>\n\n<pre><code>2015-05-05 19:52:06,999 ERROR [main] zookeeper.RecoverableZooKeeper: ZooKeeper getData failed after 1 attempts\n2015-05-05 19:52:06,999 WARN  [main] zookeeper.ZKUtil: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Unable to get data of znode /hbase/master\norg.apache.zookeeper.KeeperException$ConnectionLossException: KeeperErrorCode = ConnectionLoss for /hbase/master\n        at org.apache.zookeeper.KeeperException.create(KeeperException.java:99)\n        at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)\n        at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1155)\n        at org.apache.hadoop.hbase.zookeeper.RecoverableZooKeeper.getData(RecoverableZooKeeper.java:360)\n        at org.apache.hadoop.hbase.zookeeper.ZKUtil.getDataNoWatch(ZKUtil.java:775)\n        at org.apache.hadoop.hbase.zookeeper.MasterAddressTracker.deleteIfEquals(MasterAddressTracker.java:251)\n        at org.apache.hadoop.hbase.ZNodeClearer.clear(ZNodeClearer.java:149)\n        at org.apache.hadoop.hbase.master.HMasterCommandLine.run(HMasterCommandLine.java:143)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:70)\n        at org.apache.hadoop.hbase.util.ServerCommandLine.doMain(ServerCommandLine.java:126)\n        at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:1996)\n2015-05-05 19:52:06,999 WARN  [main-SendThread(agalaxy:2181)] zookeeper.ClientCnxn: Session 0x0 for server null, unexpected error, closing socket connection and attempting reconnect\njava.net.ConnectException: Connection refused\n        at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n        at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:739)\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:361)\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1081)\n2015-05-05 19:52:06,999 ERROR [main] zookeeper.ZooKeeperWatcher: clean znode for master0x0, quorum=localhost:2181, baseZNode=/hbase Received unexpected KeeperException, re-throwing exception\n</code></pre>\n\n<p>I am pumping stream of continuous data into hbase. I checked zookeeper logs, but much of it is non-readable. I couldn't trace the reason for the service to die off. Can anyone please help. Thanks! Here's my config</p>\n\n<pre><code>&lt;configuration&gt;\n   &lt;property&gt;\n        &lt;name&gt;hbase.master&lt;/name&gt;\n        &lt;value&gt;localhost:60000&lt;/value&gt;\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.regionserver.port&lt;/name&gt;\n        &lt;value&gt;60020&lt;/value&gt;\n        &lt;description&gt;The host and port that the HBase master runs at.&lt;/description&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.rootdir&lt;/name&gt;\n        &lt;value&gt;file:///data/hbase&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.property.dataDir&lt;/name&gt;\n        &lt;value&gt;/data/zookeeper&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.tmp.dir&lt;/name&gt;\n        &lt;value&gt;/data/hbase/tmp&lt;/value&gt;\n &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.quorum&lt;/name&gt;\n        &lt;value&gt;localhost&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n        &lt;value&gt;2&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;hbase.zookeeper.property.clientPort&lt;/name&gt;\n        &lt;value&gt;2181&lt;/value&gt;\n        &lt;description&gt;Property from ZooKeeper's config zoo.cfg.\n            The port at which the clients will connect.\n        &lt;/description&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","google-bigquery","avro","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696866390,"creation_date":1696866390,"answer_id":77260193,"question_id":77245306,"body_markdown":"Using repeated columns in the BigQuery table and arrays in the topic schema do not mean that multiple messages are coalesced into single rows in the table if all that differs is the array/repeated fields. There is no way to do that type of implicit merging of fields via BigQuery subscriptions. You would need to published a message with the repeated fields already merged into a single array.","title":"PubSub to BQ Subscription with Array Data Type on Avro and REPEATED type on BQ","body":"<p>Using repeated columns in the BigQuery table and arrays in the topic schema do not mean that multiple messages are coalesced into single rows in the table if all that differs is the array/repeated fields. There is no way to do that type of implicit merging of fields via BigQuery subscriptions. You would need to published a message with the repeated fields already merged into a single array.</p>\n"}],"owner":{"account_id":10907310,"reputation":2214,"user_id":8017666,"display_name":"SRJ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77260193,"answer_count":1,"score":0,"last_activity_date":1696866390,"creation_date":1696602844,"question_id":77245306,"body_markdown":"## Avro Schema\r\n\r\nPubsub schema created using below schema.\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;model&quot;,\r\n  &quot;name&quot;: &quot;Point&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;id1&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id2&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id3&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id4&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id5&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;reference&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;id6&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;code&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;status1&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;status1&quot;,\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;default&quot;: null,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;status1&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;status2&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;status3&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;phase&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;type&quot;: &quot;array&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;items&quot;: {\r\n          &quot;name&quot;: &quot;phase&quot;,\r\n          &quot;type&quot;: &quot;record&quot;,\r\n          &quot;default&quot;: null,\r\n          &quot;fields&quot;: [\r\n            {\r\n              &quot;name&quot;: &quot;phase1&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            },\r\n            {\r\n              &quot;name&quot;: &quot;created_at&quot;,\r\n              &quot;type&quot;: [\r\n                &quot;null&quot;,\r\n                &quot;string&quot;\r\n              ],\r\n              &quot;default&quot;: null\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;amount&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;name&quot;: &quot;Amount&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;amount&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          },\r\n          {\r\n            &quot;name&quot;: &quot;currency&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;user&quot;,\r\n      &quot;type&quot;: {\r\n        &quot;name&quot;: &quot;User&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;default&quot;: null,\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;name&quot;: &quot;name&quot;,\r\n            &quot;type&quot;: [\r\n              &quot;null&quot;,\r\n              &quot;string&quot;\r\n            ],\r\n            &quot;default&quot;: null\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;created_at&quot;,\r\n      &quot;type&quot;: [\r\n        &quot;null&quot;,\r\n        &quot;string&quot;\r\n      ],\r\n      &quot;default&quot;: null\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n## BQ Schema\r\n```\r\n  &quot;schema&quot;: {\r\n    &quot;fields&quot;: [\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id1&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id2&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id3&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id4&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id5&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;reference&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;id6&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;code&quot;,\r\n        &quot;type&quot;: &quot;STRING&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status1&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status2&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;status3&quot;,\r\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;REPEATED&quot;,\r\n        &quot;name&quot;: &quot;status1&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;phase1&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;created_at&quot;,\r\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;REPEATED&quot;,\r\n        &quot;name&quot;: &quot;phase&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;amount&quot;,\r\n            &quot;type&quot;: &quot;BIGNUMERIC&quot;\r\n          },\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;currency&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;amount&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;fields&quot;: [\r\n          {\r\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n            &quot;name&quot;: &quot;name&quot;,\r\n            &quot;type&quot;: &quot;STRING&quot;\r\n          }\r\n        ],\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;user&quot;,\r\n        &quot;type&quot;: &quot;RECORD&quot;\r\n      },\r\n      {\r\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\r\n        &quot;name&quot;: &quot;created_at&quot;,\r\n        &quot;type&quot;: &quot;TIMESTAMP&quot;\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\n## Pubsub to BQ Subscription\r\nPubsub to BQ Subscription and created\r\n\r\n## Publishing Messages\r\nGenerated Avro classes with Java Avro Plugin and publishing messages from there.\r\n\r\n## Problem\r\nMessages are getting persisted fine to BQ However I can&#39;t see repeated column populated properly, there are still multiple rows created for same data.\r\nFor e.g. phase and status is REPEATED column on BQ side and ARRAY type on AVRO side, so when I am publishing multiple messages where everything except `phase` and `status1` are same, ideally there would be one row and multiple granular rows within `phase` and `status1` but it is not happening and instead there are separate rows with duplicated data.","title":"PubSub to BQ Subscription with Array Data Type on Avro and REPEATED type on BQ","body":"<h2>Avro Schema</h2>\n<p>Pubsub schema created using below schema.</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;model&quot;,\n  &quot;name&quot;: &quot;Point&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;id1&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id2&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id3&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id4&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id5&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;reference&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;id6&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;code&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    },\n    {\n      &quot;name&quot;: &quot;status1&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;default&quot;: null,\n        &quot;items&quot;: {\n          &quot;name&quot;: &quot;status1&quot;,\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;default&quot;: null,\n          &quot;fields&quot;: [\n            {\n              &quot;name&quot;: &quot;status1&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;status2&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;status3&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            }\n          ]\n        }\n      }\n    },\n    {\n      &quot;name&quot;: &quot;phase&quot;,\n      &quot;type&quot;: {\n        &quot;type&quot;: &quot;array&quot;,\n        &quot;default&quot;: null,\n        &quot;items&quot;: {\n          &quot;name&quot;: &quot;phase&quot;,\n          &quot;type&quot;: &quot;record&quot;,\n          &quot;default&quot;: null,\n          &quot;fields&quot;: [\n            {\n              &quot;name&quot;: &quot;phase1&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            },\n            {\n              &quot;name&quot;: &quot;created_at&quot;,\n              &quot;type&quot;: [\n                &quot;null&quot;,\n                &quot;string&quot;\n              ],\n              &quot;default&quot;: null\n            }\n          ]\n        }\n      }\n    },\n    {\n      &quot;name&quot;: &quot;amount&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;Amount&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;default&quot;: null,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;amount&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          },\n          {\n            &quot;name&quot;: &quot;currency&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;user&quot;,\n      &quot;type&quot;: {\n        &quot;name&quot;: &quot;User&quot;,\n        &quot;type&quot;: &quot;record&quot;,\n        &quot;default&quot;: null,\n        &quot;fields&quot;: [\n          {\n            &quot;name&quot;: &quot;name&quot;,\n            &quot;type&quot;: [\n              &quot;null&quot;,\n              &quot;string&quot;\n            ],\n            &quot;default&quot;: null\n          }\n        ]\n      }\n    },\n    {\n      &quot;name&quot;: &quot;created_at&quot;,\n      &quot;type&quot;: [\n        &quot;null&quot;,\n        &quot;string&quot;\n      ],\n      &quot;default&quot;: null\n    }\n  ]\n}\n</code></pre>\n<h2>BQ Schema</h2>\n<pre><code>  &quot;schema&quot;: {\n    &quot;fields&quot;: [\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id1&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id2&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id3&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id4&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id5&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;reference&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;id6&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;code&quot;,\n        &quot;type&quot;: &quot;STRING&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status1&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status2&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;status3&quot;,\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;REPEATED&quot;,\n        &quot;name&quot;: &quot;status1&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;phase1&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;created_at&quot;,\n            &quot;type&quot;: &quot;TIMESTAMP&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;REPEATED&quot;,\n        &quot;name&quot;: &quot;phase&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;amount&quot;,\n            &quot;type&quot;: &quot;BIGNUMERIC&quot;\n          },\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;currency&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;amount&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;fields&quot;: [\n          {\n            &quot;mode&quot;: &quot;NULLABLE&quot;,\n            &quot;name&quot;: &quot;name&quot;,\n            &quot;type&quot;: &quot;STRING&quot;\n          }\n        ],\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;user&quot;,\n        &quot;type&quot;: &quot;RECORD&quot;\n      },\n      {\n        &quot;mode&quot;: &quot;NULLABLE&quot;,\n        &quot;name&quot;: &quot;created_at&quot;,\n        &quot;type&quot;: &quot;TIMESTAMP&quot;\n      }\n    ]\n  }\n</code></pre>\n<h2>Pubsub to BQ Subscription</h2>\n<p>Pubsub to BQ Subscription and created</p>\n<h2>Publishing Messages</h2>\n<p>Generated Avro classes with Java Avro Plugin and publishing messages from there.</p>\n<h2>Problem</h2>\n<p>Messages are getting persisted fine to BQ However I can't see repeated column populated properly, there are still multiple rows created for same data.\nFor e.g. phase and status is REPEATED column on BQ side and ARRAY type on AVRO side, so when I am publishing multiple messages where everything except <code>phase</code> and <code>status1</code> are same, ideally there would be one row and multiple granular rows within <code>phase</code> and <code>status1</code> but it is not happening and instead there are separate rows with duplicated data.</p>\n"},{"tags":["java","collections","foreach","java-5"],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1235561966,"creation_date":1235561966,"answer_id":585659,"question_id":585654,"body_markdown":"Assuming `K` is your key type and `V` is your value type:\r\n\r\n    for (Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\r\n      K key = entry.getKey();\r\n      V value = entry.getValue();\r\n      // do stuff\r\n    }","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>Assuming <code>K</code> is your key type and <code>V</code> is your value type:</p>\n\n<pre><code>for (Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\n  K key = entry.getKey();\n  V value = entry.getValue();\n  // do stuff\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1691418341,"post_id":76852272,"comment_id":135485152,"body_markdown":"BTW 1st snippet similar to already suggested one, in accepted answer (from 2009, &gt;24 years ago) but with less details (as posted here, works only with Java 10 or later; question asking for Java 5); (ii) 2nd will not work with Java 5, 6, or 7 :-/","body":"BTW 1st snippet similar to already suggested one, in accepted answer (from 2009, &gt;24 years ago) but with less details (as posted here, works only with Java 10 or later; question asking for Java 5); (ii) 2nd will not work with Java 5, 6, or 7 :-/"},{"owner":{"account_id":20963346,"reputation":51,"user_id":15402266,"display_name":"user123123"},"score":0,"creation_date":1691595835,"post_id":76852272,"comment_id":135513757,"body_markdown":"@user16320675 &quot;in Java 5 and higher&quot;.  1st is more readable. 2nd will for newer versions.","body":"@user16320675 &quot;in Java 5 and higher&quot;.  1st is more readable. 2nd will for newer versions."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1691596533,"post_id":76852272,"comment_id":135513925,"body_markdown":"so it will work with Java 5? is my comment wrong? (I think it isn&#39;t bad to give some advice to someone reading this answer... even if Java 5 is very old, Java 8 is still being used)","body":"so it will work with Java 5? is my comment wrong? (I think it isn&#39;t bad to give some advice to someone reading this answer... even if Java 5 is very old, Java 8 is still being used)"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1691598483,"post_id":76852272,"comment_id":135514362,"body_markdown":"@user16320675 is right. Your first answer is less detailed, and your second one is **incorrect**! The `.forEach()` method was only made available in Java 8 or newer as part of the [Java 8 Collections Improvements](https://www.javadevjournal.com/java/java-collections/#:~:text=Java%208%20and%20Collections%20Improvements).","body":"@user16320675 is right. Your first answer is less detailed, and your second one is <b>incorrect</b>! The <code>.forEach()</code> method was only made available in Java 8 or newer as part of the <a href=\"https://www.javadevjournal.com/java/java-collections/#:~:text=Java%208%20and%20Collections%20Improvements\" rel=\"nofollow noreferrer\">Java 8 Collections Improvements</a>."},{"owner":{"account_id":18514,"reputation":7704,"user_id":42473,"accept_rate":52,"display_name":"Mark Booth"},"score":1,"creation_date":1696866487,"post_id":76852272,"comment_id":136204692,"body_markdown":"While the question may mention Java 5, it also mentioned _higher_ versions. Since this  was the oldest question with the highest number of votes, it was the first I was offered when doing a search. Although this answer does not provide a Java 5 answer, it does answer the part of the question related to both _easier_ and _higher_, since _higher_ versions of Java *do* provide an _easier_ option than Java 5 does. I can&#39;t help but think that the effort which went into criticising this answer, could have, instead, gone into improving it.","body":"While the question may mention Java 5, it also mentioned <i>higher</i> versions. Since this  was the oldest question with the highest number of votes, it was the first I was offered when doing a search. Although this answer does not provide a Java 5 answer, it does answer the part of the question related to both <i>easier</i> and <i>higher</i>, since <i>higher</i> versions of Java <i>do</i> provide an <i>easier</i> option than Java 5 does. I can&#39;t help but think that the effort which went into criticising this answer, could have, instead, gone into improving it."}],"tags":[],"owner":{"account_id":20963346,"reputation":51,"user_id":15402266,"display_name":"user123123"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696866246,"creation_date":1691415394,"answer_id":76852272,"question_id":585654,"body_markdown":"While [Joachim Sauer](https://stackoverflow.com/a/585659/42473) is correct for Java 5, there is a simpler option available starting at Java 10:\r\n\r\n    for (var entry : map.entrySet()) {\r\n        // Do something with entry.getKey() and entry.getValue();\r\n    }\r\n\r\nand Java 8 introduced:\r\n\r\n    map.forEach((k, v) -&gt; {\r\n        // Do something with k, v\r\n    });","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>While <a href=\"https://stackoverflow.com/a/585659/42473\">Joachim Sauer</a> is correct for Java 5, there is a simpler option available starting at Java 10:</p>\n<pre><code>for (var entry : map.entrySet()) {\n    // Do something with entry.getKey() and entry.getValue();\n}\n</code></pre>\n<p>and Java 8 introduced:</p>\n<pre><code>map.forEach((k, v) -&gt; {\n    // Do something with k, v\n});\n</code></pre>\n"}],"owner":{"account_id":24717,"reputation":264462,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30781,"favorite_count":0,"down_vote_count":2,"up_vote_count":38,"accepted_answer_id":585659,"answer_count":2,"score":36,"last_activity_date":1696866246,"creation_date":1235561806,"question_id":585654,"body_markdown":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","title":"What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?","body":"<p>What is the easiest way to iterate over all the key/value pairs of a java.util.Map in Java 5 and higher?</p>\n"},{"tags":["java","spring-boot","spring-batch","spring-annotations"],"comments":[{"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"score":0,"creation_date":1539713822,"post_id":52841620,"comment_id":92599219,"body_markdown":"can you add the code for InputItemReader ?","body":"can you add the code for InputItemReader ?"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1539713922,"post_id":52841620,"comment_id":92599279,"body_markdown":"This may help: https://stackoverflow.com/questions/51064214/parameter-0-of-constructor-in-com-din-oss-required-a-bean-of-type-java-lang-str","body":"This may help: <a href=\"https://stackoverflow.com/questions/51064214/parameter-0-of-constructor-in-com-din-oss-required-a-bean-of-type-java-lang-str\" title=\"parameter 0 of constructor in com din oss required a bean of type java lang str\">stackoverflow.com/questions/51064214/&hellip;</a>"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1539713950,"post_id":52841620,"comment_id":92599302,"body_markdown":"there are some articles with similar error messages: https://stackoverflow.com/questions/44058210/caused-by-nosuchbeandefinitionexception-no-qualifying-bean-of-type-xxx-expecte","body":"there are some articles with similar error messages: <a href=\"https://stackoverflow.com/questions/44058210/caused-by-nosuchbeandefinitionexception-no-qualifying-bean-of-type-xxx-expecte\" title=\"caused by nosuchbeandefinitionexception no qualifying bean of type xxx expecte\">stackoverflow.com/questions/44058210/&hellip;</a>"},{"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"score":0,"creation_date":1621480724,"post_id":52841620,"comment_id":119510269,"body_markdown":"With Lombok we can use @NoArgsConstructor annotation.","body":"With Lombok we can use @NoArgsConstructor annotation."},{"owner":{"account_id":6546591,"reputation":1,"user_id":5062407,"display_name":"Marco-Polo"},"score":0,"creation_date":1627101435,"post_id":52841620,"comment_id":121074715,"body_markdown":"This might be so funny, but make sure your &quot;spring stereotypes&quot; imports are spring imports and not from other packages! Happy coding..","body":"This might be so funny, but make sure your &quot;spring stereotypes&quot; imports are spring imports and not from other packages! Happy coding.."},{"owner":{"account_id":3557255,"reputation":5224,"user_id":2970705,"display_name":"JavAlex"},"score":0,"creation_date":1656492187,"post_id":52841620,"comment_id":128583386,"body_markdown":"In my case, the problem was the package structure. The ComponentScan did not find the other class.","body":"In my case, the problem was the package structure. The ComponentScan did not find the other class."}],"answers":[{"comments":[{"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"score":0,"creation_date":1539716634,"post_id":52841800,"comment_id":92600682,"body_markdown":"I understood your point, but the same code is working for someone else not working for me.. i really did not understand why is it so ?\nI have added code also could you please check it once","body":"I understood your point, but the same code is working for someone else not working for me.. i really did not understand why is it so ? I have added code also could you please check it once"},{"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"score":0,"creation_date":1539717048,"post_id":52841800,"comment_id":92600879,"body_markdown":"How should you receive inputFilePath? You know this value before runtime?","body":"How should you receive inputFilePath? You know this value before runtime?"}],"tags":[],"owner":{"account_id":14357523,"reputation":2069,"user_id":10370932,"display_name":"Adina Rolea"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1539717402,"creation_date":1539714286,"answer_id":52841800,"question_id":52841620,"body_markdown":"You defined something like this:\r\n\r\n    @Component\r\n    public class InputItemReader{\r\n\r\n       public InputItemReader(String input){\r\n         ...\r\n       }\r\n    }\r\nThe name of your class suggest that your object is not a bean, just a simple object. You should try to use it in classic way:    \r\n    \r\n    new InputItemReader(myString);\r\nor to have a static method to process the input String.\r\n\r\nExplanation: Spring IoC container will try to instantiate a new InputItemReader object like this : \r\n    \r\n    new InputItemReader( -- WHAT TO PUT HERE? --) \r\nand will fail to call your constructor, because it will not know what you do actually expect and input string.\r\n\r\nUPDATE:\r\n   Your problem can be solved by removing @Component annotation and defining the bean in a configuration like this:\r\n\r\n\t@Bean\r\n\tpublic InputItemReader inputItemReader(InputFileHeaderValidator inputFileHeaderValidator, FileAuditService fileAuditService){\r\n\t\tInputItemReader inputItemReader = new InputItemReader(&quot;--HERE SHOULD BE ACTUAL PATH---&quot;);\r\n\t\t// set the required service, a cleaner approach would be to send them via constructor\r\n\t\tinputItemReader.setFilteAuditService(fileAuditService);\r\n\t\tinputItemReader.setInputFileHeaderValidator(inputFileHeaderValidator);\r\n\t\treturn inputItemReader;\r\n\t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>You defined something like this:</p>\n\n<pre><code>@Component\npublic class InputItemReader{\n\n   public InputItemReader(String input){\n     ...\n   }\n}\n</code></pre>\n\n<p>The name of your class suggest that your object is not a bean, just a simple object. You should try to use it in classic way:    </p>\n\n<pre><code>new InputItemReader(myString);\n</code></pre>\n\n<p>or to have a static method to process the input String.</p>\n\n<p>Explanation: Spring IoC container will try to instantiate a new InputItemReader object like this : </p>\n\n<pre><code>new InputItemReader( -- WHAT TO PUT HERE? --) \n</code></pre>\n\n<p>and will fail to call your constructor, because it will not know what you do actually expect and input string.</p>\n\n<p>UPDATE:\n   Your problem can be solved by removing @Component annotation and defining the bean in a configuration like this:</p>\n\n<pre><code>@Bean\npublic InputItemReader inputItemReader(InputFileHeaderValidator inputFileHeaderValidator, FileAuditService fileAuditService){\n    InputItemReader inputItemReader = new InputItemReader(\"--HERE SHOULD BE ACTUAL PATH---\");\n    // set the required service, a cleaner approach would be to send them via constructor\n    inputItemReader.setFilteAuditService(fileAuditService);\n    inputItemReader.setInputFileHeaderValidator(inputFileHeaderValidator);\n    return inputItemReader;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"score":3,"creation_date":1540806068,"post_id":52843150,"comment_id":92984575,"body_markdown":"Yeah, this is the answer .. In application.properties the inputFilePath variable was missing.. @v_schoener thanks ..","body":"Yeah, this is the answer .. In application.properties the inputFilePath variable was missing.. @v_schoener thanks .."},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1563368360,"post_id":52843150,"comment_id":100676043,"body_markdown":"By the way from Spring Boot 2.2.x immutable configuration will be supported, and hence support for constructor injection of the properties. https://github.com/spring-projects/spring-boot/commit/49412173238e622b30c15d6f53132056bf4feb4f?short_path=3034c85#diff-3034c859fdf54b18876462585532bd82, https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M4-Release-Notes#configuration-property-constructor-parameter-binding, https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M2-Release-Notes#immutable-configurationproperties-binding","body":"By the way from Spring Boot 2.2.x immutable configuration will be supported, and hence support for constructor injection of the properties. <a href=\"https://github.com/spring-projects/spring-boot/commit/49412173238e622b30c15d6f53132056bf4feb4f?short_path=3034c85#diff-3034c859fdf54b18876462585532bd82\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/commit/&hellip;</a>, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M4-Release-Notes#configuration-property-constructor-parameter-binding\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M2-Release-Notes#immutable-configurationproperties-binding\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"owner":{"account_id":6606200,"reputation":301,"user_id":5106823,"display_name":"Ornelio Chauque"},"score":0,"creation_date":1632944788,"post_id":52843150,"comment_id":122633586,"body_markdown":"Thanks you, just solve the issue by providing a default constructor.","body":"Thanks you, just solve the issue by providing a default constructor."}],"tags":[],"owner":{"account_id":9482930,"reputation":825,"user_id":7050229,"display_name":"schoener"},"comment_count":3,"down_vote_count":1,"up_vote_count":59,"is_accepted":true,"score":58,"last_activity_date":1540824544,"creation_date":1539719784,"answer_id":52843150,"question_id":52841620,"body_markdown":"Since you do not provide the public default constructor and you added your own non-default constructor the instantiation will fail. I would suggest you to define the input file path as property like `@Value(&quot;${inputFilePath}&quot;)`. \r\nIf you need further initialization in your bean define a void method and annotate it with `@PostConstruct` and do the initialization within.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Since you do not provide the public default constructor and you added your own non-default constructor the instantiation will fail. I would suggest you to define the input file path as property like <code>@Value(\"${inputFilePath}\")</code>. \nIf you need further initialization in your bean define a void method and annotate it with <code>@PostConstruct</code> and do the initialization within.</p>\n"},{"comments":[{"owner":{"account_id":3114066,"reputation":796,"user_id":2635251,"accept_rate":17,"display_name":"learner"},"score":1,"creation_date":1621369347,"post_id":55878193,"comment_id":119474628,"body_markdown":"Thank you for sharing it. This helped me solve the issue in my project. I am a bit confused. Many of my service classes do not have a public constructor even then I am able to create bean with the custom constructor. But I started getting an issue with one service class where it got solved by providing a default constructor. I am creating bean from config class where parameters value is fetched from properties file.","body":"Thank you for sharing it. This helped me solve the issue in my project. I am a bit confused. Many of my service classes do not have a public constructor even then I am able to create bean with the custom constructor. But I started getting an issue with one service class where it got solved by providing a default constructor. I am creating bean from config class where parameters value is fetched from properties file."},{"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"score":2,"creation_date":1639798723,"post_id":55878193,"comment_id":124447193,"body_markdown":"If you&#39;re using Lombok you can add annotation(@NoArgsConstructor) on top of the class .","body":"If you&#39;re using Lombok you can add annotation(@NoArgsConstructor) on top of the class ."}],"tags":[],"owner":{"account_id":5827480,"reputation":911,"user_id":4593280,"display_name":"vkstream"},"comment_count":2,"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1556349205,"creation_date":1556349205,"answer_id":55878193,"question_id":52841620,"body_markdown":"Add a ***public default constructor*** in your class. For example.\r\n\r\n \r\n\r\n    public User() {\r\n\t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Add a <strong><em>public default constructor</em></strong> in your class. For example.</p>\n\n<pre><code>public User() {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10059115,"reputation":324,"user_id":7436412,"accept_rate":67,"display_name":"Zap"},"score":0,"creation_date":1629202065,"post_id":59845134,"comment_id":121619552,"body_markdown":"good catch! this solved my issue. However, is it better to add all the repositories, like so? `basePackageClasses = Foo1Repository.class, Foo2Repository.class...` ?","body":"good catch! this solved my issue. However, is it better to add all the repositories, like so? <code>basePackageClasses = Foo1Repository.class, Foo2Repository.class...</code> ?"}],"tags":[],"owner":{"account_id":8483869,"reputation":1103,"user_id":6362774,"display_name":"Riccardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1579623270,"creation_date":1579623270,"answer_id":59845134,"question_id":52841620,"body_markdown":"I also had the same error:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field repository in com.example.controller.CampaignController required a bean of type &#39;com.example.data.CustomerRepository&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.example.data.CustomerRepository&#39; in your configuration.de here\r\n\r\n\r\n\r\nI solved this issue by adding `@EnableMongoRepositories` annotation in the main class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\r\n    public class CampaignAPI {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(CampaignAPI.class, args);\r\n        }\r\n    }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I also had the same error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField repository in com.example.controller.CampaignController required a bean of type 'com.example.data.CustomerRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.data.CustomerRepository' in your configuration.de here\n</code></pre>\n\n<p>I solved this issue by adding <code>@EnableMongoRepositories</code> annotation in the main class:</p>\n\n<pre><code>@SpringBootApplication\n@EnableMongoRepositories(basePackageClasses = CustomerRepository.class)\npublic class CampaignAPI {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CampaignAPI.class, args);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1506530,"reputation":1001,"user_id":1409784,"display_name":"Nigel Savage"},"score":3,"creation_date":1580060875,"post_id":59920978,"comment_id":105965439,"body_markdown":"Its always good to provide as much context as possible. For example here you are not specifying a version in the maven dependency. You could expand on the spring-boot bom for example and state a version could be required if the boms is not used. This is just an example. Its always good to try and provide at leat some context if possible. See here https://stackoverflow.com/help/how-to-answer specifically under the subheading &quot;Answer the question&quot;","body":"Its always good to provide as much context as possible. For example here you are not specifying a version in the maven dependency. You could expand on the spring-boot bom for example and state a version could be required if the boms is not used. This is just an example. Its always good to try and provide at leat some context if possible. See here <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a> specifically under the subheading &quot;Answer the question&quot;"}],"tags":[],"owner":{"account_id":9478939,"reputation":385,"user_id":7047517,"display_name":"Kailas010"},"comment_count":1,"down_vote_count":3,"up_vote_count":22,"is_accepted":false,"score":19,"last_activity_date":1696865906,"creation_date":1580060362,"answer_id":59920978,"question_id":52841620,"body_markdown":"Make sure you are using **spring-boot-starter-data-jpa**       \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Make sure you are using <strong>spring-boot-starter-data-jpa</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2608731,"reputation":647,"user_id":2259300,"display_name":"hernanemartinez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866009,"creation_date":1584999138,"answer_id":60821829,"question_id":52841620,"body_markdown":"In my case, the issue was way different.\r\n\r\n    @SpringBootApplication\r\n    @EnableNeo4jRepositories(&quot;com.digital.api.repositories&quot;) // &lt;-- This was non-existent.\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nLook at the @EnableNeo4jRepositories annotation. The package defined, was non-existent.\r\nTry defining that package, and be careful that the Repository interfaces are based there.\r\nOtherwise, Spring will not find the repositories classes that it should load up!","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, the issue was way different.</p>\n<pre><code>@SpringBootApplication\n@EnableNeo4jRepositories(&quot;com.digital.api.repositories&quot;) // &lt;-- This was non-existent.\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>Look at the @EnableNeo4jRepositories annotation. The package defined, was non-existent.\nTry defining that package, and be careful that the Repository interfaces are based there.\nOtherwise, Spring will not find the repositories classes that it should load up!</p>\n"},{"tags":[],"owner":{"account_id":7764536,"reputation":332,"user_id":5876113,"display_name":"Kapil Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596723919,"creation_date":1596723919,"answer_id":63285727,"question_id":52841620,"body_markdown":"The issue in my case was a redundant @Autowired, \r\nI initially added a dependency using @Autowired, by eventually commented it out, however I forgot to comment the annotation, due to which the method next to @Autowired was considered as some sort of setter.\r\n\r\nOn removing the redundant annotation it is working fine.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>The issue in my case was a redundant @Autowired,\nI initially added a dependency using @Autowired, by eventually commented it out, however I forgot to comment the annotation, due to which the method next to @Autowired was considered as some sort of setter.</p>\n<p>On removing the redundant annotation it is working fine.</p>\n"},{"tags":[],"owner":{"account_id":4000716,"reputation":1631,"user_id":3296815,"display_name":"Vaibhav Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1685320606,"creation_date":1603722688,"answer_id":64539143,"question_id":52841620,"body_markdown":"I was also having the same problem, for me following solution worked perfectly fine:\r\n\r\nI had annotated my class as `@AllArgsConstructor` by importing `import lombok.AllArgsConstructor`\r\n\r\nI had just removed this annotation and the code starts working.\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I was also having the same problem, for me following solution worked perfectly fine:</p>\n<p>I had annotated my class as <code>@AllArgsConstructor</code> by importing <code>import lombok.AllArgsConstructor</code></p>\n<p>I had just removed this annotation and the code starts working.</p>\n"},{"tags":[],"owner":{"account_id":8347580,"reputation":887,"user_id":6270828,"display_name":"ash das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866000,"creation_date":1606387671,"answer_id":65020509,"question_id":52841620,"body_markdown":"I was facing the same issue and it got fixed by removing Constructors from my Model class. Adding sample snippet below:\r\n\r\n\t\r\n\r\n    Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper = new HashMap&lt;&gt;();\r\n    \tA def;\r\n    \tB serviceCharacter;\r\n    \r\n    \t@Autowired\r\n    \tpublic Scan(Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper, A def,\r\n    \t\t\tB serviceCharacter) {\r\n    \t\tsuper();\r\n    \t\tthis.serviceDefinitionMapper = serviceDefinitionMapper;\r\n    \t\tthis.def = def;\r\n    \t\tthis.serviceCharacter = serviceCharacter;\r\n    \t}\r\n\r\nPlease Note: Do not keep any Constructor/@AllArgsConstructor in your Model class unless it is very much needed to be declared. \r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I was facing the same issue and it got fixed by removing Constructors from my Model class. Adding sample snippet below:</p>\n<pre><code>Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper = new HashMap&lt;&gt;();\n    A def;\n    B serviceCharacter;\n\n    @Autowired\n    public Scan(Map&lt;String, ServiceDefinition&gt; serviceDefinitionMapper, A def,\n            B serviceCharacter) {\n        super();\n        this.serviceDefinitionMapper = serviceDefinitionMapper;\n        this.def = def;\n        this.serviceCharacter = serviceCharacter;\n    }\n</code></pre>\n<p>Please Note: Do not keep any Constructor/@AllArgsConstructor in your Model class unless it is very much needed to be declared.</p>\n"},{"tags":[],"owner":{"account_id":15684139,"reputation":61,"user_id":11317317,"display_name":"Julien Nowak"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1608562979,"creation_date":1608562979,"answer_id":65395093,"question_id":52841620,"body_markdown":"I had the same error but the error was generated by **Feign Client**. If you have this error using feign client you must add `@EnableFeignClients` on your main class: \r\n\r\n    @SpringCloudApplication\r\n    @EnableFeignClients\r\n    public class Application {\r\n    ...\r\n    }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I had the same error but the error was generated by <strong>Feign Client</strong>. If you have this error using feign client you must add <code>@EnableFeignClients</code> on your main class:</p>\n<pre><code>@SpringCloudApplication\n@EnableFeignClients\npublic class Application {\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21606261,"reputation":21,"user_id":15933658,"display_name":"Deeksha Cheruku"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622799574,"creation_date":1622799262,"answer_id":67834929,"question_id":52841620,"body_markdown":"Even after following the above solutions, if the problem still exists then please check your import statements.\r\n\r\nIn my case it was the wrong import of @service annotation.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Even after following the above solutions, if the problem still exists then please check your import statements.</p>\n<p>In my case it was the wrong import of @service annotation.</p>\n"},{"tags":[],"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625213547,"creation_date":1625213547,"answer_id":68221785,"question_id":52841620,"body_markdown":"In my case annotating fields with lombok `@NonNull` was causing the trouble.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case annotating fields with lombok <code>@NonNull</code> was causing the trouble.</p>\n"},{"tags":[],"owner":{"account_id":19565818,"reputation":21,"user_id":14317996,"display_name":"Aadlani Mohammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630411827,"creation_date":1630411827,"answer_id":68998447,"question_id":52841620,"body_markdown":"  &gt; **import lombok.RequiredArgsConstructor;** \r\n\r\n  &gt; **import lombok.extern.slf4j.Slf4j;**\r\n\r\n    \r\n    @Service\r\n        @RequiredArgsConstructor\r\n        @Transactional\r\n        @Slf4j\r\n        public class UserServiceImp implements UserService, UserDetailsService {\r\n        ....\r\n        }","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<blockquote>\n<p><strong>import lombok.RequiredArgsConstructor;</strong></p>\n</blockquote>\n<blockquote>\n<p><strong>import lombok.extern.slf4j.Slf4j;</strong></p>\n</blockquote>\n<pre><code>@Service\n    @RequiredArgsConstructor\n    @Transactional\n    @Slf4j\n    public class UserServiceImp implements UserService, UserDetailsService {\n    ....\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1694238699,"post_id":69964254,"comment_id":135868185,"body_markdown":"This is just an alternative approach. Instead of  removing the  (@AllArgsConstructor), you could also add (@NoArgsConstructor) to solve the issue","body":"This is just an alternative approach. Instead of  removing the  (@AllArgsConstructor), you could also add (@NoArgsConstructor) to solve the issue"}],"tags":[],"owner":{"account_id":5638871,"reputation":331,"user_id":4463466,"display_name":"Payam Soudachi"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1636902158,"creation_date":1636902158,"answer_id":69964254,"question_id":52841620,"body_markdown":"For me, it was because of using @AllArgsConstructor annotation of the lombok. My code was like this:\r\n\r\n    @Service\r\n    @AllArgsConstructor\r\n    public class SampleService {\r\n    \r\n    \t@Value(&quot;${search.page.size}&quot;)\r\n    \tprivate Integer pageSize;\r\n    \r\n    \tprivate final SampleRepository sampleRepository;\r\n\r\n\r\nAnd then, I removed @AllArgsConstructor and added @RequiredArgsConstructor annotation. The problem was solved.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SampleService {\r\n    \r\n    \t@Value(&quot;${search.page.size}&quot;)\r\n    \tprivate Integer pageSize;\r\n    \r\n    \tprivate final BatchRepository batchRepository;","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>For me, it was because of using @AllArgsConstructor annotation of the lombok. My code was like this:</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class SampleService {\n\n    @Value(&quot;${search.page.size}&quot;)\n    private Integer pageSize;\n\n    private final SampleRepository sampleRepository;\n</code></pre>\n<p>And then, I removed @AllArgsConstructor and added @RequiredArgsConstructor annotation. The problem was solved.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SampleService {\n\n    @Value(&quot;${search.page.size}&quot;)\n    private Integer pageSize;\n\n    private final BatchRepository batchRepository;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20448840,"reputation":1,"user_id":15003999,"display_name":"onosj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645105928,"creation_date":1645105928,"answer_id":71159416,"question_id":52841620,"body_markdown":"I faced same issue but with my own created interface repository that could not be found. The answer for me was that Spring 2.6.3 has bugs with Java 8. After i switched java to 11 version everything goes correct.\r\n\r\nMore info about this kind of problems i found here https://github.com/spring-projects/spring-boot/issues/6987","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I faced same issue but with my own created interface repository that could not be found. The answer for me was that Spring 2.6.3 has bugs with Java 8. After i switched java to 11 version everything goes correct.</p>\n<p>More info about this kind of problems i found here <a href=\"https://github.com/spring-projects/spring-boot/issues/6987\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/6987</a></p>\n"},{"tags":[],"owner":{"account_id":7660765,"reputation":31,"user_id":5806135,"display_name":"Usama Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696865937,"creation_date":1645620399,"answer_id":71237208,"question_id":52841620,"body_markdown":"In my case I missed the @Service annotation so once I placed it works.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case I missed the @Service annotation so once I placed it works.</p>\n"},{"tags":[],"owner":{"account_id":21100465,"reputation":9,"user_id":15510459,"display_name":"Karim Baggari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696866042,"creation_date":1647367585,"answer_id":71487008,"question_id":52841620,"body_markdown":"In my case I had this problem but it was because of I added an annotation of ```@Component``` in my Exception code which I shouldn&#39;t because we don&#39;t want it to be scanned really we&#39;re just using it to handle an exception in our service or I don&#39;t know try to delete the annotation in your built-in exception. \r\n\r\nWorked on my machine.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case I had this problem but it was because of I added an annotation of <code>@Component</code> in my Exception code which I shouldn't because we don't want it to be scanned really we're just using it to handle an exception in our service or I don't know try to delete the annotation in your built-in exception.</p>\n<p>Worked on my machine.</p>\n"},{"comments":[{"owner":{"account_id":2288657,"reputation":1126,"user_id":2012120,"display_name":"Sumi Straessle"},"score":1,"creation_date":1650138462,"post_id":71896432,"comment_id":127047572,"body_markdown":"Hello Liubomyr and welcome to StackOverflow. Future users may find helpful to see a bit more context. Could you please add some example code in that regard?","body":"Hello Liubomyr and welcome to StackOverflow. Future users may find helpful to see a bit more context. Could you please add some example code in that regard?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1650138556,"post_id":71896432,"comment_id":127047587,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/71896432/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":0,"creation_date":1696962739,"post_id":71896432,"comment_id":136218844,"body_markdown":"The question was not about testing or any JUnit-case, so mocking and a @MockBean annotation might help in this context. I doubt that this answer is helpful.","body":"The question was not about testing or any JUnit-case, so mocking and a @MockBean annotation might help in this context. I doubt that this answer is helpful."}],"tags":[],"owner":{"account_id":24964451,"reputation":1,"user_id":18828119,"display_name":"Liubomyr"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650133441,"creation_date":1650133441,"answer_id":71896432,"question_id":52841620,"body_markdown":"I had this problem while testing with JUnit. It was that I forgot to create @MockBean annotation, that&#39;s why the bean was missing.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I had this problem while testing with JUnit. It was that I forgot to create @MockBean annotation, that's why the bean was missing.</p>\n"},{"tags":[],"owner":{"account_id":11468218,"reputation":5521,"user_id":8405835,"display_name":"Abhijit Pritam Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656954942,"creation_date":1656954942,"answer_id":72860136,"question_id":52841620,"body_markdown":"Not related to the above issue but if you have the same error of bean creation in a spring boot application and you are getting the same above error please check whether you have added the class path in @ComponentScan( of the main spring booth application launching class.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Not related to the above issue but if you have the same error of bean creation in a spring boot application and you are getting the same above error please check whether you have added the class path in @ComponentScan( of the main spring booth application launching class.</p>\n"},{"tags":[],"owner":{"account_id":10243930,"reputation":97,"user_id":7560349,"display_name":"Jdslk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668942337,"creation_date":1668942337,"answer_id":74507530,"question_id":52841620,"body_markdown":"For it to work I had to add this ```@RequiredArgsConstructor``` annotation to my class, and then added this ```@Value(&quot;${inputFilePath}&quot;)``` annotation to access the variable. See below:\r\n\r\n```\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \r\n     Object&gt;&gt; implements StepExecutionListener {\r\n\r\n        @Value(&quot;${inputFilePath}&quot;)\r\n        private inputFilePath;\r\n\r\n\r\n        //...\r\n\r\n    }\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>For it to work I had to add this <code>@RequiredArgsConstructor</code> annotation to my class, and then added this <code>@Value(&quot;${inputFilePath}&quot;)</code> annotation to access the variable. See below:</p>\n<pre><code>    @Component\n    @RequiredArgsConstructor\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \n     Object&gt;&gt; implements StepExecutionListener {\n\n        @Value(&quot;${inputFilePath}&quot;)\n        private inputFilePath;\n\n\n        //...\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3225964,"reputation":11,"user_id":2722345,"display_name":"user2722345"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675704463,"creation_date":1675704463,"answer_id":75364628,"question_id":52841620,"body_markdown":"In my case, removing the @EnableJpaRepositories annotation from my config fixed the issue. The repositories are still wired correctly.\r\n\r\nBefore:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaRepositories\r\n    @EnableJpaAuditing\r\n    public class PersistenceConfig {\r\n\r\nAfter:\r\n\r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @EnableJpaAuditing\r\n    public class PersistenceConfig {","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, removing the @EnableJpaRepositories annotation from my config fixed the issue. The repositories are still wired correctly.</p>\n<p>Before:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories\n@EnableJpaAuditing\npublic class PersistenceConfig {\n</code></pre>\n<p>After:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaAuditing\npublic class PersistenceConfig {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27914025,"reputation":1,"user_id":21315550,"display_name":"Grant Dennany"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865983,"creation_date":1677796568,"answer_id":75621474,"question_id":52841620,"body_markdown":"Adding to the &quot;services&quot; block of my application-default.yml &amp; application-kubernetes.yml fixed the issue for me.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Adding to the &quot;services&quot; block of my application-default.yml &amp; application-kubernetes.yml fixed the issue for me.</p>\n"},{"tags":[],"owner":{"account_id":11219359,"reputation":55,"user_id":8230968,"display_name":"Natnael Sisay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681217939,"creation_date":1681217939,"answer_id":75986177,"question_id":52841620,"body_markdown":"Check if the `application.properties` file is written correctly.\r\n\r\nFor some reason my application was `spring.profiles.on=test` in the `application.properties` file.\r\n\r\nWhen i change it to the proper value of `spring.profiles.active=test` it worked.","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Check if the <code>application.properties</code> file is written correctly.</p>\n<p>For some reason my application was <code>spring.profiles.on=test</code> in the <code>application.properties</code> file.</p>\n<p>When i change it to the proper value of <code>spring.profiles.active=test</code> it worked.</p>\n"},{"tags":[],"owner":{"account_id":28244020,"reputation":1,"user_id":21591362,"display_name":"Sagar Nimbalkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683120762,"creation_date":1683120762,"answer_id":76164476,"question_id":52841620,"body_markdown":"Generate Constructor from Superclass. It worked for me.\r\n\r\ne.g.\r\n\r\n    public UserModel() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Generate Constructor from Superclass. It worked for me.</p>\n<p>e.g.</p>\n<pre><code>public UserModel() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28599422,"reputation":1,"user_id":21896734,"display_name":"PatientlyExpert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684071336,"creation_date":1684071336,"answer_id":76247746,"question_id":52841620,"body_markdown":"If you want to add beans to your context that are defined in some external library then use `@Import` annotation and pass the class file name/bean name.\r\nAdd `@Import` to your main configuration file having `@SpringBootApplication` annotation\r\n\r\nRef : https://www.baeldung.com/spring-import-annotation","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>If you want to add beans to your context that are defined in some external library then use <code>@Import</code> annotation and pass the class file name/bean name.\nAdd <code>@Import</code> to your main configuration file having <code>@SpringBootApplication</code> annotation</p>\n<p>Ref : <a href=\"https://www.baeldung.com/spring-import-annotation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-import-annotation</a></p>\n"},{"tags":[],"owner":{"account_id":28697164,"reputation":1,"user_id":21975143,"display_name":"Nguyễn Đức Khải"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685286894,"creation_date":1685286894,"answer_id":76352167,"question_id":52841620,"body_markdown":"Use:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Use:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28785845,"reputation":11,"user_id":22046326,"display_name":"Premchandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694693527,"creation_date":1694693527,"answer_id":77104761,"question_id":52841620,"body_markdown":"This issue will also occurs when by mistake method is @Autowired in place of @Override but this is a rare case.\r\n\r\nGeneral Case:\r\n1. Missing Bean Definition (Service or any component should be anotated properly)\r\n2. Component Scan Make sure that the package containing your class is included in Spring&#39;s component scan.\r\n3. Bean Configuration: Verify that you have a bean definition (for Instance you are trying to autowire) in your Spring configuration.\r\n4. @Autowired Annotation: Ensure that the @Autowired annotation is correctly used.\r\n\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>This issue will also occurs when by mistake method is @Autowired in place of @Override but this is a rare case.</p>\n<p>General Case:</p>\n<ol>\n<li>Missing Bean Definition (Service or any component should be anotated properly)</li>\n<li>Component Scan Make sure that the package containing your class is included in Spring's component scan.</li>\n<li>Bean Configuration: Verify that you have a bean definition (for Instance you are trying to autowire) in your Spring configuration.</li>\n<li>@Autowired Annotation: Ensure that the @Autowired annotation is correctly used.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":27778856,"reputation":1,"user_id":21207603,"display_name":"Tarun tej Daroori"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696076884,"creation_date":1696016689,"answer_id":77204461,"question_id":52841620,"body_markdown":"This issue occurred when using spring boot 3.\r\n\r\nI used below dependency for sql connecto.\r\nReplaced javax with Jakarta for @Table and @Entity. This resolved my issue.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>This issue occurred when using spring boot 3.</p>\n<p>I used below dependency for sql connecto.\nReplaced javax with Jakarta for @Table and @Entity. This resolved my issue.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15245376,"reputation":667,"user_id":11000382,"display_name":"Enis Arik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696854218,"creation_date":1696854218,"answer_id":77258812,"question_id":52841620,"body_markdown":"In my case, I had to use `RequiredArgsContructor` annotation and removed `final` keyword for the variable **blobContainerName**. In the end, it looks like this.\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class AzureStorageServiceImpl implements StorageService {\r\n  \r\n        @Value(&quot;${spring.cloud.azure.storage.blob.container-name}&quot;)\r\n        private String blobContainerName;","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>In my case, I had to use <code>RequiredArgsContructor</code> annotation and removed <code>final</code> keyword for the variable <strong>blobContainerName</strong>. In the end, it looks like this.</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class AzureStorageServiceImpl implements StorageService {\n\n    @Value(&quot;${spring.cloud.azure.storage.blob.container-name}&quot;)\n    private String blobContainerName;\n</code></pre>\n"}],"owner":{"account_id":3231647,"reputation":943,"user_id":2726766,"display_name":"Ganesh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341314,"favorite_count":0,"down_vote_count":2,"up_vote_count":79,"accepted_answer_id":52843150,"answer_count":29,"score":77,"last_activity_date":1696866042,"creation_date":1539713622,"question_id":52841620,"body_markdown":"I am working on spring batch with spring boot 2.X application, actually its existing code i am checked out from git. While running the application it fails due to below error only for me and same code is working for others.\r\n\r\n    s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inputItemReader&#39; defined in file [C:\\Users\\XYZ\\git\\main\\batch\\CBatchProcessing\\target\\classes\\com\\main\\batchprocessing\\batch\\reader\\InputItemReader.class]: Unsatisfied dependency expressed through **constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.String&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations**: {}\r\n    \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2018-10-16 23:23:37.411 ERROR 2384 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    **Parameter 0 of constructor in com.main.batchprocessing.batch.reader.InputItemReader required a bean of type &#39;java.lang.String&#39; that could not be found.**\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;java.lang.String&#39; in your configuration.\r\n\r\nI have checked below \r\n\r\n1. All Spring components are correctly annotated with @Component, @Service, @Controller,@Repository, etc...\r\n2. @ComponentScan &amp; @EnableAutoCOnfiguration is also provided.\r\n3. Tried giving &quot;java.lang.String&quot; in declarations.\r\n\r\nCode:\r\n\r\n        import java.util.Map;\r\n        import org.slf4j.Logger;\r\n        import org.slf4j.LoggerFactory;\r\n        import org.springframework.batch.core.ExitStatus;\r\n        import org.springframework.batch.core.StepExecution;\r\n        import org.springframework.batch.core.StepExecutionListener;\r\n        import org.springframework.batch.item.file.FlatFileItemReader;\r\n        import org.springframework.batch.item.file.mapping.JsonLineMapper;\r\n        import \r\n        org.springframework.batch.item.file.separator.JsonRecordSeparatorPolicy;\r\n        import org.springframework.beans.factory.annotation.Autowired;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.core.io.FileSystemResource;\r\n        import org.springframework.stereotype.Component;\r\n    \r\n        @Component\r\n        public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \r\n         Object&gt;&gt; implements StepExecutionListener {\r\n    \r\n    \t@Autowired\r\n    \tprivate InputFileHeaderValidator inputFileHeaderValidator; \r\n    \r\n    \t@Autowired\r\n    \tprivate FileAuditService fileAuditService;\r\n    \r\n    \tprivate final Logger log = \r\n        LoggerFactory.getLogger(InputItemReader.class);\r\n    \t\r\n    \tprivate java.lang.String inputFilePath;\r\n     \r\n    \tpublic InputItemReader(String inputFilePath) {\r\n    \t\tsetLineMapper(new JsonLineMapper());\r\n    \t\tsetRecordSeparatorPolicy(new JsonRecordSeparatorPolicy());\r\n    \t\tsetResource(new FileSystemResource(inputFilePath));\r\n    \t\tthis.inputFilePath = inputFilePath;\r\n    \t}\r\n       }\r\n","title":"Parameter 0 of constructor in required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>I am working on spring batch with spring boot 2.X application, actually its existing code i am checked out from git. While running the application it fails due to below error only for me and same code is working for others.</p>\n\n<pre><code>s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inputItemReader' defined in file [C:\\Users\\XYZ\\git\\main\\batch\\CBatchProcessing\\target\\classes\\com\\main\\batchprocessing\\batch\\reader\\InputItemReader.class]: Unsatisfied dependency expressed through **constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations**: {}\n\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2018-10-16 23:23:37.411 ERROR 2384 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\n**Parameter 0 of constructor in com.main.batchprocessing.batch.reader.InputItemReader required a bean of type 'java.lang.String' that could not be found.**\n\n\nAction:\n\nConsider defining a bean of type 'java.lang.String' in your configuration.\n</code></pre>\n\n<p>I have checked below </p>\n\n<ol>\n<li>All Spring components are correctly annotated with @Component, @Service, @Controller,@Repository, etc...</li>\n<li>@ComponentScan &amp; @EnableAutoCOnfiguration is also provided.</li>\n<li>Tried giving \"java.lang.String\" in declarations.</li>\n</ol>\n\n<p>Code:</p>\n\n<pre><code>    import java.util.Map;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.batch.core.ExitStatus;\n    import org.springframework.batch.core.StepExecution;\n    import org.springframework.batch.core.StepExecutionListener;\n    import org.springframework.batch.item.file.FlatFileItemReader;\n    import org.springframework.batch.item.file.mapping.JsonLineMapper;\n    import \n    org.springframework.batch.item.file.separator.JsonRecordSeparatorPolicy;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.core.io.FileSystemResource;\n    import org.springframework.stereotype.Component;\n\n    @Component\n    public class InputItemReader extends  FlatFileItemReader&lt;Map&lt;String, \n     Object&gt;&gt; implements StepExecutionListener {\n\n    @Autowired\n    private InputFileHeaderValidator inputFileHeaderValidator; \n\n    @Autowired\n    private FileAuditService fileAuditService;\n\n    private final Logger log = \n    LoggerFactory.getLogger(InputItemReader.class);\n\n    private java.lang.String inputFilePath;\n\n    public InputItemReader(String inputFilePath) {\n        setLineMapper(new JsonLineMapper());\n        setRecordSeparatorPolicy(new JsonRecordSeparatorPolicy());\n        setResource(new FileSystemResource(inputFilePath));\n        this.inputFilePath = inputFilePath;\n    }\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","springdoc","springdoc-openapi-ui"],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":2,"creation_date":1652480845,"post_id":72235864,"comment_id":127625075,"body_markdown":"But I already us it.","body":"But I already us it."},{"owner":{"account_id":16689839,"reputation":555,"user_id":12062831,"display_name":"gsan"},"score":0,"creation_date":1652481494,"post_id":72235864,"comment_id":127625166,"body_markdown":"Sorry, I just assumed it was not springdoc since these kind of bugs usually occur on older versions of swagger.","body":"Sorry, I just assumed it was not springdoc since these kind of bugs usually occur on older versions of swagger."},{"owner":{"account_id":16689839,"reputation":555,"user_id":12062831,"display_name":"gsan"},"score":0,"creation_date":1652481754,"post_id":72235864,"comment_id":127625199,"body_markdown":"could you try to set `spring.mvc.pathmatch.matching-strategy `property to `ant_path_matcher` on your `application.yml` or `application.properties` file","body":"could you try to set <code>spring.mvc.pathmatch.matching-strategy </code>property to <code>ant_path_matcher</code> on your <code>application.yml</code> or <code>application.properties</code> file"}],"tags":[],"owner":{"account_id":16689839,"reputation":555,"user_id":12062831,"display_name":"gsan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652480031,"creation_date":1652480031,"answer_id":72235864,"question_id":72235752,"body_markdown":"Consider migration to [springdoc][1]\r\n\r\nMigration is such a smooth process and it is unlikely that you encounter bugs like [that][2].\r\n\r\n\r\n  [1]: https://springdoc.org/#migrating-from-springfox\r\n  [2]: https://github.com/springfox/springfox/issues/3462","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Consider migration to <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"nofollow noreferrer\">springdoc</a></p>\n<p>Migration is such a smooth process and it is unlikely that you encounter bugs like <a href=\"https://github.com/springfox/springfox/issues/3462\" rel=\"nofollow noreferrer\">that</a>.</p>\n"},{"comments":[{"owner":{"account_id":17012954,"reputation":201,"user_id":12307560,"display_name":"Bui Hai Duong"},"score":0,"creation_date":1683624184,"post_id":72663117,"comment_id":134391340,"body_markdown":"how about in spring mvc with xml file config bros?","body":"how about in spring mvc with xml file config bros?"},{"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"score":0,"creation_date":1701092879,"post_id":72663117,"comment_id":136728403,"body_markdown":"The linked page suggests AND instead of OR","body":"The linked page suggests AND instead of OR"}],"tags":[],"owner":{"account_id":10071285,"reputation":2543,"user_id":7444762,"display_name":"Lyncean Patel"},"comment_count":2,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1687765401,"creation_date":1655488295,"answer_id":72663117,"question_id":72235752,"body_markdown":"This problem is caused by the new PathPatternParser introduced in Spring Boot 2.6.\r\nThere are two ways to resolve:\r\n\r\nAs suggested by @gsan in the comment, add following in your `application.yml` or `application.properties`:\r\n   \r\n\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\nOR\r\n\r\nAdd the following bean in your config class:\r\n\r\n```\r\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.CorsEndpointProperties;\r\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointProperties;\r\nimport org.springframework.boot.actuate.autoconfigure.web.server.ManagementPortType;\r\nimport org.springframework.boot.actuate.endpoint.ExposableEndpoint;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointMapping;\r\nimport org.springframework.boot.actuate.endpoint.web.EndpointMediaTypes;\r\nimport org.springframework.boot.actuate.endpoint.web.ExposableWebEndpoint;\r\nimport org.springframework.boot.actuate.endpoint.web.WebEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.annotation.ControllerEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.annotation.ServletEndpointsSupplier;\r\nimport org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.util.StringUtils;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Bean\r\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\r\n        ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\r\n        EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\r\n        WebEndpointProperties webEndpointProperties, Environment environment) {\r\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n    allEndpoints.addAll(webEndpoints);\r\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n    String basePath = webEndpointProperties.getBasePath();\r\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment,\r\n            basePath);\r\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\r\n            corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath),\r\n            shouldRegisterLinksMapping, null);\r\n}\r\n\r\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment,\r\n        String basePath) {\r\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath)\r\n        || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n}\r\n```\r\n\r\n Reference: [Spring Boot 2.6 + Swagger startup exception: because &quot;this.condition&quot; is null][1]\r\n\r\n\r\n  [1]: https://www.springcloud.io/post/2022-05/springboot-swagger/#gsc.tab=0","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>This problem is caused by the new PathPatternParser introduced in Spring Boot 2.6.\nThere are two ways to resolve:</p>\n<p>As suggested by @gsan in the comment, add following in your <code>application.yml</code> or <code>application.properties</code>:</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>OR</p>\n<p>Add the following bean in your config class:</p>\n<pre><code>import org.springframework.boot.actuate.autoconfigure.endpoint.web.CorsEndpointProperties;\nimport org.springframework.boot.actuate.autoconfigure.endpoint.web.WebEndpointProperties;\nimport org.springframework.boot.actuate.autoconfigure.web.server.ManagementPortType;\nimport org.springframework.boot.actuate.endpoint.ExposableEndpoint;\nimport org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver;\nimport org.springframework.boot.actuate.endpoint.web.EndpointMapping;\nimport org.springframework.boot.actuate.endpoint.web.EndpointMediaTypes;\nimport org.springframework.boot.actuate.endpoint.web.ExposableWebEndpoint;\nimport org.springframework.boot.actuate.endpoint.web.WebEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.annotation.ControllerEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.annotation.ServletEndpointsSupplier;\nimport org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.util.StringUtils;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier,\n        ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier,\n        EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties,\n        WebEndpointProperties webEndpointProperties, Environment environment) {\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n    allEndpoints.addAll(webEndpoints);\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n    String basePath = webEndpointProperties.getBasePath();\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment,\n            basePath);\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes,\n            corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath),\n            shouldRegisterLinksMapping, null);\n}\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment,\n        String basePath) {\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath)\n        || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n}\n</code></pre>\n<p>Reference: <a href=\"https://www.springcloud.io/post/2022-05/springboot-swagger/#gsc.tab=0\" rel=\"noreferrer\">Spring Boot 2.6 + Swagger startup exception: because &quot;this.condition&quot; is null</a></p>\n"},{"tags":[],"owner":{"account_id":13897490,"reputation":21,"user_id":10033929,"display_name":"Max Sampaoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663354301,"creation_date":1663353853,"answer_id":73749122,"question_id":72235752,"body_markdown":"I had the same issue and it worked by adding configuration in `application.yml` AND creating the bean in my `SwaggerConfig` class.\r\n\r\n - Springboot 2.7.3 \r\n - Java 17 \r\n - springfox-boot-starter 3.0.0\r\n\r\nWhen using springdoc-openapi-ui 1.6.11 you only need to add the `application.yml` configuration, as suggested by @Lyncean Patel.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I had the same issue and it worked by adding configuration in <code>application.yml</code> AND creating the bean in my <code>SwaggerConfig</code> class.</p>\n<ul>\n<li>Springboot 2.7.3</li>\n<li>Java 17</li>\n<li>springfox-boot-starter 3.0.0</li>\n</ul>\n<p>When using springdoc-openapi-ui 1.6.11 you only need to add the <code>application.yml</code> configuration, as suggested by @Lyncean Patel.</p>\n"},{"tags":[],"owner":{"account_id":421634,"reputation":324,"user_id":4051190,"display_name":"Gabriel Jaime Sierra Rua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666646172,"creation_date":1666646172,"answer_id":74186904,"question_id":72235752,"body_markdown":"I solved all these issues by removing all springfox dependencies and adding\r\n`implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.12&#39;`to my `build.gradle` file (if you use maven add the corresponding elements) then my SecurityFilterChain bean will look like\r\n```java\r\n...\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.cors().and()\r\n                .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                .and().authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                .and().authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;).permitAll();\r\n        return http.build();\r\n}\r\n...\r\n```\r\nNo extra dependencies or configuration is required.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved all these issues by removing all springfox dependencies and adding\n<code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.12'</code>to my <code>build.gradle</code> file (if you use maven add the corresponding elements) then my SecurityFilterChain bean will look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and()\n                .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .and().authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                .and().authorizeRequests().antMatchers(&quot;/v3/api-docs/**&quot;).permitAll();\n        return http.build();\n}\n...\n</code></pre>\n<p>No extra dependencies or configuration is required.</p>\n"},{"tags":[],"owner":{"account_id":27176163,"reputation":11,"user_id":20712114,"display_name":"sifeng chu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670407560,"creation_date":1670407560,"answer_id":74714865,"question_id":72235752,"body_markdown":"I solved it.\r\nI used spring boot 2.6.12 and swagger3.0\r\nThis is the maven configuration：\r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nthen you should Override WebMvcRequestHandlerProvider.java (Copy and override constructors to filter out abnormal ones) \r\n\r\n     this.handlerMappings = handlerMappings.stream().filter(mapping -&gt; mapping.getPatternParser() == null)\r\n                .collect(Collectors.toList());\r\n\r\nEverything else stays the same\r\nYou need to create a new package in your project home directory with the same name as the class ：**springfox.documentation.spring.web.plugins**\r\n\r\ngood luck！","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved it.\nI used spring boot 2.6.12 and swagger3.0\nThis is the maven configuration：</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>then you should Override WebMvcRequestHandlerProvider.java (Copy and override constructors to filter out abnormal ones)</p>\n<pre><code> this.handlerMappings = handlerMappings.stream().filter(mapping -&gt; mapping.getPatternParser() == null)\n            .collect(Collectors.toList());\n</code></pre>\n<p>Everything else stays the same\nYou need to create a new package in your project home directory with the same name as the class ：<strong>springfox.documentation.spring.web.plugins</strong></p>\n<p>good luck！</p>\n"},{"comments":[{"owner":{"account_id":294991,"reputation":1348,"user_id":599164,"accept_rate":91,"display_name":"Frankie Drake"},"score":0,"creation_date":1689255480,"post_id":74860389,"comment_id":135189825,"body_markdown":"Setting only a property didn&#39;t help, defining a bean - did","body":"Setting only a property didn&#39;t help, defining a bean - did"},{"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"score":0,"creation_date":1696500283,"post_id":74860389,"comment_id":136162142,"body_markdown":"Hello, I am trying this solution on with the latest spring-boot version i.e 3.1.4, where WebEndpointProperties &amp; CorsEndpointProperties classes are not available. Aware of any alternative for these?","body":"Hello, I am trying this solution on with the latest spring-boot version i.e 3.1.4, where WebEndpointProperties &amp; CorsEndpointProperties classes are not available. Aware of any alternative for these?"}],"tags":[],"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1671525599,"creation_date":1671525599,"answer_id":74860389,"question_id":72235752,"body_markdown":"Well, the answer mentioned by @Lyncean Patel is not 100% correct because there is no OR in fixing this. From [this github issue discussion][1] thread, the way to fix it to do both:\r\n\r\n1. set `spring.mvc.pathmatch.matching-strategy: ant_path_matcher` in application.properties\r\n2. add this bean\r\n```\r\n@Bean\r\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\r\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n        allEndpoints.addAll(webEndpoints);\r\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n        String basePath = webEndpointProperties.getBasePath();\r\n        EndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n        boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\r\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\r\n    }\r\n\r\n\r\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\r\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n    }\r\n\r\n```\r\n  [1]: https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Well, the answer mentioned by @Lyncean Patel is not 100% correct because there is no OR in fixing this. From <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"noreferrer\">this github issue discussion</a> thread, the way to fix it to do both:</p>\n<ol>\n<li>set <code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher</code> in application.properties</li>\n<li>add this bean</li>\n</ol>\n<pre><code>@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\n        List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n        Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n        allEndpoints.addAll(webEndpoints);\n        allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n        allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n        String basePath = webEndpointProperties.getBasePath();\n        EndpointMapping endpointMapping = new EndpointMapping(basePath);\n        boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\n        return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\n    }\n\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673363689,"post_id":75070590,"comment_id":132478909,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75070590/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27488453,"reputation":1,"user_id":20974294,"display_name":"Abhinav Parnami"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673356804,"creation_date":1673356775,"answer_id":75070590,"question_id":72235752,"body_markdown":"I have used -&gt;implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;) this dependency in my kts file and there is no use of it for me, after removing\r\nthis dependency this error got resolved .\r\ndependency  : Apache Tomcat ","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I have used -&gt;implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;) this dependency in my kts file and there is no use of it for me, after removing\nthis dependency this error got resolved .\ndependency  : Apache Tomcat</p>\n"},{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682676699,"creation_date":1682676699,"answer_id":76128554,"question_id":72235752,"body_markdown":"adding below property worked for me as well.\r\n\r\n    spring.mvc.pathmatch.matching-strategy: ant_path_matcher\r\n\r\nBut it didn&#39;t work in another project where spring-actuator dependency was present, so if you&#39;re wondering why it&#39;s not working, perhaps it&#39;s due to actuator&#39;s presence. So, I had to drop swagger.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>adding below property worked for me as well.</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy: ant_path_matcher\n</code></pre>\n<p>But it didn't work in another project where spring-actuator dependency was present, so if you're wondering why it's not working, perhaps it's due to actuator's presence. So, I had to drop swagger.</p>\n"},{"tags":[],"owner":{"account_id":29170437,"reputation":1,"user_id":22346937,"display_name":"Naveen Dwivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691318456,"creation_date":1691318456,"answer_id":76845483,"question_id":72235752,"body_markdown":"I solved it with using spring parent &quot;version 2.6.12&quot; and swagger &quot;3.0.0&quot; version. these are maven configuration.\r\n\r\nNote: this helped you when you will face &quot;this.condition.isNull&quot; error.","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I solved it with using spring parent &quot;version 2.6.12&quot; and swagger &quot;3.0.0&quot; version. these are maven configuration.</p>\n<p>Note: this helped you when you will face &quot;this.condition.isNull&quot; error.</p>\n"},{"tags":[],"owner":{"account_id":12227319,"reputation":21,"user_id":8924503,"display_name":"Ramanpreet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865904,"creation_date":1696865904,"answer_id":77260151,"question_id":72235752,"body_markdown":"Above suggested solutions works well i.e to add the bean in config class and adding the property in the application.properties or application.yml . But just to rectify the accepted value for the property added in application.properties or application.yml , should be \r\n\r\n    spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER\r\n\r\nBelow mentioned is not the accepted value .\r\n\r\n    spring.mvc.pathmatch.matching-strategy= ant_path_matcher\r\n\r\nMay be if you are wondering , why your properties file or yml file is showing error .\r\n\r\n","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>Above suggested solutions works well i.e to add the bean in config class and adding the property in the application.properties or application.yml . But just to rectify the accepted value for the property added in application.properties or application.yml , should be</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER\n</code></pre>\n<p>Below mentioned is not the accepted value .</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy= ant_path_matcher\n</code></pre>\n<p>May be if you are wondering , why your properties file or yml file is showing error .</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40592,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":10,"score":27,"last_activity_date":1696865904,"creation_date":1652478823,"question_id":72235752,"body_markdown":"I&#39;m trying to run Springdoc with Spring Boot 2.6.7.\r\n\r\nConfiguration:\r\n\r\n    @Configuration\r\n    public class SwaggerConfiguration {\r\n      \r\n      @Bean\r\n      public GroupedOpenApi publicApi() {\r\n        return GroupedOpenApi.builder()\r\n                .group(&quot;springshop-public&quot;)\r\n                .pathsToMatch(&quot;/public/**&quot;)\r\n                .build();\r\n      }\r\n    }\r\n\r\nError stack:\r\n\r\n    00:50:54.956 [main] ERROR SpringApplication[reportFailure:830] - Application run failed\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n    \tat com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:53)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n    \tat springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\r\n    \tat springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\r\n    \tat springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\r\n    \tat java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)\r\n    \tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\r\n    \tat java.base/java.util.TimSort.sort(TimSort.java:234)\r\n    \tat java.base/java.util.Arrays.sort(Arrays.java:1307)\r\n    \tat java.base/java.util.ArrayList.sort(ArrayList.java:1721)\r\n    \tat java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\r\n    \tat springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\r\n    \tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\r\n    \t... 14 common frames omitted\r\n\r\n\r\nIs there some way to fix this issue?\r\n\r\n","title":"Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null","body":"<p>I'm trying to run Springdoc with Spring Boot 2.6.7.</p>\n<p>Configuration:</p>\n<pre><code>@Configuration\npublic class SwaggerConfiguration {\n  \n  @Bean\n  public GroupedOpenApi publicApi() {\n    return GroupedOpenApi.builder()\n            .group(&quot;springshop-public&quot;)\n            .pathsToMatch(&quot;/public/**&quot;)\n            .build();\n  }\n}\n</code></pre>\n<p>Error stack:</p>\n<pre><code>00:50:54.956 [main] ERROR SpringApplication[reportFailure:830] - Application run failed\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181)\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54)\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155)\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123)\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at com.atlas.psp.AtlasRouterApplication.main(AtlasRouterApplication.java:53)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n    at springfox.documentation.spring.web.WebMvcPatternsRequestConditionWrapper.getPatterns(WebMvcPatternsRequestConditionWrapper.java:56)\n    at springfox.documentation.RequestHandler.sortedPaths(RequestHandler.java:113)\n    at springfox.documentation.spi.service.contexts.Orderings.lambda$byPatternsCondition$3(Orderings.java:89)\n    at java.base/java.util.Comparator.lambda$comparing$77a9974f$1(Comparator.java:473)\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355)\n    at java.base/java.util.TimSort.sort(TimSort.java:234)\n    at java.base/java.util.Arrays.sort(Arrays.java:1307)\n    at java.base/java.util.ArrayList.sort(ArrayList.java:1721)\n    at java.base/java.util.stream.SortedOps$RefSortingSink.end(SortedOps.java:392)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.Sink$ChainedReference.end(Sink.java:258)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:510)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:81)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.withDefaults(AbstractDocumentationPluginsBootstrapper.java:107)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.buildContext(AbstractDocumentationPluginsBootstrapper.java:91)\n    at springfox.documentation.spring.web.plugins.AbstractDocumentationPluginsBootstrapper.bootstrapDocumentationPlugins(AbstractDocumentationPluginsBootstrapper.java:82)\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:100)\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178)\n    ... 14 common frames omitted\n</code></pre>\n<p>Is there some way to fix this issue?</p>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696865051,"post_id":77260024,"comment_id":136204414,"body_markdown":"`@SuperBuilder` is designed for exactly this case. Did you read its [documentation](https://projectlombok.org/features/experimental/SuperBuilder)? If so, what error are you getting?","body":"<code>@SuperBuilder</code> is designed for exactly this case. Did you read its <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a>? If so, what error are you getting?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696865453,"post_id":77260024,"comment_id":136204492,"body_markdown":"If the super cannot be modified, then consider using composition instead of inheritance, with manually generated getter methods.  Or manually create your own builder method.","body":"If the super cannot be modified, then consider using composition instead of inheritance, with manually generated getter methods.  Or manually create your own builder method."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1696890670,"post_id":77260024,"comment_id":136208370,"body_markdown":"Does this answer your question? [Using Lombok&#39;s @SuperBuilder concept on a class extended from a 3rd party library](https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61708752/using-lomboks-superbuilder-concept-on-a-class-extended-from-a-3rd-party-librar\">Using Lombok&#39;s @SuperBuilder concept on a class extended from a 3rd party library</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865695,"creation_date":1696865695,"answer_id":77260122,"question_id":77260024,"body_markdown":"From the [documentation](https://projectlombok.org/features/experimental/SuperBuilder):\r\n\r\n&gt; @SuperBuilder also works with fields from superclasses. (...) It requires that all superclasses also have the @SuperBuilder annotation.\r\n\r\nYou mentioned that you cannot change the superclass. If that class is annotated only with `@Builder`, you cannot use `@SuperBuilder` with a subclass. You&#39;ll have to migrate the parent to `@SuperBuilder` as well.\r\n\r\nAlternatively, you can use composition instead of inheritance, and include the parent class as a property instead of a superclass.","title":"Inhertance class annotated by @Builder","body":"<p>From the <a href=\"https://projectlombok.org/features/experimental/SuperBuilder\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>@SuperBuilder also works with fields from superclasses. (...) It requires that all superclasses also have the @SuperBuilder annotation.</p>\n</blockquote>\n<p>You mentioned that you cannot change the superclass. If that class is annotated only with <code>@Builder</code>, you cannot use <code>@SuperBuilder</code> with a subclass. You'll have to migrate the parent to <code>@SuperBuilder</code> as well.</p>\n<p>Alternatively, you can use composition instead of inheritance, and include the parent class as a property instead of a superclass.</p>\n"}],"owner":{"account_id":10494409,"reputation":407,"user_id":7735168,"accept_rate":50,"display_name":"Sara Selim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696865695,"creation_date":1696864802,"question_id":77260024,"body_markdown":"I need to inherit a super class from a dependency that has @Builder annotation (I can&#39;t modify this class) at the same time I want my sub class to have the builder pattern. I tried to use the @builder and @SuperBuilder annotations in my subclass but both throw an error. ","title":"Inhertance class annotated by @Builder","body":"<p>I need to inherit a super class from a dependency that has @Builder annotation (I can't modify this class) at the same time I want my sub class to have the builder pattern. I tried to use the @builder and @SuperBuilder annotations in my subclass but both throw an error.</p>\n"},{"tags":["java","fonts","awt","java-8"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1433395983,"post_id":30626136,"comment_id":49336302,"body_markdown":"and what&#39;s the URL for the font? You may want to run it through TTX, and see if that throws any errors, as well as try loading it in Font Forge, which is even more finicky when it comes to telling you the font you&#39;re loading has bad values somewhere.","body":"and what&#39;s the URL for the font? You may want to run it through TTX, and see if that throws any errors, as well as try loading it in Font Forge, which is even more finicky when it comes to telling you the font you&#39;re loading has bad values somewhere."},{"owner":{"account_id":6570595,"reputation":2978,"user_id":5078765,"accept_rate":100,"display_name":"ADJenks"},"score":0,"creation_date":1624662766,"post_id":30626136,"comment_id":120428192,"body_markdown":"The openjdk blog explains this problem here: https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/","body":"The openjdk blog explains this problem here: <a href=\"https://blog.adoptopenjdk.net/2021/01/prerequisites-for-font-support-in-adoptopenjdk/\" rel=\"nofollow noreferrer\">blog.adoptopenjdk.net/2021/01/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1232652,"reputation":11763,"user_id":1196906,"accept_rate":72,"display_name":"Khanetor"},"score":2,"creation_date":1474847386,"post_id":30650244,"comment_id":66685003,"body_markdown":"To further clarify the answer, the `headless` flavor of JRE does not support font loading because a headless environment is one without UI, thus no need for font. The non `headless` version, however, supports UI, thus supports font.","body":"To further clarify the answer, the <code>headless</code> flavor of JRE does not support font loading because a headless environment is one without UI, thus no need for font. The non <code>headless</code> version, however, supports UI, thus supports font."}],"tags":[],"owner":{"account_id":1232652,"reputation":11763,"user_id":1196906,"accept_rate":72,"display_name":"Khanetor"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1433438395,"creation_date":1433438395,"answer_id":30650244,"question_id":30626136,"body_markdown":"It turns out that this is a problem with the `openjdk-8-jre-headless` installation. This is the installation in the Docker image for java 8 JRE. I simply install `openjdk-8-jre` (without headless) and the problem goes away.\r\n\r\nIf you look at the error log, the loading of the font require awt X11, which is missing from `headless` version of JRE.","title":"Cannot load font in JRE 8","body":"<p>It turns out that this is a problem with the <code>openjdk-8-jre-headless</code> installation. This is the installation in the Docker image for java 8 JRE. I simply install <code>openjdk-8-jre</code> (without headless) and the problem goes away.</p>\n\n<p>If you look at the error log, the loading of the font require awt X11, which is missing from <code>headless</code> version of JRE.</p>\n"},{"comments":[{"owner":{"account_id":4361950,"reputation":141,"user_id":3558722,"display_name":"Shaam"},"score":0,"creation_date":1693213120,"post_id":38640840,"comment_id":135725578,"body_markdown":"For Docker add these line to remove this issue : RUN apt-get update &amp;&amp; \\\n    apt-get install -y libfontconfig1","body":"For Docker add these line to remove this issue : RUN apt-get update &amp;&amp; \\     apt-get install -y libfontconfig1"}],"tags":[],"owner":{"account_id":1754365,"reputation":480,"user_id":1602728,"display_name":"Rax"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1469720036,"creation_date":1469720036,"answer_id":38640840,"question_id":30626136,"body_markdown":"For me this resolved issue:\r\n\r\n    apt-get install -y libfontconfig1","title":"Cannot load font in JRE 8","body":"<p>For me this resolved issue:</p>\n\n<pre><code>apt-get install -y libfontconfig1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":168301,"reputation":1857,"user_id":393672,"display_name":"Vertigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1474384962,"creation_date":1474384008,"answer_id":39597643,"question_id":30626136,"body_markdown":"On CentOS headless JRE is missing the `fontconfig` dependency:\r\n\r\n    yum install fontconfig\r\n\r\nAlso one might need to install at least one font (`dejavu`, `liberation`, etc).","title":"Cannot load font in JRE 8","body":"<p>On CentOS headless JRE is missing the <code>fontconfig</code> dependency:</p>\n\n<pre><code>yum install fontconfig\n</code></pre>\n\n<p>Also one might need to install at least one font (<code>dejavu</code>, <code>liberation</code>, etc).</p>\n"},{"comments":[{"owner":{"account_id":8062462,"reputation":91,"user_id":6077612,"display_name":"Keith Oakes"},"score":1,"creation_date":1559802349,"post_id":47386099,"comment_id":99534546,"body_markdown":"Switching from Alpine to jre solved this issue for me.","body":"Switching from Alpine to jre solved this issue for me."}],"tags":[],"owner":{"account_id":362917,"reputation":630,"user_id":706360,"display_name":"leoleozhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1587695080,"creation_date":1511158935,"answer_id":47386099,"question_id":30626136,"body_markdown":"I get the same error with openjdk:8-jre-alpine. Switching to openjdk:8-jre helps.\r\n\r\n    --- FROM openjdk:8-jre-alpine\r\n    +++ FROM openjdk:8-jre\r\n\r\n\r\n\r\n","title":"Cannot load font in JRE 8","body":"<p>I get the same error with openjdk:8-jre-alpine. Switching to openjdk:8-jre helps.</p>\n\n<pre><code>--- FROM openjdk:8-jre-alpine\n+++ FROM openjdk:8-jre\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1528734180,"creation_date":1528734180,"answer_id":50802170,"question_id":30626136,"body_markdown":"We also got that error when using tomcat:8.0.38-jre8-alpine. That image is missing the fontconfig.\r\nInstead of switching to a different image you could also install the `ttf-dejavu` package.\r\n\r\n    apk add --update ttf-dejavu","title":"Cannot load font in JRE 8","body":"<p>We also got that error when using tomcat:8.0.38-jre8-alpine. That image is missing the fontconfig.\nInstead of switching to a different image you could also install the <code>ttf-dejavu</code> package.</p>\n\n<pre><code>apk add --update ttf-dejavu\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381097,"reputation":3399,"user_id":3572733,"accept_rate":46,"display_name":"Bhagwati Malav"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1560937146,"creation_date":1560937146,"answer_id":56664613,"question_id":30626136,"body_markdown":"For alpine and openjdk : \r\nUse `RUN apk --update add fontconfig ttf-dejavu`\r\nWorked for me.","title":"Cannot load font in JRE 8","body":"<p>For alpine and openjdk : \nUse <code>RUN apk --update add fontconfig ttf-dejavu</code>\nWorked for me.</p>\n"},{"tags":[],"owner":{"account_id":12003063,"reputation":91,"user_id":8782229,"display_name":"Robinson Calder&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597803950,"creation_date":1597803950,"answer_id":63479158,"question_id":30626136,"body_markdown":"I spent days suffering with it until I saw this github thread and made the night happy. it&#39;s practically calling GraphicsEnvironment again\r\n\r\n\r\n[link here][1]\r\n\r\n\r\n  [1]: https://github.com/corretto/corretto-11/issues/124#issuecomment-675629775","title":"Cannot load font in JRE 8","body":"<p>I spent days suffering with it until I saw this github thread and made the night happy. it's practically calling GraphicsEnvironment again</p>\n<p><a href=\"https://github.com/corretto/corretto-11/issues/124#issuecomment-675629775\" rel=\"nofollow noreferrer\">link here</a></p>\n"},{"tags":[],"owner":{"account_id":3314513,"reputation":3779,"user_id":2787184,"accept_rate":65,"display_name":"2787184"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696865422,"creation_date":1696856854,"answer_id":77259111,"question_id":30626136,"body_markdown":"Fonts are no longer part of JDK 11, fonts installed on host should be used now. so, you need to install and keep fontconfig in classpath. \r\n\r\nMore detail: https://stackoverflow.com/a/72452775/2787184","title":"Cannot load font in JRE 8","body":"<p>Fonts are no longer part of JDK 11, fonts installed on host should be used now. so, you need to install and keep fontconfig in classpath.</p>\n<p>More detail: <a href=\"https://stackoverflow.com/a/72452775/2787184\">https://stackoverflow.com/a/72452775/2787184</a></p>\n"}],"owner":{"account_id":1232652,"reputation":11763,"user_id":1196906,"accept_rate":72,"display_name":"Khanetor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29298,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":30650244,"answer_count":8,"score":24,"last_activity_date":1696865422,"creation_date":1433350247,"question_id":30626136,"body_markdown":"I cannot load a font from an S3 Inputstream in JRE 8. I do not have issue if a system is installed with JRE 7, JDK 7, or even JDK 8.\r\n\r\n    val fontInputStream = s3Client.getObject(bucketName, objectKey).getObjectContent\r\n    \r\n    val customFont = Font.createFont(Font.TRUETYPE_FONT, fontInputStream).deriveFont(Font.TRUETYPE_FONT, 20F)\r\n\r\nThe error that I got is\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Problem reading font data.\r\n            at java.awt.Font.createFont0(Font.java:1000)\r\n            at java.awt.Font.createFont(Font.java:877)\r\n            at Main$.delayedEndpoint$Main$1(Main.scala:31)\r\n            at Main$delayedInit$body.apply(Main.scala:11)\r\n            at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n            at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.collection.immutable.List.foreach(List.scala:381)\r\n            at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n            at scala.App$class.main(App.scala:76)\r\n            at Main$.main(Main.scala:11)\r\n            at Main.main(Main.scala)\r\n\r\nI tried to load the inputstream to a temp file, but it does not help. I also tried to load a font directly from a local file, but I got a different error with getting font metadata. Here is the error log.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n            at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\r\n            at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\r\n            at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\r\n            at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:776)\r\n            at sun.font.SunFontManager$2.run(SunFontManager.java:431)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:376)\r\n            at sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:57)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n            at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n            at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\r\n            at java.lang.Class.newInstance(Class.java:442)\r\n            at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\r\n            at java.awt.Font.&lt;init&gt;(Font.java:614)\r\n            at java.awt.Font.createFont(Font.java:1056)\r\n            at Main$.delayedEndpoint$Main$1(Main.scala:32)\r\n            at Main$delayedInit$body.apply(Main.scala:11)\r\n            at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\r\n            at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.App$$anonfun$main$1.apply(App.scala:76)\r\n            at scala.collection.immutable.List.foreach(List.scala:381)\r\n            at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\r\n            at scala.App$class.main(App.scala:76)\r\n            at Main$.main(Main.scala:11)\r\n            at Main.main(Main.scala)\r\n\r\nSo, this is not a problem with inputstream, but rather with the loading of the font itself in JRE 8.\r\n\r\nThis seems like a bug in JRE 8 Font.\r\n\r\nI am loading a font to use to draw a string in a picture.\r\nMy code is run in a Docker container using images java:7-jre (ok), java:7-jdk (ok), java:8-jre (fail), java:8-jdk (ok).\r\n","title":"Cannot load font in JRE 8","body":"<p>I cannot load a font from an S3 Inputstream in JRE 8. I do not have issue if a system is installed with JRE 7, JDK 7, or even JDK 8.</p>\n\n<pre><code>val fontInputStream = s3Client.getObject(bucketName, objectKey).getObjectContent\n\nval customFont = Font.createFont(Font.TRUETYPE_FONT, fontInputStream).deriveFont(Font.TRUETYPE_FONT, 20F)\n</code></pre>\n\n<p>The error that I got is</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Problem reading font data.\n        at java.awt.Font.createFont0(Font.java:1000)\n        at java.awt.Font.createFont(Font.java:877)\n        at Main$.delayedEndpoint$Main$1(Main.scala:31)\n        at Main$delayedInit$body.apply(Main.scala:11)\n        at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n        at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.collection.immutable.List.foreach(List.scala:381)\n        at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n        at scala.App$class.main(App.scala:76)\n        at Main$.main(Main.scala:11)\n        at Main.main(Main.scala)\n</code></pre>\n\n<p>I tried to load the inputstream to a temp file, but it does not help. I also tried to load a font directly from a local file, but I got a different error with getting font metadata. Here is the error log.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\n        at sun.awt.FontConfiguration.getVersion(FontConfiguration.java:1264)\n        at sun.awt.FontConfiguration.readFontConfigFile(FontConfiguration.java:219)\n        at sun.awt.FontConfiguration.init(FontConfiguration.java:107)\n        at sun.awt.X11FontManager.createFontConfiguration(X11FontManager.java:776)\n        at sun.font.SunFontManager$2.run(SunFontManager.java:431)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.font.SunFontManager.&lt;init&gt;(SunFontManager.java:376)\n        at sun.awt.X11FontManager.&lt;init&gt;(X11FontManager.java:57)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n        at java.lang.Class.newInstance(Class.java:442)\n        at sun.font.FontManagerFactory$1.run(FontManagerFactory.java:83)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.font.FontManagerFactory.getInstance(FontManagerFactory.java:74)\n        at java.awt.Font.&lt;init&gt;(Font.java:614)\n        at java.awt.Font.createFont(Font.java:1056)\n        at Main$.delayedEndpoint$Main$1(Main.scala:32)\n        at Main$delayedInit$body.apply(Main.scala:11)\n        at scala.Function0$class.apply$mcV$sp(Function0.scala:40)\n        at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:12)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.App$$anonfun$main$1.apply(App.scala:76)\n        at scala.collection.immutable.List.foreach(List.scala:381)\n        at scala.collection.generic.TraversableForwarder$class.foreach(TraversableForwarder.scala:35)\n        at scala.App$class.main(App.scala:76)\n        at Main$.main(Main.scala:11)\n        at Main.main(Main.scala)\n</code></pre>\n\n<p>So, this is not a problem with inputstream, but rather with the loading of the font itself in JRE 8.</p>\n\n<p>This seems like a bug in JRE 8 Font.</p>\n\n<p>I am loading a font to use to draw a string in a picture.\nMy code is run in a Docker container using images java:7-jre (ok), java:7-jdk (ok), java:8-jre (fail), java:8-jdk (ok).</p>\n"},{"tags":["java","spring","spring-boot","swagger-2.0"],"comments":[{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":0,"creation_date":1574337243,"post_id":58974191,"comment_id":104201960,"body_markdown":"Please share full stacktrace of the error. This can be related with a problem on your classpath.","body":"Please share full stacktrace of the error. This can be related with a problem on your classpath."},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351232,"post_id":58974191,"comment_id":104210503,"body_markdown":"```Caused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a]\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping```","body":"<code>Caused by: java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2Docu&zwnj;&#8203;mentationConfigurati&zwnj;&#8203;on] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2cdf8d8a] Caused by: java.lang.NoClassDefFoundError: org&#47;springframework&#47;web&#47;servlet&#47;HandlerMapping Caused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping</code>"},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351532,"post_id":58974191,"comment_id":104210717,"body_markdown":"Not sure if this is a compatibility issue.","body":"Not sure if this is a compatibility issue."},{"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"score":0,"creation_date":1574351542,"post_id":58974191,"comment_id":104210721,"body_markdown":"Spring Boot version: 2.1.9\nSwagger2: 2.9.2\njava: 11","body":"Spring Boot version: 2.1.9 Swagger2: 2.9.2 java: 11"}],"answers":[{"comments":[{"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"score":0,"creation_date":1574399947,"post_id":58974496,"comment_id":104227672,"body_markdown":"Look around your Maven Dependencies... Issue looks there","body":"Look around your Maven Dependencies... Issue looks there"}],"tags":[],"owner":{"account_id":5163994,"reputation":2550,"user_id":4134683,"display_name":"Swarit Agarwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574337458,"creation_date":1574337458,"answer_id":58974496,"question_id":58974191,"body_markdown":"Please try below code \r\n\r\n    @Configuration\r\n    public class SwaggerConfig implements WebMvcConfigurer {    \r\n    @Override\r\n        \tpublic void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        \t    registry.addResourceHandler(&quot;/api/swagger-ui.html**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n        \t    registry.addResourceHandler(&quot;/api/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n        \t}\r\n        \t\r\n        \t@Bean\r\n        \tpublic Docket api() {\r\n        \t\treturn new Docket(DocumentationType.SWAGGER_2).select()\r\n        \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;com.org.v1&quot;)).paths(PathSelectors.any())\r\n        \t\t\t\t.build().apiInfo(apiInfo());\r\n        \t}\r\n        \r\n        \tprivate ApiInfo apiInfo() {\r\n        \t\treturn new ApiInfo(&quot;Service Name&quot;, &quot;API Description&quot;, &quot;API&quot;, &quot;Terms of service&quot;,\r\n        \t\t\t\tnew Contact(&quot;name&quot;, &quot;webaddress&quot;, &quot;email&quot;), &quot;License of API&quot;, &quot;API license URL&quot;,\r\n        \t\t\t\tCollections.emptyList());\r\n        \t}\r\n\r\n\r\nSwagger Dependency been used with version &lt;swagger.version&gt;2.7.0&lt;/swagger.version&gt;\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${swagger.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\n@EnableSwagger2 can be at same place or main application class","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>Please try below code </p>\n\n<pre><code>@Configuration\npublic class SwaggerConfig implements WebMvcConfigurer {    \n@Override\n        public void addResourceHandlers(ResourceHandlerRegistry registry) {\n            registry.addResourceHandler(\"/api/swagger-ui.html**\").addResourceLocations(\"classpath:/META-INF/resources/swagger-ui.html\");\n            registry.addResourceHandler(\"/api/webjars/**\").addResourceLocations(\"classpath:/META-INF/resources/webjars/\");\n        }\n\n        @Bean\n        public Docket api() {\n            return new Docket(DocumentationType.SWAGGER_2).select()\n                    .apis(RequestHandlerSelectors.basePackage(\"com.org.v1\")).paths(PathSelectors.any())\n                    .build().apiInfo(apiInfo());\n        }\n\n        private ApiInfo apiInfo() {\n            return new ApiInfo(\"Service Name\", \"API Description\", \"API\", \"Terms of service\",\n                    new Contact(\"name\", \"webaddress\", \"email\"), \"License of API\", \"API license URL\",\n                    Collections.emptyList());\n        }\n</code></pre>\n\n<p>Swagger Dependency been used with version 2.7.0</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>@EnableSwagger2 can be at same place or main application class</p>\n"},{"tags":[],"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1574499609,"creation_date":1574499609,"answer_id":59006050,"question_id":58974191,"body_markdown":"java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping means that you are missing a dependency in your pom.xml, to be precise you are missing spring-webmvc dependency.\r\n\r\nAs you are using Spring Boot, just add this dependency to your pom:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDouble check any other dependencies that may be missing. If you have any problem just post here your pom.xml and we can find the missing ones.","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping means that you are missing a dependency in your pom.xml, to be precise you are missing spring-webmvc dependency.</p>\n\n<p>As you are using Spring Boot, just add this dependency to your pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Double check any other dependencies that may be missing. If you have any problem just post here your pom.xml and we can find the missing ones.</p>\n"},{"comments":[{"owner":{"account_id":16664137,"reputation":1,"user_id":12043319,"display_name":"Mushkan Goyal"},"score":0,"creation_date":1675365435,"post_id":75327904,"comment_id":132919059,"body_markdown":"It didn&#39;t work for me, please help me out. Thanks in advance","body":"It didn&#39;t work for me, please help me out. Thanks in advance"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675605174,"post_id":75327904,"comment_id":132961097,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75327904/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16664137,"reputation":1,"user_id":12043319,"display_name":"Mushkan Goyal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365269,"creation_date":1675365033,"answer_id":75327904,"question_id":58974191,"body_markdown":"    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.user-registration&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;registration&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;registration&lt;/name&gt;\r\n\t&lt;description&gt;Registration&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.20&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t--&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.user-registration&lt;/groupId&gt;\n&lt;artifactId&gt;registration&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;registration&lt;/name&gt;\n&lt;description&gt;Registration&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;!--        &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity6&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n--&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.20&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    --&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"}],"owner":{"account_id":11589412,"reputation":207,"user_id":8490352,"display_name":"Hari Bisht"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30675,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1696865145,"creation_date":1574336595,"question_id":58974191,"body_markdown":"I&#39;m trying to use swagger2 in my project but getting below error.\r\n\r\n&quot;java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]&quot;\r\n\r\n```\r\n//Spring Boot version: 2.1.9\r\n//Swagger2: 2.9.2\r\n//java: 11\r\n\r\npackage path.to.package;\r\n\r\nimport static springfox.documentation.builders.PathSelectors.regex;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n  @Bean\r\n  public Docket OrganizationApi() {\r\n    return new Docket(DocumentationType.SWAGGER_2)\r\n        .select()\r\n        .apis(RequestHandlerSelectors.basePackage(&quot;path.to.package&quot;))\r\n        .paths(regex(&quot;/api/.*&quot;))\r\n        .build();\r\n  }\r\n\r\n}\r\n\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n  &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;2.9.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nFull StackTrace:\r\n```java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\r\n\tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\r\n\tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:513)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:604)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:596)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866)\r\n\tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854)\r\n\tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841)\r\n\tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:792)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\r\n\tat com.path.to.package.Application.main(Application.java:25)\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\r\n\tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\r\n\t... 21 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 25 common frames omitted\r\n```","title":"Swagger2: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration]","body":"<p>I'm trying to use swagger2 in my project but getting below error.</p>\n\n<p>\"java.lang.IllegalStateException: Failed to introspect Class [springfox.documentation.swagger2.configuration.Swagger2DocumentationConfiguration] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@16f65612]\"</p>\n\n<pre><code>//Spring Boot version: 2.1.9\n//Swagger2: 2.9.2\n//java: 11\n\npackage path.to.package;\n\nimport static springfox.documentation.builders.PathSelectors.regex;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n  @Bean\n  public Docket OrganizationApi() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.basePackage(\"path.to.package\"))\n        .paths(regex(\"/api/.*\"))\n        .build();\n  }\n\n}\n\n\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n  &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n  &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>Full StackTrace:</p>\n\n<pre><code>    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:507)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:404)\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:389)\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:447)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:738)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:679)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:647)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1518)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:604)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:596)\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1226)\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:866)\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:854)\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:841)\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:792)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\n    at com.path.to.package.Application.main(Application.java:25)\nCaused by: java.lang.NoClassDefFoundError: org/springframework/web/servlet/HandlerMapping\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:489)\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.web.servlet.HandlerMapping\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 25 common frames omitted\n</code></pre>\n"},{"tags":["java","org.json"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696862367,"post_id":77259702,"comment_id":136203889,"body_markdown":"Why are you expecting the serializer to magically generate `item` elements?","body":"Why are you expecting the serializer to magically generate <code>item</code> elements?"},{"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"score":0,"creation_date":1696882032,"post_id":77259702,"comment_id":136207378,"body_markdown":"@Jorn Are there options to configure the serializer how to handle JSON array&#39;s? Can we choose to name of the elements?","body":"@Jorn Are there options to configure the serializer how to handle JSON array&#39;s? Can we choose to name of the elements?"}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696863742,"creation_date":1696863742,"answer_id":77259912,"question_id":77259702,"body_markdown":"This should work if you already know the `key` of the `json` array. \r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport org.json.XML;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\r\n        String output = convertJSON2XML(input);\r\n\r\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\r\n\r\n    }\r\n\r\n    public static String convertJSON2XML(String _content){\r\n        String xmlString = &quot;&quot;;\r\n        try{\r\n            JSONObject jsonObject = new JSONObject(_content);\r\n            JSONArray cars = jsonObject.getJSONArray(&quot;cars&quot;);\r\n            xmlString = XML.toString(cars, &quot;item&quot;);\r\n            xmlString = XML.toString(xmlString, &quot;cars&quot;);\r\n            xmlString = XML.unescape(xmlString);\r\n            System.out.println(xmlString);\r\n        }catch(Exception ex){}\r\n        return xmlString;\r\n    }\r\n}\r\n```","title":"Change conversion JSON array to XML when using org.json","body":"<p>This should work if you already know the <code>key</code> of the <code>json</code> array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.json.JSONArray;\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\n        String output = convertJSON2XML(input);\n\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\n\n    }\n\n    public static String convertJSON2XML(String _content){\n        String xmlString = &quot;&quot;;\n        try{\n            JSONObject jsonObject = new JSONObject(_content);\n            JSONArray cars = jsonObject.getJSONArray(&quot;cars&quot;);\n            xmlString = XML.toString(cars, &quot;item&quot;);\n            xmlString = XML.toString(xmlString, &quot;cars&quot;);\n            xmlString = XML.unescape(xmlString);\n            System.out.println(xmlString);\n        }catch(Exception ex){}\n        return xmlString;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12377973,"reputation":242,"user_id":10053673,"display_name":"user10053673"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696863742,"creation_date":1696861964,"question_id":77259702,"body_markdown":"I&#39;m converting a complex JSON object to XML and using the org.json framework. Unfortunately, JSON array&#39;s are not converted like expected. How do I change this?\r\n\r\nSample:\r\n\r\n**pom.xml**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20230618&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**sample code**\r\n\r\n    package org.example;\r\n\r\n    import org.json.JSONObject;\r\n    import org.json.XML;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n\r\n            String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\r\n            String output = convertJSON2XML(input);\r\n\r\n            // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\r\n\r\n        }\r\n\r\n        public static String convertJSON2XML(String _content){\r\n            String xmlString = &quot;&quot;;\r\n            try{\r\n                JSONObject jsonObject = new JSONObject(_content);\r\n                xmlString = XML.toString(jsonObject);\r\n\r\n            }catch(Exception ex){}\r\n            return xmlString;\r\n        }\r\n    }\r\n\r\nI like the result to be ...\r\n\r\n    &lt;cars&gt;&lt;item&gt;BMW&lt;/item&gt;&lt;item&gt;Mercedes&lt;/item&gt;&lt;item&gt;Mazda&lt;/item&gt;&lt;/cars&gt;\r\n\r\nDoes anyone know how this can be fixed? Thanx ...","title":"Change conversion JSON array to XML when using org.json","body":"<p>I'm converting a complex JSON object to XML and using the org.json framework. Unfortunately, JSON array's are not converted like expected. How do I change this?</p>\n<p>Sample:</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20230618&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>sample code</strong></p>\n<pre><code>package org.example;\n\nimport org.json.JSONObject;\nimport org.json.XML;\n\npublic class Main {\n    public static void main(String[] args) {\n\n        String input = &quot;{\\&quot;cars\\&quot; : [\\&quot;BMW\\&quot;, \\&quot;Mercedes\\&quot;, \\&quot;Mazda\\&quot;]}&quot;;\n        String output = convertJSON2XML(input);\n\n        // result : &lt;cars&gt;BMW&lt;/cars&gt;&lt;cars&gt;Mercedes&lt;/cars&gt;&lt;cars&gt;Mazda&lt;/cars&gt;\n\n    }\n\n    public static String convertJSON2XML(String _content){\n        String xmlString = &quot;&quot;;\n        try{\n            JSONObject jsonObject = new JSONObject(_content);\n            xmlString = XML.toString(jsonObject);\n\n        }catch(Exception ex){}\n        return xmlString;\n    }\n}\n</code></pre>\n<p>I like the result to be ...</p>\n<pre><code>&lt;cars&gt;&lt;item&gt;BMW&lt;/item&gt;&lt;item&gt;Mercedes&lt;/item&gt;&lt;item&gt;Mazda&lt;/item&gt;&lt;/cars&gt;\n</code></pre>\n<p>Does anyone know how this can be fixed? Thanx ...</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696833973,"post_id":77256361,"comment_id":136198478,"body_markdown":"Looks like a bug to me, although they may not think so. Any password should be supplyable as a `char[]`.","body":"Looks like a bug to me, although they may not think so. Any password should be supplyable as a <code>char[]</code>."},{"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"score":0,"creation_date":1696838135,"post_id":77256361,"comment_id":136199162,"body_markdown":"@user207421: That&#39;s what I suspect too. The KafkaProducer and AdminClient constructor itself allows you to pass any Object (which I guess includes char array too). But when you actually run, this fails.","body":"@user207421: That&#39;s what I suspect too. The KafkaProducer and AdminClient constructor itself allows you to pass any Object (which I guess includes char array too). But when you actually run, this fails."}],"owner":{"account_id":1742047,"reputation":998,"user_id":1593170,"accept_rate":3,"display_name":"Omi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696863228,"creation_date":1696827901,"question_id":77256361,"body_markdown":"I have a kafka client written in Java.How its done:\r\n\r\n    Properties props;\r\n    char[] keystorepwd = {t,e,s,t};\r\n    props.put(&quot;ssl.keystore.password&quot;,keystorepwd);\r\n    \r\n    KafkaProducer&lt;String,Object&gt; = new KafkaProducer&lt;String,Object&gt;(props);\r\n\r\nI checked the KafkaProducer doc and it says we can pass an Object in Properties instead of String. However, when I actually run it, I get the following error:\r\n\r\n    org.apache.kafka.common.config.ConfigException: Invalid value [C@45bc4219 for configuration ssl.keystore.password: Expected value to be a string, but it was a [C\r\n\r\nI see a similar error for AdminClient too:\r\n\r\n    Map&lt;String,Object&gt; adminClientProps = new HashMap&lt;String,Object&gt;();\r\n    adminClientProps.put(&quot;ssl.keystore.password&quot;,keystorepwd);\r\n    AdminClient admin = AdminClient.create(adminClientProps);\r\n\r\nSame error for this as well.\r\n\r\nI neither get a compilation error and in fact I verified that the code above is in sync with what is there in the Kafka documentation.\r\n\r\nPlease let me know if we can even pass a char array as value in the properties for kafka client or do we have to convert it to String?\r\n\r\nNote: I know that we can pass the char array as a String instead by doing:\r\n\r\n    adminClientProps.put(&quot;ssl.keystore.password&quot;,new String(keystorepwd));\r\n\r\nBut we want the char array to be used as it is while creating the Kafka client instance instead of converting to String.\r\n\r\nThanks,\r\nOm\r\n","title":"Kafka ssl.keystore.password field does not accept value as char array","body":"<p>I have a kafka client written in Java.How its done:</p>\n<pre><code>Properties props;\nchar[] keystorepwd = {t,e,s,t};\nprops.put(&quot;ssl.keystore.password&quot;,keystorepwd);\n\nKafkaProducer&lt;String,Object&gt; = new KafkaProducer&lt;String,Object&gt;(props);\n</code></pre>\n<p>I checked the KafkaProducer doc and it says we can pass an Object in Properties instead of String. However, when I actually run it, I get the following error:</p>\n<pre><code>org.apache.kafka.common.config.ConfigException: Invalid value [C@45bc4219 for configuration ssl.keystore.password: Expected value to be a string, but it was a [C\n</code></pre>\n<p>I see a similar error for AdminClient too:</p>\n<pre><code>Map&lt;String,Object&gt; adminClientProps = new HashMap&lt;String,Object&gt;();\nadminClientProps.put(&quot;ssl.keystore.password&quot;,keystorepwd);\nAdminClient admin = AdminClient.create(adminClientProps);\n</code></pre>\n<p>Same error for this as well.</p>\n<p>I neither get a compilation error and in fact I verified that the code above is in sync with what is there in the Kafka documentation.</p>\n<p>Please let me know if we can even pass a char array as value in the properties for kafka client or do we have to convert it to String?</p>\n<p>Note: I know that we can pass the char array as a String instead by doing:</p>\n<pre><code>adminClientProps.put(&quot;ssl.keystore.password&quot;,new String(keystorepwd));\n</code></pre>\n<p>But we want the char array to be used as it is while creating the Kafka client instance instead of converting to String.</p>\n<p>Thanks,\nOm</p>\n"},{"tags":["java","jenkins-pipeline","maven-plugin","install4j"],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696863006,"creation_date":1696863006,"answer_id":77259826,"question_id":77258323,"body_markdown":"As for the maven build failure, you would first have to switch to the official maven plugin, the sonatype plugin is no longer developed. You just have to replace \r\n\r\n    &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\r\n\r\nwith\r\n\r\n    &lt;groupId&gt;com.install4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;install4j-maven&lt;/artifactId&gt;\r\n\r\nand add a plugin repository to your POM\r\n\r\n    &lt;pluginRepositories&gt;\r\n      &lt;pluginRepository&gt;\r\n        &lt;id&gt;ej-technologies&lt;/id&gt;\r\n        &lt;url&gt;https://maven.ej-technologies.com/repository&lt;/url&gt;\r\n      &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\nAlso, with the new maven plugin, you can set the &quot;license&quot; parameter to set the license key directly in the invocation. Then, it does not matter which user runs the build.\r\n\r\n","title":"Install4J Jenkins build fails after migration from Install4J 7 to 10","body":"<p>As for the maven build failure, you would first have to switch to the official maven plugin, the sonatype plugin is no longer developed. You just have to replace</p>\n<pre><code>&lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\n&lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;groupId&gt;com.install4j&lt;/groupId&gt;\n&lt;artifactId&gt;install4j-maven&lt;/artifactId&gt;\n</code></pre>\n<p>and add a plugin repository to your POM</p>\n<pre><code>&lt;pluginRepositories&gt;\n  &lt;pluginRepository&gt;\n    &lt;id&gt;ej-technologies&lt;/id&gt;\n    &lt;url&gt;https://maven.ej-technologies.com/repository&lt;/url&gt;\n  &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n<p>Also, with the new maven plugin, you can set the &quot;license&quot; parameter to set the license key directly in the invocation. Then, it does not matter which user runs the build.</p>\n"}],"owner":{"account_id":29631154,"reputation":13,"user_id":22709558,"display_name":"TTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77259826,"answer_count":1,"score":1,"last_activity_date":1696863006,"creation_date":1696849842,"question_id":77258323,"body_markdown":"after the migration from Install4J 7 to 10 we are facing issues while building. \r\n\r\nThe build is done via Jenkins pipeline. There we are using the Maven install4J plugin which is configured as follows\r\n\r\n    &lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;install4j-regular-build&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;validate&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;projectFile&gt;misc/install4j/regular.install4j&lt;/projectFile&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;winKeystorePassword&gt;SECRETREMOVED&lt;/winKeystorePassword&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;jvmArguments&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.connectTimeout=20000&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.readTimeout=20000&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.counterSignRetry=20&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;arg&gt;-Dinstall4j.timestampUrl=${signing.timestamp-server}&lt;/arg&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/jvmArguments&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n&lt;!-- MORE stuff --&gt;\r\n&lt;/build&gt;\r\n\r\nFor the migration we haven&#39;t changed anything regarding Maven plugin configuration. Except for updating the plugins to the latest releases. \r\nNow the build fails with \r\n&gt; [ERROR] Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project irisplus-client: null returned: 1 -&gt; [Help 1] &lt;br&gt;\r\n&gt; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project clientName: null returned: 1\r\n\r\nWe also installed the latest version of the license server and added the new floating license. But in this step we still get the following log output regarding the license\r\n\r\n&gt; [INFO] install4j version 10.0.6 (build 10097), built on 2023-06-19 &lt;br&gt;\r\n&gt; [INFO] Using Java 11.0.10 from /usr/local/openjdk-11 &lt;br&gt;\r\n&gt; [INFO] Please run the command line executable with the -L [license key] option or open the install4j IDE to enter a license key.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;install4JCommon version=&quot;10.0.6&quot; lookAndFeel=&quot;1&quot; mainFrameIconMode=&quot;largeWithText&quot; editorIconMode=&quot;largeWithText&quot; rememberWindowSizes=&quot;true&quot; showMultipleTabsNotice=&quot;true&quot; browserCommand=&quot;&quot; openLastProjectOnStartup=&quot;true&quot; floatingMultiPlatform=&quot;true&quot; useOnlineDocumentation=&quot;false&quot; showIds=&quot;false&quot; printIdsForExport=&quot;false&quot;&gt;\r\n      &lt;licenseKey name=&quot;&quot; company=&quot;&quot; key=&quot;FLOAT:OURHOSTNAME:11862&quot; /&gt;\r\n      &lt;directoryPresets config=&quot;&quot; export=&quot;&quot; /&gt;\r\n      &lt;recentProjects /&gt;\r\n      &lt;codeCompletionSettings codeCompletionAutoImport=&quot;true&quot; codeCompletionAutoPopup=&quot;true&quot; codeCompletionAutoPopupDelay=&quot;1000&quot; codeCompletionLookupHeight=&quot;10&quot; problemsLevel=&quot;all&quot; /&gt;\r\n      &lt;jdks /&gt;\r\n      &lt;beanSelectorSettings&gt;\r\n        &lt;applications largeIcons=&quot;true&quot; /&gt;\r\n        &lt;formComponents largeIcons=&quot;true&quot; /&gt;\r\n        &lt;actionList largeIcons=&quot;true&quot; /&gt;\r\n        &lt;styles largeIcons=&quot;true&quot; /&gt;\r\n      &lt;/beanSelectorSettings&gt;\r\n    &lt;/install4JCommon&gt;\r\n\r\nVia Install4J IDE the DryRun and Build are executed successfully.\r\n\r\n\r\n\r\nAny help and ideas will be appreciated :)","title":"Install4J Jenkins build fails after migration from Install4J 7 to 10","body":"<p>after the migration from Install4J 7 to 10 we are facing issues while building.</p>\n<p>The build is done via Jenkins pipeline. There we are using the Maven install4J plugin which is configured as follows</p>\n<pre><code>&lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;install4j-regular-build&lt;/id&gt;\n                            &lt;phase&gt;validate&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;projectFile&gt;misc/install4j/regular.install4j&lt;/projectFile&gt;\n                                &lt;winKeystorePassword&gt;SECRETREMOVED&lt;/winKeystorePassword&gt;\n                                &lt;jvmArguments&gt;\n                                    &lt;arg&gt;-Dinstall4j.connectTimeout=20000&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.readTimeout=20000&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.counterSignRetry=20&lt;/arg&gt;\n                                    &lt;arg&gt;-Dinstall4j.timestampUrl=${signing.timestamp-server}&lt;/arg&gt;\n                                &lt;/jvmArguments&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n\n\n<p>For the migration we haven't changed anything regarding Maven plugin configuration. Except for updating the plugins to the latest releases.\nNow the build fails with</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project irisplus-client: null returned: 1 -&gt; [Help 1] <br>\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonatype.install4j:install4j-maven-plugin:1.1.2:compile (install4j-regular-build) on project clientName: null returned: 1</p>\n</blockquote>\n<p>We also installed the latest version of the license server and added the new floating license. But in this step we still get the following log output regarding the license</p>\n<blockquote>\n<p>[INFO] install4j version 10.0.6 (build 10097), built on 2023-06-19 <br>\n[INFO] Using Java 11.0.10 from /usr/local/openjdk-11 <br>\n[INFO] Please run the command line executable with the -L [license key] option or open the install4j IDE to enter a license key.</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;install4JCommon version=&quot;10.0.6&quot; lookAndFeel=&quot;1&quot; mainFrameIconMode=&quot;largeWithText&quot; editorIconMode=&quot;largeWithText&quot; rememberWindowSizes=&quot;true&quot; showMultipleTabsNotice=&quot;true&quot; browserCommand=&quot;&quot; openLastProjectOnStartup=&quot;true&quot; floatingMultiPlatform=&quot;true&quot; useOnlineDocumentation=&quot;false&quot; showIds=&quot;false&quot; printIdsForExport=&quot;false&quot;&gt;\n  &lt;licenseKey name=&quot;&quot; company=&quot;&quot; key=&quot;FLOAT:OURHOSTNAME:11862&quot; /&gt;\n  &lt;directoryPresets config=&quot;&quot; export=&quot;&quot; /&gt;\n  &lt;recentProjects /&gt;\n  &lt;codeCompletionSettings codeCompletionAutoImport=&quot;true&quot; codeCompletionAutoPopup=&quot;true&quot; codeCompletionAutoPopupDelay=&quot;1000&quot; codeCompletionLookupHeight=&quot;10&quot; problemsLevel=&quot;all&quot; /&gt;\n  &lt;jdks /&gt;\n  &lt;beanSelectorSettings&gt;\n    &lt;applications largeIcons=&quot;true&quot; /&gt;\n    &lt;formComponents largeIcons=&quot;true&quot; /&gt;\n    &lt;actionList largeIcons=&quot;true&quot; /&gt;\n    &lt;styles largeIcons=&quot;true&quot; /&gt;\n  &lt;/beanSelectorSettings&gt;\n&lt;/install4JCommon&gt;\n</code></pre>\n<p>Via Install4J IDE the DryRun and Build are executed successfully.</p>\n<p>Any help and ideas will be appreciated :)</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":2,"creation_date":1559934220,"post_id":56499928,"comment_id":99589032,"body_markdown":"You are asking the same question. Your port 8080 is already bound, you can not run Spring boot in the same port. Go to command prompt in windows and type the command netstat -a, you will get to know which is running in port 8080.","body":"You are asking the same question. Your port 8080 is already bound, you can not run Spring boot in the same port. Go to command prompt in windows and type the command netstat -a, you will get to know which is running in port 8080."},{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559934349,"post_id":56499928,"comment_id":99589075,"body_markdown":"sorry I am very new to spring boot. But why does it require port. I need it to run as microservice. if I dont add this dependency it is working fine.","body":"sorry I am very new to spring boot. But why does it require port. I need it to run as microservice. if I dont add this dependency it is working fine."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1559934440,"post_id":56499928,"comment_id":99589113,"body_markdown":"Any web server has to use any port to run. This is fundamental concept. First try to spring boot with 1.5.0, take some example from internet.","body":"Any web server has to use any port to run. This is fundamental concept. First try to spring boot with 1.5.0, take some example from internet."},{"owner":{"account_id":106185,"reputation":1126,"user_id":282956,"accept_rate":0,"display_name":"mavriksc"},"score":0,"creation_date":1559934641,"post_id":56499928,"comment_id":99589191,"body_markdown":"@AnonymousCreator if there was no port how would you access your server?","body":"@AnonymousCreator if there was no port how would you access your server?"},{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559934662,"post_id":56499928,"comment_id":99589194,"body_markdown":"can&#39;t I just use their webclient method? why it is a web server. it is just a console application. which I am using as a microservice. spring boot is not for web application only as what I can see from internet.","body":"can&#39;t I just use their webclient method? why it is a web server. it is just a console application. which I am using as a microservice. spring boot is not for web application only as what I can see from internet."},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":1,"creation_date":1622128526,"post_id":56499928,"comment_id":119707715,"body_markdown":"Even though this question is about using the web client without using the application as a web app, most were led here because of google. For them, you are trying to running two application over the same port. So kill the already running application or run the new application on a different port. You can find more details at https://springhow.com/web-server-failed-to-start-port-8080-was-already-in-use/.","body":"Even though this question is about using the web client without using the application as a web app, most were led here because of google. For them, you are trying to running two application over the same port. So kill the already running application or run the new application on a different port. You can find more details at <a href=\"https://springhow.com/web-server-failed-to-start-port-8080-was-already-in-use/\" rel=\"nofollow noreferrer\">springhow.com/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559938350,"post_id":56500677,"comment_id":99590589,"body_markdown":"I am not using web application. Web application requires ports.","body":"I am not using web application. Web application requires ports."},{"owner":{"account_id":13112276,"reputation":353,"user_id":9472846,"display_name":"Dominik"},"score":1,"creation_date":1559938678,"post_id":56500677,"comment_id":99590702,"body_markdown":"ok, so following should help `spring.main.web-application-type=none` in your `application.properties`, or the same for `application.yml` but formatted.","body":"ok, so following should help <code>spring.main.web-application-type=none</code> in your <code>application.properties</code>, or the same for <code>application.yml</code> but formatted."}],"tags":[],"owner":{"account_id":13112276,"reputation":353,"user_id":9472846,"display_name":"Dominik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559938155,"creation_date":1559938155,"answer_id":56500677,"question_id":56499928,"body_markdown":"You try to use an already used port. \r\n\r\nPorts are used on the transport layer - `tcp`, `http` is application layer and uses a transport layer to send and receive requests. \r\n\r\nDefault port exposed by spring boot app is `8080`. In your case you have two solutions:\r\n\r\n- change port for your application\r\n- stop the service that uses the port you want to use\r\n ","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You try to use an already used port. </p>\n\n<p>Ports are used on the transport layer - <code>tcp</code>, <code>http</code> is application layer and uses a transport layer to send and receive requests. </p>\n\n<p>Default port exposed by spring boot app is <code>8080</code>. In your case you have two solutions:</p>\n\n<ul>\n<li>change port for your application</li>\n<li>stop the service that uses the port you want to use</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"score":0,"creation_date":1559940086,"post_id":56500768,"comment_id":99591133,"body_markdown":"thts wht I wanted. so this only start when webflux is there?","body":"thts wht I wanted. so this only start when webflux is there?"},{"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"score":1,"creation_date":1560194154,"post_id":56500768,"comment_id":99647861,"body_markdown":"Not only webflux can trigger the embedded server to start automatically, as the doc mentions: **If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it**. The needed classes might be added by other Spring modules.","body":"Not only webflux can trigger the embedded server to start automatically, as the doc mentions: <b>If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it</b>. The needed classes might be added by other Spring modules."}],"tags":[],"owner":{"account_id":10812177,"reputation":2398,"user_id":7952453,"display_name":"Gustavo Passini"},"comment_count":2,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1618871204,"creation_date":1559938739,"answer_id":56500768,"question_id":56499928,"body_markdown":"If you don&#39;t want the embedded server to start, just set the following property in you `application.properties` (or `.yml`):\r\n\r\n```\r\nspring.main.web-application-type=none\r\n```\r\n\r\n&gt; If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it. To disable this behaviour configure the WebApplicationType in your application.properties\r\n\r\nSource: https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\r\n\r\n\r\n----------\r\n\r\nIf you application really **is** a Web application, then you can easily change the port using the `server.port` property (in your application&#39;s `.properties`/`.yaml` file, as a command line argument at startup, etc).","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you don't want the embedded server to start, just set the following property in you <code>application.properties</code> (or <code>.yml</code>):</p>\n<pre><code>spring.main.web-application-type=none\n</code></pre>\n<blockquote>\n<p>If your classpath contains the necessary bits to start a web server, Spring Boot will automatically start it. To disable this behaviour configure the WebApplicationType in your application.properties</p>\n</blockquote>\n<p>Source: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-embedded-web-servers.html</a></p>\n<hr />\n<p>If you application really <strong>is</strong> a Web application, then you can easily change the port using the <code>server.port</code> property (in your application's <code>.properties</code>/<code>.yaml</code> file, as a command line argument at startup, etc).</p>\n"},{"tags":[],"owner":{"account_id":2509588,"reputation":1999,"user_id":2182398,"accept_rate":55,"display_name":"Armen Arzumanyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559939169,"creation_date":1559939169,"answer_id":56500835,"question_id":56499928,"body_markdown":"Your client application also spring boot application, whats why you have two spring boot application run in 8080 port.\r\nChange port one of them or create a standalone java application with main class, put your web client in it and run.\r\nAs http client you can use Apache Http Client.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Your client application also spring boot application, whats why you have two spring boot application run in 8080 port.\nChange port one of them or create a standalone java application with main class, put your web client in it and run.\nAs http client you can use Apache Http Client.</p>\n"},{"comments":[{"owner":{"account_id":15412947,"reputation":475,"user_id":11119220,"display_name":"Sakthivel Subbaiyan"},"score":0,"creation_date":1669540676,"post_id":59606696,"comment_id":131660507,"body_markdown":"This worked for me!!!\n\nI had similar issue and tired all possible way mentioned in the article but none worked. Then found the real problem that was causing this issue. \nI had JDK 17 and JDK 8 versions installed in my machine. So when i started spring boot application, it resulted in Web server failed to start. Port 8080 was already in use. Spring Boot.\nI configured JDK 17 to my IDE but when i start my server, both Java JDK gets starting and creating issue.\n\nSo to solve this issue, you need to uninstall any of the JDK version and do a try again.","body":"This worked for me!!!  I had similar issue and tired all possible way mentioned in the article but none worked. Then found the real problem that was causing this issue.  I had JDK 17 and JDK 8 versions installed in my machine. So when i started spring boot application, it resulted in Web server failed to start. Port 8080 was already in use. Spring Boot. I configured JDK 17 to my IDE but when i start my server, both Java JDK gets starting and creating issue.  So to solve this issue, you need to uninstall any of the JDK version and do a try again."}],"tags":[],"owner":{"account_id":6682070,"reputation":821,"user_id":12512290,"display_name":"jayesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1578285025,"creation_date":1578285025,"answer_id":59606696,"question_id":56499928,"body_markdown":"You can change the default port of your application in application.properties by adding the following line:\r\n\r\nserver.port = 8090","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can change the default port of your application in application.properties by adding the following line:</p>\n\n<p>server.port = 8090</p>\n"},{"comments":[{"owner":{"account_id":11932554,"reputation":106,"user_id":8732045,"display_name":"Assegd"},"score":0,"creation_date":1586176675,"post_id":59916887,"comment_id":108023029,"body_markdown":"Thanks for sharing the solution. it really helped me","body":"Thanks for sharing the solution. it really helped me"}],"tags":[],"owner":{"account_id":17617577,"reputation":1008,"user_id":12784276,"display_name":"Alan Carlyle"},"comment_count":1,"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1580029083,"creation_date":1580029083,"answer_id":59916887,"question_id":56499928,"body_markdown":"If on windows and your getting this every time you run the application you need to keep doing:\r\n\r\n    &gt; netstat -ano | findstr *&lt;port used&gt;*\r\n    \r\n      TCP    0.0.0.0:*&lt;port used&gt;*  0.0.0.0:0              LISTENING       *&lt;pid&gt;*\r\n      TCP    [::]:*&lt;port used&gt;*     [::]:0                 LISTENING       *&lt;pid&gt;*\r\n    \r\n    &gt; taskkill /F /PID *&lt;pid&gt;*\r\n    SUCCESS: The process with PID *&lt;pid&gt;* has been terminated.\r\n\r\n\r\nIf netstat above includes something like this;\r\n\r\n    TCP    [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:540yy [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:*&lt;port used&gt;* TIME_WAIT 0\r\n\r\nThen you can either wait for a little while or reconfigure to use another port.\r\n\r\nI suppose we could write some code to randomly generate and check if a port is free when the application runs. Though this will have diminishing returns as they start to get used up. On the other hand could add a resource clean up code that does what we have above once the application stops. \r\n\r\n\r\n\r\n","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If on windows and your getting this every time you run the application you need to keep doing:</p>\n\n<pre><code>&gt; netstat -ano | findstr *&lt;port used&gt;*\n\n  TCP    0.0.0.0:*&lt;port used&gt;*  0.0.0.0:0              LISTENING       *&lt;pid&gt;*\n  TCP    [::]:*&lt;port used&gt;*     [::]:0                 LISTENING       *&lt;pid&gt;*\n\n&gt; taskkill /F /PID *&lt;pid&gt;*\nSUCCESS: The process with PID *&lt;pid&gt;* has been terminated.\n</code></pre>\n\n<p>If netstat above includes something like this;</p>\n\n<pre><code>TCP    [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:540yy [zzzz:e2ce:44xx:1:axx6:dxxf:xxx:xxxx]:*&lt;port used&gt;* TIME_WAIT 0\n</code></pre>\n\n<p>Then you can either wait for a little while or reconfigure to use another port.</p>\n\n<p>I suppose we could write some code to randomly generate and check if a port is free when the application runs. Though this will have diminishing returns as they start to get used up. On the other hand could add a resource clean up code that does what we have above once the application stops. </p>\n"},{"tags":[],"owner":{"account_id":19560889,"reputation":91,"user_id":14314130,"display_name":"Rashmi Kiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1601393360,"creation_date":1601393360,"answer_id":64122801,"question_id":56499928,"body_markdown":"1. create **/resources** folder inside **src/main**\r\n2. create **application.properties** file inside **/resources**\r\n3. write `server.port=9090`  //(use any port number of your choice)","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<ol>\n<li>create <strong>/resources</strong> folder inside <strong>src/main</strong></li>\n<li>create <strong>application.properties</strong> file inside <strong>/resources</strong></li>\n<li>write <code>server.port=9090</code>  //(use any port number of your choice)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4727718,"reputation":176,"user_id":3824144,"accept_rate":64,"display_name":"Anu"},"score":0,"creation_date":1608463330,"post_id":64261344,"comment_id":115586657,"body_markdown":"where is this run last tool button in spring?","body":"where is this run last tool button in spring?"}],"tags":[],"owner":{"account_id":19687604,"reputation":1,"user_id":14413243,"display_name":"Priti Yogi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602165762,"creation_date":1602155603,"answer_id":64261344,"question_id":56499928,"body_markdown":"Today I was working in Spring Boot project and I got the same error in my project. So, what I did, I clicked on **stop button** beside the **run last tool button** and run again. Then, my project started working very well.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Today I was working in Spring Boot project and I got the same error in my project. So, what I did, I clicked on <strong>stop button</strong> beside the <strong>run last tool button</strong> and run again. Then, my project started working very well.</p>\n"},{"tags":[],"owner":{"account_id":4822986,"reputation":7,"user_id":3893177,"display_name":"kmantic"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1606836334,"creation_date":1606836334,"answer_id":65093399,"question_id":56499928,"body_markdown":"The best answer to this is to always use the &quot;Relaunch Application&quot; button. That will stop the web server and restart the entire app on the same port as before. \r\n\r\nIt&#39;s the button with the red square and green play icon combined. \r\n\r\n  https://i.stack.imgur.com/ICGtX.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>The best answer to this is to always use the &quot;Relaunch Application&quot; button. That will stop the web server and restart the entire app on the same port as before.</p>\n<p>It's the button with the red square and green play icon combined.</p>\n<p><a href=\"https://i.stack.imgur.com/ICGtX.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ICGtX.png</a></p>\n"},{"tags":[],"owner":{"account_id":19813979,"reputation":33,"user_id":14512135,"display_name":"Cihan Icelliler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609846139,"creation_date":1609846139,"answer_id":65578009,"question_id":56499928,"body_markdown":"You can also write services.msc in your search bar in windows.Then you can find Apache Tomcat and then just stop this apache. I think its gonna be work.[![Find Apache TomCat and Stop it][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UVKaL.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can also write services.msc in your search bar in windows.Then you can find Apache Tomcat and then just stop this apache. I think its gonna be work.<a href=\"https://i.stack.imgur.com/UVKaL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UVKaL.png\" alt=\"Find Apache TomCat and Stop it\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611748809,"creation_date":1611744891,"answer_id":65917668,"question_id":56499928,"body_markdown":"you can set `server.port= #some-available-port number` in application.properties file\r\n\r\nor run command prompt in administrator mode and run  `netstat -a -o -n`.\r\nFind the process id which is using port 8080.\r\n\r\nRun `taskkill /F /PID #Processid` command","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>you can set <code>server.port= #some-available-port number</code> in application.properties file</p>\n<p>or run command prompt in administrator mode and run  <code>netstat -a -o -n</code>.\nFind the process id which is using port 8080.</p>\n<p>Run <code>taskkill /F /PID #Processid</code> command</p>\n"},{"tags":[],"owner":{"account_id":16198346,"reputation":212,"user_id":11695367,"display_name":"Feezan Khattak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1614828549,"creation_date":1614828549,"answer_id":66468156,"question_id":56499928,"body_markdown":"It&#39;s easy we have two methods to solve.\r\nFirst one is to change the port number in your *application.properties* i.e\r\n\r\n    server.port=9999 //  something like this...\r\n\r\nand second is, to first stop the available running server and then re-run your server again.\r\n\r\nI am sure it work :)","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>It's easy we have two methods to solve.\nFirst one is to change the port number in your <em>application.properties</em> i.e</p>\n<pre><code>server.port=9999 //  something like this...\n</code></pre>\n<p>and second is, to first stop the available running server and then re-run your server again.</p>\n<p>I am sure it work :)</p>\n"},{"comments":[{"owner":{"account_id":16496611,"reputation":455,"user_id":11919026,"display_name":"Divya J"},"score":1,"creation_date":1629811713,"post_id":67660822,"comment_id":121781750,"body_markdown":"The most accurate answer I was looking for, thanks man ! This Answer should have been on the top !","body":"The most accurate answer I was looking for, thanks man ! This Answer should have been on the top !"}],"tags":[],"owner":{"account_id":14999313,"reputation":1882,"user_id":10827515,"display_name":"Supun Sandaruwan"},"comment_count":1,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1621781719,"creation_date":1621780033,"answer_id":67660822,"question_id":56499928,"body_markdown":"Some time if you can manually `kill the that port` problem can solve. \r\n\r\nUsing **`CurrPorts`** software you can view what are the running all ports in your machine and you can kill that port if you want. \r\n\r\nYou can download CurrPorts from [here][1]. (download link is in bottom of the page)\r\n\r\n [![enter image description here][2]][2]\r\n\r\n============== OR ==============\r\n\r\nWithout CurrPorts you can do this using like below method also.\r\n\r\n1. CMD as **run as administrator** \r\n2. Enter `netstat -a -o -n` and hit enter. Now you can see like below. Port can see **Local Address** column after **`:`** sign.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n3. select the process id`(not port)` that your port running and type `taskkill /F /PID &lt;process_id_here&gt;` command and hit enter.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://www.nirsoft.net/utils/cports.html\r\n  [2]: https://i.stack.imgur.com/kXUPY.png\r\n  [3]: https://i.stack.imgur.com/9hE2p.png\r\n  [4]: https://i.stack.imgur.com/nQIXT.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Some time if you can manually <code>kill the that port</code> problem can solve.</p>\n<p>Using <strong><code>CurrPorts</code></strong> software you can view what are the running all ports in your machine and you can kill that port if you want.</p>\n<p>You can download CurrPorts from <a href=\"https://www.nirsoft.net/utils/cports.html\" rel=\"noreferrer\">here</a>. (download link is in bottom of the page)</p>\n<p><a href=\"https://i.stack.imgur.com/kXUPY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kXUPY.png\" alt=\"enter image description here\" /></a></p>\n<p>============== OR ==============</p>\n<p>Without CurrPorts you can do this using like below method also.</p>\n<ol>\n<li>CMD as <strong>run as administrator</strong></li>\n<li>Enter <code>netstat -a -o -n</code> and hit enter. Now you can see like below. Port can see <strong>Local Address</strong> column after <strong><code>:</code></strong> sign.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/9hE2p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9hE2p.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>select the process id<code>(not port)</code> that your port running and type <code>taskkill /F /PID &lt;process_id_here&gt;</code> command and hit enter.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nQIXT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/nQIXT.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":16463349,"reputation":1477,"user_id":11893958,"display_name":"Suresh B B"},"score":0,"creation_date":1642878456,"post_id":67775851,"comment_id":125191929,"body_markdown":"Install NPM pacakage manager and try this command, it works perfectly fine.but when made changes on the code  sometimes doesn&#39;t refresh the server automatically u have to kill the process and re-run project.","body":"Install NPM pacakage manager and try this command, it works perfectly fine.but when made changes on the code  sometimes doesn&#39;t refresh the server automatically u have to kill the process and re-run project."}],"tags":[],"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1622472097,"creation_date":1622472097,"answer_id":67775851,"question_id":56499928,"body_markdown":"You can use npm to kill the port \r\n\r\n    **npx kill-port 8080**   //8080 for example\r\n\r\n\r\nRequirement: npm \r\n\r\nread more: https://www.npmjs.com/package/kill-port","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>You can use npm to kill the port</p>\n<pre><code>**npx kill-port 8080**   //8080 for example\n</code></pre>\n<p>Requirement: npm</p>\n<p>read more: <a href=\"https://www.npmjs.com/package/kill-port\" rel=\"noreferrer\">https://www.npmjs.com/package/kill-port</a></p>\n"},{"tags":[],"owner":{"account_id":2078662,"reputation":2458,"user_id":1851286,"display_name":"Oleksii Kyslytsyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623656017,"creation_date":1623612203,"answer_id":67961912,"question_id":56499928,"body_markdown":"to catch java.net.BindException e with message: Address already in use and to start on other available port and to use webclient with one of 2 ports. \r\n\r\n    try {\r\n                SpringApplication.run(Application.class, args);\r\n            } catch (org.springframework.boot.web.server.PortInUseException e) {\r\n    //Runtime.exec(&quot;pkil&quot;)..\r\n    //or\r\n    SpringApplication.run(Application.class, otherargs);\r\n    //SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\r\n    //when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\r\n\r\n    }","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>to catch java.net.BindException e with message: Address already in use and to start on other available port and to use webclient with one of 2 ports.</p>\n<pre><code>try {\n            SpringApplication.run(Application.class, args);\n        } catch (org.springframework.boot.web.server.PortInUseException e) {\n//Runtime.exec(&quot;pkil&quot;)..\n//or\nSpringApplication.run(Application.class, otherargs);\n//SpringApplication.run(Application.class, new String[]{&quot;--server.port=8444&quot;});\n//when invoked recursively it is a port rebalancer for port usage among port pool with server as from client for startup stage via application restarts within many busy ports which are used before or without querying.\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12969674,"reputation":713,"user_id":9375838,"display_name":"Leena"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623872319,"creation_date":1623872319,"answer_id":68009066,"question_id":56499928,"body_markdown":"If you had previously started the spring boot app and forgot to stop before hitting play again then Go to windows **task manager** and locate the java application(Something like *&quot;OpenJDK Platform binary&quot;* and click on End Task. (Java app not eclipse). Then try running again. It worked for me.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you had previously started the spring boot app and forgot to stop before hitting play again then Go to windows <strong>task manager</strong> and locate the java application(Something like <em>&quot;OpenJDK Platform binary&quot;</em> and click on End Task. (Java app not eclipse). Then try running again. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":21316812,"reputation":67,"user_id":15690535,"display_name":"Afreen Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1625054314,"creation_date":1625054314,"answer_id":68194307,"question_id":56499928,"body_markdown":"if port:8080 already in use error occurs:\r\n - goto command prompt\r\n.type command&gt; .netstat -ano \r\n.Enter-&gt;this will show all running port check port 8080\r\n.type command&gt; taskkill /F /PID 8080\r\n.process will terminate.\r\n ","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>if port:8080 already in use error occurs:</p>\n<ul>\n<li>goto command prompt\n.type command&gt; .netstat -ano\n.Enter-&gt;this will show all running port check port 8080\n.type command&gt; taskkill /F /PID 8080\n.process will terminate.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21567070,"reputation":671,"user_id":15900644,"display_name":"crwils"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1627316507,"creation_date":1627316195,"answer_id":68533253,"question_id":56499928,"body_markdown":"Another way to do this is by first checking what processes are using that specific port, then killing it using its process ID:\r\n\r\n1. Run `lsof -i :8080`\r\nThis will identify which process is listening on port 8080.\r\n\r\n2. Take note of the process ID (PID) e.g. 63262\r\n\r\n3. Run `kill -9 &lt;PID&gt;` e.g. `kill -9 63262`","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Another way to do this is by first checking what processes are using that specific port, then killing it using its process ID:</p>\n<ol>\n<li><p>Run <code>lsof -i :8080</code>\nThis will identify which process is listening on port 8080.</p>\n</li>\n<li><p>Take note of the process ID (PID) e.g. 63262</p>\n</li>\n<li><p>Run <code>kill -9 &lt;PID&gt;</code> e.g. <code>kill -9 63262</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19168283,"reputation":7,"user_id":14002558,"display_name":"Mohammed Masood Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635523738,"creation_date":1635523738,"answer_id":69771928,"question_id":56499928,"body_markdown":"It is a simple answer.If you are getting this error then go to your project then\r\n\r\nsrc/main/resources and open application.properties file and mention there\r\n\r\nserver.port=8045 you  can give your own number here instead of 8045\r\n\r\nthanks[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OzCG4.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>It is a simple answer.If you are getting this error then go to your project then</p>\n<p>src/main/resources and open application.properties file and mention there</p>\n<p>server.port=8045 you  can give your own number here instead of 8045</p>\n<p>thanks<a href=\"https://i.stack.imgur.com/OzCG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzCG4.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17821569,"reputation":21,"user_id":12943830,"display_name":"Murat &#199;elik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671386114,"creation_date":1636403777,"answer_id":69889668,"question_id":56499928,"body_markdown":"To reset port `8080`, you need to find `PID` (*Process ID*) and specify it for the command as, for example, on the screen `10512`:\r\n\r\n    taskkill /F /PID 10512\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1NsC.png","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>To reset port <code>8080</code>, you need to find <code>PID</code> (<em>Process ID</em>) and specify it for the command as, for example, on the screen <code>10512</code>:</p>\n<pre><code>taskkill /F /PID 10512\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w1NsC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w1NsC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20209650,"reputation":11,"user_id":14822954,"display_name":"Lakshya Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638175721,"creation_date":1638107942,"answer_id":70144092,"question_id":56499928,"body_markdown":"The error basically means that your port 8080 is occupied. If you are getting this error then go to your project and open application.properties and add the below line and it should work fine:\r\n\r\n    server.port = 8090","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>The error basically means that your port 8080 is occupied. If you are getting this error then go to your project and open application.properties and add the below line and it should work fine:</p>\n<pre><code>server.port = 8090\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3719429,"reputation":4902,"user_id":3094805,"accept_rate":11,"display_name":"PaulNUK"},"score":1,"creation_date":1647194318,"post_id":71403648,"comment_id":126304679,"body_markdown":"this is incorrect, server.port can go anywhere in the application.properties file, and if something else is already using the port, it won&#39;t help at all.","body":"this is incorrect, server.port can go anywhere in the application.properties file, and if something else is already using the port, it won&#39;t help at all."}],"tags":[],"owner":{"account_id":24498139,"reputation":1,"user_id":18414111,"display_name":"Kavita"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646792964,"creation_date":1646792964,"answer_id":71403648,"question_id":56499928,"body_markdown":"If you getting this error again and again , then make sure server.port=(your port no) is the first line in application.properties file.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>If you getting this error again and again , then make sure server.port=(your port no) is the first line in application.properties file.</p>\n"},{"tags":[],"owner":{"account_id":20409705,"reputation":31,"user_id":14973418,"display_name":"TMB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664284907,"creation_date":1664284907,"answer_id":73868322,"question_id":56499928,"body_markdown":" 1. Open cmd and type &quot;netstat -ano -p tcp.&quot; \r\n 2. Then, look for the port number and PID. \r\n 3. Open up Resource Monitor and search for the PID number\r\n 4. Right Click and &quot;End Process.&quot; \r\n\r\n","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<ol>\n<li>Open cmd and type &quot;netstat -ano -p tcp.&quot;</li>\n<li>Then, look for the port number and PID.</li>\n<li>Open up Resource Monitor and search for the PID number</li>\n<li>Right Click and &quot;End Process.&quot;</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26206668,"reputation":148,"user_id":19886178,"display_name":"Vishal Bramhankar"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1665845321,"creation_date":1665845207,"answer_id":74080449,"question_id":56499928,"body_markdown":"open command prompt as administrator \r\n\r\nstep1: netstat -ano | findstr :&lt;enter your 4 digit port number&gt;\r\n\r\n    netstat -ano | findstr :8080\r\n\r\n TCP       0.0.0.0:8080              0.0.0.0:0                 LISTENING          6436\r\n\r\n TCP       [::]:8080                 [::]:0                    LISTENING          6436\r\n\r\nstep2: taskkill /PID &lt;enter above pid number(sometimes it shown 3/4/5/6 digits)&gt; /F\r\n\r\n    taskkill /PID 6436 /F\r\nSUCCESS: The process with PID 6436 has been terminated.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>open command prompt as administrator</p>\n<p>step1: netstat -ano | findstr :&lt;enter your 4 digit port number&gt;</p>\n<pre><code>netstat -ano | findstr :8080\n</code></pre>\n<p>TCP       0.0.0.0:8080              0.0.0.0:0                 LISTENING          6436</p>\n<p>TCP       [::]:8080                 [::]:0                    LISTENING          6436</p>\n<p>step2: taskkill /PID &lt;enter above pid number(sometimes it shown 3/4/5/6 digits)&gt; /F</p>\n<pre><code>taskkill /PID 6436 /F\n</code></pre>\n<p>SUCCESS: The process with PID 6436 has been terminated.</p>\n"},{"tags":[],"owner":{"account_id":6393007,"reputation":131,"user_id":4958437,"display_name":"Manish"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673588467,"creation_date":1673588467,"answer_id":75105278,"question_id":56499928,"body_markdown":"Restarting my machine solved the issue although I was getting below issue:\r\n\r\n    Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>Restarting my machine solved the issue although I was getting below issue:</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8081 is already in use\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25798468,"reputation":74,"user_id":19541281,"display_name":"sbrajchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693646710,"creation_date":1693602964,"answer_id":77026025,"question_id":56499928,"body_markdown":"I repeatedly encountered the same issue on my Windows 10 system, wherein various diagnostic tools consistently reported no other processes utilizing the same port. Strangely, the problem persisted, but a simple reboot consistently resolved it. To avoid restarting and having to relaunch numerous applications, I found an alternative solution: I restarted the Host Network Service (hns) with the following commands:\r\n```\r\nnet stop hns\r\nnet start hns\r\n```\r\nMy research led me to a Stack Overflow post (https://stackoverflow.com/a/62359555/19541281) explaining that Windows reserved specific port ranges as the underlying cause.\r\n\r\nIn my particular case, Windows had reserved the following port range:\r\n\r\n`netsh int ipv4 show dynamicport tcp`\r\n\r\n&gt;Protocol tcp Dynamic Port Range  \r\n&gt;      --------------------------------   \r\n&gt;Start Port      : 1024  \r\nNumber of Ports : 13977  \r\n\r\nI altered the Windows port reservation range by executing this command:\r\n\r\n`netsh int ipv4 set dynamic tcp start=49152 num=16384`\r\n\r\nSubsequently, I performed a host reboot to ensure the changes took effect.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>I repeatedly encountered the same issue on my Windows 10 system, wherein various diagnostic tools consistently reported no other processes utilizing the same port. Strangely, the problem persisted, but a simple reboot consistently resolved it. To avoid restarting and having to relaunch numerous applications, I found an alternative solution: I restarted the Host Network Service (hns) with the following commands:</p>\n<pre><code>net stop hns\nnet start hns\n</code></pre>\n<p>My research led me to a Stack Overflow post (<a href=\"https://stackoverflow.com/a/62359555/19541281\">https://stackoverflow.com/a/62359555/19541281</a>) explaining that Windows reserved specific port ranges as the underlying cause.</p>\n<p>In my particular case, Windows had reserved the following port range:</p>\n<p><code>netsh int ipv4 show dynamicport tcp</code></p>\n<blockquote>\n<p>Protocol tcp Dynamic Port Range<br />\n--------------------------------<br />\nStart Port      : 1024<br />\nNumber of Ports : 13977</p>\n</blockquote>\n<p>I altered the Windows port reservation range by executing this command:</p>\n<p><code>netsh int ipv4 set dynamic tcp start=49152 num=16384</code></p>\n<p>Subsequently, I performed a host reboot to ensure the changes took effect.</p>\n"},{"tags":[],"owner":{"account_id":25448861,"reputation":119,"user_id":19250621,"display_name":"Denis Kinyua"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696862319,"creation_date":1696862319,"answer_id":77259743,"question_id":56499928,"body_markdown":"if on windows, open CMD and type `taskkill /im javaw.exe /f`","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>if on windows, open CMD and type <code>taskkill /im javaw.exe /f</code></p>\n"}],"owner":{"account_id":3322011,"reputation":3158,"user_id":9263418,"display_name":"Anonymous Creator"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373468,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":56500768,"answer_count":26,"score":57,"last_activity_date":1696862319,"creation_date":1559934099,"question_id":56499928,"body_markdown":"I am trying to call webAPI from gradle project.\r\n\r\nMy build.gradle is as following.\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.1.4.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n    \truntimeOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \tcompile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n        compile &#39;org.projectreactor:reactor-spring:1.0.1.RELEASE&#39;\r\n    }\r\n\r\n\r\nIf I remove following dependency\r\n\r\n    compile &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\r\nIt works, but if I add it back. it gives error as \r\n\r\n    Web server failed to start. Port 8080 was already in use.\r\n\r\n\r\nSo, how do I fix this, so that I can use webclient? Because application is not web application which requires port to run. it is a sort of microservice.\r\n\r\nI just want to use WebClient of Spring Boot. How do i use it without converting my application into web application.","title":"Web server failed to start. Port 8080 was already in use. Spring Boot microservice","body":"<p>I am trying to call webAPI from gradle project.</p>\n<p>My build.gradle is as following.</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.1.4.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    runtimeOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    compile 'org.springframework.boot:spring-boot-starter-webflux'\n    compile 'org.projectreactor:reactor-spring:1.0.1.RELEASE'\n}\n</code></pre>\n<p>If I remove following dependency</p>\n<pre><code>compile 'org.springframework.boot:spring-boot-starter-webflux'\n</code></pre>\n<p>It works, but if I add it back. it gives error as</p>\n<pre><code>Web server failed to start. Port 8080 was already in use.\n</code></pre>\n<p>So, how do I fix this, so that I can use webclient? Because application is not web application which requires port to run. it is a sort of microservice.</p>\n<p>I just want to use WebClient of Spring Boot. How do i use it without converting my application into web application.</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696860321,"post_id":77259380,"comment_id":136203433,"body_markdown":"Yes, it&#39;s a serious error. It means the application is crashing trying to send or receive JSON data. Whether or not that leads to real problems depends on the data that is causing the crash, but it&#39;s very likely. Normal, stable running applications should not have errors like this in the log, but instead handle unexpected requests in a nice way and return a useful error to the front end.","body":"Yes, it&#39;s a serious error. It means the application is crashing trying to send or receive JSON data. Whether or not that leads to real problems depends on the data that is causing the crash, but it&#39;s very likely. Normal, stable running applications should not have errors like this in the log, but instead handle unexpected requests in a nice way and return a useful error to the front end."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696860721,"post_id":77259380,"comment_id":136203528,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696861981,"post_id":77259612,"comment_id":136203798,"body_markdown":"Sorry my formatting was bad, I wanted to start with the explanation of &quot;object&quot;, so I moved my text a bit around","body":"Sorry my formatting was bad, I wanted to start with the explanation of &quot;object&quot;, so I moved my text a bit around"},{"owner":{"account_id":28393827,"reputation":1,"user_id":21719190,"display_name":"barnyard9"},"score":0,"creation_date":1696916885,"post_id":77259612,"comment_id":136210247,"body_markdown":"This was a non-issue.","body":"This was a non-issue."}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696861947,"creation_date":1696861352,"answer_id":77259612,"question_id":77259380,"body_markdown":"The real answer to your question (&quot;Are there any real consequences?&quot;) can only be &quot;It depends.&quot;\r\n\r\nTo help you understand the situation better I try to explain the lingo involved in a very basic way:\r\n\r\n - An *object* is data bundled with code to access the data - you are not supposed to access the objects data in memory in other ways than by the code of the object.\r\n - To save the object to disk, you just *serialize* it, that means you bring its data into a form that can be written to a file or sent over the network. Usually the code is not written or sent.\r\n - The opposite (read object from disk) you *deserialize* it. \r\n - *Lazy loading* means that you initialize / load / deserialize / calculate the data of an object the first time you actually need it. (Since you only access it via the provided code of the object, this code decides that.)\r\n- The opposite would be *eager loading* - means that on the start of the program or creation of the object you load / deserialize / calculate the data in the object.\r\n\r\nThe message you wrote (&quot;No serializer found&quot;) means that it is unknown how to write the data of an object to disk or send it over the network. Depending on the desired function, this can be a big problem or no problem (when nothing actually should be written).\r\n\r\nIn some programs you can configure the method how to serialize from the outside (so the error message signals a wrong configuration), in other cases it&#39;s hardcoded in the program (so the error means that the programmers didn&#39;t test thoroughly or didn&#39;t care about the error).\r\nThe message \r\n\r\n&gt; no properties discovered to create BeanSerializer\r\n\r\nsignals that its probably the externally configurable variant, but without further documentation no guarantee for that.\r\n\r\nOn the other hand `SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS` usually is more likely to be hardcoded.\r\n\r\nSo without a piece of code that creates that error message I could not provide real solutions, but your question indicates that a solution is not your goal anyways.","title":"Are there any real consequences of &quot;No serializer found&quot; in java?","body":"<p>The real answer to your question (&quot;Are there any real consequences?&quot;) can only be &quot;It depends.&quot;</p>\n<p>To help you understand the situation better I try to explain the lingo involved in a very basic way:</p>\n<ul>\n<li>An <em>object</em> is data bundled with code to access the data - you are not supposed to access the objects data in memory in other ways than by the code of the object.</li>\n<li>To save the object to disk, you just <em>serialize</em> it, that means you bring its data into a form that can be written to a file or sent over the network. Usually the code is not written or sent.</li>\n<li>The opposite (read object from disk) you <em>deserialize</em> it.</li>\n<li><em>Lazy loading</em> means that you initialize / load / deserialize / calculate the data of an object the first time you actually need it. (Since you only access it via the provided code of the object, this code decides that.)</li>\n<li>The opposite would be <em>eager loading</em> - means that on the start of the program or creation of the object you load / deserialize / calculate the data in the object.</li>\n</ul>\n<p>The message you wrote (&quot;No serializer found&quot;) means that it is unknown how to write the data of an object to disk or send it over the network. Depending on the desired function, this can be a big problem or no problem (when nothing actually should be written).</p>\n<p>In some programs you can configure the method how to serialize from the outside (so the error message signals a wrong configuration), in other cases it's hardcoded in the program (so the error means that the programmers didn't test thoroughly or didn't care about the error).\nThe message</p>\n<blockquote>\n<p>no properties discovered to create BeanSerializer</p>\n</blockquote>\n<p>signals that its probably the externally configurable variant, but without further documentation no guarantee for that.</p>\n<p>On the other hand <code>SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS</code> usually is more likely to be hardcoded.</p>\n<p>So without a piece of code that creates that error message I could not provide real solutions, but your question indicates that a solution is not your goal anyways.</p>\n"}],"owner":{"account_id":28393827,"reputation":1,"user_id":21719190,"display_name":"barnyard9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77259612,"answer_count":1,"score":-1,"last_activity_date":1696861947,"creation_date":1696859353,"question_id":77259380,"body_markdown":"https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found\r\nI was looking through these posts. And looks like this is a kind of warning and not a serious issue (People are talking about suppressing it, so that must not be very useful for tracing and debugging the program). I&#39;m not a programmer FYI. But a system administrator who knows little bit of code.\r\n\r\n`org.codehaus.jackson.map.JsonMappingException: No serializer found for class MyPackage.TestA and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )\r\n`\r\nThis is exactly the error that I am getting. I work at a transaction doing app startup.\r\n\r\nFirstly, make me understand what is this error trying to say? People say &quot;lazy loading&quot;...and stuffs. But as a sysadmin, make me understand this.\r\n\r\nI&#39;ve noticed this error is coming in both succeess and failed transactions. But successful transactions later succeed anyway. The only difference there seems is there is something called `senderId` being generated for success transactions and that value is being sent as `NULL` for failure transactions.\r\n\r\nHelp me with this issue.\r\n\r\nI&#39;ve tried reading all the posts and internet. I don&#39;t really want to understand the fix of this. It&#39;s written everywhere in internet. For instance\r\n\r\nhttps://stackoverflow.com/questions/70907689/invaliddefinitionexception-no-serializer-found-in-java-for-generic-class\r\n\r\nI want to understand the cause of this and effects of this from the first principles.\r\n\r\n","title":"Are there any real consequences of &quot;No serializer found&quot; in java?","body":"<p><a href=\"https://stackoverflow.com/questions/8367312/serializing-with-jackson-json-getting-no-serializer-found\">Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?</a>\nI was looking through these posts. And looks like this is a kind of warning and not a serious issue (People are talking about suppressing it, so that must not be very useful for tracing and debugging the program). I'm not a programmer FYI. But a system administrator who knows little bit of code.</p>\n<p><code>org.codehaus.jackson.map.JsonMappingException: No serializer found for class MyPackage.TestA and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) ) </code>\nThis is exactly the error that I am getting. I work at a transaction doing app startup.</p>\n<p>Firstly, make me understand what is this error trying to say? People say &quot;lazy loading&quot;...and stuffs. But as a sysadmin, make me understand this.</p>\n<p>I've noticed this error is coming in both succeess and failed transactions. But successful transactions later succeed anyway. The only difference there seems is there is something called <code>senderId</code> being generated for success transactions and that value is being sent as <code>NULL</code> for failure transactions.</p>\n<p>Help me with this issue.</p>\n<p>I've tried reading all the posts and internet. I don't really want to understand the fix of this. It's written everywhere in internet. For instance</p>\n<p><a href=\"https://stackoverflow.com/questions/70907689/invaliddefinitionexception-no-serializer-found-in-java-for-generic-class\">InvalidDefinitionException No serializer found in java for generic class</a></p>\n<p>I want to understand the cause of this and effects of this from the first principles.</p>\n"},{"tags":["java","swt","jface"],"answers":[{"comments":[{"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"score":0,"creation_date":1347553801,"post_id":12410692,"comment_id":16680003,"body_markdown":"Sadly not. Adding a verify listener with v.getCombo().addVerifyListener results in the listener being triggered (twice!) for selections from the drop-down as well as once for typing. Arguably this is a bug for JFace to fix...","body":"Sadly not. Adding a verify listener with v.getCombo().addVerifyListener results in the listener being triggered (twice!) for selections from the drop-down as well as once for typing. Arguably this is a bug for JFace to fix..."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1347553862,"post_id":12410692,"comment_id":16680031,"body_markdown":"@DavidNorth Check my answer again. I added a code snippet. You will have to check the length of the `text` of the event. User typing should equal a length of 1. As I said, it&#39;s not optimal, but a starting point.","body":"@DavidNorth Check my answer again. I added a code snippet. You will have to check the length of the <code>text</code> of the event. User typing should equal a length of 1. As I said, it&#39;s not optimal, but a starting point."},{"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"score":0,"creation_date":1347554260,"post_id":12410692,"comment_id":16680166,"body_markdown":"@DavidNorth Edited answer again. You can use the `SWT.KeyUp` event to watch keyboard input.","body":"@DavidNorth Edited answer again. You can use the <code>SWT.KeyUp</code> event to watch keyboard input."},{"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"score":0,"creation_date":1347615321,"post_id":12410692,"comment_id":16697642,"body_markdown":"That&#39;s very close, but doesn&#39;t detect the user using cut/paste/delete on the right-click menu to edit the text. However, it is as close as it&#39;s possible to get without fixing SWT, so I&#39;m marking your answer as correct and have raised https://bugs.eclipse.org/bugs/show_bug.cgi?id=389587 for a proper fix in SWT.","body":"That&#39;s very close, but doesn&#39;t detect the user using cut/paste/delete on the right-click menu to edit the text. However, it is as close as it&#39;s possible to get without fixing SWT, so I&#39;m marking your answer as correct and have raised <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=389587\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=389587</a> for a proper fix in SWT."}],"tags":[],"owner":{"account_id":1558798,"reputation":36540,"user_id":1449199,"accept_rate":95,"display_name":"Baz"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1347554582,"creation_date":1347553439,"answer_id":12410692,"question_id":12410636,"body_markdown":"Since you want to listen to keyboard input, I would suggest listening to `SWT.KeyUp`.\r\n\r\nThis should be a good starting point:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal Display display = new Display();\r\n\t\tfinal Shell shell = new Shell(display);\r\n\t\tshell.setLayout(new FillLayout());\r\n\r\n\t\tfinal Combo combo = new Combo(shell, SWT.NONE);\r\n\t\t\r\n\t\tcombo.add(&quot;First&quot;);\r\n\t\tcombo.add(&quot;Second&quot;);\r\n\t\t\r\n\t\tcombo.addListener(SWT.Selection, new Listener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void handleEvent(Event arg0) {\r\n\t\t\t\tSystem.out.println(&quot;Selected: &quot; + combo.getItem(combo.getSelectionIndex()));\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tcombo.addListener(SWT.KeyUp, new Listener() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void handleEvent(Event arg0) {\r\n\t\t\t\tSystem.out.println(&quot;Typed&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tshell.pack();\r\n\t\tshell.open();\r\n\t\twhile (!shell.isDisposed()) {\r\n\t\t\tif (!display.readAndDispatch()) {\r\n\t\t\t\tdisplay.sleep();\r\n\t\t\t}\r\n\t\t}\r\n\t\tdisplay.dispose();\r\n\t}","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>Since you want to listen to keyboard input, I would suggest listening to <code>SWT.KeyUp</code>.</p>\n\n<p>This should be a good starting point:</p>\n\n<pre><code>public static void main(String[] args) {\n    final Display display = new Display();\n    final Shell shell = new Shell(display);\n    shell.setLayout(new FillLayout());\n\n    final Combo combo = new Combo(shell, SWT.NONE);\n\n    combo.add(\"First\");\n    combo.add(\"Second\");\n\n    combo.addListener(SWT.Selection, new Listener() {\n\n        @Override\n        public void handleEvent(Event arg0) {\n            System.out.println(\"Selected: \" + combo.getItem(combo.getSelectionIndex()));\n        }\n    });\n\n    combo.addListener(SWT.KeyUp, new Listener() {\n\n        @Override\n        public void handleEvent(Event arg0) {\n            System.out.println(\"Typed\");\n        }\n    });\n\n    shell.pack();\n    shell.open();\n    while (!shell.isDisposed()) {\n        if (!display.readAndDispatch()) {\n            display.sleep();\n        }\n    }\n    display.dispose();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"score":0,"creation_date":1347891740,"post_id":12428750,"comment_id":16759657,"body_markdown":"Thanks, that looks potentially workable. If Eclipse don&#39;t respond to my bug I&#39;ll try your approach.","body":"Thanks, that looks potentially workable. If Eclipse don&#39;t respond to my bug I&#39;ll try your approach."},{"owner":{"account_id":3769305,"reputation":6314,"user_id":3131939,"accept_rate":71,"display_name":"david.perez"},"score":0,"creation_date":1696860990,"post_id":12428750,"comment_id":136203588,"body_markdown":"When I press the up/down arrow keys when the focus is in the text field, a verify event is recieved with a keyCode of 0","body":"When I press the up/down arrow keys when the focus is in the text field, a verify event is recieved with a keyCode of 0"}],"tags":[],"owner":{"account_id":1460245,"reputation":3085,"user_id":1374773,"display_name":"sambi reddy"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1347641199,"creation_date":1347641199,"answer_id":12428750,"question_id":12410636,"body_markdown":"    private static ComboViewer createViewer(final Shell shell) {\r\n        final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n        v.setLabelProvider(new LabelProvider());\r\n        v.setContentProvider(new ArrayContentProvider());\r\n        v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n        return v;\r\n      }\r\n      \r\n      private static boolean userTyped;\r\n      private static int index = -1;\r\n      \r\n      public static void main(final String[] args) {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setSize(200, 60); \r\n        shell.setLayout(new GridLayout());\r\n        \r\n        final ComboViewer v = createViewer(shell);\r\n        /*\r\n         * invoked multiple times when combo selection happens\r\n         * invoked once when user types\r\n         */\r\n        v.getCombo().addVerifyListener(new VerifyListener() {\r\n          \r\n         \r\n    \r\n          @Override\r\n          public void verifyText(VerifyEvent e) {\r\n             userTyped = (e.keyCode != 0);\r\n          }\r\n        });\r\n        \r\n        \r\n        \r\n     v.getCombo().addModifyListener(new ModifyListener() {\r\n      \r\n      @Override\r\n      public void modifyText(ModifyEvent e) {\r\n      \r\n        Combo c = (Combo)e.widget;\r\n        \r\n        if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\r\n        {\r\n          userTypedOrEditedSomething();\r\n        }\r\n        index = c.getSelectionIndex();\r\n      }\r\n    });\r\n       \r\n        // This wires up the userSelectedSomething method correctly\r\n        v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n          @Override\r\n          public void selectionChanged(final SelectionChangedEvent event) {\r\n            userSelectedSomething();\r\n          }\r\n        });\r\n      \r\n        shell.open();\r\n        while (!shell.isDisposed()) {\r\n          if (!display.readAndDispatch()) {\r\n            display.sleep();\r\n          }\r\n        }\r\n        display.dispose();\r\n      }\r\n      \r\n      public static void userSelectedSomething() {\r\n        // This should be called *only if* the user selected from the drop-down\r\n        System.out.println(&quot;User selected&quot;);\r\n      }\r\n      \r\n      public static void userTypedOrEditedSomething() {\r\n        // This should be called *only if* the user typed in the combo\r\n        System.out.println(&quot;User typed or edited&quot;);\r\n      }\r\n\r\nI would suggest you to use Verify event instead Key UP as you might endup handling lot of things (arrow keys, magic keys...etc). Verify is also Key Event but it filter out **ALT,CNTRL,SHIFT** combination. When user types just check for keycode!=0.\r\n\r\nAs you pointed out, when you use CNTRL+V ,Right click Menu paste....combo doesn&#39;t consider it as key event but it fires verify event to make sure the clipboard text is valid for combo or not. I think this is how it should work as Menu item selection and Key event on combo are different things.\r\nyou can always monitor all key events for special actions like copy/paste/delete.\r\n\r\nthe above sample code should be able to perform what you are looking for.\r\n\r\n","title":"SWT: Differentiating between selection and typing in a combo","body":"<pre><code>private static ComboViewer createViewer(final Shell shell) {\n    final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n    v.setLabelProvider(new LabelProvider());\n    v.setContentProvider(new ArrayContentProvider());\n    v.setInput(new String[]{\"value 1\", \"value 2\"});\n    return v;\n  }\n\n  private static boolean userTyped;\n  private static int index = -1;\n\n  public static void main(final String[] args) {\n    Display display = new Display();\n    Shell shell = new Shell(display);\n    shell.setSize(200, 60); \n    shell.setLayout(new GridLayout());\n\n    final ComboViewer v = createViewer(shell);\n    /*\n     * invoked multiple times when combo selection happens\n     * invoked once when user types\n     */\n    v.getCombo().addVerifyListener(new VerifyListener() {\n\n\n\n      @Override\n      public void verifyText(VerifyEvent e) {\n         userTyped = (e.keyCode != 0);\n      }\n    });\n\n\n\n v.getCombo().addModifyListener(new ModifyListener() {\n\n  @Override\n  public void modifyText(ModifyEvent e) {\n\n    Combo c = (Combo)e.widget;\n\n    if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\n    {\n      userTypedOrEditedSomething();\n    }\n    index = c.getSelectionIndex();\n  }\n});\n\n    // This wires up the userSelectedSomething method correctly\n    v.addSelectionChangedListener(new ISelectionChangedListener() {\n      @Override\n      public void selectionChanged(final SelectionChangedEvent event) {\n        userSelectedSomething();\n      }\n    });\n\n    shell.open();\n    while (!shell.isDisposed()) {\n      if (!display.readAndDispatch()) {\n        display.sleep();\n      }\n    }\n    display.dispose();\n  }\n\n  public static void userSelectedSomething() {\n    // This should be called *only if* the user selected from the drop-down\n    System.out.println(\"User selected\");\n  }\n\n  public static void userTypedOrEditedSomething() {\n    // This should be called *only if* the user typed in the combo\n    System.out.println(\"User typed or edited\");\n  }\n</code></pre>\n\n<p>I would suggest you to use Verify event instead Key UP as you might endup handling lot of things (arrow keys, magic keys...etc). Verify is also Key Event but it filter out <strong>ALT,CNTRL,SHIFT</strong> combination. When user types just check for keycode!=0.</p>\n\n<p>As you pointed out, when you use CNTRL+V ,Right click Menu paste....combo doesn't consider it as key event but it fires verify event to make sure the clipboard text is valid for combo or not. I think this is how it should work as Menu item selection and Key event on combo are different things.\nyou can always monitor all key events for special actions like copy/paste/delete.</p>\n\n<p>the above sample code should be able to perform what you are looking for.</p>\n"},{"tags":[],"owner":{"account_id":3769305,"reputation":6314,"user_id":3131939,"accept_rate":71,"display_name":"david.perez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861846,"creation_date":1696861846,"answer_id":77259685,"question_id":12410636,"body_markdown":"A small impovement to @sambi.reddy answer, taking into account not to consider user has typed something when the arrow keys, pg down or pg up are used to select next/previous item:\r\n\r\n    private static ComboViewer createViewer(final Shell shell) {\r\n        final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n        v.setLabelProvider(new LabelProvider());\r\n        v.setContentProvider(new ArrayContentProvider());\r\n        v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n        return v;\r\n      }\r\n    \r\n      private static boolean userTyped;\r\n      private static int index = -1;\r\n    \r\n      public static void main(final String[] args) {\r\n        Display display = new Display();\r\n        Shell shell = new Shell(display);\r\n        shell.setSize(200, 60); \r\n        shell.setLayout(new GridLayout());\r\n    \r\n        final ComboViewer v = createViewer(shell);\r\n        /*\r\n         * invoked multiple times when combo selection happens\r\n         * invoked once when user types\r\n         */\r\n        v.getCombo().addVerifyListener(new VerifyListener() {\r\n          @Override\r\n          public void verifyText(VerifyEvent e) {\r\n             userTyped = if (ev.keyCode != 0 &amp;&amp; !List.of(SWT.ARROW_UP, SWT.ARROW_DOWN, SWT.PAGE_DOWN, SWT.PAGE_UP).contains(ev.keyCode));\r\n          }\r\n        });\r\n    }\r\n\r\n v.getCombo().addModifyListener(new ModifyListener() {\r\n\r\n  @Override\r\n  public void modifyText(ModifyEvent e) {\r\n\r\n    Combo c = (Combo)e.widget;\r\n\r\n    if(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\r\n    {\r\n      userTypedOrEditedSomething();\r\n    }\r\n    index = c.getSelectionIndex();\r\n  }\r\n});\r\n\r\n    // This wires up the userSelectedSomething method correctly\r\n    v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n      @Override\r\n      public void selectionChanged(final SelectionChangedEvent event) {\r\n        userSelectedSomething();\r\n      }\r\n    });\r\n\r\n    shell.open();\r\n    while (!shell.isDisposed()) {\r\n      if (!display.readAndDispatch()) {\r\n        display.sleep();\r\n      }\r\n    }\r\n    display.dispose();\r\n  }\r\n\r\n  public static void userSelectedSomething() {\r\n    // This should be called *only if* the user selected from the drop-down\r\n    System.out.println(&quot;User selected&quot;);\r\n  }\r\n\r\n  public static void userTypedOrEditedSomething() {\r\n    // This should be called *only if* the user typed in the combo\r\n    System.out.println(&quot;User typed or edited&quot;);\r\n  }\r\n","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>A small impovement to @sambi.reddy answer, taking into account not to consider user has typed something when the arrow keys, pg down or pg up are used to select next/previous item:</p>\n<pre><code>private static ComboViewer createViewer(final Shell shell) {\n    final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n    v.setLabelProvider(new LabelProvider());\n    v.setContentProvider(new ArrayContentProvider());\n    v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\n    return v;\n  }\n\n  private static boolean userTyped;\n  private static int index = -1;\n\n  public static void main(final String[] args) {\n    Display display = new Display();\n    Shell shell = new Shell(display);\n    shell.setSize(200, 60); \n    shell.setLayout(new GridLayout());\n\n    final ComboViewer v = createViewer(shell);\n    /*\n     * invoked multiple times when combo selection happens\n     * invoked once when user types\n     */\n    v.getCombo().addVerifyListener(new VerifyListener() {\n      @Override\n      public void verifyText(VerifyEvent e) {\n         userTyped = if (ev.keyCode != 0 &amp;&amp; !List.of(SWT.ARROW_UP, SWT.ARROW_DOWN, SWT.PAGE_DOWN, SWT.PAGE_UP).contains(ev.keyCode));\n      }\n    });\n}\n</code></pre>\n<p>v.getCombo().addModifyListener(new ModifyListener() {</p>\n<p>@Override\npublic void modifyText(ModifyEvent e) {</p>\n<pre><code>Combo c = (Combo)e.widget;\n\nif(userTyped || index == c.getSelectionIndex() || c.getSelectionIndex() == -1)\n{\n  userTypedOrEditedSomething();\n}\nindex = c.getSelectionIndex();\n</code></pre>\n<p>}\n});</p>\n<pre><code>// This wires up the userSelectedSomething method correctly\nv.addSelectionChangedListener(new ISelectionChangedListener() {\n  @Override\n  public void selectionChanged(final SelectionChangedEvent event) {\n    userSelectedSomething();\n  }\n});\n\nshell.open();\nwhile (!shell.isDisposed()) {\n  if (!display.readAndDispatch()) {\n    display.sleep();\n  }\n}\ndisplay.dispose();\n</code></pre>\n<p>}</p>\n<p>public static void userSelectedSomething() {\n// This should be called <em>only if</em> the user selected from the drop-down\nSystem.out.println(&quot;User selected&quot;);\n}</p>\n<p>public static void userTypedOrEditedSomething() {\n// This should be called <em>only if</em> the user typed in the combo\nSystem.out.println(&quot;User typed or edited&quot;);\n}</p>\n"}],"owner":{"account_id":47195,"reputation":1147,"user_id":139659,"accept_rate":87,"display_name":"David North"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":12410692,"answer_count":3,"score":3,"last_activity_date":1696861846,"creation_date":1347553243,"question_id":12410636,"body_markdown":"Consider the following Java (SWT) code:\r\n\r\n    private static ComboViewer createViewer(final Shell shell) {\r\n      final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\r\n      v.setLabelProvider(new LabelProvider());\r\n      v.setContentProvider(new ArrayContentProvider());\r\n      v.setInput(new String[]{&quot;value 1&quot;, &quot;value 2&quot;});\r\n      return v;\r\n    }\r\n  \r\n    public static void main(final String[] args) {\r\n      Display display = new Display();\r\n      Shell shell = new Shell(display);\r\n      shell.setSize(200, 60); \r\n      shell.setLayout(new GridLayout());\r\n  \r\n      final ComboViewer v = createViewer(shell);\r\n  \r\n      // This wires up the userSelectedSomething method correctly\r\n      v.addSelectionChangedListener(new ISelectionChangedListener() {\r\n        @Override\r\n        public void selectionChanged(final SelectionChangedEvent event) {\r\n          userSelectedSomething();\r\n        }\r\n      });\r\n  \r\n      shell.open();\r\n      while (!shell.isDisposed()) {\r\n        if (!display.readAndDispatch()) {\r\n          display.sleep();\r\n        }\r\n      }\r\n      display.dispose();\r\n    }\r\n  \r\n    public static void userSelectedSomething() {\r\n      // This should be called *only if* the user selected from the drop-down\r\n    }\r\n  \r\n    public static void userTypedSomething() {\r\n      // This should be called *only if* the user typed in the combo\r\n    }\r\n\r\nI want to call the `userTypedSomething` method only if the user typed into the combo (and not when they selected from the drop-down). What listener should I add to achieve this? Adding a modify listener to the combo viewer with `v.getCombo().addModifyListener(...)` is no good as this is triggered for both typing and selection from the combo.","title":"SWT: Differentiating between selection and typing in a combo","body":"<p>Consider the following Java (SWT) code:</p>\n\n<pre><code>private static ComboViewer createViewer(final Shell shell) {\n  final ComboViewer v = new ComboViewer(shell, SWT.DROP_DOWN);\n  v.setLabelProvider(new LabelProvider());\n  v.setContentProvider(new ArrayContentProvider());\n  v.setInput(new String[]{\"value 1\", \"value 2\"});\n  return v;\n}\n\npublic static void main(final String[] args) {\n  Display display = new Display();\n  Shell shell = new Shell(display);\n  shell.setSize(200, 60); \n  shell.setLayout(new GridLayout());\n\n  final ComboViewer v = createViewer(shell);\n\n  // This wires up the userSelectedSomething method correctly\n  v.addSelectionChangedListener(new ISelectionChangedListener() {\n    @Override\n    public void selectionChanged(final SelectionChangedEvent event) {\n      userSelectedSomething();\n    }\n  });\n\n  shell.open();\n  while (!shell.isDisposed()) {\n    if (!display.readAndDispatch()) {\n      display.sleep();\n    }\n  }\n  display.dispose();\n}\n\npublic static void userSelectedSomething() {\n  // This should be called *only if* the user selected from the drop-down\n}\n\npublic static void userTypedSomething() {\n  // This should be called *only if* the user typed in the combo\n}\n</code></pre>\n\n<p>I want to call the <code>userTypedSomething</code> method only if the user typed into the combo (and not when they selected from the drop-down). What listener should I add to achieve this? Adding a modify listener to the combo viewer with <code>v.getCombo().addModifyListener(...)</code> is no good as this is triggered for both typing and selection from the combo.</p>\n"},{"tags":["java","spring-boot","build.gradle","bouncycastle"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696861989,"post_id":77259667,"comment_id":136203801,"body_markdown":"`X509v3CertificateBuilder` isn&#39;t in the main jar, it&#39;s in `pkix`.","body":"<code>X509v3CertificateBuilder</code> isn&#39;t in the main jar, it&#39;s in <code>pkix</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696862298,"post_id":77259667,"comment_id":136203878,"body_markdown":"You need this one: https://central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18on","body":"You need this one: <a href=\"https://central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18on\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/org.bouncycastle/bcpkix-jdk18o&zwnj;&#8203;n</a>"}],"owner":{"account_id":448169,"reputation":5643,"user_id":842225,"accept_rate":49,"display_name":"user842225"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696861726,"creation_date":1696861726,"question_id":77259667,"body_markdown":"In my spring Boot project, I would like to use this [X509v3CertificateBuilder][1] class for creating self-signed certificate.\r\n\r\nI have added the dependency in project&#39;s `build.gradle.kts` based on the [maven repo][2]:\r\n```\r\ndependencies {\r\n  ...\r\n  implementation(&quot;org.bouncycastle:bcprov-jdk15on:1.70&quot;)\r\n}\r\n```\r\n\r\nWhen I write code in my project on IntelliJ IDE:\r\n```\r\n// X509v3CertificateBuilder can not be resolved\r\nX509v3CertificateBuilder certBuilder = new X509v3CertificateBuilder(...)\r\n```\r\nThe `X509v3CertificateBuilder` can not be resolved, auto-import can&#39;t find it.\r\n \r\nI also tried explicitly import it:\r\n```\r\n// the &#39;cert&#39; package can not be resolved\r\nimport org.bouncycastle.cert.X509v3CertificateBuilder\r\n```\r\nThe `cert` package can not be resolved.\r\n\r\nWhere am I missing to use the library?  \r\n\r\n(If there are other ways to create self-signed X.509 certificate please also let me know. Thanks.)\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/X509v3CertificateBuilder.html\r\n  [2]: https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70","title":"Using bouncycastle library in my spring boot project but officially documented API can not be resolved when import","body":"<p>In my spring Boot project, I would like to use this <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.5on/org/bouncycastle/cert/X509v3CertificateBuilder.html\" rel=\"nofollow noreferrer\">X509v3CertificateBuilder</a> class for creating self-signed certificate.</p>\n<p>I have added the dependency in project's <code>build.gradle.kts</code> based on the <a href=\"https://mvnrepository.com/artifact/org.bouncycastle/bcprov-jdk15on/1.70\" rel=\"nofollow noreferrer\">maven repo</a>:</p>\n<pre><code>dependencies {\n  ...\n  implementation(&quot;org.bouncycastle:bcprov-jdk15on:1.70&quot;)\n}\n</code></pre>\n<p>When I write code in my project on IntelliJ IDE:</p>\n<pre><code>// X509v3CertificateBuilder can not be resolved\nX509v3CertificateBuilder certBuilder = new X509v3CertificateBuilder(...)\n</code></pre>\n<p>The <code>X509v3CertificateBuilder</code> can not be resolved, auto-import can't find it.</p>\n<p>I also tried explicitly import it:</p>\n<pre><code>// the 'cert' package can not be resolved\nimport org.bouncycastle.cert.X509v3CertificateBuilder\n</code></pre>\n<p>The <code>cert</code> package can not be resolved.</p>\n<p>Where am I missing to use the library?</p>\n<p>(If there are other ways to create self-signed X.509 certificate please also let me know. Thanks.)</p>\n"},{"tags":["java","comparator","comparable"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1696800560,"post_id":77255390,"comment_id":136196156,"body_markdown":"Please [edit] your question to include the full complete assignment.","body":"Please <a href=\"https://stackoverflow.com/posts/77255390/edit\">edit</a> your question to include the full complete assignment."},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1696800615,"post_id":77255390,"comment_id":136196159,"body_markdown":"Um, well.... Plagiarism checker checks SO aggressively... @Progman","body":"Um, well.... Plagiarism checker checks SO aggressively... @Progman"},{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1696800637,"post_id":77255390,"comment_id":136196160,"body_markdown":"I don&#39;t need code, even a hint might work.","body":"I don&#39;t need code, even a hint might work."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1696800692,"post_id":77255390,"comment_id":136196165,"body_markdown":"There might be information in the original assignment which might make it more clear what you are trying to do or what you are supposed to do. That&#39;s why the original assignment should be in the question.","body":"There might be information in the original assignment which might make it more clear what you are trying to do or what you are supposed to do. That&#39;s why the original assignment should be in the question."}],"answers":[{"comments":[{"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"score":0,"creation_date":1696800955,"post_id":77255408,"comment_id":136196190,"body_markdown":"This will also work for raw instantiations, right?","body":"This will also work for raw instantiations, right?"},{"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"score":0,"creation_date":1696801106,"post_id":77255408,"comment_id":136196208,"body_markdown":"@kesarlingHe-Him - Right","body":"@kesarlingHe-Him - Right"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696806796,"post_id":77255408,"comment_id":136196563,"body_markdown":"@kesarlingHe-Him Raw types erase all generics in scope. So even if you had `implements Comparable&lt;MyClass&lt;T&gt;&gt;` it would &quot;work&quot; for the raw type `MyClass`. But that doesn&#39;t really matter, because you should never use raw types unless you literally cannot avoid it (e.g., interacting with very old legacy code).","body":"@kesarlingHe-Him Raw types erase all generics in scope. So even if you had <code>implements Comparable&lt;MyClass&lt;T&gt;&gt;</code> it would &quot;work&quot; for the raw type <code>MyClass</code>. But that doesn&#39;t really matter, because you should never use raw types unless you literally cannot avoid it (e.g., interacting with very old legacy code)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696807052,"post_id":77255408,"comment_id":136196580,"body_markdown":"Note it doesn&#39;t make much sense to bound `T` with `extends Comparable&lt;T&gt;`, unless it being comparable is important for some other reason. Because right now, the `T` is not used by the `compareTo` implementation, nor would it be possible for it to be, because `T` could not be compared with `?`.","body":"Note it doesn&#39;t make much sense to bound <code>T</code> with <code>extends Comparable&lt;T&gt;</code>, unless it being comparable is important for some other reason. Because right now, the <code>T</code> is not used by the <code>compareTo</code> implementation, nor would it be possible for it to be, because <code>T</code> could not be compared with <code>?</code>."}],"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696800795,"creation_date":1696800679,"answer_id":77255408,"question_id":77255390,"body_markdown":"You can use `?` knowns as *wildcard* instead of specifying the type explicitly:\r\n\r\n    class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\r\n        private int counter; // or any other variable\r\n        \r\n        @Override\r\n        public int compareTo(MyClass&lt;?&gt; o) {\r\n            return counter - o.counter;\r\n        }\r\n    }\r\n\r\nAnd then use it like:\r\n\r\n    MyClass&lt;String&gt; string = new MyClass&lt;&gt;();\r\n    MyClass&lt;Integer&gt; integer = new MyClass&lt;&gt;();\r\n\r\n    int result = string.compareTo(integer);","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>You can use <code>?</code> knowns as <em>wildcard</em> instead of specifying the type explicitly:</p>\n<pre><code>class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\n    private int counter; // or any other variable\n    \n    @Override\n    public int compareTo(MyClass&lt;?&gt; o) {\n        return counter - o.counter;\n    }\n}\n</code></pre>\n<p>And then use it like:</p>\n<pre><code>MyClass&lt;String&gt; string = new MyClass&lt;&gt;();\nMyClass&lt;Integer&gt; integer = new MyClass&lt;&gt;();\n\nint result = string.compareTo(integer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696861632,"creation_date":1696821742,"answer_id":77256112,"question_id":77255390,"body_markdown":"Based on [Babanin&#39;s](https://stackoverflow.com/a/77255408/1552534) answer I have a few suggestions.\r\n- get rid of the `T extends Comparable&lt;T&gt;` as it doesn&#39;t come into play.\r\n- although it may not matter in this case, don&#39;t get into the habit of subtracting ints for comparisons.  Using `Integer.compare(int a, int b)` will ensure that you won&#39;t get wrong results when you encounter int overflow.\r\n```\r\nclass MyClass&lt;T&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\r\n    T value;\r\n    int counter;\r\n    public MyClass(T val, int v) {\r\n        this.counter = v;\r\n        this.value = val;\r\n    }\r\n    \r\n    @Override\r\n    public int compareTo(MyClass&lt;?&gt; ob) {\r\n        return Integer.compare(this.counter, ob.counter);\r\n    }\r\n}\r\n```\r\nAnd an alternative is to declare an `abstract class` which has the supporting counter methods and values.  Then it just a matter of extending it. Of course, depending on your use case, this alternative may not be useful (and it does use up your single allowable class extension).\r\n```\r\nabstract class MyCounter implements Comparable&lt;MyCounter&gt; {\r\n    protected int counter;\r\n    public int getCounter() {\r\n        return counter;\r\n    }\r\n    public int compareTo(MyCounter obj) {\r\n        return Integer.compare(this.counter, obj.counter);\r\n    }\r\n    // other methods that may be useful to a counter.\r\n}     \r\n\r\nclass MyClass&lt;T&gt; extends MyCounter {\r\n    T value;\r\n    public MyClass(T val, int v) {\r\n        this.counter = v;\r\n        this.value = val;\r\n    }\r\n    // other required code here.\r\n} \r\n```\r\nAnd consider that `MyClass&lt;T&gt;` can&#39;t support operations that would be unique to type `T`.  For example, you can&#39;t have both a `divide` method and a `reverseString` method even though `T` could be `Double` or `String`.&lt;sup&gt;1&lt;/sup&gt; But you can have a `List&lt;T&gt; getList()` method and a `void addToList(T val)` method since lists may hold different types.\r\n___\r\n&lt;sup&gt;1&lt;/sup&gt; For limited types you can do this but you have to check the types, make certain the operation fits that type, and then cast to that type. But this would be a poorly designed class and simply does not scale.","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>Based on <a href=\"https://stackoverflow.com/a/77255408/1552534\">Babanin's</a> answer I have a few suggestions.</p>\n<ul>\n<li>get rid of the <code>T extends Comparable&lt;T&gt;</code> as it doesn't come into play.</li>\n<li>although it may not matter in this case, don't get into the habit of subtracting ints for comparisons.  Using <code>Integer.compare(int a, int b)</code> will ensure that you won't get wrong results when you encounter int overflow.</li>\n</ul>\n<pre><code>class MyClass&lt;T&gt; implements Comparable&lt;MyClass&lt;?&gt;&gt; {\n    T value;\n    int counter;\n    public MyClass(T val, int v) {\n        this.counter = v;\n        this.value = val;\n    }\n    \n    @Override\n    public int compareTo(MyClass&lt;?&gt; ob) {\n        return Integer.compare(this.counter, ob.counter);\n    }\n}\n</code></pre>\n<p>And an alternative is to declare an <code>abstract class</code> which has the supporting counter methods and values.  Then it just a matter of extending it. Of course, depending on your use case, this alternative may not be useful (and it does use up your single allowable class extension).</p>\n<pre><code>abstract class MyCounter implements Comparable&lt;MyCounter&gt; {\n    protected int counter;\n    public int getCounter() {\n        return counter;\n    }\n    public int compareTo(MyCounter obj) {\n        return Integer.compare(this.counter, obj.counter);\n    }\n    // other methods that may be useful to a counter.\n}     \n\nclass MyClass&lt;T&gt; extends MyCounter {\n    T value;\n    public MyClass(T val, int v) {\n        this.counter = v;\n        this.value = val;\n    }\n    // other required code here.\n} \n</code></pre>\n<p>And consider that <code>MyClass&lt;T&gt;</code> can't support operations that would be unique to type <code>T</code>.  For example, you can't have both a <code>divide</code> method and a <code>reverseString</code> method even though <code>T</code> could be <code>Double</code> or <code>String</code>.<sup>1</sup> But you can have a <code>List&lt;T&gt; getList()</code> method and a <code>void addToList(T val)</code> method since lists may hold different types.</p>\n<hr />\n<p><sup>1</sup> For limited types you can do this but you have to check the types, make certain the operation fits that type, and then cast to that type. But this would be a poorly designed class and simply does not scale.</p>\n"}],"owner":{"account_id":11660265,"reputation":1970,"user_id":11930602,"display_name":"kesarling He-Him"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77255408,"answer_count":2,"score":-2,"last_activity_date":1696861632,"creation_date":1696800257,"question_id":77255390,"body_markdown":"MRE because well, assignment... sigh\r\n\r\nThis is the problem I&#39;m stuck on:  \r\nConsider the following class:  \r\n```lang-java\r\nclass MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;T&gt;&gt; {\r\n\r\n... override the compareTo\r\n}\r\n```\r\nThis allows me to compare `MyClass&lt;Integer&gt;` with another `MyClass&lt;Integer&gt;` or even `MyClass&lt;MyClass&lt;Integer&gt;&gt;` with another `MyClass&lt;MyClass&lt;Integer&gt;&gt;`.\r\nHowever, the assignment requires me to be able to compare `MyClass&lt;MyClass&lt;Integer&gt;&gt;` with `MyClass&lt;MyClass&lt;String&gt;&gt;` as the comparison just uses a counter and returns whichever class has the bigger counter as the greater of the two.  \r\nHow would I go about achieving this? My guess is that the Comparator comes into play as is apparent [here][1]. However, I&#39;m not able to quite put my finger on it. Is it as simple as just using the compare(Object,Object) from the Comparator or is it [something else][2]?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1440134/when-should-a-class-be-comparable-and-or-comparator\r\n  [2]: https://stackoverflow.com/questions/34951388/compare-two-generic-types-in-java","title":"How to compare two different generic instantiations of a class in Java?","body":"<p>MRE because well, assignment... sigh</p>\n<p>This is the problem I'm stuck on:<br />\nConsider the following class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass&lt;T extends Comparable&lt;T&gt;&gt; implements Comparable&lt;MyClass&lt;T&gt;&gt; {\n\n... override the compareTo\n}\n</code></pre>\n<p>This allows me to compare <code>MyClass&lt;Integer&gt;</code> with another <code>MyClass&lt;Integer&gt;</code> or even <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code> with another <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code>.\nHowever, the assignment requires me to be able to compare <code>MyClass&lt;MyClass&lt;Integer&gt;&gt;</code> with <code>MyClass&lt;MyClass&lt;String&gt;&gt;</code> as the comparison just uses a counter and returns whichever class has the bigger counter as the greater of the two.<br />\nHow would I go about achieving this? My guess is that the Comparator comes into play as is apparent <a href=\"https://stackoverflow.com/questions/1440134/when-should-a-class-be-comparable-and-or-comparator\">here</a>. However, I'm not able to quite put my finger on it. Is it as simple as just using the compare(Object,Object) from the Comparator or is it <a href=\"https://stackoverflow.com/questions/34951388/compare-two-generic-types-in-java\">something else</a>?</p>\n"},{"tags":["java","mysql","jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1453547137,"creation_date":1453547137,"answer_id":34962649,"question_id":34954890,"body_markdown":"First, you need to subtract `createdOn` from the current date, not vice versa (otherwise, result is always negative and condition always evaluates to `true`).\r\n\r\nSecondly, if date operations don&#39;t work as expected, you can always calculate the date limit before query execution and pass it as parameter:\r\n\r\n    Date date = // current date minus three days\r\n    \r\n    TypedQuery&lt;Person&gt; q = entityManager.createQuery(&quot;SELECT p FROM Person p WHERE p.createdOn &gt;= :date&quot;, Person.class);\r\n    q.setParameter(&quot;date&quot;, date);","title":"JPQL - Calculate difference between Timestamps","body":"<p>First, you need to subtract <code>createdOn</code> from the current date, not vice versa (otherwise, result is always negative and condition always evaluates to <code>true</code>).</p>\n\n<p>Secondly, if date operations don't work as expected, you can always calculate the date limit before query execution and pass it as parameter:</p>\n\n<pre><code>Date date = // current date minus three days\n\nTypedQuery&lt;Person&gt; q = entityManager.createQuery(\"SELECT p FROM Person p WHERE p.createdOn &gt;= :date\", Person.class);\nq.setParameter(\"date\", date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1014824,"reputation":667,"user_id":1026624,"display_name":"marcioggs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861547,"creation_date":1696861547,"answer_id":77259639,"question_id":34954890,"body_markdown":"JPQL:\r\n\r\n```jpql\r\nSELECT p\r\nFROM Person p\r\nWHERE day(CURRENT_TIMESTAMP - p.createdOn) &lt;= :constant))\r\n```","title":"JPQL - Calculate difference between Timestamps","body":"<p>JPQL:</p>\n<pre><code>SELECT p\nFROM Person p\nWHERE day(CURRENT_TIMESTAMP - p.createdOn) &lt;= :constant))\n</code></pre>\n"}],"owner":{"account_id":7115774,"reputation":2538,"user_id":5442132,"accept_rate":25,"display_name":"myselfmiqdad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3354,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34962649,"answer_count":2,"score":1,"last_activity_date":1696861547,"creation_date":1453492586,"question_id":34954890,"body_markdown":"I want to calculate the difference between the `TIMESTAMP` saved in the Database with the `CURRENT_TIMSTAMP` and verify if the number of **days** between them is less than a given number.\r\n\r\n    TypedQuery&lt;Person&gt; q = entityManager.createQuery(&quot;SELECT p FROM Person p WHERE (p.createdOn - CURRENT_TIMESTAMP &lt;= :constant))&quot;, Person.class);\r\n\r\nThe `p.createdOn` is automatically set by the Database.\r\n\r\nThe `constant` would be the number of days the difference has to be less than.\r\n\r\n    q.setParameter(&quot;constant&quot;, 14);\r\n\r\nThe query is compiling but not retrieving what it needs to and I am unable to get the number of days between them working in my query. \r\n\r\nAn alternative (inefficient) approach is getting all and looping through them and calculating.\r\n\r\n","title":"JPQL - Calculate difference between Timestamps","body":"<p>I want to calculate the difference between the <code>TIMESTAMP</code> saved in the Database with the <code>CURRENT_TIMSTAMP</code> and verify if the number of <strong>days</strong> between them is less than a given number.</p>\n\n<pre><code>TypedQuery&lt;Person&gt; q = entityManager.createQuery(\"SELECT p FROM Person p WHERE (p.createdOn - CURRENT_TIMESTAMP &lt;= :constant))\", Person.class);\n</code></pre>\n\n<p>The <code>p.createdOn</code> is automatically set by the Database.</p>\n\n<p>The <code>constant</code> would be the number of days the difference has to be less than.</p>\n\n<pre><code>q.setParameter(\"constant\", 14);\n</code></pre>\n\n<p>The query is compiling but not retrieving what it needs to and I am unable to get the number of days between them working in my query. </p>\n\n<p>An alternative (inefficient) approach is getting all and looping through them and calculating.</p>\n"},{"tags":["java","android","exoplayer","background-service"],"answers":[{"tags":[],"owner":{"account_id":3215929,"reputation":485,"user_id":2714637,"display_name":"Ahmed Garhy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647816219,"creation_date":1647816219,"answer_id":71551218,"question_id":71198059,"body_markdown":"just create a channel for the notification before calling \r\n\r\n``` startForeground(notificationId, notification) ```\r\n\r\n``` \r\noverride fun onNotificationPosted(\r\n        notificationId: Int,\r\n        notification: Notification,\r\n        ongoing: Boolean\r\n    ) {\r\n        // create channel for the audio player notificaiton\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val importance = NotificationManager.IMPORTANCE_LOW\r\n            val channel = NotificationChannel(\r\n                &quot;audio_player&quot;,\r\n                &quot;channel_name&quot;,\r\n                importance\r\n            )\r\n            channel.setSound(null, null)\r\n            notificationManager.createNotificationChannel(channel)\r\n        }\r\n\r\n        startForeground(notificationId, notification)\r\n    }\r\n```","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>just create a channel for the notification before calling</p>\n<p><code>startForeground(notificationId, notification)</code></p>\n<pre><code>override fun onNotificationPosted(\n        notificationId: Int,\n        notification: Notification,\n        ongoing: Boolean\n    ) {\n        // create channel for the audio player notificaiton\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val importance = NotificationManager.IMPORTANCE_LOW\n            val channel = NotificationChannel(\n                &quot;audio_player&quot;,\n                &quot;channel_name&quot;,\n                importance\n            )\n            channel.setSound(null, null)\n            notificationManager.createNotificationChannel(channel)\n        }\n\n        startForeground(notificationId, notification)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9143565,"reputation":781,"user_id":6800637,"display_name":"AllanRibas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696861467,"creation_date":1695741576,"answer_id":77181352,"question_id":71198059,"body_markdown":"In my case I do it like this\r\n\r\nin your Manifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n\t&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot; android:maxSdkVersion=&quot;34&quot; /&gt;\r\n\t\r\n\t&lt;service android:name=&quot;.ForegroundService&quot;\r\n\t  android:foregroundServiceType=&quot;mediaPlayback&quot;\r\n\t  android:exported=&quot;false&quot;&gt;\r\n\t  &lt;intent-filter&gt;\r\n\t\t&lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n\t  &lt;/intent-filter&gt;\r\n\t  &lt;property android:name=&quot;android.app.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot;\r\n\t\tandroid:value=&quot;test&quot;/&gt;\r\n\t &lt;/service&gt;\r\n\r\n\r\n\t&lt;receiver android:name=&quot;androidx.media3.session.MediaButtonReceiver&quot;\r\n\t  android:exported=&quot;true&quot;&gt;\r\n\t  &lt;intent-filter&gt;\r\n\t\t&lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n\t  &lt;/intent-filter&gt;\r\n\t&lt;/receiver&gt;\r\n\r\n\r\nin your Service\r\n\r\n    package com.example\r\n\r\n\timport android.app.Notification\r\n\timport android.app.NotificationChannel\r\n\timport android.app.NotificationManager\r\n\timport android.content.Context\r\n\timport android.content.Intent\r\n\timport android.content.pm.ServiceInfo\r\n\timport android.os.Build\r\n\timport androidx.media3.common.util.UnstableApi\r\n\timport androidx.media3.session.MediaSession\r\n\timport androidx.media3.session.MediaSessionService\r\n\timport androidx.media3.ui.PlayerNotificationManager\r\n\r\n\tclass ForegroundService: MediaSessionService() {\r\n\r\n\tprivate var playerNotificationManager: PlayerNotificationManager? = null\r\n\r\n\tprivate var notificationManager: NotificationManager? = null\r\n\r\n\tprivate var descriptionAdapter = DescriptionAdapter()\r\n\r\n\tprivate var notificationListener = notificationListener()\r\n\r\n\t\toverride fun onGetSession(controllerInfo: MediaSession.ControllerInfo): MediaSession? {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\toverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\r\n\t  super.onStartCommand(intent, flags, startId)\r\n\t    addNotificationToPlayer()\r\n\t  return START_NOT_STICKY\r\n\t}\r\n\r\n\t\toverride fun onCreate() {\r\n\t\t\tsuper.onCreate()\r\n\t\t\t createNotificationChannel()            \r\n\t\t}\r\n\r\n        override fun onDestroy() {\r\n          super.onDestroy()      \r\n            playerNotificationManager?.setPlayer(null)\r\n            playerNotificationManager = null\r\n        }\r\n\r\n\t\t@UnstableApi\r\n\t\tprivate fun addNotificationToPlayer() {\r\n\t\t if(playerNotificationManager == null){\r\n\t\t     playerNotificationManager = PlayerNotificationManager.Builder(\r\n\t           this, 1, &quot;NOTIFICATION_CHANNEL_NAME&quot;,)\r\n\t           .setMediaDescriptionAdapter(descriptionAdapter)\r\n\t           .setNotificationListener(notificationListener)\r\n\t        .build()\r\n\t\t\t\r\n\t\t\tplayerNotificationManager?.setPlayer(mediaSession?.player)\r\n\t\t }\r\n    \t   \r\n\t\t}\r\n\t\t\r\n\t\tprivate inner class DescriptionAdapter : MediaDescriptionAdapter {\r\n\t\t\toverride fun getCurrentContentTitle(player: Player): CharSequence {\r\n\t\t\t\treturn player.mediaMetadata.title.toString()\r\n\t\t\t}\r\n\r\n\t\t\toverride fun createCurrentContentIntent(player: Player): PendingIntent? {\r\n\t\t\t\treturn null\r\n\t\t\t}\r\n\r\n\t\t\toverride fun getCurrentContentText(player: Player): CharSequence? {\r\n\t\t\t\treturn player.mediaMetadata.subtitle\r\n\t\t\t}\r\n\r\n\t\t\toverride fun getCurrentLargeIcon(\r\n\t\t\t\tplayer: Player,\r\n\t\t\t\tcallback: PlayerNotificationManager.BitmapCallback\r\n\t\t\t): Bitmap? {\r\n\t\t\t\treturn getBitmapData(player.mediaMetadata.artworkData!!)\r\n\t\t\t}\r\n          \r\n            private fun getBitmapData(byteArray: ByteArray): Bitmap? {\r\n              val options = BitmapFactory.Options()\r\n              options.inMutable = true\r\n              return try {\r\n                BitmapFactory.decodeByteArray(byteArray, 0, byteArray.size, options)\r\n              } catch (e: Exception) {\r\n                Log.d(&quot;getBitmapData&quot;, &quot;${e.message}&quot;)\r\n                BitmapFactory.decodeResource(\r\n                    this@ForegroundService.resources,\r\n                    R.drawable.app_icon\r\n                )\r\n              }\r\n            }\r\n\r\n        }\r\n\r\n\t\t@UnstableApi\r\n\t\tprivate fun notificationListener() = object : PlayerNotificationManager.NotificationListener {\r\n\t\t\toverride fun onNotificationPosted(\r\n\t\t\t\tnotificationId: Int,\r\n\t\t\t\tnotification: Notification,\r\n\t\t\t\tongoing: Boolean\r\n\t\t\t) {\r\n\t\t\t\tsuper.onNotificationPosted(notificationId, notification, ongoing)\r\n\t\t\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) {\r\n\t\t\t\t\tstartForeground(\r\n\t\t\t\t\t\tnotificationId,\r\n\t\t\t\t\t\tnotification,\r\n\t\t\t\t\t\tServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK\r\n\t\t\t\t\t)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstartForeground(\r\n\t\t\t\t\t\tnotificationId,\r\n\t\t\t\t\t\tnotification\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toverride fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\r\n\t\t\t\tsuper.onNotificationCancelled(notificationId, dismissedByUser)\r\n\t\t\t\tstopSelf()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate fun createNotificationChannel(){\r\n\t\t\tif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n\t\t\t\tval channel = NotificationChannel(\r\n\t\t\t\t\t&quot;NOTIFICATION_CHANNEL_ID&quot;,\r\n\t\t\t\t\t&quot;NOTIFICATION_CHANNEL_NAME&quot;,\r\n\t\t\t\t\tNotificationManager.IMPORTANCE_LOW\r\n\t\t\t\t)\r\n\t\t\t\tgetManager(this).createNotificationChannel(channel)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tprivate fun getManager(context: Context): NotificationManager {\r\n\t\t\tif (notificationManager == null) {\r\n\t\t\t\tnotificationManager =\r\n\t\t\t\t\tcontext.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\t\t\t}\r\n\t\t\treturn notificationManager as NotificationManager\r\n\t\t}\r\n\t\t\r\n\t}","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>In my case I do it like this</p>\n<p>in your Manifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot; android:maxSdkVersion=&quot;34&quot; /&gt;\n\n&lt;service android:name=&quot;.ForegroundService&quot;\n  android:foregroundServiceType=&quot;mediaPlayback&quot;\n  android:exported=&quot;false&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n  &lt;/intent-filter&gt;\n  &lt;property android:name=&quot;android.app.FOREGROUND_SERVICE_MEDIA_PLAYBACK&quot;\n    android:value=&quot;test&quot;/&gt;\n &lt;/service&gt;\n\n\n&lt;receiver android:name=&quot;androidx.media3.session.MediaButtonReceiver&quot;\n  android:exported=&quot;true&quot;&gt;\n  &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n  &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>in your Service</p>\n<pre><code>package com.example\n\nimport android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.content.Context\nimport android.content.Intent\nimport android.content.pm.ServiceInfo\nimport android.os.Build\nimport androidx.media3.common.util.UnstableApi\nimport androidx.media3.session.MediaSession\nimport androidx.media3.session.MediaSessionService\nimport androidx.media3.ui.PlayerNotificationManager\n\nclass ForegroundService: MediaSessionService() {\n\nprivate var playerNotificationManager: PlayerNotificationManager? = null\n\nprivate var notificationManager: NotificationManager? = null\n\nprivate var descriptionAdapter = DescriptionAdapter()\n\nprivate var notificationListener = notificationListener()\n\n    override fun onGetSession(controllerInfo: MediaSession.ControllerInfo): MediaSession? {\n        return null\n    }\n\noverride fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {\n  super.onStartCommand(intent, flags, startId)\n    addNotificationToPlayer()\n  return START_NOT_STICKY\n}\n\n    override fun onCreate() {\n        super.onCreate()\n         createNotificationChannel()            \n    }\n\n    override fun onDestroy() {\n      super.onDestroy()      \n        playerNotificationManager?.setPlayer(null)\n        playerNotificationManager = null\n    }\n\n    @UnstableApi\n    private fun addNotificationToPlayer() {\n     if(playerNotificationManager == null){\n         playerNotificationManager = PlayerNotificationManager.Builder(\n           this, 1, &quot;NOTIFICATION_CHANNEL_NAME&quot;,)\n           .setMediaDescriptionAdapter(descriptionAdapter)\n           .setNotificationListener(notificationListener)\n        .build()\n        \n        playerNotificationManager?.setPlayer(mediaSession?.player)\n     }\n       \n    }\n    \n    private inner class DescriptionAdapter : MediaDescriptionAdapter {\n        override fun getCurrentContentTitle(player: Player): CharSequence {\n            return player.mediaMetadata.title.toString()\n        }\n\n        override fun createCurrentContentIntent(player: Player): PendingIntent? {\n            return null\n        }\n\n        override fun getCurrentContentText(player: Player): CharSequence? {\n            return player.mediaMetadata.subtitle\n        }\n\n        override fun getCurrentLargeIcon(\n            player: Player,\n            callback: PlayerNotificationManager.BitmapCallback\n        ): Bitmap? {\n            return getBitmapData(player.mediaMetadata.artworkData!!)\n        }\n      \n        private fun getBitmapData(byteArray: ByteArray): Bitmap? {\n          val options = BitmapFactory.Options()\n          options.inMutable = true\n          return try {\n            BitmapFactory.decodeByteArray(byteArray, 0, byteArray.size, options)\n          } catch (e: Exception) {\n            Log.d(&quot;getBitmapData&quot;, &quot;${e.message}&quot;)\n            BitmapFactory.decodeResource(\n                this@ForegroundService.resources,\n                R.drawable.app_icon\n            )\n          }\n        }\n\n    }\n\n    @UnstableApi\n    private fun notificationListener() = object : PlayerNotificationManager.NotificationListener {\n        override fun onNotificationPosted(\n            notificationId: Int,\n            notification: Notification,\n            ongoing: Boolean\n        ) {\n            super.onNotificationPosted(notificationId, notification, ongoing)\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.UPSIDE_DOWN_CAKE) {\n                startForeground(\n                    notificationId,\n                    notification,\n                    ServiceInfo.FOREGROUND_SERVICE_TYPE_MEDIA_PLAYBACK\n                )\n            } else {\n                startForeground(\n                    notificationId,\n                    notification\n                )\n            }\n        }\n\n        override fun onNotificationCancelled(notificationId: Int, dismissedByUser: Boolean) {\n            super.onNotificationCancelled(notificationId, dismissedByUser)\n            stopSelf()\n        }\n    }\n\n    private fun createNotificationChannel(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val channel = NotificationChannel(\n                &quot;NOTIFICATION_CHANNEL_ID&quot;,\n                &quot;NOTIFICATION_CHANNEL_NAME&quot;,\n                NotificationManager.IMPORTANCE_LOW\n            )\n            getManager(this).createNotificationChannel(channel)\n        }\n    }\n\n    private fun getManager(context: Context): NotificationManager {\n        if (notificationManager == null) {\n            notificationManager =\n                context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        }\n        return notificationManager as NotificationManager\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":22397368,"reputation":25,"user_id":16608427,"display_name":"Juan Christopher Bazaldua Rami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71551218,"answer_count":2,"score":1,"last_activity_date":1696861467,"creation_date":1645385740,"question_id":71198059,"body_markdown":"Hello I&#39;m building a stream music app and when I tried to set the setNotificationListener I receive this error and the app crashes\r\n\r\nfor the record, I already can show the notification but after reinstalling the app I receive this error\r\n\r\nthis is my code\r\n    \r\n   \r\n\r\n         public void startToPlay(Context context){\r\n            // Global settings.\r\n\r\n   \r\n            playerNotificationManagerBuilder = new PlayerNotificationManager.Builder(context,\r\n                    PLAYBACK_NOTIFICATION_ID,\r\n                    PLAYBACK_CHANNEL_ID);\r\n    \r\n            playerNotificationManagerBuilder.setSmallIconResourceId(R.drawable.ic_image_ip);\r\n    \r\n    \r\n            playerNotificationManagerBuilder.setNotificationListener(new PlayerNotificationManager.NotificationListener() {\r\n                @Override\r\n                public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\r\n                    PlayerNotificationManager.NotificationListener.super.onNotificationCancelled(notificationId, dismissedByUser);\r\n                    stopSelf();\r\n                }\r\n                @Override\r\n                public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\r\n                    PlayerNotificationManager.NotificationListener.super.onNotificationPosted(notificationId, notification, ongoing);\r\n                    if (ongoing) {\r\n                        // Here Audio is playing, so we need to make sure the service will not get destroyed by calling startForeground.\r\n                        startForeground(notificationId, notification);\r\n                    } else {\r\n                        //Here audio has stopped playing, so we can make notification dismissible on swipe.\r\n                        stopForeground(false);\r\n                    }\r\n                }\r\n            });","title":"Bad notification for startForeground playerNotificationManagerBuilder.setNotificationListener","body":"<p>Hello I'm building a stream music app and when I tried to set the setNotificationListener I receive this error and the app crashes</p>\n<p>for the record, I already can show the notification but after reinstalling the app I receive this error</p>\n<p>this is my code</p>\n<pre><code>     public void startToPlay(Context context){\n        // Global settings.\n\n\n        playerNotificationManagerBuilder = new PlayerNotificationManager.Builder(context,\n                PLAYBACK_NOTIFICATION_ID,\n                PLAYBACK_CHANNEL_ID);\n\n        playerNotificationManagerBuilder.setSmallIconResourceId(R.drawable.ic_image_ip);\n\n\n        playerNotificationManagerBuilder.setNotificationListener(new PlayerNotificationManager.NotificationListener() {\n            @Override\n            public void onNotificationCancelled(int notificationId, boolean dismissedByUser) {\n                PlayerNotificationManager.NotificationListener.super.onNotificationCancelled(notificationId, dismissedByUser);\n                stopSelf();\n            }\n            @Override\n            public void onNotificationPosted(int notificationId, Notification notification, boolean ongoing) {\n                PlayerNotificationManager.NotificationListener.super.onNotificationPosted(notificationId, notification, ongoing);\n                if (ongoing) {\n                    // Here Audio is playing, so we need to make sure the service will not get destroyed by calling startForeground.\n                    startForeground(notificationId, notification);\n                } else {\n                    //Here audio has stopped playing, so we can make notification dismissible on swipe.\n                    stopForeground(false);\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"comments":[{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":2,"creation_date":1369889551,"post_id":6100739,"comment_id":24262325,"body_markdown":"Regex = cleaner?  Maybe shorter, but I would say regexes are generally pretty cryptic (and less _clean_) when compared to basic looping code.","body":"Regex = cleaner?  Maybe shorter, but I would say regexes are generally pretty cryptic (and less <i>clean</i>) when compared to basic looping code."}],"tags":[],"owner":{"account_id":136380,"reputation":22834,"user_id":339843,"accept_rate":52,"display_name":"tofutim"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306172003,"creation_date":1306172003,"answer_id":6100739,"question_id":6100712,"body_markdown":"Traversing the string is probably the most efficient, though using Regex to do this might yield cleaner looking code (though you can always hide your traverse code in a function).","title":"Simple way to count character occurrences in a string","body":"<p>Traversing the string is probably the most efficient, though using Regex to do this might yield cleaner looking code (though you can always hide your traverse code in a function).</p>\n"},{"comments":[{"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"score":1,"creation_date":1401266926,"post_id":6100744,"comment_id":36812269,"body_markdown":"Ooh, don&#39;t you mind using enhanced for loop instead of C-style going through indices?","body":"Ooh, don&#39;t you mind using enhanced for loop instead of C-style going through indices?"},{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":0,"creation_date":1401698289,"post_id":6100744,"comment_id":36968404,"body_markdown":"I don&#39;t want to use implicit iterators.","body":"I don&#39;t want to use implicit iterators."},{"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"score":2,"creation_date":1401704027,"post_id":6100744,"comment_id":36971463,"body_markdown":"firstly, surely, there&#39;s no shame to use iterators, what&#39;s the problem? Secondly, iterators are not used for looping arrays, see, for example, http://stackoverflow.com/a/7956673/1828937.","body":"firstly, surely, there&#39;s no shame to use iterators, what&#39;s the problem? Secondly, iterators are not used for looping arrays, see, for example, <a href=\"http://stackoverflow.com/a/7956673/1828937\">stackoverflow.com/a/7956673/1828937</a>."},{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":1,"creation_date":1403330599,"post_id":6100744,"comment_id":37625987,"body_markdown":"@DmitryGinzburg: The problem is we don&#39;t have a char array here, but a String. The alternate way would be to iterate over s.toCharArray(), but this would involve a copy of the Strings internal char array.","body":"@DmitryGinzburg: The problem is we don&#39;t have a char array here, but a String. The alternate way would be to iterate over s.toCharArray(), but this would involve a copy of the Strings internal char array."},{"owner":{"account_id":4570803,"reputation":1753,"user_id":3710548,"display_name":"Kaveesh Kanwal"},"score":1,"creation_date":1427138784,"post_id":6100744,"comment_id":46646341,"body_markdown":"But, what if we have to find each character&#39;s occurrence in the string?","body":"But, what if we have to find each character&#39;s occurrence in the string?"}],"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":5,"down_vote_count":1,"up_vote_count":126,"is_accepted":true,"score":125,"last_activity_date":1696861414,"creation_date":1306172015,"answer_id":6100744,"question_id":6100712,"body_markdown":"    public int countChar(String str, char c)\r\n    {\r\n    \tint count = 0;\r\n    \t\r\n    \tfor(int i=0; i &lt; str.length(); i++)\r\n    \t{    if(str.charAt(i) == c)\r\n    \t\t\tcount++;\r\n    \t}\r\n    \t\r\n    \treturn count;\r\n    }\r\n\r\nThis is definitely the fastest way. Regexes are much much slower here, and possibly harder to understand.","title":"Simple way to count character occurrences in a string","body":"<pre><code>public int countChar(String str, char c)\n{\n    int count = 0;\n    \n    for(int i=0; i &lt; str.length(); i++)\n    {    if(str.charAt(i) == c)\n            count++;\n    }\n    \n    return count;\n}\n</code></pre>\n<p>This is definitely the fastest way. Regexes are much much slower here, and possibly harder to understand.</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1306172055,"creation_date":1306172055,"answer_id":6100752,"question_id":6100712,"body_markdown":"A character frequency count is a common task for some applications (such as education) but not general enough to warrant inclusion with the core Java APIs.  As such, you&#39;ll probably need to write your own function.","title":"Simple way to count character occurrences in a string","body":"<p>A character frequency count is a common task for some applications (such as education) but not general enough to warrant inclusion with the core Java APIs.  As such, you'll probably need to write your own function.</p>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1306172465,"creation_date":1306172067,"answer_id":6100754,"question_id":6100712,"body_markdown":"Well there are a bunch of different utilities for this, e.g. [Apache Commons Lang String Utils][1]\r\n\r\nbut in the end, it has to loop over the string to count the occurrences one way or another.\r\n\r\nNote also that the `countMatches` method above has the following signature so will work for substrings as well.\r\n\r\n`public static int countMatches(String str, String sub)`\r\n\r\nThe source for this is (from [here][2]):\r\n\r\n    public static int countMatches(String str, String sub) {\r\n        if (isEmpty(str) || isEmpty(sub)) {\r\n            return 0;\r\n        }\r\n        int count = 0;\r\n        int idx = 0;\r\n        while ((idx = str.indexOf(sub, idx)) != -1) {\r\n            count++;\r\n            idx += sub.length();\r\n        }\r\n        return count;\r\n    }\r\n\r\n\r\nI was curious if they were iterating over the string or using Regex.\r\n\r\n   \r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\r\n  [2]: http://www.docjar.com/html/api/org/apache/commons/lang/StringUtils.java.html","title":"Simple way to count character occurrences in a string","body":"<p>Well there are a bunch of different utilities for this, e.g. <a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">Apache Commons Lang String Utils</a></p>\n\n<p>but in the end, it has to loop over the string to count the occurrences one way or another.</p>\n\n<p>Note also that the <code>countMatches</code> method above has the following signature so will work for substrings as well.</p>\n\n<p><code>public static int countMatches(String str, String sub)</code></p>\n\n<p>The source for this is (from <a href=\"http://www.docjar.com/html/api/org/apache/commons/lang/StringUtils.java.html\" rel=\"nofollow\">here</a>):</p>\n\n<pre><code>public static int countMatches(String str, String sub) {\n    if (isEmpty(str) || isEmpty(sub)) {\n        return 0;\n    }\n    int count = 0;\n    int idx = 0;\n    while ((idx = str.indexOf(sub, idx)) != -1) {\n        count++;\n        idx += sub.length();\n    }\n    return count;\n}\n</code></pre>\n\n<p>I was curious if they were iterating over the string or using Regex.</p>\n"},{"tags":[],"owner":{"account_id":369568,"reputation":6016,"user_id":717027,"accept_rate":75,"display_name":"Liv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306172173,"creation_date":1306172173,"answer_id":6100769,"question_id":6100712,"body_markdown":"You can look at sorting the string -- treat it as a char array -- and then do a modified binary search which counts occurrences? But I agree with @tofutim that traversing it is the most efficient -- O(N) versus O(N * logN) + O(logN)","title":"Simple way to count character occurrences in a string","body":"<p>You can look at sorting the string -- treat it as a char array -- and then do a modified binary search which counts occurrences? But I agree with @tofutim that traversing it is the most efficient -- O(N) versus O(N * logN) + O(logN)</p>\n"},{"comments":[{"owner":{"account_id":1017735,"reputation":185,"user_id":1028902,"display_name":"noddy"},"score":6,"creation_date":1399081657,"post_id":6100785,"comment_id":35925994,"body_markdown":"Almost a good idea. This fails on some simple cases though.\ne.g. s = &quot;$&quot;","body":"Almost a good idea. This fails on some simple cases though. e.g. s = &quot;$&quot;"},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1416145361,"post_id":6100785,"comment_id":42454197,"body_markdown":"Doesn&#39;t work because $ is a regex metacharacter.","body":"Doesn&#39;t work because $ is a regex metacharacter."},{"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"score":1,"creation_date":1421180559,"post_id":6100785,"comment_id":44258976,"body_markdown":"I corrected the meta character issue in the answer.","body":"I corrected the meta character issue in the answer."},{"owner":{"account_id":7238675,"reputation":975,"user_id":5522950,"accept_rate":88,"display_name":"Hirofumi Okino"},"score":0,"creation_date":1451994307,"post_id":6100785,"comment_id":56966820,"body_markdown":"That still doesn&#39;t work with trailing &quot;$&quot;s,  e.g. &quot;abdsd3$asda$asasdd$sadas$&quot; , because empty trailing items are ignored by default. It should be `int counter = s.split(&quot;\\$&quot;, -1).length - 1;`","body":"That still doesn&#39;t work with trailing &quot;$&quot;s,  e.g. &quot;abdsd3$asda$asasdd$sadas$&quot; , because empty trailing items are ignored by default. It should be <code>int counter = s.split(&quot;\\$&quot;, -1).length - 1;</code>"},{"owner":{"account_id":993260,"reputation":2717,"user_id":1009901,"accept_rate":90,"display_name":"Yeti"},"score":0,"creation_date":1464809929,"post_id":6100785,"comment_id":62641651,"body_markdown":"`&quot;\\$&quot;` should be replaced with `&quot;\\\\$&quot;`, because the backslash already has a special meaning that is unique to the string itself, such as newlines, tabs, etc. (escape character) Therefore a double backslash is needed.","body":"<code>&quot;\\$&quot;</code> should be replaced with <code>&quot;\\\\$&quot;</code>, because the backslash already has a special meaning that is unique to the string itself, such as newlines, tabs, etc. (escape character) Therefore a double backslash is needed."},{"owner":{"account_id":8952778,"reputation":597,"user_id":6678241,"display_name":"oyenigun"},"score":0,"creation_date":1507789375,"post_id":6100785,"comment_id":80352473,"body_markdown":"it doesn&#39;t work in case of last char searching\nex:&quot;356595&quot;.split(&quot;5&quot;) -&gt; size =3\n&quot;356559&quot;.split(&quot;5&quot;) -&gt; size = 4","body":"it doesn&#39;t work in case of last char searching ex:&quot;356595&quot;.split(&quot;5&quot;) -&gt; size =3 &quot;356559&quot;.split(&quot;5&quot;) -&gt; size = 4"}],"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":6,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1464814674,"creation_date":1306172263,"answer_id":6100785,"question_id":6100712,"body_markdown":"Not optimal, but simple way to count occurrences:\r\n\r\n\tString s = &quot;...&quot;;\r\n\tint counter = s.split(&quot;\\\\$&quot;, -1).length - 1;\r\n\r\n*Note:*\r\n\r\n- Dollar sign is a special Regular Expression symbol, so it must be escaped with a backslash.\r\n- A backslash is a special symbol for escape characters such as newlines, so it must be escaped with a backslash.\r\n- The second argument of split prevents empty trailing strings from being removed.","title":"Simple way to count character occurrences in a string","body":"<p>Not optimal, but simple way to count occurrences:</p>\n\n<pre><code>String s = \"...\";\nint counter = s.split(\"\\\\$\", -1).length - 1;\n</code></pre>\n\n<p><em>Note:</em></p>\n\n<ul>\n<li>Dollar sign is a special Regular Expression symbol, so it must be escaped with a backslash.</li>\n<li>A backslash is a special symbol for escape characters such as newlines, so it must be escaped with a backslash.</li>\n<li>The second argument of split prevents empty trailing strings from being removed.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"score":1,"creation_date":1359216226,"post_id":14538385,"comment_id":20276971,"body_markdown":"This works, but it&#39;s confusing and overcomplicated. Why use recursion - let alone this convoluted implementation - when iteration can be used simply and cleanly? Also, `indexOf`finds the leftmost index of the target string, so `countChars(input.substring(0, input.indexOf(find)), find)` will always be equal to zero; you could scrap the first line of your return expression and get the same result.","body":"This works, but it&#39;s confusing and overcomplicated. Why use recursion - let alone this convoluted implementation - when iteration can be used simply and cleanly? Also, <code>indexOf</code>finds the leftmost index of the target string, so <code>countChars(input.substring(0, input.indexOf(find)), find)</code> will always be equal to zero; you could scrap the first line of your return expression and get the same result."}],"tags":[],"owner":{"account_id":2290991,"reputation":1,"user_id":2013821,"display_name":"Anil Ganivada"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1359214151,"creation_date":1359214151,"answer_id":14538385,"question_id":6100712,"body_markdown":"  \r\n\r\n   \r\n\r\n     public static int countChars(String input,char find){  \t\r\n            \tif(input.indexOf(find) != -1){    \t\t\r\n            \treturn\tcountChars(input.substring(0, input.indexOf(find)), find)+ \r\n            \t    countChars(input.substring(input.indexOf(find)+1),find) + 1;\r\n            \t}\r\n            \telse {\r\n            \t\treturn 0;\r\n            \t}\r\n            \t\r\n            }","title":"Simple way to count character occurrences in a string","body":"<pre><code> public static int countChars(String input,char find){      \n            if(input.indexOf(find) != -1){          \n            return  countChars(input.substring(0, input.indexOf(find)), find)+ \n                countChars(input.substring(input.indexOf(find)+1),find) + 1;\n            }\n            else {\n                return 0;\n            }\n\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":438970,"reputation":22468,"user_id":964741,"accept_rate":87,"display_name":"RajaReddy PolamReddy"},"score":0,"creation_date":1449682593,"post_id":16829599,"comment_id":56116934,"body_markdown":"this is the best way :)","body":"this is the best way :)"}],"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1369896188,"creation_date":1369896188,"answer_id":16829599,"question_id":6100712,"body_markdown":"Since you&#39;re scanning the whole string anyway you can build a full character count and do any number of lookups, all for the same big-Oh cost (n):\r\n\r\n    public static Map&lt;Character,Integer&gt; getCharFreq(String s) {\r\n      Map&lt;Character,Integer&gt; charFreq = new HashMap&lt;Character,Integer&gt;();\r\n      if (s != null) {\r\n        for (Character c : s.toCharArray()) {\r\n          Integer count = charFreq.get(c);\r\n          int newCount = (count==null ? 1 : count+1);\r\n          charFreq.put(c, newCount);\r\n        }\r\n      }\r\n      return charFreq;\r\n    }\r\n\r\n    // ...\r\n    String s = &quot;abdsd3$asda$asasdd$sadas&quot;;\r\n    Map counts = getCharFreq(s);\r\n    counts.get(&#39;$&#39;); // =&gt; 3\r\n    counts.get(&#39;a&#39;); // =&gt; 7\r\n    counts.get(&#39;s&#39;); // =&gt; 6\r\n","title":"Simple way to count character occurrences in a string","body":"<p>Since you're scanning the whole string anyway you can build a full character count and do any number of lookups, all for the same big-Oh cost (n):</p>\n\n<pre><code>public static Map&lt;Character,Integer&gt; getCharFreq(String s) {\n  Map&lt;Character,Integer&gt; charFreq = new HashMap&lt;Character,Integer&gt;();\n  if (s != null) {\n    for (Character c : s.toCharArray()) {\n      Integer count = charFreq.get(c);\n      int newCount = (count==null ? 1 : count+1);\n      charFreq.put(c, newCount);\n    }\n  }\n  return charFreq;\n}\n\n// ...\nString s = \"abdsd3$asda$asasdd$sadas\";\nMap counts = getCharFreq(s);\ncounts.get('$'); // =&gt; 3\ncounts.get('a'); // =&gt; 7\ncounts.get('s'); // =&gt; 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212338,"reputation":149,"user_id":465102,"display_name":"Martin Vatshelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385246334,"creation_date":1385205070,"answer_id":20161587,"question_id":6100712,"body_markdown":"This is simple code, but of course a little bit slower.\r\n\r\n    String s = ...;\r\n    int countDollar = s.length()-s.replaceAll(&quot;\\\\$&quot;,&quot;&quot;).length();\r\n    int counta = s.length()-s.replaceAll(&quot;a&quot;,&quot;&quot;).length();\r\n\r\nAn even better answer is here in a [duplicate question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string","title":"Simple way to count character occurrences in a string","body":"<p>This is simple code, but of course a little bit slower.</p>\n\n<pre><code>String s = ...;\nint countDollar = s.length()-s.replaceAll(\"\\\\$\",\"\").length();\nint counta = s.length()-s.replaceAll(\"a\",\"\").length();\n</code></pre>\n\n<p>An even better answer is here in a <a href=\"https://stackoverflow.com/questions/275944/how-do-i-count-the-number-of-occurrences-of-a-char-in-a-string\">duplicate question</a></p>\n"},{"comments":[{"owner":{"account_id":3713326,"reputation":41,"user_id":3090078,"display_name":"user3090078"},"score":2,"creation_date":1392323535,"post_id":20513512,"comment_id":32924357,"body_markdown":"Yahoo! I got voted up! My first post ever :-D","body":"Yahoo! I got voted up! My first post ever :-D"},{"owner":{"account_id":3713326,"reputation":41,"user_id":3090078,"display_name":"user3090078"},"score":0,"creation_date":1395789406,"post_id":20513512,"comment_id":34495387,"body_markdown":"@Marcelo solution looks nice but fails with: `&quot;$$$$$$$$&quot;.split(&quot;\\\\$&quot;).length - 1` which = -1 or `&quot;$$$$$$$$&quot;.split(&quot;$&quot;).length - 1` which = 0.","body":"@Marcelo solution looks nice but fails with: <code>&quot;$$$$$$$$&quot;.split(&quot;\\\\$&quot;).length - 1</code> which = -1 or <code>&quot;$$$$$$$$&quot;.split(&quot;$&quot;).length - 1</code> which = 0."}],"tags":[],"owner":{"account_id":3713326,"reputation":41,"user_id":3090078,"display_name":"user3090078"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1398191503,"creation_date":1386748509,"answer_id":20513512,"question_id":6100712,"body_markdown":"I believe the &quot;one liner&quot; that you expected to get is this:\r\n\r\n    &quot;abdsd3$asda$asasdd$sadas&quot;.replaceAll( &quot;[^$]*($)?&quot;, &quot;$1&quot; ).length();\r\n\r\nRemember that the requirements are:\r\n\r\n&gt; (**instead of traversing manually all the string**, or **loop for indexOf**)\r\n\r\nand let me add: that at the heart of this question it sounds like &quot;any loop&quot; is not wanted and there is no requirement for speed. I believe the subtext of this question is _coolness factor_.","title":"Simple way to count character occurrences in a string","body":"<p>I believe the \"one liner\" that you expected to get is this:</p>\n\n<pre><code>\"abdsd3$asda$asasdd$sadas\".replaceAll( \"[^$]*($)?\", \"$1\" ).length();\n</code></pre>\n\n<p>Remember that the requirements are:</p>\n\n<blockquote>\n  <p>(<strong>instead of traversing manually all the string</strong>, or <strong>loop for indexOf</strong>)</p>\n</blockquote>\n\n<p>and let me add: that at the heart of this question it sounds like \"any loop\" is not wanted and there is no requirement for speed. I believe the subtext of this question is <em>coolness factor</em>.</p>\n"},{"tags":[],"owner":{"account_id":961332,"reputation":928,"user_id":985632,"accept_rate":33,"display_name":"ironmaurus"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1391010167,"creation_date":1391010167,"answer_id":21435779,"question_id":6100712,"body_markdown":"you can also use a for each loop. I think it is simpler to read.   \r\n\r\n    int occurrences = 0;\r\n    for(char c : yourString.toCharArray()){\r\n       if(c == &#39;$&#39;){\r\n          occurrences++;\r\n       }\r\n    }","title":"Simple way to count character occurrences in a string","body":"<p>you can also use a for each loop. I think it is simpler to read.   </p>\n\n<pre><code>int occurrences = 0;\nfor(char c : yourString.toCharArray()){\n   if(c == '$'){\n      occurrences++;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4532731,"reputation":61,"user_id":3682720,"display_name":"srcarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1401265320,"creation_date":1401265320,"answer_id":23906286,"question_id":6100712,"body_markdown":"Something a bit more functional, without Regex:\r\n\r\n    public static int count(String s, char c) {\r\n    \treturn s.length()==0 ? 0 : (s.charAt(0)==c ? 1 : 0) + count(s.substring(1),c);\r\n    }\r\n\r\nIt&#39;s no tail recursive, for the sake of clarity.","title":"Simple way to count character occurrences in a string","body":"<p>Something a bit more functional, without Regex:</p>\n\n<pre><code>public static int count(String s, char c) {\n    return s.length()==0 ? 0 : (s.charAt(0)==c ? 1 : 0) + count(s.substring(1),c);\n}\n</code></pre>\n\n<p>It's no tail recursive, for the sake of clarity.</p>\n"},{"comments":[{"owner":{"account_id":2137644,"reputation":17159,"user_id":1897010,"display_name":"Sameer Kazi"},"score":0,"creation_date":1506084561,"post_id":23906674,"comment_id":79689851,"body_markdown":"waw super like !","body":"waw super like !"},{"owner":{"account_id":15073652,"reputation":510,"user_id":10878366,"display_name":"Integraty_dev"},"score":0,"creation_date":1568524501,"post_id":23906674,"comment_id":102297568,"body_markdown":"can&#39;t understand clearly","body":"can&#39;t understand clearly"}],"tags":[],"owner":{"account_id":2049682,"reputation":7411,"user_id":1828937,"accept_rate":56,"display_name":"Dmitry Ginzburg"},"comment_count":2,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1477994639,"creation_date":1401266427,"answer_id":23906674,"question_id":6100712,"body_markdown":"Functional style (Java 8, just for fun):\r\n\r\n    str.chars().filter(num -&gt; num == &#39;$&#39;).count()","title":"Simple way to count character occurrences in a string","body":"<p>Functional style (Java 8, just for fun):</p>\n\n<pre><code>str.chars().filter(num -&gt; num == '$').count()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1511507598,"post_id":24905595,"comment_id":81890435,"body_markdown":"I always prefer apache commons","body":"I always prefer apache commons"}],"tags":[],"owner":{"account_id":1653239,"reputation":1326,"user_id":1523402,"accept_rate":100,"display_name":"thersch"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1406105312,"creation_date":1406104531,"answer_id":24905595,"question_id":6100712,"body_markdown":"You can use [Apache Commons][1]&#39; `StringUtils.countMatches(String string, String subStringToCount)`.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29 &quot;Apache Commons&quot;","title":"Simple way to count character occurrences in a string","body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#countMatches%28java.lang.String,%20java.lang.String%29\">Apache Commons</a>' <code>StringUtils.countMatches(String string, String subStringToCount)</code>.</p>\n"},{"comments":[{"owner":{"account_id":1280854,"reputation":1419,"user_id":1234970,"accept_rate":100,"display_name":"Chase"},"score":0,"creation_date":1417271062,"post_id":26490240,"comment_id":42889317,"body_markdown":"This is needlessly complex, you can just use an array (256 long if only only basic characters are used, or 65535 long for the entire range java supports). do something like `array[str.charAt(i)]++` instead of that if/else branch, and then on the output, just do `for(int i = 0; i &lt; length; ++i) if(array[i] != 0) System.out.println((char)i + &quot; = &quot; + array[i])`.","body":"This is needlessly complex, you can just use an array (256 long if only only basic characters are used, or 65535 long for the entire range java supports). do something like <code>array[str.charAt(i)]++</code> instead of that if/else branch, and then on the output, just do <code>for(int i = 0; i &lt; length; ++i) if(array[i] != 0) System.out.println((char)i + &quot; = &quot; + array[i])</code>."}],"tags":[],"owner":{"account_id":2384697,"reputation":531,"user_id":2085903,"display_name":"PipoTells"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476111327,"creation_date":1413904606,"answer_id":26490240,"question_id":6100712,"body_markdown":"There is another way to count the number of characters in each string.\r\nAssuming we have a String as\r\n`String str = &quot;abfdvdvdfv&quot;` \r\n\r\nWe can then count the number of times each character appears by traversing only once as\r\n\t\t\t\r\n    for (int i = 0; i &lt; str.length(); i++) \r\n    {\r\n\t\tif(null==map.get(str.charAt(i)+&quot;&quot;))\r\n        {\r\n\t\t\tmap.put(str.charAt(i)+&quot;&quot;, new Integer(1));\r\n\t\t}\r\n        else\r\n        {\r\n\t\t   Integer count = map.get(str.charAt(i)+&quot;&quot;);\r\n\t\t   map.put(str.charAt(i)+&quot;&quot;, count+1);\r\n\t    }\r\n    }\r\n\r\nWe can then check the output by traversing the Map as\r\n\r\n\r\n    for (Map.Entry&lt;String, Integer&gt; entry:map.entrySet()) \r\n    {\r\n\t    System.out.println(entry.getKey()+&quot; count is : &quot;+entry.getValue())\r\n\t\r\n    }","title":"Simple way to count character occurrences in a string","body":"<p>There is another way to count the number of characters in each string.\nAssuming we have a String as\n<code>String str = \"abfdvdvdfv\"</code> </p>\n\n<p>We can then count the number of times each character appears by traversing only once as</p>\n\n<pre><code>for (int i = 0; i &lt; str.length(); i++) \n{\n    if(null==map.get(str.charAt(i)+\"\"))\n    {\n        map.put(str.charAt(i)+\"\", new Integer(1));\n    }\n    else\n    {\n       Integer count = map.get(str.charAt(i)+\"\");\n       map.put(str.charAt(i)+\"\", count+1);\n    }\n}\n</code></pre>\n\n<p>We can then check the output by traversing the Map as</p>\n\n<pre><code>for (Map.Entry&lt;String, Integer&gt; entry:map.entrySet()) \n{\n    System.out.println(entry.getKey()+\" count is : \"+entry.getValue())\n\n}\n</code></pre>\n"}],"owner":{"account_id":113414,"reputation":4974,"user_id":298690,"accept_rate":96,"display_name":"George Kastrinis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470316,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"closed_date":1432989600,"accepted_answer_id":6100744,"answer_count":15,"score":75,"last_activity_date":1696861414,"creation_date":1306171849,"question_id":6100712,"body_markdown":"Is there a simple way (instead of traversing manually all the string, or loop for indexOf) in order to find how many times, a character appears in a string?\r\n\r\nSay we have &quot;abdsd3$asda$asasdd$sadas&quot; and we want that $ appears 3 times.","title":"Simple way to count character occurrences in a string","body":"<p>Is there a simple way (instead of traversing manually all the string, or loop for indexOf) in order to find how many times, a character appears in a string?</p>\n\n<p>Say we have \"abdsd3$asda$asasdd$sadas\" and we want that $ appears 3 times.</p>\n"},{"tags":["java","libgdx","static-import"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1696831396,"post_id":77256499,"comment_id":136198169,"body_markdown":"The imports you have should do what you want. Please show a complete, minimal example.","body":"The imports you have should do what you want. Please show a complete, minimal example."},{"owner":{"account_id":11290194,"reputation":19,"user_id":8279549,"display_name":"motesolo"},"score":0,"creation_date":1696837734,"post_id":77256499,"comment_id":136199097,"body_markdown":"@tgdavies I edited. class extends Actor and rotateBy() cause name collision of Actor / Actions","body":"@tgdavies I edited. class extends Actor and rotateBy() cause name collision of Actor / Actions"}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696860955,"creation_date":1696860955,"answer_id":77259573,"question_id":77256499,"body_markdown":"This is a limitation of Java. You can&#39;t.\r\n\r\nOne possible work-around is to create another class with static pass-through methods for the static methods in Actions, with slightly different names.\r\n\r\n```\r\npublic final class InActorActions {\r\n    static public RotateByAction $rotateBy (float rotationAmount) {\r\n\t\treturn Actions.rotateBy(rotationAmount);\r\n\t}\r\n}\r\n```\r\nThen do a static import of this class and use the different method name.\r\n","title":"how to ignore Actor methods and use static import of Actions?","body":"<p>This is a limitation of Java. You can't.</p>\n<p>One possible work-around is to create another class with static pass-through methods for the static methods in Actions, with slightly different names.</p>\n<pre><code>public final class InActorActions {\n    static public RotateByAction $rotateBy (float rotationAmount) {\n        return Actions.rotateBy(rotationAmount);\n    }\n}\n</code></pre>\n<p>Then do a static import of this class and use the different method name.</p>\n"}],"owner":{"account_id":11290194,"reputation":19,"user_id":8279549,"display_name":"motesolo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":77259573,"answer_count":1,"score":-2,"last_activity_date":1696860955,"creation_date":1696830615,"question_id":77256499,"body_markdown":"when I use static import of import com.badlogic.gdx.scenes.scene2d.actions.Actions;\r\n```\r\nimport static com.badlogic.gdx.scenes.scene2d.actions.Actions.*;\r\nimport com.badlogic.gdx.scenes.scene2d.Actor;\r\n\r\n\r\npublic class EnemyCar extends Actor {\r\n\tprivate Rectangle bounds = new Rectangle();\r\n\t\r\n\tpublic EnemyCar(float x, float y) {\r\n\t\tsetWidth(160);\r\n\t\tsetHeight(85);\r\n\t\tsetPosition(x, y - getHeight()/2);\r\n\r\n\t\tint rnd = MathUtils.random(0, 3);\r\n\t\tif (rnd == 0) setColor(Color.RED);\r\n\t\tif (rnd == 1) setColor(Color.GREEN);\r\n\t\tif (rnd == 2) setColor(Color.WHITE);\r\n\t\tif (rnd == 3) setColor(Color.BLUE);\r\n\t\t\r\n\t\taddAction(moveTo(-getWidth(), getY(), MathUtils.random(4.0f, 6.0f)));\r\n\t}\r\n\t\r\n\tpublic void crash(boolean front, boolean above) {\r\n\t\tclearActions();\r\n\t\taddAction(fadeOut(1f));\r\n\r\n        // Here using Actions static import code\r\n\t\tif (front &amp;&amp; above) addAction(sequence(Actions.parallel(Actions.rotateBy(-360, 1.5f), Actions.moveBy(200, 200, 1.5f)), Actions.removeActor()));\r\n\t\tActions.rotate\r\n\t\tif (front &amp;&amp; above) addAction(sequence(parallel(Actions.rotateBy(-360, 1.5f), moveBy(200, 200, 1.5f)), removeActor()));\r\n\t\tif (front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(200, -200, 1.5f)), removeActor()));\r\n\t\tif (!front &amp;&amp; above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(-200, 200, 1.5f)), removeActor()));\r\n\t\tif (!front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(-360, 1.5f), moveBy(-200, -200, 1.5f)), removeActor()));\r\n\t}\r\n}\r\n```\r\nActor.rotateBy() is called but I want to call Actions.rotateBy() \r\nActions.rotateBy() works fine but I need to type Actions. in all methods.\r\n\r\nHow to ignore Actor.rotateBy() and call Actions::rotateBy(), moveBy(), sequence(), etc.\r\n\r\n","title":"how to ignore Actor methods and use static import of Actions?","body":"<p>when I use static import of import com.badlogic.gdx.scenes.scene2d.actions.Actions;</p>\n<pre><code>import static com.badlogic.gdx.scenes.scene2d.actions.Actions.*;\nimport com.badlogic.gdx.scenes.scene2d.Actor;\n\n\npublic class EnemyCar extends Actor {\n    private Rectangle bounds = new Rectangle();\n    \n    public EnemyCar(float x, float y) {\n        setWidth(160);\n        setHeight(85);\n        setPosition(x, y - getHeight()/2);\n\n        int rnd = MathUtils.random(0, 3);\n        if (rnd == 0) setColor(Color.RED);\n        if (rnd == 1) setColor(Color.GREEN);\n        if (rnd == 2) setColor(Color.WHITE);\n        if (rnd == 3) setColor(Color.BLUE);\n        \n        addAction(moveTo(-getWidth(), getY(), MathUtils.random(4.0f, 6.0f)));\n    }\n    \n    public void crash(boolean front, boolean above) {\n        clearActions();\n        addAction(fadeOut(1f));\n\n        // Here using Actions static import code\n        if (front &amp;&amp; above) addAction(sequence(Actions.parallel(Actions.rotateBy(-360, 1.5f), Actions.moveBy(200, 200, 1.5f)), Actions.removeActor()));\n        Actions.rotate\n        if (front &amp;&amp; above) addAction(sequence(parallel(Actions.rotateBy(-360, 1.5f), moveBy(200, 200, 1.5f)), removeActor()));\n        if (front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(200, -200, 1.5f)), removeActor()));\n        if (!front &amp;&amp; above) addAction(sequence(parallel(rotateBy(360, 1.5f), moveBy(-200, 200, 1.5f)), removeActor()));\n        if (!front &amp;&amp; !above) addAction(sequence(parallel(rotateBy(-360, 1.5f), moveBy(-200, -200, 1.5f)), removeActor()));\n    }\n}\n</code></pre>\n<p>Actor.rotateBy() is called but I want to call Actions.rotateBy()\nActions.rotateBy() works fine but I need to type Actions. in all methods.</p>\n<p>How to ignore Actor.rotateBy() and call Actions::rotateBy(), moveBy(), sequence(), etc.</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-stream"],"answers":[{"comments":[{"owner":{"account_id":14861996,"reputation":683,"user_id":10732477,"display_name":"AM13"},"score":0,"creation_date":1697459295,"post_id":77259536,"comment_id":136278587,"body_markdown":"I think that in this way the error handler is specific for the destination1 stream. I was looking for something that I can use for each stream as a fallback if the specific errorHandler for stream is not present or there is an error.\n\nRunning my app without the bean &quot;errorChannel&quot; I see this log:\nNo bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n\nI was thinking I could have used it but it&#39;s not working.","body":"I think that in this way the error handler is specific for the destination1 stream. I was looking for something that I can use for each stream as a fallback if the specific errorHandler for stream is not present or there is an error.  Running my app without the bean &quot;errorChannel&quot; I see this log: No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.  I was thinking I could have used it but it&#39;s not working."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1697466839,"post_id":77259536,"comment_id":136280188,"body_markdown":"As far as I know the `destination1.group1.errors` doesn&#39;t work any more: we have to use that `error-handler-definition`. Then you  an just subscribe to the global `errorChannel` which is always there created by the framework for us.","body":"As far as I know the <code>destination1.group1.errors</code> doesn&#39;t work any more: we have to use that <code>error-handler-definition</code>. Then you  an just subscribe to the global <code>errorChannel</code> which is always there created by the framework for us."},{"owner":{"account_id":14861996,"reputation":683,"user_id":10732477,"display_name":"AM13"},"score":0,"creation_date":1697535942,"post_id":77259536,"comment_id":136289111,"body_markdown":"How can we subscribe to the global errorChannel?","body":"How can we subscribe to the global errorChannel?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1697548746,"post_id":77259536,"comment_id":136291694,"body_markdown":"`@ServiceActivator(inputChannel = &quot;errorChannel&quot;)`","body":"<code>@ServiceActivator(inputChannel = &quot;errorChannel&quot;)</code>"},{"owner":{"account_id":14861996,"reputation":683,"user_id":10732477,"display_name":"AM13"},"score":0,"creation_date":1697617465,"post_id":77259536,"comment_id":136300960,"body_markdown":"tried the annotation @ServiceActivator(inputChannel = &quot;errorChannel&quot;) above public void errorHandle but I cannot see the log of the bean &quot;errorChannel&quot; that I have create.\nAnyway destination1.group1.errors works for spring cloud stream 3.2.9","body":"tried the annotation @ServiceActivator(inputChannel = &quot;errorChannel&quot;) above public void errorHandle but I cannot see the log of the bean &quot;errorChannel&quot; that I have create. Anyway destination1.group1.errors works for spring cloud stream 3.2.9"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696860663,"creation_date":1696860663,"answer_id":77259536,"question_id":77243984,"body_markdown":"See docs how errors must be handled from now on: https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages\r\n\r\n    @Bean\r\n    public Consumer&lt;ErrorMessage&gt; myErrorHandler() {\r\n\r\n\r\n    spring.cloud.stream.bindings.destination1-in-0.error-handler-definition=myErrorHandler","title":"How to correctly configure errorChannel in spring cloud (spring integration)?","body":"<p>See docs how errors must be handled from now on: <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_handle_error_messages</a></p>\n<pre><code>@Bean\npublic Consumer&lt;ErrorMessage&gt; myErrorHandler() {\n\n\nspring.cloud.stream.bindings.destination1-in-0.error-handler-definition=myErrorHandler\n</code></pre>\n"}],"owner":{"account_id":14861996,"reputation":683,"user_id":10732477,"display_name":"AM13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696860663,"creation_date":1696590698,"question_id":77243984,"body_markdown":"I have a webapp in which I use Kinesis Stream with spring-cloud-stream, spring-cloud-stream-binder-kinesis and spring-cloud-starter-sleuth. What I would like to do is to configure the error handling properly. I would like to:\r\n1) handle a message stream\r\n2) if something go wrong in the point 1 handle the error (specifically for each stream)\r\n3) create a errorChannel that handle all errors globally that happened in point 2.\r\n\r\nProperties:\r\n```\r\nspring:\r\n  cloud:\r\n    stream:\r\n      function:\r\n        definition: destination1\r\n      bindings:\r\n        destination1-in-0:\r\n          destination: destination1\r\n          group: group1\r\n```\r\nThis is the configuration code (in a class annotated with @Configuration):\r\n```\r\n    @Bean\r\n    public Consumer&lt;MyStream&gt; destination1() {\r\n        return message -&gt; {\r\n            if (true) throw new RuntimeException(&quot;test&quot;);\r\n            LOGGER.info(&quot;message: &quot; + message);\r\n        };\r\n    }\r\n\r\n    @ServiceActivator(inputChannel = &quot;destination1.group1.errors&quot;)\r\n    public void errorHandle(Message&lt;?&gt; message) {\r\n        // TODO\r\n        LOGGER.error(&quot;Handling ERROR: &quot; + message);\r\n        throw new RuntimeException(&quot;test2&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public PublishSubscribeChannel errorChannel() {\r\n        ErrorHandler errorHandler = throwable -&gt; LOGGER.error(&quot;Handling ERROR in errorChannel error handler: &quot;);\r\n        Executor executor = new ConcurrentTaskExecutor();\r\n        PublishSubscribeChannel publishSubscribeChannel = new PublishSubscribeChannel(executor);\r\n        publishSubscribeChannel.setErrorHandler(errorHandler);\r\n        return publishSubscribeChannel;\r\n    }\r\n```\r\nPlease note that step 1 and step 2 are working. What it is missing is the third step.\r\nAfter the Log &quot;Handling ERROR: ...&quot; I see another info log:\r\n```\r\na.i.k.KinesisMessageDrivenChannelAdapter : Got an exception during sending a &#39;GenericMessage [payload=byte[142], headers={aws_shard=shardId-000000000000, id=bb56042b-240f-43b7-4c69-90de463bfeca, sourceData={SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}, aws_receivedPartitionKey=2007189807, aws_receivedStream=mpeNotificationFraud, aws_receivedSequenceNumber=49645044161965514128638937043897685293310641448383676418, timestamp=1696588898426}]&#39;\r\nfor the &#39;{SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}&#39;.\r\nConsider to use &#39;errorChannel&#39; flow for the compensation logic.\r\n```\r\nThen there is this exception (Caused by: java.lang.RuntimeException: test2):\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred during processing message in &#39;MethodInvokingMessageProcessor&#39; [org.springframework.integration.handler.MethodInvokingMessageProcessor@d13016c]; nested exception is java.lang.RuntimeException: test2\r\n\tat org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-5.5.19.jar:5.5.19]\r\n\tat org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:113) ~[spring-integration-core-5.5.19.jar:5.5.19]\r\n```\r\nWhat I want is that the errorChannel I have configured start working, so for this simple example it logs &quot;Handling ERROR in errorChannel error handler&quot;.\r\n","title":"How to correctly configure errorChannel in spring cloud (spring integration)?","body":"<p>I have a webapp in which I use Kinesis Stream with spring-cloud-stream, spring-cloud-stream-binder-kinesis and spring-cloud-starter-sleuth. What I would like to do is to configure the error handling properly. I would like to:</p>\n<ol>\n<li>handle a message stream</li>\n<li>if something go wrong in the point 1 handle the error (specifically for each stream)</li>\n<li>create a errorChannel that handle all errors globally that happened in point 2.</li>\n</ol>\n<p>Properties:</p>\n<pre><code>spring:\n  cloud:\n    stream:\n      function:\n        definition: destination1\n      bindings:\n        destination1-in-0:\n          destination: destination1\n          group: group1\n</code></pre>\n<p>This is the configuration code (in a class annotated with @Configuration):</p>\n<pre><code>    @Bean\n    public Consumer&lt;MyStream&gt; destination1() {\n        return message -&gt; {\n            if (true) throw new RuntimeException(&quot;test&quot;);\n            LOGGER.info(&quot;message: &quot; + message);\n        };\n    }\n\n    @ServiceActivator(inputChannel = &quot;destination1.group1.errors&quot;)\n    public void errorHandle(Message&lt;?&gt; message) {\n        // TODO\n        LOGGER.error(&quot;Handling ERROR: &quot; + message);\n        throw new RuntimeException(&quot;test2&quot;);\n    }\n\n    @Bean\n    public PublishSubscribeChannel errorChannel() {\n        ErrorHandler errorHandler = throwable -&gt; LOGGER.error(&quot;Handling ERROR in errorChannel error handler: &quot;);\n        Executor executor = new ConcurrentTaskExecutor();\n        PublishSubscribeChannel publishSubscribeChannel = new PublishSubscribeChannel(executor);\n        publishSubscribeChannel.setErrorHandler(errorHandler);\n        return publishSubscribeChannel;\n    }\n</code></pre>\n<p>Please note that step 1 and step 2 are working. What it is missing is the third step.\nAfter the Log &quot;Handling ERROR: ...&quot; I see another info log:</p>\n<pre><code>a.i.k.KinesisMessageDrivenChannelAdapter : Got an exception during sending a 'GenericMessage [payload=byte[142], headers={aws_shard=shardId-000000000000, id=bb56042b-240f-43b7-4c69-90de463bfeca, sourceData={SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}, aws_receivedPartitionKey=2007189807, aws_receivedStream=mpeNotificationFraud, aws_receivedSequenceNumber=49645044161965514128638937043897685293310641448383676418, timestamp=1696588898426}]'\nfor the '{SequenceNumber: 49645044161965514128638937043897685293310641448383676418,ApproximateArrivalTimestamp: Fri Oct 06 12:41:37 CEST 2023,Data: java.nio.HeapByteBuffer[pos=0 lim=142 cap=142],PartitionKey: 2007189807,}'.\nConsider to use 'errorChannel' flow for the compensation logic.\n</code></pre>\n<p>Then there is this exception (Caused by: java.lang.RuntimeException: test2):</p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred during processing message in 'MethodInvokingMessageProcessor' [org.springframework.integration.handler.MethodInvokingMessageProcessor@d13016c]; nested exception is java.lang.RuntimeException: test2\n    at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:191) ~[spring-integration-core-5.5.19.jar:5.5.19]\n    at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:113) ~[spring-integration-core-5.5.19.jar:5.5.19]\n</code></pre>\n<p>What I want is that the errorChannel I have configured start working, so for this simple example it logs &quot;Handling ERROR in errorChannel error handler&quot;.</p>\n"},{"tags":["java","websphere","ejb","open-liberty","message-driven-bean"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696430583,"post_id":77229433,"comment_id":136152352,"body_markdown":"Provide info to what JMS provider are you trying to connect.","body":"Provide info to what JMS provider are you trying to connect."}],"answers":[{"comments":[{"owner":{"account_id":232008,"reputation":3081,"user_id":496562,"display_name":"Alasdair"},"score":0,"creation_date":1696425962,"post_id":77229621,"comment_id":136151214,"body_markdown":"If you are using an EE 6 module then I think you still require the xmi formats, even when you are using EE 7+ features.","body":"If you are using an EE 6 module then I think you still require the xmi formats, even when you are using EE 7+ features."},{"owner":{"account_id":6626438,"reputation":993,"user_id":5116519,"display_name":"Tracy"},"score":0,"creation_date":1696428562,"post_id":77229621,"comment_id":136151838,"body_markdown":"Yes, liberty does support use of xmi files for EJB 1.x and 2.x modules. There is no requirement to upgrade your MDBs to EJB 3.x with xml binding files, you just need to remove the use of listener ports and instead use an ActivationSpecification as described in the link provided.","body":"Yes, liberty does support use of xmi files for EJB 1.x and 2.x modules. There is no requirement to upgrade your MDBs to EJB 3.x with xml binding files, you just need to remove the use of listener ports and instead use an ActivationSpecification as described in the link provided."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696430505,"post_id":77229621,"comment_id":136152341,"body_markdown":"Ahh, forgot about that xmi support for older modules... Thanks ;-)","body":"Ahh, forgot about that xmi support for older modules... Thanks ;-)"},{"owner":{"account_id":6626438,"reputation":993,"user_id":5116519,"display_name":"Tracy"},"score":0,"creation_date":1696430902,"post_id":77229621,"comment_id":136152435,"body_markdown":"Also, there is a tool for WebSphere 8.5.5 which will migrate a message-driven bean application that uses a listener port to instead use an activationspec.  This converts in place, so it may be helpful to use this tool first on WebSphere before migrating the application to liberty :\nhttps://www.ibm.com/docs/en/was-nd/8.5.5?topic=cjrwmmp-migrating-listener-port-activation-specification-use-websphere-mq-messaging-provider","body":"Also, there is a tool for WebSphere 8.5.5 which will migrate a message-driven bean application that uses a listener port to instead use an activationspec.  This converts in place, so it may be helpful to use this tool first on WebSphere before migrating the application to liberty : <a href=\"https://www.ibm.com/docs/en/was-nd/8.5.5?topic=cjrwmmp-migrating-listener-port-activation-specification-use-websphere-mq-messaging-provider\" rel=\"nofollow noreferrer\">ibm.com/docs/en/was-nd/&hellip;</a>"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696431303,"post_id":77229621,"comment_id":136152531,"body_markdown":"@Tracy Isn&#39;t OpenLiberty supporting only EJB 3.x and higher? As far as I remember older specs are only supported in WebSphere Liberty, not the OpenLiberty, correct?","body":"@Tracy Isn&#39;t OpenLiberty supporting only EJB 3.x and higher? As far as I remember older specs are only supported in WebSphere Liberty, not the OpenLiberty, correct?"},{"owner":{"account_id":6626438,"reputation":993,"user_id":5116519,"display_name":"Tracy"},"score":0,"creation_date":1696520508,"post_id":77229621,"comment_id":136166648,"body_markdown":"@Gas Generally the Java EE specifications require backward compatibility. While Open Liberty has features for EJB 3.2 and 4.0, and WebSphere Liberty also has EJB 3.1, all of those specification levels require support for the older EJB 2.x APIs and deployment descriptors.  You would configure to use the EJB 3.2 features in Liberty, but can install most EJB 1.x or 2.x applications and they would work without modification.  There are exceptions, such as listener ports, where the newer specifications added activation specs. Entity beans were made optional in EJB 3.x, so not supported in Liberty.","body":"@Gas Generally the Java EE specifications require backward compatibility. While Open Liberty has features for EJB 3.2 and 4.0, and WebSphere Liberty also has EJB 3.1, all of those specification levels require support for the older EJB 2.x APIs and deployment descriptors.  You would configure to use the EJB 3.2 features in Liberty, but can install most EJB 1.x or 2.x applications and they would work without modification.  There are exceptions, such as listener ports, where the newer specifications added activation specs. Entity beans were made optional in EJB 3.x, so not supported in Liberty."},{"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"score":0,"creation_date":1696836543,"post_id":77229621,"comment_id":136198879,"body_markdown":"Thanks for all your comments so far! \nI added the jms resources config xml in the original question. \nCan you please give me an example (in your answer maybe, or new answer) on how to add this AcitveSpecification in the xmls? Im too dumb maybe, I didn&#39;t made it to work yet.","body":"Thanks for all your comments so far!  I added the jms resources config xml in the original question.  Can you please give me an example (in your answer maybe, or new answer) on how to add this AcitveSpecification in the xmls? Im too dumb maybe, I didn&#39;t made it to work yet."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696840961,"post_id":77229621,"comment_id":136199622,"body_markdown":"@Deery I added few things to the answer, which should help you a bit, you will still need to double check properties, like queue name, qmgr etc..","body":"@Deery I added few things to the answer, which should help you a bit, you will still need to double check properties, like queue name, qmgr etc.."},{"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"score":0,"creation_date":1696853025,"post_id":77229621,"comment_id":136201897,"body_markdown":"Thanks @Gas ! This looks nice. And the properties/config like channel, queue name, ... I need to retrieve from eg. ListenerPorts configurations ? Will I find those in the old WebSphere Application Server? \nThanks for your help so far :)","body":"Thanks @Gas ! This looks nice. And the properties/config like channel, queue name, ... I need to retrieve from eg. ListenerPorts configurations ? Will I find those in the old WebSphere Application Server?  Thanks for your help so far :)"},{"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"score":0,"creation_date":1696853445,"post_id":77229621,"comment_id":136201978,"body_markdown":"Also: Do I need to edit something in my ejb-jar.xml? Or can I make the needed changes there as well?","body":"Also: Do I need to edit something in my ejb-jar.xml? Or can I make the needed changes there as well?"},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1696877407,"post_id":77229621,"comment_id":136206617,"body_markdown":"@Deery yes, you will find ListenerPorts configuration in traditional WAS console","body":"@Deery yes, you will find ListenerPorts configuration in traditional WAS console"}],"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"comment_count":11,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696840871,"creation_date":1696423048,"answer_id":77229621,"question_id":77229433,"body_markdown":"There are no `listener port`s in OpenLiberty. MDBs are using `ActiveSpecifications`.  You have to do update bindings to use AS or do it in  `server.xml`. Check docs for using mdbs in OpenLiberty (depending on jms provider you are using) - https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within\r\n\r\n**Update based on your additional info**:  \r\nLooking at the resources defined, it seems that you are using WebSphere MQ and want your MDB to connect to the queue (although you didnt provide their names - you will have to check ListenerPorts configurations).  \r\nHere are a few changes you need:  \r\n- change feature - you should use **jca-1.7** instead of wasJmsClient (check this https://stackoverflow.com/questions/55612324/open-liberty-cannot-configure-jmsactivationspec)\r\n- add `&lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;`\r\n- add active spec (fix queue/channel/host etc):\r\n```\r\n&lt;!-- jmsActivationSpec configs --&gt;\r\n&lt;jmsActivationSpec id=&quot;my-app-name/MyMessageDrivenBean&quot;&gt;\r\n    &lt;properties.mqJms destinationRef=&quot;jms/MyQueue&quot;\r\n                      destinationType=&quot;javax.jms.Queue&quot;\r\n                      channel=&quot;DEV.APP.SVRCONN&quot;\r\n                      hostName=&quot;${ibm.mq.hostname}&quot;\r\n                      port=&quot;1414&quot;\r\n                      queueManager=&quot;QM1&quot;\r\n                      transportType=&quot;CLIENT&quot; /&gt;\r\n&lt;/jmsActivationSpec&gt;\r\n```\r\nIf your QM requires authentication you need to add these additional props:\r\n```\r\n                      userName=&quot;${ibm.mq.username}&quot;\r\n                      password=&quot;${ibm.mq.password}&quot;\r\n```\r\n`id` in the activeSpec must follow the following naming convention &quot;application name/module name/bean name&quot; in your case it shoiuld be for exampe `id=NAMEOFEAR-1.0.0/ejb/CompanyEventLog`  \r\n\r\n\r\nYou should be able to define this binding also via `xmi` binding file, but I dont have example at hand since its very old. You would need IBM Rational Application Developer, which should still have editor for xmi files.\r\n\r\nIn `xml` format it would look like this:\r\n\r\n```\r\n&lt;ejb-jar-bnd\r\n        xmlns=&quot;http://websphere.ibm.com/xml/ns/javaee&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd&quot; \r\n\t(http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd%27) version=&quot;1.1&quot;&gt;\r\n    \r\n\t&lt;message-driven name=&quot;PriceChangeMDBBean&quot;&gt;\r\n        \t&lt;jca-adapter activation-spec-binding-name=&quot;PriceChangeAS&quot; destination-binding-name=&quot;jms/TriggerQ&quot; /&gt;\r\n   \t&lt;/message-driven&gt;\r\n&lt;/ejb-jar-bnd&gt;\r\n```\r\n\r\nSo maybe try first the binding in `server.xml`.","title":"WebSphere to OpenLiberty EJB 3 message driven beans migration from ibm-ejb-jar-bnd.xmi issue","body":"<p>There are no <code>listener port</code>s in OpenLiberty. MDBs are using <code>ActiveSpecifications</code>.  You have to do update bindings to use AS or do it in  <code>server.xml</code>. Check docs for using mdbs in OpenLiberty (depending on jms provider you are using) - <a href=\"https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was-liberty/base?topic=liberty-deploying-message-driven-beans-within</a></p>\n<p><strong>Update based on your additional info</strong>:<br />\nLooking at the resources defined, it seems that you are using WebSphere MQ and want your MDB to connect to the queue (although you didnt provide their names - you will have to check ListenerPorts configurations).<br />\nHere are a few changes you need:</p>\n<ul>\n<li>change feature - you should use <strong>jca-1.7</strong> instead of wasJmsClient (check this <a href=\"https://stackoverflow.com/questions/55612324/open-liberty-cannot-configure-jmsactivationspec\">open-liberty : cannot configure jmsActivationSpec</a>)</li>\n<li>add <code>&lt;feature&gt;jmsMdb-3.2&lt;/feature&gt;</code></li>\n<li>add active spec (fix queue/channel/host etc):</li>\n</ul>\n<pre><code>&lt;!-- jmsActivationSpec configs --&gt;\n&lt;jmsActivationSpec id=&quot;my-app-name/MyMessageDrivenBean&quot;&gt;\n    &lt;properties.mqJms destinationRef=&quot;jms/MyQueue&quot;\n                      destinationType=&quot;javax.jms.Queue&quot;\n                      channel=&quot;DEV.APP.SVRCONN&quot;\n                      hostName=&quot;${ibm.mq.hostname}&quot;\n                      port=&quot;1414&quot;\n                      queueManager=&quot;QM1&quot;\n                      transportType=&quot;CLIENT&quot; /&gt;\n&lt;/jmsActivationSpec&gt;\n</code></pre>\n<p>If your QM requires authentication you need to add these additional props:</p>\n<pre><code>                      userName=&quot;${ibm.mq.username}&quot;\n                      password=&quot;${ibm.mq.password}&quot;\n</code></pre>\n<p><code>id</code> in the activeSpec must follow the following naming convention &quot;application name/module name/bean name&quot; in your case it shoiuld be for exampe <code>id=NAMEOFEAR-1.0.0/ejb/CompanyEventLog</code></p>\n<p>You should be able to define this binding also via <code>xmi</code> binding file, but I dont have example at hand since its very old. You would need IBM Rational Application Developer, which should still have editor for xmi files.</p>\n<p>In <code>xml</code> format it would look like this:</p>\n<pre><code>&lt;ejb-jar-bnd\n        xmlns=&quot;http://websphere.ibm.com/xml/ns/javaee&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://websphere.ibm.com/xml/ns/javaee http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd&quot; \n    (http://websphere.ibm.com/xml/ns/javaee/ibm-ejb-jar-bnd_1_1.xsd%27) version=&quot;1.1&quot;&gt;\n    \n    &lt;message-driven name=&quot;PriceChangeMDBBean&quot;&gt;\n            &lt;jca-adapter activation-spec-binding-name=&quot;PriceChangeAS&quot; destination-binding-name=&quot;jms/TriggerQ&quot; /&gt;\n    &lt;/message-driven&gt;\n&lt;/ejb-jar-bnd&gt;\n</code></pre>\n<p>So maybe try first the binding in <code>server.xml</code>.</p>\n"}],"owner":{"account_id":15246298,"reputation":1,"user_id":11001087,"display_name":"Deery"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696860429,"creation_date":1696421228,"question_id":77229433,"body_markdown":"During the deployment of our migrated ear with 2 war&#39;s from old Websphere 8.x into OpenLiberty I get this issue regarding unexpected element in the xmi:\r\n\r\n    [ERROR   ] CWWKZ0002E: An exception occurred while starting the application NAMEOFEAR-1.0.0. The exception message was: com.ibm.ws.container.service.metadata.MetaDataException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ejs.container.EJBConfigurationException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ws.javaee.ddmodel.DDParser$ParseException: CWWKC2256E: Unexpected attribute listenerInputPortName encountered parsing element ejbBindings in the NAMEOFEAR-1.0.0.ear : NAMEOFJAR-1.0.0.jar : META-INF/ibm-ejb-jar-bnd.xmi deployment descriptor on line 4.\r\n\r\n\r\nSimply removing the listenerInputPortName attribute worked, but I&#39;m sure it will lead to problems afterwards?\r\n\r\nThe ibm-ejb-jar-bnd.xmi looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ejbbnd:EJBJarBinding xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:ejb=&quot;ejb.xmi&quot; xmlns:ejbbnd=&quot;ejbbnd.xmi&quot; xmi:id=&quot;EJBJarBinding_1&quot;&gt;\r\n  &lt;ejbJar href=&quot;META-INF/ejb-jar.xml#ejb-jar_ID&quot;/&gt;\r\n  &lt;ejbBindings xmi:type=&quot;ejbbnd:MessageDrivenBeanBinding&quot; xmi:id=&quot;MessageDrivenBeanBinding_1&quot; listenerInputPortName=&quot;SMTPMessageListenerPort&quot;&gt;\r\n    &lt;enterpriseBean xmi:type=&quot;ejb:MessageDriven&quot; href=&quot;META-INF/ejb-jar.xml#MessageDriven_1&quot;/&gt;\r\n    &lt;resRefBindings xmi:id=&quot;ResourceRefBinding_1&quot; jndiName=&quot;mail/SMTPMailSession&quot;&gt;\r\n  &lt;/ejbBindings&gt;\r\n&lt;/ejbbnd:EJBJarBinding&gt;\r\n```\r\n\r\n\r\nAlso example ejb-jar.xml:\r\n```\r\n&lt;ejb-jar ...&gt;\r\n\t&lt;display-name&gt;ejb&lt;/display-name&gt;\r\n\t&lt;enterprise-beans&gt;\r\n\t\t&lt;message-driven id=&quot;MessageDriven_1&quot;&gt;\r\n\t\t\t&lt;ejb-name&gt;SMTPSender&lt;/ejb-name&gt;\r\n\t\t\t&lt;ejb-class&gt;com.smtp.SMTPSendBean&lt;/ejb-class&gt;\r\n\t\t\t&lt;transaction-type&gt;Container&lt;/transaction-type&gt;\r\n\t\t\t&lt;message-destination-type&gt;javax.jms.Queue&lt;/message-destination-type&gt;\r\n\t\t\t&lt;activation-config&gt;\r\n              ...\r\n\t\t\t&lt;/activation-config&gt;\r\n\t\t\t&lt;resource-ref id=&quot;ResourceRef_1&quot;&gt;\r\n              ...\r\n\t\t\t&lt;/resource-ref&gt;\r\n\t\t&lt;/message-driven&gt;\r\n\t&lt;/enterprise-beans&gt;\r\n&lt;/ejb-jar&gt;\r\n```\r\n\r\n\r\nJMS-resources.xml (I&#39;m using config-drop ins): \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;server&gt;\r\n ...\r\n\r\n\r\n    &lt;jmsQueueConnectionFactory jndiName=&quot;jms/CompanySMTPMessageConnectionFactory&quot;&gt;\r\n        &lt;properties.mqJMS\r\n                ...\r\n                transportType=&quot;CLIENT&quot;/&gt;\r\n    &lt;/jmsQueueConnectionFactory&gt;\r\n\r\n    &lt;jmsQueue jndiName=&quot;jms/SMTPMessageQueue&quot;&gt;\r\n        &lt;properties.mqJMS baseQueueName=&quot;Q2&quot;/&gt;\r\n    &lt;/jmsQueue&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\nI&#39;m not sure how to migrate it to work with EJB 3.1 and running/deploying in OpenLiberty.\r\n","title":"WebSphere to OpenLiberty EJB 3 message driven beans migration from ibm-ejb-jar-bnd.xmi issue","body":"<p>During the deployment of our migrated ear with 2 war's from old Websphere 8.x into OpenLiberty I get this issue regarding unexpected element in the xmi:</p>\n<pre><code>[ERROR   ] CWWKZ0002E: An exception occurred while starting the application NAMEOFEAR-1.0.0. The exception message was: com.ibm.ws.container.service.metadata.MetaDataException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ejs.container.EJBConfigurationException: com.ibm.wsspi.adaptable.module.UnableToAdaptException: com.ibm.ws.javaee.ddmodel.DDParser$ParseException: CWWKC2256E: Unexpected attribute listenerInputPortName encountered parsing element ejbBindings in the NAMEOFEAR-1.0.0.ear : NAMEOFJAR-1.0.0.jar : META-INF/ibm-ejb-jar-bnd.xmi deployment descriptor on line 4.\n</code></pre>\n<p>Simply removing the listenerInputPortName attribute worked, but I'm sure it will lead to problems afterwards?</p>\n<p>The ibm-ejb-jar-bnd.xmi looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ejbbnd:EJBJarBinding xmi:version=&quot;2.0&quot; xmlns:xmi=&quot;http://www.omg.org/XMI&quot; xmlns:ejb=&quot;ejb.xmi&quot; xmlns:ejbbnd=&quot;ejbbnd.xmi&quot; xmi:id=&quot;EJBJarBinding_1&quot;&gt;\n  &lt;ejbJar href=&quot;META-INF/ejb-jar.xml#ejb-jar_ID&quot;/&gt;\n  &lt;ejbBindings xmi:type=&quot;ejbbnd:MessageDrivenBeanBinding&quot; xmi:id=&quot;MessageDrivenBeanBinding_1&quot; listenerInputPortName=&quot;SMTPMessageListenerPort&quot;&gt;\n    &lt;enterpriseBean xmi:type=&quot;ejb:MessageDriven&quot; href=&quot;META-INF/ejb-jar.xml#MessageDriven_1&quot;/&gt;\n    &lt;resRefBindings xmi:id=&quot;ResourceRefBinding_1&quot; jndiName=&quot;mail/SMTPMailSession&quot;&gt;\n  &lt;/ejbBindings&gt;\n&lt;/ejbbnd:EJBJarBinding&gt;\n</code></pre>\n<p>Also example ejb-jar.xml:</p>\n<pre><code>&lt;ejb-jar ...&gt;\n    &lt;display-name&gt;ejb&lt;/display-name&gt;\n    &lt;enterprise-beans&gt;\n        &lt;message-driven id=&quot;MessageDriven_1&quot;&gt;\n            &lt;ejb-name&gt;SMTPSender&lt;/ejb-name&gt;\n            &lt;ejb-class&gt;com.smtp.SMTPSendBean&lt;/ejb-class&gt;\n            &lt;transaction-type&gt;Container&lt;/transaction-type&gt;\n            &lt;message-destination-type&gt;javax.jms.Queue&lt;/message-destination-type&gt;\n            &lt;activation-config&gt;\n              ...\n            &lt;/activation-config&gt;\n            &lt;resource-ref id=&quot;ResourceRef_1&quot;&gt;\n              ...\n            &lt;/resource-ref&gt;\n        &lt;/message-driven&gt;\n    &lt;/enterprise-beans&gt;\n&lt;/ejb-jar&gt;\n</code></pre>\n<p>JMS-resources.xml (I'm using config-drop ins):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;server&gt;\n ...\n\n\n    &lt;jmsQueueConnectionFactory jndiName=&quot;jms/CompanySMTPMessageConnectionFactory&quot;&gt;\n        &lt;properties.mqJMS\n                ...\n                transportType=&quot;CLIENT&quot;/&gt;\n    &lt;/jmsQueueConnectionFactory&gt;\n\n    &lt;jmsQueue jndiName=&quot;jms/SMTPMessageQueue&quot;&gt;\n        &lt;properties.mqJMS baseQueueName=&quot;Q2&quot;/&gt;\n    &lt;/jmsQueue&gt;\n&lt;/server&gt;\n</code></pre>\n<p>I'm not sure how to migrate it to work with EJB 3.1 and running/deploying in OpenLiberty.</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1696605704,"post_id":77245336,"comment_id":136179093,"body_markdown":"you can use expression like : @Mapping(target = &quot;address&quot;, expression = &quot;java(null)&quot;) or just ignore this field @Mapping(target = &quot;address&quot;, ignore = true)","body":"you can use expression like : @Mapping(target = &quot;address&quot;, expression = &quot;java(null)&quot;) or just ignore this field @Mapping(target = &quot;address&quot;, ignore = true)"}],"answers":[{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696660483,"creation_date":1696660483,"answer_id":77248655,"question_id":77245336,"body_markdown":"The @Mapping annotation specifies to use a custom qualifiedByName method toAddressResponse() for the address field. This method checks if the Address object is null or if all of its fields are null. If so, it returns null; otherwise, it proceeds with the normal mapping.\r\n\r\n\r\n    @Mapper\r\n    public interface OwnerMapper {\r\n    \r\n        @Mapping(target = &quot;address&quot;, qualifiedByName = &quot;toAddressResponse&quot;)\r\n        OwnerResponse toOwnerResponse(Owner owner);\r\n    \r\n        @Named(&quot;toAddressResponse&quot;)\r\n        default AddressResponse toAddressResponse(Address address) {\r\n            if (address == null || (address.getZip() == null &amp;&amp; address.getStreet() == null)) {\r\n                return null;\r\n            }\r\n            return new AddressResponse(address.getZip(), address.getStreet());\r\n        }\r\n    }\r\n\r\n\r\n","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>The @Mapping annotation specifies to use a custom qualifiedByName method toAddressResponse() for the address field. This method checks if the Address object is null or if all of its fields are null. If so, it returns null; otherwise, it proceeds with the normal mapping.</p>\n<pre><code>@Mapper\npublic interface OwnerMapper {\n\n    @Mapping(target = &quot;address&quot;, qualifiedByName = &quot;toAddressResponse&quot;)\n    OwnerResponse toOwnerResponse(Owner owner);\n\n    @Named(&quot;toAddressResponse&quot;)\n    default AddressResponse toAddressResponse(Address address) {\n        if (address == null || (address.getZip() == null &amp;&amp; address.getStreet() == null)) {\n            return null;\n        }\n        return new AddressResponse(address.getZip(), address.getStreet());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6813968,"reputation":8276,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696860391,"creation_date":1696860391,"answer_id":77259498,"question_id":77245336,"body_markdown":"The Problem actually was that the mapper had [NullValueMappingStrategy][1] set like this: `@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT, componentModel = &quot;spring&quot;)` Since I had no default values defined, it just put an instance of `Address` there with all properties set to `null`, if the source value was `null`. After I removed this, the `Address` was properly set to `null`.\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueMappingStrategy.html","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>The Problem actually was that the mapper had <a href=\"https://mapstruct.org/documentation/stable/api/org/mapstruct/NullValueMappingStrategy.html\" rel=\"nofollow noreferrer\">NullValueMappingStrategy</a> set like this: <code>@Mapper(nullValueMappingStrategy = NullValueMappingStrategy.RETURN_DEFAULT, componentModel = &quot;spring&quot;)</code> Since I had no default values defined, it just put an instance of <code>Address</code> there with all properties set to <code>null</code>, if the source value was <code>null</code>. After I removed this, the <code>Address</code> was properly set to <code>null</code>.</p>\n"}],"owner":{"account_id":6813968,"reputation":8276,"user_id":5243272,"accept_rate":83,"display_name":"sandrooco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77259498,"answer_count":2,"score":0,"last_activity_date":1696860391,"creation_date":1696603041,"question_id":77245336,"body_markdown":"My current mapper looks like this:\r\n\r\n        public abstract OwnerResponse toOwnerResponse(Owner owner);\r\n\r\n\r\nA `Owner` has basic properties like, `id`, `name` etc. Mapping these works properly.\r\nNow `Owner` also has a `address` property which will be an `Address` class (with `zip`, `street` etc). In some instances, the address can be empty. This will look lile this in json response:\r\n`{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: {&quot;zip&quot;: null, &quot;street&quot;: null}}`\r\n\r\nInstead of that, I would like to have the whole `Owner.address` to be `null` instead of having a whole `Address` class that has a lot of `null` properties. Example:\r\n`{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: null}`\r\n\r\n\r\nHow do I achieve this?","title":"Mapstruct set whole property to null instead of all properties in nested class","body":"<p>My current mapper looks like this:</p>\n<pre><code>    public abstract OwnerResponse toOwnerResponse(Owner owner);\n</code></pre>\n<p>A <code>Owner</code> has basic properties like, <code>id</code>, <code>name</code> etc. Mapping these works properly.\nNow <code>Owner</code> also has a <code>address</code> property which will be an <code>Address</code> class (with <code>zip</code>, <code>street</code> etc). In some instances, the address can be empty. This will look lile this in json response:\n<code>{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: {&quot;zip&quot;: null, &quot;street&quot;: null}}</code></p>\n<p>Instead of that, I would like to have the whole <code>Owner.address</code> to be <code>null</code> instead of having a whole <code>Address</code> class that has a lot of <code>null</code> properties. Example:\n<code>{&quot;id&quot;: 1, &quot;name&quot;: &quot;Peter&quot;, &quot;address&quot;: null}</code></p>\n<p>How do I achieve this?</p>\n"},{"tags":["java","eclipse","debian","libpcap","shared-libraries"],"comments":[{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":4,"creation_date":1403472192,"post_id":24355833,"comment_id":37659426,"body_markdown":"If you want to use a 32 bit native library, you must use a 32 bit jvm.","body":"If you want to use a 32 bit native library, you must use a 32 bit jvm."},{"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"score":0,"creation_date":1403528581,"post_id":24355833,"comment_id":37679455,"body_markdown":"is there any other solution ? using JVM 64 bit","body":"is there any other solution ? using JVM 64 bit"},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":2,"creation_date":1403529084,"post_id":24355833,"comment_id":37679787,"body_markdown":"Get 64 bit version of the native library - check in `/usr/lib64` rather than `/usr/lib`.","body":"Get 64 bit version of the native library - check in <code>&#47;usr&#47;lib64</code> rather than <code>&#47;usr&#47;lib</code>."},{"owner":{"account_id":677225,"reputation":6228,"user_id":676877,"display_name":"Brett Okken"},"score":1,"creation_date":1403529318,"post_id":24355833,"comment_id":37679938,"body_markdown":"You may need to check your `LD_LIBRARY_PATH` environment variable. If you are running with a 64 bit jvm, then `/usr/lib` should not be part of the `LD_LIBRARY_PATH` and `/usr/lib64` should be.","body":"You may need to check your <code>LD_LIBRARY_PATH</code> environment variable. If you are running with a 64 bit jvm, then <code>&#47;usr&#47;lib</code> should not be part of the <code>LD_LIBRARY_PATH</code> and <code>&#47;usr&#47;lib64</code> should be."},{"owner":{"account_id":421354,"reputation":309,"user_id":799552,"accept_rate":40,"display_name":"Kevin"},"score":0,"creation_date":1453326003,"post_id":24355833,"comment_id":57557804,"body_markdown":"@BrettOkken: I have a similar issue in RHEL running 32-bit libraries. How can I use a 32 bit JVM on RHEL 7?","body":"@BrettOkken: I have a similar issue in RHEL running 32-bit libraries. How can I use a 32 bit JVM on RHEL 7?"},{"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"score":0,"creation_date":1453364296,"post_id":24355833,"comment_id":57571220,"body_markdown":"@BrettOkken make sure you are using the right library. since you have 32 JVM, you should use 32 bit Lib.","body":"@BrettOkken make sure you are using the right library. since you have 32 JVM, you should use 32 bit Lib."}],"answers":[{"tags":[],"owner":{"account_id":1047481,"reputation":19771,"user_id":1069083,"accept_rate":71,"display_name":"rubo77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599728007,"creation_date":1599728007,"answer_id":63826164,"question_id":24355833,"body_markdown":"What does the file ` /usr/lib/libjnetpcap.so.1.3.b0003` contain?\r\n\r\nIf the file is a **0-byte-file**, there is something really wrong, so try to repair your system by reinstalling that library.\r\n\r\nI had the same problem in smartgit, where a library in the local config folder was used, which was somehow corrupted and was a 0 byte file. So deleting the config folder and restarting the app worked for me. This could be a solution here too.","title":"OpenJDK 64-Bit Server VM warning: You have loaded library which might have disabled stack guard","body":"<p>What does the file <code> /usr/lib/libjnetpcap.so.1.3.b0003</code> contain?</p>\n<p>If the file is a <strong>0-byte-file</strong>, there is something really wrong, so try to repair your system by reinstalling that library.</p>\n<p>I had the same problem in smartgit, where a library in the local config folder was used, which was somehow corrupted and was a 0 byte file. So deleting the config folder and restarting the app worked for me. This could be a solution here too.</p>\n"}],"owner":{"account_id":4184803,"reputation":229,"user_id":3428817,"accept_rate":40,"display_name":"Sam  Ben"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32807,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1696860065,"creation_date":1403471936,"question_id":24355833,"body_markdown":"can any one help me with this error message . \r\n\r\nwhile try to compile project in eclipse using jNetpcap API \r\n\r\nI followed all the steps mentioned on the website below ,how to setup the environment on Debian distribution  \r\n\r\nhttp://jnetpcap.com/compile/debian\r\n\r\n\r\nthough I still get the following error message \r\n\r\n&gt; choosedevice ...  OpenJDK 64-Bit Server VM warning: You have loaded\r\n&gt; library        /usr/lib/libjnetpcap.so.1.3.b0003 which might have\r\n&gt; disabled stack guard. The VM will try to   fix the stack guard now.\r\n&gt; It&#39;s highly recommended that you fix the library with &#39;execstack -c\r\n&gt; &lt;libfile&gt;&#39;, or link it with &#39;-z noexecstack&#39;. Exception in thread\r\n&gt; &quot;main&quot; java.lang.UnsatisfiedLinkError:\r\n&gt; /usr/lib/libjnetpcap.so.1.3.b0003: /usr/lib/libjnetpcap.so.1.3.b0003:\r\n&gt; mauvaise classe ELF&#160;:&#160;ELFCLASS32 (Possible cause: architecture word\r\n&gt; width mismatch) \tat java.lang.ClassLoader$NativeLibrary.load(Native\r\n&gt; Method) \tat java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\r\n&gt; \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890) \tat\r\n&gt; java.lang.ClassLoader.loadLibrary(ClassLoader.java:1880) \tat\r\n&gt; java.lang.Runtime.loadLibrary0(Runtime.java:849) \tat\r\n&gt; java.lang.System.loadLibrary(System.java:1088) \tat\r\n&gt; org.jnetpcap.Pcap.&lt;clinit&gt;(Unknown Source) \tat\r\n&gt; main.Main_app.choosedevice(Main_app.java:74) \tat\r\n&gt; main.Main_app.main(Main_app.java:273)\r\n\r\nBy the way I tried to execute &quot; execstac -c &quot; it doesn&#39;t work at all\r\nAlso I spent days trying to figure out the solution , the only conclusion i come up with so far , is i need to use libjnetpcap.so (64 bit) since i have 64 bit architecture on my Debian .\r\nso is that what i need to do ?\r\n\r\nPS : I can&#39;t find any &quot;.deb&quot; to install this library for 64 bit.\r\n\r\n\r\n\r\n","title":"OpenJDK 64-Bit Server VM warning: You have loaded library which might have disabled stack guard","body":"<p>can any one help me with this error message . </p>\n\n<p>while try to compile project in eclipse using jNetpcap API </p>\n\n<p>I followed all the steps mentioned on the website below ,how to setup the environment on Debian distribution  </p>\n\n<p><a href=\"http://jnetpcap.com/compile/debian\" rel=\"noreferrer\">http://jnetpcap.com/compile/debian</a></p>\n\n<p>though I still get the following error message </p>\n\n<blockquote>\n  <p>choosedevice ...  OpenJDK 64-Bit Server VM warning: You have loaded\n  library        /usr/lib/libjnetpcap.so.1.3.b0003 which might have\n  disabled stack guard. The VM will try to   fix the stack guard now.\n  It's highly recommended that you fix the library with 'execstack -c\n  ', or link it with '-z noexecstack'. Exception in thread\n  \"main\" java.lang.UnsatisfiedLinkError:\n  /usr/lib/libjnetpcap.so.1.3.b0003: /usr/lib/libjnetpcap.so.1.3.b0003:\n  mauvaise classe ELF : ELFCLASS32 (Possible cause: architecture word\n  width mismatch)   at java.lang.ClassLoader$NativeLibrary.load(Native\n  Method)   at java.lang.ClassLoader.loadLibrary1(ClassLoader.java:1965)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1890)    at\n  java.lang.ClassLoader.loadLibrary(ClassLoader.java:1880)  at\n  java.lang.Runtime.loadLibrary0(Runtime.java:849)  at\n  java.lang.System.loadLibrary(System.java:1088)    at\n  org.jnetpcap.Pcap.(Unknown Source)    at\n  main.Main_app.choosedevice(Main_app.java:74)  at\n  main.Main_app.main(Main_app.java:273)</p>\n</blockquote>\n\n<p>By the way I tried to execute \" execstac -c \" it doesn't work at all\nAlso I spent days trying to figure out the solution , the only conclusion i come up with so far , is i need to use libjnetpcap.so (64 bit) since i have 64 bit architecture on my Debian .\nso is that what i need to do ?</p>\n\n<p>PS : I can't find any \".deb\" to install this library for 64 bit.</p>\n"},{"tags":["java","maven","servlets","jetty","jetty-9"],"comments":[{"owner":{"account_id":1130089,"reputation":24025,"user_id":1116391,"display_name":"Bogdan"},"score":1,"creation_date":1614246463,"post_id":66361859,"comment_id":117329171,"body_markdown":"I&#39;m making a guess here (since you don&#39;t have any errors), but could it be because Jetty 11 uses the JakartaEE namespace with a servlet version 5.0 and you are still using a `javax` servlet? You have `javax.servlet-api` in your dependencies for the `javax` classes, but maybe Jetty is looking for a `jakarta.servlet.http.HttpServlet` servlet? Again, it&#39;s just a guess. Also, have you tried using Jetty 10 to see if the code still works? (Jetty 10 uses servlet version 4.0)","body":"I&#39;m making a guess here (since you don&#39;t have any errors), but could it be because Jetty 11 uses the JakartaEE namespace with a servlet version 5.0 and you are still using a <code>javax</code> servlet? You have <code>javax.servlet-api</code> in your dependencies for the <code>javax</code> classes, but maybe Jetty is looking for a <code>jakarta.servlet.http.HttpServlet</code> servlet? Again, it&#39;s just a guess. Also, have you tried using Jetty 10 to see if the code still works? (Jetty 10 uses servlet version 4.0)"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1614302961,"post_id":66361859,"comment_id":117351408,"body_markdown":"@Bogdan Thanks for the reply. I believe you&#39;re onto something with the Jakarta suspicion, and that agrees with the answer below. I tried using Jetty 10, as well as the Jakarta servlets dependency (both with Jetty 10 and 11), but I&#39;m still getting a 404. Looks like my only option is to go back to Jetty 9.","body":"@Bogdan Thanks for the reply. I believe you&#39;re onto something with the Jakarta suspicion, and that agrees with the answer below. I tried using Jetty 10, as well as the Jakarta servlets dependency (both with Jetty 10 and 11), but I&#39;m still getting a 404. Looks like my only option is to go back to Jetty 9."},{"owner":{"account_id":1046253,"reputation":180,"user_id":1051180,"accept_rate":50,"display_name":"MazeGen"},"score":0,"creation_date":1623842372,"post_id":66361859,"comment_id":120191727,"body_markdown":"@KevinWorkman I also tried to update your app-engine-hello-world project to Jetty 11 without success. In case of the original project, exec:java clearly scans for the annotations but it won&#39;t scan after upgrade to Jetty 11.","body":"@KevinWorkman I also tried to update your app-engine-hello-world project to Jetty 11 without success. In case of the original project, exec:java clearly scans for the annotations but it won&#39;t scan after upgrade to Jetty 11."}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1614258406,"post_id":66368511,"comment_id":117334616,"body_markdown":"In other words, fix Servlet API in `pom.xml` to use `jakarta.servlet:jakarta.servlet-api:5.0.0` instead and readjust code accordingly so it compiles.","body":"In other words, fix Servlet API in <code>pom.xml</code> to use <code>jakarta.servlet:jakarta.servlet-api:5.0.0</code> instead and readjust code accordingly so it compiles."},{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1614259207,"post_id":66368511,"comment_id":117334983,"body_markdown":"@BalusC and any of your other dependencies that use the servlet-api as well (in the OPs case, his pom seems to hint at using Google App Engine, which IIRC does not yet support jakarta.servlets)","body":"@BalusC and any of your other dependencies that use the servlet-api as well (in the OPs case, his pom seems to hint at using Google App Engine, which IIRC does not yet support jakarta.servlets)"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":2,"creation_date":1614302614,"post_id":66368511,"comment_id":117351316,"body_markdown":"When I use `jakarta.servlet:jakarta.servlet-api:5.0.0` in my `pom.xml` file and change my servlet file to use the right imports, I&#39;m still getting a 404. And I am indeed using App Engine to deploy my live site, so there might be further complications there. So it sounds like the right thing to do for now is to just go back to Jetty 9. Thank you both for the replies. I&#39;m going to leave this open for a bit just in case anybody has a fix, but if not I&#39;ll accept this shortly. Thanks again!","body":"When I use <code>jakarta.servlet:jakarta.servlet-api:5.0.0</code> in my <code>pom.xml</code> file and change my servlet file to use the right imports, I&#39;m still getting a 404. And I am indeed using App Engine to deploy my live site, so there might be further complications there. So it sounds like the right thing to do for now is to just go back to Jetty 9. Thank you both for the replies. I&#39;m going to leave this open for a bit just in case anybody has a fix, but if not I&#39;ll accept this shortly. Thanks again!"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":1,"creation_date":1624208436,"post_id":66368511,"comment_id":120289842,"body_markdown":"@JoakimErdfelt I asked a follow-up question about Jetty 11 not detecting Jakarta servlets here: https://stackoverflow.com/questions/68058157/jetty-11-doesnt-detect-jakarta-servlets","body":"@JoakimErdfelt I asked a follow-up question about Jetty 11 not detecting Jakarta servlets here: <a href=\"https://stackoverflow.com/questions/68058157/jetty-11-doesnt-detect-jakarta-servlets\" title=\"jetty 11 doesnt detect jakarta servlets\">stackoverflow.com/questions/68058157/&hellip;</a>"}],"tags":[],"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"comment_count":4,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1696858549,"creation_date":1614256226,"answer_id":66368511,"question_id":66361859,"body_markdown":"Jetty 11 is based on Jakarta Servlet 5.0, which is part of Jakarta EE 9.\r\n\r\nJakarta EE 9 underwent the &quot;big bang&quot; change (their name, not mine) to namespace and packaging, there is no longer a `javax.servlet.*` it is now `jakarta.servlet.*`.\r\n\r\nThere is literally nothing in Jetty 11 that looks for `javax.servlet.*`.\r\n\r\nSome quick history ...\r\n\r\n* Oracle owned Java EE.\r\n* Oracle produced Java EE 7.\r\n* Oracle decided it didn&#39;t want to create/manage EE anymore.\r\n* Oracle gave all of EE to the Eclipse Foundation.\r\n* Oracle did not grant the Eclipse Foundation the right to use &quot;java&quot; or &quot;javax&quot; in this new EE reality.\r\n* Eclipse Foundation renamed it to &quot;Jakarta EE&quot; for legal reasons.\r\n* Eclipse Foundation releases &quot;Jakarta EE 8&quot; which is essentially just &quot;Java EE 7&quot; renamed for legal reasons (no package namespace change yet)\r\n* Eclipse Foundation renamed all packaging from `javax.&lt;spec&gt;` to `jakarta.&lt;spec&gt;` for legal reasons.\r\n* Eclipse Foundation releases &quot;Jakarta EE 9&quot; which is essentially just &quot;Jakarta EE 8&quot; but with a namespace change (this is the &quot;big bang&quot; mentioned above)\r\n\r\n(be aware, I skimmed over a lot of other things that happened between these steps)\r\n\r\n`javax.servlet.*` is dead, long live `jakarta.servlet.*`.\r\n\r\nJetty maintains the following versions (currently)\r\n\r\nJetty | Env | Servlet | EE | Namespace\r\n----- | ----- | ------- | ----- | -----\r\nJetty 12.x | `ee10` | Servlet 6.0 | Jakarta EE 10 | `jakarta.servlet`\r\nJetty 12.x | `ee9` | Servlet 5.0 | Jakarta EE 9 | `jakarta.servlet`\r\nJetty 12.x | `ee8` | Servlet 4.0 | Jakarta EE 8 | `javax.servlet`\r\nJetty 11.x | _n/a_ | Servlet 5.0 | Jakarta EE 9 | `jakarta.servlet`\r\nJetty 10.x | _n/a_ | Servlet 4.0 | Jakarta EE 8 | `javax.servlet`\r\n\r\nStarting with Jetty 12.x, Jetty supports the concept of _Environments_ which allows for deploying webapps targeting different EE environments all at the same time on Jetty.  This means you can have a `webapp-legacy.war` deployed to the `ee8` environment that supports `javax.servlet` (on Servlet 4.0) and `webapp-modern.war` deployed to `ee10` environment supporting `jakarta.servlet` (on Servlet 6.0)\r\n\r\nNote: Jetty 11 and Jetty 10 do not have this environment functionality and are stuck on a fixed version of EE per their Jetty version.\r\n","title":"Jetty 11 Doesn&#39;t Detect Servlets","body":"<p>Jetty 11 is based on Jakarta Servlet 5.0, which is part of Jakarta EE 9.</p>\n<p>Jakarta EE 9 underwent the &quot;big bang&quot; change (their name, not mine) to namespace and packaging, there is no longer a <code>javax.servlet.*</code> it is now <code>jakarta.servlet.*</code>.</p>\n<p>There is literally nothing in Jetty 11 that looks for <code>javax.servlet.*</code>.</p>\n<p>Some quick history ...</p>\n<ul>\n<li>Oracle owned Java EE.</li>\n<li>Oracle produced Java EE 7.</li>\n<li>Oracle decided it didn't want to create/manage EE anymore.</li>\n<li>Oracle gave all of EE to the Eclipse Foundation.</li>\n<li>Oracle did not grant the Eclipse Foundation the right to use &quot;java&quot; or &quot;javax&quot; in this new EE reality.</li>\n<li>Eclipse Foundation renamed it to &quot;Jakarta EE&quot; for legal reasons.</li>\n<li>Eclipse Foundation releases &quot;Jakarta EE 8&quot; which is essentially just &quot;Java EE 7&quot; renamed for legal reasons (no package namespace change yet)</li>\n<li>Eclipse Foundation renamed all packaging from <code>javax.&lt;spec&gt;</code> to <code>jakarta.&lt;spec&gt;</code> for legal reasons.</li>\n<li>Eclipse Foundation releases &quot;Jakarta EE 9&quot; which is essentially just &quot;Jakarta EE 8&quot; but with a namespace change (this is the &quot;big bang&quot; mentioned above)</li>\n</ul>\n<p>(be aware, I skimmed over a lot of other things that happened between these steps)</p>\n<p><code>javax.servlet.*</code> is dead, long live <code>jakarta.servlet.*</code>.</p>\n<p>Jetty maintains the following versions (currently)</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Jetty</th>\n<th>Env</th>\n<th>Servlet</th>\n<th>EE</th>\n<th>Namespace</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee10</code></td>\n<td>Servlet 6.0</td>\n<td>Jakarta EE 10</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee9</code></td>\n<td>Servlet 5.0</td>\n<td>Jakarta EE 9</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 12.x</td>\n<td><code>ee8</code></td>\n<td>Servlet 4.0</td>\n<td>Jakarta EE 8</td>\n<td><code>javax.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 11.x</td>\n<td><em>n/a</em></td>\n<td>Servlet 5.0</td>\n<td>Jakarta EE 9</td>\n<td><code>jakarta.servlet</code></td>\n</tr>\n<tr>\n<td>Jetty 10.x</td>\n<td><em>n/a</em></td>\n<td>Servlet 4.0</td>\n<td>Jakarta EE 8</td>\n<td><code>javax.servlet</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Starting with Jetty 12.x, Jetty supports the concept of <em>Environments</em> which allows for deploying webapps targeting different EE environments all at the same time on Jetty.  This means you can have a <code>webapp-legacy.war</code> deployed to the <code>ee8</code> environment that supports <code>javax.servlet</code> (on Servlet 4.0) and <code>webapp-modern.war</code> deployed to <code>ee10</code> environment supporting <code>jakarta.servlet</code> (on Servlet 6.0)</p>\n<p>Note: Jetty 11 and Jetty 10 do not have this environment functionality and are stuck on a fixed version of EE per their Jetty version.</p>\n"}],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8882,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":66368511,"answer_count":1,"score":5,"last_activity_date":1696858549,"creation_date":1614222707,"question_id":66361859,"body_markdown":"I have an example project [here](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world) that uses Jetty to deploy a local server.\r\n\r\nI use the `mvn package exec:java` command to run a local server, and it works fine. It loads HTML files, as well as content from servlets. Here are the pertinent files:\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 11 --&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;jetty.version&gt;9.4.35.v20201120&lt;/jetty.version&gt;\r\n\r\n    &lt;!-- Project-specific properties --&gt;\r\n    &lt;exec.mainClass&gt;io.happycoding.ServerMain&lt;/exec.mainClass&gt;\r\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Java Servlets API --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jetty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${project.build.directory}/classes/META-INF/resources\r\n              &lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Package everything into a single executable jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**ServerMain.java**\r\n\r\n```java\r\npackage io.happycoding;\r\n\r\nimport java.net.URL;\r\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.webapp.Configuration;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\r\n\r\n/**\r\n * Starts up the server, including a DefaultServlet that handles static files,\r\n * and any servlet classes annotated with the @WebServlet annotation.\r\n */\r\npublic class ServerMain {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    // Create a server that listens on port 8080.\r\n    Server server = new Server(8080);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    server.setHandler(webAppContext);\r\n\r\n    // Load static content from inside the jar file.\r\n    URL webAppDir =\r\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\r\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\r\n\r\n    // Enable annotations so the server sees classes annotated with @WebServlet.\r\n    webAppContext.setConfigurations(new Configuration[]{ \r\n      new AnnotationConfiguration(),\r\n      new WebInfConfiguration(), \r\n    });\r\n\r\n    // Look for annotations in the classes directory (dev server) and in the\r\n    // jar file (live server)\r\n    webAppContext.setAttribute(\r\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \r\n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\r\n\r\n    // Handle static resources, e.g. html files.\r\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n\r\n    // Start the server! &#128640;\r\n    server.start();\r\n    System.out.println(&quot;Server started!&quot;);\r\n\r\n    // Keep the main thread alive while the server is running.\r\n    server.join();\r\n  }\r\n}\r\n```\r\n\r\n**HelloWorldServlet.java**\r\n\r\n```java\r\npackage io.happycoding.servlets;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/hello&quot;)\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n  @Override\r\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n      throws IOException {\r\n    response.setContentType(&quot;text/html;&quot;);\r\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\r\n  }\r\n}\r\n```\r\n\r\nAgain, this works fine... as long as I&#39;m using Jetty 9.\r\n\r\nBut if I update my `pom.xml` file to set my `jetty.version` to `11.0.0`, then suddenly I get a 404 for my servlet URL. I don&#39;t see any errors in the console.\r\n\r\nWhat do I need to change about my code to get servlets to work again in Jetty 11?\r\n\r\n(I&#39;m asking because I got a bunch of dependabot updates to various student projects that all stopped working, and I&#39;m trying to untangle them with the least friction possible.)","title":"Jetty 11 Doesn&#39;t Detect Servlets","body":"<p>I have an example project <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/app-engine-hello-world\" rel=\"noreferrer\">here</a> that uses Jetty to deploy a local server.</p>\n<p>I use the <code>mvn package exec:java</code> command to run a local server, and it works fine. It loads HTML files, as well as content from servlets. Here are the pertinent files:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;app-engine-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 11 --&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jetty.version&gt;9.4.35.v20201120&lt;/jetty.version&gt;\n\n    &lt;!-- Project-specific properties --&gt;\n    &lt;exec.mainClass&gt;io.happycoding.ServerMain&lt;/exec.mainClass&gt;\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Java Servlets API --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jetty --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/classes/META-INF/resources\n              &lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Package everything into a single executable jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;${exec.mainClass}&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\n          &lt;version&gt;1&lt;/version&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>ServerMain.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding;\n\nimport java.net.URL;\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\n\n/**\n * Starts up the server, including a DefaultServlet that handles static files,\n * and any servlet classes annotated with the @WebServlet annotation.\n */\npublic class ServerMain {\n\n  public static void main(String[] args) throws Exception {\n\n    // Create a server that listens on port 8080.\n    Server server = new Server(8080);\n    WebAppContext webAppContext = new WebAppContext();\n    server.setHandler(webAppContext);\n\n    // Load static content from inside the jar file.\n    URL webAppDir =\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\n\n    // Enable annotations so the server sees classes annotated with @WebServlet.\n    webAppContext.setConfigurations(new Configuration[]{ \n      new AnnotationConfiguration(),\n      new WebInfConfiguration(), \n    });\n\n    // Look for annotations in the classes directory (dev server) and in the\n    // jar file (live server)\n    webAppContext.setAttribute(\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\n\n    // Handle static resources, e.g. html files.\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\n\n    // Start the server! 🚀\n    server.start();\n    System.out.println(&quot;Server started!&quot;);\n\n    // Keep the main thread alive while the server is running.\n    server.join();\n  }\n}\n</code></pre>\n<p><strong>HelloWorldServlet.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding.servlets;\n\nimport java.io.IOException;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/hello&quot;)\npublic class HelloWorldServlet extends HttpServlet {\n\n  @Override\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n    response.setContentType(&quot;text/html;&quot;);\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\n  }\n}\n</code></pre>\n<p>Again, this works fine... as long as I'm using Jetty 9.</p>\n<p>But if I update my <code>pom.xml</code> file to set my <code>jetty.version</code> to <code>11.0.0</code>, then suddenly I get a 404 for my servlet URL. I don't see any errors in the console.</p>\n<p>What do I need to change about my code to get servlets to work again in Jetty 11?</p>\n<p>(I'm asking because I got a bunch of dependabot updates to various student projects that all stopped working, and I'm trying to untangle them with the least friction possible.)</p>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":1471109,"reputation":2221,"user_id":3182139,"accept_rate":71,"display_name":"LHWizard"},"score":1,"creation_date":1678826865,"post_id":75734389,"comment_id":133608357,"body_markdown":"I&#39;d bump the heap size to 16G since you&#39;re JVM is running out of memory.","body":"I&#39;d bump the heap size to 16G since you&#39;re JVM is running out of memory."},{"owner":{"account_id":238386,"reputation":22323,"user_id":507256,"accept_rate":87,"display_name":"Madhur Ahuja"},"score":0,"creation_date":1696526226,"post_id":75734389,"comment_id":136167765,"body_markdown":"Were you able to figure out the solution. I am having similar problem.","body":"Were you able to figure out the solution. I am having similar problem."}],"answers":[{"comments":[{"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"score":0,"creation_date":1679039417,"post_id":75747286,"comment_id":133652665,"body_markdown":"Thanks guys for your answers. I have bumped up the Xmx and Xms to 16GB half of what I have in the machine, but unfortunately the problem remains. I have also updated to G1GC. From the dump I placed above, why are you both saying it&#39;s out of memory? Do you have any other suggestions what it could be?","body":"Thanks guys for your answers. I have bumped up the Xmx and Xms to 16GB half of what I have in the machine, but unfortunately the problem remains. I have also updated to G1GC. From the dump I placed above, why are you both saying it&#39;s out of memory? Do you have any other suggestions what it could be?"}],"tags":[],"owner":{"account_id":60456,"reputation":55971,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678896558,"creation_date":1678896558,"answer_id":75747286,"question_id":75734389,"body_markdown":"Echoing what LHWizard said, in looking through your question, it looks like your heap size is slightly less than 8GB.  That means you&#39;re getting the default, computed size, which probably isn&#39;t enough.\r\n\r\nAs you appear to be using the CMS garbage collector, the heap sizing (specified in the `conf/jvm-server.options` file) should look something like this:\r\n\r\n    -Xmx16GB\r\n    -Xms16GB\r\n    -Xmn6GB\r\n\r\nSo `Xmx` is the max heap size.  `Xms` is the initial heap size, but as resizing the heap gives a performance hit, with Cassandra you typically want to set max and initial heap sizes the same.  Also with Cassandra and CMS, you should target a new gen size of 25% to 50% of the heap, which is why I have `Xmn6GB`.\r\n\r\nNote that you should explore the config options in the `jvm11-server.options` for the G1 garbage collector instead. The CMS collector was deprecated in Java 9 and removed in Java 14.  If you do decide to go that route, you only need to worry about `Xmx` and `Xms` (you shouldn&#39;t set the new gen size with G1GC).\r\n\r\n","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>Echoing what LHWizard said, in looking through your question, it looks like your heap size is slightly less than 8GB.  That means you're getting the default, computed size, which probably isn't enough.</p>\n<p>As you appear to be using the CMS garbage collector, the heap sizing (specified in the <code>conf/jvm-server.options</code> file) should look something like this:</p>\n<pre><code>-Xmx16GB\n-Xms16GB\n-Xmn6GB\n</code></pre>\n<p>So <code>Xmx</code> is the max heap size.  <code>Xms</code> is the initial heap size, but as resizing the heap gives a performance hit, with Cassandra you typically want to set max and initial heap sizes the same.  Also with Cassandra and CMS, you should target a new gen size of 25% to 50% of the heap, which is why I have <code>Xmn6GB</code>.</p>\n<p>Note that you should explore the config options in the <code>jvm11-server.options</code> for the G1 garbage collector instead. The CMS collector was deprecated in Java 9 and removed in Java 14.  If you do decide to go that route, you only need to worry about <code>Xmx</code> and <code>Xms</code> (you shouldn't set the new gen size with G1GC).</p>\n"},{"tags":[],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696858420,"creation_date":1696858420,"answer_id":77259253,"question_id":75734389,"body_markdown":"@Madhur Ahuja, The way I solved it is based on all the answers I received.\r\nI bumped up the memory and enabled G1 garbage collector. Also I&#39;m using the latest version which is today: 4.1.3. Since then, I do not have this error.\r\n\r\nI defined:\r\n\r\n    MAX_HEAP_SIZE: &#39;16G&#39;          # Should be between 1/4 to 1/2 of total available memory.\r\n    HEAP_NEWSIZE: &#39;400M&#39;          # Should be 100M * core count.\r\n\r\nAnd modified the jvm11-server.options to use the G1 garbage collectors and disabling CMS using this:\r\n\r\n    ### CMS Settings\r\n    #-XX:+UseConcMarkSweepGC\r\n    #-XX:+CMSParallelRemarkEnabled\r\n    #-XX:SurvivorRatio=8\r\n    #-XX:MaxTenuringThreshold=1\r\n    #-XX:CMSInitiatingOccupancyFraction=75\r\n    #-XX:+UseCMSInitiatingOccupancyOnly\r\n    #-XX:CMSWaitDuration=10000\r\n    #-XX:+CMSParallelInitialMarkEnabled\r\n    #-XX:+CMSEdenChunksRecordAlways\r\n    ## some JVMs will fill up their heap when accessed via JMX, see CASSANDRA-6541\r\n    #-XX:+CMSClassUnloadingEnabled \t\r\n    \r\n    \r\n    \r\n    ### G1 Settings\r\n    ## Use the Hotspot garbage-first collector.\r\n    -XX:+UseG1GC\r\n    -XX:+ParallelRefProcEnabled\r\n    -XX:MaxTenuringThreshold=1\r\n    -XX:G1HeapRegionSize=16m\r\n\r\nHope it helps you.\r\n","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>@Madhur Ahuja, The way I solved it is based on all the answers I received.\nI bumped up the memory and enabled G1 garbage collector. Also I'm using the latest version which is today: 4.1.3. Since then, I do not have this error.</p>\n<p>I defined:</p>\n<pre><code>MAX_HEAP_SIZE: '16G'          # Should be between 1/4 to 1/2 of total available memory.\nHEAP_NEWSIZE: '400M'          # Should be 100M * core count.\n</code></pre>\n<p>And modified the jvm11-server.options to use the G1 garbage collectors and disabling CMS using this:</p>\n<pre><code>### CMS Settings\n#-XX:+UseConcMarkSweepGC\n#-XX:+CMSParallelRemarkEnabled\n#-XX:SurvivorRatio=8\n#-XX:MaxTenuringThreshold=1\n#-XX:CMSInitiatingOccupancyFraction=75\n#-XX:+UseCMSInitiatingOccupancyOnly\n#-XX:CMSWaitDuration=10000\n#-XX:+CMSParallelInitialMarkEnabled\n#-XX:+CMSEdenChunksRecordAlways\n## some JVMs will fill up their heap when accessed via JMX, see CASSANDRA-6541\n#-XX:+CMSClassUnloadingEnabled  \n\n\n\n### G1 Settings\n## Use the Hotspot garbage-first collector.\n-XX:+UseG1GC\n-XX:+ParallelRefProcEnabled\n-XX:MaxTenuringThreshold=1\n-XX:G1HeapRegionSize=16m\n</code></pre>\n<p>Hope it helps you.</p>\n"}],"owner":{"account_id":1726908,"reputation":891,"user_id":1581366,"accept_rate":33,"display_name":"BuckBazooka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696858420,"creation_date":1678803576,"question_id":75734389,"body_markdown":"I&#39;m running Cassandra 4.0.8 on CentOS Stream release 8, using Java 11.0.17.\r\nWhen I cleanup after a bootstrap some of my nodes crash. Basically it seems to crash when streaming and compacting a lot of data.\r\n\r\nI believe to be using the latest Java 11 VM and the latest Cassandra 4 versions.\r\n\r\nWould anyone have any suggestions on how to fix this problem.\r\nI cannot reproduce the problem on demand, it happens sometimes when there is lots to do.!!\r\n\r\nThanks for your help,\r\n\r\nJean\r\n\r\nHere is an extract of the core dump:\r\n\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGBUS (0x7) at pc=0x00007fe388431daa, pid=3006650, tid=3008039\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, concurrent mark sweep gc, linux-amd64)\r\n    # Problematic frame:\r\n    # v  ~StubRoutines::updateBytesCRC32\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/cassandra/core.3006650)\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    #\r\n\r\n    ---------------  S U M M A R Y ------------\r\n\r\n    Command Line: -ea -da:net.openhft... -XX:+UseThreadPriorities -XX:+HeapDumpOnOutOfMemoryError -Xss256k -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+UseNUMA -XX:+PerfDisableSharedMem -Djava.net.\r\npreferIPv4Stack=true -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSWaitDuration=10000 -XX\r\n:+CMSParallelInitialMarkEnabled -XX:+CMSEdenChunksRecordAlways -XX:+CMSClassUnloadingEnabled -Djdk.attach.allowAttachSelf=true --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=AL\r\nL-UNNAMED --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-        exports=java.management.rmi/com.sun.jmx.remote.internal.rmi=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.registry=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.server\r\n=ALL-UNNAMED --add-exports=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/java.lang.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens\r\n=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.math=ALL-UNNAMED --add-opens=java.base/jdk.internal.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.jar=ALL-UNNAMED --add-opens=jdk.ma\r\nnagement/com.sun.management.internal=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -Xlog:gc=info,heap*=trace,age*=debug,safepoint=info,promotion*=trace:file=/home/cassandra/apache-cassandra/logs/gc.log:time,uptime,p\r\nid,tid,level:filecount=10,filesize=10485760 -Xms7961M -Xmx7961M -Xmn400M -XX:+UseCondCardMark -XX:CompileCommandFile=/home/cassandra/apache-cassandra/conf/hotspot_compiler -javaagent:/home/cassandra/apache-cassandra/lib/jamm\r\n-0.3.2.jar -Dcassandra.jmx.remote.port=7199 -Dcom.sun.management.jmxremote.rmi.port=7199 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password -Djava\r\n.library.path=/home/cassandra/apache-cassandra/lib/sigar-bin -Dcassandra.libjemalloc=/usr/lib64/libjemalloc.so.2 -XX:OnOutOfMemoryError=kill -9 %p -Dlogback.configurationFile=logback.xml -Dcassandra.logdir=/home/cassandra/ap\r\nache-cassandra/logs -Dcassandra.storagedir=/home/cassandra/apache-cassandra/data org.apache.cassandra.service.CassandraDaemon\r\n\r\n    Host: Intel(R) Core(TM) i5-6260U CPU @ 1.80GHz, 4 cores, 31G, CentOS Stream release 8\r\n    Time: Tue Mar 14 15:01:44 2023 CET elapsed time: 2430.690820 seconds (0d 0h 40m 30s)\r\n\r\n    ---------------  T H R E A D  ---------------\r\n\r\n    Current thread (0x00007f2b75aaee00):  JavaThread &quot;CompactionExecutor:8&quot; daemon [_thread_in_Java, id=3008039, stack(0x00007f25d5ddf000,0x00007f25d5e20000)]\r\n\r\n    Stack: [0x00007f25d5ddf000,0x00007f25d5e20000],  sp=0x00007f25d5e1c6f0,  free space=245k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\nv  ~StubRoutines::updateBytesCRC32\r\n\r\n\r\n    siginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007f4556a2d000\r\n\r\n    Register to memory mapping:\r\n\r\n    RAX=0x00000000d8464a00 is an unknown value\r\n    RBX=0x000000061f4c1c90 is an oop: java.nio.DirectByteBufferR\r\n    {0x000000061f4c1c90} - klass: &#39;java/nio/DirectByteBufferR&#39;\r\n    RCX=0x00007fe3a138e9c0: &lt;offset 0x000000000146f9c0&gt; in /usr/jdk-    11.0.17/lib/server/libjvm.so at 0x00007fe39ff1f000\r\n    RDX=0x0000000000000082 is an unknown value\r\n    RSP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\r\n    RBP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\r\n    RSI=0x00007f4556a2cfd0 points into unknown readable memory: 0x4f1f18b0cedc8a28 | 28 8a dc ce b0 18 1f 4f\r\n    RDI=0x00000000d18d1b56 is an unknown value\r\n    R8 =0x0000000029edee07 is an unknown value\r\n    R9 =0x0000000000000a19 is an unknown value","title":"Java Crashes when running Cassandra 4.0.8","body":"<p>I'm running Cassandra 4.0.8 on CentOS Stream release 8, using Java 11.0.17.\nWhen I cleanup after a bootstrap some of my nodes crash. Basically it seems to crash when streaming and compacting a lot of data.</p>\n<p>I believe to be using the latest Java 11 VM and the latest Cassandra 4 versions.</p>\n<p>Would anyone have any suggestions on how to fix this problem.\nI cannot reproduce the problem on demand, it happens sometimes when there is lots to do.!!</p>\n<p>Thanks for your help,</p>\n<p>Jean</p>\n<p>Here is an extract of the core dump:</p>\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGBUS (0x7) at pc=0x00007fe388431daa, pid=3006650, tid=3008039\n#\n# JRE version: Java(TM) SE Runtime Environment 18.9 (11.0.17+10) (build 11.0.17+10-LTS-269)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM 18.9 (11.0.17+10-LTS-269, mixed mode, tiered, compressed oops, concurrent mark sweep gc, linux-amd64)\n# Problematic frame:\n# v  ~StubRoutines::updateBytesCRC32\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/lib/systemd/systemd-coredump %P %u %g %s %t %c %h %e&quot; (or dumping to /home/cassandra/core.3006650)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n#\n\n---------------  S U M M A R Y ------------\n\nCommand Line: -ea -da:net.openhft... -XX:+UseThreadPriorities -XX:+HeapDumpOnOutOfMemoryError -Xss256k -XX:+AlwaysPreTouch -XX:-UseBiasedLocking -XX:+UseTLAB -XX:+ResizeTLAB -XX:+UseNUMA -XX:+PerfDisableSharedMem -Djava.net.\n</code></pre>\n<p>preferIPv4Stack=true -XX:+UseConcMarkSweepGC -XX:+CMSParallelRemarkEnabled -XX:SurvivorRatio=8 -XX:MaxTenuringThreshold=1 -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:CMSWaitDuration=10000 -XX\n:+CMSParallelInitialMarkEnabled -XX:+CMSEdenChunksRecordAlways -XX:+CMSClassUnloadingEnabled -Djdk.attach.allowAttachSelf=true --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED --add-exports=java.base/jdk.internal.ref=AL\nL-UNNAMED --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-        exports=java.management.rmi/com.sun.jmx.remote.internal.rmi=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.registry=ALL-UNNAMED --add-exports=java.rmi/sun.rmi.server\n=ALL-UNNAMED --add-exports=java.sql/java.sql=ALL-UNNAMED --add-opens=java.base/java.lang.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.loader=ALL-UNNAMED --add-opens=java.base/jdk.internal.ref=ALL-UNNAMED --add-opens\n=java.base/jdk.internal.reflect=ALL-UNNAMED --add-opens=java.base/jdk.internal.math=ALL-UNNAMED --add-opens=java.base/jdk.internal.module=ALL-UNNAMED --add-opens=java.base/jdk.internal.util.jar=ALL-UNNAMED --add-opens=jdk.ma\nnagement/com.sun.management.internal=ALL-UNNAMED -Dio.netty.tryReflectionSetAccessible=true -Xlog:gc=info,heap*=trace,age*=debug,safepoint=info,promotion*=trace:file=/home/cassandra/apache-cassandra/logs/gc.log:time,uptime,p\nid,tid,level:filecount=10,filesize=10485760 -Xms7961M -Xmx7961M -Xmn400M -XX:+UseCondCardMark -XX:CompileCommandFile=/home/cassandra/apache-cassandra/conf/hotspot_compiler -javaagent:/home/cassandra/apache-cassandra/lib/jamm\n-0.3.2.jar -Dcassandra.jmx.remote.port=7199 -Dcom.sun.management.jmxremote.rmi.port=7199 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.password.file=/etc/cassandra/jmxremote.password -Djava\n.library.path=/home/cassandra/apache-cassandra/lib/sigar-bin -Dcassandra.libjemalloc=/usr/lib64/libjemalloc.so.2 -XX:OnOutOfMemoryError=kill -9 %p -Dlogback.configurationFile=logback.xml -Dcassandra.logdir=/home/cassandra/ap\nache-cassandra/logs -Dcassandra.storagedir=/home/cassandra/apache-cassandra/data org.apache.cassandra.service.CassandraDaemon</p>\n<pre><code>Host: Intel(R) Core(TM) i5-6260U CPU @ 1.80GHz, 4 cores, 31G, CentOS Stream release 8\nTime: Tue Mar 14 15:01:44 2023 CET elapsed time: 2430.690820 seconds (0d 0h 40m 30s)\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x00007f2b75aaee00):  JavaThread &quot;CompactionExecutor:8&quot; daemon [_thread_in_Java, id=3008039, stack(0x00007f25d5ddf000,0x00007f25d5e20000)]\n\nStack: [0x00007f25d5ddf000,0x00007f25d5e20000],  sp=0x00007f25d5e1c6f0,  free space=245k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\n</code></pre>\n<p>v  ~StubRoutines::updateBytesCRC32</p>\n<pre><code>siginfo: si_signo: 7 (SIGBUS), si_code: 2 (BUS_ADRERR), si_addr: 0x00007f4556a2d000\n\nRegister to memory mapping:\n\nRAX=0x00000000d8464a00 is an unknown value\nRBX=0x000000061f4c1c90 is an oop: java.nio.DirectByteBufferR\n{0x000000061f4c1c90} - klass: 'java/nio/DirectByteBufferR'\nRCX=0x00007fe3a138e9c0: &lt;offset 0x000000000146f9c0&gt; in /usr/jdk-    11.0.17/lib/server/libjvm.so at 0x00007fe39ff1f000\nRDX=0x0000000000000082 is an unknown value\nRSP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\nRBP=0x00007f25d5e1c6f0 is pointing into the stack for thread: 0x00007f2b75aaee00\nRSI=0x00007f4556a2cfd0 points into unknown readable memory: 0x4f1f18b0cedc8a28 | 28 8a dc ce b0 18 1f 4f\nRDI=0x00000000d18d1b56 is an unknown value\nR8 =0x0000000029edee07 is an unknown value\nR9 =0x0000000000000a19 is an unknown value\n</code></pre>\n"},{"tags":["java","pdf","itext","digital-signature","pkcs#7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696858948,"post_id":77259249,"comment_id":136203113,"body_markdown":"As you mention many more things you eventually want to do, one question: What you&#39;re asking now and here is how to calculate the PDF hash and validate that this calculated document hash is identical to the document hash in the signature?","body":"As you mention many more things you eventually want to do, one question: What you&#39;re asking now and here is how to calculate the PDF hash and validate that this calculated document hash is identical to the document hash in the signature?"},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1696862554,"post_id":77259249,"comment_id":136203930,"body_markdown":"Yes, to start with I think that should be the first step to check whether document has been altered or not. Any insights on how should I go about it?","body":"Yes, to start with I think that should be the first step to check whether document has been altered or not. Any insights on how should I go about it?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1696944783,"post_id":77259249,"comment_id":136215282,"body_markdown":"You are aware that that essentially is what `SignatureUtil.readSignatureData` and `PdfPKCS7.verifySignatureIntegrityAndAuthenticity` (iText 8.x) / `AcroFields.verifySignature` and `PdfPKCS7.verify` (iText 5.x) do? Should an answer here explain the use of those methods? Or do you want to independently implement a similar functionality?","body":"You are aware that that essentially is what <code>SignatureUtil.readSignatureData</code> and <code>PdfPKCS7.verifySignatureIntegrityAndAuthenticity</code> (iText 8.x) / <code>AcroFields.verifySignature</code> and <code>PdfPKCS7.verify</code> (iText 5.x) do? Should an answer here explain the use of those methods? Or do you want to independently implement a similar functionality?"}],"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696858380,"creation_date":1696858380,"question_id":77259249,"body_markdown":"I want to validate relevant details of a pdf such as document hash signed, certificate validity and  any changes to document after signing. \r\n\r\nTo validate certificate, I can use pkcs7 to verify. However not sure how to validate document hash signed or compare the document hash in /Sig annotation and the original document? \r\n\r\nPDFDictionary of type /Sig has /Type, /Filter, /SubFilter, /Reason, /ContactInfo, /M, /Name, /ByteRange and /Contents (which contains certificate data), can&#39;t find hash to be verified with. \r\n\r\nTried using several approaches around fetching PDFDictionary objects but couldn&#39;t find much. \r\n\r\nReferred below link: https://stackoverflow.com/questions/49070029/itext-pdf-integrity-check\r\nbut don&#39;t have a clarity on how to implement such thing in iText?","title":"iText check pdf integrity","body":"<p>I want to validate relevant details of a pdf such as document hash signed, certificate validity and  any changes to document after signing.</p>\n<p>To validate certificate, I can use pkcs7 to verify. However not sure how to validate document hash signed or compare the document hash in /Sig annotation and the original document?</p>\n<p>PDFDictionary of type /Sig has /Type, /Filter, /SubFilter, /Reason, /ContactInfo, /M, /Name, /ByteRange and /Contents (which contains certificate data), can't find hash to be verified with.</p>\n<p>Tried using several approaches around fetching PDFDictionary objects but couldn't find much.</p>\n<p>Referred below link: <a href=\"https://stackoverflow.com/questions/49070029/itext-pdf-integrity-check\">iText pdf integrity check</a>\nbut don't have a clarity on how to implement such thing in iText?</p>\n"},{"tags":["java","spring","spring-mvc","datetime","java-8"],"comments":[{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1469551479,"post_id":38593542,"comment_id":64579043,"body_markdown":"Java-8 only yields a [partial solution](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME) - for the rfc1123-part. To model the alternative rfc850-part which uses full week-day-names (and the &quot;asc-time-date&quot;), you have probably to catch exceptions in case the first try with rfc1123 fails.","body":"Java-8 only yields a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">partial solution</a> - for the rfc1123-part. To model the alternative rfc850-part which uses full week-day-names (and the &quot;asc-time-date&quot;), you have probably to catch exceptions in case the first try with rfc1123 fails."}],"answers":[{"tags":[],"owner":{"account_id":9534526,"reputation":21,"user_id":7085098,"display_name":"Gabriel Moraes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696858330,"creation_date":1696858330,"answer_id":77259247,"question_id":38593542,"body_markdown":"You must to use the ISO option inside the interface @DateTimeFormat, as shown in the Spring [documentations][1]\r\n\r\n    @DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html","title":"How to bind an HTTP-date request header to ZonedDateTime in Spring MVC?","body":"<p>You must to use the ISO option inside the interface @DateTimeFormat, as shown in the Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/format/annotation/DateTimeFormat.html\" rel=\"nofollow noreferrer\">documentations</a></p>\n<pre><code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE_TIME)\n</code></pre>\n"}],"owner":{"account_id":1092244,"reputation":652,"user_id":1086631,"accept_rate":71,"display_name":"Robert Johnson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1078,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1696858330,"creation_date":1469545551,"question_id":38593542,"body_markdown":"In my Spring MVC controller I would like to bind headers in the [HTTP-date format][1] (e.g. for If-Modified-Since) to instances of ZonedDateTime like so:\r\n\r\n    @RequestMapping(value = &quot;/foo&quot;)\r\n    public ResponseEntity&lt;?&gt; someRequest(\r\n        @RequestHeader(value = &quot;If-Modified-Since&quot;) ZonedDateTime modifiedSince)\r\n    {\r\n        ...\r\n    }\r\n\r\nI&#39;ve looked at annotating the parameter with `@DateTimeFormat`, but this does not provide a built-in way to parse all the formats accepted for HTTP dates. Is there some way to get Spring to bind the header parameter correctly?\r\n\r\n  [1]: https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1","title":"How to bind an HTTP-date request header to ZonedDateTime in Spring MVC?","body":"<p>In my Spring MVC controller I would like to bind headers in the <a href=\"https://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.3.1\" rel=\"noreferrer\">HTTP-date format</a> (e.g. for If-Modified-Since) to instances of ZonedDateTime like so:</p>\n\n<pre><code>@RequestMapping(value = \"/foo\")\npublic ResponseEntity&lt;?&gt; someRequest(\n    @RequestHeader(value = \"If-Modified-Since\") ZonedDateTime modifiedSince)\n{\n    ...\n}\n</code></pre>\n\n<p>I've looked at annotating the parameter with <code>@DateTimeFormat</code>, but this does not provide a built-in way to parse all the formats accepted for HTTP dates. Is there some way to get Spring to bind the header parameter correctly?</p>\n"},{"tags":["java","html","spring-boot","spring-security","spring-thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696858116,"creation_date":1696857200,"answer_id":77259138,"question_id":77258987,"body_markdown":"My suggestion is to submit the form via `AJAX` [*asynchronously*][1]. \r\n\r\nFirst, you should include in your project an library to make `AJAX` requests, I&#39;ll use [*jQuery*][2], you can add it in your html file this way:\r\n\r\n```html\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nThen, you should modify your HTML form to prevent the default form submission behavior:\r\n\r\n```html\r\n&lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot; th:attr=&quot;data-url=@{/login}&quot;&gt;\r\n```\r\n\r\nAlso, update your controller to return an JSON responses:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic @ResponseBody Map&lt;String, Object&gt; login(Model model, String error, String logout) {\r\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n\r\n    // If logged in successfully, return a success response\r\n    if (securityService.isAuthenticated()) {\r\n        response.put(&quot;success&quot;, true);\r\n        return response;\r\n    }\r\n\r\n    // Error example\r\n    if (error != null) {\r\n        response.put(&quot;success&quot;, false);\r\n        response.put(&quot;html&quot;, &quot;&lt;p style=&#39;color: red&#39;&gt;Some error message here!&lt;/p&gt;&quot;);\r\n    }\r\n\r\n    return response;\r\n}\r\n```\r\n\r\n**Note:** I suggest you to do it for all your controller methods.\r\n\r\nNow, you can handle the form submission by using `AJAX`:\r\n\r\n```html\r\n&lt;script&gt;\r\n$(document).ready(function () {\r\n    $(&quot;#loginForm&quot;).submit(function (event) {\r\n        // Prevent the default submission\r\n        event.preventDefault();\r\n\r\n        var form = $(this);\r\n        var url = form.attr(&quot;data-url&quot;);\r\n\r\n        $.ajax({\r\n            type: &quot;POST&quot;,\r\n            url: url,\r\n            data: form.serialize(), // Serialize form data\r\n            success: function (response) {\r\n                // Check the response\r\n                if (response.success) {\r\n                    // Successful login\r\n                    // TODO: Handle\r\n                } else {\r\n                    // Update the modal with the error message\r\n                    $(&quot;#loginModal .modal-body&quot;).html(response.html);\r\n                }\r\n            }\r\n        });\r\n    });\r\n});\r\n&lt;/script&gt;\r\n```\r\n\r\nIt&#39;s just an example approach, you can adapt it to your needs.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)\r\n  [2]: https://jquery.com/","title":"HTML Modal Validation with Spring not working because its disappearing","body":"<p>My suggestion is to submit the form via <code>AJAX</code> <a href=\"https://en.wikipedia.org/wiki/Asynchrony_(computer_programming)\" rel=\"nofollow noreferrer\"><em>asynchronously</em></a>.</p>\n<p>First, you should include in your project an library to make <code>AJAX</code> requests, I'll use <a href=\"https://jquery.com/\" rel=\"nofollow noreferrer\"><em>jQuery</em></a>, you can add it in your html file this way:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>Then, you should modify your HTML form to prevent the default form submission behavior:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot; th:attr=&quot;data-url=@{/login}&quot;&gt;\n</code></pre>\n<p>Also, update your controller to return an JSON responses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic @ResponseBody Map&lt;String, Object&gt; login(Model model, String error, String logout) {\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\n\n    // If logged in successfully, return a success response\n    if (securityService.isAuthenticated()) {\n        response.put(&quot;success&quot;, true);\n        return response;\n    }\n\n    // Error example\n    if (error != null) {\n        response.put(&quot;success&quot;, false);\n        response.put(&quot;html&quot;, &quot;&lt;p style='color: red'&gt;Some error message here!&lt;/p&gt;&quot;);\n    }\n\n    return response;\n}\n</code></pre>\n<p><strong>Note:</strong> I suggest you to do it for all your controller methods.</p>\n<p>Now, you can handle the form submission by using <code>AJAX</code>:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script&gt;\n$(document).ready(function () {\n    $(&quot;#loginForm&quot;).submit(function (event) {\n        // Prevent the default submission\n        event.preventDefault();\n\n        var form = $(this);\n        var url = form.attr(&quot;data-url&quot;);\n\n        $.ajax({\n            type: &quot;POST&quot;,\n            url: url,\n            data: form.serialize(), // Serialize form data\n            success: function (response) {\n                // Check the response\n                if (response.success) {\n                    // Successful login\n                    // TODO: Handle\n                } else {\n                    // Update the modal with the error message\n                    $(&quot;#loginModal .modal-body&quot;).html(response.html);\n                }\n            }\n        });\n    });\n});\n&lt;/script&gt;\n</code></pre>\n<p>It's just an example approach, you can adapt it to your needs.</p>\n"}],"owner":{"account_id":29632115,"reputation":21,"user_id":22710316,"display_name":"jCodeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1696858116,"creation_date":1696855660,"question_id":77258987,"body_markdown":"I&#39;ve created a login and registration for a blog website. However, the problem is that when I log in or register, the website reloads. As a result, my modal disappears, preventing any errors from being displayed. Here is the code:\r\n\r\nThe Controller:\r\n\r\n```java\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String login(Model model, String error, String logout){\r\n        //If loggen in successfully go to /home\r\n        if (securityService.isAuthenticated()) {\r\n            return &quot;redirect:/home&quot;;\r\n        }\r\n\r\n        //Error Messages (does not work)\r\n        if (error != null)\r\n            model.addAttribute(&quot;error&quot;, &quot;Your username or password is invalid.&quot;);\r\n\r\n        if (logout != null) {\r\n            model.addAttribute(&quot;logoutMessage&quot;, &quot;You have been logged out successfully.&quot;);\r\n        }\r\n\r\n        return &quot;redirect:/home&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registration(@ModelAttribute(&quot;userForm&quot;) User userForm, BindingResult bindingResult, Model model) {\r\n        //Validate Input\r\n        userValidator.validate(userForm, bindingResult);\r\n\r\n        //If Error (doesnt work)\r\n        if (bindingResult.hasErrors()) {\r\n            model.addAttribute(&quot;showModal&quot;, &quot;true&quot;);\r\n            return &quot;index&quot;;\r\n        }\r\n\r\n        //Save in User Table\r\n        userService.save(userForm);\r\n        //Autologin after Registration\r\n        //securityService.autoLogin(userForm.getUsername(), userForm.getPasswordConfirm());\r\n\r\n        return &quot;redirect:/home&quot;;\r\n    }\r\n```\r\n\r\nmy html file:\r\n\r\n```html\r\n&lt;!-- Login-Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;loginModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;loginModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n            &lt;div class=&quot;modal-header&quot;&gt;\r\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;loginModalLabel&quot;&gt;Anmelden&lt;/h5&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-body&quot;&gt;\r\n                &lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;loginUsername&quot;&gt;Benutzername&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;loginUsername&quot; name=&quot;username&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;loginPassword&quot;&gt;Passwort&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;loginPassword&quot; name=&quot;password&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\r\n\r\n                    &lt;p class=&quot;has-error&quot; th:text=&quot;${error}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;p th:if=&quot;${logoutMessage}&quot; th:text=&quot;${logoutMessage}&quot; style=&quot;color: green&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Login&lt;/button&gt;\r\n                &lt;/form&gt;\r\n                &lt;!-- Link zum Registrierungs-Modal --&gt;\r\n                &lt;p class=&quot;mt-3 text-center&quot;&gt;\r\n                    Noch kein Account?\r\n                    &lt;a href=&quot;#&quot; data-toggle=&quot;modal&quot; data-dismiss=&quot;modal&quot; data-target=&quot;#registerModal&quot;&gt;Jetzt registrieren!&lt;/a&gt;\r\n                &lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;!-- Registrierungs-Modal --&gt;\r\n&lt;div class=&quot;modal fade&quot; id=&quot;registerModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;registerModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\r\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\r\n        &lt;div class=&quot;modal-content&quot;&gt;\r\n            &lt;div class=&quot;modal-header&quot;&gt;\r\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;registerModalLabel&quot;&gt;Registrieren&lt;/h5&gt;\r\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\r\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\r\n                &lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;modal-body&quot;&gt;\r\n                &lt;form th:action=&quot;@{/register}&quot; id=&quot;registrationForm&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerUsername&quot;&gt;Benutzername&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;registerUsername&quot; th:field=&quot;*{username}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;username&#39;)}&quot; th:errors=&quot;*{username}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPassword&quot; th:field=&quot;*{password}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;password&#39;)}&quot; th:errors=&quot;*{password}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort Wiederholen&lt;/label&gt;\r\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPasswordRepeat&quot; th:field=&quot;*{passwordConfirm}&quot; required&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;span class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors(&#39;passwordConfirm&#39;)}&quot; th:errors=&quot;*{passwordConfirm}&quot; style=&quot;color: red&quot;&gt;&lt;/span&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Registrieren&lt;/button&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nValidation:\r\n\r\n```java\r\n    @Override\r\n    public void validate(Object o, Errors errors) {\r\n        User user = (User) o;\r\n\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;username&quot;, &quot;NotEmpty&quot;);\r\n        if (user.getUsername().length() &lt; 2 || user.getUsername().length() &gt; 32) {\r\n            errors.rejectValue(&quot;username&quot;, &quot;Size.userForm.username&quot;);\r\n        }\r\n        if (userService.findByUsername(user.getUsername()) != null) {\r\n            errors.rejectValue(&quot;username&quot;, &quot;Duplicate.userForm.username&quot;);\r\n        }\r\n\r\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;password&quot;, &quot;NotEmpty&quot;);\r\n        if (user.getPassword().length() &lt; 2 || user.getPassword().length() &gt; 32) {\r\n            errors.rejectValue(&quot;password&quot;, &quot;Size.userForm.password&quot;);\r\n        }\r\n\r\n        if (!user.getPasswordConfirm().equals(user.getPassword())) {\r\n            errors.rejectValue(&quot;passwordConfirm&quot;, &quot;Diff.userForm.passwordConfirm&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI want the error message to appear below the lines in the modal, something like &quot;too few characters&quot; or similar. This is currently not possible because the page reloads. I&#39;ve also tried using AJAX, but unfortunately, it didn&#39;t work for me.","title":"HTML Modal Validation with Spring not working because its disappearing","body":"<p>I've created a login and registration for a blog website. However, the problem is that when I log in or register, the website reloads. As a result, my modal disappears, preventing any errors from being displayed. Here is the code:</p>\n<p>The Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/login&quot;)\n    public String login(Model model, String error, String logout){\n        //If loggen in successfully go to /home\n        if (securityService.isAuthenticated()) {\n            return &quot;redirect:/home&quot;;\n        }\n\n        //Error Messages (does not work)\n        if (error != null)\n            model.addAttribute(&quot;error&quot;, &quot;Your username or password is invalid.&quot;);\n\n        if (logout != null) {\n            model.addAttribute(&quot;logoutMessage&quot;, &quot;You have been logged out successfully.&quot;);\n        }\n\n        return &quot;redirect:/home&quot;;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public String registration(@ModelAttribute(&quot;userForm&quot;) User userForm, BindingResult bindingResult, Model model) {\n        //Validate Input\n        userValidator.validate(userForm, bindingResult);\n\n        //If Error (doesnt work)\n        if (bindingResult.hasErrors()) {\n            model.addAttribute(&quot;showModal&quot;, &quot;true&quot;);\n            return &quot;index&quot;;\n        }\n\n        //Save in User Table\n        userService.save(userForm);\n        //Autologin after Registration\n        //securityService.autoLogin(userForm.getUsername(), userForm.getPasswordConfirm());\n\n        return &quot;redirect:/home&quot;;\n    }\n</code></pre>\n<p>my html file:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!-- Login-Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;loginModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;loginModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;loginModalLabel&quot;&gt;Anmelden&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form id=&quot;loginForm&quot; method=&quot;post&quot; th:action=&quot;@{/login}&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;loginUsername&quot;&gt;Benutzername&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;loginUsername&quot; name=&quot;username&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;loginPassword&quot;&gt;Passwort&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;loginPassword&quot; name=&quot;password&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot;/&gt;\n\n                    &lt;p class=&quot;has-error&quot; th:text=&quot;${error}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;p th:if=&quot;${logoutMessage}&quot; th:text=&quot;${logoutMessage}&quot; style=&quot;color: green&quot;&gt;&lt;/p&gt;\n\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Login&lt;/button&gt;\n                &lt;/form&gt;\n                &lt;!-- Link zum Registrierungs-Modal --&gt;\n                &lt;p class=&quot;mt-3 text-center&quot;&gt;\n                    Noch kein Account?\n                    &lt;a href=&quot;#&quot; data-toggle=&quot;modal&quot; data-dismiss=&quot;modal&quot; data-target=&quot;#registerModal&quot;&gt;Jetzt registrieren!&lt;/a&gt;\n                &lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;!-- Registrierungs-Modal --&gt;\n&lt;div class=&quot;modal fade&quot; id=&quot;registerModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;registerModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n    &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;div class=&quot;modal-header&quot;&gt;\n                &lt;h5 class=&quot;modal-title&quot; id=&quot;registerModalLabel&quot;&gt;Registrieren&lt;/h5&gt;\n                &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;\n                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;\n                &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;modal-body&quot;&gt;\n                &lt;form th:action=&quot;@{/register}&quot; id=&quot;registrationForm&quot; th:object=&quot;${userForm}&quot; method=&quot;post&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerUsername&quot;&gt;Benutzername&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;registerUsername&quot; th:field=&quot;*{username}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('username')}&quot; th:errors=&quot;*{username}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPassword&quot; th:field=&quot;*{password}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;p class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('password')}&quot; th:errors=&quot;*{password}&quot; style=&quot;color: red&quot;&gt;&lt;/p&gt;\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;registerPassword&quot;&gt;Passwort Wiederholen&lt;/label&gt;\n                        &lt;input type=&quot;password&quot; class=&quot;form-control&quot; id=&quot;registerPasswordRepeat&quot; th:field=&quot;*{passwordConfirm}&quot; required&gt;\n                    &lt;/div&gt;\n                    &lt;span class=&quot;has-error&quot; th:if=&quot;${#fields.hasErrors('passwordConfirm')}&quot; th:errors=&quot;*{passwordConfirm}&quot; style=&quot;color: red&quot;&gt;&lt;/span&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Registrieren&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>Validation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public void validate(Object o, Errors errors) {\n        User user = (User) o;\n\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;username&quot;, &quot;NotEmpty&quot;);\n        if (user.getUsername().length() &lt; 2 || user.getUsername().length() &gt; 32) {\n            errors.rejectValue(&quot;username&quot;, &quot;Size.userForm.username&quot;);\n        }\n        if (userService.findByUsername(user.getUsername()) != null) {\n            errors.rejectValue(&quot;username&quot;, &quot;Duplicate.userForm.username&quot;);\n        }\n\n        ValidationUtils.rejectIfEmptyOrWhitespace(errors, &quot;password&quot;, &quot;NotEmpty&quot;);\n        if (user.getPassword().length() &lt; 2 || user.getPassword().length() &gt; 32) {\n            errors.rejectValue(&quot;password&quot;, &quot;Size.userForm.password&quot;);\n        }\n\n        if (!user.getPasswordConfirm().equals(user.getPassword())) {\n            errors.rejectValue(&quot;passwordConfirm&quot;, &quot;Diff.userForm.passwordConfirm&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I want the error message to appear below the lines in the modal, something like &quot;too few characters&quot; or similar. This is currently not possible because the page reloads. I've also tried using AJAX, but unfortunately, it didn't work for me.</p>\n"},{"tags":["javascript","java","intellij-idea","nashorn"],"owner":{"account_id":26323032,"reputation":11,"user_id":19984776,"display_name":"SilverLuke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696858016,"creation_date":1696857965,"question_id":77259215,"body_markdown":"I am unable to see the variable value from the debug window in IDEA (2023) when I try to debug some JS code. The only thing shown is the message &#39;Collecting data...&#39; and the Evaluate expression is pretty much useless.\r\n\r\nMy current working environment is as follows:\r\n\r\n- My Java code is under src/main/java.\r\n- My JavaScript code is under src/resources/engine. Each file contains only one function with the name equal to the filename.\r\n  My Java code reads the JS files, adds some fixed code (Java imports) to the top, and runs it with eval().\r\n\r\nIs there any way to see those variable values? I am okay even without IDEA.\r\n\r\nI am able to step through the code (only after a Maven clean install) using the following notation on top of the JS file: `//@ sourceURL=&lt;path to JS code&gt;`.\r\n\r\nI have already tried the `debugger;` way, but it seems useless.","title":"Unable to view variable value from IDEA using Nashorn engine","body":"<p>I am unable to see the variable value from the debug window in IDEA (2023) when I try to debug some JS code. The only thing shown is the message 'Collecting data...' and the Evaluate expression is pretty much useless.</p>\n<p>My current working environment is as follows:</p>\n<ul>\n<li>My Java code is under src/main/java.</li>\n<li>My JavaScript code is under src/resources/engine. Each file contains only one function with the name equal to the filename.\nMy Java code reads the JS files, adds some fixed code (Java imports) to the top, and runs it with eval().</li>\n</ul>\n<p>Is there any way to see those variable values? I am okay even without IDEA.</p>\n<p>I am able to step through the code (only after a Maven clean install) using the following notation on top of the JS file: <code>//@ sourceURL=&lt;path to JS code&gt;</code>.</p>\n<p>I have already tried the <code>debugger;</code> way, but it seems useless.</p>\n"},{"tags":["java","hibernate","postgresql","jakarta-ee"],"answers":[{"comments":[{"owner":{"account_id":3195718,"reputation":506,"user_id":2698939,"accept_rate":33,"display_name":"Vladimir Filipchenko"},"score":6,"creation_date":1442918195,"post_id":4332854,"comment_id":53271515,"body_markdown":"It doesn&#39;t work. `Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class`","body":"It doesn&#39;t work. <code>Caused by: org.hibernate.AnnotationException: Use of @OneToMany or @ManyToMany targeting an unmapped class</code>"},{"owner":{"account_id":8873456,"reputation":327,"user_id":6626501,"accept_rate":40,"display_name":"Aleks Ben Maza"},"score":11,"creation_date":1546871484,"post_id":4332854,"comment_id":94985679,"body_markdown":"how come this answer has been accepted ? You have to use @ElementCollection or create a custom type.","body":"how come this answer has been accepted ? You have to use @ElementCollection or create a custom type."},{"owner":{"account_id":5857874,"reputation":976,"user_id":4614579,"accept_rate":17,"display_name":"Martijn Hiemstra"},"score":0,"creation_date":1570190379,"post_id":4332854,"comment_id":102844912,"body_markdown":"When using OneToMany you can only use list with other entities. So primatives wont work. As @AleksBenMaza said use ElementCollection with non mapped elements","body":"When using OneToMany you can only use list with other entities. So primatives wont work. As @AleksBenMaza said use ElementCollection with non mapped elements"},{"owner":{"account_id":7305575,"reputation":144,"user_id":5566599,"accept_rate":75,"display_name":"jatin_ghataliya"},"score":0,"creation_date":1603691122,"post_id":4332854,"comment_id":114105652,"body_markdown":"@AlexR I need to map my multidimensional double array? what to do please suggest.","body":"@AlexR I need to map my multidimensional double array? what to do please suggest."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":4,"down_vote_count":5,"up_vote_count":9,"is_accepted":true,"score":4,"last_activity_date":1466388175,"creation_date":1291276467,"answer_id":4332854,"question_id":4332467,"body_markdown":"I have never mapped arrays to hibernate. I always use collections. So, I have slightly changed you class:\r\n\r\n    public class MyClass{\r\n        private Long id;\r\n        private String name;\r\n        private List&lt;Integer&gt; values;\r\n        \r\n        @Id\r\n        // this is only if your id is really auto generated\r\n        @GeneratedValue(strategy=GenerationType.AUTO) \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n        \r\n        @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY)\r\n        public List&lt;Integer&gt; getValues() {\r\n            return values;\r\n        }\t\r\n        ...\r\n","title":"Mapping array with Hibernate","body":"<p>I have never mapped arrays to hibernate. I always use collections. So, I have slightly changed you class:</p>\n\n<pre><code>public class MyClass{\n    private Long id;\n    private String name;\n    private List&lt;Integer&gt; values;\n\n    @Id\n    // this is only if your id is really auto generated\n    @GeneratedValue(strategy=GenerationType.AUTO) \n    public Long getId() {\n        return id;\n    }\n\n    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY)\n    public List&lt;Integer&gt; getValues() {\n        return values;\n    }   \n    ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":1,"creation_date":1582854784,"post_id":4333600,"comment_id":106929266,"body_markdown":"Will those annotations create a one-to-many association automatically?","body":"Will those annotations create a one-to-many association automatically?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1658956816,"creation_date":1291283457,"answer_id":4333600,"question_id":4332467,"body_markdown":"Hibernate (and JPA) can&#39;t directly map the PostgreSQL array type. &lt;a href=&quot;https://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate&quot;&gt;See this question&lt;/a&gt; for how to proceed if you really need to retain your database structure as it is. &lt;a href=&quot;https://forum.hibernate.org/viewtopic.php?t=946973&quot;&gt;This thread&lt;/a&gt; has an example of the required custom type.\r\n\r\n\r\nIf you can change your schema, you can let hibernate create an additional table to handle the collection - `List&lt;Integer&gt;`. Then, depending on the version of hibernate you are using:\r\n\r\n- JPA 2.0 compliant - use &lt;a href=&quot;http://download.oracle.com/javaee/6/api/javax/persistence/ElementCollection.html&quot;&gt;`@ElementCollection`&lt;/a&gt;\r\n- JPA 1.0 compliant - use [`@CollectionOfElements`][1]\r\n\r\n\r\n\r\n  [1]: https://web.archive.org/web/20101126125212/http://docs.jboss.org:80/hibernate/stable/core/api/org/hibernate/annotations/CollectionOfElements.html","title":"Mapping array with Hibernate","body":"<p>Hibernate (and JPA) can't directly map the PostgreSQL array type. <a href=\"https://stackoverflow.com/questions/1647583/mapping-a-postgres-array-with-hibernate\">See this question</a> for how to proceed if you really need to retain your database structure as it is. <a href=\"https://forum.hibernate.org/viewtopic.php?t=946973\" rel=\"nofollow noreferrer\">This thread</a> has an example of the required custom type.</p>\n<p>If you can change your schema, you can let hibernate create an additional table to handle the collection - <code>List&lt;Integer&gt;</code>. Then, depending on the version of hibernate you are using:</p>\n<ul>\n<li>JPA 2.0 compliant - use <a href=\"http://download.oracle.com/javaee/6/api/javax/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\"><code>@ElementCollection</code></a></li>\n<li>JPA 1.0 compliant - use <a href=\"https://web.archive.org/web/20101126125212/http://docs.jboss.org:80/hibernate/stable/core/api/org/hibernate/annotations/CollectionOfElements.html\" rel=\"nofollow noreferrer\"><code>@CollectionOfElements</code></a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1450927490,"post_id":33023528,"comment_id":56635674,"body_markdown":"Do you use this in production? Does this work for you?","body":"Do you use this in production? Does this work for you?"},{"owner":{"account_id":4722935,"reputation":187,"user_id":3820369,"display_name":"user3820369"},"score":0,"creation_date":1458220187,"post_id":33023528,"comment_id":59769566,"body_markdown":"Yes it is working in production. I have copied this snippet from my working code","body":"Yes it is working in production. I have copied this snippet from my working code"}],"tags":[],"owner":{"account_id":4722935,"reputation":187,"user_id":3820369,"display_name":"user3820369"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1444329580,"creation_date":1444329580,"answer_id":33023528,"question_id":4332467,"body_markdown":"Hibernate can map only the primitive types. Check under the org.hibernate.type folder of hibernate jar package. int array is not one of them. So you would have to write a custom type that can implement the UserType interface.\r\n \r\n\r\n    public class MyClass{\r\n         private Long id;\r\n         private String name;\r\n         private Integer[] values;\r\n\r\n         @Type(type = &quot;com.usertype.IntArrayUserType&quot;)\r\n         public Integer[] getValues(){\r\n             return values;\r\n         }\r\n\r\n         public void setValues(Integer[] values){\r\n             this.values = values;\r\n         }\r\n     }\r\n\r\nIntArrayUserType.class\r\n\r\n    package com.usertype.IntArrayUserType;\r\n\r\n    public class IntArrayUserType implements UserType {\r\n\r\n    protected static final int[] SQL_TYPES = { Types.ARRAY };\r\n\r\n    @Override\r\n    public Object assemble(Serializable cached, Object owner) throws HibernateException {\r\n        return this.deepCopy(cached);\r\n    }\r\n\r\n    @Override\r\n    public Object deepCopy(Object value) throws HibernateException {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public Serializable disassemble(Object value) throws HibernateException {\r\n        return (Integer[]) this.deepCopy(value);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object x, Object y) throws HibernateException {\r\n\r\n        if (x == null) {\r\n            return y == null;\r\n        }\r\n        return x.equals(y);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode(Object x) throws HibernateException {\r\n        return x.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean isMutable() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Object nullSafeGet(ResultSet resultSet, String[] names, SessionImplementor session, Object owner)\r\n            throws HibernateException, SQLException {\r\n        if (resultSet.wasNull()) {\r\n            return null;\r\n        }\r\n        if(resultSet.getArray(names[0]) == null){\r\n            return new Integer[0];\r\n        }\r\n\r\n        Array array = resultSet.getArray(names[0]);\r\n        Integer[] javaArray = (Integer[]) array.getArray();\r\n        return javaArray;\r\n    }\r\n\r\n    @Override\r\n    public void nullSafeSet(PreparedStatement statement, Object value, int index, SessionImplementor session)\r\n            throws HibernateException, SQLException {\r\n        Connection connection = statement.getConnection();\r\n        if (value == null) {\r\n            statement.setNull(index, SQL_TYPES[0]);\r\n        } else {\r\n            Integer[] castObject = (Integer[]) value;\r\n            Array array = connection.createArrayOf(&quot;integer&quot;, castObject);\r\n            statement.setArray(index, array);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public Object replace(Object original, Object target, Object owner)       throws HibernateException {\r\n        return original;\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Integer[]&gt; returnedClass() {\r\n        return Integer[].class;\r\n    }\r\n\r\n    @Override\r\n    public int[] sqlTypes() {\r\n        return new int[] { Types.ARRAY };\r\n    }\r\n\r\n\r\nWhen you query for the MyClass entity you can add something like this:\r\n \r\n    Type intArrayType = new TypeLocatorImpl(new TypeResolver()).custom(IntArrayUserType.class);\r\n    Query query = getSession().createSQLQuery(&quot;select values from MyClass&quot;)\r\n       .addScalar(&quot;values&quot;, intArrayType);\r\n    List&lt;Integer[]&gt; results = (List&lt;Integer[]&gt;) query.list();\r\n","title":"Mapping array with Hibernate","body":"<p>Hibernate can map only the primitive types. Check under the org.hibernate.type folder of hibernate jar package. int array is not one of them. So you would have to write a custom type that can implement the UserType interface.</p>\n\n<pre><code>public class MyClass{\n     private Long id;\n     private String name;\n     private Integer[] values;\n\n     @Type(type = \"com.usertype.IntArrayUserType\")\n     public Integer[] getValues(){\n         return values;\n     }\n\n     public void setValues(Integer[] values){\n         this.values = values;\n     }\n }\n</code></pre>\n\n<p>IntArrayUserType.class</p>\n\n<pre><code>package com.usertype.IntArrayUserType;\n\npublic class IntArrayUserType implements UserType {\n\nprotected static final int[] SQL_TYPES = { Types.ARRAY };\n\n@Override\npublic Object assemble(Serializable cached, Object owner) throws HibernateException {\n    return this.deepCopy(cached);\n}\n\n@Override\npublic Object deepCopy(Object value) throws HibernateException {\n    return value;\n}\n\n@Override\npublic Serializable disassemble(Object value) throws HibernateException {\n    return (Integer[]) this.deepCopy(value);\n}\n\n@Override\npublic boolean equals(Object x, Object y) throws HibernateException {\n\n    if (x == null) {\n        return y == null;\n    }\n    return x.equals(y);\n}\n\n@Override\npublic int hashCode(Object x) throws HibernateException {\n    return x.hashCode();\n}\n\n@Override\npublic boolean isMutable() {\n    return true;\n}\n\n@Override\npublic Object nullSafeGet(ResultSet resultSet, String[] names, SessionImplementor session, Object owner)\n        throws HibernateException, SQLException {\n    if (resultSet.wasNull()) {\n        return null;\n    }\n    if(resultSet.getArray(names[0]) == null){\n        return new Integer[0];\n    }\n\n    Array array = resultSet.getArray(names[0]);\n    Integer[] javaArray = (Integer[]) array.getArray();\n    return javaArray;\n}\n\n@Override\npublic void nullSafeSet(PreparedStatement statement, Object value, int index, SessionImplementor session)\n        throws HibernateException, SQLException {\n    Connection connection = statement.getConnection();\n    if (value == null) {\n        statement.setNull(index, SQL_TYPES[0]);\n    } else {\n        Integer[] castObject = (Integer[]) value;\n        Array array = connection.createArrayOf(\"integer\", castObject);\n        statement.setArray(index, array);\n    }\n}\n\n@Override\npublic Object replace(Object original, Object target, Object owner)       throws HibernateException {\n    return original;\n}\n\n@Override\npublic Class&lt;Integer[]&gt; returnedClass() {\n    return Integer[].class;\n}\n\n@Override\npublic int[] sqlTypes() {\n    return new int[] { Types.ARRAY };\n}\n</code></pre>\n\n<p>When you query for the MyClass entity you can add something like this:</p>\n\n<pre><code>Type intArrayType = new TypeLocatorImpl(new TypeResolver()).custom(IntArrayUserType.class);\nQuery query = getSession().createSQLQuery(\"select values from MyClass\")\n   .addScalar(\"values\", intArrayType);\nList&lt;Integer[]&gt; results = (List&lt;Integer[]&gt;) query.list();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1581515370,"post_id":44691164,"comment_id":106460070,"body_markdown":"Your examples work perfectly fine for Insert/Update. Can you give an example to fetch two types of arrays in single query?","body":"Your examples work perfectly fine for Insert/Update. Can you give an example to fetch two types of arrays in single query?"},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1581519229,"post_id":44691164,"comment_id":106462436,"body_markdown":"I tried, but I am getting only those values whose properties I set. And I am unable to transform the resultset using sqlresultsetmapping","body":"I tried, but I am getting only those values whose properties I set. And I am unable to transform the resultset using sqlresultsetmapping"},{"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"score":0,"creation_date":1581783451,"post_id":44691164,"comment_id":106554711,"body_markdown":"Does your library supports Spring-Boot 2.2.4 Release? When I upgrade it,  I am getting this exception `Caused by: java.util.ServiceConfigurationError: com.fasterxml.jackson.databind.Module: Provider com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule not found\n`","body":"Does your library supports Spring-Boot 2.2.4 Release? When I upgrade it,  I am getting this exception <code>Caused by: java.util.ServiceConfigurationError: com.fasterxml.jackson.databind.Module: Provider com.fasterxml.jackson.module.jaxb.JaxbAnnotationModule not found </code>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1696858002,"creation_date":1498110756,"answer_id":44691164,"question_id":4332467,"body_markdown":"Maven dependency\r\n----------------\r\n\r\nThe first thing you need to do is to set up the following [Hypersistence Utils][2] Maven dependency in your project `pom.xml` configuration file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\r\n        &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMaven ARRAY columns\r\n-------------------\r\n\r\nAssuming you have this table in your database:\r\n\r\n    create table event (\r\n        id int8 not null, \r\n        version int4, \r\n        sensor_names text[], \r\n        sensor_values integer[], \r\n        primary key (id)\r\n    )\r\n\r\nAnd you want to map it like this:\r\n\r\n    @Entity(name = &quot;Event&quot;)\r\n    @Table(name = &quot;event&quot;)\r\n    public class Event {\r\n\r\n        @Id\r\n        private Long id;\r\n     \r\n        @Type(StringArrayType.class)\r\n        @Column(\r\n            name = &quot;sensor_names&quot;, \r\n            columnDefinition = &quot;text[]&quot;\r\n        )\r\n        private String[] sensorNames;\r\n     \r\n        @Type(IntArrayType.class)\r\n        @Column(\r\n            name = &quot;sensor_values&quot;, \r\n            columnDefinition = &quot;integer[]&quot;\r\n        )\r\n        private int[] sensorValues;\r\n     \r\n        //Getters and setters omitted for brevity\r\n    }\r\n\r\nThe `StringArrayType` and `IntArrayType` are classes offered by the Hypersistence Utils project.\r\n\r\nTesting time\r\n------------\r\n\r\nNow, when you insert a couple of entities:\r\n\r\n    Event nullEvent = new Event();\r\n    nullEvent.setId(0L);\r\n    entityManager.persist(nullEvent);\r\n     \r\n    Event event = new Event();\r\n    event.setId(1L);\r\n    event.setSensorNames(\r\n        new String[] {\r\n            &quot;Temperature&quot;, \r\n            &quot;Pressure&quot;\r\n        }\r\n    );\r\n    event.setSensorValues( \r\n        new int[] {\r\n            12, \r\n            756\r\n        } \r\n    );\r\n    entityManager.persist(event);\r\n\r\nHibernate is going to generate the following SQL statements:\r\n\r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES (\r\n        0, \r\n        NULL(ARRAY), \r\n        NULL(ARRAY), \r\n        0\r\n    )\r\n         \r\n    INSERT INTO event (\r\n        version, \r\n        sensor_names, \r\n        sensor_values, \r\n        id\r\n    ) \r\n    VALUES ( \r\n        0, \r\n        {&quot;Temperature&quot;,&quot;Pressure&quot;}, \r\n        {&quot;12&quot;,&quot;756&quot;}, \r\n        1\r\n    )\r\n\r\n\r\n  [1]: https://vladmihalcea.com/how-to-map-java-and-sql-arrays-with-jpa-and-hibernate/\r\n  [2]: https://github.com/vladmihalcea/hypersistence-utils","title":"Mapping array with Hibernate","body":"<h2>Maven dependency</h2>\n<p>The first thing you need to do is to set up the following <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">Hypersistence Utils</a> Maven dependency in your project <code>pom.xml</code> configuration file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-62&lt;/artifactId&gt;\n    &lt;version&gt;${hypersistence-utils.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Maven ARRAY columns</h2>\n<p>Assuming you have this table in your database:</p>\n<pre><code>create table event (\n    id int8 not null, \n    version int4, \n    sensor_names text[], \n    sensor_values integer[], \n    primary key (id)\n)\n</code></pre>\n<p>And you want to map it like this:</p>\n<pre><code>@Entity(name = &quot;Event&quot;)\n@Table(name = &quot;event&quot;)\npublic class Event {\n\n    @Id\n    private Long id;\n \n    @Type(StringArrayType.class)\n    @Column(\n        name = &quot;sensor_names&quot;, \n        columnDefinition = &quot;text[]&quot;\n    )\n    private String[] sensorNames;\n \n    @Type(IntArrayType.class)\n    @Column(\n        name = &quot;sensor_values&quot;, \n        columnDefinition = &quot;integer[]&quot;\n    )\n    private int[] sensorValues;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>The <code>StringArrayType</code> and <code>IntArrayType</code> are classes offered by the Hypersistence Utils project.</p>\n<h2>Testing time</h2>\n<p>Now, when you insert a couple of entities:</p>\n<pre><code>Event nullEvent = new Event();\nnullEvent.setId(0L);\nentityManager.persist(nullEvent);\n \nEvent event = new Event();\nevent.setId(1L);\nevent.setSensorNames(\n    new String[] {\n        &quot;Temperature&quot;, \n        &quot;Pressure&quot;\n    }\n);\nevent.setSensorValues( \n    new int[] {\n        12, \n        756\n    } \n);\nentityManager.persist(event);\n</code></pre>\n<p>Hibernate is going to generate the following SQL statements:</p>\n<pre><code>INSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES (\n    0, \n    NULL(ARRAY), \n    NULL(ARRAY), \n    0\n)\n     \nINSERT INTO event (\n    version, \n    sensor_names, \n    sensor_values, \n    id\n) \nVALUES ( \n    0, \n    {&quot;Temperature&quot;,&quot;Pressure&quot;}, \n    {&quot;12&quot;,&quot;756&quot;}, \n    1\n)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1655818785,"creation_date":1655818785,"answer_id":72701855,"question_id":4332467,"body_markdown":"From Hibernate 6.1 Final, basic arrays and collections may now be mapped to database ARRAY types if possible, or alternatively JSON/XML types.\r\n\r\nhttps://in.relation.to/2022/06/14/orm-61-final/","title":"Mapping array with Hibernate","body":"<p>From Hibernate 6.1 Final, basic arrays and collections may now be mapped to database ARRAY types if possible, or alternatively JSON/XML types.</p>\n<p><a href=\"https://in.relation.to/2022/06/14/orm-61-final/\" rel=\"nofollow noreferrer\">https://in.relation.to/2022/06/14/orm-61-final/</a></p>\n"}],"owner":{"account_id":79514,"reputation":18551,"user_id":225396,"accept_rate":91,"display_name":"danny.lesnik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64553,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":4332854,"answer_count":5,"score":14,"last_activity_date":1696858002,"creation_date":1291273073,"question_id":4332467,"body_markdown":"Can you please help me to map this class using Hibernate?\r\n\r\n    public class MyClass{\r\n        private Long id;\r\n        private String name;\r\n        private int[] values;\r\n        ...\r\n    }\r\n\r\nI&#39;m using PostgreSQL and the column type in the table is integer[]\r\nHow my array should be mapped?\r\n","title":"Mapping array with Hibernate","body":"<p>Can you please help me to map this class using Hibernate?</p>\n\n<pre><code>public class MyClass{\n    private Long id;\n    private String name;\n    private int[] values;\n    ...\n}\n</code></pre>\n\n<p>I'm using PostgreSQL and the column type in the table is integer[]\nHow my array should be mapped?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":3,"creation_date":1696845671,"post_id":77257737,"comment_id":136200523,"body_markdown":"Are you _sure_ you want `false` for an empty stream? It makes much more sense to return true. See https://en.wikipedia.org/wiki/Vacuous_truth.","body":"Are you <i>sure</i> you want <code>false</code> for an empty stream? It makes much more sense to return true. See <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Vacuous_truth</a>."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":1,"creation_date":1696846050,"post_id":77257737,"comment_id":136200584,"body_markdown":"@k314159 yes. I need a `false`.","body":"@k314159 yes. I need a <code>false</code>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1696846192,"post_id":77257737,"comment_id":136200603,"body_markdown":"It may help to get a good response if you describe your actual scenario. This looks like an [X-Y Problem](https://xyproblem.info/). There are _very_ few situations in which returning false for an empty stream is the right thing to do.","body":"It may help to get a good response if you describe your actual scenario. This looks like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">X-Y Problem</a>. There are <i>very</i> few situations in which returning false for an empty stream is the right thing to do."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":2,"creation_date":1696850926,"post_id":77257737,"comment_id":136201509,"body_markdown":"@k314159 added explanation about my upper use-case.","body":"@k314159 added explanation about my upper use-case."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696852573,"creation_date":1696852573,"answer_id":77258645,"question_id":77257737,"body_markdown":"Java&#39;s `Stream` design doesn&#39;t make it easy to check in a single pass whether the stream is empty _and_ whether all elements match a given predicate. You can use a local variable to keep track of count (but it must be effectively final, therefore you would have to use a well-known hack such as a 1-element array). This way, you can retain Stream&#39;s short-circuiting behaviour while also checking if the stream is empty.\r\n\r\nHowever, it doesn&#39;t make sense in pure mathematics/logic terms to regard an empty stream as not having elements that all match a predicate. This is the [vacuous truth][1] concept.\r\n\r\n    /**\r\n     * DO NOT USE. This uses the wrong logic: see\r\n     * &lt;a href=&quot;https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming&quot;&gt;vacuous truth&lt;/a&gt;.\r\n     */\r\n\tprivate static boolean allMatchExceptReturnFalseIfEmpty(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        return stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); }) &amp;&amp; !empty[0];\r\n    }\r\n\r\nThe above method treats the empty stream as a special value that returns the opposite result. In many situations, it may be better to take some special handling in such cases, and that can be done if the method throws an exception:\r\n\r\n    /**\r\n     * Better. Checks that all elements match, at the same time checking that the stream is not empty.\r\n     */\r\n    private static boolean allMatchNonEmptyStream(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        boolean result = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\r\n        if (empty[0])\r\n            throw new IllegalArgumentException(&quot;Stream must not be empty&quot;);\r\n        return result;\r\n    }\r\n\r\nAnother way of looking at this problem is that you want a three-state result:\r\n\r\n    enum MatchResult { EMPTY, ALL_MATCH, SOME_DONT_MATCH }\r\n\r\n    private static MatchResult allMatchThreeState(Stream&lt;String&gt; stream) {\r\n        boolean[] empty = { true };\r\n        boolean allMatch = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\r\n        return (empty[0]) ? MatchResult.EMPTY : allMatch ? MatchResult.ALL_MATCH : MatchResult.SOME_DONT_MATCH;\r\n        \r\n    }\r\n\r\nIn your case (following the update to your question), you might want to make use of this 3-state value to show, for example, (1) no indicator; (2) &quot;download in progress&quot;; and (3) &quot;download complete&quot;. Even if you don&#39;t want to have 3 different indicator states right now, having this 3-state method result will give you better flexibility.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>Java's <code>Stream</code> design doesn't make it easy to check in a single pass whether the stream is empty <em>and</em> whether all elements match a given predicate. You can use a local variable to keep track of count (but it must be effectively final, therefore you would have to use a well-known hack such as a 1-element array). This way, you can retain Stream's short-circuiting behaviour while also checking if the stream is empty.</p>\n<p>However, it doesn't make sense in pure mathematics/logic terms to regard an empty stream as not having elements that all match a predicate. This is the <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming\" rel=\"nofollow noreferrer\">vacuous truth</a> concept.</p>\n<pre><code>/**\n * DO NOT USE. This uses the wrong logic: see\n * &lt;a href=&quot;https://en.wikipedia.org/wiki/Vacuous_truth#In_computer_programming&quot;&gt;vacuous truth&lt;/a&gt;.\n */\nprivate static boolean allMatchExceptReturnFalseIfEmpty(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    return stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); }) &amp;&amp; !empty[0];\n}\n</code></pre>\n<p>The above method treats the empty stream as a special value that returns the opposite result. In many situations, it may be better to take some special handling in such cases, and that can be done if the method throws an exception:</p>\n<pre><code>/**\n * Better. Checks that all elements match, at the same time checking that the stream is not empty.\n */\nprivate static boolean allMatchNonEmptyStream(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    boolean result = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\n    if (empty[0])\n        throw new IllegalArgumentException(&quot;Stream must not be empty&quot;);\n    return result;\n}\n</code></pre>\n<p>Another way of looking at this problem is that you want a three-state result:</p>\n<pre><code>enum MatchResult { EMPTY, ALL_MATCH, SOME_DONT_MATCH }\n\nprivate static MatchResult allMatchThreeState(Stream&lt;String&gt; stream) {\n    boolean[] empty = { true };\n    boolean allMatch = stream.allMatch(text -&gt; { empty[0] = false; return &quot;match&quot;.equals(text); });\n    return (empty[0]) ? MatchResult.EMPTY : allMatch ? MatchResult.ALL_MATCH : MatchResult.SOME_DONT_MATCH;\n    \n}\n</code></pre>\n<p>In your case (following the update to your question), you might want to make use of this 3-state value to show, for example, (1) no indicator; (2) &quot;download in progress&quot;; and (3) &quot;download complete&quot;. Even if you don't want to have 3 different indicator states right now, having this 3-state method result will give you better flexibility.</p>\n"},{"comments":[{"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"score":0,"creation_date":1696857506,"post_id":77258744,"comment_id":136202805,"body_markdown":"Yes, you are right. I modified it with your suggestions and it looks better.","body":"Yes, you are right. I modified it with your suggestions and it looks better."}],"tags":[],"owner":{"account_id":1335627,"reputation":1470,"user_id":1278463,"display_name":"Borislav Gizdov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696857456,"creation_date":1696853603,"answer_id":77258744,"question_id":77257737,"body_markdown":"Maybe not the best code, but it could achieve what you want.\r\n\r\n```\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.stream.*;\r\n\r\nclass Ideone {\r\n  public static void main(String[] args) throws java.lang.Exception {\r\n    System.out.println(testMethod(Stream.empty())); // return false\r\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // return  true\r\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // return false\r\n  }\r\n\r\n  private static boolean testMethod(Stream&lt;String&gt; stream) {\r\n    return allMatchCustom(stream);\r\n  }\r\n\r\n  private static boolean allMatchCustom(Stream&lt;String&gt; stream) {\r\n    AtomicInteger count = new AtomicInteger();\r\n    boolean allMatch = stream.peek(text -&gt; count.incrementAndGet())\r\n      .allMatch(text -&gt; &quot;match&quot;.equals(text));\r\n    return count.get() &gt; 0 &amp;&amp; allMatch;\r\n  }\r\n}\r\n```\r\n\r\nResult\r\n```\r\nfalse\r\ntrue\r\nfalse\r\n```","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>Maybe not the best code, but it could achieve what you want.</p>\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.*;\n\nclass Ideone {\n  public static void main(String[] args) throws java.lang.Exception {\n    System.out.println(testMethod(Stream.empty())); // return false\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // return  true\n    System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // return false\n  }\n\n  private static boolean testMethod(Stream&lt;String&gt; stream) {\n    return allMatchCustom(stream);\n  }\n\n  private static boolean allMatchCustom(Stream&lt;String&gt; stream) {\n    AtomicInteger count = new AtomicInteger();\n    boolean allMatch = stream.peek(text -&gt; count.incrementAndGet())\n      .allMatch(text -&gt; &quot;match&quot;.equals(text));\n    return count.get() &gt; 0 &amp;&amp; allMatch;\n  }\n}\n</code></pre>\n<p>Result</p>\n<pre><code>false\ntrue\nfalse\n</code></pre>\n"}],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77258645,"answer_count":2,"score":5,"last_activity_date":1696857456,"creation_date":1696844102,"question_id":77257737,"body_markdown":"I want to use `Stream.allMatch()`, but I need a `false` when the stream is empty.\r\n\r\n```java\r\npublic static void main (String[] args) throws java.lang.Exception\r\n{\r\n   System.out.println(testMethod(Stream.empty())); // &lt;- expected false (but is true)\r\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // &lt;- expected true\r\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // &lt;- expected false\r\n}\r\n\t\r\nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\r\n   return stream.allMatch(text -&gt; &quot;match&quot;.equals(text));\r\n}\r\n```\r\nhttps://ideone.com/8Nsjiw\r\n\r\nI don&#39;t want to use ...\r\n\r\n* `.toList()`, because I want https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\r\n* `.reduce()`, because https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\r\n\r\nI guess, that I have to use `noMatch()`, but I didn&#39;t get the negation to work correclty.\r\n```java\r\nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\r\n   // my guess, but the results are wrong\r\n   return !stream.noneMatch(text -&gt; !&quot;match&quot;.equals(text));\r\n}\r\n```\r\n\r\nThis is not a duplicate of https://stackoverflow.com/questions/55181858/how-to-return-false-for-an-empty-list-if-using-stream-allmatch because I use `Stream`s and not `List`s.\r\n\r\n---\r\n## Maybe X-Y-problem, so here is my upper use-case\r\n\r\nIt&#39;s about status-collecting. Let&#39;s simply this as a download-status indicator for the user. (Not my real use-case, but it is close).  \r\nI have a table `downloads` which looks like this\r\n\r\n| userId | download_name | download_status | data |\r\n| --- | --- | --- | --- |\r\n| 1 | download 1 | loading | null |\r\n| 2 | download 2 | ready | 0x4545475 |\r\n\r\nI can&#39;t change the tables and I&#39;m limited because it is a huge project (sadly not possible to refactor the world).  \r\nAnyways, I want to show the user an indicator about his downloads. The indicator should be only visible, if all downloads are ready. But, if there no downloads yet, then the user should not see the indicator.\r\n\r\nI have a given repository-method `Stream&lt;Downloads&gt; getDownloadsForUser()`. The short-circuit is important to reduce the load.","title":"How to return false for an empty stream using Stream.allMatch()?","body":"<p>I want to use <code>Stream.allMatch()</code>, but I need a <code>false</code> when the stream is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main (String[] args) throws java.lang.Exception\n{\n   System.out.println(testMethod(Stream.empty())); // &lt;- expected false (but is true)\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;match&quot;))); // &lt;- expected true\n   System.out.println(testMethod(Stream.of(&quot;match&quot;, &quot;no match&quot;))); // &lt;- expected false\n}\n    \nprivate static boolean testMethod(Stream&lt;String&gt; stream) {\n   return stream.allMatch(text -&gt; &quot;match&quot;.equals(text));\n}\n</code></pre>\n<p><a href=\"https://ideone.com/8Nsjiw\" rel=\"noreferrer\">https://ideone.com/8Nsjiw</a></p>\n<p>I don't want to use ...</p>\n<ul>\n<li><code>.toList()</code>, because I want <a href=\"https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\">How does short-circuit work for Java 8 Streams?</a></li>\n<li><code>.reduce()</code>, because <a href=\"https://stackoverflow.com/questions/32192846/how-does-short-circuit-work-for-java-8-streams\">How does short-circuit work for Java 8 Streams?</a></li>\n</ul>\n<p>I guess, that I have to use <code>noMatch()</code>, but I didn't get the negation to work correclty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean testMethod(Stream&lt;String&gt; stream) {\n   // my guess, but the results are wrong\n   return !stream.noneMatch(text -&gt; !&quot;match&quot;.equals(text));\n}\n</code></pre>\n<p>This is not a duplicate of <a href=\"https://stackoverflow.com/questions/55181858/how-to-return-false-for-an-empty-list-if-using-stream-allmatch\">How to return false for an empty list if using Stream.allMatch()?</a> because I use <code>Stream</code>s and not <code>List</code>s.</p>\n<hr />\n<h2>Maybe X-Y-problem, so here is my upper use-case</h2>\n<p>It's about status-collecting. Let's simply this as a download-status indicator for the user. (Not my real use-case, but it is close).<br />\nI have a table <code>downloads</code> which looks like this</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>userId</th>\n<th>download_name</th>\n<th>download_status</th>\n<th>data</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>download 1</td>\n<td>loading</td>\n<td>null</td>\n</tr>\n<tr>\n<td>2</td>\n<td>download 2</td>\n<td>ready</td>\n<td>0x4545475</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I can't change the tables and I'm limited because it is a huge project (sadly not possible to refactor the world).<br />\nAnyways, I want to show the user an indicator about his downloads. The indicator should be only visible, if all downloads are ready. But, if there no downloads yet, then the user should not see the indicator.</p>\n<p>I have a given repository-method <code>Stream&lt;Downloads&gt; getDownloadsForUser()</code>. The short-circuit is important to reduce the load.</p>\n"},{"tags":["java","android","android-notifications","onesignal"],"owner":{"account_id":4393982,"reputation":2533,"user_id":3581620,"accept_rate":81,"display_name":"ΩlostA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856781,"creation_date":1696856781,"question_id":77259103,"body_markdown":"I use to run the OneSignal 4.0 with that code that worked well, but now, impossible to migrate to the 5.0. I cannot find the way to use OSDeviceState, and to get the title and the body of the received notification in the new 5.0\r\n\r\n**OneSignal 4.0**  \r\n\r\n        OSDeviceState deviceState = OneSignal.getDeviceState(); //???\r\n        \r\n        OneSignal.setNotificationWillShowInForegroundHandler(notificationReceivedEvent -&gt; {\r\n                String title = notificationReceivedEvent.getNotification().getTitle();\r\n                String body = notificationReceivedEvent.getNotification().getBody();\r\n                Intent intent = new Intent(&quot;com.xxxx.xxxx.CUSTOM_NOTIFICATION&quot;);\r\n                intent.putExtra(&quot;title&quot;, title);\r\n               \r\n    \r\n        intent.putExtra(&quot;message&quot;, body);\r\n            sendBroadcast(intent);\r\n    \r\n            // ne pas afficher la notification dans le syst&#232;me de notification\r\n            notificationReceivedEvent.complete(null);\r\n        });\r\n\r\n**OneSignal 5.0**  \r\n \r\n\r\n       // Verbose Logging set to help debug issues, remove before releasing your app.\r\n        OneSignal.getDebug().setLogLevel(LogLevel.VERBOSE);\r\n    \r\n        // OneSignal Initialization\r\n        OneSignal.initWithContext(this, ONESIGNAL_APP_ID);\r\n    \r\n        // requestPermission will show the native Android notification permission prompt.\r\n        // NOTE: It&#39;s recommended to use a OneSignal In-App Message to prompt instead.\r\n        OneSignal.getNotifications().requestPermission(true, Continue.with(r -&gt; {\r\n            if (r.isSuccess()) {\r\n                if (r.getData()) {\r\n                    // `requestPermission` completed successfully and the user has accepted permission\r\n                }\r\n                else {\r\n                    // `requestPermission` completed successfully but the user has rejected permission\r\n                }\r\n            }\r\n            else {\r\n                // `requestPermission` completed unsuccessfully, check `r.getThrowable()` for more info on the failure reason\r\n            }\r\n        }));\r\n\r\nThanks in advance","title":"Impossible to migrate from 4.0 to 5.0 in OneSignal. OSDeviceState is not working. I can not retrieve the title and the body of received notifications","body":"<p>I use to run the OneSignal 4.0 with that code that worked well, but now, impossible to migrate to the 5.0. I cannot find the way to use OSDeviceState, and to get the title and the body of the received notification in the new 5.0</p>\n<p><strong>OneSignal 4.0</strong></p>\n<pre><code>    OSDeviceState deviceState = OneSignal.getDeviceState(); //???\n    \n    OneSignal.setNotificationWillShowInForegroundHandler(notificationReceivedEvent -&gt; {\n            String title = notificationReceivedEvent.getNotification().getTitle();\n            String body = notificationReceivedEvent.getNotification().getBody();\n            Intent intent = new Intent(&quot;com.xxxx.xxxx.CUSTOM_NOTIFICATION&quot;);\n            intent.putExtra(&quot;title&quot;, title);\n           \n\n    intent.putExtra(&quot;message&quot;, body);\n        sendBroadcast(intent);\n\n        // ne pas afficher la notification dans le système de notification\n        notificationReceivedEvent.complete(null);\n    });\n</code></pre>\n<p><strong>OneSignal 5.0</strong></p>\n<pre><code>   // Verbose Logging set to help debug issues, remove before releasing your app.\n    OneSignal.getDebug().setLogLevel(LogLevel.VERBOSE);\n\n    // OneSignal Initialization\n    OneSignal.initWithContext(this, ONESIGNAL_APP_ID);\n\n    // requestPermission will show the native Android notification permission prompt.\n    // NOTE: It's recommended to use a OneSignal In-App Message to prompt instead.\n    OneSignal.getNotifications().requestPermission(true, Continue.with(r -&gt; {\n        if (r.isSuccess()) {\n            if (r.getData()) {\n                // `requestPermission` completed successfully and the user has accepted permission\n            }\n            else {\n                // `requestPermission` completed successfully but the user has rejected permission\n            }\n        }\n        else {\n            // `requestPermission` completed unsuccessfully, check `r.getThrowable()` for more info on the failure reason\n        }\n    }));\n</code></pre>\n<p>Thanks in advance</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":6,"creation_date":1430958519,"post_id":30089761,"comment_id":48292767,"body_markdown":"Take a look at http://stackoverflow.com/a/20507988/1393766","body":"Take a look at <a href=\"http://stackoverflow.com/a/20507988/1393766\">stackoverflow.com/a/20507988/1393766</a>"}],"answers":[{"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":4,"creation_date":1430965582,"post_id":30089904,"comment_id":48294476,"body_markdown":"I don&#39;t think this is &quot;meh&quot; at all. I think this is the best way to do it. Many people think of streams as processing values in left-to-right order; this leads to sequential, state-mutation thinking. It&#39;s also prone to boundary errors. You can see this in the conventional looping approach posted by the OP. By contrast, a stream over list indexes as you&#39;ve done follows a vector- or array-based style of programming. A computation is done for each index *i*, and you can easily prove the result is correct for all *i*. There is no mutation or order dependency, thus it parallelizes well. +1","body":"I don&#39;t think this is &quot;meh&quot; at all. I think this is the best way to do it. Many people think of streams as processing values in left-to-right order; this leads to sequential, state-mutation thinking. It&#39;s also prone to boundary errors. You can see this in the conventional looping approach posted by the OP. By contrast, a stream over list indexes as you&#39;ve done follows a vector- or array-based style of programming. A computation is done for each index <i>i</i>, and you can easily prove the result is correct for all <i>i</i>. There is no mutation or order dependency, thus it parallelizes well. +1"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1430966017,"post_id":30089904,"comment_id":48294600,"body_markdown":"@StuartMarks It&#39;s meh in the sense that we aren&#39;t streaming over the elements. But you&#39;re right, that probably has more to do with the way I&#39;m thinking about it. My &quot;ideal&quot; solution would also be non-capturing.","body":"@StuartMarks It&#39;s meh in the sense that we aren&#39;t streaming over the elements. But you&#39;re right, that probably has more to do with the way I&#39;m thinking about it. My &quot;ideal&quot; solution would also be non-capturing."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1432920500,"post_id":30089904,"comment_id":49144829,"body_markdown":"@StuartMarks Lol, they&#39;re called &quot;streams&quot; because they&#39;re supposed to embody the concept of &quot;processing values in left-to-right order.&quot; The point is you use just a small amount of memory and don&#39;t hold all of the data in memory at once. (Like, when you &quot;stream&quot; a song.) Of course, Java 8 morphed the definition entirely to make it be &quot;a stateless process that&#39;s easy to parallelize,&quot; which is why you find nothing ironic about &quot;using streams&quot; to index into a big `List`.","body":"@StuartMarks Lol, they&#39;re called &quot;streams&quot; because they&#39;re supposed to embody the concept of &quot;processing values in left-to-right order.&quot; The point is you use just a small amount of memory and don&#39;t hold all of the data in memory at once. (Like, when you &quot;stream&quot; a song.) Of course, Java 8 morphed the definition entirely to make it be &quot;a stateless process that&#39;s easy to parallelize,&quot; which is why you find nothing ironic about &quot;using streams&quot; to index into a big <code>List</code>."}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":3,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1430968348,"creation_date":1430958394,"answer_id":30089904,"question_id":30089761,"body_markdown":"Using [`IntStream.range`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#range-int-int-):\r\n\r\n    static List&lt;Integer&gt; findSmallPrecedingValues(List&lt;Integer&gt; values) {\r\n        return IntStream.range(0, values.size() - 1)\r\n            .filter(i -&gt; values.get(i) &lt; values.get(i + 1))\r\n            .mapToObj(values::get)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nIt&#39;s certainly nicer than an imperative solution with a large loop, but still a bit meh as far as the goal of &quot;using a stream&quot; in an idiomatic way.\r\n\r\n&gt;Is it possible to retrieve the next value in a stream?\r\n\r\nNope, not really. The best cite I know of for that is in the [`java.util.stream` package description](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description):\r\n\r\n&gt;The elements of a stream are only visited once during the life of a stream. Like an `Iterator`, a new stream must be generated to revisit the same elements of the source.\r\n\r\n(Retrieving elements besides the current element being operated on would imply they could be visited more than once.)\r\n\r\nWe could also technically do it in a couple other ways:\r\n\r\n- Statefully (very meh).\r\n- Using a stream&#39;s `iterator` is *technically* still using the stream.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>Using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#range-int-int-\"><code>IntStream.range</code></a>:</p>\n\n<pre><code>static List&lt;Integer&gt; findSmallPrecedingValues(List&lt;Integer&gt; values) {\n    return IntStream.range(0, values.size() - 1)\n        .filter(i -&gt; values.get(i) &lt; values.get(i + 1))\n        .mapToObj(values::get)\n        .collect(Collectors.toList());\n}\n</code></pre>\n\n<p>It's certainly nicer than an imperative solution with a large loop, but still a bit meh as far as the goal of \"using a stream\" in an idiomatic way.</p>\n\n<blockquote>\n  <p>Is it possible to retrieve the next value in a stream?</p>\n</blockquote>\n\n<p>Nope, not really. The best cite I know of for that is in the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description\"><code>java.util.stream</code> package description</a>:</p>\n\n<blockquote>\n  <p>The elements of a stream are only visited once during the life of a stream. Like an <code>Iterator</code>, a new stream must be generated to revisit the same elements of the source.</p>\n</blockquote>\n\n<p>(Retrieving elements besides the current element being operated on would imply they could be visited more than once.)</p>\n\n<p>We could also technically do it in a couple other ways:</p>\n\n<ul>\n<li>Statefully (very meh).</li>\n<li>Using a stream's <code>iterator</code> is <em>technically</em> still using the stream.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1430963605,"post_id":30090523,"comment_id":48294002,"body_markdown":"Now you just converted the stream to the sequential (which actually doesn&#39;t change anything as `Collection.stream()` already returns a sequential stream). I mean that you cannot take the advantage of parallel computations using this approach.","body":"Now you just converted the stream to the sequential (which actually doesn&#39;t change anything as <code>Collection.stream()</code> already returns a sequential stream). I mean that you cannot take the advantage of parallel computations using this approach."},{"owner":{"account_id":4440133,"reputation":13373,"user_id":3614835,"accept_rate":67,"display_name":"Jeffrey Bosboom"},"score":0,"creation_date":1430966926,"post_id":30090523,"comment_id":48294836,"body_markdown":"Even when using a sequential stream, the streams library can still do a tree reduction instead of the linear reduction you&#39;re relying on here.","body":"Even when using a sequential stream, the streams library can still do a tree reduction instead of the linear reduction you&#39;re relying on here."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":5,"creation_date":1430971338,"post_id":30090523,"comment_id":48295976,"body_markdown":"@JeffreyBosboom I&#39;m tempted to integrate some code that does a tree reduction in the sequential case, just to break everybody&#39;s non-associative reducer functions. *Sorely* tempted.","body":"@JeffreyBosboom I&#39;m tempted to integrate some code that does a tree reduction in the sequential case, just to break everybody&#39;s non-associative reducer functions. <i>Sorely</i> tempted."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1430982641,"post_id":30090523,"comment_id":48300580,"body_markdown":"@JeffreyBosboom, as far as I know *currently* tree reduction is not used in JDK for sequential streams (including Java 9 trunk code). But you&#39;re right, you cannot rely on this. My StreamEx library has a foldLeft method which works strictly left-to-right even for parallel streams.","body":"@JeffreyBosboom, as far as I know <i>currently</i> tree reduction is not used in JDK for sequential streams (including Java 9 trunk code). But you&#39;re right, you cannot rely on this. My StreamEx library has a foldLeft method which works strictly left-to-right even for parallel streams."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1430988405,"post_id":30090523,"comment_id":48304104,"body_markdown":"@tag that&#39;s my understanding - as a matter of practicality, the reduction is sequential, even for parallel streams","body":"@tag that&#39;s my understanding - as a matter of practicality, the reduction is sequential, even for parallel streams"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1431007571,"post_id":30090523,"comment_id":48318195,"body_markdown":"@Bohemian Is it sequantial even for parallel streams? I took your solution added parallel() to it and the result because the associativity is broken is always different...","body":"@Bohemian Is it sequantial even for parallel streams? I took your solution added parallel() to it and the result because the associativity is broken is always different..."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":6,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1430979452,"creation_date":1430963021,"answer_id":30090523,"question_id":30089761,"body_markdown":"It&#39;s not a one-liner (it&#39;s a two-liner), but this works:\r\n\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    values.stream().reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\r\n\r\nRather than solving it by &quot;looking at the next element&quot;, this solves it by &quot;looking at the *previous* element, which `reduce()` give you for free. I have bent its intended usage by injecting a code fragment that populates the list based on the comparison of previous and current elements, then returns the current so the next iteration will see it as its previous element.\r\n\r\n---\r\n\r\nSome test code:\r\n\r\n    List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\r\n    IntStream.of(10, 1, 15, 30, 2, 6).reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\r\n    System.out.println(result);\r\n\r\nOutput:\r\n\r\n    [1, 15, 2]","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>It's not a one-liner (it's a two-liner), but this works:</p>\n\n<pre><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nvalues.stream().reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\n</code></pre>\n\n<p>Rather than solving it by \"looking at the next element\", this solves it by \"looking at the <em>previous</em> element, which <code>reduce()</code> give you for free. I have bent its intended usage by injecting a code fragment that populates the list based on the comparison of previous and current elements, then returns the current so the next iteration will see it as its previous element.</p>\n\n<hr>\n\n<p>Some test code:</p>\n\n<pre><code>List&lt;Integer&gt; result = new ArrayList&lt;&gt;();\nIntStream.of(10, 1, 15, 30, 2, 6).reduce((a,b) -&gt; {if (a &lt; b) result.add(a); return b;});\nSystem.out.println(result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1, 15, 2]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1432920796,"post_id":30090528,"comment_id":49144989,"body_markdown":"That&#39;s good. Maybe you could add this as an answer to this question: http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream","body":"That&#39;s good. Maybe you could add this as an answer to this question: <a href=\"http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream\" title=\"collect successive pairs from a stream\">stackoverflow.com/questions/20470010/&hellip;</a>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1432957828,"post_id":30090528,"comment_id":49157233,"body_markdown":"Why not. Wrote a [new answer](http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream/30542049#30542049).","body":"Why not. Wrote a <a href=\"http://stackoverflow.com/questions/20470010/collect-successive-pairs-from-a-stream/30542049#30542049\">new answer</a>."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1430963422,"creation_date":1430963059,"answer_id":30090528,"question_id":30089761,"body_markdown":"That&#39;s not a pure Java8, but recently I&#39;ve published a small library called [StreamEx](https://github.com/amaembo/streamex) which has a method exactly for this task:\r\n\r\n    // Find all numbers where the integer preceded a larger value.\r\n    Collection&lt;Integer&gt; numbers = Arrays.asList(10, 1, 15, 30, 2, 6);\r\n    List&lt;Integer&gt; res = StreamEx.of(numbers).pairMap((a, b) -&gt; a &lt; b ? a : null)\r\n        .nonNull().toList();\r\n    assertEquals(Arrays.asList(1, 15, 2), res);\r\n\r\nThe [pairMap](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-) operation internally implemented using custom [spliterator](https://github.com/amaembo/streamex/blob/master/src/main/java/javax/util/streamex/PairSpliterator.java). As a result you have quite clean code which does not depend on whether the source is `List` or anything else. Of course it works fine with parallel stream as well.\r\n\r\nCommitted a [testcase](https://github.com/amaembo/streamex/commit/236e45ea7da654a9e7b96d74bb8e0fa71242294a) for this task.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>That's not a pure Java8, but recently I've published a small library called <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> which has a method exactly for this task:</p>\n\n<pre><code>// Find all numbers where the integer preceded a larger value.\nCollection&lt;Integer&gt; numbers = Arrays.asList(10, 1, 15, 30, 2, 6);\nList&lt;Integer&gt; res = StreamEx.of(numbers).pairMap((a, b) -&gt; a &lt; b ? a : null)\n    .nonNull().toList();\nassertEquals(Arrays.asList(1, 15, 2), res);\n</code></pre>\n\n<p>The <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/StreamEx.html#pairMap-java.util.function.BiFunction-\" rel=\"noreferrer\">pairMap</a> operation internally implemented using custom <a href=\"https://github.com/amaembo/streamex/blob/master/src/main/java/javax/util/streamex/PairSpliterator.java\" rel=\"noreferrer\">spliterator</a>. As a result you have quite clean code which does not depend on whether the source is <code>List</code> or anything else. Of course it works fine with parallel stream as well.</p>\n\n<p>Committed a <a href=\"https://github.com/amaembo/streamex/commit/236e45ea7da654a9e7b96d74bb8e0fa71242294a\" rel=\"noreferrer\">testcase</a> for this task.</p>\n"},{"comments":[{"owner":{"account_id":386394,"reputation":9197,"user_id":744133,"accept_rate":57,"display_name":"YoYo"},"score":0,"creation_date":1431062058,"post_id":30094831,"comment_id":48343000,"body_markdown":"When I looked up your profile, I had exactly 6666 profile views ... that must mean something ... I don&#39;t know if this answer (the code) is correct, I can&#39;t understand/follow your code, but by your explanation, which I do understand, I know it is the best. I was trying for two days the same, but my mind blew up. +1","body":"When I looked up your profile, I had exactly 6666 profile views ... that must mean something ... I don&#39;t know if this answer (the code) is correct, I can&#39;t understand/follow your code, but by your explanation, which I do understand, I know it is the best. I was trying for two days the same, but my mind blew up. +1"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1431404114,"post_id":30094831,"comment_id":48469089,"body_markdown":"Actually your parallel version does not have any benefits. The actual algorithm which is specified in the last line will be executed sequentially only after everything else is completed. Even if you replace the `stream()` with `parallelStream()` there, I believe, this solution will be quite slow.","body":"Actually your parallel version does not have any benefits. The actual algorithm which is specified in the last line will be executed sequentially only after everything else is completed. Even if you replace the <code>stream()</code> with <code>parallelStream()</code> there, I believe, this solution will be quite slow."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1431405793,"post_id":30094831,"comment_id":48469559,"body_markdown":"Just profiled all the supplied versions on randomly created input for 10k, 100k and 1M numbers using 4 CPU box. Your parallel version is the slowest among all (2-3x slower than your sequential version depending on input size). Here&#39;s the [gist](https://gist.github.com/amaembo/336df22ea21316feccf1) with benchmark core and results (requires JMH and StreamEx library for StreamEx tests)","body":"Just profiled all the supplied versions on randomly created input for 10k, 100k and 1M numbers using 4 CPU box. Your parallel version is the slowest among all (2-3x slower than your sequential version depending on input size). Here&#39;s the <a href=\"https://gist.github.com/amaembo/336df22ea21316feccf1\" rel=\"nofollow noreferrer\">gist</a> with benchmark core and results (requires JMH and StreamEx library for StreamEx tests)"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1431415115,"post_id":30094831,"comment_id":48473900,"body_markdown":"@TagirValeev This is not surprising because you need to re-filter all the input at once. Your library is likely more performant because you implemented your own spliterator (which requires also more code than my 15 lines solution), so I wouldn&#39;t call this a fair comparison :-), although if you need performance this is probably the way to go. I&#39;m not surprised that the parallel version is slower because of the `collectingAndThen` operation. I really don&#39;t have the time to test now, but compared to the actual answer I&#39;m curious to see the results if the input was a `LinkedList`.","body":"@TagirValeev This is not surprising because you need to re-filter all the input at once. Your library is likely more performant because you implemented your own spliterator (which requires also more code than my 15 lines solution), so I wouldn&#39;t call this a fair comparison :-), although if you need performance this is probably the way to go. I&#39;m not surprised that the parallel version is slower because of the <code>collectingAndThen</code> operation. I really don&#39;t have the time to test now, but compared to the actual answer I&#39;m curious to see the results if the input was a <code>LinkedList</code>."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1431415715,"post_id":30094831,"comment_id":48474239,"body_markdown":"Surely the accepted answer will perform poorly for lists not supporting random access and will not work at all for any other stream source (for example, `BufferedReader`, concatenation of streams, etc.). Using my library you have two advantages: it works nicely with any stream source and parallelization really improves the speed. And the disadvantage: you have to use more code. If fastest and flexible solution were also the short one I would not write this library at all :-)","body":"Surely the accepted answer will perform poorly for lists not supporting random access and will not work at all for any other stream source (for example, <code>BufferedReader</code>, concatenation of streams, etc.). Using my library you have two advantages: it works nicely with any stream source and parallelization really improves the speed. And the disadvantage: you have to use more code. If fastest and flexible solution were also the short one I would not write this library at all :-)"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1431445044,"post_id":30094831,"comment_id":48496046,"body_markdown":"@TagirValeev Would be interesting to put those benchmarks somewhere more visible on this Q&amp;A. Not because we are the winners :*(, clearly `java.util.stream` is the winner.","body":"@TagirValeev Would be interesting to put those benchmarks somewhere more visible on this Q&amp;A. Not because we are the winners :*(, clearly <code>java.util.stream</code> is the winner."}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":6,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431078877,"creation_date":1430984661,"answer_id":30094831,"question_id":30089761,"body_markdown":"The accepted answer works fine if either the stream is sequential or parallel but can suffer if the underlying `List` is not random access, due to multiple calls to `get`. \r\n\r\nIf your stream is sequential, you might roll this collector:\r\n\r\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\r\n        int[] holder = {Integer.MAX_VALUE};\r\n        return Collector.of(ArrayList::new,\r\n                (l, elem) -&gt; {\r\n                    if (holder[0] &lt; elem) l.add(holder[0]);\r\n                    holder[0] = elem;\r\n                },\r\n                (l1, l2) -&gt; {\r\n                    throw new UnsupportedOperationException(&quot;Don&#39;t run in parallel&quot;);\r\n                });\r\n    }\r\n\r\nand a usage:\r\n\r\n    List&lt;Integer&gt; precedingValues = list.stream().collect(collectPrecedingValues());\r\n\r\nNevertheless you could also implement a collector so thats works for sequential and parallel streams. The only thing is that you need to apply a final transformation, but here you have control over the `List` implementation so you won&#39;t suffer from the `get` performance. \r\n\r\nThe idea is to generate first a list of pairs (represented by a `int[]` array of size 2) which contains the values in the stream sliced by a window of size two with a gap of one. When we need to merge two lists, we check the emptiness and merge the gap of the last element of the first list with the first element of the second list. Then we apply a final transformation to filter only desired values and map them to have the desired output.\r\n\r\nIt might not be as simple as the accepted answer, but well it can be an alternative solution.\r\n\r\n    public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\r\n        return Collectors.collectingAndThen(\r\n                Collector.of(() -&gt; new ArrayList&lt;int[]&gt;(),\r\n                        (l, elem) -&gt; {\r\n                            if (l.isEmpty()) l.add(new int[]{Integer.MAX_VALUE, elem});\r\n                            else l.add(new int[]{l.get(l.size() - 1)[1], elem});\r\n                        },\r\n                        (l1, l2) -&gt; {\r\n                            if (l1.isEmpty()) return l2;\r\n                            if (l2.isEmpty()) return l1;\r\n                            l2.get(0)[0] = l1.get(l1.size() - 1)[1];\r\n                            l1.addAll(l2);\r\n                            return l1;\r\n                        }), l -&gt; l.stream().filter(arr -&gt; arr[0] &lt; arr[1]).map(arr -&gt; arr[0]).collect(Collectors.toList()));\r\n    }\r\n\r\nYou can then wrap these two collectors in a utility collector method, check if the stream is parallel with `isParallel` an then decide which collector to return.","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>The accepted answer works fine if either the stream is sequential or parallel but can suffer if the underlying <code>List</code> is not random access, due to multiple calls to <code>get</code>. </p>\n\n<p>If your stream is sequential, you might roll this collector:</p>\n\n<pre><code>public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\n    int[] holder = {Integer.MAX_VALUE};\n    return Collector.of(ArrayList::new,\n            (l, elem) -&gt; {\n                if (holder[0] &lt; elem) l.add(holder[0]);\n                holder[0] = elem;\n            },\n            (l1, l2) -&gt; {\n                throw new UnsupportedOperationException(\"Don't run in parallel\");\n            });\n}\n</code></pre>\n\n<p>and a usage:</p>\n\n<pre><code>List&lt;Integer&gt; precedingValues = list.stream().collect(collectPrecedingValues());\n</code></pre>\n\n<p>Nevertheless you could also implement a collector so thats works for sequential and parallel streams. The only thing is that you need to apply a final transformation, but here you have control over the <code>List</code> implementation so you won't suffer from the <code>get</code> performance. </p>\n\n<p>The idea is to generate first a list of pairs (represented by a <code>int[]</code> array of size 2) which contains the values in the stream sliced by a window of size two with a gap of one. When we need to merge two lists, we check the emptiness and merge the gap of the last element of the first list with the first element of the second list. Then we apply a final transformation to filter only desired values and map them to have the desired output.</p>\n\n<p>It might not be as simple as the accepted answer, but well it can be an alternative solution.</p>\n\n<pre><code>public static Collector&lt;Integer, ?, List&lt;Integer&gt;&gt; collectPrecedingValues() {\n    return Collectors.collectingAndThen(\n            Collector.of(() -&gt; new ArrayList&lt;int[]&gt;(),\n                    (l, elem) -&gt; {\n                        if (l.isEmpty()) l.add(new int[]{Integer.MAX_VALUE, elem});\n                        else l.add(new int[]{l.get(l.size() - 1)[1], elem});\n                    },\n                    (l1, l2) -&gt; {\n                        if (l1.isEmpty()) return l2;\n                        if (l2.isEmpty()) return l1;\n                        l2.get(0)[0] = l1.get(l1.size() - 1)[1];\n                        l1.addAll(l2);\n                        return l1;\n                    }), l -&gt; l.stream().filter(arr -&gt; arr[0] &lt; arr[1]).map(arr -&gt; arr[0]).collect(Collectors.toList()));\n}\n</code></pre>\n\n<p>You can then wrap these two collectors in a utility collector method, check if the stream is parallel with <code>isParallel</code> an then decide which collector to return.</p>\n"},{"comments":[{"owner":{"display_name":"user1038550"},"score":0,"creation_date":1452126748,"post_id":34644644,"comment_id":57036594,"body_markdown":"You can use `Window::value` instead of `w -&gt; w.value()`.","body":"You can use <code>Window::value</code> instead of <code>w -&gt; w.value()</code>."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452125852,"creation_date":1452122046,"answer_id":34644644,"question_id":30089761,"body_markdown":"If you&#39;re willing to use a third party library and don&#39;t need parallelism, then [jOOλ][1] offers SQL-style window functions as follows\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    System.out.println(\r\n    Seq.of(10, 1, 15, 30, 2, 6)\r\n       .window()\r\n       .filter(w -&gt; w.lead().isPresent() &amp;&amp; w.value() &lt; w.lead().get())\r\n       .map(w -&gt; w.value())\r\n       .toList()\r\n    );\r\n\r\nYielding\r\n\r\n&lt;!-- language: lang-none--&gt;\r\n\r\n    [1, 15, 2]\r\n\r\nThe `lead()` function accesses the next value in traversal order from the window.\r\n\r\nDisclaimer: I work for the company behind jOOλ\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>If you're willing to use a third party library and don't need parallelism, then <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> offers SQL-style window functions as follows</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(\nSeq.of(10, 1, 15, 30, 2, 6)\n   .window()\n   .filter(w -&gt; w.lead().isPresent() &amp;&amp; w.value() &lt; w.lead().get())\n   .map(w -&gt; w.value())\n   .toList()\n);\n</code></pre>\n\n<p>Yielding</p>\n\n\n\n<pre><code>[1, 15, 2]\n</code></pre>\n\n<p>The <code>lead()</code> function accesses the next value in traversal order from the window.</p>\n\n<p>Disclaimer: I work for the company behind jOOλ</p>\n"},{"tags":[],"owner":{"account_id":229478,"reputation":4806,"user_id":1874113,"accept_rate":67,"display_name":"walkeros"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1478606760,"creation_date":1478606760,"answer_id":40486533,"question_id":30089761,"body_markdown":"You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\r\n\r\nBelows example first defines instance of BoundedQueue class  which will store elements going through the stream (if you don&#39;t like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just examine the two subsequent elements - thanks to the helper class:\r\n\r\n    public class Kata {\r\n      public static void main(String[] args) {\r\n        List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(10, 1, 15, 30, 2, 6));\r\n    \r\n        class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n          public BoundedQueue&lt;T&gt; save(T curElem) {\r\n            if (size() == 2) { // we need to know only two subsequent elements\r\n              pollLast(); // remove last to keep only requested number of elements\r\n            }\r\n    \r\n            offerFirst(curElem);\r\n            return this;\r\n          }\r\n    \r\n          public T getPrevious() {\r\n            return (size() &lt; 2) ? null : getLast();\r\n          }\r\n    \r\n          public T getCurrent() {\r\n            return (size() == 0) ? null : getFirst();\r\n          }\r\n        }\r\n    \r\n        BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\r\n    \r\n        final List&lt;Integer&gt; answer = input.stream()\r\n          .map(i -&gt; streamHistory.save(i))\r\n          .filter(e -&gt; e.getPrevious() != null)\r\n          .filter(e -&gt; e.getCurrent() &gt; e.getPrevious())\r\n          .map(e -&gt; e.getPrevious())\r\n          .collect(Collectors.toList());\r\n    \r\n        answer.forEach(System.out::println);\r\n      }\r\n    }\r\n\r\n","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<p>You can achieve that by using a bounded queue to store elements which flows through the stream (which is basing on the idea which I described in detail here: <a href=\"https://stackoverflow.com/questions/31650157/is-it-possible-to-get-next-element-in-the-stream/40450777#40450777\">Is it possible to get next element in the Stream?</a></p>\n\n<p>Belows example first defines instance of BoundedQueue class  which will store elements going through the stream (if you don't like idea of extending the LinkedList, refer to link mentioned above for alternative and more generic approach). Later you just examine the two subsequent elements - thanks to the helper class:</p>\n\n<pre><code>public class Kata {\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = new ArrayList&lt;Integer&gt;(asList(10, 1, 15, 30, 2, 6));\n\n    class BoundedQueue&lt;T&gt; extends LinkedList&lt;T&gt; {\n      public BoundedQueue&lt;T&gt; save(T curElem) {\n        if (size() == 2) { // we need to know only two subsequent elements\n          pollLast(); // remove last to keep only requested number of elements\n        }\n\n        offerFirst(curElem);\n        return this;\n      }\n\n      public T getPrevious() {\n        return (size() &lt; 2) ? null : getLast();\n      }\n\n      public T getCurrent() {\n        return (size() == 0) ? null : getFirst();\n      }\n    }\n\n    BoundedQueue&lt;Integer&gt; streamHistory = new BoundedQueue&lt;Integer&gt;();\n\n    final List&lt;Integer&gt; answer = input.stream()\n      .map(i -&gt; streamHistory.save(i))\n      .filter(e -&gt; e.getPrevious() != null)\n      .filter(e -&gt; e.getCurrent() &gt; e.getPrevious())\n      .map(e -&gt; e.getPrevious())\n      .collect(Collectors.toList());\n\n    answer.forEach(System.out::println);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29280853,"reputation":1,"user_id":22433491,"display_name":"Mohan Kadam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1696856778,"creation_date":1696578253,"answer_id":77242657,"question_id":30089761,"body_markdown":"```\r\nList&lt;Integer&gt; listOne= List.of(12,13,67,56,90,62);\r\n\r\nlistOne.stream().filter(val-&gt;val.intValue()&gt;50).collect(Collectors.toList()).forEach(System.out::println);\r\n```","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<pre><code>List&lt;Integer&gt; listOne= List.of(12,13,67,56,90,62);\n\nlistOne.stream().filter(val-&gt;val.intValue()&gt;50).collect(Collectors.toList()).forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":3207681,"reputation":3256,"user_id":2708395,"accept_rate":94,"display_name":"Pete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58407,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":30089904,"answer_count":7,"score":38,"last_activity_date":1696856778,"creation_date":1430957294,"question_id":30089761,"body_markdown":"# Use Case\r\n\r\nThrough some coding Katas posted at work, I stumbled on this problem that I&#39;m not sure how to solve.\r\n\r\n&gt; Using Java 8 Streams, given a list of positive integers, produce a\r\n&gt; list of integers where the integer preceded a larger value.\r\n&gt; \r\n&gt;     [10, 1, 15, 30, 2, 6]\r\n&gt; \r\n&gt; The above input would yield:\r\n&gt; \r\n&gt;     [1, 15, 2]\r\n&gt; \r\n&gt; since 1 precedes 15, 15 precedes 30, and 2 precedes 6.\r\n\r\n## Non-Stream Solution\r\n\r\n    public List&lt;Integer&gt; findSmallPrecedingValues(final List&lt;Integer&gt; values) {\r\n\r\n\t\tList&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\r\n\t\tfor (int i = 0; i &lt; values.size(); i++) {\r\n\t\t\tInteger next = (i + 1 &lt; values.size() ? values.get(i + 1) : -1);\r\n\t\t\tInteger current = values.get(i);\r\n\t\t\tif (current &lt; next) {\r\n\t\t\t\tresult.push(current);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n    }\r\n\r\n## What I&#39;ve Tried\r\n\r\nThe problem I have is I can&#39;t figure out how to access next in the lambda.\r\n\r\n    return values.stream().filter(v -&gt; v &lt; next).collect(Collectors.toList());\r\n\r\n## Question\r\n\r\n - Is it possible to retrieve the next value in a stream?\r\n - Should I be using `map` and mapping to a `Pair` in order to access next?","title":"How to use Java 8 streams to find all values preceding a larger value?","body":"<h1>Use Case</h1>\n\n<p>Through some coding Katas posted at work, I stumbled on this problem that I'm not sure how to solve.</p>\n\n<blockquote>\n  <p>Using Java 8 Streams, given a list of positive integers, produce a\n  list of integers where the integer preceded a larger value.</p>\n\n<pre><code>[10, 1, 15, 30, 2, 6]\n</code></pre>\n  \n  <p>The above input would yield:</p>\n\n<pre><code>[1, 15, 2]\n</code></pre>\n  \n  <p>since 1 precedes 15, 15 precedes 30, and 2 precedes 6.</p>\n</blockquote>\n\n<h2>Non-Stream Solution</h2>\n\n<pre><code>public List&lt;Integer&gt; findSmallPrecedingValues(final List&lt;Integer&gt; values) {\n\n    List&lt;Integer&gt; result = new ArrayList&lt;Integer&gt;();\n    for (int i = 0; i &lt; values.size(); i++) {\n        Integer next = (i + 1 &lt; values.size() ? values.get(i + 1) : -1);\n        Integer current = values.get(i);\n        if (current &lt; next) {\n            result.push(current);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<h2>What I've Tried</h2>\n\n<p>The problem I have is I can't figure out how to access next in the lambda.</p>\n\n<pre><code>return values.stream().filter(v -&gt; v &lt; next).collect(Collectors.toList());\n</code></pre>\n\n<h2>Question</h2>\n\n<ul>\n<li>Is it possible to retrieve the next value in a stream?</li>\n<li>Should I be using <code>map</code> and mapping to a <code>Pair</code> in order to access next?</li>\n</ul>\n"},{"tags":["java","android","hash","xmlsec"],"owner":{"account_id":2749108,"reputation":11,"user_id":2368857,"display_name":"user2368857"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856480,"creation_date":1696856480,"question_id":77259075,"body_markdown":"I have simple XML file(String)\r\n\r\n```\r\n&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;soapenv:Header&gt;&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\r\n  &lt;/wsse:Security&gt;\r\n&lt;/soapenv:Header&gt;\r\n&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\r\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\r\n&lt;/soapenv:Body&gt;\r\n&lt;/soapenv:Envelope&gt;\r\n```\r\nJava procedure for xml-sign is:\r\n\r\n```\r\n   public static void sign(Document doc,Key signKey, X509Certificate signCert, Element signElement){\r\n        Element e1 =(Element)doc.getElementsByTagName(&quot;soapenv:Body&quot;).item(0);\r\n        e1.setIdAttribute(&quot;soapsec:id&quot;, true);\r\n        String elementId = e1.getAttribute(&quot;soapsec:id&quot;);\r\n        if (elementId == null) {\r\n        }\r\n        String elementRefId = &quot;#&quot; + elementId;\r\n        org.apache.xml.security.Init.init();\r\n        try {\r\n            XMLSignature signature = new XMLSignature(signElement.getOwnerDocument(),\r\n                    elementRefId,   //baseURI\r\n                    XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA256,  // signatureMethodURI\r\n                    Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS); //  canonicalizationMethodURI\r\n            signature.setId(&quot;wsu:Id&quot;);\r\n            signElement.appendChild(signature.getElement());         \r\n            Transforms transforms = new Transforms(signElement.getOwnerDocument());\r\n            transforms.addTransform(Transforms.TRANSFORM_C14N_EXCL_OMIT_COMMENTS);  //  Canonical CN14\r\n            signature.addDocument(elementRefId, transforms, MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA256);              signature.addKeyInfo(signCert);\r\n            signature.addKeyInfo(signCert.getPublicKey());\r\n            signature.sign(signKey);\r\n        } catch (XMLSecurityException xmse) {\r\n            throw new RuntimeException(xmse);\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n```\r\nI call this procedure with signElement parameter &lt;Body...&gt;\r\n\r\nsigned XML is generated, everything looks fine.....but when I try verify this signature, &quot;Reference 1 wrong digest&quot; error occured. But signature is verified. Digest no.\r\n\r\nSo bad reference hash?\r\n\r\nI tried manualy generate SHA 256 from body element. With next Bas64 encoding.\r\n\r\nI tried it from string` &quot;&lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;&quot;`\r\nalso from` &quot;&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\r\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\r\n&lt;/soapenv:Body&gt;&quot;`\r\nalso from canonized (EXC-CN14) canonized strings. But without succed.\r\n\r\nWhat is correct way to make SHA256 digest of XML?\r\nWhy my santuario code calculate wrong digest?\r\n\r\n\r\n\r\n\r\nI tried sign it by santuario xmlsec library, also manualy calculate digest and signature.","title":"Java Android XML sign (santuario)","body":"<p>I have simple XML file(String)</p>\n<pre><code>&lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soapenv:Header&gt;&lt;wsse:Security xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\n  &lt;/wsse:Security&gt;\n&lt;/soapenv:Header&gt;\n&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt;\n  &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;\n&lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n<p>Java procedure for xml-sign is:</p>\n<pre><code>   public static void sign(Document doc,Key signKey, X509Certificate signCert, Element signElement){\n        Element e1 =(Element)doc.getElementsByTagName(&quot;soapenv:Body&quot;).item(0);\n        e1.setIdAttribute(&quot;soapsec:id&quot;, true);\n        String elementId = e1.getAttribute(&quot;soapsec:id&quot;);\n        if (elementId == null) {\n        }\n        String elementRefId = &quot;#&quot; + elementId;\n        org.apache.xml.security.Init.init();\n        try {\n            XMLSignature signature = new XMLSignature(signElement.getOwnerDocument(),\n                    elementRefId,   //baseURI\n                    XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA256,  // signatureMethodURI\n                    Canonicalizer.ALGO_ID_C14N_EXCL_OMIT_COMMENTS); //  canonicalizationMethodURI\n            signature.setId(&quot;wsu:Id&quot;);\n            signElement.appendChild(signature.getElement());         \n            Transforms transforms = new Transforms(signElement.getOwnerDocument());\n            transforms.addTransform(Transforms.TRANSFORM_C14N_EXCL_OMIT_COMMENTS);  //  Canonical CN14\n            signature.addDocument(elementRefId, transforms, MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA256);              signature.addKeyInfo(signCert);\n            signature.addKeyInfo(signCert.getPublicKey());\n            signature.sign(signKey);\n        } catch (XMLSecurityException xmse) {\n            throw new RuntimeException(xmse);\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n</code></pre>\n<p>I call this procedure with signElement parameter &lt;Body...&gt;</p>\n<p>signed XML is generated, everything looks fine.....but when I try verify this signature, &quot;Reference 1 wrong digest&quot; error occured. But signature is verified. Digest no.</p>\n<p>So bad reference hash?</p>\n<p>I tried manualy generate SHA 256 from body element. With next Bas64 encoding.</p>\n<p>I tried it from string<code> &quot;&lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt;&quot;</code>\nalso from<code> &quot;&lt;soapenv:Body xmlns:soapsec=&quot;http://schemas.xmlsoap.org/soap/security/2000-12&quot; soapsec:id=&quot;Body&quot;&gt; &lt;z:FooBar xmlns:z=&quot;http://example.com&quot;&gt;&lt;/z:FooBar&gt; &lt;/soapenv:Body&gt;&quot;</code>\nalso from canonized (EXC-CN14) canonized strings. But without succed.</p>\n<p>What is correct way to make SHA256 digest of XML?\nWhy my santuario code calculate wrong digest?</p>\n<p>I tried sign it by santuario xmlsec library, also manualy calculate digest and signature.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","junit5"],"comments":[{"owner":{"account_id":2966530,"reputation":871,"user_id":2519566,"display_name":"Frank W"},"score":0,"creation_date":1696824786,"post_id":77255629,"comment_id":136197621,"body_markdown":"It appears it&#39;s looking for your table &quot;role&quot; in a schema or database named &quot;test&quot;.\nDid you cross-check your configuration files, especially if you have one for tests?","body":"It appears it&#39;s looking for your table &quot;role&quot; in a schema or database named &quot;test&quot;. Did you cross-check your configuration files, especially if you have one for tests?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696831396,"post_id":77255629,"comment_id":136198168,"body_markdown":"The fact that you have that `DatabaseConfiguration` makes we wonder. If your `JobSearchApplication` is in the `com.tomholmes.product.jobsearch` you don&#39;t need it (in fact it might even disable parts of the auto-configuration). Please add your `application.properties` to the question.","body":"The fact that you have that <code>DatabaseConfiguration</code> makes we wonder. If your <code>JobSearchApplication</code> is in the <code>com.tomholmes.product.jobsearch</code> you don&#39;t need it (in fact it might even disable parts of the auto-configuration). Please add your <code>application.properties</code> to the question."},{"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"score":0,"creation_date":1696867872,"post_id":77255629,"comment_id":136204965,"body_markdown":"@M.Deinum The Database Configuration is absolutely in the right path/package.  Also, I have added the application.properties as requested.","body":"@M.Deinum The Database Configuration is absolutely in the right path/package.  Also, I have added the application.properties as requested."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696873148,"post_id":77255629,"comment_id":136205915,"body_markdown":"Where do I state it isn&#39;t in the right package, you shouldn&#39;t need that class at all.","body":"Where do I state it isn&#39;t in the right package, you shouldn&#39;t need that class at all."},{"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"score":0,"creation_date":1696890936,"post_id":77255629,"comment_id":136208392,"body_markdown":"@M.Deinum then I misunderstood what you were saying.  I did remove the database configuration, and it removed the issue altogether.  But, I&#39;d like to know what it was about my configuration that was causing the issue.","body":"@M.Deinum then I misunderstood what you were saying.  I did remove the database configuration, and it removed the issue altogether.  But, I&#39;d like to know what it was about my configuration that was causing the issue."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696918386,"post_id":77255629,"comment_id":136210422,"body_markdown":"If your `@SpringBootApplication` class is in the top-level package (as recommended by the Spring Boot team/documentation) you don&#39;t need all those additional configurations (as a general rule of thumb). Adding them disabled (parts) of the auto configuration from Spring Boot. I suspect the combination of `@EntityScan` and `@EnableJpaRepositories` but as stated you won&#39;t need it as it is provided out-of-the-box for you. Generally when you start doing things like this you need to get your hands from the keyboard, take 2 steps back and really think if you need it when using Spring Boot.","body":"If your <code>@SpringBootApplication</code> class is in the top-level package (as recommended by the Spring Boot team/documentation) you don&#39;t need all those additional configurations (as a general rule of thumb). Adding them disabled (parts) of the auto configuration from Spring Boot. I suspect the combination of <code>@EntityScan</code> and <code>@EnableJpaRepositories</code> but as stated you won&#39;t need it as it is provided out-of-the-box for you. Generally when you start doing things like this you need to get your hands from the keyboard, take 2 steps back and really think if you need it when using Spring Boot."}],"owner":{"account_id":1835763,"reputation":1908,"user_id":1666206,"accept_rate":67,"display_name":"tjholmes66"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696856197,"creation_date":1696806852,"question_id":77255629,"body_markdown":"I am creating a new Spring Boot 3.14 application for myself, and I found myself stuck, and I just need a little help in moving forward.   I have a previous Spring Boot 3.0.5 application which does not have this problem.\r\n\r\nThe main Spring Boot application is as follows:\r\n\r\n    @SpringBootApplication\r\n    public class JobSearchApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(JobSearchApplication.class, args);\r\n\t    }\r\n    }\r\n\r\nThe DatabaseConfiguration class is as follows:\r\n\r\n    package com.tomholmes.product.jobsearch.config;\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;com.tomholmes.product.jobsearch&quot;)\r\n    @EntityScan(&quot;com.tomholmes.product.jobsearch.model&quot;)\r\n    @EnableJpaRepositories(basePackages = &quot;com.tomholmes.product.jobsearch.repository&quot;)\r\n    @EnableTransactionManagement\r\n    public class DatabaseConfiguration {\r\n    }\r\n\r\nMy Hibernate Entity works fine, my Hibernate Repository code works fine, and I have a simple test which shows that the database connection works fine.   Let me show you the simple test:\r\n\r\n    @AutoConfigureTestDatabase(replace=Replace.NONE)\r\n    @DataJpaTest\r\n    public class RoleRepositoryTest {\r\n        @Autowired\r\n        private RoleRepository repository;\r\n    \r\n        @Test\r\n        public void testFindById() {\r\n            long id = 1;\r\n            RoleEntity roleEntity = repository.findById(id).orElse(null);\r\n            assertNotNull(roleEntity);\r\n            assertEquals(id, roleEntity.getId());\r\n         }\r\n    }\r\n\r\nNow it&#39;s time to implement the service code test which I have like this.  And you will notice I am using Constructor Injection as this has become the standard.\r\n\r\n    @Transactional\r\n    @Service(&quot;roleService&quot;)\r\n    public class RoleServiceImpl implements RoleService {\r\n        private RoleRepository roleRepository;\r\n\r\n        public RoleServiceImpl(RoleRepository roleRepository) {\r\n            this.roleRepository = roleRepository;\r\n        }\r\n\r\n        @Override\r\n        public RoleEntity getById(long id) {\r\n            RoleEntity role = roleRepository.findById(id).orElse(null);\r\n            return role;\r\n        }\r\n    }\r\n\r\nNow comes the part where the Integration Test for this should be super-easy, and with my older project (Spring Boot 3.0.5) this worked, but with Spring Boot 3.1.4 something changed.   So, here is the test, and then I will tell you what error message is coming up.   So, first the test code as follows:\r\n\r\n    @SpringBootTest(classes = JobSearchApplication.class)\r\n    @Transactional\r\n    public class RoleServiceTest {\r\n    \r\n        @Autowired\r\n        private RoleService service;\r\n        \r\n        @Test\r\n        public void testGetById() {\r\n            long id = 1;\r\n            RoleEntity entity = service.getById(id);\r\n            assertNotNull(entity);\r\n            assertEquals(id, entity.getId());\r\n        }\r\n    }\r\n\r\nNow the error that I get is as follows:\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: Table &#39;test.role&#39; doesn&#39;t exist\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\t... 156 common frames omitted\r\n\r\nSo, I completely do not understand why the test is looking is looking for a table &#39;test.role&#39; instead of &#39;role&#39;.   I&#39;ve looked at older projects, and I&#39;ve done some searching on Google for an answer to this, but I haven&#39;t seen any ideas on why this is happening.\r\n\r\nI tried to change the test to include:\r\n\r\n    @SpringBootTest(classes = JobSearchApplication.class, DatabaseConfiguration.class)\r\n\r\nand that doesn&#39;t work.   I want to make it clear that I am using MySQL with the latest driver, and I want to use the real database for testing out my business logic.  So, any help with this would be big.  I am sure it might be something small.\r\n\r\nIf I need to provide anything else, please let me know, and I can add more info.\r\nThanks!\r\n\r\nUPDATED: Providing the application.properties file as follows:\r\n\r\n    # Spring Boot - Hibernate6 settings\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/job_search_db?serverTimezone=UTC\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.username=username\r\n    spring.datasource.password=password\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl","title":"Spring Boot 3 Test Service cannot find database table","body":"<p>I am creating a new Spring Boot 3.14 application for myself, and I found myself stuck, and I just need a little help in moving forward.   I have a previous Spring Boot 3.0.5 application which does not have this problem.</p>\n<p>The main Spring Boot application is as follows:</p>\n<pre><code>@SpringBootApplication\npublic class JobSearchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JobSearchApplication.class, args);\n    }\n}\n</code></pre>\n<p>The DatabaseConfiguration class is as follows:</p>\n<pre><code>package com.tomholmes.product.jobsearch.config;\n@Configuration\n@EnableAutoConfiguration\n@ComponentScan(&quot;com.tomholmes.product.jobsearch&quot;)\n@EntityScan(&quot;com.tomholmes.product.jobsearch.model&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.tomholmes.product.jobsearch.repository&quot;)\n@EnableTransactionManagement\npublic class DatabaseConfiguration {\n}\n</code></pre>\n<p>My Hibernate Entity works fine, my Hibernate Repository code works fine, and I have a simple test which shows that the database connection works fine.   Let me show you the simple test:</p>\n<pre><code>@AutoConfigureTestDatabase(replace=Replace.NONE)\n@DataJpaTest\npublic class RoleRepositoryTest {\n    @Autowired\n    private RoleRepository repository;\n\n    @Test\n    public void testFindById() {\n        long id = 1;\n        RoleEntity roleEntity = repository.findById(id).orElse(null);\n        assertNotNull(roleEntity);\n        assertEquals(id, roleEntity.getId());\n     }\n}\n</code></pre>\n<p>Now it's time to implement the service code test which I have like this.  And you will notice I am using Constructor Injection as this has become the standard.</p>\n<pre><code>@Transactional\n@Service(&quot;roleService&quot;)\npublic class RoleServiceImpl implements RoleService {\n    private RoleRepository roleRepository;\n\n    public RoleServiceImpl(RoleRepository roleRepository) {\n        this.roleRepository = roleRepository;\n    }\n\n    @Override\n    public RoleEntity getById(long id) {\n        RoleEntity role = roleRepository.findById(id).orElse(null);\n        return role;\n    }\n}\n</code></pre>\n<p>Now comes the part where the Integration Test for this should be super-easy, and with my older project (Spring Boot 3.0.5) this worked, but with Spring Boot 3.1.4 something changed.   So, here is the test, and then I will tell you what error message is coming up.   So, first the test code as follows:</p>\n<pre><code>@SpringBootTest(classes = JobSearchApplication.class)\n@Transactional\npublic class RoleServiceTest {\n\n    @Autowired\n    private RoleService service;\n    \n    @Test\n    public void testGetById() {\n        long id = 1;\n        RoleEntity entity = service.getById(id);\n        assertNotNull(entity);\n        assertEquals(id, entity.getId());\n    }\n}\n</code></pre>\n<p>Now the error that I get is as follows:</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: Table 'test.role' doesn't exist\nat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\nat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\nat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\nat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:239) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n... 156 common frames omitted\n</code></pre>\n<p>So, I completely do not understand why the test is looking is looking for a table 'test.role' instead of 'role'.   I've looked at older projects, and I've done some searching on Google for an answer to this, but I haven't seen any ideas on why this is happening.</p>\n<p>I tried to change the test to include:</p>\n<pre><code>@SpringBootTest(classes = JobSearchApplication.class, DatabaseConfiguration.class)\n</code></pre>\n<p>and that doesn't work.   I want to make it clear that I am using MySQL with the latest driver, and I want to use the real database for testing out my business logic.  So, any help with this would be big.  I am sure it might be something small.</p>\n<p>If I need to provide anything else, please let me know, and I can add more info.\nThanks!</p>\n<p>UPDATED: Providing the application.properties file as follows:</p>\n<pre><code># Spring Boot - Hibernate6 settings\nspring.datasource.url=jdbc:mysql://localhost:3306/job_search_db?serverTimezone=UTC\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.username=username\nspring.datasource.password=password\nspring.jpa.show-sql=true\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":["java","react-native","android-studio","gradle","simulator"],"answers":[{"tags":[],"owner":{"account_id":17468562,"reputation":103,"user_id":12664825,"display_name":"jNiuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689796930,"creation_date":1689796930,"answer_id":76724835,"question_id":76723947,"body_markdown":"Just figured this out. My Namespace in android -&gt; app -&gt; build.gradle was somehow SLIGHTLY different then the other package names. Make sure these all are the same.","title":"Build Error when running npx expo run:android","body":"<p>Just figured this out. My Namespace in android -&gt; app -&gt; build.gradle was somehow SLIGHTLY different then the other package names. Make sure these all are the same.</p>\n"}],"owner":{"account_id":17468562,"reputation":103,"user_id":12664825,"display_name":"jNiuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696855723,"creation_date":1689788516,"question_id":76723947,"body_markdown":"Im trying to run a react-native project on the android emulator from Android Studio. However whenever I run npx expo run:android I get a few errors:\r\n\r\n    The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build. \r\n    This might happen in subprojects that apply the Kotlin plugins with the Gradle &#39;plugins { ... }&#39; DSL if they specify explicit versions, even if the versions are equal.\r\n    Please add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\r\n    If the parent project does not need the plugin, add &#39;apply false&#39; to the plugin line.\r\n    See: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\r\n    The Kotlin plugin was loaded in the following projects: &#39;:expo&#39;, &#39;:expo-av&#39;, &#39;:react-native-gesture-handler&#39;, &#39;:react-native-safe-area-context&#39;, ...\r\n\r\n    &gt; Task :app:compileDebugJavaWithJavac FAILED\r\n    error: cannot find symbol\r\n            return BuildConfig.DEBUG;\r\n\r\n    Deprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nI&#39;ve tried many different post suggestions, cleaning the gradle, adjusting the versions, and much more to no avail. \r\n\r\nIt might be worth mentioning that IOS runs completely fine.","title":"Build Error when running npx expo run:android","body":"<p>Im trying to run a react-native project on the android emulator from Android Studio. However whenever I run npx expo run:android I get a few errors:</p>\n<pre><code>The Kotlin Gradle plugin was loaded multiple times in different subprojects, which is not supported and may break the build. \nThis might happen in subprojects that apply the Kotlin plugins with the Gradle 'plugins { ... }' DSL if they specify explicit versions, even if the versions are equal.\nPlease add the Kotlin plugin to the common parent project or the root project, then remove the versions in the subprojects.\nIf the parent project does not need the plugin, add 'apply false' to the plugin line.\nSee: https://docs.gradle.org/current/userguide/plugins.html#sec:subprojects_plugins_dsl\nThe Kotlin plugin was loaded in the following projects: ':expo', ':expo-av', ':react-native-gesture-handler', ':react-native-safe-area-context', ...\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\nerror: cannot find symbol\n        return BuildConfig.DEBUG;\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n</code></pre>\n<p>I've tried many different post suggestions, cleaning the gradle, adjusting the versions, and much more to no avail.</p>\n<p>It might be worth mentioning that IOS runs completely fine.</p>\n"},{"tags":["java","spring","spring-jdbc"],"comments":[{"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"score":0,"creation_date":1696429190,"post_id":77230240,"comment_id":136151991,"body_markdown":"Note to myself: spring-data-jdbc.jar contains the AbstractJdbcConfiguration.class - will try later","body":"Note to myself: spring-data-jdbc.jar contains the AbstractJdbcConfiguration.class - will try later"}],"answers":[{"tags":[],"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696855235,"creation_date":1696502337,"answer_id":77236363,"question_id":77230240,"body_markdown":"I came up with this solution in my DAO class, where the SimpleJdbcCall objects are used:\r\n\r\n\t@Autowired\r\n\tprivate ConversionService conversionService;\r\n\t//...\r\n\t{\r\n    \t\tBeanPropertyRowMapper&lt;MyDTO&gt; rowMapper1 = new BeanPropertyRowMapper&lt;MyDTO&gt;() {\r\n\t\t\t@Override\r\n\t\t\tprotected void initBeanWrapper(BeanWrapper bw)\r\n\t\t\t{\r\n\t\t\t\tbw.setConversionService(conversionService);\r\n\t\t\t}\r\n\t\t};\r\n\t\trowMapper1.setMappedClass(MyDTO.class);\r\n\t\t\r\n\t\tmySimpleJdbcCall.returningResultSet(&quot;p_my_object&quot;, rowMapper1);\r\n\r\nThis works (in JUnit tests) for reading data from database.\r\n\r\n**Writing**\r\n\r\nI used the solution from here: https://stackoverflow.com/a/50368110\r\n\r\nBasically, override the getValue() method to specially handle my type:\r\n\r\n    BeanPropertySqlParameterSource parameterSource = new BeanPropertySqlParameterSource(pojo) {\r\n        @Override\r\n        public Object getValue(String paramName) throws IllegalArgumentException {\r\n            Object value = super.getValue(paramName);\r\n            if (value instanceof MyIDType) {\r\n                return ((MyIDType) value).getInternalValue();\r\n            }\r\n    \r\n            return value;\r\n        }\r\n    };","title":"How to register a GenericConverter to be used by SimpleJdbcCall objects in Spring 3?","body":"<p>I came up with this solution in my DAO class, where the SimpleJdbcCall objects are used:</p>\n<pre><code>@Autowired\nprivate ConversionService conversionService;\n//...\n{\n        BeanPropertyRowMapper&lt;MyDTO&gt; rowMapper1 = new BeanPropertyRowMapper&lt;MyDTO&gt;() {\n        @Override\n        protected void initBeanWrapper(BeanWrapper bw)\n        {\n            bw.setConversionService(conversionService);\n        }\n    };\n    rowMapper1.setMappedClass(MyDTO.class);\n    \n    mySimpleJdbcCall.returningResultSet(&quot;p_my_object&quot;, rowMapper1);\n</code></pre>\n<p>This works (in JUnit tests) for reading data from database.</p>\n<p><strong>Writing</strong></p>\n<p>I used the solution from here: <a href=\"https://stackoverflow.com/a/50368110\">https://stackoverflow.com/a/50368110</a></p>\n<p>Basically, override the getValue() method to specially handle my type:</p>\n<pre><code>BeanPropertySqlParameterSource parameterSource = new BeanPropertySqlParameterSource(pojo) {\n    @Override\n    public Object getValue(String paramName) throws IllegalArgumentException {\n        Object value = super.getValue(paramName);\n        if (value instanceof MyIDType) {\n            return ((MyIDType) value).getInternalValue();\n        }\n\n        return value;\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":435987,"reputation":1349,"user_id":822870,"accept_rate":33,"display_name":"David Balažic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77236363,"answer_count":1,"score":0,"last_activity_date":1696855235,"creation_date":1696427785,"question_id":77230240,"body_markdown":"Using Spring 3.0.x, I wrote a SimpleJdbcCall defining with returningResultSet() a BeanPropertyRowMapper.\r\n\r\nNow I want to replace the java.lang.Long type used for object IDs with a strongly typed ID, that is defining a PersonId class that holds the actual ID values as a Long variable.\r\n\r\nI wrote a org.springframework.core.convert.converter.GenericConverter implementation that converts from the BigDecimal that is returned by JDBC to PersonID (and some others, for other classes).\r\n\r\nI registered my converter as:\r\n\r\n    &lt;bean id=&quot;conversionService&quot;\r\n\t\tclass=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n\t&lt;property name=&quot;converters&quot;&gt;\r\n\t\t&lt;set&gt;\r\n\t\t\t&lt;bean class=&quot;xxx.impl.IDTypeConverter&quot;/&gt;\r\n\t\t&lt;/set&gt;\r\n\t&lt;/property&gt;\r\n&lt;/bean&gt;\r\n\r\n\r\n**The problem**\r\n\r\nSpring does not use my converter.\r\n\r\nDebugging leads to method org.springframework.beans.TypeConverterDelegate.convertIfNecessary(String, Object, Object, Class&lt;T&gt;, TypeDescriptor) where:\r\n\r\n    ConversionService conversionService = this.propertyEditorRegistry.getConversionService();\r\n\r\nthis method returns null. There are no conversions used.\r\n\r\nSearching the web I found https://stackoverflow.com/a/12798635 where is says:\r\n\r\n&gt; spring was trying to find a custom converter registered with PropertyEditor\r\n\r\nThen it proposes a solution using a property editor but does not go into detail how to actually do it. (I asked there)\r\n\r\nAnother answer https://stackoverflow.com/a/53120800 says to use  the method jdbcCustomConversions() from (Abstract)JdbcConfiguration, but I can&#39;t find those classes in my project.\r\n\r\nI could write a custom RowMapper for each JDBC call, but that is a lot of code.\r\n\r\n\r\nThe question is: how to convert those datatypes with as few code as possible?\r\n","title":"How to register a GenericConverter to be used by SimpleJdbcCall objects in Spring 3?","body":"<p>Using Spring 3.0.x, I wrote a SimpleJdbcCall defining with returningResultSet() a BeanPropertyRowMapper.</p>\n<p>Now I want to replace the java.lang.Long type used for object IDs with a strongly typed ID, that is defining a PersonId class that holds the actual ID values as a Long variable.</p>\n<p>I wrote a org.springframework.core.convert.converter.GenericConverter implementation that converts from the BigDecimal that is returned by JDBC to PersonID (and some others, for other classes).</p>\n<p>I registered my converter as:</p>\n<pre><code>&lt;bean id=&quot;conversionService&quot;\n    class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\n&lt;property name=&quot;converters&quot;&gt;\n    &lt;set&gt;\n        &lt;bean class=&quot;xxx.impl.IDTypeConverter&quot;/&gt;\n    &lt;/set&gt;\n&lt;/property&gt;\n</code></pre>\n\n<p><strong>The problem</strong></p>\n<p>Spring does not use my converter.</p>\n<p>Debugging leads to method org.springframework.beans.TypeConverterDelegate.convertIfNecessary(String, Object, Object, Class, TypeDescriptor) where:</p>\n<pre><code>ConversionService conversionService = this.propertyEditorRegistry.getConversionService();\n</code></pre>\n<p>this method returns null. There are no conversions used.</p>\n<p>Searching the web I found <a href=\"https://stackoverflow.com/a/12798635\">https://stackoverflow.com/a/12798635</a> where is says:</p>\n<blockquote>\n<p>spring was trying to find a custom converter registered with PropertyEditor</p>\n</blockquote>\n<p>Then it proposes a solution using a property editor but does not go into detail how to actually do it. (I asked there)</p>\n<p>Another answer <a href=\"https://stackoverflow.com/a/53120800\">https://stackoverflow.com/a/53120800</a> says to use  the method jdbcCustomConversions() from (Abstract)JdbcConfiguration, but I can't find those classes in my project.</p>\n<p>I could write a custom RowMapper for each JDBC call, but that is a lot of code.</p>\n<p>The question is: how to convert those datatypes with as few code as possible?</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"score":2,"creation_date":1590396384,"post_id":61998747,"comment_id":109654052,"body_markdown":"I recommend you to try your hands on Spring. To check such a scenario yourself, you will need only 1 file and 90% of code you already have written in the question ;)","body":"I recommend you to try your hands on Spring. To check such a scenario yourself, you will need only 1 file and 90% of code you already have written in the question ;)"}],"answers":[{"comments":[{"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"score":0,"creation_date":1590396379,"post_id":61998822,"comment_id":109654049,"body_markdown":"I tried to look for any official documentation for this or some reference, but could not find. Can you provide some link if possible?","body":"I tried to look for any official documentation for this or some reference, but could not find. Can you provide some link if possible?"},{"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"score":1,"creation_date":1590396479,"post_id":61998822,"comment_id":109654089,"body_markdown":"[link](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/NoUniqueBeanDefinitionException.html) and here is a good [article](https://springframework.guru/fixing-nonuniquebeandefinitionexception-exceptions/)","body":"<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/NoUniqueBeanDefinitionException.html\" rel=\"nofollow noreferrer\">link</a> and here is a good <a href=\"https://springframework.guru/fixing-nonuniquebeandefinitionexception-exceptions/\" rel=\"nofollow noreferrer\">article</a>"}],"tags":[],"owner":{"account_id":5630313,"reputation":716,"user_id":4457451,"display_name":"Maksym Rudenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696854597,"creation_date":1590396278,"answer_id":61998822,"question_id":61998747,"body_markdown":"Spring will notice a mistake and throw `NoUniqueBeanDefinitionException` during application startup. \r\nIf you remove `@Component` annotation it will work as expected, `@Bean` will be used for initialization.","title":"What is given priority in below scenario @Bean or @Component?","body":"<p>Spring will notice a mistake and throw <code>NoUniqueBeanDefinitionException</code> during application startup.\nIf you remove <code>@Component</code> annotation it will work as expected, <code>@Bean</code> will be used for initialization.</p>\n"}],"owner":{"account_id":9477272,"reputation":843,"user_id":7046239,"display_name":"rsp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":61998822,"answer_count":1,"score":3,"last_activity_date":1696854597,"creation_date":1590395984,"question_id":61998747,"body_markdown":"I am learning concepts of Spring &amp; I came across @Bean &amp; @Component annotations. I want to know what will happen in below scenario:\r\n\r\n    @Configuration\r\n    class ConfigClass {\r\n      \r\n      @Bean\r\n      public ComponentClass ComponentClass() {\r\n        return new ComponentClass(someDependency1, someDependency2, someDependency3);\r\n      }\r\n    }\r\n\r\n    @Component\r\n    class ComponentClass{\r\n      private SomeDependency1 sd1;\r\n      private SomeDependency2 sd2;\r\n      private SomeDependency3 sd3;\r\n    \r\n      public ComponentClass(SomeDependency1 sd1, SomeDependency2 sd2, SomeDependency3 sd3) {\r\n        /* initialize here */\r\n      }\r\n    }\r\n\r\nI have declared *ComponentClass* as @Component which means it is a spring bean now. But I have also defined a @Bean for it in config class separately. \r\n\r\n1. Which of these beans will be actually used as by default Spring is singleton?\r\n\r\n2. What happens when I remove @Component?","title":"What is given priority in below scenario @Bean or @Component?","body":"<p>I am learning concepts of Spring &amp; I came across @Bean &amp; @Component annotations. I want to know what will happen in below scenario:</p>\n\n<pre><code>@Configuration\nclass ConfigClass {\n\n  @Bean\n  public ComponentClass ComponentClass() {\n    return new ComponentClass(someDependency1, someDependency2, someDependency3);\n  }\n}\n\n@Component\nclass ComponentClass{\n  private SomeDependency1 sd1;\n  private SomeDependency2 sd2;\n  private SomeDependency3 sd3;\n\n  public ComponentClass(SomeDependency1 sd1, SomeDependency2 sd2, SomeDependency3 sd3) {\n    /* initialize here */\n  }\n}\n</code></pre>\n\n<p>I have declared <em>ComponentClass</em> as @Component which means it is a spring bean now. But I have also defined a @Bean for it in config class separately. </p>\n\n<ol>\n<li><p>Which of these beans will be actually used as by default Spring is singleton?</p></li>\n<li><p>What happens when I remove @Component?</p></li>\n</ol>\n"},{"tags":["java","hibernate","spring-data-jpa","enums","spring-el"],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696854594,"creation_date":1696854594,"answer_id":77258855,"question_id":77258316,"body_markdown":"The JPA will automatically convert the enum value to its name as a string when constructing the ExampleDto. You don&#39;t need to explicitly call name() on the enum.\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n       SELECT new com.example.project.ExampleDto(e.id, e.type)\r\n       FROM   Example e \r\n       WHERE  e.id = :id&quot;&quot;&quot;)\r\nExampleDto findById(Integer id);\r\n\r\n```","title":"How to get enum&#39;s value within JPQL-query?","body":"<p>The JPA will automatically convert the enum value to its name as a string when constructing the ExampleDto. You don't need to explicitly call name() on the enum.</p>\n<pre><code>@Query(&quot;&quot;&quot;\n       SELECT new com.example.project.ExampleDto(e.id, e.type)\n       FROM   Example e \n       WHERE  e.id = :id&quot;&quot;&quot;)\nExampleDto findById(Integer id);\n\n</code></pre>\n"}],"owner":{"account_id":18442446,"reputation":388,"user_id":14614707,"display_name":"Zhenyria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696854594,"creation_date":1696849790,"question_id":77258316,"body_markdown":"I have the follow entity with enum as field:\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;example&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Example implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;type&quot;)\r\n    private Type type;\r\n}\r\n```\r\nThe enum:\r\n```lang-java\r\npublic enum Type implements Serializable {\r\n    EASY,\r\n    NORMAL,\r\n    HARD\r\n}\r\n```\r\nAt last I have the follow DTO:\r\n```lang-java\r\npublic record ExampleDto(Integer id, String value) {\r\n}\r\n```\r\nIt is important that `ExampleDto#value` has `String` type not `Type` type. I want to use the DTO as projection in `Spring Data JPA` but I have a problem. I do not understand how I can convert enum value to string within JPQL-query. I tried to do something like that:\r\n```lang-java\r\n@Query(&quot;&quot;&quot;\r\n       SELECT new com.example.project.ExampleDto(e.id, e.type.name)\r\n       FROM   Example e \r\n       WHERE  e.id = :id&quot;&quot;&quot;)\r\nExampleDto findById(Integer id);\r\n```\r\nBut it does not work. So how I can convert enum to string within JPQL? Is it possible?","title":"How to get enum&#39;s value within JPQL-query?","body":"<p>I have the follow entity with enum as field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;example&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class Example implements Serializable {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Integer id;\n\n    @NotNull\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;type&quot;)\n    private Type type;\n}\n</code></pre>\n<p>The enum:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Type implements Serializable {\n    EASY,\n    NORMAL,\n    HARD\n}\n</code></pre>\n<p>At last I have the follow DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record ExampleDto(Integer id, String value) {\n}\n</code></pre>\n<p>It is important that <code>ExampleDto#value</code> has <code>String</code> type not <code>Type</code> type. I want to use the DTO as projection in <code>Spring Data JPA</code> but I have a problem. I do not understand how I can convert enum value to string within JPQL-query. I tried to do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;&quot;&quot;\n       SELECT new com.example.project.ExampleDto(e.id, e.type.name)\n       FROM   Example e \n       WHERE  e.id = :id&quot;&quot;&quot;)\nExampleDto findById(Integer id);\n</code></pre>\n<p>But it does not work. So how I can convert enum to string within JPQL? Is it possible?</p>\n"},{"tags":["java","java-8","java-stream","reduce","collectors"],"comments":[{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Előd Fekete"},"score":0,"creation_date":1477611238,"post_id":40295750,"comment_id":67849968,"body_markdown":"It seems to me that you need some kind of primitive parser for your input and you could handle not only line-breaks but also escaping of quotes.","body":"It seems to me that you need some kind of primitive parser for your input and you could handle not only line-breaks but also escaping of quotes."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1477611297,"post_id":40295750,"comment_id":67849992,"body_markdown":"You only have 1 group in your regex. Also, how do you know if the next line is a new ID or part of the previous string? Do they all have quotes? What if the string contains quotes? You might want to use a CSV parser for this.","body":"You only have 1 group in your regex. Also, how do you know if the next line is a new ID or part of the previous string? Do they all have quotes? What if the string contains quotes? You might want to use a CSV parser for this."},{"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"score":0,"creation_date":1477611477,"post_id":40295750,"comment_id":67850045,"body_markdown":"Strings may contain quotes, for example:\n101, &quot;some &quot;te xt\nand more &quot;\ntext&quot;\n102, &quot;this is the next document&quot;\n\nI need to somehow buffer os accumulate lines using lambdas?","body":"Strings may contain quotes, for example: 101, &quot;some &quot;te xt and more &quot; text&quot; 102, &quot;this is the next document&quot;  I need to somehow buffer os accumulate lines using lambdas?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1477611692,"post_id":40295750,"comment_id":67850093,"body_markdown":"Looks like your input might be a CSV file. Have you considered using a CSV parser?","body":"Looks like your input might be a CSV file. Have you considered using a CSV parser?"},{"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"score":0,"creation_date":1477611954,"post_id":40295750,"comment_id":67850149,"body_markdown":"Thank you for the suggestions. I will try to use https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html","body":"Thank you for the suggestions. I will try to use <a href=\"https://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1477662867,"post_id":40295750,"comment_id":67870388,"body_markdown":"See also [CSV API for Java](http://stackoverflow.com/questions/101100/csv-api-for-java?rq=1) (does not produce a `Stream` though)","body":"See also <a href=\"http://stackoverflow.com/questions/101100/csv-api-for-java?rq=1\">CSV API for Java</a> (does not produce a <code>Stream</code> though)"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477653844,"creation_date":1477653844,"answer_id":40304028,"question_id":40295750,"body_markdown":"This is a job for `java.util.Scanner`. With the upcoming Java&#160;9, you would write:\r\n\r\n    List&lt;MyClass&gt; result;\r\n    try(Scanner s=new Scanner(Paths.get(&quot;data.txt&quot;))) {\r\n        result = s.findAll(&quot;(\\\\d{1,3}),\\\\s*\\&quot;([^\\&quot;]*)\\&quot;&quot;)\r\n                    //MyClass(int id, String text)\r\n        .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2))) \r\n        .collect(Collectors.toList());\r\n    }\r\n    result.forEach(System.out::println);\r\n\r\nbut since the `Stream` producing `findAll` does not exist under Java&#160;8, we’ll need a helper method:\r\n\r\n    private static Stream&lt;MatchResult&gt; matches(Scanner s, String pattern) {\r\n        Pattern compiled=Pattern.compile(pattern);\r\n        return StreamSupport.stream(\r\n            new Spliterators.AbstractSpliterator&lt;MatchResult&gt;(1000,\r\n                             Spliterator.ORDERED|Spliterator.NONNULL) {\r\n            @Override\r\n            public boolean tryAdvance(Consumer&lt;? super MatchResult&gt; action) {\r\n                if(s.findWithinHorizon(compiled, 0)==null) return false;\r\n                action.accept(s.match());\r\n                return true;\r\n            }\r\n        }, false);\r\n    }\r\n\r\nReplacing `findAll` with this helper method, we get\r\n\r\n    List&lt;MyClass&gt; result;\r\n    try(Scanner s=new Scanner(Paths.get(&quot;data.txt&quot;))) {\r\n\r\n        result = matches(s, &quot;(\\\\d{1,3}),\\\\s*\\&quot;([^\\&quot;]*)\\&quot;&quot;)\r\n                   // MyClass(int id, String text)\r\n        .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2)))\r\n        .collect(Collectors.toList());\r\n    }\r\n\r\n\r\n","title":"Accumulate a Java Stream and only then process it","body":"<p>This is a job for <code>java.util.Scanner</code>. With the upcoming Java 9, you would write:</p>\n\n<pre><code>List&lt;MyClass&gt; result;\ntry(Scanner s=new Scanner(Paths.get(\"data.txt\"))) {\n    result = s.findAll(\"(\\\\d{1,3}),\\\\s*\\\"([^\\\"]*)\\\"\")\n                //MyClass(int id, String text)\n    .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2))) \n    .collect(Collectors.toList());\n}\nresult.forEach(System.out::println);\n</code></pre>\n\n<p>but since the <code>Stream</code> producing <code>findAll</code> does not exist under Java 8, we’ll need a helper method:</p>\n\n<pre><code>private static Stream&lt;MatchResult&gt; matches(Scanner s, String pattern) {\n    Pattern compiled=Pattern.compile(pattern);\n    return StreamSupport.stream(\n        new Spliterators.AbstractSpliterator&lt;MatchResult&gt;(1000,\n                         Spliterator.ORDERED|Spliterator.NONNULL) {\n        @Override\n        public boolean tryAdvance(Consumer&lt;? super MatchResult&gt; action) {\n            if(s.findWithinHorizon(compiled, 0)==null) return false;\n            action.accept(s.match());\n            return true;\n        }\n    }, false);\n}\n</code></pre>\n\n<p>Replacing <code>findAll</code> with this helper method, we get</p>\n\n<pre><code>List&lt;MyClass&gt; result;\ntry(Scanner s=new Scanner(Paths.get(\"data.txt\"))) {\n\n    result = matches(s, \"(\\\\d{1,3}),\\\\s*\\\"([^\\\"]*)\\\"\")\n               // MyClass(int id, String text)\n    .map(m -&gt; new MyClass(Integer.parseInt(m.group(1)), m.group(2)))\n    .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":9531146,"reputation":23,"user_id":7082785,"display_name":"Daiquiri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40304028,"answer_count":1,"score":2,"last_activity_date":1696854321,"creation_date":1477610936,"question_id":40295750,"body_markdown":"I had a document that looked like the following:\r\n\r\ndata.txt\r\n\r\n    100, &quot;some text&quot;\r\n    101, &quot;more text&quot;\r\n    102, &quot;even more text&quot;\r\n\r\nI processed it using regex and returned a new processed documents as follows:\r\n\r\n    Stream&lt;String&gt; lines = Files.lines(Paths.get(data.txt);\r\n    Pattern regex = Pattern.compile(&quot;([\\\\d{1,3}]),(.*)&quot;);\r\n\r\n    List&lt;MyClass&gt; result = \r\n      lines.map(regex::matcher)\r\n           .filter(Matcher::find)\r\n           .map(m -&gt; new MyClass(m.group(1), m.group(2)) //MyClass(int id, String text)\r\n           .collect(Collectors.toList());\r\n\r\nThis returns a list of MyClass processed. Can run in parallel and everything is ok.\r\n\r\nThe problem is that I now have this:\r\n\r\ndata2.txt\r\n\r\n    101, &quot;some text\r\n    the text continues in the next line\r\n    and maybe in the next&quot;\r\n    102, &quot;for a random\r\n    number\r\n    of lines&quot;\r\n    103, &quot;until the new pattern of new id comma appears&quot;\r\n\r\n\r\nSo, I somehow need to join lines that are being read from the stream until a new match appear. (Something like a buffer?)\r\n\r\nI tried to Collect strings and then collect MyClass(), but with no success, because I cannot actually split streams.\r\n\r\nReduce comes to mind to concatenate lines, but I&#39;ll concatenate just lines and I cannot reduce and generate a new stream of lines.\r\n\r\nAny ideas how to solve this with Java 8 streams?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Accumulate a Java Stream and only then process it","body":"<p>I had a document that looked like the following:</p>\n<p>data.txt</p>\n<pre><code>100, &quot;some text&quot;\n101, &quot;more text&quot;\n102, &quot;even more text&quot;\n</code></pre>\n<p>I processed it using regex and returned a new processed documents as follows:</p>\n<pre><code>Stream&lt;String&gt; lines = Files.lines(Paths.get(data.txt);\nPattern regex = Pattern.compile(&quot;([\\\\d{1,3}]),(.*)&quot;);\n\nList&lt;MyClass&gt; result = \n  lines.map(regex::matcher)\n       .filter(Matcher::find)\n       .map(m -&gt; new MyClass(m.group(1), m.group(2)) //MyClass(int id, String text)\n       .collect(Collectors.toList());\n</code></pre>\n<p>This returns a list of MyClass processed. Can run in parallel and everything is ok.</p>\n<p>The problem is that I now have this:</p>\n<p>data2.txt</p>\n<pre><code>101, &quot;some text\nthe text continues in the next line\nand maybe in the next&quot;\n102, &quot;for a random\nnumber\nof lines&quot;\n103, &quot;until the new pattern of new id comma appears&quot;\n</code></pre>\n<p>So, I somehow need to join lines that are being read from the stream until a new match appear. (Something like a buffer?)</p>\n<p>I tried to Collect strings and then collect MyClass(), but with no success, because I cannot actually split streams.</p>\n<p>Reduce comes to mind to concatenate lines, but I'll concatenate just lines and I cannot reduce and generate a new stream of lines.</p>\n<p>Any ideas how to solve this with Java 8 streams?</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1551820862,"post_id":15420968,"comment_id":96778290,"body_markdown":"Did it crash your app?","body":"Did it crash your app?"}],"answers":[{"comments":[{"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"score":1,"creation_date":1422511339,"post_id":15421011,"comment_id":44780791,"body_markdown":"even after using getDeclaredField over getField iam getting this error :-         can not access a member of class  with modifiers &quot;private&quot;","body":"even after using getDeclaredField over getField iam getting this error :-         can not access a member of class  with modifiers &quot;private&quot;"},{"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"score":10,"creation_date":1422513525,"post_id":15421011,"comment_id":44781583,"body_markdown":"ohh get it. i need to use setAccessible(true)","body":"ohh get it. i need to use setAccessible(true)"},{"owner":{"account_id":6836950,"reputation":896,"user_id":5258518,"display_name":"Joe Flack"},"score":5,"creation_date":1536351188,"post_id":15421011,"comment_id":91407755,"body_markdown":"I am getting `NoSuchFieldException` even when using `getDeclaredField()`, and the &quot;has private access&quot; error even after using `setAccessible(true)`.\n\n**Example 1**: `Field fieldy = rootElement.getClass().getDeclaredField(&quot;name&quot;);` throws `NoSuchFieldException`. But doing `Field[] fields = rootElement.getClass().getDeclaredFields();` allows me to iterate through the fields, and when I call `field.getName()`, it returns &quot;name&quot;. So what&#39;s the deal?","body":"I am getting <code>NoSuchFieldException</code> even when using <code>getDeclaredField()</code>, and the &quot;has private access&quot; error even after using <code>setAccessible(true)</code>.  <b>Example 1</b>: <code>Field fieldy = rootElement.getClass().getDeclaredField(&quot;name&quot;);</code> throws <code>NoSuchFieldException</code>. But doing <code>Field[] fields = rootElement.getClass().getDeclaredFields();</code> allows me to iterate through the fields, and when I call <code>field.getName()</code>, it returns &quot;name&quot;. So what&#39;s the deal?"},{"owner":{"account_id":6836950,"reputation":896,"user_id":5258518,"display_name":"Joe Flack"},"score":2,"creation_date":1536352007,"post_id":15421011,"comment_id":91408040,"body_markdown":"**Solved**: Looks like I had to wrap in a try/catch","body":"<b>Solved</b>: Looks like I had to wrap in a try/catch"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":2,"creation_date":1636736611,"post_id":15421011,"comment_id":123644735,"body_markdown":"@JoeFlack how did surrounding with a `try/catch` solve anything? The Exception gets thrown anyways, and then what do you do in the `catch` to properly get that field which exists but somehow throws the `NoSuchFieldException` ?","body":"@JoeFlack how did surrounding with a <code>try&#47;catch</code> solve anything? The Exception gets thrown anyways, and then what do you do in the <code>catch</code> to properly get that field which exists but somehow throws the <code>NoSuchFieldException</code> ?"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":1,"creation_date":1636737181,"post_id":15421011,"comment_id":123644938,"body_markdown":"If the field is inherited from a superclass, this answer won&#39;t be sufficient. See https://stackoverflow.com/a/69946642/9768291","body":"If the field is inherited from a superclass, this answer won&#39;t be sufficient. See <a href=\"https://stackoverflow.com/a/69946642/9768291\">stackoverflow.com/a/69946642/9768291</a>"}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":6,"down_vote_count":1,"up_vote_count":177,"is_accepted":true,"score":176,"last_activity_date":1696853008,"creation_date":1363298412,"answer_id":15421011,"question_id":15420968,"body_markdown":"The [`getField`][1] method will only find the field if it&#39;s `public`.  You will need to use the [`getDeclaredField`][2] method instead, which will find any field that is declared _directly_ on the class, even if it&#39;s not `public`.\r\n\r\n[1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getField(java.lang.String)\r\n[2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getDeclaredField(java.lang.String)","title":"NoSuchFieldException when field exists","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getField(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getField</code></a> method will only find the field if it's <code>public</code>.  You will need to use the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Class.html#getDeclaredField(java.lang.String)\" rel=\"nofollow noreferrer\"><code>getDeclaredField</code></a> method instead, which will find any field that is declared <em>directly</em> on the class, even if it's not <code>public</code>.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1363298427,"creation_date":1363298427,"answer_id":15421018,"question_id":15420968,"body_markdown":"According to the javadoc, `Class.getField()` &quot;Returns a `Field` object that reflects the specified public member field of the class or interface represented by this `Class` object&quot;.\r\nUse `getDeclaredField()` if you want to access non-public fields.","title":"NoSuchFieldException when field exists","body":"<p>According to the javadoc, <code>Class.getField()</code> \"Returns a <code>Field</code> object that reflects the specified public member field of the class or interface represented by this <code>Class</code> object\".\nUse <code>getDeclaredField()</code> if you want to access non-public fields.</p>\n"},{"tags":[],"owner":{"account_id":4435143,"reputation":99,"user_id":3611179,"display_name":"Murali Krishna Valluri"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1636736486,"creation_date":1399449556,"answer_id":23512050,"question_id":15420968,"body_markdown":"Best solutions for `getClass().getField()` problem are:\r\n\r\n1) Use **getDeclaredField**() instead of **getField**():\r\n```java\r\n        String propertyName = &quot;test&quot;;\r\n        Class.forName(this.getClass().getName()).getDeclaredField(propertyName);\r\n```\r\n\r\n2) Replace **&quot;HelloWorld&quot;** with your class name:\r\n```java\r\n        String propertyName = &quot;name&quot;;\r\n        HelloWorld.class.getDeclaredField(propertyName);\r\n```\r\n\r\nIf you want to get the annotation length of the column:\r\n```java\r\nHelloWorld.class.getDeclaredField(propertyName).getAnnotation(Column.class).length();\r\n```","title":"NoSuchFieldException when field exists","body":"<p>Best solutions for <code>getClass().getField()</code> problem are:</p>\n<ol>\n<li>Use <strong>getDeclaredField</strong>() instead of <strong>getField</strong>():</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String propertyName = &quot;test&quot;;\n        Class.forName(this.getClass().getName()).getDeclaredField(propertyName);\n</code></pre>\n<ol start=\"2\">\n<li>Replace <strong>&quot;HelloWorld&quot;</strong> with your class name:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        String propertyName = &quot;name&quot;;\n        HelloWorld.class.getDeclaredField(propertyName);\n</code></pre>\n<p>If you want to get the annotation length of the column:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HelloWorld.class.getDeclaredField(propertyName).getAnnotation(Column.class).length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4531600,"reputation":491537,"user_id":3681880,"accept_rate":90,"display_name":"Suragch"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1473760035,"creation_date":1473760035,"answer_id":39466961,"question_id":15420968,"body_markdown":"I came to this question based on the title. I was getting the same error (`NoSuchFieldException`) in my Android project but for a different reason. \r\n\r\nSo for others who come here, this error can also potentially be caused by the caches getting out of sync in Android Studio. Go to **File &gt; Invalidate Caches / Restart...**\r\n\r\nSee [this][1] also \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13439486/missing-styles-is-the-correct-theme-chosen-for-this-layout","title":"NoSuchFieldException when field exists","body":"<p>I came to this question based on the title. I was getting the same error (<code>NoSuchFieldException</code>) in my Android project but for a different reason. </p>\n\n<p>So for others who come here, this error can also potentially be caused by the caches getting out of sync in Android Studio. Go to <strong>File > Invalidate Caches / Restart...</strong></p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/13439486/missing-styles-is-the-correct-theme-chosen-for-this-layout\">this</a> also </p>\n"},{"comments":[{"owner":{"account_id":11481341,"reputation":101,"user_id":8446131,"display_name":"theimpulson"},"score":0,"creation_date":1634038970,"post_id":57732394,"comment_id":122914113,"body_markdown":"Thanks a lot. My class was also getting obfuscated. I had to disable `minifyEnabled` flag in order to prevent it.","body":"Thanks a lot. My class was also getting obfuscated. I had to disable <code>minifyEnabled</code> flag in order to prevent it."}],"tags":[],"owner":{"account_id":5854221,"reputation":2808,"user_id":5635880,"display_name":"Brian Yencho"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1567193829,"creation_date":1567193829,"answer_id":57732394,"question_id":15420968,"body_markdown":"For any Android developers seeing this that still can&#39;t seem to fix the issue, **check to see if Proguard is enabled.** If it is, it&#39;s possible the class in question is being obfuscated and you&#39;ll need to add rules to prevent that from happening.","title":"NoSuchFieldException when field exists","body":"<p>For any Android developers seeing this that still can't seem to fix the issue, <strong>check to see if Proguard is enabled.</strong> If it is, it's possible the class in question is being obfuscated and you'll need to add rules to prevent that from happening.</p>\n"},{"comments":[{"owner":{"account_id":2902806,"reputation":678,"user_id":2489037,"accept_rate":63,"display_name":"KCD"},"score":0,"creation_date":1649401169,"post_id":69946642,"comment_id":126870364,"body_markdown":"That solved my problem, thank you!","body":"That solved my problem, thank you!"},{"owner":{"account_id":7373365,"reputation":470,"user_id":5612892,"accept_rate":83,"display_name":"Amirhosein Al"},"score":0,"creation_date":1676913541,"post_id":69946642,"comment_id":133228808,"body_markdown":"How do I set a value for an inherited field? I get `NoSuchFieldException` when I try `field.set(...)`","body":"How do I set a value for an inherited field? I get <code>NoSuchFieldException</code> when I try <code>field.set(...)</code>"}],"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636737149,"creation_date":1636737149,"answer_id":69946642,"question_id":15420968,"body_markdown":"As mentioned in the accepted answer, using `getDeclaredField` will potentially solve your problem (in case the field wasn&#39;t declared as `public`).\r\n\r\nIf you are still getting the `NoSuchFieldException`, then it might be because that field is actually in the superclass! Indeed, if your class `extends` another class, then you will not get the inherited fields through the `getDeclaredField` method. Here is how to fix that problem:\r\n\r\n```java\r\nString propertyName = &quot;foo&quot;;\r\nyourClass.getClass().getSuperClass().getDeclaredField(propertyName);\r\n```","title":"NoSuchFieldException when field exists","body":"<p>As mentioned in the accepted answer, using <code>getDeclaredField</code> will potentially solve your problem (in case the field wasn't declared as <code>public</code>).</p>\n<p>If you are still getting the <code>NoSuchFieldException</code>, then it might be because that field is actually in the superclass! Indeed, if your class <code>extends</code> another class, then you will not get the inherited fields through the <code>getDeclaredField</code> method. Here is how to fix that problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String propertyName = &quot;foo&quot;;\nyourClass.getClass().getSuperClass().getDeclaredField(propertyName);\n</code></pre>\n"}],"owner":{"account_id":2257919,"reputation":31825,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97554,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":15421011,"answer_count":6,"score":90,"last_activity_date":1696853008,"creation_date":1363298209,"question_id":15420968,"body_markdown":"I&#39;m getting a `java.lang.NoSuchFieldException` when trying to run the following method: \r\n\r\n     public void getTimes(String specialty, String day) {\r\n        ArrayList&lt;Tutor&gt; withSpec = new ArrayList&lt;Tutor&gt;();\r\n        for (Tutor t : tutorList){\r\n            try {\r\n                Time startTime = (Time)t.getClass().getField(day + &quot;Start&quot;).get(t);\r\n            } catch (NoSuchFieldException | SecurityException | IllegalAccessException ex) Logger.getLogger(DBHandler.class.getName()).log(Level.SEVERE, null, ex); }\r\n\r\nThe error is on the line `Time startTime = (Time)t.getClass().getField(day + &quot;Start&quot;).get(t);`\r\n\r\nI don&#39;t understand this error, because monStart is a field of the `Tutor` class: \r\n\r\n    Public class Tutor implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @Basic(optional = false)\r\n    @NotNull\r\n    @Column(name = &quot;tutorID&quot;)\r\n    private Integer tutorID;\r\n\r\n    .... \r\n\r\n    @Column(name = &quot;monStart&quot;)\r\n    @Temporal(TemporalType.TIME)\r\n     Date monStart;\r\n\r\nI&#39;m just learning to use reflection, so I&#39;m sure this is some sort of a syntactical error...","title":"NoSuchFieldException when field exists","body":"<p>I'm getting a <code>java.lang.NoSuchFieldException</code> when trying to run the following method: </p>\n\n<pre><code> public void getTimes(String specialty, String day) {\n    ArrayList&lt;Tutor&gt; withSpec = new ArrayList&lt;Tutor&gt;();\n    for (Tutor t : tutorList){\n        try {\n            Time startTime = (Time)t.getClass().getField(day + \"Start\").get(t);\n        } catch (NoSuchFieldException | SecurityException | IllegalAccessException ex) Logger.getLogger(DBHandler.class.getName()).log(Level.SEVERE, null, ex); }\n</code></pre>\n\n<p>The error is on the line <code>Time startTime = (Time)t.getClass().getField(day + \"Start\").get(t);</code></p>\n\n<p>I don't understand this error, because monStart is a field of the <code>Tutor</code> class: </p>\n\n<pre><code>Public class Tutor implements Serializable {\nprivate static final long serialVersionUID = 1L;\n@Id\n@Basic(optional = false)\n@NotNull\n@Column(name = \"tutorID\")\nprivate Integer tutorID;\n\n.... \n\n@Column(name = \"monStart\")\n@Temporal(TemporalType.TIME)\n Date monStart;\n</code></pre>\n\n<p>I'm just learning to use reflection, so I'm sure this is some sort of a syntactical error...</p>\n"},{"tags":["java","nfc","qr-code","scanning"],"comments":[{"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"score":0,"creation_date":1696853211,"post_id":77258684,"comment_id":136201929,"body_markdown":"Ive already made an implementation that makes the problem exist. Ive implemented a camera section at my mobile screen so when i open it and scan a QR Code then it shows me the result. Also Ive implemented the NFC section that when I scan an NFC also shows me the info. The problem comes when I include both of them at my layout, then only the QR scanner is playing and the NFC is not recognisable at all from my logs","body":"Ive already made an implementation that makes the problem exist. Ive implemented a camera section at my mobile screen so when i open it and scan a QR Code then it shows me the result. Also Ive implemented the NFC section that when I scan an NFC also shows me the info. The problem comes when I include both of them at my layout, then only the QR scanner is playing and the NFC is not recognisable at all from my logs"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696853520,"post_id":77258684,"comment_id":136201994,"body_markdown":"That information would already improve the question. You can improve it even further by showing the code that causes the problem.","body":"That information would already improve the question. You can improve it even further by showing the code that causes the problem."},{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1696854200,"post_id":77258684,"comment_id":136202142,"body_markdown":"Probably duplicate of https://stackoverflow.com/q/76520588/2373819 It&#39;s seems a hardware issue.","body":"Probably duplicate of <a href=\"https://stackoverflow.com/q/76520588/2373819\">stackoverflow.com/q/76520588/2373819</a> It&#39;s seems a hardware issue."}],"owner":{"account_id":26468897,"reputation":15,"user_id":20109764,"display_name":"takis Paras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696852966,"creation_date":1696852966,"question_id":77258684,"body_markdown":"I&#39;m trying to make an application in Java that will handle qr Scanning from my camera and also Nfc scanning . I&#39;ve seen that android 11 bring problem that when I will open the camera then the NFC ability to scan will get disabled. Anyone know if this issue trully exist? And how can I solve it to make them both work together at the same time?","title":"Can I use NFC Scanner and QR scanner simultaneously in my Java app?","body":"<p>I'm trying to make an application in Java that will handle qr Scanning from my camera and also Nfc scanning . I've seen that android 11 bring problem that when I will open the camera then the NFC ability to scan will get disabled. Anyone know if this issue trully exist? And how can I solve it to make them both work together at the same time?</p>\n"},{"tags":["java","spring","web","intellij-idea","thymeleaf"],"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1507060720,"post_id":38710585,"comment_id":80059344,"body_markdown":"This should be fixed in IntelliJ 2013.3, see my edited answer.","body":"This should be fixed in IntelliJ 2013.3, see my edited answer."}],"answers":[{"comments":[{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":2,"creation_date":1503947221,"post_id":38720588,"comment_id":78810211,"body_markdown":"I&#39;m using IntelliJ 2017.2 and this issue still exists in the IDE. This is so dominating when I visit my html files. Why JetBrains guys haven&#39;t yet fixed this for Thymeleaf support?","body":"I&#39;m using IntelliJ 2017.2 and this issue still exists in the IDE. This is so dominating when I visit my html files. Why JetBrains guys haven&#39;t yet fixed this for Thymeleaf support?"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1507060769,"post_id":38720588,"comment_id":80059361,"body_markdown":"@MAC This should be fixed in IntelliJ 2013.3, see my edited answer.","body":"@MAC This should be fixed in IntelliJ 2013.3, see my edited answer."},{"owner":{"account_id":8881788,"reputation":913,"user_id":6631610,"display_name":"Haim Lvov"},"score":0,"creation_date":1564399951,"post_id":38720588,"comment_id":101005675,"body_markdown":"@HonzaZidek I still have it in 2019.2 for some reason... Also, I&#39;ve checked thier bug tracker website, and it seems that there are still users who have the smae problem with newer versions like 2017, etc.","body":"@HonzaZidek I still have it in 2019.2 for some reason... Also, I&#39;ve checked thier bug tracker website, and it seems that there are still users who have the smae problem with newer versions like 2017, etc."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1564409383,"post_id":38720588,"comment_id":101010897,"body_markdown":"@HaimLvov I recommend you to create a Minimal, Complete and Verifiable example (https://stackoverflow.com/help/mcve) and report it to Jetbrains. You may either add it to the issue https://youtrack.jetbrains.com/issue/IDEA-132738, or create a new one.","body":"@HaimLvov I recommend you to create a Minimal, Complete and Verifiable example (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>) and report it to Jetbrains. You may either add it to the issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-132738</a>, or create a new one."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1573823435,"post_id":38720588,"comment_id":104022852,"body_markdown":"@HaimLvov I think they will ignore your comment under IDEA-132738. See what Yann Cebron  commented on 13 Nov 2017 10:08:\nPLEASE **stop adding comments** to this issue. \nIf you encounter problems, please **file a NEW ISSUE with attached minimal sample project**. Please note that static web resource directories currently still have to be setup manually in Web Facet once, see IDEA-121038.","body":"@HaimLvov I think they will ignore your comment under IDEA-132738. See what Yann Cebron  commented on 13 Nov 2017 10:08: PLEASE <b>stop adding comments</b> to this issue.  If you encounter problems, please <b>file a NEW ISSUE with attached minimal sample project</b>. Please note that static web resource directories currently still have to be setup manually in Web Facet once, see IDEA-121038."}],"tags":[],"owner":{"account_id":6540819,"reputation":1279,"user_id":5058466,"display_name":"Andrew"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1470141318,"creation_date":1470141318,"answer_id":38720588,"question_id":38710585,"body_markdown":"This is a problem with IntelliJ: [IDEA-132738][1]. \r\n\r\nBasically IntelliJ is unable to locate the model variables when Spring Boot has been used to autoconfigure everything.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-132738","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This is a problem with IntelliJ: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"noreferrer\">IDEA-132738</a>. </p>\n\n<p>Basically IntelliJ is unable to locate the model variables when Spring Boot has been used to autoconfigure everything.</p>\n"},{"comments":[{"owner":{"account_id":2060370,"reputation":891,"user_id":1837075,"display_name":"FloatOverflow"},"score":0,"creation_date":1509281671,"post_id":44804086,"comment_id":80947355,"body_markdown":"I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved!","body":"I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved!"},{"owner":{"account_id":1309878,"reputation":776,"user_id":1258094,"accept_rate":45,"display_name":"justinraczak"},"score":2,"creation_date":1512931827,"post_id":44804086,"comment_id":82444550,"body_markdown":"@FloatOverflow I&#39;m running 2017.3 and my objects are still underlined. Any idea what I might be doing wrong? For example, in below code both `test` and `name` are underlined.\n\n`&lt;h1 th:text=&quot;&#39;Thanks for helping us test, &#39; + ${test.name} + &#39;!&#39;&quot;&gt;&lt;/h1&gt;`","body":"@FloatOverflow I&#39;m running 2017.3 and my objects are still underlined. Any idea what I might be doing wrong? For example, in below code both <code>test</code> and <code>name</code> are underlined.  <code>&lt;h1 th:text=&quot;&#39;Thanks for helping us test, &#39; + ${test.name} + &#39;!&#39;&quot;&gt;&lt;&#47;h1&gt;</code>"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1513058699,"post_id":44804086,"comment_id":82493618,"body_markdown":"@justinraczak I recommend you to create a Minimal, Complete and Verifiable example (https://stackoverflow.com/help/mcve) and report it to Jetbrains. You may either add it to the above mentioned issue, or create a new one.","body":"@justinraczak I recommend you to create a Minimal, Complete and Verifiable example (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>) and report it to Jetbrains. You may either add it to the above mentioned issue, or create a new one."},{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1519028116,"post_id":44804086,"comment_id":84726707,"body_markdown":"The answer is helpful with version IntelliJ IDEA 2017.3.4 Ultimate","body":"The answer is helpful with version IntelliJ IDEA 2017.3.4 Ultimate"},{"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"score":5,"creation_date":1580931551,"post_id":44804086,"comment_id":106264080,"body_markdown":"In 2019.3.2 the bug still exists.","body":"In 2019.3.2 the bug still exists."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1580941175,"post_id":44804086,"comment_id":106267853,"body_markdown":"@workerjoe I recommend you to create a Minimal, Complete and Verifiable example (stackoverflow.com/help/mcve) and report it to Jetbrains. You may either add it to the above mentioned issue, or create a new one.","body":"@workerjoe I recommend you to create a Minimal, Complete and Verifiable example (stackoverflow.com/help/mcve) and report it to Jetbrains. You may either add it to the above mentioned issue, or create a new one."}],"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":6,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1654598429,"creation_date":1498656948,"answer_id":44804086,"question_id":38710585,"body_markdown":"# Prerequisites\r\n\r\n* Thymeleaf plugin is installed\r\n* The `html` element has an XML namespace declaration for `th` that is set   to `http://www.thymeleaf.org` (with `www.`), for example:\r\n\r\n   ```\r\n   &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n   ```\r\n\r\n# IntelliJ version &gt;= 2017.3\r\n\r\nDetection should work automatically. However, some people complain that it still does not work for them), the issue [IDEA-132738][2] should be fixed (@FloatOverflow: &quot;I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved&quot;):\r\n\r\n&gt; Status 2017.3\r\n&gt;\r\n&gt; Support for Spring Boot autoconfigured MVC applications is complete, all bundled autoconfiguration view types are supported.\r\n&gt;\r\n&gt; Fix versions: 2017.3\r\n\r\nIf variables are not automatically detected you can still add the `@thymesVar` annotation as shown below.\r\n\r\n# IntelliJ version &lt; 2017.3\r\n\r\nIt is, as [Andrew wrote][1], a known error [IDEA-132738][2]. There is a workaround how to get rid of the error marks in the IDE. IntelliJ also supports the semi-automatic generation of the below mentioned code: \r\n\r\n&gt; You can use &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; shortcut to invoke intention &quot;Declare external variable in comment annotation&quot; in order to get rid of &quot;unresolved model attribute&quot; in your views.\r\n\r\nAdd the following code to your `html` file:\r\n\r\n    &lt;!--/* Workaround for bug https://youtrack.jetbrains.com/issue/IDEA-132738 --&gt;\r\n        &lt;!--@thymesVar id=&quot;post&quot; type=&quot;your.package.Post&quot;--&gt;\r\n        &lt;!--@thymesVar id=&quot;title&quot; type=&quot;String&quot;--&gt;\r\n        &lt;!--@thymesVar id=&quot;content&quot; type=&quot;String&quot;--&gt;\r\n    &lt;!--*/--&gt;\r\n\r\nIf you use extensions objects constructed automatically by ThymeLeaf, such as `#temporals` from `thymeleaf-extras-java8time` for conversion of `java.time` objects:\r\n\r\n    &lt;span th:text=&quot;${#temporals.format(person.birthDate,&#39;yyyy-MM-dd&#39;)}&quot;&gt;&lt;/span&gt;\r\n\r\nand IntelliJ cannot resolve them, use similar code, and just add `#` in front of the object name:\r\n\r\n    &lt;!--@thymesVar id=&quot;#temporals&quot; type=&quot;org.thymeleaf.extras.java8time.expression.Temporals&quot;--&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38720588/2886891\r\n  [2]: https://youtrack.jetbrains.com/issue/IDEA-132738","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<h1>Prerequisites</h1>\n<ul>\n<li><p>Thymeleaf plugin is installed</p>\n</li>\n<li><p>The <code>html</code> element has an XML namespace declaration for <code>th</code> that is set   to <code>http://www.thymeleaf.org</code> (with <code>www.</code>), for example:</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n</li>\n</ul>\n<h1>IntelliJ version &gt;= 2017.3</h1>\n<p>Detection should work automatically. However, some people complain that it still does not work for them), the issue <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"nofollow noreferrer\">IDEA-132738</a> should be fixed (@FloatOverflow: &quot;I confirm that in version 2017.3 build 25.Oct.2017 the problem has been solved&quot;):</p>\n<blockquote>\n<p>Status 2017.3</p>\n<p>Support for Spring Boot autoconfigured MVC applications is complete, all bundled autoconfiguration view types are supported.</p>\n<p>Fix versions: 2017.3</p>\n</blockquote>\n<p>If variables are not automatically detected you can still add the <code>@thymesVar</code> annotation as shown below.</p>\n<h1>IntelliJ version &lt; 2017.3</h1>\n<p>It is, as <a href=\"https://stackoverflow.com/a/38720588/2886891\">Andrew wrote</a>, a known error <a href=\"https://youtrack.jetbrains.com/issue/IDEA-132738\" rel=\"nofollow noreferrer\">IDEA-132738</a>. There is a workaround how to get rid of the error marks in the IDE. IntelliJ also supports the semi-automatic generation of the below mentioned code:</p>\n<blockquote>\n<p>You can use <kbd>Alt</kbd>+<kbd>Enter</kbd> shortcut to invoke intention &quot;Declare external variable in comment annotation&quot; in order to get rid of &quot;unresolved model attribute&quot; in your views.</p>\n</blockquote>\n<p>Add the following code to your <code>html</code> file:</p>\n<pre><code>&lt;!--/* Workaround for bug https://youtrack.jetbrains.com/issue/IDEA-132738 --&gt;\n    &lt;!--@thymesVar id=&quot;post&quot; type=&quot;your.package.Post&quot;--&gt;\n    &lt;!--@thymesVar id=&quot;title&quot; type=&quot;String&quot;--&gt;\n    &lt;!--@thymesVar id=&quot;content&quot; type=&quot;String&quot;--&gt;\n&lt;!--*/--&gt;\n</code></pre>\n<p>If you use extensions objects constructed automatically by ThymeLeaf, such as <code>#temporals</code> from <code>thymeleaf-extras-java8time</code> for conversion of <code>java.time</code> objects:</p>\n<pre><code>&lt;span th:text=&quot;${#temporals.format(person.birthDate,'yyyy-MM-dd')}&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>and IntelliJ cannot resolve them, use similar code, and just add <code>#</code> in front of the object name:</p>\n<pre><code>&lt;!--@thymesVar id=&quot;#temporals&quot; type=&quot;org.thymeleaf.extras.java8time.expression.Temporals&quot;--&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":198944,"reputation":13061,"user_id":803225,"accept_rate":58,"display_name":"Chris.Jenkins"},"score":0,"creation_date":1516032297,"post_id":47828528,"comment_id":83516228,"body_markdown":"And/Or if your RequestMappings are in Kotlin, the IDE doesn&#39;t see the attributes much like using the private method.","body":"And/Or if your RequestMappings are in Kotlin, the IDE doesn&#39;t see the attributes much like using the private method."},{"owner":{"account_id":419202,"reputation":5879,"user_id":796231,"accept_rate":72,"display_name":"easycheese"},"score":0,"creation_date":1539694029,"post_id":47828528,"comment_id":92587663,"body_markdown":"@Chris.Jenkins do you know if there is any way around this problem? I just ran into this issue.","body":"@Chris.Jenkins do you know if there is any way around this problem? I just ran into this issue."},{"owner":{"account_id":4886717,"reputation":2493,"user_id":3938965,"accept_rate":40,"display_name":"workerjoe"},"score":1,"creation_date":1580931927,"post_id":47828528,"comment_id":106264230,"body_markdown":"I can confirm that as of IntelliJ 2019.3.2 Ultimate, this workaround (using `model.addAttribute()`) is still necessary to get IntelliJ to recognize the form object.  Or the other workaround suggested by Honza Zidek, using a `@thymesVar` comment annotation.","body":"I can confirm that as of IntelliJ 2019.3.2 Ultimate, this workaround (using <code>model.addAttribute()</code>) is still necessary to get IntelliJ to recognize the form object.  Or the other workaround suggested by Honza Zidek, using a <code>@thymesVar</code> comment annotation."}],"tags":[],"owner":{"account_id":9923697,"reputation":818,"user_id":7346048,"display_name":"user7346048"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1513326908,"creation_date":1513326908,"answer_id":47828528,"question_id":38710585,"body_markdown":"I want to add one more thing. As stated above, the issue has been fixed in **IntelliJ 2017.3**. I can also confirm this.\r\n\r\nHowever, I noticed that this is only true if you define all your attributes **directly** inside the responsible controller function, like e.g. this:\r\n\r\n    @RequestMapping(value = &quot;/userinput&quot;)\r\n    public String showUserForm(Model model){\r\n        model.addAttribute(&quot;method&quot;, &quot;post&quot;);\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;userform&quot;;\r\n    }\r\n\r\nIf you are using a sub-function in which you define the model attributes (see **Example** below), IntelliJ can still not find the attributes in the HTML template.\r\n\r\n**Example**:\r\n\r\n    @RequestMapping(value = &quot;/userinput&quot;)\r\n    public String showUserForm(Model model){\r\n        return doIt(model);\r\n    }\r\n\r\n    private String doIt(Model model) {\r\n        model.addAttribute(&quot;method&quot;, &quot;post&quot;);\r\n        model.addAttribute(&quot;user&quot;, new User());\r\n        return &quot;userform&quot;;\r\n    }\r\n\r\nSo, always make sure you put your code directly inside the view function!","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I want to add one more thing. As stated above, the issue has been fixed in <strong>IntelliJ 2017.3</strong>. I can also confirm this.</p>\n\n<p>However, I noticed that this is only true if you define all your attributes <strong>directly</strong> inside the responsible controller function, like e.g. this:</p>\n\n<pre><code>@RequestMapping(value = \"/userinput\")\npublic String showUserForm(Model model){\n    model.addAttribute(\"method\", \"post\");\n    model.addAttribute(\"user\", new User());\n    return \"userform\";\n}\n</code></pre>\n\n<p>If you are using a sub-function in which you define the model attributes (see <strong>Example</strong> below), IntelliJ can still not find the attributes in the HTML template.</p>\n\n<p><strong>Example</strong>:</p>\n\n<pre><code>@RequestMapping(value = \"/userinput\")\npublic String showUserForm(Model model){\n    return doIt(model);\n}\n\nprivate String doIt(Model model) {\n    model.addAttribute(\"method\", \"post\");\n    model.addAttribute(\"user\", new User());\n    return \"userform\";\n}\n</code></pre>\n\n<p>So, always make sure you put your code directly inside the view function!</p>\n"},{"comments":[{"owner":{"account_id":60634,"reputation":56007,"user_id":181087,"accept_rate":80,"display_name":"NightOwl888"},"score":2,"creation_date":1523006362,"post_id":49688997,"comment_id":86390254,"body_markdown":"This does not provide a complete answer to the question, although it may be relevant. When you have earned enough reputation, you will be able to post information such as this as comments to the question or other answers, but you should not post answers unless they address the question that was asked directly.","body":"This does not provide a complete answer to the question, although it may be relevant. When you have earned enough reputation, you will be able to post information such as this as comments to the question or other answers, but you should not post answers unless they address the question that was asked directly."},{"owner":{"account_id":12627544,"reputation":3386,"user_id":9180439,"accept_rate":80,"display_name":"Ali"},"score":0,"creation_date":1523006365,"post_id":49688997,"comment_id":86390258,"body_markdown":"this is look like Comment. this not right way to paste your answer refer how to write good answer https://stackoverflow.com/help/how-to-answer","body":"this is look like Comment. this not right way to paste your answer refer how to write good answer <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}],"tags":[],"owner":{"account_id":12044286,"reputation":9,"user_id":8809957,"display_name":"zoukun"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1523015097,"creation_date":1523004861,"answer_id":49688997,"question_id":38710585,"body_markdown":"This feature is supported in the Ultimate edition only.\r\n\r\n[Click here][1] for more details\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/2017.1/thymeleaf.html","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This feature is supported in the Ultimate edition only.</p>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/2017.1/thymeleaf.html\" rel=\"nofollow noreferrer\">Click here</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":2823122,"reputation":248,"user_id":2426383,"display_name":"Ekkelenkamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525348736,"creation_date":1525348736,"answer_id":50154592,"question_id":38710585,"body_markdown":"In my case the problem was that I had the following in my application.properties:\r\n\r\n    spring.thymeleaf.prefix=file:src/main/resources/templates/\r\n    \r\n    spring.thymeleaf.cache=false\r\n\r\nOnce I removed these properties, the spring mvc mappings are detected by Intellij again (in the Ultimate version, I&#39;m using 2018.1). Also the thymeleaf objects are working now.\r\n\r\nI used these properties to support fast development where a refresh would reload the thymeleaf template files.\r\n\r\nTo solve this issue, I use the following -D option in my run configuration of my spring boot application to tell spring boot where my property files are during development:\r\n\r\n    -Dspring.config.location=/dev/application/conf/application.properties\r\n\r\n\r\n","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>In my case the problem was that I had the following in my application.properties:</p>\n\n<pre><code>spring.thymeleaf.prefix=file:src/main/resources/templates/\n\nspring.thymeleaf.cache=false\n</code></pre>\n\n<p>Once I removed these properties, the spring mvc mappings are detected by Intellij again (in the Ultimate version, I'm using 2018.1). Also the thymeleaf objects are working now.</p>\n\n<p>I used these properties to support fast development where a refresh would reload the thymeleaf template files.</p>\n\n<p>To solve this issue, I use the following -D option in my run configuration of my spring boot application to tell spring boot where my property files are during development:</p>\n\n<pre><code>-Dspring.config.location=/dev/application/conf/application.properties\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4512805,"reputation":3717,"user_id":3668462,"display_name":"Johan"},"score":0,"creation_date":1553771548,"post_id":55395723,"comment_id":97512526,"body_markdown":"This does not provide an answer to the question. Once you have sufficient reputation you will be able to comment on any post; instead, provide answers that don&#39;t require clarification from the asker.","body":"This does not provide an answer to the question. Once you have sufficient reputation you will be able to comment on any post; instead, provide answers that don&#39;t require clarification from the asker."}],"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553770216,"creation_date":1553770216,"answer_id":55395723,"question_id":38710585,"body_markdown":"There is one more interesting situation ,if you DONT return directly the object from your controller ,Intellij will not recognize the variable ,but she will still work ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>There is one more interesting situation ,if you DONT return directly the object from your controller ,Intellij will not recognize the variable ,but she will still work </p>\n"},{"comments":[{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":0,"creation_date":1575903360,"post_id":55457082,"comment_id":104712565,"body_markdown":"I&#39;m here because the Add Frameworks Support dialog doesn&#39;t show thymeleaf, only groovy and maven","body":"I&#39;m here because the Add Frameworks Support dialog doesn&#39;t show thymeleaf, only groovy and maven"},{"owner":{"account_id":5521789,"reputation":440,"user_id":4384501,"display_name":"Russell Lego"},"score":2,"creation_date":1607627835,"post_id":55457082,"comment_id":115339369,"body_markdown":"This is what ultimately worked for me.   One thing to note, once I added the framework support I had to do FIle-&gt;Invalidate Caches and Restart.","body":"This is what ultimately worked for me.   One thing to note, once I added the framework support I had to do FIle-&gt;Invalidate Caches and Restart."}],"tags":[],"owner":{"account_id":362538,"reputation":22412,"user_id":705773,"accept_rate":98,"display_name":"Ajinkya"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554127505,"creation_date":1554127505,"answer_id":55457082,"question_id":38710585,"body_markdown":"Manually enabling it, worked for me in Intellij 2018.1.6 Ultimate Edition. Steps followed\r\n\r\n 1. Open the Project tool window (e.g. View | Tool Windows | Project). \r\n   \r\n 2. Right-click the project or the module folder and select Add\r\n        Framework Support.\r\n 3. In the left-hand pane of the Add Frameworks\r\n        Support dialog that opens, select the Thymeleaf checkbox.\r\n\r\nOfficial reference : https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>Manually enabling it, worked for me in Intellij 2018.1.6 Ultimate Edition. Steps followed</p>\n\n<ol>\n<li><p>Open the Project tool window (e.g. View | Tool Windows | Project). </p></li>\n<li><p>Right-click the project or the module folder and select Add\n    Framework Support.</p></li>\n<li>In the left-hand pane of the Add Frameworks\n    Support dialog that opens, select the Thymeleaf checkbox.</li>\n</ol>\n\n<p>Official reference : <a href=\"https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/thymeleaf.html#0c8052be</a> </p>\n"},{"comments":[{"owner":{"account_id":450098,"reputation":1827,"user_id":845247,"accept_rate":87,"display_name":"Encryption"},"score":2,"creation_date":1558555429,"post_id":56081436,"comment_id":99144746,"body_markdown":"This is what worked for me and i&#39;m using IntelliJ 2018+","body":"This is what worked for me and i&#39;m using IntelliJ 2018+"},{"owner":{"account_id":309603,"reputation":2817,"user_id":622145,"accept_rate":95,"display_name":"Twistleton"},"score":5,"creation_date":1561562793,"post_id":56081436,"comment_id":100107980,"body_markdown":"An unbelievable solution - but it works. I&#39;m using IntelliJ 2019.1.3 UE.","body":"An unbelievable solution - but it works. I&#39;m using IntelliJ 2019.1.3 UE."},{"owner":{"account_id":3057250,"reputation":2207,"user_id":2590616,"display_name":"RiZKiT"},"score":29,"creation_date":1566225379,"post_id":56081436,"comment_id":101579667,"body_markdown":"This removes the underline of the variables, because the `th` namespace becomes invalid at all. With the above &quot;solution&quot; all `th` attributes should have an error now:  `Attribute th:**** is not allowed here.`","body":"This removes the underline of the variables, because the <code>th</code> namespace becomes invalid at all. With the above &quot;solution&quot; all <code>th</code> attributes should have an error now:  <code>Attribute th:**** is not allowed here.</code>"},{"owner":{"account_id":1598401,"reputation":3011,"user_id":1479976,"accept_rate":57,"display_name":"modmoto"},"score":1,"creation_date":1568477440,"post_id":56081436,"comment_id":102290226,"body_markdown":"lul, thanks for this xD Solved it for me with 2019.something, too","body":"lul, thanks for this xD Solved it for me with 2019.something, too"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":4,"creation_date":1580941634,"post_id":56081436,"comment_id":106267999,"body_markdown":"This looks suspicious. It is against the Thymeleaf documentation (https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html), where they have in all their examples `&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;`. You can see it also here: https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml: `namespace-uri=&quot;http://www.thymeleaf.org&quot;`","body":"This looks suspicious. It is against the Thymeleaf documentation (<a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\" rel=\"nofollow noreferrer\">thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a>), where they have in all their examples <code>&lt;html xmlns:th=&quot;http:&#47;&#47;www.thymeleaf.org&quot;&gt;</code>. You can see it also here: <a href=\"https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml\" rel=\"nofollow noreferrer\">github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/&hellip;</a>: <code>namespace-uri=&quot;http:&#47;&#47;www.thymeleaf.org&quot;</code>"},{"owner":{"account_id":2565823,"reputation":935,"user_id":2225935,"accept_rate":69,"display_name":"Finchsize"},"score":4,"creation_date":1581427747,"post_id":56081436,"comment_id":106423241,"body_markdown":"As @RiZKiT said, by doing that you just broke your namespace definition... Same results would be if you put there: xmlns:th=&quot;http://mybrokenuri.org&quot;&gt;","body":"As @RiZKiT said, by doing that you just broke your namespace definition... Same results would be if you put there: xmlns:th=&quot;<a href=\"http://mybrokenuri.org\" rel=\"nofollow noreferrer\">mybrokenuri.org</a>&quot;&gt;"},{"owner":{"account_id":15211392,"reputation":1754,"user_id":10976088,"display_name":"Ghasem Sadeghi"},"score":3,"creation_date":1586352199,"post_id":56081436,"comment_id":108096563,"body_markdown":"I&#39;m agree with @RiZKiT. This solution is not Correct!","body":"I&#39;m agree with @RiZKiT. This solution is not Correct!"},{"owner":{"account_id":4969580,"reputation":61,"user_id":3997846,"display_name":"VLD"},"score":0,"creation_date":1609962566,"post_id":56081436,"comment_id":115987508,"body_markdown":"@RiZKiT, and yet, it works for me with IntelliJ 2019.1","body":"@RiZKiT, and yet, it works for me with IntelliJ 2019.1"},{"owner":{"account_id":21764389,"reputation":232,"user_id":16068500,"display_name":"Thomas_Mylonas"},"score":1,"creation_date":1640368957,"post_id":56081436,"comment_id":124579452,"body_markdown":"I agree with @RiZKiT.","body":"I agree with @RiZKiT."}],"tags":[],"owner":{"account_id":8744779,"reputation":757,"user_id":6540488,"display_name":"Mustapha El Kojji"},"comment_count":9,"down_vote_count":13,"up_vote_count":67,"is_accepted":false,"score":54,"last_activity_date":1654426055,"creation_date":1557505309,"answer_id":56081436,"question_id":38710585,"body_markdown":"# Update\r\n\r\n**TL;DR:** skip to accepted answer below: https://stackoverflow.com/a/44804086/474034\r\n\r\nAs mentioned in the comments by multiple people, this solution is not correct. The Thymeleaf documentation (see http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html), have in all their examples a version with `www.` included:\r\n\r\n```html\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n```\r\n\r\nSee also the [Standard-Dialect.xml](https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml) on Github, which declares `namespace-uri` as:\r\n\r\n```xml\r\nnamespace-uri=&quot;http://www.thymeleaf.org&quot; \r\n```\r\n\r\n# Original Answer\r\n\r\nI had two different portions of code: the first was showing the error and the second was not doing it.\r\nI observed that there is a difference in the **xmlns:th** attribute.\r\n\r\n**First Page: Not working!**\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n\r\n**Second Page: Working!**\r\n\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n          xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\r\n\r\n\r\nI removed the **www.** and it works for me!","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<h1>Update</h1>\n<p><strong>TL;DR:</strong> skip to accepted answer below: <a href=\"https://stackoverflow.com/a/44804086/474034\">https://stackoverflow.com/a/44804086/474034</a></p>\n<p>As mentioned in the comments by multiple people, this solution is not correct. The Thymeleaf documentation (see <a href=\"http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\" rel=\"noreferrer\">http://thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</a>), have in all their examples a version with <code>www.</code> included:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n<p>See also the <a href=\"https://github.com/thymeleaf/thymeleaf/blob/3.0-master/src/main/resources/org/thymeleaf/xml/thymeleaf/Standard-Dialect.xml\" rel=\"noreferrer\">Standard-Dialect.xml</a> on Github, which declares <code>namespace-uri</code> as:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>namespace-uri=&quot;http://www.thymeleaf.org&quot; \n</code></pre>\n<h1>Original Answer</h1>\n<p>I had two different portions of code: the first was showing the error and the second was not doing it.\nI observed that there is a difference in the <strong>xmlns:th</strong> attribute.</p>\n<p><strong>First Page: Not working!</strong></p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n</code></pre>\n<p><strong>Second Page: Working!</strong></p>\n<pre><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:th=&quot;http://thymeleaf.org&quot;&gt;\n</code></pre>\n<p>I removed the <strong>www.</strong> and it works for me!</p>\n"},{"comments":[{"owner":{"account_id":1962748,"reputation":1448,"user_id":1763803,"accept_rate":58,"display_name":"swch"},"score":0,"creation_date":1649334593,"post_id":68009948,"comment_id":126852619,"body_markdown":"now you have warning about invalid th:style attribute, so not really solution","body":"now you have warning about invalid th:style attribute, so not really solution"}],"tags":[],"owner":{"account_id":11152696,"reputation":105,"user_id":8185392,"display_name":"samet kaya"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1623877279,"creation_date":1623877279,"answer_id":68009948,"question_id":38710585,"body_markdown":"This problem comes from thymeleaf web link.\r\n\r\nThe problem:`xmlns:th=&quot;http://www.thymeleaf.org&quot;`\r\n\r\n[![This is problem link:][1]][1]\r\n\r\n[![This is error area:][2]][2]\r\n\r\nThe solution: `xmlns:th=&quot;http://thymeleaf.org&quot;`\r\n\r\n[![Solution link][3]][3]\r\n\r\n[![Error is gone][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ThfmI.png\r\n  [2]: https://i.stack.imgur.com/MbALE.png\r\n  [3]: https://i.stack.imgur.com/S2J1j.png\r\n  [4]: https://i.stack.imgur.com/eHFLL.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This problem comes from thymeleaf web link.</p>\n<p>The problem:<code>xmlns:th=&quot;http://www.thymeleaf.org&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/ThfmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ThfmI.png\" alt=\"This is problem link:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MbALE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbALE.png\" alt=\"This is error area:\" /></a></p>\n<p>The solution: <code>xmlns:th=&quot;http://thymeleaf.org&quot;</code></p>\n<p><a href=\"https://i.stack.imgur.com/S2J1j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S2J1j.png\" alt=\"Solution link\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/eHFLL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eHFLL.png\" alt=\"Error is gone\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16735950,"reputation":437,"user_id":12097072,"display_name":"stoneshishang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630336206,"creation_date":1630336206,"answer_id":68986355,"question_id":38710585,"body_markdown":"For those who come from ReactJS and want to use Springboot as a backend. \r\n\r\nI forgot to add html boilerplate code in the html, that&#39;s why I&#39;m seeing this error. don&#39;t forget adding boilerplate code. \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n        &lt;title&gt;HTML 5 Boilerplate&lt;/title&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n    \t&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>For those who come from ReactJS and want to use Springboot as a backend.</p>\n<p>I forgot to add html boilerplate code in the html, that's why I'm seeing this error. don't forget adding boilerplate code.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;title&gt;HTML 5 Boilerplate&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344172,"reputation":356,"user_id":676337,"display_name":"rdguam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631254711,"creation_date":1631254711,"answer_id":69128030,"question_id":38710585,"body_markdown":"This was happening to me on Ultimate 2021.2.1.\r\n\r\nIn one `@GetMapping` method, I used `@ModelAttribute(&#39;transactionForm&#39;)`.  The Thymeleaf page for that method didn&#39;t have errors.\r\n\r\nBut in another `@GetMapping` method, I didn&#39;t use `@ModelAttribute(&#39;newCustomerForm&#39;)`.  The Thymeleaf page for that method had the errors.  When I added the `@ModelAttribute` to the method, the errors went away.  And when I took it out, the errors came back.\r\n\r\nI know Spring MVC doesn&#39;t require the `@ModelAttribute` if the name of the model is the same as the class name.  So I shouldn&#39;t have to do this, and I&#39;m only doing this to appease the IDE.","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>This was happening to me on Ultimate 2021.2.1.</p>\n<p>In one <code>@GetMapping</code> method, I used <code>@ModelAttribute('transactionForm')</code>.  The Thymeleaf page for that method didn't have errors.</p>\n<p>But in another <code>@GetMapping</code> method, I didn't use <code>@ModelAttribute('newCustomerForm')</code>.  The Thymeleaf page for that method had the errors.  When I added the <code>@ModelAttribute</code> to the method, the errors went away.  And when I took it out, the errors came back.</p>\n<p>I know Spring MVC doesn't require the <code>@ModelAttribute</code> if the name of the model is the same as the class name.  So I shouldn't have to do this, and I'm only doing this to appease the IDE.</p>\n"},{"tags":[],"owner":{"display_name":"user14560339"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644365350,"creation_date":1644365350,"answer_id":71042478,"question_id":38710585,"body_markdown":"I had the same problem and fixed it (ultimate 2021.3.2).\r\nIntellij has a hard time guessing the type of the attribute(s).\r\n\r\nKeep **www** in the namespace xmlns:th=&quot;http://www.thymeleaf.org&quot; otherwise Intellij won&#39;t parse thymeleaf tags\r\n\r\nIf you initialize one model in a controler,\r\n\r\n - don&#39;t use a method&#39;s return, declare a variable\r\n\r\n       String titre=post.getTitle();\r\n       model.addAttribute(&quot;title&quot;,titre);\r\n\r\n - don&#39;t add attributes through sub methods, keep it in the main block\r\n\r\n       @GetMapping(&quot;/book&quot;)\r\n       public String ver(Model model) {\r\n       ...\r\n       model.addAttribute(&quot;title&quot;, title);\r\n       return &quot;frontpage&quot;;\r\n       }\r\n\r\n - and don&#39;t use complex operator like the ternary one \r\n\r\n       model.addAttribute(&quot;titles&quot;, titles.size() &gt; 0 ? titles : null);\r\n\r\nIf you initialize 2 or 3 models in you controler,\r\ndon&#39;t push null values \r\n\r\n    model.addAttribute(&quot;employees&quot;, null); ","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I had the same problem and fixed it (ultimate 2021.3.2).\nIntellij has a hard time guessing the type of the attribute(s).</p>\n<p>Keep <strong>www</strong> in the namespace xmlns:th=&quot;http://www.thymeleaf.org&quot; otherwise Intellij won't parse thymeleaf tags</p>\n<p>If you initialize one model in a controler,</p>\n<ul>\n<li><p>don't use a method's return, declare a variable</p>\n<pre><code>String titre=post.getTitle();\nmodel.addAttribute(&quot;title&quot;,titre);\n</code></pre>\n</li>\n<li><p>don't add attributes through sub methods, keep it in the main block</p>\n<pre><code>@GetMapping(&quot;/book&quot;)\npublic String ver(Model model) {\n...\nmodel.addAttribute(&quot;title&quot;, title);\nreturn &quot;frontpage&quot;;\n}\n</code></pre>\n</li>\n<li><p>and don't use complex operator like the ternary one</p>\n<pre><code>model.addAttribute(&quot;titles&quot;, titles.size() &gt; 0 ? titles : null);\n</code></pre>\n</li>\n</ul>\n<p>If you initialize 2 or 3 models in you controler,\ndon't push null values</p>\n<pre><code>model.addAttribute(&quot;employees&quot;, null); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":20952855,"reputation":435,"user_id":15394108,"display_name":"cng.buff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650899640,"creation_date":1650899640,"answer_id":72001819,"question_id":38710585,"body_markdown":"I was resolve like following\r\nclick **Alt + Enter**\r\n\r\nLets try it!!!\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uZfqX.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I was resolve like following\nclick <strong>Alt + Enter</strong></p>\n<p>Lets try it!!!</p>\n<p><a href=\"https://i.stack.imgur.com/uZfqX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uZfqX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17455756,"reputation":1,"user_id":12654661,"display_name":"Алексей Шелест"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678650334,"creation_date":1678650278,"answer_id":75715936,"question_id":38710585,"body_markdown":"In spring boot + thymeleaf, after adding a custom bean, everything worked. Hope it helps someone!\r\n\r\n\r\n\r\nhttps://i.stack.imgur.com/M8Z6l.png","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>In spring boot + thymeleaf, after adding a custom bean, everything worked. Hope it helps someone!</p>\n<p><a href=\"https://i.stack.imgur.com/M8Z6l.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/M8Z6l.png</a></p>\n"},{"tags":[],"owner":{"account_id":16885396,"reputation":93,"user_id":12210331,"display_name":"Vladimir Titov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695211777,"creation_date":1695210539,"answer_id":77142104,"question_id":38710585,"body_markdown":"I was able to fix this with using another spring-boot-parent version\r\n\r\n\r\n(2.3.2 working version) previously was 2.7.15 (not working)\r\n```\r\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\r\n```","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I was able to fix this with using another spring-boot-parent version</p>\n<p>(2.3.2 working version) previously was 2.7.15 (not working)</p>\n<pre><code>&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.3.2.RELEASE&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29618100,"reputation":1,"user_id":22699738,"display_name":"windows windows"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696851993,"creation_date":1696663653,"answer_id":77248809,"question_id":38710585,"body_markdown":"All problems can be fixed this bean related to Thymeleaf\r\n\r\n```java\r\n@Bean\r\npublic ClassLoaderTemplateResolver templateResolver() {\r\n    ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\r\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n    templateResolver.setSuffix(&quot;.html&quot;);\r\n    templateResolver.setTemplateMode(TemplateMode.HTML);\r\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n    templateResolver.setCheckExistence(true);\r\n    return templateResolver;\r\n}\r\n```","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>All problems can be fixed this bean related to Thymeleaf</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ClassLoaderTemplateResolver templateResolver() {\n    ClassLoaderTemplateResolver templateResolver = new ClassLoaderTemplateResolver();\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    templateResolver.setTemplateMode(TemplateMode.HTML);\n    templateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n    templateResolver.setCheckExistence(true);\n    return templateResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":8934079,"reputation":425,"user_id":6665561,"display_name":"Shuhan Liu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71653,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":44804086,"answer_count":16,"score":42,"last_activity_date":1696851993,"creation_date":1470102271,"question_id":38710585,"body_markdown":"I&#39;m writing a short web form application using spring boot and thymeleaf on IntelliJ, but it seems that in the html file, all fields in the model cannot be resolved. Here is my code:\r\n\r\nController class:\r\n\r\n    @Controller\r\n    public class IndexController{\r\n    \r\n        @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n        public String index(){\r\n            return &quot;index&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value=&quot;/&quot;, method = RequestMethod.POST)\r\n        public String addNewPost(@Valid Post post, BindingResult bindingResult, Model model){\r\n            if(bindingResult.hasErrors()){\r\n                return &quot;index&quot;;\r\n            }\r\n            model.addAttribute(&quot;title&quot;,post.getTitle());\r\n            model.addAttribute(&quot;content&quot;,post.getContent());\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nModel Class:\r\n\r\n    public class Post {\r\n    \r\n        @Size(min=4, max=35)\r\n        private String title;\r\n    \r\n        @Size(min=30, max=1000)\r\n        private String content;\r\n    \r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    \r\n        public String getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(String content) {\r\n            this.content = content;\r\n        }\r\n    }\r\n\r\n\r\nThen is the index.html:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head lang=&quot;en&quot;&gt;\r\n    \r\n        &lt;title&gt;Spring Framework Leo&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \r\n    &lt;h3&gt;Spring Boot and Thymeleaf&lt;/h3&gt;\r\n    \r\n    \r\n        &lt;form action=&quot;#&quot; th:action=&quot;@{/}&quot;  th:object=&quot;${post}&quot; method=&quot;post&quot;&gt;\r\n            &lt;table&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Title:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{title}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td th:if=&quot;${#fields.hasErrors(&#39;title&#39;)}&quot; th:errors=&quot;*{title}&quot;&gt;Title error message&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;Content:&lt;/td&gt;\r\n                    &lt;td&gt;&lt;input type=&quot;text&quot; th:field=&quot;*{content}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td th:if=&quot;${#fields.hasErrors(&#39;content&#39;)}&quot; th:errors=&quot;*{content}&quot;&gt;Content error message&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;&lt;button type=&quot;submit&quot;&gt;Submit post&lt;/button&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n\r\nThere are always red lines under &quot;post&quot;, &quot;title&quot;  and &quot;content&quot;, but I don&#39;t know how to solve it. Is it a problem of IntelliJ or just a problem of my code?\r\n","title":"Spring boot + thymeleaf in IntelliJ: cannot resolve vars","body":"<p>I'm writing a short web form application using spring boot and thymeleaf on IntelliJ, but it seems that in the html file, all fields in the model cannot be resolved. Here is my code:</p>\n\n<p>Controller class:</p>\n\n<pre><code>@Controller\npublic class IndexController{\n\n    @RequestMapping(value = \"/\", method = RequestMethod.GET)\n    public String index(){\n        return \"index\";\n    }\n\n    @RequestMapping(value=\"/\", method = RequestMethod.POST)\n    public String addNewPost(@Valid Post post, BindingResult bindingResult, Model model){\n        if(bindingResult.hasErrors()){\n            return \"index\";\n        }\n        model.addAttribute(\"title\",post.getTitle());\n        model.addAttribute(\"content\",post.getContent());\n        return \"hello\";\n    }\n}\n</code></pre>\n\n<p>Model Class:</p>\n\n<pre><code>public class Post {\n\n    @Size(min=4, max=35)\n    private String title;\n\n    @Size(min=30, max=1000)\n    private String content;\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getContent() {\n        return content;\n    }\n\n    public void setContent(String content) {\n        this.content = content;\n    }\n}\n</code></pre>\n\n<p>Then is the index.html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head lang=\"en\"&gt;\n\n    &lt;title&gt;Spring Framework Leo&lt;/title&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;h3&gt;Spring Boot and Thymeleaf&lt;/h3&gt;\n\n\n    &lt;form action=\"#\" th:action=\"@{/}\"  th:object=\"${post}\" method=\"post\"&gt;\n        &lt;table&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Title:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"text\" th:field=\"*{title}\" /&gt;&lt;/td&gt;\n                &lt;td th:if=\"${#fields.hasErrors('title')}\" th:errors=\"*{title}\"&gt;Title error message&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;Content:&lt;/td&gt;\n                &lt;td&gt;&lt;input type=\"text\" th:field=\"*{content}\" /&gt;&lt;/td&gt;\n                &lt;td th:if=\"${#fields.hasErrors('content')}\" th:errors=\"*{content}\"&gt;Content error message&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;button type=\"submit\"&gt;Submit post&lt;/button&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>There are always red lines under \"post\", \"title\"  and \"content\", but I don't know how to solve it. Is it a problem of IntelliJ or just a problem of my code?</p>\n"},{"tags":["java","android","glsurfaceview","easyar"],"comments":[{"owner":{"account_id":12694317,"reputation":1,"user_id":9223264,"display_name":"Jaspalsinh Gohil"},"score":0,"creation_date":1696851834,"post_id":77258518,"comment_id":136201693,"body_markdown":"The error message eglQueryContext 32c0 EGL_BAD_ATTRIBUTE indicates that the EasyAR library is trying to query a context attribute that is not supported by the GPU. This can happen for a variety of reasons, but it is often caused by a bug in the EasyAR library itself.","body":"The error message eglQueryContext 32c0 EGL_BAD_ATTRIBUTE indicates that the EasyAR library is trying to query a context attribute that is not supported by the GPU. This can happen for a variety of reasons, but it is often caused by a bug in the EasyAR library itself."}],"owner":{"account_id":24363814,"reputation":11,"user_id":18297819,"display_name":"pyroblinchik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696851362,"creation_date":1696851362,"question_id":77258518,"body_markdown":"I have app with AR functionality and I&#39;m using EasyAR lib for ar and GLSurfaceView for camera preview. When android:hardwareAccelerated=&quot;false&quot; in my app it works correctly, but when I switch it to true, I have &quot;white noise&quot; in my preview screen and this errors:\r\n\r\n\r\n\r\n    eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\r\n    eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\r\n    \r\n    updateAcquireFence: Did not find frame.\r\n    bindTextureImage: clearing GL error: 0x500\r\n    device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892\r\n    GL error 0x500 condition\r\n    [!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\r\n    \r\n    device/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892                                                                                                    GL error 0x500 condition\r\n    [!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\r\n    \r\n    eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\r\n    tid 27715: eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)","title":"EGL_BAD_ATTRIBUTE error while using GlSurfaceView","body":"<p>I have app with AR functionality and I'm using EasyAR lib for ar and GLSurfaceView for camera preview. When android:hardwareAccelerated=&quot;false&quot; in my app it works correctly, but when I switch it to true, I have &quot;white noise&quot; in my preview screen and this errors:</p>\n<pre><code>eglQueryContext 32c0  EGL_BAD_ATTRIBUTE\neglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\n\nupdateAcquireFence: Did not find frame.\nbindTextureImage: clearing GL error: 0x500\ndevice/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892\nGL error 0x500 condition\n[!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\n\ndevice/generic/goldfish-opengl/system/GLESv2_enc/GL2Encoder.cpp:s_glEnable:4892                                                                                                    GL error 0x500 condition\n[!GLESv2Validation::allowedEnable(ctx-&gt;majorVersion(), ctx-&gt;minorVersion(), what)]\n\neglQueryContext 32c0  EGL_BAD_ATTRIBUTE\ntid 27715: eglQueryContext(2122): error 0x3004 (EGL_BAD_ATTRIBUTE)\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","parallel-processing","testng"],"answers":[{"comments":[{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1535450596,"post_id":52054910,"comment_id":91060449,"body_markdown":"to call a static method we does not requires a class object, if we have ISA relation ship we can directly call it....\n    BaseTest testObj = new BaseTest();\n    testObj.setup(); \n\nmethod declaration inside base class is public static void setup() { }","body":"to call a static method we does not requires a class object, if we have ISA relation ship we can directly call it....     BaseTest testObj = new BaseTest();     testObj.setup();   method declaration inside base class is public static void setup() { }"},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1535450693,"post_id":52054910,"comment_id":91060510,"body_markdown":"@Amit You may check it by implement this scenario without object.","body":"@Amit You may check it by implement this scenario without object."},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1535451095,"post_id":52054910,"comment_id":91060742,"body_markdown":"Compiler is showing this warning - The static method setup() from the type BaseTest should be accessed in a static way. Is it the standard way to access setUp and tearDown methods in PageFactory framework ?","body":"Compiler is showing this warning - The static method setup() from the type BaseTest should be accessed in a static way. Is it the standard way to access setUp and tearDown methods in PageFactory framework ?"},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1535451457,"post_id":52054910,"comment_id":91060952,"body_markdown":"There is no need to define Static method in BaseTest class. If static method has been define in BaseTest then it need to implement for all those method which are extending BaseTest Methods. Regarding object calling in derived class, This is basic example for Beginners. There are many more ways to call BaseTest Methods without defining in Derived class. Hope it make sense. Thanks.","body":"There is no need to define Static method in BaseTest class. If static method has been define in BaseTest then it need to implement for all those method which are extending BaseTest Methods. Regarding object calling in derived class, This is basic example for Beginners. There are many more ways to call BaseTest Methods without defining in Derived class. Hope it make sense. Thanks."},{"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"score":0,"creation_date":1535452628,"post_id":52054910,"comment_id":91061713,"body_markdown":"Found one more issue. Cause both classes initiate static WebDriver object (with setup), then the first one which executes the teardown method, shuts webdriver object and thus other session can&#39;t continue\n\nfiguring now out how to change it properly","body":"Found one more issue. Cause both classes initiate static WebDriver object (with setup), then the first one which executes the teardown method, shuts webdriver object and thus other session can&#39;t continue  figuring now out how to change it properly"},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1535452727,"post_id":52054910,"comment_id":91061779,"body_markdown":"Everything is fine.... but I really not able to understand this \nIf static method has been define in BaseTest then it need to implement for all those method which are extending BaseTest ==&gt; Static method is same for all classes, they are never required to be overridden...\nBut yes this is true for interface methods which are must to be overridden by derived class, with java8 we can add static methods to interface.","body":"Everything is fine.... but I really not able to understand this  If static method has been define in BaseTest then it need to implement for all those method which are extending BaseTest ==&gt; Static method is same for all classes, they are never required to be overridden... But yes this is true for interface methods which are must to be overridden by derived class, with java8 we can add static methods to interface."},{"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"score":0,"creation_date":1535452866,"post_id":52054910,"comment_id":91061870,"body_markdown":"@Redgard You have to make script method only in each clas, And you have to call those methods in single class where TestNG annotation has been defined.","body":"@Redgard You have to make script method only in each clas, And you have to call those methods in single class where TestNG annotation has been defined."},{"owner":{"account_id":2463872,"reputation":4439,"user_id":2147409,"display_name":"Amit Jain"},"score":0,"creation_date":1535452912,"post_id":52054910,"comment_id":91061905,"body_markdown":"@Redgard - This is the standard way of using PageFactory all tests executes independently and will have there own browser instance, usually browser sharing does not happens in PageFactory....","body":"@Redgard - This is the standard way of using PageFactory all tests executes independently and will have there own browser instance, usually browser sharing does not happens in PageFactory...."}],"tags":[],"owner":{"account_id":13012771,"reputation":3985,"user_id":9405154,"display_name":"Ishita Shah"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535451990,"creation_date":1535449783,"answer_id":52054910,"question_id":52054644,"body_markdown":"You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:\r\n\r\n    public class BaseTest {\r\n    \r\n        public WebDriver driver;\r\n        public WebDriverWait wait;\r\n    \r\n        public void setup() {\r\n            ....\r\n        }\r\n        \r\n        public void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n   \r\n\r\n     public class HomePageHotelsSearchTest extends BaseTest {    \r\n      \r\n        @BeforeClass\r\n        public void startTest(){\r\n        setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        teardown();\r\n        }\r\n    }\r\nYou can directly call BaseTest methods without object, As you have extend BaseTest class.\r\n\r\n----------\r\n\r\n\r\n     public class HomePageHotelsSearchTest {\r\n    \r\n        BaseTest testObj = new BaseTest();\r\n\r\n        @BeforeClass\r\n        public void startTest(){\r\n        testObj.setup(); \r\n        }\r\n        \r\n        @Test\r\n        public void giveNameProperly() {\r\n                ...\r\n        }\r\n        \r\n        @AfterClass\r\n        public void stopTest(){\r\n        testObj.teardown();\r\n        }    \r\n     }\r\n\r\nIf you not extending BaseTest class, You need to call those method with reference to object. \r\n\r\n\r\nThus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. ","title":"TestNg parallel tests/classes when using base test class","body":"<p>You have to define TestNG annotation in each class which you will call to Execute. You can not define @BeforeClass @AfterClass annotation in BaseTest. What you can call is BaseTest method. Refer your code with Example:</p>\n\n<pre><code>public class BaseTest {\n\n    public WebDriver driver;\n    public WebDriverWait wait;\n\n    public void setup() {\n        ....\n    }\n\n    public void teardown() {\n        driver.quit();\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest extends BaseTest {    \n\n    @BeforeClass\n    public void startTest(){\n    setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    teardown();\n    }\n}\n</code></pre>\n\n<p>You can directly call BaseTest methods without object, As you have extend BaseTest class.</p>\n\n<hr>\n\n<pre><code> public class HomePageHotelsSearchTest {\n\n    BaseTest testObj = new BaseTest();\n\n    @BeforeClass\n    public void startTest(){\n    testObj.setup(); \n    }\n\n    @Test\n    public void giveNameProperly() {\n            ...\n    }\n\n    @AfterClass\n    public void stopTest(){\n    testObj.teardown();\n    }    \n }\n</code></pre>\n\n<p>If you not extending BaseTest class, You need to call those method with reference to object. </p>\n\n<p>Thus, in each class there must be @BeforeClass and @AfterClass annotation, So TestNG will call it before @Test execution. </p>\n"},{"comments":[{"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"score":0,"creation_date":1535459897,"post_id":52057660,"comment_id":91066350,"body_markdown":"Hi guys, i found even a simplier solution) \n\nSame code as I had at start but! just removed static words from WebDriver object and from methods, that&#39;s it :-)","body":"Hi guys, i found even a simplier solution)   Same code as I had at start but! just removed static words from WebDriver object and from methods, that&#39;s it :-)"}],"tags":[],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535458554,"creation_date":1535458554,"answer_id":52057660,"question_id":52054644,"body_markdown":"Thank you all for quick replies, it&#39;s working now :-)\r\n\r\nWell, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them ","title":"TestNg parallel tests/classes when using base test class","body":"<p>Thank you all for quick replies, it's working now :-)</p>\n\n<p>Well, basically now BaseTest class has only methods to initiate/create webdriver objects and start browser session. Later test classes have their own instances of webdriver and use those methods to initiate them </p>\n"}],"owner":{"account_id":14236108,"reputation":11,"user_id":10283888,"display_name":"Redgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2444,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696851143,"creation_date":1535448963,"question_id":52054644,"body_markdown":"I&#39;m trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)\r\n\r\nThe BaseTest class has only &quot;setup&quot; stuff and &quot;teardown&quot;, nothing else.\r\n\r\nWhen i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn&#39;t executed)\r\n\r\nBut!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel\r\n\r\nwhy?? I&#39;m not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine\r\n\r\nin testing.xml tried to put parallel=&quot;methods&quot; &quot;tests&quot;,&quot;true&quot;...\r\n\r\nbelow are my classes and testing.xml\r\n\r\n-----------------------\r\n\r\n    public class BaseTest {\r\n    \r\n        public static WebDriver driver;\r\n        public static WebDriverWait wait;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            System.setProperty(&quot;webdriver.gecko.driver&quot;, System.getProperty(&quot;user.dir&quot;) + &quot;\\\\src\\\\files\\\\geckodriver.exe&quot;);\r\n    \r\n            driver = new FirefoxDriver();\r\n    \r\n            wait = new WebDriverWait(driver, 10);\r\n    \r\n            driver.manage().window().maximize();\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void teardown() {\r\n            driver.quit();\r\n        }\r\n    }\r\n    \r\n    -----------------------\r\n    public class HomePageHotelsSearchTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void giveNameProperly() throws IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n            homePage.openHotelsSearchTab();\r\n            homePage.inputCityInHotelsSearch(&quot;London&quot;);\r\n            homePage.selectCityFromSearchResult(0);\r\n            homePage.inputCheckInDateInHotelsSearch(&quot;23/08/2018&quot;);\r\n            homePage.inputCheckOutDateInHotelsSearch(&quot;27/08/2018&quot;);\r\n            homePage.openPeopleAmountTabInHotelsSearch();\r\n            homePage.addAdultsInHotelsSearch(1);\r\n            homePage.startSearchingHotels();\r\n            homePage.elementClickable(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n    \r\n            String firstResult = homePage.readText(By.linkText(&quot;Grand Plaza Apartments&quot;));\r\n            Assert.assertEquals(&quot;Grand Plaza Apartments&quot;, firstResult);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    -----------------------\r\n    public class LoginTest extends BaseTest {\r\n    \r\n        @Test\r\n        public void loginTest() throws InterruptedException, IOException {\r\n            HomePage homePage = new HomePage(driver, wait);\r\n    \r\n            homePage.openUrl(&quot;https://www.phptravels.net/&quot;);\r\n    \r\n    \r\n            LoginPage loginPage = homePage.goToLoginPage();\r\n            loginPage.waitForPageToLoad(&quot;Login&quot;);\r\n            loginPage.inputEmail(&quot;user@phptravels.com&quot;);\r\n            loginPage.inputPassword(&quot;demouser&quot;);\r\n    \r\n            loginPage.login();\r\n    \r\n            loginPage.waitForPageToLoad(&quot;My Account&quot;);\r\n    \r\n            String myAccountPageTitle = driver.getTitle();\r\n            Assert.assertEquals(myAccountPageTitle, &quot;My Account&quot;);\r\n    \r\n            //Reporter.log(&quot;Test owned!&quot;, true);\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;!DOCTYPE suite SYSTEM &quot;http://beust.com/testng/testng-1.0.dtd&quot; &gt;\r\n        &lt;suite name=&quot;Suite&quot; thread-count=&quot;2&quot; parallel=&quot;true&quot;&gt;\r\n            &lt;test name=&quot;test1&quot;&gt;\r\n                &lt;classes&gt;\r\n                    &lt;class name=&quot;tests.LoginTest&quot; /&gt;\r\n                    &lt;class name=&quot;tests.HomePageHotelsSearchTest&quot;/&gt;\r\n                &lt;/classes&gt;\r\n            &lt;/test&gt;\r\n        &lt;/suite&gt;\r\n\r\n","title":"TestNg parallel tests/classes when using base test class","body":"<p>I'm trying to run tests in parallel by using TestNg. I have 3 classes (two test classes which extend BaseTest class)</p>\n\n<p>The BaseTest class has only \"setup\" stuff and \"teardown\", nothing else.</p>\n\n<p>When i try to run tests in parallel like this, one class with tests runs and for other class only a browser is opened (but test isn't executed)</p>\n\n<p>But!! when i cut code from BaseTest class and put it directly to each of my test classes (and thus not extending BaseClass) then the code works and tests run in parallel</p>\n\n<p>why?? I'm not doing any code change at all... and when i wish to run tests not in parallel(just one by one), then using extend of BaseTest class works just fine</p>\n\n<p>in testing.xml tried to put parallel=\"methods\" \"tests\",\"true\"...</p>\n\n<p>below are my classes and testing.xml</p>\n\n<hr>\n\n<pre><code>public class BaseTest {\n\n    public static WebDriver driver;\n    public static WebDriverWait wait;\n\n    @BeforeClass\n    public static void setup() {\n        System.setProperty(\"webdriver.gecko.driver\", System.getProperty(\"user.dir\") + \"\\\\src\\\\files\\\\geckodriver.exe\");\n\n        driver = new FirefoxDriver();\n\n        wait = new WebDriverWait(driver, 10);\n\n        driver.manage().window().maximize();\n    }\n\n    @AfterClass\n    public static void teardown() {\n        driver.quit();\n    }\n}\n\n-----------------------\npublic class HomePageHotelsSearchTest extends BaseTest {\n\n    @Test\n    public void giveNameProperly() throws IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n        homePage.openHotelsSearchTab();\n        homePage.inputCityInHotelsSearch(\"London\");\n        homePage.selectCityFromSearchResult(0);\n        homePage.inputCheckInDateInHotelsSearch(\"23/08/2018\");\n        homePage.inputCheckOutDateInHotelsSearch(\"27/08/2018\");\n        homePage.openPeopleAmountTabInHotelsSearch();\n        homePage.addAdultsInHotelsSearch(1);\n        homePage.startSearchingHotels();\n        homePage.elementClickable(By.linkText(\"Grand Plaza Apartments\"));\n\n        String firstResult = homePage.readText(By.linkText(\"Grand Plaza Apartments\"));\n        Assert.assertEquals(\"Grand Plaza Apartments\", firstResult);\n\n        //Reporter.log(\"Test owned!\", true);\n\n    }\n\n}\n\n-----------------------\npublic class LoginTest extends BaseTest {\n\n    @Test\n    public void loginTest() throws InterruptedException, IOException {\n        HomePage homePage = new HomePage(driver, wait);\n\n        homePage.openUrl(\"https://www.phptravels.net/\");\n\n\n        LoginPage loginPage = homePage.goToLoginPage();\n        loginPage.waitForPageToLoad(\"Login\");\n        loginPage.inputEmail(\"user@phptravels.com\");\n        loginPage.inputPassword(\"demouser\");\n\n        loginPage.login();\n\n        loginPage.waitForPageToLoad(\"My Account\");\n\n        String myAccountPageTitle = driver.getTitle();\n        Assert.assertEquals(myAccountPageTitle, \"My Account\");\n\n        //Reporter.log(\"Test owned!\", true);\n\n\n    }\n\n}\n\n    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;!DOCTYPE suite SYSTEM \"http://beust.com/testng/testng-1.0.dtd\" &gt;\n    &lt;suite name=\"Suite\" thread-count=\"2\" parallel=\"true\"&gt;\n        &lt;test name=\"test1\"&gt;\n            &lt;classes&gt;\n                &lt;class name=\"tests.LoginTest\" /&gt;\n                &lt;class name=\"tests.HomePageHotelsSearchTest\"/&gt;\n            &lt;/classes&gt;\n        &lt;/test&gt;\n    &lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696855721,"post_id":77258425,"comment_id":136202439,"body_markdown":"The question probably should be what&#39;s wrong with your application.","body":"The question probably should be what&#39;s wrong with your application."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696934852,"post_id":77258425,"comment_id":136213278,"body_markdown":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…","body":"Do you have a specific reason to dictate the New Space size? The first thing I’d do, is to start with the minimal set of options and let the JVM do its job and only add options when I’m confident that I know better than the JVM what’s good in this specific scenario and why. Especially when there’s a large amount of Old Space to reclaim on every GC, forcing a small New Space might have been the wrong thing…"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1697011616,"post_id":77258425,"comment_id":136224348,"body_markdown":"Adding to @Holger, maybe not setting `ms == mx`since that will turn off heap ergonomics.","body":"Adding to @Holger, maybe not setting <code>ms == mx</code>since that will turn off heap ergonomics."},{"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"score":0,"creation_date":1697013541,"post_id":77258425,"comment_id":136224738,"body_markdown":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later...","body":"thanks to @Holger  and Erik , I will try to just use the default args and see what will happen. Reply later..."}],"owner":{"account_id":8164840,"reputation":121,"user_id":6147582,"display_name":"L.Maple"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696851011,"creation_date":1696850625,"question_id":77258425,"body_markdown":"I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.\r\n\r\nthe original application gc params（eliminating gc log params for better readability ）:\r\n```\r\n-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \r\n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \r\n```\r\n\r\nGC params in gc log:\r\n```\r\nOpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\r\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\r\nCommandLine flags: \r\n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\r\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \r\n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \r\n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \r\n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \r\n``` \r\nand the full gc logs:\r\n```\r\n2023-10-06T08:31:44.068+0800: 659309.919: \r\n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \r\nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \r\n[Times: user=27.33 sys=1.05, real=19.54 secs] \r\n\r\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\r\n [Times: user=19.32 sys=1.00, real=14.52 secs] \r\n\r\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\r\n [Times: user=18.48 sys=2.25, real=15.06 secs] \r\n\r\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\r\n [Times: user=18.65 sys=1.60, real=14.54 secs] \r\n\r\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\r\n [Times: user=18.68 sys=1.30, real=14.20 secs] \r\n\r\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\r\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\r\n [Times: user=19.31 sys=0.77, real=14.20 secs] \r\n\r\n```\r\n\r\nthe gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in [gceasy](https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:~:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.)\r\n&gt; Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.\r\n\r\nWhich means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).\r\n\r\nBut the full gc log `31.7G(32.0G)-&gt;20.8G(32.0G)` shows that the heap has exhausted, it&#39;s too late to start a non full gc.\r\n\r\nSo what&#39;s wrong with the full gc problem and why G1ReservePercent param doesn&#39;t work.\r\n\r\n","title":"G1 Full GC events happens too often due to Allocation Failure","body":"<p>I have a backend service using G1 GC, which has started full gc so frequently after running about 2 days.</p>\n<p>the original application gc params（eliminating gc log params for better readability ）:</p>\n<pre><code>-Xms32g -Xmx32g -XX:+UseG1GC -XX:MaxGCPauseMillis=200 -XX:G1ReservePercent=15 \n-XX:+UnlockExperimentalVMOptions -XX:G1NewSizePercent=20 \n</code></pre>\n<p>GC params in gc log:</p>\n<pre><code>OpenJDK 64-Bit Server VM (25.202-b08) for linux-amd64 JRE (1.8.0_202-b08), built on Jan 22 2019 13:35:07 by &quot;jenkins&quot; with gcc 4.8.2 20140120 (Red Hat 4.8.2-15)\nMemory: 4k page, physical 263567564k(2925568k free), swap 0k(0k free)\nCommandLine flags: \n-XX:CICompilerCount=15 -XX:ConcGCThreads=6 -XX:G1HeapRegionSize=16777216 (16MB)\n-XX:G1NewSizePercent=20 -XX:G1ReservePercent=15 -XX:InitialHeapSize=34359738368(32GB) \n-XX:MarkStackSize=4194304 -XX:MaxGCPauseMillis=200 -XX:MaxHeapSize=34359738368 \n-XX:MaxNewSize=20602421248 -XX:MinHeapDeltaBytes=16777216 \n-XX:+UnlockExperimentalVMOptions -XX:+UseG1GC \n</code></pre>\n<p>and the full gc logs:</p>\n<pre><code>2023-10-06T08:31:44.068+0800: 659309.919: \n[Full GC (Allocation Failure)  23G-&gt;21G(32G), 19.5437974 secs] [Eden: 16.0M(6000.0M)-&gt;0.0B(6544.0M) Survivors: 544.0M-&gt;0.0B \nHeap: 23.8G(32.0G)-&gt;21.3G(32.0G)], [Metaspace: 90182K-&gt;90182K(94208K)] \n[Times: user=27.33 sys=1.05, real=19.54 secs] \n\n2023-10-06T09:15:45.544+0800: 661951.395: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5219354 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.4G(32.0G)], [Metaspace: 90216K-&gt;90216K(94208K)]\n [Times: user=19.32 sys=1.00, real=14.52 secs] \n\n2023-10-06T09:47:37.129+0800: 663862.980: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 15.0624531 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.5G(32.0G)], [Metaspace: 90217K-&gt;90199K(94208K)]\n [Times: user=18.48 sys=2.25, real=15.06 secs] \n\n2023-10-06T10:11:54.450+0800: 665320.301: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.5384049 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90217K-&gt;90202K(94208K)]\n [Times: user=18.65 sys=1.60, real=14.54 secs] \n\n2023-10-06T10:36:51.857+0800: 666817.708: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1996159 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.7G(32.0G)], [Metaspace: 90213K-&gt;90205K(94208K)]\n [Times: user=18.68 sys=1.30, real=14.20 secs] \n\n2023-10-06T11:00:10.119+0800: 668215.970: [Full GC (Allocation Failure)  31G-&gt;20G(32G), 14.1973267 secs]\n   [Eden: 0.0B(6544.0M)-&gt;0.0B(6544.0M) Survivors: 0.0B-&gt;0.0B Heap: 31.7G(32.0G)-&gt;20.8G(32.0G)], [Metaspace: 90218K-&gt;90211K(94208K)]\n [Times: user=19.31 sys=0.77, real=14.20 secs] \n\n</code></pre>\n<p>the gc param G1ReservePercent=15 means that G1 will ensure at least 15% free space as pointed in <a href=\"https://gceasy.io/gc-recommendations/important-g1-gc-arguments.jsp#:%7E:text=The%20default%20value%20is%20200%20milliseconds.&amp;text=Sets%20the%20size%20of%20a,range%20from%201MB%20to%2032MB.\" rel=\"nofollow noreferrer\">gceasy</a></p>\n<blockquote>\n<p>Sets the percentage of reserve memory to keep free. The default is 10 percent. G1 Garbage collectors will try to keep 10% of the heap to be free always.</p>\n</blockquote>\n<p>Which means g1 will start a (old? mixed?) gc to match the G1ReservePercent constraint when heap grows up to about 27G (85% of 32G).</p>\n<p>But the full gc log <code>31.7G(32.0G)-&gt;20.8G(32.0G)</code> shows that the heap has exhausted, it's too late to start a non full gc.</p>\n<p>So what's wrong with the full gc problem and why G1ReservePercent param doesn't work.</p>\n"},{"tags":["java","csv","opencsv"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1696847854,"post_id":77257870,"comment_id":136200903,"body_markdown":"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv","body":"<a href=\"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv\" title=\"how to differentiate between empty string and null with opencsv\">stackoverflow.com/questions/25301620/&hellip;</a>"},{"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"score":0,"creation_date":1696849680,"post_id":77257870,"comment_id":136201232,"body_markdown":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean.","body":"@JCompetence this doesn&#39;t answer my question, as it is not about custom values, but simply string vs nothing. It also is not using CsvToBean."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849792,"post_id":77257870,"comment_id":136201256,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":8692600,"reputation":484,"user_id":6505091,"display_name":"kaba713"},"score":0,"creation_date":1701692599,"post_id":77257870,"comment_id":136803213,"body_markdown":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set.","body":"You would need to &quot;write your own mapping strategy&quot;, but I think that it is totally sufficient if you override the part where the field value is set."}],"owner":{"account_id":18109251,"reputation":1,"user_id":13166424,"display_name":"Norlad7"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696850747,"creation_date":1696845297,"question_id":77257870,"body_markdown":"I am using OpenCSV&#39;s `CsvToBean` to map rows to my POJOs, but I can&#39;t seem to find a way to define string values that should be converted to `null`.\r\n\r\nSay, if I wanted *&quot;null&quot;*, *&quot;Null&quot;*, *&quot;N/A&quot;* or anything else to be mapped as `null`, how should I proceed?\r\n\r\nI&#39;ve seen `StringProcessors` in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.\r\n\r\nI also saw the `.withFieldAsNull` on the `CsvToBeanBuilder`, but it only offers conversion to null for empty separators or empty strings (*&quot;&quot;*).\r\n\r\nThank you very much !","title":"Using OpenCSV&#39;s CsvToBean, how can I define values to be converted to null?","body":"<p>I am using OpenCSV's <code>CsvToBean</code> to map rows to my POJOs, but I can't seem to find a way to define string values that should be converted to <code>null</code>.</p>\n<p>Say, if I wanted <em>&quot;null&quot;</em>, <em>&quot;Null&quot;</em>, <em>&quot;N/A&quot;</em> or anything else to be mapped as <code>null</code>, how should I proceed?</p>\n<p>I've seen <code>StringProcessors</code> in the docs, but these would need to be applied with annotations to each and every field of the classes, which sounds tedious.</p>\n<p>I also saw the <code>.withFieldAsNull</code> on the <code>CsvToBeanBuilder</code>, but it only offers conversion to null for empty separators or empty strings (<em>&quot;&quot;</em>).</p>\n<p>Thank you very much !</p>\n"},{"tags":["java","android","android-studio","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696849521,"creation_date":1696849521,"answer_id":77258291,"question_id":75335792,"body_markdown":"Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.\r\n\r\nThe only thing that gived me a clue was the lines on the exception that mention the textview class;\r\n\r\n    at android.widget.TextView.onDraw(TextView.java:8852)\r\n\r\n","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>Finally i found the answer, there was nothing to do with the bluetooth connections or something like that, it was a TextView wich i am using as log, when i empty the log to append new text for some reason it causes the exception that it posted below, so if someone is strugling with this, check if you are emptying some textview and trying to append text after or something like that.</p>\n<p>The only thing that gived me a clue was the lines on the exception that mention the textview class;</p>\n<pre><code>at android.widget.TextView.onDraw(TextView.java:8852)\n</code></pre>\n"}],"owner":{"account_id":11416261,"reputation":71,"user_id":8369004,"display_name":"Sermore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696849521,"creation_date":1675427552,"question_id":75335792,"body_markdown":"i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.\r\n\r\nRandomly the app crashes right after i send some of this command, with the following excepcion;\r\n\r\n     `Process: xxx.xxx.xxx, PID: 19983\r\n        java.lang.IndexOutOfBoundsException: 2, 1\r\n        at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\r\n        at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\r\n        at android.text.Layout.getLineBottom(Layout.java:1725)\r\n        at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\r\n        at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\r\n        at android.widget.Editor.onDraw(Editor.java:2191)\r\n        at android.widget.TextView.onDraw(TextView.java:8852)\r\n        at android.view.View.draw(View.java:23901)`\r\n  \r\n\r\nAs i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.\r\n\r\nDoes anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.\r\n\r\nThanks in advice!","title":"Android app IndexOutOfBoundsException on PackedIntVector","body":"<p>i am developing an Android app that communicates with Bluetooth sending and receiving raw commands on byte array.</p>\n<p>Randomly the app crashes right after i send some of this command, with the following excepcion;</p>\n<pre><code> `Process: xxx.xxx.xxx, PID: 19983\n    java.lang.IndexOutOfBoundsException: 2, 1\n    at android.text.PackedIntVector.getValue(PackedIntVector.java:75)\n    at android.text.DynamicLayout.getLineTop(DynamicLayout.java:1010)\n    at android.text.Layout.getLineBottom(Layout.java:1725)\n    at android.widget.Editor.drawHardwareAcceleratedInner(Editor.java:2310)\n    at android.widget.Editor.drawHardwareAccelerated(Editor.java:2251)\n    at android.widget.Editor.onDraw(Editor.java:2191)\n    at android.widget.TextView.onDraw(TextView.java:8852)\n    at android.view.View.draw(View.java:23901)`\n</code></pre>\n<p>As i understand the problem is on the PackedIntVector.java class, but its an Android class and on the stack trace there isn`t any of my app files, all are from Android classes.</p>\n<p>Does anybody know what could be happening? The excepcion always happen right after sending a command and not always happen, but i have not found any thtat triggers it, seems &quot;random&quot;.</p>\n<p>Thanks in advice!</p>\n"},{"tags":["java","authentication","jwt","performance-testing","gatling"],"answers":[{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":0,"creation_date":1696002253,"post_id":77201116,"comment_id":136102545,"body_markdown":"Thank you for pointing me in the right direction! After searching in the forum I think I found the way to go and will post it as an additional answer as soon as im content with it.","body":"Thank you for pointing me in the right direction! After searching in the forum I think I found the way to go and will post it as an additional answer as soon as im content with it."}],"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695982357,"creation_date":1695982357,"answer_id":77201116,"question_id":77200938,"body_markdown":"Performing some blocking operation (UrlConnection, synchronized) from Gatling&#39;s own threads is a very very bad idea. You&#39;re going to stall the whole engine.\r\n\r\nInstead, you should update your shared token preemptively as you&#39;ve described from a background task:\r\n* either a dedicated Java thread if you want to stick to the blocking UrlConnection\r\n* or a distinct Gatling scenario if you&#39;re willing to drop UrlConnection.\r\n\r\nNote: this question has been asked several times on the [Gatling community forum][1] and you&#39;ll find some examples there for the latter solution.\r\n\r\n  [1]: https://community.gatling.io/","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>Performing some blocking operation (UrlConnection, synchronized) from Gatling's own threads is a very very bad idea. You're going to stall the whole engine.</p>\n<p>Instead, you should update your shared token preemptively as you've described from a background task:</p>\n<ul>\n<li>either a dedicated Java thread if you want to stick to the blocking UrlConnection</li>\n<li>or a distinct Gatling scenario if you're willing to drop UrlConnection.</li>\n</ul>\n<p>Note: this question has been asked several times on the <a href=\"https://community.gatling.io/\" rel=\"nofollow noreferrer\">Gatling community forum</a> and you'll find some examples there for the latter solution.</p>\n"},{"tags":[],"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696849187,"creation_date":1696848512,"answer_id":77258187,"question_id":77200938,"body_markdown":"With credit to St&#233;phane Landelle and the sources mentioned below, this is now my concrete implementation:\r\n\r\n```java\r\npublic class MySimulation extends Simulation {\r\n\r\n    protected volatile String token = &quot;&quot;;\r\n\r\n    protected HttpProtocolBuilder httpProtocol = http\r\n        .baseUrl(myBaseUrl)\r\n        .authorizationHeader((session) -&gt; {\r\n            return &quot;Bearer &quot; + token;\r\n        })\r\n        .check(status().in(200, 401));\r\n\r\n    // Retrieving a new token\r\n    ScenarioBuilder getToken = scenario(&quot;Acquire JWT&quot;)\r\n        .exec(\r\n            http(&quot;get token&quot;)\r\n                .post(myAuthEndpoint)\r\n                .body(myAuthBody)\r\n                .check(\r\n                    bodyString().find().transform(bodyString -&gt; {\r\n                        // extract auth token from response\r\n                    })\r\n                    .saveAs(&quot;AuthToken&quot;)\r\n                )\r\n            ).exitHereIfFailed()\r\n        .exec(session -&gt; {\r\n            token = session.getString(&quot;AuthToken&quot;);\r\n            return session;\r\n        }).pause(Duration.ofSeconds(270)); // renew token every 4 minutes and 30 seconds\r\n\r\n    // The actual load test\r\n    ScenarioBuilder scn = scenario(&quot;My scenario&quot;)\r\n        .exec(http(&quot;My scenario&quot;)\r\n            .get(&quot;/my/endpoint/with/parameters&quot;)\r\n            .check(jsonPath(myJsonPath).ofString().is(whatIExpect)));\r\n\r\n    // Start token retrieving alongside the actual load test\r\n    {\r\n        setUp(\r\n            getToken.injectClosed(rampConcurrentUsers(1).to(1).during(1800)),\r\n            scn.injectClosed(rampConcurrentUsers(5).to(40).during(1200),\r\n                constantConcurrentUsers(40).during(600))\r\n        ).protocols(httpProtocol);\r\n    }\r\n}\r\n\r\n```\r\n\r\nPossibly, there are more elegant solutions, but this should be a first sketch of how to implement it. The key is running the `getToken` scenario in parallel to the &quot;real&quot; test, having it pause just a little less than the token validity and renew the token accordingly. (Here the token validity period is 300s and the &quot;Acquire JWT&quot; scenario will run every 270s.)\r\n\r\nThe &quot;Acquire token&quot; needs to run as long as the real load test scenario. (Well - not really at all. Doing some arithmetics, one could omit the last, unnecessary run, shortening the duration of the overall test. But for my case, it is sufficient as it is.)\r\n\r\n----------\r\n\r\nHelpful Sources:\r\n\r\nhttps://stackoverflow.com/questions/70886918/refresh-bearer-token-during-gatling-load-tests\r\n\r\nhttps://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5\r\n\r\nhttps://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13\r\n\r\nhttps://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>With credit to Stéphane Landelle and the sources mentioned below, this is now my concrete implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MySimulation extends Simulation {\n\n    protected volatile String token = &quot;&quot;;\n\n    protected HttpProtocolBuilder httpProtocol = http\n        .baseUrl(myBaseUrl)\n        .authorizationHeader((session) -&gt; {\n            return &quot;Bearer &quot; + token;\n        })\n        .check(status().in(200, 401));\n\n    // Retrieving a new token\n    ScenarioBuilder getToken = scenario(&quot;Acquire JWT&quot;)\n        .exec(\n            http(&quot;get token&quot;)\n                .post(myAuthEndpoint)\n                .body(myAuthBody)\n                .check(\n                    bodyString().find().transform(bodyString -&gt; {\n                        // extract auth token from response\n                    })\n                    .saveAs(&quot;AuthToken&quot;)\n                )\n            ).exitHereIfFailed()\n        .exec(session -&gt; {\n            token = session.getString(&quot;AuthToken&quot;);\n            return session;\n        }).pause(Duration.ofSeconds(270)); // renew token every 4 minutes and 30 seconds\n\n    // The actual load test\n    ScenarioBuilder scn = scenario(&quot;My scenario&quot;)\n        .exec(http(&quot;My scenario&quot;)\n            .get(&quot;/my/endpoint/with/parameters&quot;)\n            .check(jsonPath(myJsonPath).ofString().is(whatIExpect)));\n\n    // Start token retrieving alongside the actual load test\n    {\n        setUp(\n            getToken.injectClosed(rampConcurrentUsers(1).to(1).during(1800)),\n            scn.injectClosed(rampConcurrentUsers(5).to(40).during(1200),\n                constantConcurrentUsers(40).during(600))\n        ).protocols(httpProtocol);\n    }\n}\n\n</code></pre>\n<p>Possibly, there are more elegant solutions, but this should be a first sketch of how to implement it. The key is running the <code>getToken</code> scenario in parallel to the &quot;real&quot; test, having it pause just a little less than the token validity and renew the token accordingly. (Here the token validity period is 300s and the &quot;Acquire JWT&quot; scenario will run every 270s.)</p>\n<p>The &quot;Acquire token&quot; needs to run as long as the real load test scenario. (Well - not really at all. Doing some arithmetics, one could omit the last, unnecessary run, shortening the duration of the overall test. But for my case, it is sufficient as it is.)</p>\n<hr />\n<p>Helpful Sources:</p>\n<p><a href=\"https://stackoverflow.com/questions/70886918/refresh-bearer-token-during-gatling-load-tests\">Refresh Bearer Token during Gatling Load Tests</a></p>\n<p><a href=\"https://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/global-shared-token-is-populated-blank/8007/5</a></p>\n<p><a href=\"https://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/gatling-token-service-and-structure-of-simulation/1535/13</a></p>\n<p><a href=\"https://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5\" rel=\"nofollow noreferrer\">https://community.gatling.io/t/how-to-execute-the-first-request-only-once/6063/5</a></p>\n"}],"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77201116,"answer_count":2,"score":0,"last_activity_date":1696849187,"creation_date":1695980726,"question_id":77200938,"body_markdown":"Using Gatling (in Java), I would like to run a performance test against a backend needing some authentication via bearer token (JWT). The token expires after 5 minutes, so I&#39;ll need to renew it, if the test runs longer than that (which is the intention).\r\n\r\nThis is the way it&#39;s working for now:\r\n\r\n```java\r\nHttpProtocolBuilder httpProtocol = http.baseUrl(&quot;http://my.url/v1/&quot;)\r\n    .authorizationHeader((session) -&gt; session.getString(&quot;AuthToken&quot;))\r\n    .check(status().in(200, 401).saveAs(&quot;status&quot;));\r\n\r\nprivate String getAuthentication() {\r\n  // retrieves and returns a new, valid authentication token via HttpURLConnection\r\n  // this method has been proven to work correctly\r\n}\r\n\r\nScenarioBuilder scn = scenario(&quot;My scenario&quot;)\r\n    .repeat(100).on(\r\n        exec(http(&quot;My HTTP call&quot;).get(&quot;/my/endpoint&quot;))\r\n            .pause(1)\r\n            .doIfOrElse((session -&gt; session.getInt(&quot;status&quot;) == 401))\r\n            .then(\r\n                exec(session -&gt; {\r\n                    System.out.println(&quot;Got status 401 - retrieving new token&quot;);\r\n                    return session.set(&quot;AuthToken&quot;, getAuthentication());\r\n             }))\r\n            .orElse(\r\n                exec(session -&gt; {\r\n                    System.out.println(&quot;Got status: &quot; + session.getInt(&quot;status&quot;));\r\n                    return session;\r\n                })\r\n            )\r\n        );\r\n\r\n    {\r\n        setUp(\r\n            scn.injectClosed(\r\n                rampConcurrentUsers(5).to(40).during(1200), constantConcurrentUsers(40).during(600))\r\n        ).protocols(httpProtocol);\r\n    }\r\n```\r\n\r\nI&#39;m OK with this solution, but I see the `getAuthentication` calls occurring too often, resulting in the authentication backend being called more often than necessary. I suppose this is due to the virtual users running in their own threads and the synchronization via the `session` variable does not happen (fast enough).\r\n\r\nSo, is there any smart way to have the authentification happen only one time, when needed, and share the token with all users?\r\n\r\nSome things I thought of:\r\n\r\n - Using the `synchronized` Java keyword on `getAuthentication` - did not change anything\r\n - Creating a new Java Thread that will fetch a new authentication automatically every 4:30 minutes and write the new token to a variable which can then be accessed by the `authorizationHeader` call. Didn&#39;t try this yet as it seems a rather poor solution to me.\r\n\r\nI have been searching around, as it seems, there are some more people facing the same challenge, but I haven&#39;t found any applicable solution there.\r\n\r\nBonus question: Is there any way to not count the 401 responses in the final statistics? :)\r\n\r\nMany thanks in advance!","title":"Gatling: How to share dynamic authentication between virtual users?","body":"<p>Using Gatling (in Java), I would like to run a performance test against a backend needing some authentication via bearer token (JWT). The token expires after 5 minutes, so I'll need to renew it, if the test runs longer than that (which is the intention).</p>\n<p>This is the way it's working for now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HttpProtocolBuilder httpProtocol = http.baseUrl(&quot;http://my.url/v1/&quot;)\n    .authorizationHeader((session) -&gt; session.getString(&quot;AuthToken&quot;))\n    .check(status().in(200, 401).saveAs(&quot;status&quot;));\n\nprivate String getAuthentication() {\n  // retrieves and returns a new, valid authentication token via HttpURLConnection\n  // this method has been proven to work correctly\n}\n\nScenarioBuilder scn = scenario(&quot;My scenario&quot;)\n    .repeat(100).on(\n        exec(http(&quot;My HTTP call&quot;).get(&quot;/my/endpoint&quot;))\n            .pause(1)\n            .doIfOrElse((session -&gt; session.getInt(&quot;status&quot;) == 401))\n            .then(\n                exec(session -&gt; {\n                    System.out.println(&quot;Got status 401 - retrieving new token&quot;);\n                    return session.set(&quot;AuthToken&quot;, getAuthentication());\n             }))\n            .orElse(\n                exec(session -&gt; {\n                    System.out.println(&quot;Got status: &quot; + session.getInt(&quot;status&quot;));\n                    return session;\n                })\n            )\n        );\n\n    {\n        setUp(\n            scn.injectClosed(\n                rampConcurrentUsers(5).to(40).during(1200), constantConcurrentUsers(40).during(600))\n        ).protocols(httpProtocol);\n    }\n</code></pre>\n<p>I'm OK with this solution, but I see the <code>getAuthentication</code> calls occurring too often, resulting in the authentication backend being called more often than necessary. I suppose this is due to the virtual users running in their own threads and the synchronization via the <code>session</code> variable does not happen (fast enough).</p>\n<p>So, is there any smart way to have the authentification happen only one time, when needed, and share the token with all users?</p>\n<p>Some things I thought of:</p>\n<ul>\n<li>Using the <code>synchronized</code> Java keyword on <code>getAuthentication</code> - did not change anything</li>\n<li>Creating a new Java Thread that will fetch a new authentication automatically every 4:30 minutes and write the new token to a variable which can then be accessed by the <code>authorizationHeader</code> call. Didn't try this yet as it seems a rather poor solution to me.</li>\n</ul>\n<p>I have been searching around, as it seems, there are some more people facing the same challenge, but I haven't found any applicable solution there.</p>\n<p>Bonus question: Is there any way to not count the 401 responses in the final statistics? :)</p>\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"score":0,"creation_date":1696842668,"post_id":77257431,"comment_id":136199967,"body_markdown":"@Pino those comments could work for different perspectives,\nFor me, 1. I am not switching the protocols(http --&gt; https or https -&gt; http)\n2. I don&#39;t want to switch from existing implementationof RestTemplate","body":"@Pino those comments could work for different perspectives, For me, 1. I am not switching the protocols(http --&gt; https or https -&gt; http) 2. I don&#39;t want to switch from existing implementationof RestTemplate"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1696849440,"post_id":77257431,"comment_id":136201189,"body_markdown":"@Shreekant *2. I don&#39;t want to switch from existing implementationof RestTemplate* The default implemenation seems not to work, so you have to switch. What&#39;s the problem?","body":"@Shreekant <i>2. I don&#39;t want to switch from existing implementationof RestTemplate</i> The default implemenation seems not to work, so you have to switch. What&#39;s the problem?"}],"owner":{"account_id":7353328,"reputation":1,"user_id":6097679,"display_name":"Shreekant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696852617,"answer_count":0,"score":0,"last_activity_date":1696849161,"creation_date":1696841544,"question_id":77257431,"body_markdown":"I want to understand the logic for REST call redirects through Spring Boot.\r\nBasically, I&#39;m trying RestTemplate(Spring Boot) to do a POST login call.\r\n\r\n```\r\nRestTemplate restTemplate ....\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\r\n\r\nLinkedMultiValueMap&lt;String, Object&gt; valueMap = new LinkedMultiValueMap&lt;String, Object&gt;();\r\nmvm.add(&quot;username&quot;, &quot;login&quot;);\r\nmvm.add(&quot;password&quot;, &quot;password&quot;);\r\n\r\n...........\r\n\r\nResponseEntity&lt;String&gt; result = restTemplate.exchange(uriDWLogin, HttpMethod.POST, requestEntity, String.class);\r\n```\r\n\r\nThe response entity is giving 302 status response, but I want to follow this request to get the response body.\r\n\r\n\r\n\r\nI am thinking RestTemplate would automatically follows redirects - 302 status code, but I am not 100% sure.","title":"Spring RestTemplate Follow Redirect 302","body":"<p>I want to understand the logic for REST call redirects through Spring Boot.\nBasically, I'm trying RestTemplate(Spring Boot) to do a POST login call.</p>\n<pre><code>RestTemplate restTemplate ....\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n\nLinkedMultiValueMap&lt;String, Object&gt; valueMap = new LinkedMultiValueMap&lt;String, Object&gt;();\nmvm.add(&quot;username&quot;, &quot;login&quot;);\nmvm.add(&quot;password&quot;, &quot;password&quot;);\n\n...........\n\nResponseEntity&lt;String&gt; result = restTemplate.exchange(uriDWLogin, HttpMethod.POST, requestEntity, String.class);\n</code></pre>\n<p>The response entity is giving 302 status response, but I want to follow this request to get the response body.</p>\n<p>I am thinking RestTemplate would automatically follows redirects - 302 status code, but I am not 100% sure.</p>\n"},{"tags":["java","spring-boot","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":20110979,"reputation":65,"user_id":14747381,"display_name":"Private_xoxo"},"score":0,"creation_date":1690646135,"post_id":76794282,"comment_id":135384029,"body_markdown":"this fixed the persistence errors but now when I build the project it gives me these test errors - \n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\n            Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421\n                Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:61\n                    Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:693","body":"this fixed the persistence errors but now when I build the project it gives me these test errors -          Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770             Caused by: jakarta.persistence.PersistenceException at AbstractEntityManagerFactoryBean.java:421                 Caused by: org.hibernate.exception.GenericJDBCException at StandardSQLExceptionConverter.java:61                     Caused by: org.postgresql.util.PSQLException at ConnectionFactoryImpl.java:693"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1690652021,"post_id":76794282,"comment_id":135384703,"body_markdown":"In this case please ask a new question and provide more details like the relevant Java code, application.properties or application.yml, application log during startup with full error stacktrace.","body":"In this case please ask a new question and provide more details like the relevant Java code, application.properties or application.yml, application log during startup with full error stacktrace."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690980430,"creation_date":1690644883,"answer_id":76794282,"question_id":76794201,"body_markdown":"It looks like you have existing code implemented under the older version of Spring Boot. Probably 2.something. But in the gradle dependency you have the newer version 3.1.2.\r\n\r\nThere was a massive change between Spring Boot 2 and 3 regarding persistence framework called JPA (Jakarta Persistence Architecture). As a minimum change you should rename all imports `javax.persistence` to `jakarta.persistence`.\r\n\r\nFor more details you can check the [Hibernate 6.0 Migration Guide][1].\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html","title":"Spring Boot Project in IntelliJ IDEA Showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; Error","body":"<p>It looks like you have existing code implemented under the older version of Spring Boot. Probably 2.something. But in the gradle dependency you have the newer version 3.1.2.</p>\n<p>There was a massive change between Spring Boot 2 and 3 regarding persistence framework called JPA (Jakarta Persistence Architecture). As a minimum change you should rename all imports <code>javax.persistence</code> to <code>jakarta.persistence</code>.</p>\n<p>For more details you can check the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html\" rel=\"nofollow noreferrer\">Hibernate 6.0 Migration Guide</a>.</p>\n"}],"owner":{"account_id":20110979,"reputation":65,"user_id":14747381,"display_name":"Private_xoxo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76794282,"answer_count":1,"score":1,"last_activity_date":1696848826,"creation_date":1690643676,"question_id":76794201,"body_markdown":"I&#39;m currently developing a Spring Boot application in IntelliJ IDEA and I have encountered an issue where the IDE is showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; error. This error appears whenever I try to import javax.persistence.Entity, javax.persistence.GeneratedValue, javax.persistence.GenerationType, and javax.persistence.Id for my JPA entities.\r\n\r\nI have attempted several solutions, such as:\r\n\r\n * Rebuilding the project\r\n * Invalidating the caches and restarting IntelliJ IDEA\r\n * Ensuring that my *[build.gradle][1]* file contains the necessary dependencies.\r\n\r\nHere is my build.gradle file:\r\n\r\n    package com.limark.bootcampbackend.domain;\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n\r\n    @Entity\r\n    public class User {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String email;\r\n\r\n        // Getters and Setters\r\n        public Long getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(Long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n\r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    }\r\n\r\n\r\n-\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.2&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.2&#39;\r\n    }\r\n\r\n    group = &#39;com.limark&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n\r\n    java {\r\n        sourceCompatibility = &#39;17&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n\r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\r\n","title":"Spring Boot Project in IntelliJ IDEA Showing &quot;Cannot resolve symbol &#39;persistence&#39;&quot; Error","body":"<p>I'm currently developing a Spring Boot application in IntelliJ IDEA and I have encountered an issue where the IDE is showing &quot;Cannot resolve symbol 'persistence'&quot; error. This error appears whenever I try to import javax.persistence.Entity, javax.persistence.GeneratedValue, javax.persistence.GenerationType, and javax.persistence.Id for my JPA entities.</p>\n<p>I have attempted several solutions, such as:</p>\n<ul>\n<li>Rebuilding the project</li>\n<li>Invalidating the caches and restarting IntelliJ IDEA</li>\n<li>Ensuring that my <em><a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">build.gradle</a></em> file contains the necessary dependencies.</li>\n</ul>\n<p>Here is my build.gradle file:</p>\n<pre><code>package com.limark.bootcampbackend.domain;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String email;\n\n    // Getters and Setters\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.2'\n    id 'io.spring.dependency-management' version '1.1.2'\n}\n\ngroup = 'com.limark'\nversion = '0.0.1-SNAPSHOT'\n\njava {\n    sourceCompatibility = '17'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    runtimeOnly 'org.postgresql:postgresql'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","mysql","mysql-connector"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1695194352,"post_id":77140105,"comment_id":135989799,"body_markdown":"Which language, how does your code looks like?","body":"Which language, how does your code looks like?"},{"owner":{"account_id":10187175,"reputation":68,"user_id":7521690,"display_name":"Sandeep Karanam"},"score":0,"creation_date":1695194381,"post_id":77140105,"comment_id":135989803,"body_markdown":"I Think result set is not refreshed or the transaction is not handled properly.","body":"I Think result set is not refreshed or the transaction is not handled properly."},{"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"score":0,"creation_date":1695195812,"post_id":77140105,"comment_id":135990069,"body_markdown":"It&#39;s java code, I&#39;ve added the sample code snippet","body":"It&#39;s java code, I&#39;ve added the sample code snippet"}],"answers":[{"tags":[],"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696848439,"creation_date":1696848439,"answer_id":77258178,"question_id":77140105,"body_markdown":"The issue was because of the connection.\r\nOnce we started closing the connection and getting the new connection from pool as in when needed, the issue got solved.","title":"java.sql.SQLException: ResultSet is from UPDATE. No Data. for select query","body":"<p>The issue was because of the connection.\nOnce we started closing the connection and getting the new connection from pool as in when needed, the issue got solved.</p>\n"}],"owner":{"account_id":17534442,"reputation":1,"user_id":12717848,"display_name":"Prakash Rastapur"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696848617,"creation_date":1695194162,"question_id":77140105,"body_markdown":"While running the SQL executeQuery function with select command in java even though it&#39;s a select query I still get the SQLException saying \r\n```\r\nResultSet is from UPDATE. No Data.\r\n```\r\n\r\nThis issue happens only during high load. Otherwise the query works quite well.\r\n\r\nI am using mysql connector 8.0.16\r\n\r\nOnly restart of the server is helping here, but need to handle this in the code as well to keep it safe.\r\n\r\n\r\nThis is the sample function\r\n\r\n    public CacheKey getResult(String type, String colId) {\r\n    ResultSet resultSet = null;\r\n    PreparedStatement statement = null;\r\n    try {\r\n        \r\n          String request = &quot;select * from Table where a = ?&quot;;\r\n          //mCxnContainer is connection which is declared at class level\r\n          statement = mCxnContainer.getStatement(request);\r\n          if (statement == null) {\r\n               mCxnContainer = getNewConnection();\r\n               statement = mCxnContainer.getStatement(request);\r\n          }\r\n          statement.setString(1, colId);\r\n          resultSet = statement.executeQuery();\r\n          returnEntry = cacheEntry.toEntry(resultSet);\r\n        } catch (SQLException e) {\r\n            e.printStacktrace();\r\n        } finally {\r\n            try {\r\n                if (resultSet != null)\r\n                resultSet.close();\r\n                if (statement != null)\r\n                statement.close();\r\n            } catch (SQLException e) {\r\n                e.printStacktrace();\r\n            }\r\n        }\r\n        return returnEntry;\r\n    }","title":"java.sql.SQLException: ResultSet is from UPDATE. No Data. for select query","body":"<p>While running the SQL executeQuery function with select command in java even though it's a select query I still get the SQLException saying</p>\n<pre><code>ResultSet is from UPDATE. No Data.\n</code></pre>\n<p>This issue happens only during high load. Otherwise the query works quite well.</p>\n<p>I am using mysql connector 8.0.16</p>\n<p>Only restart of the server is helping here, but need to handle this in the code as well to keep it safe.</p>\n<p>This is the sample function</p>\n<pre><code>public CacheKey getResult(String type, String colId) {\nResultSet resultSet = null;\nPreparedStatement statement = null;\ntry {\n    \n      String request = &quot;select * from Table where a = ?&quot;;\n      //mCxnContainer is connection which is declared at class level\n      statement = mCxnContainer.getStatement(request);\n      if (statement == null) {\n           mCxnContainer = getNewConnection();\n           statement = mCxnContainer.getStatement(request);\n      }\n      statement.setString(1, colId);\n      resultSet = statement.executeQuery();\n      returnEntry = cacheEntry.toEntry(resultSet);\n    } catch (SQLException e) {\n        e.printStacktrace();\n    } finally {\n        try {\n            if (resultSet != null)\n            resultSet.close();\n            if (statement != null)\n            statement.close();\n        } catch (SQLException e) {\n            e.printStacktrace();\n        }\n    }\n    return returnEntry;\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849773,"post_id":77258134,"comment_id":136201251,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6025233,"reputation":427,"user_id":7320994,"display_name":"Mateus Bandeira"},"score":0,"creation_date":1696861141,"post_id":77258134,"comment_id":136203613,"body_markdown":"This question has already been answered here: https://stackoverflow.com/questions/47795169/dataaccessexception-cannot-be-resolved-it-is-indirectly-referenced-from-require","body":"This question has already been answered here: <a href=\"https://stackoverflow.com/questions/47795169/dataaccessexception-cannot-be-resolved-it-is-indirectly-referenced-from-require\" title=\"dataaccessexception cannot be resolved it is indirectly referenced from require\">stackoverflow.com/questions/47795169/&hellip;</a>"}],"owner":{"account_id":11799157,"reputation":1,"user_id":8633244,"display_name":"Mannu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696847931,"creation_date":1696847931,"question_id":77258134,"body_markdown":"The type org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files\tUserAPIController.java\tdemo/web/src/main/java/controller\r\n\r\nhow to resolve this issue? \r\n\r\nI added all Spring jars, but still getting same error \r\n","title":"org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files","body":"<p>The type org.springframework.dao.DataAccessException cannot be resolved. It is indirectly referenced from required .class files UserAPIController.java  demo/web/src/main/java/controller</p>\n<p>how to resolve this issue?</p>\n<p>I added all Spring jars, but still getting same error</p>\n"},{"tags":["java","file","stream","iterator","external"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696848707,"post_id":77257394,"comment_id":136201063,"body_markdown":"what does your `FileSplitter` do? For now it looks like it is completely useless - but maybe it has side-effects that contribute to the problem or the solution?","body":"what does your <code>FileSplitter</code> do? For now it looks like it is completely useless - but maybe it has side-effects that contribute to the problem or the solution?"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696849089,"post_id":77257394,"comment_id":136201131,"body_markdown":"It splits big file into smaller chunks and sort them, it works fine","body":"It splits big file into smaller chunks and sort them, it works fine"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696849898,"post_id":77257394,"comment_id":136201281,"body_markdown":"@cyberbrain I track possible data loss until reaching &#39;map(Stream::iterator).map(IteratorInfo::new)\n                .collect(Collectors.toCollection(TreeSet::new));&#39;\nStream&lt;Integer&gt; contains 64 integers 4 times as expected.","body":"@cyberbrain I track possible data loss until reaching &#39;map(Stream::iterator).map(IteratorInfo::new)                 .collect(Collectors.toCollection(TreeSet::new));&#39; Stream&lt;Integer&gt; contains 64 integers 4 times as expected."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696850181,"post_id":77257394,"comment_id":136201342,"body_markdown":"i tracked that iterator having a value returns false in hasNext() method unexpectedly.","body":"i tracked that iterator having a value returns false in hasNext() method unexpectedly."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696854751,"post_id":77257394,"comment_id":136202248,"body_markdown":"Are you aware that a set has each value only once? So if your input data contains a value multiple times, the map will contain it only once.","body":"Are you aware that a set has each value only once? So if your input data contains a value multiple times, the map will contain it only once."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696860563,"post_id":77257394,"comment_id":136203499,"body_markdown":"@cyberbrain hell no, i changed my number generation, so it generates just in descending order now, and the output file just misses one int. It&#39;s 1020 bytes, or if the input one is 2048, the output is 2044 bytes","body":"@cyberbrain hell no, i changed my number generation, so it generates just in descending order now, and the output file just misses one int. It&#39;s 1020 bytes, or if the input one is 2048, the output is 2044 bytes"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696861568,"post_id":77257394,"comment_id":136203687,"body_markdown":"And does it miss the last value or anything from the beginning or middle?","body":"And does it miss the last value or anything from the beginning or middle?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1696861878,"post_id":77257394,"comment_id":136203773,"body_markdown":"Your real problem could be that in the constructor of `TreeSetMergedIterator.IteratorInfo` you initialize the value `value = iterator.next();`. So the first call to an iterator is not &quot;secured&quot; with `iterator.hasNext()`, and you will &quot;loose&quot; one value in combination of the `TreeSetMergedIterator.IteratorInfo.next()` method and the `iterator.hasNext()`.","body":"Your real problem could be that in the constructor of <code>TreeSetMergedIterator.IteratorInfo</code> you initialize the value <code>value = iterator.next();</code>. So the first call to an iterator is not &quot;secured&quot; with <code>iterator.hasNext()</code>, and you will &quot;loose&quot; one value in combination of the <code>TreeSetMergedIterator.IteratorInfo.next()</code> method and the <code>iterator.hasNext()</code>."},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696864269,"post_id":77257394,"comment_id":136204265,"body_markdown":"@cyberbrain the last one","body":"@cyberbrain the last one"},{"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"score":0,"creation_date":1696927225,"post_id":77257394,"comment_id":136211879,"body_markdown":"how to achieve a stream containing duplicate values?","body":"how to achieve a stream containing duplicate values?"},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1699340685,"post_id":77257394,"comment_id":136516005,"body_markdown":"`while (buffer.remaining() &gt;= 4) {` what about bytes array less than 4? considering line breaks etc","body":"<code>while (buffer.remaining() &gt;= 4) {</code> what about bytes array less than 4? considering line breaks etc"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696847707,"creation_date":1696847707,"answer_id":77258116,"question_id":77257394,"body_markdown":"For now I can only give general advice how to track the bug:\r\n\r\nYou shoudld split File reading, File writing and sorting into three independent parts. If this seems not practical due to large file sizes, you could still have a source that reads the next piece of input on request and a sink that write a piece of output on request. This way you can test the three parts individually.\r\n\r\nAlso you should not use random data for testing, but well defined ones. You can generate the test data files once randomly, but then you should reuse them. This way you can also provide an expected outcome and determine results of a test automatically.\r\n\r\nAnd finally: did you test your code with data that doesn&#39;t have to be sorted at all? So you could find out better, where the error happens. Also I would write test that \r\n\r\n 1. read a known file and compare it to hardcoded expected data\r\n 2. write hardcoded data and compare it to a well known file\r\n 3. read a known file and compare it to a well known expected file\r\n\r\nAll three cases should not involve any sorting (you could implement dummy-sort, that just passes the data through).","title":"External K Way Merge. Iterator with integer streams","body":"<p>For now I can only give general advice how to track the bug:</p>\n<p>You shoudld split File reading, File writing and sorting into three independent parts. If this seems not practical due to large file sizes, you could still have a source that reads the next piece of input on request and a sink that write a piece of output on request. This way you can test the three parts individually.</p>\n<p>Also you should not use random data for testing, but well defined ones. You can generate the test data files once randomly, but then you should reuse them. This way you can also provide an expected outcome and determine results of a test automatically.</p>\n<p>And finally: did you test your code with data that doesn't have to be sorted at all? So you could find out better, where the error happens. Also I would write test that</p>\n<ol>\n<li>read a known file and compare it to hardcoded expected data</li>\n<li>write hardcoded data and compare it to a well known file</li>\n<li>read a known file and compare it to a well known expected file</li>\n</ol>\n<p>All three cases should not involve any sorting (you could implement dummy-sort, that just passes the data through).</p>\n"}],"owner":{"account_id":29629659,"reputation":1,"user_id":22708367,"display_name":"RocketMan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696847707,"creation_date":1696841257,"question_id":77257394,"body_markdown":"Iterator doesnt work as expected.\r\n\r\nThis is k way merging algorithm\r\n\r\nWe have big input file (1024 bytes for test) with random generated integer numbers, and this file is divided in n-smaller chunks, which size is 256 bytes (for test), numbers in chunks is already sorted.\r\n Then each file is transformed into a `Stream&lt;Integer&gt;`, and each stream has own iterator, each iterator has own integer value. `Set&lt;IteratorInfo&gt;` consists of these iterators, has the first element as iterator with the smallest value.\r\n\r\n\r\n``` lang-java\r\nimport java.io.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.StandardOpenOption;\r\nimport java.time.temporal.Temporal;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class MergeFileSorter implements FileSorter {\r\n\r\n    // number of elements\r\n    private int chunkSize;\r\n    private String file;\r\n\r\n    // Number of runs to be merged\r\n    private int numberOfRuns;\r\n\r\n    // FileReader\r\n    private FileSplitter fileSplitter = new FileSplitter();\r\n    private FileReader fileReader;\r\n\r\n    public MergeFileSorter(String file, int runs, int chunkSize) {\r\n        this.file = file;\r\n        this.numberOfRuns = runs;\r\n        this.chunkSize = chunkSize;\r\n    }\r\n\r\n    @Override\r\n    public void sort(String inputPath, String outPath) {\r\n        try {\r\n            fileSplitter.readChunks(inputPath, (int) chunkSize);\r\n            mergeAndSort(inputPath, outPath, chunkSize);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void mergeAndSort(String inputPath, String outPath, int chunkSize) throws IOException {\r\n        Path chunkFolder = fileSplitter.getChunkFolder(inputPath);\r\n\r\n        List&lt;Path&gt; chunks = Files.walk(chunkFolder).filter(path -&gt; !Files.isDirectory(path)).toList();\r\n\r\n        Iterator&lt;Integer&gt; treeSetMergedIterator = new TreeSetMergedIterator(chunks);\r\n\r\n        Path path = Path.of(outPath);\r\n        Files.write(path, new byte[0]);\r\n        int intCount = 0;\r\n\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n\r\n        int index = 0;\r\n        while (treeSetMergedIterator.hasNext()){\r\n           // System.out.println(&quot;Int Count: &quot; + (++intCount));\r\n            Integer value = treeSetMergedIterator.next();\r\n            integers.add(value);\r\n\r\n            if (integers.size() &gt;= chunkSize/Integer.BYTES){\r\n                Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\r\n                integers.clear();\r\n            }\r\n        }\r\n        if (!integers.isEmpty()){\r\n            Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\r\n        }\r\n    }\r\n\r\n    public static List&lt;String&gt; convertIntegersToStrings(List&lt;Integer&gt; integerList) {\r\n        return integerList.stream()\r\n                .map(Object::toString)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    public static List&lt;String&gt; convertIntegersToStrings(int[] integerList) {\r\n        return Arrays.stream(integerList)  // Stream the array\r\n                .mapToObj(Integer::toString)  // Convert each integer to a string\r\n                .collect(Collectors.toList());  //\r\n    }\r\n\r\n    public static byte[] convertIntegersToByteArray(List&lt;Integer&gt; integers) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(integers.size()*Integer.BYTES);\r\n        for (Integer integer : integers) {\r\n            buffer.putInt(integer);\r\n        }\r\n        return buffer.array();\r\n    }\r\n\r\n    public static byte[] convertIntegersToByteArray(int[] integers) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(integers.length * Integer.BYTES);\r\n        for (int integer : integers) {\r\n            buffer.putInt(integer);\r\n        }\r\n        return buffer.array();\r\n    }\r\n}\r\n```\r\n\r\nThis loop adds iterators&#39; values to `Integer` array and writes it to output file with sorted chunks. \r\n\r\nProblem is that output file&#39;s size isn&#39;t the same as size of inputfile, and always varies (400-500 bytes) and if chunk is 4 bytes (smaller) the output file can be up to 1000 bytes.\r\n\r\nWhen i read 32 byte file and smaller (and chunk&#39;s size is 32/16/8/4), everything works fine. Reading files in `treeMergedIterator` seems correct as buffer&#39;s size is always full and matches the size of chunk file.\r\n\r\nBut `treeSetMergedIterator.hasNext()` always unexpectedly returns `false` and algorithm stops working, but there are numbers left.\r\n\r\nAll methods converting bytes to int or int to bytes seem correct.\r\n\r\n\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class TreeSetMergedIterator implements Iterator&lt;Integer&gt; {\r\n\r\n    private final Set&lt;IteratorInfo&gt; iterators;\r\n\r\n    public TreeSetMergedIterator(List&lt;Path&gt; paths) {\r\n        iterators = paths.stream()\r\n                .map(this::streamLines)\r\n                .map(Stream::iterator)\r\n                .map(IteratorInfo::new)\r\n                .collect(Collectors.toCollection(TreeSet::new));\r\n    }\r\n\r\n    private Stream&lt;Integer&gt; streamLines(Path path) {\r\n        try {\r\n            byte[] bytes = Files.readAllBytes(path);\r\n            return bytesToIntList(bytes).stream();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return iterators.stream().anyMatch(iteratorInfo -&gt; {\r\n            if (iteratorInfo.getIterator().hasNext()) {\r\n                return true;\r\n            } else {\r\n                return iteratorInfo.value != null;\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        IteratorInfo info = iterators.iterator().next();\r\n        Integer value = info.value;\r\n        iterators.remove(info);\r\n        if (info.iterator.hasNext()) {\r\n            iterators.add(info.next());\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\r\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n        /* int[] integers = new int[buffer.capacity()/Integer.BYTES];*/\r\n        while (buffer.remaining() &gt;= 4) {\r\n            integers.add(buffer.getInt());\r\n        }\r\n        /* while (buffer.hasRemaining()){\r\n            integers[buffer.position()/Integer.BYTES] = buffer.getInt();\r\n        }*/\r\n        return integers;\r\n    }\r\n\r\n    static class IteratorInfo implements Comparable&lt;IteratorInfo&gt; {\r\n\r\n        private final Iterator&lt;Integer&gt; iterator;\r\n\r\n        private Integer value;\r\n\r\n        public IteratorInfo(Iterator&lt;Integer&gt; iterator) {\r\n            this.iterator = iterator;\r\n            value = iterator.next();\r\n        }\r\n\r\n        public IteratorInfo next() {\r\n            value = iterator.next();\r\n            return this;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(IteratorInfo info) {\r\n            return Integer.compare(value, info.value);\r\n        }\r\n\r\n        public Iterator&lt;Integer&gt; getIterator() {\r\n            return iterator;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI have also implemented easier implementation (`MergedIterator` class) with array of iterators instead of set, but the problem still the same.\r\n\r\n``` lang-java\r\nimport java.io.IOException;\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.stream.Stream;\r\n\r\npublic class MergedIterator implements Iterator&lt;Integer&gt; {\r\n    private final List&lt;Iterator&lt;Integer&gt;&gt; iterators;\r\n\r\n    private final Integer[] currentData;\r\n\r\n    public MergedIterator(List&lt;Path&gt; paths) {\r\n        iterators = paths.stream()\r\n                .map(this::streamLines)\r\n                .map(Stream::iterator)\r\n                .toList();\r\n        currentData = iterators.stream()\r\n                .map(Iterator::next)\r\n                .toArray(Integer[]::new);\r\n    }\r\n\r\n    private Stream&lt;Integer&gt; streamLines(Path path) {\r\n        try {\r\n            byte[] bytes = Files.readAllBytes(path);\r\n            return bytesToIntList(bytes).stream();\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(ex);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean hasNext() {\r\n        return iterators.stream().anyMatch(Iterator::hasNext);\r\n    }\r\n\r\n    @Override\r\n    public Integer next() {\r\n        int minValue = Integer.MAX_VALUE;\r\n        int minIndex = -1;\r\n\r\n        for (int i = 0; i &lt; currentData.length; i++) {\r\n            if (currentData[i] != null &amp;&amp; currentData[i] &lt; minValue) {\r\n                minValue = currentData[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n\r\n        Iterator&lt;Integer&gt; minIterator = iterators.get(minIndex);\r\n        currentData[minIndex] = minIterator.hasNext() ? minIterator.next() : null;\r\n\r\n        return minValue;\r\n    }\r\n\r\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\r\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\r\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n      \r\n        while (buffer.remaining() &gt;= 4) {\r\n            integers.add(buffer.getInt());\r\n        }\r\n        \r\n        return integers;\r\n    }\r\n}\r\n```\r\n\r\nThe JVM memory heap is 100 Mib \r\n\r\nHere is main class: (number of runs don&#39;t take into account)\r\n\r\n``` lang-java\r\nimport java.util.logging.Logger;\r\n\r\npublic class Main {\r\n\r\n    public static final long GENERATED_FILE_SIZE = 1024;\r\n\r\n    public static final int chunkSize = 256;\r\n\r\n    public static void main(String[] args) {\r\n        String filePath = &quot;random_file.dat&quot;;\r\n        String resultPath = &quot;result.dat&quot;;\r\n\r\n        FileGenerator fileGenerator = new FileGenerator();\r\n        fileGenerator.generateRandomFile(filePath, GENERATED_FILE_SIZE, chunkSize);\r\n\r\n        MergeFileSorter fileSorter = new MergeFileSorter(filePath, 2,  chunkSize);\r\n        fileSorter.sort(filePath, resultPath);\r\n    }\r\n}\r\n```","title":"External K Way Merge. Iterator with integer streams","body":"<p>Iterator doesnt work as expected.</p>\n<p>This is k way merging algorithm</p>\n<p>We have big input file (1024 bytes for test) with random generated integer numbers, and this file is divided in n-smaller chunks, which size is 256 bytes (for test), numbers in chunks is already sorted.\nThen each file is transformed into a <code>Stream&lt;Integer&gt;</code>, and each stream has own iterator, each iterator has own integer value. <code>Set&lt;IteratorInfo&gt;</code> consists of these iterators, has the first element as iterator with the smallest value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.StandardOpenOption;\nimport java.time.temporal.Temporal;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class MergeFileSorter implements FileSorter {\n\n    // number of elements\n    private int chunkSize;\n    private String file;\n\n    // Number of runs to be merged\n    private int numberOfRuns;\n\n    // FileReader\n    private FileSplitter fileSplitter = new FileSplitter();\n    private FileReader fileReader;\n\n    public MergeFileSorter(String file, int runs, int chunkSize) {\n        this.file = file;\n        this.numberOfRuns = runs;\n        this.chunkSize = chunkSize;\n    }\n\n    @Override\n    public void sort(String inputPath, String outPath) {\n        try {\n            fileSplitter.readChunks(inputPath, (int) chunkSize);\n            mergeAndSort(inputPath, outPath, chunkSize);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void mergeAndSort(String inputPath, String outPath, int chunkSize) throws IOException {\n        Path chunkFolder = fileSplitter.getChunkFolder(inputPath);\n\n        List&lt;Path&gt; chunks = Files.walk(chunkFolder).filter(path -&gt; !Files.isDirectory(path)).toList();\n\n        Iterator&lt;Integer&gt; treeSetMergedIterator = new TreeSetMergedIterator(chunks);\n\n        Path path = Path.of(outPath);\n        Files.write(path, new byte[0]);\n        int intCount = 0;\n\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n\n        int index = 0;\n        while (treeSetMergedIterator.hasNext()){\n           // System.out.println(&quot;Int Count: &quot; + (++intCount));\n            Integer value = treeSetMergedIterator.next();\n            integers.add(value);\n\n            if (integers.size() &gt;= chunkSize/Integer.BYTES){\n                Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\n                integers.clear();\n            }\n        }\n        if (!integers.isEmpty()){\n            Files.write(path, convertIntegersToByteArray(integers), StandardOpenOption.APPEND);\n        }\n    }\n\n    public static List&lt;String&gt; convertIntegersToStrings(List&lt;Integer&gt; integerList) {\n        return integerList.stream()\n                .map(Object::toString)\n                .collect(Collectors.toList());\n    }\n\n    public static List&lt;String&gt; convertIntegersToStrings(int[] integerList) {\n        return Arrays.stream(integerList)  // Stream the array\n                .mapToObj(Integer::toString)  // Convert each integer to a string\n                .collect(Collectors.toList());  //\n    }\n\n    public static byte[] convertIntegersToByteArray(List&lt;Integer&gt; integers) {\n        ByteBuffer buffer = ByteBuffer.allocate(integers.size()*Integer.BYTES);\n        for (Integer integer : integers) {\n            buffer.putInt(integer);\n        }\n        return buffer.array();\n    }\n\n    public static byte[] convertIntegersToByteArray(int[] integers) {\n        ByteBuffer buffer = ByteBuffer.allocate(integers.length * Integer.BYTES);\n        for (int integer : integers) {\n            buffer.putInt(integer);\n        }\n        return buffer.array();\n    }\n}\n</code></pre>\n<p>This loop adds iterators' values to <code>Integer</code> array and writes it to output file with sorted chunks.</p>\n<p>Problem is that output file's size isn't the same as size of inputfile, and always varies (400-500 bytes) and if chunk is 4 bytes (smaller) the output file can be up to 1000 bytes.</p>\n<p>When i read 32 byte file and smaller (and chunk's size is 32/16/8/4), everything works fine. Reading files in <code>treeMergedIterator</code> seems correct as buffer's size is always full and matches the size of chunk file.</p>\n<p>But <code>treeSetMergedIterator.hasNext()</code> always unexpectedly returns <code>false</code> and algorithm stops working, but there are numbers left.</p>\n<p>All methods converting bytes to int or int to bytes seem correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.*;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class TreeSetMergedIterator implements Iterator&lt;Integer&gt; {\n\n    private final Set&lt;IteratorInfo&gt; iterators;\n\n    public TreeSetMergedIterator(List&lt;Path&gt; paths) {\n        iterators = paths.stream()\n                .map(this::streamLines)\n                .map(Stream::iterator)\n                .map(IteratorInfo::new)\n                .collect(Collectors.toCollection(TreeSet::new));\n    }\n\n    private Stream&lt;Integer&gt; streamLines(Path path) {\n        try {\n            byte[] bytes = Files.readAllBytes(path);\n            return bytesToIntList(bytes).stream();\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        return iterators.stream().anyMatch(iteratorInfo -&gt; {\n            if (iteratorInfo.getIterator().hasNext()) {\n                return true;\n            } else {\n                return iteratorInfo.value != null;\n            }\n        });\n    }\n\n    @Override\n    public Integer next() {\n        IteratorInfo info = iterators.iterator().next();\n        Integer value = info.value;\n        iterators.remove(info);\n        if (info.iterator.hasNext()) {\n            iterators.add(info.next());\n        }\n\n        return value;\n    }\n\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n        /* int[] integers = new int[buffer.capacity()/Integer.BYTES];*/\n        while (buffer.remaining() &gt;= 4) {\n            integers.add(buffer.getInt());\n        }\n        /* while (buffer.hasRemaining()){\n            integers[buffer.position()/Integer.BYTES] = buffer.getInt();\n        }*/\n        return integers;\n    }\n\n    static class IteratorInfo implements Comparable&lt;IteratorInfo&gt; {\n\n        private final Iterator&lt;Integer&gt; iterator;\n\n        private Integer value;\n\n        public IteratorInfo(Iterator&lt;Integer&gt; iterator) {\n            this.iterator = iterator;\n            value = iterator.next();\n        }\n\n        public IteratorInfo next() {\n            value = iterator.next();\n            return this;\n        }\n\n        @Override\n        public int compareTo(IteratorInfo info) {\n            return Integer.compare(value, info.value);\n        }\n\n        public Iterator&lt;Integer&gt; getIterator() {\n            return iterator;\n        }\n    }\n}\n\n</code></pre>\n<p>I have also implemented easier implementation (<code>MergedIterator</code> class) with array of iterators instead of set, but the problem still the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.stream.Stream;\n\npublic class MergedIterator implements Iterator&lt;Integer&gt; {\n    private final List&lt;Iterator&lt;Integer&gt;&gt; iterators;\n\n    private final Integer[] currentData;\n\n    public MergedIterator(List&lt;Path&gt; paths) {\n        iterators = paths.stream()\n                .map(this::streamLines)\n                .map(Stream::iterator)\n                .toList();\n        currentData = iterators.stream()\n                .map(Iterator::next)\n                .toArray(Integer[]::new);\n    }\n\n    private Stream&lt;Integer&gt; streamLines(Path path) {\n        try {\n            byte[] bytes = Files.readAllBytes(path);\n            return bytesToIntList(bytes).stream();\n        } catch (IOException ex) {\n            throw new RuntimeException(ex);\n        }\n    }\n\n    @Override\n    public boolean hasNext() {\n        return iterators.stream().anyMatch(Iterator::hasNext);\n    }\n\n    @Override\n    public Integer next() {\n        int minValue = Integer.MAX_VALUE;\n        int minIndex = -1;\n\n        for (int i = 0; i &lt; currentData.length; i++) {\n            if (currentData[i] != null &amp;&amp; currentData[i] &lt; minValue) {\n                minValue = currentData[i];\n                minIndex = i;\n            }\n        }\n\n        Iterator&lt;Integer&gt; minIterator = iterators.get(minIndex);\n        currentData[minIndex] = minIterator.hasNext() ? minIterator.next() : null;\n\n        return minValue;\n    }\n\n    private List&lt;Integer&gt; bytesToIntList(byte[] bytes) {\n        ByteBuffer buffer = ByteBuffer.wrap(bytes);\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n      \n        while (buffer.remaining() &gt;= 4) {\n            integers.add(buffer.getInt());\n        }\n        \n        return integers;\n    }\n}\n</code></pre>\n<p>The JVM memory heap is 100 Mib</p>\n<p>Here is main class: (number of runs don't take into account)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.logging.Logger;\n\npublic class Main {\n\n    public static final long GENERATED_FILE_SIZE = 1024;\n\n    public static final int chunkSize = 256;\n\n    public static void main(String[] args) {\n        String filePath = &quot;random_file.dat&quot;;\n        String resultPath = &quot;result.dat&quot;;\n\n        FileGenerator fileGenerator = new FileGenerator();\n        fileGenerator.generateRandomFile(filePath, GENERATED_FILE_SIZE, chunkSize);\n\n        MergeFileSorter fileSorter = new MergeFileSorter(filePath, 2,  chunkSize);\n        fileSorter.sort(filePath, resultPath);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614391532,"post_id":66393477,"comment_id":117379310,"body_markdown":"So, there are ways, but I think if-else is &quot;procedural&quot; and reactive is functional. If you&#39;re stuck and cannot include procedural code, then you need to get inventive. Generally I see code that handles an empty flow with a `switchIfEmpty` or `defaultIfEmpty` and the if-else converts to if-not-empty-else-if-empty.","body":"So, there are ways, but I think if-else is &quot;procedural&quot; and reactive is functional. If you&#39;re stuck and cannot include procedural code, then you need to get inventive. Generally I see code that handles an empty flow with a <code>switchIfEmpty</code> or <code>defaultIfEmpty</code> and the if-else converts to if-not-empty-else-if-empty."},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614400964,"post_id":66393477,"comment_id":117380410,"body_markdown":"I need only if. If the client referral is present, save that and proceed with the next one. If not present, exclude that and proceed with the next one.","body":"I need only if. If the client referral is present, save that and proceed with the next one. If not present, exclude that and proceed with the next one."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614442336,"post_id":66393477,"comment_id":117389300,"body_markdown":"Isn&#39;t that a filtering function?","body":"Isn&#39;t that a filtering function?"},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614443686,"post_id":66393477,"comment_id":117389702,"body_markdown":"@K.Nicholas Not sure how can we do filtering here.","body":"@K.Nicholas Not sure how can we do filtering here."},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1614444357,"post_id":66393477,"comment_id":117389891,"body_markdown":"Are you using a reactive repository?","body":"Are you using a reactive repository?"},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614444390,"post_id":66393477,"comment_id":117389904,"body_markdown":"Yes, Spring data r2dbc. Its reactive end to end. public interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;","body":"Yes, Spring data r2dbc. Its reactive end to end. public interface UserRepository extends ReactiveCrudRepository&lt;User, Long&gt;"},{"owner":{"account_id":3656032,"reputation":2735,"user_id":3047038,"display_name":"Michael McFadyen"},"score":1,"creation_date":1614448314,"post_id":66393477,"comment_id":117391086,"body_markdown":"you have a race condition in the `createClientProfile` method. The `ServerResponse` method could be invoked before `createClientWithPhones` has completed as it is executed at assembly time, not as part of the reactive chain. You&#39;ll most likely get IndexOutOfBounds exceptions with this code.","body":"you have a race condition in the <code>createClientProfile</code> method. The <code>ServerResponse</code> method could be invoked before <code>createClientWithPhones</code> has completed as it is executed at assembly time, not as part of the reactive chain. You&#39;ll most likely get IndexOutOfBounds exceptions with this code."},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614448494,"post_id":66393477,"comment_id":117391124,"body_markdown":"Correct. Not sure how to improve with this approach. It works with the first approach and having issues with broken approach.","body":"Correct. Not sure how to improve with this approach. It works with the first approach and having issues with broken approach."}],"answers":[{"comments":[{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1614441420,"post_id":66398011,"comment_id":117389011,"body_markdown":"I have updated my answer based on this. I am still doing something wrong. Is there any better way?","body":"I have updated my answer based on this. I am still doing something wrong. Is there any better way?"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1614422905,"creation_date":1614422905,"answer_id":66398011,"question_id":66393477,"body_markdown":"a plain if-statement can be done for instance in a `flatMap` and then acted upon.\r\n\r\n```\r\npublic Mono&lt;String&gt; foobar() {\r\n    return Mono.just(&quot;foo&quot;).flatMap(value -&gt; {\r\n        if(value != null)\r\n            return Mono.just(&quot;Has value&quot;);\r\n        else\r\n            return Mono.empty();\r\n    }\r\n}\r\n\r\nfoobar()\r\n    .switchIfEmpty(Mono.just(&quot;Is empty&quot;))\r\n    .subscribe(output -&gt; System.out.println(output);\r\n```","title":"How to include if-else statements into reactive flow","body":"<p>a plain if-statement can be done for instance in a <code>flatMap</code> and then acted upon.</p>\n<pre><code>public Mono&lt;String&gt; foobar() {\n    return Mono.just(&quot;foo&quot;).flatMap(value -&gt; {\n        if(value != null)\n            return Mono.just(&quot;Has value&quot;);\n        else\n            return Mono.empty();\n    }\n}\n\nfoobar()\n    .switchIfEmpty(Mono.just(&quot;Is empty&quot;))\n    .subscribe(output -&gt; System.out.println(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1662471734,"creation_date":1614448598,"answer_id":66401790,"question_id":66393477,"body_markdown":"Well, I don&#39;t think there is a good understanding in general of the reactive library. What I mean is that generally people approach like Java 8 streams in that they are trying to do functional programming. Of course the reactive library is based in functional programming, but I think the purpose is to be asynchronous around blocking I/O. Consider the (current) front page of the WebFlux project.\r\n\r\n&gt;What is reactive processing?\r\nReactive processing is a paradigm that enables developers build non-blocking, asynchronous applications that can handle back-pressure (flow control).\r\n\r\nSo, this is a longwinded way of saying I think it is better to focus on where the I/O is happening rather than creating functional code. If you need `if` statements, then you need `if` statements. Instead of trying to figure out how to do `if` statements with functional programming try to figure out where the I/O is taking place and handle it in an asynchronous fashion. One &quot;trick&quot; I like to use is `Mono::zip` or `Flux::zip`. These functions combine many I/O calls into one publisher to be returned to the client. So, consider this example code.\r\n\r\nLet&#39;s make some reactive r2dbc functions:\r\n\r\n\tMono&lt;Client&gt; save(Client client) {\r\n\t\tclient.id = 1L;\r\n\t\tSystem.out.println(&quot;Save client: &quot; + client.id);\r\n\t\treturn Mono.just(client);\r\n\t}\r\n\tMono&lt;Phone&gt; save(Phone phone) {\r\n\t\tSystem.out.println(&quot;Save phone: &quot; + phone.clientId);\r\n\t\treturn Mono.just(phone);\r\n\t}\r\n\tMono&lt;Referral&gt; save(Referral referral) {\r\n\t\tSystem.out.println(&quot;Save referral: &quot; + referral.clientId);\r\n\t\treturn Mono.just(referral);\r\n\t}\r\n\tMono&lt;Contact&gt; save(Contact contact) {\r\n\t\tSystem.out.println(&quot;Save contact: &quot; + contact.clientId);\r\n\t\treturn Mono.just(contact);\r\n\t}\r\n\r\nWe need some example classes to use:\r\n\r\n\tclass DTO {\r\n\t\tClient client;\r\n\t\tList&lt;Phone&gt; phones;\r\n\t\tOptional&lt;Contact&gt; contact;\r\n\t\tOptional&lt;Referral&gt; referral;\r\n\t}\r\n\t\r\n\tclass Client {\r\n\t\tLong id;\r\n\t}\r\n\t\r\n\tclass Contact {\r\n\t\tLong clientId;\r\n\t}\r\n\r\n\tclass Referral {\r\n\t\tLong clientId;\r\n\t}\r\n\r\n\tclass Phone {\r\n\t\tLong clientId;\r\n\t}\r\n\r\nOur input is probably a `Mono&lt;DTO&gt;` since that is what the Request should supply, so our `Service` layer needs to start with that and return a `Mono&lt;Long&gt;` of the client id.\r\n\r\n\tMono&lt;Long&gt; doWork(Mono&lt;DTO&gt; monoDto) {\r\n\t\treturn monoDto.flatMap(dto-&gt;{\r\n\t\t\treturn save(dto.client).flatMap(client-&gt;{\r\n\t\t\t\tList&lt;Mono&lt;?&gt;&gt; publishers = new ArrayList&lt;&gt;();\r\n\t\t\t\tdto.phones.forEach(phone-&gt;{\r\n\t\t\t\t\tphone.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(phone));\t\r\n\t\t\t\t});\r\n\t\t\t\tif ( dto.contact.isPresent()) {\r\n\t\t\t\t\tContact c = dto.contact.get();\r\n\t\t\t\t\tc.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(c));\r\n\t\t\t\t}\r\n\t\t\t\tif ( dto.referral.isPresent()) {\r\n\t\t\t\t\tReferral r = dto.referral.get();\r\n\t\t\t\t\tr.clientId = client.id;\r\n\t\t\t\t\tpublishers.add(save(r));\r\n\t\t\t\t}\r\n\t\t\t\tif ( publishers.size() &gt; 0 )\r\n\t\t\t\t\treturn Mono.zip(publishers, obs-&gt;client.id);\r\n\t\t\t\telse\r\n\t\t\t\t\treturn Mono.just(client.id);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\nI ran this with the following example code:\r\n\r\n\t@Override\r\n\tpublic void run(ApplicationArguments args) throws Exception {\r\n\t\tsaveClient(new Client(), null, null, null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), null, null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), new Contact(), null).subscribe(System.out::println);\r\n\t\tsaveClient(new Client(), new Phone(), new Contact(), new Referral()).subscribe(System.out::println);\r\n\t}\r\n\t\r\n\t\r\n\tprivate Mono&lt;Long&gt; saveClient(Client client, Phone phone, Contact contact,\r\n\t\t\tReferral referral) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tDTO dto = new DTO();\r\n\t\tdto.client = client;\r\n\t\tdto.phones = new ArrayList&lt;&gt;();\r\n\t\tif ( phone != null ) dto.phones.add(phone); \t\r\n\t\tdto.contact = Optional.ofNullable(contact);\r\n\t\tdto.referral = Optional.ofNullable(referral);\r\n\t\treturn doWork(Mono.just(dto));\r\n\t}\r\n\r\nSo, this uses the `Mono.zip` trick. The saved client is flatmapped so that is done first. Then a list of monos is created for all subsequent saves that need to be done. These monos are all executed asynchronously by the Mono.zip function. The &quot;combiner&quot; function does nothing with the results, it just returns the clientId which is what is wanted for the client. The Mono.zip combines all the Monos into a single Mono to return to the client. In a sense this is just taking procedural code and wrapping it in the reactive library rather than getting overly focused on functional programming. This is easy to read and modify if the business &quot;process&quot; changes going forward.\r\n\r\nThis is a starting point if you like it. I didn&#39;t use `Repository::saveAll` so that could be an improvement. \r\n\r\nIt&#39;s important to be sure all your `Flux` and `Mono` publishers are chained together. In your final example you seemed to be dropping them. Simply creating them is not enough, they all have to be returned to the client somehow. Also, your code has a `subscribe` call which is a no-no. Only the client should have subscribe. I think you should have used a `map` there.\r\n\r\nEDIT: Fixed a bug. Check your code carefully.\r\n\r\nEDIT II: I noticed that I used an &quot;Optional&quot; as a parameter in the class. This is an anti-pattern. The correct way is to use the type as the parameter and wrap it in an &quot;Optional.of&quot; in a special getter.","title":"How to include if-else statements into reactive flow","body":"<p>Well, I don't think there is a good understanding in general of the reactive library. What I mean is that generally people approach like Java 8 streams in that they are trying to do functional programming. Of course the reactive library is based in functional programming, but I think the purpose is to be asynchronous around blocking I/O. Consider the (current) front page of the WebFlux project.</p>\n<blockquote>\n<p>What is reactive processing?\nReactive processing is a paradigm that enables developers build non-blocking, asynchronous applications that can handle back-pressure (flow control).</p>\n</blockquote>\n<p>So, this is a longwinded way of saying I think it is better to focus on where the I/O is happening rather than creating functional code. If you need <code>if</code> statements, then you need <code>if</code> statements. Instead of trying to figure out how to do <code>if</code> statements with functional programming try to figure out where the I/O is taking place and handle it in an asynchronous fashion. One &quot;trick&quot; I like to use is <code>Mono::zip</code> or <code>Flux::zip</code>. These functions combine many I/O calls into one publisher to be returned to the client. So, consider this example code.</p>\n<p>Let's make some reactive r2dbc functions:</p>\n<pre><code>Mono&lt;Client&gt; save(Client client) {\n    client.id = 1L;\n    System.out.println(&quot;Save client: &quot; + client.id);\n    return Mono.just(client);\n}\nMono&lt;Phone&gt; save(Phone phone) {\n    System.out.println(&quot;Save phone: &quot; + phone.clientId);\n    return Mono.just(phone);\n}\nMono&lt;Referral&gt; save(Referral referral) {\n    System.out.println(&quot;Save referral: &quot; + referral.clientId);\n    return Mono.just(referral);\n}\nMono&lt;Contact&gt; save(Contact contact) {\n    System.out.println(&quot;Save contact: &quot; + contact.clientId);\n    return Mono.just(contact);\n}\n</code></pre>\n<p>We need some example classes to use:</p>\n<pre><code>class DTO {\n    Client client;\n    List&lt;Phone&gt; phones;\n    Optional&lt;Contact&gt; contact;\n    Optional&lt;Referral&gt; referral;\n}\n\nclass Client {\n    Long id;\n}\n\nclass Contact {\n    Long clientId;\n}\n\nclass Referral {\n    Long clientId;\n}\n\nclass Phone {\n    Long clientId;\n}\n</code></pre>\n<p>Our input is probably a <code>Mono&lt;DTO&gt;</code> since that is what the Request should supply, so our <code>Service</code> layer needs to start with that and return a <code>Mono&lt;Long&gt;</code> of the client id.</p>\n<pre><code>Mono&lt;Long&gt; doWork(Mono&lt;DTO&gt; monoDto) {\n    return monoDto.flatMap(dto-&gt;{\n        return save(dto.client).flatMap(client-&gt;{\n            List&lt;Mono&lt;?&gt;&gt; publishers = new ArrayList&lt;&gt;();\n            dto.phones.forEach(phone-&gt;{\n                phone.clientId = client.id;\n                publishers.add(save(phone));    \n            });\n            if ( dto.contact.isPresent()) {\n                Contact c = dto.contact.get();\n                c.clientId = client.id;\n                publishers.add(save(c));\n            }\n            if ( dto.referral.isPresent()) {\n                Referral r = dto.referral.get();\n                r.clientId = client.id;\n                publishers.add(save(r));\n            }\n            if ( publishers.size() &gt; 0 )\n                return Mono.zip(publishers, obs-&gt;client.id);\n            else\n                return Mono.just(client.id);\n        });\n    });\n}\n</code></pre>\n<p>I ran this with the following example code:</p>\n<pre><code>@Override\npublic void run(ApplicationArguments args) throws Exception {\n    saveClient(new Client(), null, null, null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), null, null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), new Contact(), null).subscribe(System.out::println);\n    saveClient(new Client(), new Phone(), new Contact(), new Referral()).subscribe(System.out::println);\n}\n\n\nprivate Mono&lt;Long&gt; saveClient(Client client, Phone phone, Contact contact,\n        Referral referral) {\n    // TODO Auto-generated method stub\n    DTO dto = new DTO();\n    dto.client = client;\n    dto.phones = new ArrayList&lt;&gt;();\n    if ( phone != null ) dto.phones.add(phone);     \n    dto.contact = Optional.ofNullable(contact);\n    dto.referral = Optional.ofNullable(referral);\n    return doWork(Mono.just(dto));\n}\n</code></pre>\n<p>So, this uses the <code>Mono.zip</code> trick. The saved client is flatmapped so that is done first. Then a list of monos is created for all subsequent saves that need to be done. These monos are all executed asynchronously by the Mono.zip function. The &quot;combiner&quot; function does nothing with the results, it just returns the clientId which is what is wanted for the client. The Mono.zip combines all the Monos into a single Mono to return to the client. In a sense this is just taking procedural code and wrapping it in the reactive library rather than getting overly focused on functional programming. This is easy to read and modify if the business &quot;process&quot; changes going forward.</p>\n<p>This is a starting point if you like it. I didn't use <code>Repository::saveAll</code> so that could be an improvement.</p>\n<p>It's important to be sure all your <code>Flux</code> and <code>Mono</code> publishers are chained together. In your final example you seemed to be dropping them. Simply creating them is not enough, they all have to be returned to the client somehow. Also, your code has a <code>subscribe</code> call which is a no-no. Only the client should have subscribe. I think you should have used a <code>map</code> there.</p>\n<p>EDIT: Fixed a bug. Check your code carefully.</p>\n<p>EDIT II: I noticed that I used an &quot;Optional&quot; as a parameter in the class. This is an anti-pattern. The correct way is to use the type as the parameter and wrap it in an &quot;Optional.of&quot; in a special getter.</p>\n"},{"tags":[],"owner":{"account_id":13858370,"reputation":508,"user_id":10004621,"display_name":"A Redfearn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696847384,"creation_date":1696589514,"answer_id":77243860,"question_id":66393477,"body_markdown":"You can use a combination of `filter` and `switchIfEmpty`. I think it&#39;s a quite concise and readable approach.\r\n\r\n    public void write(String content) {\r\n      Mono.just(content)\r\n        .filter(s -&gt; !s.isBlank())\r\n        .switchIfEmpty(Mono.just(&quot;No content&quot;))\r\n        .subscribe(System.out::println);\r\n    }\r\n\r\n`filter` takes a predicate to test the supplied value. If the predicate evaluates to false then it will complete without a value and `switchIfEmpty` will be called.","title":"How to include if-else statements into reactive flow","body":"<p>You can use a combination of <code>filter</code> and <code>switchIfEmpty</code>. I think it's a quite concise and readable approach.</p>\n<pre><code>public void write(String content) {\n  Mono.just(content)\n    .filter(s -&gt; !s.isBlank())\n    .switchIfEmpty(Mono.just(&quot;No content&quot;))\n    .subscribe(System.out::println);\n}\n</code></pre>\n<p><code>filter</code> takes a predicate to test the supplied value. If the predicate evaluates to false then it will complete without a value and <code>switchIfEmpty</code> will be called.</p>\n"}],"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28131,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":66401790,"answer_count":3,"score":14,"last_activity_date":1696847384,"creation_date":1614377983,"question_id":66393477,"body_markdown":"I have a Spring Webflux reactive service which receives a DTO and inserts it into multiple table.\r\nSometimes we may need to skip inserting into some tables based on the incoming DTO.\r\n\r\nThese are the requirements:\r\n\r\n1. Create a new Client\r\n2. Create a new Client referral if the client referral is present in the DTO.\r\n3. Create a client Secondary contact if present in the DTO\r\n4. Create client phones if present in the DTO\r\n\r\n**Questions:-**\r\n\r\n1. Not sure how to apply the if condition in the reactive flow.\r\n2. Is there any better way of doing this?\r\n3. Here, except the first one all other operation can run in parallel.\r\n\r\n\r\n```\r\npublic Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\r\n\t\treturn secContext.retrieveUser().flatMap(usr -&gt; {\r\n\t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n\t\t\t\treturn toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\r\n\t\t\t\t\treturn toNewClientReferral(clientRes.getClientId(), client.getDiscount(), usr)\r\n\t\t\t\t\t\t\t.flatMap(clientReferralRepository::save).flatMap(clientReferralRes -&gt; {\r\n\t\t\t\t\t\t\t\treturn toNewClientSyContact(clientRes.getClientId(), client.getSecondary(), usr)\r\n\t\t\t\t\t\t\t\t\t\t.flatMap(clientSyContactRepository::save).flatMap(clientSyContactRes -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\treturn clientPhoneRepository\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t.collectList().flatMap(phoneRes -&gt; {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn ServerResponse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.created(URI.create(String.format(CLIENT_URI_FORMAT,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclientRes.getClientId())))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.contentType(APPLICATION_JSON).build();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t}\r\n\r\nprivate Mono&lt;Referral&gt; toNewClientReferral(final long clientId, final Discount dto) {\r\n\t\tReferral referral = Referral.of(clientId, \r\n\t\t\t\tdto.getName(), dto.getType(), dto.getAmount(), dto.getStatus());\r\n\r\n\t\treturn Mono.just(referral);\r\n\t}\r\n```\r\n\r\n&gt; client.getDiscount() can be null,  \r\n&gt; client.getSecondary() can be null, \r\n&gt; client.getPhones() can be empty.\r\n\r\n\r\nI separated the flow with 3 different methods.\r\n\r\n    public void createSyContact(ServerRequest request, long clientId) {\r\n    \t\tsecContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\tif (client.getSecondary() != null) {\r\n    \t\t\t\t\treturn toNewClientSyContact(clientId, client.getSecondary(), usr)\r\n    \t\t\t\t\t\t\t.flatMap(clientSyContactRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn Mono.empty();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic void createReferral(ServerRequest request, long clientId) {\r\n    \t\tsecContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\tif (client.getDiscount() != null) {\r\n    \t\t\t\t\treturn toNewClientReferral(clientId, client.getDiscount(), usr)\r\n    \t\t\t\t\t\t\t.flatMap(clientReferralRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\treturn Mono.empty();\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic Mono&lt;Long&gt; createClientWithPhones(ServerRequest request) {\r\n    \t\treturn secContext.retrieveUser().flatMap(usr -&gt; {\r\n    \t\t\treturn request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\r\n    \t\t\t\treturn toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\r\n    \t\t\t\t\treturn clientPhoneRepository\r\n    \t\t\t\t\t\t\t.saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr)).collectList()\r\n    \t\t\t\t\t\t\t.flatMap(phoneRes -&gt; {\r\n    \t\t\t\t\t\t\t\treturn Mono.just(clientRes.getClientId());\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t});\r\n    \t\t\t});\r\n    \t\t});\r\n    \t}\r\n\r\n\r\n\r\nHere, createClientWithPhones is mandatory, so no if check there. But the other 2 methods createReferral &amp; createSyContact have if checks. Need to execute createClientWithPhones first and it will return clientId. This clientId should be used in createReferral &amp; createSyContact. \r\n\r\n    public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\r\n    \t\tfinal List&lt;Long&gt; clinetIdList = new ArrayList&lt;&gt;();\r\n    \t\tcreateClientWithPhones(request).subscribe(result -&gt; {\r\n    \t\t\tclinetIdList.add(result.longValue());\r\n    \t\t\tcreateSyContact(request, result.longValue());\r\n    \t\t\tcreateReferral(request, result.longValue());\r\n    \t\t});\r\n    \t\treturn ServerResponse\r\n    \t\t\t\t.created(URI.create(String.format(CLIENT_URI_FORMAT,\r\n    \t\t\t\t\t\tclinetIdList.get(0))))\r\n    \t\t\t\t.contentType(APPLICATION_JSON).build();\r\n    \t\t\r\n    \t}\r\n\r\n\r\nIs this the way to handle this?","title":"How to include if-else statements into reactive flow","body":"<p>I have a Spring Webflux reactive service which receives a DTO and inserts it into multiple table.\nSometimes we may need to skip inserting into some tables based on the incoming DTO.</p>\n<p>These are the requirements:</p>\n<ol>\n<li>Create a new Client</li>\n<li>Create a new Client referral if the client referral is present in the DTO.</li>\n<li>Create a client Secondary contact if present in the DTO</li>\n<li>Create client phones if present in the DTO</li>\n</ol>\n<p><strong>Questions:-</strong></p>\n<ol>\n<li>Not sure how to apply the if condition in the reactive flow.</li>\n<li>Is there any better way of doing this?</li>\n<li>Here, except the first one all other operation can run in parallel.</li>\n</ol>\n<pre><code>public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\n        return secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                return toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\n                    return toNewClientReferral(clientRes.getClientId(), client.getDiscount(), usr)\n                            .flatMap(clientReferralRepository::save).flatMap(clientReferralRes -&gt; {\n                                return toNewClientSyContact(clientRes.getClientId(), client.getSecondary(), usr)\n                                        .flatMap(clientSyContactRepository::save).flatMap(clientSyContactRes -&gt; {\n                                            return clientPhoneRepository\n                                                    .saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr))\n                                                    .collectList().flatMap(phoneRes -&gt; {\n                                                        return ServerResponse\n                                                                .created(URI.create(String.format(CLIENT_URI_FORMAT,\n                                                                        clientRes.getClientId())))\n                                                                .contentType(APPLICATION_JSON).build();\n                                                    });\n                                        });\n                            });\n                });\n            });\n        });\n\n    }\n\nprivate Mono&lt;Referral&gt; toNewClientReferral(final long clientId, final Discount dto) {\n        Referral referral = Referral.of(clientId, \n                dto.getName(), dto.getType(), dto.getAmount(), dto.getStatus());\n\n        return Mono.just(referral);\n    }\n</code></pre>\n<blockquote>\n<p>client.getDiscount() can be null,<br />\nclient.getSecondary() can be null,\nclient.getPhones() can be empty.</p>\n</blockquote>\n<p>I separated the flow with 3 different methods.</p>\n<pre><code>public void createSyContact(ServerRequest request, long clientId) {\n        secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                if (client.getSecondary() != null) {\n                    return toNewClientSyContact(clientId, client.getSecondary(), usr)\n                            .flatMap(clientSyContactRepository::save).flatMap(clientRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                } else {\n                    return Mono.empty();\n                }\n            });\n        });\n    }\n\n    public void createReferral(ServerRequest request, long clientId) {\n        secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                if (client.getDiscount() != null) {\n                    return toNewClientReferral(clientId, client.getDiscount(), usr)\n                            .flatMap(clientReferralRepository::save).flatMap(clientRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                } else {\n                    return Mono.empty();\n                }\n            });\n        });\n    }\n\n    public Mono&lt;Long&gt; createClientWithPhones(ServerRequest request) {\n        return secContext.retrieveUser().flatMap(usr -&gt; {\n            return request.bodyToMono(ClientDto.class).flatMap(client -&gt; {\n                return toNewClient(client, usr).flatMap(clientRepository::save).flatMap(clientRes -&gt; {\n                    return clientPhoneRepository\n                            .saveAll(toNewClientPhone(clientRes.getClientId(), client.getPhones(), usr)).collectList()\n                            .flatMap(phoneRes -&gt; {\n                                return Mono.just(clientRes.getClientId());\n                            });\n                });\n            });\n        });\n    }\n</code></pre>\n<p>Here, createClientWithPhones is mandatory, so no if check there. But the other 2 methods createReferral &amp; createSyContact have if checks. Need to execute createClientWithPhones first and it will return clientId. This clientId should be used in createReferral &amp; createSyContact.</p>\n<pre><code>public Mono&lt;ServerResponse&gt; createClientProfile(ServerRequest request) {\n        final List&lt;Long&gt; clinetIdList = new ArrayList&lt;&gt;();\n        createClientWithPhones(request).subscribe(result -&gt; {\n            clinetIdList.add(result.longValue());\n            createSyContact(request, result.longValue());\n            createReferral(request, result.longValue());\n        });\n        return ServerResponse\n                .created(URI.create(String.format(CLIENT_URI_FORMAT,\n                        clinetIdList.get(0))))\n                .contentType(APPLICATION_JSON).build();\n        \n    }\n</code></pre>\n<p>Is this the way to handle this?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","querydsl"],"comments":[{"owner":{"account_id":11491931,"reputation":129,"user_id":8422596,"display_name":"Archit Sud"},"score":0,"creation_date":1537173591,"post_id":52344964,"comment_id":91671694,"body_markdown":"Can you please share the code of spring starter class, where you have enabled configurations of your project.","body":"Can you please share the code of spring starter class, where you have enabled configurations of your project."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537191133,"post_id":52344964,"comment_id":91682216,"body_markdown":"Hello Archit, I just update the question. Please help me!","body":"Hello Archit, I just update the question. Please help me!"},{"owner":{"account_id":3788413,"reputation":323,"user_id":3145627,"accept_rate":50,"display_name":"lethanh"},"score":0,"creation_date":1537199404,"post_id":52344964,"comment_id":91687616,"body_markdown":"What is QHotel class?","body":"What is QHotel class?"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537199974,"post_id":52344964,"comment_id":91687933,"body_markdown":"Mongo Query DSL works like this: exchange your entities and each time it finds classes with that MongoDB annotation it generates other classes for queries, for example in this case we have Hotel which is annotated with @Document so it’s a MongoDB annotation and for this entity it will create a QHotel class to stands for query so for the Hotel class you could automatically generate a query Hotel class and then we can use those auto-generated classes to perform typed queries.","body":"Mongo Query DSL works like this: exchange your entities and each time it finds classes with that MongoDB annotation it generates other classes for queries, for example in this case we have Hotel which is annotated with @Document so it’s a MongoDB annotation and for this entity it will create a QHotel class to stands for query so for the Hotel class you could automatically generate a query Hotel class and then we can use those auto-generated classes to perform typed queries."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537200484,"post_id":52344964,"comment_id":91688219,"body_markdown":"Are you sure your QHotel class is generated ?   What is the dsl query that you are making ?","body":"Are you sure your QHotel class is generated ?   What is the dsl query that you are making ?"},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537209595,"post_id":52344964,"comment_id":91692552,"body_markdown":"Hi Veeram, Yes the QHotel is generated, I just put a photo. I want to use dsl query because I want to filter by multiple criteria, I want to find all the hotels that have a price per night less than a given value but have at least one review with a rating grater than 8.","body":"Hi Veeram, Yes the QHotel is generated, I just put a photo. I want to use dsl query because I want to filter by multiple criteria, I want to find all the hotels that have a price per night less than a given value but have at least one review with a rating grater than 8."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537211892,"post_id":52344964,"comment_id":91693520,"body_markdown":"It appears from your screenshot `QHotel` is not at the same package hierarchy as `Hotel`. Spring is looking for com.dgs.springbootmongodb.models.QHotel whereas your QHotel is inside com.dgs.springbootmongodb.QHotel.","body":"It appears from your screenshot <code>QHotel</code> is not at the same package hierarchy as <code>Hotel</code>. Spring is looking for com.dgs.springbootmongodb.models.QHotel whereas your QHotel is inside com.dgs.springbootmongodb.QHotel."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537254377,"post_id":52344964,"comment_id":91705801,"body_markdown":"@Veeram, and how can I change that?","body":"@Veeram, and how can I change that?"},{"owner":{"account_id":8967536,"reputation":582,"user_id":6687477,"display_name":"6harat"},"score":0,"creation_date":1537277893,"post_id":52344964,"comment_id":91720379,"body_markdown":"@elvis, the package name seems not to be an issue as it is correctly located as per the error log and screen shot. One small thing that you can try is to add the generated-sources to your classpath in Intellij. (I believe IntelliJ might not be able to find the class event though it is generated because it is not added to the classpath.) You can look here for the help how to add it: https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea","body":"@elvis, the package name seems not to be an issue as it is correctly located as per the error log and screen shot. One small thing that you can try is to add the generated-sources to your classpath in Intellij. (I believe IntelliJ might not be able to find the class event though it is generated because it is not added to the classpath.) You can look here for the help how to add it: <a href=\"https://stackoverflow.com/questions/854264/how-to-add-directory-to-classpath-in-an-application-run-profile-in-intellij-idea\" title=\"how to add directory to classpath in an application run profile in intellij idea\">stackoverflow.com/questions/854264/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14236994,"reputation":234,"user_id":10284534,"display_name":"Eneias Silva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537027355,"creation_date":1537027355,"answer_id":52346420,"question_id":52344964,"body_markdown":"I managed to make your code work by doing the following:\r\n\r\nChange the `outputDirectory` to `&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;`\r\n\r\nInclude `@Autowired` in `HotelController`\r\n\r\n    @Autowired\r\n    private HotelRepository hotelRepository;\r\n\r\n","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>I managed to make your code work by doing the following:</p>\n\n<p>Change the <code>outputDirectory</code> to <code>&lt;outputDirectory&gt;target/generated-sources&lt;/outputDirectory&gt;</code></p>\n\n<p>Include <code>@Autowired</code> in <code>HotelController</code></p>\n\n<pre><code>@Autowired\nprivate HotelRepository hotelRepository;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537804650,"post_id":52458405,"comment_id":91907666,"body_markdown":"did you have any success ? I cloned the github project linked in video and followed the above steps and successfully executed the test. Let me know if you have any questions.","body":"did you have any success ? I cloned the github project linked in video and followed the above steps and successfully executed the test. Let me know if you have any questions."},{"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1537868104,"post_id":52458405,"comment_id":91930369,"body_markdown":"The github project linked in video is using Spring Boot version 1.4.2 and I&#39;m using version 2.0.5. I changed the version from 2.0.5 to 1.4.2 and the app works successfully. I think it is a version mismatch that makes this problem. Thank you for your help.","body":"The github project linked in video is using Spring Boot version 1.4.2 and I&#39;m using version 2.0.5. I changed the version from 2.0.5 to 1.4.2 and the app works successfully. I think it is a version mismatch that makes this problem. Thank you for your help."},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1537873528,"post_id":52458405,"comment_id":91933676,"body_markdown":"Yw.I have only tried with latest spring boot version.1.4.2 version is couple of years old so you should upgrade to latest spring boot version.","body":"Yw.I have only tried with latest spring boot version.1.4.2 version is couple of years old so you should upgrade to latest spring boot version."}],"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1537632184,"creation_date":1537632184,"answer_id":52458405,"question_id":52344964,"body_markdown":"Remove the target folder and start over. \n\napt-maven-plugin generates, compiles source and adds to classpath. Adjust the plugin&#39;s output directory  to &lt;outputDirectory&gt;target/generated-sources/apt&lt;/outputDirecto‌​ry&gt;. \n\nRun the maven package phase and verify  Q class files are inside models packages in targets/classes location and Q source files are inside models package in target/generated-sources/apt. \n\n","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>Remove the target folder and start over. </p>\n\n<p>apt-maven-plugin generates, compiles source and adds to classpath. Adjust the plugin's output directory  to target/generated-sources/apt. </p>\n\n<p>Run the maven package phase and verify  Q class files are inside models packages in targets/classes location and Q source files are inside models package in target/generated-sources/apt. </p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10439,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":52458405,"answer_count":2,"score":6,"last_activity_date":1696847336,"creation_date":1537016620,"question_id":52344964,"body_markdown":"I try to use Query DSL with MongoDB in Spring Boot and I get an error. The app is working successfully without using the library for Query DSL for MongoDB. And I want to use this library because I want to use more complex queries. The code should work, I think there is a little mistake somewhere.\r\n\r\nThe problem is when I click Maven package I get these errors, unfortunatelly I can&#39;t post all the output here:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    \r\n    [ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.26 s &lt;&lt;&lt; FAILURE! - in com.dgs.springbootmongodb.SpringbootMongodbApplicationTests\r\n    [ERROR] contextLoads(com.dgs.springbootmongodb.SpringbootMongodbApplicationTests)  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hotelController&#39; defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hotelRepository&#39;: Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\r\n    Caused by: java.lang.ClassNotFoundException: com.dgs.springbootmongodb.models.QHotel\r\n    \r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project springboot-mongodb: There are test failures.\r\n\r\nIt is a hotel booking app and this is the code:\r\n\r\nThe Hotel model:\r\n\r\n    package com.dgs.springbootmongodb.models;\r\n    \r\n    import org.springframework.data.annotation.Id;\r\n    import org.springframework.data.mongodb.core.index.IndexDirection;\r\n    import org.springframework.data.mongodb.core.index.Indexed;\r\n    import org.springframework.data.mongodb.core.mapping.Document;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    // The Hotel is the aggregate root so this is the entity on which we will apply our annotations\r\n    \r\n        @Document(collection = &quot;Hotels&quot;)\r\n        public class Hotel {\r\n        \r\n            @Id\r\n            private String id;\r\n            private String name;\r\n        \r\n            @Indexed(direction = IndexDirection.ASCENDING)\r\n            private int pricePerNight;\r\n            private Address address;\r\n            private List&lt;Review&gt; reviews;\r\n        \r\n            protected Hotel() {\r\n                this.reviews = new ArrayList&lt;&gt;();\r\n            }\r\n        \r\n            public Hotel(String name, int pricePerNight, Address address, List&lt;Review&gt; reviews) {\r\n                this.name = name;\r\n                this.pricePerNight = pricePerNight;\r\n                this.address = address;\r\n                this.reviews = reviews;\r\n            }\r\n        \r\n            public String getId() {\r\n                return id;\r\n            }\r\n        \r\n            public String getName() {\r\n                return name;\r\n            }\r\n        \r\n            public int getPricePerNight() {\r\n                return pricePerNight;\r\n            }\r\n        \r\n            public Address getAddress() {\r\n                return address;\r\n            }\r\n        \r\n            public List&lt;Review&gt; getReviews() {\r\n                return reviews;\r\n            }\r\n        }\r\n\r\nThe HotelRepository interface:\r\n\r\n    package com.dgs.springbootmongodb.dao;\r\n    \r\n    import com.dgs.springbootmongodb.models.Hotel;\r\n    import org.springframework.data.mongodb.repository.MongoRepository;\r\n    import org.springframework.data.mongodb.repository.Query;\r\n    import org.springframework.data.querydsl.QuerydslPredicateExecutor;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface HotelRepository extends MongoRepository&lt;Hotel, String&gt;, QuerydslPredicateExecutor&lt;Hotel&gt; {\r\n    \r\n        // findBy + PricePerNight (property name) + LessThan (filter)\r\n    \r\n        List&lt;Hotel&gt; findByPricePerNightLessThan(int maxPrice);\r\n    \r\n        @Query(value = &quot;{address.city:?0}&quot;)\r\n        List&lt;Hotel&gt; findByCity(String city);\r\n    }\r\n\r\nThe HotelController:\r\n\r\n    package com.dgs.springbootmongodb.controller;\r\n    \r\n    import com.dgs.springbootmongodb.dao.HotelRepository;\r\n    import com.dgs.springbootmongodb.models.Hotel;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/hotels&quot;)\r\n    public class HotelController {\r\n    \r\n        private HotelRepository hotelRepository;\r\n    \r\n        public HotelController(HotelRepository hotelRepository) {\r\n            this.hotelRepository = hotelRepository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public List&lt;Hotel&gt; getAllHotels() {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findAll();\r\n    \r\n            return hotels;\r\n        }\r\n    \r\n        @GetMapping(&quot;/{id}&quot;)\r\n        public Optional&lt;Hotel&gt; getOneHotel(@PathVariable String id) {\r\n    \r\n            return hotelRepository.findById(id);\r\n        }\r\n    \r\n        @PostMapping\r\n        public Hotel create(@RequestBody Hotel hotel) {\r\n    \r\n            return hotelRepository.save(hotel);\r\n        }\r\n    \r\n        @PutMapping\r\n        public Hotel update(@RequestBody Hotel hotel) {\r\n    \r\n            return hotelRepository.save(hotel);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public List&lt;Hotel&gt; delete(@PathVariable String id) {\r\n    \r\n            hotelRepository.deleteById(id);\r\n    \r\n            return hotelRepository.findAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/price/{maxPrice}&quot;)\r\n        public List&lt;Hotel&gt; getByPricePerNight(@PathVariable int maxPrice) {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findByPricePerNightLessThan(maxPrice);\r\n    \r\n            return hotels;\r\n        }\r\n    \r\n        @GetMapping(&quot;address/{city}&quot;)\r\n        public List&lt;Hotel&gt; getByCity(@PathVariable String city) {\r\n    \r\n            List&lt;Hotel&gt; hotels = hotelRepository.findByCity(city);\r\n    \r\n            return hotels;\r\n        }\r\n    }\r\n\r\nThis is the pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.dgs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springboot-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;springboot-mongodb&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot with Mongo DB&lt;/description&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Add support for Mongo Query DSL --&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.3&lt;/version&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Add plugin for Mongo Query DSL --&gt;\r\n    \r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.1.3&lt;/version&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                            &lt;version&gt;4.1.3&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;process&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\r\n                                &lt;processor&gt;\r\n                                    org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor\r\n                                &lt;/processor&gt;\r\n                                &lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n------------------------------\r\n\r\nUpdate \r\n\r\nThis is the starter class:\r\n\r\n    @SpringBootApplication\r\n    public class SpringbootMongodbApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(SpringbootMongodbApplication.class, args);\r\n        }\r\n    }\r\n\r\nThis is the structure of the app:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YcdtL.jpg\r\n  [2]: https://i.stack.imgur.com/BkOfH.jpg","title":"How to use Query DSL with MongoDB in Spring Boot","body":"<p>I try to use Query DSL with MongoDB in Spring Boot and I get an error. The app is working successfully without using the library for Query DSL for MongoDB. And I want to use this library because I want to use more complex queries. The code should work, I think there is a little mistake somewhere.</p>\n\n<p>The problem is when I click Maven package I get these errors, unfortunatelly I can't post all the output here:</p>\n\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\n\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.26 s &lt;&lt;&lt; FAILURE! - in com.dgs.springbootmongodb.SpringbootMongodbApplicationTests\n[ERROR] contextLoads(com.dgs.springbootmongodb.SpringbootMongodbApplicationTests)  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hotelController' defined in file [C:\\Users\\dgs\\IdeaProjects\\springboot-mongodb\\target\\classes\\com\\dgs\\springbootmongodb\\controller\\HotelController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hotelRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.mongodb.repository.support.QuerydslMongoPredicateExecutor]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: java.lang.IllegalArgumentException: Did not find a query class com.dgs.springbootmongodb.models.QHotel for domain class com.dgs.springbootmongodb.models.Hotel!\nCaused by: java.lang.ClassNotFoundException: com.dgs.springbootmongodb.models.QHotel\n\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project springboot-mongodb: There are test failures.\n</code></pre>\n\n<p>It is a hotel booking app and this is the code:</p>\n\n<p>The Hotel model:</p>\n\n<pre><code>package com.dgs.springbootmongodb.models;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.index.IndexDirection;\nimport org.springframework.data.mongodb.core.index.Indexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n// The Hotel is the aggregate root so this is the entity on which we will apply our annotations\n\n    @Document(collection = \"Hotels\")\n    public class Hotel {\n\n        @Id\n        private String id;\n        private String name;\n\n        @Indexed(direction = IndexDirection.ASCENDING)\n        private int pricePerNight;\n        private Address address;\n        private List&lt;Review&gt; reviews;\n\n        protected Hotel() {\n            this.reviews = new ArrayList&lt;&gt;();\n        }\n\n        public Hotel(String name, int pricePerNight, Address address, List&lt;Review&gt; reviews) {\n            this.name = name;\n            this.pricePerNight = pricePerNight;\n            this.address = address;\n            this.reviews = reviews;\n        }\n\n        public String getId() {\n            return id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public int getPricePerNight() {\n            return pricePerNight;\n        }\n\n        public Address getAddress() {\n            return address;\n        }\n\n        public List&lt;Review&gt; getReviews() {\n            return reviews;\n        }\n    }\n</code></pre>\n\n<p>The HotelRepository interface:</p>\n\n<pre><code>package com.dgs.springbootmongodb.dao;\n\nimport com.dgs.springbootmongodb.models.Hotel;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.Query;\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface HotelRepository extends MongoRepository&lt;Hotel, String&gt;, QuerydslPredicateExecutor&lt;Hotel&gt; {\n\n    // findBy + PricePerNight (property name) + LessThan (filter)\n\n    List&lt;Hotel&gt; findByPricePerNightLessThan(int maxPrice);\n\n    @Query(value = \"{address.city:?0}\")\n    List&lt;Hotel&gt; findByCity(String city);\n}\n</code></pre>\n\n<p>The HotelController:</p>\n\n<pre><code>package com.dgs.springbootmongodb.controller;\n\nimport com.dgs.springbootmongodb.dao.HotelRepository;\nimport com.dgs.springbootmongodb.models.Hotel;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(\"/hotels\")\npublic class HotelController {\n\n    private HotelRepository hotelRepository;\n\n    public HotelController(HotelRepository hotelRepository) {\n        this.hotelRepository = hotelRepository;\n    }\n\n    @GetMapping(\"/all\")\n    public List&lt;Hotel&gt; getAllHotels() {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findAll();\n\n        return hotels;\n    }\n\n    @GetMapping(\"/{id}\")\n    public Optional&lt;Hotel&gt; getOneHotel(@PathVariable String id) {\n\n        return hotelRepository.findById(id);\n    }\n\n    @PostMapping\n    public Hotel create(@RequestBody Hotel hotel) {\n\n        return hotelRepository.save(hotel);\n    }\n\n    @PutMapping\n    public Hotel update(@RequestBody Hotel hotel) {\n\n        return hotelRepository.save(hotel);\n    }\n\n    @DeleteMapping(\"/delete/{id}\")\n    public List&lt;Hotel&gt; delete(@PathVariable String id) {\n\n        hotelRepository.deleteById(id);\n\n        return hotelRepository.findAll();\n    }\n\n    @GetMapping(\"/price/{maxPrice}\")\n    public List&lt;Hotel&gt; getByPricePerNight(@PathVariable int maxPrice) {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findByPricePerNightLessThan(maxPrice);\n\n        return hotels;\n    }\n\n    @GetMapping(\"address/{city}\")\n    public List&lt;Hotel&gt; getByCity(@PathVariable String city) {\n\n        List&lt;Hotel&gt; hotels = hotelRepository.findByCity(city);\n\n        return hotels;\n    }\n}\n</code></pre>\n\n<p>This is the pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dgs&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-mongodb&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;springboot-mongodb&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot with Mongo DB&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Add support for Mongo Query DSL --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.1.3&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n                    &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Add plugin for Mongo Query DSL --&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n                        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                        &lt;version&gt;4.1.3&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/generated-sources/annotations&lt;/outputDirectory&gt;\n                            &lt;processor&gt;\n                                org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor\n                            &lt;/processor&gt;\n                            &lt;logOnlyOnError&gt;true&lt;/logOnlyOnError&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p>Update </p>\n\n<p>This is the starter class:</p>\n\n<pre><code>@SpringBootApplication\npublic class SpringbootMongodbApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbootMongodbApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>This is the structure of the app:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YcdtL.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YcdtL.jpg\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/BkOfH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BkOfH.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","constantfolding"],"comments":[{"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"score":1,"creation_date":1262778091,"post_id":2012528,"comment_id":1933444,"body_markdown":"@fredrk they may be similar or simple. but i dont think there is no harm in getting answers here. so that i will be comnfirmed. and i may get explained answers","body":"@fredrk they may be similar or simple. but i dont think there is no harm in getting answers here. so that i will be comnfirmed. and i may get explained answers"},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1262778282,"post_id":2012528,"comment_id":1933456,"body_markdown":"well, it is wrong to ask questions here if google has _the obvious answer_ as a first result.","body":"well, it is wrong to ask questions here if google has <i>the obvious answer</i> as a first result."}],"answers":[{"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":2,"creation_date":1262777553,"post_id":2012543,"comment_id":1933393,"body_markdown":"it appeared to me that he knows what constant folding is and is asking whether it exists in java.","body":"it appeared to me that he knows what constant folding is and is asking whether it exists in java."}],"tags":[],"owner":{"account_id":39452,"reputation":57394,"user_id":113794,"accept_rate":94,"display_name":"Rubens Farias"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1696839614,"creation_date":1262777386,"answer_id":2012543,"question_id":2012528,"body_markdown":"&gt; [Constant folding](http://en.wikipedia.org/wiki/Constant_folding) is the process of simplifying constant expressions at compile time. Terms in constant expressions are typically simple literals, such as the integer 2, but can also be variables whose values are never modified, or variables explicitly marked as constant\r\n\r\nYes, it&#39;s exists on Java: [Compiler optimizations][1]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<blockquote>\n<p><a href=\"http://en.wikipedia.org/wiki/Constant_folding\" rel=\"nofollow noreferrer\">Constant folding</a> is the process of simplifying constant expressions at compile time. Terms in constant expressions are typically simple literals, such as the integer 2, but can also be variables whose values are never modified, or variables explicitly marked as constant</p>\n</blockquote>\n<p>Yes, it's exists on Java: <a href=\"https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">Compiler optimizations</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1696839445,"creation_date":1262777499,"answer_id":2012554,"question_id":2012528,"body_markdown":"Yes, there is.\r\n\r\nFrom [this JavaWorld article][1]:\r\n\r\n    static final int length = 25;\r\n    static final int width = 10;\r\n    int res = length * width;\r\n\r\n&gt; Execution time is not used to multiply those values; instead, multiplication is done at compile time. The code for the following variable assignment is modified to produce bytecode that represents the product of width and length:\r\n\r\n    int res  = 250;\r\n\r\n\r\n  [1]: https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>Yes, there is.</p>\n<p>From <a href=\"https://web.archive.org/web/20090218215649/http://www.javaworld.com/jw-03-2000/jw-03-javaperf_4.html\" rel=\"nofollow noreferrer\">this JavaWorld article</a>:</p>\n<pre><code>static final int length = 25;\nstatic final int width = 10;\nint res = length * width;\n</code></pre>\n<blockquote>\n<p>Execution time is not used to multiply those values; instead, multiplication is done at compile time. The code for the following variable assignment is modified to produce bytecode that represents the product of width and length:</p>\n</blockquote>\n<pre><code>int res  = 250;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846781,"creation_date":1696846781,"answer_id":77258030,"question_id":2012528,"body_markdown":"Constant folding is an optimization technique used by compilers to evaluate constant expressions at compile-time rather than runtime. In the context of Java, constant folding refers to the process of replacing constant expressions with their computed values during the compilation phase. This optimization can result in more efficient code execution as it eliminates the need to perform the computation at runtime.\r\n\r\n    public class ConstantFoldingExample {\r\n        public static void main(String[] args) {\r\n            int result = 10 * 5;\r\n            System.out.println(&quot;Result: &quot; + result);\r\n        }\r\n    }\r\n\r\nIn this example, the expression **10 * 5** is a constant expression because both operands are literal values, and the result can be determined at compile-time. During the compilation process, the Java compiler can replace the expression with its computed value, and the resulting bytecode will reflect this optimization.\r\n","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>Constant folding is an optimization technique used by compilers to evaluate constant expressions at compile-time rather than runtime. In the context of Java, constant folding refers to the process of replacing constant expressions with their computed values during the compilation phase. This optimization can result in more efficient code execution as it eliminates the need to perform the computation at runtime.</p>\n<pre><code>public class ConstantFoldingExample {\n    public static void main(String[] args) {\n        int result = 10 * 5;\n        System.out.println(&quot;Result: &quot; + result);\n    }\n}\n</code></pre>\n<p>In this example, the expression <strong>10 * 5</strong> is a constant expression because both operands are literal values, and the result can be determined at compile-time. During the compilation process, the Java compiler can replace the expression with its computed value, and the resulting bytecode will reflect this optimization.</p>\n"}],"owner":{"account_id":87077,"reputation":25974,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1431,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":2012543,"answer_count":3,"score":3,"last_activity_date":1696846781,"creation_date":1262777215,"question_id":2012528,"body_markdown":"is there any concept called &quot;Constant Folding&quot; in java? if yes what is it?","title":"is there any concept called &quot;Constant Folding&quot; in java?","body":"<p>is there any concept called \"Constant Folding\" in java? if yes what is it?</p>\n"},{"tags":["java","android","safetynet"],"answers":[{"tags":[],"owner":{"account_id":10065737,"reputation":21,"user_id":7440979,"display_name":"Shourya Jaiswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696846779,"creation_date":1587044801,"answer_id":61251852,"question_id":61251798,"body_markdown":"The issue was with my API key. I was using the API key of a colleague which was restricted. Using my own API key solved the issue.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>The issue was with my API key. I was using the API key of a colleague which was restricted. Using my own API key solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":1493273,"reputation":1358,"user_id":1399824,"display_name":"Bhimbim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612328400,"creation_date":1612328400,"answer_id":66021536,"question_id":61251798,"body_markdown":"My issue was i registered SHA1 from play console but not SHA1 in my android studio. ","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>My issue was i registered SHA1 from play console but not SHA1 in my android studio.</p>\n"},{"tags":[],"owner":{"account_id":1754549,"reputation":1124,"user_id":1602887,"accept_rate":17,"display_name":"Ben-J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648721690,"creation_date":1648721690,"answer_id":71690747,"question_id":61251798,"body_markdown":"We have this error when the Safetynet API quotas are exceeded. The default quota is 10_000 requests per day, reset at midnight.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>We have this error when the Safetynet API quotas are exceeded. The default quota is 10_000 requests per day, reset at midnight.</p>\n"},{"comments":[{"owner":{"account_id":6425962,"reputation":438,"user_id":4981106,"display_name":"Akhha8"},"score":1,"creation_date":1659398770,"post_id":72643573,"comment_id":129280591,"body_markdown":"It&#39;s really important to verify the SHA1 hash if your API key is restricted, the DEBUG SHA1 code MUST be added for EVERY machine which compiles a debug version of your APK.","body":"It&#39;s really important to verify the SHA1 hash if your API key is restricted, the DEBUG SHA1 code MUST be added for EVERY machine which compiles a debug version of your APK."},{"owner":{"account_id":12552550,"reputation":1039,"user_id":9133569,"display_name":"M.Ed"},"score":1,"creation_date":1659428480,"post_id":72643573,"comment_id":129286354,"body_markdown":"@Akhha8 yes, that too, every local machine&#39;s debug SHA1 certs must manually be added to the API key restrictions.","body":"@Akhha8 yes, that too, every local machine&#39;s debug SHA1 certs must manually be added to the API key restrictions."}],"tags":[],"owner":{"account_id":12552550,"reputation":1039,"user_id":9133569,"display_name":"M.Ed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655372281,"creation_date":1655371839,"answer_id":72643573,"question_id":61251798,"body_markdown":"Downgrading the `com.google.android.gms:play-services-safetynet` dependency on the app&#39;s build.gradle from `18.0.1` to `18.0.0` fixed it for me.\r\n\r\nDo still double-check your API key restrictions (SHA1, package name) since they might cause this error too if there&#39;s something wrong with them, but downgrading the API a notch fixed it for me. \r\n\r\nAlso, double-check if you&#39;re reading the APK key from your keys file correctly, try hard-coding the API key into the class as a String and see if it works, of course don&#39;t do this in production code, you must hide your API key in release.","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>Downgrading the <code>com.google.android.gms:play-services-safetynet</code> dependency on the app's build.gradle from <code>18.0.1</code> to <code>18.0.0</code> fixed it for me.</p>\n<p>Do still double-check your API key restrictions (SHA1, package name) since they might cause this error too if there's something wrong with them, but downgrading the API a notch fixed it for me.</p>\n<p>Also, double-check if you're reading the APK key from your keys file correctly, try hard-coding the API key into the class as a String and see if it works, of course don't do this in production code, you must hide your API key in release.</p>\n"}],"owner":{"account_id":10065737,"reputation":21,"user_id":7440979,"display_name":"Shourya Jaiswal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696846779,"creation_date":1587044622,"question_id":61251798,"body_markdown":"Apiexception with status code 7 occurs due to network error but that doesn&#39;t seem to be the issue since internet is working fine on the device.\r\n\r\nCode snippet- \r\n\r\n```\r\nSafetyNet.getClient(this).attest(nonce, API_KEY)\r\n                .addOnSuccessListener(this,\r\n                        new OnSuccessListener&lt;SafetyNetApi.AttestationResponse&gt;() {\r\n                            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\r\n                            @Override\r\n                            public void onSuccess(SafetyNetApi.AttestationResponse response) {\r\n                                mResult = response.getJwsResult();\r\n                                Log.i(TAG, &quot;safetynet result is&quot; + mResult + &quot;\\n&quot;);\r\n                                mainres = initialDataExtraction(response.getJwsResult());\r\n                                Log.i(TAG, &quot;Main result is&quot; + mainres + &quot;\\n&quot;);\r\n                            }\r\n                        })\r\n                .addOnFailureListener(this, new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        if (e instanceof ApiException) {\r\n                            ApiException apiException = (ApiException) e;\r\n                            int statuscode = apiException.getStatusCode();\r\n                            Log.i(TAG,&quot;EXCEPTION CODE: &quot;+statuscode);\r\n                        } else {\r\n                            Log.d(TAG, &quot;Error: &quot; + e.getMessage());\r\n                        }\r\n                    }\r\n                });\r\n```\r\n","title":"ApiException in android with status code 7 while using safetynet attestation API","body":"<p>Apiexception with status code 7 occurs due to network error but that doesn't seem to be the issue since internet is working fine on the device.</p>\n\n<p>Code snippet- </p>\n\n<pre><code>SafetyNet.getClient(this).attest(nonce, API_KEY)\n                .addOnSuccessListener(this,\n                        new OnSuccessListener&lt;SafetyNetApi.AttestationResponse&gt;() {\n                            @RequiresApi(api = Build.VERSION_CODES.KITKAT)\n                            @Override\n                            public void onSuccess(SafetyNetApi.AttestationResponse response) {\n                                mResult = response.getJwsResult();\n                                Log.i(TAG, \"safetynet result is\" + mResult + \"\\n\");\n                                mainres = initialDataExtraction(response.getJwsResult());\n                                Log.i(TAG, \"Main result is\" + mainres + \"\\n\");\n                            }\n                        })\n                .addOnFailureListener(this, new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        if (e instanceof ApiException) {\n                            ApiException apiException = (ApiException) e;\n                            int statuscode = apiException.getStatusCode();\n                            Log.i(TAG,\"EXCEPTION CODE: \"+statuscode);\n                        } else {\n                            Log.d(TAG, \"Error: \" + e.getMessage());\n                        }\n                    }\n                });\n</code></pre>\n"},{"tags":["java","testing","mockito","collator"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696855909,"post_id":77257366,"comment_id":136202480,"body_markdown":"Does system under test call `getCollator()` on your mock? If it does not, why are you stubbing the call?","body":"Does system under test call <code>getCollator()</code> on your mock? If it does not, why are you stubbing the call?"}],"answers":[{"tags":[],"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846604,"creation_date":1696846604,"answer_id":77258012,"question_id":77257366,"body_markdown":"Mockito tries to help you to create clean tests. In strict mode it shall detect the unused stubs in test code.\r\n\r\nIn this case you mocked something but you didn&#39;t use that.\r\n\r\n### Recomennded solution - use that mock if you have already created\r\n\r\nI will use Hungarian locale to demonstrate a simple comare method. The `&#225;` vowel is between `a` and `b`.\r\n\r\n```java\r\n@Test\r\nvoid assertedTest() {\r\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class);\r\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\r\n    assertTrue(collatorProvider.getCollator().compare(&quot;&#225;lom&quot;, &quot;barna&quot;) &lt; 0);\r\n\r\n}\r\n```\r\nIn the previous example I called the mocked method and made an assertion. So  I necessarily made a mock.\r\n\r\n### Workaround - bypass the error\r\nIf you really want to create an unnecessary mock, then you can bypass that using lenient stictness. \r\n\r\n```java\r\n@Test\r\nvoid lenientTest() {\r\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class, withSettings().strictness(Strictness.LENIENT));\r\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\r\n    // there is neither a method call nor an assertion -&gt;  this stubbing is unnecessary but won&#39;t fail\r\n}\r\n``` ","title":"Unnecessary stubbing on CollatorProvider mock","body":"<p>Mockito tries to help you to create clean tests. In strict mode it shall detect the unused stubs in test code.</p>\n<p>In this case you mocked something but you didn't use that.</p>\n<h3>Recomennded solution - use that mock if you have already created</h3>\n<p>I will use Hungarian locale to demonstrate a simple comare method. The <code>á</code> vowel is between <code>a</code> and <code>b</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid assertedTest() {\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class);\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\n    assertTrue(collatorProvider.getCollator().compare(&quot;álom&quot;, &quot;barna&quot;) &lt; 0);\n\n}\n</code></pre>\n<p>In the previous example I called the mocked method and made an assertion. So  I necessarily made a mock.</p>\n<h3>Workaround - bypass the error</h3>\n<p>If you really want to create an unnecessary mock, then you can bypass that using lenient stictness.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid lenientTest() {\n    var collatorProvider = Mockito.mock(LocalizedCollatorProvider.class, withSettings().strictness(Strictness.LENIENT));\n    given(collatorProvider.getCollator()).willReturn(Collator.getInstance(new Locale(&quot;hu&quot;, &quot;hu&quot;)));\n    // there is neither a method call nor an assertion -&gt;  this stubbing is unnecessary but won't fail\n}\n</code></pre>\n"}],"owner":{"account_id":22282291,"reputation":1,"user_id":16510519,"display_name":"Grymuzka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696846604,"creation_date":1696840960,"question_id":77257366,"body_markdown":"I have a class LocalizedCollatorProvider\r\n\r\n``` lang-java\r\npublic class LocalizedCollatorProvider {\r\n  private String language = &quot;pl&quot;;\r\n  private String country = &quot;PL&quot;;\r\n\r\n  public Collator getCollator() {\r\n    return Collator.getInstance(new Locale(language, country)):\r\n  }\r\n}\r\n```\r\n\r\nI try to write a test of this class and I get an error Unnecessary stubbing detected in line\r\n\r\n``` lang-java\r\ngiven(collatorProvider.getCollator()).willReturn(getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)));\r\n```\r\n\r\n`collatorProvider` is a mock of the above class `LocalizedCollatorProvider`","title":"Unnecessary stubbing on CollatorProvider mock","body":"<p>I have a class LocalizedCollatorProvider</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocalizedCollatorProvider {\n  private String language = &quot;pl&quot;;\n  private String country = &quot;PL&quot;;\n\n  public Collator getCollator() {\n    return Collator.getInstance(new Locale(language, country)):\n  }\n}\n</code></pre>\n<p>I try to write a test of this class and I get an error Unnecessary stubbing detected in line</p>\n<pre class=\"lang-java prettyprint-override\"><code>given(collatorProvider.getCollator()).willReturn(getInstance(new Locale(&quot;pl&quot;, &quot;PL&quot;)));\n</code></pre>\n<p><code>collatorProvider</code> is a mock of the above class <code>LocalizedCollatorProvider</code></p>\n"},{"tags":["java","docker","testcontainers","k3s"],"owner":{"account_id":1014318,"reputation":1548,"user_id":1026224,"accept_rate":68,"display_name":"Fabrizio Fortino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696846186,"creation_date":1696846186,"question_id":77257970,"body_markdown":"I have been using a k3s cluster running in a docker container with testcontainers to run integration tests.\r\n\r\nI would like to put a breakpoint in my tests and inspect the k3s cluster with kubectl.\r\nWhen the execution stops on the breakpoint, I run the following commands:\r\n\r\n    kubectl config set-cluster my-k3s-cluster --server=https://localhost:52067\r\n    kubectl config set-context my-k3s --cluster=my-k3s-cluster\r\n    kubectl config use-context my-k3s\r\n\r\nBut when I run any command (eg: `kubectl get pods`), the cluster asks me for credentials.\r\n\r\nIs there any way to start the k3s cluster disabling authentication?","title":"connect to a k3s container with kubectl","body":"<p>I have been using a k3s cluster running in a docker container with testcontainers to run integration tests.</p>\n<p>I would like to put a breakpoint in my tests and inspect the k3s cluster with kubectl.\nWhen the execution stops on the breakpoint, I run the following commands:</p>\n<pre><code>kubectl config set-cluster my-k3s-cluster --server=https://localhost:52067\nkubectl config set-context my-k3s --cluster=my-k3s-cluster\nkubectl config use-context my-k3s\n</code></pre>\n<p>But when I run any command (eg: <code>kubectl get pods</code>), the cluster asks me for credentials.</p>\n<p>Is there any way to start the k3s cluster disabling authentication?</p>\n"},{"tags":["java","android","android-camera","surfaceview"],"comments":[{"owner":{"account_id":2767247,"reputation":4842,"user_id":2382667,"display_name":"Junaid"},"score":0,"creation_date":1479302217,"post_id":20196316,"comment_id":68498592,"body_markdown":"can u help how u achieved that....i m stuck!","body":"can u help how u achieved that....i m stuck!"}],"answers":[{"comments":[{"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"score":0,"creation_date":1385457583,"post_id":20206118,"comment_id":30139747,"body_markdown":"I am currently using onPreviewFrame to also send some the data to send the data to some third party native code. Is it possible to use your suggested method and still receive the data in onPreviewFrame?","body":"I am currently using onPreviewFrame to also send some the data to send the data to some third party native code. Is it possible to use your suggested method and still receive the data in onPreviewFrame?"}],"tags":[],"owner":{"account_id":1420007,"reputation":17492,"user_id":1344825,"display_name":"Eddy Talvala"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1385424654,"creation_date":1385424654,"answer_id":20206118,"question_id":20196316,"body_markdown":"If you don&#39;t need to run on Android releases before 3.0 (Honeycomb), you can use the SurfaceTexture output option, and OpenGL ES for rendering multiple previews.  \r\n\r\nSetting up a working OpenGL view is a bit involved, so you&#39;ll want to find a guide for that.\r\nOnce you have that working, create a [SurfaceTexture][1] object with a OpenGL texture ID you want to use for the preview texture, pass that into the camera with [setPreviewTexture][2] instead of using setPreviewDisplay, and then in your OpenGL thread, call [updateTexImage][3] to update the texture to show the latest frame from the camera (best to do so in response to a [onFrameAvailable][4] callback for best performance).\r\n\r\nThen you need OpenGL code to render two rectangles for your two copies of preview, and a shader to draw the preview texture on both.\r\n\r\nThis is a decent bit of setup, but in the end, you&#39;ll have a very flexible system - then you can animate the preview in various fun ways, etc. \r\n\r\n  [1]: http://developer.android.com/reference/android/graphics/SurfaceTexture.html\r\n  [2]: http://developer.android.com/reference/android/hardware/Camera.html#setPreviewTexture%28android.graphics.SurfaceTexture%29\r\n  [3]: http://developer.android.com/reference/android/graphics/SurfaceTexture.html#updateTexImage%28%29\r\n  [4]: http://developer.android.com/reference/android/graphics/SurfaceTexture.OnFrameAvailableListener.html#onFrameAvailable%28android.graphics.SurfaceTexture%29","title":"How to show two identical camera previews with the Android camera?","body":"<p>If you don't need to run on Android releases before 3.0 (Honeycomb), you can use the SurfaceTexture output option, and OpenGL ES for rendering multiple previews.  </p>\n\n<p>Setting up a working OpenGL view is a bit involved, so you'll want to find a guide for that.\nOnce you have that working, create a <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.html\" rel=\"nofollow\">SurfaceTexture</a> object with a OpenGL texture ID you want to use for the preview texture, pass that into the camera with <a href=\"http://developer.android.com/reference/android/hardware/Camera.html#setPreviewTexture%28android.graphics.SurfaceTexture%29\" rel=\"nofollow\">setPreviewTexture</a> instead of using setPreviewDisplay, and then in your OpenGL thread, call <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.html#updateTexImage%28%29\" rel=\"nofollow\">updateTexImage</a> to update the texture to show the latest frame from the camera (best to do so in response to a <a href=\"http://developer.android.com/reference/android/graphics/SurfaceTexture.OnFrameAvailableListener.html#onFrameAvailable%28android.graphics.SurfaceTexture%29\" rel=\"nofollow\">onFrameAvailable</a> callback for best performance).</p>\n\n<p>Then you need OpenGL code to render two rectangles for your two copies of preview, and a shader to draw the preview texture on both.</p>\n\n<p>This is a decent bit of setup, but in the end, you'll have a very flexible system - then you can animate the preview in various fun ways, etc. </p>\n"},{"tags":[],"owner":{"account_id":29391722,"reputation":13,"user_id":22519909,"display_name":"Lewis Jack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696846173,"creation_date":1696846173,"answer_id":77257967,"question_id":20196316,"body_markdown":"                SurfaceTexture texture = mFrontTextureView.getSurfaceTexture();\r\n                assert texture != null;\r\n                texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\r\n                ArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;Surface&gt;();\r\n                InputConfiguration inputConfiguration = null;\r\n                Surface surface = new Surface(texture);\r\n                surfaces.add(surface);\r\n\r\n                ////////////////////////////////////////////////////////////\r\n                SurfaceTexture texture1 = mBackTextureView.getSurfaceTexture();\r\n                assert texture1 != null;\r\n                texture1.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\r\n                Surface surface1 = new Surface(texture1);\r\n                surfaces.add(surface1);\r\n                ////////////////////////////////////////////////////////////\r\n\r\n                surfaces.add(mFrontImageReader.getSurface());\r\n                List&lt;OutputConfiguration&gt; configurations = new ArrayList&lt;OutputConfiguration&gt;(surfaces.size());\r\n                for (Surface surfacez : surfaces) {\r\n                    configurations.add(new OutputConfiguration(surfacez));\r\n                }\r\n                \r\n                mFrontPreviewRequestBuilder = mCameraDeviceFront.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n                mFrontPreviewRequestBuilder.addTarget(surface);\r\n\r\n                /////////////////////////////////////////////////////////////\r\n                mFrontPreviewRequestBuilder.addTarget(surface1);\r\n                /////////////////////////////////////////////////////////////\r\n\r\n                \r\n                mCameraDeviceFront.createCaptureSession(surfaces, mFrontStateCallback, mFrontgroundHandler);","title":"How to show two identical camera previews with the Android camera?","body":"<pre><code>            SurfaceTexture texture = mFrontTextureView.getSurfaceTexture();\n            assert texture != null;\n            texture.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n            ArrayList&lt;Surface&gt; surfaces = new ArrayList&lt;Surface&gt;();\n            InputConfiguration inputConfiguration = null;\n            Surface surface = new Surface(texture);\n            surfaces.add(surface);\n\n            ////////////////////////////////////////////////////////////\n            SurfaceTexture texture1 = mBackTextureView.getSurfaceTexture();\n            assert texture1 != null;\n            texture1.setDefaultBufferSize(mPreviewSize.getWidth(), mPreviewSize.getHeight());\n            Surface surface1 = new Surface(texture1);\n            surfaces.add(surface1);\n            ////////////////////////////////////////////////////////////\n\n            surfaces.add(mFrontImageReader.getSurface());\n            List&lt;OutputConfiguration&gt; configurations = new ArrayList&lt;OutputConfiguration&gt;(surfaces.size());\n            for (Surface surfacez : surfaces) {\n                configurations.add(new OutputConfiguration(surfacez));\n            }\n            \n            mFrontPreviewRequestBuilder = mCameraDeviceFront.createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n            mFrontPreviewRequestBuilder.addTarget(surface);\n\n            /////////////////////////////////////////////////////////////\n            mFrontPreviewRequestBuilder.addTarget(surface1);\n            /////////////////////////////////////////////////////////////\n\n            \n            mCameraDeviceFront.createCaptureSession(surfaces, mFrontStateCallback, mFrontgroundHandler);\n</code></pre>\n"}],"owner":{"account_id":322208,"reputation":4663,"user_id":641503,"accept_rate":99,"display_name":"Lunar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20206118,"answer_count":2,"score":1,"last_activity_date":1696846173,"creation_date":1385391878,"question_id":20196316,"body_markdown":"\r\nI need to be able to display two identical previews from a running camera instance on screen, is this possible?\r\n\r\nSo far the only way I could think of was to clone the preview surfaceview. So using the raw video data provided to onPreviewFrame,\r\nI am creating a new bitmap for the current frame and then drawing that to the surfaceholder canvas.\r\n\r\nThis displayed perfectly when run on the ui thread, but obviously it blocked the UI every couple of seconds whilst creating the bitmaps. I have now moved the bitmap creation into a new thread which resolves the app locking up, but now my surfaceview flickers/tears slightly!\r\n\r\nWould this ever work? or am I going the wrong way about it? How can I stop the flicker?\r\n\r\nCut down sample code;\r\n\r\n\r\n\r\n\r\n    public void onPreviewFrame(byte[] data, Camera camera) {\r\n    \r\n    -- new thread\r\n    // create bitmap from YUV (videoFrame)\r\n    \r\n\r\n    -- UI thread\r\n      Canvas canvas = null;\r\n    \ttry {\r\n    \t    canvas = surfaceHolder.lockCanvas();\r\n    \t    if (canvas != null) {\r\n    \t\tcanvas.drawBitmap(videoFrame, null, new Rect(0, 0, 200, 200), null);\r\n    \t    }\r\n    \t} catch (Exception e) {\r\n    \t    mLogger.error(e.getMessage());\r\n    \t} finally {\r\n    \t    if (canvas != null) {\r\n    \t\tsurfaceHolder.unlockCanvasAndPost(canvas);\r\n    \t    }\r\n    \t}\r\n    }\r\n\r\nI believe this is something to do with the surfaceview double buffer, I have quite a few solutions but cant stop the flicker!","title":"How to show two identical camera previews with the Android camera?","body":"<p>I need to be able to display two identical previews from a running camera instance on screen, is this possible?</p>\n\n<p>So far the only way I could think of was to clone the preview surfaceview. So using the raw video data provided to onPreviewFrame,\nI am creating a new bitmap for the current frame and then drawing that to the surfaceholder canvas.</p>\n\n<p>This displayed perfectly when run on the ui thread, but obviously it blocked the UI every couple of seconds whilst creating the bitmaps. I have now moved the bitmap creation into a new thread which resolves the app locking up, but now my surfaceview flickers/tears slightly!</p>\n\n<p>Would this ever work? or am I going the wrong way about it? How can I stop the flicker?</p>\n\n<p>Cut down sample code;</p>\n\n<pre><code>public void onPreviewFrame(byte[] data, Camera camera) {\n\n-- new thread\n// create bitmap from YUV (videoFrame)\n\n\n-- UI thread\n  Canvas canvas = null;\n    try {\n        canvas = surfaceHolder.lockCanvas();\n        if (canvas != null) {\n        canvas.drawBitmap(videoFrame, null, new Rect(0, 0, 200, 200), null);\n        }\n    } catch (Exception e) {\n        mLogger.error(e.getMessage());\n    } finally {\n        if (canvas != null) {\n        surfaceHolder.unlockCanvasAndPost(canvas);\n        }\n    }\n}\n</code></pre>\n\n<p>I believe this is something to do with the surfaceview double buffer, I have quite a few solutions but cant stop the flicker!</p>\n"},{"tags":["java","spring","swagger","swagger-ui","openapi"],"owner":{"account_id":19511208,"reputation":1,"user_id":14275135,"display_name":"mkhbrn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696845950,"creation_date":1696844441,"question_id":77257776,"body_markdown":"I have a Java SpringBoot RestApi with SpringDoc and I have added new Versions. For the new versions I added the GroupedOpenApi Configuration Beans so I get a dropdown for the versions in SwaggerUI.\r\n\r\nNow I also want to display the selected version number in the gray bubble next to the Api-name &quot;Khbrn Api&quot;\r\n\r\nMy configuration is as follows:\r\n\r\n```\r\n@Configuration\r\npublic class OpenApiConfig\r\n{\r\n\r\n    // -----------------------------\r\n    // Public Methods\r\n    @Bean\r\n    public OpenAPI customOpenAPI()\r\n    {\r\n\r\n        return new OpenAPI()\r\n\r\n                .components(new Components())\r\n\r\n                .info(new Info().title(&quot;Khbrn Api&quot;).description(&quot;Do stuff Api&quot;)\r\n                        .version(&quot;12345&quot;)); // I try to make the version dynamic for each option in the dropdown\r\n\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV110()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.1&quot;).pathsToMatch(&quot;/v110/**&quot;).build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV120()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.2&quot;).pathsToMatch(&quot;/v120/**&quot;).build();\r\n    }\r\n\r\n    @Bean\r\n    public GroupedOpenApi groupV121()\r\n    {\r\n        return GroupedOpenApi.builder().group(&quot;1.2.1&quot;).pathsToMatch(&quot;/v121/**&quot;).build();\r\n    }\r\n}\r\n```\r\n\r\nAs the result I want to change the grey version number(in this example its &quot;12345&quot;) when I change the selected dropdown option.\r\n\r\n[Swagger UI with Version Example](https://i.stack.imgur.com/ITdAe.png)","title":"How to set SwaggerUI/OpenApi - Api Version in Configuration with GroupedOpenApi","body":"<p>I have a Java SpringBoot RestApi with SpringDoc and I have added new Versions. For the new versions I added the GroupedOpenApi Configuration Beans so I get a dropdown for the versions in SwaggerUI.</p>\n<p>Now I also want to display the selected version number in the gray bubble next to the Api-name &quot;Khbrn Api&quot;</p>\n<p>My configuration is as follows:</p>\n<pre><code>@Configuration\npublic class OpenApiConfig\n{\n\n    // -----------------------------\n    // Public Methods\n    @Bean\n    public OpenAPI customOpenAPI()\n    {\n\n        return new OpenAPI()\n\n                .components(new Components())\n\n                .info(new Info().title(&quot;Khbrn Api&quot;).description(&quot;Do stuff Api&quot;)\n                        .version(&quot;12345&quot;)); // I try to make the version dynamic for each option in the dropdown\n\n    }\n\n    @Bean\n    public GroupedOpenApi groupV110()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.1&quot;).pathsToMatch(&quot;/v110/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi groupV120()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.2&quot;).pathsToMatch(&quot;/v120/**&quot;).build();\n    }\n\n    @Bean\n    public GroupedOpenApi groupV121()\n    {\n        return GroupedOpenApi.builder().group(&quot;1.2.1&quot;).pathsToMatch(&quot;/v121/**&quot;).build();\n    }\n}\n</code></pre>\n<p>As the result I want to change the grey version number(in this example its &quot;12345&quot;) when I change the selected dropdown option.</p>\n<p><a href=\"https://i.stack.imgur.com/ITdAe.png\" rel=\"nofollow noreferrer\">Swagger UI with Version Example</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1462956114,"post_id":37157112,"comment_id":61850967,"body_markdown":"Maybe this topic is related to your problem : http://stackoverflow.com/questions/13183675/eclipse-javadoc-generation-fails-with-illegalargumentexception","body":"Maybe this topic is related to your problem : <a href=\"http://stackoverflow.com/questions/13183675/eclipse-javadoc-generation-fails-with-illegalargumentexception\" title=\"eclipse javadoc generation fails with illegalargumentexception\">stackoverflow.com/questions/13183675/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":9669244,"reputation":714,"user_id":7174786,"accept_rate":50,"display_name":"Alessandro Scarlatti"},"score":0,"creation_date":1509829632,"post_id":39997493,"comment_id":81181099,"body_markdown":"Yes, that was the issue for me, too!","body":"Yes, that was the issue for me, too!"},{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1677172728,"post_id":39997493,"comment_id":133290036,"body_markdown":"How/why is javadoc using the CLASSPATH env variable? I have %CATALINA_HOME% so I guess it can&#39;t process the percent sign but how do I get javadoc to run without changing my environment variable? I tried renaming CLASSPATH to CLASSPATH2 (the actual env var) but that didn&#39;t help.  &quot;javadoc: error - Error decoding percent encoded characters&quot;","body":"How/why is javadoc using the CLASSPATH env variable? I have %CATALINA_HOME% so I guess it can&#39;t process the percent sign but how do I get javadoc to run without changing my environment variable? I tried renaming CLASSPATH to CLASSPATH2 (the actual env var) but that didn&#39;t help.  &quot;javadoc: error - Error decoding percent encoded characters&quot;"}],"tags":[],"owner":{"account_id":5903706,"reputation":338,"user_id":4646274,"display_name":"Michael Starodynov"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1476271825,"creation_date":1476271825,"answer_id":39997493,"question_id":37157112,"body_markdown":"I had the same problem. \r\nYou shold remove CLASSPATH enviroment variable.","title":"JavaDocs throwing IllegalArgumentException","body":"<p>I had the same problem. \nYou shold remove CLASSPATH enviroment variable.</p>\n"},{"comments":[{"owner":{"account_id":948242,"reputation":389,"user_id":975019,"accept_rate":60,"display_name":"Skystrider"},"score":0,"creation_date":1677125179,"post_id":45204733,"comment_id":133277355,"body_markdown":"kay but % is a valid character to have in the classpath. Not sure how to get mvn release to work unless I just skip the javadoc with -Dmaven.javadoc.skip=true","body":"kay but % is a valid character to have in the classpath. Not sure how to get mvn release to work unless I just skip the javadoc with -Dmaven.javadoc.skip=true"}],"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500522164,"creation_date":1500522164,"answer_id":45204733,"question_id":37157112,"body_markdown":"This issue comes if your classpath contains % init.","title":"JavaDocs throwing IllegalArgumentException","body":"<p>This issue comes if your classpath contains % init.</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696845586,"creation_date":1696845586,"answer_id":77257903,"question_id":37157112,"body_markdown":"For someone who is facing this issue during the maven build, then comment on the maven plugin `org.apache.maven.plugins:maven-javadoc-plugin` to avoid the error\r\n\r\nComment on the below plugin in `pom.xml`\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.10.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```","title":"JavaDocs throwing IllegalArgumentException","body":"<p>For someone who is facing this issue during the maven build, then comment on the maven plugin <code>org.apache.maven.plugins:maven-javadoc-plugin</code> to avoid the error</p>\n<p>Comment on the below plugin in <code>pom.xml</code></p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.10.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-javadocs&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n"}],"owner":{"account_id":2211163,"reputation":977,"user_id":1952975,"accept_rate":85,"display_name":"Brandyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3051,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":39997493,"answer_count":3,"score":4,"last_activity_date":1696845586,"creation_date":1462955532,"question_id":37157112,"body_markdown":"I am using Intellij Idea and when I go tho generate the JavaDocs (via Tools -&gt; Generate JavaDoc), I get thrown an IllegealArgumentException with no information about what is going wrong.\r\n\r\nThis occurs when testing with each individual file within my module even if there is no JavaDoc comments.\r\n\r\nHere is an example of stack trace I am getting:\r\n\r\n    java.lang.IllegalArgumentException\r\n\tat sun.net.www.ParseUtil.decode(ParseUtil.java:202)\r\n\tat sun.misc.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1204)\r\n\tat sun.misc.URLClassPath$3.run(URLClassPath.java:525)\r\n\tat sun.misc.URLClassPath$3.run(URLClassPath.java:520)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.misc.URLClassPath.getLoader(URLClassPath.java:519)\r\n\tat sun.misc.URLClassPath.getLoader(URLClassPath.java:492)\r\n\tat sun.misc.URLClassPath.getNextLoader(URLClassPath.java:457)\r\n\tat sun.misc.URLClassPath.access$100(URLClassPath.java:64)\r\n\tat sun.misc.URLClassPath$1.next(URLClassPath.java:239)\r\n\tat sun.misc.URLClassPath$1.hasMoreElements(URLClassPath.java:250)\r\n\tat java.net.URLClassLoader$3$1.run(URLClassLoader.java:601)\r\n\tat java.net.URLClassLoader$3$1.run(URLClassLoader.java:599)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader$3.next(URLClassLoader.java:598)\r\n\tat java.net.URLClassLoader$3.hasMoreElements(URLClassLoader.java:623)\r\n\tat sun.misc.CompoundEnumeration.next(CompoundEnumeration.java:45)\r\n\tat sun.misc.CompoundEnumeration.hasMoreElements(CompoundEnumeration.java:54)\r\n\tat java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:354)\r\n\tat java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\r\n\tat java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\r\n\tat javax.xml.parsers.FactoryFinder$1.run(FactoryFinder.java:293)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.xml.parsers.FactoryFinder.findServiceProvider(FactoryFinder.java:289)\r\n\tat javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:267)\r\n\tat javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:127)\r\n\tat com.sun.tools.doclets.internal.toolkit.builders.LayoutParser.parseXML(LayoutParser.java:89)\r\n\tat com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:120)\r\n\tat com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:189)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:205)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:189)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:137)\r\n\tat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:82)\r\n\tat com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:80)\r\n\tat com.sun.tools.doclets.standard.Standard.start(Standard.java:39)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:310)\r\n\tat com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:189)\r\n\tat com.sun.tools.javadoc.Start.parseAndExecute(Start.java:366)\r\n\tat com.sun.tools.javadoc.Start.begin(Start.java:219)\r\n\tat com.sun.tools.javadoc.Start.begin(Start.java:205)\r\n\tat com.sun.tools.javadoc.Main.execute(Main.java:64)\r\n\tat com.sun.tools.javadoc.Main.main(Main.java:54)\r\n    javadoc: error - java.lang.IllegalArgumentException\r\n\r\nFrom what I can tell, it&#39;s not really telling me much about the actual error. Here is an example file that I have tried generating JavaDocs for:\r\n\r\n    package Network;\r\n\r\n    public class NetworkTags {\r\n\r\n        public static final String OPEN_TAG = &quot;&lt;&quot;;\r\n        public static final String CLOSE_TAG = &quot;/&gt;&quot;;\r\n\r\n        public static final String NET_OPEN_TAG = &quot;&lt;NET&gt;&quot;;\r\n        public static final String NET_CLOSE_TAG = &quot;&lt;/NET&gt;&quot;;\r\n\r\n        public static final String VERTEX_TAG = &quot;VERTEX&quot;;\r\n        public static final String EDGE_TAG = &quot;EDGE&quot;;\r\n\r\n        public static final String REL_TAG = &quot;REL&quot;;\r\n        public static final String TYPE_TAG = &quot;TYPE&quot;;\r\n        public static final String COST_TAG = &quot;COST&quot;;\r\n        public static final String NAME_TAG = &quot;NAME&quot;;\r\n\r\n        public static final String SOURCE_TAG = &quot;SOURCE&quot;;\r\n        public static final String TARGET_TAG = &quot;TARGET&quot;;\r\n\r\n        public static final String FROM_TAG = &quot;FROM&quot;;\r\n        public static final String TO_TAG = &quot;TO&quot;;\r\n    }\r\n\r\nUsing Java 8 and IntelliJ IDEA 2016.1.1","title":"JavaDocs throwing IllegalArgumentException","body":"<p>I am using Intellij Idea and when I go tho generate the JavaDocs (via Tools -> Generate JavaDoc), I get thrown an IllegealArgumentException with no information about what is going wrong.</p>\n\n<p>This occurs when testing with each individual file within my module even if there is no JavaDoc comments.</p>\n\n<p>Here is an example of stack trace I am getting:</p>\n\n<pre><code>java.lang.IllegalArgumentException\nat sun.net.www.ParseUtil.decode(ParseUtil.java:202)\nat sun.misc.URLClassPath$FileLoader.&lt;init&gt;(URLClassPath.java:1204)\nat sun.misc.URLClassPath$3.run(URLClassPath.java:525)\nat sun.misc.URLClassPath$3.run(URLClassPath.java:520)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.misc.URLClassPath.getLoader(URLClassPath.java:519)\nat sun.misc.URLClassPath.getLoader(URLClassPath.java:492)\nat sun.misc.URLClassPath.getNextLoader(URLClassPath.java:457)\nat sun.misc.URLClassPath.access$100(URLClassPath.java:64)\nat sun.misc.URLClassPath$1.next(URLClassPath.java:239)\nat sun.misc.URLClassPath$1.hasMoreElements(URLClassPath.java:250)\nat java.net.URLClassLoader$3$1.run(URLClassLoader.java:601)\nat java.net.URLClassLoader$3$1.run(URLClassLoader.java:599)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader$3.next(URLClassLoader.java:598)\nat java.net.URLClassLoader$3.hasMoreElements(URLClassLoader.java:623)\nat sun.misc.CompoundEnumeration.next(CompoundEnumeration.java:45)\nat sun.misc.CompoundEnumeration.hasMoreElements(CompoundEnumeration.java:54)\nat java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:354)\nat java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\nat java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\nat javax.xml.parsers.FactoryFinder$1.run(FactoryFinder.java:293)\nat java.security.AccessController.doPrivileged(Native Method)\nat javax.xml.parsers.FactoryFinder.findServiceProvider(FactoryFinder.java:289)\nat javax.xml.parsers.FactoryFinder.find(FactoryFinder.java:267)\nat javax.xml.parsers.SAXParserFactory.newInstance(SAXParserFactory.java:127)\nat com.sun.tools.doclets.internal.toolkit.builders.LayoutParser.parseXML(LayoutParser.java:89)\nat com.sun.tools.doclets.internal.toolkit.builders.ClassBuilder.build(ClassBuilder.java:120)\nat com.sun.tools.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:189)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:205)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:189)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:137)\nat com.sun.tools.doclets.internal.toolkit.AbstractDoclet.start(AbstractDoclet.java:82)\nat com.sun.tools.doclets.formats.html.HtmlDoclet.start(HtmlDoclet.java:80)\nat com.sun.tools.doclets.standard.Standard.start(Standard.java:39)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat com.sun.tools.javadoc.DocletInvoker.invoke(DocletInvoker.java:310)\nat com.sun.tools.javadoc.DocletInvoker.start(DocletInvoker.java:189)\nat com.sun.tools.javadoc.Start.parseAndExecute(Start.java:366)\nat com.sun.tools.javadoc.Start.begin(Start.java:219)\nat com.sun.tools.javadoc.Start.begin(Start.java:205)\nat com.sun.tools.javadoc.Main.execute(Main.java:64)\nat com.sun.tools.javadoc.Main.main(Main.java:54)\njavadoc: error - java.lang.IllegalArgumentException\n</code></pre>\n\n<p>From what I can tell, it's not really telling me much about the actual error. Here is an example file that I have tried generating JavaDocs for:</p>\n\n<pre><code>package Network;\n\npublic class NetworkTags {\n\n    public static final String OPEN_TAG = \"&lt;\";\n    public static final String CLOSE_TAG = \"/&gt;\";\n\n    public static final String NET_OPEN_TAG = \"&lt;NET&gt;\";\n    public static final String NET_CLOSE_TAG = \"&lt;/NET&gt;\";\n\n    public static final String VERTEX_TAG = \"VERTEX\";\n    public static final String EDGE_TAG = \"EDGE\";\n\n    public static final String REL_TAG = \"REL\";\n    public static final String TYPE_TAG = \"TYPE\";\n    public static final String COST_TAG = \"COST\";\n    public static final String NAME_TAG = \"NAME\";\n\n    public static final String SOURCE_TAG = \"SOURCE\";\n    public static final String TARGET_TAG = \"TARGET\";\n\n    public static final String FROM_TAG = \"FROM\";\n    public static final String TO_TAG = \"TO\";\n}\n</code></pre>\n\n<p>Using Java 8 and IntelliJ IDEA 2016.1.1</p>\n"},{"tags":["java","spring","mongodb","spring-mvc","querydsl"],"answers":[{"comments":[{"owner":{"account_id":10197972,"reputation":1986,"user_id":7529228,"accept_rate":50,"display_name":"cactuschibre"},"score":1,"creation_date":1558517710,"post_id":33830623,"comment_id":99124541,"body_markdown":"Why do you want to remove `@QueryEntity` ?","body":"Why do you want to remove <code>@QueryEntity</code> ?"},{"owner":{"account_id":3252269,"reputation":341,"user_id":3596537,"display_name":"kszosze"},"score":1,"creation_date":1585065891,"post_id":33830623,"comment_id":107632529,"body_markdown":"The `MongoAnnotationProcessor` look after the `@Document` by itself in order to generate the `Q`class","body":"The <code>MongoAnnotationProcessor</code> look after the <code>@Document</code> by itself in order to generate the <code>Q</code>class"}],"tags":[],"owner":{"account_id":6321384,"reputation":1181,"user_id":4909335,"accept_rate":71,"display_name":"s1moner3d"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448036004,"creation_date":1448034187,"answer_id":33830623,"question_id":32998886,"body_markdown":"Change the plugin processor to `org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor`\r\n\r\n&gt; Spring Data Mongo provides a custom APT processor to generate the\r\n&gt; Metamodels instead of the one provided in QueryDSL, it will scan the\r\n&gt; Spring specific @Document instead of the Morphia specific annotations.\r\n\r\nThen run `mvn compile` to generate the Metamodels in the _outputDirectory_ you specified.\r\n\r\nYou can also remove the `@QueryEntity` annotation.","title":"First time MongoDB with QueryDSL on Spring","body":"<p>Change the plugin processor to <code>org.springframework.data.mongodb.repository.support.MongoAnnotationProcessor</code></p>\n\n<blockquote>\n  <p>Spring Data Mongo provides a custom APT processor to generate the\n  Metamodels instead of the one provided in QueryDSL, it will scan the\n  Spring specific @Document instead of the Morphia specific annotations.</p>\n</blockquote>\n\n<p>Then run <code>mvn compile</code> to generate the Metamodels in the <em>outputDirectory</em> you specified.</p>\n\n<p>You can also remove the <code>@QueryEntity</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":1835911,"reputation":720,"user_id":1666321,"display_name":"Rahim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696845402,"creation_date":1696845402,"answer_id":77257882,"question_id":32998886,"body_markdown":"You can add this small [library][1] \r\nhttps://github.com/rahimalizada/spring-data-mongodb-querydsl-processor I created specifically to enable automated annotation processing for QueryDSL and spring-data-mongo using maven-compiler-plugin. It also works correctly when performing IDE (IntelliJ) builds.\r\n\r\nSample usage:   \r\n\r\n     &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.11.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;annotationProcessorPaths&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;com.jyvee&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-mongodb-querydsl-processor&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.0&lt;/version&gt;\r\n              &lt;/path&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0&lt;/version&gt;\r\n                &lt;classifier&gt;general&lt;/classifier&gt;\r\n              &lt;/path&gt;\r\n              &lt;path&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n                &lt;version&gt;4.1.4&lt;/version&gt;\r\n              &lt;/path&gt;\r\n            &lt;/annotationProcessorPaths&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n  [1]: https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor","title":"First time MongoDB with QueryDSL on Spring","body":"<p>You can add this small <a href=\"https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor\" rel=\"nofollow noreferrer\">library</a>\n<a href=\"https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor\" rel=\"nofollow noreferrer\">https://github.com/rahimalizada/spring-data-mongodb-querydsl-processor</a> I created specifically to enable automated annotation processing for QueryDSL and spring-data-mongo using maven-compiler-plugin. It also works correctly when performing IDE (IntelliJ) builds.</p>\n<p>Sample usage:</p>\n<pre><code> &lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.11.0&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;com.jyvee&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb-querydsl-processor&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;/path&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n            &lt;classifier&gt;general&lt;/classifier&gt;\n          &lt;/path&gt;\n          &lt;path&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4&lt;/version&gt;\n          &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":59451,"reputation":4623,"user_id":177890,"accept_rate":53,"display_name":"Codevalley"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4521,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696845402,"creation_date":1444239388,"question_id":32998886,"body_markdown":"I am trying to simple MongoDB querying with QueryDSL. I am just using Spring Data to access MongoDB right now. I am not able to create Q Classes whatever I try. \r\n\r\nHere is what I have tried so far.\r\n\r\nissue.java\r\n\r\n    @QueryEntity\r\n    @Document(collection = &quot;issues&quot;)\r\n    public class Issue {\r\n    \t\r\n        private @Id long id;\r\n    \r\n        private String body;\r\n        private long prodId;\r\n        private long timestamp;\r\n        public Issue() {}\r\n        ...\r\n\r\nIssueRepository.java\r\n\r\n    @RepositoryRestResource(collectionResourceRel = &quot;issues&quot;, path = &quot;issues&quot;)\r\n    public interface IssueRepository extends MongoRepository&lt;IssueModel, String&gt;,\r\n    QueryDslPredicateExecutor&lt;IssueModel&gt;{\r\n    \r\n    \tpublic List&lt;IssueModel&gt; findByBody(String body);\r\n    \tpublic List&lt;IssueModel&gt; findByProdId(long prodId);\r\n    \r\n    }\r\n\r\nPom.xml\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.10.12&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt; \r\n    \t\t\t&lt;/dependency&gt; --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-remote-shell&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;tools&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;com.sun&lt;/groupId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t\t&lt;groupId&gt;com.basho.riak&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;riak-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.15&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.kencochrane.raven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;raven-logback&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.8&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.6.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;target/gen-sources/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.mysema.query.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n\r\nWhen I run `maven build-sources` nothing happens. When I change POM.xml to use `com.mysema.query.apt.morphia.MorphiaAnnotationProcessor` instead, I get classnotfound exception for `Entity`.\r\n\r\nI can&#39;t find one simple tutorial on the internet around this. ","title":"First time MongoDB with QueryDSL on Spring","body":"<p>I am trying to simple MongoDB querying with QueryDSL. I am just using Spring Data to access MongoDB right now. I am not able to create Q Classes whatever I try. </p>\n\n<p>Here is what I have tried so far.</p>\n\n<p>issue.java</p>\n\n<pre><code>@QueryEntity\n@Document(collection = \"issues\")\npublic class Issue {\n\n    private @Id long id;\n\n    private String body;\n    private long prodId;\n    private long timestamp;\n    public Issue() {}\n    ...\n</code></pre>\n\n<p>IssueRepository.java</p>\n\n<pre><code>@RepositoryRestResource(collectionResourceRel = \"issues\", path = \"issues\")\npublic interface IssueRepository extends MongoRepository&lt;IssueModel, String&gt;,\nQueryDslPredicateExecutor&lt;IssueModel&gt;{\n\n    public List&lt;IssueModel&gt; findByBody(String body);\n    public List&lt;IssueModel&gt; findByProdId(long prodId);\n\n}\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.10.12&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt; \n            &lt;/dependency&gt; --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-remote-shell&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;tools&lt;/artifactId&gt;\n                    &lt;groupId&gt;com.sun&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;groupId&gt;com.basho.riak&lt;/groupId&gt;\n            &lt;artifactId&gt;riak-client&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n            &lt;artifactId&gt;plexus-utils&lt;/artifactId&gt;\n            &lt;version&gt;3.0.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.kencochrane.raven&lt;/groupId&gt;\n            &lt;artifactId&gt;raven-logback&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-neo4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;3.6.8&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-mongodb&lt;/artifactId&gt;\n            &lt;version&gt;3.6.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;target/gen-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.mysema.query.apt.QuerydslAnnotationProcessor&lt;/processor&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p>When I run <code>maven build-sources</code> nothing happens. When I change POM.xml to use <code>com.mysema.query.apt.morphia.MorphiaAnnotationProcessor</code> instead, I get classnotfound exception for <code>Entity</code>.</p>\n\n<p>I can't find one simple tutorial on the internet around this. </p>\n"},{"tags":["java","ssl","ssl-certificate","certificate","tls1.2"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696843570,"post_id":77257622,"comment_id":136200138,"body_markdown":"`getAcceptedIssuers()` isn&#39;t allowed to return `null`, so the code is junk, but the fact is that you *haven&#39;t* disabled certificate checking at all: otherwise you could not have got this error. Reexamine your assumptions.","body":"<code>getAcceptedIssuers()</code> isn&#39;t allowed to return <code>null</code>, so the code is junk, but the fact is that you <i>haven&#39;t</i> disabled certificate checking at all: otherwise you could not have got this error. Reexamine your assumptions."}],"answers":[{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696844940,"creation_date":1696844940,"answer_id":77257837,"question_id":77257622,"body_markdown":"You have almost configured it correctly, however it is slightly off. What you need to do is create an URL object from the url itself and open the connection, cast it to a HttpsUrlConnection and pass the ssl configuration to it. An example snippet would be:\r\n\r\n```java\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.HttpsURLConnection;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.InputStream;\r\nimport java.net.Socket;\r\nimport java.net.URL;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\r\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\r\n\r\n        URL url = new URL(&quot;https://stackoverflow.com&quot;);\r\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n        connection.setHostnameVerifier(hostnameVerifier);\r\n        connection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n        connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n        InputStream inputStream = connection.getInputStream();\r\n        int responseCode = connection.getResponseCode();\r\n\r\n        System.out.println(responseCode);\r\n    }\r\n\r\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe above example is for httpsurlconnection, however in your stacktrace I see Apache http client 5, which needs to be configured differently, see below for an example:\r\n\r\n```java\r\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\r\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\r\nimport org.apache.hc.client5.http.socket.LayeredConnectionSocketFactory;\r\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\r\n\r\nimport javax.net.ssl.HostnameVerifier;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.SSLEngine;\r\nimport javax.net.ssl.TrustManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.net.Socket;\r\nimport java.security.cert.X509Certificate;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\r\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\r\n\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\r\n\r\n        LayeredConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\r\n        var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n                .setSSLSocketFactory(socketFactory)\r\n                .build();\r\n\r\n        CloseableHttpClient httpClient = HttpClients.custom()\r\n                .setConnectionManager(connectionManager)\r\n                .build();\r\n    }\r\n\r\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\r\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\r\n        public X509Certificate[] getAcceptedIssuers() {\r\n            return new X509Certificate[0];\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nSo I think you need the second option, however it is up to you whichever you want to use. I would not recommend to disable the security validations. It is better to add the server certificate to a truststore file and use that to create a trustmanager. In that way your client will work with the configured trusted certificate and fail while calling other servers and that is exactly what you want, but it is up to you what you prefer. Can you give the code snippet above a try and share your results here?","title":"Java disable Certificate validation still getting PKIX path building failed","body":"<p>You have almost configured it correctly, however it is slightly off. What you need to do is create an URL object from the url itself and open the connection, cast it to a HttpsUrlConnection and pass the ssl configuration to it. An example snippet would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.HttpsURLConnection;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.InputStream;\nimport java.net.Socket;\nimport java.net.URL;\nimport java.security.cert.X509Certificate;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\n\n        URL url = new URL(&quot;https://stackoverflow.com&quot;);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        connection.setHostnameVerifier(hostnameVerifier);\n        connection.setSSLSocketFactory(sslContext.getSocketFactory());\n        connection.setRequestMethod(&quot;GET&quot;);\n\n        InputStream inputStream = connection.getInputStream();\n        int responseCode = connection.getResponseCode();\n\n        System.out.println(responseCode);\n    }\n\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n    }\n\n}\n</code></pre>\n<p>The above example is for httpsurlconnection, however in your stacktrace I see Apache http client 5, which needs to be configured differently, see below for an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManagerBuilder;\nimport org.apache.hc.client5.http.socket.LayeredConnectionSocketFactory;\nimport org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory;\n\nimport javax.net.ssl.HostnameVerifier;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLEngine;\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.net.Socket;\nimport java.security.cert.X509Certificate;\n\npublic class App {\n\n    public static void main(String[] args) throws Exception {\n        UnsafeTrustManager unsafeTrustManager = new UnsafeTrustManager();\n        HostnameVerifier hostnameVerifier = (hostname, sslSession) -&gt; true;\n\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n        sslContext.init(null, new TrustManager[]{unsafeTrustManager}, null);\n\n        LayeredConnectionSocketFactory socketFactory = new SSLConnectionSocketFactory(sslContext, hostnameVerifier);\n        var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n                .setSSLSocketFactory(socketFactory)\n                .build();\n\n        CloseableHttpClient httpClient = HttpClients.custom()\n                .setConnectionManager(connectionManager)\n                .build();\n    }\n\n    private static class UnsafeTrustManager extends X509ExtendedTrustManager {\n        public void checkClientTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, Socket socket) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType, SSLEngine engine) {}\n        public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n        public void checkServerTrusted(X509Certificate[] chain, String authType) {}\n        public X509Certificate[] getAcceptedIssuers() {\n            return new X509Certificate[0];\n        }\n    }\n\n}\n</code></pre>\n<p>So I think you need the second option, however it is up to you whichever you want to use. I would not recommend to disable the security validations. It is better to add the server certificate to a truststore file and use that to create a trustmanager. In that way your client will work with the configured trusted certificate and fail while calling other servers and that is exactly what you want, but it is up to you what you prefer. Can you give the code snippet above a try and share your results here?</p>\n"}],"owner":{"account_id":3425729,"reputation":419,"user_id":2871531,"accept_rate":0,"display_name":"DbSchema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696844940,"creation_date":1696843198,"question_id":77257622,"body_markdown":"I disabled the TLS and SSL server certificate validation using the code below, but still I get &#39;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&#39;.\r\nWhat is wrong? The certificate on server is from Let&#39;s encrypt.\r\n\r\nThe code is from other posts in StackOverflow, for example: https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\r\n\r\n```\r\n HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\r\n\r\n                SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\r\n                context.init(null, new X509TrustManager[]{new X509TrustManager(){\r\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) {}\r\n                    public void checkServerTrusted(X509Certificate[] chain, String authType)  {}\r\n                    public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }}}, new SecureRandom());\r\n                HttpsURLConnection.setDefaultSSLSocketFactory( context.getSocketFactory());\r\n\r\n\r\n                //https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\r\n                final TrustManager[] trustAllCerts = new TrustManager[]{\r\n                        new X509ExtendedTrustManager() {\r\n                            @Override\r\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\r\n                                return null;\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\r\n                            }\r\n\r\n                            @Override\r\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\r\n                            }\r\n\r\n                        }\r\n                };\r\n\r\n                SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\r\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\r\n                installed = true;\r\n\r\n```\r\n\r\nHere is the exception full text.\r\n```\r\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\r\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\r\n  at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n  at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n  at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:303)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\r\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\r\n  at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\r\n  at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\r\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\r\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\r\n  at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\r\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\r\n  at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\r\n  at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:123)\r\n  at com.wisecoders.dbs.dialogs.system.j.a(ReportBugTask.java:56)\r\n  at com.wisecoders.dbs.dialogs.system.j.call(ReportBugTask.java:27)\r\n```","title":"Java disable Certificate validation still getting PKIX path building failed","body":"<p>I disabled the TLS and SSL server certificate validation using the code below, but still I get 'PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target'.\nWhat is wrong? The certificate on server is from Let's encrypt.</p>\n<p>The code is from other posts in StackOverflow, for example: <a href=\"https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\">How to bypass ssl certificate checking in java</a></p>\n<pre><code> HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);\n\n                SSLContext context = SSLContext.getInstance(&quot;TLS&quot;);\n                context.init(null, new X509TrustManager[]{new X509TrustManager(){\n                    public void checkClientTrusted(X509Certificate[] chain, String authType) {}\n                    public void checkServerTrusted(X509Certificate[] chain, String authType)  {}\n                    public X509Certificate[] getAcceptedIssuers() { return new X509Certificate[0]; }}}, new SecureRandom());\n                HttpsURLConnection.setDefaultSSLSocketFactory( context.getSocketFactory());\n\n\n                //https://stackoverflow.com/questions/42806709/how-to-bypass-ssl-certificate-checking-in-java\n                final TrustManager[] trustAllCerts = new TrustManager[]{\n                        new X509ExtendedTrustManager() {\n                            @Override\n                            public java.security.cert.X509Certificate[] getAcceptedIssuers() {\n                                return null;\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, Socket socket) {\n                            }\n\n                            @Override\n                            public void checkClientTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\n                            }\n\n                            @Override\n                            public void checkServerTrusted(java.security.cert.X509Certificate[] xcs, String string, SSLEngine ssle) {\n                            }\n\n                        }\n                };\n\n                SSLContext sc = SSLContext.getInstance(&quot;SSL&quot;);\n                sc.init(null, trustAllCerts, new java.security.SecureRandom());\n                HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());\n                installed = true;\n\n</code></pre>\n<p>Here is the exception full text.</p>\n<pre><code>sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n  at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n  at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n  at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:638)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473)\n  at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369)\n  at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n  at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n  at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\n  at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n  at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\n  at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n  at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.executeHandshake(SSLConnectionSocketFactory.java:303)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:275)\n  at org.apache.hc.client5.http.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:251)\n  at org.apache.hc.client5.http.impl.io.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:181)\n  at org.apache.hc.client5.http.impl.io.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:447)\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:162)\n  at org.apache.hc.client5.http.impl.classic.InternalExecRuntime.connectEndpoint(InternalExecRuntime.java:172)\n  at org.apache.hc.client5.http.impl.classic.ConnectExec.execute(ConnectExec.java:142)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.ProtocolExec.execute(ProtocolExec.java:192)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.HttpRequestRetryExec.execute(HttpRequestRetryExec.java:96)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.ContentCompressionExec.execute(ContentCompressionExec.java:152)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.RedirectExec.execute(RedirectExec.java:115)\n  at org.apache.hc.client5.http.impl.classic.ExecChainElement.execute(ExecChainElement.java:51)\n  at org.apache.hc.client5.http.impl.classic.InternalHttpClient.doExecute(InternalHttpClient.java:170)\n  at org.apache.hc.client5.http.impl.classic.CloseableHttpClient.execute(CloseableHttpClient.java:123)\n  at com.wisecoders.dbs.dialogs.system.j.a(ReportBugTask.java:56)\n  at com.wisecoders.dbs.dialogs.system.j.call(ReportBugTask.java:27)\n</code></pre>\n"},{"tags":["java","internationalization","struts2","struts","java-17"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696844862,"creation_date":1696844484,"answer_id":77257781,"question_id":77250075,"body_markdown":"To print English numbers you should change a `Locale`. But you only print em in the `&lt;s:iterator&gt;` tag. You should know how to get a current [`Locale`][2] from the [`ActionContext`][1] in JSP. \r\n\r\nThen you save a current locale to the variable before you change it\r\n```xml\r\n&lt;s:set var = &quot;old_locale&quot; value = &quot;%{#context.locale}&quot; /&gt;\r\n\r\n&lt;!-- then change a current locale --&gt;\r\n\r\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{new java.util.Locale(&quot;en&quot;, &quot;US&quot;)&quot; /&gt;\r\n\r\n&lt;!-- print numbers with a new locale --&gt;\r\n\r\n&lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\r\n    &lt;s:property value=&quot;top&quot;/&gt;,\r\n&lt;/s:iterator&gt;\r\n\r\n&lt;!-- then return a current locale back --&gt;\r\n\r\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{#old_locale}&quot; /&gt;\r\n```\r\n\r\n  [1]: https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionContext.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html","title":"Struts 2 and JDK 17 numbers in locale","body":"<p>To print English numbers you should change a <code>Locale</code>. But you only print em in the <code>&lt;s:iterator&gt;</code> tag. You should know how to get a current <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> from the <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/com/opensymphony/xwork2/ActionContext.html\" rel=\"nofollow noreferrer\"><code>ActionContext</code></a> in JSP.</p>\n<p>Then you save a current locale to the variable before you change it</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:set var = &quot;old_locale&quot; value = &quot;%{#context.locale}&quot; /&gt;\n\n&lt;!-- then change a current locale --&gt;\n\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{new java.util.Locale(&quot;en&quot;, &quot;US&quot;)&quot; /&gt;\n\n&lt;!-- print numbers with a new locale --&gt;\n\n&lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\n    &lt;s:property value=&quot;top&quot;/&gt;,\n&lt;/s:iterator&gt;\n\n&lt;!-- then return a current locale back --&gt;\n\n&lt;s:set var = &quot;%{#context.locale}&quot; value = &quot;%{#old_locale}&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257781,"answer_count":1,"score":1,"last_activity_date":1696844862,"creation_date":1696686868,"question_id":77250075,"body_markdown":"With struts `6.3.0.1` and jdk 8 the below generates `1, 2, 3,`\r\n\r\n         &lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\r\n                    &lt;s:property value=&quot;top&quot;/&gt;,\r\n         &lt;/s:iterator&gt;\r\n\r\nBy changing to jdk 17 It generates `۱, ۲, ۳,` ( these are Persian numbers for `1, 2, 3,`)  \r\n\r\nI set the \t`struts.locale` to `fa_IR`\r\n\r\n\t&lt;constant name=&quot;struts.locale&quot; value=&quot;fa_IR&quot; /&gt;\r\n\r\n\r\nThe site is Multilanguage and the `i18n` interceptor is used. \r\n\r\nIt may be a good feature but the site is built in the way that it works with English numbers. Anyway, is it any way that I can have numbers in English regardless of locale\r\n\r\nI tried to fix it by `session.setAttribute(Config.FMT_LOCALE, new Locale(&quot;en&quot;, &quot;US&quot;)); ` but no luck\r\n\r\n","title":"Struts 2 and JDK 17 numbers in locale","body":"<p>With struts <code>6.3.0.1</code> and jdk 8 the below generates <code>1, 2, 3,</code></p>\n<pre><code>     &lt;s:iterator begin=&quot;1&quot; end=&quot;3&quot;&gt;\n                &lt;s:property value=&quot;top&quot;/&gt;,\n     &lt;/s:iterator&gt;\n</code></pre>\n<p>By changing to jdk 17 It generates <code>۱, ۲, ۳,</code> ( these are Persian numbers for <code>1, 2, 3,</code>)</p>\n<p>I set the   <code>struts.locale</code> to <code>fa_IR</code></p>\n<pre><code>&lt;constant name=&quot;struts.locale&quot; value=&quot;fa_IR&quot; /&gt;\n</code></pre>\n<p>The site is Multilanguage and the <code>i18n</code> interceptor is used.</p>\n<p>It may be a good feature but the site is built in the way that it works with English numbers. Anyway, is it any way that I can have numbers in English regardless of locale</p>\n<p>I tried to fix it by <code>session.setAttribute(Config.FMT_LOCALE, new Locale(&quot;en&quot;, &quot;US&quot;)); </code> but no luck</p>\n"},{"tags":["java","spring-boot","lombok"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1696842378,"post_id":77257462,"comment_id":136199912,"body_markdown":"Does a downgrade help? If no, it might be something else","body":"Does a downgrade help? If no, it might be something else"},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696844468,"post_id":77257462,"comment_id":136200297,"body_markdown":"@Sam I downgraded to version 1.18.22 and it does have the same issue which indeed suggests it&#39;s something else. I have no clue what though. I can&#39;t find anything that changed on project scale but I will investigate further.","body":"@Sam I downgraded to version 1.18.22 and it does have the same issue which indeed suggests it&#39;s something else. I have no clue what though. I can&#39;t find anything that changed on project scale but I will investigate further."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696844774,"post_id":77257462,"comment_id":136200350,"body_markdown":"Please include the code of `VisitTransformer`. If this is an `@Component` (or one of the specific ones) the generated constructor will be used to create an instance and when that happens all parameters need to be available as beans as well. The best fix, don&#39;t use Lombok ;).","body":"Please include the code of <code>VisitTransformer</code>. If this is an <code>@Component</code> (or one of the specific ones) the generated constructor will be used to create an instance and when that happens all parameters need to be available as beans as well. The best fix, don&#39;t use Lombok ;)."},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696845138,"post_id":77257462,"comment_id":136200415,"body_markdown":"@M.Deinum, VisitTransformer is annotated with @ Service but I have found what&#39;s going on. Apparently the private String variable was added to the VisitTransformer last friday and lombok always regards it as should be a bean injected by the constructor when using AllArgsConstructor. Never in the project that happened before apparently. If you make the variable static (which in this case is possible), the problem is resolved. Not using lombok works too :)","body":"@M.Deinum, VisitTransformer is annotated with @ Service but I have found what&#39;s going on. Apparently the private String variable was added to the VisitTransformer last friday and lombok always regards it as should be a bean injected by the constructor when using AllArgsConstructor. Never in the project that happened before apparently. If you make the variable static (which in this case is possible), the problem is resolved. Not using lombok works too :)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696845436,"post_id":77257462,"comment_id":136200474,"body_markdown":"It has not to do with Lombok taking this is, it is Spring. Lombok only does what you instructed it to do, generate a constructor for all fields in the class. Also are you really sure the field can be `static` as it feels like shared state. I would discourage the use of `@AllArgsConstructor` and make the fields needed for DI all `final` and use the `@RequiredArgsConstructor` instead. Or ditch Lombok all together and write your own constructors (it isn&#39;t that hard and saves you from these kinds of surprises).","body":"It has not to do with Lombok taking this is, it is Spring. Lombok only does what you instructed it to do, generate a constructor for all fields in the class. Also are you really sure the field can be <code>static</code> as it feels like shared state. I would discourage the use of <code>@AllArgsConstructor</code> and make the fields needed for DI all <code>final</code> and use the <code>@RequiredArgsConstructor</code> instead. Or ditch Lombok all together and write your own constructors (it isn&#39;t that hard and saves you from these kinds of surprises)."},{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":0,"creation_date":1696846364,"post_id":77257462,"comment_id":136200632,"body_markdown":"&quot;Lombok only does what you instructed it to do, generate a constructor for all fields in the class&quot; --&gt; so lombok takes it indeed, so it has to do with that ;) I wrongly assumed there were some rules for fields it takes or didn&#39;t take. Yes I am sure the field can be static, the code it impacts is only executed ever by one instance. However I did not make it static and just don&#39;t use @AllArgsConstructor anymore.","body":"&quot;Lombok only does what you instructed it to do, generate a constructor for all fields in the class&quot; --&gt; so lombok takes it indeed, so it has to do with that ;) I wrongly assumed there were some rules for fields it takes or didn&#39;t take. Yes I am sure the field can be static, the code it impacts is only executed ever by one instance. However I did not make it static and just don&#39;t use @AllArgsConstructor anymore."}],"answers":[{"comments":[{"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"score":1,"creation_date":1696845325,"post_id":77257820,"comment_id":136200447,"body_markdown":"You are completely right. I just answered another comment that apparently that extra field was added last friday (when the error started occuring). I wasn&#39;t aware of that intitially :) Thanks for the answer.","body":"You are completely right. I just answered another comment that apparently that extra field was added last friday (when the error started occuring). I wasn&#39;t aware of that intitially :) Thanks for the answer."},{"owner":{"account_id":16535035,"reputation":437,"user_id":11947303,"display_name":"CodeSlave"},"score":1,"creation_date":1698750375,"post_id":77257820,"comment_id":136442218,"body_markdown":"I upvoted this one and deleted my question due to duplication. Thanks @Andei Lisa","body":"I upvoted this one and deleted my question due to duplication. Thanks @Andei Lisa"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696844796,"creation_date":1696844796,"answer_id":77257820,"question_id":77257462,"body_markdown":"According to `java docs` of annotation(`@AllArgsConstructor`) it create a constructor for all class fields\r\n\r\n&gt; Generates an all-args constructor. An all-args constructor requires\r\n&gt; one argument for every field in the class.\r\n\r\n**Lombok**\r\n\r\n    @AllArgsConstructor\r\n    public class Employee {\r\n    \r\n        private String name;\r\n        private int age;\r\n    }\r\n\r\n**Delombok**\r\n\r\n    public class Employee {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        public Employee(String name, int age) {\r\n            this.name = name;\r\n            this.age= age;\r\n        }\r\n    }\r\n\r\nAnd I think this `Parameter 17 of constructor` was added by you and now you can not create the `@Service` or `@Component`. Usually in this case you can use Lombok but with another annotation `@RequiredArgsConstructor`(it is usually used when create a constructor injection in Spring Component without create a plain constructor).\r\n\r\n&gt; Generates a constructor with required arguments. Required arguments\r\n&gt; are final fields and fields with constraints such as @NonNull.\r\n\r\n**Lombok**\r\n\r\n    @RequiredArgsConstructor\r\n    public class Employee {\r\n    \r\n        private final String name;\r\n        private int age;\r\n    }\r\n\r\n\r\n\r\n**Delombok**\r\n\r\n    public class Employee {\r\n    \r\n        private final String name;\r\n        private int age;\r\n    \r\n        public Employee(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nIt is going to help you. also why to use `@RequiredArgsConstructor` because usually all fields into Spring Component that is another Spring Component is declared as `private final` \r\n","title":"Bug with @AllArgsConstructor in Lombok?","body":"<p>According to <code>java docs</code> of annotation(<code>@AllArgsConstructor</code>) it create a constructor for all class fields</p>\n<blockquote>\n<p>Generates an all-args constructor. An all-args constructor requires\none argument for every field in the class.</p>\n</blockquote>\n<p><strong>Lombok</strong></p>\n<pre><code>@AllArgsConstructor\npublic class Employee {\n\n    private String name;\n    private int age;\n}\n</code></pre>\n<p><strong>Delombok</strong></p>\n<pre><code>public class Employee {\n\n    private String name;\n    private int age;\n\n    public Employee(String name, int age) {\n        this.name = name;\n        this.age= age;\n    }\n}\n</code></pre>\n<p>And I think this <code>Parameter 17 of constructor</code> was added by you and now you can not create the <code>@Service</code> or <code>@Component</code>. Usually in this case you can use Lombok but with another annotation <code>@RequiredArgsConstructor</code>(it is usually used when create a constructor injection in Spring Component without create a plain constructor).</p>\n<blockquote>\n<p>Generates a constructor with required arguments. Required arguments\nare final fields and fields with constraints such as @NonNull.</p>\n</blockquote>\n<p><strong>Lombok</strong></p>\n<pre><code>@RequiredArgsConstructor\npublic class Employee {\n\n    private final String name;\n    private int age;\n}\n</code></pre>\n<p><strong>Delombok</strong></p>\n<pre><code>public class Employee {\n\n    private final String name;\n    private int age;\n\n    public Employee(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>It is going to help you. also why to use <code>@RequiredArgsConstructor</code> because usually all fields into Spring Component that is another Spring Component is declared as <code>private final</code></p>\n"}],"owner":{"account_id":10164123,"reputation":140,"user_id":7506637,"display_name":"The_Unknown"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77257820,"answer_count":1,"score":0,"last_activity_date":1696844796,"creation_date":1696841787,"question_id":77257462,"body_markdown":"I have the following error when starting my spring boot application:\r\n\r\n*Parameter 17 of constructor in be.mypackage.dataimport.soft99.transformers.visit.VisitTransformer required a bean of type &#39;java.lang.String&#39; that could not be found.*\r\n\r\nI am using @AllArgsConstructor on VisitTransformer but I also have a private String variable for that class defined. It&#39;s just a String so now he assumes it should be a bean for the constructor and gives the above error. \r\n\r\nThis code used to work but as of last friday 2023-10-6 doesn&#39;t anymore. I looked at the changelog of lombok but didn&#39;t find anything specific related to this so I&#39;m wondering whether they unknowingly introduced a bug? \r\n\r\n(P.S.: The fix is to just not use @AllArgsConstructor anymore and define the constructor yourself.)\r\n\r\n\r\n","title":"Bug with @AllArgsConstructor in Lombok?","body":"<p>I have the following error when starting my spring boot application:</p>\n<p><em>Parameter 17 of constructor in be.mypackage.dataimport.soft99.transformers.visit.VisitTransformer required a bean of type 'java.lang.String' that could not be found.</em></p>\n<p>I am using @AllArgsConstructor on VisitTransformer but I also have a private String variable for that class defined. It's just a String so now he assumes it should be a bean for the constructor and gives the above error.</p>\n<p>This code used to work but as of last friday 2023-10-6 doesn't anymore. I looked at the changelog of lombok but didn't find anything specific related to this so I'm wondering whether they unknowingly introduced a bug?</p>\n<p>(P.S.: The fix is to just not use @AllArgsConstructor anymore and define the constructor yourself.)</p>\n"},{"tags":["java","eclipse","gradle"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1635406140,"post_id":69749504,"comment_id":123290330,"body_markdown":"Welcome to Stackoverflow &#128075; Would you mind copying the exception that&#39;s shown in the last screenshot into the question? That will help tremendously. Also, which version of Eclipse are you using?","body":"Welcome to Stackoverflow 👋 Would you mind copying the exception that&#39;s shown in the last screenshot into the question? That will help tremendously. Also, which version of Eclipse are you using?"}],"answers":[{"comments":[{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1635410488,"post_id":69750133,"comment_id":123292071,"body_markdown":"I have suggested this link  same answer:  https://gradle.org/install/","body":"I have suggested this link  same answer:  <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">gradle.org/install</a>"}],"tags":[],"owner":{"account_id":19485443,"reputation":31,"user_id":14254906,"display_name":"HelloWorldJava"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635408845,"creation_date":1635407256,"answer_id":69750133,"question_id":69749504,"body_markdown":"So, I&#39;ve not found out what the problem was but I&#39;ve found out how to surround it.\r\nI just reinstalled a newer version of gradle. And also I didn&#39;t click the same download button as I did before. I don&#39;t know if that could be an issue maybe with the download file of gradle\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FvWck.jpg","title":"Eclipse not able to create gradle Project","body":"<p>So, I've not found out what the problem was but I've found out how to surround it.\nI just reinstalled a newer version of gradle. And also I didn't click the same download button as I did before. I don't know if that could be an issue maybe with the download file of gradle</p>\n<p><a href=\"https://i.stack.imgur.com/FvWck.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FvWck.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635435765,"creation_date":1635435765,"answer_id":69757126,"question_id":69749504,"body_markdown":"When you scroll down the error message text area, then you&#39;ll eventually find this message:\r\n\r\n```\r\nCaused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\r\nGeneral error during semantic analysis: Unsupported class file major version 61\r\n\r\n1 error\r\n\r\n\tat org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\r\n\t... 154 more\r\n```\r\n\r\nIt fails because Gradle `6.9.1` is not compatible with Java 17. The first Gradle version supporting Java 17 will be Gradle `7.3`. You may want to keep an eye on the [Gradle Compatibility Matrix][1].\r\n\r\nThat being said, when using Gradle `6.9.1` you can use Java up to version 15. Gralde `7.2` supports Java 16.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/compatibility.html","title":"Eclipse not able to create gradle Project","body":"<p>When you scroll down the error message text area, then you'll eventually find this message:</p>\n<pre><code>Caused by: org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\nGeneral error during semantic analysis: Unsupported class file major version 61\n\n1 error\n\n    at org.gradle.groovy.scripts.internal.DefaultScriptCompilationHandler.compileScript(DefaultScriptCompilationHandler.java:139)\n    ... 154 more\n</code></pre>\n<p>It fails because Gradle <code>6.9.1</code> is not compatible with Java 17. The first Gradle version supporting Java 17 will be Gradle <code>7.3</code>. You may want to keep an eye on the <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">Gradle Compatibility Matrix</a>.</p>\n<p>That being said, when using Gradle <code>6.9.1</code> you can use Java up to version 15. Gralde <code>7.2</code> supports Java 16.</p>\n"},{"tags":[],"owner":{"account_id":25841729,"reputation":51,"user_id":19577181,"display_name":"Madhav Panchal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696844573,"creation_date":1696405904,"answer_id":77227728,"question_id":69749504,"body_markdown":"In my case, the latest gradle version was selected. The version was 8.4 rc.\r\n\r\nI changed that to the stable version, 8.3, and things worked.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Euejf.png","title":"Eclipse not able to create gradle Project","body":"<p>In my case, the latest gradle version was selected. The version was 8.4 rc.</p>\n<p>I changed that to the stable version, 8.3, and things worked.\n<a href=\"https://i.stack.imgur.com/Euejf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Euejf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19485443,"reputation":31,"user_id":14254906,"display_name":"HelloWorldJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1573,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696844573,"creation_date":1635404128,"question_id":69749504,"body_markdown":"I am trying to create a gradle Project in Eclipse. Gradle ist 100% installed and the system environment variables are set correctly. Before I create the project in Eclipse, I get the option to set the paths of gradle as you can see in the following image\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt doesn&#39;t make any difference what box I check, what path i put in or even if I just let it completely empty. I always get the following error when eclipse try to create the project in the following step\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI am pretty sure that&#39;s because the Gradle user Home is not set anymore as you can see at the top.\r\n\r\nBut the question here is how to fix that... \r\n\r\nThanks in advance and sorry again for my trash English\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Yn8iX.png\r\n  [2]: https://i.stack.imgur.com/aBY4o.png","title":"Eclipse not able to create gradle Project","body":"<p>I am trying to create a gradle Project in Eclipse. Gradle ist 100% installed and the system environment variables are set correctly. Before I create the project in Eclipse, I get the option to set the paths of gradle as you can see in the following image</p>\n<p><a href=\"https://i.stack.imgur.com/Yn8iX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yn8iX.png\" alt=\"enter image description here\" /></a></p>\n<p>It doesn't make any difference what box I check, what path i put in or even if I just let it completely empty. I always get the following error when eclipse try to create the project in the following step</p>\n<p><a href=\"https://i.stack.imgur.com/aBY4o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aBY4o.png\" alt=\"enter image description here\" /></a></p>\n<p>I am pretty sure that's because the Gradle user Home is not set anymore as you can see at the top.</p>\n<p>But the question here is how to fix that...</p>\n<p>Thanks in advance and sorry again for my trash English</p>\n"},{"tags":["java","natural-sort"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1696839164,"post_id":77257173,"comment_id":136199316,"body_markdown":"String natural order doesn&#39;t treat numbers any differently than other characters. A 0 will be sorted before a 2, regardless of any numbers that may come after.","body":"String natural order doesn&#39;t treat numbers any differently than other characters. A 0 will be sorted before a 2, regardless of any numbers that may come after."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":3,"creation_date":1696840893,"post_id":77257173,"comment_id":136199605,"body_markdown":"`Comparator.naturalOrder()` uses whatever order is defined in the `Comparable` objects.  For strings, this is lexicographic. It&#39;s not an implementation of [natural sort order](https://en.wikipedia.org/wiki/Natural_sort_order).","body":"<code>Comparator.naturalOrder()</code> uses whatever order is defined in the <code>Comparable</code> objects.  For strings, this is lexicographic. It&#39;s not an implementation of <a href=\"https://en.wikipedia.org/wiki/Natural_sort_order\" rel=\"nofollow noreferrer\">natural sort order</a>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1696841400,"post_id":77257173,"comment_id":136199710,"body_markdown":"In the official Java API documentation, the term &quot;natural sort order&quot; does not mean the same thing as the Wikipedia definition. But it is _not_ vague at all. It is in fact defined very precisely. It means the order defined by the `compareTo` method of `Comparable` objects, as opposed to a custom sort order. It is not a bug, and cannot be changed as it would break backward compatibility.","body":"In the official Java API documentation, the term &quot;natural sort order&quot; does not mean the same thing as the Wikipedia definition. But it is <i>not</i> vague at all. It is in fact defined very precisely. It means the order defined by the <code>compareTo</code> method of <code>Comparable</code> objects, as opposed to a custom sort order. It is not a bug, and cannot be changed as it would break backward compatibility."},{"owner":{"account_id":202330,"reputation":338,"user_id":449339,"display_name":"Siebe"},"score":2,"creation_date":1696843556,"post_id":77257173,"comment_id":136200133,"body_markdown":"Thanks for the input guys. I guess the issue here is indeed that naturalOrder is not actually a natural ordering, despite what the name implies.","body":"Thanks for the input guys. I guess the issue here is indeed that naturalOrder is not actually a natural ordering, despite what the name implies."}],"answers":[{"tags":[],"owner":{"account_id":11182722,"reputation":158,"user_id":8206225,"display_name":"Alwin Joseph"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696839298,"creation_date":1696839298,"answer_id":77257204,"question_id":77257173,"body_markdown":"In the case of Java&#39;s Comparator.naturalOrder(), it follows the lexicographic order of characters in the string, so it considers &quot;10&quot; as smaller than &quot;2&quot; when comparing the strings. This behavior aligns with how strings are typically sorted as plain text.\r\n\r\nOn the other hand, libraries like Python&#39;s natsort use a more human-friendly interpretation of natural sorting. They attempt to recognize and compare numbers within the strings as actual numeric values, which leads to a different sorting result that matches human expectations more closely.\r\n\r\nWhether this is a bug or not largely depends on the specific use case and the expectations of the users. If the goal is to sort strings in a way that matches human intuition, then the behavior of natsort may be preferred. However, if you require strictly lexicographic sorting, Java&#39;s Comparator.naturalOrder() behavior would be more appropriate.\r\n\r\n","title":"Natural Sorting in Java","body":"<p>In the case of Java's Comparator.naturalOrder(), it follows the lexicographic order of characters in the string, so it considers &quot;10&quot; as smaller than &quot;2&quot; when comparing the strings. This behavior aligns with how strings are typically sorted as plain text.</p>\n<p>On the other hand, libraries like Python's natsort use a more human-friendly interpretation of natural sorting. They attempt to recognize and compare numbers within the strings as actual numeric values, which leads to a different sorting result that matches human expectations more closely.</p>\n<p>Whether this is a bug or not largely depends on the specific use case and the expectations of the users. If the goal is to sort strings in a way that matches human intuition, then the behavior of natsort may be preferred. However, if you require strictly lexicographic sorting, Java's Comparator.naturalOrder() behavior would be more appropriate.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696840119,"creation_date":1696840119,"answer_id":77257283,"question_id":77257173,"body_markdown":"If you want such a comparator, you would need a specific library such as https://github.com/gpanther/java-nat-sort (I simply searched on DuckDuckGo for that one; and I used another which I can&#39;t find back).\r\n\r\nThe main idea of those kind of Comparator is to:\r\n\r\n- split each string by two types of token; a token being a set of numerical character or every other character\r\n- sort each token using the appropriate sort (eg: lexical sort for string token, numeric sort for numeric tokens)\r\n\r\nThe natural order of Java mostly means transform a `Comparable` into a `Comparator`: like most other language, natural comparison of String use the lexical order of characters.\r\n\r\n","title":"Natural Sorting in Java","body":"<p>If you want such a comparator, you would need a specific library such as <a href=\"https://github.com/gpanther/java-nat-sort\" rel=\"nofollow noreferrer\">https://github.com/gpanther/java-nat-sort</a> (I simply searched on DuckDuckGo for that one; and I used another which I can't find back).</p>\n<p>The main idea of those kind of Comparator is to:</p>\n<ul>\n<li>split each string by two types of token; a token being a set of numerical character or every other character</li>\n<li>sort each token using the appropriate sort (eg: lexical sort for string token, numeric sort for numeric tokens)</li>\n</ul>\n<p>The natural order of Java mostly means transform a <code>Comparable</code> into a <code>Comparator</code>: like most other language, natural comparison of String use the lexical order of characters.</p>\n"}],"owner":{"account_id":202330,"reputation":338,"user_id":449339,"display_name":"Siebe"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1696853626,"accepted_answer_id":77257204,"answer_count":2,"score":0,"last_activity_date":1696843795,"creation_date":1696838904,"question_id":77257173,"body_markdown":"Just a heads up: This is maybe not as much of a &#39;help me program&#39; question, but more of an &#39;is this a bug or just not clearly defined behaviour&#39;.\r\n\r\nLet&#39;s take the following list of strings: \r\n\r\n`item01mark2, item10mark2, item10mark03, item1mark3`\r\n\r\nIntuitively it should (of course) sort to: \r\n\r\n`item01mark2, item1mark3, item10mark2, item10mark03`\r\n\r\nUsing Java17&#39;s standard &#39;natural&#39; ordering implementation &#39;Comparator.naturalOrder()&#39;, this list sorts to: \r\n\r\n`item01mark2, item10mark03, item10mark2, item1mark3`\r\n\r\nAfter some quick checks, other natural sorting libraries (e.g. Python &#39;natsort&#39;) agree with the intuitive sorting. Would you consider this a bug (worth reporting), or is this just due to the vagueness of the definition of natural string sorting?\r\n\r\n**Update**: Okay, so basically this is just a language-disambiguation thing. I expected something called &#39;NaturalSorting&#39; to be an implementation of Natural Sorting, which is just isn&#39;t. Case closed.","title":"Natural Sorting in Java","body":"<p>Just a heads up: This is maybe not as much of a 'help me program' question, but more of an 'is this a bug or just not clearly defined behaviour'.</p>\n<p>Let's take the following list of strings:</p>\n<p><code>item01mark2, item10mark2, item10mark03, item1mark3</code></p>\n<p>Intuitively it should (of course) sort to:</p>\n<p><code>item01mark2, item1mark3, item10mark2, item10mark03</code></p>\n<p>Using Java17's standard 'natural' ordering implementation 'Comparator.naturalOrder()', this list sorts to:</p>\n<p><code>item01mark2, item10mark03, item10mark2, item1mark3</code></p>\n<p>After some quick checks, other natural sorting libraries (e.g. Python 'natsort') agree with the intuitive sorting. Would you consider this a bug (worth reporting), or is this just due to the vagueness of the definition of natural string sorting?</p>\n<p><strong>Update</strong>: Okay, so basically this is just a language-disambiguation thing. I expected something called 'NaturalSorting' to be an implementation of Natural Sorting, which is just isn't. Case closed.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"score":0,"creation_date":1696843272,"post_id":77257576,"comment_id":136200089,"body_markdown":"Check your dependency tree. javax.persistence should be inside hibernate which is part of your starter-data-jpa dependency.  If not you can always add it manually (but this should not be needed):\n\n&lt;!-- https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n&lt;/dependency&gt;\n\nAlso you could do a mvn clean install in the console first so maven will bring in the dependencies","body":"Check your dependency tree. javax.persistence should be inside hibernate which is part of your starter-data-jpa dependency.  If not you can always add it manually (but this should not be needed):  &lt;!-- <a href=\"https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/javax.persistence/&hellip;</a> --&gt; &lt;dependency&gt;     &lt;groupId&gt;javax.persistence&lt;/groupId&gt;     &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;     &lt;version&gt;2.2&lt;/version&gt; &lt;/dependency&gt;  Also you could do a mvn clean install in the console first so maven will bring in the dependencies"},{"owner":{"account_id":19766574,"reputation":265,"user_id":14474468,"display_name":"Amine Safi"},"score":1,"creation_date":1696843453,"post_id":77257576,"comment_id":136200117,"body_markdown":"you are using Spring Boot 3, you should do the import from the jakarta package instead of javax.\nhttps://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","body":"you are using Spring Boot 3, you should do the import from the jakarta package instead of javax. <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0</a>"}],"answers":[{"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1696864437,"post_id":77257663,"comment_id":136204297,"body_markdown":"What is date, i mean where to add it, can you give me here in comments an example ? I will update if it will be helpful for others to understand","body":"What is date, i mean where to add it, can you give me here in comments an example ? I will update if it will be helpful for others to understand"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696843473,"creation_date":1696843473,"answer_id":77257663,"question_id":77257576,"body_markdown":"This [guide][1] is written in a version of `spring-boot` &lt; 3.x it mean that all `javax.` imports was moved to `jakarta.` And you are using ` &lt;version&gt;3.1.4&lt;/version&gt;`\r\nIt mean that every imports also from guide will be\r\n\r\nFROM \r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n\r\nTO:\r\n\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n\r\n\r\nAlso I suggest you to have a look at [preparing-for-spring-boot-3-0][2]\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/rest/\r\n  [2]: https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0","title":"springboot package javax.persistence does not exist","body":"<p>This <a href=\"https://spring.io/guides/tutorials/rest/\" rel=\"nofollow noreferrer\">guide</a> is written in a version of <code>spring-boot</code> &lt; 3.x it mean that all <code>javax.</code> imports was moved to <code>jakarta.</code> And you are using <code> &lt;version&gt;3.1.4&lt;/version&gt;</code>\nIt mean that every imports also from guide will be</p>\n<p>FROM</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n</code></pre>\n<p>TO:</p>\n<pre><code>import jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\n</code></pre>\n<p>Also I suggest you to have a look at <a href=\"https://spring.io/blog/2022/05/24/preparing-for-spring-boot-3-0\" rel=\"nofollow noreferrer\">preparing-for-spring-boot-3-0</a></p>\n"},{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696843670,"creation_date":1696843670,"answer_id":77257686,"question_id":77257576,"body_markdown":"The tutorial you are using has not been updated to the latest version of Spring Boot.  The latest version is 3.x and it requires imports like `jakarta.persistence` instead of `javax.persistence`.\r\n\r\nIn [Spring Initializr][1] select version 2.x of Spring Boot (currently 2.7.16) and everything will work without any other change.\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"springboot package javax.persistence does not exist","body":"<p>The tutorial you are using has not been updated to the latest version of Spring Boot.  The latest version is 3.x and it requires imports like <code>jakarta.persistence</code> instead of <code>javax.persistence</code>.</p>\n<p>In <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializr</a> select version 2.x of Spring Boot (currently 2.7.16) and everything will work without any other change.</p>\n"}],"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77257663,"answer_count":2,"score":1,"last_activity_date":1696843670,"creation_date":1696842874,"question_id":77257576,"body_markdown":"I am following this tutorial https://spring.io/guides/tutorials/rest\r\n\r\nAt the first step when I added class Employee by copying from the tutorial, it says ```package javax.persistence does not exist``` \r\n\r\nI added dependencies given in the tutorial. I generated the initial project using spring initializr as described in the tutorial. My pom is below:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.trupt&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;cure&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;cure&lt;/name&gt;\r\n\t&lt;description&gt;cure&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n[SDK selected in the IDE is here][1]\r\n\r\n[Error messages in the IDE][2]\r\n\r\nEven in this simple step this is not working.\r\n\r\nI have tried maven reimport, maven clean-install, invalidate caches and restart. None of these worked.\r\n\r\nShould I add a dependency? Isn&#39;t spring data starter enough?\r\n\r\nThis is really hard.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3mR9.png\r\n  [2]: https://i.stack.imgur.com/JqEyo.png","title":"springboot package javax.persistence does not exist","body":"<p>I am following this tutorial <a href=\"https://spring.io/guides/tutorials/rest\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/rest</a></p>\n<p>At the first step when I added class Employee by copying from the tutorial, it says <code>package javax.persistence does not exist</code></p>\n<p>I added dependencies given in the tutorial. I generated the initial project using spring initializr as described in the tutorial. My pom is below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.trupt&lt;/groupId&gt;\n    &lt;artifactId&gt;cure&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;cure&lt;/name&gt;\n    &lt;description&gt;cure&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/x3mR9.png\" rel=\"nofollow noreferrer\">SDK selected in the IDE is here</a></p>\n<p><a href=\"https://i.stack.imgur.com/JqEyo.png\" rel=\"nofollow noreferrer\">Error messages in the IDE</a></p>\n<p>Even in this simple step this is not working.</p>\n<p>I have tried maven reimport, maven clean-install, invalidate caches and restart. None of these worked.</p>\n<p>Should I add a dependency? Isn't spring data starter enough?</p>\n<p>This is really hard.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696106876,"post_id":77208123,"comment_id":136112080,"body_markdown":"Can you please show what you can see in the devtools? Is there maybe a redirect? Furthermore, can you try enabling verbose logging for Spring Security and include the logs/output?","body":"Can you please show what you can see in the devtools? Is there maybe a redirect? Furthermore, can you try enabling verbose logging for Spring Security and include the logs/output?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696107780,"post_id":77208123,"comment_id":136112179,"body_markdown":"- I think the Get requests are just to import Javascript files. cause I tried again with the working method (use `.permitAll().failureUrl(&quot;/login?error&quot;)`) and I saw the same two Get requests, the only difference is when using the custom auth failure is that I don&#39;t see the param in URL.\nMaybe I should delete the part where I mentioned this from my question.\n- Sure I&#39;ll try.","body":"- I think the Get requests are just to import Javascript files. cause I tried again with the working method (use <code>.permitAll().failureUrl(&quot;&#47;login?error&quot;)</code>) and I saw the same two Get requests, the only difference is when using the custom auth failure is that I don&#39;t see the param in URL. Maybe I should delete the part where I mentioned this from my question. - Sure I&#39;ll try."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696116968,"post_id":77208123,"comment_id":136112812,"body_markdown":"@dan1st apparently the problem is caused by the configuration ` .anyRequest().hasRole(&quot;USER&quot;)` in my filter chain. I don&#39;t understand why the filter doesn&#39;t block it when using the configuration `.permitAll().failureUrl(&quot;/login?error&quot;)` instead of `failureHandler(customFailure)`\nis there a way to solve it ?","body":"@dan1st apparently the problem is caused by the configuration ` .anyRequest().hasRole(&quot;USER&quot;)` in my filter chain. I don&#39;t understand why the filter doesn&#39;t block it when using the configuration <code>.permitAll().failureUrl(&quot;&#47;login?error&quot;)</code> instead of <code>failureHandler(customFailure)</code> is there a way to solve it ?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696139777,"post_id":77208123,"comment_id":136113845,"body_markdown":"Does adding `.authorizeHttpRequests().requestMatchers(&quot;/login&quot;).anyRequest()` solve the problem?","body":"Does adding <code>.authorizeHttpRequests().requestMatchers(&quot;&#47;login&quot;).anyReques&zwnj;&#8203;t()</code> solve the problem?"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696155262,"post_id":77208123,"comment_id":136114981,"body_markdown":"@dan1st No, cause this will make the login page accessible even when the user is authenticated","body":"@dan1st No, cause this will make the login page accessible even when the user is authenticated"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696170243,"post_id":77208123,"comment_id":136116366,"body_markdown":"If you don&#39;t want that, you can use `.anonymous()` instead of `.anyRequest()`.","body":"If you don&#39;t want that, you can use <code>.anonymous()</code> instead of <code>.anyRequest()</code>."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696178704,"post_id":77208123,"comment_id":136117287,"body_markdown":"@dan1st authenticated users still can access the page login (I have edited my question and added the code of the filter)","body":"@dan1st authenticated users still can access the page login (I have edited my question and added the code of the filter)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696196455,"post_id":77208123,"comment_id":136119227,"body_markdown":"Make sure your `antMatchers(&quot;/login&quot;).anonymous()`configuration is before your login configuration.","body":"Make sure your <code>antMatchers(&quot;&#47;login&quot;).anonymous()</code>configuration is before your login configuration."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696198164,"post_id":77208123,"comment_id":136119383,"body_markdown":"@dan1st like this ?\n`http.cors().and().csrf().disable().authorizeRequests().antMatchers(&quot;/login&quot;).anonymous().and().antMatcher(&quot;/**&quot;)\n\t  .authorizeRequests().antMatchers(&quot;/resources/**&quot;, &quot;/reset/password&quot;).permitAll().anyRequest().authenticated()`","body":"@dan1st like this ? <code>http.cors().and().csrf().disable().authorizeRequests().antMa&zwnj;&#8203;tchers(&quot;&#47;login&quot;).ano&zwnj;&#8203;nymous().and().antMa&zwnj;&#8203;tcher(&quot;&#47;**&quot;) \t  .authorizeRequests().antMatchers(&quot;&#47;resources&#47;**&quot;, &quot;&#47;reset&#47;password&quot;).permitAll().anyRequest().authenticated()</code>"},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696204059,"post_id":77208123,"comment_id":136119803,"body_markdown":"@dan1st the last permitAll() is what made the page accessible for authenticated users `.formLogin()\n\t          .loginPage(&quot;/login&quot;)\n\t          .successHandler(myAuthenticationSuccessHandler()).failureHandler(customFailure)\n\t\t\t\t\t.permitAll()`","body":"@dan1st the last permitAll() is what made the page accessible for authenticated users <code>.formLogin() \t          .loginPage(&quot;&#47;login&quot;) \t          .successHandler(myAuthenticationSuccessHandler()).failureHan&zwnj;&#8203;dler(customFailure) \t\t\t\t\t.permitAll()</code>"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1696230948,"post_id":77208123,"comment_id":136121734,"body_markdown":"Well, you need to try it and check whether it works.","body":"Well, you need to try it and check whether it works."},{"owner":{"account_id":2799515,"reputation":815,"user_id":6647878,"display_name":"Nidhi257"},"score":0,"creation_date":1696932391,"post_id":77208123,"comment_id":136212797,"body_markdown":"add @ControllerAdvice annotation on class CustomAuthenticationFailureHandler .","body":"add @ControllerAdvice annotation on class CustomAuthenticationFailureHandler ."},{"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"score":0,"creation_date":1696945108,"post_id":77208123,"comment_id":136215361,"body_markdown":"@Nidhi257 It didn&#39;t work. but it&#39;s okay I used the the idaa of dan1st.\nCan you please take a look at this : https://stackoverflow.com/questions/77258250/how-can-i-prevent-a-user-form-authentication-if-he-has-status-disabled","body":"@Nidhi257 It didn&#39;t work. but it&#39;s okay I used the the idaa of dan1st. Can you please take a look at this : <a href=\"https://stackoverflow.com/questions/77258250/how-can-i-prevent-a-user-form-authentication-if-he-has-status-disabled\" title=\"how can i prevent a user form authentication if he has status disabled\">stackoverflow.com/questions/77258250/&hellip;</a>"}],"owner":{"account_id":23713509,"reputation":104,"user_id":17735015,"display_name":"HamzaDevXX"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696843670,"creation_date":1696101124,"question_id":77208123,"body_markdown":"I&#39;m trying to create a CustomAuthenticationFailureHandler in Spring boot to treat some cases where user is not allowed to authenticate even if his credentials are correct and display a custom error message.\r\nI treat these cases in userDetailsServiceImp and I raise exception depending on the case.\r\nthe next step was to custom the AuthenticationFailureHandler.\r\n\r\nHere is my CustomAuthenticationFailureHandler class :\r\n\r\n   \r\n\r\n     @Component\r\n    public class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\r\n    \r\n        Logger logger = LoggerFactory.getLogger(CustomAuthenticationFailureHandler.class);\r\n\r\n    @Override\r\n    public void onAuthenticationFailure(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            AuthenticationException exception) throws IOException, ServletException {\r\n\r\n\r\n            // Handle other authentication failures\r\n        if (exception.getMessage().contains(&quot;example&quot;)) {\r\n            super.setDefaultFailureUrl(&quot;/login?error=cause1&quot;);\r\n        }\r\n\r\n        else{\r\n            super.setDefaultFailureUrl(&quot;/login?error=cause2&quot;);\r\n\r\n        }\r\n\r\n\r\n\r\n        super.onAuthenticationFailure(request, response, exception);\r\n\r\n\r\n    }\r\n}\r\n\r\nmy security filter :\r\n\r\n    public SecurityFilterChain filterChainApp3(HttpSecurity http) throws Exception {\r\n        \thttp.authenticationProvider(myAuthenticationProvider());\r\n    http.cors().and().csrf().disable().\r\n    //conf ..\r\n    \r\n     .formLogin()\r\n    \t          .loginPage(&quot;/login&quot;)\r\n    \t          .permitAll().failureHandler(customFailure).\r\n    .successHandler(myAuthenticationSuccessHandler()).\r\n    and().logout().permitAll();\r\n\r\n\r\nin the same security config class :\r\n\r\n    \r\n    @Autowired\r\n    \r\n    private CustomAuthenticationFailureHandler customFailure;\r\n\r\n\r\nWhen I submit the auth form the login fails but I don&#39;t see param error in the URL.\r\n\r\n**EDIT:**\r\n\r\nDevtools after login form is submited : [![Network][1]][1]\r\n\r\nthe URL :http://localhost:8080/login\r\n\r\nWhat is the problem and how can I solve it ?\r\n\r\nJust a remarque, when I set a failureUrl in the security filter chaine the param is shown in the URL : \r\n\r\n    .permitAll().failureUrl(&quot;/login?error&quot;)\r\n\r\n**EDIT2 :**\r\nSpring Security logs :\r\n\r\n  \r\n\r\n      2023-09-30 22:40:31.012 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/login?error=cause2\r\n    2023-09-30 22:40:31.015 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n    2023-09-30 22:40:31.027 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /login?error=cause2] with attributes [hasRole(&#39;ROLE_USER&#39;)]\r\n    2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/login?error=cause2 to session\r\n    2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l2IYa.png\r\n","title":"CustomAuthenticationFailureHandler doesn&#39;t add error param to login page in spring boot","body":"<p>I'm trying to create a CustomAuthenticationFailureHandler in Spring boot to treat some cases where user is not allowed to authenticate even if his credentials are correct and display a custom error message.\nI treat these cases in userDetailsServiceImp and I raise exception depending on the case.\nthe next step was to custom the AuthenticationFailureHandler.</p>\n<p>Here is my CustomAuthenticationFailureHandler class :</p>\n<pre><code> @Component\npublic class CustomAuthenticationFailureHandler extends SimpleUrlAuthenticationFailureHandler {\n\n    Logger logger = LoggerFactory.getLogger(CustomAuthenticationFailureHandler.class);\n\n@Override\npublic void onAuthenticationFailure(\n        HttpServletRequest request,\n        HttpServletResponse response,\n        AuthenticationException exception) throws IOException, ServletException {\n\n\n        // Handle other authentication failures\n    if (exception.getMessage().contains(&quot;example&quot;)) {\n        super.setDefaultFailureUrl(&quot;/login?error=cause1&quot;);\n    }\n\n    else{\n        super.setDefaultFailureUrl(&quot;/login?error=cause2&quot;);\n\n    }\n\n\n\n    super.onAuthenticationFailure(request, response, exception);\n\n\n}\n</code></pre>\n<p>}</p>\n<p>my security filter :</p>\n<pre><code>public SecurityFilterChain filterChainApp3(HttpSecurity http) throws Exception {\n        http.authenticationProvider(myAuthenticationProvider());\nhttp.cors().and().csrf().disable().\n//conf ..\n\n .formLogin()\n              .loginPage(&quot;/login&quot;)\n              .permitAll().failureHandler(customFailure).\n.successHandler(myAuthenticationSuccessHandler()).\nand().logout().permitAll();\n</code></pre>\n<p>in the same security config class :</p>\n<pre><code>@Autowired\n\nprivate CustomAuthenticationFailureHandler customFailure;\n</code></pre>\n<p>When I submit the auth form the login fails but I don't see param error in the URL.</p>\n<p><strong>EDIT:</strong></p>\n<p>Devtools after login form is submited : <a href=\"https://i.stack.imgur.com/l2IYa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l2IYa.png\" alt=\"Network\" /></a></p>\n<p>the URL :http://localhost:8080/login</p>\n<p>What is the problem and how can I solve it ?</p>\n<p>Just a remarque, when I set a failureUrl in the security filter chaine the param is shown in the URL :</p>\n<pre><code>.permitAll().failureUrl(&quot;/login?error&quot;)\n</code></pre>\n<p><strong>EDIT2 :</strong>\nSpring Security logs :</p>\n<pre><code>  2023-09-30 22:40:31.012 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Loaded matching saved request http://localhost:8080/login?error=cause2\n2023-09-30 22:40:31.015 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\n2023-09-30 22:40:31.027 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /login?error=cause2] with attributes [hasRole('ROLE_USER')]\n2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/login?error=cause2 to session\n2023-09-30 22:40:31.034 DEBUG 22702 --- [nio-8080-exec-2] o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login\n</code></pre>\n"},{"tags":["java","plsql","jar","weblogic","java-deployment-toolkit"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696849882,"post_id":77257634,"comment_id":136201279,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29545976,"reputation":1,"user_id":22643683,"display_name":"Anas Mansuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696843266,"creation_date":1696843266,"question_id":77257634,"body_markdown":"I have deployed JAR file in the WebLogic server and the requirement is i want to call some of the method from the deployed code from the PL/SQL, So is there any way available to achieve this requirement?\r\n\r\nHow to call Java method from JAR which is deployed on WebLogic server from the database procedure","title":"How to call Java method from JAR which is deployed on Weblogic server from the database procedure","body":"<p>I have deployed JAR file in the WebLogic server and the requirement is i want to call some of the method from the deployed code from the PL/SQL, So is there any way available to achieve this requirement?</p>\n<p>How to call Java method from JAR which is deployed on WebLogic server from the database procedure</p>\n"},{"tags":["java","hibernate","exception","javafx","java-11"],"comments":[{"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"score":1,"creation_date":1696841257,"post_id":77257024,"comment_id":136199670,"body_markdown":"@jewelsea: &quot;requires java.sql; &quot; in module-info.java worked out, thanks a lot ! But i still have a question: How can one find which module to require, when there is no hint in the exception. You probably knew this out of experience, but as an IntelliJ-Beginner finding this kind of solution can be really hard.","body":"@jewelsea: &quot;requires java.sql; &quot; in module-info.java worked out, thanks a lot ! But i still have a question: How can one find which module to require, when there is no hint in the exception. You probably knew this out of experience, but as an IntelliJ-Beginner finding this kind of solution can be really hard."},{"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"score":0,"creation_date":1696842820,"post_id":77257024,"comment_id":136199994,"body_markdown":"Ok, thanks a lot. I will consider using some of the soultion strategies.","body":"Ok, thanks a lot. I will consider using some of the soultion strategies."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1696843135,"creation_date":1696841990,"answer_id":77257483,"question_id":77257024,"body_markdown":"**Solution**\r\n\r\nYou need to require [java.sql](https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/module-summary.html), either in your module-info or by addition of the module with VM parameters. \r\n\r\nOr you can delete your module info and make the project non-modular as documented in getting started at openjfx.io.\r\n\r\nOnce you do any of those things, the JVM will be able to find the `java.sql.SQLException` that it is currently missing.\r\n\r\n**Advice**\r\n\r\nYou should also use a modern java (21) and hibernate (6.3) (not necessary, but my advice).\r\n\r\n**FAQ**\r\n\r\n&gt; How can one find which module to require, when there is no hint in the exception.\r\n\r\nThere is a tool called `jdeps` in the jdk you can run against a jar and it will tell you modules used with the `-—print-module-deps` option [like this](https://stackoverflow.com/questions/77235915/how-to-properly-get-the-jdk-modules-for-a-fat-javafx-jar-using-jdeps), but it is tricky to use and not foolproof.\r\n\r\nWhat I do is look for the missing class (in this case java.sql.SQLException) and determine the module it is in, by finding the jar (or jdk module) it comes from and determining the module name for that.\r\n\r\nIf hibernate were properly modularized, you could require hibernate and it would automatically transitively require its dependencies, but it looks like it didn’t do that for your hibernate version.\r\n","title":"Problem occuring during configuring Hibernate within JavaFX","body":"<p><strong>Solution</strong></p>\n<p>You need to require <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/module-summary.html\" rel=\"nofollow noreferrer\">java.sql</a>, either in your module-info or by addition of the module with VM parameters.</p>\n<p>Or you can delete your module info and make the project non-modular as documented in getting started at openjfx.io.</p>\n<p>Once you do any of those things, the JVM will be able to find the <code>java.sql.SQLException</code> that it is currently missing.</p>\n<p><strong>Advice</strong></p>\n<p>You should also use a modern java (21) and hibernate (6.3) (not necessary, but my advice).</p>\n<p><strong>FAQ</strong></p>\n<blockquote>\n<p>How can one find which module to require, when there is no hint in the exception.</p>\n</blockquote>\n<p>There is a tool called <code>jdeps</code> in the jdk you can run against a jar and it will tell you modules used with the <code>-—print-module-deps</code> option <a href=\"https://stackoverflow.com/questions/77235915/how-to-properly-get-the-jdk-modules-for-a-fat-javafx-jar-using-jdeps\">like this</a>, but it is tricky to use and not foolproof.</p>\n<p>What I do is look for the missing class (in this case java.sql.SQLException) and determine the module it is in, by finding the jar (or jdk module) it comes from and determining the module name for that.</p>\n<p>If hibernate were properly modularized, you could require hibernate and it would automatically transitively require its dependencies, but it looks like it didn’t do that for your hibernate version.</p>\n"}],"owner":{"account_id":12993876,"reputation":100,"user_id":9392209,"display_name":"Animalz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696843135,"creation_date":1696837345,"question_id":77257024,"body_markdown":"i am currently working with JavaFX and i want to add a hibernate configuration.\r\nIn step 1, i need the Configuration object by Hibernate. When importing it, and correctly trying to initialize it, it gives me an error i do not fully understand. Can you help me ?\r\n\r\nCode:\r\n\r\n    package com.example.databasetest;\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import org.hibernate.cfg.Configuration;\r\n\r\n    import java.io.IOException;\r\n\r\n\r\n\r\n\r\n    public class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        stage.setTitle(&quot;Hello!&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n        \r\n\r\n        //Here is the line making the error\r\n        Configuration config = new Configuration();\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n\r\nWhen starting it, it gives me the following error:\r\n\r\n```\r\nException in Application start method\r\njava.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\r\n\tat org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\r\n\tat org.hibernate.orm.core@5.6.0.Final/org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:87)\r\n\tat com.example.databasetest/com.example.databasetest.HelloApplication.start(HelloApplication.java:24)\r\n\tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\r\n\tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\t... 1 more\r\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 18 more\r\nException running application com.example.databasetest.HelloApplication\r\n\r\n\r\n```\r\n\r\nI registered hibernate in my module-info.java. I am using Java 11, it is compatible with Hibernate 5.6. It recognizes the configuration as object, but it still does throw an exception. Can you help me ?\r\n\r\nEdit: I am aware that i need an hibernate.cfg.xml file. This is the next step to bind it into my code.","title":"Problem occuring during configuring Hibernate within JavaFX","body":"<p>i am currently working with JavaFX and i want to add a hibernate configuration.\nIn step 1, i need the Configuration object by Hibernate. When importing it, and correctly trying to initialize it, it gives me an error i do not fully understand. Can you help me ?</p>\n<p>Code:</p>\n<pre><code>package com.example.databasetest;\n\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport org.hibernate.cfg.Configuration;\n\nimport java.io.IOException;\n\n\n\n\npublic class HelloApplication extends Application {\n@Override\npublic void start(Stage stage) throws IOException {\n    FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n    Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n    stage.setTitle(&quot;Hello!&quot;);\n    stage.setScene(scene);\n    stage.show();\n    \n\n    //Here is the line making the error\n    Configuration config = new Configuration();\n\n}\n\npublic static void main(String[] args) {\n    launch();\n}\n</code></pre>\n<p>}</p>\n<p>When starting it, it gives me the following error:</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:465)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:364)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:901)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.lang.NoClassDefFoundError: java/sql/SQLException\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at org.jboss.logging.Logger.doGetMessageLogger(Logger.java:2562)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2530)\n    at org.jboss.logging.Logger.getMessageLogger(Logger.java:2516)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:28)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.internal.CoreLogging.messageLogger(CoreLogging.java:24)\n    at org.hibernate.orm.core@5.6.0.Final/org.hibernate.cfg.Configuration.&lt;clinit&gt;(Configuration.java:87)\n    at com.example.databasetest/com.example.databasetest.HelloApplication.start(HelloApplication.java:24)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:484)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:457)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:456)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: java.sql.SQLException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 18 more\nException running application com.example.databasetest.HelloApplication\n\n\n</code></pre>\n<p>I registered hibernate in my module-info.java. I am using Java 11, it is compatible with Hibernate 5.6. It recognizes the configuration as object, but it still does throw an exception. Can you help me ?</p>\n<p>Edit: I am aware that i need an hibernate.cfg.xml file. This is the next step to bind it into my code.</p>\n"},{"tags":["java","jsp","struts2","internationalization","ognl"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377275696,"post_id":18407063,"comment_id":27038611,"body_markdown":"Do you have translated versions of texts?","body":"Do you have translated versions of texts?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377276259,"post_id":18407063,"comment_id":27038872,"body_markdown":"yes we have the english text in package.properties and the translated versions in package_es.properties","body":"yes we have the english text in package.properties and the translated versions in package_es.properties"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377276380,"post_id":18407063,"comment_id":27038936,"body_markdown":"So, what is the problem?","body":"So, what is the problem?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377276698,"post_id":18407063,"comment_id":27039083,"body_markdown":"that is what i am unable to figure out the whole page got the translations applied except for the values in the menu. I guess this is because the .class files are generated when we build it on server side and the locale information is pulled at the client side, im not sure though","body":"that is what i am unable to figure out the whole page got the translations applied except for the values in the menu. I guess this is because the .class files are generated when we build it on server side and the locale information is pulled at the client side, im not sure though"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377279284,"post_id":18407063,"comment_id":27040315,"body_markdown":"Which language is displayed then, or it&#39;s in mojibake?","body":"Which language is displayed then, or it&#39;s in mojibake?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377284737,"post_id":18407063,"comment_id":27042912,"body_markdown":"@user2707760: Have you tried to use `getText` in JSP? Also how do you change locale?","body":"@user2707760: Have you tried to use <code>getText</code> in JSP? Also how do you change locale?"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377289373,"post_id":18407063,"comment_id":27045121,"body_markdown":"we tried gettext it did not work. we changed the locale using jstl","body":"we tried gettext it did not work. we changed the locale using jstl"},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377290428,"post_id":18407063,"comment_id":27045564,"body_markdown":"@RomanC it just comes in english","body":"@RomanC it just comes in english"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377334831,"post_id":18407063,"comment_id":27054620,"body_markdown":"@user2707760 Then you need to switch it to your locale.","body":"@user2707760 Then you need to switch it to your locale."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377362314,"post_id":18407063,"comment_id":27061413,"body_markdown":"@user2707760: Show code that you used to change locale.","body":"@user2707760: Show code that you used to change locale."},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377428087,"post_id":18407063,"comment_id":27074134,"body_markdown":"@user2707760: To change locale see: http://stackoverflow.com/q/15582074/1700321 and http://stackoverflow.com/q/12891293/1700321.","body":"@user2707760: To change locale see: <a href=\"http://stackoverflow.com/q/15582074/1700321\">stackoverflow.com/q/15582074/1700321</a> and <a href=\"http://stackoverflow.com/q/12891293/1700321\">stackoverflow.com/q/12891293/1700321</a>."},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377530530,"post_id":18407063,"comment_id":27107559,"body_markdown":"@RomanC  we changed the locale by passing it in url, the locale change works fine as all the other text is being translated","body":"@RomanC  we changed the locale by passing it in url, the locale change works fine as all the other text is being translated"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1377548299,"post_id":18407063,"comment_id":27116443,"body_markdown":"@user2707760 Still not translated, what a locale is in the action context before you call `getText()`?","body":"@user2707760 Still not translated, what a locale is in the action context before you call <code>getText()</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377291712,"post_id":18408265,"comment_id":27046134,"body_markdown":"i actually have a integer and a string stored for the given key in the hashmap, with your sol it only returns the integerpart how do i return only the string ?","body":"i actually have a integer and a string stored for the given key in the hashmap, with your sol it only returns the integerpart how do i return only the string ?"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377298372,"post_id":18408265,"comment_id":27048500,"body_markdown":"So is it working? The key is left as it is.","body":"So is it working? The key is left as it is."},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377530262,"post_id":18408265,"comment_id":27107435,"body_markdown":"i appreciate your help but it still returns the text in english but the whole page is in spanish","body":"i appreciate your help but it still returns the text in english but the whole page is in spanish"},{"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"score":0,"creation_date":1377530974,"post_id":18408265,"comment_id":27107766,"body_markdown":"@user2707760: Are you sure you have `HOME` key in your properties file? BTW the key is case sensitive.","body":"@user2707760: Are you sure you have <code>HOME</code> key in your properties file? BTW the key is case sensitive."},{"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"score":0,"creation_date":1377532484,"post_id":18408265,"comment_id":27108605,"body_markdown":"Thanks, this works now with the following,i dont know y its not working if we give the key and value as seperate                              &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[1].type&quot; list=&quot;#{&#39;HOME&#39;:&#39;%{getText(key)}&#39;,&#39;WORK&#39;:&#39;%{getText(key)}&#39;,&#39;MOBILE&#39;:&#39;%{getText(key)}&#39;,&#39;OTHER&#39;:&#39;%{getText(key)}&#39;,&#39;FAX&#39;:&#39;%{getText(key)}&#39;}&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot; listKey=&quot;key&quot; listValue=&quot;%{getText(value)}&quot;/&gt;","body":"Thanks, this works now with the following,i dont know y its not working if we give the key and value as seperate                              &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[1].type&quot; list=&quot;#{&#39;HOME&#39;:&#39;%{getText(key)}&#39;,&#39;WORK&#39;:&#39;%{getText(key)}&#39;,&#39;M&zwnj;&#8203;OBILE&#39;:&#39;%{getText(ke&zwnj;&#8203;y)}&#39;,&#39;OTHER&#39;:&#39;%{getT&zwnj;&#8203;ext(key)}&#39;,&#39;FAX&#39;:&#39;%{&zwnj;&#8203;getText(key)}&#39;}&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot; listKey=&quot;key&quot; listValue=&quot;%{getText(value)}&quot;/&gt;"},{"owner":{"account_id":2145778,"reputation":902,"user_id":1903411,"accept_rate":64,"display_name":"aloplop85"},"score":0,"creation_date":1442138906,"post_id":18408265,"comment_id":52953195,"body_markdown":"I tested it with sj:select and it does not seem to work :S. I moved to s:select. Thanks for the advice!","body":"I tested it with sj:select and it does not seem to work :S. I moved to s:select. Thanks for the advice!"}],"tags":[],"owner":{"account_id":1879878,"reputation":24286,"user_id":1700321,"display_name":"Aleksandr M"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377428028,"creation_date":1377277772,"answer_id":18408265,"question_id":18407063,"body_markdown":"To change locale in Struts2 application you need to include `requst_locale` parameter to some link or form.\r\n\r\n    &lt;s:url var=&quot;urlen&quot; includeParams=&quot;all&quot; value=&quot;&quot;&gt;\r\n      &lt;s:param name=&quot;request_locale&quot;&gt;en&lt;/s:param&gt;\r\n    &lt;/s:url&gt;\r\n    &lt;s:a href=&quot;%{#urlen}&quot;&gt;English&lt;/s:a&gt;\r\n\r\nIf you want to change locale from action class use `ActionContext` to set it and also put it in HTTP session.\r\n\r\n    ActionContext.getContext().setLocale(locale);\r\n    session.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\r\n\r\n---\r\n\r\nYou can call `getText` method also in JSP in `listValue` attribute of `&lt;s:select&gt;` tag.\r\n\r\n    &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\r\n     list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;\r\n     listKey=&quot;key&quot; listValue=&quot;%{getText(value)}&quot;/&gt;","title":"i18n on dropdown menu using s:select tag","body":"<p>To change locale in Struts2 application you need to include <code>requst_locale</code> parameter to some link or form.</p>\n\n<pre><code>&lt;s:url var=\"urlen\" includeParams=\"all\" value=\"\"&gt;\n  &lt;s:param name=\"request_locale\"&gt;en&lt;/s:param&gt;\n&lt;/s:url&gt;\n&lt;s:a href=\"%{#urlen}\"&gt;English&lt;/s:a&gt;\n</code></pre>\n\n<p>If you want to change locale from action class use <code>ActionContext</code> to set it and also put it in HTTP session.</p>\n\n<pre><code>ActionContext.getContext().setLocale(locale);\nsession.put(I18nInterceptor.DEFAULT_SESSION_ATTRIBUTE, locale);\n</code></pre>\n\n<hr>\n\n<p>You can call <code>getText</code> method also in JSP in <code>listValue</code> attribute of <code>&lt;s:select&gt;</code> tag.</p>\n\n<pre><code>&lt;s:select name=\"priorToApplyingInfo.userProfile.phoneNumbers[0].type\"\n list=\"phoneTypes\" headerKey=\"0\" headerValue=\"\"\n listKey=\"key\" listValue=\"%{getText(value)}\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459074222,"creation_date":1377334710,"answer_id":18416752,"question_id":18407063,"body_markdown":"It seams you didn&#39;t switch the locale in Struts2 before you are retrieved the messages from the resources. \r\n\r\n`getText()` is localized method and if it using the default text provider as a default behavior then it searches for locale specific keys. You could get the current locale used by Struts2 from action context or direct from your `ActionSupport` action (haven&#39;t seen that you have an action and it extends it). \r\n\r\nUsually switching locale is done via the `i18n` interceptor where you put a parameter into request `request_locale`. But you could switch it by changing locale in the action context (make sure you are running the same thread as current).\r\n\r\n\r\n----------\r\n\r\n\r\n    ActionContext.getContext().setLocale(new Locale(&quot;es&quot;));\r\n\r\n\r\n\r\n\r\nYou should run this code before any `getText()` is executed to get localized messages.\r\n\r\n   ","title":"i18n on dropdown menu using s:select tag","body":"<p>It seams you didn't switch the locale in Struts2 before you are retrieved the messages from the resources. </p>\n\n<p><code>getText()</code> is localized method and if it using the default text provider as a default behavior then it searches for locale specific keys. You could get the current locale used by Struts2 from action context or direct from your <code>ActionSupport</code> action (haven't seen that you have an action and it extends it). </p>\n\n<p>Usually switching locale is done via the <code>i18n</code> interceptor where you put a parameter into request <code>request_locale</code>. But you could switch it by changing locale in the action context (make sure you are running the same thread as current).</p>\n\n<hr>\n\n<pre><code>ActionContext.getContext().setLocale(new Locale(\"es\"));\n</code></pre>\n\n<p>You should run this code before any <code>getText()</code> is executed to get localized messages.</p>\n"},{"tags":[],"owner":{"account_id":4568113,"reputation":434,"user_id":3708589,"display_name":"paka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452714301,"creation_date":1452714301,"answer_id":34775674,"question_id":18407063,"body_markdown":"For me worked (like Aleksandr M wrote on last paragraph):\r\n\r\n`&lt;s:select listValue=&quot;%{getText(value)}&quot; listKey=&quot;key&quot; list=&quot;phoneTypes&gt;&lt;/s:select&gt;`\r\n\r\nonly I created\r\n\r\n`phoneTypes = new HashMap&lt;String, String&gt;()\r\n phoneTypes.put(&quot;HOME&quot;, &quot;HOME&quot;)\r\n phoneTypes.put(&quot;WORK&quot;, &quot;WORK&quot;) \r\n etc..`\r\n\r\nIn this case keys are left out (you can write anything here) and on page displays (translated) values.\r\nThis solution does not work with list, only map.","title":"i18n on dropdown menu using s:select tag","body":"<p>For me worked (like Aleksandr M wrote on last paragraph):</p>\n\n<p><code>&lt;s:select listValue=\"%{getText(value)}\" listKey=\"key\" list=\"phoneTypes&gt;&lt;/s:select&gt;</code></p>\n\n<p>only I created</p>\n\n<p><code>phoneTypes = new HashMap&lt;String, String&gt;()\n phoneTypes.put(\"HOME\", \"HOME\")\n phoneTypes.put(\"WORK\", \"WORK\") \n etc..</code></p>\n\n<p>In this case keys are left out (you can write anything here) and on page displays (translated) values.\nThis solution does not work with list, only map.</p>\n"}],"owner":{"account_id":3206845,"reputation":129,"user_id":2707760,"accept_rate":62,"display_name":"user2707760"},"comment_count":13,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2645,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1456388776,"answer_count":3,"score":2,"last_activity_date":1696842951,"creation_date":1377273339,"question_id":18407063,"body_markdown":"I have a dropdown menu in my JSP page which is implemented with `&lt;s:select&gt;` tag it is as \r\n        \r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\r\n     listKey=&quot;key&quot; listValue=&quot;value&quot; list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;/&gt;\r\n   \r\nNow the values in the dropdown menu are from the list `phonetypes` which is implemented as a `HashMap` in `.java` file.\r\n  \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    phoneTypes = new LinkedHashMap&lt;Integer, String&gt;();\r\n    phoneTypes.put(new Integer(1), getText(&quot;HOME&quot;));\r\n    // Phone ContactBook category for the business phone\r\n    phoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_PHONE_CATEGORY), getText(&quot;WORK&quot;));\r\n    phoneTypes.put(new Integer(3), getText(&quot;MOBILE&quot;));\r\n    phoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_FAX_CATEGORY), getText(&quot;FAX&quot;));\r\n    phoneTypes.put(new Integer(5), getText(&quot;OTHER&quot;));\r\n\r\n    preferredContact = new ArrayList&lt;String&gt;();\r\n    preferredContact.add(getText(&quot;HOME&quot;));\r\n    preferredContact.add(getText(&quot;WORK&quot;));\r\n    preferredContact.add(getText(&quot;MOBILE&quot;));\r\n    preferredContact.add(getText(&quot;FAX&quot;));\r\n    preferredContact.add(getText(&quot;EMAIL&quot;));\r\n    preferredContact.add(getText(&quot;OTHER&quot;));\r\n    \r\n    bestContactTime = new ArrayList&lt;String&gt;();\r\n    bestContactTime.add(getText(&quot;AFTERNOON&quot;));\r\n    bestContactTime.add(getText(&quot;EVENING&quot;));\r\n    bestContactTime.add(getText(&quot;MORNING&quot;));\r\n\r\n            \r\nThe keys like `home=home`, `work=work`, etc., are in a `.properties` file I am working on internationalizing this page and I&#39;m unable to find a way to get the translations for the \r\nvalues in the dropdown menu.\r\n\r\n\r\n\r\n","title":"i18n on dropdown menu using s:select tag","body":"<p>I have a dropdown menu in my JSP page which is implemented with <code>&lt;s:select&gt;</code> tag it is as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;s:select name=&quot;priorToApplyingInfo.userProfile.phoneNumbers[0].type&quot;\n listKey=&quot;key&quot; listValue=&quot;value&quot; list=&quot;phoneTypes&quot; headerKey=&quot;0&quot; headerValue=&quot;&quot;/&gt;\n</code></pre>\n<p>Now the values in the dropdown menu are from the list <code>phonetypes</code> which is implemented as a <code>HashMap</code> in <code>.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>phoneTypes = new LinkedHashMap&lt;Integer, String&gt;();\nphoneTypes.put(new Integer(1), getText(&quot;HOME&quot;));\n// Phone ContactBook category for the business phone\nphoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_PHONE_CATEGORY), getText(&quot;WORK&quot;));\nphoneTypes.put(new Integer(3), getText(&quot;MOBILE&quot;));\nphoneTypes.put(new Integer(DAOHelperFactory.OWNER_PROFILE_FAX_CATEGORY), getText(&quot;FAX&quot;));\nphoneTypes.put(new Integer(5), getText(&quot;OTHER&quot;));\n\npreferredContact = new ArrayList&lt;String&gt;();\npreferredContact.add(getText(&quot;HOME&quot;));\npreferredContact.add(getText(&quot;WORK&quot;));\npreferredContact.add(getText(&quot;MOBILE&quot;));\npreferredContact.add(getText(&quot;FAX&quot;));\npreferredContact.add(getText(&quot;EMAIL&quot;));\npreferredContact.add(getText(&quot;OTHER&quot;));\n\nbestContactTime = new ArrayList&lt;String&gt;();\nbestContactTime.add(getText(&quot;AFTERNOON&quot;));\nbestContactTime.add(getText(&quot;EVENING&quot;));\nbestContactTime.add(getText(&quot;MORNING&quot;));\n\n        \n</code></pre>\n<p>The keys like <code>home=home</code>, <code>work=work</code>, etc., are in a <code>.properties</code> file I am working on internationalizing this page and I'm unable to find a way to get the translations for the\nvalues in the dropdown menu.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9998,"page":136,"page_size":100}
