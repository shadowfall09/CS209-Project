{"items":[{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698757144,"post_id":77396037,"comment_id":136443404,"body_markdown":"How exactly are you calculating &quot;encryption_key_for_resolved_topic&quot;? Is this some database lookup? A Hashmap? Why cannot this function store its own cache of created templates, rather than make the same template repeatedly for the same topic/key pair? Otherwise, I&#39;m not sure I understand how this question is unique to Spring ; you&#39;d have the same issue with plain KafkaProducer... You could also use a ProducerInterceptor for the key, but it&#39;s not clear from the example how the serializer uses that config you&#39;ve added","body":"How exactly are you calculating &quot;encryption_key_for_resolved_topic&quot;? Is this some database lookup? A Hashmap? Why cannot this function store its own cache of created templates, rather than make the same template repeatedly for the same topic/key pair? Otherwise, I&#39;m not sure I understand how this question is unique to Spring ; you&#39;d have the same issue with plain KafkaProducer... You could also use a ProducerInterceptor for the key, but it&#39;s not clear from the example how the serializer uses that config you&#39;ve added"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1698757528,"post_id":77396037,"comment_id":136443480,"body_markdown":"On the other side, yes, you can use the same consumer, since each consumer record has a topic field, and the deserializer also has access to the topic name, so your decryption logic could be placed there, and conditionally triggered by any topic name, such as making remote calls to some keystore, or pulling from a cache for previously seen topic names","body":"On the other side, yes, you can use the same consumer, since each consumer record has a topic field, and the deserializer also has access to the topic name, so your decryption logic could be placed there, and conditionally triggered by any topic name, such as making remote calls to some keystore, or pulling from a cache for previously seen topic names"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1698757791,"post_id":77396037,"comment_id":136443528,"body_markdown":"You can use a single `KafkaTemplate` configured with a `DelegatingByTopicSerializer`.","body":"You can use a single <code>KafkaTemplate</code> configured with a <code>DelegatingByTopicSerializer</code>."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698757782,"creation_date":1698757782,"answer_id":77396185,"question_id":77396037,"body_markdown":"You can use a single `KafkaTemplate` configured with a `DelegatingByTopicSerializer`.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\r\n\r\n```java\r\n@Bean\r\npublic ProducerFactory&lt;Integer, Object&gt; producerFactory(Map&lt;String, Object&gt; config) {\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(config,\r\n            new IntegerSerializer(),\r\n            new DelegatingByTopicSerializer(Map.of(\r\n                    Pattern.compile(&quot;topic[0-4]&quot;), new ByteArraySerializer(),\r\n                    Pattern.compile(&quot;topic[5-9]&quot;), new StringSerializer())),\r\n                    new JsonSerializer&lt;Object&gt;());  // default\r\n}\r\n```","title":"Multiple kafka producers and consumers with different configuration details with spring-kafka","body":"<p>You can use a single <code>KafkaTemplate</code> configured with a <code>DelegatingByTopicSerializer</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#by-topic</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ProducerFactory&lt;Integer, Object&gt; producerFactory(Map&lt;String, Object&gt; config) {\n    return new DefaultKafkaProducerFactory&lt;&gt;(config,\n            new IntegerSerializer(),\n            new DelegatingByTopicSerializer(Map.of(\n                    Pattern.compile(&quot;topic[0-4]&quot;), new ByteArraySerializer(),\n                    Pattern.compile(&quot;topic[5-9]&quot;), new StringSerializer())),\n                    new JsonSerializer&lt;Object&gt;());  // default\n}\n</code></pre>\n"}],"owner":{"account_id":16363793,"reputation":11,"user_id":11818744,"display_name":"Diana Fagateanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698757782,"creation_date":1698756449,"question_id":77396037,"body_markdown":"We have an API that connects to multiple kafka topics to produce and consume kafka messages. We use spring-kafka and apart from the topic name (which can be provided at runtime for both consumers and producers), we have another property that is different per topic (the encryption key for serializing/deserializing kafka messages) which raise the issue that we cannot reuse the same kafka producer/ kafka consumer configuration for all topics. \r\n\r\nThe initial approach that we came with is:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableKafka\r\n@RequiredArgsConstructor\r\npublic class KafkaProducerConfig {\r\n\r\n    private final KafkaProperties properties;\r\n\r\n    @Bean(name = TOPIC_1_PRODUCER)\r\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic1() {\r\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\r\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_1&quot;);\r\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\r\n    }\r\n\r\n    @Bean(name = TOPIC_2_PRODUCER)\r\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic2() {\r\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\r\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_2&quot;);\r\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\r\n    }\r\n\r\n    @Bean(name = TOPIC_3_PRODUCER)\r\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic3() {\r\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\r\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_3&quot;);\r\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\r\n    }\r\n}\r\n```\r\n\r\n\r\nWith this approach, we will need a new KafkaTemplate bean for every new topic where we need to produce messages, so basically one kafka template per topic and the associated kafkaTemplate bean will be injected in the service designed to produce the kafka messages for that particular topic.\r\n\r\nThe 2nd approach would be to use only one KafkaTemplate bean (one kafka producer) and provide the encryption key at runtime. For this one I had a look at https://stackoverflow.com/questions/67688992/any-possibility-that-i-can-provide-configuration-details-at-run-time-to-producer and came with the below implementation:\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableKafka\r\n@RequiredArgsConstructor\r\npublic class KafkaProducerConfig {\r\n\r\n    private final KafkaProperties properties;\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, GenericRecord&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerProps);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nAnd the publisher service:\r\n\r\n```\r\n\r\n@Slf4j\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class KafkaProducer {\r\n\r\n    private final ProducerFactory&lt;String, GenericRecord&gt; producerFactory;\r\n    private final TopicResolver topicResolver;\r\n\r\n    public void sendMessage(GenericRecord genericRecord) {\r\n        TopicInfo topicInfo = topicResolver.resolve(genericRecord);\r\n\r\n        Map&lt;String, Object&gt; configOverrides = new HashMap&lt;&gt;();\r\n        configOverrides.put(ENCRYPTION_KEY, &quot;encryption_key_for_resolved_topic&quot;);\r\n        KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory, configOverrides);\r\n\r\n        ProducerRecord&lt;String, GenericRecord&gt; producerRecord = new ProducerRecord&lt;&gt;(topicInfo.getTopicName(), genericRecord);\r\n        ListenableFuture&lt;SendResult&lt;String, GenericRecord&gt;&gt; listenableFuture = kafkaTemplate.send(producerRecord);\r\n        listenableFuture.addCallback(new KafkaSendCallback&lt;String, GenericRecord&gt;() {\r\n            @Override\r\n            public void onSuccess(SendResult&lt;String, GenericRecord&gt; result) {\r\n                log.info(&quot;Kafka message successfully sent&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(@NonNull KafkaProducerException ex) {\r\n                log.error(&quot;Kafka message failed to be sent with error {}&quot;, ex.getMessage());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nBy using this approach, **a new KafkaTemplate instance** will be created for each message produced, which I guess is not framework intended and I don&#39;t know how this could affect kafka **performance** overall.\r\n\r\nWhat is your view between the 2 approaches presented? Is there any other possible solution to provide the configuration at runtime while using one KakaTemplate bean/one kafka producer?\r\n\r\nWe have the same need on the consumer side.\r\n","title":"Multiple kafka producers and consumers with different configuration details with spring-kafka","body":"<p>We have an API that connects to multiple kafka topics to produce and consume kafka messages. We use spring-kafka and apart from the topic name (which can be provided at runtime for both consumers and producers), we have another property that is different per topic (the encryption key for serializing/deserializing kafka messages) which raise the issue that we cannot reuse the same kafka producer/ kafka consumer configuration for all topics.</p>\n<p>The initial approach that we came with is:</p>\n<pre><code>@Configuration\n@EnableKafka\n@RequiredArgsConstructor\npublic class KafkaProducerConfig {\n\n    private final KafkaProperties properties;\n\n    @Bean(name = TOPIC_1_PRODUCER)\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic1() {\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_1&quot;);\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\n    }\n\n    @Bean(name = TOPIC_2_PRODUCER)\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic2() {\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_2&quot;);\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\n    }\n\n    @Bean(name = TOPIC_3_PRODUCER)\n    public KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplateTopic3() {\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\n        producerProps.put(ENCRYPTION_KEY, &quot;encryption_key_for_topic_3&quot;);\n        return new KafkaTemplate&lt;&gt;(new DefaultKafkaProducerFactory&lt;&gt;(producerProps));\n    }\n}\n</code></pre>\n<p>With this approach, we will need a new KafkaTemplate bean for every new topic where we need to produce messages, so basically one kafka template per topic and the associated kafkaTemplate bean will be injected in the service designed to produce the kafka messages for that particular topic.</p>\n<p>The 2nd approach would be to use only one KafkaTemplate bean (one kafka producer) and provide the encryption key at runtime. For this one I had a look at <a href=\"https://stackoverflow.com/questions/67688992/any-possibility-that-i-can-provide-configuration-details-at-run-time-to-producer\">Any possibility that I can provide configuration details at run time to producer and consumer in spring-kafka?</a> and came with the below implementation:</p>\n<pre><code>@Configuration\n@EnableKafka\n@RequiredArgsConstructor\npublic class KafkaProducerConfig {\n\n    private final KafkaProperties properties;\n\n    @Bean\n    public ProducerFactory&lt;String, GenericRecord&gt; producerFactory() {\n        Map&lt;String, Object&gt; producerProps = properties.buildProducerProperties();\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerProps);\n    }\n    \n}\n</code></pre>\n<p>And the publisher service:</p>\n<pre><code>\n@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class KafkaProducer {\n\n    private final ProducerFactory&lt;String, GenericRecord&gt; producerFactory;\n    private final TopicResolver topicResolver;\n\n    public void sendMessage(GenericRecord genericRecord) {\n        TopicInfo topicInfo = topicResolver.resolve(genericRecord);\n\n        Map&lt;String, Object&gt; configOverrides = new HashMap&lt;&gt;();\n        configOverrides.put(ENCRYPTION_KEY, &quot;encryption_key_for_resolved_topic&quot;);\n        KafkaTemplate&lt;String, GenericRecord&gt; kafkaTemplate = new KafkaTemplate&lt;&gt;(producerFactory, configOverrides);\n\n        ProducerRecord&lt;String, GenericRecord&gt; producerRecord = new ProducerRecord&lt;&gt;(topicInfo.getTopicName(), genericRecord);\n        ListenableFuture&lt;SendResult&lt;String, GenericRecord&gt;&gt; listenableFuture = kafkaTemplate.send(producerRecord);\n        listenableFuture.addCallback(new KafkaSendCallback&lt;String, GenericRecord&gt;() {\n            @Override\n            public void onSuccess(SendResult&lt;String, GenericRecord&gt; result) {\n                log.info(&quot;Kafka message successfully sent&quot;);\n            }\n\n            @Override\n            public void onFailure(@NonNull KafkaProducerException ex) {\n                log.error(&quot;Kafka message failed to be sent with error {}&quot;, ex.getMessage());\n            }\n        });\n    }\n}\n</code></pre>\n<p>By using this approach, <strong>a new KafkaTemplate instance</strong> will be created for each message produced, which I guess is not framework intended and I don't know how this could affect kafka <strong>performance</strong> overall.</p>\n<p>What is your view between the 2 approaches presented? Is there any other possible solution to provide the configuration at runtime while using one KakaTemplate bean/one kafka producer?</p>\n<p>We have the same need on the consumer side.</p>\n"},{"tags":["java","playframework","keycloak"],"answers":[{"tags":[],"owner":{"account_id":11239377,"reputation":1307,"user_id":8244247,"display_name":"Joseph Budin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628497877,"creation_date":1628497877,"answer_id":68709031,"question_id":68664168,"body_markdown":"It turns out that the problem came from the TimeZone configuration of Java on my server. It was different from the system&#39;s TimeZone (which incidentally was also Keycloak&#39;s time zone).\r\n\r\nThis difference in time zones created an artificial lag between the request from the client and the response from the server, leading it to believe that the socket has been waiting for an hour (or more, depending on what gap there is between the time zones).\r\n\r\nThe solution I found is to set the TimeZone parameter to the system&#39;s time zone when launching my app by setting `-Duser.timezone=CET` in the `JAVA_OPTS`.","title":"SocketTimeoutException with Keycloak and Play Framework","body":"<p>It turns out that the problem came from the TimeZone configuration of Java on my server. It was different from the system's TimeZone (which incidentally was also Keycloak's time zone).</p>\n<p>This difference in time zones created an artificial lag between the request from the client and the response from the server, leading it to believe that the socket has been waiting for an hour (or more, depending on what gap there is between the time zones).</p>\n<p>The solution I found is to set the TimeZone parameter to the system's time zone when launching my app by setting <code>-Duser.timezone=CET</code> in the <code>JAVA_OPTS</code>.</p>\n"},{"tags":[],"owner":{"account_id":11239377,"reputation":1307,"user_id":8244247,"display_name":"Joseph Budin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698757736,"creation_date":1698757736,"answer_id":77396178,"question_id":68664168,"body_markdown":"Another reason I found was when the Keycloak url was not accessible from the java server due to an invalid configuration of the firewall.\r\n\r\nYou can check it via the command `wget keycoak-url.com` from the server where the Application is deployed","title":"SocketTimeoutException with Keycloak and Play Framework","body":"<p>Another reason I found was when the Keycloak url was not accessible from the java server due to an invalid configuration of the firewall.</p>\n<p>You can check it via the command <code>wget keycoak-url.com</code> from the server where the Application is deployed</p>\n"}],"owner":{"account_id":11239377,"reputation":1307,"user_id":8244247,"display_name":"Joseph Budin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":851,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68709031,"answer_count":2,"score":1,"last_activity_date":1698757736,"creation_date":1628156332,"question_id":68664168,"body_markdown":"I am developping a Play! application using Keycloak for authentification purposes. I am moving my Keycloak instance from one server to another (Say server A to server B). \r\nEverything works fine with Keycloak on server A, but using Keycloak on server B, I get the following error each time I try to connect to the App :\r\n \r\n```\r\nplay.api.UnexpectedException: Unexpected exception[RuntimeException: org.pac4j.core.exception.TechnicalException:\r\njava.net.SocketTimeoutException: connect timed out]\r\n        at play.api.http.HttpErrorHandlerExceptions$.throwableToUsefulException(HttpErrorHandler.scala:247)\r\n        at play.api.http.HttpErrorHandlerExceptions.throwableToUsefulException(HttpErrorHandler.scala)\r\n        at play.http.DefaultHttpErrorHandler.throwableToUsefulException(DefaultHttpErrorHandler.java:204)\r\n        at play.http.DefaultHttpErrorHandler.onServerError(DefaultHttpErrorHandler.java:164)\r\n        at play.core.j.JavaHttpErrorHandlerAdapter.$anonfun$onServerError$1(JavaHttpErrorHandlerAdapter.scala:22)\r\n        at play.core.j.JavaHelpers.$anonfun$invokeWithContext$1(JavaHelpers.scala:273)\r\n        at play.core.j.JavaHelpers.withContext(JavaHelpers.scala:284)\r\n        at play.core.j.JavaHelpers.withContext$(JavaHelpers.scala:280)\r\n        at play.core.j.JavaHelpers$.withContext(JavaHelpers.scala:293)\r\n        at play.core.j.JavaHelpers.invokeWithContext(JavaHelpers.scala:272)\r\n```\r\n\r\nInterestingly, when I launch the app locally in dev mode, everything works just fine, however, the error happens when I launch the App on dev mode (on server B).\r\n\r\nI cannot find anything on the net relating to this issue. Has anyone ever encountered it ?\r\n\r\nI am using Keycloak 6.0.1","title":"SocketTimeoutException with Keycloak and Play Framework","body":"<p>I am developping a Play! application using Keycloak for authentification purposes. I am moving my Keycloak instance from one server to another (Say server A to server B).\nEverything works fine with Keycloak on server A, but using Keycloak on server B, I get the following error each time I try to connect to the App :</p>\n<pre><code>play.api.UnexpectedException: Unexpected exception[RuntimeException: org.pac4j.core.exception.TechnicalException:\njava.net.SocketTimeoutException: connect timed out]\n        at play.api.http.HttpErrorHandlerExceptions$.throwableToUsefulException(HttpErrorHandler.scala:247)\n        at play.api.http.HttpErrorHandlerExceptions.throwableToUsefulException(HttpErrorHandler.scala)\n        at play.http.DefaultHttpErrorHandler.throwableToUsefulException(DefaultHttpErrorHandler.java:204)\n        at play.http.DefaultHttpErrorHandler.onServerError(DefaultHttpErrorHandler.java:164)\n        at play.core.j.JavaHttpErrorHandlerAdapter.$anonfun$onServerError$1(JavaHttpErrorHandlerAdapter.scala:22)\n        at play.core.j.JavaHelpers.$anonfun$invokeWithContext$1(JavaHelpers.scala:273)\n        at play.core.j.JavaHelpers.withContext(JavaHelpers.scala:284)\n        at play.core.j.JavaHelpers.withContext$(JavaHelpers.scala:280)\n        at play.core.j.JavaHelpers$.withContext(JavaHelpers.scala:293)\n        at play.core.j.JavaHelpers.invokeWithContext(JavaHelpers.scala:272)\n</code></pre>\n<p>Interestingly, when I launch the app locally in dev mode, everything works just fine, however, the error happens when I launch the App on dev mode (on server B).</p>\n<p>I cannot find anything on the net relating to this issue. Has anyone ever encountered it ?</p>\n<p>I am using Keycloak 6.0.1</p>\n"},{"tags":["java","docker","google-chrome","selenium-webdriver","github-actions"],"comments":[{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1698409930,"post_id":77373389,"comment_id":136405405,"body_markdown":"Please include your GHA workflow in your question. Looks like you can make use of [service containers](https://docs.github.com/en/actions/using-containerized-services/about-service-containers) for your use case.","body":"Please include your GHA workflow in your question. Looks like you can make use of <a href=\"https://docs.github.com/en/actions/using-containerized-services/about-service-containers\" rel=\"nofollow noreferrer\">service containers</a> for your use case."},{"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"score":0,"creation_date":1698424602,"post_id":77373389,"comment_id":136408553,"body_markdown":"Using service containers is not an option for me, since the container is started programmatically using a Docker Java client. In any case, my GHA workflow is the following: https://github.com/bonigarcia/webdrivermanager/blob/master/.github/workflows/build.yml","body":"Using service containers is not an option for me, since the container is started programmatically using a Docker Java client. In any case, my GHA workflow is the following: <a href=\"https://github.com/bonigarcia/webdrivermanager/blob/master/.github/workflows/build.yml\" rel=\"nofollow noreferrer\">github.com/bonigarcia/webdrivermanager/blob/master/.github/&hellip;</a>"},{"owner":{"account_id":10402418,"reputation":12349,"user_id":7670262,"display_name":"Azeem"},"score":0,"creation_date":1698472946,"post_id":77373389,"comment_id":136412825,"body_markdown":"Right. Have you tried to run that command directly? Are there any error logs?","body":"Right. Have you tried to run that command directly? Are there any error logs?"}],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698406669,"creation_date":1698406669,"answer_id":77373857,"question_id":77373389,"body_markdown":"Please have a look on this link [How to access host port from docker containe ](https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/48806927#48806927) and [Can&#39;t curl to localhost](https://github.com/markshust/docker-magento/issues/140)\r\n\r\nInstead of localhost you can try http://host.docker.internal:4444/ ","title":"&quot;Connection refused&quot; when using host network in Docker in GitHub Actions","body":"<p>Please have a look on this link <a href=\"https://stackoverflow.com/questions/31324981/how-to-access-host-port-from-docker-container/48806927#48806927\">How to access host port from docker containe </a> and <a href=\"https://github.com/markshust/docker-magento/issues/140\" rel=\"nofollow noreferrer\">Can't curl to localhost</a></p>\n<p>Instead of localhost you can try <a href=\"http://host.docker.internal:4444/\" rel=\"nofollow noreferrer\">http://host.docker.internal:4444/</a></p>\n"},{"tags":[],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698757712,"creation_date":1698757712,"answer_id":77396176,"question_id":77373389,"body_markdown":"I confirmed this can be done in GH Actions. The problem I experienced was the use of Xvfb. For some reason, using Xvfb does not allow us to use port 4444 in the same session.\r\n\r\nIt is solved as follows:\r\n\r\n- Test: https://github.com/bonigarcia/selenium-examples/blob/main/src/test/java/io/github/bonigarcia/selenium/remote/DockerWdmChromeCdpTest.java\r\n- Workflow: https://github.com/bonigarcia/selenium-examples/blob/main/.github/workflows/docker-java.yml\r\n- Execution: https://github.com/bonigarcia/selenium-examples/actions/runs/6706576135\r\n\r\n","title":"&quot;Connection refused&quot; when using host network in Docker in GitHub Actions","body":"<p>I confirmed this can be done in GH Actions. The problem I experienced was the use of Xvfb. For some reason, using Xvfb does not allow us to use port 4444 in the same session.</p>\n<p>It is solved as follows:</p>\n<ul>\n<li>Test: <a href=\"https://github.com/bonigarcia/selenium-examples/blob/main/src/test/java/io/github/bonigarcia/selenium/remote/DockerWdmChromeCdpTest.java\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/selenium-examples/blob/main/src/test/java/io/github/bonigarcia/selenium/remote/DockerWdmChromeCdpTest.java</a></li>\n<li>Workflow: <a href=\"https://github.com/bonigarcia/selenium-examples/blob/main/.github/workflows/docker-java.yml\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/selenium-examples/blob/main/.github/workflows/docker-java.yml</a></li>\n<li>Execution: <a href=\"https://github.com/bonigarcia/selenium-examples/actions/runs/6706576135\" rel=\"nofollow noreferrer\">https://github.com/bonigarcia/selenium-examples/actions/runs/6706576135</a></li>\n</ul>\n"}],"owner":{"account_id":4420200,"reputation":4708,"user_id":3877746,"accept_rate":100,"display_name":"Boni Garc&#237;a"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77396176,"answer_count":2,"score":0,"last_activity_date":1698757712,"creation_date":1698402389,"question_id":77373389,"body_markdown":"I am starting a Docker container with Chrome inside, as follows:\r\n\r\n```\r\ndocker run --rm --cap-add=SYS_ADMIN --network=host selenoid/vnc:chrome_117.0\r\n```\r\n\r\nIn my local machine, this container listens to incoming requests in the following URL: http://localhost:4444/\r\n\r\nNevertheless, I have a &quot;connection refused&quot; error when trying to connect that URL (http://localhost:4444/) after starting that image (using the host network) in GitHub Actions. The error I get in Java is the following:\r\n\r\n```\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n```\r\n\r\nCan I use the host network in GitHub Actions?","title":"&quot;Connection refused&quot; when using host network in Docker in GitHub Actions","body":"<p>I am starting a Docker container with Chrome inside, as follows:</p>\n<pre><code>docker run --rm --cap-add=SYS_ADMIN --network=host selenoid/vnc:chrome_117.0\n</code></pre>\n<p>In my local machine, this container listens to incoming requests in the following URL: http://localhost:4444/</p>\n<p>Nevertheless, I have a &quot;connection refused&quot; error when trying to connect that URL (http://localhost:4444/) after starting that image (using the host network) in GitHub Actions. The error I get in Java is the following:</p>\n<pre><code>Caused by: java.net.ConnectException: Connection refused (Connection refused)\n</code></pre>\n<p>Can I use the host network in GitHub Actions?</p>\n"},{"tags":["java","json","jsonobjectrequest"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1698752623,"post_id":77395567,"comment_id":136442593,"body_markdown":"How did you how that string?","body":"How did you how that string?"},{"owner":{"account_id":29262711,"reputation":15,"user_id":22419286,"display_name":"tom"},"score":0,"creation_date":1698752685,"post_id":77395567,"comment_id":136442603,"body_markdown":"It comes from kafka payload request","body":"It comes from kafka payload request"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":3,"creation_date":1698753696,"post_id":77395567,"comment_id":136442780,"body_markdown":"This is not compiling. That is, though you have pasted a Java statement, it has some error in the string itself. Can you check and paste the right one? Then something can be done to clean it up into a proper JSON string.","body":"This is not compiling. That is, though you have pasted a Java statement, it has some error in the string itself. Can you check and paste the right one? Then something can be done to clean it up into a proper JSON string."},{"owner":{"account_id":29262711,"reputation":15,"user_id":22419286,"display_name":"tom"},"score":0,"creation_date":1698754097,"post_id":77395567,"comment_id":136442862,"body_markdown":"@SreeKumar I updated my string","body":"@SreeKumar I updated my string"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":3,"creation_date":1698754309,"post_id":77395567,"comment_id":136442897,"body_markdown":"There are 2 double quotes in the beginning. That will not compile. I guess your source of the string is not correct.","body":"There are 2 double quotes in the beginning. That will not compile. I guess your source of the string is not correct."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1698755311,"post_id":77395567,"comment_id":136443078,"body_markdown":"As Sree Kumar said, your code is not valid Java, even after the edit. Besides that, you should pass the string to a JSON decoder, as many times as it has been passed to a JSON encoder. But think about fixing the software (setup) that causes re-encoding a JSON string into a JSON string so many times.","body":"As Sree Kumar said, your code is not valid Java, even after the edit. Besides that, you should pass the string to a JSON decoder, as many times as it has been passed to a JSON encoder. But think about fixing the software (setup) that causes re-encoding a JSON string into a JSON string so many times."},{"owner":{"account_id":29262711,"reputation":15,"user_id":22419286,"display_name":"tom"},"score":0,"creation_date":1698755408,"post_id":77395567,"comment_id":136443099,"body_markdown":"@SreeKumar I compiled it.It compiles properly now","body":"@SreeKumar I compiled it.It compiles properly now"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1698756172,"post_id":77395567,"comment_id":136443227,"body_markdown":"If you copied the actual string, the code would have passed the compiler right from the start. So you didn’t copy the actual string but something else, followed by several edits to make it pass the compiler. This makes it even less likely that this is the original string of your problem. But, as said, if you get such matryoshka JSON strings on a repeatedly, fix the software setup instead of trying to convert the string on your own.","body":"If you copied the actual string, the code would have passed the compiler right from the start. So you didn’t copy the actual string but something else, followed by several edits to make it pass the compiler. This makes it even less likely that this is the original string of your problem. But, as said, if you get such matryoshka JSON strings on a repeatedly, fix the software setup instead of trying to convert the string on your own."},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698798974,"post_id":77395567,"comment_id":136450595,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698758602,"post_id":77396093,"comment_id":136443686,"body_markdown":"If you use an `ObjectMapper` anyway, why not let it do the job instead of an error prone replacement operation, e.g. perform `while(text.startsWith(&quot;\\&quot;&quot;)) text = om.readValue(text, String.class);` right before the `Map map = om.readValue(text, Map.class);`","body":"If you use an <code>ObjectMapper</code> anyway, why not let it do the job instead of an error prone replacement operation, e.g. perform <code>while(text.startsWith(&quot;\\&quot;&quot;)) text = om.readValue(text, String.class);</code> right before the <code>Map map = om.readValue(text, Map.class);</code>"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1698814023,"post_id":77396093,"comment_id":136451707,"body_markdown":"@Holger (a) `ObjectMapper` is only an example. The user may use any other tool. (b) Agreed. I am all for avoiding any replacement operation where possible. That is why I specifically mentioned that I am only trying to show a process of analysis-solution and needs to be done in the right way/order.","body":"@Holger (a) <code>ObjectMapper</code> is only an example. The user may use any other tool. (b) Agreed. I am all for avoiding any replacement operation where possible. That is why I specifically mentioned that I am only trying to show a process of analysis-solution and needs to be done in the right way/order."}],"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698757067,"creation_date":1698757067,"answer_id":77396093,"question_id":77395567,"body_markdown":"Writing down here only to show how to analyze such issues and design a solution. The solution being presented here is only for the particular string pasted and any that have similar extra characters.\r\n\r\nApproach:\r\n\r\n1. Study the string to know the included patterns.\r\n2. Create patterns to remove or replace them **in the right order**.\r\n\r\nHere is a class that achieves it for the string in question. I have added some comments to explain the approach.\r\n\r\n```java\r\npublic class SOCleanupJSONString {\r\n    public static void main(String[] args) {\r\n        String text=&quot;\\&quot;\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:29\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:30\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;isDeleted\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:false,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;messageValue\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;hello world\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;status\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;CREATED\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;priority\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:1\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;&quot;;\r\n\r\n        /* 1. Extract the JSON block from the string. \r\n           NOTE: This pattern is only for object blocks. You may have array blocks as well. Please change this pattern for that. */\r\n        Pattern JSON_BLOCK = Pattern.compile( &quot;\\\\{.*}&quot; );\r\n        Matcher m = JSON_BLOCK.matcher( text );\r\n        if( m.find() ) {\r\n            text = m.group();\r\n            System.out.println(text);\r\n\r\n            /* 2. Un-escape quotes */\r\n            text = text.replaceAll(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\r\n\r\n            /* 3. Remove (JSON escaped) newline text */\r\n            text = text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;&quot; );\r\n\r\n            /* 4. Remove all extra double-slashes.\r\n             *    NOTE: This can be erroneous, if the pattern appears within a value. */\r\n            text = text.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot; );\r\n            System.out.println(text);\r\n        }\r\n        else System.out.println( &quot;No JSON block found&quot; );\r\n\r\n        parse( text );\r\n\r\n    }\r\n\r\n    private static void parse( String text ){\r\n        ObjectMapper om = new ObjectMapper();\r\n        try {\r\n            Map map = om.readValue( text, Map.class );\r\n            System.out.println( map );\r\n        }\r\n        catch (JsonProcessingException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nResultant JSON string:\r\n```json\r\n{&quot;createdAt&quot;:&quot;2023-10-31T11:43:29&quot;,&quot;updatedAt&quot;:&quot;2023-10-31T11:43:30&quot;,&quot;createdBy&quot;:null,&quot;updatedBy&quot;:null,&quot;isDeleted&quot;:false,&quot;messageValue&quot;:{&quot;name&quot;:&quot;hello world&quot;,&quot;status&quot;:&quot;CREATED&quot;,&quot;priority&quot;:1}}\r\n```\r\n\r\nOutput of `Map.toString()` after unmarshalling the above to a `Map` instance using Jackson:\r\n```\r\n{createdAt=2023-10-31T11:43:29, updatedAt=2023-10-31T11:43:30, createdBy=null, updatedBy=null, isDeleted=false, messageValue={name=hello world, status=CREATED, priority=1}}\r\n```\r\n","title":"convert jsonString contains special characters to jsonObject","body":"<p>Writing down here only to show how to analyze such issues and design a solution. The solution being presented here is only for the particular string pasted and any that have similar extra characters.</p>\n<p>Approach:</p>\n<ol>\n<li>Study the string to know the included patterns.</li>\n<li>Create patterns to remove or replace them <strong>in the right order</strong>.</li>\n</ol>\n<p>Here is a class that achieves it for the string in question. I have added some comments to explain the approach.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SOCleanupJSONString {\n    public static void main(String[] args) {\n        String text=&quot;\\&quot;\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:29\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:30\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;isDeleted\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:false,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;messageValue\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;hello world\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;status\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;CREATED\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;priority\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:1\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;&quot;;\n\n        /* 1. Extract the JSON block from the string. \n           NOTE: This pattern is only for object blocks. You may have array blocks as well. Please change this pattern for that. */\n        Pattern JSON_BLOCK = Pattern.compile( &quot;\\\\{.*}&quot; );\n        Matcher m = JSON_BLOCK.matcher( text );\n        if( m.find() ) {\n            text = m.group();\n            System.out.println(text);\n\n            /* 2. Un-escape quotes */\n            text = text.replaceAll(&quot;\\\\\\&quot;&quot;, &quot;\\&quot;&quot;);\n\n            /* 3. Remove (JSON escaped) newline text */\n            text = text.replaceAll(&quot;\\\\\\\\n&quot;, &quot;&quot; );\n\n            /* 4. Remove all extra double-slashes.\n             *    NOTE: This can be erroneous, if the pattern appears within a value. */\n            text = text.replaceAll(&quot;\\\\\\\\&quot;, &quot;&quot; );\n            System.out.println(text);\n        }\n        else System.out.println( &quot;No JSON block found&quot; );\n\n        parse( text );\n\n    }\n\n    private static void parse( String text ){\n        ObjectMapper om = new ObjectMapper();\n        try {\n            Map map = om.readValue( text, Map.class );\n            System.out.println( map );\n        }\n        catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n<p>Resultant JSON string:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;createdAt&quot;:&quot;2023-10-31T11:43:29&quot;,&quot;updatedAt&quot;:&quot;2023-10-31T11:43:30&quot;,&quot;createdBy&quot;:null,&quot;updatedBy&quot;:null,&quot;isDeleted&quot;:false,&quot;messageValue&quot;:{&quot;name&quot;:&quot;hello world&quot;,&quot;status&quot;:&quot;CREATED&quot;,&quot;priority&quot;:1}}\n</code></pre>\n<p>Output of <code>Map.toString()</code> after unmarshalling the above to a <code>Map</code> instance using Jackson:</p>\n<pre><code>{createdAt=2023-10-31T11:43:29, updatedAt=2023-10-31T11:43:30, createdBy=null, updatedBy=null, isDeleted=false, messageValue={name=hello world, status=CREATED, priority=1}}\n</code></pre>\n"}],"owner":{"account_id":29262711,"reputation":15,"user_id":22419286,"display_name":"tom"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77396093,"answer_count":1,"score":1,"last_activity_date":1698757067,"creation_date":1698752376,"question_id":77395567,"body_markdown":"I have jsonString which contains special characters.I want to remove these special characters to obtain proper jsonString then jsonObject.\r\nMy code is  :\r\n```\r\nString text=&quot;\\&quot;\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:29\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:30\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;isDeleted\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:false,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;messageValue\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;hello world\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;status\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;CREATED\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;priority\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:1\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;&quot;;\r\n```\r\n\r\n\r\nDo you have any idea how can i convert inproper string to proper jsonObject.\r\n \r\n\r\n\r\nI have tried replace all method but I still see some characters :(\r\n\r\nWhat i have done until now:\r\n\r\n```\r\ntext.replace(&quot;\\\\&quot;,&quot;&quot;).replace(&quot;\\\\n&quot;,&quot;UUU&quot;).replace(&quot;\\\\n&quot;,TTT&quot;).replace(&quot;\\&quot;\\\\\\&quot;\\\\\\&quot;\\\\\\&quot;\\\\\\&quot;{&quot;,&quot;\\&quot;{&quot;)\r\n```\r\n","title":"convert jsonString contains special characters to jsonObject","body":"<p>I have jsonString which contains special characters.I want to remove these special characters to obtain proper jsonString then jsonObject.\nMy code is  :</p>\n<pre><code>String text=&quot;\\&quot;\\&quot;\\\\\\&quot;\\\\\\\\\\\\\\&quot;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:29\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedAt\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;2023-10-31T11:43:30\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;createdBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;updatedBy\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:null,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;isDeleted\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:false,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;messageValue\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:{\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;name\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;hello world\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;status\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;CREATED\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;,\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;priority\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\&quot;:1\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\n}\\\\\\\\\\\\\\&quot;\\\\\\&quot;\\&quot;&quot;;\n</code></pre>\n<p>Do you have any idea how can i convert inproper string to proper jsonObject.</p>\n<p>I have tried replace all method but I still see some characters :(</p>\n<p>What i have done until now:</p>\n<pre><code>text.replace(&quot;\\\\&quot;,&quot;&quot;).replace(&quot;\\\\n&quot;,&quot;UUU&quot;).replace(&quot;\\\\n&quot;,TTT&quot;).replace(&quot;\\&quot;\\\\\\&quot;\\\\\\&quot;\\\\\\&quot;\\\\\\&quot;{&quot;,&quot;\\&quot;{&quot;)\n</code></pre>\n"},{"tags":["java","spring","tomcat"],"answers":[{"comments":[{"owner":{"account_id":25841751,"reputation":51,"user_id":19577199,"display_name":"Gokul P"},"score":1,"creation_date":1698750221,"post_id":66703463,"comment_id":136442193,"body_markdown":"A small change:\nSpring Framework 5.3.x supports JDK 8-21 (as of 5.3.26)","body":"A small change: Spring Framework 5.3.x supports JDK 8-21 (as of 5.3.26)"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1698756766,"post_id":66703463,"comment_id":136443332,"body_markdown":"Updated, thanks.","body":"Updated, thanks."}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1698756743,"creation_date":1616135222,"answer_id":66703463,"question_id":66700334,"body_markdown":"_&quot;ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet&quot;_: your problem falls into the category of [this question](https://stackoverflow.com/q/10382929/11748454), but I believe it slightly differs from it.\r\n\r\nSpring comes with a repackaged version of ASM, that in the 5.1.x series supports only Java up to 12. Switch to the 5.2.x series for Java 13 support.\r\n\r\nSince your project is new (no compatibility issues) I would use the newest Spring version released (5.3.4 at the time of writing).\r\n\r\n**Edit**: A small summary of the Java versions supported by Spring&#39;s repackaged ASM:\r\n\r\n - Spring 5.0.x: version check commented out (cf. [source code](https://github.com/spring-projects/spring-framework/blob/d159cb65915840b2dc2297ee6b40309b8aa5d2aa/spring-core/src/main/java/org/springframework/asm/ClassReader.java#L181)),\r\n - Spring 5.1.x: up to Java 12,\r\n - Spring 5.2.x: up to Java 15,\r\n - Spring 5.3.x: up to Java 21.","title":"Eclipse:Tomcat: Failed to read candidate component class:","body":"<p><em>&quot;ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet&quot;</em>: your problem falls into the category of <a href=\"https://stackoverflow.com/q/10382929/11748454\">this question</a>, but I believe it slightly differs from it.</p>\n<p>Spring comes with a repackaged version of ASM, that in the 5.1.x series supports only Java up to 12. Switch to the 5.2.x series for Java 13 support.</p>\n<p>Since your project is new (no compatibility issues) I would use the newest Spring version released (5.3.4 at the time of writing).</p>\n<p><strong>Edit</strong>: A small summary of the Java versions supported by Spring's repackaged ASM:</p>\n<ul>\n<li>Spring 5.0.x: version check commented out (cf. <a href=\"https://github.com/spring-projects/spring-framework/blob/d159cb65915840b2dc2297ee6b40309b8aa5d2aa/spring-core/src/main/java/org/springframework/asm/ClassReader.java#L181\" rel=\"nofollow noreferrer\">source code</a>),</li>\n<li>Spring 5.1.x: up to Java 12,</li>\n<li>Spring 5.2.x: up to Java 15,</li>\n<li>Spring 5.3.x: up to Java 21.</li>\n</ul>\n"}],"owner":{"account_id":16981025,"reputation":141,"user_id":12507567,"display_name":"Jaden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698756743,"creation_date":1616108641,"question_id":66700334,"body_markdown":"Can someone tell me how to solve this issue?  As a freshman in Spring, I searched and tried a lot but still no ideas. This is my Java build path.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is my pom.xml file\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;net.codejava.contact&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ContactManager&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;release&gt;13&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.3&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      \r\n      \r\n      &lt;properties&gt;\r\n          &lt;spring.version&gt;5.1.9.RELEASE&lt;/spring.version&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t&lt;version&gt;5.1.46&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe Tomcat error stack is as follow\r\n\r\n```none\r\nContext initialization failed\r\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 57\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:275)\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531)\r\n\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:701)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:577)\r\n\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:529)\r\n\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\r\n\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\r\n\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:986)\r\n\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4902)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:772)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\r\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn&#39;t supported yet: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 57\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:57)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\r\n\tat org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\r\n\tat org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\r\n\t... 50 more\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 57\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:184)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:152)\r\n\tat org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:273)\r\n\tat org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\r\n\t... 53 more\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/Y4uLT.png\r\n\r\nI can&#39;t understand what is wrong with this bug, but I really need to fix it and continue the next step.\r\n","title":"Eclipse:Tomcat: Failed to read candidate component class:","body":"<p>Can someone tell me how to solve this issue?  As a freshman in Spring, I searched and tried a lot but still no ideas. This is my Java build path.</p>\n<p><a href=\"https://i.stack.imgur.com/Y4uLT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4uLT.png\" alt=\"enter image description here\" /></a></p>\n<p>This is my pom.xml file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n      &lt;groupId&gt;net.codejava.contact&lt;/groupId&gt;\n      &lt;artifactId&gt;ContactManager&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n      &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;release&gt;13&lt;/release&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.3&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      \n      \n      &lt;properties&gt;\n          &lt;spring.version&gt;5.1.9.RELEASE&lt;/spring.version&gt;\n    &lt;/properties&gt;\n    \n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n                &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n     &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;5.1.46&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The Tomcat error stack is as follow</p>\n<pre class=\"lang-none prettyprint-override\"><code>Context initialization failed\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 57\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:454)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:316)\n    at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:275)\n    at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:132)\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287)\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:242)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199)\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:315)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:705)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:531)\n    at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:701)\n    at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:577)\n    at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:529)\n    at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:169)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1134)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:986)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4902)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:843)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1384)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1374)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:909)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:262)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:434)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:772)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:342)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:473)\nCaused by: org.springframework.core.NestedIOException: ASM ClassReader failed to parse class file - probably due to a new Java class file version that isn't supported yet: file [C:\\Users\\Jaden\\eclipse-workspace\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\ContactManager\\WEB-INF\\classes\\net\\codejava\\contact\\config\\SpringMvcConfig.class]; nested exception is java.lang.IllegalArgumentException: Unsupported class file major version 57\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:57)\n    at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)\n    at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:123)\n    at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:430)\n    ... 50 more\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 57\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:184)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:166)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:152)\n    at org.springframework.asm.ClassReader.&lt;init&gt;(ClassReader.java:273)\n    at org.springframework.core.type.classreading.SimpleMetadataReader.&lt;init&gt;(SimpleMetadataReader.java:54)\n    ... 53 more\n</code></pre>\n<p>I can't understand what is wrong with this bug, but I really need to fix it and continue the next step.</p>\n"},{"tags":["java","android","android-studio","implementation"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1698756402,"post_id":77396011,"comment_id":136443264,"body_markdown":"&quot;I&#39;m encountering an error related to class conflicts when I try to run my app&quot; -- I recommend that you edit your question and provide the actual error output. Also, that library has not been updated in a few years, so you may have better luck using something that is actively maintained.","body":"&quot;I&#39;m encountering an error related to class conflicts when I try to run my app&quot; -- I recommend that you edit your question and provide the actual error output. Also, that library has not been updated in a few years, so you may have better luck using something that is actively maintained."}],"owner":{"account_id":28835794,"reputation":13,"user_id":22085231,"display_name":"Yasin G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698756525,"creation_date":1698756262,"question_id":77396011,"body_markdown":"I&#39;ve decided to create a user guide for a mobile app I&#39;m writing in Java in Android Studio. However, after adding the Spotlight library to the build.gradle file, I&#39;m encountering an error related to class conflicts when I try to run my app.\r\n\r\nMy build gradle is like this : \r\n\r\n```xml\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.yasinguzel.workify&#39;\r\n    compileSdk 33\r\n    viewBinding {\r\n        enabled = true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.yasinguzel.workify&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 4\r\n        versionName &quot;1.3&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n    implementation &quot;androidx.work:work-runtime:2.8.1&quot;\r\n   \r\n\r\n    constraints {\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n\r\n    def room_version = &quot;2.5.2&quot;\r\n\r\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\r\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\r\n    // To use Kotlin Symbol Processing (KSP)\r\n    implementation &#39;com.github.bumptech.glide:glide:4.12.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.12.0&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.6.2&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:22.4.0&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.19.1&#39;\r\n    implementation &#39;com.github.takusemba:spotlight:x.x.x&#39;\r\n}\r\n```\r\n\r\nHow do I make the necessary changes in my build.gradle file to fix this error?&quot;","title":"I cannot implement spotlight library on Android Stuido","body":"<p>I've decided to create a user guide for a mobile app I'm writing in Java in Android Studio. However, after adding the Spotlight library to the build.gradle file, I'm encountering an error related to class conflicts when I try to run my app.</p>\n<p>My build gradle is like this :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.yasinguzel.workify'\n    compileSdk 33\n    viewBinding {\n        enabled = true\n    }\n\n    defaultConfig {\n        applicationId &quot;com.yasinguzel.workify&quot;\n        minSdk 26\n        targetSdk 33\n        versionCode 4\n        versionName &quot;1.3&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n    implementation &quot;androidx.work:work-runtime:2.8.1&quot;\n   \n\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n\n    def room_version = &quot;2.5.2&quot;\n\n    implementation &quot;androidx.room:room-runtime:$room_version&quot;\n    annotationProcessor &quot;androidx.room:room-compiler:$room_version&quot;\n    // To use Kotlin Symbol Processing (KSP)\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.10.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.6.2'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'com.google.android.gms:play-services-ads:22.4.0'\n    implementation 'com.google.android.exoplayer:exoplayer:2.19.1'\n    implementation 'com.github.takusemba:spotlight:x.x.x'\n}\n</code></pre>\n<p>How do I make the necessary changes in my build.gradle file to fix this error?&quot;</p>\n"},{"tags":["java","appium","appium-android"],"answers":[{"comments":[{"owner":{"account_id":24557494,"reputation":3,"user_id":18465787,"display_name":"Ikhszy"},"score":0,"creation_date":1698820465,"post_id":77395939,"comment_id":136452294,"body_markdown":"hi sangle.2170, many thanks for the answer. It worked like a charm, but I&#39;m somehow concerned with the fact that I have to keep calling the class on each of my test. Just wanna know from your point of view:\n1. Why is this issue happening?\n2. Is there any better way to make it more re-usable across all the test I have?","body":"hi sangle.2170, many thanks for the answer. It worked like a charm, but I&#39;m somehow concerned with the fact that I have to keep calling the class on each of my test. Just wanna know from your point of view: 1. Why is this issue happening? 2. Is there any better way to make it more re-usable across all the test I have?"}],"tags":[],"owner":{"account_id":29794609,"reputation":26,"user_id":22834008,"display_name":"sangle.2710"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698756367,"creation_date":1698755705,"answer_id":77395939,"question_id":77356564,"body_markdown":"In test class, try to put `LoginPage lgp = new LoginPage(driver);` \r\ninside the `public void POM001() {}`, then it should work \r\n```\r\npublic class BasicStore extends BaseClass {\r\n    @Test (priority = 1, description = &quot;Enter the general store&quot;)\r\n    public void POM001() {\r\n        LoginPage lgp = new LoginPage(driver);\r\n        // filling the form\r\n        lgp.setName(&quot;Ayumi&quot;); --&gt; I assume this is where things go wrong\r\n        lgp.setGender(&quot;female&quot;);\r\n        lgp.selectCountry(&quot;Bahamas&quot;);\r\n        lgp.login();\r\n        \r\n        threadSleep(3);\r\n        \r\n        // assert that we enter the correct page\r\n        Boolean page = driver.findElement(AppiumBy.id(&quot;com.androidsample.generalstore:id/appbar_btn_cart&quot;)).isDisplayed();\r\n            Assert.assertTrue(page);\r\n    }\r\n}\r\n```","title":"Appium Page Object Model return Garbage Collected","body":"<p>In test class, try to put <code>LoginPage lgp = new LoginPage(driver);</code>\ninside the <code>public void POM001() {}</code>, then it should work</p>\n<pre><code>public class BasicStore extends BaseClass {\n    @Test (priority = 1, description = &quot;Enter the general store&quot;)\n    public void POM001() {\n        LoginPage lgp = new LoginPage(driver);\n        // filling the form\n        lgp.setName(&quot;Ayumi&quot;); --&gt; I assume this is where things go wrong\n        lgp.setGender(&quot;female&quot;);\n        lgp.selectCountry(&quot;Bahamas&quot;);\n        lgp.login();\n        \n        threadSleep(3);\n        \n        // assert that we enter the correct page\n        Boolean page = driver.findElement(AppiumBy.id(&quot;com.androidsample.generalstore:id/appbar_btn_cart&quot;)).isDisplayed();\n            Assert.assertTrue(page);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24557494,"reputation":3,"user_id":18465787,"display_name":"Ikhszy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77395939,"answer_count":1,"score":0,"last_activity_date":1698756367,"creation_date":1698206865,"question_id":77356564,"body_markdown":"I&#39;m pretty new to Appium. I currently follow some video to create a POM Appium android testing. When i try to run the test, it throws this error:\r\n\r\n&gt; java.lang.IllegalStateException: The element By.id: nameText is not locatable anymore because its context has been garbage collected\r\n\r\nfor more information, here I attached my  Page Object class:\r\n\r\n```\r\npublic class LoginPage extends AndroidGestures {\r\n\t\r\n\tAndroidDriver driver;\r\n\t\r\n\tpublic LoginPage(AndroidDriver driver) {\r\n\t\tsuper(driver);\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n\t}\r\n\t\r\n\t@AndroidFindBy(id=&quot;com.androidsample.generalstore:id/nameField&quot;)\r\n\tprivate WebElement nameText;\r\n\t\r\n\t@AndroidFindBy(id=&quot;com.androidsample.generalstore:id/radioMale&quot;)\r\n\tprivate WebElement genderMale;\r\n\t\r\n\t@AndroidFindBy(id=&quot;com.androidsample.generalstore:id/radioFemale&quot;)\r\n\tprivate WebElement genderFemale;\r\n\t\r\n\t@AndroidFindBy(id=&quot;com.androidsample.generalstore:id/btnLetsShop&quot;)\r\n\tprivate WebElement loginButton;\r\n\t\r\n\t@AndroidFindBy(id=&quot;android:id/text1&quot;)\r\n\tprivate WebElement country;\r\n\t\r\n\tpublic void setName(String name) {\r\n\t\tnameText.sendKeys(name);\r\n\t\tdriver.hideKeyboard();\r\n\t}\r\n\t\r\n\tpublic void setGender(String gender) {\r\n\t\tif(gender.toLowerCase().equals(&quot;female&quot;)) {\r\n\t\t\tgenderFemale.click();\r\n\t\t} else if (gender.toLowerCase().equals(&quot;male&quot;)) {\r\n\t\t\tgenderMale.click();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void selectCountry(String cntr) {\r\n\t\tcountry.click();\r\n\t\tscrollDownToTextAndClick(cntr);\r\n\t}\r\n\t\r\n\tpublic void login() {\r\n\t\tloginButton.click();\r\n\t}\r\n\r\n}\r\n```\r\n\r\nTest class:\r\n\r\n```\r\npublic class BasicStore extends BaseClass {\r\n\t\r\n\tLoginPage lgp = new LoginPage(driver);\r\n\t\r\n\t@Test (priority = 1, description = &quot;Enter the general store&quot;)\r\n\tpublic void POM001() {\r\n\t\t\r\n\t\t// filling the form\r\n\t\tlgp.setName(&quot;Ayumi&quot;); --&gt; I assume this is where things go wrong\r\n\t\tlgp.setGender(&quot;female&quot;);\r\n\t\tlgp.selectCountry(&quot;Bahamas&quot;);\r\n\t\tlgp.login();\r\n\t\t\r\n\t\tthreadSleep(3);\r\n\t\t\r\n\t\t// assert that we enter the correct page\r\n\t\tBoolean page = driver.findElement(AppiumBy.id(&quot;com.androidsample.generalstore:id/appbar_btn_cart&quot;)).isDisplayed();\r\n    \t\tAssert.assertTrue(page);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nSome of the things i did try:\r\n- [EDIT] Adding thread.sleep() to wait for the splash screen to finish\r\n- [EDIT] using explicit wait for that element to be visible (10 seconds)\r\n- Reinstall the apps from the emulator\r\n- Creating a new virtual device with significantly bigger VM heap\r\n\r\nAs I&#39;ve been looking around and haven&#39;t found anything related to this (or i was just too impatient), 2 questions pops out:\r\n- What is main cause for this?\r\n- As I saw from the Android studio device manager, seems that VM heap has things to do with Garbage Collection. If possible, given the apps is very simple, what is the recommended number of size for the VM heap, in regards of Appium testing?\r\n\r\nMany thanks in advance for the time and answer!\r\n","title":"Appium Page Object Model return Garbage Collected","body":"<p>I'm pretty new to Appium. I currently follow some video to create a POM Appium android testing. When i try to run the test, it throws this error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: The element By.id: nameText is not locatable anymore because its context has been garbage collected</p>\n</blockquote>\n<p>for more information, here I attached my  Page Object class:</p>\n<pre><code>public class LoginPage extends AndroidGestures {\n    \n    AndroidDriver driver;\n    \n    public LoginPage(AndroidDriver driver) {\n        super(driver);\n        this.driver = driver;\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this);\n    }\n    \n    @AndroidFindBy(id=&quot;com.androidsample.generalstore:id/nameField&quot;)\n    private WebElement nameText;\n    \n    @AndroidFindBy(id=&quot;com.androidsample.generalstore:id/radioMale&quot;)\n    private WebElement genderMale;\n    \n    @AndroidFindBy(id=&quot;com.androidsample.generalstore:id/radioFemale&quot;)\n    private WebElement genderFemale;\n    \n    @AndroidFindBy(id=&quot;com.androidsample.generalstore:id/btnLetsShop&quot;)\n    private WebElement loginButton;\n    \n    @AndroidFindBy(id=&quot;android:id/text1&quot;)\n    private WebElement country;\n    \n    public void setName(String name) {\n        nameText.sendKeys(name);\n        driver.hideKeyboard();\n    }\n    \n    public void setGender(String gender) {\n        if(gender.toLowerCase().equals(&quot;female&quot;)) {\n            genderFemale.click();\n        } else if (gender.toLowerCase().equals(&quot;male&quot;)) {\n            genderMale.click();\n        }\n    }\n    \n    public void selectCountry(String cntr) {\n        country.click();\n        scrollDownToTextAndClick(cntr);\n    }\n    \n    public void login() {\n        loginButton.click();\n    }\n\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>public class BasicStore extends BaseClass {\n    \n    LoginPage lgp = new LoginPage(driver);\n    \n    @Test (priority = 1, description = &quot;Enter the general store&quot;)\n    public void POM001() {\n        \n        // filling the form\n        lgp.setName(&quot;Ayumi&quot;); --&gt; I assume this is where things go wrong\n        lgp.setGender(&quot;female&quot;);\n        lgp.selectCountry(&quot;Bahamas&quot;);\n        lgp.login();\n        \n        threadSleep(3);\n        \n        // assert that we enter the correct page\n        Boolean page = driver.findElement(AppiumBy.id(&quot;com.androidsample.generalstore:id/appbar_btn_cart&quot;)).isDisplayed();\n            Assert.assertTrue(page);\n    }\n}\n\n</code></pre>\n<p>Some of the things i did try:</p>\n<ul>\n<li>[EDIT] Adding thread.sleep() to wait for the splash screen to finish</li>\n<li>[EDIT] using explicit wait for that element to be visible (10 seconds)</li>\n<li>Reinstall the apps from the emulator</li>\n<li>Creating a new virtual device with significantly bigger VM heap</li>\n</ul>\n<p>As I've been looking around and haven't found anything related to this (or i was just too impatient), 2 questions pops out:</p>\n<ul>\n<li>What is main cause for this?</li>\n<li>As I saw from the Android studio device manager, seems that VM heap has things to do with Garbage Collection. If possible, given the apps is very simple, what is the recommended number of size for the VM heap, in regards of Appium testing?</li>\n</ul>\n<p>Many thanks in advance for the time and answer!</p>\n"},{"tags":["java","json","jackson","gson"],"answers":[{"comments":[{"owner":{"account_id":1827585,"reputation":2664,"user_id":1659888,"display_name":"Pamput"},"score":2,"creation_date":1363344803,"post_id":15430148,"comment_id":21823620,"body_markdown":"I know what object binding is, and usually it&#39;s the way I follow when managing json :) But I was looking for a faster way (sometime it&#39;s really too time consuming making beans for something really simple as in the example I suggested).","body":"I know what object binding is, and usually it&#39;s the way I follow when managing json :) But I was looking for a faster way (sometime it&#39;s really too time consuming making beans for something really simple as in the example I suggested)."}],"tags":[],"owner":{"account_id":2080496,"reputation":2305,"user_id":1852582,"accept_rate":73,"display_name":"Parvathy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485174718,"creation_date":1363343781,"answer_id":15430148,"question_id":15429775,"body_markdown":"I think no way.\r\n\r\nConsider a java class\r\n\r\n\r\n    class Student {\r\n        Subject subject = new Subject();\r\n    }\r\n    \r\n    class Subject {\r\n        String name;\r\n    }\r\n\r\nHere if we want to access subject name then \r\n\r\n    Student stud = new Student();\r\n    stud.subject.name; \r\n\r\nWe cant access name directly, if so then we will not get correct subject name. Like here: \r\n\r\n    jsonObject.getAsJsonObject(&quot;data&quot;)\r\n              .getAsJsonObject()\r\n              .get(&quot;data2&quot;)\r\n              .getAsJsonObject(&quot;value&quot;)\r\n              .getAsString();\r\n\r\nIf you want to use same like java object then use \r\n\r\n    ClassName classObject = new Gson().fromJson(JsonString, ClassName.class);\r\n\r\nClassName must have all fields to match jsonstring. If you have a jsonobject inside a jsonobject then you have to create separate class like I&#39;m doing in Student and Subject class.\r\n","title":"Query a JSONObject in java","body":"<p>I think no way.</p>\n\n<p>Consider a java class</p>\n\n<pre><code>class Student {\n    Subject subject = new Subject();\n}\n\nclass Subject {\n    String name;\n}\n</code></pre>\n\n<p>Here if we want to access subject name then </p>\n\n<pre><code>Student stud = new Student();\nstud.subject.name; \n</code></pre>\n\n<p>We cant access name directly, if so then we will not get correct subject name. Like here: </p>\n\n<pre><code>jsonObject.getAsJsonObject(\"data\")\n          .getAsJsonObject()\n          .get(\"data2\")\n          .getAsJsonObject(\"value\")\n          .getAsString();\n</code></pre>\n\n<p>If you want to use same like java object then use </p>\n\n<pre><code>ClassName classObject = new Gson().fromJson(JsonString, ClassName.class);\n</code></pre>\n\n<p>ClassName must have all fields to match jsonstring. If you have a jsonobject inside a jsonobject then you have to create separate class like I'm doing in Student and Subject class.</p>\n"},{"comments":[{"owner":{"account_id":1827585,"reputation":2664,"user_id":1659888,"display_name":"Pamput"},"score":1,"creation_date":1363344469,"post_id":15430193,"comment_id":21823394,"body_markdown":"Yes, I already considered object binding (and actually is the way I usually follow). But a project I&#39;m working on has a really big JSON to manage and its structure changes a lot by time. It&#39;s really time consuming following every change by binding objects. Thanks a lot for your suggestion :)","body":"Yes, I already considered object binding (and actually is the way I usually follow). But a project I&#39;m working on has a really big JSON to manage and its structure changes a lot by time. It&#39;s really time consuming following every change by binding objects. Thanks a lot for your suggestion :)"},{"owner":{"account_id":9147685,"reputation":163,"user_id":6803250,"accept_rate":71,"display_name":"Penman"},"score":1,"creation_date":1502865949,"post_id":15430193,"comment_id":78371419,"body_markdown":"Does this work for those keys that have &quot;.&quot; in them? Like if one key was &quot;link.required&quot; and its node had something like &quot;number&quot;, would &quot;link.required.number&quot; work?","body":"Does this work for those keys that have &quot;.&quot; in them? Like if one key was &quot;link.required&quot; and its node had something like &quot;number&quot;, would &quot;link.required.number&quot; work?"}],"tags":[],"owner":{"account_id":331203,"reputation":4390,"user_id":655756,"display_name":"n1ckolas"},"comment_count":2,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1363343911,"creation_date":1363343911,"answer_id":15430193,"question_id":15429775,"body_markdown":"First of all, I would recommend consider JSON object binding.\r\n\r\nBut in case if you get arbitrary JSON objects and you would like process them in the way you described, I would suggest combine [Jackson JSON processor](http://jackson.codehaus.org/) along with Apache&#39;s [Commons Beanutils](http://commons.apache.org/proper/commons-beanutils/).\r\n\r\nThe idea is the following: Jackson by default process all JSON&#39;s as `java.util.Map` instances, meanwhile Commons Beanutils simplifies property access for objects, including arrays and Map supports.\r\n\r\nSo you may use it something like this:\r\n\r\n    //actually it is a Map instance with maps-fields within\r\n    Object jsonObj = objectMapper.readValue(json, Object.class);\r\n\r\n    Object hello = PropertyUtils.getProperty(jsonObj, &quot;data.data2.value&quot;)\r\n\r\n    System.out.println(hello); //prints hello","title":"Query a JSONObject in java","body":"<p>First of all, I would recommend consider JSON object binding.</p>\n\n<p>But in case if you get arbitrary JSON objects and you would like process them in the way you described, I would suggest combine <a href=\"http://jackson.codehaus.org/\" rel=\"noreferrer\">Jackson JSON processor</a> along with Apache's <a href=\"http://commons.apache.org/proper/commons-beanutils/\" rel=\"noreferrer\">Commons Beanutils</a>.</p>\n\n<p>The idea is the following: Jackson by default process all JSON's as <code>java.util.Map</code> instances, meanwhile Commons Beanutils simplifies property access for objects, including arrays and Map supports.</p>\n\n<p>So you may use it something like this:</p>\n\n<pre><code>//actually it is a Map instance with maps-fields within\nObject jsonObj = objectMapper.readValue(json, Object.class);\n\nObject hello = PropertyUtils.getProperty(jsonObj, \"data.data2.value\")\n\nSystem.out.println(hello); //prints hello\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1662103,"reputation":365,"user_id":1530184,"accept_rate":50,"display_name":"Charles"},"score":3,"creation_date":1439240751,"post_id":15453215,"comment_id":51770339,"body_markdown":"You can change `get` to `path` to avoid nulls.","body":"You can change <code>get</code> to <code>path</code> to avoid nulls."},{"owner":{"account_id":1585668,"reputation":554,"user_id":1470091,"accept_rate":78,"display_name":"SaurabhJinturkar"},"score":2,"creation_date":1467744052,"post_id":15453215,"comment_id":63844796,"body_markdown":"Is there anything similar in Gson?","body":"Is there anything similar in Gson?"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1439328148,"creation_date":1363459616,"answer_id":15453215,"question_id":15429775,"body_markdown":"While not exactly the same, Jackson has Tree Model representation similar to Gson:\r\n\r\n    JsonNode root = objectMapper.readTree(jsonInput);\r\n    return root.get(&quot;data&quot;).get(&quot;data2&quot;).get(&quot;value&quot;).asText();\r\n\r\nso you need to traverse it step by step.\r\n\r\n**EDIT** (August 2015)\r\n\r\nThere actually is now (since Jackson 2.3) support for [JSON Pointer][1] expressions with Jackson. So you could alternatively use:\r\n\r\n    return root.at(&quot;/data/data2/value&quot;).asText();\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6901","title":"Query a JSONObject in java","body":"<p>While not exactly the same, Jackson has Tree Model representation similar to Gson:</p>\n<pre><code>JsonNode root = objectMapper.readTree(jsonInput);\nreturn root.get(&quot;data&quot;).get(&quot;data2&quot;).get(&quot;value&quot;).asText();\n</code></pre>\n<p>so you need to traverse it step by step.</p>\n<p><strong>EDIT</strong> (August 2015)</p>\n<p>There actually is now (since Jackson 2.3) support for <a href=\"https://www.rfc-editor.org/rfc/rfc6901\" rel=\"nofollow noreferrer\">JSON Pointer</a> expressions with Jackson. So you could alternatively use:</p>\n<pre><code>return root.at(&quot;/data/data2/value&quot;).asText();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2334771,"reputation":994,"user_id":2047363,"accept_rate":57,"display_name":"Jeevanantham"},"score":0,"creation_date":1451540376,"post_id":15551391,"comment_id":56825142,"body_markdown":"looks exactly what we need, explanation with sample is very useful any one can good to go with","body":"looks exactly what we need, explanation with sample is very useful any one can good to go with"},{"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"score":0,"creation_date":1521396315,"post_id":15551391,"comment_id":85702239,"body_markdown":"problem is that afaik does not support retrieving parents","body":"problem is that afaik does not support retrieving parents"}],"tags":[],"owner":{"account_id":331203,"reputation":4390,"user_id":655756,"display_name":"n1ckolas"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1445627787,"creation_date":1363879008,"answer_id":15551391,"question_id":15429775,"body_markdown":"I&#39;ve just unexpectedly found very interesting project: [JSON Path](https://github.com/jayway/JsonPath)\r\n\r\n&gt;JsonPath is to JSON what XPATH is to XML, a simple way to extract parts of a given document.\r\n\r\nWith this library you can do what you are requesting even easier, then my previous suggestion:\r\n\r\n    String hello = JsonPath.read(json, &quot;$.data.data2.value&quot;);\r\n\r\n    System.out.println(hello); //prints hello\r\n\r\nHope this might be helpful either.","title":"Query a JSONObject in java","body":"<p>I've just unexpectedly found very interesting project: <a href=\"https://github.com/jayway/JsonPath\" rel=\"noreferrer\">JSON Path</a></p>\n\n<blockquote>\n  <p>JsonPath is to JSON what XPATH is to XML, a simple way to extract parts of a given document.</p>\n</blockquote>\n\n<p>With this library you can do what you are requesting even easier, then my previous suggestion:</p>\n\n<pre><code>String hello = JsonPath.read(json, \"$.data.data2.value\");\n\nSystem.out.println(hello); //prints hello\n</code></pre>\n\n<p>Hope this might be helpful either.</p>\n"},{"tags":[],"owner":{"account_id":13947339,"reputation":61,"user_id":10071761,"display_name":"GSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1531530199,"creation_date":1531411978,"answer_id":51310286,"question_id":15429775,"body_markdown":"You can use org.json\r\n\r\n\t\t\r\n\t\tString json = &quot;{ data: { data2 : { value : &#39;hello&#39;}}}&quot;;\r\n\t\torg.json.JSONObject obj = new org.json.JSONObject(json);\r\n\t\tSystem.out.println(obj.query(&quot;/data/data2/value&quot;));","title":"Query a JSONObject in java","body":"<p>You can use org.json</p>\n\n<pre><code>    String json = \"{ data: { data2 : { value : 'hello'}}}\";\n    org.json.JSONObject obj = new org.json.JSONObject(json);\n    System.out.println(obj.query(\"/data/data2/value\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2305297,"reputation":1882,"user_id":2024692,"accept_rate":100,"display_name":"Cromax"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594975028,"creation_date":1594923647,"answer_id":62941183,"question_id":15429775,"body_markdown":"Using Java JSON API 1.1.x (javax.json) one can make use of new `JavaPointer` interface. Instance implementing this interface can be considered to some extend as kind of XPath expression analog (see [RFC-6901][1] for details). So in your case you could write this:\r\n```java\r\nimport javax.json.*;\r\n//...\r\nvar jp = Json.createPointer(&quot;/data/data2/value&quot;);\r\nSystem.out.println(jp.getValue(jsonObject));\r\n```\r\nIn 1.1.4 version of JSON there&#39;s also nice addition to `JsonStructure` interface (which is implemented by `JsonObject` and `JsonArray`), namely `getValue(String jsonPointer)`. So it all comes down to this simple one-liner:\r\n```java\r\nSystem.out.println(jsonObject.getValue(&quot;/data/data2/value&quot;));\r\n```\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6901","title":"Query a JSONObject in java","body":"<p>Using Java JSON API 1.1.x (javax.json) one can make use of new <code>JavaPointer</code> interface. Instance implementing this interface can be considered to some extend as kind of XPath expression analog (see <a href=\"https://www.rfc-editor.org/rfc/rfc6901\" rel=\"nofollow noreferrer\">RFC-6901</a> for details). So in your case you could write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.json.*;\n//...\nvar jp = Json.createPointer(&quot;/data/data2/value&quot;);\nSystem.out.println(jp.getValue(jsonObject));\n</code></pre>\n<p>In 1.1.4 version of JSON there's also nice addition to <code>JsonStructure</code> interface (which is implemented by <code>JsonObject</code> and <code>JsonArray</code>), namely <code>getValue(String jsonPointer)</code>. So it all comes down to this simple one-liner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(jsonObject.getValue(&quot;/data/data2/value&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27527932,"reputation":51,"user_id":21006940,"display_name":"PeterH"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1698755529,"creation_date":1698152664,"answer_id":77352305,"question_id":15429775,"body_markdown":"Another solution that works also with the current Java version (21) and also offers [validation functionality](https://dev.to/jjbrt/querying-and-validating-a-json-document-in-java-323i) is the [Burningwave JSON](https://burningwave.github.io/json/) library:\r\n\r\n```java\r\nString json = &quot;{ data: { data2 : { value : &#39;hello&#39;}}}&quot;;\r\nFacade facade = Facade.create(new ObjectMapper());\r\nObjectHandler jsonObjectHandler = facade.newObjectHandler(json , Map.class);\r\nString value = jsonObjectHandler.newValueFinder().findFirstForPathEndsWith(&quot;value&quot;);\r\n```","title":"Query a JSONObject in java","body":"<p>Another solution that works also with the current Java version (21) and also offers <a href=\"https://dev.to/jjbrt/querying-and-validating-a-json-document-in-java-323i\" rel=\"nofollow noreferrer\">validation functionality</a> is the <a href=\"https://burningwave.github.io/json/\" rel=\"nofollow noreferrer\">Burningwave JSON</a> library:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{ data: { data2 : { value : 'hello'}}}&quot;;\nFacade facade = Facade.create(new ObjectMapper());\nObjectHandler jsonObjectHandler = facade.newObjectHandler(json , Map.class);\nString value = jsonObjectHandler.newValueFinder().findFirstForPathEndsWith(&quot;value&quot;);\n</code></pre>\n"}],"owner":{"account_id":1827585,"reputation":2664,"user_id":1659888,"display_name":"Pamput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69434,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":15551391,"answer_count":7,"score":49,"last_activity_date":1698755529,"creation_date":1363342828,"question_id":15429775,"body_markdown":"I was wondering if somewhere out there exists a java library able to query a JSONObject. In more depth I&#39;m looking for something like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String json = &quot;{ data: { data2 : { value : &#39;hello&#39;}}}&quot;;\r\n\r\n    ...\r\n    // Somehow we managed to convert json to jsonObject\r\n    ...\r\n\r\n    String result = jsonObject.getAsString(&quot;data.data2.value&quot;);\r\n\r\n    System.out.println(result);\r\n\r\nI expect to get &quot;hello&quot; as output.\r\n\r\nSo far, the fastest way I have found is using Gson:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    jsonObject.getAsJsonObject(&quot;data&quot;).getAsJsonObject().get(&quot;data2&quot;).getAsJsonObject(&quot;value&quot;).getAsString();\r\n\r\n\r\nIt&#39;s not actually easy to write and read. Is there something faster?\r\n","title":"Query a JSONObject in java","body":"<p>I was wondering if somewhere out there exists a java library able to query a JSONObject. In more depth I'm looking for something like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String json = \"{ data: { data2 : { value : 'hello'}}}\";\n\n...\n// Somehow we managed to convert json to jsonObject\n...\n\nString result = jsonObject.getAsString(\"data.data2.value\");\n\nSystem.out.println(result);\n</code></pre>\n\n<p>I expect to get \"hello\" as output.</p>\n\n<p>So far, the fastest way I have found is using Gson:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>jsonObject.getAsJsonObject(\"data\").getAsJsonObject().get(\"data2\").getAsJsonObject(\"value\").getAsString();\n</code></pre>\n\n<p>It's not actually easy to write and read. Is there something faster?</p>\n"},{"tags":["java","hashmap","stringbuffer"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1698705027,"post_id":77391837,"comment_id":136436787,"body_markdown":"Does your map always contain all fields of your object?  What if there are fields in the map that your object does not have? What about the order, is it important in which order the attributes appear in the csv?","body":"Does your map always contain all fields of your object?  What if there are fields in the map that your object does not have? What about the order, is it important in which order the attributes appear in the csv?"},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698710703,"post_id":77391837,"comment_id":136437306,"body_markdown":"@Eritrean it will always match the fields of the object or it can have fewer columns (eg. only id, name and email) and the order can change but if it does we need to make sure the column header matches the row values.","body":"@Eritrean it will always match the fields of the object or it can have fewer columns (eg. only id, name and email) and the order can change but if it does we need to make sure the column header matches the row values."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698713646,"post_id":77391837,"comment_id":136437566,"body_markdown":"You haven&#39;t explained what part you are stuck on.","body":"You haven&#39;t explained what part you are stuck on."},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698714513,"post_id":77391837,"comment_id":136437642,"body_markdown":"@tgdavies As you see, I can create the header, but I am stuck on adding the rows and making sure they map with the right header.","body":"@tgdavies As you see, I can create the header, but I am stuck on adding the rows and making sure they map with the right header."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1698715094,"post_id":77391837,"comment_id":136437678,"body_markdown":"You&#39;re going to have to use reflection to invoke the getter for the field name and also cast it to the proper type.  Personally, I would just keep it simple and impose a specific order.  And `StringBuilder` is preferred over `StringBuffer`, unless you are running multiple threads.   And you might also consider using a constructor to facilitate creating `MyObject` instances.","body":"You&#39;re going to have to use reflection to invoke the getter for the field name and also cast it to the proper type.  Personally, I would just keep it simple and impose a specific order.  And <code>StringBuilder</code> is preferred over <code>StringBuffer</code>, unless you are running multiple threads.   And you might also consider using a constructor to facilitate creating <code>MyObject</code> instances."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1698715621,"post_id":77391837,"comment_id":136437721,"body_markdown":"CSV format has many nuances.   I presume you need to ensure that the form is readable buy some third party.  And why is the phone (a string) quoted and the other string values not quoted?  Perhaps that&#39;s just my lack of understanding of CSV.","body":"CSV format has many nuances.   I presume you need to ensure that the form is readable buy some third party.  And why is the phone (a string) quoted and the other string values not quoted?  Perhaps that&#39;s just my lack of understanding of CSV."},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698716319,"post_id":77391837,"comment_id":136437780,"body_markdown":"@WJS that&#39;s where I am stuck once I create the header then in the next line I need to start adding the rows. How do I make sure when I iterate over the MyObject list it maps to the right column header. Also, the above is an example of what I am trying to do with my actual code. I corrected my above to remove single quotes from the phone number.","body":"@WJS that&#39;s where I am stuck once I create the header then in the next line I need to start adding the rows. How do I make sure when I iterate over the MyObject list it maps to the right column header. Also, the above is an example of what I am trying to do with my actual code. I corrected my above to remove single quotes from the phone number."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1698718368,"post_id":77391837,"comment_id":136437956,"body_markdown":"Why are you not using a proper CSV library?","body":"Why are you not using a proper CSV library?"},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698719405,"post_id":77391837,"comment_id":136438066,"body_markdown":"@Sweeper I am using &quot;opencsv&quot; CSV library. But I am stuck at building the data for it.","body":"@Sweeper I am using &quot;opencsv&quot; CSV library. But I am stuck at building the data for it."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1698719601,"post_id":77391837,"comment_id":136438082,"body_markdown":"If you are using OpenCSV, you should not be generating CSV by hand. What data are you building for it? It sounds like you are generating CSV by hand, so that OpenCSV can read the CSV and turn it back into `MyObject`s, which doesn&#39;t make a lot of sense. This seems like a giant [XY Problem](http://xyproblem.info/) - what are you trying to do ultimately?","body":"If you are using OpenCSV, you should not be generating CSV by hand. What data are you building for it? It sounds like you are generating CSV by hand, so that OpenCSV can read the CSV and turn it back into <code>MyObject</code>s, which doesn&#39;t make a lot of sense. This seems like a giant <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a> - what are you trying to do ultimately?"}],"answers":[{"comments":[{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698767037,"post_id":77395771,"comment_id":136445700,"body_markdown":"Thanks @Eritrean, this is what I was looking for. I think the way you added the for loop to match the column with the right data is what I was not able to figure out.","body":"Thanks @Eritrean, this is what I was looking for. I think the way you added the for loop to match the column with the right data is what I was not able to figure out."},{"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"score":0,"creation_date":1698782184,"post_id":77395771,"comment_id":136448626,"body_markdown":"if I want this file to be downloaded on the browser by converting this to a Spring boot app, how do I do that? I want this to be an API that user calls and are able to download the CSV on their browser in my application.","body":"if I want this file to be downloaded on the browser by converting this to a Spring boot app, how do I do that? I want this to be an API that user calls and are able to download the CSV on their browser in my application."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1698795004,"post_id":77395771,"comment_id":136450179,"body_markdown":"@Mohit224 You&#39;re welcome. Happy to help. It would go beyond the scope of this thread and would generate a lot of effort to answer this question, which could serve as a template for a springboot application. Try it out yourself and ask specific questions if you get stuck. Here: [spring-boot-download-csv-file](https://github.com/bezkoder/spring-boot-download-csv-file) someone has made his work available. You can learn a lot from it, e.g. adapt the controller, service and your model a little bit to fit your requirements.","body":"@Mohit224 You&#39;re welcome. Happy to help. It would go beyond the scope of this thread and would generate a lot of effort to answer this question, which could serve as a template for a springboot application. Try it out yourself and ask specific questions if you get stuck. Here: <a href=\"https://github.com/bezkoder/spring-boot-download-csv-file\" rel=\"nofollow noreferrer\">spring-boot-download-csv-file</a> someone has made his work available. You can learn a lot from it, e.g. adapt the controller, service and your model a little bit to fit your requirements."}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698754233,"creation_date":1698754233,"answer_id":77395771,"question_id":77391837,"body_markdown":"You don&#39;t need reflection to create the header. If, as per your comment, the map contains only fields which are available in your object, just grab the values from the map to create the header. Use a LinkedHashMap instead of HashMap, Since the first one guarantees the order while the second one does not. For the content, I would recomend to create a String array per row / object instead of using StringBuffer or StringBuilder and leave the rest to opencsv to take care of separators, quotes .. and so on. \r\n\r\nSee the following example as a starting point. You could improve it by not doing everything in the main method as I did but extracting more methods for creating header, writing to file etc. and implementing a decent error handling.\r\n\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.Field;\r\n    import java.util.ArrayList;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import com.opencsv.CSVWriter;\r\n    \r\n    public class Example {\r\n    \r\n    \r\n        public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException, IOException {\r\n    \r\n            List&lt;MyObject&gt; myObjects = createSampleList();\r\n    \r\n            Map&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\r\n            columnMap.put(&quot;name&quot;, &quot;User Name&quot;);\r\n            columnMap.put(&quot;id&quot;, &quot;Id&quot;);\r\n            columnMap.put(&quot;email&quot;, &quot;User Email&quot;);\r\n            columnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\r\n    \r\n    \r\n            List&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\r\n            String[] header = columnMap.values().toArray(String[]::new);\r\n    \r\n            csvData.add(header);\r\n    \r\n            for (MyObject myObject : myObjects) {\r\n                List&lt;String&gt; row = new ArrayList&lt;&gt;();\r\n                for (String key : columnMap.keySet()) {\r\n                    Field field = MyObject.class.getDeclaredField(key);\r\n                    field.setAccessible(true);\r\n                    String value = String.valueOf(field.get(myObject));\r\n                    row.add(value);\r\n                }\r\n                csvData.add(row.toArray(String[]::new));\r\n            }\r\n    \r\n            // default separator is a comma, default all fields are enclosed in double quotes, you can change this by providing a boolean flag writer.writeAll(csvData, false);\r\n            try (CSVWriter writer = new CSVWriter(new FileWriter(&quot;/path/to/your/csv/test.csv&quot;))) {\r\n                writer.writeAll(csvData);\r\n            }\r\n        }\r\n    \r\n        private static List&lt;MyObject&gt; createSampleList() {\r\n            List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\r\n            MyObject myObject1 = new MyObject();\r\n            myObject1.setId(1);\r\n            myObject1.setName(&quot;Name 1&quot;);\r\n            myObject1.setEmail(&quot;Email 1&quot;);\r\n            myObject1.setPhone(&quot;111-121-2121&quot;);\r\n    \r\n            MyObject myObject2 = new MyObject();\r\n            myObject2.setId(2);\r\n            myObject2.setName(&quot;Name 2&quot;);\r\n            myObject2.setEmail(&quot;Email 2&quot;);\r\n            myObject2.setPhone(&quot;111-121-2121&quot;);\r\n    \r\n            MyObject myObject3 = new MyObject();\r\n            myObject3.setId(3);\r\n            myObject3.setName(&quot;Name 3&quot;);\r\n            myObject3.setEmail(&quot;Email 3&quot;);\r\n            myObject3.setPhone(&quot;111-121-2121&quot;);\r\n    \r\n            myObjects.add(myObject1);\r\n            myObjects.add(myObject2);\r\n            myObjects.add(myObject3);\r\n    \r\n            return myObjects;\r\n        }\r\n    \r\n        public static class MyObject {\r\n            private String name;\r\n            private String email;\r\n            private Integer id;\r\n            private String phone;\r\n\r\n            //getters and setters\r\n        }\r\n    }","title":"Create a Java StringBuffer from a Map and Java Object","body":"<p>You don't need reflection to create the header. If, as per your comment, the map contains only fields which are available in your object, just grab the values from the map to create the header. Use a LinkedHashMap instead of HashMap, Since the first one guarantees the order while the second one does not. For the content, I would recomend to create a String array per row / object instead of using StringBuffer or StringBuilder and leave the rest to opencsv to take care of separators, quotes .. and so on.</p>\n<p>See the following example as a starting point. You could improve it by not doing everything in the main method as I did but extracting more methods for creating header, writing to file etc. and implementing a decent error handling.</p>\n<pre><code>import java.io.FileWriter;\nimport java.io.IOException;\nimport java.lang.reflect.Field;\nimport java.util.ArrayList;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport com.opencsv.CSVWriter;\n\npublic class Example {\n\n\n    public static void main(String[] args) throws NoSuchFieldException, IllegalAccessException, IOException {\n\n        List&lt;MyObject&gt; myObjects = createSampleList();\n\n        Map&lt;String, String&gt; columnMap = new LinkedHashMap&lt;&gt;();\n        columnMap.put(&quot;name&quot;, &quot;User Name&quot;);\n        columnMap.put(&quot;id&quot;, &quot;Id&quot;);\n        columnMap.put(&quot;email&quot;, &quot;User Email&quot;);\n        columnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\n\n\n        List&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\n        String[] header = columnMap.values().toArray(String[]::new);\n\n        csvData.add(header);\n\n        for (MyObject myObject : myObjects) {\n            List&lt;String&gt; row = new ArrayList&lt;&gt;();\n            for (String key : columnMap.keySet()) {\n                Field field = MyObject.class.getDeclaredField(key);\n                field.setAccessible(true);\n                String value = String.valueOf(field.get(myObject));\n                row.add(value);\n            }\n            csvData.add(row.toArray(String[]::new));\n        }\n\n        // default separator is a comma, default all fields are enclosed in double quotes, you can change this by providing a boolean flag writer.writeAll(csvData, false);\n        try (CSVWriter writer = new CSVWriter(new FileWriter(&quot;/path/to/your/csv/test.csv&quot;))) {\n            writer.writeAll(csvData);\n        }\n    }\n\n    private static List&lt;MyObject&gt; createSampleList() {\n        List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\n        MyObject myObject1 = new MyObject();\n        myObject1.setId(1);\n        myObject1.setName(&quot;Name 1&quot;);\n        myObject1.setEmail(&quot;Email 1&quot;);\n        myObject1.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject2 = new MyObject();\n        myObject2.setId(2);\n        myObject2.setName(&quot;Name 2&quot;);\n        myObject2.setEmail(&quot;Email 2&quot;);\n        myObject2.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject3 = new MyObject();\n        myObject3.setId(3);\n        myObject3.setName(&quot;Name 3&quot;);\n        myObject3.setEmail(&quot;Email 3&quot;);\n        myObject3.setPhone(&quot;111-121-2121&quot;);\n\n        myObjects.add(myObject1);\n        myObjects.add(myObject2);\n        myObjects.add(myObject3);\n\n        return myObjects;\n    }\n\n    public static class MyObject {\n        private String name;\n        private String email;\n        private Integer id;\n        private String phone;\n\n        //getters and setters\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698755526,"creation_date":1698755526,"answer_id":77395917,"question_id":77391837,"body_markdown":"Don&#39;t use Reflection at all.\r\n\r\nYou can use lambda and avoid it: I will take @Editrean answer&#39; code as base: \r\n\r\n    List&lt;MyObject&gt; myObjects = createSampleList();\r\n    List&lt;Function&lt;MyObject, String&gt;&gt; extractors = new ArrayList&lt;&gt;();\r\n    extractors.add(MyObject::getName); // or o -&gt; o.name if you don&#39;t want getter\r\n    extractors.add(MyObject::getId); // or MyObject::id if you use records\r\n    extractors.add(MyObject::getEmail);\r\n    extractors.add(MyObject::getPhone);\r\n    \r\n    List&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\r\n    csvData.add(new String[] {&quot;User Name&quot;, &quot;Id&quot;, &quot;User Email&quot;, &quot;User Phone&quot;});\r\n    for (MyObject myObject : myObjects) {\r\n      row.add(extractors.stream()\r\n         .map(fn -&gt; fn.apply(myObject)) \r\n         .toArray(String[]::new));\r\n    }\r\n\r\nThis requires you creating getters (which you IDE will do for you) unless you use Java 17 `record`:\r\n\r\n    public record MyObject(String name, String email, Integer id, String phone) {}\r\n\r\nThe idea is simple: \r\n\r\n1. The header (first row) is populated using an array directly. \r\n2. Each object row is created using the lambda stored in `extractors`\r\n3. The rest of the code is same as @Editrean answer but perhaps you could also avoid array by checking `CSVWriter` javadoc which may have other alternative (eg: method like `addCell()`, `newRow()`, etc)\r\n\r\nIf you can&#39;t use `CSVWriter`, you can also use `Collectors::joining` which is more or less what you were doing using `StringBuilder`:\r\n\r\n    try (BufferedWriter bw = Files.newBufferedWriter(&quot;test.csv&quot;)) {\r\n      bw.append(Stream.of(&quot;User Name&quot;, &quot;Id&quot;, &quot;User Email&quot;, &quot;User Phone&quot;).collect(joining(&quot;,&quot;));\r\n      bw.newLine();\r\n      for (MyObject myObject : myObjects) {\r\n        bw.append(extractors.stream()\r\n                            .map(fn -&gt; fn.apply(myObject))\r\n                            .collect(joining(&quot;,&quot;)));\r\n        bw.newLine();\r\n      }\r\n    }\r\n\r\nIn any case, you would also need to properly encode each cell, especially if they may contains the delimiter (`,` or new line) which `CSVWriter` does for you.\r\n\r\nAny way, As you can see, there are no need for Reflection due to the lambda.\r\n\r\n\r\n","title":"Create a Java StringBuffer from a Map and Java Object","body":"<p>Don't use Reflection at all.</p>\n<p>You can use lambda and avoid it: I will take @Editrean answer' code as base:</p>\n<pre><code>List&lt;MyObject&gt; myObjects = createSampleList();\nList&lt;Function&lt;MyObject, String&gt;&gt; extractors = new ArrayList&lt;&gt;();\nextractors.add(MyObject::getName); // or o -&gt; o.name if you don't want getter\nextractors.add(MyObject::getId); // or MyObject::id if you use records\nextractors.add(MyObject::getEmail);\nextractors.add(MyObject::getPhone);\n\nList&lt;String[]&gt; csvData = new ArrayList&lt;&gt;();\ncsvData.add(new String[] {&quot;User Name&quot;, &quot;Id&quot;, &quot;User Email&quot;, &quot;User Phone&quot;});\nfor (MyObject myObject : myObjects) {\n  row.add(extractors.stream()\n     .map(fn -&gt; fn.apply(myObject)) \n     .toArray(String[]::new));\n}\n</code></pre>\n<p>This requires you creating getters (which you IDE will do for you) unless you use Java 17 <code>record</code>:</p>\n<pre><code>public record MyObject(String name, String email, Integer id, String phone) {}\n</code></pre>\n<p>The idea is simple:</p>\n<ol>\n<li>The header (first row) is populated using an array directly.</li>\n<li>Each object row is created using the lambda stored in <code>extractors</code></li>\n<li>The rest of the code is same as @Editrean answer but perhaps you could also avoid array by checking <code>CSVWriter</code> javadoc which may have other alternative (eg: method like <code>addCell()</code>, <code>newRow()</code>, etc)</li>\n</ol>\n<p>If you can't use <code>CSVWriter</code>, you can also use <code>Collectors::joining</code> which is more or less what you were doing using <code>StringBuilder</code>:</p>\n<pre><code>try (BufferedWriter bw = Files.newBufferedWriter(&quot;test.csv&quot;)) {\n  bw.append(Stream.of(&quot;User Name&quot;, &quot;Id&quot;, &quot;User Email&quot;, &quot;User Phone&quot;).collect(joining(&quot;,&quot;));\n  bw.newLine();\n  for (MyObject myObject : myObjects) {\n    bw.append(extractors.stream()\n                        .map(fn -&gt; fn.apply(myObject))\n                        .collect(joining(&quot;,&quot;)));\n    bw.newLine();\n  }\n}\n</code></pre>\n<p>In any case, you would also need to properly encode each cell, especially if they may contains the delimiter (<code>,</code> or new line) which <code>CSVWriter</code> does for you.</p>\n<p>Any way, As you can see, there are no need for Reflection due to the lambda.</p>\n"}],"owner":{"account_id":1153647,"reputation":463,"user_id":1134835,"accept_rate":40,"display_name":"Mohit224"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77395771,"answer_count":2,"score":0,"last_activity_date":1698755526,"creation_date":1698699914,"question_id":77391837,"body_markdown":"I am trying to create a csv file with the headers coming from a map and the values coming from an object. I have a Java object which stores different attribute data.\r\n```\r\npublic class MyObject {\r\n    private String name;\r\n\tprivate String email;\r\n\tprivate Integer id;\r\n\tprivate String phone;\r\n\r\n   getters and setters...\r\n}\r\n```\r\nI have a Map where the user has key value pair, where the key is the attribute name of MyObject and the value is column headers for a csv file. \r\nEx:\r\n```\r\nMap&lt;String, String&gt; columnMap = new HashMap&lt;&gt;();\r\ncolumnMap.put(&quot;id&quot;, &quot;Id&quot;);\r\ncolumnMap.put(&quot;name&quot;, &quot;User Name&quot;);\r\ncolumnMap.put(&quot;email&quot;, &quot;User Email&quot;);\r\ncolumnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\r\n```\r\nMy goal is to create a csv file from the data for which I first want to retrieve the values from the map to set as headers and then create rows based on what is stored in MyObject class. \r\nEx: \r\n\r\n```\r\npublic class CopyMapToSBForFile {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tList&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\r\n\t\tMyObject myObject1 = new MyObject();\r\n\t\tmyObject1.setId(1);\r\n\t\tmyObject1.setName(&quot;Name 1&quot;);\r\n\t\tmyObject1.setEmail(&quot;Email 1&quot;);\r\n\t\tmyObject1.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tMyObject myObject2 = new MyObject();\r\n\t\tmyObject2.setId(2);\r\n\t\tmyObject2.setName(&quot;Name 2&quot;);\r\n\t\tmyObject2.setEmail(&quot;Email 2&quot;);\r\n\t\tmyObject2.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tMyObject myObject3 = new MyObject();\r\n\t\tmyObject3.setId(3);\r\n\t\tmyObject3.setName(&quot;Name 3&quot;);\r\n\t\tmyObject3.setEmail(&quot;Email 3&quot;);\r\n\t\tmyObject3.setPhone(&quot;111-121-2121&quot;);\r\n\r\n\t\tmyObjects.add(myObject1);\r\n\t\tmyObjects.add(myObject2);\r\n\t\tmyObjects.add(myObject3);\r\n\r\n\t\tMap&lt;String, String&gt; columnMap = new HashMap&lt;&gt;();\r\n\t\tcolumnMap.put(&quot;id&quot;, &quot;Id&quot;);\r\n\t\tcolumnMap.put(&quot;name&quot;, &quot;User Name&quot;);\r\n\t\tcolumnMap.put(&quot;email&quot;, &quot;User Email&quot;);\r\n\t\tcolumnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\r\n\r\n\t\tField[] fields = MyObject.class.getDeclaredFields();\r\n\r\n\t\tStringBuffer sb = new StringBuffer();\r\n\t\tfor (Field field : fields) {\r\n\t\t\tSystem.out.println(field.getName());\r\n\t\t\tif (columnMap.containsKey(field.getName())) {\r\n\t\t\t\tsb.append(columnMap.get(field.getName()));\r\n\t\t\t\tsb.append(&quot;,&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nFrom the above example you can see using reflection utils I am able to create the header object but I am stuck on how to append the values from MyObject to the StringBuffer object to create something like the below output:\r\n```\r\nUser Name,User Email,Id,User Phone\r\nName 1,Email 1,1,111-121-2121\r\nName 2,Email 2,2,111-121-2121\r\nName 3,Email 3,3,111-121-2121\r\n```\r\nI have a code which will conver the StringBuffer to CSV but I am stuck on how to create the above output once I create the header. Also, I want to make sure the program handles the row correctly incase the order of the columns are changed where the Id is first column instead of third column. ","title":"Create a Java StringBuffer from a Map and Java Object","body":"<p>I am trying to create a csv file with the headers coming from a map and the values coming from an object. I have a Java object which stores different attribute data.</p>\n<pre><code>public class MyObject {\n    private String name;\n    private String email;\n    private Integer id;\n    private String phone;\n\n   getters and setters...\n}\n</code></pre>\n<p>I have a Map where the user has key value pair, where the key is the attribute name of MyObject and the value is column headers for a csv file.\nEx:</p>\n<pre><code>Map&lt;String, String&gt; columnMap = new HashMap&lt;&gt;();\ncolumnMap.put(&quot;id&quot;, &quot;Id&quot;);\ncolumnMap.put(&quot;name&quot;, &quot;User Name&quot;);\ncolumnMap.put(&quot;email&quot;, &quot;User Email&quot;);\ncolumnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\n</code></pre>\n<p>My goal is to create a csv file from the data for which I first want to retrieve the values from the map to set as headers and then create rows based on what is stored in MyObject class.\nEx:</p>\n<pre><code>public class CopyMapToSBForFile {\n\n    public static void main(String[] args) {\n\n        List&lt;MyObject&gt; myObjects = new ArrayList&lt;&gt;();\n        MyObject myObject1 = new MyObject();\n        myObject1.setId(1);\n        myObject1.setName(&quot;Name 1&quot;);\n        myObject1.setEmail(&quot;Email 1&quot;);\n        myObject1.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject2 = new MyObject();\n        myObject2.setId(2);\n        myObject2.setName(&quot;Name 2&quot;);\n        myObject2.setEmail(&quot;Email 2&quot;);\n        myObject2.setPhone(&quot;111-121-2121&quot;);\n\n        MyObject myObject3 = new MyObject();\n        myObject3.setId(3);\n        myObject3.setName(&quot;Name 3&quot;);\n        myObject3.setEmail(&quot;Email 3&quot;);\n        myObject3.setPhone(&quot;111-121-2121&quot;);\n\n        myObjects.add(myObject1);\n        myObjects.add(myObject2);\n        myObjects.add(myObject3);\n\n        Map&lt;String, String&gt; columnMap = new HashMap&lt;&gt;();\n        columnMap.put(&quot;id&quot;, &quot;Id&quot;);\n        columnMap.put(&quot;name&quot;, &quot;User Name&quot;);\n        columnMap.put(&quot;email&quot;, &quot;User Email&quot;);\n        columnMap.put(&quot;phone&quot;, &quot;User Phone&quot;);\n\n        Field[] fields = MyObject.class.getDeclaredFields();\n\n        StringBuffer sb = new StringBuffer();\n        for (Field field : fields) {\n            System.out.println(field.getName());\n            if (columnMap.containsKey(field.getName())) {\n                sb.append(columnMap.get(field.getName()));\n                sb.append(&quot;,&quot;);\n            }\n        }\n        \n    }\n\n}\n</code></pre>\n<p>From the above example you can see using reflection utils I am able to create the header object but I am stuck on how to append the values from MyObject to the StringBuffer object to create something like the below output:</p>\n<pre><code>User Name,User Email,Id,User Phone\nName 1,Email 1,1,111-121-2121\nName 2,Email 2,2,111-121-2121\nName 3,Email 3,3,111-121-2121\n</code></pre>\n<p>I have a code which will conver the StringBuffer to CSV but I am stuck on how to create the above output once I create the header. Also, I want to make sure the program handles the row correctly incase the order of the columns are changed where the Id is first column instead of third column.</p>\n"},{"tags":["java","docker","exception","pdf"],"answers":[{"tags":[],"owner":{"account_id":6947452,"reputation":63,"user_id":5331343,"display_name":"Serdg D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698754909,"creation_date":1698754909,"answer_id":77395845,"question_id":77395844,"body_markdown":"I got it.\r\nThe thing is, Image.getInstance() has different branches to parse different file contents, for example:\r\n\r\n     if (c1 == 71 &amp;&amp; c2 == 73 &amp;&amp; c3 == 70) {\r\n                var14 = ImageLoader.getGifImage(imgb);\r\n                return var14;\r\n            }\r\n\r\n            if (c1 == 255 &amp;&amp; c2 == 216) {\r\n                var14 = ImageLoader.getJpegImage(imgb);\r\n                return var14;\r\n            }\r\n\r\n            if (c1 == 0 &amp;&amp; c2 == 0 &amp;&amp; c3 == 0 &amp;&amp; c4 == 12) {\r\n                var14 = ImageLoader.getJpeg2000Image(imgb);\r\n                return var14;\r\n            }\r\n\r\n            if (c1 == 255 &amp;&amp; c2 == 79 &amp;&amp; c3 == 255 &amp;&amp; c4 == 81) {\r\n                var14 = ImageLoader.getJpeg2000Image(imgb);\r\n                return var14;\r\n            }\r\n\r\n            if (c1 == PNGID[0] &amp;&amp; c2 == PNGID[1] &amp;&amp; c3 == PNGID[2] &amp;&amp; c4 == PNGID[3]) {\r\n                var14 = ImageLoader.getPngImage(imgb);\r\n                return var14;\r\n            }\r\n\r\nso, if the processing of jpeg files works correctly, we need to convert input formats to jpeg:\r\n                InputStream is = logoUrl.openStream();\r\n                ImageIO.setUseCache(false);\r\n\r\n                var bufferedImage = ImageIO.read(is);\r\n                var convertedImage = new BufferedImage(bufferedImage.getWidth(), bufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n                convertedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\r\n                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                var canWrite = ImageIO.write(convertedImage, &quot;jpg&quot;, outputStream);\r\n                if (canWrite) {\r\n                    logoImage = Image.getInstance(outputStream.toByteArray());\r\n                }\r\n\r\nFrom one hand, such solution has a negative side as conversion of each file to jpg, but from another side, everything works and (if required) it&#39;s possible to refactor the solution to apply conversion to png file only.","title":"com.lowagie.text.ExceptionConverter: Can&#39;t create cache file (in the read-only docker container)","body":"<p>I got it.\nThe thing is, Image.getInstance() has different branches to parse different file contents, for example:</p>\n<pre><code> if (c1 == 71 &amp;&amp; c2 == 73 &amp;&amp; c3 == 70) {\n            var14 = ImageLoader.getGifImage(imgb);\n            return var14;\n        }\n\n        if (c1 == 255 &amp;&amp; c2 == 216) {\n            var14 = ImageLoader.getJpegImage(imgb);\n            return var14;\n        }\n\n        if (c1 == 0 &amp;&amp; c2 == 0 &amp;&amp; c3 == 0 &amp;&amp; c4 == 12) {\n            var14 = ImageLoader.getJpeg2000Image(imgb);\n            return var14;\n        }\n\n        if (c1 == 255 &amp;&amp; c2 == 79 &amp;&amp; c3 == 255 &amp;&amp; c4 == 81) {\n            var14 = ImageLoader.getJpeg2000Image(imgb);\n            return var14;\n        }\n\n        if (c1 == PNGID[0] &amp;&amp; c2 == PNGID[1] &amp;&amp; c3 == PNGID[2] &amp;&amp; c4 == PNGID[3]) {\n            var14 = ImageLoader.getPngImage(imgb);\n            return var14;\n        }\n</code></pre>\n<p>so, if the processing of jpeg files works correctly, we need to convert input formats to jpeg:\nInputStream is = logoUrl.openStream();\nImageIO.setUseCache(false);</p>\n<pre><code>            var bufferedImage = ImageIO.read(is);\n            var convertedImage = new BufferedImage(bufferedImage.getWidth(), bufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\n            convertedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            var canWrite = ImageIO.write(convertedImage, &quot;jpg&quot;, outputStream);\n            if (canWrite) {\n                logoImage = Image.getInstance(outputStream.toByteArray());\n            }\n</code></pre>\n<p>From one hand, such solution has a negative side as conversion of each file to jpg, but from another side, everything works and (if required) it's possible to refactor the solution to apply conversion to png file only.</p>\n"}],"owner":{"account_id":6947452,"reputation":63,"user_id":5331343,"display_name":"Serdg D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1698754909,"creation_date":1698754909,"question_id":77395844,"body_markdown":"When running in the read-only docker container, the following line \r\n\r\n    Image.getInstance(logoUrl);\r\nthrowed the exception\r\n\r\n    2023-10-19 13:55:28.507 ERROR 1 --- [qtp795321555-23] c.r.c.b.a.error.GeneralExceptionMapper   : Request failed with exception: Can&#39;t create cache file! class com.lowagie.text.ExceptionConverter\r\n    com.lowagie.text.ExceptionConverter: Can&#39;t create cache file!\r\n\r\nThe thing is: the exception is only thrown for the png-file, and the jpg-files work correctly.\r\n\r\nDo you have any idea, how to fix this?\r\n","title":"com.lowagie.text.ExceptionConverter: Can&#39;t create cache file (in the read-only docker container)","body":"<p>When running in the read-only docker container, the following line</p>\n<pre><code>Image.getInstance(logoUrl);\n</code></pre>\n<p>throwed the exception</p>\n<pre><code>2023-10-19 13:55:28.507 ERROR 1 --- [qtp795321555-23] c.r.c.b.a.error.GeneralExceptionMapper   : Request failed with exception: Can't create cache file! class com.lowagie.text.ExceptionConverter\ncom.lowagie.text.ExceptionConverter: Can't create cache file!\n</code></pre>\n<p>The thing is: the exception is only thrown for the png-file, and the jpg-files work correctly.</p>\n<p>Do you have any idea, how to fix this?</p>\n"},{"tags":["java","android","automation","appium"],"owner":{"account_id":29586359,"reputation":1,"user_id":22674932,"display_name":"Nagaraja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698754478,"creation_date":1698754478,"question_id":77395795,"body_markdown":"I am testing an android application on real device and I am not able to navigate to certain pages when Appium run, But the app works in mobile without Appium\r\n\r\nI have followed following Steps:\r\n\r\n(In other mobiles) Open the app to the main homepage - Not Loading and showing alert (There was an unexpected error in request processing. please try again) loads the DOM\r\nNavigate to login page-  loads the page fine and am able to inspect the elements.\r\nEnter credential and click on submit button and proceed to landing screen - Not loading hpme page\r\n\r\n But when I tap on the phone the home screen is loaded on without Appium connected.\r\n\r\nI don&#39;t know why the landing page is not loading.\r\nwhile running the test through TestNG -it cannot find the particular element(s), acting similarly to what inspector is doing.\r\n\r\nUsed Appium version: 2.2.0\r\n\r\n\r\nI want load home page [enter image description here](https://i.stack.imgur.com/gm89S.png)","title":"After login page landing page(Home page) is not loading while using Appium but it loads in mobile","body":"<p>I am testing an android application on real device and I am not able to navigate to certain pages when Appium run, But the app works in mobile without Appium</p>\n<p>I have followed following Steps:</p>\n<p>(In other mobiles) Open the app to the main homepage - Not Loading and showing alert (There was an unexpected error in request processing. please try again) loads the DOM\nNavigate to login page-  loads the page fine and am able to inspect the elements.\nEnter credential and click on submit button and proceed to landing screen - Not loading hpme page</p>\n<p>But when I tap on the phone the home screen is loaded on without Appium connected.</p>\n<p>I don't know why the landing page is not loading.\nwhile running the test through TestNG -it cannot find the particular element(s), acting similarly to what inspector is doing.</p>\n<p>Used Appium version: 2.2.0</p>\n<p>I want load home page <a href=\"https://i.stack.imgur.com/gm89S.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","spring-boot","maven"],"owner":{"account_id":26249821,"reputation":17,"user_id":19922772,"display_name":"parsa faraji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698753983,"creation_date":1698753983,"question_id":77395736,"body_markdown":"I have a library that is intended to create documentation for my project. If the title value is empty in the project&#39;s configuration, the library should read the artifactId value from the project and use it as the title.\r\n\r\nlibrary: application.yaml\r\n\r\n    swagger:\r\n      title: &#39;@project.artifactId@&#39;\r\n\r\nbut in my project title property fill by library artifact id\r\nHow can I set my project&#39;s name as the default value for the title property?","title":"get project artifact id in custom library","body":"<p>I have a library that is intended to create documentation for my project. If the title value is empty in the project's configuration, the library should read the artifactId value from the project and use it as the title.</p>\n<p>library: application.yaml</p>\n<pre><code>swagger:\n  title: '@project.artifactId@'\n</code></pre>\n<p>but in my project title property fill by library artifact id\nHow can I set my project's name as the default value for the title property?</p>\n"},{"tags":["java","android","android-fragments","android-viewpager","android-viewpager2"],"owner":{"account_id":29794359,"reputation":1,"user_id":22833812,"display_name":"sam f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698753859,"creation_date":1698753859,"question_id":77395726,"body_markdown":"I&#39;m building a quiz app using Android&#39;s ViewPager2 to display questions. Each time a user answers a question, the app updates their score. However, I&#39;ve encountered an issue where even after answering all 6 questions correctly, the ResultFragment displays &quot;Your Score: 5&quot; instead of the expected &quot;Your Score: 6&quot;. The score is stored in a HashSet, and I increment the score by adding the question index to this set. Everything works fine for the first 5 questions, but it seems like the problem is on the last question. Will appreciate any help thanks!\r\n\r\n\r\n\r\n**QuizFragment.java:\r\n**\r\n```\r\npackage com.example.project4;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager2.widget.ViewPager2;\r\n\r\nimport java.util.List;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\npublic class QuizFragment extends Fragment {\r\n\r\n    private List&lt;Question&gt; questionList;\r\n    ViewPager2 viewPager;\r\n    final Set&lt;Integer&gt; answeredCorrectly = new HashSet&lt;&gt;();\r\n    private ViewPager2.OnPageChangeCallback onPageChangeCallback;\r\n\r\n    private static final String ARG_QUIZ_ID = &quot;quiz_id&quot;;\r\n    private long quizId;\r\n\r\n    public void markQuestionAsCorrect(int questionIndex) {\r\n        answeredCorrectly.add(questionIndex);\r\n        Log.d(&quot;QuizFragment&quot;, &quot;Answered question [&quot; + questionIndex + &quot;] correctly.&quot;);\r\n    }\r\n\r\n    public void displayFinalScore() {\r\n        int userScore = answeredCorrectly.size();\r\n        Log.d(&quot;QuizFragment&quot;, &quot;displayFinalScore: &quot; + userScore);\r\n        viewPager.setCurrentItem(questionList.size());\r\n\r\n        QuizPagerAdapter adapter = (QuizPagerAdapter) viewPager.getAdapter();\r\n        if (adapter.resultFragment != null) {\r\n            Log.d(&quot;QuizFragment&quot;, &quot;Calling updateScore after this. displayFinalScore: &quot; + userScore);\r\n            adapter.resultFragment.updateScore(userScore);\r\n        }\r\n    }\r\n\r\n    public static QuizFragment newInstance(long quizId) {\r\n        QuizFragment fragment = new QuizFragment();\r\n        Bundle args = new Bundle();\r\n        args.putLong(ARG_QUIZ_ID, quizId);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        if (getArguments() != null) {\r\n            quizId = getArguments().getLong(ARG_QUIZ_ID);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_quiz, container, false);\r\n        DatabaseHelper dbHelper = new DatabaseHelper(getContext());\r\n        questionList = dbHelper.getQuestionsForQuiz(quizId);\r\n\r\n        viewPager = view.findViewById(R.id.viewPager);\r\n        QuizPagerAdapter pagerAdapter = new QuizPagerAdapter(this, questionList);\r\n        Log.d(&quot;QuizFragment&quot;, &quot;QuestionsList: &quot; + questionList.toString());\r\n        viewPager.setAdapter(pagerAdapter);\r\n\r\n        onPageChangeCallback = new ViewPager2.OnPageChangeCallback() {\r\n            @Override\r\n            public void onPageSelected(int position) {\r\n                super.onPageSelected(position);\r\n                if (position == questionList.size()) {\r\n                    saveQuizResult();\r\n                }\r\n            }\r\n        };\r\n\r\n        viewPager.registerOnPageChangeCallback(onPageChangeCallback);\r\n        return view;\r\n    }\r\n\r\n    private void saveQuizResult() {\r\n        DatabaseHelper dbHelper = new DatabaseHelper(getContext());\r\n        int score = answeredCorrectly.size();\r\n        dbHelper.updateQuizResult(quizId, score);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        viewPager.unregisterOnPageChangeCallback(onPageChangeCallback);\r\n    }\r\n}\r\n\r\n```\r\n\r\n**QuestionFragment.java:\r\n**\r\n```\r\npackage com.example.project4;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class QuestionFragment extends Fragment {\r\n\r\n    private Question currentQuestion;\r\n    private RadioButton selectedAnswer;\r\n    private int questionIndex;\r\n    private int totalQuestions;\r\n\r\n    public static QuestionFragment newInstance(Question question, int index, int total) {\r\n        QuestionFragment fragment = new QuestionFragment();\r\n        fragment.currentQuestion = question;\r\n        fragment.questionIndex = index;\r\n        fragment.totalQuestions = total;\r\n        return fragment;\r\n    }\r\n\r\n    public boolean isAnswerCorrect() {\r\n        return selectedAnswer != null &amp;&amp; currentQuestion.getCapitalCity().equals(selectedAnswer.getText().toString());\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_question, container, false);\r\n\r\n        TextView questionTextView = view.findViewById(R.id.questionText);\r\n        RadioButton optionA = view.findViewById(R.id.optionA);\r\n        RadioButton optionB = view.findViewById(R.id.optionB);\r\n        RadioButton optionC = view.findViewById(R.id.optionC);\r\n        RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\r\n\r\n        questionTextView.setText(&quot;What is the capital city of &quot; + currentQuestion.getState() + &quot;?&quot;);\r\n        optionA.setText(currentQuestion.getCapitalCity());\r\n        optionB.setText(currentQuestion.getSecondCity());\r\n        optionC.setText(currentQuestion.getThirdCity());\r\n\r\n        radioGroup.setOnCheckedChangeListener((group, checkedId) -&gt; {\r\n            selectedAnswer = view.findViewById(checkedId);\r\n            if (isAnswerCorrect() &amp;&amp; getParentFragment() instanceof QuizFragment) {\r\n                ((QuizFragment) getParentFragment()).markQuestionAsCorrect(questionIndex);\r\n                if (questionIndex == totalQuestions - 1) {\r\n                    Log.d(&quot;QuestionFragment&quot;, &quot;Caliing displayFinalScore()&quot;);\r\n                    ((QuizFragment) getParentFragment()).displayFinalScore();\r\n                    ((QuizFragment) getParentFragment()).viewPager.getAdapter().notifyDataSetChanged();\r\n                }\r\n            }\r\n        });\r\n\r\n        return view;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**QuizPagerAdapter.java:\r\n**\r\n```\r\npackage com.example.project4;\r\n\r\nimport android.util.Log;\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class QuizPagerAdapter extends FragmentStateAdapter {\r\n    private final Fragment fragment;\r\n    private final List&lt;Question&gt; questionList;\r\n    ResultFragment resultFragment;\r\n\r\n    public QuizPagerAdapter(Fragment fragment, List&lt;Question&gt; questionList) {\r\n        super(fragment);\r\n        this.fragment = fragment;\r\n        this.questionList = questionList;\r\n    }\r\n\r\n    @Override\r\n    public Fragment createFragment(int position) {\r\n        Log.d(&quot;QuizPagerAdapter&quot;, &quot;Position:&quot; + position);\r\n        if (position == questionList.size()) {\r\n            Log.d(&quot;QuizPagerAdapter&quot;, &quot;QuestionListSize: &quot; + questionList.size());\r\n            resultFragment = ResultFragment.newInstance(((QuizFragment) fragment).answeredCorrectly.size());\r\n            return resultFragment;\r\n        }\r\n        return QuestionFragment.newInstance(questionList.get(position), position, getItemCount());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return questionList.size() + 1;\r\n    }\r\n}\r\n\r\n```\r\n\r\n**ResultFragment.java:\r\n**\r\n```\r\npackage com.example.project4;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\npublic class ResultFragment extends Fragment {\r\n\r\n    private TextView tvScore;\r\n    private int score;\r\n\r\n    public static ResultFragment newInstance(int score) {\r\n        ResultFragment fragment = new ResultFragment();\r\n        Bundle args = new Bundle();\r\n        args.putInt(&quot;SCORE&quot;, score);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_result, container, false);\r\n        if (getArguments() != null) {\r\n            score = getArguments().getInt(&quot;SCORE&quot;);\r\n        }\r\n        tvScore = view.findViewById(R.id.tvScore);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        tvScore.setText(&quot;Your Score: &quot; + score);\r\n    }\r\n\r\n    public void updateScore(int newScore) {\r\n        score = newScore;\r\n        if (tvScore != null) {\r\n            tvScore.setText(&quot;Your Score: &quot; + score);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;ve already made sure that the score update and transition to the results page happen in sequence, and I&#39;ve thoroughly verified my logic for determining if an answer is correct. But despite these efforts, the result is consistently one point less than expected when all questions are answered correctly.","title":"Android ViewPager2 Not Updating Score Correctly for the Last Question in a Quiz","body":"<p>I'm building a quiz app using Android's ViewPager2 to display questions. Each time a user answers a question, the app updates their score. However, I've encountered an issue where even after answering all 6 questions correctly, the ResultFragment displays &quot;Your Score: 5&quot; instead of the expected &quot;Your Score: 6&quot;. The score is stored in a HashSet, and I increment the score by adding the question index to this set. Everything works fine for the first 5 questions, but it seems like the problem is on the last question. Will appreciate any help thanks!</p>\n<p>**QuizFragment.java:\n**</p>\n<pre><code>package com.example.project4;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport java.util.List;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class QuizFragment extends Fragment {\n\n    private List&lt;Question&gt; questionList;\n    ViewPager2 viewPager;\n    final Set&lt;Integer&gt; answeredCorrectly = new HashSet&lt;&gt;();\n    private ViewPager2.OnPageChangeCallback onPageChangeCallback;\n\n    private static final String ARG_QUIZ_ID = &quot;quiz_id&quot;;\n    private long quizId;\n\n    public void markQuestionAsCorrect(int questionIndex) {\n        answeredCorrectly.add(questionIndex);\n        Log.d(&quot;QuizFragment&quot;, &quot;Answered question [&quot; + questionIndex + &quot;] correctly.&quot;);\n    }\n\n    public void displayFinalScore() {\n        int userScore = answeredCorrectly.size();\n        Log.d(&quot;QuizFragment&quot;, &quot;displayFinalScore: &quot; + userScore);\n        viewPager.setCurrentItem(questionList.size());\n\n        QuizPagerAdapter adapter = (QuizPagerAdapter) viewPager.getAdapter();\n        if (adapter.resultFragment != null) {\n            Log.d(&quot;QuizFragment&quot;, &quot;Calling updateScore after this. displayFinalScore: &quot; + userScore);\n            adapter.resultFragment.updateScore(userScore);\n        }\n    }\n\n    public static QuizFragment newInstance(long quizId) {\n        QuizFragment fragment = new QuizFragment();\n        Bundle args = new Bundle();\n        args.putLong(ARG_QUIZ_ID, quizId);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            quizId = getArguments().getLong(ARG_QUIZ_ID);\n        }\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_quiz, container, false);\n        DatabaseHelper dbHelper = new DatabaseHelper(getContext());\n        questionList = dbHelper.getQuestionsForQuiz(quizId);\n\n        viewPager = view.findViewById(R.id.viewPager);\n        QuizPagerAdapter pagerAdapter = new QuizPagerAdapter(this, questionList);\n        Log.d(&quot;QuizFragment&quot;, &quot;QuestionsList: &quot; + questionList.toString());\n        viewPager.setAdapter(pagerAdapter);\n\n        onPageChangeCallback = new ViewPager2.OnPageChangeCallback() {\n            @Override\n            public void onPageSelected(int position) {\n                super.onPageSelected(position);\n                if (position == questionList.size()) {\n                    saveQuizResult();\n                }\n            }\n        };\n\n        viewPager.registerOnPageChangeCallback(onPageChangeCallback);\n        return view;\n    }\n\n    private void saveQuizResult() {\n        DatabaseHelper dbHelper = new DatabaseHelper(getContext());\n        int score = answeredCorrectly.size();\n        dbHelper.updateQuizResult(quizId, score);\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        viewPager.unregisterOnPageChangeCallback(onPageChangeCallback);\n    }\n}\n\n</code></pre>\n<p>**QuestionFragment.java:\n**</p>\n<pre><code>package com.example.project4;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\n\nimport androidx.fragment.app.Fragment;\n\npublic class QuestionFragment extends Fragment {\n\n    private Question currentQuestion;\n    private RadioButton selectedAnswer;\n    private int questionIndex;\n    private int totalQuestions;\n\n    public static QuestionFragment newInstance(Question question, int index, int total) {\n        QuestionFragment fragment = new QuestionFragment();\n        fragment.currentQuestion = question;\n        fragment.questionIndex = index;\n        fragment.totalQuestions = total;\n        return fragment;\n    }\n\n    public boolean isAnswerCorrect() {\n        return selectedAnswer != null &amp;&amp; currentQuestion.getCapitalCity().equals(selectedAnswer.getText().toString());\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_question, container, false);\n\n        TextView questionTextView = view.findViewById(R.id.questionText);\n        RadioButton optionA = view.findViewById(R.id.optionA);\n        RadioButton optionB = view.findViewById(R.id.optionB);\n        RadioButton optionC = view.findViewById(R.id.optionC);\n        RadioGroup radioGroup = view.findViewById(R.id.radioGroup);\n\n        questionTextView.setText(&quot;What is the capital city of &quot; + currentQuestion.getState() + &quot;?&quot;);\n        optionA.setText(currentQuestion.getCapitalCity());\n        optionB.setText(currentQuestion.getSecondCity());\n        optionC.setText(currentQuestion.getThirdCity());\n\n        radioGroup.setOnCheckedChangeListener((group, checkedId) -&gt; {\n            selectedAnswer = view.findViewById(checkedId);\n            if (isAnswerCorrect() &amp;&amp; getParentFragment() instanceof QuizFragment) {\n                ((QuizFragment) getParentFragment()).markQuestionAsCorrect(questionIndex);\n                if (questionIndex == totalQuestions - 1) {\n                    Log.d(&quot;QuestionFragment&quot;, &quot;Caliing displayFinalScore()&quot;);\n                    ((QuizFragment) getParentFragment()).displayFinalScore();\n                    ((QuizFragment) getParentFragment()).viewPager.getAdapter().notifyDataSetChanged();\n                }\n            }\n        });\n\n        return view;\n    }\n}\n\n</code></pre>\n<p>**QuizPagerAdapter.java:\n**</p>\n<pre><code>package com.example.project4;\n\nimport android.util.Log;\n\nimport androidx.fragment.app.Fragment;\nimport androidx.viewpager2.adapter.FragmentStateAdapter;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class QuizPagerAdapter extends FragmentStateAdapter {\n    private final Fragment fragment;\n    private final List&lt;Question&gt; questionList;\n    ResultFragment resultFragment;\n\n    public QuizPagerAdapter(Fragment fragment, List&lt;Question&gt; questionList) {\n        super(fragment);\n        this.fragment = fragment;\n        this.questionList = questionList;\n    }\n\n    @Override\n    public Fragment createFragment(int position) {\n        Log.d(&quot;QuizPagerAdapter&quot;, &quot;Position:&quot; + position);\n        if (position == questionList.size()) {\n            Log.d(&quot;QuizPagerAdapter&quot;, &quot;QuestionListSize: &quot; + questionList.size());\n            resultFragment = ResultFragment.newInstance(((QuizFragment) fragment).answeredCorrectly.size());\n            return resultFragment;\n        }\n        return QuestionFragment.newInstance(questionList.get(position), position, getItemCount());\n    }\n\n    @Override\n    public int getItemCount() {\n        return questionList.size() + 1;\n    }\n}\n\n</code></pre>\n<p>**ResultFragment.java:\n**</p>\n<pre><code>package com.example.project4;\n\nimport android.os.Bundle;\n\nimport androidx.fragment.app.Fragment;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\npublic class ResultFragment extends Fragment {\n\n    private TextView tvScore;\n    private int score;\n\n    public static ResultFragment newInstance(int score) {\n        ResultFragment fragment = new ResultFragment();\n        Bundle args = new Bundle();\n        args.putInt(&quot;SCORE&quot;, score);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_result, container, false);\n        if (getArguments() != null) {\n            score = getArguments().getInt(&quot;SCORE&quot;);\n        }\n        tvScore = view.findViewById(R.id.tvScore);\n        return view;\n    }\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        tvScore.setText(&quot;Your Score: &quot; + score);\n    }\n\n    public void updateScore(int newScore) {\n        score = newScore;\n        if (tvScore != null) {\n            tvScore.setText(&quot;Your Score: &quot; + score);\n        }\n    }\n}\n\n</code></pre>\n<p>I've already made sure that the score update and transition to the results page happen in sequence, and I've thoroughly verified my logic for determining if an answer is correct. But despite these efforts, the result is consistently one point less than expected when all questions are answered correctly.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea","spring-boot-devtools"],"answers":[{"tags":[],"owner":{"account_id":6456536,"reputation":1010,"user_id":5001734,"accept_rate":33,"display_name":"Samir Shaik"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1543659047,"creation_date":1543659047,"answer_id":53569746,"question_id":53569745,"body_markdown":"The issue was resolved by changing the name of the project from spring-boot to spring-boot-xxx (basically anything but spring-boot).\r\n\r\n**If you read the documentation carefully here&#39;s what is mentioned:**\r\n&gt; \r\nWhen deciding if an entry on the classpath should trigger a restart when it changes, DevTools automatically ignores projects named **spring-boot**, spring-boot-devtools, spring-boot-autoconfigure, spring-boot-actuator, and spring-boot-starter.\r\n\r\nBuilding the project using Ctrl+F9 automatically triggers a restart. If you wish to automatically trigger as soon as a class file is saved you can follow the hot-swap link provided in the question.\r\n\r\nSpring Boot also has an option to trigger restart when a specific file changes and that can be configured in application.properties using following property\r\n&gt; \r\nspring.devtools.restart.trigger-file=&lt;path-to-file-here&gt;\r\n\r\nHope this helps someone save time.","title":"Spring Boot Developer Tools Auto restart doesn&#39;t work in IntelliJ","body":"<p>The issue was resolved by changing the name of the project from spring-boot to spring-boot-xxx (basically anything but spring-boot).</p>\n\n<p><strong>If you read the documentation carefully here's what is mentioned:</strong></p>\n\n<blockquote>\n  <p>When deciding if an entry on the classpath should trigger a restart when it changes, DevTools automatically ignores projects named <strong>spring-boot</strong>, spring-boot-devtools, spring-boot-autoconfigure, spring-boot-actuator, and spring-boot-starter.</p>\n</blockquote>\n\n<p>Building the project using Ctrl+F9 automatically triggers a restart. If you wish to automatically trigger as soon as a class file is saved you can follow the hot-swap link provided in the question.</p>\n\n<p>Spring Boot also has an option to trigger restart when a specific file changes and that can be configured in application.properties using following property</p>\n\n<blockquote>\n  <p>spring.devtools.restart.trigger-file=</p>\n</blockquote>\n\n<p>Hope this helps someone save time.</p>\n"},{"comments":[{"owner":{"account_id":4525260,"reputation":559,"user_id":3677294,"display_name":"MonirRouissi"},"score":1,"creation_date":1624368515,"post_id":61721603,"comment_id":120335811,"body_markdown":"great but  it seems like it has a fixed time to restart not when a modification is made .","body":"great but  it seems like it has a fixed time to restart not when a modification is made ."},{"owner":{"account_id":8747492,"reputation":117,"user_id":6542175,"display_name":"B.obed"},"score":3,"creation_date":1667738813,"post_id":61721603,"comment_id":131233728,"body_markdown":"Great answer but the &quot;compiler.automake.allow.when.app.running&quot; option has been moved to advanced settings as &quot;Allow auto-make to start even if developed application is currently running&quot;. Checking that, after add the dependency should work.","body":"Great answer but the &quot;compiler.automake.allow.when.app.running&quot; option has been moved to advanced settings as &quot;Allow auto-make to start even if developed application is currently running&quot;. Checking that, after add the dependency should work."}],"tags":[],"owner":{"account_id":7312458,"reputation":161,"user_id":5571179,"display_name":"Harald"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1589166020,"creation_date":1589166020,"answer_id":61721603,"question_id":53569745,"body_markdown":"In order to make it work, you need to:\r\n\r\n1)Have devtools enable in maven or gradle.\r\nIn maven it looks like :\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t &lt;scope&gt;runtime&lt;/scope&gt;&lt;!-- --&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n2)In IntellijIDEA: go in settings(ctrl +alt+s) -&gt; Build,Execution,Deployment -&gt; compiler, check &quot;Build project automatically&quot;\r\n\r\n3)In IntellijIDEA: press ctrl+shift+a then type &quot;registry&quot; and click on it. Then enable the option &quot;compiler.automake.allow.when.app.running&quot;.\r\n\r\n4) RESTART intellijIDEA !! I lost few hours because of this :/\r\n\r\nIt should now be working.\r\n\r\nPlease note that:\r\n\r\n-You don&#39;t need additional-paths or trigger-file for this to work as intended.\r\n\r\n-If you are using the maven launch parameter `-Dspring-boot.run.fork=false` to enable debugging, then devtools are disabled, so it should not reboot on code change.\r\n\r\n-in the yaml file, you need to use quotes for parameters coming from the pom. If you don&#39;t, the project will run the first time and then fail on reboot.\r\n\r\n    spring:\r\n      profiles:\r\n        active: &#39;@spring.profiles.active@&#39;\r\n\r\nIT WORKS WITH INTELLIJIDEA COMMUNITY EDITION, it&#39;s worth the caps as many answers say it works only with ultimate...","title":"Spring Boot Developer Tools Auto restart doesn&#39;t work in IntelliJ","body":"<p>In order to make it work, you need to:</p>\n\n<p>1)Have devtools enable in maven or gradle.\nIn maven it looks like :</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;scope&gt;runtime&lt;/scope&gt;&lt;!-- --&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>2)In IntellijIDEA: go in settings(ctrl +alt+s) -> Build,Execution,Deployment -> compiler, check \"Build project automatically\"</p>\n\n<p>3)In IntellijIDEA: press ctrl+shift+a then type \"registry\" and click on it. Then enable the option \"compiler.automake.allow.when.app.running\".</p>\n\n<p>4) RESTART intellijIDEA !! I lost few hours because of this :/</p>\n\n<p>It should now be working.</p>\n\n<p>Please note that:</p>\n\n<p>-You don't need additional-paths or trigger-file for this to work as intended.</p>\n\n<p>-If you are using the maven launch parameter <code>-Dspring-boot.run.fork=false</code> to enable debugging, then devtools are disabled, so it should not reboot on code change.</p>\n\n<p>-in the yaml file, you need to use quotes for parameters coming from the pom. If you don't, the project will run the first time and then fail on reboot.</p>\n\n<pre><code>spring:\n  profiles:\n    active: '@spring.profiles.active@'\n</code></pre>\n\n<p>IT WORKS WITH INTELLIJIDEA COMMUNITY EDITION, it's worth the caps as many answers say it works only with ultimate...</p>\n"}],"owner":{"account_id":6456536,"reputation":1010,"user_id":5001734,"accept_rate":33,"display_name":"Samir Shaik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8250,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":2,"score":14,"last_activity_date":1698753817,"creation_date":1543659047,"question_id":53569745,"body_markdown":"Started spring-boot with spring-boot-devtools recently in IntelliJ and spent couple of hours trying to figure out why IntelliJ would not pick up my changes and auto restart embedded tomcat.\r\n\r\nInformation at this link didn&#39;t help either: https://dzone.com/articles/spring-boot-application-live-reload-hot-swap-with","title":"Spring Boot Developer Tools Auto restart doesn&#39;t work in IntelliJ","body":"<p>Started spring-boot with spring-boot-devtools recently in IntelliJ and spent couple of hours trying to figure out why IntelliJ would not pick up my changes and auto restart embedded tomcat.</p>\n\n<p>Information at this link didn't help either: <a href=\"https://dzone.com/articles/spring-boot-application-live-reload-hot-swap-with\" rel=\"noreferrer\">https://dzone.com/articles/spring-boot-application-live-reload-hot-swap-with</a></p>\n"},{"tags":["java","graph","gremlin","tinkerpop","janusgraph"],"answers":[{"comments":[{"owner":{"account_id":29587513,"reputation":11,"user_id":22675856,"display_name":"Shahul Irshad"},"score":0,"creation_date":1696338216,"post_id":77222429,"comment_id":136137640,"body_markdown":"What about Or() case?","body":"What about Or() case?"},{"owner":{"account_id":29587513,"reputation":11,"user_id":22675856,"display_name":"Shahul Irshad"},"score":0,"creation_date":1696338962,"post_id":77222429,"comment_id":136137796,"body_markdown":"Also what about a case where you have an Or between two relationships:\nFor example:\ng.V().hasLabel(&quot;label&quot;).or(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()","body":"Also what about a case where you have an Or between two relationships: For example: g.V().hasLabel(&quot;label&quot;).or(inE(&quot;relation2&quot;).outV().hasLabel(&zwnj;&#8203;&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toL&zwnj;&#8203;ist()"},{"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"score":0,"creation_date":1696346275,"post_id":77222429,"comment_id":136139430,"body_markdown":"convert `or()` to `union()`.","body":"convert <code>or()</code> to <code>union()</code>."},{"owner":{"account_id":29587513,"reputation":11,"user_id":22675856,"display_name":"Shahul Irshad"},"score":0,"creation_date":1698735050,"post_id":77222429,"comment_id":136439502,"body_markdown":"How to handle such queries for example:\ng.V().hasLabel(&quot;label&quot;).and(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\nThis will not give the path. We can even append them back to back.","body":"How to handle such queries for example: g.V().hasLabel(&quot;label&quot;).and(inE(&quot;relation2&quot;).outV().hasLabel&zwnj;&#8203;(&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toL&zwnj;&#8203;ist() This will not give the path. We can even append them back to back."},{"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"score":0,"creation_date":1698752911,"post_id":77222429,"comment_id":136442640,"body_markdown":"updated my answer based on your comments","body":"updated my answer based on your comments"}],"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698752896,"creation_date":1696337502,"answer_id":77222429,"question_id":77221574,"body_markdown":"Gremlin maintains a path history to keep track of where he has travelled in a graph and that is what the `path()` step produces. The `and()` and `or()` steps are filters and filters don&#39;t change the state of that history (Gremlin really doesn&#39;t move anywhere on a filter the way you might with `outE()` or `in()` or other `map()`-like steps that transform the current traverser state). In your example:\r\n\r\n    g.V().hasLabel(&quot;label&quot;).\r\n      and(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;),\r\n          outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\r\n      path()\r\n\r\nyou do have some traversing steps like `outE()` but they apply to the filter to &quot;check for outgoing edges&quot; but not to actually traverse to them to change the path history. If you want to see the edges in the path then you would need to explicitly traverse to them after the filter. I&#39;d perhaps rewrite that as:\r\n\r\n    g.V().has(&quot;label&quot;, &quot;prop1&quot;, &quot;prop1-value&quot;)\r\n      outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;).\r\n      path()\r\n\r\nThat seems like an analogous traversal to what you were writing because the `and()` is implied and you want the `Path` object not just the initial `Vertex` on that `Path`. \r\n\r\nIf you have multiple directions to traverse, the above suggestion might not work so well, nor will it work for `and()` situations where you want to ensure both filtering conditions are present. Most directly I guess you could do:\r\n\r\n```\r\ng.V().\r\n  hasLabel(&quot;label&quot;).\r\n  and(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\r\n      outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\r\n  union(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\r\n        outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\r\n  path()\r\n```\r\n\r\nbut that will likely traverse both paths twice, once to filter and once to gather the data for the `path()`. That might not be bad depending on the cost of the filter (i.e. how many edges needed to be tested to satisfy the `and()`). \r\n\r\nAnother option would be to gather all the paths and then try to post filter them (rather than filtering up front with `and()`):\r\n\r\n```\r\ng.V().\r\n  hasLabel(&quot;label&quot;).\r\n  union(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\r\n        outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\r\n  path().\r\n  group().\r\n    by(limit(local,1)).\r\n  unfold().\r\n  select(values).\r\n  filter(count(local).is(gt(1)))\r\n```\r\n\r\nYour filter is going to be domain specific in that you&#39;ll need to know rules about cardinality within your data to make write it. In my example above, I just assumed that if there is single cardinality for each of those edges such that having more than one path count per starting vertex would mean that the `and()` semantics was satisfied.","title":"Why doesnt the gremlin query return edges using path() when logical operators are present in the query?","body":"<p>Gremlin maintains a path history to keep track of where he has travelled in a graph and that is what the <code>path()</code> step produces. The <code>and()</code> and <code>or()</code> steps are filters and filters don't change the state of that history (Gremlin really doesn't move anywhere on a filter the way you might with <code>outE()</code> or <code>in()</code> or other <code>map()</code>-like steps that transform the current traverser state). In your example:</p>\n<pre><code>g.V().hasLabel(&quot;label&quot;).\n  and(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;),\n      outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\n  path()\n</code></pre>\n<p>you do have some traversing steps like <code>outE()</code> but they apply to the filter to &quot;check for outgoing edges&quot; but not to actually traverse to them to change the path history. If you want to see the edges in the path then you would need to explicitly traverse to them after the filter. I'd perhaps rewrite that as:</p>\n<pre><code>g.V().has(&quot;label&quot;, &quot;prop1&quot;, &quot;prop1-value&quot;)\n  outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;).\n  path()\n</code></pre>\n<p>That seems like an analogous traversal to what you were writing because the <code>and()</code> is implied and you want the <code>Path</code> object not just the initial <code>Vertex</code> on that <code>Path</code>.</p>\n<p>If you have multiple directions to traverse, the above suggestion might not work so well, nor will it work for <code>and()</code> situations where you want to ensure both filtering conditions are present. Most directly I guess you could do:</p>\n<pre><code>g.V().\n  hasLabel(&quot;label&quot;).\n  and(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\n      outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\n  union(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\n        outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\n  path()\n</code></pre>\n<p>but that will likely traverse both paths twice, once to filter and once to gather the data for the <code>path()</code>. That might not be bad depending on the cost of the filter (i.e. how many edges needed to be tested to satisfy the <code>and()</code>).</p>\n<p>Another option would be to gather all the paths and then try to post filter them (rather than filtering up front with <code>and()</code>):</p>\n<pre><code>g.V().\n  hasLabel(&quot;label&quot;).\n  union(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;),\n        outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).\n  path().\n  group().\n    by(limit(local,1)).\n  unfold().\n  select(values).\n  filter(count(local).is(gt(1)))\n</code></pre>\n<p>Your filter is going to be domain specific in that you'll need to know rules about cardinality within your data to make write it. In my example above, I just assumed that if there is single cardinality for each of those edges such that having more than one path count per starting vertex would mean that the <code>and()</code> semantics was satisfied.</p>\n"}],"owner":{"account_id":29587513,"reputation":11,"user_id":22675856,"display_name":"Shahul Irshad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698752896,"creation_date":1696329994,"question_id":77221574,"body_markdown":"I am fairly new to gremlin query and janusgraph. I had a requirement to get both edges and nodes of the graph given various properties of the nodes and the relationship between them. There can be multiple properties and/or relationships and a logical operator between them.\r\n\r\nAfter a good amount of research and going through [PRACTICAL GREMLIN: An Apache Tinkerpop Tutorial](https://kelvinlawrence.net/book/Gremlin-Graph-Guide.html) I figured a way to do this in a single query., i.e, using [path()](https://tinkerpop.apache.org/docs/current/reference/#path-step) step.\r\n\r\nFor example a simple query with one property or relationship filter would look like this:\r\n\r\n```\r\ng.V().hasLabel(&quot;label&quot;).has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;).path().toList()\r\n\r\ng.V().hasLabel(&quot;label&quot;).outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;).path().toList()\r\n```\r\nSuch queries worked fine, where the result contained both edges and nodes whenever there is a relationship involved in the query.\r\n\r\nHowever, for complex queries where multiple relationships or combination of relationship and properties are involved, the query doesnt return edges. It only returns nodes.\r\nFor example:\r\n\r\n```\r\ng.V().hasLabel(&quot;label&quot;).and(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\r\n\r\ng.V().hasLabel(&quot;label&quot;).or(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\r\n\r\ng.V().hasLabel(&quot;label&quot;).or(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\r\n```\r\n\r\nWhy doesnt the path() step doesnt include the edges in such cases mentioned above?\r\nAny help is much appreciated.\r\n\r\n\r\nNote: The gremlin query is constructed  in Java using gremlin-java.\r\n\r\n\r\n\r\nI have also tried to use select step which didn&#39;t help.","title":"Why doesnt the gremlin query return edges using path() when logical operators are present in the query?","body":"<p>I am fairly new to gremlin query and janusgraph. I had a requirement to get both edges and nodes of the graph given various properties of the nodes and the relationship between them. There can be multiple properties and/or relationships and a logical operator between them.</p>\n<p>After a good amount of research and going through <a href=\"https://kelvinlawrence.net/book/Gremlin-Graph-Guide.html\" rel=\"nofollow noreferrer\">PRACTICAL GREMLIN: An Apache Tinkerpop Tutorial</a> I figured a way to do this in a single query., i.e, using <a href=\"https://tinkerpop.apache.org/docs/current/reference/#path-step\" rel=\"nofollow noreferrer\">path()</a> step.</p>\n<p>For example a simple query with one property or relationship filter would look like this:</p>\n<pre><code>g.V().hasLabel(&quot;label&quot;).has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;).path().toList()\n\ng.V().hasLabel(&quot;label&quot;).outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;).path().toList()\n</code></pre>\n<p>Such queries worked fine, where the result contained both edges and nodes whenever there is a relationship involved in the query.</p>\n<p>However, for complex queries where multiple relationships or combination of relationship and properties are involved, the query doesnt return edges. It only returns nodes.\nFor example:</p>\n<pre><code>g.V().hasLabel(&quot;label&quot;).and(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\n\ng.V().hasLabel(&quot;label&quot;).or(has(&quot;prop1&quot;, eq(&quot;prop1-value&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\n\ng.V().hasLabel(&quot;label&quot;).or(inE(&quot;relation2&quot;).outV().hasLabel(&quot;another_node&quot;), outE(&quot;relation1&quot;).inV().hasLabel(&quot;related_node&quot;)).path().toList()\n</code></pre>\n<p>Why doesnt the path() step doesnt include the edges in such cases mentioned above?\nAny help is much appreciated.</p>\n<p>Note: The gremlin query is constructed  in Java using gremlin-java.</p>\n<p>I have also tried to use select step which didn't help.</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":2407283,"reputation":2568,"user_id":2103383,"accept_rate":93,"display_name":"RutledgePaulV"},"score":0,"creation_date":1420956988,"post_id":27884382,"comment_id":44170577,"body_markdown":"You may find this useful if venturing into custom validation: https://docs.jboss.org/hibernate/validator/4.0.1/reference/en-US/pdf/hibernate_reference.pdf","body":"You may find this useful if venturing into custom validation: <a href=\"https://docs.jboss.org/hibernate/validator/4.0.1/reference/en-US/pdf/hibernate_reference.pdf\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/validator/4.0.1/reference/en-US/pdf&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"score":0,"creation_date":1420973925,"post_id":27884418,"comment_id":44173636,"body_markdown":"Nice NullPointerException ^^","body":"Nice NullPointerException ^^"}],"tags":[],"owner":{"account_id":2407283,"reputation":2568,"user_id":2103383,"accept_rate":93,"display_name":"RutledgePaulV"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420995604,"creation_date":1420955824,"answer_id":27884418,"question_id":27884382,"body_markdown":"I don&#39;t know what annotations are available for a byte array, if any. However, you could implement your own validator without much trouble. \r\n\r\nSomething like:\r\n\r\n    public class ModelWithFileFieldValidator implements Validator {\r\n        \r\n        public boolean supports(Class clazz) {\r\n            return ModelWithFileField.class.equals(clazz);\r\n        }\r\n        \r\n        public void validate(Object obj, Errors e) {\r\n            byte[] field = ((ModelWithFileField)obj).getBytes();\r\n            if (field == null || field.length == 0) {\r\n                e.rejectValue(&quot;file&quot;, &quot;empty&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can i do a validate if a person has uploaded a file","body":"<p>I don't know what annotations are available for a byte array, if any. However, you could implement your own validator without much trouble. </p>\n\n<p>Something like:</p>\n\n<pre><code>public class ModelWithFileFieldValidator implements Validator {\n\n    public boolean supports(Class clazz) {\n        return ModelWithFileField.class.equals(clazz);\n    }\n\n    public void validate(Object obj, Errors e) {\n        byte[] field = ((ModelWithFileField)obj).getBytes();\n        if (field == null || field.length == 0) {\n            e.rejectValue(\"file\", \"empty\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2468965,"reputation":26460,"user_id":2151351,"display_name":"a better oliver"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1420973167,"creation_date":1420972751,"answer_id":27886123,"question_id":27884382,"body_markdown":"`@NotBlank` is for Strings. It&#39;s also not part of the standard for that matter. You probably want to go with `@NotNull`. It only checks if a file is there, though, not if it&#39;s empty. If that&#39;s necessary as well you can use `@Size(min = 1)`. ","title":"How can i do a validate if a person has uploaded a file","body":"<p><code>@NotBlank</code> is for Strings. It's also not part of the standard for that matter. You probably want to go with <code>@NotNull</code>. It only checks if a file is there, though, not if it's empty. If that's necessary as well you can use <code>@Size(min = 1)</code>. </p>\n"},{"tags":[],"owner":{"account_id":21222548,"reputation":51,"user_id":15608788,"display_name":"Javad Mahdiyoun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698752872,"creation_date":1698740142,"answer_id":77394236,"question_id":27884382,"body_markdown":"It can be done by using @NotEmpty.\r\nIt is a combination of @NotNull and size/length &gt; 0\r\n\r\n@NotEmpty = @NotNull &amp;&amp;  size/length &gt; 0\r\n\r\n    @NotEmpty(message = DocumentForm.NOT_BLANK_MESSAGE)\r\n    private byte[] file;\r\n\r\nhttps://www.baeldung.com/java-bean-validation-not-null-empty-blank\r\n\r\n","title":"How can i do a validate if a person has uploaded a file","body":"<p>It can be done by using @NotEmpty.\nIt is a combination of @NotNull and size/length &gt; 0</p>\n<p>@NotEmpty = @NotNull &amp;&amp;  size/length &gt; 0</p>\n<pre><code>@NotEmpty(message = DocumentForm.NOT_BLANK_MESSAGE)\nprivate byte[] file;\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-bean-validation-not-null-empty-blank\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-bean-validation-not-null-empty-blank</a></p>\n"}],"owner":{"account_id":449847,"reputation":16473,"user_id":844872,"accept_rate":61,"display_name":"Illep"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":609,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698752872,"creation_date":1420955478,"question_id":27884382,"body_markdown":"I am getting this error message.\r\n\r\n&gt; javax.validation.UnexpectedTypeException: HV000030: No validator could\r\n&gt; be found for type: byte[].\r\n\r\nThe code is\r\n\r\n    @NotBlank(message = DocumentForm.NOT_BLANK_MESSAGE)\r\n    private byte[] file;\r\n\r\nHow can i do a validate if a person has uploaded a file","title":"How can i do a validate if a person has uploaded a file","body":"<p>I am getting this error message.</p>\n\n<blockquote>\n  <p>javax.validation.UnexpectedTypeException: HV000030: No validator could\n  be found for type: byte[].</p>\n</blockquote>\n\n<p>The code is</p>\n\n<pre><code>@NotBlank(message = DocumentForm.NOT_BLANK_MESSAGE)\nprivate byte[] file;\n</code></pre>\n\n<p>How can i do a validate if a person has uploaded a file</p>\n"},{"tags":["java","caching","redis","spring-cloud-gateway"],"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1698795155,"post_id":77395618,"comment_id":136450200,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":152408,"reputation":6071,"user_id":366916,"accept_rate":50,"display_name":"bharathi"},"score":0,"creation_date":1700225709,"post_id":77395618,"comment_id":136631335,"body_markdown":"Are you able cache the response in api gateway. I also have the same requirement. Can you help me if you have any solution","body":"Are you able cache the response in api gateway. I also have the same requirement. Can you help me if you have any solution"}],"owner":{"account_id":29794221,"reputation":1,"user_id":22833705,"display_name":"Ilyazik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698752829,"creation_date":1698752829,"question_id":77395618,"body_markdown":"I have gateway service, I need cached get requests from another service. Caching is doing into gateway filter. I can&#39;t resolve problem with caching redis. How I can get response body? Class ServerHttpResponse hasn&#39;t this method. I use Spring Boot 3.1.1   \r\n\r\nI tried lots of methods, but can`t get response body","title":"Caching Redis in filter of Gateway service","body":"<p>I have gateway service, I need cached get requests from another service. Caching is doing into gateway filter. I can't resolve problem with caching redis. How I can get response body? Class ServerHttpResponse hasn't this method. I use Spring Boot 3.1.1</p>\n<p>I tried lots of methods, but can`t get response body</p>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698752780,"creation_date":1698752780,"answer_id":77395614,"question_id":77395104,"body_markdown":"The answer is not to start scanning on button click, as it provides a very poor user experience.\r\n\r\nInstead it&#39;s best to use `enableReaderMode` to start scanning when your app starts, then the button click just changes the behaviour of what your app does when a Tag is detected.\r\n\r\ne.g. the Handle Tag process is:-\r\n\r\nHandle Tag if button NOT click then do nothing\r\n\r\nor\r\n\r\nHandle Tag if button click then do whatever you want to do\r\n\r\nThus it looks like you are only scanning when button is clicked but you don&#39;t get the system default popups or other NFC apps overriding your app if the user presents the Tag at the wrong time.","title":"Java android NFC Start scanning on button click","body":"<p>The answer is not to start scanning on button click, as it provides a very poor user experience.</p>\n<p>Instead it's best to use <code>enableReaderMode</code> to start scanning when your app starts, then the button click just changes the behaviour of what your app does when a Tag is detected.</p>\n<p>e.g. the Handle Tag process is:-</p>\n<p>Handle Tag if button NOT click then do nothing</p>\n<p>or</p>\n<p>Handle Tag if button click then do whatever you want to do</p>\n<p>Thus it looks like you are only scanning when button is clicked but you don't get the system default popups or other NFC apps overriding your app if the user presents the Tag at the wrong time.</p>\n"}],"owner":{"account_id":29793730,"reputation":21,"user_id":22833338,"display_name":"SenjaKids"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698752780,"creation_date":1698748160,"question_id":77395104,"body_markdown":"Currently i&#39;m creating an android java project that allow the app to start scaning nfc Tag **on button click**. I already know how to start scan NFC tag on app start. But doesn&#39;t know how to only start scanning on button click. Please help me. thankyou","title":"Java android NFC Start scanning on button click","body":"<p>Currently i'm creating an android java project that allow the app to start scaning nfc Tag <strong>on button click</strong>. I already know how to start scan NFC tag on app start. But doesn't know how to only start scanning on button click. Please help me. thankyou</p>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1698751565,"post_id":77395156,"comment_id":136442417,"body_markdown":"Think about it, How would you know which `Major`&#39;s `majorId` to use during declaration?","body":"Think about it, How would you know which <code>Major</code>&#39;s <code>majorId</code> to use during declaration?"}],"answers":[{"tags":[],"owner":{"account_id":26555371,"reputation":1,"user_id":20184074,"display_name":"S.D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698751650,"creation_date":1698751546,"answer_id":77395465,"question_id":77395156,"body_markdown":"The way you call ```Major.majorId``` is in a static context. In order to do it that way, you have to declare the ```majorId``` variable inside the ```Major``` class as ```static```.\r\n\r\nKeep in mind though, a static variable is part of the class, which means that all the instances of the class will share the same variable.","title":"Import id(Attribute) from other class","body":"<p>The way you call <code>Major.majorId</code> is in a static context. In order to do it that way, you have to declare the <code>majorId</code> variable inside the <code>Major</code> class as <code>static</code>.</p>\n<p>Keep in mind though, a static variable is part of the class, which means that all the instances of the class will share the same variable.</p>\n"},{"tags":[],"owner":{"account_id":9355974,"reputation":122,"user_id":6943989,"accept_rate":100,"display_name":"paydro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698752607,"creation_date":1698752607,"answer_id":77395598,"question_id":77395156,"body_markdown":"What you&#39;re trying to do isn&#39;t directly possible, however it isn&#39;t best pattern either. If your intent is to only allow access to the `majorId` string, you have a couple clean options:\r\n\r\n1. Deconstruction in constructor\r\n\r\nBy passing the Major object in your constructor you can fetch its id for local usage:\r\n```java\r\npublic class Student {\r\n  public final String majorId;\r\n  \r\n  public Student(Major m) {\r\n    this.majorId = m.majorId;\r\n  }\r\n}\r\n```\r\nor, pass the id by itself:\r\n```java\r\n  ...\r\n  public Student(String majorId) { \r\n    this.majorId = majorId \r\n  }\r\n```\r\n\r\n2. Access level definition\r\n\r\nIn theory there&#39;s not much benefit to avoiding keeping the `Major` object reference in the `Student` class. You can make the major private and only allow access to the majorId value. Really, this is a getter, but it&#39;s good pattern.\r\n\r\n```java\r\npublic class Student {\r\n  private final Major major;\r\n\r\n  public Student(Major m) {\r\n    this.major = m;\r\n  }\r\n\r\n  public String majorId() {\r\n    return major.majorId;\r\n  }\r\n}\r\n```","title":"Import id(Attribute) from other class","body":"<p>What you're trying to do isn't directly possible, however it isn't best pattern either. If your intent is to only allow access to the <code>majorId</code> string, you have a couple clean options:</p>\n<ol>\n<li>Deconstruction in constructor</li>\n</ol>\n<p>By passing the Major object in your constructor you can fetch its id for local usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n  public final String majorId;\n  \n  public Student(Major m) {\n    this.majorId = m.majorId;\n  }\n}\n</code></pre>\n<p>or, pass the id by itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ...\n  public Student(String majorId) { \n    this.majorId = majorId \n  }\n</code></pre>\n<ol start=\"2\">\n<li>Access level definition</li>\n</ol>\n<p>In theory there's not much benefit to avoiding keeping the <code>Major</code> object reference in the <code>Student</code> class. You can make the major private and only allow access to the majorId value. Really, this is a getter, but it's good pattern.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Student {\n  private final Major major;\n\n  public Student(Major m) {\n    this.major = m;\n  }\n\n  public String majorId() {\n    return major.majorId;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":27111050,"reputation":11,"user_id":20656201,"display_name":"Matias04_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698752607,"creation_date":1698748600,"question_id":77395156,"body_markdown":"So I have a Class called Major which holds the respective majorId, and I have the class Student which attends a certain Major, and I would like to know if it is possible while declaring the variables for the student to somehow import the majorId, without using Setter or Getter functions, a faster simpler way maybe?\r\n\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Student extends Person {\r\n    private static String cod;\r\n    public String Major.majorId; //?????????? This is what I was trying to do\r\n    private ArrayList&lt;Subject&gt; subjectList;\r\n}\r\n\r\npublic class Major {\r\n    private String majorId;\r\n    private ArrayList&lt;Student&gt; studentList;\r\n}\r\n```","title":"Import id(Attribute) from other class","body":"<p>So I have a Class called Major which holds the respective majorId, and I have the class Student which attends a certain Major, and I would like to know if it is possible while declaring the variables for the student to somehow import the majorId, without using Setter or Getter functions, a faster simpler way maybe?</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Student extends Person {\n    private static String cod;\n    public String Major.majorId; //?????????? This is what I was trying to do\n    private ArrayList&lt;Subject&gt; subjectList;\n}\n\npublic class Major {\n    private String majorId;\n    private ArrayList&lt;Student&gt; studentList;\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5271912,"reputation":55,"user_id":4209925,"display_name":"rick"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685601402,"creation_date":1685601402,"answer_id":76379258,"question_id":76379146,"body_markdown":"You should check the authentication and authorization. Please check if the login token is correct or if it has been passed as a parameter to the corresponding interface.","title":"Springboot App returns 401 instead of 500","body":"<p>You should check the authentication and authorization. Please check if the login token is correct or if it has been passed as a parameter to the corresponding interface.</p>\n"},{"tags":[],"owner":{"account_id":8016064,"reputation":980,"user_id":11148084,"display_name":"asds_asds"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1685607397,"creation_date":1685607397,"answer_id":76379925,"question_id":76379146,"body_markdown":"Using `authorizeRequests` instead of `authorizeHttpRequests` solved the issue.\r\n\r\nI got the idea from here: https://github.com/spring-projects/spring-boot/issues/33341.\r\n\r\n\r\nIf someone can tell me why this change fixed the issue, I&#39;ll accept that answer.\r\n\r\nThanks","title":"Springboot App returns 401 instead of 500","body":"<p>Using <code>authorizeRequests</code> instead of <code>authorizeHttpRequests</code> solved the issue.</p>\n<p>I got the idea from here: <a href=\"https://github.com/spring-projects/spring-boot/issues/33341\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/33341</a>.</p>\n<p>If someone can tell me why this change fixed the issue, I'll accept that answer.</p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2844819,"reputation":374,"user_id":2443525,"accept_rate":50,"display_name":"Lodewijck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698752421,"creation_date":1698752421,"answer_id":77395576,"question_id":76379146,"body_markdown":"I had a similar problem in a slightly different setup, but I&#39;ve found out that Spring somehow tried to render an error page that needed authentication.\r\n\r\nBy enabling DEBUG logs in my application.yml:\r\n\r\n    logging:\r\n      level:\r\n        org:\r\n          springframework:\r\n            web: DEBUG\r\n\r\nit showed me some logs related to error handling:\r\n\r\n    ...\r\n    GET...\r\n    Mapped to...\r\n    Resolved...\r\n    Completed 500 INTERNAL_SERVER_ERROR\r\n    Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\r\n    &quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\r\n    ...\r\n\r\nSo I fixed it by disabling authentication for /error/** patterns.","title":"Springboot App returns 401 instead of 500","body":"<p>I had a similar problem in a slightly different setup, but I've found out that Spring somehow tried to render an error page that needed authentication.</p>\n<p>By enabling DEBUG logs in my application.yml:</p>\n<pre><code>logging:\n  level:\n    org:\n      springframework:\n        web: DEBUG\n</code></pre>\n<p>it showed me some logs related to error handling:</p>\n<pre><code>...\nGET...\nMapped to...\nResolved...\nCompleted 500 INTERNAL_SERVER_ERROR\nMapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n&quot;ERROR&quot; dispatch for GET &quot;/error&quot;, parameters={}\n...\n</code></pre>\n<p>So I fixed it by disabling authentication for /error/** patterns.</p>\n"}],"owner":{"account_id":8016064,"reputation":980,"user_id":11148084,"display_name":"asds_asds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76379925,"answer_count":3,"score":1,"last_activity_date":1698752421,"creation_date":1685600220,"question_id":76379146,"body_markdown":"I recently migrated from SpringBoot 2.7.4 to SpringBoot 3.1.0.\r\n\r\nI made some changes in the Security Config as some of the classes were deprecated.\r\n\r\nEverything works alright but any error that is raised in the Spring App Controller is not returned to the caller. The response is always 401 Unauthorized.\r\n\r\nI&#39;m not even sure which files to share as this is extremely weird.\r\n\r\n\r\nAny help is appreciated\r\n\r\n\r\nEven endpoints marked as ignored return with a 401 in case of an exception.\r\n\r\n\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Value( &quot;${auth0.audience}&quot; )\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/v1/noauth/**&quot;, &quot;/actuator/**&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((authz) -&gt; authz\r\n                        .requestMatchers(&quot;/v1/**&quot;).authenticated()\r\n                )\r\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\r\n                        .jwt((jwt) -&gt; jwt\r\n                                .decoder(jwtDecoder())\r\n                        )\r\n                )\r\n                .cors(Customizer.withDefaults())\r\n                .csrf(AbstractHttpConfigurer::disable);\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n\r\n        return jwtDecoder;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI also have a Filter for configuring RequestId for each request\r\n\r\n```\r\n@Data\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class Slf4jMDCFilter extends OncePerRequestFilter {\r\n    private final String responseHeader;\r\n    private final String mdcTokenKey;\r\n    private final String requestHeader;\r\n\r\n    public Slf4jMDCFilter(String responseHeader, String mdcTokenKey, String requestHeader){\r\n        this.responseHeader = responseHeader;\r\n        this.mdcTokenKey = mdcTokenKey;\r\n        this.requestHeader = requestHeader;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain chain)\r\n            throws java.io.IOException, ServletException {\r\n        try {\r\n            final String token;\r\n            if (StringUtils.hasText(requestHeader) &amp;&amp; StringUtils.hasText(request.getHeader(requestHeader))) {\r\n                token = URLEncoder.encode(request.getHeader(requestHeader));\r\n            } else {\r\n                token = UUID.randomUUID().toString().toUpperCase();\r\n            }\r\n            MDC.put(mdcTokenKey, token);\r\n            if (StringUtils.hasText(responseHeader)) {\r\n                response.addHeader(responseHeader, token);\r\n            }\r\n            chain.doFilter(request, response);\r\n        } finally {\r\n            MDC.remove(mdcTokenKey);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwhich is used as follows\r\n\r\n```\r\n@Configuration\r\npublic class Slf4jMDCFilterConfiguration {\r\n\r\n    public static final String DEFAULT_RESPONSE_TOKEN_HEADER = &quot;ResponseToken&quot;;\r\n\r\n    private final String responseHeader = DEFAULT_RESPONSE_TOKEN_HEADER;\r\n    private final String mdcTokenKey = Util.DEFAULT_MDC_UUID_TOKEN_KEY();\r\n\r\n    @Value( &quot;${config.slf4jfilter.requestHeader}&quot; )\r\n    private String requestHeader;\r\n\r\n    @Bean\r\n    public FilterRegistrationBean servletRegistrationBean() {\r\n        final FilterRegistrationBean registrationBean = new FilterRegistrationBean();\r\n        final Slf4jMDCFilter log4jMDCFilterFilter = new Slf4jMDCFilter(responseHeader, mdcTokenKey, requestHeader);\r\n        registrationBean.setFilter(log4jMDCFilterFilter);\r\n        registrationBean.setOrder(2);\r\n        return registrationBean;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI confirmed that earlier this was not happening and a 500 with INTERNAL_SERVER_ERROR was returned.","title":"Springboot App returns 401 instead of 500","body":"<p>I recently migrated from SpringBoot 2.7.4 to SpringBoot 3.1.0.</p>\n<p>I made some changes in the Security Config as some of the classes were deprecated.</p>\n<p>Everything works alright but any error that is raised in the Spring App Controller is not returned to the caller. The response is always 401 Unauthorized.</p>\n<p>I'm not even sure which files to share as this is extremely weird.</p>\n<p>Any help is appreciated</p>\n<p>Even endpoints marked as ignored return with a 401 in case of an exception.</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n\n    @Value( &quot;${auth0.audience}&quot; )\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/v1/noauth/**&quot;, &quot;/actuator/**&quot;);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((authz) -&gt; authz\n                        .requestMatchers(&quot;/v1/**&quot;).authenticated()\n                )\n                .oauth2ResourceServer((oauth2) -&gt; oauth2\n                        .jwt((jwt) -&gt; jwt\n                                .decoder(jwtDecoder())\n                        )\n                )\n                .cors(Customizer.withDefaults())\n                .csrf(AbstractHttpConfigurer::disable);\n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n\n        jwtDecoder.setJwtValidator(withAudience);\n\n        return jwtDecoder;\n    }\n}\n</code></pre>\n<p>I also have a Filter for configuring RequestId for each request</p>\n<pre><code>@Data\n@EqualsAndHashCode(callSuper = false)\npublic class Slf4jMDCFilter extends OncePerRequestFilter {\n    private final String responseHeader;\n    private final String mdcTokenKey;\n    private final String requestHeader;\n\n    public Slf4jMDCFilter(String responseHeader, String mdcTokenKey, String requestHeader){\n        this.responseHeader = responseHeader;\n        this.mdcTokenKey = mdcTokenKey;\n        this.requestHeader = requestHeader;\n    }\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain chain)\n            throws java.io.IOException, ServletException {\n        try {\n            final String token;\n            if (StringUtils.hasText(requestHeader) &amp;&amp; StringUtils.hasText(request.getHeader(requestHeader))) {\n                token = URLEncoder.encode(request.getHeader(requestHeader));\n            } else {\n                token = UUID.randomUUID().toString().toUpperCase();\n            }\n            MDC.put(mdcTokenKey, token);\n            if (StringUtils.hasText(responseHeader)) {\n                response.addHeader(responseHeader, token);\n            }\n            chain.doFilter(request, response);\n        } finally {\n            MDC.remove(mdcTokenKey);\n        }\n    }\n}\n</code></pre>\n<p>which is used as follows</p>\n<pre><code>@Configuration\npublic class Slf4jMDCFilterConfiguration {\n\n    public static final String DEFAULT_RESPONSE_TOKEN_HEADER = &quot;ResponseToken&quot;;\n\n    private final String responseHeader = DEFAULT_RESPONSE_TOKEN_HEADER;\n    private final String mdcTokenKey = Util.DEFAULT_MDC_UUID_TOKEN_KEY();\n\n    @Value( &quot;${config.slf4jfilter.requestHeader}&quot; )\n    private String requestHeader;\n\n    @Bean\n    public FilterRegistrationBean servletRegistrationBean() {\n        final FilterRegistrationBean registrationBean = new FilterRegistrationBean();\n        final Slf4jMDCFilter log4jMDCFilterFilter = new Slf4jMDCFilter(responseHeader, mdcTokenKey, requestHeader);\n        registrationBean.setFilter(log4jMDCFilterFilter);\n        registrationBean.setOrder(2);\n        return registrationBean;\n    }\n}\n</code></pre>\n<p>I confirmed that earlier this was not happening and a 500 with INTERNAL_SERVER_ERROR was returned.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"score":0,"creation_date":1589876378,"post_id":55342019,"comment_id":109459167,"body_markdown":"Please edit your question&#39;s title, because it has nothing to do with removing a scheduled task from the pool","body":"Please edit your question&#39;s title, because it has nothing to do with removing a scheduled task from the pool"},{"owner":{"account_id":13515645,"reputation":831,"user_id":10696487,"display_name":"ivaylo"},"score":0,"creation_date":1589919541,"post_id":55342019,"comment_id":109483452,"body_markdown":"@GeorgiPeev &quot;remove tasks from ThreadPoolTaskScheduler pool Spring&quot; it literally says remove task from pool","body":"@GeorgiPeev &quot;remove tasks from ThreadPoolTaskScheduler pool Spring&quot; it literally says remove task from pool"}],"answers":[{"comments":[{"owner":{"account_id":13515645,"reputation":831,"user_id":10696487,"display_name":"ivaylo"},"score":0,"creation_date":1589920320,"post_id":61887072,"comment_id":109483828,"body_markdown":"It was a while ago and I think I had some kind of a workaround, but my last line of the question says that canceling the task doesn&#39;t work. I will try again tho and write back.","body":"It was a while ago and I think I had some kind of a workaround, but my last line of the question says that canceling the task doesn&#39;t work. I will try again tho and write back."}],"tags":[],"owner":{"account_id":11793534,"reputation":982,"user_id":8628851,"display_name":"Georgi Peev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589878485,"creation_date":1589878485,"answer_id":61887072,"question_id":55342019,"body_markdown":"When you scheduled a future `ScheduledFuture&lt;?&gt;` will be returned.The `ScheduledFuture&lt;?&gt;` has `scheduledFuture.cancel(false)`, it will cancel the scheduled task, which you have placed in the executor.","title":"remove tasks from ThreadPoolTaskScheduler pool Spring","body":"<p>When you scheduled a future <code>ScheduledFuture&lt;?&gt;</code> will be returned.The <code>ScheduledFuture&lt;?&gt;</code> has <code>scheduledFuture.cancel(false)</code>, it will cancel the scheduled task, which you have placed in the executor.</p>\n"},{"tags":[],"owner":{"account_id":20189096,"reputation":61,"user_id":14807748,"display_name":"bravo1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698751017,"creation_date":1698751017,"answer_id":77395411,"question_id":55342019,"body_markdown":"I was a little late with the answer, but maybe it will be useful to someone.\r\n\r\nYou need to add this line of code to the createThreadPoolTaskScheduler() method:\r\n\r\n``` java\r\nthreadPoolTaskScheduler.setRemoveOnCancelPolicy(true);\r\n```","title":"remove tasks from ThreadPoolTaskScheduler pool Spring","body":"<p>I was a little late with the answer, but maybe it will be useful to someone.</p>\n<p>You need to add this line of code to the createThreadPoolTaskScheduler() method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>threadPoolTaskScheduler.setRemoveOnCancelPolicy(true);\n</code></pre>\n"}],"owner":{"account_id":13515645,"reputation":831,"user_id":10696487,"display_name":"ivaylo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2350,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1698751017,"creation_date":1553530215,"question_id":55342019,"body_markdown":"I am using ThreadPoolTaskScheduler and Scheduler to create tasks, but when I set a new task I want to remove a certain one or all of them how can I do this?\r\n\r\n        @Bean\r\n    public ThreadPoolTaskScheduler createThreadPoolTaskScheduler() {\r\n        ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n        threadPoolTaskScheduler.setPoolSize(10);\r\n        threadPoolTaskScheduler.setThreadNamePrefix(threadPrefix);\r\n        threadPoolTaskScheduler.initialize();\r\n        return threadPoolTaskScheduler;\r\n    }\r\n\r\nAdding the tasks:\r\n\r\n    private final Scheduler scheduler;\r\n    private ThreadPoolTaskScheduler threadPoolTaskScheduler;\r\n    public void addTask(){\r\n        FixedRateTask update = new FixedRateTask(this::executeOnRateMethod\r\n                , initialDelay, waitTime);\r\n\r\n        taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n        scheduler.setTask(taskRegistrar.scheduleFixedRateTask(update));\r\n    }\r\n\r\nIt seems that calling:\r\n\r\n    taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\r\n    taskRegistrar.scheduleFixedRateTask(update);\r\n\r\nAdds threads to the pool everytime, Also canceling the scheduler is not working:\r\n\r\n    scheduler.getTask().cancel();\r\n","title":"remove tasks from ThreadPoolTaskScheduler pool Spring","body":"<p>I am using ThreadPoolTaskScheduler and Scheduler to create tasks, but when I set a new task I want to remove a certain one or all of them how can I do this?</p>\n\n<pre><code>    @Bean\npublic ThreadPoolTaskScheduler createThreadPoolTaskScheduler() {\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n    threadPoolTaskScheduler.setPoolSize(10);\n    threadPoolTaskScheduler.setThreadNamePrefix(threadPrefix);\n    threadPoolTaskScheduler.initialize();\n    return threadPoolTaskScheduler;\n}\n</code></pre>\n\n<p>Adding the tasks:</p>\n\n<pre><code>private final Scheduler scheduler;\nprivate ThreadPoolTaskScheduler threadPoolTaskScheduler;\npublic void addTask(){\n    FixedRateTask update = new FixedRateTask(this::executeOnRateMethod\n            , initialDelay, waitTime);\n\n    taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\n    scheduler.setTask(taskRegistrar.scheduleFixedRateTask(update));\n}\n</code></pre>\n\n<p>It seems that calling:</p>\n\n<pre><code>taskRegistrar.setTaskScheduler(threadPoolTaskScheduler);\ntaskRegistrar.scheduleFixedRateTask(update);\n</code></pre>\n\n<p>Adds threads to the pool everytime, Also canceling the scheduler is not working:</p>\n\n<pre><code>scheduler.getTask().cancel();\n</code></pre>\n"},{"tags":["java","algorithm","cpu-architecture","processor"],"comments":[{"owner":{"account_id":51354,"reputation":43755,"user_id":153430,"display_name":"Jim Lewis"},"score":4,"creation_date":1379822014,"post_id":18940055,"comment_id":27967473,"body_markdown":"Those are really two different questions.  &quot;the way they are implemented on most popularly used computer architectures&quot; implies hardware instructions with bounded input size, so trivially O(1).  BigInteger addition is almost certainly O(n) for n-digit inputs; BigInteger multiplication as implemented in Java is supposedly O(n^2) for n-digit inputs, but more asymptotically efficient algorithms (e.g. Karatsuba or FFT) are known to exist.","body":"Those are really two different questions.  &quot;the way they are implemented on most popularly used computer architectures&quot; implies hardware instructions with bounded input size, so trivially O(1).  BigInteger addition is almost certainly O(n) for n-digit inputs; BigInteger multiplication as implemented in Java is supposedly O(n^2) for n-digit inputs, but more asymptotically efficient algorithms (e.g. Karatsuba or FFT) are known to exist."},{"owner":{"account_id":2763783,"reputation":2401,"user_id":2380088,"accept_rate":73,"display_name":"Cricketer"},"score":0,"creation_date":1379877571,"post_id":18940055,"comment_id":27980607,"body_markdown":"I understand they are two different questions.","body":"I understand they are two different questions."},{"owner":{"account_id":2763783,"reputation":2401,"user_id":2380088,"accept_rate":73,"display_name":"Cricketer"},"score":0,"creation_date":1379877604,"post_id":18940055,"comment_id":27980617,"body_markdown":"Why does Java not implement the more asymptotically efficient algorithms?","body":"Why does Java not implement the more asymptotically efficient algorithms?"},{"owner":{"account_id":51354,"reputation":43755,"user_id":153430,"display_name":"Jim Lewis"},"score":0,"creation_date":1379892178,"post_id":18940055,"comment_id":27984381,"body_markdown":"It may take very large inputs for the asymptotically optimal algorithms to outperform the O(n^2) solution.  The other algorithms are also much more complex and therefore harder to debug, maintain, and optimize.","body":"It may take very large inputs for the asymptotically optimal algorithms to outperform the O(n^2) solution.  The other algorithms are also much more complex and therefore harder to debug, maintain, and optimize."}],"answers":[{"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379822023,"creation_date":1379822023,"answer_id":18940124,"question_id":18940055,"body_markdown":"`BigInteger` and `BigDecimal` in the Oracle JDK are both O(M*N) for both multiply and divide.","title":"Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?","body":"<p><code>BigInteger</code> and <code>BigDecimal</code> in the Oracle JDK are both O(M*N) for both multiply and divide.</p>\n"},{"tags":[],"owner":{"account_id":1398355,"reputation":17671,"user_id":1327651,"accept_rate":93,"display_name":"nha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379822890,"creation_date":1379822546,"answer_id":18940174,"question_id":18940055,"body_markdown":"It seems very unlikely that for arbitrary big operands the complexity remains constant. Unless you can have the arbitrary big hardware to follow that (and it would probably not grow linearly).\r\n\r\nTo answer your question : it vary within different systems and different languages.\r\n\r\nHowever for &quot;normal&quot; sized ints, you can have a look at the ARM docs.\r\n\r\nFor instance, the [ARM assembly multiply instructions][1] contains different subsections. Assuming assembly language, and a particular ARM platform, you can dig in the official documentation.\r\nThat gives you the number of cycles necessary to perform a multiplication. Because ARM is a RISC machine, it is convenient to have it that way. Then compare that to you vendor chip frequency.\r\n\r\nFor instance for [ARM7 processors][2].\r\n\r\nAlso, you may want to have a look at [wikipedia Multiplication_algorithm][3]\r\n\r\n\r\n  [1]: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0489c/Cihjfeii.html\r\n  [2]: http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0084f/I20211.html\r\n  [3]: http://en.wikipedia.org/wiki/Multiplication_algorithm","title":"Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?","body":"<p>It seems very unlikely that for arbitrary big operands the complexity remains constant. Unless you can have the arbitrary big hardware to follow that (and it would probably not grow linearly).</p>\n\n<p>To answer your question : it vary within different systems and different languages.</p>\n\n<p>However for \"normal\" sized ints, you can have a look at the ARM docs.</p>\n\n<p>For instance, the <a href=\"http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.dui0489c/Cihjfeii.html\" rel=\"nofollow\">ARM assembly multiply instructions</a> contains different subsections. Assuming assembly language, and a particular ARM platform, you can dig in the official documentation.\nThat gives you the number of cycles necessary to perform a multiplication. Because ARM is a RISC machine, it is convenient to have it that way. Then compare that to you vendor chip frequency.</p>\n\n<p>For instance for <a href=\"http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.ddi0084f/I20211.html\" rel=\"nofollow\">ARM7 processors</a>.</p>\n\n<p>Also, you may want to have a look at <a href=\"http://en.wikipedia.org/wiki/Multiplication_algorithm\" rel=\"nofollow\">wikipedia Multiplication_algorithm</a></p>\n"},{"comments":[{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":3,"creation_date":1698709989,"post_id":77392114,"comment_id":136437226,"body_markdown":"It&#39;s not clearly documented, but in the source for Javas BigInteger you can see that Karatsuba and Toom-3 are implemented, but it stops there and doesn&#39;t go on to Sch&#246;nhage–Strassen.","body":"It&#39;s not clearly documented, but in the source for Javas BigInteger you can see that Karatsuba and Toom-3 are implemented, but it stops there and doesn&#39;t go on to Sch&#246;nhage–Strassen."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1698730531,"post_id":77392114,"comment_id":136438992,"body_markdown":"Some hardware dividers are faster for smaller inputs, e.g. https://agner.org/optimize/instruction_tables.pdf says that AMD K10&#39;s divider was faster for numbers with fewer significant bits in the absolute value of the dividend, according to AMD&#39;s optimization manual.  So some large fixed overhead for any division plus an O(log2(dividend)) component.  Or in Pentium M, lower values (for latency and reciprocal throughput) happen for &quot;round&quot; divisors.  (e.g. lots of trailing zeros I guess, or perhaps exactly 1 set bit.  Agner speculates it might be a special-case early-out, not a gradual thing.)","body":"Some hardware dividers are faster for smaller inputs, e.g. <a href=\"https://agner.org/optimize/instruction_tables.pdf\" rel=\"nofollow noreferrer\">agner.org/optimize/instruction_tables.pdf</a> says that AMD K10&#39;s divider was faster for numbers with fewer significant bits in the absolute value of the dividend, according to AMD&#39;s optimization manual.  So some large fixed overhead for any division plus an O(log2(dividend)) component.  Or in Pentium M, lower values (for latency and reciprocal throughput) happen for &quot;round&quot; divisors.  (e.g. lots of trailing zeros I guess, or perhaps exactly 1 set bit.  Agner speculates it might be a special-case early-out, not a gradual thing.)"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1698730794,"post_id":77392114,"comment_id":136439026,"body_markdown":"In Core 2, apparently small quotients are faster.  But reciprocal throughput is in the 12-36 cycle range, so the time function isn&#39;t just log2(quotient).  (And the width is limited to 64-bit, so as you say, it&#39;s close enough to O(1).)  This is just a selection of older x86 hardware; dividers in modern low-power ARM or RISC-V might be like that, or advances in ALU design might have changed things.  Related: [How sqrt() of GCC works after compiled? Which method of root is used? Newton-Raphson?](https://stackoverflow.com/q/54642663) has some info about internals of div/sqrt units.","body":"In Core 2, apparently small quotients are faster.  But reciprocal throughput is in the 12-36 cycle range, so the time function isn&#39;t just log2(quotient).  (And the width is limited to 64-bit, so as you say, it&#39;s close enough to O(1).)  This is just a selection of older x86 hardware; dividers in modern low-power ARM or RISC-V might be like that, or advances in ALU design might have changed things.  Related: <a href=\"https://stackoverflow.com/q/54642663\">How sqrt() of GCC works after compiled? Which method of root is used? Newton-Raphson?</a> has some info about internals of div/sqrt units."}],"tags":[],"owner":{"account_id":6523765,"reputation":9872,"user_id":5083516,"display_name":"plugwash"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698704169,"creation_date":1698703395,"answer_id":77392114,"question_id":18940055,"body_markdown":"It only makes sense to talk about O(f(n)) when n can actually vary over a wide range. The point of big O is we ignore small things and focus on how the run-time scales over a wide range of n.\r\n\r\nCPU level multiplication operations are usually constant time nowadays, though in the past some did vary a bit with the size of the arguments. Division may take variable time even today but we are still talking about relatively small and bounded variations. Multiplying fixed size values should be regarded as O(1).\r\n\r\nFor a bigint library on the other hand I would assume O(n*m) where n and m are the bit lengths of the two operands. This represents the complexity of the most basic and obvious algorithms for multiplication and division.\r\n\r\nThere are algorithms with better asymptotic complexity than the simple algorithms, but I would want to get confirmation before assuming any particular big-integer library used them.\r\n\r\nUnfortunately the documentation for Java&#39;s standard big integer library is silent on the issue of computational complexity.","title":"Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?","body":"<p>It only makes sense to talk about O(f(n)) when n can actually vary over a wide range. The point of big O is we ignore small things and focus on how the run-time scales over a wide range of n.</p>\n<p>CPU level multiplication operations are usually constant time nowadays, though in the past some did vary a bit with the size of the arguments. Division may take variable time even today but we are still talking about relatively small and bounded variations. Multiplying fixed size values should be regarded as O(1).</p>\n<p>For a bigint library on the other hand I would assume O(n*m) where n and m are the bit lengths of the two operands. This represents the complexity of the most basic and obvious algorithms for multiplication and division.</p>\n<p>There are algorithms with better asymptotic complexity than the simple algorithms, but I would want to get confirmation before assuming any particular big-integer library used them.</p>\n<p>Unfortunately the documentation for Java's standard big integer library is silent on the issue of computational complexity.</p>\n"}],"owner":{"account_id":2763783,"reputation":2401,"user_id":2380088,"accept_rate":73,"display_name":"Cricketer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1698750799,"creation_date":1379821267,"question_id":18940055,"body_markdown":"Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?\r\n\r\nOn x86 and ARM for example, are multiplication and division O(1)? What if I use Java&#39;s BigInteger class and multiplied or divided two instances of BigInteger? This obviously may not be O(1) but what is the complexity?","title":"Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?","body":"<p>Are multiplication and division O(1) the way they are implemented on most popularly used computer architectures?</p>\n\n<p>On x86 and ARM for example, are multiplication and division O(1)? What if I use Java's BigInteger class and multiplied or divided two instances of BigInteger? This obviously may not be O(1) but what is the complexity?</p>\n"},{"tags":["java","spring","spring-boot","microservices"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1698755377,"post_id":77395369,"comment_id":136443090,"body_markdown":"Spring Boot 2.7.1+ uses Mongo driver 4.6.1 that is partially compatible with MongoDB 6 (&quot;not all new MongoDB features are supported&quot;).  Have you tried if it is enough for you?  Have you tried to upgrade just the driver?","body":"Spring Boot 2.7.1+ uses Mongo driver 4.6.1 that is partially compatible with MongoDB 6 (&quot;not all new MongoDB features are supported&quot;).  Have you tried if it is enough for you?  Have you tried to upgrade just the driver?"}],"owner":{"account_id":14473469,"reputation":93,"user_id":10454701,"display_name":"dargui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698750623,"creation_date":1698750623,"question_id":77395369,"body_markdown":"Good morning,\r\n&lt;p&gt; I have a set of hundreds of microservices based on Java8 SpringBoot 2.7.8 and 2.4.5 on which I need to update the MongoDriver for project needs (the target version will be 4.7 compatible with MongoDB 6)&lt;/p&gt;\r\nFor access to external systems these microservices use custom libraries built on SpringBoot...\r\n&lt;p&gt;a library to communicate and query MongoDB, a library for utility, a library for Rest , a library for communicating with RabbitMQ etc... &lt;/p&gt;\r\n&lt;p&gt;The first thing that came to my mind is to update all the libraries and microservices to SpringBoot 3.1 (using the new spring-boot-starter-parent) and Java17  &lt;/p&gt;\r\nHowever, it is a time consuming and tedious job.\r\n&lt;p&gt;Is there a different way to carry out this update without updating the entire SpringBoot framework of all libraries and Microservices and still guaranteeing the functioning of the microservices? &lt;/p&gt;\r\n&lt;p&gt;An example that I had thought of: can I only update the mongoDB library that comes with the driver to version 3.1 and Java17 and continue to use it by importing it into the pom.xml of the microservices even though they use version 2 of Spring and Java8?  &lt;/p&gt;\r\n&lt;p&gt;In this scenario, could I have incompatibility problems or runtime problems given the use of different versions of Java and SpringBoot to create the different Jars?&lt;/p&gt;\r\n\r\nThank you.\r\n","title":"upgrade only mongoDriver in SpringBoot project","body":"<p>Good morning,</p>\n<p> I have a set of hundreds of microservices based on Java8 SpringBoot 2.7.8 and 2.4.5 on which I need to update the MongoDriver for project needs (the target version will be 4.7 compatible with MongoDB 6)</p>\nFor access to external systems these microservices use custom libraries built on SpringBoot...\n<p>a library to communicate and query MongoDB, a library for utility, a library for Rest , a library for communicating with RabbitMQ etc... </p>\n<p>The first thing that came to my mind is to update all the libraries and microservices to SpringBoot 3.1 (using the new spring-boot-starter-parent) and Java17  </p>\nHowever, it is a time consuming and tedious job.\n<p>Is there a different way to carry out this update without updating the entire SpringBoot framework of all libraries and Microservices and still guaranteeing the functioning of the microservices? </p>\n<p>An example that I had thought of: can I only update the mongoDB library that comes with the driver to version 3.1 and Java17 and continue to use it by importing it into the pom.xml of the microservices even though they use version 2 of Spring and Java8?  </p>\n<p>In this scenario, could I have incompatibility problems or runtime problems given the use of different versions of Java and SpringBoot to create the different Jars?</p>\n<p>Thank you.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8862028,"reputation":411,"user_id":6618058,"display_name":"mehmet salim ayan"},"score":0,"creation_date":1608112195,"post_id":65320817,"comment_id":115480478,"body_markdown":"Can you share your full fragment code?","body":"Can you share your full fragment code?"},{"owner":{"account_id":5877971,"reputation":1421,"user_id":4628279,"display_name":"akhil nair"},"score":0,"creation_date":1608112443,"post_id":65320817,"comment_id":115480587,"body_markdown":"Can you share your fragment xml code?","body":"Can you share your fragment xml code?"}],"answers":[{"tags":[],"owner":{"account_id":16856995,"reputation":407,"user_id":12188708,"display_name":"Mr. Robot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698750437,"creation_date":1608114243,"answer_id":65321402,"question_id":65320817,"body_markdown":"Are `full_name_profile`, `email_profile` and `password_profile` EditTexts in your XML layout? Because in that case, the variables `fullname`, `email` and `password` are already EditTexts and you can just remove `getEditText()` from your code and set the text like this: `fullname.setText(user_username)`","title":"Hello, how can I solve problem in fragment - get edit text to string","body":"<p>Are <code>full_name_profile</code>, <code>email_profile</code> and <code>password_profile</code> EditTexts in your XML layout? Because in that case, the variables <code>fullname</code>, <code>email</code> and <code>password</code> are already EditTexts and you can just remove <code>getEditText()</code> from your code and set the text like this: <code>fullname.setText(user_username)</code></p>\n"}],"owner":{"account_id":20202378,"reputation":3,"user_id":14817740,"display_name":"Isa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65321402,"answer_count":1,"score":0,"last_activity_date":1698750437,"creation_date":1608111944,"question_id":65320817,"body_markdown":"    private void showAllUserData() {\r\n\r\n        Intent validation = getActivity().getIntent();\r\n        String user_username = validation.getStringExtra(&quot;username&quot;);\r\n        String user_email = validation.getStringExtra(&quot;email&quot;);\r\n        String user_password = validation.getStringExtra(&quot;password&quot;);\r\n        String user_name = validation.getStringExtra(&quot;name&quot;);\r\n\r\n\r\n        fullNameLabel.setText(user_name);\r\n        userNameLabel.setText(user_username);\r\n        fullname.getEditText().setText.toString(user_name);\r\n        email.getEditText().setText.toString(user_email);\r\n        password.getEditText().setText.toString(user_password);\r\n\r\n    }}\r\n\r\nMy get all user data method has a problem here, in the edit text to string section, I don&#39;t how to use it in a fragment.\r\n\r\nhere is how my code looks like in android studio\r\n\r\n[![here is how my code looks like in android studio][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eStxM.png","title":"Hello, how can I solve problem in fragment - get edit text to string","body":"<pre><code>private void showAllUserData() {\n\n    Intent validation = getActivity().getIntent();\n    String user_username = validation.getStringExtra(&quot;username&quot;);\n    String user_email = validation.getStringExtra(&quot;email&quot;);\n    String user_password = validation.getStringExtra(&quot;password&quot;);\n    String user_name = validation.getStringExtra(&quot;name&quot;);\n\n\n    fullNameLabel.setText(user_name);\n    userNameLabel.setText(user_username);\n    fullname.getEditText().setText.toString(user_name);\n    email.getEditText().setText.toString(user_email);\n    password.getEditText().setText.toString(user_password);\n\n}}\n</code></pre>\n<p>My get all user data method has a problem here, in the edit text to string section, I don't how to use it in a fragment.</p>\n<p>here is how my code looks like in android studio</p>\n<p><a href=\"https://i.stack.imgur.com/eStxM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eStxM.png\" alt=\"here is how my code looks like in android studio\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1484229118,"post_id":41614653,"comment_id":70431042,"body_markdown":"First of all, you&#39;re using a very old version... you should upgrade to 3.0.0. Then you have a `&lt;fileSet&gt;` with no `&lt;directory&gt;`, not sure what this does but maybe it includes everything under the basedir, and that would be the problem. Also, `&lt;excludes&gt;` does not exist, so that configuration is ignored completely, and `&lt;descriptor&gt;` was removed, use `&lt;descriptors&gt;` instead.","body":"First of all, you&#39;re using a very old version... you should upgrade to 3.0.0. Then you have a <code>&lt;fileSet&gt;</code> with no <code>&lt;directory&gt;</code>, not sure what this does but maybe it includes everything under the basedir, and that would be the problem. Also, <code>&lt;excludes&gt;</code> does not exist, so that configuration is ignored completely, and <code>&lt;descriptor&gt;</code> was removed, use <code>&lt;descriptors&gt;</code> instead."},{"owner":{"account_id":3756670,"reputation":19536,"user_id":3122885,"accept_rate":47,"display_name":"bsky"},"score":0,"creation_date":1484230226,"post_id":41614653,"comment_id":70431816,"body_markdown":"1.I upgraded my version to 3.0.0 2.I removed the `&lt;fileset&gt;` with no `&lt;directory&gt;`. I still have the same problem","body":"1.I upgraded my version to 3.0.0 2.I removed the <code>&lt;fileset&gt;</code> with no <code>&lt;directory&gt;</code>. I still have the same problem"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1484230300,"post_id":41614653,"comment_id":70431870,"body_markdown":"Please post the updated POM and assembly descriptor. Make sure you run `mvn clean package` as well.","body":"Please post the updated POM and assembly descriptor. Make sure you run <code>mvn clean package</code> as well."},{"owner":{"account_id":3756670,"reputation":19536,"user_id":3122885,"accept_rate":47,"display_name":"bsky"},"score":0,"creation_date":1484230907,"post_id":41614653,"comment_id":70432270,"body_markdown":"I&#39;ve updated my post. `maven clean package` works but `maven assembly:assembly` doesn&#39;t.","body":"I&#39;ve updated my post. <code>maven clean package</code> works but <code>maven assembly:assembly</code> doesn&#39;t."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1484231250,"post_id":41614653,"comment_id":70432511,"body_markdown":"Ah yes, that is normal then. `mvn assembly:assembly` is deprecated for long and `assembly:single` should be used. But always prefer to use the `package` phase...","body":"Ah yes, that is normal then. <code>mvn assembly:assembly</code> is deprecated for long and <code>assembly:single</code> should be used. But always prefer to use the <code>package</code> phase..."},{"owner":{"account_id":3756670,"reputation":19536,"user_id":3122885,"accept_rate":47,"display_name":"bsky"},"score":0,"creation_date":1484231494,"post_id":41614653,"comment_id":70432682,"body_markdown":"How can I specify a file by name? I want something like this: \n`&lt;fileSet&gt;\n            &lt;name&gt;my-package-${version}.jar&lt;/name&gt;\n               &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\n&lt;/fileSet&gt;`","body":"How can I specify a file by name? I want something like this:  <code>&lt;fileSet&gt;             &lt;name&gt;my-package-${version}.jar&lt;&#47;name&gt;                &lt;outputDirectory&gt;${project.basedir}&#47;target&#47;packagedFiles&lt;&#47;ou&zwnj;&#8203;tputDirectory&gt; &lt;&#47;fileSet&gt;</code>"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1484231618,"post_id":41614653,"comment_id":70432779,"body_markdown":"Look into `&lt;files&gt;` instead of `&lt;fileSets&gt;`, see here also http://stackoverflow.com/a/41064834/1743880","body":"Look into <code>&lt;files&gt;</code> instead of <code>&lt;fileSets&gt;</code>, see here also <a href=\"http://stackoverflow.com/a/41064834/1743880\">stackoverflow.com/a/41064834/1743880</a>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1484247409,"post_id":41614653,"comment_id":70443038,"body_markdown":"Please Update the version of the [maven-assembly-plugin](http://maven.apache.org/plugins/maven-assembly-plugin/) you are using cause 2.2-beta-5 is really from an ancient time. Current version is 3.0.0","body":"Please Update the version of the <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven-assembly-plugin</a> you are using cause 2.2-beta-5 is really from an ancient time. Current version is 3.0.0"}],"answers":[{"tags":[],"owner":{"account_id":19082042,"reputation":61,"user_id":13934053,"display_name":"Ravikumar Kumarasamy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612173207,"creation_date":1612173207,"answer_id":65990534,"question_id":41614653,"body_markdown":"I have resolved this issue by adding &quot;maven-clean-plugin&quot;.\r\n\r\n    &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;auto-clean&lt;/id&gt;\r\n                        &lt;phase&gt;initialize&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;clean&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Failed to create assembly: Error creating assembly archive null: A tar file cannot include itself","body":"<p>I have resolved this issue by adding &quot;maven-clean-plugin&quot;.</p>\n<pre><code>&lt;plugin&gt;\n            &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;auto-clean&lt;/id&gt;\n                    &lt;phase&gt;initialize&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;clean&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3756670,"reputation":19536,"user_id":3122885,"accept_rate":47,"display_name":"bsky"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698750315,"creation_date":1484228232,"question_id":41614653,"body_markdown":"I&#39;m trying to use `maven-assembly-plugin` to package my project into a `.tar` file.\r\n\r\nI&#39;ve added the following plugin to my `pom.xml` file:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptor&gt;src/assembly/myProjectConf.xml&lt;/descriptor&gt;\r\n                    &lt;finalName&gt;my-project-${version}&lt;/finalName&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/*.zip&lt;/exclude&gt;\r\n                        &lt;exclude&gt;**/*.tar&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\n`myProjectConf.xml` has the following content:\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/3.0.0&quot;\r\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n              xsi:schemaLocation=&quot;http://maven.apache.org/plugins/maven-assembly-plugin/assembly/3.0.0 http://maven.apache.org/xsd/assembly-3.0.0.xsd&quot;&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;tar&lt;/format&gt;\r\n            &lt;format&gt;zip&lt;/format&gt;\r\n        &lt;/formats&gt;\r\n        &lt;fileSets&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;src/main&lt;/directory&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;README*&lt;/include&gt;\r\n                    &lt;include&gt;LICENSE*&lt;/include&gt;\r\n                    &lt;include&gt;NOTICE*&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\r\n            &lt;/fileSet&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;src/test&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\r\n            &lt;/fileSet&gt;\r\n            &lt;fileSet&gt;\r\n                &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\r\n                &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\r\n            &lt;/fileSet&gt;\r\n        &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nHowever, I&#39;m getting;\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single (default) on project job-manager: Failed to create assembly: Error creating assembly archive null: A tar file cannot include itself. -&gt; [Help 1]\r\n\r\nI looked at this question https://stackoverflow.com/questions/33945526/how-to-prevent-error-creating-assembly-archive-distribution-a-zip-file-cannot that&#39;s similar and I therefore added `&lt;excludes&gt;` to my project, as you can see above.\r\n\r\n\r\n\r\nNothing changed with the error message though.","title":"Failed to create assembly: Error creating assembly archive null: A tar file cannot include itself","body":"<p>I'm trying to use <code>maven-assembly-plugin</code> to package my project into a <code>.tar</code> file.</p>\n\n<p>I've added the following plugin to my <code>pom.xml</code> file:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;descriptor&gt;src/assembly/myProjectConf.xml&lt;/descriptor&gt;\n                &lt;finalName&gt;my-project-${version}&lt;/finalName&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.zip&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.tar&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p><code>myProjectConf.xml</code> has the following content:</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/3.0.0\"\n          xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n          xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/3.0.0 http://maven.apache.org/xsd/assembly-3.0.0.xsd\"&gt;\n    &lt;formats&gt;\n        &lt;format&gt;tar&lt;/format&gt;\n        &lt;format&gt;zip&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;fileSets&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;src/main&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;README*&lt;/include&gt;\n                &lt;include&gt;LICENSE*&lt;/include&gt;\n                &lt;include&gt;NOTICE*&lt;/include&gt;\n            &lt;/includes&gt;\n            &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;src/test&lt;/directory&gt;\n            &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n        &lt;fileSet&gt;\n            &lt;directory&gt;${project.basedir}/lib&lt;/directory&gt;\n            &lt;outputDirectory&gt;${project.basedir}/target/packagedFiles&lt;/outputDirectory&gt;\n        &lt;/fileSet&gt;\n    &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>However, I'm getting;</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.2-beta-5:single (default) on project job-manager: Failed to create assembly: Error creating assembly archive null: A tar file cannot include itself. -&gt; [Help 1]\n</code></pre>\n\n<p>I looked at this question <a href=\"https://stackoverflow.com/questions/33945526/how-to-prevent-error-creating-assembly-archive-distribution-a-zip-file-cannot\">How to prevent &#39;Error creating assembly archive distribution: A zip file cannot include itself&#39;</a> that's similar and I therefore added <code>&lt;excludes&gt;</code> to my project, as you can see above.</p>\n\n<p>Nothing changed with the error message though.</p>\n"},{"tags":["java","oracle12c","oracle19c"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1698747706,"post_id":77394589,"comment_id":136441726,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":1,"creation_date":1698753423,"post_id":77394589,"comment_id":136442729,"body_markdown":"You didn&#39;t create a materialized view log *on your source table*. i.e. `create materialized view log on test.testtable ...`","body":"You didn&#39;t create a materialized view log <i>on your source table</i>. i.e. <code>create materialized view log on test.testtable ...</code>"}],"owner":{"account_id":29792924,"reputation":1,"user_id":22832693,"display_name":"Rita"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698750278,"creation_date":1698743453,"question_id":77394589,"body_markdown":"I am trying to create materialized views and materialized view log but the materialized views are not getting refreshed even after the use of REFRESH ON COMMIT in ORACLE 19. The same code for the materialized view and view log is working fine with the ORACLE 12.\r\n\r\nI have followed below steps:\r\n1. Create a base table Test.\r\n2. Create a materialized view log MATVIEWLOG with RowID and including new values.\r\n3. Create a materialized view MATView with REFRESH FAST ON COMMIT.\r\n4. Insert data in the base table&lt;Test&gt;.\r\n5. The data is not getting updated in the MATView(Materialized view).\r\n\r\nNote: The above steps are working fine in the ORACLE 12.\r\n\r\nProblem: The updated data is not coming in the Materialized view of ORACLE 19?\r\n\r\n\r\nI have tried by using primary key/rowId in the materialized view log but same behaviour has been found.\r\n\r\n\r\nbelow is the sample code for the issue:\r\n***Creation Of Materialized view log***\r\n\r\n    CREATE MATERIALIZED VIEW LOG ON &quot;TEST&quot;.&quot;MATVIEWLOG&quot;\r\n      TABLESPACE &quot;TEST123&quot; \r\n      WITH ROWID, SEQUENCE ( &quot;NAME&quot;, &quot;TYPE&quot;, &quot;POINTS&quot;, &quot;ANUMBER&quot;, &quot;SOURCETYPE&quot;, &quot;TARGETNUMBER&quot;, &quot;CODE&quot;, &quot;CODETYPE&quot;, &quot;VARIANCE&quot; ) INCLUDING NEW VALUES;\r\n\r\n\r\n***Creation of Materialized view***\r\n\r\n    CREATE MATERIALIZED VIEW &quot;TEST&quot;.&quot;MATView&quot; (&quot;CODE&quot;, &quot;CODETYPE&quot;, &quot;SOURCETYPE&quot;, &quot;FREQUENCY&quot;)\r\n      SEGMENT CREATION IMMEDIATE\r\n     NOCOMPRESS LOGGING\r\n      TABLESPACE &quot;TEST123&quot; \r\n      BUILD IMMEDIATE\r\n      TABLESPACE &quot;TEST123&quot; \r\n      REFRESH FAST ON COMMIT\r\n      USING DEFAULT LOCAL ROLLBACK SEGMENT\r\n      USING ENFORCED CONSTRAINTS DISABLE ON QUERY COMPUTATION DISABLE QUERY REWRITE\r\n      AS select Code, CodeType, SourceType, COUNT(*) AS Frequency from TestTable group by Code, CodeType, SourceType;","title":"Materialized view with REFRESH ON COMMIT is not working in ORACLE 19","body":"<p>I am trying to create materialized views and materialized view log but the materialized views are not getting refreshed even after the use of REFRESH ON COMMIT in ORACLE 19. The same code for the materialized view and view log is working fine with the ORACLE 12.</p>\n<p>I have followed below steps:</p>\n<ol>\n<li>Create a base table Test.</li>\n<li>Create a materialized view log MATVIEWLOG with RowID and including new values.</li>\n<li>Create a materialized view MATView with REFRESH FAST ON COMMIT.</li>\n<li>Insert data in the base table.</li>\n<li>The data is not getting updated in the MATView(Materialized view).</li>\n</ol>\n<p>Note: The above steps are working fine in the ORACLE 12.</p>\n<p>Problem: The updated data is not coming in the Materialized view of ORACLE 19?</p>\n<p>I have tried by using primary key/rowId in the materialized view log but same behaviour has been found.</p>\n<p>below is the sample code for the issue:\n<em><strong>Creation Of Materialized view log</strong></em></p>\n<pre><code>CREATE MATERIALIZED VIEW LOG ON &quot;TEST&quot;.&quot;MATVIEWLOG&quot;\n  TABLESPACE &quot;TEST123&quot; \n  WITH ROWID, SEQUENCE ( &quot;NAME&quot;, &quot;TYPE&quot;, &quot;POINTS&quot;, &quot;ANUMBER&quot;, &quot;SOURCETYPE&quot;, &quot;TARGETNUMBER&quot;, &quot;CODE&quot;, &quot;CODETYPE&quot;, &quot;VARIANCE&quot; ) INCLUDING NEW VALUES;\n</code></pre>\n<p><em><strong>Creation of Materialized view</strong></em></p>\n<pre><code>CREATE MATERIALIZED VIEW &quot;TEST&quot;.&quot;MATView&quot; (&quot;CODE&quot;, &quot;CODETYPE&quot;, &quot;SOURCETYPE&quot;, &quot;FREQUENCY&quot;)\n  SEGMENT CREATION IMMEDIATE\n NOCOMPRESS LOGGING\n  TABLESPACE &quot;TEST123&quot; \n  BUILD IMMEDIATE\n  TABLESPACE &quot;TEST123&quot; \n  REFRESH FAST ON COMMIT\n  USING DEFAULT LOCAL ROLLBACK SEGMENT\n  USING ENFORCED CONSTRAINTS DISABLE ON QUERY COMPUTATION DISABLE QUERY REWRITE\n  AS select Code, CodeType, SourceType, COUNT(*) AS Frequency from TestTable group by Code, CodeType, SourceType;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1698750168,"post_id":77395274,"comment_id":136442183,"body_markdown":"can you link to any doc that states that you can establish multiple WifiAware connections at once? imho thats not possible, physical WiFi module is one and can execute one task at once: can be connected to one WiFi network, one WiFiAware device, acting as one hotspot. these features are excluding eachself, you can&#39;t stay connected to some AP and in the same time act as AP by self (hotspot)","body":"can you link to any doc that states that you can establish multiple WifiAware connections at once? imho thats not possible, physical WiFi module is one and can execute one task at once: can be connected to one WiFi network, one WiFiAware device, acting as one hotspot. these features are excluding eachself, you can&#39;t stay connected to some AP and in the same time act as AP by self (hotspot)"},{"owner":{"account_id":14231982,"reputation":11,"user_id":10280946,"display_name":"JX23"},"score":1,"creation_date":1698751908,"post_id":77395274,"comment_id":136442470,"body_markdown":"In the diagram i showed in the post the case 1 works, i can act as a publisher and subscriber to the same service and create two networks between them, this is the logs \n\nhttps://imgur.com/a/qtAUqjq\n\nAnd if i run &quot;wifiAwareManager.getAvailableAwareResources().getAvailableDataPathsCount()&quot; i get 2, so 2 data path per device, but its weird that i get a cache error and not a path limit error","body":"In the diagram i showed in the post the case 1 works, i can act as a publisher and subscriber to the same service and create two networks between them, this is the logs   <a href=\"https://imgur.com/a/qtAUqjq\" rel=\"nofollow noreferrer\">imgur.com/a/qtAUqjq</a>  And if i run &quot;wifiAwareManager.getAvailableAwareResources().getAvailableD&zwnj;&#8203;ataPathsCount()&quot; i get 2, so 2 data path per device, but its weird that i get a cache error and not a path limit error"},{"owner":{"account_id":14231982,"reputation":11,"user_id":10280946,"display_name":"JX23"},"score":0,"creation_date":1698752760,"post_id":77395274,"comment_id":136442613,"body_markdown":"i run the same thing on a pixel 6 i had and the data path count is 8 for that, so probably a physical limitation of the device, but still i dont get the cache error, this is the source code of the log message https://cs.android.com/android/platform/superproject/+/master:frameworks/opt/net/wifi/service/java/com/android/server/wifi/aware/WifiAwareDataPathStateManager.java;l=971;drc=2f3b8ec38adc04d36441174cbe9c55dbdaa2c04d","body":"i run the same thing on a pixel 6 i had and the data path count is 8 for that, so probably a physical limitation of the device, but still i dont get the cache error, this is the source code of the log message <a href=\"https://cs.android.com/android/platform/superproject/+/master:frameworks/opt/net/wifi/service/java/com/android/server/wifi/aware/WifiAwareDataPathStateManager.java;l=971;drc=2f3b8ec38adc04d36441174cbe9c55dbdaa2c04d\" rel=\"nofollow noreferrer\">cs.android.com/android/platform/superproject/+/&hellip;</a>"}],"owner":{"account_id":14231982,"reputation":11,"user_id":10280946,"display_name":"JX23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698749867,"creation_date":1698749731,"question_id":77395274,"body_markdown":"I&#39;m currently working on an Android app that utilizes the [WiFi Aware API](https://developer.android.com/develop/connectivity/wifi/wifi-aware). In my app, every device needs to act as both a publisher and a subscriber of the same service. I am testing this on three Pixel 3a XL devices.\r\n\r\nThe issue I&#39;m facing is that I can successfully discover all devices from each phone, but I can only create two single networks between two phones. When I attempt to establish the third and fourth network between phones, i think i hit a [resource limit of data paths](https://developer.android.com/reference/android/net/wifi/aware/AwareResources#getAvailableDataPathsCount()).\r\n\r\n I encounter the following error message:\r\n\r\n`10:35:42.326 WifiAwareDataPathStMgr   E  WifiAwareNetworkFactory.releaseNetworkFor: networkRequest=NetworkRequest [ REQUEST id=1012, [ Transports: WIFI_AWARE Capabilities: NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN Specifier: &lt;WifiAwareNetworkSpecifier [type=0, role=1, clientId=57, sessionId=79, peerId=227, peerMac=&lt;null&gt;, pmk=&lt;null&gt;, passphrase=&lt;non-null&gt;, port=0, transportProtocol=-1]&gt; Uid: 10232 RequestorUid: 10232 RequestorPkg: com.example.final_test_wifiaware UnderlyingNetworks: Null]\r\n`\r\n\r\nI have tried to only have one publisher and two subscribers but i got the same error.\r\n\r\n[Diagram][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZPeCl.png","title":"Android WiFi Aware App: Error When Creating Multiple Networks with Pixel 3a XL","body":"<p>I'm currently working on an Android app that utilizes the <a href=\"https://developer.android.com/develop/connectivity/wifi/wifi-aware\" rel=\"nofollow noreferrer\">WiFi Aware API</a>. In my app, every device needs to act as both a publisher and a subscriber of the same service. I am testing this on three Pixel 3a XL devices.</p>\n<p>The issue I'm facing is that I can successfully discover all devices from each phone, but I can only create two single networks between two phones. When I attempt to establish the third and fourth network between phones, i think i hit a <a href=\"https://developer.android.com/reference/android/net/wifi/aware/AwareResources#getAvailableDataPathsCount()\" rel=\"nofollow noreferrer\">resource limit of data paths</a>.</p>\n<p>I encounter the following error message:</p>\n<p><code>10:35:42.326 WifiAwareDataPathStMgr   E  WifiAwareNetworkFactory.releaseNetworkFor: networkRequest=NetworkRequest [ REQUEST id=1012, [ Transports: WIFI_AWARE Capabilities: NOT_RESTRICTED&amp;TRUSTED&amp;NOT_VPN Specifier: &lt;WifiAwareNetworkSpecifier [type=0, role=1, clientId=57, sessionId=79, peerId=227, peerMac=&lt;null&gt;, pmk=&lt;null&gt;, passphrase=&lt;non-null&gt;, port=0, transportProtocol=-1]&gt; Uid: 10232 RequestorUid: 10232 RequestorPkg: com.example.final_test_wifiaware UnderlyingNetworks: Null] </code></p>\n<p>I have tried to only have one publisher and two subscribers but i got the same error.</p>\n<p><a href=\"https://i.stack.imgur.com/ZPeCl.png\" rel=\"nofollow noreferrer\">Diagram</a></p>\n"},{"tags":["java","android","networking","okhttp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1613396435,"post_id":66208441,"comment_id":117054603,"body_markdown":"May be the first upload was interrupted by the bad network and afterwards the server returns on upload attempts only 409 because the file is still reserved by the interrupted upload. You should check what the server expects when the upload was interrupted (may be it implements some sort of resume)? Otherwise this may be a server bug not considering an network interruption on uoloads.","body":"May be the first upload was interrupted by the bad network and afterwards the server returns on upload attempts only 409 because the file is still reserved by the interrupted upload. You should check what the server expects when the upload was interrupted (may be it implements some sort of resume)? Otherwise this may be a server bug not considering an network interruption on uoloads."},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613399029,"post_id":66208441,"comment_id":117055889,"body_markdown":"Thanks for the response @Robert. We tried checking the server, and we even added a Content-Length header containing the size of the file&#39;s byte array, so server side (nginx/backend) would know better whether the file was indeed fully uploaded.\nAlso, this bug doesn&#39;t happen on iOS, which basically ruled out the possibility of some bug on server side for us (though I&#39;m not sure now anymore ..)\nIn addition to that, even if a request was interrupted by bad network, what do all the following requests produce IOException? it seems that the network layer on Android side get corrupted for some time","body":"Thanks for the response @Robert. We tried checking the server, and we even added a Content-Length header containing the size of the file&#39;s byte array, so server side (nginx/backend) would know better whether the file was indeed fully uploaded. Also, this bug doesn&#39;t happen on iOS, which basically ruled out the possibility of some bug on server side for us (though I&#39;m not sure now anymore ..) In addition to that, even if a request was interrupted by bad network, what do all the following requests produce IOException? it seems that the network layer on Android side get corrupted for some time"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1613399940,"post_id":66208441,"comment_id":117056329,"body_markdown":"SocketTimeoutException usually means that the connection to the server has been established but no data was received within the specified socketTimeout. Make sure that value is not too short (e.g. 5000 millis or more). If it still happens may be there is a problem in the network system of Android when dealing with very bad network connections so that in the end the data connection is throttled to 0 bytes per second.","body":"SocketTimeoutException usually means that the connection to the server has been established but no data was received within the specified socketTimeout. Make sure that value is not too short (e.g. 5000 millis or more). If it still happens may be there is a problem in the network system of Android when dealing with very bad network connections so that in the end the data connection is throttled to 0 bytes per second."},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613400408,"post_id":66208441,"comment_id":117056550,"body_markdown":"I see what you mean.. unfortunately setting higher timeouts seem to have no difference in this regard when it comes to the post requests. (by the way : the GET requests do work when the POST ones start getting the Exceptions).  So ultimately, in case the later scenario happens (problem in the network system of Android when dealing with bad network), are there really any solutions available that could at least mitigate the problem?","body":"I see what you mean.. unfortunately setting higher timeouts seem to have no difference in this regard when it comes to the post requests. (by the way : the GET requests do work when the POST ones start getting the Exceptions).  So ultimately, in case the later scenario happens (problem in the network system of Android when dealing with bad network), are there really any solutions available that could at least mitigate the problem?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1613401084,"post_id":66208441,"comment_id":117056892,"body_markdown":"The timeout is on network level, hence if it makes a difference between GET and POST then there is something strange going on on the server. BTW: Are we talking about Wifi or mobile network connections going bad?","body":"The timeout is on network level, hence if it makes a difference between GET and POST then there is something strange going on on the server. BTW: Are we talking about Wifi or mobile network connections going bad?"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613402173,"post_id":66208441,"comment_id":117057424,"body_markdown":"I might have understood, I meant I played with the `connection.setConnectTimeout(..)`, also tried readTimeout, and writeTimeout on okHttp (&#39;write&#39; doesn&#39;t exist by default with HttpUrlConnection).\nGET requests do seem to be dependent on the given timeouts, but, for example the Upload requests seem to ignore any timeout setting like that (at least on the client side). \nRegarding the wifi vs mobile - for us, we&#39;ve been testing this on Wifi (using Charles as a proxy to help us throttle the connection to test this bug), but I&#39;m not 100% sure whether our clients used mobile network or wifi only.","body":"I might have understood, I meant I played with the <code>connection.setConnectTimeout(..)</code>, also tried readTimeout, and writeTimeout on okHttp (&#39;write&#39; doesn&#39;t exist by default with HttpUrlConnection). GET requests do seem to be dependent on the given timeouts, but, for example the Upload requests seem to ignore any timeout setting like that (at least on the client side).  Regarding the wifi vs mobile - for us, we&#39;ve been testing this on Wifi (using Charles as a proxy to help us throttle the connection to test this bug), but I&#39;m not 100% sure whether our clients used mobile network or wifi only."},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613402201,"post_id":66208441,"comment_id":117057434,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/228749/discussion-between-bvtp-and-robert).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/228749/discussion-between-bvtp-and-robert\">continue this discussion in chat</a>."},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1613417528,"post_id":66208441,"comment_id":117063981,"body_markdown":"Is it possible the 409 is sent early, but the response isn&#39;t seen until the request finishes?","body":"Is it possible the 409 is sent early, but the response isn&#39;t seen until the request finishes?"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1613417556,"post_id":66208441,"comment_id":117063992,"body_markdown":"Why isn&#39;t Android using HTTP/2?","body":"Why isn&#39;t Android using HTTP/2?"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613455832,"post_id":66208441,"comment_id":117073237,"body_markdown":"@YuriSchimke So, frankly, I&#39;m not sure, we just noticed that the HttpUrlConnection we use , sends the requests in 1.1 and not 2 (unlike our iOS app which employs the HTTP/2).\n\nHowever, when I tried uploading with HTTP2 by using Square&#39;s OkHttp, the proxy we used to test the bug (Charles) couldn&#39;t execute the requests, it resulted in IOExceptions.\nRegarding your first comment - even if 409 is sent early, why do all the requests result in IOException in the next couple of minutes? (though the exact time for it to recover varies)","body":"@YuriSchimke So, frankly, I&#39;m not sure, we just noticed that the HttpUrlConnection we use , sends the requests in 1.1 and not 2 (unlike our iOS app which employs the HTTP/2).  However, when I tried uploading with HTTP2 by using Square&#39;s OkHttp, the proxy we used to test the bug (Charles) couldn&#39;t execute the requests, it resulted in IOExceptions. Regarding your first comment - even if 409 is sent early, why do all the requests result in IOException in the next couple of minutes? (though the exact time for it to recover varies)"}],"answers":[{"comments":[{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":1,"creation_date":1613475511,"post_id":66220917,"comment_id":117080536,"body_markdown":"Thank you Yuri for the response.\nRegarding the frame logging, I&#39;m not sure if I did it correctly but I&#39;ve edited the post with what I see when debugging this with okhttp + http2.\nBUT - this is using a proxy.  Without using the proxy the okhttp + http2 seems to work. \nSo, what I edited the post with is with the proxy on.","body":"Thank you Yuri for the response. Regarding the frame logging, I&#39;m not sure if I did it correctly but I&#39;ve edited the post with what I see when debugging this with okhttp + http2. BUT - this is using a proxy.  Without using the proxy the okhttp + http2 seems to work.  So, what I edited the post with is with the proxy on."},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613476003,"post_id":66220917,"comment_id":117080738,"body_markdown":"Also, just wanted to mention that, at least by design, we don&#39;t do parallel requests. We wait for the upload request to finish (or fail) and then we open another one after some time if needed. Using HttpUrlConnection we call `disconnect` on the connection in the end. Using Okhttp we just use it basically like  `client.newCall(requestBuilder).execute().use { response -&gt;\n                val res = response.body?.string() ..` and don&#39;t call any closing method","body":"Also, just wanted to mention that, at least by design, we don&#39;t do parallel requests. We wait for the upload request to finish (or fail) and then we open another one after some time if needed. Using HttpUrlConnection we call <code>disconnect</code> on the connection in the end. Using Okhttp we just use it basically like  <code>client.newCall(requestBuilder).execute().use { response -&gt;                 val res = response.body?.string() ..</code> and don&#39;t call any closing method"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1613476159,"post_id":66220917,"comment_id":117080818,"body_markdown":"And regadring the IO thread reading/blocking I am not sure how to check that. However, I did notice using the Proxy monitoring that sometimes after a failed request, when I try to send a new request, I see that the previous failed request is still &quot;sending body...&quot; (at least that&#39;s what the proxy is showing)","body":"And regadring the IO thread reading/blocking I am not sure how to check that. However, I did notice using the Proxy monitoring that sometimes after a failed request, when I try to send a new request, I see that the previous failed request is still &quot;sending body...&quot; (at least that&#39;s what the proxy is showing)"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1613504370,"post_id":66220917,"comment_id":117093656,"body_markdown":"I wonder whether the client request is still being sent and causing some head of line blocking in either the client, or the proxy here.  You could try wrapping the request body such that it terminates forcibly once you know the request has failed or similar.\n\nI don&#39;t think there Is a quick fix.  Try enabling the https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/PrintEventsNonConcurrent.java and seeing if anything else shows up. Sorry!","body":"I wonder whether the client request is still being sent and causing some head of line blocking in either the client, or the proxy here.  You could try wrapping the request body such that it terminates forcibly once you know the request has failed or similar.  I don&#39;t think there Is a quick fix.  Try enabling the <a href=\"https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/PrintEventsNonConcurrent.java\" rel=\"nofollow noreferrer\">github.com/square/okhttp/blob/master/samples/guide/src/main/&zwnj;&#8203;&hellip;</a> and seeing if anything else shows up. Sorry!"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":1,"creation_date":1613546686,"post_id":66220917,"comment_id":117104364,"body_markdown":"I&#39;ve updated the post with the PrintEventListener logs. Btw, I noticed that an image I was trying to upload many times, did get a 200 response eventually, and then the video file was stuck again.. So I&#39;m assuming from the that it&#39;s now that the network isn&#39;t working, it&#39;s just very very slow. around 50KB/s","body":"I&#39;ve updated the post with the PrintEventListener logs. Btw, I noticed that an image I was trying to upload many times, did get a 200 response eventually, and then the video file was stuck again.. So I&#39;m assuming from the that it&#39;s now that the network isn&#39;t working, it&#39;s just very very slow. around 50KB/s"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1613548731,"post_id":66220917,"comment_id":117105103,"body_markdown":"Yep - this looks like things are working but network is slow and requests timeout after 10 seconds.","body":"Yep - this looks like things are working but network is slow and requests timeout after 10 seconds."}],"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698749704,"creation_date":1613464203,"answer_id":66220917,"question_id":66208441,"body_markdown":"For OkHttp use the debugging tools it provides to get additional data that explains what is going on, even if it&#39;s not immediately clear. Are you getting multiple routes back and the first one is slow and then gets marked as bad?\r\n\r\nEvent Logging - https://square.github.io/okhttp/events/\r\n\r\nHTTP/2 Frame Logging (if you can enable) - https://square.github.io/okhttp/debug_logging/#http2-frame-logging\r\n\r\nRun a debugger and capture stack traces of what is going on? Are the IO threads still reading and blocking the network?","title":"Android network calls sometimes get stuck at IOException : java.net.SocketTimeoutException: timeout","body":"<p>For OkHttp use the debugging tools it provides to get additional data that explains what is going on, even if it's not immediately clear. Are you getting multiple routes back and the first one is slow and then gets marked as bad?</p>\n<p>Event Logging - <a href=\"https://square.github.io/okhttp/events/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/events/</a></p>\n<p>HTTP/2 Frame Logging (if you can enable) - <a href=\"https://square.github.io/okhttp/debug_logging/#http2-frame-logging\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/debug_logging/#http2-frame-logging</a></p>\n<p>Run a debugger and capture stack traces of what is going on? Are the IO threads still reading and blocking the network?</p>\n"}],"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1698749704,"creation_date":1613393686,"question_id":66208441,"body_markdown":"I have an app that uploads some files (png, mp4). \r\nThe full stack is Nginx + Node server behind it.\r\nSometimes, it seems that some users experience bizarre behavior in production when the internet is problematic, and then the Android app cannot send further Upload requests cause they all get :\r\n`IOException : java.net.SocketTimeoutException: timeout`.\r\n\r\nHowever, the strangest thing is that we see the server does send a response (409 Conflict, meaning the files being uploaded already exist and done uploading), but the Android app simply doesn&#39;t get those responses and just keeps on trying to upload those files, but the connection keeps failing because of SocketTimeoutException every time again and again, instead of receiving the 409 response.\r\n\r\nAnd then, after some time, it gets back to normal and suddenly can receive that 409 response and continue as if everything is fine.\r\n\r\nI tried using the most basic HttpUrlConnection, as well as Square&#39;s OkHttp library, but it results in the same behavior.\r\n\r\n\r\nWhen I debug it with Okhttp + HTTP/2 + a Proxy to monitor the requests, in the frame logging I see (with a Proxy enabled):\r\n\r\n    02-16 13:30:16.047  2719  6597 D okhttp.Http2: &lt;&lt; 0x00000003     4 RST_STREAM    \r\n    02-16 13:30:16.049  2719  3758 D okhttp.TaskRunner: Q10117 canceled              : OkHttp ConnectionPool\r\n    02-16 13:30:16.051  2719  6597 D okhttp.Http2: &gt;&gt; 0x00000000     8 GOAWAY        \r\n    02-16 13:30:16.051  2719  6597 D okhttp.TaskRunner: Q10121 finished run in  60 s : &lt;our server&gt;\r\n\r\nat this point my code already received an error from my server implementation. Then I see :\r\n\r\n    02-16 13:30:20.129  2719  3758 D okhttp.Http2: &gt;&gt; CONNECTION 505249202a20485454502f322e300d0a0d0a534d0d0a0d0a\r\n    02-16 13:30:20.131  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000000     6 SETTINGS      \r\n    02-16 13:30:20.132  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000000     4 WINDOW_UPDATE \r\n    02-16 13:30:20.133  2719  3758 D okhttp.TaskRunner: Q10157 scheduled after   0 &#181;s: OkHttp &lt;our server&gt;\r\n    02-16 13:30:20.135  2719  3758 D okhttp.TaskRunner: Q10153 scheduled after   0 &#181;s: OkHttp ConnectionPool\r\n    02-16 13:30:20.135  2719  7381 D okhttp.TaskRunner: Q10157 starting              : OkHttp &lt;our server&gt;\r\n    02-16 13:30:20.136  2719  7365 D okhttp.TaskRunner: Q10153 starting              : OkHttp ConnectionPool\r\n    02-16 13:30:20.137  2719  7365 D okhttp.TaskRunner: Q10153 run again after 300 s : OkHttp ConnectionPool\r\n    02-16 13:30:20.137  2719  7365 D okhttp.TaskRunner: Q10153 finished run in   1 ms: OkHttp ConnectionPool\r\n    02-16 13:30:20.138  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003  1063 HEADERS       END_HEADERS\r\n    02-16 13:30:20.145  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000    18 SETTINGS      \r\n    02-16 13:30:20.146  2719  7381 D okhttp.TaskRunner: Q10154 scheduled after   0 &#181;s: OkHttp &lt;our server&gt; applyAndAckSettings\r\n    02-16 13:30:20.147  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000     4 WINDOW_UPDATE \r\n    02-16 13:30:20.147  2719  7365 D okhttp.TaskRunner: Q10154 starting              : OkHttp &lt;our server&gt; applyAndAckSettings\r\n    02-16 13:30:20.149  2719  7365 D okhttp.TaskRunner: Q10156 scheduled after   0 &#181;s: OkHttp &lt;our server&gt; onSettings\r\n    02-16 13:30:20.151  2719  6597 D okhttp.TaskRunner: Q10156 starting              : OkHttp &lt;our server&gt; onSettings\r\n    02-16 13:30:20.151  2719  6597 D okhttp.TaskRunner: Q10156 finished run in   1 ms: OkHttp &lt;our server&gt; onSettings\r\n    02-16 13:30:20.152  2719  7365 D okhttp.Http2: &gt;&gt; 0x00000000     0 SETTINGS      ACK\r\n    02-16 13:30:20.153  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003 65535 DATA          \r\n    02-16 13:30:20.153  2719  7365 D okhttp.TaskRunner: Q10154 finished run in   6 ms: OkHttp &lt;our server&gt; applyAndAckSettings\r\n    02-16 13:30:20.156  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003     1 DATA          \r\n    02-16 13:30:20.231  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000     0 SETTINGS      ACK\r\n\r\nFollowing @Yuri Schimke&#39;s suggestion, I added PrintingEventListener, here&#39;s what I get :\r\n\r\n    2021-02-17 09:18:50.056 28203-28286/&lt;package name&gt; I/System.out: (HTTPLog)-Static: isSBSettingEnabled false\r\n    2021-02-17 09:18:53.378 28203-28286/&lt;package name&gt;  I/System.out: 0.000 callStart\r\n    2021-02-17 09:18:53.460 28203-28286/&lt;package name&gt;  I/System.out: 0.081 proxySelectStart\r\n    2021-02-17 09:18:53.462 28203-28286/&lt;package name&gt;  I/System.out: 0.084 proxySelectEnd\r\n    2021-02-17 09:18:53.462 28203-28286/&lt;package name&gt;  I/System.out: 0.084 dnsStart\r\n    2021-02-17 09:18:53.463 28203-28286/&lt;package name&gt;  I/System.out: 0.085 dnsEnd\r\n    2021-02-17 09:18:53.475 28203-28286/&lt;package name&gt;  I/System.out: 0.096 connectStart\r\n    2021-02-17 09:18:53.650 28203-28286/&lt;package name&gt;  I/System.out: 0.271 secureConnectStart\r\n    2021-02-17 09:18:53.796 28203-28286/&lt;package name&gt;  I/System.out: 0.418 secureConnectEnd\r\n    2021-02-17 09:18:53.834 28203-28286/&lt;package name&gt;  I/System.out: 0.456 connectEnd\r\n    2021-02-17 09:18:53.839 28203-28286/&lt;package name&gt;  I/System.out: 0.461 connectionAcquired\r\n    2021-02-17 09:18:53.870 28203-28286/&lt;package name&gt;  I/System.out: 0.492 requestHeadersStart\r\n    2021-02-17 09:18:53.891 28203-28286/&lt;package name&gt;  I/System.out: 0.513 requestHeadersEnd\r\n    2021-02-17 09:18:53.891 28203-28286/&lt;package name&gt;  I/System.out: 0.513 requestBodyStart\r\n    2021-02-17 09:19:03.382 28203-28286/&lt;package name&gt;  I/System.out: 10.003 requestFailed\r\n    2021-02-17 09:19:03.391 28203-28311/&lt;package name&gt;  I/System.out: 10.012 canceled\r\n    2021-02-17 09:19:03.399 28203-28286/&lt;package name&gt;  I/System.out: 10.021 connectionReleased\r\n    2021-02-17 09:19:03.400 28203-28286/&lt;package name&gt;  I/System.out: 10.022 callFailed","title":"Android network calls sometimes get stuck at IOException : java.net.SocketTimeoutException: timeout","body":"<p>I have an app that uploads some files (png, mp4).\nThe full stack is Nginx + Node server behind it.\nSometimes, it seems that some users experience bizarre behavior in production when the internet is problematic, and then the Android app cannot send further Upload requests cause they all get :\n<code>IOException : java.net.SocketTimeoutException: timeout</code>.</p>\n<p>However, the strangest thing is that we see the server does send a response (409 Conflict, meaning the files being uploaded already exist and done uploading), but the Android app simply doesn't get those responses and just keeps on trying to upload those files, but the connection keeps failing because of SocketTimeoutException every time again and again, instead of receiving the 409 response.</p>\n<p>And then, after some time, it gets back to normal and suddenly can receive that 409 response and continue as if everything is fine.</p>\n<p>I tried using the most basic HttpUrlConnection, as well as Square's OkHttp library, but it results in the same behavior.</p>\n<p>When I debug it with Okhttp + HTTP/2 + a Proxy to monitor the requests, in the frame logging I see (with a Proxy enabled):</p>\n<pre><code>02-16 13:30:16.047  2719  6597 D okhttp.Http2: &lt;&lt; 0x00000003     4 RST_STREAM    \n02-16 13:30:16.049  2719  3758 D okhttp.TaskRunner: Q10117 canceled              : OkHttp ConnectionPool\n02-16 13:30:16.051  2719  6597 D okhttp.Http2: &gt;&gt; 0x00000000     8 GOAWAY        \n02-16 13:30:16.051  2719  6597 D okhttp.TaskRunner: Q10121 finished run in  60 s : &lt;our server&gt;\n</code></pre>\n<p>at this point my code already received an error from my server implementation. Then I see :</p>\n<pre><code>02-16 13:30:20.129  2719  3758 D okhttp.Http2: &gt;&gt; CONNECTION 505249202a20485454502f322e300d0a0d0a534d0d0a0d0a\n02-16 13:30:20.131  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000000     6 SETTINGS      \n02-16 13:30:20.132  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000000     4 WINDOW_UPDATE \n02-16 13:30:20.133  2719  3758 D okhttp.TaskRunner: Q10157 scheduled after   0 µs: OkHttp &lt;our server&gt;\n02-16 13:30:20.135  2719  3758 D okhttp.TaskRunner: Q10153 scheduled after   0 µs: OkHttp ConnectionPool\n02-16 13:30:20.135  2719  7381 D okhttp.TaskRunner: Q10157 starting              : OkHttp &lt;our server&gt;\n02-16 13:30:20.136  2719  7365 D okhttp.TaskRunner: Q10153 starting              : OkHttp ConnectionPool\n02-16 13:30:20.137  2719  7365 D okhttp.TaskRunner: Q10153 run again after 300 s : OkHttp ConnectionPool\n02-16 13:30:20.137  2719  7365 D okhttp.TaskRunner: Q10153 finished run in   1 ms: OkHttp ConnectionPool\n02-16 13:30:20.138  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003  1063 HEADERS       END_HEADERS\n02-16 13:30:20.145  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000    18 SETTINGS      \n02-16 13:30:20.146  2719  7381 D okhttp.TaskRunner: Q10154 scheduled after   0 µs: OkHttp &lt;our server&gt; applyAndAckSettings\n02-16 13:30:20.147  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000     4 WINDOW_UPDATE \n02-16 13:30:20.147  2719  7365 D okhttp.TaskRunner: Q10154 starting              : OkHttp &lt;our server&gt; applyAndAckSettings\n02-16 13:30:20.149  2719  7365 D okhttp.TaskRunner: Q10156 scheduled after   0 µs: OkHttp &lt;our server&gt; onSettings\n02-16 13:30:20.151  2719  6597 D okhttp.TaskRunner: Q10156 starting              : OkHttp &lt;our server&gt; onSettings\n02-16 13:30:20.151  2719  6597 D okhttp.TaskRunner: Q10156 finished run in   1 ms: OkHttp &lt;our server&gt; onSettings\n02-16 13:30:20.152  2719  7365 D okhttp.Http2: &gt;&gt; 0x00000000     0 SETTINGS      ACK\n02-16 13:30:20.153  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003 65535 DATA          \n02-16 13:30:20.153  2719  7365 D okhttp.TaskRunner: Q10154 finished run in   6 ms: OkHttp &lt;our server&gt; applyAndAckSettings\n02-16 13:30:20.156  2719  3758 D okhttp.Http2: &gt;&gt; 0x00000003     1 DATA          \n02-16 13:30:20.231  2719  7381 D okhttp.Http2: &lt;&lt; 0x00000000     0 SETTINGS      ACK\n</code></pre>\n<p>Following @Yuri Schimke's suggestion, I added PrintingEventListener, here's what I get :</p>\n<pre><code>2021-02-17 09:18:50.056 28203-28286/&lt;package name&gt; I/System.out: (HTTPLog)-Static: isSBSettingEnabled false\n2021-02-17 09:18:53.378 28203-28286/&lt;package name&gt;  I/System.out: 0.000 callStart\n2021-02-17 09:18:53.460 28203-28286/&lt;package name&gt;  I/System.out: 0.081 proxySelectStart\n2021-02-17 09:18:53.462 28203-28286/&lt;package name&gt;  I/System.out: 0.084 proxySelectEnd\n2021-02-17 09:18:53.462 28203-28286/&lt;package name&gt;  I/System.out: 0.084 dnsStart\n2021-02-17 09:18:53.463 28203-28286/&lt;package name&gt;  I/System.out: 0.085 dnsEnd\n2021-02-17 09:18:53.475 28203-28286/&lt;package name&gt;  I/System.out: 0.096 connectStart\n2021-02-17 09:18:53.650 28203-28286/&lt;package name&gt;  I/System.out: 0.271 secureConnectStart\n2021-02-17 09:18:53.796 28203-28286/&lt;package name&gt;  I/System.out: 0.418 secureConnectEnd\n2021-02-17 09:18:53.834 28203-28286/&lt;package name&gt;  I/System.out: 0.456 connectEnd\n2021-02-17 09:18:53.839 28203-28286/&lt;package name&gt;  I/System.out: 0.461 connectionAcquired\n2021-02-17 09:18:53.870 28203-28286/&lt;package name&gt;  I/System.out: 0.492 requestHeadersStart\n2021-02-17 09:18:53.891 28203-28286/&lt;package name&gt;  I/System.out: 0.513 requestHeadersEnd\n2021-02-17 09:18:53.891 28203-28286/&lt;package name&gt;  I/System.out: 0.513 requestBodyStart\n2021-02-17 09:19:03.382 28203-28286/&lt;package name&gt;  I/System.out: 10.003 requestFailed\n2021-02-17 09:19:03.391 28203-28311/&lt;package name&gt;  I/System.out: 10.012 canceled\n2021-02-17 09:19:03.399 28203-28286/&lt;package name&gt;  I/System.out: 10.021 connectionReleased\n2021-02-17 09:19:03.400 28203-28286/&lt;package name&gt;  I/System.out: 10.022 callFailed\n</code></pre>\n"},{"tags":["java","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1698447565,"post_id":77377412,"comment_id":136411563,"body_markdown":"@mkl Please suggest.","body":"@mkl Please suggest."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1698477713,"post_id":77377412,"comment_id":136413210,"body_markdown":"Can you share an example PDF signed by your code? At first glance the pdfbox signing code looks OK, so the issue most likely is a small detail. Analyzing the signed PDF could help identifying that detail.","body":"Can you share an example PDF signed by your code? At first glance the pdfbox signing code looks OK, so the issue most likely is a small detail. Analyzing the signed PDF could help identifying that detail."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1698526654,"post_id":77377412,"comment_id":136417826,"body_markdown":"@mkl Thanks for your response. I figured out that PDFBox sample works for some other credential. I have updated the question. Can you please check now. I want my both credentials to work with PDFBox. One works with IText, other works with PDFBox.","body":"@mkl Thanks for your response. I figured out that PDFBox sample works for some other credential. I have updated the question. Can you please check now. I want my both credentials to work with PDFBox. One works with IText, other works with PDFBox."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698566481,"post_id":77377412,"comment_id":136419944,"body_markdown":"If it works for some credentials and not for others, it&#39;s even more important to analyze the signed documents.","body":"If it works for some credentials and not for others, it&#39;s even more important to analyze the signed documents."}],"answers":[{"comments":[{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1698735059,"post_id":77389304,"comment_id":136439503,"body_markdown":"Thanks @mkl for this detailed analysis. &quot;Inputstream is&quot; is the document stream only. But, as part of my debugging, I have already tried replacing the hash generation part of PDFBox approach with IText one. I added the code where we generate signedAttributes with ExternalDigest in the place of generating hash digest in PDFBox implementation. It still fails with same error.","body":"Thanks @mkl for this detailed analysis. &quot;Inputstream is&quot; is the document stream only. But, as part of my debugging, I have already tried replacing the hash generation part of PDFBox approach with IText one. I added the code where we generate signedAttributes with ExternalDigest in the place of generating hash digest in PDFBox implementation. It still fails with same error."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698748561,"post_id":77389304,"comment_id":136441881,"body_markdown":"*&#39;&quot;Inputstream is&quot; is the document stream only.&#39;* - you don&#39;t need that stream here. Actually, I assume you read that stream to the end before, so it behaves like an empty stream here.","body":"<i>&#39;&quot;Inputstream is&quot; is the document stream only.&#39;</i> - you don&#39;t need that stream here. Actually, I assume you read that stream to the end before, so it behaves like an empty stream here."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698748901,"post_id":77389304,"comment_id":136441944,"body_markdown":"*&quot;Please check the updated file with the suggested fix&quot;* - I cannot recognize what the hash value has been calculated here from. I&#39;ll add an alternative `ContentSigner` to my answer for you to try with PDFBox and CredB.","body":"<i>&quot;Please check the updated file with the suggested fix&quot;</i> - I cannot recognize what the hash value has been calculated here from. I&#39;ll add an alternative <code>ContentSigner</code> to my answer for you to try with PDFBox and CredB."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1698752439,"post_id":77389304,"comment_id":136442566,"body_markdown":"Thanks @mkl. Please let me know after adding. Looking forward to learn more from you.","body":"Thanks @mkl. Please let me know after adding. Looking forward to learn more from you."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698752514,"post_id":77389304,"comment_id":136442580,"body_markdown":"*&quot;Please let me know after adding. &quot;* - It&#39;s already been added.","body":"<i>&quot;Please let me know after adding. &quot;</i> - It&#39;s already been added."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698911295,"post_id":77389304,"comment_id":136464966,"body_markdown":"*&quot;It worked.&quot;* - Great! But remember, depending on the credentials you&#39;ll have to select the `ContentSigner` implementation to use. You might want to try and determine that implementation by looking into some values the service API can return as self-description.","body":"<i>&quot;It worked.&quot;</i> - Great! But remember, depending on the credentials you&#39;ll have to select the <code>ContentSigner</code> implementation to use. You might want to try and determine that implementation by looking into some values the service API can return as self-description."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1698920431,"post_id":77389304,"comment_id":136466586,"body_markdown":"yes, will handle that conditionally. Also, when used the same certificate for certification signature instead of approval signature, acrobat says: &quot;The validity of document certification is UNKNOWN. The author could not be verified.&quot; Could it be a certificate level restriction that it only allows approval signature? And How the spaces in state and pincode can impact?","body":"yes, will handle that conditionally. Also, when used the same certificate for certification signature instead of approval signature, acrobat says: &quot;The validity of document certification is UNKNOWN. The author could not be verified.&quot; Could it be a certificate level restriction that it only allows approval signature? And How the spaces in state and pincode can impact?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1698990417,"post_id":77389304,"comment_id":136477054,"body_markdown":"*&quot;Could it be a certificate level restriction that it only allows approval signature?&quot;* - I&#39;d need an example file to analyze. The PDF specification does *not* require different certificates for certification vs. approval signatures. Adobe, though, sometimes have their own ideas. *&quot;And How the spaces in state and pincode can impact?&quot;* - sloppy certificate processing software may drop such spaces during processing in some contexts and then fail to identify your certificate correctly. I.e. you may get surprising validation failures","body":"<i>&quot;Could it be a certificate level restriction that it only allows approval signature?&quot;</i> - I&#39;d need an example file to analyze. The PDF specification does <i>not</i> require different certificates for certification vs. approval signatures. Adobe, though, sometimes have their own ideas. <i>&quot;And How the spaces in state and pincode can impact?&quot;</i> - sloppy certificate processing software may drop such spaces during processing in some contexts and then fail to identify your certificate correctly. I.e. you may get surprising validation failures"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1699349552,"post_id":77389304,"comment_id":136517346,"body_markdown":"The certificate you used is issued by some test CA which neither is on the AATL nor on the EUTL. Thus, Adobe Acrobat will always display &quot;The author could not be identified&quot;. UNLESS you configured Adobe Acrobat to trust a certificate from that certificate chain, either explicitly (in Adobe Acrobat settings) or implicitly (in OS settings). When explicitly configuring that trust, you can select whether the trust is only for regular signatures or also for certification signatures. Similarly you can configure what OS certificates are trusted for.","body":"The certificate you used is issued by some test CA which neither is on the AATL nor on the EUTL. Thus, Adobe Acrobat will always display &quot;The author could not be identified&quot;. UNLESS you configured Adobe Acrobat to trust a certificate from that certificate chain, either explicitly (in Adobe Acrobat settings) or implicitly (in OS settings). When explicitly configuring that trust, you can select whether the trust is only for regular signatures or also for certification signatures. Similarly you can configure what OS certificates are trusted for."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1699349708,"post_id":77389304,"comment_id":136517374,"body_markdown":"Beware, though, this differentiation is Adobe Acrobat specific, it is not prescribed by the PDF specification.  Other PDF processors may or may not differentiate similarly.","body":"Beware, though, this differentiation is Adobe Acrobat specific, it is not prescribed by the PDF specification.  Other PDF processors may or may not differentiate similarly."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1699354559,"post_id":77389304,"comment_id":136518375,"body_markdown":"Thanks @mkl, It worked. In my machine it was not trusted for certifying signtures.","body":"Thanks @mkl, It worked. In my machine it was not trusted for certifying signtures."},{"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"score":0,"creation_date":1699431291,"post_id":77389304,"comment_id":136529067,"body_markdown":"If we talk about above issue of sending hash in different form for CredA and CredB, which one is CSC compliant and which one is not?","body":"If we talk about above issue of sending hash in different form for CredA and CredB, which one is CSC compliant and which one is not?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1699438768,"post_id":77389304,"comment_id":136530504,"body_markdown":"*&quot;which one is CSC compliant and which one is not?&quot;* - It _looks like_ CredA is more compliant: the CSC `/csc/v1/signatures/signHash` method is specified to expect a hash to be signed, not the raw data. As the code you shared is not runnable, though, and as I don&#39;t have those credentials, I cannot truly test.","body":"<i>&quot;which one is CSC compliant and which one is not?&quot;</i> - It <i>looks like</i> CredA is more compliant: the CSC <code>&#47;csc&#47;v1&#47;signatures&#47;signHash</code> method is specified to expect a hash to be signed, not the raw data. As the code you shared is not runnable, though, and as I don&#39;t have those credentials, I cannot truly test."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698749630,"creation_date":1698674503,"answer_id":77389304,"question_id":77377412,"body_markdown":"The difference between your iText based code and your PDFBox based code is that\r\n\r\n* in the former case (iText), you send the _actual_ authenticated attributes for signing (you call the carrier object `stringDocumentHash` but it&#39;s actually a string containing the authenticated attributes and the document hash is but one of those attributes), but\r\n\r\n* in the latter case (PDFBox), you send _a hash of_ the data for signing. (In this case it is unclear in your code what that data in the `InputStream is` is.)\r\n\r\nThus, apparently the CredB TSP (which works with iText) expects you to send the actual bytes to sign and itself calculates a hash thereof, and the CredA TSP (which works with PDFBox) expects you to send a hash of the bytes to sign and uses that value as is.\r\n\r\nTo enable your PDFBox code to work for both TSPs, you either have to change your code to only optionally hash the authenticated bytes (and request hashing based on the TSP used), or you have to orchestrate your CredB access to also expect the raw data to sign, not a hash thereof.\r\n\r\n----\r\n\r\nUnfortunately, when copying the code into your question, some errors slipped into both versions, rendering them not compilable. Thus, the above analysis only loosely is based on that code. Instead it&#39;s mostly based on the example file you provided.\r\n\r\n----\r\n\r\nBy the way, the subject of the signer certificate, `...,PostalCode=\\ xxxx,ST=\\ xxxxx,...`, is asking for trouble with the blanks at the beginning of the `PostalCode` and `ST` entries...\r\n\r\n----\r\n\r\nPS: Please try the following `ContentSigner` instead of the one in your code for signing runs with CredB and PDFBox:\r\n\r\n```lang-java\r\nContentSigner contentSigner = new ContentSigner() {\r\n    private ByteArrayOutputStream stream = new ByteArrayOutputStream();\r\n\r\n    @Override\r\n    public byte[] getSignature() {\r\n        try {\r\n            java.util.Base64.Encoder encoder = java.util.Base64.getEncoder();\r\n            List&lt;String&gt; hash = Arrays.asList(encoder.encodeToString(stream.toByteArray()));\r\n            byte[] signedHash = signHash(accessToken, hash);\r\n            return signedHash;\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(&quot;Exception while signing&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public OutputStream getOutputStream() {\r\n        return stream;\r\n    }\r\n\r\n    @Override\r\n    public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n        return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\r\n    }\r\n}\r\n```\r\n\r\nAs I neither have a runnable version of your code nor the CredB credentials (or equivalent ones), I cannot test myself.","title":"Signature is invalid with PDFBox","body":"<p>The difference between your iText based code and your PDFBox based code is that</p>\n<ul>\n<li><p>in the former case (iText), you send the <em>actual</em> authenticated attributes for signing (you call the carrier object <code>stringDocumentHash</code> but it's actually a string containing the authenticated attributes and the document hash is but one of those attributes), but</p>\n</li>\n<li><p>in the latter case (PDFBox), you send <em>a hash of</em> the data for signing. (In this case it is unclear in your code what that data in the <code>InputStream is</code> is.)</p>\n</li>\n</ul>\n<p>Thus, apparently the CredB TSP (which works with iText) expects you to send the actual bytes to sign and itself calculates a hash thereof, and the CredA TSP (which works with PDFBox) expects you to send a hash of the bytes to sign and uses that value as is.</p>\n<p>To enable your PDFBox code to work for both TSPs, you either have to change your code to only optionally hash the authenticated bytes (and request hashing based on the TSP used), or you have to orchestrate your CredB access to also expect the raw data to sign, not a hash thereof.</p>\n<hr />\n<p>Unfortunately, when copying the code into your question, some errors slipped into both versions, rendering them not compilable. Thus, the above analysis only loosely is based on that code. Instead it's mostly based on the example file you provided.</p>\n<hr />\n<p>By the way, the subject of the signer certificate, <code>...,PostalCode=\\ xxxx,ST=\\ xxxxx,...</code>, is asking for trouble with the blanks at the beginning of the <code>PostalCode</code> and <code>ST</code> entries...</p>\n<hr />\n<p>PS: Please try the following <code>ContentSigner</code> instead of the one in your code for signing runs with CredB and PDFBox:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ContentSigner contentSigner = new ContentSigner() {\n    private ByteArrayOutputStream stream = new ByteArrayOutputStream();\n\n    @Override\n    public byte[] getSignature() {\n        try {\n            java.util.Base64.Encoder encoder = java.util.Base64.getEncoder();\n            List&lt;String&gt; hash = Arrays.asList(encoder.encodeToString(stream.toByteArray()));\n            byte[] signedHash = signHash(accessToken, hash);\n            return signedHash;\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Exception while signing&quot;, e);\n        }\n    }\n\n    @Override\n    public OutputStream getOutputStream() {\n        return stream;\n    }\n\n    @Override\n    public AlgorithmIdentifier getAlgorithmIdentifier() {\n        return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\n    }\n}\n</code></pre>\n<p>As I neither have a runnable version of your code nor the CredB credentials (or equivalent ones), I cannot test myself.</p>\n"}],"owner":{"account_id":28668458,"reputation":15,"user_id":21951977,"display_name":"Qazazazaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77389304,"answer_count":1,"score":0,"last_activity_date":1698749630,"creation_date":1698447517,"question_id":77377412,"body_markdown":"I have two CSC based credentials from different TSPs(say CredA and CredB).I am trying to perform PDF Signing using both credentials. \r\nI have implemented the same in two ways, one with `PDFBox` and other using `Itext`.\r\n\r\nCredA works with below `PDFBox`implementation but fails with `Itext` implementation.\r\n\r\n```\r\n\r\n    public static void testSign(InputStream is, PDDocument document, Certificate[] certificateChain, String accessToken) throws Exception {\r\n        try (\r\n                OutputStream output = new FileOutputStream(new File(&quot;/[filepath]/&quot;, &quot;Signed.pdf&quot;));\r\n        ) {\r\n            PDSignature signature = new PDSignature();\r\n\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\r\n            signature.setName(&quot;Test Name&quot;);\r\n            signature.setSignDate(Calendar.getInstance());\r\n\r\n            SignatureOptions signatureOptions = new SignatureOptions();\r\n            signatureOptions.setPage(0);\r\n\r\n            document.addSignature(signature, signatureOptions);\r\n            ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(output);\r\n\r\n            X509Certificate cert = (X509Certificate) certificateChain[0];\r\n\r\n            ESSCertIDv2 certid = new ESSCertIDv2(\r\n                    new AlgorithmIdentifier(NISTObjectIdentifiers.id_sha256),\r\n                    MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\r\n            );\r\n            SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\r\n            Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, new DERSet(sigcert));\r\n\r\n            ASN1EncodableVector v = new ASN1EncodableVector();\r\n            v.add(attr);\r\n            AttributeTable atttributeTable = new AttributeTable(v);\r\n            CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\r\n\r\n            org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\r\n            JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\r\n            sigb.setSignedAttributeGenerator(attrGen);\r\n\r\n            ContentSigner contentSigner = new ContentSigner() {\r\n                private MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n                private OutputStream stream = OutputStreamFactory.createStream(digest);\r\n                @Override\r\n                public byte[] getSignature() {\r\n                    try {\r\n\r\n                        byte[] b = new byte[4096];\r\n                        int count;\r\n\r\n                        while ((count = is.read(b)) &gt; 0) {\r\n                            digest.update(b, 0, count);\r\n                        }\r\n                        byte[] hashBytes = digest.digest();\r\n\r\n                        java.util.Base64.Encoder encoder = java.util.Base64.getEncoder();\r\n                        List&lt;String&gt; hash = Arrays.asList(encoder.encodeToString(hashBytes));\r\n                        byte[] signedHash = signHash(accessToken, hash);\r\n                        return signedHash;\r\n                    } catch (Exception e) {\r\n                        throw new RuntimeException(&quot;Exception while signing&quot;, e);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public OutputStream getOutputStream() {\r\n                    return stream;\r\n                }\r\n\r\n                @Override\r\n                public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n                    return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\r\n                }\r\n            };\r\n\r\n            CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\n            gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\r\n            gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\r\n\r\n\r\n            final CMSProcessableByteArray content = new CMSProcessableByteArray(\r\n                    IOUtils.toByteArray(externalSigning.getContent()));\r\n            CMSSignedData signedData = gen.generate(content, false);\r\n\r\n            byte[] cmsSignature = signedData.getEncoded();\r\n            externalSigning.setSignature(cmsSignature);\r\n        }\r\n    }\r\n\r\n    private static byte[] signHash(String accessToken, List hash) throws Exception {\r\n\r\n        String SAD = &quot;&quot;;\r\n        JSONParser parser = new JSONParser();\r\n        //CredentialsAuthorize API\r\n        JSONObject requestHeaderCredentialsAuthorize = new JSONObject();\r\n        requestHeaderCredentialsAuthorize.put(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n        requestHeaderCredentialsAuthorize.put(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n\r\n        JSONObject requestPayloadCredentialsAuthorize = new JSONObject();\r\n        requestPayloadCredentialsAuthorize.put(&quot;credentialID&quot;, keyID);\r\n        requestPayloadCredentialsAuthorize.put(&quot;numSignatures&quot;, &quot;1&quot;);\r\n        requestPayloadCredentialsAuthorize.put(&quot;PIN&quot;, SecretPIN);\r\n\r\n        JSONArray hashArray = new JSONArray();\r\n        hashArray.add(hash.get(0));\r\n        requestPayloadCredentialsAuthorize.put(&quot;hash&quot;, hashArray);\r\n\r\n        JSONObject credentialsAuthorizeResponse = PosttoHttpURLConnection.getResponseHTTP(CSC_CredentialsAuthorize_URL, requestPayloadCredentialsAuthorize.toString(), requestHeaderCredentialsAuthorize);\r\n        if (credentialsAuthorizeResponse != null) {\r\n            JSONObject credentialsAuthorizeResponseObject = (JSONObject) parser.parse(credentialsAuthorizeResponse.get(&quot;Response&quot;).toString());\r\n            if (credentialsAuthorizeResponse.get(&quot;StatusCode&quot;).toString().equals(&quot;200&quot;)) {\r\n                SAD = credentialsAuthorizeResponseObject.get(&quot;SAD&quot;) == null ? &quot;&quot; : credentialsAuthorizeResponseObject.get(&quot;SAD&quot;).toString();\r\n                String expires_in = credentialsAuthorizeResponseObject.get(&quot;expires_in&quot;) == null ? &quot;&quot; : credentialsAuthorizeResponseObject.get(&quot;expires_in&quot;).toString();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        String keyAlgorithm = &quot;SHA256withRSA&quot;;\r\n        //signHash API\r\n        JSONObject requestHeadersignHash = new JSONObject();\r\n        requestHeadersignHash.put(&quot;Content-type&quot;, &quot;application/json&quot;);\r\n        requestHeadersignHash.put(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n\r\n        JSONObject requestPayloadsignHash = new JSONObject();\r\n        requestPayloadsignHash.put(&quot;credentialID&quot;, keyID);\r\n        requestPayloadsignHash.put(&quot;SAD&quot;, SAD);\r\n        requestPayloadsignHash.put(&quot;hashAlgo&quot;, &quot;2.16.840.1.101.3.4.2.1&quot;);\r\n        requestPayloadsignHash.put(&quot;signAlgo&quot;, &quot;1.2.840.113549.1.1.1&quot;);\r\n        requestPayloadsignHash.put(&quot;signAlgoParams&quot;, keyAlgorithm);\r\n        JSONArray signHashArray = new JSONArray();\r\n        signHashArray.add(hash.get(0));\r\n        requestPayloadsignHash.put(&quot;hash&quot;, signHashArray);\r\n\r\n        JSONObject signHashResponse = PosttoHttpURLConnection.getResponseHTTP(CSC_signHash_URL, requestPayloadsignHash.toString(), requestHeadersignHash);\r\n        if (signHashResponse != null) {\r\n            JSONObject signHashResponseObject = (JSONObject) parser.parse(signHashResponse.get(&quot;Response&quot;).toString());\r\n            if (signHashResponse.get(&quot;StatusCode&quot;).toString().equals(&quot;200&quot;)) {\r\n                JSONArray signedHashArray = (JSONArray) parser.parse(signHashResponseObject.get(&quot;signatures&quot;).toString());\r\n                String rawSignature = signedHashArray.get(0).toString();\r\n                byte[] signatureBytes = org.bouncycastle.util.encoders.Base64.decode(rawSignature);\r\n                return signatureBytes;\r\n            }\r\n        }\r\n                return null;\r\n    }\r\n\r\n```\r\n\r\nCredB works with below `IText` implementation but fails with above `PDFBox` implementation.\r\n\r\n```\r\n            String access_token = getAccessTokenAPI();\r\n            JSONParser parser = new JSONParser();\r\n\r\n\r\n            String CredentialsInfoAlgoValue = &quot;1.2.840.113549.1.1.1&quot;;\r\n            JSONArray certificates = getCredentialsInfoAPI();\r\n\r\n            //Hash Doc\r\n            int contentEstimated = 32768;\r\n            PdfReader readerpdf = new PdfReader(filePath);\r\n            ByteArrayOutputStream fout = new ByteArrayOutputStream();\r\n            PdfStamper stamperpdf = PdfStamper.createSignature(readerpdf, fout, &#39;\\0&#39;, null, true);\r\n            PdfSignatureAppearance appearance = stamperpdf.getSignatureAppearance();\r\n            appearance.setReason(&quot;Demo&quot;);\r\n            appearance.setLocation(&quot;10.80.100.46&quot;);\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.add(Calendar.MINUTE, 5);\r\n            appearance.setSignDate(cal);\r\n            appearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);\r\n            appearance.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\r\n            appearance.setImage(null);\r\n\r\n            appearance.setAcro6Layers(false);\r\n            String[] str = &quot;285,300,415,370&quot;.split(&quot;,&quot;);\r\n            Float[] intarray = new Float[str.length];\r\n            int i = 0;\r\n            for (String strs : str) {\r\n                intarray[i] = Float.parseFloat(strs.trim());\r\n                i++;\r\n            }\r\n\r\n            int[] pages = {Integer.parseInt(&quot;1&quot;)};\r\n            List&lt;Rectangle&gt; listRectangle = new ArrayList&lt;&gt;();\r\n            listRectangle.add(new Rectangle(intarray[0], intarray[1], intarray[2], intarray[3]));\r\n            appearance.setVisibleSignature(new Rectangle(intarray[0], intarray[1], intarray[2], intarray[3]), pages[0], null);\r\n            HashMap&lt;PdfName, Integer&gt; exc = new HashMap&lt;PdfName, Integer&gt;();\r\n            exc.put(PdfName.CONTENTS, new Integer(contentEstimated * 2 + 2));\r\n            PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\r\n            dic.setReason(appearance.getReason());\r\n            dic.setLocation(appearance.getLocation());\r\n            dic.setContact(appearance.getContact());\r\n            Calendar calDate = Calendar.getInstance();\r\n            dic.setDate(new PdfDate(calDate));\r\n            appearance.setCryptoDictionary(dic);\r\n            appearance.setLayer2Text(&quot;Signed by: &quot; + &quot;Demo User&quot; + &quot; \\nReason: Demo&quot;);\r\n            appearance.setLayer2Font(new Font(Font.FontFamily.HELVETICA, 6, Font.NORMAL, BaseColor.BLACK));\r\n            appearance.preClose(exc);\r\n\r\n            Certificate[] chain = new Certificate[certificates.size()];\r\n            int c = 1;\r\n            for (int k = 0; k &lt; certificates.size(); k++) {\r\n                X509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(org.bouncycastle.util.encoders.Base64.decode(certificates.get(k).toString().getBytes())));\r\n                String subject = getSubjectType(cert);\r\n                if (subject.equalsIgnoreCase(&quot;EndEntity&quot;)) {\r\n                    chain[0] = cert;\r\n                } else {\r\n                    chain[c++] = cert;\r\n                }\r\n            }\r\n\r\n            ExternalDigest externalDigest = new ExternalDigest() {\r\n                public MessageDigest getMessageDigest(String hashAlgorithm)\r\n                        throws GeneralSecurityException {\r\n                    return DigestAlgorithms.getMessageDigest(hashAlgorithm, null);\r\n                }\r\n            };\r\n            PdfPKCS7 sgn = null;\r\n            byte hash[] = null;\r\n            byte ocsp[] = null;\r\n\r\n            InputStream data = appearance.getRangeStream();;\r\n            if (CredentialsInfoAlgoValue.equals(&quot;1.2.840.10045.4.3.3&quot;)) {\r\n                sgn = new PdfPKCS7(null, chain, &quot;SHA384&quot;, null, externalDigest, false);\r\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA384&quot;));\r\n            } else if (CredentialsInfoAlgoValue.equals(&quot;1.2.840.10045.4.3.4&quot;)) {\r\n                sgn = new PdfPKCS7(null, chain, &quot;SHA512&quot;, null, externalDigest, false);\r\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA512&quot;));\r\n            } else {\r\n                sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, externalDigest, false);\r\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA256&quot;));\r\n            }\r\n\r\n            byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, calDate, ocsp, null, MakeSignature.CryptoStandard.CMS);\r\n\r\n            String stringDocumentHash = new String(org.bouncycastle.util.encoders.Base64.encode(sh));\r\n            String SAD = getCredentialsAuthoriseAPI();\r\n            \r\n            String rawSignature = getSignHashAPI();\r\n            byte[] signatureBytes = org.bouncycastle.util.encoders.Base64.decode(rawSignature);\r\n            ByteArrayOutputStream os = fout;\r\n            sgn.setExternalDigest(signatureBytes, null, &quot;RSA&quot;);\r\n            Collection&lt;byte[]&gt; crlBytes = null;\r\n            TSAClient tsaClient = null;\r\n            byte[] pkcs7 = sgn.getEncodedPKCS7(hash, calDate, tsaClient, ocsp, crlBytes, MakeSignature.CryptoStandard.CMS);\r\n            byte[] paddedSig = new byte[32768];\r\n            System.arraycopy(pkcs7, 0, paddedSig, 0, pkcs7.length);\r\n            PdfDictionary dic2 = new PdfDictionary();\r\n            dic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\r\n            appearance.close(dic2);\r\n\r\n            System.out.println(&quot;Signed PDF Document saved at: &quot; + filePath + &quot;_signed.pdf&quot;);\r\n            String outputFile1 = filePath+&quot;_signed.pdf&quot;;\r\n            Path signedFile = Paths.get(outputFile1);\r\n            Files.write(signedFile, os.toByteArray());\r\n            return;\r\n\r\n```\r\n\r\nCan anyone please help me in identifying the difference between both implementations (apart from appearance). I want to run both CredA and CredB using `PDFBox` implementation, but CredB works only with `IText` and fails with `PDFBox` with error as `Invalid Signature(Document has been altered or corrupted since it was signed)`.","title":"Signature is invalid with PDFBox","body":"<p>I have two CSC based credentials from different TSPs(say CredA and CredB).I am trying to perform PDF Signing using both credentials.\nI have implemented the same in two ways, one with <code>PDFBox</code> and other using <code>Itext</code>.</p>\n<p>CredA works with below <code>PDFBox</code>implementation but fails with <code>Itext</code> implementation.</p>\n<pre><code>\n    public static void testSign(InputStream is, PDDocument document, Certificate[] certificateChain, String accessToken) throws Exception {\n        try (\n                OutputStream output = new FileOutputStream(new File(&quot;/[filepath]/&quot;, &quot;Signed.pdf&quot;));\n        ) {\n            PDSignature signature = new PDSignature();\n\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ETSI_CADES_DETACHED);\n            signature.setName(&quot;Test Name&quot;);\n            signature.setSignDate(Calendar.getInstance());\n\n            SignatureOptions signatureOptions = new SignatureOptions();\n            signatureOptions.setPage(0);\n\n            document.addSignature(signature, signatureOptions);\n            ExternalSigningSupport externalSigning = document.saveIncrementalForExternalSigning(output);\n\n            X509Certificate cert = (X509Certificate) certificateChain[0];\n\n            ESSCertIDv2 certid = new ESSCertIDv2(\n                    new AlgorithmIdentifier(NISTObjectIdentifiers.id_sha256),\n                    MessageDigest.getInstance(&quot;SHA-256&quot;).digest(cert.getEncoded())\n            );\n            SigningCertificateV2 sigcert = new SigningCertificateV2(certid);\n            Attribute attr = new Attribute(PKCSObjectIdentifiers.id_aa_signingCertificateV2, new DERSet(sigcert));\n\n            ASN1EncodableVector v = new ASN1EncodableVector();\n            v.add(attr);\n            AttributeTable atttributeTable = new AttributeTable(v);\n            CMSAttributeTableGenerator attrGen = new DefaultSignedAttributeTableGenerator(atttributeTable);\n\n            org.bouncycastle.asn1.x509.Certificate cert2 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\n            JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\n            sigb.setSignedAttributeGenerator(attrGen);\n\n            ContentSigner contentSigner = new ContentSigner() {\n                private MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n                private OutputStream stream = OutputStreamFactory.createStream(digest);\n                @Override\n                public byte[] getSignature() {\n                    try {\n\n                        byte[] b = new byte[4096];\n                        int count;\n\n                        while ((count = is.read(b)) &gt; 0) {\n                            digest.update(b, 0, count);\n                        }\n                        byte[] hashBytes = digest.digest();\n\n                        java.util.Base64.Encoder encoder = java.util.Base64.getEncoder();\n                        List&lt;String&gt; hash = Arrays.asList(encoder.encodeToString(hashBytes));\n                        byte[] signedHash = signHash(accessToken, hash);\n                        return signedHash;\n                    } catch (Exception e) {\n                        throw new RuntimeException(&quot;Exception while signing&quot;, e);\n                    }\n                }\n\n                @Override\n                public OutputStream getOutputStream() {\n                    return stream;\n                }\n\n                @Override\n                public AlgorithmIdentifier getAlgorithmIdentifier() {\n                    return new AlgorithmIdentifier(new ASN1ObjectIdentifier(&quot;1.2.840.113549.1.1.11&quot;));\n                }\n            };\n\n            CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\n            gen.addCertificates(new JcaCertStore(Arrays.asList(certificateChain)));\n            gen.addSignerInfoGenerator(sigb.build(contentSigner, new X509CertificateHolder(cert2)));\n\n\n            final CMSProcessableByteArray content = new CMSProcessableByteArray(\n                    IOUtils.toByteArray(externalSigning.getContent()));\n            CMSSignedData signedData = gen.generate(content, false);\n\n            byte[] cmsSignature = signedData.getEncoded();\n            externalSigning.setSignature(cmsSignature);\n        }\n    }\n\n    private static byte[] signHash(String accessToken, List hash) throws Exception {\n\n        String SAD = &quot;&quot;;\n        JSONParser parser = new JSONParser();\n        //CredentialsAuthorize API\n        JSONObject requestHeaderCredentialsAuthorize = new JSONObject();\n        requestHeaderCredentialsAuthorize.put(&quot;Content-type&quot;, &quot;application/json&quot;);\n        requestHeaderCredentialsAuthorize.put(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\n\n        JSONObject requestPayloadCredentialsAuthorize = new JSONObject();\n        requestPayloadCredentialsAuthorize.put(&quot;credentialID&quot;, keyID);\n        requestPayloadCredentialsAuthorize.put(&quot;numSignatures&quot;, &quot;1&quot;);\n        requestPayloadCredentialsAuthorize.put(&quot;PIN&quot;, SecretPIN);\n\n        JSONArray hashArray = new JSONArray();\n        hashArray.add(hash.get(0));\n        requestPayloadCredentialsAuthorize.put(&quot;hash&quot;, hashArray);\n\n        JSONObject credentialsAuthorizeResponse = PosttoHttpURLConnection.getResponseHTTP(CSC_CredentialsAuthorize_URL, requestPayloadCredentialsAuthorize.toString(), requestHeaderCredentialsAuthorize);\n        if (credentialsAuthorizeResponse != null) {\n            JSONObject credentialsAuthorizeResponseObject = (JSONObject) parser.parse(credentialsAuthorizeResponse.get(&quot;Response&quot;).toString());\n            if (credentialsAuthorizeResponse.get(&quot;StatusCode&quot;).toString().equals(&quot;200&quot;)) {\n                SAD = credentialsAuthorizeResponseObject.get(&quot;SAD&quot;) == null ? &quot;&quot; : credentialsAuthorizeResponseObject.get(&quot;SAD&quot;).toString();\n                String expires_in = credentialsAuthorizeResponseObject.get(&quot;expires_in&quot;) == null ? &quot;&quot; : credentialsAuthorizeResponseObject.get(&quot;expires_in&quot;).toString();\n            } else {\n                return null;\n            }\n        }\n\n        String keyAlgorithm = &quot;SHA256withRSA&quot;;\n        //signHash API\n        JSONObject requestHeadersignHash = new JSONObject();\n        requestHeadersignHash.put(&quot;Content-type&quot;, &quot;application/json&quot;);\n        requestHeadersignHash.put(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\n\n        JSONObject requestPayloadsignHash = new JSONObject();\n        requestPayloadsignHash.put(&quot;credentialID&quot;, keyID);\n        requestPayloadsignHash.put(&quot;SAD&quot;, SAD);\n        requestPayloadsignHash.put(&quot;hashAlgo&quot;, &quot;2.16.840.1.101.3.4.2.1&quot;);\n        requestPayloadsignHash.put(&quot;signAlgo&quot;, &quot;1.2.840.113549.1.1.1&quot;);\n        requestPayloadsignHash.put(&quot;signAlgoParams&quot;, keyAlgorithm);\n        JSONArray signHashArray = new JSONArray();\n        signHashArray.add(hash.get(0));\n        requestPayloadsignHash.put(&quot;hash&quot;, signHashArray);\n\n        JSONObject signHashResponse = PosttoHttpURLConnection.getResponseHTTP(CSC_signHash_URL, requestPayloadsignHash.toString(), requestHeadersignHash);\n        if (signHashResponse != null) {\n            JSONObject signHashResponseObject = (JSONObject) parser.parse(signHashResponse.get(&quot;Response&quot;).toString());\n            if (signHashResponse.get(&quot;StatusCode&quot;).toString().equals(&quot;200&quot;)) {\n                JSONArray signedHashArray = (JSONArray) parser.parse(signHashResponseObject.get(&quot;signatures&quot;).toString());\n                String rawSignature = signedHashArray.get(0).toString();\n                byte[] signatureBytes = org.bouncycastle.util.encoders.Base64.decode(rawSignature);\n                return signatureBytes;\n            }\n        }\n                return null;\n    }\n\n</code></pre>\n<p>CredB works with below <code>IText</code> implementation but fails with above <code>PDFBox</code> implementation.</p>\n<pre><code>            String access_token = getAccessTokenAPI();\n            JSONParser parser = new JSONParser();\n\n\n            String CredentialsInfoAlgoValue = &quot;1.2.840.113549.1.1.1&quot;;\n            JSONArray certificates = getCredentialsInfoAPI();\n\n            //Hash Doc\n            int contentEstimated = 32768;\n            PdfReader readerpdf = new PdfReader(filePath);\n            ByteArrayOutputStream fout = new ByteArrayOutputStream();\n            PdfStamper stamperpdf = PdfStamper.createSignature(readerpdf, fout, '\\0', null, true);\n            PdfSignatureAppearance appearance = stamperpdf.getSignatureAppearance();\n            appearance.setReason(&quot;Demo&quot;);\n            appearance.setLocation(&quot;10.80.100.46&quot;);\n            Calendar cal = Calendar.getInstance();\n            cal.add(Calendar.MINUTE, 5);\n            appearance.setSignDate(cal);\n            appearance.setRenderingMode(PdfSignatureAppearance.RenderingMode.DESCRIPTION);\n            appearance.setCertificationLevel(PdfSignatureAppearance.NOT_CERTIFIED);\n            appearance.setImage(null);\n\n            appearance.setAcro6Layers(false);\n            String[] str = &quot;285,300,415,370&quot;.split(&quot;,&quot;);\n            Float[] intarray = new Float[str.length];\n            int i = 0;\n            for (String strs : str) {\n                intarray[i] = Float.parseFloat(strs.trim());\n                i++;\n            }\n\n            int[] pages = {Integer.parseInt(&quot;1&quot;)};\n            List&lt;Rectangle&gt; listRectangle = new ArrayList&lt;&gt;();\n            listRectangle.add(new Rectangle(intarray[0], intarray[1], intarray[2], intarray[3]));\n            appearance.setVisibleSignature(new Rectangle(intarray[0], intarray[1], intarray[2], intarray[3]), pages[0], null);\n            HashMap&lt;PdfName, Integer&gt; exc = new HashMap&lt;PdfName, Integer&gt;();\n            exc.put(PdfName.CONTENTS, new Integer(contentEstimated * 2 + 2));\n            PdfSignature dic = new PdfSignature(PdfName.ADOBE_PPKLITE, PdfName.ADBE_PKCS7_DETACHED);\n            dic.setReason(appearance.getReason());\n            dic.setLocation(appearance.getLocation());\n            dic.setContact(appearance.getContact());\n            Calendar calDate = Calendar.getInstance();\n            dic.setDate(new PdfDate(calDate));\n            appearance.setCryptoDictionary(dic);\n            appearance.setLayer2Text(&quot;Signed by: &quot; + &quot;Demo User&quot; + &quot; \\nReason: Demo&quot;);\n            appearance.setLayer2Font(new Font(Font.FontFamily.HELVETICA, 6, Font.NORMAL, BaseColor.BLACK));\n            appearance.preClose(exc);\n\n            Certificate[] chain = new Certificate[certificates.size()];\n            int c = 1;\n            for (int k = 0; k &lt; certificates.size(); k++) {\n                X509Certificate cert = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(org.bouncycastle.util.encoders.Base64.decode(certificates.get(k).toString().getBytes())));\n                String subject = getSubjectType(cert);\n                if (subject.equalsIgnoreCase(&quot;EndEntity&quot;)) {\n                    chain[0] = cert;\n                } else {\n                    chain[c++] = cert;\n                }\n            }\n\n            ExternalDigest externalDigest = new ExternalDigest() {\n                public MessageDigest getMessageDigest(String hashAlgorithm)\n                        throws GeneralSecurityException {\n                    return DigestAlgorithms.getMessageDigest(hashAlgorithm, null);\n                }\n            };\n            PdfPKCS7 sgn = null;\n            byte hash[] = null;\n            byte ocsp[] = null;\n\n            InputStream data = appearance.getRangeStream();;\n            if (CredentialsInfoAlgoValue.equals(&quot;1.2.840.10045.4.3.3&quot;)) {\n                sgn = new PdfPKCS7(null, chain, &quot;SHA384&quot;, null, externalDigest, false);\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA384&quot;));\n            } else if (CredentialsInfoAlgoValue.equals(&quot;1.2.840.10045.4.3.4&quot;)) {\n                sgn = new PdfPKCS7(null, chain, &quot;SHA512&quot;, null, externalDigest, false);\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA512&quot;));\n            } else {\n                sgn = new PdfPKCS7(null, chain, &quot;SHA256&quot;, null, externalDigest, false);\n                hash = DigestAlgorithms.digest(data, externalDigest.getMessageDigest(&quot;SHA256&quot;));\n            }\n\n            byte[] sh = sgn.getAuthenticatedAttributeBytes(hash, calDate, ocsp, null, MakeSignature.CryptoStandard.CMS);\n\n            String stringDocumentHash = new String(org.bouncycastle.util.encoders.Base64.encode(sh));\n            String SAD = getCredentialsAuthoriseAPI();\n            \n            String rawSignature = getSignHashAPI();\n            byte[] signatureBytes = org.bouncycastle.util.encoders.Base64.decode(rawSignature);\n            ByteArrayOutputStream os = fout;\n            sgn.setExternalDigest(signatureBytes, null, &quot;RSA&quot;);\n            Collection&lt;byte[]&gt; crlBytes = null;\n            TSAClient tsaClient = null;\n            byte[] pkcs7 = sgn.getEncodedPKCS7(hash, calDate, tsaClient, ocsp, crlBytes, MakeSignature.CryptoStandard.CMS);\n            byte[] paddedSig = new byte[32768];\n            System.arraycopy(pkcs7, 0, paddedSig, 0, pkcs7.length);\n            PdfDictionary dic2 = new PdfDictionary();\n            dic2.put(PdfName.CONTENTS, new PdfString(paddedSig).setHexWriting(true));\n            appearance.close(dic2);\n\n            System.out.println(&quot;Signed PDF Document saved at: &quot; + filePath + &quot;_signed.pdf&quot;);\n            String outputFile1 = filePath+&quot;_signed.pdf&quot;;\n            Path signedFile = Paths.get(outputFile1);\n            Files.write(signedFile, os.toByteArray());\n            return;\n\n</code></pre>\n<p>Can anyone please help me in identifying the difference between both implementations (apart from appearance). I want to run both CredA and CredB using <code>PDFBox</code> implementation, but CredB works only with <code>IText</code> and fails with <code>PDFBox</code> with error as <code>Invalid Signature(Document has been altered or corrupted since it was signed)</code>.</p>\n"},{"tags":["java","testing","junit","mockito","spring-test"],"answers":[{"comments":[{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696927547,"post_id":77264182,"comment_id":136211926,"body_markdown":"I have tried that but doesn&#39;t works. As I mentioned in the question I always have null inside `properties` variable","body":"I have tried that but doesn&#39;t works. As I mentioned in the question I always have null inside <code>properties</code> variable"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696927679,"post_id":77264182,"comment_id":136211948,"body_markdown":"@Serdar I think the problem is that Mockito does not spy on static fields. The properties variable in your Mapper class is a static field, so Mockito is not able to spy on it.","body":"@Serdar I think the problem is that Mockito does not spy on static fields. The properties variable in your Mapper class is a static field, so Mockito is not able to spy on it."},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696928005,"post_id":77264182,"comment_id":136212000,"body_markdown":"Thank you for your suggestion, but I can&#39;t make changes to the source code. As I can see, you want me to make changes to the source code.","body":"Thank you for your suggestion, but I can&#39;t make changes to the source code. As I can see, you want me to make changes to the source code."},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696928107,"post_id":77264182,"comment_id":136212013,"body_markdown":"@Serdar If you cannot make changes to the source code, then the only way to mock the static properties field is to use a mocking framework like Mockito Inline. Mockito Inline allows you to spy on final classes and methods, including static fields. I can updated the answer","body":"@Serdar If you cannot make changes to the source code, then the only way to mock the static properties field is to use a mocking framework like Mockito Inline. Mockito Inline allows you to spy on final classes and methods, including static fields. I can updated the answer"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696928683,"post_id":77264182,"comment_id":136212105,"body_markdown":"I have made changes but have not been able to import `MockitoInline`","body":"I have made changes but have not been able to import <code>MockitoInline</code>"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696928759,"post_id":77264182,"comment_id":136212119,"body_markdown":"@Serdar why you have not been able to import MockitoInline?","body":"@Serdar why you have not been able to import MockitoInline?"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696928794,"post_id":77264182,"comment_id":136212125,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/255569/discussion-between-serdar-and-zufar-sunagatov).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/255569/discussion-between-serdar-and-zufar-sunagatov\">continue this discussion in chat</a>."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1696932660,"post_id":77264182,"comment_id":136212852,"body_markdown":"@ZufarSunagatov why are you talking about static fields? The OP has not used a static field anywhere.","body":"@ZufarSunagatov why are you talking about static fields? The OP has not used a static field anywhere."}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696930502,"creation_date":1696927296,"answer_id":77264182,"question_id":77264091,"body_markdown":"&gt; How can I handle that? (I believe that I am having problem with initialization)\r\n\r\n\r\nYou should make the properties variable as non-static field. This way Mockito can spy on it.\r\n\r\n\r\nUpdated code:\r\n```\r\npublic class Mapper {\r\n\r\n    private final Properties properties;\r\n\r\n    public Mapper(Properties properties) {\r\n        this.properties = properties;\r\n    }\r\n\r\n    public CredentialsDTO mapperCredentialToDTO(Credential credential) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nAfter that, update the test code:\r\n```\r\n@Test\r\nvoid testGetCredentials() {\r\n    when(credentialRepository.findByCredentialSenderAndInactiveFalse(anyString())).thenReturn(credential);\r\n\r\n    Properties properties = Mockito.mock(Properties.class);\r\n    when(properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\r\n\r\n    Mapper mapper = new Mapper(properties);\r\n\r\n    credentialService.getCredentials(headers, mapper);\r\n}\r\n```\r\n\r\n---\r\n\r\nSECOND OPTION - you can use a mocking framework like **Mockito Inline**.\r\n\r\nAdd dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUpdate the test:\r\n```\r\n@Test\r\nvoid testGetCredentials() {\r\n    when(credentialRepository.findByCredentialSenderAndInactiveFalse(anyString())).thenReturn(credential);\r\n\r\n    MockedStatic&lt;Properties&gt; mockedProperties = Mockito.mockStatic(Properties.class);\r\n    mockedProperties.when(() -&gt; Properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\r\n\r\n    Mapper mapper = new Mapper();\r\n\r\n    credentialService.getCredentials(headers, mapper);\r\n\r\n    mockedProperties.close();\r\n}\r\n```","title":"How to mock configuration class for test","body":"<blockquote>\n<p>How can I handle that? (I believe that I am having problem with initialization)</p>\n</blockquote>\n<p>You should make the properties variable as non-static field. This way Mockito can spy on it.</p>\n<p>Updated code:</p>\n<pre><code>public class Mapper {\n\n    private final Properties properties;\n\n    public Mapper(Properties properties) {\n        this.properties = properties;\n    }\n\n    public CredentialsDTO mapperCredentialToDTO(Credential credential) {\n        ...\n    }\n}\n</code></pre>\n<p>After that, update the test code:</p>\n<pre><code>@Test\nvoid testGetCredentials() {\n    when(credentialRepository.findByCredentialSenderAndInactiveFalse(anyString())).thenReturn(credential);\n\n    Properties properties = Mockito.mock(Properties.class);\n    when(properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\n\n    Mapper mapper = new Mapper(properties);\n\n    credentialService.getCredentials(headers, mapper);\n}\n</code></pre>\n<hr />\n<p>SECOND OPTION - you can use a mocking framework like <strong>Mockito Inline</strong>.</p>\n<p>Add dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;5.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Update the test:</p>\n<pre><code>@Test\nvoid testGetCredentials() {\n    when(credentialRepository.findByCredentialSenderAndInactiveFalse(anyString())).thenReturn(credential);\n\n    MockedStatic&lt;Properties&gt; mockedProperties = Mockito.mockStatic(Properties.class);\n    mockedProperties.when(() -&gt; Properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\n\n    Mapper mapper = new Mapper();\n\n    credentialService.getCredentials(headers, mapper);\n\n    mockedProperties.close();\n}\n</code></pre>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698749358,"creation_date":1696926590,"question_id":77264091,"body_markdown":"I am facing with NPE. \r\n\r\nI am writing test for my credential class but I am facing with NPE error. Here is my test class\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class CredentialServiceTest {\r\n\r\n    @Mock\r\n    private Properties properties;\r\n\r\n    @Spy\r\n    private Mapper mapper = Mockito.spy(new Mapper(properties));\r\n\r\n    @Test\r\n    void testGetCredentials() {\r\n        when(properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\r\n        when(credentialRepository.findByCredentialSenderAndInactiveFalse(credential.getCredentialSender())).thenReturn(credential);\r\n        CredentialsDTO actualCredentials = credentialService.getCredentials(headers);\r\n\r\n        assertEquals(actualCredentials, credentialsDTO);\r\n    }\r\n```\r\nThen I was able to mock `properties.getHost()` as you can see in the test class. However, I am facing with NPE because in my mapper I need to use `properties.getHost()` again. My mapper as below\r\n```java\r\n@Component\r\n@AllArgsConstructor\r\npublic class Mapper {\r\n\t\r\n\tprivate Properties properties;\r\n\r\n\tpublic CredentialsDTO mapperCredentialToDTO(Credential credential) {\r\n\t\tModelMapper modelMapper = new ModelMapper();\r\n\r\n\t\tTypeMap&lt;Credential, CredentialsDTO&gt; propertyMapper = modelMapper.createTypeMap(Credential.class,\r\n\t\t\t\tCredentialsDTO.class);\r\n\r\n\t\tCredentialsRoleDTO credentialRoleDTO = mapperCredentialsToCredentialsRoleDTO(credential);\r\n\t\tList&lt;CredentialsRoleDTO&gt; credentialsRoleDTO = Arrays.asList(credentialRoleDTO);\r\n\r\n\t\tpropertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; credentialsRoleDTO, CredentialsDTO::setRoles));\r\n\t\tpropertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; credential.getCredentialSender(), CredentialsDTO::setToken));\r\n\t\tpropertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; properties.getHost().concat(URLEnum.VERSIONS.getUrl()), CredentialsDTO::setUrl));\r\n\r\n\t\treturn modelMapper.map(credential, CredentialsDTO.class);\r\n\t}\r\n```\r\nIn the line `propertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; properties.getHost().concat(URLEnum.VERSIONS.getUrl()), CredentialsDTO::setUrl));` properties is always null.\r\n\r\n**Note: I need to Spy my Mapper class. I can&#39;t mock it because of other tests**\r\n\r\nLast but not least, here you can find my Properties class\r\n```java\r\n@ConfigurationProperties(prefix = &quot;myapp&quot;)\r\n@Component\r\n@ConstructorBinding\r\n@Data\r\npublic class Properties {\r\n\r\n    private String host;\r\n\r\n}\r\n``` \r\nHow can I handle that? (I believe that I am having problem with initialization)\r\n\r\nThe problem is still exist!!","title":"How to mock configuration class for test","body":"<p>I am facing with NPE.</p>\n<p>I am writing test for my credential class but I am facing with NPE error. Here is my test class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class CredentialServiceTest {\n\n    @Mock\n    private Properties properties;\n\n    @Spy\n    private Mapper mapper = Mockito.spy(new Mapper(properties));\n\n    @Test\n    void testGetCredentials() {\n        when(properties.getHost()).thenReturn(&quot;http://localhost:8080&quot;);\n        when(credentialRepository.findByCredentialSenderAndInactiveFalse(credential.getCredentialSender())).thenReturn(credential);\n        CredentialsDTO actualCredentials = credentialService.getCredentials(headers);\n\n        assertEquals(actualCredentials, credentialsDTO);\n    }\n</code></pre>\n<p>Then I was able to mock <code>properties.getHost()</code> as you can see in the test class. However, I am facing with NPE because in my mapper I need to use <code>properties.getHost()</code> again. My mapper as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@AllArgsConstructor\npublic class Mapper {\n    \n    private Properties properties;\n\n    public CredentialsDTO mapperCredentialToDTO(Credential credential) {\n        ModelMapper modelMapper = new ModelMapper();\n\n        TypeMap&lt;Credential, CredentialsDTO&gt; propertyMapper = modelMapper.createTypeMap(Credential.class,\n                CredentialsDTO.class);\n\n        CredentialsRoleDTO credentialRoleDTO = mapperCredentialsToCredentialsRoleDTO(credential);\n        List&lt;CredentialsRoleDTO&gt; credentialsRoleDTO = Arrays.asList(credentialRoleDTO);\n\n        propertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; credentialsRoleDTO, CredentialsDTO::setRoles));\n        propertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; credential.getCredentialSender(), CredentialsDTO::setToken));\n        propertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; properties.getHost().concat(URLEnum.VERSIONS.getUrl()), CredentialsDTO::setUrl));\n\n        return modelMapper.map(credential, CredentialsDTO.class);\n    }\n</code></pre>\n<p>In the line <code>propertyMapper.addMappings(mapper -&gt; mapper.map(src -&gt; properties.getHost().concat(URLEnum.VERSIONS.getUrl()), CredentialsDTO::setUrl));</code> properties is always null.</p>\n<p><strong>Note: I need to Spy my Mapper class. I can't mock it because of other tests</strong></p>\n<p>Last but not least, here you can find my Properties class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;myapp&quot;)\n@Component\n@ConstructorBinding\n@Data\npublic class Properties {\n\n    private String host;\n\n}\n</code></pre>\n<p>How can I handle that? (I believe that I am having problem with initialization)</p>\n<p>The problem is still exist!!</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1613692609,"post_id":66269876,"comment_id":117161833,"body_markdown":"Please take the [tour], visit the [help] and especially read [ask] to learn how to use this site effectively.","body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, visit the <a href=\"https://stackoverflow.com/help\">help center</a> and especially read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to learn how to use this site effectively."},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1613694781,"post_id":66269876,"comment_id":117162343,"body_markdown":"You are missing a semicolon `;` after `System.out.println(x)`","body":"You are missing a semicolon <code>;</code> after <code>System.out.println(x)</code>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1613697139,"post_id":66269876,"comment_id":117162802,"body_markdown":"*Step 1:* Create a Java Project in Eclipse. *Step 2:* Create a Java class named `Main`. *Step 3:* Change the content of the created file to what you show here. *Step 4:* Fix the compilation errors. *Step 5:* Save and run the code.","body":"<i>Step 1:</i> Create a Java Project in Eclipse. <i>Step 2:</i> Create a Java class named <code>Main</code>. <i>Step 3:</i> Change the content of the created file to what you show here. <i>Step 4:</i> Fix the compilation errors. <i>Step 5:</i> Save and run the code."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1613753182,"post_id":66269876,"comment_id":117182100,"body_markdown":"Please use backticks rather than single-quotes in order to format the code.","body":"Please use backticks rather than single-quotes in order to format the code."}],"answers":[{"comments":[{"owner":{"account_id":20751712,"reputation":7,"user_id":15239081,"display_name":"Alex"},"score":0,"creation_date":1614281710,"post_id":66281508,"comment_id":117345438,"body_markdown":"Hello, I tried doing that, yet there are still errors that show up.","body":"Hello, I tried doing that, yet there are still errors that show up."},{"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"score":0,"creation_date":1614306285,"post_id":66281508,"comment_id":117352039,"body_markdown":"Your output should be 11. I runned this myself and it worked fine. Please paste your errors. EDIT: I edited my code with a try-catch block so it would be easier for you to detect the error, however as I mentioned, it works just fine with me...","body":"Your output should be 11. I runned this myself and it worked fine. Please paste your errors. EDIT: I edited my code with a try-catch block so it would be easier for you to detect the error, however as I mentioned, it works just fine with me..."}],"tags":[],"owner":{"account_id":18870057,"reputation":109,"user_id":13764908,"display_name":"vPrototype"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698749336,"creation_date":1613752602,"answer_id":66281508,"question_id":66269876,"body_markdown":"You need to create a project.\r\n*File &gt; New &gt; Java Project*\r\n\r\nComplete the setup, and then go to *File &gt; New &gt; Class*\r\n\r\nPaste your *fixed*  (check below) code and run.\r\n\r\n```\r\n\tprivate static int foo (int a) {\r\n\t    int b = a + 6;\r\n\t    return b;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n\t\t        int c = 5;\r\n\t\t        int x = foo(c);\r\n\t\t        System.out.println(x);\r\n\t\t    }\r\n\t\tcatch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```","title":"How can I get this small program to run in Eclipse?","body":"<p>You need to create a project.\n<em>File &gt; New &gt; Java Project</em></p>\n<p>Complete the setup, and then go to <em>File &gt; New &gt; Class</em></p>\n<p>Paste your <em>fixed</em>  (check below) code and run.</p>\n<pre><code>    private static int foo (int a) {\n        int b = a + 6;\n        return b;\n    }\n    \n    public static void main(String[] args) {\n        try {\n                int c = 5;\n                int x = foo(c);\n                System.out.println(x);\n            }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20751712,"reputation":7,"user_id":15239081,"display_name":"Alex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1698749336,"creation_date":1613692569,"question_id":66269876,"body_markdown":"```\r\nclass Main { \r\nprivate static int foo(int a) { \r\nint b = a + 6; return b; \r\n} \r\npublic static void main(String[] args) { \r\nint c = 5; int x = foo(c); \r\nSystem.out.println(x);\r\n}\r\n}\r\n```\r\nI want to know how to run the code above without changing anything (except minor errors). I&#39;ve already tried creating a new class.\r\n","title":"How can I get this small program to run in Eclipse?","body":"<pre><code>class Main { \nprivate static int foo(int a) { \nint b = a + 6; return b; \n} \npublic static void main(String[] args) { \nint c = 5; int x = foo(c); \nSystem.out.println(x);\n}\n}\n</code></pre>\n<p>I want to know how to run the code above without changing anything (except minor errors). I've already tried creating a new class.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":140327,"reputation":43675,"user_id":346561,"accept_rate":94,"display_name":"Jesse Webb"},"score":2,"creation_date":1308084719,"post_id":6349421,"comment_id":7431082,"body_markdown":"I prefer Google&#39;s GSON library for dealing with JSON. It is worth checking out if you haven&#39;t tryed it yet... makes working with it very easy and intuitive.","body":"I prefer Google&#39;s GSON library for dealing with JSON. It is worth checking out if you haven&#39;t tryed it yet... makes working with it very easy and intuitive."},{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":14,"creation_date":1308085269,"post_id":6349421,"comment_id":7431246,"body_markdown":"FWIW The possible solutions to this specific problem with Gson are almost identical to what&#39;s possible with Jackson&#39;s Data Binding API.","body":"FWIW The possible solutions to this specific problem with Gson are almost identical to what&#39;s possible with Jackson&#39;s Data Binding API."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":23,"creation_date":1308158903,"post_id":6349421,"comment_id":7447789,"body_markdown":"Gweebz -- maybe you would like to explain why you feel GSON is a better choice (compared to Jackson)?","body":"Gweebz -- maybe you would like to explain why you feel GSON is a better choice (compared to Jackson)?"}],"answers":[{"comments":[{"owner":{"account_id":1967558,"reputation":2066,"user_id":1767377,"display_name":"SyntaxRules"},"score":60,"creation_date":1376064452,"post_id":6349488,"comment_id":26585638,"body_markdown":"One extra note, if while parsing you get an error such as `JsonMappingException: No suitable constructor found for type` then it means you need to added a default constructor to your class adding a private no-arg constructor fixed it for me.","body":"One extra note, if while parsing you get an error such as <code>JsonMappingException: No suitable constructor found for type</code> then it means you need to added a default constructor to your class adding a private no-arg constructor fixed it for me."},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":12,"creation_date":1376957347,"post_id":6349488,"comment_id":26895007,"body_markdown":"@SyntaxRules adding explicit constructor is necessary if you have an explicit constructor -- if not, compiler automatically creates public &quot;empty&quot; constructor. Good point. Another common problem is that inner classes need to be `static` -- otherwise they never have zero-arg constructor.","body":"@SyntaxRules adding explicit constructor is necessary if you have an explicit constructor -- if not, compiler automatically creates public &quot;empty&quot; constructor. Good point. Another common problem is that inner classes need to be <code>static</code> -- otherwise they never have zero-arg constructor."},{"owner":{"display_name":"user1303718"},"score":344,"creation_date":1401972254,"post_id":6349488,"comment_id":37099398,"body_markdown":"Btw, `List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.readValue(json, MyClass[].class))` works up to 10 time faster than TypeRefence.","body":"Btw, <code>List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.readValue(json, MyClass[].class))</code> works up to 10 time faster than TypeRefence."},{"owner":{"account_id":927996,"reputation":12046,"user_id":958373,"accept_rate":63,"display_name":"Stephane"},"score":7,"creation_date":1409579691,"post_id":6349488,"comment_id":40002266,"body_markdown":"I&#39;m looking for a generic type version.","body":"I&#39;m looking for a generic type version."},{"owner":{"account_id":89709,"reputation":2850,"user_id":247325,"accept_rate":75,"display_name":"Erik B"},"score":1,"creation_date":1417892529,"post_id":6349488,"comment_id":43127382,"body_markdown":"@EugeneTskhovrebov your way is the cleanest for inlining. The others require casting or declaring. I suggest adding it as its own answer to help highlight it, and give you some rep.","body":"@EugeneTskhovrebov your way is the cleanest for inlining. The others require casting or declaring. I suggest adding it as its own answer to help highlight it, and give you some rep."},{"owner":{"account_id":1137073,"reputation":1332,"user_id":1121923,"accept_rate":80,"display_name":"aldo.roman.nurena"},"score":0,"creation_date":1430583169,"post_id":6349488,"comment_id":48127382,"body_markdown":"Any reason why mapper.readValues() -&gt; Iterator is not working?","body":"Any reason why mapper.readValues() -&gt; Iterator is not working?"},{"owner":{"account_id":3526599,"reputation":670,"user_id":2947505,"display_name":"Eruvanos"},"score":0,"creation_date":1465478222,"post_id":6349488,"comment_id":62925497,"body_markdown":"For more information maybe checkout this article I found: http://www.mkyong.com/java/jackson-2-convert-java-object-to-from-json/","body":"For more information maybe checkout this article I found: <a href=\"http://www.mkyong.com/java/jackson-2-convert-java-object-to-from-json/\" rel=\"nofollow noreferrer\">mkyong.com/java/jackson-2-convert-java-object-to-from-json</a>"},{"owner":{"account_id":1962789,"reputation":96,"user_id":1763834,"display_name":"Maninacan"},"score":2,"creation_date":1485537117,"post_id":6349488,"comment_id":70981116,"body_markdown":"I&#39;d like to know how to do the same but with a nested array like so: \n`{\n  &quot;data&quot;: [\n    {...}, {...}, {...}\n  ]\n}`\nI&#39;ve spent a couple of hours now trying to figure out how to apply this to my situation.","body":"I&#39;d like to know how to do the same but with a nested array like so:  <code>{   &quot;data&quot;: [     {...}, {...}, {...}   ] }</code> I&#39;ve spent a couple of hours now trying to figure out how to apply this to my situation."},{"owner":{"account_id":1962789,"reputation":96,"user_id":1763834,"display_name":"Maninacan"},"score":5,"creation_date":1485539853,"post_id":6349488,"comment_id":70982628,"body_markdown":"In response to my own comment above, first parse the json string to a jsonNode and then access the property of the array like this:\n```JsonNode jsonNode = MAPPER.readTree(json);\nString arrayString = jsonNode.get(&quot;data&quot;).toString();```\nThen follow @Programmer Bruce&#39;s instructions above.\n```List&lt;Source&gt; sources = MAPPER.readValue(arrayString, new TypeReference&lt;List&lt;Source&gt;&gt;() {});```","body":"In response to my own comment above, first parse the json string to a jsonNode and then access the property of the array like this: <code>JsonNode jsonNode = MAPPER.readTree(json); String arrayString = jsonNode.get(&quot;data&quot;).toString();</code> Then follow @Programmer Bruce&#39;s instructions above. <code>List&lt;Source&gt; sources = MAPPER.readValue(arrayString, new TypeReference&lt;List&lt;Source&gt;&gt;() {});</code>"},{"owner":{"account_id":2353732,"reputation":1929,"user_id":2062044,"display_name":"Aebsubis"},"score":1,"creation_date":1488560570,"post_id":6349488,"comment_id":72301543,"body_markdown":"@Stephane I have declared the next method to get the generic class: `private Class&lt;E&gt; getObjectClass() { return (Class&lt;E&gt;)((ParameterizedType)getClass().getGenericSuperclass()).getActualTypeArguments()[0]; }` then I use it like this: `List&lt;E&gt; systemProperties = MAPPER.readValue(columnString, MAPPER.getTypeFactory().constructCollectionType(List.class, getObjectClass()));`","body":"@Stephane I have declared the next method to get the generic class: <code>private Class&lt;E&gt; getObjectClass() { return (Class&lt;E&gt;)((ParameterizedType)getClass().getGenericSuperclas&zwnj;&#8203;s()).getActualTypeAr&zwnj;&#8203;guments()[0]; }</code> then I use it like this: <code>List&lt;E&gt; systemProperties = MAPPER.readValue(columnString, MAPPER.getTypeFactory().constructCollectionType(List.class, getObjectClass()));</code>"},{"owner":{"account_id":2601421,"reputation":9836,"user_id":2253682,"accept_rate":44,"display_name":"AdamHurwitz"},"score":0,"creation_date":1497381745,"post_id":6349488,"comment_id":76051411,"body_markdown":"I am receiving a compile time error: `readValue(com.fasterxml.jackson.databind.JsonNode, com.fasterxml.jackson.databind.type.CollectionType)`","body":"I am receiving a compile time error: <code>readValue(com.fasterxml.jackson.databind.JsonNode, com.fasterxml.jackson.databind.type.CollectionType)</code>"},{"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"score":2,"creation_date":1546604103,"post_id":6349488,"comment_id":94912612,"body_markdown":"@SyntaxRules you should add this as an additional Answer as this helped me with my case.","body":"@SyntaxRules you should add this as an additional Answer as this helped me with my case."},{"owner":{"account_id":2555632,"reputation":101,"user_id":4430492,"display_name":"John Douma"},"score":0,"creation_date":1584027426,"post_id":6349488,"comment_id":107316301,"body_markdown":"What if my json array is embedded in an object that I want to deserialize? How can I annotate my List object so that the conversion will be done automatically?","body":"What if my json array is embedded in an object that I want to deserialize? How can I annotate my List object so that the conversion will be done automatically?"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1630388800,"post_id":6349488,"comment_id":121934946,"body_markdown":"It&#39;s very difficult to `mock` `TypeReference`, so using array notation.","body":"It&#39;s very difficult to <code>mock</code> <code>TypeReference</code>, so using array notation."},{"owner":{"account_id":8131218,"reputation":584,"user_id":6124434,"accept_rate":79,"display_name":"scarface"},"score":0,"creation_date":1637067626,"post_id":6349488,"comment_id":123721779,"body_markdown":"The last option did what I needed.","body":"The last option did what I needed."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1677315243,"post_id":6349488,"comment_id":133316683,"body_markdown":"Is there anything like Arrays.asList but for a Set&lt;&gt;?","body":"Is there anything like Arrays.asList but for a Set&lt;&gt;?"}],"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"comment_count":16,"down_vote_count":0,"up_vote_count":2282,"is_accepted":true,"score":2282,"last_activity_date":1416414998,"creation_date":1308082165,"answer_id":6349488,"question_id":6349421,"body_markdown":"First create a mapper :\r\n\r\n    import com.fasterxml.jackson.databind.ObjectMapper;// in play 2.3\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\nAs Array:\r\n\r\n    MyClass[] myObjects = mapper.readValue(json, MyClass[].class);\r\n\r\nAs List:\r\n\r\n    List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\r\n\r\nAnother way to specify the List type:\r\n\r\n    List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, mapper.getTypeFactory().constructCollectionType(List.class, MyClass.class));\r\n","title":"How to use Jackson to deserialise an array of objects","body":"<p>First create a mapper :</p>\n\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;// in play 2.3\nObjectMapper mapper = new ObjectMapper();\n</code></pre>\n\n<p>As Array:</p>\n\n<pre><code>MyClass[] myObjects = mapper.readValue(json, MyClass[].class);\n</code></pre>\n\n<p>As List:</p>\n\n<pre><code>List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n\n<p>Another way to specify the List type:</p>\n\n<pre><code>List&lt;MyClass&gt; myObjects = mapper.readValue(jsonInput, mapper.getTypeFactory().constructCollectionType(List.class, MyClass.class));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1587468,"reputation":10585,"user_id":1471485,"accept_rate":67,"display_name":"John"},"score":0,"creation_date":1488983899,"post_id":28982591,"comment_id":72472940,"body_markdown":"For those working with Agents in Java, Lotus Domino, this is the way to go. I tried some of the other solutions, but always got a `ResourceNotFoundException`","body":"For those working with Agents in Java, Lotus Domino, this is the way to go. I tried some of the other solutions, but always got a <code>ResourceNotFoundException</code>"},{"owner":{"account_id":1178693,"reputation":426,"user_id":1154098,"accept_rate":95,"display_name":"Rob"},"score":1,"creation_date":1492592657,"post_id":28982591,"comment_id":74036977,"body_markdown":"SyntaxRules addition in the comments for the answer above may be required for this solution as we, it was for me. I just wanted to add that so that it is not lost.","body":"SyntaxRules addition in the comments for the answer above may be required for this solution as we, it was for me. I just wanted to add that so that it is not lost."},{"owner":{"account_id":755765,"reputation":8010,"user_id":765965,"accept_rate":94,"display_name":"Al-Mothafar"},"score":2,"creation_date":1505372869,"post_id":28982591,"comment_id":79388198,"body_markdown":"or `Arrays.asList(Json.fromJson(json.get(&quot;fieldName&quot;), MyClass[].class))`","body":"or <code>Arrays.asList(Json.fromJson(json.get(&quot;fieldName&quot;), MyClass[].class))</code>"},{"owner":{"account_id":7577263,"reputation":2260,"user_id":5749217,"display_name":"Collin Krawll"},"score":3,"creation_date":1520121401,"post_id":28982591,"comment_id":85186544,"body_markdown":"or `List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.treeToValue(jsonNode.get(&quot;fieldName&quot;), MyClass[].class))`","body":"or <code>List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.treeToValue(jsonNode.get(&quot;fieldName&quot;), MyClass[].class))</code>"},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1553794648,"post_id":28982591,"comment_id":97528052,"body_markdown":"This is an excellent solution for the simple case of a root json array!","body":"This is an excellent solution for the simple case of a root json array!"}],"tags":[],"owner":{"account_id":4570795,"reputation":3159,"user_id":3710542,"accept_rate":50,"display_name":"Marthym"},"comment_count":5,"down_vote_count":1,"up_vote_count":285,"is_accepted":false,"score":284,"last_activity_date":1607607061,"creation_date":1426065653,"answer_id":28982591,"question_id":6349421,"body_markdown":"From [Eugene Tskhovrebov](https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/28982591#comment37099398_6349488)\r\n\r\n    List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.readValue(json, MyClass[].class))\r\n\r\nThis solution seems to be the best for me.","title":"How to use Jackson to deserialise an array of objects","body":"<p>From <a href=\"https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects/28982591#comment37099398_6349488\">Eugene Tskhovrebov</a></p>\n<pre><code>List&lt;MyClass&gt; myObjects = Arrays.asList(mapper.readValue(json, MyClass[].class))\n</code></pre>\n<p>This solution seems to be the best for me.</p>\n"},{"tags":[],"owner":{"account_id":6172827,"reputation":99,"user_id":4810653,"display_name":"jerome"},"comment_count":0,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1429538543,"creation_date":1429537286,"answer_id":29749600,"question_id":6349421,"body_markdown":"   \ttry {\r\n    \tObjectMapper mapper = new ObjectMapper();\r\n    \tJsonFactory f = new JsonFactory();\r\n    \tList&lt;User&gt; lstUser = null;\r\n    \tJsonParser jp = f.createJsonParser(new File(&quot;C:\\\\maven\\\\user.json&quot;));\r\n    \tTypeReference&lt;List&lt;User&gt;&gt; tRef = new TypeReference&lt;List&lt;User&gt;&gt;() {};\r\n\t\tlstUser = mapper.readValue(jp, tRef);\r\n    \tfor (User user : lstUser) {\r\n\t\t\tSystem.out.println(user.toString());\r\n\t\t}\r\n    \t\r\n   \t} catch (JsonGenerationException e) {\r\n   \t\te.printStackTrace();\r\n   \t} catch (JsonMappingException e) {\r\n   \t\te.printStackTrace();\r\n   \t} catch (IOException e) {\r\n   \t\te.printStackTrace();\r\n   \t}","title":"How to use Jackson to deserialise an array of objects","body":"<pre><code>try {\n    ObjectMapper mapper = new ObjectMapper();\n    JsonFactory f = new JsonFactory();\n    List&lt;User&gt; lstUser = null;\n    JsonParser jp = f.createJsonParser(new File(\"C:\\\\maven\\\\user.json\"));\n    TypeReference&lt;List&lt;User&gt;&gt; tRef = new TypeReference&lt;List&lt;User&gt;&gt;() {};\n    lstUser = mapper.readValue(jp, tRef);\n    for (User user : lstUser) {\n        System.out.println(user.toString());\n    }\n\n} catch (JsonGenerationException e) {\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    e.printStackTrace();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1161198,"reputation":1653,"user_id":1140659,"accept_rate":75,"display_name":"Roeland Van Heddegem"},"score":5,"creation_date":1516288035,"post_id":44720865,"comment_id":83634014,"body_markdown":"Nice construct of Class&lt;T[]&gt;. Never saw this. Where did you find information about this?","body":"Nice construct of Class&lt;T[]&gt;. Never saw this. Where did you find information about this?"}],"tags":[],"owner":{"account_id":2817991,"reputation":3469,"user_id":2422530,"accept_rate":56,"display_name":"Pallav Jha"},"comment_count":1,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1498218858,"creation_date":1498218858,"answer_id":44720865,"question_id":6349421,"body_markdown":"For Generic Implementation:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; parseJsonArray(String json,\r\n                                             Class&lt;T&gt; classOnWhichArrayIsDefined) \r\n                                             throws IOException, ClassNotFoundException {\r\n       ObjectMapper mapper = new ObjectMapper();\r\n       Class&lt;T[]&gt; arrayClass = (Class&lt;T[]&gt;) Class.forName(&quot;[L&quot; + classOnWhichArrayIsDefined.getName() + &quot;;&quot;);\r\n       T[] objects = mapper.readValue(json, arrayClass);\r\n       return Arrays.asList(objects);\r\n    }","title":"How to use Jackson to deserialise an array of objects","body":"<p>For Generic Implementation:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; parseJsonArray(String json,\n                                         Class&lt;T&gt; classOnWhichArrayIsDefined) \n                                         throws IOException, ClassNotFoundException {\n   ObjectMapper mapper = new ObjectMapper();\n   Class&lt;T[]&gt; arrayClass = (Class&lt;T[]&gt;) Class.forName(\"[L\" + classOnWhichArrayIsDefined.getName() + \";\");\n   T[] objects = mapper.readValue(json, arrayClass);\n   return Arrays.asList(objects);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":85475,"reputation":1469,"user_id":238284,"accept_rate":61,"display_name":"Dinesh Kumar"},"score":1,"creation_date":1578413576,"post_id":46485769,"comment_id":105426516,"body_markdown":"we do get - com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token\n at [Source: java.io.FileInputStream@33fec21; line: 1, column: 1]","body":"we do get - com.fasterxml.jackson.databind.JsonMappingException: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token  at [Source: java.io.FileInputStream@33fec21; line: 1, column: 1]"},{"owner":{"account_id":3627300,"reputation":348,"user_id":3024545,"display_name":"javiergarval"},"score":0,"creation_date":1642005507,"post_id":46485769,"comment_id":124959081,"body_markdown":"That can be overcome by adding this extra layer of configuration to our ObjectMapper() instance:\n\t\tmapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);","body":"That can be overcome by adding this extra layer of configuration to our ObjectMapper() instance: \t\tmapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALU&zwnj;&#8203;E_AS_ARRAY, true);"},{"owner":{"account_id":6633990,"reputation":350,"user_id":5121698,"display_name":"B.Kingsun"},"score":0,"creation_date":1643021911,"post_id":46485769,"comment_id":125220755,"body_markdown":"do not work with error Can not deserialize instance of java.util.ArrayList out of START_OBJECT token at","body":"do not work with error Can not deserialize instance of java.util.ArrayList out of START_OBJECT token at"}],"tags":[],"owner":{"account_id":9556235,"reputation":331,"user_id":8694684,"display_name":"Greg D"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1506677566,"creation_date":1506676984,"answer_id":46485769,"question_id":6349421,"body_markdown":"First create an instance of ObjectReader which is thread-safe.\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    ObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\r\n\r\nThen use it :\r\n\r\n    List&lt;MyClass&gt; result = objectReader.readValue(inputStream);\r\n","title":"How to use Jackson to deserialise an array of objects","body":"<p>First create an instance of ObjectReader which is thread-safe.</p>\n\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nObjectReader objectReader = objectMapper.reader().forType(new TypeReference&lt;List&lt;MyClass&gt;&gt;(){});\n</code></pre>\n\n<p>Then use it :</p>\n\n<pre><code>List&lt;MyClass&gt; result = objectReader.readValue(inputStream);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1679678707,"post_id":50306043,"comment_id":133770170,"body_markdown":"How do I parameterize the collection type?","body":"How do I parameterize the collection type?"}],"tags":[],"owner":{"account_id":8120335,"reputation":2034,"user_id":6117311,"display_name":"Tiago Medici"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1526126756,"creation_date":1526126756,"answer_id":50306043,"question_id":6349421,"body_markdown":"here is an utility which is up to transform json2object &lt;T&gt; or  &lt;T&gt; Object2json,\r\nwhatever your pojo (entity T) \r\n\r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.JsonParseException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    \r\n    /**\r\n     * \r\n     * @author TIAGO.MEDICI\r\n     * \r\n     */\r\n    public class JsonUtils {\r\n    \r\n    \tpublic static boolean isJSONValid(String jsonInString) {\r\n    \t\ttry {\r\n    \t\t\tfinal ObjectMapper mapper = new ObjectMapper();\r\n    \t\t\tmapper.readTree(jsonInString);\r\n    \t\t\treturn true;\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static String serializeAsJsonString(Object object) throws JsonGenerationException, JsonMappingException, IOException {\r\n    \t\tObjectMapper objMapper = new ObjectMapper();\r\n    \t\tobjMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    \t\tobjMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n    \t\tStringWriter sw = new StringWriter();\r\n    \t\tobjMapper.writeValue(sw, object);\r\n    \t\treturn sw.toString();\r\n    \t}\r\n    \r\n    \tpublic static String serializeAsJsonString(Object object, boolean indent) throws JsonGenerationException, JsonMappingException, IOException {\r\n    \t\tObjectMapper objMapper = new ObjectMapper();\r\n    \t\tif (indent == true) {\r\n    \t\t\tobjMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    \t\t\tobjMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n    \t\t}\r\n    \r\n    \t\tStringWriter stringWriter = new StringWriter();\r\n    \t\tobjMapper.writeValue(stringWriter, object);\r\n    \t\treturn stringWriter.toString();\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T jsonStringToObject(String content, Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException, IOException {\r\n    \t\tT obj = null;\r\n    \t\tObjectMapper objMapper = new ObjectMapper();\r\n    \t\tobj = objMapper.readValue(content, clazz);\r\n    \t\treturn obj;\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;rawtypes&quot;)\r\n    \tpublic static &lt;T&gt; T jsonStringToObjectArray(String content) throws JsonParseException, JsonMappingException, IOException {\r\n    \t\tT obj = null;\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tobj = mapper.readValue(content, new TypeReference&lt;List&gt;() {\r\n    \t\t});\r\n    \t\treturn obj;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T jsonStringToObjectArray(String content, Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException, IOException {\r\n    \t\tT obj = null;\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper = new ObjectMapper().configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n    \t\tobj = mapper.readValue(content, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\r\n    \t\treturn obj;\r\n    \t}","title":"How to use Jackson to deserialise an array of objects","body":"<p>here is an utility which is up to transform json2object  or   Object2json,\nwhatever your pojo (entity T) </p>\n\n<pre><code>import java.io.IOException;\nimport java.io.StringWriter;\nimport java.util.List;\n\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.JsonParseException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\n/**\n * \n * @author TIAGO.MEDICI\n * \n */\npublic class JsonUtils {\n\n    public static boolean isJSONValid(String jsonInString) {\n        try {\n            final ObjectMapper mapper = new ObjectMapper();\n            mapper.readTree(jsonInString);\n            return true;\n        } catch (IOException e) {\n            return false;\n        }\n    }\n\n    public static String serializeAsJsonString(Object object) throws JsonGenerationException, JsonMappingException, IOException {\n        ObjectMapper objMapper = new ObjectMapper();\n        objMapper.enable(SerializationFeature.INDENT_OUTPUT);\n        objMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n        StringWriter sw = new StringWriter();\n        objMapper.writeValue(sw, object);\n        return sw.toString();\n    }\n\n    public static String serializeAsJsonString(Object object, boolean indent) throws JsonGenerationException, JsonMappingException, IOException {\n        ObjectMapper objMapper = new ObjectMapper();\n        if (indent == true) {\n            objMapper.enable(SerializationFeature.INDENT_OUTPUT);\n            objMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n        }\n\n        StringWriter stringWriter = new StringWriter();\n        objMapper.writeValue(stringWriter, object);\n        return stringWriter.toString();\n    }\n\n    public static &lt;T&gt; T jsonStringToObject(String content, Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException, IOException {\n        T obj = null;\n        ObjectMapper objMapper = new ObjectMapper();\n        obj = objMapper.readValue(content, clazz);\n        return obj;\n    }\n\n    @SuppressWarnings(\"rawtypes\")\n    public static &lt;T&gt; T jsonStringToObjectArray(String content) throws JsonParseException, JsonMappingException, IOException {\n        T obj = null;\n        ObjectMapper mapper = new ObjectMapper();\n        obj = mapper.readValue(content, new TypeReference&lt;List&gt;() {\n        });\n        return obj;\n    }\n\n    public static &lt;T&gt; T jsonStringToObjectArray(String content, Class&lt;T&gt; clazz) throws JsonParseException, JsonMappingException, IOException {\n        T obj = null;\n        ObjectMapper mapper = new ObjectMapper();\n        mapper = new ObjectMapper().configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n        obj = mapper.readValue(content, mapper.getTypeFactory().constructCollectionType(List.class, clazz));\n        return obj;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1587638437,"creation_date":1587638437,"answer_id":61385200,"question_id":6349421,"body_markdown":"you could also create a class which extends `ArrayList`:\r\n\r\n`public static class MyList extends ArrayList&lt;Myclass&gt; {}`\r\n\r\nand then use it like: \r\n\r\n    List&lt;MyClass&gt; list = objectMapper.readValue(json, MyList.class);","title":"How to use Jackson to deserialise an array of objects","body":"<p>you could also create a class which extends <code>ArrayList</code>:</p>\n\n<p><code>public static class MyList extends ArrayList&lt;Myclass&gt; {}</code></p>\n\n<p>and then use it like: </p>\n\n<pre><code>List&lt;MyClass&gt; list = objectMapper.readValue(json, MyList.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2471552,"reputation":2062,"user_id":2153273,"accept_rate":67,"display_name":"lbenedetto"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1591255070,"creation_date":1591255070,"answer_id":62188880,"question_id":6349421,"body_markdown":"I was unable to use [this answer][1] because my linter won&#39;t allow unchecked casts.\r\n\r\nHere is an alternative you can use. I feel it is actually a cleaner solution.\r\n\r\n    public &lt;T&gt; List&lt;T&gt; parseJsonArray(String json, Class&lt;T&gt; clazz) throws JsonProcessingException {\r\n      var tree = objectMapper.readTree(json);\r\n      var list = new ArrayList&lt;T&gt;();\r\n      for (JsonNode jsonNode : tree) {\r\n        list.add(objectMapper.treeToValue(jsonNode, clazz));\r\n      }\r\n      return list;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44720865/2153273","title":"How to use Jackson to deserialise an array of objects","body":"<p>I was unable to use <a href=\"https://stackoverflow.com/a/44720865/2153273\">this answer</a> because my linter won't allow unchecked casts.</p>\n\n<p>Here is an alternative you can use. I feel it is actually a cleaner solution.</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; parseJsonArray(String json, Class&lt;T&gt; clazz) throws JsonProcessingException {\n  var tree = objectMapper.readTree(json);\n  var list = new ArrayList&lt;T&gt;();\n  for (JsonNode jsonNode : tree) {\n    list.add(objectMapper.treeToValue(jsonNode, clazz));\n  }\n  return list;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25918,"reputation":412,"user_id":67035,"display_name":"Evan"},"score":2,"creation_date":1664912880,"post_id":69897989,"comment_id":130577369,"body_markdown":"This answer worked for me: Java 11, Jackson 2.10.5.","body":"This answer worked for me: Java 11, Jackson 2.10.5."},{"owner":{"account_id":8834151,"reputation":131,"user_id":6599119,"display_name":"Michael Manley"},"score":1,"creation_date":1681380839,"post_id":69897989,"comment_id":134048397,"body_markdown":"Answer worked for me, and is clear and concise. Love it.\n\nFor me, I had a generic method that passed in a Class&lt;T&gt; myGenericClass and was able to do:\nList&lt;T&gt; list = mapper.readerForListOf(myGenericClass).readValue(json);\nWhich worked nicely for my solution. Thanks again!","body":"Answer worked for me, and is clear and concise. Love it.  For me, I had a generic method that passed in a Class&lt;T&gt; myGenericClass and was able to do: List&lt;T&gt; list = mapper.readerForListOf(myGenericClass).readValue(json); Which worked nicely for my solution. Thanks again!"},{"owner":{"account_id":5151005,"reputation":7132,"user_id":4125622,"accept_rate":79,"display_name":"Phil"},"score":0,"creation_date":1683148006,"post_id":69897989,"comment_id":134323758,"body_markdown":"Good luck testing this!\n\nCannot invoke &quot;com.fasterxml.jackson.databind.ObjectReader.readValue(byte[])&quot; because the return value of &quot;com.fasterxml.jackson.databind.ObjectMapper.readerForListOf(java.lang.Class)&quot; is null","body":"Good luck testing this!  Cannot invoke &quot;com.fasterxml.jackson.databind.ObjectReader.readValue(byte[&zwnj;&#8203;])&quot; because the return value of &quot;com.fasterxml.jackson.databind.ObjectMapper.readerForListOf&zwnj;&#8203;(java.lang.Class)&quot; is null"},{"owner":{"account_id":27927125,"reputation":133,"user_id":21325982,"display_name":"olivierbeltrandocintoo"},"score":0,"creation_date":1699974804,"post_id":69897989,"comment_id":136596277,"body_markdown":"Works great ! The unsung hero","body":"Works great ! The unsung hero"}],"tags":[],"owner":{"account_id":9766139,"reputation":909,"user_id":7279222,"display_name":"hantian_pang"},"comment_count":4,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1636460186,"creation_date":1636460186,"answer_id":69897989,"question_id":6349421,"body_markdown":"try this\r\n\r\n    List&lt;MyClass&gt; list = mapper.readerForListOf(MyClass.class).readValue(json)","title":"How to use Jackson to deserialise an array of objects","body":"<p>try this</p>\n<pre><code>List&lt;MyClass&gt; list = mapper.readerForListOf(MyClass.class).readValue(json)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1695709486,"creation_date":1677681812,"answer_id":75605198,"question_id":6349421,"body_markdown":"Working with an ArrayList, these different syntaxes all worked for me:\r\n\r\n    ArrayList&lt;MyClass&gt; arrayList = ...\r\n\r\n**Using `objectMapper.getTypeFactory().constructCollectionType`:**  \r\n\r\n    objectMapper.readValue(json, objectMapper.getTypeFactory().constructCollectionType(ArrayList.class, MyClass.class));\r\n\r\n**Using `new TypeReference`:**  \r\n\r\n    objectMapper.readValue(json, new TypeReference&lt;ArrayList&lt;MyClass&gt;&gt;(){});\r\n\r\n**Using `new ArrayList&lt;&gt;(Arrays.asList)`:**  \r\n\r\n    new ArrayList&lt;&gt;(Arrays.asList(objectMapper.readValue(json, MyClass[].class)));\r\n\r\nI can&#39;t say which one is the best to use, but I ended up using the last one:  \r\n\r\n    ArrayList&lt;MyClass&gt; arrayList = new ArrayList&lt;&gt;(Arrays.asList(objectMapper.readValue(json, MyClass[].class)));","title":"How to use Jackson to deserialise an array of objects","body":"<p>Working with an ArrayList, these different syntaxes all worked for me:</p>\n<pre><code>ArrayList&lt;MyClass&gt; arrayList = ...\n</code></pre>\n<p><strong>Using <code>objectMapper.getTypeFactory().constructCollectionType</code>:</strong></p>\n<pre><code>objectMapper.readValue(json, objectMapper.getTypeFactory().constructCollectionType(ArrayList.class, MyClass.class));\n</code></pre>\n<p><strong>Using <code>new TypeReference</code>:</strong></p>\n<pre><code>objectMapper.readValue(json, new TypeReference&lt;ArrayList&lt;MyClass&gt;&gt;(){});\n</code></pre>\n<p><strong>Using <code>new ArrayList&lt;&gt;(Arrays.asList)</code>:</strong></p>\n<pre><code>new ArrayList&lt;&gt;(Arrays.asList(objectMapper.readValue(json, MyClass[].class)));\n</code></pre>\n<p>I can't say which one is the best to use, but I ended up using the last one:</p>\n<pre><code>ArrayList&lt;MyClass&gt; arrayList = new ArrayList&lt;&gt;(Arrays.asList(objectMapper.readValue(json, MyClass[].class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3011691,"reputation":711,"user_id":2555056,"display_name":"Anjan Biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698748588,"creation_date":1698748588,"answer_id":77395153,"question_id":6349421,"body_markdown":"This works for me.\r\n\r\nJson:\r\n\r\n    [\r\n       {\r\n          &quot;question&quot;:&quot;How are you feeling today?&quot;,\r\n          &quot;key&quot;:&quot;feeling&quot;,\r\n          &quot;answer&quot;:&quot;unwell&quot;\r\n       },\r\n       {\r\n          &quot;question&quot;:&quot;How many hours of sleep did you get last night?&quot;,\r\n          &quot;key&quot;:&quot;sleep_hours&quot;,\r\n          &quot;answer&quot;:&quot;8&quot;\r\n       },\r\n       {\r\n          &quot;question&quot;:&quot;Have you been having nightmares lately?&quot;,\r\n          &quot;key&quot;:&quot;nightmares&quot;,\r\n          &quot;answer&quot;:&quot;Recently&quot;\r\n       }\r\n    ]\r\n\r\njava code:\r\n\r\n    private String getFeelByAnswer(String answer) {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        try {\r\n            JsonNode nodes = mapper.readTree(answer);\r\n            String feeling = &quot;&quot;;\r\n            for (JsonNode node : nodes) {\r\n                if (node.get(&quot;key&quot;).asText().equals(&quot;feeling&quot;)) {\r\n                    feeling = node.get(&quot;answer&quot;).asText();\r\n                }\r\n            }\r\n            return feeling;\r\n    \r\n        } catch (Exception e) {\r\n            log.info(&quot;Feeling not found.&quot;);\r\n        }\r\n        return &quot;&quot;;\r\n    }","title":"How to use Jackson to deserialise an array of objects","body":"<p>This works for me.</p>\n<p>Json:</p>\n<pre><code>[\n   {\n      &quot;question&quot;:&quot;How are you feeling today?&quot;,\n      &quot;key&quot;:&quot;feeling&quot;,\n      &quot;answer&quot;:&quot;unwell&quot;\n   },\n   {\n      &quot;question&quot;:&quot;How many hours of sleep did you get last night?&quot;,\n      &quot;key&quot;:&quot;sleep_hours&quot;,\n      &quot;answer&quot;:&quot;8&quot;\n   },\n   {\n      &quot;question&quot;:&quot;Have you been having nightmares lately?&quot;,\n      &quot;key&quot;:&quot;nightmares&quot;,\n      &quot;answer&quot;:&quot;Recently&quot;\n   }\n]\n</code></pre>\n<p>java code:</p>\n<pre><code>private String getFeelByAnswer(String answer) {\n    ObjectMapper mapper = new ObjectMapper();\n    try {\n        JsonNode nodes = mapper.readTree(answer);\n        String feeling = &quot;&quot;;\n        for (JsonNode node : nodes) {\n            if (node.get(&quot;key&quot;).asText().equals(&quot;feeling&quot;)) {\n                feeling = node.get(&quot;answer&quot;).asText();\n            }\n        }\n        return feeling;\n\n    } catch (Exception e) {\n        log.info(&quot;Feeling not found.&quot;);\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":38650,"reputation":14241,"user_id":111082,"accept_rate":79,"display_name":"Ollie Edwards"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1061329,"favorite_count":0,"down_vote_count":0,"up_vote_count":1078,"accepted_answer_id":6349488,"answer_count":11,"score":1078,"last_activity_date":1698748588,"creation_date":1308081911,"question_id":6349421,"body_markdown":"The [Jackson data binding documentation][1] indicates that Jackson supports deserialising  &quot;Arrays of all supported types&quot; but I can&#39;t figure out the exact syntax for this.\r\n\r\nFor a single object I would do this:\r\n\r\n    //json input\r\n    {\r\n        &quot;id&quot; : &quot;junk&quot;,\r\n        &quot;stuff&quot; : &quot;things&quot;\r\n    }\r\n\r\n    //Java\r\n    MyClass instance = objectMapper.readValue(json, MyClass.class);\r\n\r\nNow for an array I want to do this:\r\n\r\n    //json input\r\n    [{\r\n        &quot;id&quot; : &quot;junk&quot;,\r\n        &quot;stuff&quot; : &quot;things&quot;\r\n    },\r\n    {\r\n        &quot;id&quot; : &quot;spam&quot;,\r\n        &quot;stuff&quot; : &quot;eggs&quot;\r\n    }]\r\n\r\n    //Java\r\n    List&lt;MyClass&gt; entries = ?\r\n\r\nAnyone know if there is a magic missing command? If not then what is the solution?\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/DataBindingDeepDive","title":"How to use Jackson to deserialise an array of objects","body":"<p>The <a href=\"http://jackson.codehaus.org/DataBindingDeepDive\" rel=\"noreferrer\">Jackson data binding documentation</a> indicates that Jackson supports deserialising  \"Arrays of all supported types\" but I can't figure out the exact syntax for this.</p>\n\n<p>For a single object I would do this:</p>\n\n<pre><code>//json input\n{\n    \"id\" : \"junk\",\n    \"stuff\" : \"things\"\n}\n\n//Java\nMyClass instance = objectMapper.readValue(json, MyClass.class);\n</code></pre>\n\n<p>Now for an array I want to do this:</p>\n\n<pre><code>//json input\n[{\n    \"id\" : \"junk\",\n    \"stuff\" : \"things\"\n},\n{\n    \"id\" : \"spam\",\n    \"stuff\" : \"eggs\"\n}]\n\n//Java\nList&lt;MyClass&gt; entries = ?\n</code></pre>\n\n<p>Anyone know if there is a magic missing command? If not then what is the solution?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1624449962,"post_id":68099010,"comment_id":120361456,"body_markdown":"The problem happens when you use h2? That is weird...","body":"The problem happens when you use h2? That is weird..."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1624452909,"post_id":68099010,"comment_id":120362857,"body_markdown":"@geoand I think it&#39;s the other way round, quoting &quot;_When I put quarkus.datasource.db-kind to either derby or **h2**, quarkusDev **runs fine**_&quot;.","body":"@geoand I think it&#39;s the other way round, quoting &quot;<i>When I put quarkus.datasource.db-kind to either derby or <b>h2</b>, quarkusDev <b>runs fine</b></i>&quot;."},{"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"score":0,"creation_date":1624453126,"post_id":68099010,"comment_id":120362954,"body_markdown":"@NikosParaskevopoulos Exactly.","body":"@NikosParaskevopoulos Exactly."},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1624457071,"post_id":68099010,"comment_id":120364911,"body_markdown":"From the stack trace it seems that there is something wrong with your TestContainers configuration (?) maybe look for `@QuarkusTestResource` in your code (?)","body":"From the stack trace it seems that there is something wrong with your TestContainers configuration (?) maybe look for <code>@QuarkusTestResource</code> in your code (?)"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1624459391,"post_id":68099010,"comment_id":120365988,"body_markdown":"OK, so basically when you use `quarkus.datasource.db-kind=postgresql` and you don&#39;t set `quarkus.datasource.jdbc.url` you get the behavior you mention, correct?","body":"OK, so basically when you use <code>quarkus.datasource.db-kind=postgresql</code> and you don&#39;t set <code>quarkus.datasource.jdbc.url</code> you get the behavior you mention, correct?"},{"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"score":0,"creation_date":1624459730,"post_id":68099010,"comment_id":120366174,"body_markdown":"@NikosParaskevopoulos\nI don&#39;t annotated with QuarkusTestResource. I do however split my tests into different testing profiles. But the test configs shouldn&#39;t mess with quarkusDev, right?","body":"@NikosParaskevopoulos I don&#39;t annotated with QuarkusTestResource. I do however split my tests into different testing profiles. But the test configs shouldn&#39;t mess with quarkusDev, right?"},{"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"score":0,"creation_date":1624459736,"post_id":68099010,"comment_id":120366178,"body_markdown":"@geoand\nCorrect. Is it required to set an url?","body":"@geoand Correct. Is it required to set an url?"}],"answers":[{"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1624477765,"post_id":68102240,"comment_id":120373366,"body_markdown":"Great info geoand :)","body":"Great info geoand :)"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1624478368,"post_id":68102240,"comment_id":120373568,"body_markdown":"Glad it&#39;s useful :)","body":"Glad it&#39;s useful :)"},{"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"score":0,"creation_date":1624516152,"post_id":68102240,"comment_id":120380774,"body_markdown":"Awesome! The problem for me is that quarkusDev requires a docker runtime app installed in order to start the Testcontainer, according to this video:\nhttps://www.youtube.com/watch?v=szza3DZlKzA&amp;t=166s\n\nI&#39;ll just have to find a way to start up a local database and then connect to that one via the quarkus.datasource.jdbc.url.","body":"Awesome! The problem for me is that quarkusDev requires a docker runtime app installed in order to start the Testcontainer, according to this video: <a href=\"https://www.youtube.com/watch?v=szza3DZlKzA&amp;t=166s\" rel=\"nofollow noreferrer\">youtube.com/watch?v=szza3DZlKzA&amp;t=166s</a>  I&#39;ll just have to find a way to start up a local database and then connect to that one via the quarkus.datasource.jdbc.url."}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1624460067,"creation_date":1624460067,"answer_id":68102240,"question_id":68099010,"body_markdown":"What you are seeing is Quarkus attempting to launch a container to run the database because you have not specified a `quarkus.datasource.jdbc.url`.\r\nThis feature is called DevServices and you find more information about it [here][1]. \r\n\r\nThis feature essentially kicks in in dev and test modes when you have not specified the database to be used.\r\n\r\nYou can explicitly run it off using `quarkus.datasource.devservices.enabled=false` or by setting `quarkus.datasource.jdbc.url` to a URL of a running database\r\n\r\n\r\n  [1]: https://quarkus.io/guides/datasource#devservices-configuration-free-databases","title":"Quarkus cannot find valid Docker environment for databases","body":"<p>What you are seeing is Quarkus attempting to launch a container to run the database because you have not specified a <code>quarkus.datasource.jdbc.url</code>.\nThis feature is called DevServices and you find more information about it <a href=\"https://quarkus.io/guides/datasource#devservices-configuration-free-databases\" rel=\"noreferrer\">here</a>.</p>\n<p>This feature essentially kicks in in dev and test modes when you have not specified the database to be used.</p>\n<p>You can explicitly run it off using <code>quarkus.datasource.devservices.enabled=false</code> or by setting <code>quarkus.datasource.jdbc.url</code> to a URL of a running database</p>\n"},{"tags":[],"owner":{"account_id":24235009,"reputation":67,"user_id":18188271,"display_name":"raweber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698747230,"creation_date":1698747230,"answer_id":77395015,"question_id":68099010,"body_markdown":"I got the same error because Docker Desktop was not started after I restarted my machine ... Maybe this info will help someone in the future!","title":"Quarkus cannot find valid Docker environment for databases","body":"<p>I got the same error because Docker Desktop was not started after I restarted my machine ... Maybe this info will help someone in the future!</p>\n"}],"owner":{"account_id":21200667,"reputation":121,"user_id":15591391,"display_name":"grandmaximum"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6843,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1698747230,"creation_date":1624447943,"question_id":68099010,"body_markdown":"When I put quarkus.datasource.db-kind to either derby or h2, quarkusDev runs fine. \r\n\r\nHowever, when I try putting quarkus.datasource.db-kind to db2 (tried postgresql with the same result) I get the following error:\r\njava.lang.IllegalStateException: Could not find a valid Docker Environment.\r\n\r\nI&#39;m assuming that quarkus is trying to fetch a docker container for starting the database, but cannot find it. It does occurs a bit strange to be that quarkus is trying to start a database in quarkusDev-mode, but anyways.\r\n\r\nDoes anyone know how to solve this problem?\r\n\r\nError:\r\n````\r\n    2021-06-23 10:59:21,159 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor#launchDatabases threw an exception: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:396)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:269)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:66)\r\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:79)\r\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:378)\r\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:56)\r\n        at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:127)\r\n        at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:84)\r\n        at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:144)\r\n        at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\r\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n        [error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor#launchDatabases threw an exception: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n\r\n        at io.quarkus.builder.Execution.run(Execution.java:116)\r\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\r\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:153)\r\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:394)\r\n        ... 9 more\r\nCaused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\r\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\r\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\r\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\r\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\r\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\r\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\r\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\r\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\r\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n````\r\n\r\napplications.properties (located in main)\r\n````\r\nquarkus.datasource.db-kind = db2\r\n\r\nquarkus.datasource.username = testdb\r\nquarkus.datasource.password = testdb\r\n\r\nquarkus.hibernate-orm.database.generation = update\r\n````\r\n\r\ngradle.properties:\r\n````\r\n#Gradle properties\r\n#Wed Jun 23 10:41:16 CEST 2021\r\nquarkusPluginVersion=1.13.2.Final\r\nquarkusPlatformArtifactId=quarkus-universe-bom\r\nquarkusPluginId=io.quarkus\r\nquarkusPlatformGroupId=io.quarkus\r\n//\\#=-*- coding\\: utf-8 -*-\r\nsystemProp.org.gradle.internal.publish.checksums.insecure=true\r\norg.gradle.logging.level=INFO\r\norg.gradle.jvmargs=-Xmx4096m\r\nversion=1.0.0-SNAPSHOT\r\nquarkusPlatformVersion=1.13.2.Final\r\n\r\n````\r\n\r\n","title":"Quarkus cannot find valid Docker environment for databases","body":"<p>When I put quarkus.datasource.db-kind to either derby or h2, quarkusDev runs fine.</p>\n<p>However, when I try putting quarkus.datasource.db-kind to db2 (tried postgresql with the same result) I get the following error:\njava.lang.IllegalStateException: Could not find a valid Docker Environment.</p>\n<p>I'm assuming that quarkus is trying to fetch a docker container for starting the database, but cannot find it. It does occurs a bit strange to be that quarkus is trying to start a database in quarkusDev-mode, but anyways.</p>\n<p>Does anyone know how to solve this problem?</p>\n<p>Error:</p>\n<pre><code>    2021-06-23 10:59:21,159 ERROR [io.qua.dep.dev.IsolatedDevModeMain] (main) Failed to start quarkus: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor#launchDatabases threw an exception: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:396)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:269)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.createInitialRuntimeApplication(AugmentActionImpl.java:66)\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.firstStart(IsolatedDevModeMain.java:79)\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:378)\n        at io.quarkus.deployment.dev.IsolatedDevModeMain.accept(IsolatedDevModeMain.java:56)\n        at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:127)\n        at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:84)\n        at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:144)\n        at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:63)\nCaused by: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n        [error]: Build step io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor#launchDatabases threw an exception: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n\n        at io.quarkus.builder.Execution.run(Execution.java:116)\n        at io.quarkus.builder.BuildExecutionBuilder.execute(BuildExecutionBuilder.java:79)\n        at io.quarkus.deployment.QuarkusAugmentor.run(QuarkusAugmentor.java:153)\n        at io.quarkus.runner.bootstrap.AugmentActionImpl.runAugment(AugmentActionImpl.java:394)\n        ... 9 more\nCaused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$7(DockerClientProviderStrategy.java:215)\n        at java.base/java.util.Optional.orElseThrow(Optional.java:408)\n        at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:207)\n        at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:136)\n        at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:178)\n        at org.testcontainers.LazyDockerClient.getDockerClient(LazyDockerClient.java:14)\n        at org.testcontainers.LazyDockerClient.authConfig(LazyDockerClient.java:12)\n        at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:310)\n        at io.quarkus.devservices.db2.deployment.DB2DevServicesProcessor$1.startDatabase(DB2DevServicesProcessor.java:31)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.startDevDb(DevServicesDatasourceProcessor.java:217)\n        at io.quarkus.datasource.deployment.devservices.DevServicesDatasourceProcessor.launchDatabases(DevServicesDatasourceProcessor.java:103)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>applications.properties (located in main)</p>\n<pre><code>quarkus.datasource.db-kind = db2\n\nquarkus.datasource.username = testdb\nquarkus.datasource.password = testdb\n\nquarkus.hibernate-orm.database.generation = update\n</code></pre>\n<p>gradle.properties:</p>\n<pre><code>#Gradle properties\n#Wed Jun 23 10:41:16 CEST 2021\nquarkusPluginVersion=1.13.2.Final\nquarkusPlatformArtifactId=quarkus-universe-bom\nquarkusPluginId=io.quarkus\nquarkusPlatformGroupId=io.quarkus\n//\\#=-*- coding\\: utf-8 -*-\nsystemProp.org.gradle.internal.publish.checksums.insecure=true\norg.gradle.logging.level=INFO\norg.gradle.jvmargs=-Xmx4096m\nversion=1.0.0-SNAPSHOT\nquarkusPlatformVersion=1.13.2.Final\n\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698739934,"post_id":77394114,"comment_id":136440258,"body_markdown":"Hi welcome to StackOverflow. Please don&#39;t post your code screenshots, instead directly paste your code in the question itself. This will help others to easily try out your code and will help you get answers faster.","body":"Hi welcome to StackOverflow. Please don&#39;t post your code screenshots, instead directly paste your code in the question itself. This will help others to easily try out your code and will help you get answers faster."},{"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"score":0,"creation_date":1698739945,"post_id":77394114,"comment_id":136440261,"body_markdown":"Can you share code of your xml layout as well?","body":"Can you share code of your xml layout as well?"},{"owner":{"account_id":23369815,"reputation":3,"user_id":17440856,"display_name":"Luca Christ"},"score":0,"creation_date":1698742812,"post_id":77394114,"comment_id":136440766,"body_markdown":"Thank you for welcoming me on StackOverflow. I edited my initial question and provided the code. Hope it helps. Thank you!","body":"Thank you for welcoming me on StackOverflow. I edited my initial question and provided the code. Hope it helps. Thank you!"}],"answers":[{"comments":[{"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"score":0,"creation_date":1698871334,"post_id":77394586,"comment_id":136461196,"body_markdown":"consider upvoting/accepting answer if helpful :) good luck!","body":"consider upvoting/accepting answer if helpful :) good luck!"}],"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698743734,"creation_date":1698743433,"answer_id":77394586,"question_id":77394114,"body_markdown":"I&#39;m assuming that everythng builds fine, app gets installed and your desired layout looks like it should be (with extra view on toolbar)\r\n\r\nlooks like you are initing your custom layout before `Toolbar`, so it may be covered by it (if transparent) and onclick never gets called as touch happens on `Toolbar`, not view visible under it\r\n\r\nso try to move `&lt;include` below `&lt;androidx.appcompat.widget.Toolbar`\r\n\r\nthis may help, but its still not how we should place custom views on `Toolbar`. your included layout should be placed INSIDE `Toolbar` in XML\r\n\r\n\t&lt;androidx.appcompat.widget.Toolbar\r\n\t\tandroid:id=&quot;@+id/toolbar&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:layout_height=&quot;?attr/actionBarSize&quot;\r\n\t\tandroid:background=&quot;@android:color/transparent&quot;\r\n\t\tandroid:minHeight=&quot;?attr/actionBarSize&quot;\r\n\t\tapp:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n\t\tapp:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\t\t\r\n\t\t&lt;include android:id=&quot;@+id/topbar&quot;\r\n\t\t\tlayout=&quot;@layout/toolbar&quot; /&gt;\r\n\t\t\t\r\n\t&lt;androidx.appcompat.widget.Toolbar /&gt;\r\n\r\nsome example in [HERE](https://stackoverflow.com/a/35405244). you should adjust `toolbar.xml`, at first I see the parent view in it (with `id=&quot;@+id/linear&quot;`) have `android:layout_width=&quot;match_parent&quot;`, so it may push out other native elements of `Toolbar` (e.g. other custom views or menu) when placed inside","title":"How to set an OnClickListener on Views of included Layout","body":"<p>I'm assuming that everythng builds fine, app gets installed and your desired layout looks like it should be (with extra view on toolbar)</p>\n<p>looks like you are initing your custom layout before <code>Toolbar</code>, so it may be covered by it (if transparent) and onclick never gets called as touch happens on <code>Toolbar</code>, not view visible under it</p>\n<p>so try to move <code>&lt;include</code> below <code>&lt;androidx.appcompat.widget.Toolbar</code></p>\n<p>this may help, but its still not how we should place custom views on <code>Toolbar</code>. your included layout should be placed INSIDE <code>Toolbar</code> in XML</p>\n<pre><code>&lt;androidx.appcompat.widget.Toolbar\n    android:id=&quot;@+id/toolbar&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;@android:color/transparent&quot;\n    android:minHeight=&quot;?attr/actionBarSize&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n    \n    &lt;include android:id=&quot;@+id/topbar&quot;\n        layout=&quot;@layout/toolbar&quot; /&gt;\n        \n&lt;androidx.appcompat.widget.Toolbar /&gt;\n</code></pre>\n<p>some example in <a href=\"https://stackoverflow.com/a/35405244\">HERE</a>. you should adjust <code>toolbar.xml</code>, at first I see the parent view in it (with <code>id=&quot;@+id/linear&quot;</code>) have <code>android:layout_width=&quot;match_parent&quot;</code>, so it may push out other native elements of <code>Toolbar</code> (e.g. other custom views or menu) when placed inside</p>\n"},{"comments":[{"owner":{"account_id":23369815,"reputation":3,"user_id":17440856,"display_name":"Luca Christ"},"score":0,"creation_date":1698835312,"post_id":77394979,"comment_id":136454416,"body_markdown":"Thank you for the answer. I&#39;m not sure if I need the toolbar its really old code. I will try it.","body":"Thank you for the answer. I&#39;m not sure if I need the toolbar its really old code. I will try it."}],"tags":[],"owner":{"account_id":22432165,"reputation":1234,"user_id":16637863,"display_name":"Pawan Harariya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698746892,"creation_date":1698746892,"answer_id":77394979,"question_id":77394114,"body_markdown":"You can directly access the view of the included layout same way you access normal views.\r\n\r\n1. For activity\r\n```\r\npointsContainer = findViewById(R.id.pointsContainer)\r\n```\r\n\r\n2. For fragment\r\n```\r\npointsContainer = view.findViewById(R.id.pointsContainer)\r\n```\r\n\r\nThe part about click-listener not working is because the `toolbar` overlaps the included `topbar`. You can remove the toolbar if not required.\r\n\r\n```\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\r\n\r\n            &lt;include android:id=&quot;@+id/topbar&quot;\r\n                layout=&quot;@layout/temp&quot;/&gt;\r\n            \r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nSample Output : \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/F4ekp.jpg&quot; width=&quot;256&quot;&gt;","title":"How to set an OnClickListener on Views of included Layout","body":"<p>You can directly access the view of the included layout same way you access normal views.</p>\n<ol>\n<li>For activity</li>\n</ol>\n<pre><code>pointsContainer = findViewById(R.id.pointsContainer)\n</code></pre>\n<ol start=\"2\">\n<li>For fragment</li>\n</ol>\n<pre><code>pointsContainer = view.findViewById(R.id.pointsContainer)\n</code></pre>\n<p>The part about click-listener not working is because the <code>toolbar</code> overlaps the included <code>topbar</code>. You can remove the toolbar if not required.</p>\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\n\n            &lt;include android:id=&quot;@+id/topbar&quot;\n                layout=&quot;@layout/temp&quot;/&gt;\n            \n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Sample Output :</p>\n<img src=\"https://i.stack.imgur.com/F4ekp.jpg\" width=\"256\">\n"}],"owner":{"account_id":23369815,"reputation":3,"user_id":17440856,"display_name":"Luca Christ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77394979,"answer_count":2,"score":0,"last_activity_date":1698746892,"creation_date":1698738792,"question_id":77394114,"body_markdown":"I have a LinearLayout called pointsContainer in an layout: toolbar. That is included in the main_activity layout. Now I want smth to happen, if I click on the Points container. \r\nI tried to set an OnclickListener in the MainActivity aswell in the Fragment MainFragment which is actually inflated when I click it. My debugger never finds its way into the OnclickListener.\r\n\r\nThat is my activity_main.xml:\r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\r\n    \r\n                &lt;include android:id=&quot;@+id/topbar&quot;\r\n                    layout=&quot;@layout/toolbar&quot;/&gt;\r\n    \r\n                &lt;androidx.appcompat.widget.Toolbar\r\n                    android:id=&quot;@+id/toolbar&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:minHeight=&quot;?attr/actionBarSize&quot;\r\n                    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                     /&gt;\r\n                    &lt;!--android:elevation=&quot;4dp&quot;--&gt;\r\n                    &lt;!--app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\r\n                     android:theme=&quot;?attr/actionBarTheme&quot; --&gt;\r\n    \r\n    \r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n            &lt;FrameLayout\r\n                android:id=&quot;@+id/container&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;/&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/header&quot;\r\n            app:menu=&quot;@menu/main_menu&quot;&gt;\r\n    \r\n        &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n    \r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\nThat is my toolbar.xml with the container (Linearlayout) I want to click\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/linear&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;?attr/actionBarSize&quot;\r\n        android:background=&quot;#D62D2D&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/variabel_text&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginStart=&quot;200dp&quot;\r\n            android:padding=&quot;@dimen/_10sdp&quot;\r\n            android:text=&quot;Home&quot;\r\n            android:textColor=&quot;@color/primary&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/pointsContainer&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            &gt;\r\n    \r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/points_text&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;10dp&quot;\r\n                android:layout_marginEnd=&quot;-12dp&quot;\r\n                android:padding=&quot;@dimen/_10sdp&quot;\r\n                android:text=&quot;Points:&quot;\r\n                android:textColor=&quot;@color/primary&quot;\r\n                android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/points&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:layout_centerVertical=&quot;true&quot;\r\n                android:layout_marginStart=&quot;0dp&quot;\r\n                android:padding=&quot;16dp&quot;\r\n                android:text=&quot;0&quot;\r\n                android:textColor=&quot;@color/primary&quot;\r\n                android:textSize=&quot;20sp&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nThats how I try it in my MainActivity:\r\n\r\n    points = \r\n    findViewById(R.id.topbar).findViewById(R.id.pointsContainer);          \r\n    points.setOnClickListener(view -&gt; {\r\n                startActivity(new Intent(this, \r\n    PointsActivity.class));\r\n            });\r\n\r\nthats how I connect the view in my MainFragment which is inside the MainActivity:\r\n\r\n    pointContainer = getActivity().findViewById(R.id.pointsContainer);\r\n\r\nI tried different ways to connect the views: findViewById(R.id.topbar).findViewById(R.id.pointsContainer);, getActivity.find..., view.find..., etc\r\nI debugged and I tried in the Activity and in the Fragment\r\n\r\n","title":"How to set an OnClickListener on Views of included Layout","body":"<p>I have a LinearLayout called pointsContainer in an layout: toolbar. That is included in the main_activity layout. Now I want smth to happen, if I click on the Points container.\nI tried to set an OnclickListener in the MainActivity aswell in the Fragment MainFragment which is actually inflated when I click it. My debugger never finds its way into the OnclickListener.</p>\n<p>That is my activity_main.xml:</p>\n<pre><code>   &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\n\n            &lt;include android:id=&quot;@+id/topbar&quot;\n                layout=&quot;@layout/toolbar&quot;/&gt;\n\n            &lt;androidx.appcompat.widget.Toolbar\n                android:id=&quot;@+id/toolbar&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;?attr/actionBarSize&quot;\n                android:background=&quot;@android:color/transparent&quot;\n                android:minHeight=&quot;?attr/actionBarSize&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                 /&gt;\n                &lt;!--android:elevation=&quot;4dp&quot;--&gt;\n                &lt;!--app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n                 android:theme=&quot;?attr/actionBarTheme&quot; --&gt;\n\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;FrameLayout\n            android:id=&quot;@+id/container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/header&quot;\n        app:menu=&quot;@menu/main_menu&quot;&gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>That is my toolbar.xml with the container (Linearlayout) I want to click</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/linear&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;?attr/actionBarSize&quot;\n    android:background=&quot;#D62D2D&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/variabel_text&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_vertical&quot;\n        android:layout_marginStart=&quot;200dp&quot;\n        android:padding=&quot;@dimen/_10sdp&quot;\n        android:text=&quot;Home&quot;\n        android:textColor=&quot;@color/primary&quot;\n        android:textSize=&quot;20sp&quot;\n        /&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/pointsContainer&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        &gt;\n\n\n        &lt;TextView\n            android:id=&quot;@+id/points_text&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;10dp&quot;\n            android:layout_marginEnd=&quot;-12dp&quot;\n            android:padding=&quot;@dimen/_10sdp&quot;\n            android:text=&quot;Points:&quot;\n            android:textColor=&quot;@color/primary&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/points&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:layout_centerVertical=&quot;true&quot;\n            android:layout_marginStart=&quot;0dp&quot;\n            android:padding=&quot;16dp&quot;\n            android:text=&quot;0&quot;\n            android:textColor=&quot;@color/primary&quot;\n            android:textSize=&quot;20sp&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Thats how I try it in my MainActivity:</p>\n<pre><code>points = \nfindViewById(R.id.topbar).findViewById(R.id.pointsContainer);          \npoints.setOnClickListener(view -&gt; {\n            startActivity(new Intent(this, \nPointsActivity.class));\n        });\n</code></pre>\n<p>thats how I connect the view in my MainFragment which is inside the MainActivity:</p>\n<pre><code>pointContainer = getActivity().findViewById(R.id.pointsContainer);\n</code></pre>\n<p>I tried different ways to connect the views: findViewById(R.id.topbar).findViewById(R.id.pointsContainer);, getActivity.find..., view.find..., etc\nI debugged and I tried in the Activity and in the Fragment</p>\n"},{"tags":["java","ssl","truststore","aws-documentdb","amazon-mq"],"answers":[{"tags":[],"owner":{"account_id":7692066,"reputation":23,"user_id":5827999,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623032828,"creation_date":1623032828,"answer_id":67865286,"question_id":67854780,"body_markdown":"Finally I resolved this issue by adding certs explicitly to my local trust store required to establish connection with AWS services. ","title":"Connect with Amazon documentDB &amp; Amazon MQ from Java Service","body":"<p>Finally I resolved this issue by adding certs explicitly to my local trust store required to establish connection with AWS services.</p>\n"},{"comments":[{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":1,"creation_date":1698762678,"post_id":77394905,"comment_id":136444634,"body_markdown":"Links to external resources are encouraged, but please add context around the link so your fellow users will have some idea what it is and why it’s there. Always quote the most relevant part of an important link, in case the external resource is unreachable or goes permanently offline. Links to other websites should always be helpful, but avoid making it necessary to click on them as much as possible.  You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Links to external resources are encouraged, but please add context around the link so your fellow users will have some idea what it is and why it’s there. Always quote the most relevant part of an important link, in case the external resource is unreachable or goes permanently offline. Links to other websites should always be helpful, but avoid making it necessary to click on them as much as possible.  You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29788577,"reputation":1,"user_id":22829378,"display_name":"Ricardo Mano"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698746359,"creation_date":1698746296,"answer_id":77394905,"question_id":67854780,"body_markdown":"In order to be able to use documentDB and Amazon MQ you need to add both lists of certificates\r\n\r\n 1. Document DB - follow the instructions here - https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html\r\n 2. Add Starfield certificate, you can find the link here - https://www.amazontrust.com/repository/","title":"Connect with Amazon documentDB &amp; Amazon MQ from Java Service","body":"<p>In order to be able to use documentDB and Amazon MQ you need to add both lists of certificates</p>\n<ol>\n<li>Document DB - follow the instructions here - <a href=\"https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/documentdb/latest/developerguide/connect_programmatically.html</a></li>\n<li>Add Starfield certificate, you can find the link here - <a href=\"https://www.amazontrust.com/repository/\" rel=\"nofollow noreferrer\">https://www.amazontrust.com/repository/</a></li>\n</ol>\n"}],"owner":{"account_id":7692066,"reputation":23,"user_id":5827999,"display_name":"Sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698746359,"creation_date":1622937338,"question_id":67854780,"body_markdown":"My use case is to connect amazon documentDB to read the change stream &amp; send that change stream event to amazon MQ from same service after deploying it on EKS cluster. I am able to connect with documentDB after reading the keys specified in rds-combined-ca-bundle.pem &amp; importing it into the local trust store through following entries in docker entry point:\r\n\r\n    &quot;-Djavax.net.ssl.trustStorePassword=*********&quot;,&quot;-Djavax.net.ssl.trustStore=/app/certs/truststore.jks&quot;,\r\n\r\nAfter establishing a connection with documentDB &amp; reading change stream (whenever there is insert, replace or delete in collection), I am trying to send the change stream event to amazon MQ through openwire protocol, When I am trying to create a connection with MQ as specified in Amazon MQ documents, I am getting exception\r\n\r\n&gt; Could not stablish connection with \r\nssl://X-XXXXXXX-XXX-XXX-XXX-XXXXXX-1.mq.us-east-1.amazonaws.com:61617 due to PKIX javax.net.ssl.sslhandshakeexception\r\n\r\nI know where the problem is. When I deploy my service without specifying truststore entries in docker entry point for documentDB then it connects with MQ &amp; I am able to send the mock event to MQ too but with documentDB when I specify the truststore then service also looks for certificate for MQ in truststore which is actually not required for MQ as it is managed by AWS. We don&#39;t need to specify truststore &amp; keystore with Amazon MQ.\r\n\r\nMy question is then how I can connect with Amazon documentDB &amp; Amazon MQ from same service? My requirement is to read the change stream event from documentDB &amp; send it to amazon MQ from same service. I am using a simple java service but open to convert it into spring boot if there is some concrete solution available.\r\n\r\nI tried searching for any pem file for MQ which I can use in similar way like documentDB but as I mentioned earlier that Amazon MQ is managed service for Active MQ so there is no pem file available.\r\n\r\nCan someone please suggest some solution for this?\r\n ","title":"Connect with Amazon documentDB &amp; Amazon MQ from Java Service","body":"<p>My use case is to connect amazon documentDB to read the change stream &amp; send that change stream event to amazon MQ from same service after deploying it on EKS cluster. I am able to connect with documentDB after reading the keys specified in rds-combined-ca-bundle.pem &amp; importing it into the local trust store through following entries in docker entry point:</p>\n<pre><code>&quot;-Djavax.net.ssl.trustStorePassword=*********&quot;,&quot;-Djavax.net.ssl.trustStore=/app/certs/truststore.jks&quot;,\n</code></pre>\n<p>After establishing a connection with documentDB &amp; reading change stream (whenever there is insert, replace or delete in collection), I am trying to send the change stream event to amazon MQ through openwire protocol, When I am trying to create a connection with MQ as specified in Amazon MQ documents, I am getting exception</p>\n<blockquote>\n<p>Could not stablish connection with\nssl://X-XXXXXXX-XXX-XXX-XXX-XXXXXX-1.mq.us-east-1.amazonaws.com:61617 due to PKIX javax.net.ssl.sslhandshakeexception</p>\n</blockquote>\n<p>I know where the problem is. When I deploy my service without specifying truststore entries in docker entry point for documentDB then it connects with MQ &amp; I am able to send the mock event to MQ too but with documentDB when I specify the truststore then service also looks for certificate for MQ in truststore which is actually not required for MQ as it is managed by AWS. We don't need to specify truststore &amp; keystore with Amazon MQ.</p>\n<p>My question is then how I can connect with Amazon documentDB &amp; Amazon MQ from same service? My requirement is to read the change stream event from documentDB &amp; send it to amazon MQ from same service. I am using a simple java service but open to convert it into spring boot if there is some concrete solution available.</p>\n<p>I tried searching for any pem file for MQ which I can use in similar way like documentDB but as I mentioned earlier that Amazon MQ is managed service for Active MQ so there is no pem file available.</p>\n<p>Can someone please suggest some solution for this?</p>\n"},{"tags":["java","spring-boot","directory","target","java-io"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698682439,"post_id":77390152,"comment_id":136433234,"body_markdown":"It depends on how the app is executed.  When running the app, what is the current directory?  Is the target directory available relative to that current directory?","body":"It depends on how the app is executed.  When running the app, what is the current directory?  Is the target directory available relative to that current directory?"},{"owner":{"account_id":6629323,"reputation":2067,"user_id":5118465,"accept_rate":75,"display_name":"Henning Luther"},"score":0,"creation_date":1698685032,"post_id":77390152,"comment_id":136433807,"body_markdown":"how does ur path look like, which one u tried? everything you read is from the clsspath which in mvn all is under target. the sources are not part of the cp only the compiled/copied artifacts. so check your target folder after built, if its all there u expect","body":"how does ur path look like, which one u tried? everything you read is from the clsspath which in mvn all is under target. the sources are not part of the cp only the compiled/copied artifacts. so check your target folder after built, if its all there u expect"},{"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"score":0,"creation_date":1698685546,"post_id":77390152,"comment_id":136433889,"body_markdown":"The `target` directory is where build artifacts are created when a build is run; as such, the `target` directory will not exist anywhere except the build machine.  Resource files are normally added to the `resource` directory and will be included in the jar when built.  You can then access resource files in the jar via a classloader.","body":"The <code>target</code> directory is where build artifacts are created when a build is run; as such, the <code>target</code> directory will not exist anywhere except the build machine.  Resource files are normally added to the <code>resource</code> directory and will be included in the jar when built.  You can then access resource files in the jar via a classloader."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698806818,"post_id":77390152,"comment_id":136451209,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":18182,"reputation":33673,"user_id":41423,"accept_rate":100,"display_name":"Nick Holt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698746076,"creation_date":1698746076,"answer_id":77394876,"question_id":77390152,"body_markdown":"Interpreting your question a little, it sounds like you have a resource file that you want to access at runtime and that that resource file will not change after a build.\r\n\r\nResource files should be added to the `src/main/resources`; doing so will add the resource files into the root of the jar when it is built.\r\n\r\nIf you want the resource file to be in a directory within the jar, then just create that directory structure under the resources directory.\r\n\r\nFor example, if you want the resource file to be in `some/directory`, then you would put the resource file in `src/main/resources/some/directory`.\r\n\r\nWhen you access the resource file, you do so from the classpath using either [ClassLoader.getResource(String)][1] or [ClassLoader.getResourceAsStream(String)][2].\r\n\r\nFor example, if I had a resource file called `my-resources.txt`, in `src/main/resources/some/directory`, the following would load and print this file from an `Application.class`:\r\n\r\n    public class Application\r\n    {\r\n      private static final String RESOURCE_FILE = &quot;some/directory/my-resources.txt&quot;;\r\n\r\n      public static void main(String[] args) throws IOException\r\n      {\r\n        try (\r\n          InputStream in = Application.class.getClassLoader().getResourceAsStream(RESOURCE_FILE);\r\n          BufferedReader reader = in != null ? new BufferedReader(new InputStreamReader(in)) : null;\r\n        )\r\n        {\r\n          if (in == null) throw new IllegalStateException(&quot;Failed to find: &quot; + RESOURCE_FILE);\r\n\r\n          String line;\r\n          while ((line = reader.readLine()) != null) System.out.println(line);\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResource(java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)","title":"Code from target folder in java spring-boot","body":"<p>Interpreting your question a little, it sounds like you have a resource file that you want to access at runtime and that that resource file will not change after a build.</p>\n<p>Resource files should be added to the <code>src/main/resources</code>; doing so will add the resource files into the root of the jar when it is built.</p>\n<p>If you want the resource file to be in a directory within the jar, then just create that directory structure under the resources directory.</p>\n<p>For example, if you want the resource file to be in <code>some/directory</code>, then you would put the resource file in <code>src/main/resources/some/directory</code>.</p>\n<p>When you access the resource file, you do so from the classpath using either <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader.getResource(String)</a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader.getResourceAsStream(String)</a>.</p>\n<p>For example, if I had a resource file called <code>my-resources.txt</code>, in <code>src/main/resources/some/directory</code>, the following would load and print this file from an <code>Application.class</code>:</p>\n<pre><code>public class Application\n{\n  private static final String RESOURCE_FILE = &quot;some/directory/my-resources.txt&quot;;\n\n  public static void main(String[] args) throws IOException\n  {\n    try (\n      InputStream in = Application.class.getClassLoader().getResourceAsStream(RESOURCE_FILE);\n      BufferedReader reader = in != null ? new BufferedReader(new InputStreamReader(in)) : null;\n    )\n    {\n      if (in == null) throw new IllegalStateException(&quot;Failed to find: &quot; + RESOURCE_FILE);\n\n      String line;\n      while ((line = reader.readLine()) != null) System.out.println(line);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":15696023,"reputation":1,"user_id":11325557,"display_name":"Sandeep Girolkar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698746076,"creation_date":1698681348,"question_id":77390152,"body_markdown":"I have generated a zip file in target folder using a maven-plugin, and now I aim to bring/take/read that zip file into a java class as logic need that zip for further process\r\nI tried with every possible way by providing paths to File f  = new File(path);\r\nbut everytime when I check with f.exists() or f.isFile() it gives false as most probably it is not able to find zip at that path,\r\nSo I am not clear how and what path to give and no use cases are given in SO as well\r\nCan some one help.\r\n\r\ntried with every suggested way\r\nResource and resourceLoader cannot be used as its only used when we read something from src/main/resources, used File of java.io but failed everytime\r\ncan someone explain what and how paths are given to read something from target folder in java spring boot","title":"Code from target folder in java spring-boot","body":"<p>I have generated a zip file in target folder using a maven-plugin, and now I aim to bring/take/read that zip file into a java class as logic need that zip for further process\nI tried with every possible way by providing paths to File f  = new File(path);\nbut everytime when I check with f.exists() or f.isFile() it gives false as most probably it is not able to find zip at that path,\nSo I am not clear how and what path to give and no use cases are given in SO as well\nCan some one help.</p>\n<p>tried with every suggested way\nResource and resourceLoader cannot be used as its only used when we read something from src/main/resources, used File of java.io but failed everytime\ncan someone explain what and how paths are given to read something from target folder in java spring boot</p>\n"},{"tags":["java","spring","spring-mvc","jersey","spring-jersey"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698742641,"post_id":77394380,"comment_id":136440731,"body_markdown":"Spring 6 is JakartaEE make sure you are using a compatible Jersey version and that your configuration has been changed as well. The `javax.ws.rs.Application` looks wrong and I think needs to be `jakarta.ws.rs.Application` nowaways. I would suggest finding an upgrade guide for Jersey from JavaEE to JakartaEE.","body":"Spring 6 is JakartaEE make sure you are using a compatible Jersey version and that your configuration has been changed as well. The <code>javax.ws.rs.Application</code> looks wrong and I think needs to be <code>jakarta.ws.rs.Application</code> nowaways. I would suggest finding an upgrade guide for Jersey from JavaEE to JakartaEE."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698744510,"creation_date":1698744510,"answer_id":77394715,"question_id":77394380,"body_markdown":"Spring 6 is JakartaEE based (and not JavaEE) based. As the application does start without warning/error about non found classes/incompatible classes I assume the version of Jersey used is compatible with JakartaEE. \r\n\r\n\r\nHowever your configuration still reflects the old JavaEE configuration. \r\n\r\n```\r\njerseyRegistration.setInitParameter(&quot;javax.ws.rs.Application&quot;, RestApplication.class.getName());\r\n```\r\n\r\nShould be \r\n\r\n```\r\njerseyRegistration.setInitParameter(&quot;jakarta.ws.rs.Application&quot;, RestApplication.class.getName());\r\n```\r\n\r\nThat should get you started. You also might want to checkout the [Jersey Migration Guide][1] which mentions this briefly as well as other things that have changed and might impact you. \r\n\r\n[1]: https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/migration.html","title":"Spring 6 and Jersey 3 -&gt; 404 Not Found","body":"<p>Spring 6 is JakartaEE based (and not JavaEE) based. As the application does start without warning/error about non found classes/incompatible classes I assume the version of Jersey used is compatible with JakartaEE.</p>\n<p>However your configuration still reflects the old JavaEE configuration.</p>\n<pre><code>jerseyRegistration.setInitParameter(&quot;javax.ws.rs.Application&quot;, RestApplication.class.getName());\n</code></pre>\n<p>Should be</p>\n<pre><code>jerseyRegistration.setInitParameter(&quot;jakarta.ws.rs.Application&quot;, RestApplication.class.getName());\n</code></pre>\n<p>That should get you started. You also might want to checkout the <a href=\"https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest3x/migration.html\" rel=\"nofollow noreferrer\">Jersey Migration Guide</a> which mentions this briefly as well as other things that have changed and might impact you.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77394715,"answer_count":1,"score":0,"last_activity_date":1698744510,"creation_date":1698741487,"question_id":77394380,"body_markdown":"I am migrating from Spring 5 to Spring 6.0.13 and I am having problem with Jersey 3.1.1.\r\n\r\nIn WebInitializer :\r\n\r\n    public class WebInitializer implements WebApplicationInitializer {\r\n    \r\n        @Override\r\n        public void onStartup(ServletContext servletContext) throws ServletException {\r\n    \r\n            var webApplicationContext = new AnnotationConfigWebApplicationContext();\r\n            webApplicationContext.register(this.createContextConfig());\r\n            webApplicationContext.setServletContext(servletContext);\r\n            servletContext.addListener(new ContextLoaderListener(webApplicationContext));\r\n    \r\n            var dispatcherServlet = new DispatcherServlet(webApplicationContext);\r\n            ServletRegistration.Dynamic theDispatcherServlet  =\r\n                    servletContext.addServlet(&quot;dispatcherServlet&quot;, dispatcherServlet);\r\n            theDispatcherServlet.setLoadOnStartup(1);\r\n            theDispatcherServlet.addMapping(&quot;/*&quot;);\r\n    \r\n            ServletRegistration.Dynamic jerseyRegistration = servletContext.addServlet(&quot;jerseyServlet&quot;,\r\n                    &quot;org.glassfish.jersey.servlet.ServletContainer&quot;);\r\n            jerseyRegistration.setInitParameter(&quot;javax.ws.rs.Application&quot;, RestApplication.class.getName());\r\n            jerseyRegistration.setInitParameter(&quot;jersey.config.server.provider.packages&quot;,\r\n                    JerseyGsonProvider.class.getPackageName());\r\n            jerseyRegistration.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\r\n            jerseyRegistration.addMapping(&quot;/rest/*&quot;);\r\n            jerseyRegistration.setLoadOnStartup(1);\r\n       }\r\n\r\n      ....\r\n    }\r\n\r\nRestApplication:\r\n\r\n    @ApplicationPath(&quot;rest&quot;)\r\n    public class RestApplication extends ResourceConfig {\r\n    \r\n        public RestApplication() {\r\n            registerClasses(FooResource.class);\r\n            register(new LoggingFeature(Logger.global.getLogger(&quot;JerseyLogger&quot;),\r\n                    Level.FINE, LoggingFeature.Verbosity.PAYLOAD_ANY, 8192));\r\n            System.out.println(&quot;CLASSES REGISTERED IN JERSEY&quot;);//THIS MESSAGE IS NEVER PRINTED\r\n        }\r\n    }\r\n\r\nFooResource:\r\n\r\n    @Path(&quot;/foo&quot;)\r\n    public class FooResource {\r\n    \r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        @Path(&quot;/temp&quot;)\r\n        public String temp() {\r\n            return &quot;&lt;body&gt;Hello! This is temp rest&lt;/body&gt;&quot;;\r\n        }\r\n    \r\n    }\r\n\r\nAnd when I open http://127.0.0.1:8080/rest/foo/temp I get:\r\n\r\n    HTTP ERROR 404 Not Found\r\n    URI:\t/rest/foo/temp\r\n    STATUS:\t404\r\n    MESSAGE:\tNot Found\r\n    SERVLET:\tjerseyServlet\r\n    Powered by Jetty:// 12.0.3\r\n\r\nLog:\r\n\r\n    jakarta.ws.rs.NotFoundException: HTTP 404 Not Found\r\n    \tat jersey.server@3.1.1/org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:258) [jersey-server-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:292) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:274) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:244) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.common@3.1.1/org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265) [jersey-common-3.1.1.jar:?]\r\n    \tat jersey.server@3.1.1/org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240) [jersey-server-3.1.1.jar:?]\r\n    \tat jersey.server@3.1.1/org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697) [jersey-server-3.1.1.jar:?]\r\n    \tat jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394) [jersey-container-servlet-core-3.1.1.jar:?]\r\n    \tat jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346) [jersey-container-servlet-core-3.1.1.jar:?]\r\n    \tat jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:357) [jersey-container-servlet-core-3.1.1.jar:?]\r\n    \tat jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311) [jersey-container-servlet-core-3.1.1.jar:?]\r\n    \tat jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205) [jersey-container-servlet-core-3.1.1.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1370) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHolder.handle(ServletHolder.java:736) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1609) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.websocket.servlet@12.0.3/org.eclipse.jetty.ee10.websocket.servlet.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:195) [jetty-ee10-websocket-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1581) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$MappedServlet.handle(ServletHandler.java:1542) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletChannel.dispatch(ServletChannel.java:886) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletChannel.handle(ServletChannel.java:491) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler.handle(ServletHandler.java:463) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.security@12.0.3/org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571) [jetty-security-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.SessionHandler.handle(SessionHandler.java:693) [jetty-ee10-servlet-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.handler.ContextHandler.handle(ContextHandler.java:809) [jetty-server-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.Server.handle(Server.java:179) [jetty-server-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.internal.HttpChannelState$HandlerInvoker.run(HttpChannelState.java:649) [jetty-server-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.internal.HttpConnection.onFillable(HttpConnection.java:471) [jetty-server-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:322) [jetty-io-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) [jetty-io-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) [jetty-io-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:971) [jetty-util-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1196) [jetty-util-12.0.3.jar:?]\r\n    \tat org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1151) [jetty-util-12.0.3.jar:?]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) [?:?]\r\n\r\nCould anyone say how to fix it?","title":"Spring 6 and Jersey 3 -&gt; 404 Not Found","body":"<p>I am migrating from Spring 5 to Spring 6.0.13 and I am having problem with Jersey 3.1.1.</p>\n<p>In WebInitializer :</p>\n<pre><code>public class WebInitializer implements WebApplicationInitializer {\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n\n        var webApplicationContext = new AnnotationConfigWebApplicationContext();\n        webApplicationContext.register(this.createContextConfig());\n        webApplicationContext.setServletContext(servletContext);\n        servletContext.addListener(new ContextLoaderListener(webApplicationContext));\n\n        var dispatcherServlet = new DispatcherServlet(webApplicationContext);\n        ServletRegistration.Dynamic theDispatcherServlet  =\n                servletContext.addServlet(&quot;dispatcherServlet&quot;, dispatcherServlet);\n        theDispatcherServlet.setLoadOnStartup(1);\n        theDispatcherServlet.addMapping(&quot;/*&quot;);\n\n        ServletRegistration.Dynamic jerseyRegistration = servletContext.addServlet(&quot;jerseyServlet&quot;,\n                &quot;org.glassfish.jersey.servlet.ServletContainer&quot;);\n        jerseyRegistration.setInitParameter(&quot;javax.ws.rs.Application&quot;, RestApplication.class.getName());\n        jerseyRegistration.setInitParameter(&quot;jersey.config.server.provider.packages&quot;,\n                JerseyGsonProvider.class.getPackageName());\n        jerseyRegistration.setInitParameter(&quot;jersey.config.server.wadl.disableWadl&quot;, &quot;true&quot;);\n        jerseyRegistration.addMapping(&quot;/rest/*&quot;);\n        jerseyRegistration.setLoadOnStartup(1);\n   }\n\n  ....\n}\n</code></pre>\n<p>RestApplication:</p>\n<pre><code>@ApplicationPath(&quot;rest&quot;)\npublic class RestApplication extends ResourceConfig {\n\n    public RestApplication() {\n        registerClasses(FooResource.class);\n        register(new LoggingFeature(Logger.global.getLogger(&quot;JerseyLogger&quot;),\n                Level.FINE, LoggingFeature.Verbosity.PAYLOAD_ANY, 8192));\n        System.out.println(&quot;CLASSES REGISTERED IN JERSEY&quot;);//THIS MESSAGE IS NEVER PRINTED\n    }\n}\n</code></pre>\n<p>FooResource:</p>\n<pre><code>@Path(&quot;/foo&quot;)\npublic class FooResource {\n\n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    @Path(&quot;/temp&quot;)\n    public String temp() {\n        return &quot;&lt;body&gt;Hello! This is temp rest&lt;/body&gt;&quot;;\n    }\n\n}\n</code></pre>\n<p>And when I open <a href=\"http://127.0.0.1:8080/rest/foo/temp\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/rest/foo/temp</a> I get:</p>\n<pre><code>HTTP ERROR 404 Not Found\nURI:    /rest/foo/temp\nSTATUS: 404\nMESSAGE:    Not Found\nSERVLET:    jerseyServlet\nPowered by Jetty:// 12.0.3\n</code></pre>\n<p>Log:</p>\n<pre><code>jakarta.ws.rs.NotFoundException: HTTP 404 Not Found\n    at jersey.server@3.1.1/org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:258) [jersey-server-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.internal.Errors$1.call(Errors.java:248) [jersey-common-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.internal.Errors$1.call(Errors.java:244) [jersey-common-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:292) [jersey-common-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:274) [jersey-common-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.internal.Errors.process(Errors.java:244) [jersey-common-3.1.1.jar:?]\n    at jersey.common@3.1.1/org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265) [jersey-common-3.1.1.jar:?]\n    at jersey.server@3.1.1/org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240) [jersey-server-3.1.1.jar:?]\n    at jersey.server@3.1.1/org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697) [jersey-server-3.1.1.jar:?]\n    at jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394) [jersey-container-servlet-core-3.1.1.jar:?]\n    at jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346) [jersey-container-servlet-core-3.1.1.jar:?]\n    at jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:357) [jersey-container-servlet-core-3.1.1.jar:?]\n    at jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311) [jersey-container-servlet-core-3.1.1.jar:?]\n    at jersey.container.servlet.core@3.1.1/org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205) [jersey-container-servlet-core-3.1.1.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHolder$NotAsync.service(ServletHolder.java:1370) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHolder.handle(ServletHolder.java:736) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1609) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.websocket.servlet@12.0.3/org.eclipse.jetty.ee10.websocket.servlet.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:195) [jetty-ee10-websocket-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.FilterHolder.doFilter(FilterHolder.java:205) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1581) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler$MappedServlet.handle(ServletHandler.java:1542) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletChannel.dispatch(ServletChannel.java:886) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletChannel.handle(ServletChannel.java:491) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.ServletHandler.handle(ServletHandler.java:463) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.security@12.0.3/org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:571) [jetty-security-12.0.3.jar:?]\n    at org.eclipse.jetty.ee10.servlet@12.0.3/org.eclipse.jetty.ee10.servlet.SessionHandler.handle(SessionHandler.java:693) [jetty-ee10-servlet-12.0.3.jar:?]\n    at org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.handler.ContextHandler.handle(ContextHandler.java:809) [jetty-server-12.0.3.jar:?]\n    at org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.Server.handle(Server.java:179) [jetty-server-12.0.3.jar:?]\n    at org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.internal.HttpChannelState$HandlerInvoker.run(HttpChannelState.java:649) [jetty-server-12.0.3.jar:?]\n    at org.eclipse.jetty.server@12.0.3/org.eclipse.jetty.server.internal.HttpConnection.onFillable(HttpConnection.java:471) [jetty-server-12.0.3.jar:?]\n    at org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:322) [jetty-io-12.0.3.jar:?]\n    at org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100) [jetty-io-12.0.3.jar:?]\n    at org.eclipse.jetty.io@12.0.3/org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53) [jetty-io-12.0.3.jar:?]\n    at org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:971) [jetty-util-12.0.3.jar:?]\n    at org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1196) [jetty-util-12.0.3.jar:?]\n    at org.eclipse.jetty.util@12.0.3/org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1151) [jetty-util-12.0.3.jar:?]\n    at java.base/java.lang.Thread.run(Thread.java:833) [?:?]\n</code></pre>\n<p>Could anyone say how to fix it?</p>\n"},{"tags":["java","eclipse","lombok"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":4,"creation_date":1624556863,"post_id":68117860,"comment_id":120398167,"body_markdown":"If you are using Lombok, it&#39;s probably this issue: https://twitter.com/howlger/status/1407316561803763716 (changing the JDK under preferences, does not change the Java used to run Eclipse). Or a similar issue of a plugin you have installed.","body":"If you are using Lombok, it&#39;s probably this issue: <a href=\"https://twitter.com/howlger/status/1407316561803763716\" rel=\"nofollow noreferrer\">twitter.com/howlger/status/1407316561803763716</a> (changing the JDK under preferences, does not change the Java used to run Eclipse). Or a similar issue of a plugin you have installed."}],"answers":[{"comments":[{"owner":{"account_id":228044,"reputation":408,"user_id":490108,"display_name":"anydoby"},"score":3,"creation_date":1636029826,"post_id":68134496,"comment_id":123451989,"body_markdown":"Confirming, JDK 17 also works fine.","body":"Confirming, JDK 17 also works fine."},{"owner":{"account_id":6235501,"reputation":3140,"user_id":4850949,"accept_rate":57,"display_name":"not2savvy"},"score":1,"creation_date":1642085001,"post_id":68134496,"comment_id":124982336,"body_markdown":"Had the same issue with the subversion plugin and its SVN Connector. This fixed it instantly!","body":"Had the same issue with the subversion plugin and its SVN Connector. This fixed it instantly!"},{"owner":{"account_id":2027944,"reputation":171,"user_id":1812433,"display_name":"Liu Yi"},"score":4,"creation_date":1650006778,"post_id":68134496,"comment_id":127020736,"body_markdown":"Seems some typo in the answer: --add-opens=java.base/java.lang=ALL-UNNAMED works for me.","body":"Seems some typo in the answer: --add-opens=java.base/java.lang=ALL-UNNAMED works for me."},{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":1,"creation_date":1652696988,"post_id":68134496,"comment_id":127660264,"body_markdown":"That issue had me struggling for a few days now. Thanks for your hints! setting the jvm to the jvm from sys (not the one coming with eclipse) did it.","body":"That issue had me struggling for a few days now. Thanks for your hints! setting the jvm to the jvm from sys (not the one coming with eclipse) did it."}],"tags":[],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1658103871,"creation_date":1624639429,"answer_id":68134496,"question_id":68117860,"body_markdown":"Thanks, @howlger it was Lombok plug-in when using JDK 16.\r\nThat tweet gave me the reasons: https://github.com/projectlombok/lombok/issues/2810\r\n\r\nA workaround :\r\n\r\n - Use Java 15 to start Eclipse or \r\n - add `--illegal-access=warn` and `--add-opens=java.base/java.lang=ALL-UNNAMED` to your eclipse.ini\r\n- or install a pre-built version (1.18.21)\r\n\r\nIn my situation I had to change eclipse.ini VM path:\r\n\r\n    -vm\r\n    C:\\bin\\jdk-15.0.2\\bin\r\n\r\n","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Thanks, @howlger it was Lombok plug-in when using JDK 16.\nThat tweet gave me the reasons: <a href=\"https://github.com/projectlombok/lombok/issues/2810\" rel=\"noreferrer\">https://github.com/projectlombok/lombok/issues/2810</a></p>\n<p>A workaround :</p>\n<ul>\n<li>Use Java 15 to start Eclipse or</li>\n<li>add <code>--illegal-access=warn</code> and <code>--add-opens=java.base/java.lang=ALL-UNNAMED</code> to your eclipse.ini</li>\n<li>or install a pre-built version (1.18.21)</li>\n</ul>\n<p>In my situation I had to change eclipse.ini VM path:</p>\n<pre><code>-vm\nC:\\bin\\jdk-15.0.2\\bin\n</code></pre>\n"},{"comments":[{"owner":{"account_id":339506,"reputation":155,"user_id":669023,"accept_rate":25,"display_name":"WarpEnterprises"},"score":0,"creation_date":1634224186,"post_id":68843983,"comment_id":122972952,"body_markdown":"There are some duplicate lines:  \n\n`--add-modules=ALL-SYSTEM`\n`-XstartOnFirstThread`\n`-Dorg.eclipse.swt.internal.carbon.smallFonts`\n`-Dosgi.requiredJavaVersion=11`\n\nI suppose this is not on purpose?","body":"There are some duplicate lines:    <code>--add-modules=ALL-SYSTEM</code> <code>-XstartOnFirstThread</code> <code>-Dorg.eclipse.swt.internal.carbon.smallFonts</code> <code>-Dosgi.requiredJavaVersion=11</code>  I suppose this is not on purpose?"}],"tags":[],"owner":{"account_id":1109015,"reputation":1359,"user_id":1099819,"accept_rate":75,"display_name":"Mirko Ebert"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634588492,"creation_date":1629359674,"answer_id":68843983,"question_id":68117860,"body_markdown":"An easy way is to change the Java Version used to run Eclipse. There for you have to change the **eclipse.ini**. \r\n\r\n 1. Set the vm location at the **start** of the file to a prior Java 16 JDK e.g. JDK 14\r\n 2. Under MacOSX eclipse.ini is typically located in  /Applications/Eclipse.app/Contents/Eclipse/\r\n 3. The reason is an incompatibility of the lombock plugin\r\n\r\n\r\n----------\r\nThis a working example of the **eclipse.ini** file:\r\n\r\n\r\n    -vm\r\n    /Library/Java/JavaVirtualMachines/jdk-14.0.2.jdk/Contents/Home/bin/java\r\n    -startup\r\n    ../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.200.v20210416-2027.jar\r\n    --launcher.library\r\n    ../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.200.v20210527-0259\r\n    -product\r\n    org.eclipse.epp.package.java.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vmargs\r\n    -javaagent:/Applications/Eclipse.app/Contents/Eclipse/lombok.jar\r\n    -Dosgi.requiredJavaVersion=11\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -Dsun.java.command=Eclipse\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dorg.eclipse.swt.internal.carbon.smallFonts\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n    -Xms256m\r\n    -Xmx2048m\r\n    -Xdock:icon=../Resources/Eclipse.icns\r\n    -XstartOnFirstThread\r\n","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>An easy way is to change the Java Version used to run Eclipse. There for you have to change the <strong>eclipse.ini</strong>.</p>\n<ol>\n<li>Set the vm location at the <strong>start</strong> of the file to a prior Java 16 JDK e.g. JDK 14</li>\n<li>Under MacOSX eclipse.ini is typically located in  /Applications/Eclipse.app/Contents/Eclipse/</li>\n<li>The reason is an incompatibility of the lombock plugin</li>\n</ol>\n<hr />\n<p>This a working example of the <strong>eclipse.ini</strong> file:</p>\n<pre><code>-vm\n/Library/Java/JavaVirtualMachines/jdk-14.0.2.jdk/Contents/Home/bin/java\n-startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.6.200.v20210416-2027.jar\n--launcher.library\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.2.200.v20210527-0259\n-product\norg.eclipse.epp.package.java.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vmargs\n-javaagent:/Applications/Eclipse.app/Contents/Eclipse/lombok.jar\n-Dosgi.requiredJavaVersion=11\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms256m\n-Xmx2048m\n-Xdock:icon=../Resources/Eclipse.icns\n-XstartOnFirstThread\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1639984109,"post_id":70418244,"comment_id":124478084,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/70418244/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1641767052,"post_id":70418244,"comment_id":124886385,"body_markdown":"thanks, this fixed it for me on eclipse 2021-12/4.22 with java 17","body":"thanks, this fixed it for me on eclipse 2021-12/4.22 with java 17"},{"owner":{"account_id":3156367,"reputation":520,"user_id":2668689,"accept_rate":67,"display_name":"Digao"},"score":3,"creation_date":1654889995,"post_id":70418244,"comment_id":128208820,"body_markdown":"no luck here using lombok 1.18.24","body":"no luck here using lombok 1.18.24"},{"owner":{"account_id":8866868,"reputation":280,"user_id":6621774,"accept_rate":60,"display_name":"Harry Developer"},"score":0,"creation_date":1667554728,"post_id":70418244,"comment_id":131198442,"body_markdown":"I&#39;m using 1.18.24 as well. As noted above, `--add-opens=java.base/java.lang=ALL-UNNAMED` did the trick.","body":"I&#39;m using 1.18.24 as well. As noted above, <code>--add-opens=java.base&#47;java.lang=ALL-UNNAMED</code> did the trick."}],"tags":[],"owner":{"account_id":23087189,"reputation":31,"user_id":17198551,"display_name":"Jobin John"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639982834,"creation_date":1639982834,"answer_id":70418244,"question_id":68117860,"body_markdown":"Latest version of lombok 1.18.22 has fixed this issue. Install this version of lombok into your eclipse. Then this issue will get resolved.","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Latest version of lombok 1.18.22 has fixed this issue. Install this version of lombok into your eclipse. Then this issue will get resolved.</p>\n"},{"tags":[],"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659416263,"creation_date":1659416263,"answer_id":73202159,"question_id":68117860,"body_markdown":"Changing the SpringToolSuite4.ini as below:\r\n\r\n    -vm\r\n    C:\\Users\\my-id-here\\softwares\\openjdk-11.0.2\\jdk-11.0.2\\bin\r\n\r\nand replacing the lombok.jar with the latest download. It worked!","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Changing the SpringToolSuite4.ini as below:</p>\n<pre><code>-vm\nC:\\Users\\my-id-here\\softwares\\openjdk-11.0.2\\jdk-11.0.2\\bin\n</code></pre>\n<p>and replacing the lombok.jar with the latest download. It worked!</p>\n"},{"tags":[],"owner":{"account_id":27714646,"reputation":21,"user_id":21156637,"display_name":"Tom Van Eetvelde"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675676123,"creation_date":1675675894,"answer_id":75359499,"question_id":68117860,"body_markdown":"I had the same issue. I was using org.mockito.mockito-all as a test dependency in my project&#39;s pom. Moving to org.mockito.mockito-core as dependency resolved the issue.\r\nReflection is no longer supported in JDK 17, so mockito-all (using reflection) is deprecated.","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>I had the same issue. I was using org.mockito.mockito-all as a test dependency in my project's pom. Moving to org.mockito.mockito-core as dependency resolved the issue.\nReflection is no longer supported in JDK 17, so mockito-all (using reflection) is deprecated.</p>\n"},{"tags":[],"owner":{"account_id":8803777,"reputation":2955,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698743956,"creation_date":1681629727,"answer_id":76026393,"question_id":68117860,"body_markdown":"If you are starting your application from cmd (command prompt) and via the below command.\r\n\r\n    java -jar myapplication.jar \r\n\r\nand getting this error. Then add the below in your command.\r\n\r\n    -Dsun.misc.URLClassPath.disableJarChecking=true --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED\r\n\r\nYour command will look like this.\r\n\r\n    java -Dsun.misc.URLClassPath.disableJarChecking=true --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED -jar myapplication.jar\r\n\r\nNow you will not get this error.","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>If you are starting your application from cmd (command prompt) and via the below command.</p>\n<pre><code>java -jar myapplication.jar \n</code></pre>\n<p>and getting this error. Then add the below in your command.</p>\n<pre><code>-Dsun.misc.URLClassPath.disableJarChecking=true --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED\n</code></pre>\n<p>Your command will look like this.</p>\n<pre><code>java -Dsun.misc.URLClassPath.disableJarChecking=true --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED -jar myapplication.jar\n</code></pre>\n<p>Now you will not get this error.</p>\n"}],"owner":{"account_id":1511115,"reputation":2926,"user_id":1413222,"display_name":"devwebcl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77259,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"answer_count":6,"score":29,"last_activity_date":1698743956,"creation_date":1624545452,"question_id":68117860,"body_markdown":"Upgrading to the last Eclipse version, now I am getting the following error:\r\n\r\n    Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5d01b0d8\r\n\r\nI tried changing JDK under preferences with no luck.","title":"Eclipse 2021-06: ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module","body":"<p>Upgrading to the last Eclipse version, now I am getting the following error:</p>\n<pre><code>Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @5d01b0d8\n</code></pre>\n<p>I tried changing JDK under preferences with no luck.</p>\n"},{"tags":["java","opengl","libgdx","lwjgl"],"comments":[{"owner":{"account_id":16428083,"reputation":5071,"user_id":11867590,"display_name":"Erdal K&#252;&#231;&#252;k"},"score":1,"creation_date":1698726853,"post_id":77391013,"comment_id":136438689,"body_markdown":"Is [glGetString](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glGetString.xhtml) with parameters `GL_VENDOR` and `GL_RENDERER` what you&#39;re looking for?","body":"Is <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glGetString.xhtml\" rel=\"nofollow noreferrer\">glGetString</a> with parameters <code>GL_VENDOR</code> and <code>GL_RENDERER</code> what you&#39;re looking for?"}],"answers":[{"tags":[],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698743514,"creation_date":1698743514,"answer_id":77394603,"question_id":77391013,"body_markdown":"Thanks to Erdal K&#252;&#231;&#252;k&#39;s comment I found the solution for libGDX:\r\n\r\n    import com.badlogic.gdx.graphics.GL20;\r\n    \r\n    Gdx.graphics.getGL20().glGetString(GL20.GL_VENDOR);\r\n    Gdx.graphics.getGL20().glGetString(GL20.GL_RENDERER);\r\n\r\nSee https://registry.khronos.org/OpenGL-Refpages/gl4/html/glGetString.xhtml","title":"How to find out whch graphcs card my libgdx/lwjgl game is running on?","body":"<p>Thanks to Erdal Küçük's comment I found the solution for libGDX:</p>\n<pre><code>import com.badlogic.gdx.graphics.GL20;\n\nGdx.graphics.getGL20().glGetString(GL20.GL_VENDOR);\nGdx.graphics.getGL20().glGetString(GL20.GL_RENDERER);\n</code></pre>\n<p>See <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glGetString.xhtml\" rel=\"nofollow noreferrer\">https://registry.khronos.org/OpenGL-Refpages/gl4/html/glGetString.xhtml</a></p>\n"}],"owner":{"account_id":3273973,"reputation":5801,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698743514,"creation_date":1698690130,"question_id":77391013,"body_markdown":"Using an laptop that has multiple graphics cards, I wonder which one is being used by my libGDX / LWJGL game. How can I find out? Are there any built-in functions?\r\n\r\nThere seem to be some information providing methods in `com.badlogic.gdx.Gdx.graphics` but so far I only got stuff like the display resolution and GL version etc.","title":"How to find out whch graphcs card my libgdx/lwjgl game is running on?","body":"<p>Using an laptop that has multiple graphics cards, I wonder which one is being used by my libGDX / LWJGL game. How can I find out? Are there any built-in functions?</p>\n<p>There seem to be some information providing methods in <code>com.badlogic.gdx.Gdx.graphics</code> but so far I only got stuff like the display resolution and GL version etc.</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685966001,"post_id":76406088,"comment_id":134729991,"body_markdown":"Most likely, your client library version is not in line with your ES server version.","body":"Most likely, your client library version is not in line with your ES server version."},{"owner":{"account_id":21381153,"reputation":1,"user_id":15747051,"display_name":"Sajid Ta"},"score":0,"creation_date":1685968487,"post_id":76406088,"comment_id":134730535,"body_markdown":"Elasticsearch has lucene version 9.4.2 also added the same dependency in the pom.xml, but giving same error but different version now LUCENE_7_0_0 Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_7_0_0","body":"Elasticsearch has lucene version 9.4.2 also added the same dependency in the pom.xml, but giving same error but different version now LUCENE_7_0_0 Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_7_0_0"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1685968552,"post_id":76406088,"comment_id":134730544,"body_markdown":"I&#39;m talking about the Elasticsearch versions, client and server","body":"I&#39;m talking about the Elasticsearch versions, client and server"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1698743532,"post_id":76406088,"comment_id":136440910,"body_markdown":"Errors like this generally indicate you have incompatible versions of dependencies on your classpath.","body":"Errors like this generally indicate you have incompatible versions of dependencies on your classpath."}],"owner":{"account_id":21381153,"reputation":1,"user_id":15747051,"display_name":"Sajid Ta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698743563,"answer_count":0,"score":0,"last_activity_date":1698743514,"creation_date":1685965552,"question_id":76406088,"body_markdown":"I am trying to get response from Elasticsearch. However when we have hits I am getting error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_8_6_2\r\n\r\nHow to handle this?\r\n\r\nThe method is as below\r\n\r\n```java\r\npublic static string elsasticconnect(String indexname,String query)\r\n{\r\n     CredentialsProvider Provider1 = new BasicCredentialsProvider();\r\n     Provider1.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials(&quot;xxx&quot;, &quot;yyyy&quot;));\r\n\r\n     RestHighLevelClient client = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;xxxx&quot;, 9200, &quot;http&quot;)).setHttpClientConfigCallback(httpClientBuilder -&gt;                          httpClientBuilder.setDefaultCredentialsProvider(csProvider1)));\r\n           \r\n     QueryBuilder qb = QueryBuilders.wrapperQuery(query);\r\n     SearchSourceBuilder Builder1 = new SearchSourceBuilder();\r\n     Builder1.query(qb);\r\n     SearchRequest searchRequest = new SearchRequest(indexname);\r\n     searchRequest.source(Builder1);\r\n     SearchResponse scrollResp1 = client.search(searchRequest, RequestOptions.DEFAULT);\r\n     System.out.println(scrollResp1);\r\n     return scrollResp1.toString();\r\n}\r\n```\r\n\r\nI am getting error when there is documents returning from Elasticsearch. How to handle this?","title":"Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_8_6_2","body":"<p>I am trying to get response from Elasticsearch. However when we have hits I am getting error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: LUCENE_8_6_2</p>\n</blockquote>\n<p>How to handle this?</p>\n<p>The method is as below</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static string elsasticconnect(String indexname,String query)\n{\n     CredentialsProvider Provider1 = new BasicCredentialsProvider();\n     Provider1.setCredentials(AuthScope.ANY,new UsernamePasswordCredentials(&quot;xxx&quot;, &quot;yyyy&quot;));\n\n     RestHighLevelClient client = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;xxxx&quot;, 9200, &quot;http&quot;)).setHttpClientConfigCallback(httpClientBuilder -&gt;                          httpClientBuilder.setDefaultCredentialsProvider(csProvider1)));\n           \n     QueryBuilder qb = QueryBuilders.wrapperQuery(query);\n     SearchSourceBuilder Builder1 = new SearchSourceBuilder();\n     Builder1.query(qb);\n     SearchRequest searchRequest = new SearchRequest(indexname);\n     searchRequest.source(Builder1);\n     SearchResponse scrollResp1 = client.search(searchRequest, RequestOptions.DEFAULT);\n     System.out.println(scrollResp1);\n     return scrollResp1.toString();\n}\n</code></pre>\n<p>I am getting error when there is documents returning from Elasticsearch. How to handle this?</p>\n"},{"tags":["java","spring","maven","spring-boot"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1519205259,"post_id":48900700,"comment_id":84809734,"body_markdown":"Can you try if removing the dependency plugin execution fixes the issue?","body":"Can you try if removing the dependency plugin execution fixes the issue?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1519223127,"post_id":48900700,"comment_id":84822409,"body_markdown":"You are mixing different Spring Boot version just use a single version ...best is to let Spring Boot decide which version of libs you are using...Spring Boot 1.5.X uses Spring 4.X and not 5.X if you like to use Spring 5.X you have to use Spring Boot 2.X...","body":"You are mixing different Spring Boot version just use a single version ...best is to let Spring Boot decide which version of libs you are using...Spring Boot 1.5.X uses Spring 4.X and not 5.X if you like to use Spring 5.X you have to use Spring Boot 2.X..."}],"answers":[{"tags":[],"owner":{"account_id":2731132,"reputation":1212,"user_id":2354908,"accept_rate":45,"display_name":"Betafish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519278714,"creation_date":1519278714,"answer_id":48920507,"question_id":48900700,"body_markdown":"While the problem did not completely disappear, what solved the problem for **now** is by using the answer from [SO][1]\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;classifier&gt;boot&lt;/classifier&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIt now creates an additional *.jar file (ABC-boot.jar). \r\n\r\n  [1]: https://stackoverflow.com/questions/26101652/maven-package-error-an-attached-artifact-must-have-a-different-id-than-its-corr?rq=1","title":"Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: Unable to rename","body":"<p>While the problem did not completely disappear, what solved the problem for <strong>now</strong> is by using the answer from <a href=\"https://stackoverflow.com/questions/26101652/maven-package-error-an-attached-artifact-must-have-a-different-id-than-its-corr?rq=1\">SO</a></p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;classifier&gt;boot&lt;/classifier&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>It now creates an additional *.jar file (ABC-boot.jar). </p>\n"},{"tags":[],"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590501564,"creation_date":1590501564,"answer_id":62023869,"question_id":48900700,"body_markdown":"**TL;DR: check for special characters in the Jar name** \r\n\r\nIn my case, the problem was related to these lines in the pom.xml:\r\n\r\n    &lt;version&gt;1.0.0-${maven.build.timestamp}&lt;/version&gt;\r\n    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH:mm&lt;/maven.build.timestamp.format&gt;\r\n\r\nInterestingly, this is OS specific - I got the same error as the asker when doing a `mvn clean install`. It worked on Linux.\r\n","title":"Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: Unable to rename","body":"<p><strong>TL;DR: check for special characters in the Jar name</strong> </p>\n\n<p>In my case, the problem was related to these lines in the pom.xml:</p>\n\n<pre><code>&lt;version&gt;1.0.0-${maven.build.timestamp}&lt;/version&gt;\n&lt;maven.build.timestamp.format&gt;yyyy-MM-dd-HH:mm&lt;/maven.build.timestamp.format&gt;\n</code></pre>\n\n<p>Interestingly, this is OS specific - I got the same error as the asker when doing a <code>mvn clean install</code>. It worked on Linux.</p>\n"}],"owner":{"account_id":2731132,"reputation":1212,"user_id":2354908,"accept_rate":45,"display_name":"Betafish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8763,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1698743235,"creation_date":1519199739,"question_id":48900700,"body_markdown":"I am trying to build a JAR file out of a spring project. When I try to do a maven install, it throws me the following error\r\n\r\n\r\n    Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage (default) on project ABC: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: Unable to rename &#39;ABC-0.0.1-SNAPSHOT.jar&#39; to &#39;ABC-0.0.1-SNAPSHOT.jar.original&#39; -&gt;\r\n\r\n\r\nThe &#39;pom&#39; file is as shown below \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;ABC&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ABC&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-configuration2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;!--$NO-MVN-MAN-VER$--&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nThe build part of the pom file is as shown below \r\n\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Set a compiler level --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3&lt;/version&gt;\r\n                    &lt;!--$NO-MVN-MAN-VER$--&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                        &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- For Generating the Jar File --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;single&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;mainClass&gt;ABCapp&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                        &lt;descriptorRefs&gt;\r\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                        &lt;/descriptorRefs&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;!-- Generating jar file which has Spring boot application --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;fork&gt;true&lt;/fork&gt;\r\n                        &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\r\n                        &lt;layout&gt;JAR&lt;/layout&gt;\r\n                        &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;   \r\n\r\nI tried to look in SO and other forums for a possible solution. But none of them worked. Any pointers as to where the problem might be ?","title":"Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: Unable to rename","body":"<p>I am trying to build a JAR file out of a spring project. When I try to do a maven install, it throws me the following error</p>\n\n<pre><code>Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage (default) on project ABC: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:1.4.0.RELEASE:repackage failed: Unable to rename 'ABC-0.0.1-SNAPSHOT.jar' to 'ABC-0.0.1-SNAPSHOT.jar.original' -&gt;\n</code></pre>\n\n<p>The 'pom' file is as shown below </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;ABC&lt;/groupId&gt;\n    &lt;artifactId&gt;ABC&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-configuration2&lt;/artifactId&gt;\n            &lt;version&gt;2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;5.0.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;!--$NO-MVN-MAN-VER$--&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n\n<p>The build part of the pom file is as shown below </p>\n\n<pre><code>    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;!-- Set a compiler level --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3&lt;/version&gt;\n                &lt;!--$NO-MVN-MAN-VER$--&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- For Generating the Jar File --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;ABCapp&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Generating jar file which has Spring boot application --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;mainClass&gt;${start-class}&lt;/mainClass&gt;\n                    &lt;layout&gt;JAR&lt;/layout&gt;\n                    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;   \n</code></pre>\n\n<p>I tried to look in SO and other forums for a possible solution. But none of them worked. Any pointers as to where the problem might be ?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":0,"creation_date":1473814227,"post_id":39480959,"comment_id":66280948,"body_markdown":"did you get any error/exception","body":"did you get any error/exception"},{"owner":{"account_id":1298599,"reputation":7759,"user_id":1248974,"display_name":"chickity china chinese chicken"},"score":0,"creation_date":1473815985,"post_id":39480959,"comment_id":66281316,"body_markdown":"IIRC, Neon installs and launches differently than previous Eclipse versions. Did you complete the installation steps listed here (click on the `Find out more` link): http://www.eclipse.org/downloads/eclipse-packages/? Specifically, did you get to [Step 5. Launch Eclipse)? It should allow you to assign the location where the launcher gets installed. If so, can you find that launcher location, open up a `command prompt` there, and run `eclipse`. If you get that far, what happens when you run it from the `cmd` prompt?","body":"IIRC, Neon installs and launches differently than previous Eclipse versions. Did you complete the installation steps listed here (click on the <code>Find out more</code> link): <a href=\"http://www.eclipse.org/downloads/eclipse-packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/eclipse-packages</a>? Specifically, did you get to [Step 5. Launch Eclipse)? It should allow you to assign the location where the launcher gets installed. If so, can you find that launcher location, open up a <code>command prompt</code> there, and run <code>eclipse</code>. If you get that far, what happens when you run it from the <code>cmd</code> prompt?"},{"owner":{"account_id":9186896,"reputation":21,"user_id":6828733,"display_name":"Mr.Q"},"score":0,"creation_date":1473816593,"post_id":39480959,"comment_id":66281441,"body_markdown":"Im stuck in step 2 of the instalation guide.After i click in &quot;run&quot; in the security warning window nothing happens","body":"Im stuck in step 2 of the instalation guide.After i click in &quot;run&quot; in the security warning window nothing happens"},{"owner":{"account_id":2824905,"reputation":3525,"user_id":2427750,"display_name":"Mickael"},"score":0,"creation_date":1473847994,"post_id":39480959,"comment_id":66293619,"body_markdown":"Did you try to run it from command-line? Maybe the log would tell you more. My first guess is that it could be an issue with your Java installation.","body":"Did you try to run it from command-line? Maybe the log would tell you more. My first guess is that it could be an issue with your Java installation."},{"owner":{"account_id":9186896,"reputation":21,"user_id":6828733,"display_name":"Mr.Q"},"score":0,"creation_date":1473860322,"post_id":39480959,"comment_id":66301340,"body_markdown":"I ran it from the command-line and got the same results no error message appear and nothing happens either.                                                                                       I dont know if is there an issue with my java instalation because I could perfectly use previous versions of eclipse.                                                                          Do i have to erase all old versions of eclipse from my pc before installing neon?","body":"I ran it from the command-line and got the same results no error message appear and nothing happens either.                                                                                       I dont know if is there an issue with my java instalation because I could perfectly use previous versions of eclipse.                                                                          Do i have to erase all old versions of eclipse from my pc before installing neon?"},{"owner":{"account_id":9186896,"reputation":21,"user_id":6828733,"display_name":"Mr.Q"},"score":1,"creation_date":1474500643,"post_id":39480959,"comment_id":66561481,"body_markdown":"I&#39;ve reinstalled java and jdk but i get no results,help please","body":"I&#39;ve reinstalled java and jdk but i get no results,help please"},{"owner":{"account_id":7745810,"reputation":355,"user_id":5863641,"display_name":"nano dev"},"score":0,"creation_date":1615441823,"post_id":39480959,"comment_id":117693096,"body_markdown":"Might be the issue in installation, &gt;&gt; Select Another Mirror.. make sure you are using mirror which close to your location and try again.","body":"Might be the issue in installation, &gt;&gt; Select Another Mirror.. make sure you are using mirror which close to your location and try again."}],"answers":[{"tags":[],"owner":{"account_id":6104392,"reputation":301,"user_id":4762451,"display_name":"Michael Popovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484812977,"creation_date":1484812977,"answer_id":41736667,"question_id":39480959,"body_markdown":"1) create System variable:\r\nJAVA_HOME   -&gt; C:\\Program Files\\Java\\jdk1.8.0_66\\;C:\\Program Files\\Java\\jre1.8.0_66\\;C:\\Program Files (x86)\\Java\\jdk1.8.0_66\\;C:\\Program Files (x86)\\Java\\jre1.8.0_66\\\r\n\r\n2) add to PATH  -&gt; C:\\Program Files\\Java\\jdk1.8.0_66\\bin\\;C:\\ProgramData\\Oracle\\Java\\javapath;\r\n","title":"Installing eclipse neon on windows 10","body":"<p>1) create System variable:\nJAVA_HOME   -> C:\\Program Files\\Java\\jdk1.8.0_66\\;C:\\Program Files\\Java\\jre1.8.0_66\\;C:\\Program Files (x86)\\Java\\jdk1.8.0_66\\;C:\\Program Files (x86)\\Java\\jre1.8.0_66\\</p>\n\n<p>2) add to PATH  -> C:\\Program Files\\Java\\jdk1.8.0_66\\bin\\;C:\\ProgramData\\Oracle\\Java\\javapath;</p>\n"},{"tags":[],"owner":{"account_id":11687674,"reputation":41,"user_id":8556879,"display_name":"Naga Tirumalasetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506964991,"creation_date":1506964991,"answer_id":46530525,"question_id":39480959,"body_markdown":"It might be one of the reason that you are running two versions of JDKs, please check your JDK compatible version for Windows 10 - 64 bit. \r\n\r\nplease check the Java version first ...\r\n\r\nfrom command prompt: **java -version**, you should see current java version running on your system like below :\r\n\r\n***C:\\Users\\xxxxx&gt;java -version  \r\njava version &quot;1.8.0_121&quot;  \r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)  \r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)***\r\n\r\n\r\nif you could see the above msg, then check your java - system variable set to :\r\n\r\n**JAVA_HOME**: C:\\Program Files\\Java\\jdk1.8.0_121  \r\n**PATH** : C:\\Program Files\\Java\\jdk1.8.0_121\\bin\r\n\r\n\r\n\r\n","title":"Installing eclipse neon on windows 10","body":"<p>It might be one of the reason that you are running two versions of JDKs, please check your JDK compatible version for Windows 10 - 64 bit. </p>\n\n<p>please check the Java version first ...</p>\n\n<p>from command prompt: <strong>java -version</strong>, you should see current java version running on your system like below :</p>\n\n<p><strong><em>C:\\Users\\xxxxx>java -version<br>\njava version \"1.8.0_121\"<br>\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)<br>\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)</em></strong></p>\n\n<p>if you could see the above msg, then check your java - system variable set to :</p>\n\n<p><strong>JAVA_HOME</strong>: C:\\Program Files\\Java\\jdk1.8.0_121<br>\n<strong>PATH</strong> : C:\\Program Files\\Java\\jdk1.8.0_121\\bin</p>\n"},{"tags":[],"owner":{"display_name":"user8654079"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506965556,"creation_date":1506965556,"answer_id":46530660,"question_id":39480959,"body_markdown":"Try Eclipse **Oxygen** (newer than Neon). I had problems with the installer that the Eclipse team recommends, so I downloaded and extracted the zip file under &quot;**Eclipse IDE for Java EE Developers**&quot; / &quot;64 bit&quot; on \r\nhttp://www.eclipse.org/downloads/eclipse-packages/ (direct link: http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1/eclipse-jee-oxygen-1-win32-x86_64.zip)\r\n\r\nThen reference your Java version in the eclipse.ini file. Search for\r\n\r\n    -vm\r\n    C:\\Java\\JDK\\1.8\\bin\\javaw.exe\r\n\r\non https://wiki.eclipse.org/Eclipse.ini for details.","title":"Installing eclipse neon on windows 10","body":"<p>Try Eclipse <strong>Oxygen</strong> (newer than Neon). I had problems with the installer that the Eclipse team recommends, so I downloaded and extracted the zip file under \"<strong>Eclipse IDE for Java EE Developers</strong>\" / \"64 bit\" on \n<a href=\"http://www.eclipse.org/downloads/eclipse-packages/\" rel=\"nofollow noreferrer\">http://www.eclipse.org/downloads/eclipse-packages/</a> (direct link: <a href=\"http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1/eclipse-jee-oxygen-1-win32-x86_64.zip\" rel=\"nofollow noreferrer\">http://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/oxygen/1/eclipse-jee-oxygen-1-win32-x86_64.zip</a>)</p>\n\n<p>Then reference your Java version in the eclipse.ini file. Search for</p>\n\n<pre><code>-vm\nC:\\Java\\JDK\\1.8\\bin\\javaw.exe\n</code></pre>\n\n<p>on <a href=\"https://wiki.eclipse.org/Eclipse.ini\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse.ini</a> for details.</p>\n"}],"owner":{"account_id":9186896,"reputation":21,"user_id":6828733,"display_name":"Mr.Q"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8336,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1698743235,"creation_date":1473814146,"question_id":39480959,"body_markdown":"I&#39;ve been trying to install eclipse neon on my pc which has windows 10 64 bits.I downloaded the exe file from the oficial page:(https://www.eclipse.org/downloads/download.php?file=/oomph/epp/neon/R/eclipse-inst-win64.exe) but it wont run i dont know why.\r\n\r\nI have java and jdk up to date but still cant make it run.\r\n\r\nThanks in advance","title":"Installing eclipse neon on windows 10","body":"<p>I've been trying to install eclipse neon on my pc which has windows 10 64 bits.I downloaded the exe file from the oficial page:(<a href=\"https://www.eclipse.org/downloads/download.php?file=/oomph/epp/neon/R/eclipse-inst-win64.exe\" rel=\"nofollow\">https://www.eclipse.org/downloads/download.php?file=/oomph/epp/neon/R/eclipse-inst-win64.exe</a>) but it wont run i dont know why.</p>\n\n<p>I have java and jdk up to date but still cant make it run.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":1,"creation_date":1568967862,"post_id":58024537,"comment_id":102451582,"body_markdown":"In the logs: &quot;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtTokenProvider&#39; defined in file [/Applications/Data/RT/20190815_source_prod/2_etn_backend/target/classes/com/kn/config/JwtTokenProvider.class]: Instantiation of bean failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement&quot;","body":"In the logs: &quot;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtTokenProvider&#39; defined in file [/Applications/Data/RT/20190815_source_prod/2_etn_backend/ta&zwnj;&#8203;rget/classes/com/kn/&zwnj;&#8203;config/JwtTokenProvi&zwnj;&#8203;der.class]: Instantiation of bean failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement&quot;"},{"owner":{"account_id":4423810,"reputation":11618,"user_id":3602846,"accept_rate":71,"display_name":"Dhanu K"},"score":0,"creation_date":1568967982,"post_id":58024537,"comment_id":102451639,"body_markdown":"what should I have to do for this?","body":"what should I have to do for this?"},{"owner":{"account_id":7156868,"reputation":1553,"user_id":5468990,"accept_rate":80,"display_name":"dj_frunza"},"score":0,"creation_date":1568968073,"post_id":58024537,"comment_id":102451685,"body_markdown":"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java","body":"<a href=\"https://stackoverflow.com/questions/34413/why-am-i-getting-a-noclassdeffounderror-in-java\" title=\"why am i getting a noclassdeffounderror in java\">stackoverflow.com/questions/34413/&hellip;</a>"},{"owner":{"account_id":4423810,"reputation":11618,"user_id":3602846,"accept_rate":71,"display_name":"Dhanu K"},"score":0,"creation_date":1568968155,"post_id":58024537,"comment_id":102451722,"body_markdown":"I have that java file, in my codebase","body":"I have that java file, in my codebase"},{"owner":{"account_id":1595791,"reputation":2097,"user_id":1477949,"accept_rate":40,"display_name":"Sachin"},"score":1,"creation_date":1568969043,"post_id":58024537,"comment_id":102452101,"body_markdown":"What java version are you using ?","body":"What java version are you using ?"},{"owner":{"account_id":4423810,"reputation":11618,"user_id":3602846,"accept_rate":71,"display_name":"Dhanu K"},"score":0,"creation_date":1568969486,"post_id":58024537,"comment_id":102452330,"body_markdown":"@Sachin my Java version is 10.0.2","body":"@Sachin my Java version is 10.0.2"}],"answers":[{"comments":[{"owner":{"account_id":1595791,"reputation":2097,"user_id":1477949,"accept_rate":40,"display_name":"Sachin"},"score":1,"creation_date":1568969793,"post_id":58024999,"comment_id":102452502,"body_markdown":"Just an additional note, In Java 9 the module was deprecated for removal (https://docs.oracle.com/javase/9/docs/api/java.xml.bind-summary.html) and was removed completely in Java 11. I guess we could use the flag --add-modules=java.xml.bind can be used in In Java 9 and Java 10 to resolve. But the ideal way is to add the dependency as you have mentioned","body":"Just an additional note, In Java 9 the module was deprecated for removal (<a href=\"https://docs.oracle.com/javase/9/docs/api/java.xml.bind-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java.xml.bind-summary.htm&zwnj;&#8203;l</a>) and was removed completely in Java 11. I guess we could use the flag --add-modules=java.xml.bind can be used in In Java 9 and Java 10 to resolve. But the ideal way is to add the dependency as you have mentioned"},{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1568969975,"post_id":58024999,"comment_id":102452585,"body_markdown":"you are correct, this is also described in the linked answer. But it is not a future prove solution, that&#39;s why I omitted it.","body":"you are correct, this is also described in the linked answer. But it is not a future prove solution, that&#39;s why I omitted it."},{"owner":{"account_id":4423810,"reputation":11618,"user_id":3602846,"accept_rate":71,"display_name":"Dhanu K"},"score":0,"creation_date":1568970017,"post_id":58024999,"comment_id":102452605,"body_markdown":"I am using maven, so I have added mentioned dependencies in maven, surprisingly it works, Thanks @Simulant","body":"I am using maven, so I have added mentioned dependencies in maven, surprisingly it works, Thanks @Simulant"}],"tags":[],"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1568970085,"creation_date":1568969504,"answer_id":58024999,"question_id":58024537,"body_markdown":"The nested exception is `java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement`\r\n\r\nthe Question is answered here: https://stackoverflow.com/q/43574426/1515052\r\n\r\nin short: The required Dependency was removed from the JDK with the release of Java 9. If you start your application with a Java 8 JDK the dependency is provided and your application works. If you start your application with a Java 9 JDK or higher the dependency is no longer present and it fails to start.\r\n\r\nThe right solution to fix it would be to add the required dependencies to your project:\r\n\r\n    dependencies {\r\n        // JAX-B dependencies for JDK 9+\r\n        implementation &quot;javax.xml.bind:jaxb-api:2.2.11&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-core:2.2.11&quot;\r\n        implementation &quot;com.sun.xml.bind:jaxb-impl:2.2.11&quot;\r\n        implementation &quot;javax.activation:activation:1.1.1&quot;\r\n    }\r\n\r\nMaven dependencies\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Spring boot application staring failed in IntelliJ","body":"<p>The nested exception is <code>java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement</code></p>\n\n<p>the Question is answered here: <a href=\"https://stackoverflow.com/q/43574426/1515052\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a></p>\n\n<p>in short: The required Dependency was removed from the JDK with the release of Java 9. If you start your application with a Java 8 JDK the dependency is provided and your application works. If you start your application with a Java 9 JDK or higher the dependency is no longer present and it fails to start.</p>\n\n<p>The right solution to fix it would be to add the required dependencies to your project:</p>\n\n<pre><code>dependencies {\n    // JAX-B dependencies for JDK 9+\n    implementation \"javax.xml.bind:jaxb-api:2.2.11\"\n    implementation \"com.sun.xml.bind:jaxb-core:2.2.11\"\n    implementation \"com.sun.xml.bind:jaxb-impl:2.2.11\"\n    implementation \"javax.activation:activation:1.1.1\"\n}\n</code></pre>\n\n<p>Maven dependencies</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-impl --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29793099,"reputation":1,"user_id":22832817,"display_name":"ivana.gm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698743005,"creation_date":1698743005,"answer_id":77394544,"question_id":58024537,"body_markdown":"Had the same issue: \r\n\r\n\r\n    2023-10-31T10:56:33.490+02:00  INFO 28172 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2023-10-31T10:56:33.494+02:00  INFO 28172 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n\r\n\r\nFixed id by changing the spring-boot-starter version from 3.1.5 to 3.1.4:\r\n\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.4&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;","title":"Spring boot application staring failed in IntelliJ","body":"<p>Had the same issue:</p>\n<pre><code>2023-10-31T10:56:33.490+02:00  INFO 28172 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-10-31T10:56:33.494+02:00  INFO 28172 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>Fixed id by changing the spring-boot-starter version from 3.1.5 to 3.1.4:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":4423810,"reputation":11618,"user_id":3602846,"accept_rate":71,"display_name":"Dhanu K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58024999,"answer_count":2,"score":1,"last_activity_date":1698743005,"creation_date":1568967616,"question_id":58024537,"body_markdown":"I have spring boot application previously I have used to in eclipse it works there, recently switched to IntelliJ, In IntelliJ application is not staring, here I am sharing logs while starting\r\n\r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.0.0.RELEASE)\r\n    \r\n    2019-09-20 13:34:56.609  INFO 30977 --- [  restartedMain] com.kn.Application                       : Starting Application on Dhanu-MAC.local with PID 30977 (/Applications/Data/RT/20190815_source_prod/2_etn_backend/target/classes started by dhanu in /Applications/Data/RT/20190815_source_prod/2_etn_backend)\r\n    2019-09-20 13:34:56.621  INFO 30977 --- [  restartedMain] com.kn.Application                       : The following profiles are active: dev\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/Users/dhanu/.m2/repository/org/codehaus/groovy/groovy/2.4.13/groovy-2.4.13.jar) to method java.lang.Object.finalize()\r\n    WARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    2019-09-20 13:34:57.029  INFO 30977 --- [  restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5083ace5: startup date [Fri Sep 20 13:34:57 IST 2019]; root of context hierarchy\r\n    2019-09-20 13:35:04.145  INFO 30977 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext\r\n    2019-09-20 13:35:04.146  INFO 30977 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7117 ms\r\n    2019-09-20 13:35:04.798  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n    2019-09-20 13:35:04.799  INFO 30977 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: &#39;springSecurityFilterChain&#39; to: [/*]\r\n    2019-09-20 13:35:04.801  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;corsFilter&#39; to: [/*]\r\n    2019-09-20 13:35:04.803  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\r\n    2019-09-20 13:35:05.107  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2019-09-20 13:35:05.111  WARN 30977 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\r\n    2019-09-20 13:35:06.701  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2019-09-20 13:35:07.535  INFO 30977 --- [  restartedMain] liquibase.database.core.OracleDatabase   : Could not set remarks reporting on OracleDatabase: com.zaxxer.hikari.pool.HikariProxyConnection.setRemarksReporting(boolean)\r\n    2019-09-20 13:35:13.940  INFO 30977 --- [  restartedMain] l.lockservice.StandardLockService        : Successfully released change log lock\r\n    2019-09-20 13:35:14.303  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-09-20 13:35:18.144  INFO 30977 --- [  restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\r\n    2019-09-20 13:35:18.282  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-09-20 13:35:20.040  WARN 30977 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jwtTokenProvider&#39; defined in file [/Applications/Data/RT/20190815_source_prod/2_etn_backend/target/classes/com/kn/config/JwtTokenProvider.class]: Instantiation of bean failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\r\n    2019-09-20 13:35:20.041  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2019-09-20 13:35:20.045  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n    2019-09-20 13:35:20.125  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n    2019-09-20 13:35:20.131  INFO 30977 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    \r\n    Process finished with exit code 0\r\n\r\nAs I see in logs it&#39;s successfully connected with DB, but tomcat stopped without showing any reason\r\n\r\nI have stuck here for a long while, can someone help in this?\r\n","title":"Spring boot application staring failed in IntelliJ","body":"<p>I have spring boot application previously I have used to in eclipse it works there, recently switched to IntelliJ, In IntelliJ application is not staring, here I am sharing logs while starting</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.0.0.RELEASE)\n\n2019-09-20 13:34:56.609  INFO 30977 --- [  restartedMain] com.kn.Application                       : Starting Application on Dhanu-MAC.local with PID 30977 (/Applications/Data/RT/20190815_source_prod/2_etn_backend/target/classes started by dhanu in /Applications/Data/RT/20190815_source_prod/2_etn_backend)\n2019-09-20 13:34:56.621  INFO 30977 --- [  restartedMain] com.kn.Application                       : The following profiles are active: dev\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.codehaus.groovy.reflection.CachedClass (file:/Users/dhanu/.m2/repository/org/codehaus/groovy/groovy/2.4.13/groovy-2.4.13.jar) to method java.lang.Object.finalize()\nWARNING: Please consider reporting this to the maintainers of org.codehaus.groovy.reflection.CachedClass\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2019-09-20 13:34:57.029  INFO 30977 --- [  restartedMain] ConfigServletWebServerApplicationContext : Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@5083ace5: startup date [Fri Sep 20 13:34:57 IST 2019]; root of context hierarchy\n2019-09-20 13:35:04.145  INFO 30977 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext\n2019-09-20 13:35:04.146  INFO 30977 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7117 ms\n2019-09-20 13:35:04.798  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2019-09-20 13:35:04.799  INFO 30977 --- [ost-startStop-1] .s.DelegatingFilterProxyRegistrationBean : Mapping filter: 'springSecurityFilterChain' to: [/*]\n2019-09-20 13:35:04.801  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'corsFilter' to: [/*]\n2019-09-20 13:35:04.803  INFO 30977 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Servlet dispatcherServlet mapped to [/]\n2019-09-20 13:35:05.107  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2019-09-20 13:35:05.111  WARN 30977 --- [  restartedMain] com.zaxxer.hikari.util.DriverDataSource  : Registered driver with driverClassName=oracle.jdbc.driver.OracleDriver was not found, trying direct instantiation.\n2019-09-20 13:35:06.701  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2019-09-20 13:35:07.535  INFO 30977 --- [  restartedMain] liquibase.database.core.OracleDatabase   : Could not set remarks reporting on OracleDatabase: com.zaxxer.hikari.pool.HikariProxyConnection.setRemarksReporting(boolean)\n2019-09-20 13:35:13.940  INFO 30977 --- [  restartedMain] l.lockservice.StandardLockService        : Successfully released change log lock\n2019-09-20 13:35:14.303  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Building JPA container EntityManagerFactory for persistence unit 'default'\n2019-09-20 13:35:18.144  INFO 30977 --- [  restartedMain] o.h.h.i.QueryTranslatorFactoryInitiator  : HHH000397: Using ASTQueryTranslatorFactory\n2019-09-20 13:35:18.282  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2019-09-20 13:35:20.040  WARN 30977 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtTokenProvider' defined in file [/Applications/Data/RT/20190815_source_prod/2_etn_backend/target/classes/com/kn/config/JwtTokenProvider.class]: Instantiation of bean failed; nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/annotation/XmlElement\n2019-09-20 13:35:20.041  INFO 30977 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2019-09-20 13:35:20.045  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2019-09-20 13:35:20.125  INFO 30977 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n2019-09-20 13:35:20.131  INFO 30977 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n\nProcess finished with exit code 0\n</code></pre>\n\n<p>As I see in logs it's successfully connected with DB, but tomcat stopped without showing any reason</p>\n\n<p>I have stuck here for a long while, can someone help in this?</p>\n"},{"tags":["java","quarkus","reactive-streams","mutiny","quarkus-rest-client"],"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698742821,"creation_date":1698742821,"question_id":77394521,"body_markdown":"I have a method which either returns the data `Multi&lt;CustomClass&gt;` or if there is any issues during the execution then it throws the `CustomException`.\r\n\r\nWhen I am using it via the `Quarkus Rest API` I am unable to throw the `CustomException`, even though I am able to print and get it in my terminal. How to throw an exception if there is a failure.\r\n\r\nFollowing is the method which returns me with `Multi&lt;CustomClass&gt;`:\r\n\r\n```\r\nMulti&lt;CustomClass&gt; generator = CustomGenerator.generate(input);\r\n```\r\n\r\nIf there is any Exception during the execution of `CustomGenerator.generate` then I want to throw the respective exception so I used something like this:\r\n\r\n```\r\nMulti&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\r\n    .onFailure().recoverWithMulti((failure) -&gt; {\r\n        throw new CustomException(failure.getMessage());\r\n    });\r\n```\r\n\r\nThis does not throw any Exception but if I print to my terminal then it shows the Exception message:\r\n\r\n```\r\nMulti&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\r\n    .onFailure().recoverWithMulti((failure) -&gt; {\r\n        System.out.println(failure.getMessage()); //displays the message but does not throw Exception\r\n        throw new CustomException(failure.getMessage());\r\n    });\r\n```\r\n\r\nHow to ensure that the Exceptions are thrown correcty as per the standard and if there is no exception then continue further to pass the `Multi&lt;CustomClass&gt;` to next processing:\r\n\r\n```\r\n// Handle the success case here\r\nSystem.out.println(&quot;Output Generation&quot;);\r\nstreamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\r\nreturn streamingOutput;\r\n```\r\n\r\nUnable to achieve this in Quarkus Rest API using the Mutiny Multi. I tried subscribing but if I do then even if there is no exception I do not get any output at all:\r\n\r\n```\r\nMulti&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\r\n    .onFailure().recoverWithMulti((failure) -&gt; Multi.createFrom().failure(new CustomException(failure.getMessage())));\r\n\r\n    generator.collect().asList().subscribe().with(\r\n    items -&gt; {\r\n        // Handle the success case here\r\n        streamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\r\n        System.out.println(&quot;Output Generation&quot;);\r\n    },\r\n    failure -&gt; {\r\n        // Handle the failure case here\r\n        if (failure instanceof CustomException) {\r\n            // Handle CustomException\r\n            System.out.println(&quot;Failure : &quot; + failure.getMessage());\r\n        }\r\n    }\r\n);\r\n\r\nreturn streamingEPCISDocument;\r\n```\r\n\r\nHow can I throw Exception if execution of the  `CustomGenerator.generate(input)` fails and if there is no Exception continue further with execution:\r\n\r\n```\r\nMulti&lt;CustomClass&gt; generator = CustomGenerator.generate(input);\r\n// Handle the success case here\r\nSystem.out.println(&quot;Output Generation&quot;);\r\nstreamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\r\nreturn streamingOutput;\r\n```","title":"Why does Mutiny Multi does not throw any Exception if an execution fails?","body":"<p>I have a method which either returns the data <code>Multi&lt;CustomClass&gt;</code> or if there is any issues during the execution then it throws the <code>CustomException</code>.</p>\n<p>When I am using it via the <code>Quarkus Rest API</code> I am unable to throw the <code>CustomException</code>, even though I am able to print and get it in my terminal. How to throw an exception if there is a failure.</p>\n<p>Following is the method which returns me with <code>Multi&lt;CustomClass&gt;</code>:</p>\n<pre><code>Multi&lt;CustomClass&gt; generator = CustomGenerator.generate(input);\n</code></pre>\n<p>If there is any Exception during the execution of <code>CustomGenerator.generate</code> then I want to throw the respective exception so I used something like this:</p>\n<pre><code>Multi&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\n    .onFailure().recoverWithMulti((failure) -&gt; {\n        throw new CustomException(failure.getMessage());\n    });\n</code></pre>\n<p>This does not throw any Exception but if I print to my terminal then it shows the Exception message:</p>\n<pre><code>Multi&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\n    .onFailure().recoverWithMulti((failure) -&gt; {\n        System.out.println(failure.getMessage()); //displays the message but does not throw Exception\n        throw new CustomException(failure.getMessage());\n    });\n</code></pre>\n<p>How to ensure that the Exceptions are thrown correcty as per the standard and if there is no exception then continue further to pass the <code>Multi&lt;CustomClass&gt;</code> to next processing:</p>\n<pre><code>// Handle the success case here\nSystem.out.println(&quot;Output Generation&quot;);\nstreamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\nreturn streamingOutput;\n</code></pre>\n<p>Unable to achieve this in Quarkus Rest API using the Mutiny Multi. I tried subscribing but if I do then even if there is no exception I do not get any output at all:</p>\n<pre><code>Multi&lt;CustomClass&gt; generator = CustomGenerator.generate(input)\n    .onFailure().recoverWithMulti((failure) -&gt; Multi.createFrom().failure(new CustomException(failure.getMessage())));\n\n    generator.collect().asList().subscribe().with(\n    items -&gt; {\n        // Handle the success case here\n        streamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\n        System.out.println(&quot;Output Generation&quot;);\n    },\n    failure -&gt; {\n        // Handle the failure case here\n        if (failure instanceof CustomException) {\n            // Handle CustomException\n            System.out.println(&quot;Failure : &quot; + failure.getMessage());\n        }\n    }\n);\n\nreturn streamingEPCISDocument;\n</code></pre>\n<p>How can I throw Exception if execution of the  <code>CustomGenerator.generate(input)</code> fails and if there is no Exception continue further with execution:</p>\n<pre><code>Multi&lt;CustomClass&gt; generator = CustomGenerator.generate(input);\n// Handle the success case here\nSystem.out.println(&quot;Output Generation&quot;);\nstreamingOutput.setOutput(generator); //Accepts only the Multi&lt;CustomClass&gt;\nreturn streamingOutput;\n</code></pre>\n"},{"tags":["java","android","android-pendingintent","exoplayer2.x","android-12"],"comments":[{"owner":{"account_id":3140923,"reputation":182,"user_id":2656403,"display_name":"chanrlc"},"score":0,"creation_date":1679457738,"post_id":70894168,"comment_id":133724368,"body_markdown":"But my project didn&#39;t use PeningIntent, also cause the error!","body":"But my project didn&#39;t use PeningIntent, also cause the error!"}],"answers":[{"comments":[{"owner":{"account_id":6536493,"reputation":146,"user_id":5055780,"display_name":"Tarek"},"score":0,"creation_date":1644302950,"post_id":70973229,"comment_id":125563508,"body_markdown":"Cool, but why should we check the version 23 and above when the error message is &quot;Targeting S+ (version 31 and above)&quot;","body":"Cool, but why should we check the version 23 and above when the error message is &quot;Targeting S+ (version 31 and above)&quot;"},{"owner":{"account_id":17124657,"reputation":404,"user_id":12392160,"display_name":"Saksham Pruthi"},"score":3,"creation_date":1644329722,"post_id":70973229,"comment_id":125573789,"body_markdown":"@Tarek PendingIntent.FLAG_IMMUTABLE is not present in API below 23. The error message is because android has made it mandatory to add PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_IMUTABLE to all the pending intents from API 31(S) onwards","body":"@Tarek PendingIntent.FLAG_IMMUTABLE is not present in API below 23. The error message is because android has made it mandatory to add PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_IMUTABLE to all the pending intents from API 31(S) onwards"},{"owner":{"account_id":247432,"reputation":13721,"user_id":522150,"accept_rate":53,"display_name":"JWL"},"score":2,"creation_date":1657009848,"post_id":70973229,"comment_id":128701682,"body_markdown":"Noticed that use of the `Util.SDK_INT` constants might not be very portable for most projects, and so would recommend use of the android &quot;official&quot; `Build.VERSION.SDK_INT` variants.","body":"Noticed that use of the <code>Util.SDK_INT</code> constants might not be very portable for most projects, and so would recommend use of the android &quot;official&quot; <code>Build.VERSION.SDK_INT</code> variants."},{"owner":{"account_id":3140923,"reputation":182,"user_id":2656403,"display_name":"chanrlc"},"score":0,"creation_date":1679458039,"post_id":70973229,"comment_id":133724397,"body_markdown":"what is flutter kotlin version of code?","body":"what is flutter kotlin version of code?"}],"tags":[],"owner":{"account_id":17124657,"reputation":404,"user_id":12392160,"display_name":"Saksham Pruthi"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1644329789,"creation_date":1643899247,"answer_id":70973229,"question_id":70894168,"body_markdown":"Check and update the dependency version of exoplayer to the latest one\r\n  \r\n`android.app.PendingIntent.getBroadcast()` previously used to return \r\n\r\n```\r\n@Nullable\r\n@Override\r\nprivate static PendingIntent createBroadcastIntent(\r\n    String action, Context context, int instanceId) {\r\n    Intent intent = new Intent(action).setPackage(context.getPackageName());\r\n    intent.putExtra(EXTRA_INSTANCE_ID, instanceId);\r\n    return PendingIntent.getBroadcast(\r\n        context, instanceId, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n  }\r\n```\r\nIf you observe carefully PendingIntent.FLAG_IMMUTABLE is missing here in the above snippet\r\n\r\nIt has now been updated to return the following\r\n```\r\n@Nullable\r\n@Override\r\nprivate static PendingIntent createBroadcastIntent(\r\n      String action, Context context, int instanceId) {\r\n    Intent intent = new Intent(action).setPackage(context.getPackageName());\r\n    intent.putExtra(EXTRA_INSTANCE_ID, instanceId);\r\n\r\n    int pendingFlags;\r\n    if (Util.SDK_INT &gt;= 23) {\r\n      pendingFlags = PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE;\r\n    } else {\r\n      pendingFlags = PendingIntent.FLAG_UPDATE_CURRENT;\r\n    }\r\n\r\n    return PendingIntent.getBroadcast(context, instanceId, intent, pendingFlags);\r\n  }\r\n```","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>Check and update the dependency version of exoplayer to the latest one</p>\n<p><code>android.app.PendingIntent.getBroadcast()</code> previously used to return</p>\n<pre><code>@Nullable\n@Override\nprivate static PendingIntent createBroadcastIntent(\n    String action, Context context, int instanceId) {\n    Intent intent = new Intent(action).setPackage(context.getPackageName());\n    intent.putExtra(EXTRA_INSTANCE_ID, instanceId);\n    return PendingIntent.getBroadcast(\n        context, instanceId, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n  }\n</code></pre>\n<p>If you observe carefully PendingIntent.FLAG_IMMUTABLE is missing here in the above snippet</p>\n<p>It has now been updated to return the following</p>\n<pre><code>@Nullable\n@Override\nprivate static PendingIntent createBroadcastIntent(\n      String action, Context context, int instanceId) {\n    Intent intent = new Intent(action).setPackage(context.getPackageName());\n    intent.putExtra(EXTRA_INSTANCE_ID, instanceId);\n\n    int pendingFlags;\n    if (Util.SDK_INT &gt;= 23) {\n      pendingFlags = PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE;\n    } else {\n      pendingFlags = PendingIntent.FLAG_UPDATE_CURRENT;\n    }\n\n    return PendingIntent.getBroadcast(context, instanceId, intent, pendingFlags);\n  }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16209329,"reputation":1013,"user_id":11703772,"display_name":"John Doe"},"score":3,"creation_date":1651840072,"post_id":70974248,"comment_id":127465589,"body_markdown":"Even after adding the FLAG_IMMUTABLE and the dependency, I&#39;m still getting the error on some Samsung devices:\n\nGalaxy Note20 5G, \nGalaxy S20 FE 5G, \nand others.","body":"Even after adding the FLAG_IMMUTABLE and the dependency, I&#39;m still getting the error on some Samsung devices:  Galaxy Note20 5G,  Galaxy S20 FE 5G,  and others."},{"owner":{"account_id":17933774,"reputation":1025,"user_id":13030534,"display_name":"HaryanviDeveloper"},"score":0,"creation_date":1651946706,"post_id":70974248,"comment_id":127488859,"body_markdown":"Yes I also found it on Samsung and HTC devices. I will post solutions once I solve it","body":"Yes I also found it on Samsung and HTC devices. I will post solutions once I solve it"},{"owner":{"account_id":12197936,"reputation":518,"user_id":8902971,"display_name":"Hamza Hmem"},"score":0,"creation_date":1652977463,"post_id":70974248,"comment_id":127744053,"body_markdown":"Please take a look at this comment https://github.com/facebook/react-native/issues/33375#issuecomment-1080979397","body":"Please take a look at this comment <a href=\"https://github.com/facebook/react-native/issues/33375#issuecomment-1080979397\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/issues/&hellip;</a>"},{"owner":{"account_id":17933774,"reputation":1025,"user_id":13030534,"display_name":"HaryanviDeveloper"},"score":0,"creation_date":1653655268,"post_id":70974248,"comment_id":127909433,"body_markdown":"Thanks @HamzaHmem is this working  for you ? did you try?","body":"Thanks @HamzaHmem is this working  for you ? did you try?"},{"owner":{"account_id":12197936,"reputation":518,"user_id":8902971,"display_name":"Hamza Hmem"},"score":0,"creation_date":1653817603,"post_id":70974248,"comment_id":127939580,"body_markdown":"@HaryanviDeveloper I&#39;ve tried your solution and it&#39;s worked. However, there is a fix developed by the react native core team itself but it will be released with the 0.69 version.","body":"@HaryanviDeveloper I&#39;ve tried your solution and it&#39;s worked. However, there is a fix developed by the react native core team itself but it will be released with the 0.69 version."},{"owner":{"account_id":17933774,"reputation":1025,"user_id":13030534,"display_name":"HaryanviDeveloper"},"score":0,"creation_date":1655452107,"post_id":70974248,"comment_id":128340278,"body_markdown":"@HamzaHmem thanks could you please tell me where exactly we need to change?","body":"@HamzaHmem thanks could you please tell me where exactly we need to change?"}],"tags":[],"owner":{"account_id":17933774,"reputation":1025,"user_id":13030534,"display_name":"HaryanviDeveloper"},"comment_count":6,"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1643903220,"creation_date":1643903220,"answer_id":70974248,"question_id":70894168,"body_markdown":"If using java or react-native then paste this inside app/build.gradle \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    dependencies {\r\n      // ...\r\n      implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf using Kotlin then use this\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    dependencies {\r\n      // ...\r\n      implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand if anybody still facing the crash issue for android 12 then make sure you add following in AndroidMenifest.xml\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n     &lt;activity \r\n       ...\r\n       android:exported=&quot;true&quot; // in most cases it is true but based on requirements it can be false also   \r\n    &gt;   \r\n\r\n\r\n   // If using react-native push notifications then make sure to add into it also\r\n\r\n     &lt;receiver   \r\nandroid:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver&quot; android:exported=&quot;true&quot;&gt;\r\n     \r\n   //  Similarly\r\n     \r\n     &lt;service android:name=&quot;com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService&quot; android:exported=&quot;true&quot;&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>If using java or react-native then paste this inside app/build.gradle</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime:2.7.1'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If using Kotlin then use this</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>and if anybody still facing the crash issue for android 12 then make sure you add following in AndroidMenifest.xml</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> &lt;activity \n   ...\n   android:exported=\"true\" // in most cases it is true but based on requirements it can be false also   \n&gt;   \n\n\n   // If using react-native push notifications then make sure to add into it also\n\n &lt;receiver   \nandroid:name=\"com.dieam.reactnativepushnotification.modules.RNPushNotificationBootEventReceiver\" android:exported=\"true\"&gt;\n \n   //  Similarly\n \n &lt;service android:name=\"com.dieam.reactnativepushnotification.modules.RNPushNotificationListenerService\" android:exported=\"true\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":3083445,"reputation":16847,"user_id":2611161,"accept_rate":57,"display_name":"Kevin ABRIOUX"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1649409761,"creation_date":1649409761,"answer_id":71794586,"question_id":70894168,"body_markdown":"Solution for Kotlin, juste add this flag if you are with API M\r\n\r\n    val flags = when {\r\n                Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M -&gt; FLAG_UPDATE_CURRENT or FLAG_IMMUTABLE\r\n                else -&gt; FLAG_UPDATE_CURRENT\r\n            }\r\n    val toastPendingIntent = PendingIntent.getBroadcast(context, 0, providerIntent, flags)","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>Solution for Kotlin, juste add this flag if you are with API M</p>\n<pre><code>val flags = when {\n            Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M -&gt; FLAG_UPDATE_CURRENT or FLAG_IMMUTABLE\n            else -&gt; FLAG_UPDATE_CURRENT\n        }\nval toastPendingIntent = PendingIntent.getBroadcast(context, 0, providerIntent, flags)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3833949,"reputation":1265,"user_id":3574669,"accept_rate":67,"display_name":"Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650522676,"creation_date":1650522676,"answer_id":71949849,"question_id":70894168,"body_markdown":"I resolved this by adding below in the ...android/app/build.gradle\r\n\r\n    implementation &#39;androidx.work:work-runtime-ktx:2.8.0-alpha01&#39;\r\n\r\nhttps://github.com/react-native-maps/react-native-maps/issues/4083#issue-1119280606","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>I resolved this by adding below in the ...android/app/build.gradle</p>\n<pre><code>implementation 'androidx.work:work-runtime-ktx:2.8.0-alpha01'\n</code></pre>\n<p><a href=\"https://github.com/react-native-maps/react-native-maps/issues/4083#issue-1119280606\" rel=\"nofollow noreferrer\">https://github.com/react-native-maps/react-native-maps/issues/4083#issue-1119280606</a></p>\n"},{"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660481977,"creation_date":1653480876,"answer_id":72377456,"question_id":70894168,"body_markdown":"If the **Chuck** library produces your problem, you won&#39;t be able to using it after updating the SDK version. You can easily replace it with **Chucker** (Chuck&#39;s fork): https://github.com/jgilfelt/chuck/issues/101#issuecomment-869119599.","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>If the <strong>Chuck</strong> library produces your problem, you won't be able to using it after updating the SDK version. You can easily replace it with <strong>Chucker</strong> (Chuck's fork): <a href=\"https://github.com/jgilfelt/chuck/issues/101#issuecomment-869119599\" rel=\"nofollow noreferrer\">https://github.com/jgilfelt/chuck/issues/101#issuecomment-869119599</a>.</p>\n"},{"comments":[{"owner":{"account_id":13739158,"reputation":635,"user_id":9914731,"display_name":"Ayoub EL ABOUSSI"},"score":0,"creation_date":1675937167,"post_id":72525785,"comment_id":133036543,"body_markdown":"Worked for me, but i had to specify only FLAG_MUTABLE instead of both","body":"Worked for me, but i had to specify only FLAG_MUTABLE instead of both"},{"owner":{"account_id":1108894,"reputation":8923,"user_id":1099716,"accept_rate":50,"display_name":"Access Denied"},"score":0,"creation_date":1692778496,"post_id":72525785,"comment_id":135669235,"body_markdown":"Too much copy/paste. Use flags variable instead. and the pendingIntent creation will be one command instead of two.","body":"Too much copy/paste. Use flags variable instead. and the pendingIntent creation will be one command instead of two."},{"owner":{"account_id":1108894,"reputation":8923,"user_id":1099716,"accept_rate":50,"display_name":"Access Denied"},"score":0,"creation_date":1692778922,"post_id":72525785,"comment_id":135669301,"body_markdown":"Or ternary operator pendingIntent = PendingIntent.getActivity(this,\n          0, new Intent(this, getClass()).addFlags(\n   Intent.FLAG_ACTIVITY_SINGLE_TOP), (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)? PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE: PendingIntent.FLAG_UPDATE_CURRENT);","body":"Or ternary operator pendingIntent = PendingIntent.getActivity(this,           0, new Intent(this, getClass()).addFlags(    Intent.FLAG_ACTIVITY_SINGLE_TOP), (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)? PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE: PendingIntent.FLAG_UPDATE_CURRENT);"}],"tags":[],"owner":{"account_id":20934358,"reputation":141,"user_id":15379890,"display_name":"Dean Amilush"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1654574643,"creation_date":1654574643,"answer_id":72525785,"question_id":70894168,"body_markdown":"In my case for read tags using the foreground delivery system, its works..\r\n\r\nIf you let your app to run in android 12, use the following:\r\n\r\n    PendingIntent pendingIntent;\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n       pendingIntent = PendingIntent.getActivity(this,\r\n              0, new Intent(this, getClass()).addFlags(\r\n       Intent.FLAG_ACTIVITY_SINGLE_TOP), \r\n       PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n    }else {\r\n       pendingIntent = PendingIntent.getActivity(this,\r\n          0, new Intent(this, getClass()).addFlags(\r\n       Intent.FLAG_ACTIVITY_SINGLE_TOP), \r\n       PendingIntent.FLAG_UPDATE_CURRENT);\r\n    }","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>In my case for read tags using the foreground delivery system, its works..</p>\n<p>If you let your app to run in android 12, use the following:</p>\n<pre><code>PendingIntent pendingIntent;\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n   pendingIntent = PendingIntent.getActivity(this,\n          0, new Intent(this, getClass()).addFlags(\n   Intent.FLAG_ACTIVITY_SINGLE_TOP), \n   PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n}else {\n   pendingIntent = PendingIntent.getActivity(this,\n      0, new Intent(this, getClass()).addFlags(\n   Intent.FLAG_ACTIVITY_SINGLE_TOP), \n   PendingIntent.FLAG_UPDATE_CURRENT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4236080,"reputation":1269,"user_id":3467187,"accept_rate":20,"display_name":"KZoNE"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656818747,"creation_date":1656818747,"answer_id":72843736,"question_id":70894168,"body_markdown":"I face the same issue, and as instructed in most of the answers I have updated my dependency as follows.\r\n\r\n    dependencies {\r\n      /* Use either Kotlin or Java dependency as per your project */\r\n\r\n      // ...\r\n      /* Android Arch Component Work Manager for Kotlin */\r\n      implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39; \r\n\r\n\r\n      //...\r\n      /* Android Arch Component Work Manager for Java */\r\n      def work_version = &quot;2.7.1&quot;\r\n      implementation &quot;androidx.work:work-runtime:$work_version&quot;\r\n      // optional - Test helpers\r\n      androidTestImplementation &quot;androidx.work:work-testing:$work_version&quot;\r\n    }\r\n\r\nBut adding only the above didn’t sort out my issue and the app still got crashed. \r\n\r\nSo I switched off the Android Lint: Missing Pending Intent Mutability, Find the steps below to switch off.\r\n\r\n**Switching off Pending Intent Mutability**\r\n\r\nGo to the Search option and search &quot;PendingIntent&quot; and you will receive a window as shown below.\r\n\r\n[![Android Studio Search window][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ULQMu.png\r\n\r\nSwitch of the Android Lint: Missing Pending Intent Mutability and you are good to go.","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>I face the same issue, and as instructed in most of the answers I have updated my dependency as follows.</p>\n<pre><code>dependencies {\n  /* Use either Kotlin or Java dependency as per your project */\n\n  // ...\n  /* Android Arch Component Work Manager for Kotlin */\n  implementation 'androidx.work:work-runtime-ktx:2.7.0' \n\n\n  //...\n  /* Android Arch Component Work Manager for Java */\n  def work_version = &quot;2.7.1&quot;\n  implementation &quot;androidx.work:work-runtime:$work_version&quot;\n  // optional - Test helpers\n  androidTestImplementation &quot;androidx.work:work-testing:$work_version&quot;\n}\n</code></pre>\n<p>But adding only the above didn’t sort out my issue and the app still got crashed.</p>\n<p>So I switched off the Android Lint: Missing Pending Intent Mutability, Find the steps below to switch off.</p>\n<p><strong>Switching off Pending Intent Mutability</strong></p>\n<p>Go to the Search option and search &quot;PendingIntent&quot; and you will receive a window as shown below.</p>\n<p><a href=\"https://i.stack.imgur.com/ULQMu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ULQMu.png\" alt=\"Android Studio Search window\" /></a></p>\n<p>Switch of the Android Lint: Missing Pending Intent Mutability and you are good to go.</p>\n"},{"tags":[],"owner":{"account_id":26443994,"reputation":721,"user_id":20088068,"display_name":"Prajval Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673168067,"creation_date":1673168067,"answer_id":75046522,"question_id":70894168,"body_markdown":"A few things, make sure you are using JDK 11, second delete that .gradle folder inside the android folder, then follow along on this wonderful answer [SO answer][1].\r\n\r\nTry after doing gradle clean\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74465890/my-react-native-app-crash-after-update-target-sdk-version-31","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>A few things, make sure you are using JDK 11, second delete that .gradle folder inside the android folder, then follow along on this wonderful answer <a href=\"https://stackoverflow.com/questions/74465890/my-react-native-app-crash-after-update-target-sdk-version-31\">SO answer</a>.</p>\n<p>Try after doing gradle clean</p>\n"},{"tags":[],"owner":{"account_id":14414416,"reputation":99,"user_id":12947665,"display_name":"Олег Colt_ain"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1673533189,"creation_date":1673533189,"answer_id":75097722,"question_id":70894168,"body_markdown":"Fixed by adding in app/build.gradle\r\n\r\n    dependencies {\r\n        // ...\r\n        implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n    }","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>Fixed by adding in app/build.gradle</p>\n<pre><code>dependencies {\n    // ...\n    implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3140923,"reputation":182,"user_id":2656403,"display_name":"chanrlc"},"score":0,"creation_date":1679458398,"post_id":75419050,"comment_id":133724433,"body_markdown":"This line of code not working for me. The error remains the same!","body":"This line of code not working for me. The error remains the same!"}],"tags":[],"owner":{"account_id":22822377,"reputation":21,"user_id":16972067,"display_name":"hafeezrana"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676105554,"creation_date":1676105554,"answer_id":75419050,"question_id":70894168,"body_markdown":"I was facing the same issue on Android 12 for Url_Launcher. after adding this to `build.gradle` file, I solved my problem.\r\n\r\n  \r\n  \r\n\r\n    dependencies {\r\n      // ...\r\n      implementation &#39;androidx.work:work-runtime-ktx:2.7.0&#39;\r\n    }\r\n\r\n","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>I was facing the same issue on Android 12 for Url_Launcher. after adding this to <code>build.gradle</code> file, I solved my problem.</p>\n<pre><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime-ktx:2.7.0'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6975311,"reputation":123,"user_id":5354952,"accept_rate":100,"display_name":"Mohamed Emad"},"score":1,"creation_date":1690379515,"post_id":75506874,"comment_id":135345422,"body_markdown":"worth noting that if you have issues with metro this fixes the problem by setting the flag. Only good answer in this thread.","body":"worth noting that if you have issues with metro this fixes the problem by setting the flag. Only good answer in this thread."}],"tags":[],"owner":{"account_id":12926248,"reputation":5663,"user_id":9346859,"display_name":"Bilal Şimşek"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1698742593,"creation_date":1676881767,"answer_id":75506874,"question_id":70894168,"body_markdown":"For Future reference \r\n\r\nadd    `implementation &#39;androidx.work:work-runtime:2.7.1` to `app/build.gradle`\r\n\r\n    dependencies {\r\n      // ...\r\n      implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n    }\r\n     \r\nadd `| PendingIntent.FLAG_IMMUTABLE` to line where you define PendingIntent\r\n\r\n     PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK), PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n\r\n","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>For Future reference</p>\n<p>add    <code>implementation 'androidx.work:work-runtime:2.7.1</code> to <code>app/build.gradle</code></p>\n<pre><code>dependencies {\n  // ...\n  implementation 'androidx.work:work-runtime:2.7.1'\n}\n \n</code></pre>\n<p>add <code>| PendingIntent.FLAG_IMMUTABLE</code> to line where you define PendingIntent</p>\n<pre><code> PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK), PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66592,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"answer_count":11,"score":70,"last_activity_date":1698742593,"creation_date":1643374795,"question_id":70894168,"body_markdown":"App crashes at runtime with the following error : \r\n\r\n&gt; java.lang.IllegalArgumentException: maa.abc: Targeting\r\n&gt; S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or\r\n&gt; FLAG_MUTABLE be specified when creating a PendingIntent.\r\n&gt;     Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\r\n&gt; it needs to be used with inline replies or bubbles.\r\n&gt;         at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n&gt;         at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\r\n&gt;         at android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.createBroadcastIntent(PlayerNotificationManager.java:1373)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.createPlaybackActions(PlayerNotificationManager.java:1329)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.&lt;init&gt;(PlayerNotificationManager.java:643)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.&lt;init&gt;(PlayerNotificationManager.java:529)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.createWithNotificationChannel(PlayerNotificationManager.java:456)\r\n&gt;         at com.google.android.exoplayer2.ui.PlayerNotificationManager.createWithNotificationChannel(PlayerNotificationManager.java:417)\r\n\r\nI tried all solutions available but the app still crashing on Android 12.\r\n\r\n     @Nullable\r\n     @Override\r\n     public PendingIntent createCurrentContentIntent(@NonNull Player player) {\r\n            Intent intent = new Intent(service, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\r\n                            Intent.FLAG_ACTIVITY_SINGLE_TOP |\r\n                            Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            return PendingIntent.getActivity(service, 0, intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n     }\r\n\r\n","title":"Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified","body":"<p>App crashes at runtime with the following error :</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: maa.abc: Targeting\nS+ (version 31 and above) requires that one of FLAG_IMMUTABLE or\nFLAG_MUTABLE be specified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\nit needs to be used with inline replies or bubbles.\nat android.app.PendingIntent.checkFlags(PendingIntent.java:375)\nat android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:645)\nat android.app.PendingIntent.getBroadcast(PendingIntent.java:632)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.createBroadcastIntent(PlayerNotificationManager.java:1373)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.createPlaybackActions(PlayerNotificationManager.java:1329)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.(PlayerNotificationManager.java:643)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.(PlayerNotificationManager.java:529)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.createWithNotificationChannel(PlayerNotificationManager.java:456)\nat com.google.android.exoplayer2.ui.PlayerNotificationManager.createWithNotificationChannel(PlayerNotificationManager.java:417)</p>\n</blockquote>\n<p>I tried all solutions available but the app still crashing on Android 12.</p>\n<pre><code> @Nullable\n @Override\n public PendingIntent createCurrentContentIntent(@NonNull Player player) {\n        Intent intent = new Intent(service, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\n                        Intent.FLAG_ACTIVITY_SINGLE_TOP |\n                        Intent.FLAG_ACTIVITY_NEW_TASK);\n        return PendingIntent.getActivity(service, 0, intent,PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);\n\n }\n</code></pre>\n"},{"tags":["java","validation","migration","wildfly"],"answers":[{"comments":[{"owner":{"account_id":4838028,"reputation":181,"user_id":3903970,"accept_rate":67,"display_name":"dajek"},"score":1,"creation_date":1465398704,"post_id":27127043,"comment_id":62886689,"body_markdown":"I described the action I took to solve the problem. Wheter you call it a &quot;way&quot; or not is irrelevant.","body":"I described the action I took to solve the problem. Wheter you call it a &quot;way&quot; or not is irrelevant."}],"tags":[],"owner":{"account_id":4838028,"reputation":181,"user_id":3903970,"accept_rate":67,"display_name":"dajek"},"comment_count":1,"down_vote_count":6,"up_vote_count":3,"is_accepted":true,"score":-3,"last_activity_date":1416919201,"creation_date":1416919201,"answer_id":27127043,"question_id":27060394,"body_markdown":"I couldn&#39;t find any configuration to help with this problem so I removed parameter constraints from implementation classes, which solved the problem.","title":"Javax validation exception when migrating to Wildfly 8.1","body":"<p>I couldn't find any configuration to help with this problem so I removed parameter constraints from implementation classes, which solved the problem.</p>\n"},{"tags":[],"owner":{"account_id":9073560,"reputation":129,"user_id":6755874,"display_name":"Vikash Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1555573602,"creation_date":1555572539,"answer_id":55741123,"question_id":27060394,"body_markdown":"javax.validation.ConstraintDeclarationException is raised if you add parameter constraints to a method which overrides or implements a super-type method. This behavior is mandated by the Bean Validation spec (see http://beanvalidation.org/1.1/spec/#constraintdeclarationvalidationprocess-methodlevelconstraints-inheritance) in order to obey to the Liskov substitution principle:\r\n\r\nfor example below code **Illegally declared parameter constraints on sub class** and it will throw above exception:\r\n\r\n    public class OrderService {\r\n\r\n    void placeOrder(String customerCode, Item item, int quantity) { [...] }\r\n    } \r\n\r\n    public class SimpleOrderService extends OrderService {\r\n\r\n    @Override\r\n    public void placeOrder(\r\n        @NotNull @Size(min=3, max=20) String customerCode,\r\n        @NotNull Item item,\r\n        @Min(1) int quantity) {\r\n        [...]\r\n    }\r\n}\r\n\r\n    \r\n\r\n\r\n","title":"Javax validation exception when migrating to Wildfly 8.1","body":"<p>javax.validation.ConstraintDeclarationException is raised if you add parameter constraints to a method which overrides or implements a super-type method. This behavior is mandated by the Bean Validation spec (see <a href=\"http://beanvalidation.org/1.1/spec/#constraintdeclarationvalidationprocess-methodlevelconstraints-inheritance\" rel=\"noreferrer\">http://beanvalidation.org/1.1/spec/#constraintdeclarationvalidationprocess-methodlevelconstraints-inheritance</a>) in order to obey to the Liskov substitution principle:</p>\n\n<p>for example below code <strong>Illegally declared parameter constraints on sub class</strong> and it will throw above exception:</p>\n\n<pre><code>public class OrderService {\n\nvoid placeOrder(String customerCode, Item item, int quantity) { [...] }\n} \n\npublic class SimpleOrderService extends OrderService {\n\n@Override\npublic void placeOrder(\n    @NotNull @Size(min=3, max=20) String customerCode,\n    @NotNull Item item,\n    @Min(1) int quantity) {\n    [...]\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":14413590,"reputation":41,"user_id":10411634,"display_name":"DrD"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1575361220,"creation_date":1575361220,"answer_id":59152764,"question_id":27060394,"body_markdown":"I face the same problem in my spring boot project, you should move validation annotation where use in override method into super class or interface.","title":"Javax validation exception when migrating to Wildfly 8.1","body":"<p>I face the same problem in my spring boot project, you should move validation annotation where use in override method into super class or interface.</p>\n"},{"tags":[],"owner":{"account_id":17891578,"reputation":35,"user_id":12997928,"display_name":"shuai yan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698741851,"creation_date":1698741851,"answer_id":77394428,"question_id":27060394,"body_markdown":"like @Drd said.  I wrote setter method param with `@Valid` in child class,  after remove this annotation,  the error is disappeared.\r\n\r\n```\r\nvoid setAA(@Valid AA aa) {}\r\n```","title":"Javax validation exception when migrating to Wildfly 8.1","body":"<p>like @Drd said.  I wrote setter method param with <code>@Valid</code> in child class,  after remove this annotation,  the error is disappeared.</p>\n<pre><code>void setAA(@Valid AA aa) {}\n</code></pre>\n"}],"owner":{"account_id":4838028,"reputation":181,"user_id":3903970,"accept_rate":67,"display_name":"dajek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11374,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":27127043,"answer_count":4,"score":4,"last_activity_date":1698741851,"creation_date":1416569561,"question_id":27060394,"body_markdown":"I am getting the following exception:\r\n\r\n&gt; javax.validation.ConstraintDeclarationException: HV000151:\r\nA method overriding another method must not alter the parameter constraint configuration\r\n\r\nwhen deploying my application on Wildfly 8.1 server. The project is deploying and working well on a previous, JBoss 7.1 application server. Do I need to make changes to the code or could there be some problem with the configuration?","title":"Javax validation exception when migrating to Wildfly 8.1","body":"<p>I am getting the following exception:</p>\n\n<blockquote>\n  <p>javax.validation.ConstraintDeclarationException: HV000151:\n  A method overriding another method must not alter the parameter constraint configuration</p>\n</blockquote>\n\n<p>when deploying my application on Wildfly 8.1 server. The project is deploying and working well on a previous, JBoss 7.1 application server. Do I need to make changes to the code or could there be some problem with the configuration?</p>\n"},{"tags":["java","c#","android","unity-game-engine"],"owner":{"account_id":29778772,"reputation":11,"user_id":22821993,"display_name":"mex19903"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698741580,"creation_date":1698741231,"question_id":77394350,"body_markdown":"I&#39;m developing a game for android. Is there any way to access android package manager(android.content.pm.PackageManager) in unity and run the following Java codes on unity&#39;s c# script?\r\n```\r\n  final PackageManager pm = getPackageManager();\r\n  // get the list of all installed apps on the device.\r\n  List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\r\n```\r\nI need to get all the package names on the device.\r\n\r\nThe documentaion says we should use AndroidJavaClass and AndroidJavaObject but I still don&#39;t know how to use them.\r\n[https://docs.unity3d.com/Manual/android-plugins-java-code-from-c-sharp.html](https://stackoverflow.com)","title":"How to access Android PackageMananger in unity?","body":"<p>I'm developing a game for android. Is there any way to access android package manager(android.content.pm.PackageManager) in unity and run the following Java codes on unity's c# script?</p>\n<pre><code>  final PackageManager pm = getPackageManager();\n  // get the list of all installed apps on the device.\n  List&lt;ApplicationInfo&gt; packages = pm.getInstalledApplications(PackageManager.GET_META_DATA);\n</code></pre>\n<p>I need to get all the package names on the device.</p>\n<p>The documentaion says we should use AndroidJavaClass and AndroidJavaObject but I still don't know how to use them.\n<a href=\"https://stackoverflow.com\">https://docs.unity3d.com/Manual/android-plugins-java-code-from-c-sharp.html</a></p>\n"},{"tags":["java","azure","azure-web-app-service","gitlab-ci","cicd"],"answers":[{"tags":[],"owner":{"account_id":27338017,"reputation":5165,"user_id":20849135,"display_name":"SiddheshDesai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698741569,"creation_date":1698741569,"answer_id":77394389,"question_id":77357763,"body_markdown":"In order for your **Gitlab deployment** to be successful via **Deployment Center** in **Azure Web App**, There are certain steps that you need to follow, Refer below:-\r\n\r\nRefer my [**SO thread answer**](https://stackoverflow.com/questions/76870534/gitlab-ci-cd-and-azure-deploying-django/76882652#) for deploying CI/CD successfully via Gitlab to Azure Web app.\r\n\r\nIn your Azure Web app visit to get the ssh key &gt; `https://webapp-name.scm.azurewebsites.net/api/sshkey?ensurePublicKey=1`\r\n\r\n![enter image description here](https://i.imgur.com/Kg5azwO.png)\r\n\r\n**An copy the ssh key to your Gitlab secrets** like below:-\r\n\r\n**Visit your Gitlab project &gt; Left section &gt; Settings &gt; Repository &gt; Deploy keys &gt; Expand &gt; copy the ssh key like below**\r\n\r\n![enter image description here](https://i.imgur.com/sWYJMxX.png)\r\n\r\nNow visit your ***Azure Web app Deployment Center &gt; Select External git and copy the Gitlab java project repository clone URL and add the branch name &gt; Save the settings and your Deployment will start like below:-***\r\n\r\n![enter image description here](https://i.imgur.com/EOeDQQP.png)\r\n\r\n![enter image description here](https://i.imgur.com/volLkR4.png)\r\n\r\n**Deployment is successful like below:-**\r\n\r\n![enter image description here](https://i.imgur.com/TpzXDKF.png)\r\n\r\nIf there are any changes to be deployed in the Web app, Either you can deploy them in a separate slots or **Just click on `Sync` to deploy the latest changes to source control into Azure Web app** like below:-\r\n\r\n![enter image description here](https://i.imgur.com/HpRkiBd.png)\r\n\r\nNow check if your Java files are deployed correctly in the kudu console like below:-\r\n\r\n![enter image description here](https://i.imgur.com/Rxn16qN.png)\r\n\r\n**SSH into your Web app via Bash option and check the Deployed files like below:-**\r\n\r\n```bash\r\nls\r\ncd site\r\nls\r\ncd wwwroot\r\n```\r\n\r\n![enter image description here](https://i.imgur.com/yHyzpOY.png)\r\n\r\n\r\nAlso, Check your Azure Web app Log stream to see if the Files are loading properly during the startup:-\r\n\r\n![enter image description here](https://i.imgur.com/P9ZRJpA.png)","title":"&quot;Success (Active)&quot; Azure WebApp deployment from GitLab CICD doesn&#39;t actually update app","body":"<p>In order for your <strong>Gitlab deployment</strong> to be successful via <strong>Deployment Center</strong> in <strong>Azure Web App</strong>, There are certain steps that you need to follow, Refer below:-</p>\n<p>Refer my <a href=\"https://stackoverflow.com/questions/76870534/gitlab-ci-cd-and-azure-deploying-django/76882652#\"><strong>SO thread answer</strong></a> for deploying CI/CD successfully via Gitlab to Azure Web app.</p>\n<p>In your Azure Web app visit to get the ssh key &gt; <code>https://webapp-name.scm.azurewebsites.net/api/sshkey?ensurePublicKey=1</code></p>\n<p><img src=\"https://i.imgur.com/Kg5azwO.png\" alt=\"enter image description here\" /></p>\n<p><strong>An copy the ssh key to your Gitlab secrets</strong> like below:-</p>\n<p><strong>Visit your Gitlab project &gt; Left section &gt; Settings &gt; Repository &gt; Deploy keys &gt; Expand &gt; copy the ssh key like below</strong></p>\n<p><img src=\"https://i.imgur.com/sWYJMxX.png\" alt=\"enter image description here\" /></p>\n<p>Now visit your <em><strong>Azure Web app Deployment Center &gt; Select External git and copy the Gitlab java project repository clone URL and add the branch name &gt; Save the settings and your Deployment will start like below:-</strong></em></p>\n<p><img src=\"https://i.imgur.com/EOeDQQP.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.imgur.com/volLkR4.png\" alt=\"enter image description here\" /></p>\n<p><strong>Deployment is successful like below:-</strong></p>\n<p><img src=\"https://i.imgur.com/TpzXDKF.png\" alt=\"enter image description here\" /></p>\n<p>If there are any changes to be deployed in the Web app, Either you can deploy them in a separate slots or <strong>Just click on <code>Sync</code> to deploy the latest changes to source control into Azure Web app</strong> like below:-</p>\n<p><img src=\"https://i.imgur.com/HpRkiBd.png\" alt=\"enter image description here\" /></p>\n<p>Now check if your Java files are deployed correctly in the kudu console like below:-</p>\n<p><img src=\"https://i.imgur.com/Rxn16qN.png\" alt=\"enter image description here\" /></p>\n<p><strong>SSH into your Web app via Bash option and check the Deployed files like below:-</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>ls\ncd site\nls\ncd wwwroot\n</code></pre>\n<p><img src=\"https://i.imgur.com/yHyzpOY.png\" alt=\"enter image description here\" /></p>\n<p>Also, Check your Azure Web app Log stream to see if the Files are loading properly during the startup:-</p>\n<p><img src=\"https://i.imgur.com/P9ZRJpA.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":8431824,"reputation":43,"user_id":6327264,"display_name":"Andrel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698741569,"creation_date":1698222150,"question_id":77357763,"body_markdown":"I have an Azure WebApp to which I&#39;m deploying to from a GitLab CICD pipeline. The application is a SOAP WebService written in Java 11, deployed as WAR, to a Free (F1) SKU on Windows.\r\n\r\nInitially I&#39;ve setup the deployment from GitHub, through the UI, and it worked perfectly, my app was deployed and I tested it from Postman, receiving the expected SOAP response, proving the application is actually up and running.\r\n\r\nThen I moved my repo over to GitLab, and started deploying from there using a new CICD pipeline. This seemed to worked well, as I could clearly see each pipeline run as a new deployment entry as Success - and the last one as Success (Active) - in the Logs under Deployment Center, BUT the application did not seem to be actually updated with the changes. This is clear from the fact that I&#39;ve updated the response object but I&#39;m still getting the old one in Postman.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat am I missing? Is it a caching issue? Or the successful deployments are not actually true?\r\n\r\nNote1: Additionally I also tried to setup a completely new WebApp and deploy there right away from GitLab. Here the surface behaviour seem to be the same, Logs section in the Deployment Center shows Success, but this time my app doesn&#39;t even seem to be deployed at all, as instead of my application&#39;s SOAP response I&#39;m getting the generic &quot;&lt;title&gt;Microsoft Azure App Service - Welcome&lt;/title&gt;&quot; HTML page from Azure.\r\n\r\nNote2: In my pipeline I&#39;m also running Ansible to inject an environment variable (APP_VERSION), which runs after the deploy job. I can see this variable being updated with each deployment under Configuration/Application settings, so clearly, the pipeline is doing what it supposed to, except the appication code itself doesn&#39;t seem to be updated somehow. See screenshots below.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nSo at this point it seems the deployment don&#39;t actually deploy anything somehow. Any tips please? Thank you!\r\n/Andr&#225;s\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/36mEy.png\r\n  [2]: https://i.stack.imgur.com/sD9XC.png","title":"&quot;Success (Active)&quot; Azure WebApp deployment from GitLab CICD doesn&#39;t actually update app","body":"<p>I have an Azure WebApp to which I'm deploying to from a GitLab CICD pipeline. The application is a SOAP WebService written in Java 11, deployed as WAR, to a Free (F1) SKU on Windows.</p>\n<p>Initially I've setup the deployment from GitHub, through the UI, and it worked perfectly, my app was deployed and I tested it from Postman, receiving the expected SOAP response, proving the application is actually up and running.</p>\n<p>Then I moved my repo over to GitLab, and started deploying from there using a new CICD pipeline. This seemed to worked well, as I could clearly see each pipeline run as a new deployment entry as Success - and the last one as Success (Active) - in the Logs under Deployment Center, BUT the application did not seem to be actually updated with the changes. This is clear from the fact that I've updated the response object but I'm still getting the old one in Postman.</p>\n<p><a href=\"https://i.stack.imgur.com/36mEy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/36mEy.png\" alt=\"enter image description here\" /></a></p>\n<p>What am I missing? Is it a caching issue? Or the successful deployments are not actually true?</p>\n<p>Note1: Additionally I also tried to setup a completely new WebApp and deploy there right away from GitLab. Here the surface behaviour seem to be the same, Logs section in the Deployment Center shows Success, but this time my app doesn't even seem to be deployed at all, as instead of my application's SOAP response I'm getting the generic &quot;Microsoft Azure App Service - Welcome&quot; HTML page from Azure.</p>\n<p>Note2: In my pipeline I'm also running Ansible to inject an environment variable (APP_VERSION), which runs after the deploy job. I can see this variable being updated with each deployment under Configuration/Application settings, so clearly, the pipeline is doing what it supposed to, except the appication code itself doesn't seem to be updated somehow. See screenshots below.</p>\n<p><a href=\"https://i.stack.imgur.com/sD9XC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sD9XC.png\" alt=\"enter image description here\" /></a></p>\n<p>So at this point it seems the deployment don't actually deploy anything somehow. Any tips please? Thank you!\n/András</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1467717648,"post_id":38202012,"comment_id":63828049,"body_markdown":"No, there is no such thing as &quot;JRE 1.42&quot;. The output means you&#39;re using Java 7 update 45. Java is installed in such a way that it overrides what the alternatives mechanism provides, so the output of the `alternatives` command is not important. You also have the Eclipse Java compiler in your path instead of the Java compiler from the JDK.","body":"No, there is no such thing as &quot;JRE 1.42&quot;. The output means you&#39;re using Java 7 update 45. Java is installed in such a way that it overrides what the alternatives mechanism provides, so the output of the <code>alternatives</code> command is not important. You also have the Eclipse Java compiler in your path instead of the Java compiler from the JDK."},{"owner":{"account_id":1374408,"reputation":47,"user_id":1308702,"display_name":"Sreekumar"},"score":0,"creation_date":1467720069,"post_id":38202012,"comment_id":63829617,"body_markdown":"Thanks for the reply, Actually I am getting &quot;Unsupported major.minor version 51.0&quot; error after uploading a external jar file to Informatica powercenter Java transformation. The class files in jar file have been compiled with 1.7 and tried with other versions too after getting this error while running session. I suspect my Informatica application is running in JRE 1.4 ? does it make sense or any other thoughts ?","body":"Thanks for the reply, Actually I am getting &quot;Unsupported major.minor version 51.0&quot; error after uploading a external jar file to Informatica powercenter Java transformation. The class files in jar file have been compiled with 1.7 and tried with other versions too after getting this error while running session. I suspect my Informatica application is running in JRE 1.4 ? does it make sense or any other thoughts ?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1467722772,"post_id":38202012,"comment_id":63831554,"body_markdown":"That error means you have classes compiled with JDK 7 but you are running them on an older Java version, so somehow indeed something older than the Java 7 that you have installed is being picked up.","body":"That error means you have classes compiled with JDK 7 but you are running them on an older Java version, so somehow indeed something older than the Java 7 that you have installed is being picked up."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1467723694,"creation_date":1467723694,"answer_id":38204169,"question_id":38202012,"body_markdown":"It would appear that you have two versions of Java installed:\r\n\r\n  - The Java on your PATH is Java 1.7.0.  I think it is an Oracle build rather than a build from your Linux system&#39;s package repository.\r\n\r\n  - The Java configured using `alternatives` looks like a GCJ Java that is compatible with Java 1.4.2.  It was probably installed from your package repository. IMO, it is inadvisable to use this from a technical standpoint.  In fact, I would recommend uninstalling it.\r\n\r\n----------------------\r\n\r\n&gt; Actually I am getting &quot;Unsupported major.minor version 51.0&quot; error after uploading a external jar file to Informatica powercenter Java transformation.\r\n\r\nThat implies that Informatica is using the Java 1.4.2 installation.\r\n\r\n----------------------\r\n\r\nNow, the version of Java that an application uses will depend on what version of Java the application&#39;s launcher / launch script is using.  That could depend on a number of things:\r\n\r\n  - If the launcher uses an absolute path for the `java` command, then that is what will use.\r\n  - If the launcher uses a simple name (e.g. `java`) then the version used will depend on the launcher&#39;s `$PATH`.  This is probably what is happening ... and the `$PATH` used is different from your shell&#39;s `$PATH`.\r\n\r\n----------------\r\n\r\nSo what is the solution?\r\n\r\n  - You could add the Oracle Java install to the `alternatives` system.  See `man alternatives` or Google for instructions using &quot;java oracle alternatives install&quot;\r\n\r\n  - You could tweak the $PATH used by the application&#39;s launcher.\r\n\r\n  - Depending on your Linux distro, you could install an OpenJDK 1.7.0 JDK or JRE from the package repos.  That will (should) add the new installed Java to the `alternatives` database, so that you can select it instead of the old GCJ 1.4.2 installation.","title":"Find JRE version of running application on Linux server","body":"<p>It would appear that you have two versions of Java installed:</p>\n\n<ul>\n<li><p>The Java on your PATH is Java 1.7.0.  I think it is an Oracle build rather than a build from your Linux system's package repository.</p></li>\n<li><p>The Java configured using <code>alternatives</code> looks like a GCJ Java that is compatible with Java 1.4.2.  It was probably installed from your package repository. IMO, it is inadvisable to use this from a technical standpoint.  In fact, I would recommend uninstalling it.</p></li>\n</ul>\n\n<hr>\n\n<blockquote>\n  <p>Actually I am getting \"Unsupported major.minor version 51.0\" error after uploading a external jar file to Informatica powercenter Java transformation.</p>\n</blockquote>\n\n<p>That implies that Informatica is using the Java 1.4.2 installation.</p>\n\n<hr>\n\n<p>Now, the version of Java that an application uses will depend on what version of Java the application's launcher / launch script is using.  That could depend on a number of things:</p>\n\n<ul>\n<li>If the launcher uses an absolute path for the <code>java</code> command, then that is what will use.</li>\n<li>If the launcher uses a simple name (e.g. <code>java</code>) then the version used will depend on the launcher's <code>$PATH</code>.  This is probably what is happening ... and the <code>$PATH</code> used is different from your shell's <code>$PATH</code>.</li>\n</ul>\n\n<hr>\n\n<p>So what is the solution?</p>\n\n<ul>\n<li><p>You could add the Oracle Java install to the <code>alternatives</code> system.  See <code>man alternatives</code> or Google for instructions using \"java oracle alternatives install\"</p></li>\n<li><p>You could tweak the $PATH used by the application's launcher.</p></li>\n<li><p>Depending on your Linux distro, you could install an OpenJDK 1.7.0 JDK or JRE from the package repos.  That will (should) add the new installed Java to the <code>alternatives</code> database, so that you can select it instead of the old GCJ 1.4.2 installation.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698741471,"creation_date":1698740830,"answer_id":77394308,"question_id":38202012,"body_markdown":"In general, here&#39;s how you can find out which JRE a program uses:\r\n\r\n## When you&#39;re at liberty to start the program\r\nUse [strace](https://www.man7.org/linux/man-pages/man1/strace.1.html) to start the program: `strace yourJavaProgram`.\r\n\r\nThis should reveal the file path of the JRE that `yourJavaProgram` uses:\r\n\r\n    readlinkat(AT_FDCWD, &quot;/proc/self/exe&quot;, &quot;/usr/lib/jvm/java-17-openjdk/bin&quot;..., 4096) = 37\r\n\r\n## When you want to get the used Java version of a *running* program\r\n* Find the ID of the relevant `java` process with `pgrep --list-full java`. Let&#39;s say the process ID is 1234.\r\n\r\n* Find open files: `ls -l /proc/1234/fd`. This might produce something like:\r\n\r\n    ```lr-x------ 1 mb mb 64 Oct 19 10:52 3 -&gt; /usr/lib/jvm/java-17-openjdk/lib/modules```\r\n\r\n* To see the memory map, including loaded files, of your process: `pmap --show-path 1234`. Excerpt of example output:\r\n\r\n    ```000055d31b9a7000      4K r---- /usr/lib/jvm/java-17-openjdk/bin/java```\r\n","title":"Find JRE version of running application on Linux server","body":"<p>In general, here's how you can find out which JRE a program uses:</p>\n<h2>When you're at liberty to start the program</h2>\n<p>Use <a href=\"https://www.man7.org/linux/man-pages/man1/strace.1.html\" rel=\"nofollow noreferrer\">strace</a> to start the program: <code>strace yourJavaProgram</code>.</p>\n<p>This should reveal the file path of the JRE that <code>yourJavaProgram</code> uses:</p>\n<pre><code>readlinkat(AT_FDCWD, &quot;/proc/self/exe&quot;, &quot;/usr/lib/jvm/java-17-openjdk/bin&quot;..., 4096) = 37\n</code></pre>\n<h2>When you want to get the used Java version of a <em>running</em> program</h2>\n<ul>\n<li><p>Find the ID of the relevant <code>java</code> process with <code>pgrep --list-full java</code>. Let's say the process ID is 1234.</p>\n</li>\n<li><p>Find open files: <code>ls -l /proc/1234/fd</code>. This might produce something like:</p>\n<p><code>lr-x------ 1 mb mb 64 Oct 19 10:52 3 -&gt; /usr/lib/jvm/java-17-openjdk/lib/modules</code></p>\n</li>\n<li><p>To see the memory map, including loaded files, of your process: <code>pmap --show-path 1234</code>. Excerpt of example output:</p>\n<p><code>000055d31b9a7000      4K r---- /usr/lib/jvm/java-17-openjdk/bin/java</code></p>\n</li>\n</ul>\n"}],"owner":{"account_id":1374408,"reputation":47,"user_id":1308702,"display_name":"Sreekumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38204169,"answer_count":2,"score":1,"last_activity_date":1698741471,"creation_date":1467717188,"question_id":38202012,"body_markdown":"I am getting the results below, do they mean I have JDK 1.7.0_45 and the JRE is 1.42?\r\n\r\n    $ javac -version\r\n    Eclipse Java Compiler v_677_R32x, 3.2.1 release, Copyright IBM Corp 2000, 2006. All rights reserved.\r\n    $ java -version\r\n    java version &quot;1.7.0_45&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_45-b18)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\r\n    $ alternatives --config java\r\n    There is 1 program that provides &#39;java&#39;.\r\n\r\n      Selection    Command\r\n    -----------------------------------------------\r\n    *+ 1           **/usr/lib/jvm/jre-1.4.2-gcj/bin/java**\r\n\r\n    Enter to keep the current selection[+], or type selection number:\r\n\r\n","title":"Find JRE version of running application on Linux server","body":"<p>I am getting the results below, do they mean I have JDK 1.7.0_45 and the JRE is 1.42?</p>\n<pre><code>$ javac -version\nEclipse Java Compiler v_677_R32x, 3.2.1 release, Copyright IBM Corp 2000, 2006. All rights reserved.\n$ java -version\njava version &quot;1.7.0_45&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_45-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 24.45-b08, mixed mode)\n$ alternatives --config java\nThere is 1 program that provides 'java'.\n\n  Selection    Command\n-----------------------------------------------\n*+ 1           **/usr/lib/jvm/jre-1.4.2-gcj/bin/java**\n\nEnter to keep the current selection[+], or type selection number:\n</code></pre>\n"},{"tags":["java","mysql","jdbc","prepared-statement","sql-injection"],"comments":[{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1698681029,"post_id":77387828,"comment_id":136432929,"body_markdown":"I do the same thing you described as your current solution: building an SQL query as a string with application logic to append search terms to the query based on inputs, is how I solved it. Just be careful to allowlist the columns. Do not use the input directly in your SQL query, or that will be SQL injection.","body":"I do the same thing you described as your current solution: building an SQL query as a string with application logic to append search terms to the query based on inputs, is how I solved it. Just be careful to allowlist the columns. Do not use the input directly in your SQL query, or that will be SQL injection."},{"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"score":0,"creation_date":1698696282,"post_id":77387828,"comment_id":136435715,"body_markdown":"Is that the way companies deal with this ?","body":"Is that the way companies deal with this ?"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1698696981,"post_id":77387828,"comment_id":136435820,"body_markdown":"It is the more popular solution everywhere I&#39;ve worked. The solution in Akina&#39;s answer is clever, but I have never seen anyone use it in a real company.","body":"It is the more popular solution everywhere I&#39;ve worked. The solution in Akina&#39;s answer is clever, but I have never seen anyone use it in a real company."},{"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"score":0,"creation_date":1698737768,"post_id":77387828,"comment_id":136439899,"body_markdown":"Also i thought of making a generator which generates queries for the Prepared Statement Class. That way i can take advantage of the SQL Injection safety the class provides at the cost of developing my QueryGenerator more.\nIn any case , i never have worked in a company and i m glad i found the solution by myself :D haha","body":"Also i thought of making a generator which generates queries for the Prepared Statement Class. That way i can take advantage of the SQL Injection safety the class provides at the cost of developing my QueryGenerator more. In any case , i never have worked in a company and i m glad i found the solution by myself :D haha"},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1698761131,"post_id":77387828,"comment_id":136444277,"body_markdown":"Yes, do use query parameters instead of interpolating variables into the SQL query. Those who don&#39;t end up explaining why their site got hacked because of their code!","body":"Yes, do use query parameters instead of interpolating variables into the SQL query. Those who don&#39;t end up explaining why their site got hacked because of their code!"}],"answers":[{"comments":[{"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"score":0,"creation_date":1698662393,"post_id":77387895,"comment_id":136429341,"body_markdown":"Thank you but  i dont need to JOIN tables.\nI have one table and just need to make the search easy and not too complicated to code it.\nIf you have the time can you please explain how the code you provided works with JDBC?","body":"Thank you but  i dont need to JOIN tables. I have one table and just need to make the search easy and not too complicated to code it. If you have the time can you please explain how the code you provided works with JDBC?"}],"tags":[],"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698661943,"creation_date":1698661943,"answer_id":77387895,"question_id":77387828,"body_markdown":"```\r\nSELECT table.*\r\nFROM table\r\nJOIN ( SELECT @column1 AS column1\r\n            , @column2 AS column2\r\n                 ......\r\n            , @column9 AS column9 \r\n       ) AS criteria ON ( table.column1 = criteria.column1 OR criteria.column1 IS NULL)\r\n                    AND ( table.column2 = criteria.column2 OR criteria.column2 IS NULL)\r\n                                      ..........\r\n                    AND ( table.column9 = criteria.column1 OR criteria.column9 IS NULL)\r\n```\r\nIf the user have entered the value for some column then you provide entered criteria  into the query else you provide NULL (`command.Parameters.AddWithValue(&quot;@columnX&quot;, (object)value ?? DBNull.Value)`).","title":"How to handle SQL queries to a database with a propability of 100+ combinations?","body":"<pre><code>SELECT table.*\nFROM table\nJOIN ( SELECT @column1 AS column1\n            , @column2 AS column2\n                 ......\n            , @column9 AS column9 \n       ) AS criteria ON ( table.column1 = criteria.column1 OR criteria.column1 IS NULL)\n                    AND ( table.column2 = criteria.column2 OR criteria.column2 IS NULL)\n                                      ..........\n                    AND ( table.column9 = criteria.column1 OR criteria.column9 IS NULL)\n</code></pre>\n<p>If the user have entered the value for some column then you provide entered criteria  into the query else you provide NULL (<code>command.Parameters.AddWithValue(&quot;@columnX&quot;, (object)value ?? DBNull.Value)</code>).</p>\n"},{"comments":[{"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"score":0,"creation_date":1698785534,"post_id":77394352,"comment_id":136449172,"body_markdown":"Thank you very much for your answer!\nI actually implemented the second solution via Java code. Is it optimal to do the implementation of solution in the database or you can choose to do it in your server for example?","body":"Thank you very much for your answer! I actually implemented the second solution via Java code. Is it optimal to do the implementation of solution in the database or you can choose to do it in your server for example?"},{"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"score":0,"creation_date":1698927022,"post_id":77394352,"comment_id":136467768,"body_markdown":"Both options (DB service or client generated SQL Query) are possible. What is better (optimal) dependes only on the developers orientation (DB centered vs. client centered;) @ΝίκοςΑνδρεάδης","body":"Both options (DB service or client generated SQL Query) are possible. What is better (optimal) dependes only on the developers orientation (DB centered vs. client centered;) @ΝίκοςΑνδρεάδης"},{"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"score":1,"creation_date":1698941891,"post_id":77394352,"comment_id":136471075,"body_markdown":"I dont have the reputation to upvote yet :P","body":"I dont have the reputation to upvote yet :P"}],"tags":[],"owner":{"account_id":6169361,"reputation":20329,"user_id":4808122,"accept_rate":89,"display_name":"Marmite Bomber"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698741242,"creation_date":1698741242,"answer_id":77394352,"question_id":77387828,"body_markdown":"You have basically two possibilities to approach this problem. \r\n\r\nThe first one uses one statement with the **OR conditions handling the missing criteria**.\r\n\r\nThe second approach uses **dynamically generated statement containing only the predicates with given values**.\r\n\r\nThe drawback of the first solution is that you get *one* statement, i.e. *one execution plan* that handles all inputs. \r\n\r\nThe second solution allow to select the proper execution plan based on the input. The drawback is that you land with a *different number* of bind variables, which makes it technically difficult to handle.\r\n\r\nHere comes in the idea popularized for years by [Tom Kyte][1]  \r\n\r\nYou generate the predicate for each selection, but dependent on if the value is given or not:\r\n\r\n    column = :bind_variable -- if the value is passed\r\n\r\n    (1=1 or :bind_variable is NULL) – if no value is NOT passed\r\n\r\nThe shortcut logic eliminates the predicates with no values but you get the complete number of bind variables in the prepared statement.\r\n\r\n**Example with three column all passed**\r\n\r\n    where\r\n    col1 = :1 and\r\n    col2 = :2 and\r\n    col3 = :3\r\n\r\n**Example with one input**\r\n\r\n    where\r\n    col1 = :1 and\r\n    (1=1 or :2 is NULL) and\r\n    (1=1 or :3 is NULL)\r\n\r\n  \r\n\r\n**Example with no input**\r\n\r\n    where\r\n    (1=1 or :1 is NULL) and\r\n    (1=1 or :2 is NULL) and\r\n    (1=1 or :3 is NULL)\r\n\r\nHere the Oracle execution plan for the second example showing that only the `col1` predicate is evaluated, all other are discarded. Similar is valid for PostgreSQL, I did not test MySQL.\r\n\r\n    ------------------------------------------------------------------------------------------------\r\n    | Id  | Operation                           | Name     | Rows  | Bytes | Cost (%CPU)| Time     |\r\n    ------------------------------------------------------------------------------------------------\r\n    |   0 | SELECT STATEMENT                    |          |     1 |    18 |     4   (0)| 00:00:01 |\r\n    |   1 |  TABLE ACCESS BY INDEX ROWID BATCHED| TEST     |     1 |    18 |     4   (0)| 00:00:01 |\r\n    |*  2 |   INDEX RANGE SCAN                  | COL1_IDX |     1 |       |     3   (0)| 00:00:01 |\r\n    ------------------------------------------------------------------------------------------------\r\n    \r\n    Predicate Information (identified by operation id):\r\n    ---------------------------------------------------\r\n     \r\n       2 - access(&quot;COL1&quot;=TO_NUMBER(:1))\r\n\r\nFor the third query (no criteria) you end with a `full table scan`\r\n\r\n    --------------------------------------------------------------------------\r\n    | Id  | Operation         | Name | Rows  | Bytes | Cost (%CPU)| Time     |\r\n    --------------------------------------------------------------------------\r\n    |   0 | SELECT STATEMENT  |      |  1000K|    17M|   896   (1)| 00:00:01 |\r\n    |   1 |  TABLE ACCESS FULL| TEST |  1000K|    17M|   896   (1)| 00:00:01 |\r\n    --------------------------------------------------------------------------\r\n\r\n*So if the cardinality of the result is highly dependent on the selection this approach is more suitable that the one size fits all `OR` predicate solution*. \r\n\r\n\r\n  [1]: https://asktom.oracle.com/Misc/oramag/on-popularity-and-natural-selection.html","title":"How to handle SQL queries to a database with a propability of 100+ combinations?","body":"<p>You have basically two possibilities to approach this problem.</p>\n<p>The first one uses one statement with the <strong>OR conditions handling the missing criteria</strong>.</p>\n<p>The second approach uses <strong>dynamically generated statement containing only the predicates with given values</strong>.</p>\n<p>The drawback of the first solution is that you get <em>one</em> statement, i.e. <em>one execution plan</em> that handles all inputs.</p>\n<p>The second solution allow to select the proper execution plan based on the input. The drawback is that you land with a <em>different number</em> of bind variables, which makes it technically difficult to handle.</p>\n<p>Here comes in the idea popularized for years by <a href=\"https://asktom.oracle.com/Misc/oramag/on-popularity-and-natural-selection.html\" rel=\"nofollow noreferrer\">Tom Kyte</a></p>\n<p>You generate the predicate for each selection, but dependent on if the value is given or not:</p>\n<pre><code>column = :bind_variable -- if the value is passed\n\n(1=1 or :bind_variable is NULL) – if no value is NOT passed\n</code></pre>\n<p>The shortcut logic eliminates the predicates with no values but you get the complete number of bind variables in the prepared statement.</p>\n<p><strong>Example with three column all passed</strong></p>\n<pre><code>where\ncol1 = :1 and\ncol2 = :2 and\ncol3 = :3\n</code></pre>\n<p><strong>Example with one input</strong></p>\n<pre><code>where\ncol1 = :1 and\n(1=1 or :2 is NULL) and\n(1=1 or :3 is NULL)\n</code></pre>\n<p><strong>Example with no input</strong></p>\n<pre><code>where\n(1=1 or :1 is NULL) and\n(1=1 or :2 is NULL) and\n(1=1 or :3 is NULL)\n</code></pre>\n<p>Here the Oracle execution plan for the second example showing that only the <code>col1</code> predicate is evaluated, all other are discarded. Similar is valid for PostgreSQL, I did not test MySQL.</p>\n<pre><code>------------------------------------------------------------------------------------------------\n| Id  | Operation                           | Name     | Rows  | Bytes | Cost (%CPU)| Time     |\n------------------------------------------------------------------------------------------------\n|   0 | SELECT STATEMENT                    |          |     1 |    18 |     4   (0)| 00:00:01 |\n|   1 |  TABLE ACCESS BY INDEX ROWID BATCHED| TEST     |     1 |    18 |     4   (0)| 00:00:01 |\n|*  2 |   INDEX RANGE SCAN                  | COL1_IDX |     1 |       |     3   (0)| 00:00:01 |\n------------------------------------------------------------------------------------------------\n\nPredicate Information (identified by operation id):\n---------------------------------------------------\n \n   2 - access(&quot;COL1&quot;=TO_NUMBER(:1))\n</code></pre>\n<p>For the third query (no criteria) you end with a <code>full table scan</code></p>\n<pre><code>--------------------------------------------------------------------------\n| Id  | Operation         | Name | Rows  | Bytes | Cost (%CPU)| Time     |\n--------------------------------------------------------------------------\n|   0 | SELECT STATEMENT  |      |  1000K|    17M|   896   (1)| 00:00:01 |\n|   1 |  TABLE ACCESS FULL| TEST |  1000K|    17M|   896   (1)| 00:00:01 |\n--------------------------------------------------------------------------\n</code></pre>\n<p><em>So if the cardinality of the result is highly dependent on the selection this approach is more suitable that the one size fits all <code>OR</code> predicate solution</em>.</p>\n"}],"owner":{"account_id":19520006,"reputation":11,"user_id":22826716,"display_name":"Νίκος Ανδρεάδης"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698741242,"creation_date":1698661256,"question_id":77387828,"body_markdown":"I have 9 fields to my user interface , each one is representing a column in my database table.\r\nSo the problem is that i need to cover all the possible combinations of the 9 fields and send specific queries to the database.\r\nExample :\r\nIf the user puts 2 fields , i return all the items from the DB that matches to the combination of these 2 items.\r\nIf the user puts 3 fields , i return all the items from the DB that matches to the combination of these 3 items.\r\nIts obvious that the combinations are 100+ if you calculate them.\r\nUsing JAVA and MySQL with JDBC driver, the Prepared Statement is provided which secures SQL Injection.\r\nBut this way , i should make 100+ functions just to cover all the combinations and the code will be repititive .\r\n\r\n\r\n\r\n\r\nHOW I SOLVE IT :\r\nI created a Query Generator which takes the input the user entered and creates an SQL QUERY as a String.\r\nThen i pass it to the DB using the Statement Class . This way i cover all the possible combinations but i have to craft SQL Injection protection from zero by my own and generally it is a custom solution to a problem that i m sure its already solved.\r\n\r\nIf there is an official way to do this please let me know!","title":"How to handle SQL queries to a database with a propability of 100+ combinations?","body":"<p>I have 9 fields to my user interface , each one is representing a column in my database table.\nSo the problem is that i need to cover all the possible combinations of the 9 fields and send specific queries to the database.\nExample :\nIf the user puts 2 fields , i return all the items from the DB that matches to the combination of these 2 items.\nIf the user puts 3 fields , i return all the items from the DB that matches to the combination of these 3 items.\nIts obvious that the combinations are 100+ if you calculate them.\nUsing JAVA and MySQL with JDBC driver, the Prepared Statement is provided which secures SQL Injection.\nBut this way , i should make 100+ functions just to cover all the combinations and the code will be repititive .</p>\n<p>HOW I SOLVE IT :\nI created a Query Generator which takes the input the user entered and creates an SQL QUERY as a String.\nThen i pass it to the DB using the Statement Class . This way i cover all the possible combinations but i have to craft SQL Injection protection from zero by my own and generally it is a custom solution to a problem that i m sure its already solved.</p>\n<p>If there is an official way to do this please let me know!</p>\n"},{"tags":["java","html","css","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":1,"creation_date":1698758027,"post_id":77392398,"comment_id":136443570,"body_markdown":"If you use Spring Security, then you need to allow the CSS files already without authentication. See https://stackoverflow.com/questions/44304578/static-web-resources-in-spring-boot-spring-security-thymeleaf","body":"If you use Spring Security, then you need to allow the CSS files already without authentication. See <a href=\"https://stackoverflow.com/questions/44304578/static-web-resources-in-spring-boot-spring-security-thymeleaf\" title=\"static web resources in spring boot spring security thymeleaf\">stackoverflow.com/questions/44304578/&hellip;</a>"}],"owner":{"account_id":18876645,"reputation":1981,"user_id":13770014,"display_name":"milanHrabos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698740681,"creation_date":1698708556,"question_id":77392398,"body_markdown":"Having this `resources` layout in spring-boot app:\r\n\r\n    $ tree -L 2 resources/\r\n    resources/\r\n    ├── application.properties\r\n    ├── static\r\n    │&#160;&#160; ├── css\r\n    │&#160;&#160; ├── img\r\n    │&#160;&#160; ├── js\r\n    │&#160;&#160; ├── scss\r\n    │&#160;&#160; └── vendor\r\n    └── templates\r\n        └── login.html\r\n\r\n\r\n*login.html*:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    \r\n    &lt;head&gt;\r\n    \r\n      &lt;meta charset=&quot;utf-8&quot;&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n      &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n      &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\r\n    \r\n      &lt;title&gt;SB Admin 2 - Login&lt;/title&gt;\r\n    \r\n      &lt;!-- Custom fonts for this template--&gt;\r\n      &lt;link th:href=&quot;@{/vendor/fontawesome-free/css/all.min.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\r\n      &lt;link\r\n        href=&quot;https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&quot;\r\n        rel=&quot;stylesheet&quot;&gt;\r\n    \r\n      &lt;!-- Custom styles for this template--&gt;\r\n      &lt;link th:href=&quot;@{/css/sb-admin-2.min.css}&quot; rel=&quot;stylesheet&quot;&gt;\r\n    \r\n    &lt;/head&gt;\r\n    \r\n    &lt;body class=&quot;bg-gradient-primary&quot;&gt;\r\n    \r\n      &lt;div class=&quot;container&quot;&gt;\r\n    \r\n        &lt;!-- Outer Row --&gt;\r\n        &lt;div class=&quot;row justify-content-center&quot;&gt;\r\n    \r\n          &lt;div class=&quot;col-xl-10 col-lg-12 col-md-9&quot;&gt;\r\n    \r\n            &lt;div class=&quot;card o-hidden border-0 shadow-lg my-5&quot;&gt;\r\n              &lt;div class=&quot;card-body p-0&quot;&gt;\r\n                &lt;!-- Nested Row within Card Body --&gt;\r\n                &lt;div class=&quot;row&quot;&gt;\r\n                  &lt;div class=&quot;col-lg-6 d-none d-lg-block bg-login-image&quot;&gt;&lt;/div&gt;\r\n                  &lt;div class=&quot;col-lg-6&quot;&gt;\r\n                    &lt;div class=&quot;p-5&quot;&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;h1 class=&quot;h4 text-gray-900 mb-4&quot;&gt;Welcome Back!&lt;/h1&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;form class=&quot;user&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                          &lt;input type=&quot;email&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputEmail&quot;\r\n                            aria-describedby=&quot;emailHelp&quot; placeholder=&quot;Enter Email Address...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                          &lt;input type=&quot;password&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputPassword&quot;\r\n                            placeholder=&quot;Password&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                          &lt;div class=&quot;custom-control custom-checkbox small&quot;&gt;\r\n                            &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot; id=&quot;customCheck&quot;&gt;\r\n                            &lt;label class=&quot;custom-control-label&quot; for=&quot;customCheck&quot;&gt;Remember\r\n                              Me&lt;/label&gt;\r\n                          &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;a href=&quot;index.html&quot; class=&quot;btn btn-primary btn-user btn-block&quot;&gt;\r\n                          Login\r\n                        &lt;/a&gt;\r\n                        &lt;hr&gt;\r\n                        &lt;a href=&quot;index.html&quot; class=&quot;btn btn-google btn-user btn-block&quot;&gt;\r\n                          &lt;i class=&quot;fab fa-google fa-fw&quot;&gt;&lt;/i&gt; Login with Google\r\n                        &lt;/a&gt;\r\n                        &lt;a href=&quot;index.html&quot; class=&quot;btn btn-facebook btn-user btn-block&quot;&gt;\r\n                          &lt;i class=&quot;fab fa-facebook-f fa-fw&quot;&gt;&lt;/i&gt; Login with Facebook\r\n                        &lt;/a&gt;\r\n                      &lt;/form&gt;\r\n                      &lt;hr&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;a class=&quot;small&quot; href=&quot;forgot-password.html&quot;&gt;Forgot Password?&lt;/a&gt;\r\n                      &lt;/div&gt;\r\n                      &lt;div class=&quot;text-center&quot;&gt;\r\n                        &lt;a class=&quot;small&quot; href=&quot;register.html&quot;&gt;Create an Account!&lt;/a&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n    \r\n          &lt;/div&gt;\r\n    \r\n        &lt;/div&gt;\r\n    \r\n      &lt;/div&gt;\r\n    \r\n      &lt;!-- Bootstrap core JavaScript--&gt;\r\n      &lt;script th:src=&quot;@{/vendor/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n      &lt;script th:src=&quot;@{/vendor/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n      &lt;!-- Core plugin JavaScript--&gt;\r\n      &lt;script th:src=&quot;@{/vendor/jquery-easing/jquery.easing.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n      &lt;!-- Custom scripts for all pages--&gt;\r\n      &lt;script th:src=&quot;@{/js/sb-admin-2.min.js}&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n    \r\n    &lt;/html&gt;\r\n\r\nwhich is login from [https://startbootstrap.com/theme/sb-admin-2][1] dash board, when running the spring boot app the css does not loads. Does thymeleaf knows about the folders is `static/`? This is firefox console:\r\n\r\n    Some cookies are misusing the recommended “SameSite“ attribute 6\r\n    Cookie “JSESSIONID” does not have a proper “SameSite” attribute value. Soon, cookies without the “SameSite” attribute or with an invalid value will be treated as “Lax”. This means that the cookie will no longer be sent in third-party contexts. If your application depends on this cookie being available in such contexts, please add the “SameSite=None“ attribute to it. To know more about the “SameSite“ attribute, read https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie/SameSite jquery.min.js\r\n    The resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\r\n    login\r\n    Loading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/jquery/jquery.min.js”. login:91:45\r\n    The resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\r\n    3 login\r\n    Loading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/bootstrap/js/bootstrap.bundle.min.js”. login:92:61\r\n    The resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\r\n    2 login\r\n    Loading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js”. login:95:59\r\n    The resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\r\n    login\r\n    Loading failed for the &lt;script&gt; with source “http://localhost:8080/js/sb-admin-2.min.js”. login:98:38\r\n\r\n\r\n  [1]: https://startbootstrap.com/theme/sb-admin-2","title":"how to load static resources in thymeleaf","body":"<p>Having this <code>resources</code> layout in spring-boot app:</p>\n<pre><code>$ tree -L 2 resources/\nresources/\n├── application.properties\n├── static\n│   ├── css\n│   ├── img\n│   ├── js\n│   ├── scss\n│   └── vendor\n└── templates\n    └── login.html\n</code></pre>\n<p><em>login.html</em>:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n\n  &lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n  &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n  &lt;meta name=&quot;author&quot; content=&quot;&quot;&gt;\n\n  &lt;title&gt;SB Admin 2 - Login&lt;/title&gt;\n\n  &lt;!-- Custom fonts for this template--&gt;\n  &lt;link th:href=&quot;@{/vendor/fontawesome-free/css/all.min.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;\n  &lt;link\n    href=&quot;https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i&quot;\n    rel=&quot;stylesheet&quot;&gt;\n\n  &lt;!-- Custom styles for this template--&gt;\n  &lt;link th:href=&quot;@{/css/sb-admin-2.min.css}&quot; rel=&quot;stylesheet&quot;&gt;\n\n&lt;/head&gt;\n\n&lt;body class=&quot;bg-gradient-primary&quot;&gt;\n\n  &lt;div class=&quot;container&quot;&gt;\n\n    &lt;!-- Outer Row --&gt;\n    &lt;div class=&quot;row justify-content-center&quot;&gt;\n\n      &lt;div class=&quot;col-xl-10 col-lg-12 col-md-9&quot;&gt;\n\n        &lt;div class=&quot;card o-hidden border-0 shadow-lg my-5&quot;&gt;\n          &lt;div class=&quot;card-body p-0&quot;&gt;\n            &lt;!-- Nested Row within Card Body --&gt;\n            &lt;div class=&quot;row&quot;&gt;\n              &lt;div class=&quot;col-lg-6 d-none d-lg-block bg-login-image&quot;&gt;&lt;/div&gt;\n              &lt;div class=&quot;col-lg-6&quot;&gt;\n                &lt;div class=&quot;p-5&quot;&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;h1 class=&quot;h4 text-gray-900 mb-4&quot;&gt;Welcome Back!&lt;/h1&gt;\n                  &lt;/div&gt;\n                  &lt;form class=&quot;user&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;input type=&quot;email&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputEmail&quot;\n                        aria-describedby=&quot;emailHelp&quot; placeholder=&quot;Enter Email Address...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;input type=&quot;password&quot; class=&quot;form-control form-control-user&quot; id=&quot;exampleInputPassword&quot;\n                        placeholder=&quot;Password&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                      &lt;div class=&quot;custom-control custom-checkbox small&quot;&gt;\n                        &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot; id=&quot;customCheck&quot;&gt;\n                        &lt;label class=&quot;custom-control-label&quot; for=&quot;customCheck&quot;&gt;Remember\n                          Me&lt;/label&gt;\n                      &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;a href=&quot;index.html&quot; class=&quot;btn btn-primary btn-user btn-block&quot;&gt;\n                      Login\n                    &lt;/a&gt;\n                    &lt;hr&gt;\n                    &lt;a href=&quot;index.html&quot; class=&quot;btn btn-google btn-user btn-block&quot;&gt;\n                      &lt;i class=&quot;fab fa-google fa-fw&quot;&gt;&lt;/i&gt; Login with Google\n                    &lt;/a&gt;\n                    &lt;a href=&quot;index.html&quot; class=&quot;btn btn-facebook btn-user btn-block&quot;&gt;\n                      &lt;i class=&quot;fab fa-facebook-f fa-fw&quot;&gt;&lt;/i&gt; Login with Facebook\n                    &lt;/a&gt;\n                  &lt;/form&gt;\n                  &lt;hr&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;a class=&quot;small&quot; href=&quot;forgot-password.html&quot;&gt;Forgot Password?&lt;/a&gt;\n                  &lt;/div&gt;\n                  &lt;div class=&quot;text-center&quot;&gt;\n                    &lt;a class=&quot;small&quot; href=&quot;register.html&quot;&gt;Create an Account!&lt;/a&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n\n    &lt;/div&gt;\n\n  &lt;/div&gt;\n\n  &lt;!-- Bootstrap core JavaScript--&gt;\n  &lt;script th:src=&quot;@{/vendor/jquery/jquery.min.js}&quot;&gt;&lt;/script&gt;\n  &lt;script th:src=&quot;@{/vendor/bootstrap/js/bootstrap.bundle.min.js}&quot;&gt;&lt;/script&gt;\n\n  &lt;!-- Core plugin JavaScript--&gt;\n  &lt;script th:src=&quot;@{/vendor/jquery-easing/jquery.easing.min.js}&quot;&gt;&lt;/script&gt;\n\n  &lt;!-- Custom scripts for all pages--&gt;\n  &lt;script th:src=&quot;@{/js/sb-admin-2.min.js}&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>which is login from <a href=\"https://startbootstrap.com/theme/sb-admin-2\" rel=\"nofollow noreferrer\">https://startbootstrap.com/theme/sb-admin-2</a> dash board, when running the spring boot app the css does not loads. Does thymeleaf knows about the folders is <code>static/</code>? This is firefox console:</p>\n<pre><code>Some cookies are misusing the recommended “SameSite“ attribute 6\nCookie “JSESSIONID” does not have a proper “SameSite” attribute value. Soon, cookies without the “SameSite” attribute or with an invalid value will be treated as “Lax”. This means that the cookie will no longer be sent in third-party contexts. If your application depends on this cookie being available in such contexts, please add the “SameSite=None“ attribute to it. To know more about the “SameSite“ attribute, read https://developer.mozilla.org/docs/Web/HTTP/Headers/Set-Cookie/SameSite jquery.min.js\nThe resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\nlogin\nLoading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/jquery/jquery.min.js”. login:91:45\nThe resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\n3 login\nLoading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/bootstrap/js/bootstrap.bundle.min.js”. login:92:61\nThe resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\n2 login\nLoading failed for the &lt;script&gt; with source “http://localhost:8080/vendor/jquery-easing/jquery.easing.min.js”. login:95:59\nThe resource from “http://localhost:8080/login” was blocked due to MIME type (“text/html”) mismatch (X-Content-Type-Options: nosniff).\nlogin\nLoading failed for the &lt;script&gt; with source “http://localhost:8080/js/sb-admin-2.min.js”. login:98:38\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1494059352,"post_id":43818248,"comment_id":74675266,"body_markdown":"post your configuration class","body":"post your configuration class"},{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":0,"creation_date":1494092205,"post_id":43818248,"comment_id":74685166,"body_markdown":"I added my stack trace and App.java. Is that what you&#39;re looking for? @DoNhuVy","body":"I added my stack trace and App.java. Is that what you&#39;re looking for? @DoNhuVy"}],"answers":[{"comments":[{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":1,"creation_date":1494091932,"post_id":43818662,"comment_id":74685091,"body_markdown":"This does not work for me. I get the following error, although there&#39;s clearly a database.properties file sitting in the resources folder. `org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist`","body":"This does not work for me. I get the following error, although there&#39;s clearly a database.properties file sitting in the resources folder. <code>org.springframework.beans.factory.BeanDefinitionStoreExcepti&zwnj;&#8203;on: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist</code>"}],"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494061600,"creation_date":1494061600,"answer_id":43818662,"question_id":43818248,"body_markdown":"have tried the following approach?\r\n\r\n    @Component\r\n    @PropertySource(&quot;database.properties&quot;)\r\n    public class DynamoClientMapper { ...}\r\n\r\n\r\nor \r\n\r\n     @Service\r\n     @PropertySource(&quot;database.properties&quot;)\r\n     public class DynamoClientMapper { ...}\r\n\r\n","title":"Spring Boot not recognizing application.properties file","body":"<p>have tried the following approach?</p>\n\n<pre><code>@Component\n@PropertySource(\"database.properties\")\npublic class DynamoClientMapper { ...}\n</code></pre>\n\n<p>or </p>\n\n<pre><code> @Service\n @PropertySource(\"database.properties\")\n public class DynamoClientMapper { ...}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":0,"creation_date":1494092039,"post_id":43818675,"comment_id":74685121,"body_markdown":"Thank you, but this does not work for me. I get the following error: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist","body":"Thank you, but this does not work for me. I get the following error: org.springframework.beans.factory.BeanDefinitionStoreExcepti&zwnj;&#8203;on: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist"},{"owner":{"account_id":6011673,"reputation":181,"user_id":4721934,"display_name":"jshcode"},"score":0,"creation_date":1494100447,"post_id":43818675,"comment_id":74687605,"body_markdown":"That&#39;s obvious expectation that database.properties should be in your classpath. you can put it in resources folder, same location as application.properties unless for some reason you cannot do that and need to keep it in external location then you will have to provide file path in PropertySource as described here - http://stackoverflow.com/questions/29013760/spring-boot-add-external-property-files","body":"That&#39;s obvious expectation that database.properties should be in your classpath. you can put it in resources folder, same location as application.properties unless for some reason you cannot do that and need to keep it in external location then you will have to provide file path in PropertySource as described here - <a href=\"http://stackoverflow.com/questions/29013760/spring-boot-add-external-property-files\" title=\"spring boot add external property files\">stackoverflow.com/questions/29013760/&hellip;</a>"},{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":0,"creation_date":1494104519,"post_id":43818675,"comment_id":74688715,"body_markdown":"It is indeed in the same location as application.properties (see my screenshot of my directory tree).","body":"It is indeed in the same location as application.properties (see my screenshot of my directory tree)."}],"tags":[],"owner":{"account_id":6011673,"reputation":181,"user_id":4721934,"display_name":"jshcode"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494061651,"creation_date":1494061651,"answer_id":43818675,"question_id":43818248,"body_markdown":"Instead of @EnableAutoConfiguration, use @Configuration as below. Also you will need to fix aws region property as its differing in name between prop file and code - [amazon.dynamodb.region vs amazon.aws.region] - this will throw error once it starts picking up property file after below change.. \r\n\r\n    @Configuration\r\n    @PropertySource(&quot;database.properties&quot;)\r\n    public class DynamoClientMapper {\r\n    \r\n        @Value(&quot;${amazon.dynamodb.endpoint}&quot;)\r\n        private String amazonDynamoDBEndpoint;\r\n    \r\n        @Value(&quot;${amazon.aws.accesskey}&quot;)\r\n        private String amazonAWSAccessKey;\r\n    \r\n        @Value(&quot;${amazon.aws.secretkey}&quot;)\r\n        private String amazonAWSSecretKey;\r\n    \r\n        @Value(&quot;${amazon.aws.region}&quot;)\r\n        private String amazonAWSRegion;","title":"Spring Boot not recognizing application.properties file","body":"<p>Instead of @EnableAutoConfiguration, use @Configuration as below. Also you will need to fix aws region property as its differing in name between prop file and code - [amazon.dynamodb.region vs amazon.aws.region] - this will throw error once it starts picking up property file after below change.. </p>\n\n<pre><code>@Configuration\n@PropertySource(\"database.properties\")\npublic class DynamoClientMapper {\n\n    @Value(\"${amazon.dynamodb.endpoint}\")\n    private String amazonDynamoDBEndpoint;\n\n    @Value(\"${amazon.aws.accesskey}\")\n    private String amazonAWSAccessKey;\n\n    @Value(\"${amazon.aws.secretkey}\")\n    private String amazonAWSSecretKey;\n\n    @Value(\"${amazon.aws.region}\")\n    private String amazonAWSRegion;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":1,"creation_date":1494092156,"post_id":43820983,"comment_id":74685153,"body_markdown":"Thank you, but neither solution you mentioned works for me. I receive this error. I clearly have a file called database.properties in my resources folder. `org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist`","body":"Thank you, but neither solution you mentioned works for me. I receive this error. I clearly have a file called database.properties in my resources folder. <code>org.springframework.beans.factory.BeanDefinitionStoreExcepti&zwnj;&#8203;on: Failed to parse configuration class [main.java.com.dining.App]; nested exception is java.io.FileNotFoundException: class path resource [database.properties] cannot be opened because it does not exist</code>"},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":0,"creation_date":1494098525,"post_id":43820983,"comment_id":74687053,"body_markdown":"@YuChen Please check the update and let me know the status.","body":"@YuChen Please check the update and let me know the status."},{"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"score":0,"creation_date":1494106158,"post_id":43820983,"comment_id":74689106,"body_markdown":"still no luck. If you&#39;d like, you can clone a copy of the spring boot project from my repo and see for yourself: www.github.com/ychennay/DiningApplication. It&#39;s been pretty frustrating.","body":"still no luck. If you&#39;d like, you can clone a copy of the spring boot project from my repo and see for yourself: www.github.com/ychennay/DiningApplication. It&#39;s been pretty frustrating."},{"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"score":3,"creation_date":1494138035,"post_id":43820983,"comment_id":74694300,"body_markdown":"@YuChen You have some version missing in pom.xml file. I have resolved all and run successfully. All outputs are attached. So replace your pom.xml and let me know if any issue arises.","body":"@YuChen You have some version missing in pom.xml file. I have resolved all and run successfully. All outputs are attached. So replace your pom.xml and let me know if any issue arises."},{"owner":{"account_id":3642941,"reputation":293,"user_id":3036659,"accept_rate":0,"display_name":"Buckstabue"},"score":0,"creation_date":1588721735,"post_id":43820983,"comment_id":109007244,"body_markdown":"Thanks the second approach works. I&#39;m creating a console application(not web mvc) and it seems like gradle affects the way of packaging resource files.","body":"Thanks the second approach works. I&#39;m creating a console application(not web mvc) and it seems like gradle affects the way of packaging resource files."},{"owner":{"account_id":16043412,"reputation":246,"user_id":11579246,"display_name":"Shasta Kota"},"score":0,"creation_date":1695832457,"post_id":43820983,"comment_id":136077754,"body_markdown":"Oh man tysm. I have been bashing my head against this wall for a day. It turns out I screwed up the resources in my POM. Thank you for pointing me in the right direction.","body":"Oh man tysm. I have been bashing my head against this wall for a day. It turns out I screwed up the resources in my POM. Thank you for pointing me in the right direction."}],"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":6,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1662187673,"creation_date":1494077042,"answer_id":43820983,"question_id":43818248,"body_markdown":"You can make a try to define resources tag in the build section in your pom.xml file. Set path for resource directory where is `application.properties`\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;resources&gt;\r\n    &lt;resource&gt;\r\n      &lt;directory&gt;resources&lt;/directory&gt;\r\n      &lt;targetPath&gt;${project.build.outputDirectory}&lt;/targetPath&gt;\r\n      &lt;includes&gt;\r\n        &lt;include&gt;application.properties&lt;/include&gt;\r\n      &lt;/includes&gt;\r\n    &lt;/resource&gt;\r\n  &lt;/resources&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nResource Link: https://stackoverflow.com/a/30595114/2293534\r\n\r\n## Another approach:\r\n\r\nIf you use spring 3.X version, You can add `@PropertySource(&quot;application.properties&quot;)`\r\n\r\n```java\r\n@Configuration\r\n@PropertySource(value = &quot;classpath:application.properties&quot;)\r\npublic class ApplicationConfig {\r\n\r\n    // more configuration ...\r\n}\r\n```\r\n\r\nIf you use spring 4 version, you add 2 properties file using new annotation called `@PropertySources` that allows you to declare repeated `@PropertySource` annotations:\r\n\r\n```java\r\n@PropertySources({\r\n    @PropertySource(&quot;default.properties&quot;),\r\n    @PropertySource(&quot;overriding.properties&quot;)\r\n})\r\n```\r\n\r\nDetails is given here in my another answer: https://stackoverflow.com/a/43659158/2293534\r\n\r\n## UPDATE #1:\r\n\r\nReplace your `App.java` class with following class\r\n\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.context.web.SpringBootServletInitializer;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n//@SpringBootApplication\r\n@Configuration\r\n@ComponentScan\r\n@EnableAutoConfiguration\r\npublic class Application extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(applicationClass);\r\n    }\r\n\r\n    private static Class&lt;Application&gt; applicationClass = Application.class;\r\n}\r\n```\r\n\r\n## For `java.io.FileNotFoundException`:\r\n\r\nUse the following\r\n\r\n```java\r\n@PropertySource(value = &quot;database.properties&quot;, ignoreResourceNotFound = true)\r\n```\r\n\r\n## UPDATE #2:\r\n\r\nI have followed the following steps to run your application. It runs successfully.\r\n\r\n1. Go to your project folder where `pom.xml` is exists.\r\n\r\n2. You have some errors and warning on `pom.xml`. I have clarified all.\r\n\r\n3. Open command prompt and Run `mvn clean`\r\n\r\n4. Run `mvn clean install`\r\n\r\n5. At last `mvn spring-boot:run`\r\n\r\nThen in browser, I run `http://localhost:8080/`\r\n\r\nIt opens the project successfully. I have also searched other pages also opened successfully.\r\n\r\nFirst page looks like below `http://localhost:8080/`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAll Review pages look like below: `http://localhost:8080/api/reviews`\r\n\r\n```json\r\n[\r\n  {&quot;id&quot;:1,&quot;userName&quot;:&quot;ychennay&quot;,&quot;reviewText&quot;:&quot;This restaurant was terrific!&quot;},{&quot;id&quot;:2,&quot;userName&quot;:&quot;david&quot;,&quot;reviewText&quot;:&quot;This restaurant\r\n was okay!&quot;},\r\n  {&quot;id&quot;:3,&quot;userName&quot;:&quot;ben&quot;,&quot;reviewText&quot;:&quot;This restaurant was\r\n mediocre!&quot;},\r\n  {&quot;id&quot;:4,&quot;userName&quot;:&quot;leon&quot;,&quot;reviewText&quot;:&quot;This restaurant\r\n was awful!&quot;},\r\n  {&quot;id&quot;:5,&quot;userName&quot;:&quot;lawrence&quot;,&quot;reviewText&quot;:&quot;This\r\n restaurant was confusing!&quot;}\r\n]\r\n```\r\n\r\n## So Replace your `pom.xml`\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.diningapp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;Dining&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;properties&gt;\r\n    &lt;jackson.version&gt;2.7.5&lt;/jackson.version&gt;\r\n    &lt;spring-version&gt;4.3.7.RELEASE&lt;/spring-version&gt;\r\n    &lt;dynamodb-local.port&gt;8000&lt;/dynamodb-local.port&gt;\r\n    &lt;dynamodb-local.endpoint&gt;http://localhost:${dynamodb-local.port}&lt;/dynamodb-local.endpoint&gt;\r\n    &lt;spring-boot-version&gt;1.5.2.RELEASE&lt;/spring-boot-version&gt;\r\n    &lt;aws-sdk-java-version&gt;1.11.124&lt;/aws-sdk-java-version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;    &lt;!-- For UTF-8 support --&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;    &lt;!-- For UTF-8 support --&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.5.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;1.7&lt;/source&gt;          &lt;!-- Used java7 --&gt;\r\n          &lt;target&gt;1.7&lt;/target&gt;          &lt;!-- Used java7 --&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;repackage&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;dynamodb-local-oregon&lt;/id&gt;\r\n      &lt;name&gt;DynamoDB Local Release Repository&lt;/name&gt;\r\n      &lt;url&gt;https://s3-us-west-2.amazonaws.com/dynamodb-local/release&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\r\n      &lt;version&gt;Hopper-SR10&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.derjust&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-data-dynamodb&lt;/artifactId&gt;\r\n      &lt;version&gt;4.3.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n      &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;      &lt;!-- changed import to provided --&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.38&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.1&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.16.10&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Errors and solutions:\r\n\r\n**Issue #1:**\r\n\r\n```bash\r\n[WARNING] &#39;dependencies.dependency.scope&#39; for org.springframework.data:spring-data-releasetrain:pom must be one of [provided, compile, runtime, test, system] but is &#39;import&#39;. @ line 70, column 18\r\n```\r\n\r\n**Solution #1:**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\r\n  &lt;version&gt;Hopper-SR10&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt;  &lt;!-- changed import to provided --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Issue #2:**\r\n\r\n```bash\r\n[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.boot:spring-boot-devtools:jar is missing. @ line 73, column 19\r\n```\r\n\r\n**Solution #2:**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n  &lt;version&gt;${spring-boot-version}&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\r\n  &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Issue #3:**\r\n\r\n```bash\r\n[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.boot:spring-boot-configuration-processor:jar is missing. @ line 78, column 19\r\n```\r\n\r\n**Solution #3:**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n  &lt;version&gt;${spring-boot-version}&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\r\n  &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Issue #4:**\r\n\r\n```bash\r\n[WARNING] &#39;dependencies.dependency.scope&#39; for com.amazonaws:aws-java-sdk-bom:pom must be one of [provided, compile, runtime, test, system] but is &#39;import&#39;. @ line 105, column 18\r\n```\r\n\r\n**Solution #4:**\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n  &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n  &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\r\n  &lt;type&gt;pom&lt;/type&gt;\r\n  &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\r\n  &lt;scope&gt;provided&lt;/scope&gt; &lt;!-- changed import to provided --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Issue #5:**\r\n\r\n```bash\r\n[ERROR] &#39;dependencies.dependency.version&#39; for mysql:mysql-connector-java:jar is missing. @ line 148, column 19\r\n```\r\n\r\n**Solution #5:**\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n  &lt;version&gt;5.1.38&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/OfhsW.png\r\n","title":"Spring Boot not recognizing application.properties file","body":"<p>You can make a try to define resources tag in the build section in your pom.xml file. Set path for resource directory where is <code>application.properties</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;resources&gt;\n    &lt;resource&gt;\n      &lt;directory&gt;resources&lt;/directory&gt;\n      &lt;targetPath&gt;${project.build.outputDirectory}&lt;/targetPath&gt;\n      &lt;includes&gt;\n        &lt;include&gt;application.properties&lt;/include&gt;\n      &lt;/includes&gt;\n    &lt;/resource&gt;\n  &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Resource Link: <a href=\"https://stackoverflow.com/a/30595114/2293534\">https://stackoverflow.com/a/30595114/2293534</a></p>\n<h2>Another approach:</h2>\n<p>If you use spring 3.X version, You can add <code>@PropertySource(&quot;application.properties&quot;)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(value = &quot;classpath:application.properties&quot;)\npublic class ApplicationConfig {\n\n    // more configuration ...\n}\n</code></pre>\n<p>If you use spring 4 version, you add 2 properties file using new annotation called <code>@PropertySources</code> that allows you to declare repeated <code>@PropertySource</code> annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySources({\n    @PropertySource(&quot;default.properties&quot;),\n    @PropertySource(&quot;overriding.properties&quot;)\n})\n</code></pre>\n<p>Details is given here in my another answer: <a href=\"https://stackoverflow.com/a/43659158/2293534\">https://stackoverflow.com/a/43659158/2293534</a></p>\n<h2>UPDATE #1:</h2>\n<p>Replace your <code>App.java</code> class with following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.context.web.SpringBootServletInitializer;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\n//@SpringBootApplication\n@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(applicationClass);\n    }\n\n    private static Class&lt;Application&gt; applicationClass = Application.class;\n}\n</code></pre>\n<h2>For <code>java.io.FileNotFoundException</code>:</h2>\n<p>Use the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PropertySource(value = &quot;database.properties&quot;, ignoreResourceNotFound = true)\n</code></pre>\n<h2>UPDATE #2:</h2>\n<p>I have followed the following steps to run your application. It runs successfully.</p>\n<ol>\n<li><p>Go to your project folder where <code>pom.xml</code> is exists.</p>\n</li>\n<li><p>You have some errors and warning on <code>pom.xml</code>. I have clarified all.</p>\n</li>\n<li><p>Open command prompt and Run <code>mvn clean</code></p>\n</li>\n<li><p>Run <code>mvn clean install</code></p>\n</li>\n<li><p>At last <code>mvn spring-boot:run</code></p>\n</li>\n</ol>\n<p>Then in browser, I run <code>http://localhost:8080/</code></p>\n<p>It opens the project successfully. I have also searched other pages also opened successfully.</p>\n<p>First page looks like below <code>http://localhost:8080/</code></p>\n<p><a href=\"https://i.stack.imgur.com/OfhsW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OfhsW.png\" alt=\"enter image description here\" /></a></p>\n<p>All Review pages look like below: <code>http://localhost:8080/api/reviews</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {&quot;id&quot;:1,&quot;userName&quot;:&quot;ychennay&quot;,&quot;reviewText&quot;:&quot;This restaurant was terrific!&quot;},{&quot;id&quot;:2,&quot;userName&quot;:&quot;david&quot;,&quot;reviewText&quot;:&quot;This restaurant\n was okay!&quot;},\n  {&quot;id&quot;:3,&quot;userName&quot;:&quot;ben&quot;,&quot;reviewText&quot;:&quot;This restaurant was\n mediocre!&quot;},\n  {&quot;id&quot;:4,&quot;userName&quot;:&quot;leon&quot;,&quot;reviewText&quot;:&quot;This restaurant\n was awful!&quot;},\n  {&quot;id&quot;:5,&quot;userName&quot;:&quot;lawrence&quot;,&quot;reviewText&quot;:&quot;This\n restaurant was confusing!&quot;}\n]\n</code></pre>\n<h2>So Replace your <code>pom.xml</code></h2>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.diningapp&lt;/groupId&gt;\n  &lt;artifactId&gt;Dining&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;jackson.version&gt;2.7.5&lt;/jackson.version&gt;\n    &lt;spring-version&gt;4.3.7.RELEASE&lt;/spring-version&gt;\n    &lt;dynamodb-local.port&gt;8000&lt;/dynamodb-local.port&gt;\n    &lt;dynamodb-local.endpoint&gt;http://localhost:${dynamodb-local.port}&lt;/dynamodb-local.endpoint&gt;\n    &lt;spring-boot-version&gt;1.5.2.RELEASE&lt;/spring-boot-version&gt;\n    &lt;aws-sdk-java-version&gt;1.11.124&lt;/aws-sdk-java-version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;    &lt;!-- For UTF-8 support --&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;    &lt;!-- For UTF-8 support --&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.5.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;1.7&lt;/source&gt;          &lt;!-- Used java7 --&gt;\n          &lt;target&gt;1.7&lt;/target&gt;          &lt;!-- Used java7 --&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;warSourceDirectory&gt;WebContent&lt;/warSourceDirectory&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;dynamodb-local-oregon&lt;/id&gt;\n      &lt;name&gt;DynamoDB Local Release Repository&lt;/name&gt;\n      &lt;url&gt;https://s3-us-west-2.amazonaws.com/dynamodb-local/release&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\n      &lt;version&gt;Hopper-SR10&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-dynamodb&lt;/artifactId&gt;\n      &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.derjust&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-data-dynamodb&lt;/artifactId&gt;\n      &lt;version&gt;4.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n      &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;      &lt;!-- changed import to provided --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n      &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n      &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n      &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jstl&lt;/groupId&gt;\n      &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n      &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n      &lt;version&gt;${spring-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n      &lt;version&gt;5.1.38&lt;/version&gt;      &lt;!-- You have missed to add this version --&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot-version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;3.0.1&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.16.10&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Errors and solutions:</h2>\n<p><strong>Issue #1:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>[WARNING] 'dependencies.dependency.scope' for org.springframework.data:spring-data-releasetrain:pom must be one of [provided, compile, runtime, test, system] but is 'import'. @ line 70, column 18\n</code></pre>\n<p><strong>Solution #1:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-releasetrain&lt;/artifactId&gt;\n  &lt;version&gt;Hopper-SR10&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;  &lt;!-- changed import to provided --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Issue #2:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] 'dependencies.dependency.version' for org.springframework.boot:spring-boot-devtools:jar is missing. @ line 73, column 19\n</code></pre>\n<p><strong>Solution #2:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n  &lt;version&gt;${spring-boot-version}&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Issue #3:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] 'dependencies.dependency.version' for org.springframework.boot:spring-boot-configuration-processor:jar is missing. @ line 78, column 19\n</code></pre>\n<p><strong>Solution #3:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n  &lt;version&gt;${spring-boot-version}&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Issue #4:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>[WARNING] 'dependencies.dependency.scope' for com.amazonaws:aws-java-sdk-bom:pom must be one of [provided, compile, runtime, test, system] but is 'import'. @ line 105, column 18\n</code></pre>\n<p><strong>Solution #4:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n  &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n  &lt;version&gt;${aws-sdk-java-version}&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n  &lt;!-- &lt;scope&gt;import&lt;/scope&gt; --&gt;\n  &lt;scope&gt;provided&lt;/scope&gt; &lt;!-- changed import to provided --&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Issue #5:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>[ERROR] 'dependencies.dependency.version' for mysql:mysql-connector-java:jar is missing. @ line 148, column 19\n</code></pre>\n<p><strong>Solution #5:</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;5.1.38&lt;/version&gt; &lt;!-- You have missed to add this version --&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9948503,"reputation":126,"user_id":7362164,"display_name":"kamalhm"},"score":1,"creation_date":1662374476,"post_id":55453853,"comment_id":129983881,"body_markdown":"I&#39;ve migrated from multi module to single module and this is the thing that caused my application.properties ignored. Thanks a lot!","body":"I&#39;ve migrated from multi module to single module and this is the thing that caused my application.properties ignored. Thanks a lot!"},{"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"score":0,"creation_date":1696934127,"post_id":55453853,"comment_id":136213164,"body_markdown":"BRUH!!!!. I converted an &quot;ordinary&quot; project to a spring boot project and it had pom instead of war or jar and I was on this for DAYS.","body":"BRUH!!!!. I converted an &quot;ordinary&quot; project to a spring boot project and it had pom instead of war or jar and I was on this for DAYS."}],"tags":[],"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1554117339,"creation_date":1554117339,"answer_id":55453853,"question_id":43818248,"body_markdown":"Please double-check, that your maven-pom uses this packaging:\r\n\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\nIf it is set to `pom` or similar, your IDE might not recognize the &quot;Spring&quot;-nature of your module (happend to me in IntelliJ 2018).","title":"Spring Boot not recognizing application.properties file","body":"<p>Please double-check, that your maven-pom uses this packaging:</p>\n\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n\n<p>If it is set to <code>pom</code> or similar, your IDE might not recognize the \"Spring\"-nature of your module (happend to me in IntelliJ 2018).</p>\n"},{"tags":[],"owner":{"account_id":2635164,"reputation":1119,"user_id":2280067,"display_name":"SJX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584114904,"creation_date":1584114904,"answer_id":60673581,"question_id":43818248,"body_markdown":"You can use also a fixed path. \r\n\r\n*@PropertySource(&quot;file:${C:/Development/workspace/Project/resources/}/application.properties&quot;)*\r\n\r\nHelpful in development process where you want to use different property files.","title":"Spring Boot not recognizing application.properties file","body":"<p>You can use also a fixed path. </p>\n\n<p><em>@PropertySource(\"file:${C:/Development/workspace/Project/resources/}/application.properties\")</em></p>\n\n<p>Helpful in development process where you want to use different property files.</p>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22259,"user_id":5279996,"display_name":"Braian Coronel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603853948,"creation_date":1603853948,"answer_id":64565878,"question_id":43818248,"body_markdown":"A problem may also be that you have the dependency of `spring-data-jpa` duplicated in a hierarchy of dependencies, so with this you have 2 sets of different profiles for the environments and when running the app the runner is taking a set of unwanted environments.\r\n\r\n    api(&quot;org.springframework.data&quot;, &quot;spring-data-jpa&quot;, &quot;2.3.4.RELEASE&quot;)\r\n\r\nSo I suggest checking the project modules, if there is more than one definition of the dependency download within a hierarchy. Although it is not necessary to delete the one that reappears or duplicates, it is necessary to comment and uncomment them to re-synchronize and for the spring runner to take the desired set of environments.\r\n\r\n1. Comment dependency\r\n2. Sync\r\n3. Uncomment dependency\r\n4. Sync \r\n5. Run the app\r\n\r\n*Gradle stuff*\r\n\r\nGL","title":"Spring Boot not recognizing application.properties file","body":"<p>A problem may also be that you have the dependency of <code>spring-data-jpa</code> duplicated in a hierarchy of dependencies, so with this you have 2 sets of different profiles for the environments and when running the app the runner is taking a set of unwanted environments.</p>\n<pre><code>api(&quot;org.springframework.data&quot;, &quot;spring-data-jpa&quot;, &quot;2.3.4.RELEASE&quot;)\n</code></pre>\n<p>So I suggest checking the project modules, if there is more than one definition of the dependency download within a hierarchy. Although it is not necessary to delete the one that reappears or duplicates, it is necessary to comment and uncomment them to re-synchronize and for the spring runner to take the desired set of environments.</p>\n<ol>\n<li>Comment dependency</li>\n<li>Sync</li>\n<li>Uncomment dependency</li>\n<li>Sync</li>\n<li>Run the app</li>\n</ol>\n<p><em>Gradle stuff</em></p>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":8615226,"reputation":50,"user_id":6452330,"display_name":"JoCee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653608801,"creation_date":1653608801,"answer_id":72399128,"question_id":43818248,"body_markdown":"I ran into something similar and I solved it by specifically adding my appliation.properties file to the pom.xml as seen here: https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n\t\t\t\t&lt;targetPath&gt;${project.build.outputDirectory}&lt;/targetPath&gt;\r\n\t\t\t\t&lt;includes&gt;\r\n\t\t\t\t\t&lt;include&gt;application.properties&lt;/include&gt;\r\n\t\t\t\t&lt;/includes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;","title":"Spring Boot not recognizing application.properties file","body":"<p>I ran into something similar and I solved it by specifically adding my appliation.properties file to the pom.xml as seen here: <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-resources-plugin/examples/resource-directory.html</a></p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;targetPath&gt;${project.build.outputDirectory}&lt;/targetPath&gt;\n            &lt;includes&gt;\n                &lt;include&gt;application.properties&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11599687,"reputation":290,"user_id":8762786,"display_name":"Anant"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1664015811,"creation_date":1664015811,"answer_id":73836556,"question_id":43818248,"body_markdown":"I&#39;ll tell you what worked for me. I was loading JPA dependency ahead of SpringBoot dependency, just switched that around and it voila. Try to disable/change order of the dependencies in pom.xml .","title":"Spring Boot not recognizing application.properties file","body":"<p>I'll tell you what worked for me. I was loading JPA dependency ahead of SpringBoot dependency, just switched that around and it voila. Try to disable/change order of the dependencies in pom.xml .</p>\n"},{"tags":[],"owner":{"account_id":27025679,"reputation":1,"user_id":20582992,"display_name":"m m"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669215583,"creation_date":1669215583,"answer_id":74548853,"question_id":43818248,"body_markdown":"For (very late) upgrades from spring boot 1.x to 2.x:\r\n\r\nUse additional directory locations containing application.properties additional to resources/application.properties\r\n\r\n    --spring.config.additional-location=.../\r\n\r\ninstead of spring boot 1.x - which was more flexible with filenames and read both resources/application.properties and spring.config.location:\r\n\r\n    --spring.config.location=file:/...\\myapplication.properties\r\n\r\nSpring boot 2.x still recognices spring.config.location, but it is no longer additional, see \r\nhttps://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-location and\r\nhttps://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\r\n","title":"Spring Boot not recognizing application.properties file","body":"<p>For (very late) upgrades from spring boot 1.x to 2.x:</p>\n<p>Use additional directory locations containing application.properties additional to resources/application.properties</p>\n<pre><code>--spring.config.additional-location=.../\n</code></pre>\n<p>instead of spring boot 1.x - which was more flexible with filenames and read both resources/application.properties and spring.config.location:</p>\n<pre><code>--spring.config.location=file:/...\\myapplication.properties\n</code></pre>\n<p>Spring boot 2.x still recognices spring.config.location, but it is no longer additional, see\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-location\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#configuration-location</a> and\n<a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-external-config.html</a></p>\n"},{"tags":[],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698740013,"creation_date":1698740013,"answer_id":77394220,"question_id":43818248,"body_markdown":"In my case the problem was that the annotation was in the Dao class, which was downstream of the controller. This class was instantiated with the word **&quot;new&quot;** and consequently did not apply @Values ​​correctly because the new instantiation occurred **outside** the working context of Spring Boot.\r\n\r\nI found the solution thanks to a topic similar to this one of which i [attach][1] the reference.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4130486/spring-value-annotation-always-evaluating-as-null/#answer-18403937\r\n\r\nThe solution consists in making the instances downstream of the controller local, **using the @Autowired keywork** in the constructor, and **avoiding using the &quot;new&quot; keyword**. This ensures that the @Values ​​point to the same instance used. I attach an example:\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/form&quot;)\r\n    public class FormController {\r\n    \r\n        private final FormService formService;\r\n        \r\n        @Autowired\r\n        public FormController(FormService formService) {\r\n            this.formService = formService;\r\n        }\r\n\r\nThe service:\r\n\r\n    @Service\r\n    public class FormService implements IFormService {\r\n    \r\n        private final FormDao formDao;\r\n    \r\n        @Autowired\r\n        public FormService(FeedbackFormDao formDao) {\r\n            this.formDao = formDao;\r\n        }\r\n\r\nand finally the DAO (the problem was here in my case):\r\n\r\n    @Repository\r\n    public class FormDao {\r\n    \r\n        @Value(&quot;${google.app.name}&quot;)\r\n        public String appName;\r\n    \r\n        @Value(&quot;${google.credential.file}&quot;)\r\n        public String credentialFile;\r\n\r\nThis was the solution for me.","title":"Spring Boot not recognizing application.properties file","body":"<p>In my case the problem was that the annotation was in the Dao class, which was downstream of the controller. This class was instantiated with the word <strong>&quot;new&quot;</strong> and consequently did not apply @Values ​​correctly because the new instantiation occurred <strong>outside</strong> the working context of Spring Boot.</p>\n<p>I found the solution thanks to a topic similar to this one of which i <a href=\"https://stackoverflow.com/questions/4130486/spring-value-annotation-always-evaluating-as-null/#answer-18403937\">attach</a> the reference.</p>\n<p>The solution consists in making the instances downstream of the controller local, <strong>using the @Autowired keywork</strong> in the constructor, and <strong>avoiding using the &quot;new&quot; keyword</strong>. This ensures that the @Values ​​point to the same instance used. I attach an example:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/form&quot;)\npublic class FormController {\n\n    private final FormService formService;\n    \n    @Autowired\n    public FormController(FormService formService) {\n        this.formService = formService;\n    }\n</code></pre>\n<p>The service:</p>\n<pre><code>@Service\npublic class FormService implements IFormService {\n\n    private final FormDao formDao;\n\n    @Autowired\n    public FormService(FeedbackFormDao formDao) {\n        this.formDao = formDao;\n    }\n</code></pre>\n<p>and finally the DAO (the problem was here in my case):</p>\n<pre><code>@Repository\npublic class FormDao {\n\n    @Value(&quot;${google.app.name}&quot;)\n    public String appName;\n\n    @Value(&quot;${google.credential.file}&quot;)\n    public String credentialFile;\n</code></pre>\n<p>This was the solution for me.</p>\n"}],"owner":{"account_id":7748883,"reputation":6720,"user_id":5865514,"accept_rate":93,"display_name":"Yu Chen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140343,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":43820983,"answer_count":10,"score":29,"last_activity_date":1698740013,"creation_date":1494058540,"question_id":43818248,"body_markdown":"I&#39;m trying to configure a DynamoDb client with Spring Boot, and placed my endpoints and configuration information in my resources/application.properties file. However, Spring Boot does not seem to pick up these properties. It does pick up the &quot;server.default&quot; key that I have stored in the same file, so it is definitely recognizing the  the file itself. \r\n\r\nHere is my application.properties file and the class I&#39;m trying to load properties into (**DynamoDBClientMapper**):\r\n\r\n    amazon.dynamodb.endpoint=http://localhost:8000/\r\n    amazon.dynamodb.region=us-west-1\r\n    amazon.aws.accesskey=key\r\n    amazon.aws.secretkey=key2\r\n    \r\n    server.port=8080\r\n\r\nHere is my project structure:\r\n[![enter image description here][1]][1]\r\n\r\nHere is the relevant class I&#39;m trying to load properties into. I tried the **@PropertySource** annotation with a new properties file, as well as **EnableAutoConfiguration**, but neither are registering the properties file(s).\r\n\r\n    @PropertySource(&quot;database.properties&quot;)\r\n    public class DynamoClientMapper {\r\n    \r\n        @Value(&quot;${amazon.dynamodb.endpoint}&quot;)\r\n        private String amazonDynamoDBEndpoint;\r\n    \r\n        @Value(&quot;${amazon.aws.accesskey}&quot;)\r\n        private String amazonAWSAccessKey;\r\n    \r\n        @Value(&quot;${amazon.aws.secretkey}&quot;)\r\n        private String amazonAWSSecretKey;\r\n    \r\n        @Value(&quot;${amazon.aws.region}&quot;)\r\n        private String amazonAWSRegion;\r\n\r\nHere is my App.java:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n    public class App {\r\n    \r\n    //    private static final Logger logger = Logger.getLogger(App.class.toString());\r\n    \r\n        public static void main(String[] args){\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    }\r\n\r\nHere is the stack trace:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dynamoClientMapper&#39; defined in file [C:\\Users\\ychen4\\Desktop\\DiningApplication\\target\\classes\\main\\java\\com\\dining\\dao\\DynamoClientMapper.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: endpoint cannot be null\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    \tat main.java.com.dining.App.main(App.java:18) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.2.RELEASE.jar:1.5.2.RELEASE]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: endpoint cannot be null\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1147) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \t... 22 common frames omitted\r\n    Caused by: java.lang.IllegalArgumentException: endpoint cannot be null\r\n    \tat com.amazonaws.util.RuntimeHttpUtils.toUri(RuntimeHttpUtils.java:182) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.util.RuntimeHttpUtils.toUri(RuntimeHttpUtils.java:171) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.AmazonWebServiceClient.toURI(AmazonWebServiceClient.java:238) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.AmazonWebServiceClient.setEndpoint(AmazonWebServiceClient.java:228) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:362) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:337) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.11.125.jar:na]\r\n    \tat main.java.com.dining.dao.DynamoClientMapper.&lt;init&gt;(DynamoClientMapper.java:32) ~[classes/:na]\r\n    \tat main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad.&lt;init&gt;(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_121]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_121]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_121]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_121]\r\n    \tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\r\n    \t... 24 common frames omitted\r\n\r\n\r\nI&#39;ve tried making another separate database.properties file , but Spring Boot isn&#39;t recognizing that either. What am I doing wrong?\r\n\r\n  [1]: https://i.stack.imgur.com/78wGZ.png\r\n\r\n\r\n","title":"Spring Boot not recognizing application.properties file","body":"<p>I'm trying to configure a DynamoDb client with Spring Boot, and placed my endpoints and configuration information in my resources/application.properties file. However, Spring Boot does not seem to pick up these properties. It does pick up the \"server.default\" key that I have stored in the same file, so it is definitely recognizing the  the file itself. </p>\n\n<p>Here is my application.properties file and the class I'm trying to load properties into (<strong>DynamoDBClientMapper</strong>):</p>\n\n<pre><code>amazon.dynamodb.endpoint=http://localhost:8000/\namazon.dynamodb.region=us-west-1\namazon.aws.accesskey=key\namazon.aws.secretkey=key2\n\nserver.port=8080\n</code></pre>\n\n<p>Here is my project structure:\n<a href=\"https://i.stack.imgur.com/78wGZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/78wGZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the relevant class I'm trying to load properties into. I tried the <strong>@PropertySource</strong> annotation with a new properties file, as well as <strong>EnableAutoConfiguration</strong>, but neither are registering the properties file(s).</p>\n\n<pre><code>@PropertySource(\"database.properties\")\npublic class DynamoClientMapper {\n\n    @Value(\"${amazon.dynamodb.endpoint}\")\n    private String amazonDynamoDBEndpoint;\n\n    @Value(\"${amazon.aws.accesskey}\")\n    private String amazonAWSAccessKey;\n\n    @Value(\"${amazon.aws.secretkey}\")\n    private String amazonAWSSecretKey;\n\n    @Value(\"${amazon.aws.region}\")\n    private String amazonAWSRegion;\n</code></pre>\n\n<p>Here is my App.java:</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\npublic class App {\n\n//    private static final Logger logger = Logger.getLogger(App.class.toString());\n\n    public static void main(String[] args){\n        SpringApplication.run(App.class, args);\n    }\n}\n</code></pre>\n\n<p>Here is the stack trace:</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dynamoClientMapper' defined in file [C:\\Users\\ychen4\\Desktop\\DiningApplication\\target\\classes\\main\\java\\com\\dining\\dao\\DynamoClientMapper.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: endpoint cannot be null\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1155) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1099) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542) ~[spring-context-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151) [spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n    at main.java.com.dining.App.main(App.java:18) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_121]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_121]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_121]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_121]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.5.2.RELEASE.jar:1.5.2.RELEASE]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: endpoint cannot be null\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:154) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:89) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1147) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    ... 22 common frames omitted\nCaused by: java.lang.IllegalArgumentException: endpoint cannot be null\n    at com.amazonaws.util.RuntimeHttpUtils.toUri(RuntimeHttpUtils.java:182) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.util.RuntimeHttpUtils.toUri(RuntimeHttpUtils.java:171) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.toURI(AmazonWebServiceClient.java:238) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.AmazonWebServiceClient.setEndpoint(AmazonWebServiceClient.java:228) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.client.builder.AwsClientBuilder.setRegion(AwsClientBuilder.java:362) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.client.builder.AwsClientBuilder.configureMutableProperties(AwsClientBuilder.java:337) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at com.amazonaws.client.builder.AwsSyncClientBuilder.build(AwsSyncClientBuilder.java:46) ~[aws-java-sdk-core-1.11.125.jar:na]\n    at main.java.com.dining.dao.DynamoClientMapper.&lt;init&gt;(DynamoClientMapper.java:32) ~[classes/:na]\n    at main.java.com.dining.dao.DynamoClientMapper$$EnhancerBySpringCGLIB$$f4ba10ad.&lt;init&gt;(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_121]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_121]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_121]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_121]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:142) ~[spring-beans-4.3.7.RELEASE.jar:4.3.7.RELEASE]\n    ... 24 common frames omitted\n</code></pre>\n\n<p>I've tried making another separate database.properties file , but Spring Boot isn't recognizing that either. What am I doing wrong?</p>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":9266859,"reputation":391,"user_id":6882070,"accept_rate":100,"display_name":"rbntd"},"score":0,"creation_date":1477566779,"post_id":40283137,"comment_id":67824462,"body_markdown":"maybe related http://stackoverflow.com/questions/1683949/connection-timeout-for-drivermanager-getconnection","body":"maybe related <a href=\"http://stackoverflow.com/questions/1683949/connection-timeout-for-drivermanager-getconnection\" title=\"connection timeout for drivermanager getconnection\">stackoverflow.com/questions/1683949/&hellip;</a>"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1477566783,"post_id":40283137,"comment_id":67824467,"body_markdown":"What database are you using?","body":"What database are you using?"},{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1477566798,"post_id":40283137,"comment_id":67824485,"body_markdown":"The lifetime is not getting set it connection lifetime is still about 15minutes","body":"The lifetime is not getting set it connection lifetime is still about 15minutes"},{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1477566876,"post_id":40283137,"comment_id":67824541,"body_markdown":"@rbntd it only sets timeout how to set lifetime","body":"@rbntd it only sets timeout how to set lifetime"}],"answers":[{"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1477567227,"post_id":40283217,"comment_id":67824749,"body_markdown":"@RahulSingh Can you configure this from Oracle?  This doesn&#39;t seem like a Java problem.","body":"@RahulSingh Can you configure this from Oracle?  This doesn&#39;t seem like a Java problem."},{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1477567338,"post_id":40283217,"comment_id":67824816,"body_markdown":"I want to keep it open forever the same connection i donot want to use connection pooling","body":"I want to keep it open forever the same connection i donot want to use connection pooling"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1477567448,"post_id":40283217,"comment_id":67824901,"body_markdown":"That sounds like a really bad idea.  If Java drops the connection, scrap it and return it to the pool.","body":"That sounds like a really bad idea.  If Java drops the connection, scrap it and return it to the pool."},{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1477567492,"post_id":40283217,"comment_id":67824931,"body_markdown":"But is that possible?","body":"But is that possible?"},{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1477567723,"post_id":40283217,"comment_id":67825070,"body_markdown":"I&#39;m not certain, read here: https://docs.oracle.com/cd/B28359_01/java.111/e10788/optimize.htm#CFHHCICE","body":"I&#39;m not certain, read here: <a href=\"https://docs.oracle.com/cd/B28359_01/java.111/e10788/optimize.htm#CFHHCICE\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B28359_01/java.111/e10788/&hellip;</a>"},{"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"score":0,"creation_date":1477567801,"post_id":40283217,"comment_id":67825125,"body_markdown":"This is for the connection pool stream where as i want for a single connection object","body":"This is for the connection pool stream where as i want for a single connection object"}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477566856,"creation_date":1477566856,"answer_id":40283217,"question_id":40283137,"body_markdown":"Try this:\r\n\r\n    info.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CONNECT_TIMEOUT, &quot;2000&quot;);\r\n\r\nReference: https://stackoverflow.com/questions/18822552/setting-network-timeout-for-jdbc-connection\r\n\r\nNote that not all JDBC JARs support setting a timeout this way.  Sometimes you have to do it programatically.","title":"How to set jdbc connection lifetime and timeout?","body":"<p>Try this:</p>\n\n<pre><code>info.setProperty(OracleConnection.CONNECTION_PROPERTY_THIN_NET_CONNECT_TIMEOUT, \"2000\");\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/18822552/setting-network-timeout-for-jdbc-connection\">Setting Network Timeout for JDBC connection</a></p>\n\n<p>Note that not all JDBC JARs support setting a timeout this way.  Sometimes you have to do it programatically.</p>\n"}],"owner":{"account_id":3207438,"reputation":19204,"user_id":2708210,"accept_rate":62,"display_name":"Rahul Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1698739245,"creation_date":1477566649,"question_id":40283137,"body_markdown":"I want to set jdbc connection lifetime and lifespan how do i do it.\n\nI tried using properties.\n\n    Properties info = new properties();\n    info.put(user,&quot;username&quot;);\n    info.put(password,&quot;password&quot;);\n    info.put(connection lifetime, 0);\n    \n    \n    DriverManager.getConnection(server,info)\n\nBut this didn&#39;t work please help.","title":"How to set jdbc connection lifetime and timeout?","body":"<p>I want to set jdbc connection lifetime and lifespan how do i do it.</p>\n\n<p>I tried using properties.</p>\n\n<pre><code>Properties info = new properties();\ninfo.put(user,\"username\");\ninfo.put(password,\"password\");\ninfo.put(connection lifetime, 0);\n\n\nDriverManager.getConnection(server,info)\n</code></pre>\n\n<p>But this didn't work please help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1459271265,"post_id":36127866,"comment_id":60206748,"body_markdown":"Isn&#39;t that what `String.indexOf()` does?","body":"Isn&#39;t that what <code>String.indexOf()</code> does?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1698739898,"post_id":36127866,"comment_id":136440248,"body_markdown":"BTW Documentation of `INSTR(string, substring, position)`: &quot;The INSTR functions search `string` for `substring`. ... returns an integer indicating the position of the first character of this substring. If no such substring is found, then the function returns zero. ... `position` is an nonzero integer indicating the character of string where Oracle Database begins the search ...&quot;","body":"BTW Documentation of <code>INSTR(string, substring, position)</code>: &quot;The INSTR functions search <code>string</code> for <code>substring</code>. ... returns an integer indicating the position of the first character of this substring. If no such substring is found, then the function returns zero. ... <code>position</code> is an nonzero integer indicating the character of string where Oracle Database begins the search ...&quot;"}],"answers":[{"comments":[{"owner":{"account_id":1232382,"reputation":2873,"user_id":1196670,"accept_rate":59,"display_name":"1ac0"},"score":1,"creation_date":1459271876,"post_id":36287501,"comment_id":60207096,"body_markdown":"is there any reason not to use standard java library?","body":"is there any reason not to use standard java library?"},{"owner":{"account_id":7701273,"reputation":126,"user_id":5833750,"display_name":"Gaurav"},"score":0,"creation_date":1459273582,"post_id":36287501,"comment_id":60208136,"body_markdown":"indexOf he can use but it give the first occurrence and he is indented to get nth occurrence. Well it doesnt mean you can not use indexOf but you also need other lines as only using indexOf will not suffice your need.","body":"indexOf he can use but it give the first occurrence and he is indented to get nth occurrence. Well it doesnt mean you can not use indexOf but you also need other lines as only using indexOf will not suffice your need."},{"owner":{"account_id":1232382,"reputation":2873,"user_id":1196670,"accept_rate":59,"display_name":"1ac0"},"score":0,"creation_date":1459273859,"post_id":36287501,"comment_id":60208283,"body_markdown":"in [java docu](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html) you can see that indexOf() has variants, you can pick appropriate one.","body":"in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">java docu</a> you can see that indexOf() has variants, you can pick appropriate one."},{"owner":{"account_id":7701273,"reputation":126,"user_id":5833750,"display_name":"Gaurav"},"score":0,"creation_date":1459274093,"post_id":36287501,"comment_id":60208441,"body_markdown":"dont know which variant you are referring, all lead to first occurrence .","body":"dont know which variant you are referring, all lead to first occurrence ."},{"owner":{"account_id":7701273,"reputation":126,"user_id":5833750,"display_name":"Gaurav"},"score":0,"creation_date":1459275285,"post_id":36287501,"comment_id":60209248,"body_markdown":"@Ladislav DANKO Any comment please on your above saying, I dont want readers to lead in another direction..","body":"@Ladislav DANKO Any comment please on your above saying, I dont want readers to lead in another direction.."},{"owner":{"account_id":1232382,"reputation":2873,"user_id":1196670,"accept_rate":59,"display_name":"1ac0"},"score":0,"creation_date":1459683274,"post_id":36287501,"comment_id":60386680,"body_markdown":"again, in [java docu](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html) you have more than one varints of the indexOf() method. you can pick one that satisfy your needs. in the case in question, it should be [`String.idexOf()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-int-) variant.","body":"again, in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">java docu</a> you have more than one varints of the indexOf() method. you can pick one that satisfy your needs. in the case in question, it should be <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-int-\" rel=\"nofollow noreferrer\"><code>String.idexOf()</code></a> variant."},{"owner":{"account_id":1232382,"reputation":2873,"user_id":1196670,"accept_rate":59,"display_name":"1ac0"},"score":0,"creation_date":1460713963,"post_id":36287501,"comment_id":60881224,"body_markdown":"try code `System.out.println(&quot;is on index: &quot; + &quot;vivek Srinivasamoorthy&quot;.indexOf(&quot;a&quot;, 13));`","body":"try code <code>System.out.println(&quot;is on index: &quot; + &quot;vivek Srinivasamoorthy&quot;.indexOf(&quot;a&quot;, 13));</code>"}],"tags":[],"owner":{"account_id":7701273,"reputation":126,"user_id":5833750,"display_name":"Gaurav"},"comment_count":7,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1459262362,"creation_date":1459262362,"answer_id":36287501,"question_id":36127866,"body_markdown":"&lt;pre&gt;&lt;code&gt;\r\ngetInstring(String input, String substr, int start, int occurence) {\r\nchar[] tempstring = input.substring(start).replaceAll(substr, &quot;-&quot;).toCharArray();\r\n        int occurindex = 0;\r\n        int counter = 0;\r\n        for (int i = 0; i &lt; tempstring.length; i++) {\r\n            if (&quot;:-&quot;.equals(&quot;:&quot; + tempstring[i])) {\r\n                occurindex++;\r\n                counter = i;\r\n            }\r\n            if (occurindex == occurence) {\r\n                break;\r\n            }\r\n        }\r\n        return counter == 0 ? -1 : counter + start + 1;\r\n    }\r\n&lt;/pre&gt;&lt;/code&gt;","title":"Java equivalent for Oracle INSTR function","body":"<p><pre><code>\ngetInstring(String input, String substr, int start, int occurence) {\nchar[] tempstring = input.substring(start).replaceAll(substr, \"-\").toCharArray();\n        int occurindex = 0;\n        int counter = 0;\n        for (int i = 0; i &lt; tempstring.length; i++) {\n            if (\":-\".equals(\":\" + tempstring[i])) {\n                occurindex++;\n                counter = i;\n            }\n            if (occurindex == occurence) {\n                break;\n            }\n        }\n        return counter == 0 ? -1 : counter + start + 1;\n    }\n</pre></code></p>\n"},{"tags":[],"owner":{"account_id":1232382,"reputation":2873,"user_id":1196670,"accept_rate":59,"display_name":"1ac0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460714013,"creation_date":1459271806,"answer_id":36290865,"question_id":36127866,"body_markdown":"`String.indexOf()` is your friend. Keep in mind that in Oracle counting start at 1, in Java at 0 (zero), so result in Java for your Oracle example will be 14. For docu see at [Oracle DB server][1] and [Java][2].\r\n\r\nIn your specific case you can test it with `System.out.println(&quot;is on index: &quot; + &quot;vivek Srinivasamoorthy&quot;.indexOf(&quot;a&quot;, 13));`\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions068.htm\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-","title":"Java equivalent for Oracle INSTR function","body":"<p><code>String.indexOf()</code> is your friend. Keep in mind that in Oracle counting start at 1, in Java at 0 (zero), so result in Java for your Oracle example will be 14. For docu see at <a href=\"https://docs.oracle.com/cd/B19306_01/server.102/b14200/functions068.htm\" rel=\"nofollow\">Oracle DB server</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#indexOf-int-\" rel=\"nofollow\">Java</a>.</p>\n\n<p>In your specific case you can test it with <code>System.out.println(\"is on index: \" + \"vivek Srinivasamoorthy\".indexOf(\"a\", 13));</code></p>\n"}],"owner":{"account_id":1925393,"reputation":419,"user_id":1735983,"accept_rate":20,"display_name":"Vivek Harry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10867,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1698739245,"creation_date":1458554351,"question_id":36127866,"body_markdown":"I need to write the Java equivalent for INSTR Oracle function.\r\n\r\nExample in Oracle:\r\n\r\n    select INSTR(&#39;vivek Srinivasamoorthy&#39;,&#39;a&#39;,14) from DUAL\r\n\r\nOutput:`15`\r\n\r\nHow can I do this in Java?","title":"Java equivalent for Oracle INSTR function","body":"<p>I need to write the Java equivalent for INSTR Oracle function.</p>\n\n<p>Example in Oracle:</p>\n\n<pre><code>select INSTR('vivek Srinivasamoorthy','a',14) from DUAL\n</code></pre>\n\n<p>Output:<code>15</code></p>\n\n<p>How can I do this in Java?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","sketchware"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1698738084,"creation_date":1698703288,"answer_id":77392103,"question_id":77391932,"body_markdown":"It seems you&#39;re using Firebase Realtime Database, but that doesn&#39;t have a `where` method. It can also order on at most one property, and then only filter on that property.\r\n\r\nSo if you want to filter on `user`, you&#39;d do:\r\n\r\n    dblink.orderByChild(&quot;user&quot;).equalTo(&quot;4&quot;)\r\n\r\nAnd if you want the latest two items, that&#39;d be:\r\n\r\n    dblink.orderByChild(&quot;time&quot;).limitToLast(2)\r\n\r\nBut you can&#39;t combine those in a single query (keep reading for more).\r\n\r\nFor more on this, see the Firebase documentation on [ordering and filtering data](https://firebase.google.com/docs/database/web/lists-of-data#sorting_and_filtering_data) from the Realtime Database.\r\n\r\n---\r\n\r\nOne workaround that you might be able to use here is to combine the `user` and `time` values into a single property that allows the query: `&quot;user_time&quot;: &quot;4_1698703155601&quot;`.\r\n\r\nWith that property in place, you can then get the latest 2 nodes for user `&quot;4&quot;` with:\r\n\r\n    dblink.orderByChild(&quot;user_time&quot;).endAt(&quot;4_9999999999999&quot;).limitToLast(2)\r\n\r\nSo that `&quot;4_9999999999999&quot;` is the user ID and the highest possible timestamp value, and you then get the last two items that are before that time.\r\n\r\nFor more on this and other examples, see my answer to: https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase","title":"How write the query &quot;user value is 4 and sort by time&quot; in firebase database","body":"<p>It seems you're using Firebase Realtime Database, but that doesn't have a <code>where</code> method. It can also order on at most one property, and then only filter on that property.</p>\n<p>So if you want to filter on <code>user</code>, you'd do:</p>\n<pre><code>dblink.orderByChild(&quot;user&quot;).equalTo(&quot;4&quot;)\n</code></pre>\n<p>And if you want the latest two items, that'd be:</p>\n<pre><code>dblink.orderByChild(&quot;time&quot;).limitToLast(2)\n</code></pre>\n<p>But you can't combine those in a single query (keep reading for more).</p>\n<p>For more on this, see the Firebase documentation on <a href=\"https://firebase.google.com/docs/database/web/lists-of-data#sorting_and_filtering_data\" rel=\"nofollow noreferrer\">ordering and filtering data</a> from the Realtime Database.</p>\n<hr />\n<p>One workaround that you might be able to use here is to combine the <code>user</code> and <code>time</code> values into a single property that allows the query: <code>&quot;user_time&quot;: &quot;4_1698703155601&quot;</code>.</p>\n<p>With that property in place, you can then get the latest 2 nodes for user <code>&quot;4&quot;</code> with:</p>\n<pre><code>dblink.orderByChild(&quot;user_time&quot;).endAt(&quot;4_9999999999999&quot;).limitToLast(2)\n</code></pre>\n<p>So that <code>&quot;4_9999999999999&quot;</code> is the user ID and the highest possible timestamp value, and you then get the last two items that are before that time.</p>\n<p>For more on this and other examples, see my answer to: <a href=\"https://stackoverflow.com/questions/26700924/query-based-on-multiple-where-clauses-in-firebase\">Query based on multiple where clauses in Firebase</a></p>\n"}],"owner":{"account_id":29789678,"reputation":1,"user_id":22830187,"display_name":"Ali Jamali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1698769739,"answer_count":1,"score":0,"last_activity_date":1698738084,"creation_date":1698701090,"question_id":77391932,"body_markdown":"Why the compiler get an error for the &quot;where&quot; in below code?  \r\n```\r\nquery=dblink.orderByChild(&quot;time&quot;).where(&quot;user&quot;,&quot;==&quot;,&quot;4&quot;).LimitToLast(2);\r\n```\r\nhow to write?\r\n\r\nI want in query of runtime database \r\n\r\nuser value is 4 and sort by time","title":"How write the query &quot;user value is 4 and sort by time&quot; in firebase database","body":"<p>Why the compiler get an error for the &quot;where&quot; in below code?</p>\n<pre><code>query=dblink.orderByChild(&quot;time&quot;).where(&quot;user&quot;,&quot;==&quot;,&quot;4&quot;).LimitToLast(2);\n</code></pre>\n<p>how to write?</p>\n<p>I want in query of runtime database</p>\n<p>user value is 4 and sort by time</p>\n"},{"tags":["java","spring-boot","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":0,"creation_date":1699234278,"post_id":77393434,"comment_id":136501987,"body_markdown":"The error message says that it&#39;s `object` that&#39;s missing/null, and not `?api`.","body":"The error message says that it&#39;s <code>object</code> that&#39;s missing/null, and not <code>?api</code>."}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698737911,"creation_date":1698737911,"answer_id":77394021,"question_id":77393434,"body_markdown":"`@RequestParam` is queryString of param\r\nTry this\r\n```\r\ncurl 127.0.0.1:8080/freemarker/unsafe?template=abc\r\n```\r\nBut you have special symbols in template so you should use `@RequestBody` for it\r\n\r\n```\r\n@RequestMapping(value = &quot;/unsafe&quot;, method = RequestMethod.POST)\r\npublic String parse_unsfe(@RequestBody String template) throws Exception {\r\n    return run(template, &quot;test&quot;, false);\r\n}\r\n```\r\nAnd use this curl command\r\n```\r\ncurl -X POST 127.0.0.1:8080/freemarker/unsafe -d \r\n&quot;&lt;#assign classLoader=object?api.class.protectionDomain.classLoader&gt;&quot;\r\n```","title":"api is evaluated to null in freemaker","body":"<p><code>@RequestParam</code> is queryString of param\nTry this</p>\n<pre><code>curl 127.0.0.1:8080/freemarker/unsafe?template=abc\n</code></pre>\n<p>But you have special symbols in template so you should use <code>@RequestBody</code> for it</p>\n<pre><code>@RequestMapping(value = &quot;/unsafe&quot;, method = RequestMethod.POST)\npublic String parse_unsfe(@RequestBody String template) throws Exception {\n    return run(template, &quot;test&quot;, false);\n}\n</code></pre>\n<p>And use this curl command</p>\n<pre><code>curl -X POST 127.0.0.1:8080/freemarker/unsafe -d \n&quot;&lt;#assign classLoader=object?api.class.protectionDomain.classLoader&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":305047,"reputation":22750,"user_id":614944,"accept_rate":73,"display_name":"daisy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698737911,"creation_date":1698730255,"question_id":77393434,"body_markdown":"I&#39;m testing the [freemarker template injection issue][1], I created a springboot project with\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.31&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd a controller\r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/freemarker&quot;)\r\npublic class FreeMarkerController {\r\n    private String run(String template, String username, Boolean hardened) throws Exception {\r\n        Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;() {{\r\n            put(&quot;username&quot;, username);\r\n        }};\r\n\r\n        StringTemplateLoader tempLoader = new StringTemplateLoader();\r\n        tempLoader.putTemplate(&quot;test&quot;, template);\r\n\r\n        Configuration cfg = new Configuration(Configuration.VERSION_2_3_31);\r\n        if (hardened)\r\n            cfg.setNewBuiltinClassResolver(TemplateClassResolver.SAFER_RESOLVER);\r\n        cfg.setTemplateLoader(tempLoader);\r\n        cfg.setAPIBuiltinEnabled(true);\r\n\r\n        Template tmpl = cfg.getTemplate(&quot;test&quot;);\r\n        StringWriter writer = new StringWriter();\r\n        tmpl.process(data, writer);\r\n\r\n        return writer.toString();\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/unsafe&quot;)\r\n    public String parse_unsfe(@RequestParam(name=&quot;template&quot;, required=true) String template) throws Exception {\r\n        return run(template, &quot;test&quot;, false);\r\n    }\r\n}\r\n```\r\n\r\nHowever, this results in an error because api is undefined\r\n\r\n```\r\ncurl 127.0.0.1:8080/freemarker/unsafe -d &#39;template=&lt;#assign classLoader=object?api.class.protectionDomain.classLoader&gt;&#39;\r\n```\r\n\r\nError in console\r\n\r\n```\r\nfreemarker.core.InvalidReferenceException: The following has evaluated to null or missing:\r\n==&gt; object  [in template &quot;test&quot; at line 1, column 22]\r\n\r\n----\r\nTip: If the failing expression is known to legally refer to something that&#39;s sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\r\n----\r\n```\r\n\r\nWhy is api undefined? I already enabled API builtins. Does anyone know?\r\n\r\n\r\n  [1]: https://ackcent.com/in-depth-freemarker-template-injection/","title":"api is evaluated to null in freemaker","body":"<p>I'm testing the <a href=\"https://ackcent.com/in-depth-freemarker-template-injection/\" rel=\"nofollow noreferrer\">freemarker template injection issue</a>, I created a springboot project with</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n            &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n            &lt;version&gt;2.3.31&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And a controller</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/freemarker&quot;)\npublic class FreeMarkerController {\n    private String run(String template, String username, Boolean hardened) throws Exception {\n        Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;() {{\n            put(&quot;username&quot;, username);\n        }};\n\n        StringTemplateLoader tempLoader = new StringTemplateLoader();\n        tempLoader.putTemplate(&quot;test&quot;, template);\n\n        Configuration cfg = new Configuration(Configuration.VERSION_2_3_31);\n        if (hardened)\n            cfg.setNewBuiltinClassResolver(TemplateClassResolver.SAFER_RESOLVER);\n        cfg.setTemplateLoader(tempLoader);\n        cfg.setAPIBuiltinEnabled(true);\n\n        Template tmpl = cfg.getTemplate(&quot;test&quot;);\n        StringWriter writer = new StringWriter();\n        tmpl.process(data, writer);\n\n        return writer.toString();\n    }\n\n    @RequestMapping(value = &quot;/unsafe&quot;)\n    public String parse_unsfe(@RequestParam(name=&quot;template&quot;, required=true) String template) throws Exception {\n        return run(template, &quot;test&quot;, false);\n    }\n}\n</code></pre>\n<p>However, this results in an error because api is undefined</p>\n<pre><code>curl 127.0.0.1:8080/freemarker/unsafe -d 'template=&lt;#assign classLoader=object?api.class.protectionDomain.classLoader&gt;'\n</code></pre>\n<p>Error in console</p>\n<pre><code>freemarker.core.InvalidReferenceException: The following has evaluated to null or missing:\n==&gt; object  [in template &quot;test&quot; at line 1, column 22]\n\n----\nTip: If the failing expression is known to legally refer to something that's sometimes null or missing, either specify a default value like myOptionalVar!myDefault, or use &lt;#if myOptionalVar??&gt;when-present&lt;#else&gt;when-missing&lt;/#if&gt;. (These only cover the last step of the expression; to cover the whole expression, use parenthesis: (myOptionalVar.foo)!myDefault, (myOptionalVar.foo)??\n----\n</code></pre>\n<p>Why is api undefined? I already enabled API builtins. Does anyone know?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1698840499,"post_id":77393931,"comment_id":136455300,"body_markdown":"Are you facing any error message when running the above code?","body":"Are you facing any error message when running the above code?"},{"owner":{"account_id":1660970,"reputation":109,"user_id":1529282,"accept_rate":29,"display_name":"user1529282"},"score":0,"creation_date":1698850315,"post_id":77393931,"comment_id":136457353,"body_markdown":"@kiranmathew I do not see any error.. The dataflow just does not proceed any further.. I see the sysout of createAccumulator only..","body":"@kiranmathew I do not see any error.. The dataflow just does not proceed any further.. I see the sysout of createAccumulator only.."},{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":0,"creation_date":1699363840,"post_id":77393931,"comment_id":136520102,"body_markdown":"You can consider using [logs](https://cloud.google.com/dataflow/docs/guides/logging#java) in your code. By using logs you will get a better understanding about what is happening in your code.","body":"You can consider using <a href=\"https://cloud.google.com/dataflow/docs/guides/logging#java\" rel=\"nofollow noreferrer\">logs</a> in your code. By using logs you will get a better understanding about what is happening in your code."}],"owner":{"account_id":1660970,"reputation":109,"user_id":1529282,"accept_rate":29,"display_name":"user1529282"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698736956,"creation_date":1698736956,"question_id":77393931,"body_markdown":"I have a requirement to convert a windowed PCollection KV&lt;String, String&gt; to List&lt;KV&lt;String, String&gt;&gt; run on Google dataflow.\r\n\r\nBasically to combine all the KV&lt;String,String&gt; within that 120 second window to a List&lt;KV&lt;String, String&gt;&gt;\r\n\r\nI tried with below code and for some unknown reason the CombineFn does not seem to go anywhere and is hung.\r\n\r\nPlease let me know if the approach is correct or what am i doing wrong?\r\n\r\n````java\r\npublic static class CombineToListFn\r\n\t\t\textends Combine.CombineFn&lt;KV&lt;String, String&gt;, List&lt;KV&lt;String, String&gt;&gt;, List&lt;KV&lt;String, String&gt;&gt;&gt; {\r\n\t\t@Override\r\n\t\tpublic List&lt;KV&lt;String, String&gt;&gt; createAccumulator() {\r\n\t\t\tSystem.out.println(&quot;createAccumulator called&quot;);\r\n\t\t\treturn new ArrayList&lt;&gt;();\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;KV&lt;String, String&gt;&gt; addInput(List&lt;KV&lt;String, String&gt;&gt; accumulator, KV&lt;String, String&gt; input) {\r\n\t\t\tSystem.out.println(&quot;input: &quot; + input);\r\n\t\t\taccumulator.add(input);\r\n\t\t\treturn accumulator;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;KV&lt;String, String&gt;&gt; mergeAccumulators(Iterable&lt;List&lt;KV&lt;String, String&gt;&gt;&gt; accumulators) {\r\n\t\t\tSystem.out.println(&quot;mergeAccumulators called&quot;);\r\n\t\t\tList&lt;KV&lt;String, String&gt;&gt; merged = new ArrayList&lt;&gt;();\r\n\t\t\tfor (List&lt;KV&lt;String, String&gt;&gt; accumulator : accumulators) {\r\n\t\t\t\tmerged.addAll(accumulator);\r\n\t\t\t}\r\n\t\t\treturn merged;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic List&lt;KV&lt;String, String&gt;&gt; extractOutput(List&lt;KV&lt;String, String&gt;&gt; accumulator) {\r\n\t\t\tSystem.out.println(&quot;extractOutput called&quot;);\r\n\t\t\treturn accumulator;\r\n\t\t}\r\n\t}\r\n````\r\n\r\n```` java\r\nPCollection&lt;KV&lt;String, String&gt;&gt; groupedData = productsAsString.apply(&quot;GroupProductData&quot;,\r\n\t\t\t\tWindow.into(FixedWindows.of(Duration.standardSeconds(120))));\r\n\r\n// Combine the groupedData into a List of KV&lt;String, String&gt;\r\nPCollection&lt;List&lt;KV&lt;String, String&gt;&gt;&gt; combinedData = groupedData.\r\n                apply(Combine.globally(new CombineToListFn()).withoutDefaults());\r\n````\r\n","title":"How to use CombineFn to merge windowed PCollection of KV&lt;String, String&gt; to List&lt;KV&lt;String, String&gt;&gt;","body":"<p>I have a requirement to convert a windowed PCollection KV&lt;String, String&gt; to List&lt;KV&lt;String, String&gt;&gt; run on Google dataflow.</p>\n<p>Basically to combine all the KV&lt;String,String&gt; within that 120 second window to a List&lt;KV&lt;String, String&gt;&gt;</p>\n<p>I tried with below code and for some unknown reason the CombineFn does not seem to go anywhere and is hung.</p>\n<p>Please let me know if the approach is correct or what am i doing wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class CombineToListFn\n            extends Combine.CombineFn&lt;KV&lt;String, String&gt;, List&lt;KV&lt;String, String&gt;&gt;, List&lt;KV&lt;String, String&gt;&gt;&gt; {\n        @Override\n        public List&lt;KV&lt;String, String&gt;&gt; createAccumulator() {\n            System.out.println(&quot;createAccumulator called&quot;);\n            return new ArrayList&lt;&gt;();\n        }\n\n        @Override\n        public List&lt;KV&lt;String, String&gt;&gt; addInput(List&lt;KV&lt;String, String&gt;&gt; accumulator, KV&lt;String, String&gt; input) {\n            System.out.println(&quot;input: &quot; + input);\n            accumulator.add(input);\n            return accumulator;\n        }\n\n        @Override\n        public List&lt;KV&lt;String, String&gt;&gt; mergeAccumulators(Iterable&lt;List&lt;KV&lt;String, String&gt;&gt;&gt; accumulators) {\n            System.out.println(&quot;mergeAccumulators called&quot;);\n            List&lt;KV&lt;String, String&gt;&gt; merged = new ArrayList&lt;&gt;();\n            for (List&lt;KV&lt;String, String&gt;&gt; accumulator : accumulators) {\n                merged.addAll(accumulator);\n            }\n            return merged;\n        }\n\n        @Override\n        public List&lt;KV&lt;String, String&gt;&gt; extractOutput(List&lt;KV&lt;String, String&gt;&gt; accumulator) {\n            System.out.println(&quot;extractOutput called&quot;);\n            return accumulator;\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>PCollection&lt;KV&lt;String, String&gt;&gt; groupedData = productsAsString.apply(&quot;GroupProductData&quot;,\n                Window.into(FixedWindows.of(Duration.standardSeconds(120))));\n\n// Combine the groupedData into a List of KV&lt;String, String&gt;\nPCollection&lt;List&lt;KV&lt;String, String&gt;&gt;&gt; combinedData = groupedData.\n                apply(Combine.globally(new CombineToListFn()).withoutDefaults());\n</code></pre>\n"},{"tags":["java","vert.x","open-telemetry","vertx-verticle","vertx-httpclient"],"owner":{"account_id":11482381,"reputation":75,"user_id":8416028,"display_name":"tboon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1698736732,"creation_date":1698736732,"question_id":77393911,"body_markdown":"To use Span Attribute for Head Sampling, attribute must set before startSpan(). In Vertx, Span is created in very low level, and the attributes is limited from fixed implementation of TagExtractor.\r\nhttps://github.com/eclipse-vertx/vertx-tracing/blob/4.4.6/vertx-opentelemetry/src/main/java/io/vertx/tracing/opentelemetry/OpenTelemetryTracer.java#L148-L154\r\n\r\nFor workaround we can create custom OpenTelemetryOptions and OpenTelemetryTracer to have custom TagExtractor to insert the attribute we want. But this look like a hack to me.\r\n\r\nThe Span.current() will not work for me, not only because head sampling, but also my custom attribute details can  obtain only before vertx sendRequest.\r\n\r\n```\r\n@Override\r\n  public &lt;R&gt; Span sendRequest(\r\n          final Context context,\r\n          final SpanKind kind,\r\n          final TracingPolicy policy,\r\n          final R request,\r\n          final String operation,\r\n          final BiConsumer&lt;String, String&gt; headers,\r\n          final TagExtractor&lt;R&gt; tagExtractor) {\r\n\r\n    ...\r\n\r\n    final Span span = reportTagsAndStart(tracer.spanBuilder(operation)\r\n                    .setParent(tracingContext)\r\n                    .setSpanKind(SpanKind.RPC.equals(kind) ? io.opentelemetry.api.trace.SpanKind.CLIENT : io.opentelemetry.api.trace.SpanKind.PRODUCER)\r\n            , request, customTagExtractor != null ? (TagExtractor&lt;R&gt;) customTagExtractor : tagExtractor);\r\n\r\n    tracingContext = tracingContext.with(span);\r\n    propagators.getTextMapPropagator().inject(tracingContext, headers, setter);\r\n\r\n    return span;\r\n  }\r\n```\r\n\r\n```\r\nTagExtractor&lt;HttpRequestHead&gt; customTagExtractor = new TagExtractor&lt;HttpRequestHead&gt;() {\r\n\t@Override\r\n\tpublic int len(HttpRequestHead req) {\r\n\t\treturn 1;\r\n\t}\r\n\t@Override\r\n\tpublic String name(HttpRequestHead req, int index) {\r\n\t\tswitch (index) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn &quot;filter&quot;;\r\n\t\t}\r\n\t\tthrow new IndexOutOfBoundsException(&quot;Invalid tag index &quot; + index);\r\n\t}\r\n\t@Override\r\n\tpublic String value(HttpRequestHead req, int index) {\r\n\t\tswitch (index) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn req.headers.get(&quot;filter&quot;);\r\n\t\t}\r\n\t\tthrow new IndexOutOfBoundsException(&quot;Invalid tag index &quot; + index);\r\n\t}\r\n};\r\n```\r\n\r\nI am looking for better solution than this workaround or correct way to handle this.","title":"How to add custom OpenTelemetry Span Attribute in Vertx for Head Sampling","body":"<p>To use Span Attribute for Head Sampling, attribute must set before startSpan(). In Vertx, Span is created in very low level, and the attributes is limited from fixed implementation of TagExtractor.\n<a href=\"https://github.com/eclipse-vertx/vertx-tracing/blob/4.4.6/vertx-opentelemetry/src/main/java/io/vertx/tracing/opentelemetry/OpenTelemetryTracer.java#L148-L154\" rel=\"nofollow noreferrer\">https://github.com/eclipse-vertx/vertx-tracing/blob/4.4.6/vertx-opentelemetry/src/main/java/io/vertx/tracing/opentelemetry/OpenTelemetryTracer.java#L148-L154</a></p>\n<p>For workaround we can create custom OpenTelemetryOptions and OpenTelemetryTracer to have custom TagExtractor to insert the attribute we want. But this look like a hack to me.</p>\n<p>The Span.current() will not work for me, not only because head sampling, but also my custom attribute details can  obtain only before vertx sendRequest.</p>\n<pre><code>@Override\n  public &lt;R&gt; Span sendRequest(\n          final Context context,\n          final SpanKind kind,\n          final TracingPolicy policy,\n          final R request,\n          final String operation,\n          final BiConsumer&lt;String, String&gt; headers,\n          final TagExtractor&lt;R&gt; tagExtractor) {\n\n    ...\n\n    final Span span = reportTagsAndStart(tracer.spanBuilder(operation)\n                    .setParent(tracingContext)\n                    .setSpanKind(SpanKind.RPC.equals(kind) ? io.opentelemetry.api.trace.SpanKind.CLIENT : io.opentelemetry.api.trace.SpanKind.PRODUCER)\n            , request, customTagExtractor != null ? (TagExtractor&lt;R&gt;) customTagExtractor : tagExtractor);\n\n    tracingContext = tracingContext.with(span);\n    propagators.getTextMapPropagator().inject(tracingContext, headers, setter);\n\n    return span;\n  }\n</code></pre>\n<pre><code>TagExtractor&lt;HttpRequestHead&gt; customTagExtractor = new TagExtractor&lt;HttpRequestHead&gt;() {\n    @Override\n    public int len(HttpRequestHead req) {\n        return 1;\n    }\n    @Override\n    public String name(HttpRequestHead req, int index) {\n        switch (index) {\n            case 0:\n                return &quot;filter&quot;;\n        }\n        throw new IndexOutOfBoundsException(&quot;Invalid tag index &quot; + index);\n    }\n    @Override\n    public String value(HttpRequestHead req, int index) {\n        switch (index) {\n            case 0:\n                return req.headers.get(&quot;filter&quot;);\n        }\n        throw new IndexOutOfBoundsException(&quot;Invalid tag index &quot; + index);\n    }\n};\n</code></pre>\n<p>I am looking for better solution than this workaround or correct way to handle this.</p>\n"},{"tags":["java","afp"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695269786,"post_id":57664906,"comment_id":136002582,"body_markdown":"Refer to [What topics can I ask about here?](https://stackoverflow.com/help/on-topic) where it states: _Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam._","body":"Refer to <a href=\"https://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a> where it states: <i>Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam.</i>"}],"answers":[{"tags":[],"owner":{"account_id":8677307,"reputation":111,"user_id":6494363,"display_name":"Yan Hackl-Feldbusch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566986652,"creation_date":1566986652,"answer_id":57689859,"question_id":57664906,"body_markdown":"You can try [afplib][1]. It has some sample code that dumps all structured fields (org.afplib.samples.DumpAFP). It produces output like this:\r\n\r\n    ...\r\n    FNG  number:47,offset:49787,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@4e3958e7,\r\n    FNG  number:48,offset:57988,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@77f80c04,\r\n    FNG  number:49,offset:66189,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@1dac5ef,\r\n    FNG  number:50,offset:74390,id:13889161,length:6991,rawData:null,charset:null,PatData:[B@5c90e579,\r\n    EFN  number:51,offset:81381,id:13871497,length:17,rawData:null,charset:null,RSName:C0EX0480,\r\n\r\nYou could use the binary array PatData to extract the font pattern like this:\r\n\r\n    \ttry (AfpInputStream in = new AfpInputStream(\r\n\t\t\tnew BufferedInputStream(new FileInputStream(args[0])))) {\r\n\t\t\t\r\n\t\t\tSF sf;\r\n\t\t\twhile((sf = in.readStructuredField()) != null) {\r\n\t\t\t\tif(sf instanceof FNG) {\r\n\t\t\t\t\tbyte[] pattern = ((FNG)sf).getPatData();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\n \r\n\r\n  [1]: https://github.com/yan74/afplib","title":"Get text from Font Patterns (FNG) from AFP file","body":"<p>You can try <a href=\"https://github.com/yan74/afplib\" rel=\"nofollow noreferrer\">afplib</a>. It has some sample code that dumps all structured fields (org.afplib.samples.DumpAFP). It produces output like this:</p>\n\n<pre><code>...\nFNG  number:47,offset:49787,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@4e3958e7,\nFNG  number:48,offset:57988,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@77f80c04,\nFNG  number:49,offset:66189,id:13889161,length:8201,rawData:null,charset:null,PatData:[B@1dac5ef,\nFNG  number:50,offset:74390,id:13889161,length:6991,rawData:null,charset:null,PatData:[B@5c90e579,\nEFN  number:51,offset:81381,id:13871497,length:17,rawData:null,charset:null,RSName:C0EX0480,\n</code></pre>\n\n<p>You could use the binary array PatData to extract the font pattern like this:</p>\n\n<pre><code>    try (AfpInputStream in = new AfpInputStream(\n        new BufferedInputStream(new FileInputStream(args[0])))) {\n\n        SF sf;\n        while((sf = in.readStructuredField()) != null) {\n            if(sf instanceof FNG) {\n                byte[] pattern = ((FNG)sf).getPatData();\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695572836,"post_id":77146867,"comment_id":136039314,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77146867/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28946595,"reputation":1,"user_id":22172058,"display_name":"WeightedWaffle"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698735431,"creation_date":1695263557,"answer_id":77146867,"question_id":57664906,"body_markdown":"I&#39;m using Python OCR + Pytesseract to do this. Convert to jpg first then read the jpg using OCR to txt forms.\r\n\r\n    def convert_pdf_to_txt(pdf_file_nm):\r\n    \r\n        # If you need to assign tesseract to path\r\n        # pytesseract.pytesseract.tesseract_cmd = r&#39;C:\\Users\\xxx\\AppData\\Local\\Tesseract-OCR\\tesseract.exe&#39;\r\n    \r\n        dir = &#39;./pdf/&#39;\r\n        pdf_path = dir + pdf_file_nm    \r\n        output_filename = pdf_file_nm.replace(&#39;.pdf&#39;,&#39;&#39;) + &quot;.txt&quot;\r\n        output_path = &#39;./text/&#39;+ output_filename\r\n        pages = convert_from_path(pdf_path)\r\n        pg_cntr = 1\r\n        #list = []\r\n    \r\n    \r\n        sub_dir = str(&quot;images/&quot; + pdf_path.split(&#39;/&#39;)[-1].replace(&#39;.pdf&#39;,&#39;&#39;) + &quot;/&quot;)\r\n    \r\n        ## To ensure directory is exist / created\r\n        if not os.path.exists(sub_dir):\r\n            os.makedirs(sub_dir)\r\n    \r\n        for page in pages:\r\n            print(&quot;ok&quot;)\r\n            filename = &quot;pg_&quot;+str(pg_cntr)+&#39;_&#39;+pdf_path.split(&#39;/&#39;)[-1].replace(&#39;.pdf&#39;,&#39;.jpg&#39;)\r\n            page.save(sub_dir+filename)\r\n            \r\n            ###list.append(str(pytesseract.image_to_string(sub_dir+filename)))\r\n    \r\n            with io.open(output_path, &#39;a+&#39;, encoding=&#39;utf8&#39;) as f:\r\n                f.write(str(&quot;======================================================== PAGE &quot; + str(pg_cntr) + &quot; ========================================================\\n&quot;))\r\n                f.write(str(pytesseract.image_to_string(sub_dir+filename)+&quot;\\n&quot;))\r\n                f.write(str(devider))\r\n            pg_cntr += 1\r\n                \r\n        print(&#39;1. Process to convert PDF to image completed successfully.\\n&#39;)\r\n    \r\n        return output_filename\r\n\r\n","title":"Get text from Font Patterns (FNG) from AFP file","body":"<p>I'm using Python OCR + Pytesseract to do this. Convert to jpg first then read the jpg using OCR to txt forms.</p>\n<pre><code>def convert_pdf_to_txt(pdf_file_nm):\n\n    # If you need to assign tesseract to path\n    # pytesseract.pytesseract.tesseract_cmd = r'C:\\Users\\xxx\\AppData\\Local\\Tesseract-OCR\\tesseract.exe'\n\n    dir = './pdf/'\n    pdf_path = dir + pdf_file_nm    \n    output_filename = pdf_file_nm.replace('.pdf','') + &quot;.txt&quot;\n    output_path = './text/'+ output_filename\n    pages = convert_from_path(pdf_path)\n    pg_cntr = 1\n    #list = []\n\n\n    sub_dir = str(&quot;images/&quot; + pdf_path.split('/')[-1].replace('.pdf','') + &quot;/&quot;)\n\n    ## To ensure directory is exist / created\n    if not os.path.exists(sub_dir):\n        os.makedirs(sub_dir)\n\n    for page in pages:\n        print(&quot;ok&quot;)\n        filename = &quot;pg_&quot;+str(pg_cntr)+'_'+pdf_path.split('/')[-1].replace('.pdf','.jpg')\n        page.save(sub_dir+filename)\n        \n        ###list.append(str(pytesseract.image_to_string(sub_dir+filename)))\n\n        with io.open(output_path, 'a+', encoding='utf8') as f:\n            f.write(str(&quot;======================================================== PAGE &quot; + str(pg_cntr) + &quot; ========================================================\\n&quot;))\n            f.write(str(pytesseract.image_to_string(sub_dir+filename)+&quot;\\n&quot;))\n            f.write(str(devider))\n        pg_cntr += 1\n            \n    print('1. Process to convert PDF to image completed successfully.\\n')\n\n    return output_filename\n</code></pre>\n"}],"owner":{"account_id":1210758,"reputation":1064,"user_id":1179340,"accept_rate":67,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698735431,"creation_date":1566853348,"question_id":57664906,"body_markdown":"Can anyone help obtaining text from &quot;Font Patterns (FNG)&quot; field from an AFP file. Is there any library (preferably Java) which can be used for this task?\r\n\r\nThank you,\r\n","title":"Get text from Font Patterns (FNG) from AFP file","body":"<p>Can anyone help obtaining text from \"Font Patterns (FNG)\" field from an AFP file. Is there any library (preferably Java) which can be used for this task?</p>\n\n<p>Thank you,</p>\n"},{"tags":["java","jetty","jetty-12"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1698656545,"post_id":77387249,"comment_id":136428239,"body_markdown":"I think the replacement is `ContextHandlerCollection`:  https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/handler/ContextHandlerCollection.html","body":"I think the replacement is <code>ContextHandlerCollection</code>:  <a href=\"https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/handler/ContextHandlerCollection.html\" rel=\"nofollow noreferrer\">eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698656791,"post_id":77387249,"comment_id":136428287,"body_markdown":"Or maybe `Handler.Sequence`: https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/Handler.Sequence.html","body":"Or maybe <code>Handler.Sequence</code>: <a href=\"https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/Handler.Sequence.html\" rel=\"nofollow noreferrer\">eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"score":0,"creation_date":1698677437,"post_id":77387249,"comment_id":136432188,"body_markdown":"@StephenC yes, it worked. Thank you. Can you make an answer so I can accept it?","body":"@StephenC yes, it worked. Thank you. Can you make an answer so I can accept it?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698682035,"post_id":77387249,"comment_id":136433151,"body_markdown":"Please feel free to make the answer yourself ... and include the code that worked.","body":"Please feel free to make the answer yourself ... and include the code that worked."}],"answers":[{"tags":[],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1698735325,"creation_date":1698735325,"answer_id":77393780,"question_id":77387249,"body_markdown":"I used solution from @StephenC comment:\r\n\r\nThe replacement is `ContextHandlerCollection`: https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/Handler.Sequence.html","title":"Porting from Jetty 11 to Jetty 12. Problem with HandlerList","body":"<p>I used solution from @StephenC comment:</p>\n<p>The replacement is <code>ContextHandlerCollection</code>: <a href=\"https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/Handler.Sequence.html\" rel=\"nofollow noreferrer\">https://eclipse.dev/jetty/javadoc/jetty-12/org/eclipse/jetty/server/Handler.Sequence.html</a></p>\n"}],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77393780,"answer_count":1,"score":0,"last_activity_date":1698735325,"creation_date":1698655577,"question_id":77387249,"body_markdown":"I am porting application that uses Jetty as a HTTP server from Jetty 11 to Jetty 12. I use my own handler that extends ResourceHandler.\r\n\r\nFor Jetty 12 I changed many things like `request.getRemoteAddr()` -&gt; `Request.getRemoteAddr(request)`, and I use `Request.Wrapper` to change immutable request. But now my problem is a little complicated handler usage that uses `HandlerList`, but `HandlerList` is no longer available in Jetty 12.\r\n\r\nMy code that works in Jetty 11:\r\n\r\n\tstatic private void set_jetty_handlers(Server server)\r\n\t\t{\r\n\t\t...\r\n\t\tHandlerList handlers = new HandlerList();\r\n\r\n\t\tServletContextHandler static_handler = new ServletContextHandler();\r\n\t\tstatic_handler.insertHandler(new GzipHandler());\r\n\t\tstatic_handler.setContextPath(&quot;/&quot;);\r\n\t\tstatic_handler.setBaseResourceAsString(resource_base);\r\n\t\t...\r\n\r\n\t\t// My_jetty_handler extends ResourceHandler\r\n\t\tMy_jetty_handler my_handler = new My_jetty_handler();\r\n\t\tmy_handler.setWelcomeFiles(new String[] { ... });\r\n\t\tmy_handler.setBaseResourceAsString(resource_base);\r\n\t\tmy_handler.setCacheControl(MAX_AGE);\r\n\r\n\t\t...\r\n\t\tGzipHandler my_handler_gzip = new GzipHandler();\r\n\t\tmy_handler_gzip.addIncludedMimeTypes(...);\r\n\t\tmy_handler_gzip.setHandler(my_handler);\r\n\t\thandlers.addHandler(my_handler_gzip);\r\n\r\n\t\thandlers.addHandler(static_handler);\r\n\r\n\t\t// I want to work with aliases (links and symbolic links)\r\n\t\tContextHandler context_handler = new ContextHandler();\r\n\t\tcontext_handler.addAliasCheck(new ApproveAllAliases());\r\n\t\tcontext_handler.setHandler(handlers);\r\n\r\n\t\tInetAccessHandler access_handler = new InetAccessHandler();\r\n\t\taddIPRules(access_handler);\r\n\t\taccess_handler.setHandler(context_handler);\r\n\r\n\t\tserver.setHandler(access_handler);\r\n\t\t}\r\n\r\n\r\nWhat should I do to port this from Jetty 11 to Jetty 12?\r\n","title":"Porting from Jetty 11 to Jetty 12. Problem with HandlerList","body":"<p>I am porting application that uses Jetty as a HTTP server from Jetty 11 to Jetty 12. I use my own handler that extends ResourceHandler.</p>\n<p>For Jetty 12 I changed many things like <code>request.getRemoteAddr()</code> -&gt; <code>Request.getRemoteAddr(request)</code>, and I use <code>Request.Wrapper</code> to change immutable request. But now my problem is a little complicated handler usage that uses <code>HandlerList</code>, but <code>HandlerList</code> is no longer available in Jetty 12.</p>\n<p>My code that works in Jetty 11:</p>\n<pre><code>static private void set_jetty_handlers(Server server)\n    {\n    ...\n    HandlerList handlers = new HandlerList();\n\n    ServletContextHandler static_handler = new ServletContextHandler();\n    static_handler.insertHandler(new GzipHandler());\n    static_handler.setContextPath(&quot;/&quot;);\n    static_handler.setBaseResourceAsString(resource_base);\n    ...\n\n    // My_jetty_handler extends ResourceHandler\n    My_jetty_handler my_handler = new My_jetty_handler();\n    my_handler.setWelcomeFiles(new String[] { ... });\n    my_handler.setBaseResourceAsString(resource_base);\n    my_handler.setCacheControl(MAX_AGE);\n\n    ...\n    GzipHandler my_handler_gzip = new GzipHandler();\n    my_handler_gzip.addIncludedMimeTypes(...);\n    my_handler_gzip.setHandler(my_handler);\n    handlers.addHandler(my_handler_gzip);\n\n    handlers.addHandler(static_handler);\n\n    // I want to work with aliases (links and symbolic links)\n    ContextHandler context_handler = new ContextHandler();\n    context_handler.addAliasCheck(new ApproveAllAliases());\n    context_handler.setHandler(handlers);\n\n    InetAccessHandler access_handler = new InetAccessHandler();\n    addIPRules(access_handler);\n    access_handler.setHandler(context_handler);\n\n    server.setHandler(access_handler);\n    }\n</code></pre>\n<p>What should I do to port this from Jetty 11 to Jetty 12?</p>\n"},{"tags":["java","visual-studio-code","compiler-errors","vscode-extensions"],"comments":[{"owner":{"account_id":14243478,"reputation":458,"user_id":10289212,"display_name":"prakasht"},"score":0,"creation_date":1698459554,"post_id":77377773,"comment_id":136412200,"body_markdown":"You can try the steps given in this answer to properly remove vscode settings and get a fresh starting point: https://stackoverflow.com/a/52462074","body":"You can try the steps given in this answer to properly remove vscode settings and get a fresh starting point: <a href=\"https://stackoverflow.com/a/52462074\">stackoverflow.com/a/52462074</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698574785,"post_id":77377773,"comment_id":136420647,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698735297,"creation_date":1698735297,"answer_id":77393777,"question_id":77377773,"body_markdown":"Such settings are generally stored in the ***state.vscdb*** database file, for me it was here(*C:\\Users\\Administrator\\AppData\\Roaming\\Code\\User\\globalStorage*).\r\n\r\nYou can refer to [this link][1] to modify it.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76206135/19133920","title":"Clicked on &quot;always continue build&quot; by accident and now i don&#39;t get the &quot;build failed&quot; message anymore","body":"<p>Such settings are generally stored in the <em><strong>state.vscdb</strong></em> database file, for me it was here(<em>C:\\Users\\Administrator\\AppData\\Roaming\\Code\\User\\globalStorage</em>).</p>\n<p>You can refer to <a href=\"https://stackoverflow.com/a/76206135/19133920\">this link</a> to modify it.</p>\n"}],"owner":{"account_id":26850884,"reputation":1,"user_id":22816545,"display_name":"Cecilia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698735297,"creation_date":1698459017,"question_id":77377773,"body_markdown":"I was running my code and build failed because of a mistake. By accident i clicked on always continue. Now i never see &quot;build failed&quot; again and the code runs despite the errors.\r\nMy code had a part to take input from the user and perform a method on it. Now it takes the input although there is an error in the method and then shows error in the terminal after entering all inputs. \r\n\r\nHow can i get the &quot;buil failed&quot; to appear again?? Please help!\r\n\r\n\r\n\r\nI tried resetting setting and uninstalling. NOTHING WORKED! ","title":"Clicked on &quot;always continue build&quot; by accident and now i don&#39;t get the &quot;build failed&quot; message anymore","body":"<p>I was running my code and build failed because of a mistake. By accident i clicked on always continue. Now i never see &quot;build failed&quot; again and the code runs despite the errors.\nMy code had a part to take input from the user and perform a method on it. Now it takes the input although there is an error in the method and then shows error in the terminal after entering all inputs.</p>\n<p>How can i get the &quot;buil failed&quot; to appear again?? Please help!</p>\n<p>I tried resetting setting and uninstalling. NOTHING WORKED!</p>\n"},{"tags":["java","google-cloud-platform","google-app-engine","elastic-apm"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1695794311,"post_id":77184884,"comment_id":136070126,"body_markdown":"In your `-Delastic.apm.*` configuration settings I don&#39;t see the `transaction_sample_rate` one.","body":"In your <code>-Delastic.apm.*</code> configuration settings I don&#39;t see the <code>transaction_sample_rate</code> one."},{"owner":{"account_id":14649429,"reputation":33,"user_id":10579848,"display_name":"Hanok Jacob"},"score":0,"creation_date":1695797760,"post_id":77184884,"comment_id":136070594,"body_markdown":"I explicitly mentioned it for certain deployments of my application, but that approach didn&#39;t resolve the issue for me. I attempted the configuration with and without specifying the `transaction_sample_rate`, and in both cases, I encountered the same problem.","body":"I explicitly mentioned it for certain deployments of my application, but that approach didn&#39;t resolve the issue for me. I attempted the configuration with and without specifying the <code>transaction_sample_rate</code>, and in both cases, I encountered the same problem."},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1695797911,"post_id":77184884,"comment_id":136070613,"body_markdown":"Any chance to try a more recent version, because 7.9.2 is antiquated?","body":"Any chance to try a more recent version, because 7.9.2 is antiquated?"},{"owner":{"account_id":14649429,"reputation":33,"user_id":10579848,"display_name":"Hanok Jacob"},"score":0,"creation_date":1695802523,"post_id":77184884,"comment_id":136071426,"body_markdown":"I went with 7.9.2 since my Elasticsearch cluster was running on 7.9.2. According to this https://www.elastic.co/support/matrix#matrix_compatibility I think I can go for 7.17.x version of the APM server. Let me try it out. I&#39;ll keep you posted. Thanks!","body":"I went with 7.9.2 since my Elasticsearch cluster was running on 7.9.2. According to this <a href=\"https://www.elastic.co/support/matrix#matrix_compatibility\" rel=\"nofollow noreferrer\">elastic.co/support/matrix#matrix_compatibility</a> I think I can go for 7.17.x version of the APM server. Let me try it out. I&#39;ll keep you posted. Thanks!"},{"owner":{"account_id":14649429,"reputation":33,"user_id":10579848,"display_name":"Hanok Jacob"},"score":0,"creation_date":1698745000,"post_id":77184884,"comment_id":136441181,"body_markdown":"When I run my application locally, it traces all the requests in the APM. Only when it is deployed in AppEngine it creates this issue. I guess it has something to do with the Google app engine. Can someone tell me what&#39;s wrong here?","body":"When I run my application locally, it traces all the requests in the APM. Only when it is deployed in AppEngine it creates this issue. I guess it has something to do with the Google app engine. Can someone tell me what&#39;s wrong here?"}],"owner":{"account_id":14649429,"reputation":33,"user_id":10579848,"display_name":"Hanok Jacob"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698735177,"creation_date":1695792953,"question_id":77184884,"body_markdown":"Kibana version:7.9.2\r\n\r\nElasticsearch version: 7.9.2\r\n\r\nAPM Server version: 7.9.2\r\n\r\nAPM Agent language and version: java agent, version : 1.42.0\r\n\r\nI have a Spring MVC application running on Google AppEngine with Java 17 as the runtime. I&#39;ve configured it with the -javaagent flag. My goal is to monitor and view all the requests and their associated spans in my application. However, I&#39;ve encountered an issue where I can only see spans for some of the incoming requests. While I can see the overall execution time when filtering by trace IDs, I&#39;m unable to view the specific spans related to those requests. I need assistance in understanding why this is happening and what steps I should take to ensure that I can view spans for all incoming requests.\r\n\r\nThe default setting for request tracing is to capture all incoming requests. However, I&#39;ve explicitly set the transaction_sample_rate to 1 to ensure that all requests are sampled for tracing. Surprisingly, even with this configuration, I&#39;m still unable to capture traces for all requests.\r\n\r\nThese are the configs that I have used:\r\n-javaagent:WEB-INF/lib/elastic-apm-agent-1.42.0.jar -Delastic.apm.service_name=myApp -Delastic.apm.environment=staging -Delastic.apm.server_urls=http://xx.yy.zz.aa:8200 -Delastic.apm.secret_token=******* -Delastic.apm.application_packages=com.hanok -Delastic.apm.trace_methods=com.hanok.*\r\n\r\nThis is the expected result where I could see all the spans:[![enter image description here][1]][1]\r\n\r\n\r\nSteps to reproduce:\r\n\r\n1.Deploy the app using Java agent configs\r\n\r\n2.Trigger some http requests \r\n\r\n3.Try filtering out using a trace.id\r\n\r\n4.This is what I get as the result which does not have spans at all :[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0AAvX.png\r\n  [2]: https://i.stack.imgur.com/WrbYG.png\r\n\r\n\r\nUpdate : \r\n\r\nWhen I run my application locally, it traces all the requests in the APM. Only when it is deployed in AppEngine it creates this issue. I guess it has something to do with the Google app engine. Can someone tell me what&#39;s wrong here?","title":"Elastic APM using Java agent : Only a subset of my incoming requests have spans, while the majority of requests do not","body":"<p>Kibana version:7.9.2</p>\n<p>Elasticsearch version: 7.9.2</p>\n<p>APM Server version: 7.9.2</p>\n<p>APM Agent language and version: java agent, version : 1.42.0</p>\n<p>I have a Spring MVC application running on Google AppEngine with Java 17 as the runtime. I've configured it with the -javaagent flag. My goal is to monitor and view all the requests and their associated spans in my application. However, I've encountered an issue where I can only see spans for some of the incoming requests. While I can see the overall execution time when filtering by trace IDs, I'm unable to view the specific spans related to those requests. I need assistance in understanding why this is happening and what steps I should take to ensure that I can view spans for all incoming requests.</p>\n<p>The default setting for request tracing is to capture all incoming requests. However, I've explicitly set the transaction_sample_rate to 1 to ensure that all requests are sampled for tracing. Surprisingly, even with this configuration, I'm still unable to capture traces for all requests.</p>\n<p>These are the configs that I have used:\n-javaagent:WEB-INF/lib/elastic-apm-agent-1.42.0.jar -Delastic.apm.service_name=myApp -Delastic.apm.environment=staging -Delastic.apm.server_urls=http://xx.yy.zz.aa:8200 -Delastic.apm.secret_token=******* -Delastic.apm.application_packages=com.hanok -Delastic.apm.trace_methods=com.hanok.*</p>\n<p>This is the expected result where I could see all the spans:<a href=\"https://i.stack.imgur.com/0AAvX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0AAvX.png\" alt=\"enter image description here\" /></a></p>\n<p>Steps to reproduce:</p>\n<p>1.Deploy the app using Java agent configs</p>\n<p>2.Trigger some http requests</p>\n<p>3.Try filtering out using a trace.id</p>\n<p>4.This is what I get as the result which does not have spans at all :<a href=\"https://i.stack.imgur.com/WrbYG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WrbYG.png\" alt=\"enter image description here\" /></a></p>\n<p>Update :</p>\n<p>When I run my application locally, it traces all the requests in the APM. Only when it is deployed in AppEngine it creates this issue. I guess it has something to do with the Google app engine. Can someone tell me what's wrong here?</p>\n"},{"tags":["java","unit-testing","bytearrayinputstream"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":3,"creation_date":1698734804,"post_id":77393708,"comment_id":136439460,"body_markdown":"I wouldn&#39;t uses System.in at all. It would probably be better to make the input Stream configurable and then only use System.in for &quot;production&quot; while for tests you use the ByteArrayInputStream. Hard to help more without seeing the rest of the code though.","body":"I wouldn&#39;t uses System.in at all. It would probably be better to make the input Stream configurable and then only use System.in for &quot;production&quot; while for tests you use the ByteArrayInputStream. Hard to help more without seeing the rest of the code though."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1698735871,"post_id":77393708,"comment_id":136439616,"body_markdown":"Are you reading from System.in directly? Or are you using a `Scanner`? When you use a `Scanner`: do you create a new `Scanner` every time you change System.in? Because `new Scanner(System.in)` stores a reference to the current System.in InputStream when you create it. Changing System.in to a new InputStream doesn&#39;t change the input stream that the previously created Scanner uses!","body":"Are you reading from System.in directly? Or are you using a <code>Scanner</code>? When you use a <code>Scanner</code>: do you create a new <code>Scanner</code> every time you change System.in? Because <code>new Scanner(System.in)</code> stores a reference to the current System.in InputStream when you create it. Changing System.in to a new InputStream doesn&#39;t change the input stream that the previously created Scanner uses!"},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1698735879,"post_id":77393708,"comment_id":136439618,"body_markdown":"Is it due to `@AfterEach`. Should you be using `@AfterAll` instead?","body":"Is it due to <code>@AfterEach</code>. Should you be using <code>@AfterAll</code> instead?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1698736858,"post_id":77393708,"comment_id":136439752,"body_markdown":"Please post a complete, minimal example which reproduces the problem.","body":"Please post a complete, minimal example which reproduces the problem."}],"owner":{"account_id":27211201,"reputation":1,"user_id":20741999,"display_name":"yong _ta_Park"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698734412,"creation_date":1698734412,"question_id":77393708,"body_markdown":"I am working on unit testing a Java application, and I am facing an issue with handling System.in for testing exception scenarios. My tests are designed to check if the application throws the correct exception when invalid input is provided.\r\n\r\nHere is the code for initializing and restoring the System.in stream, and a couple of test cases:\r\n\r\n```java\r\n    public class RacingGameTest {\r\n        private InputStream originalInputStream = System.in;\r\n\r\n        void initializeStreams(String inputKey) {\r\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(inputKey.getBytes());\r\n            System.setIn(byteArrayInputStream);\r\n        }\r\n\r\n        @AfterEach\r\n        void restoreStreams() {\r\n            System.setIn(originalInputStream);\r\n        }\r\n\r\n        @Test\r\n        void 입력이_공백일_때_IllegalBlankException_던지기() {\r\n            // Given\r\n            final String ONLY_BLANK = &quot; &quot;;\r\n\r\n            // When\r\n            initializeStreams(ONLY_BLANK);\r\n\r\n            // Then\r\n            Assertions.assertThatThrownBy(racingGame::start).isInstanceOf(IllegalBlankException.class);\r\n        }\r\n\r\n        @Test\r\n        void 이름이_누락되었을_때_IllegalBlankException_던지기() {\r\n            // Given\r\n            final String STRING_NAMES_CONTAIN_SPACE = &quot;name1, ,name3&quot;;\r\n\r\n            // When\r\n            initializeStreams(STRING_NAMES_CONTAIN_SPACE);\r\n\r\n            // Then\r\n            Assertions.assertThatThrownBy(racingGame::start).isInstanceOf(IllegalBlankException.class);\r\n        }\r\n    }\r\n```\r\n\r\nIn the first test, I am checking if IllegalBlankException is thrown when the input is a blank string. In the second test, I am verifying if IllegalBlankException is thrown when a name is missing.\r\n\r\nWhen I run these tests individually, they pass. However, when I run all the tests in the class together, I face issues with System.in not being reset properly, resulting in java.util.NoSuchElementException: No line found for tests that run after the first one.\r\n\r\nI have used @AfterEach to restore System.in after each test, but it seems like it&#39;s not working as expected. Am I missing something? How can I ensure that System.in is properly reset after each test?","title":"Question about java ByteArrayInputStream Test : No Line Found","body":"<p>I am working on unit testing a Java application, and I am facing an issue with handling System.in for testing exception scenarios. My tests are designed to check if the application throws the correct exception when invalid input is provided.</p>\n<p>Here is the code for initializing and restoring the System.in stream, and a couple of test cases:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class RacingGameTest {\n        private InputStream originalInputStream = System.in;\n\n        void initializeStreams(String inputKey) {\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(inputKey.getBytes());\n            System.setIn(byteArrayInputStream);\n        }\n\n        @AfterEach\n        void restoreStreams() {\n            System.setIn(originalInputStream);\n        }\n\n        @Test\n        void 입력이_공백일_때_IllegalBlankException_던지기() {\n            // Given\n            final String ONLY_BLANK = &quot; &quot;;\n\n            // When\n            initializeStreams(ONLY_BLANK);\n\n            // Then\n            Assertions.assertThatThrownBy(racingGame::start).isInstanceOf(IllegalBlankException.class);\n        }\n\n        @Test\n        void 이름이_누락되었을_때_IllegalBlankException_던지기() {\n            // Given\n            final String STRING_NAMES_CONTAIN_SPACE = &quot;name1, ,name3&quot;;\n\n            // When\n            initializeStreams(STRING_NAMES_CONTAIN_SPACE);\n\n            // Then\n            Assertions.assertThatThrownBy(racingGame::start).isInstanceOf(IllegalBlankException.class);\n        }\n    }\n</code></pre>\n<p>In the first test, I am checking if IllegalBlankException is thrown when the input is a blank string. In the second test, I am verifying if IllegalBlankException is thrown when a name is missing.</p>\n<p>When I run these tests individually, they pass. However, when I run all the tests in the class together, I face issues with System.in not being reset properly, resulting in java.util.NoSuchElementException: No line found for tests that run after the first one.</p>\n<p>I have used @AfterEach to restore System.in after each test, but it seems like it's not working as expected. Am I missing something? How can I ensure that System.in is properly reset after each test?</p>\n"},{"tags":["java","maven","apache-poi","apache-tika","staging"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1698742063,"post_id":77393679,"comment_id":136440615,"body_markdown":"Why are you mixing Apache Tika jar versions? That is not supported! Use only 1.x or 2.x, not a mixture!","body":"Why are you mixing Apache Tika jar versions? That is not supported! Use only 1.x or 2.x, not a mixture!"},{"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"score":0,"creation_date":1698743005,"post_id":77393679,"comment_id":136440805,"body_markdown":"I tried doing that, but docx, pptx, xlsx were read as &quot;application/x-tika-ooxml&quot; and invalid mime types. I could be wrong though, is poi responsible for MS files or they work hand in hand with tika. if that is the case, I will try updating the poi version only and use the same version for tika core and parsers as you advised.","body":"I tried doing that, but docx, pptx, xlsx were read as &quot;application/x-tika-ooxml&quot; and invalid mime types. I could be wrong though, is poi responsible for MS files or they work hand in hand with tika. if that is the case, I will try updating the poi version only and use the same version for tika core and parsers as you advised."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1698745093,"post_id":77393679,"comment_id":136441196,"body_markdown":"Each version of Apache Tika is built against a specific version of Apache POI. Just let Tika pull in the version of POI it wants","body":"Each version of Apache Tika is built against a specific version of Apache POI. Just let Tika pull in the version of POI it wants"},{"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"score":0,"creation_date":1698762082,"post_id":77393679,"comment_id":136444511,"body_markdown":"Thanks a lot; everything is functioning as expected now, in both environments.","body":"Thanks a lot; everything is functioning as expected now, in both environments."}],"owner":{"account_id":29276486,"reputation":1,"user_id":22430112,"display_name":"Esphi01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698734064,"creation_date":1698734064,"question_id":77393679,"body_markdown":"I am using tika and poi dependencies to detect file mime types and storing those files accordingly.\r\n\r\n\r\n```\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.tika.Tika;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\npublic final class FileTypeUtils {\r\n\r\n\tprivate static final Logger LOGGER = LoggerFactory.getLogger(FileTypeUtils.class);\r\n\t\r\n\tprivate FileTypeUtils() {\r\n\t}\r\n\r\n\tpublic static String getFileType(File inputFile) throws Exception {\r\n\r\n\t\tfinal Tika tika = new Tika();\r\n\t\ttry {\r\n\t\t\treturn tika.detect(inputFile);\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error message: &quot; + e.getMessage());\r\n\t\t\tLOGGER.error(&quot;*** getFileTypeViaTika2 - Error trace&quot;+e);\r\n\t\t\tthrow new Exception(&quot;File type unknown&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nthis is the method caller\r\n```\r\n\tpublic void saveMediaFile(String url, WhatsAppMessageContentTypeValidation whatsAppMessageContentTypeValidation) {\r\n\t\tString fileName = UUID.randomUUID().toString();\r\n\t\ttry {\r\n\t\t\tFile file = new File(Pl4WhatsAppConstants.mediaFilePath + fileName.replace(&quot; &quot;, &quot;-&quot;));\r\n\t\t\tif (url != null &amp;&amp; url.contains(&quot;https&quot;)) {\r\n\t\t\t\tURL fileUrl = new URL(url.replace(&quot; &quot;, &quot;-&quot;));\r\n\t\t\t\tSSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\r\n\r\n\t\t\t\t// set up a TrustManager that trusts everything\r\n\t\t\t\tsslContext.init(null, new TrustManager[] { new X509TrustManager() {\r\n\t\t\t\t\tpublic X509Certificate[] getAcceptedIssuers() {\r\n\t\t\t\t\t\tLOGGER.info(&quot;getAcceptedIssuers =============&quot;);\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpublic void checkClientTrusted(X509Certificate[] certs, String authType) {\r\n\t\t\t\t\t\tLOGGER.info(&quot;checkClientTrusted =============&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tpublic void checkServerTrusted(X509Certificate[] certs, String authType) {\r\n\t\t\t\t\t\tLOGGER.info(&quot;checkServerTrusted =============&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t} }, new SecureRandom());\r\n\t\t\t\t// Apache HttpClient version &gt;4.2 should use BasicClientConnectionManager\r\n\t\t\t\tHttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\r\n\t\t\t\tHttpsURLConnection connection = (HttpsURLConnection) fileUrl.openConnection();\r\n\t\t\t\tFileUtils.copyURLToFile(connection.getURL(), file, 30000, 30000);\r\n\t\t\t} else {\r\n\t\t\t\tURL fileUrl = new URL(url.replace(&quot; &quot;, &quot;-&quot;));\r\n\t\t\t\tFileUtils.copyURLToFile(fileUrl, file, 30000, 30000);\r\n\t\t\t}\r\n\t\t\tString contentTypeString = FileTypeUtils.getFileType(file);\r\n\t\t\tLOGGER.info(&quot;Content Mime type {}&quot;, contentTypeString);\r\n\t\t\twhatsAppMessageContentTypeValidation.setVendorMimeType(contentTypeString);\r\n\t\t\twhatsAppMessageContentTypeValidation.setFileName(fileName);\r\n\t\t\twhatsAppMessageContentTypeValidation.setMediaType(getMediaType(contentTypeString));\r\n\t\t} catch (IOException e) {\r\n\t\t\tLOGGER.error(e.getMessage(), e);\r\n\t\t\twhatsAppMessageContentTypeValidation\r\n\t\t\t\t\t.setValidationError(Pl4WhatsAppRequestValidations.CANNOT_RETRIEVE_MEDIA_TO_SEND);\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(e.getMessage(), e);\r\n\t\t\twhatsAppMessageContentTypeValidation\r\n\t\t\t\t\t.setValidationError(Pl4WhatsAppRequestValidations.CANNOT_DETERMINE_MEDIA_TYPE);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate Pl4WhatsAppMediaType getMediaType(String fileType) {\r\n\t\tif (fileType.contains(&quot;image&quot;)) {\r\n\t\t\treturn Pl4WhatsAppMediaType.IMAGE;\r\n\t\t} else if (fileType.contains(&quot;video&quot;)) {\r\n\t\t\treturn Pl4WhatsAppMediaType.VIDEO;\r\n\t\t} else {\r\n\t\t\treturn Pl4WhatsAppMediaType.DOCUMENT;\r\n\t\t}\r\n\t}\r\n```\r\n\r\nthese are my maven dependencies \r\n\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nlocally, all the expected file types(doc,docx, ppt, pptx, pdf, jpg, mp3, mp4, txt..) are going through. but on the staging environment docx, pptx, xlsx are not going through.  \r\n\r\non stage docx, pptx and xlsx are detected as &quot;application/x-tika-ooxml&quot; but locally they are detected as &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;, &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, respectively.\r\n \r\n\r\nI tried copying the jars from stage and ran them locally via cmd, and send the request via postman the problem was replicated. then I used the jars generated locally and I got the expected results (all the files going through).\r\n\r\nSo I would like to know about the causes of such behavor.","title":"What could be causing the code to function correctly locally but only partially on the staging environment?","body":"<p>I am using tika and poi dependencies to detect file mime types and storing those files accordingly.</p>\n<pre><code>\nimport java.io.File;\nimport java.io.IOException;\n\nimport org.apache.tika.Tika;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic final class FileTypeUtils {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(FileTypeUtils.class);\n    \n    private FileTypeUtils() {\n    }\n\n    public static String getFileType(File inputFile) throws Exception {\n\n        final Tika tika = new Tika();\n        try {\n            return tika.detect(inputFile);\n        } catch (IOException e) {\n            LOGGER.error(&quot;*** getFileTypeViaTika2 - Error message: &quot; + e.getMessage());\n            LOGGER.error(&quot;*** getFileTypeViaTika2 - Error trace&quot;+e);\n            throw new Exception(&quot;File type unknown&quot;);\n        }\n        \n    }\n}\n\n</code></pre>\n<p>this is the method caller</p>\n<pre><code>    public void saveMediaFile(String url, WhatsAppMessageContentTypeValidation whatsAppMessageContentTypeValidation) {\n        String fileName = UUID.randomUUID().toString();\n        try {\n            File file = new File(Pl4WhatsAppConstants.mediaFilePath + fileName.replace(&quot; &quot;, &quot;-&quot;));\n            if (url != null &amp;&amp; url.contains(&quot;https&quot;)) {\n                URL fileUrl = new URL(url.replace(&quot; &quot;, &quot;-&quot;));\n                SSLContext sslContext = SSLContext.getInstance(&quot;SSL&quot;);\n\n                // set up a TrustManager that trusts everything\n                sslContext.init(null, new TrustManager[] { new X509TrustManager() {\n                    public X509Certificate[] getAcceptedIssuers() {\n                        LOGGER.info(&quot;getAcceptedIssuers =============&quot;);\n                        return null;\n                    }\n\n                    public void checkClientTrusted(X509Certificate[] certs, String authType) {\n                        LOGGER.info(&quot;checkClientTrusted =============&quot;);\n                    }\n\n                    public void checkServerTrusted(X509Certificate[] certs, String authType) {\n                        LOGGER.info(&quot;checkServerTrusted =============&quot;);\n                    }\n                } }, new SecureRandom());\n                // Apache HttpClient version &gt;4.2 should use BasicClientConnectionManager\n                HttpsURLConnection.setDefaultSSLSocketFactory(sslContext.getSocketFactory());\n                HttpsURLConnection connection = (HttpsURLConnection) fileUrl.openConnection();\n                FileUtils.copyURLToFile(connection.getURL(), file, 30000, 30000);\n            } else {\n                URL fileUrl = new URL(url.replace(&quot; &quot;, &quot;-&quot;));\n                FileUtils.copyURLToFile(fileUrl, file, 30000, 30000);\n            }\n            String contentTypeString = FileTypeUtils.getFileType(file);\n            LOGGER.info(&quot;Content Mime type {}&quot;, contentTypeString);\n            whatsAppMessageContentTypeValidation.setVendorMimeType(contentTypeString);\n            whatsAppMessageContentTypeValidation.setFileName(fileName);\n            whatsAppMessageContentTypeValidation.setMediaType(getMediaType(contentTypeString));\n        } catch (IOException e) {\n            LOGGER.error(e.getMessage(), e);\n            whatsAppMessageContentTypeValidation\n                    .setValidationError(Pl4WhatsAppRequestValidations.CANNOT_RETRIEVE_MEDIA_TO_SEND);\n        } catch (Exception e) {\n            LOGGER.error(e.getMessage(), e);\n            whatsAppMessageContentTypeValidation\n                    .setValidationError(Pl4WhatsAppRequestValidations.CANNOT_DETERMINE_MEDIA_TYPE);\n        }\n    }\n\n    private Pl4WhatsAppMediaType getMediaType(String fileType) {\n        if (fileType.contains(&quot;image&quot;)) {\n            return Pl4WhatsAppMediaType.IMAGE;\n        } else if (fileType.contains(&quot;video&quot;)) {\n            return Pl4WhatsAppMediaType.VIDEO;\n        } else {\n            return Pl4WhatsAppMediaType.DOCUMENT;\n        }\n    }\n</code></pre>\n<p>these are my maven dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n            &lt;version&gt;1.28.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>locally, all the expected file types(doc,docx, ppt, pptx, pdf, jpg, mp3, mp4, txt..) are going through. but on the staging environment docx, pptx, xlsx are not going through.</p>\n<p>on stage docx, pptx and xlsx are detected as &quot;application/x-tika-ooxml&quot; but locally they are detected as &quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot;, &quot;application/vnd.openxmlformats-officedocument.presentationml.presentation&quot;, &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, respectively.</p>\n<p>I tried copying the jars from stage and ran them locally via cmd, and send the request via postman the problem was replicated. then I used the jars generated locally and I got the expected results (all the files going through).</p>\n<p>So I would like to know about the causes of such behavor.</p>\n"},{"tags":["java","spring-boot","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1698734047,"post_id":77393634,"comment_id":136439360,"body_markdown":"No it isn&#39;t. If you don&#39;t want to use spring don&#39;t use `@SpringBootTest`. Use `@ExtendWith(MockitoExtension)`. Also the assertions can be better use `assertThrows` instead of a try/catch.","body":"No it isn&#39;t. If you don&#39;t want to use spring don&#39;t use <code>@SpringBootTest</code>. Use <code>@ExtendWith(MockitoExtension)</code>. Also the assertions can be better use <code>assertThrows</code> instead of a try/catch."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1698734225,"post_id":77393634,"comment_id":136439384,"body_markdown":"actually i have used custom error codes , and i need to check if those error codes are thrown or not, that is the reason i used try and catch , assertThrows works fines but with try and check I can cross verify it here, also if these are the only things which need to be covered , so may I assume the rest of all is correct ?","body":"actually i have used custom error codes , and i need to check if those error codes are thrown or not, that is the reason i used try and catch , assertThrows works fines but with try and check I can cross verify it here, also if these are the only things which need to be covered , so may I assume the rest of all is correct ?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1698734285,"post_id":77393634,"comment_id":136439393,"body_markdown":"You can do additional asserts, else use the `AssertJ` version of the assertions and you can verify anything you want without a try/catch/.","body":"You can do additional asserts, else use the <code>AssertJ</code> version of the assertions and you can verify anything you want without a try/catch/."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1698734626,"post_id":77393634,"comment_id":136439441,"body_markdown":"Ok will use that, and thank you for the help Deinum.","body":"Ok will use that, and thank you for the help Deinum."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698744454,"post_id":77393634,"comment_id":136441089,"body_markdown":"@Faiz `assertThrows` returns the thrown exception if it matches the given type. That allows you to perform additional assertions. And it has one advantage over your current code - if the method does _not_ throw an exception, your current test will pass, but with `assertThrows` it will fail.","body":"@Faiz <code>assertThrows</code> returns the thrown exception if it matches the given type. That allows you to perform additional assertions. And it has one advantage over your current code - if the method does <i>not</i> throw an exception, your current test will pass, but with <code>assertThrows</code> it will fail."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1698745956,"post_id":77393634,"comment_id":136441363,"body_markdown":"Why do you need to mock `isNull` which shouldn&#39;t be an instance level method in the first place. Just pass `null` as a parameter and use the real function. You shouldn&#39;t mock everything (even the Mockito docs mention that)","body":"Why do you need to mock <code>isNull</code> which shouldn&#39;t be an instance level method in the first place. Just pass <code>null</code> as a parameter and use the real function. You shouldn&#39;t mock everything (even the Mockito docs mention that)"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1698746147,"post_id":77393634,"comment_id":136441411,"body_markdown":"Error codes are mapped by SpringMVC so you need to start your spring application and use `MockMvc` to make &quot;real&quot; requests to the controller (with all the standard behavior of your application). You are trying to test the wrong thing at the wrong level of abstraction.","body":"Error codes are mapped by SpringMVC so you need to start your spring application and use <code>MockMvc</code> to make &quot;real&quot; requests to the controller (with all the standard behavior of your application). You are trying to test the wrong thing at the wrong level of abstraction."}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698733782,"creation_date":1698733531,"question_id":77393634,"body_markdown":"Is this the correct way to do a unit test my controller class?\r\nSince my method to check if a given param is null or not is in my service class and I cannot call my service call from the controller in unit testing I mocked my service class such that, whenever this service method gets called, I mocked it to return true, I don&#39;t know if this is correct or not, can anyone clarify it for me and provide me an explanation on how to do right unit testing, since I am new to unit testing this is new to me:   \r\n\r\nmy controller class :\r\n```                                                                                                                                             @RestController\r\npublic class MyClass{\r\n\r\n@Autowired\r\nprivate MyService myservice;\r\n\r\n\t@PostMapping(&quot;/sendNotificationToUsers&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; myFunction(@RequestBody MyModelClass myModelClass, HttpServletRequest request) {\r\n        \tif (myservice.isNull(myModelClass.getPID())) {\r\n            \t\tlogging.error(ErrorMessages.ErrorLogs.NULL_PID.getMessage());\r\n            \t\tthrow new CustomException(ErrorCodes.NULL_PID);\r\n        \t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nmy service class :\r\n\r\n```\r\npublic class MyService{\r\n    \tpublic boolean isNull(String str){\r\n\t\t      return str == null;\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nMy test class : \r\n```\r\n@SpringBootTest\r\npublic MyTestClass{\r\n\r\n\t@InjectMocks\r\n\tprivate MyClass myClass;\r\n\r\n\t@Mock\r\n\tprivate MyService myservice;\r\n\r\n\tprivate final MockHttpServletRequest request = new MockHttpServletRequest();\r\n\r\n\t@Test\r\n\tpublic void nullPidTest(){\r\n\t\tMyModelClass myModelClass = new MyModelClass();\r\n\t\tmyModelClass.setPID(null)\r\n\t\t\r\n\t\twhen(myservice.isNull(myModelClass.getPID())).thenReturn(true);\r\n\r\n\t\ttry{\r\n\t          myClass.myFunction(myModelClass,request);\r\n           }catch(CustomException e){\r\n\t             assertTrue(e.getMessage.contains(ErrorCodes.NULL_PID))\r\n           }\r\n\t}\r\n}\r\n```","title":"Is this the right way to unit test using JUnit and mockito?","body":"<p>Is this the correct way to do a unit test my controller class?\nSince my method to check if a given param is null or not is in my service class and I cannot call my service call from the controller in unit testing I mocked my service class such that, whenever this service method gets called, I mocked it to return true, I don't know if this is correct or not, can anyone clarify it for me and provide me an explanation on how to do right unit testing, since I am new to unit testing this is new to me:</p>\n<p>my controller class :</p>\n<pre><code>public class MyClass{\n\n@Autowired\nprivate MyService myservice;\n\n    @PostMapping(&quot;/sendNotificationToUsers&quot;)\n        public ResponseEntity&lt;?&gt; myFunction(@RequestBody MyModelClass myModelClass, HttpServletRequest request) {\n            if (myservice.isNull(myModelClass.getPID())) {\n                    logging.error(ErrorMessages.ErrorLogs.NULL_PID.getMessage());\n                    throw new CustomException(ErrorCodes.NULL_PID);\n            }\n    }\n\n}\n</code></pre>\n<p>my service class :</p>\n<pre><code>public class MyService{\n        public boolean isNull(String str){\n              return str == null;\n    }\n}\n\n\n</code></pre>\n<p>My test class :</p>\n<pre><code>@SpringBootTest\npublic MyTestClass{\n\n    @InjectMocks\n    private MyClass myClass;\n\n    @Mock\n    private MyService myservice;\n\n    private final MockHttpServletRequest request = new MockHttpServletRequest();\n\n    @Test\n    public void nullPidTest(){\n        MyModelClass myModelClass = new MyModelClass();\n        myModelClass.setPID(null)\n        \n        when(myservice.isNull(myModelClass.getPID())).thenReturn(true);\n\n        try{\n              myClass.myFunction(myModelClass,request);\n           }catch(CustomException e){\n                 assertTrue(e.getMessage.contains(ErrorCodes.NULL_PID))\n           }\n    }\n}\n</code></pre>\n"},{"tags":["java","nlp"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1698725436,"post_id":77393041,"comment_id":136438564,"body_markdown":"but if you want to get the number of columns in a result set, you will have to use the ResultSetMetaData class to get the column count, then you can use it on your result set to get each column (field) by the index","body":"but if you want to get the number of columns in a result set, you will have to use the ResultSetMetaData class to get the column count, then you can use it on your result set to get each column (field) by the index"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1698725571,"post_id":77393041,"comment_id":136438579,"body_markdown":"This link contains what you are looking for: https://stackoverflow.com/a/24178360/16034206. The accepted answer shows how to get the ResultSetMetaData, and the answer below that will show how to get the Type of the column using the ResultSetMetaData","body":"This link contains what you are looking for: <a href=\"https://stackoverflow.com/a/24178360/16034206\">stackoverflow.com/a/24178360/16034206</a>. The accepted answer shows how to get the ResultSetMetaData, and the answer below that will show how to get the Type of the column using the ResultSetMetaData"},{"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"score":0,"creation_date":1698745395,"post_id":77393041,"comment_id":136441262,"body_markdown":"You could try passing the value of each cell returned through a hash function e.g. MurmurHash. \n\nIf the hash is the same you know the result sets are identical. \nThis is faster than constructing a very big String out of all the cells","body":"You could try passing the value of each cell returned through a hash function e.g. MurmurHash.   If the hash is the same you know the result sets are identical.  This is faster than constructing a very big String out of all the cells"}],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698733046,"creation_date":1698723274,"question_id":77393041,"body_markdown":"In a nl2sql scenario，different LLMs generates different sql statements for a certain natural language query. How can I write codes to determine if the results of these sql statements are the same or not? \r\n\r\nFor a certain natural language query, different LLMs may generate different sql statements selecting different rows from a table( or maybe even from different tables).\r\n\r\nFirstly I can determine these sql statements are essentially the same by handling them in a string way: deleting additional whitespaces and other operations. But it is obviously not enough.\r\n\r\n\r\nWit JDBC ResultSet, I think I can figure out if different sql statements have the same count of results(the count of records in the resultset). But for a single resultset, how can I determine how many columns it have, and what the data type it is for a single column? Without these information, I cannot compare the sql statements generated by LLMs in a column data prospect.\r\n\r\n\r\nCan this task be accomplished by writing codes or not?","title":"to determine if the results of two arbitrary sql statements are the same","body":"<p>In a nl2sql scenario，different LLMs generates different sql statements for a certain natural language query. How can I write codes to determine if the results of these sql statements are the same or not?</p>\n<p>For a certain natural language query, different LLMs may generate different sql statements selecting different rows from a table( or maybe even from different tables).</p>\n<p>Firstly I can determine these sql statements are essentially the same by handling them in a string way: deleting additional whitespaces and other operations. But it is obviously not enough.</p>\n<p>Wit JDBC ResultSet, I think I can figure out if different sql statements have the same count of results(the count of records in the resultset). But for a single resultset, how can I determine how many columns it have, and what the data type it is for a single column? Without these information, I cannot compare the sql statements generated by LLMs in a column data prospect.</p>\n<p>Can this task be accomplished by writing codes or not?</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":13658824,"reputation":1046,"user_id":9854554,"display_name":"Naresh NK"},"score":0,"creation_date":1698723291,"post_id":77393028,"comment_id":136438408,"body_markdown":"Does this answer your question? [Double parameter with 2 digits after dot in strings.xml?](https://stackoverflow.com/questions/9820149/double-parameter-with-2-digits-after-dot-in-strings-xml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9820149/double-parameter-with-2-digits-after-dot-in-strings-xml\">Double parameter with 2 digits after dot in strings.xml?</a>"}],"answers":[{"tags":[],"owner":{"account_id":29546260,"reputation":13,"user_id":22643915,"display_name":"kolmikaelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698723914,"creation_date":1698723914,"answer_id":77393073,"question_id":77393028,"body_markdown":"You should follow these steps \r\n\r\n1) In your XML layout, add a TextView element to display the float value. Make sure to give it an unique ID so you can reference it in your Java code\r\n like follows \r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/floatTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Float Value: &quot;\r\n        android:textSize=&quot;18sp&quot; /&gt;\r\n\r\nLater you should following code in your Java class \r\n\r\n    // Assuming you have your float value\r\n    float myFloat = 123.45f;\r\n    \r\n    // Find the TextView by its ID\r\n    TextView floatTextView = findViewById(R.id.floatTextView);\r\n    \r\n    // Format the float value and set it in the TextView\r\n    String formattedFloat = String.format(&quot;%.2f&quot;, myFloat); // %.2f for two decimal places\r\n    floatTextView.setText(&quot;Float Value: &quot; + formattedFloat);\r\n\r\nIn short we have used  String.format() method \r\n\r\n\r\n\r\n","title":"Displaying Java float variable in XML TextView","body":"<p>You should follow these steps</p>\n<ol>\n<li><p>In your XML layout, add a TextView element to display the float value. Make sure to give it an unique ID so you can reference it in your Java code\nlike follows</p>\n<p></p>\n</li>\n</ol>\n<p>Later you should following code in your Java class</p>\n<pre><code>// Assuming you have your float value\nfloat myFloat = 123.45f;\n\n// Find the TextView by its ID\nTextView floatTextView = findViewById(R.id.floatTextView);\n\n// Format the float value and set it in the TextView\nString formattedFloat = String.format(&quot;%.2f&quot;, myFloat); // %.2f for two decimal places\nfloatTextView.setText(&quot;Float Value: &quot; + formattedFloat);\n</code></pre>\n<p>In short we have used  String.format() method</p>\n"},{"tags":[],"owner":{"account_id":2678092,"reputation":1134,"user_id":2313984,"display_name":"AndrWeisR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698732847,"creation_date":1698732847,"answer_id":77393587,"question_id":77393028,"body_markdown":"If your XML layout uses a format like `android:text=&quot;@string/my_result&quot;` and you have a string defined like `&lt;string name=&quot;my_result&quot;&gt;Result = %1$.2f&lt;/string&gt;`, then in Java, use this to set the text to your calculation result in `theResult`:\r\n\r\n```\r\nmyView.setText(getString(R.string.my_result, theResult));\r\n```","title":"Displaying Java float variable in XML TextView","body":"<p>If your XML layout uses a format like <code>android:text=&quot;@string/my_result&quot;</code> and you have a string defined like <code>&lt;string name=&quot;my_result&quot;&gt;Result = %1$.2f&lt;/string&gt;</code>, then in Java, use this to set the text to your calculation result in <code>theResult</code>:</p>\n<pre><code>myView.setText(getString(R.string.my_result, theResult));\n</code></pre>\n"}],"owner":{"account_id":29791275,"reputation":1,"user_id":22831374,"display_name":"Wyatt Andresen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1698732847,"creation_date":1698722970,"question_id":77393028,"body_markdown":"I&#39;m making an app in Android Stdio that runs a calculation. The calculation is on the Java side and outputs a float variable. I want a TextView on the XML side to display that Java float variable. \r\n\r\nI tried making a XML string value with %1%d on it, but couldn&#39;t find what to put on the Java side. Otherwise I haven&#39;t found any other ways to fo it. ","title":"Displaying Java float variable in XML TextView","body":"<p>I'm making an app in Android Stdio that runs a calculation. The calculation is on the Java side and outputs a float variable. I want a TextView on the XML side to display that Java float variable.</p>\n<p>I tried making a XML string value with %1%d on it, but couldn't find what to put on the Java side. Otherwise I haven't found any other ways to fo it.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":17415367,"reputation":469,"user_id":12621824,"display_name":"C96"},"score":13,"creation_date":1594939196,"post_id":50403667,"comment_id":111310759,"body_markdown":"But this just prints the HttpStatus code. What if I need to return its value? Would that be possible?","body":"But this just prints the HttpStatus code. What if I need to return its value? Would that be possible?"},{"owner":{"account_id":2934677,"reputation":1448,"user_id":2513934,"display_name":"actunderdc"},"score":1,"creation_date":1605265495,"post_id":50403667,"comment_id":114604119,"body_markdown":"This should be marked as the accepted answer! It worked for me, thank you!","body":"This should be marked as the accepted answer! It worked for me, thank you!"},{"owner":{"account_id":4138896,"reputation":1067,"user_id":3394816,"accept_rate":48,"display_name":"thisisshantzz"},"score":1,"creation_date":1607988040,"post_id":50403667,"comment_id":115439978,"body_markdown":"@C96 these are async calls so you cannot return values in the traditional sense. You should be able to return `Mono` and `Flux` only. Do the processing inside the `doOnSuccess` method.","body":"@C96 these are async calls so you cannot return values in the traditional sense. You should be able to return <code>Mono</code> and <code>Flux</code> only. Do the processing inside the <code>doOnSuccess</code> method."},{"owner":{"account_id":17415367,"reputation":469,"user_id":12621824,"display_name":"C96"},"score":0,"creation_date":1608039651,"post_id":50403667,"comment_id":115455626,"body_markdown":"@thisishantzz could you please point me to an example?","body":"@thisishantzz could you please point me to an example?"}],"tags":[],"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"comment_count":4,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1568506843,"creation_date":1526616674,"answer_id":50403667,"question_id":50223891,"body_markdown":"You can use the exchange function of webclient e.g.\r\n\r\n    Mono&lt;String&gt; reponse = webclient.get()\r\n    .uri(&quot;https://stackoverflow.com&quot;)\r\n    .exchange()\r\n    .doOnSuccess(clientResponse -&gt; System.out.println(&quot;clientResponse.headers() = &quot; + clientResponse.headers()))\r\n    .doOnSuccess(clientResponse -&gt; System.out.println(&quot;clientResponse.statusCode() = &quot; + clientResponse.statusCode()))\r\n    .flatMap(clientResponse -&gt; clientResponse.bodyToMono(String.class));\r\n\r\nthen you can convert bodyToMono etc\r\n\r\n","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>You can use the exchange function of webclient e.g.</p>\n\n<pre><code>Mono&lt;String&gt; reponse = webclient.get()\n.uri(\"https://stackoverflow.com\")\n.exchange()\n.doOnSuccess(clientResponse -&gt; System.out.println(\"clientResponse.headers() = \" + clientResponse.headers()))\n.doOnSuccess(clientResponse -&gt; System.out.println(\"clientResponse.statusCode() = \" + clientResponse.statusCode()))\n.flatMap(clientResponse -&gt; clientResponse.bodyToMono(String.class));\n</code></pre>\n\n<p>then you can convert bodyToMono etc</p>\n"},{"comments":[{"owner":{"account_id":17415367,"reputation":469,"user_id":12621824,"display_name":"C96"},"score":0,"creation_date":1594932295,"post_id":53694190,"comment_id":111308427,"body_markdown":"How can I read the status code from inside this subscribe() -&gt; {}? Like, if I need to pass the status code to another method","body":"How can I read the status code from inside this subscribe() -&gt; {}? Like, if I need to pass the status code to another method"}],"tags":[],"owner":{"account_id":2520612,"reputation":189,"user_id":2191074,"display_name":"Rafael Amaral"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1544371922,"creation_date":1544371922,"answer_id":53694190,"question_id":50223891,"body_markdown":"I needed to check the response details(headers, status, etc) and body as well. \r\n\r\nThe only way I was able to do it was by using `.exchange()` with two `subscribe()` as the following example:\r\n\r\n        Mono&lt;ClientResponse&gt; clientResponse = WebClient.builder().build()\r\n\t\t\t\t.get().uri(&quot;https://stackoverflow.com&quot;)\r\n\t\t\t\t.exchange();\r\n\r\n\t\tclientResponse.subscribe((response) -&gt; {\r\n\r\n\t\t\t// here you can access headers and status code\r\n\t\t\tHeaders headers = response.headers();\r\n\t\t\tHttpStatus stausCode = response.statusCode();\r\n\r\n\t\t\tMono&lt;String&gt; bodyToMono = response.bodyToMono(String.class);\r\n            // the second subscribe to access the body\r\n\t\t\tbodyToMono.subscribe((body) -&gt; {\r\n\r\n\t\t\t\t// here you can access the body\r\n\t\t\t\tSystem.out.println(&quot;body:&quot; + body);\r\n\r\n\t\t\t\t// and you can also access headers and status code if you need\r\n\t\t\t\tSystem.out.println(&quot;headers:&quot; + headers.asHttpHeaders());\r\n\t\t\t\tSystem.out.println(&quot;stausCode:&quot; + stausCode);\r\n\r\n\t\t\t}, (ex) -&gt; {\r\n\t\t\t\t// handle error\r\n\t\t\t});\r\n\t\t}, (ex) -&gt; {\r\n\t\t\t// handle network error\r\n\t\t});\r\n\r\nI hope it helps.\r\nIf someone knows a better way to do it, please let us know.","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>I needed to check the response details(headers, status, etc) and body as well. </p>\n\n<p>The only way I was able to do it was by using <code>.exchange()</code> with two <code>subscribe()</code> as the following example:</p>\n\n<pre><code>    Mono&lt;ClientResponse&gt; clientResponse = WebClient.builder().build()\n            .get().uri(\"https://stackoverflow.com\")\n            .exchange();\n\n    clientResponse.subscribe((response) -&gt; {\n\n        // here you can access headers and status code\n        Headers headers = response.headers();\n        HttpStatus stausCode = response.statusCode();\n\n        Mono&lt;String&gt; bodyToMono = response.bodyToMono(String.class);\n        // the second subscribe to access the body\n        bodyToMono.subscribe((body) -&gt; {\n\n            // here you can access the body\n            System.out.println(\"body:\" + body);\n\n            // and you can also access headers and status code if you need\n            System.out.println(\"headers:\" + headers.asHttpHeaders());\n            System.out.println(\"stausCode:\" + stausCode);\n\n        }, (ex) -&gt; {\n            // handle error\n        });\n    }, (ex) -&gt; {\n        // handle network error\n    });\n</code></pre>\n\n<p>I hope it helps.\nIf someone knows a better way to do it, please let us know.</p>\n"},{"comments":[{"owner":{"account_id":11061465,"reputation":3057,"user_id":8149916,"display_name":"Adindu Stevens"},"score":5,"creation_date":1552824841,"post_id":54020003,"comment_id":97149885,"body_markdown":"The asker says **...I need to process response based on statusCode &amp; header parameters.**. But the code you provided is for Logging configuration, Meaning that it is not helpful in the context of the question. Therefore -1.","body":"The asker says <b>...I need to process response based on statusCode &amp; header parameters.</b>. But the code you provided is for Logging configuration, Meaning that it is not helpful in the context of the question. Therefore -1."},{"owner":{"account_id":7125436,"reputation":518,"user_id":5448500,"display_name":"Tobske"},"score":1,"creation_date":1552910138,"post_id":54020003,"comment_id":97176533,"body_markdown":"@AdinduStevens, I&#39;m sorry that I was not getting that from the question. I will leave the answer here for the case someone lands here and only wants to log the status coder and header paramters.","body":"@AdinduStevens, I&#39;m sorry that I was not getting that from the question. I will leave the answer here for the case someone lands here and only wants to log the status coder and header paramters."}],"tags":[],"owner":{"account_id":7125436,"reputation":518,"user_id":5448500,"display_name":"Tobske"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1546509714,"creation_date":1546509714,"answer_id":54020003,"question_id":50223891,"body_markdown":"You can configure spring boot &gt;= 2.1.0 to log request and response if you are using the `WebClient`: \r\n  \r\n    spring.http.log-request-details: true\r\n    logging.level.org.springframework.web.reactive.function.client.ExchangeFunctions: TRACE\r\n\r\nAs desribed [in the sprint boot docs][1], if you want headers to be logged, too, you have to add\r\n\r\n    Consumer&lt;ClientCodecConfigurer&gt; consumer = configurer -&gt;\r\n        configurer.defaultCodecs().enableLoggingRequestDetails(true);\r\n\r\n    WebClient webClient = WebClient.builder()\r\n        .exchangeStrategies(ExchangeStrategies.builder().codecs(consumer).build())\r\n        .build();\r\n\r\nBut be aware that this can log sensitve information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>You can configure spring boot >= 2.1.0 to log request and response if you are using the <code>WebClient</code>: </p>\n\n<pre><code>spring.http.log-request-details: true\nlogging.level.org.springframework.web.reactive.function.client.ExchangeFunctions: TRACE\n</code></pre>\n\n<p>As desribed <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux-logging-sensitive-data\" rel=\"nofollow noreferrer\">in the sprint boot docs</a>, if you want headers to be logged, too, you have to add</p>\n\n<pre><code>Consumer&lt;ClientCodecConfigurer&gt; consumer = configurer -&gt;\n    configurer.defaultCodecs().enableLoggingRequestDetails(true);\n\nWebClient webClient = WebClient.builder()\n    .exchangeStrategies(ExchangeStrategies.builder().codecs(consumer).build())\n    .build();\n</code></pre>\n\n<p>But be aware that this can log sensitve information.</p>\n"},{"comments":[{"owner":{"account_id":17415367,"reputation":469,"user_id":12621824,"display_name":"C96"},"score":3,"creation_date":1594932731,"post_id":58637621,"comment_id":111308607,"body_markdown":"How can I print the &quot;status&quot; value? Like just &quot;200&quot; not the whole Mono&lt;&gt; object","body":"How can I print the &quot;status&quot; value? Like just &quot;200&quot; not the whole Mono&lt;&gt; object"}],"tags":[],"owner":{"account_id":10983760,"reputation":1014,"user_id":8070135,"display_name":"daemonThread"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1572503272,"creation_date":1572501612,"answer_id":58637621,"question_id":50223891,"body_markdown":"For status code you can try this:\r\n\r\n    Mono&lt;HttpStatus&gt; status = webClient.get()\r\n    \t\t\t\t.uri(&quot;/example&quot;)\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.map(response -&gt; response.statusCode());\r\n\r\n\r\nFor headers:\r\n\r\n    Mono&lt;HttpHeaders&gt; result = webClient.get()\r\n    \t\t\t\t.uri(&quot;/example&quot;)\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.map(response -&gt; response.headers().asHttpHeaders());","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>For status code you can try this:</p>\n\n<pre><code>Mono&lt;HttpStatus&gt; status = webClient.get()\n                .uri(\"/example\")\n                .exchange()\n                .map(response -&gt; response.statusCode());\n</code></pre>\n\n<p>For headers:</p>\n\n<pre><code>Mono&lt;HttpHeaders&gt; result = webClient.get()\n                .uri(\"/example\")\n                .exchange()\n                .map(response -&gt; response.headers().asHttpHeaders());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2704505,"reputation":361,"user_id":2334390,"display_name":"jkamcc"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1611060356,"creation_date":1611060356,"answer_id":65791800,"question_id":50223891,"body_markdown":"After Spring Boot 2.4.x / Spring 5.3, WebClient `exchange` method is deprecated in favor of `retrieve`, so you have to get the headers and response status using ResponseEntity like the following example:\r\n\r\n    webClient\r\n            .method(HttpMethod.POST)\r\n            .uri(uriBuilder -&gt; uriBuilder.path(loginUrl).build())\r\n            .bodyValue(new LoginBO(user, passwd))\r\n            .retrieve()\r\n            .toEntity(LoginResponse.class)\r\n            .filter(\r\n                entity -&gt;\r\n                    entity.getStatusCode().is2xxSuccessful()\r\n                        &amp;&amp; entity.getBody() != null\r\n                        &amp;&amp; entity.getBody().isLogin())\r\n            .flatMap(entity -&gt; Mono.justOrEmpty(entity.getHeaders().getFirst(tokenHeader)));","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>After Spring Boot 2.4.x / Spring 5.3, WebClient <code>exchange</code> method is deprecated in favor of <code>retrieve</code>, so you have to get the headers and response status using ResponseEntity like the following example:</p>\n<pre><code>webClient\n        .method(HttpMethod.POST)\n        .uri(uriBuilder -&gt; uriBuilder.path(loginUrl).build())\n        .bodyValue(new LoginBO(user, passwd))\n        .retrieve()\n        .toEntity(LoginResponse.class)\n        .filter(\n            entity -&gt;\n                entity.getStatusCode().is2xxSuccessful()\n                    &amp;&amp; entity.getBody() != null\n                    &amp;&amp; entity.getBody().isLogin())\n        .flatMap(entity -&gt; Mono.justOrEmpty(entity.getHeaders().getFirst(tokenHeader)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620222409,"creation_date":1620222409,"answer_id":67402589,"question_id":50223891,"body_markdown":"```\r\n httpClient\r\n            .get()\r\n            .uri(url)\r\n            .retrieve()\r\n            .toBodilessEntity()\r\n            .map(reponse -&gt; Tuple2(reponse.statusCode, reponse.headers))\r\n```","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<pre><code> httpClient\n            .get()\n            .uri(url)\n            .retrieve()\n            .toBodilessEntity()\n            .map(reponse -&gt; Tuple2(reponse.statusCode, reponse.headers))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4932125,"reputation":81,"user_id":3971561,"display_name":"noriks"},"score":0,"creation_date":1643134576,"post_id":68168585,"comment_id":125257787,"body_markdown":"This will blow up if status code is not successful. Let&#39;s say I want to check status code and in case 404 do some action.  So `block()` will throw `Suppressed: java.lang.Exception: #block terminated with an error` and method won&#39;t return result.  Solution by `daemonThread` works though. I&#39;m wondering how to achive this with `retrieve()`","body":"This will blow up if status code is not successful. Let&#39;s say I want to check status code and in case 404 do some action.  So <code>block()</code> will throw <code>Suppressed: java.lang.Exception: #block terminated with an error</code> and method won&#39;t return result.  Solution by <code>daemonThread</code> works though. I&#39;m wondering how to achive this with <code>retrieve()</code>"},{"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"score":1,"creation_date":1643971889,"post_id":68168585,"comment_id":125486414,"body_markdown":"As long as the API returns a valid status code then it should be fine. Even tho it failed for whatever reason the status code should be available to get it.\none of the options is to use the following code snippet \n\nMyClass responseMono = this.webClient\n                    .get()\n                    .uri(&quot;myapipath&quot;}&quot;)\n                    .retrieve()\n                    .bodyToMono(MyClass.class)\n                    .block();\n            return responseMono;","body":"As long as the API returns a valid status code then it should be fine. Even tho it failed for whatever reason the status code should be available to get it. one of the options is to use the following code snippet   MyClass responseMono = this.webClient                     .get()                     .uri(&quot;myapipath&quot;}&quot;)                     .retrieve()                     .bodyToMono(MyClass.class)                     .block();             return responseMono;"}],"tags":[],"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1698732030,"creation_date":1624905723,"answer_id":68168585,"question_id":50223891,"body_markdown":"As discussed above, the exchange has been deprecated so we are using retrieve(). This is how I&#39;m returning the code after making a request. \r\n\r\n    public HttpStatus getResult() {\r\n        WebClient.ResponseSpec response = client\r\n                .get()\r\n                .uri(&quot;/hello&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .retrieve();\r\n\r\n        return Optional.of(response.toBodilessEntity().block().getStatusCode()).get();\r\n    }\r\n\r\nAnother option as per the comment, I&#39;ve tried recently. This is usually recommended for Async calls but we can use it for both.  \r\n\r\n    MyClass responseMono = this.webClient\r\n                    .get()\r\n                    .uri(&quot;myapipath&quot;)\r\n                    .retrieve()\r\n                    .bodyToMono(MyClass.class)\r\n                    .block();\r\n            return responseMono;","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>As discussed above, the exchange has been deprecated so we are using retrieve(). This is how I'm returning the code after making a request.</p>\n<pre><code>public HttpStatus getResult() {\n    WebClient.ResponseSpec response = client\n            .get()\n            .uri(&quot;/hello&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .retrieve();\n\n    return Optional.of(response.toBodilessEntity().block().getStatusCode()).get();\n}\n</code></pre>\n<p>Another option as per the comment, I've tried recently. This is usually recommended for Async calls but we can use it for both.</p>\n<pre><code>MyClass responseMono = this.webClient\n                .get()\n                .uri(&quot;myapipath&quot;)\n                .retrieve()\n                .bodyToMono(MyClass.class)\n                .block();\n        return responseMono;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15324883,"reputation":11,"user_id":11056305,"display_name":"Trippletech Magabe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650534685,"creation_date":1650534685,"answer_id":71952399,"question_id":50223891,"body_markdown":"You can use `flatMap` to extract the object from `Mono`","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>You can use <code>flatMap</code> to extract the object from <code>Mono</code></p>\n"},{"tags":[],"owner":{"account_id":7424336,"reputation":578,"user_id":5647392,"accept_rate":40,"display_name":"marcg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675536049,"creation_date":1675535091,"answer_id":75347360,"question_id":50223891,"body_markdown":"\r\n\r\nSend your request as MAP\r\nGet your response as MAP\r\ncheck all status code in a filter function\r\n\r\n    private static Mono&lt;ClientResponse&gt;  filterFunc(ClientResponse response) {\r\n            HttpStatus status = response.statusCode();\r\n            if (HttpStatus.BAD_REQUEST.equals(status)) {\r\n                return response.bodyToMono(String.class)\r\n                        .flatMap(body -&gt; Mono.error(new MyCustomHttpErrorException(  HttpStatus.BAD_REQUEST ,  body) ));\r\n            } else if (!HttpStatus.OK.equals(status)) {\r\n                return response.bodyToMono(String.class)\r\n                        .flatMap(body -&gt; Mono.error(  new MyCustomHttpErrorException(  status ,  body) )); \r\n            }\r\n    \r\n           return Mono.just(response);\r\n        }\r\n    \r\n      this.webClient = builder.baseUrl(serverUrl)\r\n                    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\r\n                    .filter(ExchangeFilterFunction.ofResponseProcessor(MyClass::exchangeFilterResponseProcessor))  \r\n                    .build();\r\n    \r\n    \r\n       Mono&lt;Map&lt;String, String&gt;&gt; mnoObjStream;\r\n            mnoObjStream = webClient.post().uri(&quot;/abc&quot;)\r\n                    .body(BodyInserters\r\n                            .fromFormData(&quot;key1&quot;,&quot;val1&quot;).with(&quot;key2&quot;,&quot;val2&quot;).with(&quot;key3&quot;,&quot;val3&quot;))\r\n                            .retrieve()  // Note use retrieve  because  exchange() has been deprecated.\r\n                    .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {});  \r\n            resp = mnoObjStream.block();\r\n\r\n","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>Send your request as MAP\nGet your response as MAP\ncheck all status code in a filter function</p>\n<pre><code>private static Mono&lt;ClientResponse&gt;  filterFunc(ClientResponse response) {\n        HttpStatus status = response.statusCode();\n        if (HttpStatus.BAD_REQUEST.equals(status)) {\n            return response.bodyToMono(String.class)\n                    .flatMap(body -&gt; Mono.error(new MyCustomHttpErrorException(  HttpStatus.BAD_REQUEST ,  body) ));\n        } else if (!HttpStatus.OK.equals(status)) {\n            return response.bodyToMono(String.class)\n                    .flatMap(body -&gt; Mono.error(  new MyCustomHttpErrorException(  status ,  body) )); \n        }\n\n       return Mono.just(response);\n    }\n\n  this.webClient = builder.baseUrl(serverUrl)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n                .filter(ExchangeFilterFunction.ofResponseProcessor(MyClass::exchangeFilterResponseProcessor))  \n                .build();\n\n\n   Mono&lt;Map&lt;String, String&gt;&gt; mnoObjStream;\n        mnoObjStream = webClient.post().uri(&quot;/abc&quot;)\n                .body(BodyInserters\n                        .fromFormData(&quot;key1&quot;,&quot;val1&quot;).with(&quot;key2&quot;,&quot;val2&quot;).with(&quot;key3&quot;,&quot;val3&quot;))\n                        .retrieve()  // Note use retrieve  because  exchange() has been deprecated.\n                .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, String&gt;&gt;() {});  \n        resp = mnoObjStream.block();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":107714,"reputation":448,"user_id":1132593,"display_name":"user1132593"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693336400,"creation_date":1693336086,"answer_id":77003035,"question_id":50223891,"body_markdown":"The exchangeToMono excepts a Function as the responseHandler. If we create a class that implements the Function, we can store header, status inside the class variable, and have the method return the body.\r\n\r\n    MyClientResponsehandler handler = new ()..\r\n    String bodyAsString = webClient.get().exchangeToMono(handler).block();\r\n\r\n    class MyClientResponseHandler implements Function&lt;ClientResponse, Mono&lt;String&gt;&gt;{\r\n      private List&lt;String&gt; contentDispositions;\r\n      @Override\r\n      public Mono&lt;String&gt; apply(ClientResponse cr){\r\n        contentsDisposition = cr.headers.header(&quot;CONTENTDISPO ...&quot;);\r\n        return Mono.just(cr).flatMap(cr1-&gt;cr1.bodyToMono(String.class));\r\n      }\r\n    } \r\n\r\nThis way the body can be retrieved from the API call after the block(). The header, status can be stored in handler for post processing\r\n\r\n\r\n\r\n","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>The exchangeToMono excepts a Function as the responseHandler. If we create a class that implements the Function, we can store header, status inside the class variable, and have the method return the body.</p>\n<pre><code>MyClientResponsehandler handler = new ()..\nString bodyAsString = webClient.get().exchangeToMono(handler).block();\n\nclass MyClientResponseHandler implements Function&lt;ClientResponse, Mono&lt;String&gt;&gt;{\n  private List&lt;String&gt; contentDispositions;\n  @Override\n  public Mono&lt;String&gt; apply(ClientResponse cr){\n    contentsDisposition = cr.headers.header(&quot;CONTENTDISPO ...&quot;);\n    return Mono.just(cr).flatMap(cr1-&gt;cr1.bodyToMono(String.class));\n  }\n} \n</code></pre>\n<p>This way the body can be retrieved from the API call after the block(). The header, status can be stored in handler for post processing</p>\n"}],"owner":{"account_id":13522819,"reputation":391,"user_id":9755519,"display_name":"Renus11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103905,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":10,"score":39,"last_activity_date":1698732030,"creation_date":1525736799,"question_id":50223891,"body_markdown":"I am new to Spring Reactive framework &amp; trying to convert Springboot 1.5.x code into Springboot 2.0. I need to return response header after some filtering, body &amp; status code from Spring 5 WebClient ClientResponse. I do not want to use block() method as it will convert it into sync call.\r\nI am able to get responsebody pretty easily using bodyToMono. Also, I am getting status code, headers &amp; body if I am just returning ClientResponse but I need to process response based on statusCode &amp; header parameters. \r\nI tried subscribe, flatMap etc. but nothing works.\r\n\r\nE.g. - Below code will return response Body\r\n\r\n    Mono&lt;String&gt; responseBody =  response.flatMap(resp -&gt; resp.bodyToMono(String.class));\r\n\r\nBut similar paradigm is not working to get statusCode &amp; Response headers.\r\nCan someone help me in extracting statusCode &amp; header parameters using Spring 5 reactive framework.\r\n\r\n\r\n\r\n","title":"How to extract response header &amp; status code from Spring 5 WebClient ClientResponse","body":"<p>I am new to Spring Reactive framework &amp; trying to convert Springboot 1.5.x code into Springboot 2.0. I need to return response header after some filtering, body &amp; status code from Spring 5 WebClient ClientResponse. I do not want to use block() method as it will convert it into sync call.\nI am able to get responsebody pretty easily using bodyToMono. Also, I am getting status code, headers &amp; body if I am just returning ClientResponse but I need to process response based on statusCode &amp; header parameters. \nI tried subscribe, flatMap etc. but nothing works.</p>\n\n<p>E.g. - Below code will return response Body</p>\n\n<pre><code>Mono&lt;String&gt; responseBody =  response.flatMap(resp -&gt; resp.bodyToMono(String.class));\n</code></pre>\n\n<p>But similar paradigm is not working to get statusCode &amp; Response headers.\nCan someone help me in extracting statusCode &amp; header parameters using Spring 5 reactive framework.</p>\n"},{"tags":["java","docker","maven","github-actions","github-package-registry"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1698734031,"post_id":77393478,"comment_id":136439359,"body_markdown":"See https://maurocanuto.medium.com/using-github-private-packages-and-maven-in-github-actions-c9e2ea69e2bc - it seems the username doesn&#39;t matter.","body":"See <a href=\"https://maurocanuto.medium.com/using-github-private-packages-and-maven-in-github-actions-c9e2ea69e2bc\" rel=\"nofollow noreferrer\">maurocanuto.medium.com/&hellip;</a> - it seems the username doesn&#39;t matter."},{"owner":{"account_id":2155116,"reputation":1065,"user_id":1910553,"accept_rate":70,"display_name":"patricK"},"score":0,"creation_date":1698858909,"post_id":77393478,"comment_id":136459190,"body_markdown":"Thanks!, I tried here and that&#39;s it, username doesn&#39;t matter.","body":"Thanks!, I tried here and that&#39;s it, username doesn&#39;t matter."}],"owner":{"account_id":2155116,"reputation":1065,"user_id":1910553,"accept_rate":70,"display_name":"patricK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698731866,"creation_date":1698730943,"question_id":77393478,"body_markdown":"**Context:**\r\n\r\nI have a Github Action (GHA) that creates a Docker image and send it to AWS.\r\n\r\nThis image contains a `Java` application that is built with `Maven` and have a **dependency** from **Github Packages**, which is only accessible using a personal github token (or a *generic github token* on GHA).\r\n\r\nRunning my application locally (without docker), I should setup my maven `settings.xml` to use my personal github user and token.\r\n\r\nMaven `settings.xml` file, inside `user/.m2` directory:\r\n\r\n    &lt;settings&gt;\r\n        ....\r\n        &lt;servers&gt;\r\n        &lt;server&gt;\r\n          &lt;id&gt;github&lt;/id&gt;\r\n          &lt;username&gt;USER&lt;/username&gt;\r\n          &lt;password&gt;TOKEN&lt;/password&gt;\r\n        &lt;/server&gt;\r\n      &lt;/servers&gt;\r\n    &lt;/settings&gt;\r\n\r\nRunning with Docker, I copy this `settings.xml` to docker and it works.\r\n\r\n        FROM eclipse-temurin:17-jdk-focal\r\n\r\n        WORKDIR /app\r\n\r\n        RUN mkdir -p /root/.m2 \\\r\n            &amp;&amp; mkdir /root/.m2/repository\r\n        COPY settings.xml /root/.m2\r\n       \r\n        RUN ./mvnw dependency:go-offline\r\n        ....\r\n       \r\n        CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\r\n\r\nRunning with GHA, I saved my personal user/token in secrets and used it on this `settings.xml`\r\n\r\n      - name: exchange secrets on settings.xml\r\n      env:\r\n        GH_PERSONAL_USER: ${{ secrets.GH_PERSONAL_USER }}\r\n        GH_PERSONAL_TOKEN: ${{ secrets.GH_PERSONAL_TOKEN }}\r\n      run: envsubst &lt; settings.xml.j2 &gt; settings.xml\r\n\r\nSome docs I found, but didn&#39;t help me:\r\n\r\n - [github_token in a workflow][1]\r\n - [authenticate to a GitHub Packages registry within a GitHub Actions workflow][2]\r\n\r\n\r\n\r\n**My problem/question:** \r\n\r\nI don&#39;t want to store/use my personal user/token as a secret on this repository, and I know that Github have a `secrets.GITHUB_TOKEN` for these cases, but I don&#39;t know how to use it on maven `settings.xml` file, that requires a **token** and **user**.\r\n\r\nIs there a way to use this `secrets.GITHUB_TOKEN`?\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.github.com/en/enterprise-server@3.7/actions/security-guides/automatic-token-authentication#using-the-github_token-in-a-workflow\r\n  [2]: https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-apache-maven-registry","title":"Using GITHUB_TOKEN inside Docker to run Maven on GHA","body":"<p><strong>Context:</strong></p>\n<p>I have a Github Action (GHA) that creates a Docker image and send it to AWS.</p>\n<p>This image contains a <code>Java</code> application that is built with <code>Maven</code> and have a <strong>dependency</strong> from <strong>Github Packages</strong>, which is only accessible using a personal github token (or a <em>generic github token</em> on GHA).</p>\n<p>Running my application locally (without docker), I should setup my maven <code>settings.xml</code> to use my personal github user and token.</p>\n<p>Maven <code>settings.xml</code> file, inside <code>user/.m2</code> directory:</p>\n<pre><code>&lt;settings&gt;\n    ....\n    &lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;github&lt;/id&gt;\n      &lt;username&gt;USER&lt;/username&gt;\n      &lt;password&gt;TOKEN&lt;/password&gt;\n    &lt;/server&gt;\n  &lt;/servers&gt;\n&lt;/settings&gt;\n</code></pre>\n<p>Running with Docker, I copy this <code>settings.xml</code> to docker and it works.</p>\n<pre><code>    FROM eclipse-temurin:17-jdk-focal\n\n    WORKDIR /app\n\n    RUN mkdir -p /root/.m2 \\\n        &amp;&amp; mkdir /root/.m2/repository\n    COPY settings.xml /root/.m2\n   \n    RUN ./mvnw dependency:go-offline\n    ....\n   \n    CMD [&quot;./mvnw&quot;, &quot;spring-boot:run&quot;]\n</code></pre>\n<p>Running with GHA, I saved my personal user/token in secrets and used it on this <code>settings.xml</code></p>\n<pre><code>  - name: exchange secrets on settings.xml\n  env:\n    GH_PERSONAL_USER: ${{ secrets.GH_PERSONAL_USER }}\n    GH_PERSONAL_TOKEN: ${{ secrets.GH_PERSONAL_TOKEN }}\n  run: envsubst &lt; settings.xml.j2 &gt; settings.xml\n</code></pre>\n<p>Some docs I found, but didn't help me:</p>\n<ul>\n<li><a href=\"https://docs.github.com/en/enterprise-server@3.7/actions/security-guides/automatic-token-authentication#using-the-github_token-in-a-workflow\" rel=\"nofollow noreferrer\">github_token in a workflow</a></li>\n<li><a href=\"https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-apache-maven-registry\" rel=\"nofollow noreferrer\">authenticate to a GitHub Packages registry within a GitHub Actions workflow</a></li>\n</ul>\n<p><strong>My problem/question:</strong></p>\n<p>I don't want to store/use my personal user/token as a secret on this repository, and I know that Github have a <code>secrets.GITHUB_TOKEN</code> for these cases, but I don't know how to use it on maven <code>settings.xml</code> file, that requires a <strong>token</strong> and <strong>user</strong>.</p>\n<p>Is there a way to use this <code>secrets.GITHUB_TOKEN</code>?</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1698408945,"post_id":77373956,"comment_id":136405164,"body_markdown":"from `...clause = &quot;elementType=&#39;SYSTEM&#39; AND date= (SELECT MAX(date)...`, _date_ is not a valid `Monitoring` field.  (I&#39;m somewhat surprised that would even compile or at least the app not start up.)","body":"from <code>...clause = &quot;elementType=&#39;SYSTEM&#39; AND date= (SELECT MAX(date)...</code>, <i>date</i> is not a valid <code>Monitoring</code> field.  (I&#39;m somewhat surprised that would even compile or at least the app not start up.)"},{"owner":{"account_id":4459066,"reputation":91,"user_id":3628479,"display_name":"user3628479"},"score":0,"creation_date":1698410338,"post_id":77373956,"comment_id":136405460,"body_markdown":"Thank you for pointing that @AndrewS ,it was my mistake here, not in the application","body":"Thank you for pointing that @AndrewS ,it was my mistake here, not in the application"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1698416990,"post_id":77373956,"comment_id":136407012,"body_markdown":"What is the SQL issued from fetching System/Server and their latestMonitoring property? What are the results if you run the query yourself? How have you created the System and Server instances you are reading back - could they have been cached incompletely with latestMonitoring set to null? Note that latestMonitoring isn&#39;t constantly polled from the DB, so if it has changed since the last time the holding entity was read, it won&#39;t be reflected in the entity.","body":"What is the SQL issued from fetching System/Server and their latestMonitoring property? What are the results if you run the query yourself? How have you created the System and Server instances you are reading back - could they have been cached incompletely with latestMonitoring set to null? Note that latestMonitoring isn&#39;t constantly polled from the DB, so if it has changed since the last time the holding entity was read, it won&#39;t be reflected in the entity."}],"owner":{"account_id":4459066,"reputation":91,"user_id":3628479,"display_name":"user3628479"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698731400,"creation_date":1698407782,"question_id":77373956,"body_markdown":"I have this application with a CRUD for servers and systems and along with it a service that checks the status of this servers and systems and persists the results in my monitoring table, using the enum elementType to differentiate between elements in case the same id happens.\r\n\r\nNow when I retrieve a server or system by their respective repositories, I want it to come with the latest monitoring, but the attribute latestMonitoring keeps returning null with no error output to guide me, I need some help.\r\n```\r\npublic class Server {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;STATUS&quot;, nullable = false)\r\n    private StatusEnum status;\r\n\r\n    @OneToMany(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;SERVER_ID&quot;)\r\n    @Where(clause = &quot;status&lt;&gt;&#39;DISABLED&#39;&quot;)\r\n    private List&lt;System&gt; systems;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ID_MONITORED&quot;)\r\n    @Where(clause = &quot;elementType=&#39;SERVER&#39; AND date= (SELECT MAX(date) FROM Monitoring)&quot;)\r\n    private Monitoring latestMonitoring;\r\n}\r\n\r\npublic class System{\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;STATUS&quot;, nullable = false)\r\n    private StatusEnum status;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ID_MONITORED&quot;)\r\n    @Where(clause = &quot;elementType=&#39;SYSTEM&#39; AND date= (SELECT MAX(date) FROM Monitoring)&quot;)\r\n    private Monitoring latestMonitoring;\r\n}\r\n\r\npublic class Monitoring {\r\n\r\n    @Id\r\n    private Long id;\r\n\r\n    @Column(name = &quot;ID_MONITORED&quot;, nullable = false)\r\n    private Long idMonitored;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;TYPE&quot;, nullable = false)\r\n    private MonitoringEnum elementType;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;STATUS_BEFORE&quot;, nullable = false)\r\n    private StatusEnum statusBefore;\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;STATUS_NOW&quot;, nullable = false)\r\n    private StatusEnum statusNow;\r\n\r\n    private LocalDateTime date;\r\n}\r\n```","title":"Get latest record from a shared table with Spring Boo JPA","body":"<p>I have this application with a CRUD for servers and systems and along with it a service that checks the status of this servers and systems and persists the results in my monitoring table, using the enum elementType to differentiate between elements in case the same id happens.</p>\n<p>Now when I retrieve a server or system by their respective repositories, I want it to come with the latest monitoring, but the attribute latestMonitoring keeps returning null with no error output to guide me, I need some help.</p>\n<pre><code>public class Server {\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;STATUS&quot;, nullable = false)\n    private StatusEnum status;\n\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;SERVER_ID&quot;)\n    @Where(clause = &quot;status&lt;&gt;'DISABLED'&quot;)\n    private List&lt;System&gt; systems;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_MONITORED&quot;)\n    @Where(clause = &quot;elementType='SERVER' AND date= (SELECT MAX(date) FROM Monitoring)&quot;)\n    private Monitoring latestMonitoring;\n}\n\npublic class System{\n\n    @Id\n    private Long id;\n\n    private String name;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;STATUS&quot;, nullable = false)\n    private StatusEnum status;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ID_MONITORED&quot;)\n    @Where(clause = &quot;elementType='SYSTEM' AND date= (SELECT MAX(date) FROM Monitoring)&quot;)\n    private Monitoring latestMonitoring;\n}\n\npublic class Monitoring {\n\n    @Id\n    private Long id;\n\n    @Column(name = &quot;ID_MONITORED&quot;, nullable = false)\n    private Long idMonitored;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;TYPE&quot;, nullable = false)\n    private MonitoringEnum elementType;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;STATUS_BEFORE&quot;, nullable = false)\n    private StatusEnum statusBefore;\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;STATUS_NOW&quot;, nullable = false)\n    private StatusEnum statusNow;\n\n    private LocalDateTime date;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","rabbitmq"],"comments":[{"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"score":0,"creation_date":1698480671,"post_id":77378179,"comment_id":136413431,"body_markdown":"It should be true. Have you tried to test it yourself ? Like `ScannerPub.class.isInstance(new ScannerPub());` ? It feels like you have several versions of your model in your classpath, is that possible ?","body":"It should be true. Have you tried to test it yourself ? Like <code>ScannerPub.class.isInstance(new ScannerPub());</code> ? It feels like you have several versions of your model in your classpath, is that possible ?"}],"answers":[{"tags":[],"owner":{"account_id":23431513,"reputation":21,"user_id":17490273,"display_name":"jianmin tu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698731088,"creation_date":1698730573,"answer_id":77393452,"question_id":77378179,"body_markdown":" \r\n\r\nChasca, the old version sent a Java object in a RabbitMQ queue and it worked well but does not after upgrade.  So, simply to solve this issue I just added the JSON serialization/deserialization. Problem solved.\r\n\r\n\r\n\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter converter(){\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n    @Bean\r\n    public AmqpTemplate amqpTemplate(ConnectionFactory connectionFactory){\r\n        RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(converter());\r\n        return rabbitTemplate;\r\n    }\r\n","title":"RabbitMQ Listener threw fatal exceptions after Java 17 and Spring boot 3 upgrade","body":"<p>Chasca, the old version sent a Java object in a RabbitMQ queue and it worked well but does not after upgrade.  So, simply to solve this issue I just added the JSON serialization/deserialization. Problem solved.</p>\n<pre><code>@Bean\npublic Jackson2JsonMessageConverter converter(){\n    return new Jackson2JsonMessageConverter();\n}\n@Bean\npublic AmqpTemplate amqpTemplate(ConnectionFactory connectionFactory){\n    RabbitTemplate rabbitTemplate = new RabbitTemplate(connectionFactory);\n    rabbitTemplate.setMessageConverter(converter());\n    return rabbitTemplate;\n}\n</code></pre>\n"}],"owner":{"account_id":23431513,"reputation":21,"user_id":17490273,"display_name":"jianmin tu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1698731088,"creation_date":1698471542,"question_id":77378179,"body_markdown":"I upgraded a project from Java 11/Spring Boot 2.7.9 to Java 17/Spring Boot 3.1.3/spring-rabbit 3.0.8. The sender still can send objects to a RabbitMQ, but the listener throws exceptions, &quot;No converter found from actual payload type&quot;.\r\n\r\n----------\r\n\r\n **1.RabbitMQ Sender:** \r\n\r\n```\r\nprivate void enQueue(ScannerPub pub) throws JsonProcessingException {\r\n    try {\r\n        this.rabbitTemplate.convertAndSend(\r\n                queueConfig.getTopicExchangeName(), queueConfig.getScannerRoutingkey(), pub);\r\n    } catch (Exception ex) {\r\n        ....\r\n    }\r\n}\r\n```\r\n\r\n----------\r\n\r\n**2.Model :**\r\n\r\n```\r\npackage ca.bc.gov.open.crdp.process.models;\r\n\r\nimport java.io.Serializable;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class ScannerPub implements Serializable {\r\n    private String filePath;\r\n    private String dateTime;\r\n}\r\n```\r\n\r\n----------\r\n\r\n**3.RabbitMQ Listener:**\r\n\r\n```\r\n@RabbitListener(queues = &quot;${crdp.scanner-queue}&quot;)\r\npublic void receiveScannerPubMessage(@Payload Message&lt;ScannerPub&gt; message) {\r\n    transformerService.processFileService(message.getPayload());\r\n} \r\n```\r\n\r\n----------\r\n\r\n```\r\n4.Exception\r\n---------------------------------------------------------------------------------------------\r\nsummary - 1), 2) and 3) are the errors I select from Detail which is too long for reading:\r\n\r\n1) org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39; to expected payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39;\r\n\t\r\n2)ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error handler threw an exception org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\r\n\t\r\n3) Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:&#39;[serialized object]&#39; MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=crdp-exchange, receivedRoutingKey=SCANNER, deliveryTag=1, consumerTag=amq.ctag-p37Eiyz_B5hZDTrhkBlk6Q, consumerQueue=scanner-queue])\r\n\r\nDetail:------------------------------------------------------------------------------------\r\n\r\n2023-10-27 21:51:20,985 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error \r\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\r\nEndpoint handler details:\r\n\r\n2023-10-27 21:51:21,001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] WARN  org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler: Execution of Rabbit message listener failed.\r\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\r\nEndpoint handler details:\r\nMethod [public void ca.bc.gov.open.crdp.process.transformer.services.ConsumerService.receiveScannerPubMessage(org.springframework.messaging.Message&lt;ca.bc.gov.open.crdp.process.models.ScannerPub&gt;)]\r\nBean [ca.bc.gov.open.crdp.process.transformer.services.ConsumerService@74e89b46]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:281)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:224)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1663)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1582)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1570)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1561)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1506)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1484)\r\n\tat io.micrometer.observation.Observation.lambda$observe$0(Observation.java:493)\r\n\tat io.micrometer.observation.Observation.observeWithContext(Observation.java:603)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:492)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1484)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1323)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39; to expected payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39;\r\n\tat org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.convertPayload(MessageMethodArgumentResolver.java:147)\r\n\tat org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.resolveArgument(MessageMethodArgumentResolver.java:94)\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:277)\r\n\t... 17 common frames omitted\r\n2023-10-27 21:51:21,001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] WARN  org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy: Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:&#39;[serialized object]&#39; MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=crdp-exchange, receivedRoutingKey=SCANNER, deliveryTag=6, consumerTag=amq.ctag-p37Eiyz_B5hZDTrhkBlk6Q, consumerQueue=scanner-queue])\r\n2023-10-27 21:51:21,002 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error handler threw an exception\r\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\r\n\tat org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1453)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1751)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1527)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1484)\r\n\tat io.micrometer.observation.Observation.lambda$observe$0(Observation.java:493)\r\n\tat io.micrometer.observation.Observation.observeWithContext(Observation.java:603)\r\n\tat io.micrometer.observation.Observation.observe(Observation.java:492)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1484)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1323)\r\n\tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\r\nEndpoint handler details:\r\nMethod [public void ca.bc.gov.open.crdp.process.transformer.services.ConsumerService.receiveScannerPubMessage(org.springframework.messaging.Message&lt;ca.bc.gov.open.crdp.process.models.ScannerPub&gt;)]\r\nBean [ca.bc.gov.open.crdp.process.transformer.services.ConsumerService@74e89b46]\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:281)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:224)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1663)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1582)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1570)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1561)\r\n\tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1506)\r\n\t... 10 common frames omitted\r\nCaused by: org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39; to expected payload type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39;\r\n\tat org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.convertPayload(MessageMethodArgumentResolver.java:147)\r\n\tat org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.resolveArgument(MessageMethodArgumentResolver.java:94)\r\n\tat org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)\r\n\tat org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:277)\r\n\t... 17 common frames omitted\r\n```\r\n\r\nI stepped into Object resolveArgument(MethodParameter parameter, Message\\&lt;?\\&gt; message) in package org.springframework.messaging.handler.annotation.support (spring-core6.0.11). At the line 45 (see attached screen capture), targetPayloadType.isInstance(payload) should return true, as same as in the old version  Java 11/Spring Boot 2.7.9,  but now it returs false in Java 17/Spring Boot 3.1.2 and triggers a type conversion which throws exceptions.   \r\n\r\nIf targetPayloadType is a class type &#39;ca.bc.gov.open.crdp.process.models.ScannerPub&#39; and payload is an object of class ScannerPub,  should targetPayloadType.isInstance(payload) be true?    \r\n  \r\nthank you for help! \r\n\r\n[![enter image description here](https://i.stack.imgur.com/hC8Ez.png)](https://i.stack.imgur.com/hC8Ez.png)","title":"RabbitMQ Listener threw fatal exceptions after Java 17 and Spring boot 3 upgrade","body":"<p>I upgraded a project from Java 11/Spring Boot 2.7.9 to Java 17/Spring Boot 3.1.3/spring-rabbit 3.0.8. The sender still can send objects to a RabbitMQ, but the listener throws exceptions, &quot;No converter found from actual payload type&quot;.</p>\n<hr />\n<p><strong>1.RabbitMQ Sender:</strong></p>\n<pre><code>private void enQueue(ScannerPub pub) throws JsonProcessingException {\n    try {\n        this.rabbitTemplate.convertAndSend(\n                queueConfig.getTopicExchangeName(), queueConfig.getScannerRoutingkey(), pub);\n    } catch (Exception ex) {\n        ....\n    }\n}\n</code></pre>\n<hr />\n<p><strong>2.Model :</strong></p>\n<pre><code>package ca.bc.gov.open.crdp.process.models;\n\nimport java.io.Serializable;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ScannerPub implements Serializable {\n    private String filePath;\n    private String dateTime;\n}\n</code></pre>\n<hr />\n<p><strong>3.RabbitMQ Listener:</strong></p>\n<pre><code>@RabbitListener(queues = &quot;${crdp.scanner-queue}&quot;)\npublic void receiveScannerPubMessage(@Payload Message&lt;ScannerPub&gt; message) {\n    transformerService.processFileService(message.getPayload());\n} \n</code></pre>\n<hr />\n<pre><code>4.Exception\n---------------------------------------------------------------------------------------------\nsummary - 1), 2) and 3) are the errors I select from Detail which is too long for reading:\n\n1) org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub' to expected payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub'\n    \n2)ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error handler threw an exception org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\n    \n3) Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=crdp-exchange, receivedRoutingKey=SCANNER, deliveryTag=1, consumerTag=amq.ctag-p37Eiyz_B5hZDTrhkBlk6Q, consumerQueue=scanner-queue])\n\nDetail:------------------------------------------------------------------------------------\n\n2023-10-27 21:51:20,985 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error \nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\nEndpoint handler details:\n\n2023-10-27 21:51:21,001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] WARN  org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler: Execution of Rabbit message listener failed.\norg.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\nEndpoint handler details:\nMethod [public void ca.bc.gov.open.crdp.process.transformer.services.ConsumerService.receiveScannerPubMessage(org.springframework.messaging.Message&lt;ca.bc.gov.open.crdp.process.models.ScannerPub&gt;)]\nBean [ca.bc.gov.open.crdp.process.transformer.services.ConsumerService@74e89b46]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:281)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:224)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1663)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1582)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1570)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1561)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1506)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1484)\n    at io.micrometer.observation.Observation.lambda$observe$0(Observation.java:493)\n    at io.micrometer.observation.Observation.observeWithContext(Observation.java:603)\n    at io.micrometer.observation.Observation.observe(Observation.java:492)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1484)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1323)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub' to expected payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub'\n    at org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.convertPayload(MessageMethodArgumentResolver.java:147)\n    at org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.resolveArgument(MessageMethodArgumentResolver.java:94)\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)\n    at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:277)\n    ... 17 common frames omitted\n2023-10-27 21:51:21,001 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] WARN  org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler$DefaultExceptionStrategy: Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=crdp-exchange, receivedRoutingKey=SCANNER, deliveryTag=6, consumerTag=amq.ctag-p37Eiyz_B5hZDTrhkBlk6Q, consumerQueue=scanner-queue])\n2023-10-27 21:51:21,002 [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] ERROR org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer: Execution of Rabbit message listener failed, and the error handler threw an exception\norg.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal\n    at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1453)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1751)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1527)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1484)\n    at io.micrometer.observation.Observation.lambda$observe$0(Observation.java:493)\n    at io.micrometer.observation.Observation.observeWithContext(Observation.java:603)\n    at io.micrometer.observation.Observation.observe(Observation.java:492)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1484)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:994)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:941)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1323)\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1225)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method could not be invoked with the incoming message\nEndpoint handler details:\nMethod [public void ca.bc.gov.open.crdp.process.transformer.services.ConsumerService.receiveScannerPubMessage(org.springframework.messaging.Message&lt;ca.bc.gov.open.crdp.process.models.ScannerPub&gt;)]\nBean [ca.bc.gov.open.crdp.process.transformer.services.ConsumerService@74e89b46]\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:281)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:224)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1663)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1582)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1570)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1561)\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1506)\n    ... 10 common frames omitted\nCaused by: org.springframework.messaging.converter.MessageConversionException: No converter found from actual payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub' to expected payload type 'ca.bc.gov.open.crdp.process.models.ScannerPub'\n    at org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.convertPayload(MessageMethodArgumentResolver.java:147)\n    at org.springframework.messaging.handler.annotation.support.MessageMethodArgumentResolver.resolveArgument(MessageMethodArgumentResolver.java:94)\n    at org.springframework.messaging.handler.invocation.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:118)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:147)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:115)\n    at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75)\n    at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:277)\n    ... 17 common frames omitted\n</code></pre>\n<p>I stepped into Object resolveArgument(MethodParameter parameter, Message&lt;?&gt; message) in package org.springframework.messaging.handler.annotation.support (spring-core6.0.11). At the line 45 (see attached screen capture), targetPayloadType.isInstance(payload) should return true, as same as in the old version  Java 11/Spring Boot 2.7.9,  but now it returs false in Java 17/Spring Boot 3.1.2 and triggers a type conversion which throws exceptions.</p>\n<p>If targetPayloadType is a class type 'ca.bc.gov.open.crdp.process.models.ScannerPub' and payload is an object of class ScannerPub,  should targetPayloadType.isInstance(payload) be true?</p>\n<p>thank you for help!</p>\n<p><a href=\"https://i.stack.imgur.com/hC8Ez.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hC8Ez.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","hibernate","jpa","spring-boot"],"comments":[{"owner":{"account_id":6284572,"reputation":5615,"user_id":4884334,"accept_rate":77,"display_name":"Bhushan Uniyal"},"score":0,"creation_date":1493747310,"post_id":43744053,"comment_id":74531158,"body_markdown":"are you using Spring Data ?","body":"are you using Spring Data ?"},{"owner":{"account_id":7538790,"reputation":1069,"user_id":5724223,"accept_rate":90,"display_name":"Mike"},"score":0,"creation_date":1493748089,"post_id":43744053,"comment_id":74531606,"body_markdown":"Yes. The question has to do more what would you use to iterate through those (Object, long) pairs of data. Thanks Bhushan","body":"Yes. The question has to do more what would you use to iterate through those (Object, long) pairs of data. Thanks Bhushan"}],"answers":[{"tags":[],"owner":{"account_id":6284572,"reputation":5615,"user_id":4884334,"accept_rate":77,"display_name":"Bhushan Uniyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493749564,"creation_date":1493749564,"answer_id":43744772,"question_id":43744053,"body_markdown":"You can use it like, you need a class with hold statusupdateid,statusupdateid \r\n\r\n   with parametrized constructor :\r\n    \r\n\r\n        class Data {\r\n        //please modify datatype as per your structure\r\n         long statusupdateid;\r\n         long count\r\n        public(long statusupdateid, long count)\r\n        this.statusupdateid=statusupdateid;\r\n        this.count =count;\r\n        }\r\n\r\nNow your query will:\r\n\r\n    @Query(value = &quot;select statusupdateid, count(*) from comments group by statusupdateid&quot;, nativeQuery = true) \r\n    public List&lt;Data&gt; findStatusupdateidAndCount();\r\n\r\nNow it will return the list of `Data` which have  statusupdateid and it count","title":"How to get SELECT values and COUNT value with JPA GROUP BY","body":"<p>You can use it like, you need a class with hold statusupdateid,statusupdateid </p>\n\n<p>with parametrized constructor :</p>\n\n<pre><code>    class Data {\n    //please modify datatype as per your structure\n     long statusupdateid;\n     long count\n    public(long statusupdateid, long count)\n    this.statusupdateid=statusupdateid;\n    this.count =count;\n    }\n</code></pre>\n\n<p>Now your query will:</p>\n\n<pre><code>@Query(value = \"select statusupdateid, count(*) from comments group by statusupdateid\", nativeQuery = true) \npublic List&lt;Data&gt; findStatusupdateidAndCount();\n</code></pre>\n\n<p>Now it will return the list of <code>Data</code> which have  statusupdateid and it count</p>\n"},{"tags":[],"owner":{"account_id":12356716,"reputation":1,"user_id":9012668,"display_name":"吳建成"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516545129,"creation_date":1516545129,"answer_id":48367906,"question_id":43744053,"body_markdown":"    @Query(value = &quot;select statusupdateid as statusupdateid , count(*) as count from comments group by statusupdateid&quot;)\r\n    public List&lt;Map&lt;String,Object&gt;&gt; find();\r\n  \r\nor\r\n\r\n    @Query(value = &quot;select statusupdateid as statusupdateid , count(*) as count from comments group by statusupdateid&quot;)\r\n    public Page&lt;Map&lt;String,Object&gt;&gt; find(Pageable pageable);","title":"How to get SELECT values and COUNT value with JPA GROUP BY","body":"<pre><code>@Query(value = \"select statusupdateid as statusupdateid , count(*) as count from comments group by statusupdateid\")\npublic List&lt;Map&lt;String,Object&gt;&gt; find();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@Query(value = \"select statusupdateid as statusupdateid , count(*) as count from comments group by statusupdateid\")\npublic Page&lt;Map&lt;String,Object&gt;&gt; find(Pageable pageable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6932559,"reputation":9427,"user_id":5321614,"accept_rate":89,"display_name":"Prafulla Kumar Sahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698730043,"creation_date":1698730043,"answer_id":77393423,"question_id":43744053,"body_markdown":"Quite old post but one solution will be using [BIN_TO_UUID][1]\r\n\r\n    @Query(value = &quot;select BIN_TO_UUID(statusupdateid), count(*) from comments group by statusupdateid&quot;, nativeQuery = true) \r\n    public List&lt;String&gt; findStatusupdateidAndCount();\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_bin-to-uuid","title":"How to get SELECT values and COUNT value with JPA GROUP BY","body":"<p>Quite old post but one solution will be using <a href=\"https://dev.mysql.com/doc/refman/8.0/en/miscellaneous-functions.html#function_bin-to-uuid\" rel=\"nofollow noreferrer\">BIN_TO_UUID</a></p>\n<pre><code>@Query(value = &quot;select BIN_TO_UUID(statusupdateid), count(*) from comments group by statusupdateid&quot;, nativeQuery = true) \npublic List&lt;String&gt; findStatusupdateidAndCount();\n</code></pre>\n"}],"owner":{"account_id":7538790,"reputation":1069,"user_id":5724223,"accept_rate":90,"display_name":"Mike"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698730043,"creation_date":1493746746,"question_id":43744053,"body_markdown":"I can not see how can I can use a JPA Query like this...\r\n\r\n&gt; @Query(value = &quot;select statusupdateid, count(*) from comments group by statusupdateid&quot;, nativeQuery = true)\r\n\tpublic \r\n\r\nIt should give a StatusUpdate id and the count... \r\n\r\nI do not know whether to use a HashMap or what.... but the object solution from [https://stackoverflow.com/questions/6955993/how-to-get-select-values-and-count-value-with-jpa-group-by][1] does not look like an elegant solution and my HashMap does not work\r\n\r\n`public HashMap&lt;StatusUpdate, Long&gt; topComments();`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6955993/how-to-get-select-values-and-count-value-with-jpa-group-by\r\n\r\nThanks","title":"How to get SELECT values and COUNT value with JPA GROUP BY","body":"<p>I can not see how can I can use a JPA Query like this...</p>\n\n<blockquote>\n  <p>@Query(value = \"select statusupdateid, count(*) from comments group by statusupdateid\", nativeQuery = true)\n      public </p>\n</blockquote>\n\n<p>It should give a StatusUpdate id and the count... </p>\n\n<p>I do not know whether to use a HashMap or what.... but the object solution from <a href=\"https://stackoverflow.com/questions/6955993/how-to-get-select-values-and-count-value-with-jpa-group-by\">How to get SELECT values and COUNT value with JPA GROUP BY?</a> does not look like an elegant solution and my HashMap does not work</p>\n\n<p><code>public HashMap&lt;StatusUpdate, Long&gt; topComments();</code></p>\n\n<p>Thanks</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":2152669,"reputation":1652,"user_id":1945316,"accept_rate":18,"display_name":"Thomas"},"score":0,"creation_date":1675937001,"post_id":74900271,"comment_id":133036491,"body_markdown":"What is your environment, which jarkarta library did you use?","body":"What is your environment, which jarkarta library did you use?"}],"answers":[{"tags":[],"owner":{"account_id":4455285,"reputation":61,"user_id":3625792,"display_name":"baiyangliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672026088,"creation_date":1672024709,"answer_id":74917060,"question_id":74900271,"body_markdown":"Add [Angus Mail Provider](https://mvnrepository.com/artifact/org.eclipse.angus/angus-mail) to your classpath.\r\n\r\nFor maven, add the following dependency to your `pom.xml`\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\r\n  &lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found","body":"<p>Add <a href=\"https://mvnrepository.com/artifact/org.eclipse.angus/angus-mail\" rel=\"nofollow noreferrer\">Angus Mail Provider</a> to your classpath.</p>\n<p>For maven, add the following dependency to your <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\n  &lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673776885,"post_id":75113361,"comment_id":132569832,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75113361/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":428741,"reputation":3863,"user_id":811257,"display_name":"kopelitsa"},"score":0,"creation_date":1674635888,"post_id":75113361,"comment_id":132754298,"body_markdown":"version 1.1.0 didn&#39;t work for me, version 2.0.0 did the trick","body":"version 1.1.0 didn&#39;t work for me, version 2.0.0 did the trick"}],"tags":[],"owner":{"account_id":27522747,"reputation":1,"user_id":21002619,"display_name":"Andrew Whitted"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675112574,"creation_date":1673635782,"answer_id":75113361,"question_id":74900271,"body_markdown":"You need to add the angus-activation-1.1.0.jar and angus-mail-1.1.0.jar packages (or the most recent versions of these files, completely depends on what you&#39;re working with.&quot;","title":"Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found","body":"<p>You need to add the angus-activation-1.1.0.jar and angus-mail-1.1.0.jar packages (or the most recent versions of these files, completely depends on what you're working with.&quot;</p>\n"},{"tags":[],"owner":{"account_id":28563084,"reputation":1,"user_id":21866349,"display_name":"lishaohui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683684037,"creation_date":1683684037,"answer_id":76214436,"question_id":74900271,"body_markdown":"I use the `Java17`.And I solve the problem.This may cause by the java version.\r\n&lt;br/&gt;\r\nIn `Java9` use the modules, some modules may not load by default.And we need import it.\r\n&lt;br/&gt;\r\nFor maven, please add the following dependency to your `pom.xml`.\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found","body":"<p>I use the <code>Java17</code>.And I solve the problem.This may cause by the java version.\n<br/>\nIn <code>Java9</code> use the modules, some modules may not load by default.And we need import it.\n<br/>\nFor maven, please add the following dependency to your <code>pom.xml</code>.</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5942587,"reputation":3088,"user_id":4673240,"display_name":"Praveen Kumar Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698729984,"creation_date":1698729984,"answer_id":77393419,"question_id":74900271,"body_markdown":"I was getting issue during upgrade JDK version 11 to 17 and Spring boot 2.X to 3.X\r\n\r\n&gt; Please use these dependencies to solve the problem:\r\n\r\n    implementation &#39;com.sun.mail:jakarta.mail:2.0.1&#39;\r\n    implementation &#39;com.sun.activation:jakarta.activation:2.0.1&#39;","title":"Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found","body":"<p>I was getting issue during upgrade JDK version 11 to 17 and Spring boot 2.X to 3.X</p>\n<blockquote>\n<p>Please use these dependencies to solve the problem:</p>\n</blockquote>\n<pre><code>implementation 'com.sun.mail:jakarta.mail:2.0.1'\nimplementation 'com.sun.activation:jakarta.activation:2.0.1'\n</code></pre>\n"}],"owner":{"account_id":1639163,"reputation":814,"user_id":1511956,"accept_rate":57,"display_name":"user1511956"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3732,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1698729984,"creation_date":1671802707,"question_id":74900271,"body_markdown":"After having to change from javax.mail to jakarta.mail, my application fails to start because of &quot;Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found&quot;. What is a MimeTypeRegistryProvider, and how can I add one ? ","title":"Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found","body":"<p>After having to change from javax.mail to jakarta.mail, my application fails to start because of &quot;Provider for jakarta.activation.spi.MimeTypeRegistryProvider cannot be found&quot;. What is a MimeTypeRegistryProvider, and how can I add one ?</p>\n"},{"tags":["java","performance","caching","infinispan","replicate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697650358,"post_id":77316080,"comment_id":136307823,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":5424161,"reputation":415,"user_id":4316983,"display_name":"Diego"},"score":0,"creation_date":1697651063,"post_id":77316080,"comment_id":136307919,"body_markdown":"Please share the cache config and the jgroups config file","body":"Please share the cache config and the jgroups config file"},{"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"score":0,"creation_date":1699525915,"post_id":77316080,"comment_id":136544245,"body_markdown":"Can you please add the cache config ?","body":"Can you please add the cache config ?"}],"answers":[{"comments":[{"owner":{"account_id":22409995,"reputation":3,"user_id":16618914,"display_name":"maryam maleki"},"score":0,"creation_date":1698729436,"post_id":77321472,"comment_id":136438904,"body_markdown":"Thanks for your answer, I used distributed Infinispan, and performance  increased up to 1200TPS(from 1000), It is not enough for me!\nI attach jgroup config to my question.","body":"Thanks for your answer, I used distributed Infinispan, and performance  increased up to 1200TPS(from 1000), It is not enough for me! I attach jgroup config to my question."}],"tags":[],"owner":{"account_id":2471887,"reputation":1379,"user_id":2153535,"display_name":"Tristan Tarrant"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697697487,"creation_date":1697697487,"answer_id":77321472,"question_id":77316080,"body_markdown":"A quick explanation of replicated caches and their scalability:\r\nwhen writes are performed, these need to be propagated to all other members in the cluster. If you are using sync replication, this means that a write has to wait for an ack from the remote nodes. Using async replication means you don&#39;t have to wait, at the expense of slight staleness in the replicas.\r\nReads are always going to be local, so as fast as they can be.\r\nTherefore, choose replicated caches for low write/high read scenarios.","title":"Problem of performance in replicated infinispan","body":"<p>A quick explanation of replicated caches and their scalability:\nwhen writes are performed, these need to be propagated to all other members in the cluster. If you are using sync replication, this means that a write has to wait for an ack from the remote nodes. Using async replication means you don't have to wait, at the expense of slight staleness in the replicas.\nReads are always going to be local, so as fast as they can be.\nTherefore, choose replicated caches for low write/high read scenarios.</p>\n"}],"owner":{"account_id":22409995,"reputation":3,"user_id":16618914,"display_name":"maryam maleki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77321472,"answer_count":1,"score":0,"last_activity_date":1698729299,"creation_date":1697630192,"question_id":77316080,"body_markdown":"I am using Infinispan replicated cache, and when I scale two instances of the application on separate machines, the performance significantly decreases. It is worth mentioning that the protocol used is tcpping. The Infinispan website states that it can be scaled up to 10 nodes.\r\nthis is my jgroup config:\r\n\r\n    &lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns=&quot;urn:org:jgroups&quot;\r\n            xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;\r\n    &gt;\r\n        &lt;TCP bind_addr=&quot;${jgroups.bind_addr:192.168.206.117}&quot;\r\n             bind_port=&quot;${jgroups.bind_port:9092}&quot;\r\n             external_addr=&quot;${jgroups.external_addr}&quot;\r\n             external_port=&quot;${jgroups.external_port}&quot;\r\n             thread_pool.min_threads=&quot;0&quot;\r\n             thread_pool.max_threads=&quot;200&quot;\r\n             thread_pool.keep_alive_time=&quot;30000&quot;\r\n    \r\n             use_virtual_threads=&quot;true&quot;\r\n             buffered_input_stream_size=&quot;8192&quot;\r\n             buffered_output_stream_size=&quot;8192&quot;\r\n             thread_pool.enabled=&quot;false&quot;\r\n             bundler_type=&quot;no-bundler&quot;/&gt;\r\n        &lt;RED/&gt;\r\n    \r\n        &lt;TCPPING async_discovery=&quot;true&quot;\r\n                 initial_hosts=&quot;${jgroups.tcpping.initial_hosts:192.168.206.117[9092],172.16.93.21[9093]}&quot;\r\n                 return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:true}&quot;\r\n                 send_cache_on_join=&quot;true&quot;\r\n                 port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\r\n        &lt;MERGE3 min_interval=&quot;10000&quot;\r\n                max_interval=&quot;30000&quot;/&gt;\r\n        &lt;FD_SOCK2/&gt;\r\n        &lt;FD_ALL3 timeout=&quot;40000&quot; interval=&quot;5000&quot;/&gt;\r\n        &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;/&gt;\r\n        &lt;BARRIER/&gt;\r\n        &lt;pbcast.NAKACK2 use_mcast_xmit=&quot;false&quot;/&gt;\r\n        &lt;UNICAST3/&gt;\r\n        &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot;\r\n                       max_bytes=&quot;4M&quot;/&gt;\r\n        &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;2000&quot;/&gt;\r\n        &lt;UFC max_credits=&quot;2M&quot;\r\n             min_threshold=&quot;0.4&quot;/&gt;\r\n        &lt;MFC max_credits=&quot;2M&quot;\r\n             min_threshold=&quot;0.4&quot;/&gt;\r\n        &lt;FRAG2 frag_size=&quot;60K&quot;/&gt;\r\n        &lt;!--RSVP resend_interval=&quot;2000&quot; timeout=&quot;10000&quot;/--&gt;\r\n        &lt;pbcast.STATE_TRANSFER/&gt;\r\n    &lt;/config&gt;\r\n\r\nI am searching a lot but I can not find a solution, my performance with 1 node 3000 TPS and with 2 node with 2 machine 1000 TPS","title":"Problem of performance in replicated infinispan","body":"<p>I am using Infinispan replicated cache, and when I scale two instances of the application on separate machines, the performance significantly decreases. It is worth mentioning that the protocol used is tcpping. The Infinispan website states that it can be scaled up to 10 nodes.\nthis is my jgroup config:</p>\n<pre><code>&lt;config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;urn:org:jgroups&quot;\n        xsi:schemaLocation=&quot;urn:org:jgroups http://www.jgroups.org/schema/jgroups.xsd&quot;\n&gt;\n    &lt;TCP bind_addr=&quot;${jgroups.bind_addr:192.168.206.117}&quot;\n         bind_port=&quot;${jgroups.bind_port:9092}&quot;\n         external_addr=&quot;${jgroups.external_addr}&quot;\n         external_port=&quot;${jgroups.external_port}&quot;\n         thread_pool.min_threads=&quot;0&quot;\n         thread_pool.max_threads=&quot;200&quot;\n         thread_pool.keep_alive_time=&quot;30000&quot;\n\n         use_virtual_threads=&quot;true&quot;\n         buffered_input_stream_size=&quot;8192&quot;\n         buffered_output_stream_size=&quot;8192&quot;\n         thread_pool.enabled=&quot;false&quot;\n         bundler_type=&quot;no-bundler&quot;/&gt;\n    &lt;RED/&gt;\n\n    &lt;TCPPING async_discovery=&quot;true&quot;\n             initial_hosts=&quot;${jgroups.tcpping.initial_hosts:192.168.206.117[9092],172.16.93.21[9093]}&quot;\n             return_entire_cache=&quot;${jgroups.tcpping.return_entire_cache:true}&quot;\n             send_cache_on_join=&quot;true&quot;\n             port_range=&quot;${jgroups.tcp.port_range:2}&quot;/&gt;\n    &lt;MERGE3 min_interval=&quot;10000&quot;\n            max_interval=&quot;30000&quot;/&gt;\n    &lt;FD_SOCK2/&gt;\n    &lt;FD_ALL3 timeout=&quot;40000&quot; interval=&quot;5000&quot;/&gt;\n    &lt;VERIFY_SUSPECT2 timeout=&quot;1500&quot;/&gt;\n    &lt;BARRIER/&gt;\n    &lt;pbcast.NAKACK2 use_mcast_xmit=&quot;false&quot;/&gt;\n    &lt;UNICAST3/&gt;\n    &lt;pbcast.STABLE desired_avg_gossip=&quot;50000&quot;\n                   max_bytes=&quot;4M&quot;/&gt;\n    &lt;pbcast.GMS print_local_addr=&quot;true&quot; join_timeout=&quot;2000&quot;/&gt;\n    &lt;UFC max_credits=&quot;2M&quot;\n         min_threshold=&quot;0.4&quot;/&gt;\n    &lt;MFC max_credits=&quot;2M&quot;\n         min_threshold=&quot;0.4&quot;/&gt;\n    &lt;FRAG2 frag_size=&quot;60K&quot;/&gt;\n    &lt;!--RSVP resend_interval=&quot;2000&quot; timeout=&quot;10000&quot;/--&gt;\n    &lt;pbcast.STATE_TRANSFER/&gt;\n&lt;/config&gt;\n</code></pre>\n<p>I am searching a lot but I can not find a solution, my performance with 1 node 3000 TPS and with 2 node with 2 machine 1000 TPS</p>\n"},{"tags":["java","spring","maven","spring-mvc","applicationcontext"],"comments":[{"owner":{"account_id":8761211,"reputation":149,"user_id":6552341,"display_name":"corneliouz Bett"},"score":0,"creation_date":1591097379,"post_id":28503285,"comment_id":109920222,"body_markdown":"Hey check out other similar question with answer [here](https://stackoverflow.com/questions/6468195/spring-import-application-context-from-another-project)","body":"Hey check out other similar question with answer <a href=\"https://stackoverflow.com/questions/6468195/spring-import-application-context-from-another-project\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"score":0,"creation_date":1423846530,"post_id":28503682,"comment_id":45328417,"body_markdown":"that didn&#39;t work. I am getting the dependency bean object, when I call them using ApplicationContext object `ctx.getBean(MyDependencyBean.class)` but when autowiring `MyDependencyBean` in `MyClass`. It is not autowired. In `MyClass` the `MyDependencyBean` is made `transient` to avoid `NotSerializableException`. Is it the reason why the dependency is not autowired:? What is the solution?","body":"that didn&#39;t work. I am getting the dependency bean object, when I call them using ApplicationContext object <code>ctx.getBean(MyDependencyBean.class)</code> but when autowiring <code>MyDependencyBean</code> in <code>MyClass</code>. It is not autowired. In <code>MyClass</code> the <code>MyDependencyBean</code> is made <code>transient</code> to avoid <code>NotSerializableException</code>. Is it the reason why the dependency is not autowired:? What is the solution?"}],"tags":[],"owner":{"account_id":2619570,"reputation":1600,"user_id":2267921,"accept_rate":61,"display_name":"Luke SpringWalker"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423843416,"creation_date":1423843416,"answer_id":28503682,"question_id":28503285,"body_markdown":"I&#39;m not sure about maven dependencies, but you are trying to do something like a cross-context using spring. Take a look at this link: http://blog.imaginea.com/cross-context-communication-between-web-applications/\r\n\r\n\r\nEDIT: it seems there is a way, take a look at this post: https://stackoverflow.com/questions/6303242/loading-spring-application-context-files-that-are-inside-a-jar-in-classpath","title":"How to import a spring application context into another application context?","body":"<p>I'm not sure about maven dependencies, but you are trying to do something like a cross-context using spring. Take a look at this link: <a href=\"http://blog.imaginea.com/cross-context-communication-between-web-applications/\" rel=\"nofollow noreferrer\">http://blog.imaginea.com/cross-context-communication-between-web-applications/</a></p>\n\n<p>EDIT: it seems there is a way, take a look at this post: <a href=\"https://stackoverflow.com/questions/6303242/loading-spring-application-context-files-that-are-inside-a-jar-in-classpath\">Loading spring application context files that are inside a jar in classpath</a></p>\n"},{"tags":[],"owner":{"account_id":1514280,"reputation":2089,"user_id":1415672,"display_name":"Chathuranga Tennakoon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423843596,"creation_date":1423843596,"answer_id":28503734,"question_id":28503285,"body_markdown":"the following way, you can load the multiple spring applicationContext files.\r\n\r\n\tApplicationContext context = \r\n\tnew ClassPathXmlApplicationContext(new String[] {&quot;sample-applicationContext.xml&quot;,   &quot;applicationContext.xml&quot;});\r\n\r\n\r\nit will be good if you can post the applicationContext.xml , sample-applicationContext.xml and MyClass code segments here.\r\n\r\n","title":"How to import a spring application context into another application context?","body":"<p>the following way, you can load the multiple spring applicationContext files.</p>\n\n<pre><code>ApplicationContext context = \nnew ClassPathXmlApplicationContext(new String[] {\"sample-applicationContext.xml\",   \"applicationContext.xml\"});\n</code></pre>\n\n<p>it will be good if you can post the applicationContext.xml , sample-applicationContext.xml and MyClass code segments here.</p>\n"}],"owner":{"account_id":2985035,"reputation":8984,"user_id":2534090,"accept_rate":34,"display_name":"JavaTechnical"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8087,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1698728625,"creation_date":1423842258,"question_id":28503285,"body_markdown":"I have two spring application contexts. One is local to my application and the other is from one of the maven dependencies.\r\n\r\nNow, my **applicationContext.xml** file look like this.\r\n\r\n    &lt;import resource=&quot;classpath*:**/sample-applicationContext.xml&quot; /&gt;\r\n\r\nand I have `&lt;context:component-scan&gt;` in the `sample-applicationContext.xml` file which scans for components.\r\n\r\nand Now, when I do the following..\r\n\r\n    ApplicationContext ctx=new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);\r\n    MyClass m=ctx.getBean(MyClass.class);\r\n\r\nUnfortunately, when I get the `MyClass` object, the object is created however, I see that dependencies in `MyClass` are not injected.\r\n\r\nThe dependencies autowired in `MyClass` are the beans that are scanned using the `&lt;context:component-scan&gt;` in `sample-applicationContext.xml` file.\r\n\r\nIs there any way to make use of multiple application contexts present in the Maven dependencies and autowire beans in them in my project classes?\r\n","title":"How to import a spring application context into another application context?","body":"<p>I have two spring application contexts. One is local to my application and the other is from one of the maven dependencies.</p>\n\n<p>Now, my <strong>applicationContext.xml</strong> file look like this.</p>\n\n<pre><code>&lt;import resource=\"classpath*:**/sample-applicationContext.xml\" /&gt;\n</code></pre>\n\n<p>and I have <code>&lt;context:component-scan&gt;</code> in the <code>sample-applicationContext.xml</code> file which scans for components.</p>\n\n<p>and Now, when I do the following..</p>\n\n<pre><code>ApplicationContext ctx=new ClassPathXmlApplicationContext(\"applicationContext.xml\");\nMyClass m=ctx.getBean(MyClass.class);\n</code></pre>\n\n<p>Unfortunately, when I get the <code>MyClass</code> object, the object is created however, I see that dependencies in <code>MyClass</code> are not injected.</p>\n\n<p>The dependencies autowired in <code>MyClass</code> are the beans that are scanned using the <code>&lt;context:component-scan&gt;</code> in <code>sample-applicationContext.xml</code> file.</p>\n\n<p>Is there any way to make use of multiple application contexts present in the Maven dependencies and autowire beans in them in my project classes?</p>\n"},{"tags":["java","mongodb","spring-boot","junit5"],"answers":[{"comments":[{"owner":{"account_id":2186161,"reputation":137,"user_id":1934544,"display_name":"ekar"},"score":0,"creation_date":1662031680,"post_id":70782839,"comment_id":129914847,"body_markdown":"Thank you! I missed the application.property file in test resources.","body":"Thank you! I missed the application.property file in test resources."},{"owner":{"account_id":4995454,"reputation":79,"user_id":4016212,"display_name":"Irinel"},"score":0,"creation_date":1698743111,"post_id":70782839,"comment_id":136440829,"body_markdown":"I wonder why it doesn&#39;t accept 4.4.3 and only 4.0.9; I am making reference to spring.mongodb.embedded.version","body":"I wonder why it doesn&#39;t accept 4.4.3 and only 4.0.9; I am making reference to spring.mongodb.embedded.version"}],"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1642676929,"creation_date":1642666991,"answer_id":70782839,"question_id":70782360,"body_markdown":"The documentation states:\r\n\r\n&gt; 2.2.4. Embedded Mongo\r\n&gt; \r\n&gt; Spring Boot offers auto-configuration for Embedded Mongo. To use it in\r\n&gt; your Spring Boot application, **add a dependency on\r\n&gt; de.flapdoodle.embed:de.flapdoodle.embed.mongo** and set the\r\n&gt; **spring.mongodb.embedded.version property** to match the version of\r\n&gt; MongoDB that your application will use in production. \tThe default\r\n&gt; download configuration allows access to most of the versions listed in\r\n&gt; Embedded Mongo’s Version class as well as some others. Configuring an\r\n&gt; inaccessible version will result in an error when attempting to\r\n&gt; download the server. Such an error can be corrected by defining an\r\n&gt; appropriately configured DownloadConfigBuilderCustomizer bean.\r\n&gt; \r\n&gt; The port that Mongo listens on can be configured by setting the\r\n&gt; spring.data.mongodb.port property. To use a randomly allocated free\r\n&gt; port, use a value of 0. The MongoClient created by\r\n&gt; MongoAutoConfiguration is automatically configured to use the randomly\r\n&gt; allocated port. \tIf you do not configure a custom port, the embedded\r\n&gt; support uses a random port (rather than 27017) by default.\r\n&gt; \r\n&gt; If you have SLF4J on the classpath, the output produced by Mongo is\r\n&gt; automatically routed to a logger named\r\n&gt; org.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongo.\r\n&gt; \r\n&gt; You can declare your own IMongodConfig and IRuntimeConfig beans to\r\n&gt; take control of the Mongo instance’s configuration and logging\r\n&gt; routing. The download configuration can be customized by declaring a\r\n&gt; DownloadConfigBuilderCustomizer bean.\r\n\r\n\r\nTherefore add the below dependency in scope:test if you want it to only be applied for Tests.\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n\r\nAs well you need to set the version in your application.properties file:\r\n\r\n    spring.mongodb.embedded.version=4.0.21\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.nosql.mongodb.embedded\r\n\r\n\r\n----------\r\n\r\nWorking Example:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.example.mongodb.embedded&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mongodb-app&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;mongodb-app&lt;/name&gt;\r\n        &lt;description&gt;Demo project for usage of embedded mongodb&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.16&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\r\n                &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;integration-test&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;phase&gt;integration-test&lt;/phase&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;excludes&gt;\r\n                                    &lt;exclude&gt;none&lt;/exclude&gt;\r\n                                &lt;/excludes&gt;\r\n                                &lt;includes&gt;\r\n                                    &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n                                &lt;/includes&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nUserRepository:\r\n\r\n\r\n    public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\r\n    \r\n        //Spring converts this to Regex\tfindByFirstnameRegex(String firstname)\t{&quot;firstname&quot; : {&quot;$regex&quot; : firstname }}\r\n        // automatically\r\n        public List&lt;User&gt; findByFirstName(String firstName);\r\n    \r\n    }\r\n\r\nUser:\r\n\r\n\r\n    @Data\r\n    @Builder\r\n    public class User {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n    }\r\n\r\nTest:\r\n\r\n    @DataMongoTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    public class UserControllerIT {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @BeforeAll\r\n        public void setup(){\r\n    \r\n            userRepository.save(User.builder().id(1L).firstName(&quot;James&quot;).lastName(&quot;Bond&quot;).build());\r\n            userRepository.save(User.builder().id(2L).firstName(&quot;James&quot;).lastName(&quot;Farley&quot;).build());\r\n            userRepository.save(User.builder().id(3L).firstName(&quot;Marley&quot;).lastName(&quot;Hemp&quot;).build());\r\n            userRepository.save(User.builder().id(4L).firstName(&quot;James&quot;).lastName(&quot;Bond&quot;).build());\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void test_getById_successfull() throws Exception {\r\n            Assertions.assertEquals(&quot;James&quot;, userRepository.findByFirstName(&quot;James&quot;).get(0).getFirstName());\r\n        }\r\n    \r\n    }\r\n\r\n\r\nsrc/test/resources/application.properties\r\n\r\n    spring.data.mongodb.database=test\r\n    spring.data.mongodb.port=27017\r\n    spring.mongodb.embedded.version=4.0.2\r\n\r\n\r\n\r\n\r\n","title":"How to use embedded MongoDB with SpringBoot v2.6.2?","body":"<p>The documentation states:</p>\n<blockquote>\n<p>2.2.4. Embedded Mongo</p>\n<p>Spring Boot offers auto-configuration for Embedded Mongo. To use it in\nyour Spring Boot application, <strong>add a dependency on\nde.flapdoodle.embed:de.flapdoodle.embed.mongo</strong> and set the\n<strong>spring.mongodb.embedded.version property</strong> to match the version of\nMongoDB that your application will use in production.     The default\ndownload configuration allows access to most of the versions listed in\nEmbedded Mongo’s Version class as well as some others. Configuring an\ninaccessible version will result in an error when attempting to\ndownload the server. Such an error can be corrected by defining an\nappropriately configured DownloadConfigBuilderCustomizer bean.</p>\n<p>The port that Mongo listens on can be configured by setting the\nspring.data.mongodb.port property. To use a randomly allocated free\nport, use a value of 0. The MongoClient created by\nMongoAutoConfiguration is automatically configured to use the randomly\nallocated port.   If you do not configure a custom port, the embedded\nsupport uses a random port (rather than 27017) by default.</p>\n<p>If you have SLF4J on the classpath, the output produced by Mongo is\nautomatically routed to a logger named\norg.springframework.boot.autoconfigure.mongo.embedded.EmbeddedMongo.</p>\n<p>You can declare your own IMongodConfig and IRuntimeConfig beans to\ntake control of the Mongo instance’s configuration and logging\nrouting. The download configuration can be customized by declaring a\nDownloadConfigBuilderCustomizer bean.</p>\n</blockquote>\n<p>Therefore add the below dependency in scope:test if you want it to only be applied for Tests.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>As well you need to set the version in your application.properties file:</p>\n<pre><code>spring.mongodb.embedded.version=4.0.21\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.nosql.mongodb.embedded\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/data.html#data.nosql.mongodb.embedded</a></p>\n<hr />\n<p>Working Example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example.mongodb.embedded&lt;/groupId&gt;\n    &lt;artifactId&gt;mongodb-app&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mongodb-app&lt;/name&gt;\n    &lt;description&gt;Demo project for usage of embedded mongodb&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.16&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;de.flapdoodle.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;de.flapdoodle.embed.mongo&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;integration-test&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;integration-test&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;none&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/*IT.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>UserRepository:</p>\n<pre><code>public interface UserRepository extends MongoRepository&lt;User, Long&gt; {\n\n    //Spring converts this to Regex findByFirstnameRegex(String firstname)  {&quot;firstname&quot; : {&quot;$regex&quot; : firstname }}\n    // automatically\n    public List&lt;User&gt; findByFirstName(String firstName);\n\n}\n</code></pre>\n<p>User:</p>\n<pre><code>@Data\n@Builder\npublic class User {\n\n    @Id\n    private Long id;\n\n    private String firstName;\n    private String lastName;\n\n}\n</code></pre>\n<p>Test:</p>\n<pre><code>@DataMongoTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class UserControllerIT {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @BeforeAll\n    public void setup(){\n\n        userRepository.save(User.builder().id(1L).firstName(&quot;James&quot;).lastName(&quot;Bond&quot;).build());\n        userRepository.save(User.builder().id(2L).firstName(&quot;James&quot;).lastName(&quot;Farley&quot;).build());\n        userRepository.save(User.builder().id(3L).firstName(&quot;Marley&quot;).lastName(&quot;Hemp&quot;).build());\n        userRepository.save(User.builder().id(4L).firstName(&quot;James&quot;).lastName(&quot;Bond&quot;).build());\n\n    }\n\n    @Test\n    public void test_getById_successfull() throws Exception {\n        Assertions.assertEquals(&quot;James&quot;, userRepository.findByFirstName(&quot;James&quot;).get(0).getFirstName());\n    }\n\n}\n</code></pre>\n<p>src/test/resources/application.properties</p>\n<pre><code>spring.data.mongodb.database=test\nspring.data.mongodb.port=27017\nspring.mongodb.embedded.version=4.0.2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29791652,"reputation":1,"user_id":22831670,"display_name":"IanM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698727628,"creation_date":1698727628,"answer_id":77393277,"question_id":70782360,"body_markdown":"For anyone else from the future that stumbles upon this while trying to get embedded mongo working - Spring apparently removed the built-in support starting in v2.7.0, so the original flapdodle module no longer works for newer versions of Spring. Thankfully, flapdoodle has &#39;sister&#39; modules you can import instead that should provide the same functionality, albeit with a little different configuration. They can be found via the [original module&#39;s documentation][1].\r\n\r\n\r\n  [1]: https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo#spring-integration","title":"How to use embedded MongoDB with SpringBoot v2.6.2?","body":"<p>For anyone else from the future that stumbles upon this while trying to get embedded mongo working - Spring apparently removed the built-in support starting in v2.7.0, so the original flapdodle module no longer works for newer versions of Spring. Thankfully, flapdoodle has 'sister' modules you can import instead that should provide the same functionality, albeit with a little different configuration. They can be found via the <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo#spring-integration\" rel=\"nofollow noreferrer\">original module's documentation</a>.</p>\n"}],"owner":{"account_id":3662832,"reputation":73,"user_id":3052164,"display_name":"Lobo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31375,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70782839,"answer_count":2,"score":6,"last_activity_date":1698727628,"creation_date":1642664535,"question_id":70782360,"body_markdown":"I&#39;m using Spring Boot v2.6.2 and Java v17 and trying to test my MongoConnection without having a MongoDBService running because it should be tested with embedded in-memory MongoDB on the build machine, no need to set up an extra MongoDB service there.\r\nFor sure on the productive system, it should use a full MongoDB.\r\n\r\nI try to get this easy example running:\r\n\r\n```\r\n@DataMongoTest\r\npublic class MongoTest\r\n{\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @AfterEach\r\n    void cleanUpDatabase()\r\n    {\r\n        this.userRepository.deleteAll();\r\n    }\r\n\r\n    @Test\r\n    void bootstrapTestDataWithMongoTemplate() {\r\n        final var restaurant = new User( &quot;123&quot;, &quot;ABC&quot;, &quot;DEF&quot; );\r\n        this.userRepository.insert( restaurant );\r\n\r\n        final var found = this.userRepository.findByFirstName( &quot;ABC&quot; );\r\n\r\n        System.out.println( found );\r\n    }\r\n}\r\n```\r\n\r\n`UserRepository` is an interface that extends `MongoRepository`. `User` itself is just a `DBEntity` with `@Document` annotation. If I let the SpringBoot application run, not in test mode, everything works fine, because MongoDB is running at the specified location. But for the test, I want to let it run as an in-memory DB.\r\n\r\nBut Springboot wants to connect for the test.\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n```\r\n    2022-01-20 08:31:57.489  INFO 3976 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout=&#39;30000 ms&#39;}\r\n2022-01-20 08:31:57.521  INFO 3976 --- [localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017\r\n\r\ncom.mongodb.MongoSocketOpenException: Exception opening socket\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\nCaused by: java.net.ConnectException: Connection refused: no further information\r\n\tat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\n\tat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n\tat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n\tat com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\tat com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.0.jar:na]\r\n\t... 4 common frames omitted\r\n```\r\n\r\nAny suggestions on how to do this? Is `@DataMongoTest` testing in the wrong way? I thought the integrated flapdoodle dependency would inject it automatically in the test case.\r\n\r\nThe pom itself is also not that complex:\r\n\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t        &lt;optional&gt;true&lt;/optional&gt;\r\n\t    &lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.github.openjson&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;openjson&lt;/artifactId&gt;\r\n\t        &lt;version&gt;1.0.11&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.erosb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;everit-json-schema&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.14.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```","title":"How to use embedded MongoDB with SpringBoot v2.6.2?","body":"<p>I'm using Spring Boot v2.6.2 and Java v17 and trying to test my MongoConnection without having a MongoDBService running because it should be tested with embedded in-memory MongoDB on the build machine, no need to set up an extra MongoDB service there.\nFor sure on the productive system, it should use a full MongoDB.</p>\n<p>I try to get this easy example running:</p>\n<pre><code>@DataMongoTest\npublic class MongoTest\n{\n    @Autowired\n    private UserRepository userRepository;\n\n    @AfterEach\n    void cleanUpDatabase()\n    {\n        this.userRepository.deleteAll();\n    }\n\n    @Test\n    void bootstrapTestDataWithMongoTemplate() {\n        final var restaurant = new User( &quot;123&quot;, &quot;ABC&quot;, &quot;DEF&quot; );\n        this.userRepository.insert( restaurant );\n\n        final var found = this.userRepository.findByFirstName( &quot;ABC&quot; );\n\n        System.out.println( found );\n    }\n}\n</code></pre>\n<p><code>UserRepository</code> is an interface that extends <code>MongoRepository</code>. <code>User</code> itself is just a <code>DBEntity</code> with <code>@Document</code> annotation. If I let the SpringBoot application run, not in test mode, everything works fine, because MongoDB is running at the specified location. But for the test, I want to let it run as an in-memory DB.</p>\n<p>But Springboot wants to connect for the test.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>    2022-01-20 08:31:57.489  INFO 3976 --- [           main] org.mongodb.driver.cluster               : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms'}\n2022-01-20 08:31:57.521  INFO 3976 --- [localhost:27017] org.mongodb.driver.cluster               : Exception in monitor thread while connecting to server localhost:27017\n\ncom.mongodb.MongoSocketOpenException: Exception opening socket\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:70) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:180) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:188) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:152) ~[mongodb-driver-core-4.4.0.jar:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.net.ConnectException: Connection refused: no further information\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\n    at com.mongodb.internal.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:107) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.SocketStream.initializeSocket(SocketStream.java:79) ~[mongodb-driver-core-4.4.0.jar:na]\n    at com.mongodb.internal.connection.SocketStream.open(SocketStream.java:65) ~[mongodb-driver-core-4.4.0.jar:na]\n    ... 4 common frames omitted\n</code></pre>\n<p>Any suggestions on how to do this? Is <code>@DataMongoTest</code> testing in the wrong way? I thought the integrated flapdoodle dependency would inject it automatically in the test case.</p>\n<p>The pom itself is also not that complex:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.openjson&lt;/groupId&gt;\n            &lt;artifactId&gt;openjson&lt;/artifactId&gt;\n            &lt;version&gt;1.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.erosb&lt;/groupId&gt;\n            &lt;artifactId&gt;everit-json-schema&lt;/artifactId&gt;\n            &lt;version&gt;1.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","android","flutter","dart"],"answers":[{"tags":[],"owner":{"account_id":24225496,"reputation":11,"user_id":18180063,"display_name":"Kyagaba Jonah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698727185,"creation_date":1663261550,"answer_id":73735007,"question_id":73735006,"body_markdown":"/Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt を開きます。\r\n\r\nAnd look for onRequestPermissionsResult().\r\n```\r\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;?, grantResults: IntArray?): Boolean {\r\n  when (requestCode) {\r\n    audioRecordPermissionCode -&gt; {\r\n      if (grantResults != null) {\r\n        permissionToRecordAudio = grantResults.isNotEmpty() &amp;&amp;\r\n          grantResults[0] == PackageManager.PERMISSION_GRANTED\r\n      }\r\n      completeInitializeRecorder()\r\n      return true\r\n    }\r\n  }\r\n  return false\r\n}\r\n```\r\nThe argument in this &#39;?&#39; Delete.\r\n```\r\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray): Boolean {\r\n```\r\nAgain, build on Android.","title":"I was doing Flutter app development in Android Studio, and I got an error in the Android build. Record how to resolve this issue","body":"<p>/Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt を開きます。</p>\n<p>And look for onRequestPermissionsResult().</p>\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;?, grantResults: IntArray?): Boolean {\n  when (requestCode) {\n    audioRecordPermissionCode -&gt; {\n      if (grantResults != null) {\n        permissionToRecordAudio = grantResults.isNotEmpty() &amp;&amp;\n          grantResults[0] == PackageManager.PERMISSION_GRANTED\n      }\n      completeInitializeRecorder()\n      return true\n    }\n  }\n  return false\n}\n</code></pre>\n<p>The argument in this '?' Delete.</p>\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray): Boolean {\n</code></pre>\n<p>Again, build on Android.</p>\n"},{"tags":[],"owner":{"account_id":20389838,"reputation":337,"user_id":14957991,"display_name":"Danny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698727168,"creation_date":1663264024,"answer_id":73735453,"question_id":73735006,"body_markdown":"It looks like an error from the [sound_stream][2] package itself. According to an issue posted [here][3], there are some errors that have to do with null safety for flutter 3.0.1. check the solution posted there if it works for you, edit the package yourself. if it doesn&#39;t then I guess you will have to wait until the developer fixes it.\r\n\r\n\r\n  [2]: https://pub.dev/packages/sound_stream\r\n  [3]: https://github.com/CasperPas/flutter-sound-stream/issues/54#issue-1268338357","title":"I was doing Flutter app development in Android Studio, and I got an error in the Android build. Record how to resolve this issue","body":"<p>It looks like an error from the <a href=\"https://pub.dev/packages/sound_stream\" rel=\"nofollow noreferrer\">sound_stream</a> package itself. According to an issue posted <a href=\"https://github.com/CasperPas/flutter-sound-stream/issues/54#issue-1268338357\" rel=\"nofollow noreferrer\">here</a>, there are some errors that have to do with null safety for flutter 3.0.1. check the solution posted there if it works for you, edit the package yourself. if it doesn't then I guess you will have to wait until the developer fixes it.</p>\n"}],"owner":{"account_id":24225496,"reputation":11,"user_id":18180063,"display_name":"Kyagaba Jonah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698727185,"creation_date":1663261550,"question_id":73735006,"body_markdown":"【Flutter】e: Class ‘SoundStreamPlugin’ is not abstract and does not implement abstract member public abstract fun onRequestPermissionsResult/e: ‘onRequestPermissionsResult’ overrides nothing\r\nThe error message is as follows: (Split for better viewing)\r\n```\r\ne: /Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt: (45, 8): Class &#39;SoundStreamPlugin&#39; is not abstract and does not implement abstract member public abstract fun onRequestPermissionsResult(p0: Int, p1: Array&lt;(out) String!&gt;, p2: IntArray): Boolean defined in io.flutter.plugin.common.PluginRegistry.RequestPermissionsResultListener\r\ne: /Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt: (182, 5): &#39;onRequestPermissionsResult&#39; overrides nothing\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:sound_stream:compileDebugKotlin&#39;.\r\n&gt; Compilation error. See log for more details\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1s\r\nRunning Gradle task &#39;assembleDebug&#39;...                           2,093ms\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```","title":"I was doing Flutter app development in Android Studio, and I got an error in the Android build. Record how to resolve this issue","body":"<p>【Flutter】e: Class ‘SoundStreamPlugin’ is not abstract and does not implement abstract member public abstract fun onRequestPermissionsResult/e: ‘onRequestPermissionsResult’ overrides nothing\nThe error message is as follows: (Split for better viewing)</p>\n<pre><code>e: /Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt: (45, 8): Class 'SoundStreamPlugin' is not abstract and does not implement abstract member public abstract fun onRequestPermissionsResult(p0: Int, p1: Array&lt;(out) String!&gt;, p2: IntArray): Boolean defined in io.flutter.plugin.common.PluginRegistry.RequestPermissionsResultListener\ne: /Users/UserName/development/flutter/.pub-cache/hosted/pub.dartlang.org/sound_stream-0.3.0/android/src/main/kotlin/vn/casperpas/sound_stream/SoundStreamPlugin.kt: (182, 5): 'onRequestPermissionsResult' overrides nothing\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':sound_stream:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nRunning Gradle task 'assembleDebug'...                           2,093ms\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-rcp","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1698742540,"post_id":77393215,"comment_id":136440710,"body_markdown":"There isn&#39;t anything that records active instances. You would have to maintain that somewhere.","body":"There isn&#39;t anything that records active instances. You would have to maintain that somewhere."}],"owner":{"account_id":10405472,"reputation":153,"user_id":7672544,"accept_rate":75,"display_name":"mahesh bhagirath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698726528,"creation_date":1698726528,"question_id":77393215,"body_markdown":"I have an Eclipse RCP (Rich Client Platform) application, and I typically launch multiple instances of this application via an executable. Each time I launch a new instance, I need to detect the currently active instances and determine their respective workspace locations programmatically.\r\n\r\nI believe this functionality should be implemented in the IAppliaction #start method. However, I&#39;m unsure about how to find the previous active instances and retrieve their workspace locations in my Eclipse RCP application.\r\n\r\nIf you have experience with Eclipse RCP or can provide guidance on how to achieve this programmatically, I would greatly appreciate your help. Please share any code snippets, insights, or suggestions on how to detect and retrieve information about previous active instances and their associated workspace locations in Eclipse RCP. Thank you in advance for your assistance!","title":"How to Programmatically Detect Previous Active Instances and Workspace Locations in Eclipse RCP Application?","body":"<p>I have an Eclipse RCP (Rich Client Platform) application, and I typically launch multiple instances of this application via an executable. Each time I launch a new instance, I need to detect the currently active instances and determine their respective workspace locations programmatically.</p>\n<p>I believe this functionality should be implemented in the IAppliaction #start method. However, I'm unsure about how to find the previous active instances and retrieve their workspace locations in my Eclipse RCP application.</p>\n<p>If you have experience with Eclipse RCP or can provide guidance on how to achieve this programmatically, I would greatly appreciate your help. Please share any code snippets, insights, or suggestions on how to detect and retrieve information about previous active instances and their associated workspace locations in Eclipse RCP. Thank you in advance for your assistance!</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","amazon-sqs"],"comments":[{"owner":{"account_id":22343813,"reputation":889,"user_id":16563198,"display_name":"sbridewell"},"score":0,"creation_date":1699103824,"post_id":77393136,"comment_id":136490714,"body_markdown":"Please edit your question to replace `//do something` with the code that you&#39;re expecting to throw an exception, otherwise we won&#39;t be able to tell why it&#39;s not throwing one.","body":"Please edit your question to replace <code>&#47;&#47;do something</code> with the code that you&#39;re expecting to throw an exception, otherwise we won&#39;t be able to tell why it&#39;s not throwing one."}],"owner":{"account_id":9111071,"reputation":175,"user_id":6779807,"display_name":"riteshmaurya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698725228,"creation_date":1698725228,"question_id":77393136,"body_markdown":"\r\nI have a scenario where I want send notification in case of validation failure\r\n```      @SqsListener(&quot;${queueName}&quot;)\r\n  public void onMessage(@Valid @Payload String jsonPayload,\r\n                        @Headers Map&lt;String, String&gt; headersMap){\r\ntry{\r\n\r\n//do something\r\n\r\n} catch (Exception e){\r\n//send notification using message content and exception message\r\n}}\r\n```\r\n\r\ncatch block is never executed. Any suggestion on this please.\r\nspringboot version:3.1.1\r\nspringcloud version:3.0.1\r\naws java sdk version: 2.20.97","title":"How to get message payload on @SqsListener exception handling","body":"<p>I have a scenario where I want send notification in case of validation failure</p>\n<pre><code>  public void onMessage(@Valid @Payload String jsonPayload,\n                        @Headers Map&lt;String, String&gt; headersMap){\ntry{\n\n//do something\n\n} catch (Exception e){\n//send notification using message content and exception message\n}}\n</code></pre>\n<p>catch block is never executed. Any suggestion on this please.\nspringboot version:3.1.1\nspringcloud version:3.0.1\naws java sdk version: 2.20.97</p>\n"},{"tags":["java","spring","spring-boot","tomcat","apache-tomee"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1678341527,"post_id":75680662,"comment_id":133514360,"body_markdown":"(1) TomEE 9 apply Jakarta EE 9 (2) Jakarta 9, Servlet 5.0, JSP 3.0 (3) Servlet is `jakarta.servlet.Servlet` NOT `javax.servlet.Servlet` (4) I guess TomEE 9 does not provide built-in javax.servlet.Servlet lib.","body":"(1) TomEE 9 apply Jakarta EE 9 (2) Jakarta 9, Servlet 5.0, JSP 3.0 (3) Servlet is <code>jakarta.servlet.Servlet</code> NOT <code>javax.servlet.Servlet</code> (4) I guess TomEE 9 does not provide built-in javax.servlet.Servlet lib."},{"owner":{"account_id":16720131,"reputation":21,"user_id":12085293,"display_name":"kafka services"},"score":0,"creation_date":1678681879,"post_id":75680662,"comment_id":133574388,"body_markdown":"thank for the info @life888888, let me try adding javax.servlet externally","body":"thank for the info @life888888, let me try adding javax.servlet externally"}],"answers":[{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678343104,"creation_date":1678343104,"answer_id":75681077,"question_id":75680662,"body_markdown":"Have you tried adding this dependency\r\n\r\nhttps://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDon&#39;t forget to run `mvn clean install` or whatever you like to pull your dependencies for your project","title":"TomEE upgrade from 8.0.13 to 9.0.0 spring application : Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally","body":"<p>Have you tried adding this dependency</p>\n<p><a href=\"https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api/2.3.3</a></p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Don't forget to run <code>mvn clean install</code> or whatever you like to pull your dependencies for your project</p>\n"},{"tags":[],"owner":{"account_id":5701984,"reputation":5646,"user_id":4506678,"accept_rate":55,"display_name":"rzo1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678739314,"creation_date":1678739314,"answer_id":75726623,"question_id":75680662,"body_markdown":"TomEE 9 supports the Jakarta namespace (EE 9.1) only and won&#39;t work with the Javax Namespace.\r\n\r\nYou need to stick with EE8 (= TomEe 8.0.x) or migrate your app and its dependencies to the Jakarta namespace. Adding javax dependencies to TomEE 9 won&#39;t work.","title":"TomEE upgrade from 8.0.13 to 9.0.0 spring application : Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally","body":"<p>TomEE 9 supports the Jakarta namespace (EE 9.1) only and won't work with the Javax Namespace.</p>\n<p>You need to stick with EE8 (= TomEe 8.0.x) or migrate your app and its dependencies to the Jakarta namespace. Adding javax dependencies to TomEE 9 won't work.</p>\n"},{"tags":[],"owner":{"account_id":20232026,"reputation":76,"user_id":14838319,"display_name":"Simon Hill"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683297714,"creation_date":1683297714,"answer_id":76183396,"question_id":75680662,"body_markdown":"Tomee 9 is based on Tomcat 10 and packages like *javax.servlet* have been renamed to *jakarta.servlet* breaking your application (and third party libraries) dependency to javax.servlet package. \r\n\r\nTo ease the migration,Tomcat provides a tool to convert your application and its dependencies for you.\r\n\r\nFrom Tomcat 10 migration guide:\r\n\r\nhttps://tomcat.apache.org/migration-10.html\r\n\r\n&gt; Tomcat can convert an existing web application from Java EE 8 to\r\n&gt; Jakarta EE 9 at deployment time using the Apache Tomcat migration tool\r\n&gt; for Jakarta EE. To make use of the feature, the web application should\r\n&gt; be placed in the Host legacyAppBase folder (by default named\r\n&gt; webapps-javaee) and they will be converted to an equivalent Jakarta EE\r\n&gt; web application in the Host appBase folder (by default named webapps).\r\n&gt; \r\n&gt; Alternately, the Apache Tomcat migration tool for Jakarta EE or any\r\n&gt; similar conversion tool can be used ahead of time to benefit from\r\n&gt; faster deployment time and more precise conversion configuration\r\n&gt; options.\r\n&gt; \r\n\r\nIn my case I&#39;m running the tool using the Ant task from my pom file:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n        &lt;!-- Yes it is a very old version --&gt;\r\n        &lt;version&gt;1.8&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/jakartaee-migration --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakartaee-migration&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.7&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;javax2jakarta&lt;/id&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;run&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;target&gt;\r\n                        &lt;taskdef name=&quot;javax2jakarta&quot;\r\n                            classname=&quot;org.apache.tomcat.jakartaee.MigrationTask&quot;\r\n                            classpath=&quot;jakartaee-migration-*-shaded.jar&quot; /&gt;\r\n                        &lt;javax2jakarta\r\n                            src=&quot;${project.build.directory}/${project.build.finalName}.war&quot;\r\n                            dest=&quot;${project.build.directory}/tomee9/${project.build.finalName}.war&quot;\r\n                            profile=&quot;tomcat&quot; /&gt;\r\n                    &lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\nIf you don&#39;t need two wars files (one compatible with Tomee 8 and and the other with Tomee 9) you can run the plugin in a phase before *package* directly on the build folder : `src=${project.build.directory}/${project.build.finalName}`\r\n\r\n**Note**: In my case it solved NoClassDefFoundError / ClassNotFoundException issue for javax.servlet.* classes but at the moment I&#39;m still facing issues regarding Spring 5 usage. ","title":"TomEE upgrade from 8.0.13 to 9.0.0 spring application : Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally","body":"<p>Tomee 9 is based on Tomcat 10 and packages like <em>javax.servlet</em> have been renamed to <em>jakarta.servlet</em> breaking your application (and third party libraries) dependency to javax.servlet package.</p>\n<p>To ease the migration,Tomcat provides a tool to convert your application and its dependencies for you.</p>\n<p>From Tomcat 10 migration guide:</p>\n<p><a href=\"https://tomcat.apache.org/migration-10.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/migration-10.html</a></p>\n<blockquote>\n<p>Tomcat can convert an existing web application from Java EE 8 to\nJakarta EE 9 at deployment time using the Apache Tomcat migration tool\nfor Jakarta EE. To make use of the feature, the web application should\nbe placed in the Host legacyAppBase folder (by default named\nwebapps-javaee) and they will be converted to an equivalent Jakarta EE\nweb application in the Host appBase folder (by default named webapps).</p>\n<p>Alternately, the Apache Tomcat migration tool for Jakarta EE or any\nsimilar conversion tool can be used ahead of time to benefit from\nfaster deployment time and more precise conversion configuration\noptions.</p>\n</blockquote>\n<p>In my case I'm running the tool using the Ant task from my pom file:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n    &lt;!-- Yes it is a very old version --&gt;\n    &lt;version&gt;1.8&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/jakartaee-migration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;jakartaee-migration&lt;/artifactId&gt;\n            &lt;version&gt;1.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;javax2jakarta&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;target&gt;\n                    &lt;taskdef name=&quot;javax2jakarta&quot;\n                        classname=&quot;org.apache.tomcat.jakartaee.MigrationTask&quot;\n                        classpath=&quot;jakartaee-migration-*-shaded.jar&quot; /&gt;\n                    &lt;javax2jakarta\n                        src=&quot;${project.build.directory}/${project.build.finalName}.war&quot;\n                        dest=&quot;${project.build.directory}/tomee9/${project.build.finalName}.war&quot;\n                        profile=&quot;tomcat&quot; /&gt;\n                &lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If you don't need two wars files (one compatible with Tomee 8 and and the other with Tomee 9) you can run the plugin in a phase before <em>package</em> directly on the build folder : <code>src=${project.build.directory}/${project.build.finalName}</code></p>\n<p><strong>Note</strong>: In my case it solved NoClassDefFoundError / ClassNotFoundException issue for javax.servlet.* classes but at the moment I'm still facing issues regarding Spring 5 usage.</p>\n"}],"owner":{"account_id":16720131,"reputation":21,"user_id":12085293,"display_name":"kafka services"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1698724480,"creation_date":1678338802,"question_id":75680662,"body_markdown":"We got a security incident to update TomEE from 8.0.13 to 9.0.0. After updating we couldn&#39;t able to start our application, we are using spring based application but our build process it something, we are building war file and this war file will be deployed to TomEE server(9.0.0). \r\n\r\n\r\nPlease find my pom.xml below, can anyone help me in resolving this?\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myapplication&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexjson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client change --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client upload file --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client upload file --&gt;\r\n\r\n\t\t&lt;!--new Changes for client change --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sa&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;edx_api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- START Flexlm license dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;EccpressoAll&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlmmgmt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlmutil&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- END Flexlm license dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- New changes event bus --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.17.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;MyApplication&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```TomEE logs:\r\n\r\n\r\n&gt;  Caused by: java.lang.NoClassDefFoundError:\r\n&gt; javax/servlet/jsp/tagext/TryCatchFinally\r\n&gt;                 at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n&gt;                 at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n&gt;                 at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n&gt;                 at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512)\r\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420)\r\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414)\r\n&gt;                 at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\r\n&gt;                 at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413)\r\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n&gt;                 at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n&gt;                 at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n&gt;                 at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n&gt;                 at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512)\r\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420)\r\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414)\r\n&gt;                 at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\r\n&gt;                 at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413)\r\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:573)\r\n&gt;                 at org.apache.openejb.core.TempClassLoader.loadClass(TempClassLoader.java:222)\r\n&gt;                 at org.apache.openejb.core.TempClassLoader.loadClass(TempClassLoader.java:83)\r\n&gt;                 at org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:2371)\r\n&gt;                 at org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:2019)```\r\n\r\n\r\nExpectation is it should run without any errors.\r\n\r\n\r\n\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.company&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myApplication&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;myApplication&lt;/name&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.8&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;31.1-jre&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexjson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client change --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client upload file --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--new Changes for client upload file --&gt;\r\n\r\n\t\t&lt;!--new Changes for client change --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20220924&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sa&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;edx_api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- START Flexlm license dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;EccpressoAll&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlmmgmt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.macrovision&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flexlmutil&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- END Flexlm license dependencies --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- New changes event bus --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.17.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;MyApplication&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"TomEE upgrade from 8.0.13 to 9.0.0 spring application : Caused by: java.lang.NoClassDefFoundError: javax/servlet/jsp/tagext/TryCatchFinally","body":"<p>We got a security incident to update TomEE from 8.0.13 to 9.0.0. After updating we couldn't able to start our application, we are using spring based application but our build process it something, we are building war file and this war file will be deployed to TomEE server(9.0.0).</p>\n<p>Please find my pom.xml below, can anyone help me in resolving this?</p>\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.5.6\n\n\ncom.company\nmyapplication\n0.0.1-SNAPSHOT\nmyapplication\nwar\n\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n\n\n\norg.apache.poi\npoi\n5.2.3\n\n\norg.apache.poi\npoi-ooxml\n5.2.3\n\n\ncom.opencsv\nopencsv\n5.7.1\n\n\njakarta.xml.bind\njakarta.xml.bind-api\n\n\ncom.sun.xml.bind\njaxb-impl\n2.3.8\nruntime\n\n\ncom.google.guava\nguava\n31.1-jre\n\n\nnet.sf.flexjson\nflexjson\n3.3\n\n\norg.apache.commons\ncommons-lang3\n\n\n\njavax.ws.rs\njavax.ws.rs-api\n2.1.1\n\n\norg.apache.httpcomponents\nhttpclient\n4.5.14\n\n\n\norg.apache.httpcomponents\nhttpmime\n4.5.14\n\n</p>\n<pre><code>    &lt;!--new Changes for client change --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20220924&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sa&lt;/groupId&gt;\n        &lt;artifactId&gt;edx_api&lt;/artifactId&gt;\n        &lt;version&gt;2.2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- START Flexlm license dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n        &lt;artifactId&gt;flexlm&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n        &lt;artifactId&gt;EccpressoAll&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n        &lt;artifactId&gt;flexlmmgmt&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n        &lt;artifactId&gt;flexlmutil&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- END Flexlm license dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;!-- New changes event bus --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\n        &lt;version&gt;5.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n        &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n        &lt;version&gt;5.17.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;MyApplication&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<pre><code>\n\n&gt;  Caused by: java.lang.NoClassDefFoundError:\n&gt; javax/servlet/jsp/tagext/TryCatchFinally\n&gt;                 at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n&gt;                 at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n&gt;                 at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n&gt;                 at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512)\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420)\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414)\n&gt;                 at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n&gt;                 at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413)\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n&gt;                 at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n&gt;                 at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n&gt;                 at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n&gt;                 at java.base/java.net.URLClassLoader.defineClass(URLClassLoader.java:512)\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:420)\n&gt;                 at java.base/java.net.URLClassLoader$1.run(URLClassLoader.java:414)\n&gt;                 at java.base/java.security.AccessController.doPrivileged(AccessController.java:691)\n&gt;                 at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:413)\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n&gt;                 at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:573)\n&gt;                 at org.apache.openejb.core.TempClassLoader.loadClass(TempClassLoader.java:222)\n&gt;                 at org.apache.openejb.core.TempClassLoader.loadClass(TempClassLoader.java:83)\n&gt;                 at org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:2371)\n&gt;                 at org.apache.openejb.config.AnnotationDeployer$ProcessAnnotatedBeans.deploy(AnnotationDeployer.java:2019)```\n\n\nExpectation is it should run without any errors.\n\n\n\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.company&lt;/groupId&gt;\n    &lt;artifactId&gt;myApplication&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;myApplication&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.3.8&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;31.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.flexjson&lt;/groupId&gt;\n            &lt;artifactId&gt;flexjson&lt;/artifactId&gt;\n            &lt;version&gt;3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--new Changes for client change --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        &lt;!--new Changes for client upload file --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n            &lt;version&gt;4.5.14&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        &lt;!--new Changes for client upload file --&gt;\n\n        &lt;!--new Changes for client change --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sa&lt;/groupId&gt;\n            &lt;artifactId&gt;edx_api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- START Flexlm license dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n            &lt;artifactId&gt;flexlm&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n            &lt;artifactId&gt;EccpressoAll&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n            &lt;artifactId&gt;flexlmmgmt&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.macrovision&lt;/groupId&gt;\n            &lt;artifactId&gt;flexlmutil&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- END Flexlm license dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- New changes event bus --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-core&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-broker&lt;/artifactId&gt;\n            &lt;version&gt;5.17.4&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;MyApplication&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","graphql-java"],"comments":[{"owner":{"account_id":10768211,"reputation":11,"user_id":7922450,"display_name":"Suraj"},"score":0,"creation_date":1499428890,"post_id":44970133,"comment_id":76915133,"body_markdown":"https://stackoverflow.com/questions/17833147/getting-error-no-qualifying-bean-of-type-javax-persistence-entitymanagerfactory","body":"<a href=\"https://stackoverflow.com/questions/17833147/getting-error-no-qualifying-bean-of-type-javax-persistence-entitymanagerfactory\" title=\"getting error no qualifying bean of type javax persistence entitymanagerfactory\">stackoverflow.com/questions/17833147/&hellip;</a>"},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":1,"creation_date":1499429015,"post_id":44970133,"comment_id":76915216,"body_markdown":"Make one of the EntityManagers primary","body":"Make one of the EntityManagers primary"},{"owner":{"account_id":37524,"reputation":7056,"user_id":107301,"accept_rate":96,"display_name":"Dark Star1"},"score":0,"creation_date":1536138515,"post_id":44970133,"comment_id":91312505,"body_markdown":"In my case I had forgotten to add the *spring-boot-starter-data-jpa* maven dependency. Thanks.","body":"In my case I had forgotten to add the <i>spring-boot-starter-data-jpa</i> maven dependency. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":3626296,"reputation":175,"user_id":3023836,"display_name":"MJPearsall"},"score":1,"creation_date":1499428847,"post_id":44970191,"comment_id":76915111,"body_markdown":"Added `@Qualifier(&quot;companyEntityManagerFactory&quot;)` and still get the same exception","body":"Added <code>@Qualifier(&quot;companyEntityManagerFactory&quot;)</code> and still get the same exception"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1499429149,"post_id":44970191,"comment_id":76915297,"body_markdown":"@MJPearsall You are sure taht it is exactly the same exception?","body":"@MJPearsall You are sure taht it is exactly the same exception?"},{"owner":{"account_id":357783,"reputation":5020,"user_id":698168,"display_name":"Julien Kronegg"},"score":0,"creation_date":1570187558,"post_id":44970191,"comment_id":102843670,"body_markdown":"As a qualifier value, I used the persistence-unit name (for me it was `default`).","body":"As a qualifier value, I used the persistence-unit name (for me it was <code>default</code>)."}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1499428592,"creation_date":1499428592,"answer_id":44970191,"question_id":44970133,"body_markdown":"You have defined two entitymanager. Now you have to tell spring which one should injected. For this you can use the  `@Qualifier` Annotation:\r\n\r\n    @PersistenceContext(unitName = &quot;company&quot;)\r\n    @Qualifier(&lt;Name of the entitimanager you want to use&gt;)\r\n    private EntityManager entityManager;\r\n\r\n","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>You have defined two entitymanager. Now you have to tell spring which one should injected. For this you can use the  <code>@Qualifier</code> Annotation:</p>\n\n<pre><code>@PersistenceContext(unitName = \"company\")\n@Qualifier(&lt;Name of the entitimanager you want to use&gt;)\nprivate EntityManager entityManager;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3626296,"reputation":175,"user_id":3023836,"display_name":"MJPearsall"},"score":0,"creation_date":1499433026,"post_id":44971475,"comment_id":76917876,"body_markdown":"Added to CompanyJpaConfig and still get the same exception","body":"Added to CompanyJpaConfig and still get the same exception"}],"tags":[],"owner":{"account_id":9104891,"reputation":934,"user_id":6775742,"accept_rate":60,"display_name":"T Anna"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499432539,"creation_date":1499432539,"answer_id":44971475,"question_id":44970133,"body_markdown":"Can you try giving the annotation @Primary over entityManagerFactory and transactionManager in one of the configuration files once?","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>Can you try giving the annotation @Primary over entityManagerFactory and transactionManager in one of the configuration files once?</p>\n"},{"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1499453550,"post_id":44974548,"comment_id":76930804,"body_markdown":"Do you need `@ComponentScan` as well?","body":"Do you need <code>@ComponentScan</code> as well?"},{"owner":{"account_id":3626296,"reputation":175,"user_id":3023836,"display_name":"MJPearsall"},"score":0,"creation_date":1499674326,"post_id":44974548,"comment_id":76987145,"body_markdown":"@RossiRobinsion no you don&#39;t, I&#39;ve updated the answer","body":"@RossiRobinsion no you don&#39;t, I&#39;ve updated the answer"}],"tags":[],"owner":{"account_id":3626296,"reputation":175,"user_id":3023836,"display_name":"MJPearsall"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1499674251,"creation_date":1499441247,"answer_id":44974548,"question_id":44970133,"body_markdown":"Found a solution by marking the class I was injecting with the EntityManager with @Component and then auto-wiring that class into the class that uses the GraphQLExecutor:\r\n\r\n**New class marked @Component**\r\n\r\n    package p4;\r\n    \r\n    import org.crygier.graphql.GraphQLExecutor;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    @Component\r\n    public class CompanyGraphQLComponent {\r\n    \r\n      @PersistenceContext(unitName = &quot;company&quot;)\r\n      private EntityManager entityManager;\r\n    \r\n      public GraphQLExecutor graphQLExecutor() {\r\n        return new GraphQLExecutor(entityManager);\r\n      }\r\n    }\r\n\r\n**Class auto-wiring CompanyGraphQLComponent**\r\n\r\n    package p4.rest.controllers;\r\n    \r\n    import core_services.persistence.CompanyContextHolder;\r\n    import core_services.records.system.Company;\r\n    import graphql.ExecutionResult;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import p4.CompanyGraphQLComponent;\r\n    import p4.records.GraphQLQuery;\r\n    \r\n    @RestController\r\n    public class GraphQLController {\r\n      @Autowired\r\n      private CompanyGraphQLComponent companyGraphQLComponent;\r\n    \r\n      @RequestMapping(value = &quot;/graphql&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n      public ExecutionResult postJson(@RequestBody GraphQLQuery graphQLQuery) {\r\n        return companyGraphQLComponent.graphQLExecutor().execute(graphQLQuery.getQuery(), graphQLQuery.getVariables());\r\n      }\r\n    }","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>Found a solution by marking the class I was injecting with the EntityManager with @Component and then auto-wiring that class into the class that uses the GraphQLExecutor:</p>\n\n<p><strong>New class marked @Component</strong></p>\n\n<pre><code>package p4;\n\nimport org.crygier.graphql.GraphQLExecutor;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.stereotype.Component;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\n@Component\npublic class CompanyGraphQLComponent {\n\n  @PersistenceContext(unitName = \"company\")\n  private EntityManager entityManager;\n\n  public GraphQLExecutor graphQLExecutor() {\n    return new GraphQLExecutor(entityManager);\n  }\n}\n</code></pre>\n\n<p><strong>Class auto-wiring CompanyGraphQLComponent</strong></p>\n\n<pre><code>package p4.rest.controllers;\n\nimport core_services.persistence.CompanyContextHolder;\nimport core_services.records.system.Company;\nimport graphql.ExecutionResult;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport p4.CompanyGraphQLComponent;\nimport p4.records.GraphQLQuery;\n\n@RestController\npublic class GraphQLController {\n  @Autowired\n  private CompanyGraphQLComponent companyGraphQLComponent;\n\n  @RequestMapping(value = \"/graphql\", consumes = MediaType.APPLICATION_JSON_VALUE)\n  public ExecutionResult postJson(@RequestBody GraphQLQuery graphQLQuery) {\n    return companyGraphQLComponent.graphQLExecutor().execute(graphQLQuery.getQuery(), graphQLQuery.getVariables());\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":298252,"reputation":37,"user_id":604173,"accept_rate":14,"display_name":"Gayathri Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568977990,"creation_date":1568977990,"answer_id":58027311,"question_id":44970133,"body_markdown":"I have two datasources, marking one as primary solved the issue","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>I have two datasources, marking one as primary solved the issue</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698734578,"post_id":77393087,"comment_id":136439434,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77393087/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17734355,"reputation":11,"user_id":12876096,"display_name":"Rookie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698724323,"creation_date":1698724323,"answer_id":77393087,"question_id":44970133,"body_markdown":"SystemJpaConfig.java\r\n\r\n    @Bean\r\n    public EntityManager entityManagerSystem(EntityManagerFactoryBuilder builder) {\r\n        return systemEntityManagerFactory().getObject().createEntityManager();\r\n    }\r\n\r\nCompanyJpaConfig.java\r\n\r\n    @Bean\r\n    @Primary\r\n    public EntityManager entityManagerSystem(EntityManagerFactoryBuilder builder) {\r\n        return companyEntityManagerFactory().getObject().createEntityManager();\r\n    }","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>SystemJpaConfig.java</p>\n<pre><code>@Bean\npublic EntityManager entityManagerSystem(EntityManagerFactoryBuilder builder) {\n    return systemEntityManagerFactory().getObject().createEntityManager();\n}\n</code></pre>\n<p>CompanyJpaConfig.java</p>\n<pre><code>@Bean\n@Primary\npublic EntityManager entityManagerSystem(EntityManagerFactoryBuilder builder) {\n    return companyEntityManagerFactory().getObject().createEntityManager();\n}\n</code></pre>\n"}],"owner":{"account_id":3626296,"reputation":175,"user_id":3023836,"display_name":"MJPearsall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22300,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":44974548,"answer_count":5,"score":10,"last_activity_date":1698724323,"creation_date":1499428380,"question_id":44970133,"body_markdown":"I have two entity manager configurations for two separate databases but when I try to auto-wire an entity manager in to configure my GraphQLExecutor bean I get an exception stating that there are two beans that match the criteria even though I&#39;ve specified a unit name in the PersistenceContext.\r\n\r\n**Exception**\r\n\r\n&gt; org.springframework.beans.factory.BeanCreationException: Error\r\n&gt; creating bean with name &#39;graphQLExecutor&#39;: Injection of resource\r\n&gt; dependencies failed; nested exception is\r\n&gt; org.springframework.beans.factory.NoUniqueBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;javax.persistence.EntityManager&#39; available:\r\n&gt; expected single matching bean but found 2:\r\n&gt; org.springframework.orm.jpa.SharedEntityManagerCreator#0,org.springframework.orm.jpa.SharedEntityManagerCreator#1\r\n&gt; at\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:321)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\r\n&gt; org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\r\n&gt; ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n&gt; [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n&gt; [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n&gt; [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\r\n&gt; [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\r\n&gt; [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\r\n&gt; com.ogl.JpaDemoApplication.main(JpaDemoApplication.java:15)\r\n&gt; [classes/:na] Caused by:\r\n&gt; org.springframework.beans.factory.NoUniqueBeanDefinitionException: No\r\n&gt; qualifying bean of type &#39;javax.persistence.EntityManager&#39; available:\r\n&gt; expected single matching bean but found 2:\r\n&gt; org.springframework.orm.jpa.SharedEntityManagerCreator#0,org.springframework.orm.jpa.SharedEntityManagerCreator#1\r\n&gt; \tat\r\n&gt; org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:173)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:518)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:496)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:627)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:169)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n&gt; ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] \tat\r\n&gt; org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:318)\r\n&gt; ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] \t... 17 common\r\n&gt; frames omitted\r\n\r\n**Entity Manager 1**\r\n\r\n    package com.ogl;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.ogl.system&quot;, entityManagerFactoryRef = &quot;companyEntityManagerFactory&quot;, transactionManagerRef = &quot;companyTransactionManager&quot;)\r\n    public class SystemJpaConfig {\r\n    \r\n      private final Environment environment;\r\n    \r\n      @Autowired\r\n      public SystemJpaConfig(Environment environment) {\r\n        this.environment = environment;\r\n      }\r\n    \r\n      @Bean(&quot;systemEntityManagerFactory&quot;)\r\n      public LocalContainerEntityManagerFactoryBean systemEntityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.ogl.system&quot;);\r\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;system&quot;);\r\n        entityManagerFactoryBean.setDataSource(systemDataSource());\r\n    \r\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n        adapter.setDatabase(Database.POSTGRESQL);\r\n        adapter.setShowSql(true);\r\n        adapter.setGenerateDdl(false);\r\n    \r\n        entityManagerFactoryBean.setJpaVendorAdapter(adapter);\r\n    \r\n        return entityManagerFactoryBean;\r\n      }\r\n    \r\n      @Bean\r\n      DataSource systemDataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(environment.getProperty(&quot;p4.datasource.driver&quot;));\r\n        dataSource.setUrl(environment.getProperty(&quot;p4.system.url&quot;));\r\n        dataSource.setUsername(environment.getProperty(&quot;p4.system.user&quot;));\r\n        dataSource.setPassword(environment.getProperty(&quot;p4.system.password&quot;));\r\n    \r\n        return dataSource;\r\n      }\r\n    \r\n      @Bean\r\n      public PlatformTransactionManager systemTransactionManager() {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory((systemEntityManagerFactory().getObject()));\r\n    \r\n        return transactionManager;\r\n      }\r\n    }\r\n\r\n\r\n**Entity Manager 2**\r\n\r\n    package com.ogl;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.orm.jpa.JpaTransactionManager;\r\n    import org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\r\n    import org.springframework.orm.jpa.vendor.Database;\r\n    import org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    \r\n    import javax.sql.DataSource;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = &quot;com.ogl.company&quot;, entityManagerFactoryRef = &quot;companyEntityManagerFactory&quot;, transactionManagerRef = &quot;companyTransactionManager&quot;)\r\n    public class CompanyJpaConfig {\r\n    \r\n      private final Environment environment;\r\n    \r\n      @Autowired\r\n      public CompanyJpaConfig(Environment environment) {\r\n        this.environment = environment;\r\n      }\r\n    \r\n      @Primary\r\n      @Bean(&quot;companyEntityManagerFactory&quot;)\r\n      public LocalContainerEntityManagerFactoryBean companyEntityManagerFactory() {\r\n        LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\r\n        entityManagerFactoryBean.setPackagesToScan(&quot;com.ogl.company&quot;);\r\n        entityManagerFactoryBean.setPersistenceUnitName(&quot;company&quot;);\r\n        entityManagerFactoryBean.setDataSource(companyDataSource());\r\n    \r\n        HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\r\n        adapter.setDatabase(Database.POSTGRESQL);\r\n        adapter.setShowSql(true);\r\n        adapter.setGenerateDdl(false);\r\n    \r\n        entityManagerFactoryBean.setJpaVendorAdapter(adapter);\r\n    \r\n        return entityManagerFactoryBean;\r\n      }\r\n    \r\n      @Bean\r\n      DataSource companyDataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(environment.getProperty(&quot;p4.datasource.driver&quot;));\r\n        dataSource.setUrl(environment.getProperty(&quot;p4.company.url&quot;));\r\n        dataSource.setUsername(environment.getProperty(&quot;p4.company.user&quot;));\r\n        dataSource.setPassword(environment.getProperty(&quot;p4.company.password&quot;));\r\n    \r\n        return dataSource;\r\n      }\r\n    \r\n      @Primary\r\n      @Bean\r\n      public PlatformTransactionManager companyTransactionManager() {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory((companyEntityManagerFactory().getObject()));\r\n    \r\n        return transactionManager;\r\n      }\r\n    }\r\n\r\n**Injection**\r\n\r\n    package com.ogl;\r\n    \r\n    import org.crygier.graphql.GraphQLExecutor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n    \r\n    @Configuration\r\n    @ComponentScan\r\n    public class GraphQLJpaConfig {\r\n    \r\n      @PersistenceContext(unitName = &quot;company&quot;)\r\n      private EntityManager entityManager;\r\n    \r\n      @Bean\r\n      public GraphQLExecutor graphQLExecutor() {\r\n        return new GraphQLExecutor(entityManager);\r\n      }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.ogl&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jpa-demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;jpa-demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for JPA&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.crygier&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;graphql-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;","title":"No qualifying bean of type &#39;javax.persistence.EntityManager&#39; available: expected single matching bean but found 2","body":"<p>I have two entity manager configurations for two separate databases but when I try to auto-wire an entity manager in to configure my GraphQLExecutor bean I get an exception stating that there are two beans that match the criteria even though I've specified a unit name in the PersistenceContext.</p>\n\n<p><strong>Exception</strong></p>\n\n<blockquote>\n  <p>org.springframework.beans.factory.BeanCreationException: Error\n  creating bean with name 'graphQLExecutor': Injection of resource\n  dependencies failed; nested exception is\n  org.springframework.beans.factory.NoUniqueBeanDefinitionException: No\n  qualifying bean of type 'javax.persistence.EntityManager' available:\n  expected single matching bean but found 2:\n  org.springframework.orm.jpa.SharedEntityManagerCreator#0,org.springframework.orm.jpa.SharedEntityManagerCreator#1\n  at\n  org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:321)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE] at\n  org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)\n  ~[spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n  [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n  [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n  [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1118)\n  [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1107)\n  [spring-boot-1.5.4.RELEASE.jar:1.5.4.RELEASE] at\n  com.ogl.JpaDemoApplication.main(JpaDemoApplication.java:15)\n  [classes/:na] Caused by:\n  org.springframework.beans.factory.NoUniqueBeanDefinitionException: No\n  qualifying bean of type 'javax.persistence.EntityManager' available:\n  expected single matching bean but found 2:\n  org.springframework.orm.jpa.SharedEntityManagerCreator#0,org.springframework.orm.jpa.SharedEntityManagerCreator#1\n    at\n  org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:173)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]   at\n  org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]   at\n  org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]   at\n  org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:518)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]     at\n  org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:496)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]     at\n  org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:627)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]     at\n  org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:169)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]   at\n  org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n  ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]   at\n  org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessPropertyValues(CommonAnnotationBeanPostProcessor.java:318)\n  ~[spring-context-4.3.9.RELEASE.jar:4.3.9.RELEASE]     ... 17 common\n  frames omitted</p>\n</blockquote>\n\n<p><strong>Entity Manager 1</strong></p>\n\n<pre><code>package com.ogl;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableJpaRepositories(basePackages = \"com.ogl.system\", entityManagerFactoryRef = \"companyEntityManagerFactory\", transactionManagerRef = \"companyTransactionManager\")\npublic class SystemJpaConfig {\n\n  private final Environment environment;\n\n  @Autowired\n  public SystemJpaConfig(Environment environment) {\n    this.environment = environment;\n  }\n\n  @Bean(\"systemEntityManagerFactory\")\n  public LocalContainerEntityManagerFactoryBean systemEntityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n    entityManagerFactoryBean.setPackagesToScan(\"com.ogl.system\");\n    entityManagerFactoryBean.setPersistenceUnitName(\"system\");\n    entityManagerFactoryBean.setDataSource(systemDataSource());\n\n    HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n    adapter.setDatabase(Database.POSTGRESQL);\n    adapter.setShowSql(true);\n    adapter.setGenerateDdl(false);\n\n    entityManagerFactoryBean.setJpaVendorAdapter(adapter);\n\n    return entityManagerFactoryBean;\n  }\n\n  @Bean\n  DataSource systemDataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(environment.getProperty(\"p4.datasource.driver\"));\n    dataSource.setUrl(environment.getProperty(\"p4.system.url\"));\n    dataSource.setUsername(environment.getProperty(\"p4.system.user\"));\n    dataSource.setPassword(environment.getProperty(\"p4.system.password\"));\n\n    return dataSource;\n  }\n\n  @Bean\n  public PlatformTransactionManager systemTransactionManager() {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory((systemEntityManagerFactory().getObject()));\n\n    return transactionManager;\n  }\n}\n</code></pre>\n\n<p><strong>Entity Manager 2</strong></p>\n\n<pre><code>package com.ogl;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.orm.jpa.JpaTransactionManager;\nimport org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean;\nimport org.springframework.orm.jpa.vendor.Database;\nimport org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter;\nimport org.springframework.transaction.PlatformTransactionManager;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableJpaRepositories(basePackages = \"com.ogl.company\", entityManagerFactoryRef = \"companyEntityManagerFactory\", transactionManagerRef = \"companyTransactionManager\")\npublic class CompanyJpaConfig {\n\n  private final Environment environment;\n\n  @Autowired\n  public CompanyJpaConfig(Environment environment) {\n    this.environment = environment;\n  }\n\n  @Primary\n  @Bean(\"companyEntityManagerFactory\")\n  public LocalContainerEntityManagerFactoryBean companyEntityManagerFactory() {\n    LocalContainerEntityManagerFactoryBean entityManagerFactoryBean = new LocalContainerEntityManagerFactoryBean();\n    entityManagerFactoryBean.setPackagesToScan(\"com.ogl.company\");\n    entityManagerFactoryBean.setPersistenceUnitName(\"company\");\n    entityManagerFactoryBean.setDataSource(companyDataSource());\n\n    HibernateJpaVendorAdapter adapter = new HibernateJpaVendorAdapter();\n    adapter.setDatabase(Database.POSTGRESQL);\n    adapter.setShowSql(true);\n    adapter.setGenerateDdl(false);\n\n    entityManagerFactoryBean.setJpaVendorAdapter(adapter);\n\n    return entityManagerFactoryBean;\n  }\n\n  @Bean\n  DataSource companyDataSource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(environment.getProperty(\"p4.datasource.driver\"));\n    dataSource.setUrl(environment.getProperty(\"p4.company.url\"));\n    dataSource.setUsername(environment.getProperty(\"p4.company.user\"));\n    dataSource.setPassword(environment.getProperty(\"p4.company.password\"));\n\n    return dataSource;\n  }\n\n  @Primary\n  @Bean\n  public PlatformTransactionManager companyTransactionManager() {\n    JpaTransactionManager transactionManager = new JpaTransactionManager();\n    transactionManager.setEntityManagerFactory((companyEntityManagerFactory().getObject()));\n\n    return transactionManager;\n  }\n}\n</code></pre>\n\n<p><strong>Injection</strong></p>\n\n<pre><code>package com.ogl;\n\nimport org.crygier.graphql.GraphQLExecutor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n\n@Configuration\n@ComponentScan\npublic class GraphQLJpaConfig {\n\n  @PersistenceContext(unitName = \"company\")\n  private EntityManager entityManager;\n\n  @Bean\n  public GraphQLExecutor graphQLExecutor() {\n    return new GraphQLExecutor(entityManager);\n  }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.ogl&lt;/groupId&gt;\n    &lt;artifactId&gt;jpa-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;jpa-demo&lt;/name&gt;\n    &lt;description&gt;Demo project for JPA&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.graphql-java&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-java&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.crygier&lt;/groupId&gt;\n            &lt;artifactId&gt;graphql-jpa&lt;/artifactId&gt;\n            &lt;version&gt;0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","collections"],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1698719127,"post_id":77392790,"comment_id":136438041,"body_markdown":"Comparators must return 0 for equivalent elements.","body":"Comparators must return 0 for equivalent elements."},{"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"score":0,"creation_date":1698725260,"post_id":77392790,"comment_id":136438549,"body_markdown":"yeah, I just forgot it. I updated my answer. Thanks","body":"yeah, I just forgot it. I updated my answer. Thanks"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698842215,"post_id":77392790,"comment_id":136455605,"body_markdown":"There is no need for all those brackets, `Collections.sort(numsIndexed, (a, b) -&gt; a[0] &lt; b[0]? -1: a[0] == b[0]? 0: 1);` will do.","body":"There is no need for all those brackets, <code>Collections.sort(numsIndexed, (a, b) -&gt; a[0] &lt; b[0]? -1: a[0] == b[0]? 0: 1);</code> will do."}],"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698719885,"creation_date":1698718264,"answer_id":77392790,"question_id":77392733,"body_markdown":"int value range from -2147483648 to 2147483647 but your sort operation return an outbound values.\r\nIf your values still inside the range you can try this\r\n```\r\nCollections.sort(numsIndexed, (a,b) -&gt; (a[0] &lt; b[0]) ? -1 : ((a[0] == b[0]) ? 0 : 1));\r\n```\r\nIn sort `Collections.sort(numsIndexed, (a,b) -&gt; Integer.compare(a[0], b[0]))`\r\nOr using `long[]` instead of `int[]`","title":"Collections.sort seems to generate incorrect results","body":"<p>int value range from -2147483648 to 2147483647 but your sort operation return an outbound values.\nIf your values still inside the range you can try this</p>\n<pre><code>Collections.sort(numsIndexed, (a,b) -&gt; (a[0] &lt; b[0]) ? -1 : ((a[0] == b[0]) ? 0 : 1));\n</code></pre>\n<p>In sort <code>Collections.sort(numsIndexed, (a,b) -&gt; Integer.compare(a[0], b[0]))</code>\nOr using <code>long[]</code> instead of <code>int[]</code></p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1698718287,"creation_date":1698718287,"answer_id":77392791,"question_id":77392733,"body_markdown":"`(a, b) -&gt; a[0] - b[0]` is not a valid comparator.  Nor is `(a, b) -&gt; a - b`.\r\n\r\nBoth fail to handle numerical overflow correctly. Use Integer.compare -- or, better, use `Comparator.comparingInt(a -&gt; a[0])`.\r\n","title":"Collections.sort seems to generate incorrect results","body":"<p><code>(a, b) -&gt; a[0] - b[0]</code> is not a valid comparator.  Nor is <code>(a, b) -&gt; a - b</code>.</p>\n<p>Both fail to handle numerical overflow correctly. Use Integer.compare -- or, better, use <code>Comparator.comparingInt(a -&gt; a[0])</code>.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1698841953,"post_id":77392828,"comment_id":136455574,"body_markdown":"Why these inconsistent two print statements? Why not a single `System.out.printf(&quot;%d - %d = %d%n&quot;, a[j], a[k], a[j]-a[k]);`?","body":"Why these inconsistent two print statements? Why not a single <code>System.out.printf(&quot;%d - %d = %d%n&quot;, a[j], a[k], a[j]-a[k]);</code>?"}],"tags":[],"owner":{"account_id":7089726,"reputation":21,"user_id":12539834,"display_name":"kote"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1698722665,"creation_date":1698718847,"answer_id":77392828,"question_id":77392733,"body_markdown":"Try running the following:\r\n```\r\n    public static void main(String[] args)\r\n    {\r\n        int[] a = new int[] {306474574, 642543743, -752837577, 1030910205, 353252387, -1028696876, 2145575295, 2142057380, 66066294, -1795085364};\r\n        for (int k=1; k&lt;a.length; ++k)\r\n        {\r\n            for (int j=0; j&lt;k; ++j)\r\n            {\r\n                System.out.format(&quot;%d + %d = &quot;, a[j], a[k]);\r\n                System.out.println(a[j]+a[k]);\r\n                System.out.format(&quot;%d - %d = &quot;, a[j], a[k]);\r\n                System.out.println(a[j]-a[k]);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nYou should notice some strange results. For example, take a look at `2142057380 - -1795085364`. Your lambda function uses subtraction and will, at some point in time, do this calculation.\r\n\r\nTherefore, it seems like your simple subtraction will not cut it. If you are keen on writing your own comparator, you can always add code to handle overflow and underflow.\r\n\r\nThe following lambda function will actually do exactly what you want without any subtraction and hence without possibility of overflow:\r\n```\r\n(a,b) -&gt; ( (a[0] == b[0]) ? 0 : ( (a[0] &gt; b[0]) ? 1 : -1 ) )\r\n```\r\nThis is as fast as it gets if you stay within the realm of compiling to Java bytecode.","title":"Collections.sort seems to generate incorrect results","body":"<p>Try running the following:</p>\n<pre><code>    public static void main(String[] args)\n    {\n        int[] a = new int[] {306474574, 642543743, -752837577, 1030910205, 353252387, -1028696876, 2145575295, 2142057380, 66066294, -1795085364};\n        for (int k=1; k&lt;a.length; ++k)\n        {\n            for (int j=0; j&lt;k; ++j)\n            {\n                System.out.format(&quot;%d + %d = &quot;, a[j], a[k]);\n                System.out.println(a[j]+a[k]);\n                System.out.format(&quot;%d - %d = &quot;, a[j], a[k]);\n                System.out.println(a[j]-a[k]);\n            }\n        }\n    }\n</code></pre>\n<p>You should notice some strange results. For example, take a look at <code>2142057380 - -1795085364</code>. Your lambda function uses subtraction and will, at some point in time, do this calculation.</p>\n<p>Therefore, it seems like your simple subtraction will not cut it. If you are keen on writing your own comparator, you can always add code to handle overflow and underflow.</p>\n<p>The following lambda function will actually do exactly what you want without any subtraction and hence without possibility of overflow:</p>\n<pre><code>(a,b) -&gt; ( (a[0] == b[0]) ? 0 : ( (a[0] &gt; b[0]) ? 1 : -1 ) )\n</code></pre>\n<p>This is as fast as it gets if you stay within the realm of compiling to Java bytecode.</p>\n"}],"owner":{"account_id":7298037,"reputation":500,"user_id":10660307,"display_name":" RichardFeynman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77392791,"answer_count":3,"score":0,"last_activity_date":1698722665,"creation_date":1698717280,"question_id":77392733,"body_markdown":"The following code work except for specific inputs. \r\n\r\nFor instance the following input, -1795085364 stay as the last value, despite being the smallest. I am using java 13.  \r\n\r\n`{306474574, 642543743, -752837577, 1030910205, 353252387, -1028696876, 2145575295, 2142057380, 66066294, -1795085364};`\r\n\r\n```\r\n\tprivate static void sortAndFilter(int[] nums) {\r\n\t\t List&lt;int[]&gt; numsIndexed = new ArrayList&lt;int[]&gt;(nums.length);\r\n        for( int i = 0 ; i&lt; nums.length; i++){\r\n            int[] valAndIndex ={ nums[i],i };\r\n        \tnumsIndexed.add( valAndIndex );\r\n        }\r\n        Collections.sort(numsIndexed, (a,b) -&gt; a[0] - b[0]);\r\n\r\n        //rest of code here \r\n\t}\r\n```","title":"Collections.sort seems to generate incorrect results","body":"<p>The following code work except for specific inputs.</p>\n<p>For instance the following input, -1795085364 stay as the last value, despite being the smallest. I am using java 13.</p>\n<p><code>{306474574, 642543743, -752837577, 1030910205, 353252387, -1028696876, 2145575295, 2142057380, 66066294, -1795085364};</code></p>\n<pre><code>    private static void sortAndFilter(int[] nums) {\n         List&lt;int[]&gt; numsIndexed = new ArrayList&lt;int[]&gt;(nums.length);\n        for( int i = 0 ; i&lt; nums.length; i++){\n            int[] valAndIndex ={ nums[i],i };\n            numsIndexed.add( valAndIndex );\n        }\n        Collections.sort(numsIndexed, (a,b) -&gt; a[0] - b[0]);\n\n        //rest of code here \n    }\n</code></pre>\n"},{"tags":["java","oop","static","this"],"comments":[{"owner":{"account_id":285738,"reputation":2856,"user_id":584585,"display_name":"Mark McKenna"},"score":0,"creation_date":1486756653,"post_id":11664522,"comment_id":71500257,"body_markdown":"I realize this is an ancient question but I want to +1 it as a pretty valid point.  Although for fields the answer is simple (leave the qualifier out), for static inner classes it becomes relevant, and is also relevant when what you want is a reference to the runtime instance of the class itself.  For example I can type &#39;MyClass.class&#39; to get the singleton Class&lt;MyClass&gt;, but just &#39;class&#39; by itself is invalid and there&#39;s no similar workaround.  This leads to the class name potentially being repeated through the unit which is not very DRY.","body":"I realize this is an ancient question but I want to +1 it as a pretty valid point.  Although for fields the answer is simple (leave the qualifier out), for static inner classes it becomes relevant, and is also relevant when what you want is a reference to the runtime instance of the class itself.  For example I can type &#39;MyClass.class&#39; to get the singleton Class&lt;MyClass&gt;, but just &#39;class&#39; by itself is invalid and there&#39;s no similar workaround.  This leads to the class name potentially being repeated through the unit which is not very DRY."}],"answers":[{"comments":[{"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"score":0,"creation_date":1343288632,"post_id":11664571,"comment_id":15459219,"body_markdown":"would you care to explain what&#39;s the problem of my answer, or of @Peter&#39;s answer?","body":"would you care to explain what&#39;s the problem of my answer, or of @Peter&#39;s answer?"},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":0,"creation_date":1343292136,"post_id":11664571,"comment_id":15460548,"body_markdown":"There is nothing wrong with your answer. Upvoted it to 0 again. (which leaves you with +8 rep overall because of the crappy voting-rep system ^^)","body":"There is nothing wrong with your answer. Upvoted it to 0 again. (which leaves you with +8 rep overall because of the crappy voting-rep system ^^)"}],"tags":[],"owner":{"account_id":1474146,"reputation":7887,"user_id":1384984,"accept_rate":100,"display_name":"tibtof"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343288371,"creation_date":1343288371,"answer_id":11664571,"question_id":11664522,"body_markdown":"To make your code work write it like this:\r\n\r\n    class Sub {\r\n        static int y;\r\n        public static void foo() {\r\n             Sub.y = 10;\r\n        }\r\n    }\r\n\r\nYou can set static fields in static methods, but you don&#39;t have access to `this` in static method because `this` represents the current instance of the object, and in a static method you have no instance.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>To make your code work write it like this:</p>\n\n<pre><code>class Sub {\n    static int y;\n    public static void foo() {\n         Sub.y = 10;\n    }\n}\n</code></pre>\n\n<p>You can set static fields in static methods, but you don't have access to <code>this</code> in static method because <code>this</code> represents the current instance of the object, and in a static method you have no instance.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1343288431,"creation_date":1343288431,"answer_id":11664583,"question_id":11664522,"body_markdown":"This means &quot;this&quot; object but there isn&#39;t one.  In your case you can use the class name as @tibtof suggests.\r\n\r\n","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>This means \"this\" object but there isn't one.  In your case you can use the class name as @tibtof suggests.</p>\n"},{"tags":[],"owner":{"account_id":1296354,"reputation":1669,"user_id":1247302,"accept_rate":94,"display_name":"mrswadge"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450262665,"creation_date":1343288454,"answer_id":11664590,"question_id":11664522,"body_markdown":"`this` is referring to this instance of the object `Sub`. As the method is `static`, there is not an instance of `Sub`.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p><code>this</code> is referring to this instance of the object <code>Sub</code>. As the method is <code>static</code>, there is not an instance of <code>Sub</code>.</p>\n"},{"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":5,"creation_date":1450363377,"post_id":11664603,"comment_id":56415872,"body_markdown":"The downvoters may have thought that this doesn&#39;t really answer the question, because you basically repeated what the OP has already known and only provided a verbose workaround. If the class is named `ThisClassHasAQuiteLongName`, wouldn&#39;t it be nicer to refer the class as `this` in static methods?","body":"The downvoters may have thought that this doesn&#39;t really answer the question, because you basically repeated what the OP has already known and only provided a verbose workaround. If the class is named <code>ThisClassHasAQuiteLongName</code>, wouldn&#39;t it be nicer to refer the class as <code>this</code> in static methods?"},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":0,"creation_date":1450430487,"post_id":11664603,"comment_id":56445997,"body_markdown":"That&#39;s not really true though, I have provide an explanation for why `this` can&#39;t be used in static methods (because there is no instance of the class to be named `this`) and showed two ways of accessing the fields. Being able to use `this` in a static context as a replacement of the class name would be missleading and inconsistent (at least imho). Thanks for your feedback though, that might as well have been the reason for the downvotes.","body":"That&#39;s not really true though, I have provide an explanation for why <code>this</code> can&#39;t be used in static methods (because there is no instance of the class to be named <code>this</code>) and showed two ways of accessing the fields. Being able to use <code>this</code> in a static context as a replacement of the class name would be missleading and inconsistent (at least imho). Thanks for your feedback though, that might as well have been the reason for the downvotes."},{"owner":{"account_id":192446,"reputation":1942,"user_id":433596,"accept_rate":91,"display_name":"Diogenes Creosote"},"score":4,"creation_date":1487219392,"post_id":11664603,"comment_id":71686811,"body_markdown":"The question, as I understood it and which I also want to know, is why Java does not overload the meaning of `this` in a static context to mean the class, So instead of `Sub.y` one could type `this.y`. It would seem like an obvious design choice, because it eliminates the need to explicitly mention the class name, which could change. In general, when someone asks &quot;why is x defined to be y but not also z in a different context&quot; it is not satisfactory, and indeed kinda toxic and condescending to reply &quot;because it&#39;s defined to be y.&quot; It made me feel dumb for wondering the same, as I still am.","body":"The question, as I understood it and which I also want to know, is why Java does not overload the meaning of <code>this</code> in a static context to mean the class, So instead of <code>Sub.y</code> one could type <code>this.y</code>. It would seem like an obvious design choice, because it eliminates the need to explicitly mention the class name, which could change. In general, when someone asks &quot;why is x defined to be y but not also z in a different context&quot; it is not satisfactory, and indeed kinda toxic and condescending to reply &quot;because it&#39;s defined to be y.&quot; It made me feel dumb for wondering the same, as I still am."},{"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"score":0,"creation_date":1487582098,"post_id":11664603,"comment_id":71833026,"body_markdown":"@AndrewCone thanks for the feedback. You are making a very good point (on why I got downvoted). And on the topic: I think the reason is Java&#39;s focus on having (or at least trying to have) a clean object oriented structure. When you overload a keyword, readability suffers. With the current definition, when you read `this.y`, you *know*, it&#39;s a local variable and not a static variable. So it is cleaner.","body":"@AndrewCone thanks for the feedback. You are making a very good point (on why I got downvoted). And on the topic: I think the reason is Java&#39;s focus on having (or at least trying to have) a clean object oriented structure. When you overload a keyword, readability suffers. With the current definition, when you read <code>this.y</code>, you <i>know</i>, it&#39;s a local variable and not a static variable. So it is cleaner."}],"tags":[],"owner":{"account_id":1156609,"reputation":9392,"user_id":1137043,"accept_rate":100,"display_name":"brimborium"},"comment_count":4,"down_vote_count":3,"up_vote_count":102,"is_accepted":true,"score":99,"last_activity_date":1407137045,"creation_date":1343288500,"answer_id":11664603,"question_id":11664522,"body_markdown":"Because `this` refers to the object instance. There is no object instance in a call of a static method. But of course you can access your static field (only the static ones!). Just use\r\n\r\n    class Sub {\r\n        static int y;\r\n        public static void foo() {\r\n             y = 10;\r\n        }\r\n    }\r\n\r\nIf you want to make sure you get the static field `y` and not some local variable with the same name, use the class name to specify:\r\n\r\n    class Sub {\r\n        static int y;\r\n        public static void foo(int y) {\r\n             Sub.y = y;\r\n        }\r\n    }","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>Because <code>this</code> refers to the object instance. There is no object instance in a call of a static method. But of course you can access your static field (only the static ones!). Just use</p>\n\n<pre><code>class Sub {\n    static int y;\n    public static void foo() {\n         y = 10;\n    }\n}\n</code></pre>\n\n<p>If you want to make sure you get the static field <code>y</code> and not some local variable with the same name, use the class name to specify:</p>\n\n<pre><code>class Sub {\n    static int y;\n    public static void foo(int y) {\n         Sub.y = y;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343290231,"creation_date":1343290231,"answer_id":11665007,"question_id":11664522,"body_markdown":"Keyword &quot;this&quot; refers to the object that you are operation with. In your case this inside any non-static methods or constructor (if you have one and and if you use &quot;this&quot; inside that), then &quot;this&quot; refers to that  particular instance of the class Sub.So it is applicable only when the object is created. But anything in the static context of a class, you can use without even creating object for that as it is resolved during the class loading. &quot;this&quot; resolved only when object is created ( you can even say dynamically for which object). So &quot;this&quot; make sense in static context. Hope it helps. God bless.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>Keyword \"this\" refers to the object that you are operation with. In your case this inside any non-static methods or constructor (if you have one and and if you use \"this\" inside that), then \"this\" refers to that  particular instance of the class Sub.So it is applicable only when the object is created. But anything in the static context of a class, you can use without even creating object for that as it is resolved during the class loading. \"this\" resolved only when object is created ( you can even say dynamically for which object). So \"this\" make sense in static context. Hope it helps. God bless.</p>\n"},{"comments":[{"owner":{"account_id":7151918,"reputation":3927,"user_id":5465632,"accept_rate":83,"display_name":"Ram"},"score":1,"creation_date":1530802091,"post_id":30566866,"comment_id":89370011,"body_markdown":"You just mentioned that there is a Java rule for not to use class instance to call upon static fields. There is no such Java rule(s) rather it has some specific reason &quot;the static fields/ methods get created and stored in the memory area called `PermGen` at compile time only. The static things are part of class only so we can access them with class name directly, no need to create instance to access them&quot;.","body":"You just mentioned that there is a Java rule for not to use class instance to call upon static fields. There is no such Java rule(s) rather it has some specific reason &quot;the static fields/ methods get created and stored in the memory area called <code>PermGen</code> at compile time only. The static things are part of class only so we can access them with class name directly, no need to create instance to access them&quot;."}],"tags":[],"owner":{"account_id":4940585,"reputation":1175,"user_id":3977387,"accept_rate":50,"display_name":"Sachindra N. Pandey"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1433139719,"creation_date":1433139719,"answer_id":30566866,"question_id":11664522,"body_markdown":"The main reason why we can not use &quot;this&quot; in static method context:-\r\n\r\nthis :- &quot;this&quot; means current class OBJECT , so its clear that &quot;this&quot; only come in \r\nthe picture once we intended to create an Object of that class.\r\n\r\nstatic method:- there is no need to create an object in order to use static method.\r\nmeans &quot;instance&quot; or object creation  doesn&#39;t any sense with &quot;static&quot; as per Java rule.\r\n\r\nSo There would be  contradiction,if we use both together(static and this) .\r\nThat is the reason we can not use &quot;this&quot; in static method.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>The main reason why we can not use \"this\" in static method context:-</p>\n\n<p>this :- \"this\" means current class OBJECT , so its clear that \"this\" only come in \nthe picture once we intended to create an Object of that class.</p>\n\n<p>static method:- there is no need to create an object in order to use static method.\nmeans \"instance\" or object creation  doesn't any sense with \"static\" as per Java rule.</p>\n\n<p>So There would be  contradiction,if we use both together(static and this) .\nThat is the reason we can not use \"this\" in static method.</p>\n"},{"tags":[],"owner":{"account_id":7907614,"reputation":11,"user_id":5972589,"display_name":"Rajat Saxena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457418847,"creation_date":1457418847,"answer_id":35860594,"question_id":11664522,"body_markdown":"&quot;this&quot; keyword is only applicable where an instance of an object is created. And in static method no instance is created because static method belongs to class area. ","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>\"this\" keyword is only applicable where an instance of an object is created. And in static method no instance is created because static method belongs to class area. </p>\n"},{"tags":[],"owner":{"account_id":10305165,"reputation":1,"user_id":7602616,"display_name":"anjli rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526750157,"creation_date":1526750157,"answer_id":50427732,"question_id":11664522,"body_markdown":"when we declare variable and method is static then this is share by among object where this keyword only pointing to current object. suppose you have created five object of class foo then only one copy of made of (int y) shred by all object.so if you access int y using this keyword then compiler get a ambiguity which object have to point because static int y is shared by all object . you have access static variable using class name.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>when we declare variable and method is static then this is share by among object where this keyword only pointing to current object. suppose you have created five object of class foo then only one copy of made of (int y) shred by all object.so if you access int y using this keyword then compiler get a ambiguity which object have to point because static int y is shared by all object . you have access static variable using class name.</p>\n"},{"tags":[],"owner":{"account_id":10613028,"reputation":446,"user_id":7816353,"display_name":"ayush prashar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618543544,"creation_date":1618543544,"answer_id":67118678,"question_id":11664522,"body_markdown":"There is no problem with static methods setting values for static fields. \r\n\r\nThe only issue is usage of *this* keyword. Please note that since static methods are processed at the time of class loading, it&#39;s all but certain that no &quot;*this*&quot; exists at the point of time, which is why its only logical the usage of *this* keyword isn&#39;t allowed in a static context.\r\n\r\nOn the other hand, static method can be invoked from an object because it is made accessible to the object. The intention behind *static* data members and behaviours is to make it common to all the instances of that class.","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>There is no problem with static methods setting values for static fields.</p>\n<p>The only issue is usage of <em>this</em> keyword. Please note that since static methods are processed at the time of class loading, it's all but certain that no &quot;<em>this</em>&quot; exists at the point of time, which is why its only logical the usage of <em>this</em> keyword isn't allowed in a static context.</p>\n<p>On the other hand, static method can be invoked from an object because it is made accessible to the object. The intention behind <em>static</em> data members and behaviours is to make it common to all the instances of that class.</p>\n"},{"tags":[],"owner":{"account_id":12208830,"reputation":89,"user_id":8911151,"display_name":"Siddharth Mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695559310,"creation_date":1695559310,"answer_id":77167134,"question_id":11664522,"body_markdown":"**Let&#39;s Understand by a Simple Example**\r\n\r\n**Example 1**\r\n\r\n    public class Sample{\r\n       static int num = 50;\r\n       public static void demo(){\r\n          System.out.println(&quot;Contents of the static method&quot;);\r\n       }\r\n       public static void main(String args[]){\r\n          Sample.demo();\r\n       }\r\n    }\r\n\r\n**Output**\r\n\r\n    Contents of the static method\r\n    \r\n**Example 2**\r\n\r\n    public class Sample{\r\n       static int num = 50;\r\n       public static void demo(){\r\n          System.out.println(&quot;Contents of the static method&quot;+this.num);\r\n       }\r\n       public static void main(String args[]){\r\n          Sample.demo();\r\n       }\r\n    }\r\n\r\n**Output**\r\n\r\n    error: non-static variable this cannot be referenced from a static context\r\n\r\n\r\nSummary\r\nObserve Example 2 wisely , you will get to know that you will get CTE. These both examples will help you understand the difference \r\n\r\n**Keep Learning , Keep Growing**    ","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p><strong>Let's Understand by a Simple Example</strong></p>\n<p><strong>Example 1</strong></p>\n<pre><code>public class Sample{\n   static int num = 50;\n   public static void demo(){\n      System.out.println(&quot;Contents of the static method&quot;);\n   }\n   public static void main(String args[]){\n      Sample.demo();\n   }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Contents of the static method\n</code></pre>\n<p><strong>Example 2</strong></p>\n<pre><code>public class Sample{\n   static int num = 50;\n   public static void demo(){\n      System.out.println(&quot;Contents of the static method&quot;+this.num);\n   }\n   public static void main(String args[]){\n      Sample.demo();\n   }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>error: non-static variable this cannot be referenced from a static context\n</code></pre>\n<p>Summary\nObserve Example 2 wisely , you will get to know that you will get CTE. These both examples will help you understand the difference</p>\n<p><strong>Keep Learning , Keep Growing</strong></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1698753933,"post_id":77392999,"comment_id":136442823,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77392999/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24860014,"reputation":1,"user_id":18735909,"display_name":"Md Zunaid Akhtar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698722483,"creation_date":1698722483,"answer_id":77392999,"question_id":11664522,"body_markdown":"&#39;this&#39; keyword is used to store address /reference of object.\r\nFor static method only one time memory is allocated, but in case of non static memory allocated each time when object is created each object has different address. \r\nSo to access each object uniquely we need address and this keyword help us to do so. \r\nFor static method only one copy is present, means only one reference, we can access static member without object reference. \r\n","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<p>'this' keyword is used to store address /reference of object.\nFor static method only one time memory is allocated, but in case of non static memory allocated each time when object is created each object has different address.\nSo to access each object uniquely we need address and this keyword help us to do so.\nFor static method only one copy is present, means only one reference, we can access static member without object reference.</p>\n"}],"owner":{"account_id":390700,"reputation":4080,"user_id":750940,"accept_rate":44,"display_name":"Pradeep Vairamani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99133,"favorite_count":0,"down_vote_count":2,"up_vote_count":51,"accepted_answer_id":11664603,"answer_count":11,"score":49,"last_activity_date":1698722483,"creation_date":1343288180,"question_id":11664522,"body_markdown":"    class Sub {\r\n        static int y;\r\n        public static void foo() {\r\n             this.y = 10;\r\n        }\r\n    }\r\n\r\nI understand that `this` represents the object invoking the method and that static methods are not bound to any object. But in the above mentioned case, the variable y is also static. \r\n\r\nIf we can invoke static method on class object, why can&#39;t we allow static methods to set the static variables of the class.\r\n\r\nWhat is the purpose of this additional constraint? ","title":"Why can&#39;t we use &#39;this&#39; keyword in a static method","body":"<pre><code>class Sub {\n    static int y;\n    public static void foo() {\n         this.y = 10;\n    }\n}\n</code></pre>\n\n<p>I understand that <code>this</code> represents the object invoking the method and that static methods are not bound to any object. But in the above mentioned case, the variable y is also static. </p>\n\n<p>If we can invoke static method on class object, why can't we allow static methods to set the static variables of the class.</p>\n\n<p>What is the purpose of this additional constraint? </p>\n"},{"tags":["java","sorting","jdbc","collections","jdbctemplate"],"answers":[{"comments":[{"owner":{"display_name":"user6023611"},"score":0,"creation_date":1488825465,"post_id":12430280,"comment_id":72393952,"body_markdown":"can you answer here ? The same problem: http://stackoverflow.com/questions/42627074/checking-if-values-is-in-database-with-springboot-exactly-once-called","body":"can you answer here ? The same problem: <a href=\"http://stackoverflow.com/questions/42627074/checking-if-values-is-in-database-with-springboot-exactly-once-called\" title=\"checking if values is in database with springboot exactly once called\">stackoverflow.com/questions/42627074/&hellip;</a>"},{"owner":{"account_id":897349,"reputation":927,"user_id":934323,"display_name":"Jonas Dureg&#229;rd"},"score":0,"creation_date":1574685001,"post_id":12430280,"comment_id":104307401,"body_markdown":"I would replace 2. with &quot;Check that the value is in a list of allowed values&quot;. You can extract a lot of information by injecting something like ORDER BY secretValue or even expressions like ORDER BY secretValue=42 if I&#39;m not mistaken (assuming you find an expression that the sanitizer allows).","body":"I would replace 2. with &quot;Check that the value is in a list of allowed values&quot;. You can extract a lot of information by injecting something like ORDER BY secretValue or even expressions like ORDER BY secretValue=42 if I&#39;m not mistaken (assuming you find an expression that the sanitizer allows)."}],"tags":[],"owner":{"account_id":86297,"reputation":23984,"user_id":240078,"accept_rate":58,"display_name":"Vikdor"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1347648513,"creation_date":1347648513,"answer_id":12430280,"question_id":12430208,"body_markdown":"I would just concatenate the column name and the order to the SQL query, but only after \r\n\r\n 1. verifying that the column name and order are valid in this context.\r\n 1. sanitizing them to counter any attempt of [SQL Injection][1] attack. \r\n\r\nI feel this is efficient compared to fetching the results to the application layer and sorting them here.\r\n\r\n[1]: http://en.wikipedia.org/wiki/SQL_injection","title":"Using a prepared statement and variable bind Order By in Java with JDBC driver","body":"<p>I would just concatenate the column name and the order to the SQL query, but only after </p>\n\n<ol>\n<li>verifying that the column name and order are valid in this context.</li>\n<li>sanitizing them to counter any attempt of <a href=\"http://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow\">SQL Injection</a> attack. </li>\n</ol>\n\n<p>I feel this is efficient compared to fetching the results to the application layer and sorting them here.</p>\n"},{"tags":[],"owner":{"account_id":252507,"reputation":2008,"user_id":530591,"accept_rate":100,"display_name":"Oleksandr Bondarenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1347939557,"creation_date":1347649356,"answer_id":12430474,"question_id":12430208,"body_markdown":"Placeholders `?` can only be used for parameter values but not with column and sort order directions. So the standard way to do this as is pointed e.g. [here][1] is to use [String#format()][2] or something similar to append your column name and order value to your query.\r\n\r\nAnother option is to use Spring Data JPA where you can give to your method as an argument an instance of type [Sort][3] which can contain all needed info for database to sort.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2857164/cannot-use-a-like-query-in-a-jdbc-prepared-statement/2857417#2857417\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\r\n  [3]: http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/domain/Sort.html","title":"Using a prepared statement and variable bind Order By in Java with JDBC driver","body":"<p>Placeholders <code>?</code> can only be used for parameter values but not with column and sort order directions. So the standard way to do this as is pointed e.g. <a href=\"https://stackoverflow.com/questions/2857164/cannot-use-a-like-query-in-a-jdbc-prepared-statement/2857417#2857417\">here</a> is to use <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\">String#format()</a> or something similar to append your column name and order value to your query.</p>\n\n<p>Another option is to use Spring Data JPA where you can give to your method as an argument an instance of type <a href=\"http://static.springsource.org/spring-data/data-commons/docs/current/api/org/springframework/data/domain/Sort.html\" rel=\"noreferrer\">Sort</a> which can contain all needed info for database to sort.</p>\n"},{"tags":[],"owner":{"account_id":3663387,"reputation":3549,"user_id":3058581,"display_name":"Adam111p"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533065599,"creation_date":1533065250,"answer_id":51620709,"question_id":12430208,"body_markdown":"My suggestion is the mapping of keys and columns. It&#39;s a **safe** solution.\r\n\r\nAt the beginning, we initiate our map in the simplest possible way. For convenience, I overloaded the get (Obiect key) method to return the **default** column (&quot;fullName&quot;) in case of failure. This will protect against SqlExeption.\r\n\r\n    \tstatic Map&lt;String,String&gt; sortCol;\r\n\t{\r\n\t\tsortCol = new HashMap&lt;String, String&gt;(){\r\n\t\t\t{//Enter all data for mapping\r\n\t\t\t\tput(&quot;name&quot;,&quot;fullName&quot;);\r\n\t\t\t\tput(&quot;rok&quot;,&quot;year&quot;);\r\n\t\t\t\tput(&quot;rate&quot;,&quot;likes&quot;);\r\n\t\t\t\tput(&quot;count-rate&quot;,&quot;countRate&quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t/**\r\n\t\t\t * \r\n\t\t\t * @param key for column name\r\n\t\t\t * @return column name otherwise default &quot;fullName&quot;\r\n\t\t\t */\r\n\t\t\t@Override\r\n\t\t\tpublic String get(Object key) {\r\n\t\t\t\tString col =super.get(key);\r\n\t\t\t\treturn null==col?&quot;fullName&quot;:col;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\nHere is a simple example of use.\r\n\r\n    String sqlQuery= &quot;Select \\&quot;fullName\\&quot;,year,likes,count-rate, country ...&quot;+\r\n     &quot;from  blaBla...&quot;+\r\n     &quot;where blaBla...&quot;+\r\n     &quot;order by &quot;+sortCol.get(&quot;keySort&quot;) &quot;\\n&quot;; // keySort can have the value name, count-rate etc .. \r\n\r\nBy the way, you should never reveal the real names of columns in user interfaces, such as REST or SOAP etc ... For the attacker, this is a great help.","title":"Using a prepared statement and variable bind Order By in Java with JDBC driver","body":"<p>My suggestion is the mapping of keys and columns. It's a <strong>safe</strong> solution.</p>\n\n<p>At the beginning, we initiate our map in the simplest possible way. For convenience, I overloaded the get (Obiect key) method to return the <strong>default</strong> column (\"fullName\") in case of failure. This will protect against SqlExeption.</p>\n\n<pre><code>    static Map&lt;String,String&gt; sortCol;\n{\n    sortCol = new HashMap&lt;String, String&gt;(){\n        {//Enter all data for mapping\n            put(\"name\",\"fullName\");\n            put(\"rok\",\"year\");\n            put(\"rate\",\"likes\");\n            put(\"count-rate\",\"countRate\");\n\n        }\n        /**\n         * \n         * @param key for column name\n         * @return column name otherwise default \"fullName\"\n         */\n        @Override\n        public String get(Object key) {\n            String col =super.get(key);\n            return null==col?\"fullName\":col;\n        }\n    };\n}\n</code></pre>\n\n<p>Here is a simple example of use.</p>\n\n<pre><code>String sqlQuery= \"Select \\\"fullName\\\",year,likes,count-rate, country ...\"+\n \"from  blaBla...\"+\n \"where blaBla...\"+\n \"order by \"+sortCol.get(\"keySort\") \"\\n\"; // keySort can have the value name, count-rate etc .. \n</code></pre>\n\n<p>By the way, you should never reveal the real names of columns in user interfaces, such as REST or SOAP etc ... For the attacker, this is a great help.</p>\n"},{"tags":[],"owner":{"account_id":10868953,"reputation":81,"user_id":7991462,"display_name":"Constantine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698721257,"creation_date":1698721257,"answer_id":77392948,"question_id":12430208,"body_markdown":"If columns are pre-defined and limited you can use case-when expression:\r\n\r\n```\r\nSELECT * FROM TABLE1\r\nORDER BY \r\n   CASE ?\r\n       WHEN &#39;col1&#39; THEN col1\r\n       ELSE col2\r\n   END\r\n```","title":"Using a prepared statement and variable bind Order By in Java with JDBC driver","body":"<p>If columns are pre-defined and limited you can use case-when expression:</p>\n<pre><code>SELECT * FROM TABLE1\nORDER BY \n   CASE ?\n       WHEN 'col1' THEN col1\n       ELSE col2\n   END\n</code></pre>\n"}],"owner":{"account_id":1285439,"reputation":1963,"user_id":1238625,"accept_rate":76,"display_name":"Raevik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31580,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":12430474,"answer_count":4,"score":25,"last_activity_date":1698721257,"creation_date":1347648201,"question_id":12430208,"body_markdown":"I&#39;m using \r\n\r\n 1. jdbcTemplate to make JDBC connections to a mySQL DB\r\n 2. prepared statements to protect myself as much as possible from SQL injection attacks\r\n 3. in need to accept requests from the user to sort the data on any of a dozen different columns\r\n 4. the following statement\r\n\r\n        jdbcTemplate.query(&quot;SELECT * FROM TABLE1 ORDER BY ? ?&quot;, colName, sortOrder);\r\n\r\n    \r\n\r\nOf course this doesn&#39;t work, because the variable bindings aren&#39;t supposed to specify column names just parameter values for expressions in the query.  \r\n\r\nSo...how are people solving this issue?  Just doing the sort in Java code seems like an easy solution, but since I&#39;m getting a variable string for the column to sort on, and a variable telling me the sort order....that&#39;s an ugly number of comparator-conditions to cover.  This seems like it should be a common problem with a common pattern to solve it...","title":"Using a prepared statement and variable bind Order By in Java with JDBC driver","body":"<p>I'm using </p>\n\n<ol>\n<li>jdbcTemplate to make JDBC connections to a mySQL DB</li>\n<li>prepared statements to protect myself as much as possible from SQL injection attacks</li>\n<li>in need to accept requests from the user to sort the data on any of a dozen different columns</li>\n<li><p>the following statement</p>\n\n<pre><code>jdbcTemplate.query(\"SELECT * FROM TABLE1 ORDER BY ? ?\", colName, sortOrder);\n</code></pre></li>\n</ol>\n\n<p>Of course this doesn't work, because the variable bindings aren't supposed to specify column names just parameter values for expressions in the query.  </p>\n\n<p>So...how are people solving this issue?  Just doing the sort in Java code seems like an easy solution, but since I'm getting a variable string for the column to sort on, and a variable telling me the sort order....that's an ugly number of comparator-conditions to cover.  This seems like it should be a common problem with a common pattern to solve it...</p>\n"},{"tags":["java","android","eclipse","android-fragments"],"comments":[{"owner":{"account_id":1876903,"reputation":2424,"user_id":2672566,"accept_rate":67,"display_name":"nifCody"},"score":1,"creation_date":1434040250,"post_id":30786259,"comment_id":49622664,"body_markdown":"Please Clearly Say the Question. Not the error message","body":"Please Clearly Say the Question. Not the error message"},{"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"score":0,"creation_date":1434040853,"post_id":30786259,"comment_id":49622972,"body_markdown":"i am not getting the google maps in android sir, i given all fields but also not getting output i am getting unforutly app was stopped. i written the code like this sir http://stackoverflow.com/questions/30767104/can-anyone-help-me-on-google-maps-api-in-android-how-to-work","body":"i am not getting the google maps in android sir, i given all fields but also not getting output i am getting unforutly app was stopped. i written the code like this sir <a href=\"http://stackoverflow.com/questions/30767104/can-anyone-help-me-on-google-maps-api-in-android-how-to-work\" title=\"can anyone help me on google maps api in android how to work\">stackoverflow.com/questions/30767104/&hellip;</a>"},{"owner":{"account_id":1876903,"reputation":2424,"user_id":2672566,"accept_rate":67,"display_name":"nifCody"},"score":0,"creation_date":1434041001,"post_id":30786259,"comment_id":49623078,"body_markdown":"have you create google console app","body":"have you create google console app"},{"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"score":0,"creation_date":1434041142,"post_id":30786259,"comment_id":49623165,"body_markdown":"yes sir for that only i get google map api key","body":"yes sir for that only i get google map api key"},{"owner":{"account_id":1876903,"reputation":2424,"user_id":2672566,"accept_rate":67,"display_name":"nifCody"},"score":1,"creation_date":1434041353,"post_id":30786259,"comment_id":49623292,"body_markdown":"Hope! You have confused, Try to follow this stuff. It really guide you to accomplish the task.  http://www.androidhive.info/2013/08/android-working-with-google-maps-v2/\nIf you like just put up on this command","body":"Hope! You have confused, Try to follow this stuff. It really guide you to accomplish the task.  <a href=\"http://www.androidhive.info/2013/08/android-working-with-google-maps-v2/\" rel=\"nofollow noreferrer\">androidhive.info/2013/08/android-working-with-google-maps-v2</a> If you like just put up on this command"},{"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"score":0,"creation_date":1434041499,"post_id":30786259,"comment_id":49623371,"body_markdown":"i did like this sir.. this link also mine only sir there i not get any reponse sir plzz help me sir i am working from last 4 days onwards http://stackoverflow.com/questions/30767104/can-anyone-help-me-on-google-maps-api-in-android-how-to-work   infact i am not getting were i did mistake","body":"i did like this sir.. this link also mine only sir there i not get any reponse sir plzz help me sir i am working from last 4 days onwards <a href=\"http://stackoverflow.com/questions/30767104/can-anyone-help-me-on-google-maps-api-in-android-how-to-work\" title=\"can anyone help me on google maps api in android how to work\">stackoverflow.com/questions/30767104/&hellip;</a>   infact i am not getting were i did mistake"}],"answers":[{"comments":[{"owner":{"account_id":5415334,"reputation":315,"user_id":4310611,"accept_rate":67,"display_name":"Asad Mehmood"},"score":0,"creation_date":1434041112,"post_id":30786636,"comment_id":49623155,"body_markdown":"did you add the Google Play Services to your project?","body":"did you add the Google Play Services to your project?"},{"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"score":0,"creation_date":1434041358,"post_id":30786636,"comment_id":49623296,"body_markdown":"yes sir from adt-&gt; sdk-&gt;extras-&gt;google-&gt;libproject-&gt;google play services lib","body":"yes sir from adt-&gt; sdk-&gt;extras-&gt;google-&gt;libproject-&gt;google play services lib"},{"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"score":0,"creation_date":1434041909,"post_id":30786636,"comment_id":49623611,"body_markdown":"ok i am not getting were i did mistake in my project but i think i hope i given all credentials on my code plzz help me i am straguling from last 4 days onwards","body":"ok i am not getting were i did mistake in my project but i think i hope i given all credentials on my code plzz help me i am straguling from last 4 days onwards"},{"owner":{"account_id":5415334,"reputation":315,"user_id":4310611,"accept_rate":67,"display_name":"Asad Mehmood"},"score":0,"creation_date":1434354489,"post_id":30786636,"comment_id":49723701,"body_markdown":"First download Google play services from SDK manager \nadd it in your project\nregister your project at google developers console","body":"First download Google play services from SDK manager  add it in your project register your project at google developers console"},{"owner":{"account_id":5415334,"reputation":315,"user_id":4310611,"accept_rate":67,"display_name":"Asad Mehmood"},"score":0,"creation_date":1434364028,"post_id":30786636,"comment_id":49729130,"body_markdown":"follow this tutorial it will guide you properly","body":"follow this tutorial it will guide you properly"},{"owner":{"account_id":5415334,"reputation":315,"user_id":4310611,"accept_rate":67,"display_name":"Asad Mehmood"},"score":0,"creation_date":1434364065,"post_id":30786636,"comment_id":49729148,"body_markdown":"follow this tutorial it will guide you properly\nhttp://www.androidhive.info/2013/08/android-working-with-google-maps-v2/","body":"follow this tutorial it will guide you properly <a href=\"http://www.androidhive.info/2013/08/android-working-with-google-maps-v2/\" rel=\"nofollow noreferrer\">androidhive.info/2013/08/android-working-with-google-maps-v2</a>"}],"tags":[],"owner":{"account_id":5415334,"reputation":315,"user_id":4310611,"accept_rate":67,"display_name":"Asad Mehmood"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698720214,"creation_date":1434040909,"answer_id":30786636,"question_id":30786259,"body_markdown":"Check did you really created your app project on Google Developers console?..\r\nLearn from here about [Google Developers Console][1]\r\n\r\nAlso Check your manifest file that you properly add all permissions and mata data.\r\n\r\nError Also Shows that you didn&#39;t add &quot;Google Play Services&quot; to your project.\r\ndownload them from your SDK MANAGER and add it in your project&#39;s dependencies\r\n\r\n \r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android/start","title":"I am working with Google Map api in Android geting unfortanly app was stopped","body":"<p>Check did you really created your app project on Google Developers console?..\nLearn from here about <a href=\"https://developers.google.com/maps/documentation/android/start\" rel=\"nofollow noreferrer\">Google Developers Console</a></p>\n<p>Also Check your manifest file that you properly add all permissions and mata data.</p>\n<p>Error Also Shows that you didn't add &quot;Google Play Services&quot; to your project.\ndownload them from your SDK MANAGER and add it in your project's dependencies</p>\n"}],"owner":{"account_id":6453849,"reputation":1,"user_id":4999937,"display_name":"kalyan kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1698720277,"creation_date":1434039728,"question_id":30786259,"body_markdown":"I have been working on Google Maps, but I am getting \r\n\r\n&gt; Unfortunately, APP was stopped.\r\n\r\n I am given all permissions and Google play services. This error is being shown in my LogCat which I have shown below.\r\n\r\n   \r\n\r\n     06-11 16:05:48.050: E/AndroidRuntime(851): FATAL EXCEPTION: main\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): Process: com.example.onroad, PID: 851\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.onroad/com.example.onroad.MainActivity}: android.view.InflateException: Binary XML file line #12: Error inflating class fragment\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2197)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2258)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread.access$800(ActivityThread.java:138)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1209)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.os.Looper.loop(Looper.java:136)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread.main(ActivityThread.java:5026)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat java.lang.reflect.Method.invoke(Method.java:515)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat dalvik.system.NativeStart.main(Native Method)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: android.view.InflateException: Binary XML file line #12: Error inflating class fragment\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:713)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:492)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:397)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.inflate(LayoutInflater.java:353)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:309)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Activity.setContentView(Activity.java:1930)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat com.example.onroad.MainActivity.onCreate(MainActivity.java:19)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Activity.performCreate(Activity.java:5242)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2161)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \t... 11 more\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.MapFragment: make sure class name exists, is public, and has an empty constructor that is public\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Fragment.instantiate(Fragment.java:597)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Fragment.instantiate(Fragment.java:561)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Activity.onCreateView(Activity.java:4788)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:689)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \t... 21 more\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.google.android.gms.maps.MapFragment&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.onroad-2.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.example.onroad-2, /system/lib]]\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:497)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat java.lang.ClassLoader.loadClass(ClassLoader.java:457)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \tat android.app.Fragment.instantiate(Fragment.java:583)\r\n    06-11 16:05:48.050: E/AndroidRuntime(851): \t... 24 more\r\n\r\n\r\n","title":"I am working with Google Map api in Android geting unfortanly app was stopped","body":"<p>I have been working on Google Maps, but I am getting</p>\n<blockquote>\n<p>Unfortunately, APP was stopped.</p>\n</blockquote>\n<p>I am given all permissions and Google play services. This error is being shown in my LogCat which I have shown below.</p>\n<pre><code> 06-11 16:05:48.050: E/AndroidRuntime(851): FATAL EXCEPTION: main\n06-11 16:05:48.050: E/AndroidRuntime(851): Process: com.example.onroad, PID: 851\n06-11 16:05:48.050: E/AndroidRuntime(851): java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.onroad/com.example.onroad.MainActivity}: android.view.InflateException: Binary XML file line #12: Error inflating class fragment\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2197)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2258)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread.access$800(ActivityThread.java:138)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1209)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.os.Handler.dispatchMessage(Handler.java:102)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.os.Looper.loop(Looper.java:136)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread.main(ActivityThread.java:5026)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at java.lang.reflect.Method.invokeNative(Native Method)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at java.lang.reflect.Method.invoke(Method.java:515)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:777)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:602)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at dalvik.system.NativeStart.main(Native Method)\n06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: android.view.InflateException: Binary XML file line #12: Error inflating class fragment\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:713)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:309)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Activity.setContentView(Activity.java:1930)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at com.example.onroad.MainActivity.onCreate(MainActivity.java:19)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Activity.performCreate(Activity.java:5242)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2161)\n06-11 16:05:48.050: E/AndroidRuntime(851):  ... 11 more\n06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.google.android.gms.maps.MapFragment: make sure class name exists, is public, and has an empty constructor that is public\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Fragment.instantiate(Fragment.java:597)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Fragment.instantiate(Fragment.java:561)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Activity.onCreateView(Activity.java:4788)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:689)\n06-11 16:05:48.050: E/AndroidRuntime(851):  ... 21 more\n06-11 16:05:48.050: E/AndroidRuntime(851): Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;com.google.android.gms.maps.MapFragment&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.onroad-2.apk&quot;],nativeLibraryDirectories=[/data/app-lib/com.example.onroad-2, /system/lib]]\n06-11 16:05:48.050: E/AndroidRuntime(851):  at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at java.lang.ClassLoader.loadClass(ClassLoader.java:497)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at java.lang.ClassLoader.loadClass(ClassLoader.java:457)\n06-11 16:05:48.050: E/AndroidRuntime(851):  at android.app.Fragment.instantiate(Fragment.java:583)\n06-11 16:05:48.050: E/AndroidRuntime(851):  ... 24 more\n</code></pre>\n"},{"tags":["java","eclipse","gradle","compiler-errors","war"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749016,"post_id":77392896,"comment_id":136441971,"body_markdown":"*&quot;... but I do have ajc.options ...&quot;*  - But is it at that precise location?  Gradle doesn&#39;t think ... and computers are rarely wrong about things like this.  (If the file is where Gradle is looking for it, then it will find it!)","body":"<i>&quot;... but I do have ajc.options ...&quot;</i>  - But is it at that precise location?  Gradle doesn&#39;t think ... and computers are rarely wrong about things like this.  (If the file is where Gradle is looking for it, then it will find it!)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749086,"post_id":77392896,"comment_id":136441993,"body_markdown":"The location where Gradle expects to find the file is: &quot;C:\\Users\\weihsiang\\Documents\\�摰喲�\\backend_api\\app\\build\\tmp\\compileJava\\ajc.options&quot;","body":"The location where Gradle expects to find the file is: &quot;C:\\Users\\weihsiang\\Documents\\�摰喲�\\backend_api\\app\\build\\&zwnj;&#8203;tmp\\compileJava\\ajc.&zwnj;&#8203;options&quot;"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1698749210,"post_id":77392896,"comment_id":136442016,"body_markdown":"Also, Gradle told you: `&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.`   Did you try those things?  Did they give you any additional information that might be useful ... to us?","body":"Also, Gradle told you: <code>&gt; Run with --stacktrace option to get the stack trace. &gt; Run with --info or --debug option to get more log output. &gt; Run with --scan to get full insights.</code>   Did you try those things?  Did they give you any additional information that might be useful ... to us?"}],"owner":{"account_id":14581414,"reputation":1,"user_id":10531713,"display_name":"swaeetpotato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698720113,"creation_date":1698720113,"question_id":77392896,"body_markdown":"I&#39;m trying to build a war file for my java project by using gradle task. However,I feep getting this error, but I do have ajc.options in my project, What did I do wrong?\r\n```\r\nWorking Directory: C:\\Users\\weihsiang\\Documents\\危害鑑別\\backend_api\r\nGradle user home: C:\\Users\\weihsiang\\.gradle\r\nGradle Distribution: Gradle wrapper from target build\r\nGradle Version: 7.6\r\nJava Home: C:\\Program Files\\Java\\jdk1.8.0_202\r\nJVM Arguments: None\r\nProgram Arguments: None\r\nBuild Scans Enabled: false\r\nOffline Mode Enabled: false\r\nGradle Tasks: war\r\n\r\n\r\n&gt; Task :app:compileJava\r\n[error] build config error: file does not exist: C:\\Users\\weihsiang\\Documents\\�摰喲�\\backend_api\\app\\build\\tmp\\compileJava\\ajc.options\r\n    \r\n[error] no sources specified\r\n    \r\n\r\n2 errors\r\n\r\n&gt; Task :app:compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileJava&#39;.\r\n&gt; Compilation failed with exit code 2; see the compiler error output for details.\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n1 actionable task: 1 executed\r\n```","title":"build config error: file does not exist when building a .war file","body":"<p>I'm trying to build a war file for my java project by using gradle task. However,I feep getting this error, but I do have ajc.options in my project, What did I do wrong?</p>\n<pre><code>Working Directory: C:\\Users\\weihsiang\\Documents\\危害鑑別\\backend_api\nGradle user home: C:\\Users\\weihsiang\\.gradle\nGradle Distribution: Gradle wrapper from target build\nGradle Version: 7.6\nJava Home: C:\\Program Files\\Java\\jdk1.8.0_202\nJVM Arguments: None\nProgram Arguments: None\nBuild Scans Enabled: false\nOffline Mode Enabled: false\nGradle Tasks: war\n\n\n&gt; Task :app:compileJava\n[error] build config error: file does not exist: C:\\Users\\weihsiang\\Documents\\�摰喲�\\backend_api\\app\\build\\tmp\\compileJava\\ajc.options\n    \n[error] no sources specified\n    \n\n2 errors\n\n&gt; Task :app:compileJava FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileJava'.\n&gt; Compilation failed with exit code 2; see the compiler error output for details.\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 4s\n1 actionable task: 1 executed\n</code></pre>\n"},{"tags":["java","serialization","flatbuffers"],"answers":[{"comments":[{"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"score":0,"creation_date":1698726636,"post_id":77392892,"comment_id":136438672,"body_markdown":"So you mean I have to call both `finish(child)` and `finish(parent)`? But your code calls niether.","body":"So you mean I have to call both <code>finish(child)</code> and <code>finish(parent)</code>? But your code calls niether."},{"owner":{"account_id":464616,"reputation":3459,"user_id":868247,"accept_rate":76,"display_name":"Moop"},"score":0,"creation_date":1698815735,"post_id":77392892,"comment_id":136451848,"body_markdown":"No, look ad the code inside the `createChild` and `createParent`, it explicitly calls `fbb.finish` for you.","body":"No, look ad the code inside the <code>createChild</code> and <code>createParent</code>, it explicitly calls <code>fbb.finish</code> for you."}],"tags":[],"owner":{"account_id":464616,"reputation":3459,"user_id":868247,"accept_rate":76,"display_name":"Moop"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698720011,"creation_date":1698720011,"answer_id":77392892,"question_id":77392496,"body_markdown":"You have to finish each table before building a parent, or any other table. Finishing gives you the offset value that is then provided to other tables to store. \r\n\r\nUsing the `create&lt;TABLE_NAME&gt;()` methods automatically finishes for you.\r\n\r\nYour example code is wrong, it would be like:\r\n\r\n```java\r\nint child_offset = Child.createChild(fbb, ...);\r\nint parent_offset = Parent.createParent(fbb, child_offset, ...);\r\n```\r\n\r\nIf you use the `Child.startChild()` method you then have to manually call `Child.endChild()`. Take a look at the generated code of `Child.createChild()`","title":"should I call finish on member tables","body":"<p>You have to finish each table before building a parent, or any other table. Finishing gives you the offset value that is then provided to other tables to store.</p>\n<p>Using the <code>create&lt;TABLE_NAME&gt;()</code> methods automatically finishes for you.</p>\n<p>Your example code is wrong, it would be like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int child_offset = Child.createChild(fbb, ...);\nint parent_offset = Parent.createParent(fbb, child_offset, ...);\n</code></pre>\n<p>If you use the <code>Child.startChild()</code> method you then have to manually call <code>Child.endChild()</code>. Take a look at the generated code of <code>Child.createChild()</code></p>\n"}],"owner":{"account_id":194307,"reputation":13348,"user_id":436559,"accept_rate":82,"display_name":"fluter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77392892,"answer_count":1,"score":0,"last_activity_date":1698720011,"creation_date":1698711181,"question_id":77392496,"body_markdown":"So I have table as member of other tables, when I create data of the parent tables, do I need to call `finish` only on the parent table, or I need to `finish` both the member and the parent tables? The code is like this:\r\n\r\n    table Child {\r\n        ...\r\n    }\r\n\r\n    table Parent {\r\n        c: Child;\r\n        ...\r\n    }\r\n\r\n    FlatBufferBuilder fbb = new FlatBufferBuilder(1024);\r\n    int child = Child.createChild(fbb, ...);\r\n    fbb.finish(child); // &lt;-- Do I need to call this?\r\n\r\n    int parent = Parent.createParent(fbb, child, ...);\r\n    Parent.finishParentBuffer(fbb, parent); // &lt;-- finishes the whole buffer for writing\r\n    // write(fbb.dataBuffer());\r\n\r\nThe question is do I need to call finish on the child table?\r\n\r\n\r\n\r\n    ","title":"should I call finish on member tables","body":"<p>So I have table as member of other tables, when I create data of the parent tables, do I need to call <code>finish</code> only on the parent table, or I need to <code>finish</code> both the member and the parent tables? The code is like this:</p>\n<pre><code>table Child {\n    ...\n}\n\ntable Parent {\n    c: Child;\n    ...\n}\n\nFlatBufferBuilder fbb = new FlatBufferBuilder(1024);\nint child = Child.createChild(fbb, ...);\nfbb.finish(child); // &lt;-- Do I need to call this?\n\nint parent = Parent.createParent(fbb, child, ...);\nParent.finishParentBuffer(fbb, parent); // &lt;-- finishes the whole buffer for writing\n// write(fbb.dataBuffer());\n</code></pre>\n<p>The question is do I need to call finish on the child table?</p>\n"},{"tags":["java","aop","aspectj","spring-aop","interceptor"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489406786,"post_id":42762484,"comment_id":72641523,"body_markdown":"I need more information. Please show the package name and signature of `findPluginForRequest` and also tell me if if works without the `args()` part and pointcut/advice parameters removed. Another question: In the first example you call `populateMap` with the second parameter being a string, now it is a request object. Why is that?","body":"I need more information. Please show the package name and signature of <code>findPluginForRequest</code> and also tell me if if works without the <code>args()</code> part and pointcut/advice parameters removed. Another question: In the first example you call <code>populateMap</code> with the second parameter being a string, now it is a request object. Why is that?"},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1489419046,"post_id":42762484,"comment_id":72650304,"body_markdown":"The package name i can&#39;t tell you cause of NDAs but i can tell you that its a normal package. Also it does not work even without the `args()` part. To answer the second question,  I call using a request object because this request object has a method which returns a string and some more data which i need. Earlier since it was a trial I just hard-coded that data and passed the string to check if it was working or not.","body":"The package name i can&#39;t tell you cause of NDAs but i can tell you that its a normal package. Also it does not work even without the <code>args()</code> part. To answer the second question,  I call using a request object because this request object has a method which returns a string and some more data which i need. Earlier since it was a trial I just hard-coded that data and passed the string to check if it was working or not."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489420626,"post_id":42762484,"comment_id":72651525,"body_markdown":"You want help, but are unwilling to share enough information. I asked for the signature of `findPluginForRequest`. Unless I see at least important parts of the full picture this is a quiz show with people guessing, not a meaningful question that can be answered by deduction.","body":"You want help, but are unwilling to share enough information. I asked for the signature of <code>findPluginForRequest</code>. Unless I see at least important parts of the full picture this is a quiz show with people guessing, not a meaningful question that can be answered by deduction."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1489466755,"post_id":42762484,"comment_id":72670438,"body_markdown":"the signature for `findPluginForRequest` is `private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(final BSFBatchRequest request)`. Also not very much related to this but can AspectJ interceptor cause timeouts?","body":"the signature for <code>findPluginForRequest</code> is <code>private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(final BSFBatchRequest request)</code>. Also not very much related to this but can AspectJ interceptor cause timeouts?"}],"answers":[{"comments":[{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1489408515,"post_id":42763415,"comment_id":72642610,"body_markdown":"This code is within a class with the `@Aspect` annotation so no problem there. I shall try to combine it and let you know.","body":"This code is within a class with the <code>@Aspect</code> annotation so no problem there. I shall try to combine it and let you know."}],"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489407292,"creation_date":1489407292,"answer_id":42763415,"question_id":42762484,"body_markdown":"It looks good to me, though i am not sure did you miss `@Aspect`. Another way of doing it where you can combine pointcut and advice at single place . To avoid any mistake in package name i am replacing `e.f.g.findPluginForRequest` with `findPluginForRequest`. You can put it back once you are sure there is nothing wrong in package name\r\n\r\n    @Aspect\r\n    public class LoggingAspect {\r\n    \r\n    \t@Before(&quot;execution(* findPluginForRequest(..))&amp;&amp; args(request)&quot;)\r\n    \tpublic void beforeeAdvice(BSFBatchRequest request ){\r\n    \r\n    \t}\r\n    \r\n    }","title":"AspectJ Interceptor not working","body":"<p>It looks good to me, though i am not sure did you miss <code>@Aspect</code>. Another way of doing it where you can combine pointcut and advice at single place . To avoid any mistake in package name i am replacing <code>e.f.g.findPluginForRequest</code> with <code>findPluginForRequest</code>. You can put it back once you are sure there is nothing wrong in package name</p>\n\n<pre><code>@Aspect\npublic class LoggingAspect {\n\n    @Before(\"execution(* findPluginForRequest(..))&amp;&amp; args(request)\")\n    public void beforeeAdvice(BSFBatchRequest request ){\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1489491669,"post_id":42784862,"comment_id":72684055,"body_markdown":"can I use AspectJ in java directly with some changes in the xml? It would be great if i could use AspectJ just like Spring AOP.","body":"can I use AspectJ in java directly with some changes in the xml? It would be great if i could use AspectJ just like Spring AOP."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489491828,"post_id":42784862,"comment_id":72684167,"body_markdown":"Is it not overkill just because you do not want to expose a method? I think it is justified to make it public because you want to interact from it via AOP. Chapter 11.8 of the linked documentation explains how to configure AspectJ. RTFM, please. The decision to switch should not be taken lightly, it is really different although the syntax is the same. You seem to know so little about AOP, be careful not to shoot a mosquito with a big cannon.","body":"Is it not overkill just because you do not want to expose a method? I think it is justified to make it public because you want to interact from it via AOP. Chapter 11.8 of the linked documentation explains how to configure AspectJ. RTFM, please. The decision to switch should not be taken lightly, it is really different although the syntax is the same. You seem to know so little about AOP, be careful not to shoot a mosquito with a big cannon."},{"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"score":0,"creation_date":1489492308,"post_id":42784862,"comment_id":72684542,"body_markdown":"It exactly as you said. I&#39;m new to AOP and don&#39;t know much. The problem also is that the method I am trying to intercept is owned by some other team and they won&#39;t allow to make it public.","body":"It exactly as you said. I&#39;m new to AOP and don&#39;t know much. The problem also is that the method I am trying to intercept is owned by some other team and they won&#39;t allow to make it public."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1489492507,"post_id":42784862,"comment_id":72684706,"body_markdown":"Tell them that the code is not owned by their team but by the company. If it is your job to implement a cross-cutting concern touching on their code, they ought to change it. Alternatively, you need to find another place to hook into. Let us stop the discussion here, this is not technical anymore.","body":"Tell them that the code is not owned by their team but by the company. If it is your job to implement a cross-cutting concern touching on their code, they ought to change it. Alternatively, you need to find another place to hook into. Let us stop the discussion here, this is not technical anymore."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698719695,"creation_date":1489491172,"answer_id":42784862,"question_id":42762484,"body_markdown":"I can answer your question:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(\r\n      final BSFBatchRequest request\r\n    )\r\n\r\nSpring AOP is not as powerful as AspectJ because it does not weave bytecode directly but is based on creating/using dynamic proxies via JDK or CGLIB. Dynamic proxies are just subclasses or classes implementing interfaces. As such they only override public methods. Your method is private, thus Spring AOP cannot intercept it. This is documented in the [Spring AOP manual](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-pointcuts-designators):\r\n\r\n&gt; Due to the proxy-based nature of Spring’s AOP framework, protected methods are by definition not intercepted, neither for JDK proxies (where this isn’t applicable) nor for CGLIB proxies (where this is technically possible but not recommendable for AOP purposes). As a consequence, any given pointcut will be matched against public methods only!\r\nIf your interception needs include protected/private methods or even constructors, consider the use of Spring-driven native AspectJ weaving instead of Spring’s proxy-based AOP framework. This constitutes a different mode of AOP usage with different characteristics, so be sure to make yourself familiar with weaving first before making a decision.\r\n\r\nIn order to get it working, either make the method public or switch to AspectJ.","title":"AspectJ Interceptor not working","body":"<p>I can answer your question:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(\n  final BSFBatchRequest request\n)\n</code></pre>\n<p>Spring AOP is not as powerful as AspectJ because it does not weave bytecode directly but is based on creating/using dynamic proxies via JDK or CGLIB. Dynamic proxies are just subclasses or classes implementing interfaces. As such they only override public methods. Your method is private, thus Spring AOP cannot intercept it. This is documented in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-pointcuts-designators\" rel=\"nofollow noreferrer\">Spring AOP manual</a>:</p>\n<blockquote>\n<p>Due to the proxy-based nature of Spring’s AOP framework, protected methods are by definition not intercepted, neither for JDK proxies (where this isn’t applicable) nor for CGLIB proxies (where this is technically possible but not recommendable for AOP purposes). As a consequence, any given pointcut will be matched against public methods only!\nIf your interception needs include protected/private methods or even constructors, consider the use of Spring-driven native AspectJ weaving instead of Spring’s proxy-based AOP framework. This constitutes a different mode of AOP usage with different characteristics, so be sure to make yourself familiar with weaving first before making a decision.</p>\n</blockquote>\n<p>In order to get it working, either make the method public or switch to AspectJ.</p>\n"}],"owner":{"account_id":8036447,"reputation":464,"user_id":6059393,"accept_rate":77,"display_name":"Belphegor21"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":42784862,"answer_count":2,"score":0,"last_activity_date":1698719695,"creation_date":1489404313,"question_id":42762484,"body_markdown":"I have created an AspectJ interceptor like \r\n\r\n    @Aspect\r\n    public class RequestSpecificServiceAspect {\r\n        @Pointcut(&quot;execution( * com.mycompany.c.d.doesTreatmentEqualsAndTrigger(..))&quot;)\r\n        private void callInterceptor(){}\r\n\r\n        @Before(&quot;callInterceptor()&quot;)\r\n        public void getCallStack(){\r\n        StackTraceElement[] callingStack = Thread.currentThread().getStackTrace();\r\n        PopulateServiceDependentMap populateServiceDependentMap = new PopulateServiceDependentMap();\r\n        populateServiceDependentMap.populateMap(callingStack, &quot;ServiceName&quot;);\r\n        }\r\n    }\r\n\r\nThis works just fine and since this was a trial code i now replaced it with the actual interceptor i wanted which is like this\r\n\r\n    @Pointcut(&quot;execution( * mycompany.f.g.findPluginForRequest(..)) &amp;&amp; args(request)&quot;)\r\n    private void actualInterceptor(BSFBatchRequest request){}\r\n\r\n    @Before(&quot;actualInterceptor(request)&quot;)\r\n    public void getBSFCall(BSFBatchRequest request){ \r\n        StackTraceElement[] callingStack = Thread.currentThread().getStackTrace();\r\n        PopulateServiceDependentMap populateServiceDependentMap = new PopulateServiceDependentMap();\r\n        populateServiceDependentMap.populateMap(callingStack, request);\r\n    }\r\n\r\nBut now my interceptor is not intercepting the call to `findPluginForRequest()` function.\r\nWhy is this happening and how can I fix it?\r\n\r\nThis is my spring config file(.xml) :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    http://www.springframework.org/schema/aop\r\n    http://www.springframework.org/schema/aop/spring-aop-3.0.xsd&quot;\r\n    default-autowire=&quot;no&quot;&gt;\r\n    &lt;context:annotation-config/&gt;\r\n\r\n    &lt;aop:aspectj-autoproxy/&gt;\r\n\r\n    &lt;bean name=&quot;com.dpx.dependencyGraphFactory&quot; class=&quot;com.mycompany.dpx.dependencytree.ModuleToModuleDependencyGraphFactory&quot;&gt;&lt;/bean&gt;\r\n    &lt;bean name=&quot;com.dpx.serviceInterceptor&quot; class=&quot;com.mycompany.dpx.dependencytree.RequestSpecificServiceAspect&quot;/&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nThe signature for `findPluginForRequest()` is `private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(final BSFBatchRequest request)`. I have tried changing the pointcut to  \r\n\r\n    @Pointcut(&quot;execution(private * mycompany.f.g.findPluginForRequest(..)) &amp;&amp; args(request)&quot;)\r\n    private void actualInterceptor(BSFBatchRequest request){}\r\n\r\nBut it still doesn&#39;t work.","title":"AspectJ Interceptor not working","body":"<p>I have created an AspectJ interceptor like </p>\n\n<pre><code>@Aspect\npublic class RequestSpecificServiceAspect {\n    @Pointcut(\"execution( * com.mycompany.c.d.doesTreatmentEqualsAndTrigger(..))\")\n    private void callInterceptor(){}\n\n    @Before(\"callInterceptor()\")\n    public void getCallStack(){\n    StackTraceElement[] callingStack = Thread.currentThread().getStackTrace();\n    PopulateServiceDependentMap populateServiceDependentMap = new PopulateServiceDependentMap();\n    populateServiceDependentMap.populateMap(callingStack, \"ServiceName\");\n    }\n}\n</code></pre>\n\n<p>This works just fine and since this was a trial code i now replaced it with the actual interceptor i wanted which is like this</p>\n\n<pre><code>@Pointcut(\"execution( * mycompany.f.g.findPluginForRequest(..)) &amp;&amp; args(request)\")\nprivate void actualInterceptor(BSFBatchRequest request){}\n\n@Before(\"actualInterceptor(request)\")\npublic void getBSFCall(BSFBatchRequest request){ \n    StackTraceElement[] callingStack = Thread.currentThread().getStackTrace();\n    PopulateServiceDependentMap populateServiceDependentMap = new PopulateServiceDependentMap();\n    populateServiceDependentMap.populateMap(callingStack, request);\n}\n</code></pre>\n\n<p>But now my interceptor is not intercepting the call to <code>findPluginForRequest()</code> function.\nWhy is this happening and how can I fix it?</p>\n\n<p>This is my spring config file(.xml) :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:aop=\"http://www.springframework.org/schema/aop\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/aop\nhttp://www.springframework.org/schema/aop/spring-aop-3.0.xsd\"\ndefault-autowire=\"no\"&gt;\n&lt;context:annotation-config/&gt;\n\n&lt;aop:aspectj-autoproxy/&gt;\n\n&lt;bean name=\"com.dpx.dependencyGraphFactory\" class=\"com.mycompany.dpx.dependencytree.ModuleToModuleDependencyGraphFactory\"&gt;&lt;/bean&gt;\n&lt;bean name=\"com.dpx.serviceInterceptor\" class=\"com.mycompany.dpx.dependencytree.RequestSpecificServiceAspect\"/&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>The signature for <code>findPluginForRequest()</code> is <code>private AllPurposeCache&lt;BSFBatchRequest, BSFReply&gt; findPluginForRequest(final BSFBatchRequest request)</code>. I have tried changing the pointcut to  </p>\n\n<pre><code>@Pointcut(\"execution(private * mycompany.f.g.findPluginForRequest(..)) &amp;&amp; args(request)\")\nprivate void actualInterceptor(BSFBatchRequest request){}\n</code></pre>\n\n<p>But it still doesn't work.</p>\n"},{"tags":["java","garbage-collection","jvm","performance"],"answers":[{"tags":[],"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259248372,"creation_date":1259248372,"answer_id":1804232,"question_id":1804186,"body_markdown":"Garbage collection tuning is more than an art then science, and it really depends on your application and its usage. If the standard stop-the-world strategies bother you, why not convert to the CMS (concurrent mark and sweep) or the new G1 collector?\r\n\r\nThe best way is to change the parameters and attach a profiler to examine the application behaviour.","title":"What are the best garbage collection settings for client side?","body":"<p>Garbage collection tuning is more than an art then science, and it really depends on your application and its usage. If the standard stop-the-world strategies bother you, why not convert to the CMS (concurrent mark and sweep) or the new G1 collector?</p>\n\n<p>The best way is to change the parameters and attach a profiler to examine the application behaviour.</p>\n"},{"comments":[{"owner":{"account_id":7985,"reputation":8030,"user_id":14092,"accept_rate":100,"display_name":"tloach"},"score":0,"creation_date":1259248822,"post_id":1804241,"comment_id":1692416,"body_markdown":"Are you actually saying that you think keeping a pool of objects is worse than constantly creating objects and forcing the GC to clean them up?","body":"Are you actually saying that you think keeping a pool of objects is worse than constantly creating objects and forcing the GC to clean them up?"},{"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1259264587,"post_id":1804241,"comment_id":1693588,"body_markdown":"@tloach: Yes. Objects which can&#39;t be reached anymore (= there are no references which point to them) cost nothing during the GC.","body":"@tloach: Yes. Objects which can&#39;t be reached anymore (= there are no references which point to them) cost nothing during the GC."}],"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1259248498,"creation_date":1259248498,"answer_id":1804241,"question_id":1804186,"body_markdown":"There is no &quot;best&quot; option (if there was, anyone would use it, right?) but maybe an option which helps in your case. But here are some tips:\r\n\r\n- Use the latest VM. The GC code got better with every release.\r\n- Use the client jvm.dll (available sinve Java 1.5 in `jre/bin/client/`). This should be the default.\r\n- Allocating and freeing objects in Java is cheap. It&#39;s expensive to keep them around.","title":"What are the best garbage collection settings for client side?","body":"<p>There is no \"best\" option (if there was, anyone would use it, right?) but maybe an option which helps in your case. But here are some tips:</p>\n\n<ul>\n<li>Use the latest VM. The GC code got better with every release.</li>\n<li>Use the client jvm.dll (available sinve Java 1.5 in <code>jre/bin/client/</code>). This should be the default.</li>\n<li>Allocating and freeing objects in Java is cheap. It's expensive to keep them around.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7985,"reputation":8030,"user_id":14092,"accept_rate":100,"display_name":"tloach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259248773,"creation_date":1259248773,"answer_id":1804263,"question_id":1804186,"body_markdown":"If you want better performance then give the garbage collector less work.  Consider using a pool of objects rather than constantly creating and dumping them, and make sure you need every object you create.","title":"What are the best garbage collection settings for client side?","body":"<p>If you want better performance then give the garbage collector less work.  Consider using a pool of objects rather than constantly creating and dumping them, and make sure you need every object you create.</p>\n"},{"comments":[{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":0,"creation_date":1259254666,"post_id":1804504,"comment_id":1692983,"body_markdown":"Thanks for the answer, but what would you look for in profiling. That is what data would indicate one direction over another?","body":"Thanks for the answer, but what would you look for in profiling. That is what data would indicate one direction over another?"},{"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"score":0,"creation_date":1259259067,"post_id":1804504,"comment_id":1693259,"body_markdown":"Well, usually, the GC throughput, the max and average pause time, frequency of full GC and their duration too (to find the best compromise). But it&#39;s hard to answer that for you :)","body":"Well, usually, the GC throughput, the max and average pause time, frequency of full GC and their duration too (to find the best compromise). But it&#39;s hard to answer that for you :)"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1698719137,"creation_date":1259251136,"answer_id":1804504,"question_id":1804186,"body_markdown":"There is no single answer to this question, it is highly depending on what your application is doing and how it manages its objects. Maybe have a look at [How does garbage collection work][1] and [Parallel and concurrent garbage collectors][2] to understand the various options. \r\n\r\nThen, check the [Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning][3] document that expands on GC tuning concepts and techniques for Java SE 6 that were introduced in the [Tuning Garbage Collection with the 5.0 Java Virtual Machine][4] document.\r\n\r\nIf you want to keep garbage collection pauses short, the concurrent collector is likely the right direction as it performs most of its work concurrently (i.e., while the application is still running). But finding the best setup will require profiling (consider measuring the GC throughput, the max and average pause time, the frequency of full GCs and their duration too).\r\n\r\n(EDIT: Having read a comment from the OP, I think that reading [My advice on JVM heap tuning, keep your fingers off the knobs!][5] from the performance guru Kirk Pepperdine would be a good idea.)\r\n\r\n\r\n  [1]: https://web.archive.org/web/20150531073611/https://chaoticjava.com/posts/how-does-garbage-collection-work/\r\n  [2]: https://web.archive.org/web/20140804051311/https://chaoticjava.com/posts/parallel-and-concurrent-garbage-collectors/\r\n  [3]: http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html\r\n  [4]: http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html\r\n  [5]: https://web.archive.org/web/20121127083633/https://kirk.blog-city.com/advice_on_jvm_heap_tuning_dont_touch_that_dial.htm","title":"What are the best garbage collection settings for client side?","body":"<p>There is no single answer to this question, it is highly depending on what your application is doing and how it manages its objects. Maybe have a look at <a href=\"https://web.archive.org/web/20150531073611/https://chaoticjava.com/posts/how-does-garbage-collection-work/\" rel=\"nofollow noreferrer\">How does garbage collection work</a> and <a href=\"https://web.archive.org/web/20140804051311/https://chaoticjava.com/posts/parallel-and-concurrent-garbage-collectors/\" rel=\"nofollow noreferrer\">Parallel and concurrent garbage collectors</a> to understand the various options.</p>\n<p>Then, check the <a href=\"http://java.sun.com/javase/technologies/hotspot/gc/gc_tuning_6.html\" rel=\"nofollow noreferrer\">Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning</a> document that expands on GC tuning concepts and techniques for Java SE 6 that were introduced in the <a href=\"http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html\" rel=\"nofollow noreferrer\">Tuning Garbage Collection with the 5.0 Java Virtual Machine</a> document.</p>\n<p>If you want to keep garbage collection pauses short, the concurrent collector is likely the right direction as it performs most of its work concurrently (i.e., while the application is still running). But finding the best setup will require profiling (consider measuring the GC throughput, the max and average pause time, the frequency of full GCs and their duration too).</p>\n<p>(EDIT: Having read a comment from the OP, I think that reading <a href=\"https://web.archive.org/web/20121127083633/https://kirk.blog-city.com/advice_on_jvm_heap_tuning_dont_touch_that_dial.htm\" rel=\"nofollow noreferrer\">My advice on JVM heap tuning, keep your fingers off the knobs!</a> from the performance guru Kirk Pepperdine would be a good idea.)</p>\n"},{"comments":[{"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"score":0,"creation_date":1385285197,"post_id":10117837,"comment_id":30073188,"body_markdown":"Helpful fur people who do not want to bother with over complicated gc tuning. A further tip: adjust the max values to fit your needs and start with minimal values: &quot;-Xms16m -XX:PermSize=16m&quot; After the application is running under full load, check what sizes are used then and adjust the min values. Also remove the logging options you don&#39;t need.","body":"Helpful fur people who do not want to bother with over complicated gc tuning. A further tip: adjust the max values to fit your needs and start with minimal values: &quot;-Xms16m -XX:PermSize=16m&quot; After the application is running under full load, check what sizes are used then and adjust the min values. Also remove the logging options you don&#39;t need."}],"tags":[],"owner":{"account_id":1349722,"reputation":61,"user_id":1289719,"display_name":"Martin"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1334208230,"creation_date":1334208230,"answer_id":10117837,"question_id":1804186,"body_markdown":"This is quite automatic and works for us:\r\n\r\n    -server -Xss4096k -Xms12G -Xmx12G -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -verbose:gc -Xmaxf1 -XX:+UseCompressedOops -XX:+DisableExplicitGC -XX:+AggressiveOpts -XX:+ScavengeBeforeFullGC -XX:CMSFullGCsBeforeCompaction=10 -XX:CMSInitiatingOccupancyFraction=80 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:+CMSParallelRemarkEnabled -XX:GCTimeRatio=19 -XX:+UseAdaptiveSizePolicy -XX:MaxGCPauseMillis=500 -XX:+PrintGCTaskTimeStamps -XX:+PrintGCApplicationStoppedTime -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCApplicationConcurrentTime -XX:+PrintTenuringDistribution -Xloggc:gc.log","title":"What are the best garbage collection settings for client side?","body":"<p>This is quite automatic and works for us:</p>\n\n<pre><code>-server -Xss4096k -Xms12G -Xmx12G -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -verbose:gc -Xmaxf1 -XX:+UseCompressedOops -XX:+DisableExplicitGC -XX:+AggressiveOpts -XX:+ScavengeBeforeFullGC -XX:CMSFullGCsBeforeCompaction=10 -XX:CMSInitiatingOccupancyFraction=80 -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSIncrementalMode -XX:+CMSIncrementalPacing -XX:+CMSParallelRemarkEnabled -XX:GCTimeRatio=19 -XX:+UseAdaptiveSizePolicy -XX:MaxGCPauseMillis=500 -XX:+PrintGCTaskTimeStamps -XX:+PrintGCApplicationStoppedTime -XX:+PrintHeapAtGC -XX:+PrintTenuringDistribution -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCApplicationConcurrentTime -XX:+PrintTenuringDistribution -Xloggc:gc.log\n</code></pre>\n"}],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8019,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1804504,"answer_count":5,"score":5,"last_activity_date":1698719137,"creation_date":1259247796,"question_id":1804186,"body_markdown":"Recent JVM&#39;s have a lot of XX parameters for garbage collection (see [here][1] for example), but what are the options which can make a client side Swing application really perform better?\r\n\r\nI should note that one of the things that really annoys me on client side java applications is the large delay in stop-the-world garbage collection. In Intelli-J IDEA I have seen it go three minutes or more.\r\n\r\nEDIT: Thanks for all the responses. Just to report back I put on the CMS garbage collector for IDEA (which is a good common reference of the type of application that most everyone reading this question is familiar with) using the setting&#39;s suggested from [here][2]. I also set -XX:+StringCache to see if it would reduce memory requirements.\r\n\r\nIn general, the observation is that regular running performance is not degraded to the point where you can notice looking at it. The memory reduction is *huge* using the String Cache option, however the CMS method is not thorough and ends up requiring a stop the world garbage collection cycle (back to the three minute wait) to clear out the memory (400MB in one run).\r\n\r\nHowever, given the reduced memory footprint, I might be able to just put a smaller maximum amount of memory which will keep the stop the world collections smaller in sizes.\r\n\r\nIDEA 8.1.4 comes with JDK 1.6.0_12, so I didn&#39;t test G1 yet. Also, my machine only has 2 cores, so a G1 approach won&#39;t really be maximized. Time to hit the boss up for a better machine ;).\r\n\r\n\r\n  [1]: http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp#PerformanceTuning\r\n  [2]: http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html#5.4.9.2","title":"What are the best garbage collection settings for client side?","body":"<p>Recent JVM's have a lot of XX parameters for garbage collection (see <a href=\"http://java.sun.com/javase/technologies/hotspot/vmoptions.jsp#PerformanceTuning\" rel=\"nofollow noreferrer\">here</a> for example), but what are the options which can make a client side Swing application really perform better?</p>\n\n<p>I should note that one of the things that really annoys me on client side java applications is the large delay in stop-the-world garbage collection. In Intelli-J IDEA I have seen it go three minutes or more.</p>\n\n<p>EDIT: Thanks for all the responses. Just to report back I put on the CMS garbage collector for IDEA (which is a good common reference of the type of application that most everyone reading this question is familiar with) using the setting's suggested from <a href=\"http://java.sun.com/docs/hotspot/gc5.0/gc_tuning_5.html#5.4.9.2\" rel=\"nofollow noreferrer\">here</a>. I also set -XX:+StringCache to see if it would reduce memory requirements.</p>\n\n<p>In general, the observation is that regular running performance is not degraded to the point where you can notice looking at it. The memory reduction is <em>huge</em> using the String Cache option, however the CMS method is not thorough and ends up requiring a stop the world garbage collection cycle (back to the three minute wait) to clear out the memory (400MB in one run).</p>\n\n<p>However, given the reduced memory footprint, I might be able to just put a smaller maximum amount of memory which will keep the stop the world collections smaller in sizes.</p>\n\n<p>IDEA 8.1.4 comes with JDK 1.6.0_12, so I didn't test G1 yet. Also, my machine only has 2 cores, so a G1 approach won't really be maximized. Time to hit the boss up for a better machine ;).</p>\n"},{"tags":["java","mockito","log4j","spock"],"answers":[{"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1610696448,"post_id":65712610,"comment_id":116218631,"body_markdown":"Thanks for accepting my answer. Would you mind explaining how you solved the problem? I mentioned several options.","body":"Thanks for accepting my answer. Would you mind explaining how you solved the problem? I mentioned several options."},{"owner":{"account_id":17952351,"reputation":47,"user_id":13045218,"display_name":"srinivasreddyramaram"},"score":0,"creation_date":1614262356,"post_id":65712610,"comment_id":117336560,"body_markdown":"#2 solved the issue, I needed to set the ID.","body":"#2 solved the issue, I needed to set the ID."}],"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1698718586,"creation_date":1610591737,"answer_id":65712610,"question_id":65702384,"body_markdown":"Spock cannot mock static methods of Java classes out of the box, only Groovy classes. With additional tools such as Mockito, Powermock, JMockit or my own tool Sarek this is possible. I would not go that way if I were you, though. For me your sample code runs flawlessly like this:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q65702384\r\n\r\nimport org.apache.logging.log4j.ThreadContext\r\nimport spock.lang.Specification\r\n\r\nclass Log4JThreadContextTest extends Specification {\r\n  def setupSpec() {\r\n    ThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)\r\n  }\r\n\r\n  def test() {\r\n    expect:\r\n    ThreadContext.get(&quot;userId&quot;) == &quot;sriram&quot;\r\n  }\r\n}\r\n```\r\n\r\nSo `ThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)` does what you want. If it does not, your problem is something unrelated to Spock, for example:\r\n  * Maybe you set the context for the wrong thread. Then you need to identify the correct thread and set the context there.\r\n  * Maybe it is simply a matter of when you set the ID. Maybe in `setupSpec()` you are just too early because your code under test sets the same property during execution, e.g. in the `//some business logic` section.\r\n  * As a variation of the previous point, maybe you need to initialise another object first which then triggers the user ID to be set. Your own statement just needs to come afterwards, no matter if in `setupSpec()`, `setup()` or somewhere in your feature method.","title":"unit testing: mock ThreadContext map impl using Spock or Mockito","body":"<p>Spock cannot mock static methods of Java classes out of the box, only Groovy classes. With additional tools such as Mockito, Powermock, JMockit or my own tool Sarek this is possible. I would not go that way if I were you, though. For me your sample code runs flawlessly like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q65702384\n\nimport org.apache.logging.log4j.ThreadContext\nimport spock.lang.Specification\n\nclass Log4JThreadContextTest extends Specification {\n  def setupSpec() {\n    ThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)\n  }\n\n  def test() {\n    expect:\n    ThreadContext.get(&quot;userId&quot;) == &quot;sriram&quot;\n  }\n}\n</code></pre>\n<p>So <code>ThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)</code> does what you want. If it does not, your problem is something unrelated to Spock, for example:</p>\n<ul>\n<li>Maybe you set the context for the wrong thread. Then you need to identify the correct thread and set the context there.</li>\n<li>Maybe it is simply a matter of when you set the ID. Maybe in <code>setupSpec()</code> you are just too early because your code under test sets the same property during execution, e.g. in the <code>//some business logic</code> section.</li>\n<li>As a variation of the previous point, maybe you need to initialise another object first which then triggers the user ID to be set. Your own statement just needs to come afterwards, no matter if in <code>setupSpec()</code>, <code>setup()</code> or somewhere in your feature method.</li>\n</ul>\n"}],"owner":{"account_id":17952351,"reputation":47,"user_id":13045218,"display_name":"srinivasreddyramaram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1587,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65712610,"answer_count":1,"score":2,"last_activity_date":1698718614,"creation_date":1610542395,"question_id":65702384,"body_markdown":"My method is in a Java class like this...\r\n\r\n```public Map&lt;String, String&gt; doSomething() {\r\n   //some business logic\r\n   String userId = org.apache.logging.log4j.ThreadContext.get(&quot;userId&quot;); //I need mocking for this using Spock or Mockito\r\n   //more business logic\r\n   return map;\r\n}\r\n```\r\n\r\n\r\nI am trying to write a test for the above method using Spock framework and ThreadContext is getting in the way - I couldn&#39;t mock it to return a string of my wish. I tried to put a custom value into the ThreadContext during setup of the spock test...(didn&#39;t work)\r\n\r\n```\r\n\tdef setupSpec() {\r\n\t\tThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)\r\n\t}\r\n```","title":"unit testing: mock ThreadContext map impl using Spock or Mockito","body":"<p>My method is in a Java class like this...</p>\n<pre><code>   //some business logic\n   String userId = org.apache.logging.log4j.ThreadContext.get(&quot;userId&quot;); //I need mocking for this using Spock or Mockito\n   //more business logic\n   return map;\n}\n</code></pre>\n<p>I am trying to write a test for the above method using Spock framework and ThreadContext is getting in the way - I couldn't mock it to return a string of my wish. I tried to put a custom value into the ThreadContext during setup of the spock test...(didn't work)</p>\n<pre><code>    def setupSpec() {\n        ThreadContext.put(&quot;userId&quot;, &quot;sriram&quot;)\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","taglib"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1295193335,"post_id":4706259,"comment_id":5195052,"body_markdown":"possible duplicate of [How to inject spring beans into a jsp 2.0 SimpleTag ?](http://stackoverflow.com/questions/1296052/how-to-inject-spring-beans-into-a-jsp-2-0-simpletag)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1296052/how-to-inject-spring-beans-into-a-jsp-2-0-simpletag\">How to inject spring beans into a jsp 2.0 SimpleTag ?</a>"},{"owner":{"account_id":47449,"reputation":1503,"user_id":140514,"accept_rate":88,"display_name":"Caps"},"score":0,"creation_date":1295407976,"post_id":4706259,"comment_id":5228311,"body_markdown":"I know you probably don&#39;t want to hear this, but why are you performing operations that require spring beans in your view? It&#39;s best practice to keep your views as simple as possible. I&#39;d try and attempt to do this in your controller if you haven&#39;t already...","body":"I know you probably don&#39;t want to hear this, but why are you performing operations that require spring beans in your view? It&#39;s best practice to keep your views as simple as possible. I&#39;d try and attempt to do this in your controller if you haven&#39;t already..."},{"owner":{"account_id":251211,"reputation":32622,"user_id":528428,"accept_rate":80,"display_name":"Benjamin Muschko"},"score":0,"creation_date":1302273570,"post_id":4706259,"comment_id":6371234,"body_markdown":"I agree with @Caps. You should move that code to the Controller.","body":"I agree with @Caps. You should move that code to the Controller."}],"answers":[{"tags":[],"owner":{"account_id":251211,"reputation":32622,"user_id":528428,"accept_rate":80,"display_name":"Benjamin Muschko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1302274036,"creation_date":1302274036,"answer_id":5596816,"question_id":4706259,"body_markdown":"You should prefer to put that logic into your controller. If you really need to do that you can write a utility class to retrieve beans from the application context.\r\n\r\n    public class AppContextUtil implements ApplicationContextAware \r\n    {\r\n        private static final AppContextUtil instance = new AppContextUtil();\r\n        private ApplicationContext applicationContext;\r\n    \r\n        private AppContextUtil() {}\r\n    \r\n        public static AppContextUtil getInstance() \r\n        {\r\n            return instance;\r\n        }\r\n    \r\n        public &lt;T&gt; T getBean(Class&lt;T&gt; clazz) \r\n        {\r\n            return applicationContext.getBean(clazz);\r\n        }\r\n    \r\n        @Override\r\n        public void setApplicationContext(ApplicationContext applicationContext) throws BeansException \r\n        {\r\n            this.applicationContext = applicationContext;\r\n        }\r\n    }\r\n\r\nYou would then be able to retrieve your bean like this:\r\n\r\n    AppContextUtil.getInstance().getBean(MyObject.class);","title":"Spring MVC and custom tags","body":"<p>You should prefer to put that logic into your controller. If you really need to do that you can write a utility class to retrieve beans from the application context.</p>\n\n<pre><code>public class AppContextUtil implements ApplicationContextAware \n{\n    private static final AppContextUtil instance = new AppContextUtil();\n    private ApplicationContext applicationContext;\n\n    private AppContextUtil() {}\n\n    public static AppContextUtil getInstance() \n    {\n        return instance;\n    }\n\n    public &lt;T&gt; T getBean(Class&lt;T&gt; clazz) \n    {\n        return applicationContext.getBean(clazz);\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException \n    {\n        this.applicationContext = applicationContext;\n    }\n}\n</code></pre>\n\n<p>You would then be able to retrieve your bean like this:</p>\n\n<pre><code>AppContextUtil.getInstance().getBean(MyObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":389728,"reputation":128,"user_id":749348,"display_name":"Angus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1330718366,"creation_date":1330455932,"answer_id":9488104,"question_id":4706259,"body_markdown":"In your controller, put the object into the model.\r\n\r\nThe object can now be found in the HttpRequest object that is part of your tag.\r\n\r\nController:\r\n\r\n    model.addAttribute(&quot;item&quot;, item);\r\n\r\nJsp File:\r\n\r\n     &lt;%= ((com.content.CmsItem)(request.getAttribute(&quot;item&quot;))).getId() %&gt;\r\n\r\nIf you must autowire, check out my solution on &#39;[https://stackoverflow.com/questions/3445908/is-there-an-elegant-way-to-inject-a-spring-managed-bean-into-a-java-custom-simpl/][1]&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3445908/is-there-an-elegant-way-to-inject-a-spring-managed-bean-into-a-java-custom-simpl/","title":"Spring MVC and custom tags","body":"<p>In your controller, put the object into the model.</p>\n\n<p>The object can now be found in the HttpRequest object that is part of your tag.</p>\n\n<p>Controller:</p>\n\n<pre><code>model.addAttribute(\"item\", item);\n</code></pre>\n\n<p>Jsp File:</p>\n\n<pre><code> &lt;%= ((com.content.CmsItem)(request.getAttribute(\"item\"))).getId() %&gt;\n</code></pre>\n\n<p>If you must autowire, check out my solution on '<a href=\"https://stackoverflow.com/questions/3445908/is-there-an-elegant-way-to-inject-a-spring-managed-bean-into-a-java-custom-simpl/\">is there an elegant way to inject a spring managed bean into a java custom/simple tag</a>'</p>\n"},{"tags":[],"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1698718423,"creation_date":1336559985,"answer_id":10514404,"question_id":4706259,"body_markdown":"Finally, the working way to do this was to declare the fields that should be initiated by spring as static and let initiate one Tag-instance\r\n\r\n    public class MyTag extends TagSupport {\r\n      private static MyObject myObject;\r\n\r\n      @Autowired\r\n      public void setMyObject(MyObject myObject) {\r\n        MyTag.myObject = myObject;\r\n      }\r\n\r\n      public int doEndTag() {\r\n        return object.doStuff();\r\n      }\r\n    }\r\n","title":"Spring MVC and custom tags","body":"<p>Finally, the working way to do this was to declare the fields that should be initiated by spring as static and let initiate one Tag-instance</p>\n<pre><code>public class MyTag extends TagSupport {\n  private static MyObject myObject;\n\n  @Autowired\n  public void setMyObject(MyObject myObject) {\n    MyTag.myObject = myObject;\n  }\n\n  public int doEndTag() {\n    return object.doStuff();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7873,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":10514404,"answer_count":3,"score":6,"last_activity_date":1698718423,"creation_date":1295192511,"question_id":4706259,"body_markdown":"I want to use spring-beans in my custom taglibs in a spring-mvc application. Cause TagLib-Instances aren&#39;t instantiated by spring, I can&#39;t use dependnecy-injection.\r\n\r\nMy next thought was to add the spring-context by an interceptor to the request and get it from request within the tag-class.\r\n\r\nIs there a better way to use spring in taglibs? Is there something ready-to-use in spring? If theres not already customtag-support in spring-mvc, is there a way to populate an exisiting object with dependencies?\r\n\r\n    public class MyTag extends TagSupport {\r\n      @Autowired \r\n      private MyObject object;\r\n\r\n      public void setMyObject(MyObject myObject) {\r\n        this.myObject = myObject;\r\n      }\r\n\r\n      public int doEndTag() {\r\n        ApplicationContext context = request.getAttribute(&quot;context&quot;);\r\n        context.populate(this);\r\n        \r\n        return object.doStuff();\r\n      }\r\n    }","title":"Spring MVC and custom tags","body":"<p>I want to use spring-beans in my custom taglibs in a spring-mvc application. Cause TagLib-Instances aren't instantiated by spring, I can't use dependnecy-injection.</p>\n\n<p>My next thought was to add the spring-context by an interceptor to the request and get it from request within the tag-class.</p>\n\n<p>Is there a better way to use spring in taglibs? Is there something ready-to-use in spring? If theres not already customtag-support in spring-mvc, is there a way to populate an exisiting object with dependencies?</p>\n\n<pre><code>public class MyTag extends TagSupport {\n  @Autowired \n  private MyObject object;\n\n  public void setMyObject(MyObject myObject) {\n    this.myObject = myObject;\n  }\n\n  public int doEndTag() {\n    ApplicationContext context = request.getAttribute(\"context\");\n    context.populate(this);\n\n    return object.doStuff();\n  }\n}\n</code></pre>\n"},{"tags":["java","regex","lucene"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696107223,"creation_date":1313262563,"answer_id":7052681,"question_id":7052492,"body_markdown":"If you have your field indexed as a &quot;string&quot; type (instead of &quot;text&quot; type), your regex would have to match the *whole* field value.  \r\nTry this, which takes your regex out to both ends of the field:\r\n\r\n    System.err.println(regexQueryNrHits(&quot;.*bug [0-9]+.*&quot;,null));\r\n\r\nNote that start and end anchors `^` and `$` are implied and therefore not required.","title":"RegEx matching using Lucene","body":"<p>If you have your field indexed as a &quot;string&quot; type (instead of &quot;text&quot; type), your regex would have to match the <em>whole</em> field value.<br />\nTry this, which takes your regex out to both ends of the field:</p>\n<pre><code>System.err.println(regexQueryNrHits(&quot;.*bug [0-9]+.*&quot;,null));\n</code></pre>\n<p>Note that start and end anchors <code>^</code> and <code>$</code> are implied and therefore not required.</p>\n"},{"comments":[{"owner":{"account_id":1787149,"reputation":32983,"user_id":1628375,"display_name":"femtoRgon"},"score":0,"creation_date":1449990660,"post_id":7056304,"comment_id":56239141,"body_markdown":"The problem isn&#39;t with the numbers.  The problem is with how regex queries and analysis are intended to work together.  Your regex must match a *term*, not the whole field.  That&#39;s why it works with `NOT_ANALYZED`, you&#39;ve made the whole field into a single term.  One warning, though.  When you make a field like that unanalyzed, you abandon most of the advantages of using a search index in the first place (e.g. performance).","body":"The problem isn&#39;t with the numbers.  The problem is with how regex queries and analysis are intended to work together.  Your regex must match a <i>term</i>, not the whole field.  That&#39;s why it works with <code>NOT_ANALYZED</code>, you&#39;ve made the whole field into a single term.  One warning, though.  When you make a field like that unanalyzed, you abandon most of the advantages of using a search index in the first place (e.g. performance)."}],"tags":[],"owner":{"account_id":480497,"reputation":413,"user_id":893772,"display_name":"loteck"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1313318189,"creation_date":1313318189,"answer_id":7056304,"question_id":7052492,"body_markdown":"Thanks, but this alone didn&#39;t solve the problem. The problem is the `Field.Index.ANALYZED` flag:\r\n\r\nIt seems that lucene doesn&#39;t index numbers in a proper way so that a regex could be used with them.\r\n\r\n\r\nI changed:\r\n\r\n\r\n\r\n    doc.add(new Field(\r\n    FN,&quot;[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)&quot;,Field.Store.NO, Field.Index.ANALYZED));\r\n\r\nto\r\n\r\n        doc.add(new Field(\r\n    FN,&quot;[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)&quot;,Field.Store.NO, Field.Index.NOT_ANALYZED));\r\n\r\nand with your improved regex:\r\n\r\n        System.err.println(regexQueryNrHits(&quot;^.*bug #+[0-9]+.*$&quot;,\r\n    new JavaUtilRegexCapabilities()));\r\n\r\nit finally worked! :)\r\n\r\n","title":"RegEx matching using Lucene","body":"<p>Thanks, but this alone didn't solve the problem. The problem is the <code>Field.Index.ANALYZED</code> flag:</p>\n\n<p>It seems that lucene doesn't index numbers in a proper way so that a regex could be used with them.</p>\n\n<p>I changed:</p>\n\n<pre><code>doc.add(new Field(\nFN,\"[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)\",Field.Store.NO, Field.Index.ANALYZED));\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    doc.add(new Field(\nFN,\"[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)\",Field.Store.NO, Field.Index.NOT_ANALYZED));\n</code></pre>\n\n<p>and with your improved regex:</p>\n\n<pre><code>    System.err.println(regexQueryNrHits(\"^.*bug #+[0-9]+.*$\",\nnew JavaUtilRegexCapabilities()));\n</code></pre>\n\n<p>it finally worked! :)</p>\n"}],"owner":{"account_id":805857,"reputation":1,"user_id":893307,"display_name":"loteck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1698717650,"creation_date":1313260522,"question_id":7052492,"body_markdown":"I would like to find &quot;Bug reports&quot; with Lucene using a regular expression, but whenever I try it doesn&#39;t work.\r\n\r\nI used the code from the [Lucene page][1] to avoid a bad setup.\r\n\r\nHere is my code:\r\n\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.apache.lucene.analysis.SimpleAnalyzer;\r\n    import org.apache.lucene.document.Document;\r\n    import org.apache.lucene.document.Field;\r\n    import org.apache.lucene.index.IndexWriter;\r\n    import org.apache.lucene.index.Term;\r\n    import org.apache.lucene.search.IndexSearcher;\r\n    import org.apache.lucene.search.regex.JakartaRegexpCapabilities;\r\n    import org.apache.lucene.search.regex.RegexCapabilities;\r\n    import org.apache.lucene.search.regex.RegexQuery;\r\n    import org.apache.lucene.store.RAMDirectory;\r\n    \r\n    public class Rege {\r\n    \r\n      private static IndexSearcher searcher;\r\n      private static final String FN = &quot;field&quot;;\r\n    \r\n      public static void main(String[] args) throws Exception {\r\n        RAMDirectory directory = new RAMDirectory();\r\n        try {\r\n    \r\n          IndexWriter writer = new IndexWriter(directory,\r\n              new SimpleAnalyzer(), true,\r\n              IndexWriter.MaxFieldLength.LIMITED);\r\n          Document doc = new Document();\r\n          doc\r\n              .add(new Field(\r\n                  FN,\r\n                  &quot;[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)&quot;,\r\n                  Field.Store.NO, Field.Index.ANALYZED));\r\n          writer.addDocument(doc);\r\n          writer.optimize();\r\n          writer.close();\r\n          searcher = new IndexSearcher(directory, true);\r\n    \r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n    \r\n        System.err.println(regexQueryNrHits(&quot;bug [0-9]+&quot;,null));\r\n    \r\n      }\r\n    \r\n      private static Term newTerm(String value) {\r\n        return new Term(FN, value);\r\n      }\r\n    \r\n      private static int regexQueryNrHits(String regex,\r\n          RegexCapabilities capability) throws Exception {\r\n    \r\n        RegexQuery query = new RegexQuery(newTerm(regex));\r\n    \r\n        if (capability != null)\r\n          query.setRegexImplementation(capability);\r\n    \r\n        return searcher.search(query, null, 1000).totalHits;\r\n      }\r\n    \r\n    }\r\n\r\n\r\nI would expect `bug [0-9]+` to return `1` but it doesn&#39;t. I also tested the regex with Java and it worked.\r\n\r\n[1]: http://svn.apache.org/viewvc/lucene/java/tags/lucene_3_0_3/contrib/regex/src/test/org/apache/lucene/search/regex/TestRegexQuery.java?revision=1040994&amp;view=co\r\n","title":"RegEx matching using Lucene","body":"<p>I would like to find \"Bug reports\" with Lucene using a regular expression, but whenever I try it doesn't work.</p>\n\n<p>I used the code from the <a href=\"http://svn.apache.org/viewvc/lucene/java/tags/lucene_3_0_3/contrib/regex/src/test/org/apache/lucene/search/regex/TestRegexQuery.java?revision=1040994&amp;view=co\" rel=\"nofollow\">Lucene page</a> to avoid a bad setup.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\nimport org.apache.lucene.analysis.SimpleAnalyzer;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.document.Field;\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.index.Term;\nimport org.apache.lucene.search.IndexSearcher;\nimport org.apache.lucene.search.regex.JakartaRegexpCapabilities;\nimport org.apache.lucene.search.regex.RegexCapabilities;\nimport org.apache.lucene.search.regex.RegexQuery;\nimport org.apache.lucene.store.RAMDirectory;\n\npublic class Rege {\n\n  private static IndexSearcher searcher;\n  private static final String FN = \"field\";\n\n  public static void main(String[] args) throws Exception {\n    RAMDirectory directory = new RAMDirectory();\n    try {\n\n      IndexWriter writer = new IndexWriter(directory,\n          new SimpleAnalyzer(), true,\n          IndexWriter.MaxFieldLength.LIMITED);\n      Document doc = new Document();\n      doc\n          .add(new Field(\n              FN,\n              \"[Phpmyadmin-devel] Commits against bug 601721 (Cookie auth mode faulty with IIS)\",\n              Field.Store.NO, Field.Index.ANALYZED));\n      writer.addDocument(doc);\n      writer.optimize();\n      writer.close();\n      searcher = new IndexSearcher(directory, true);\n\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n\n    System.err.println(regexQueryNrHits(\"bug [0-9]+\",null));\n\n  }\n\n  private static Term newTerm(String value) {\n    return new Term(FN, value);\n  }\n\n  private static int regexQueryNrHits(String regex,\n      RegexCapabilities capability) throws Exception {\n\n    RegexQuery query = new RegexQuery(newTerm(regex));\n\n    if (capability != null)\n      query.setRegexImplementation(capability);\n\n    return searcher.search(query, null, 1000).totalHits;\n  }\n\n}\n</code></pre>\n\n<p>I would expect <code>bug [0-9]+</code> to return <code>1</code> but it doesn't. I also tested the regex with Java and it worked.</p>\n"},{"tags":["java","spring-boot","apache-camel-3"],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698717614,"creation_date":1698717614,"question_id":77392752,"body_markdown":"I&#39;m suspicious of my times to process messages due to it varying widely regardless of number of consumers and numbers of threads. \r\n\r\nMy code is:\r\n```\r\n@Component\r\n@Scope(&quot;prototype&quot;)\r\npublic class ThreadStopWatch {\r\n    private long startCpuTime = -1;\r\n    private long stopCpuTime = -1;\r\n    public Long start() {\r\n        startCpuTime = System.nanoTime();\r\n        stopCpuTime = startCpuTime;\r\n    }\r\n    public getElapsedTime() {\r\n        stopCpuTime = System.nanoTime();\r\n        return stopCpuTime - startCpuTime;\r\n    }\r\n}\r\n...\r\nprivate ThreadStopWatch threadStopWatch;\r\n\r\npublic configure(...) {\r\n    for(Endpoint endpoint: myendpoints) {\r\n        if(endpoint !=null) {\r\n            from(endpoint).to(aggregate)\r\n        }\r\n    }\r\n    from(aggregate).routeId(ROUTEBUILDER_ID)\r\n        .log(&quot;Payload ${body}&quot;)\r\n        .process(e-&gt;threadStopWatch.start())\r\n        .bean(config, &quot;unmarshalObject&quot;)\r\n        .bean(mapper, &quot;map&quot;)\r\n        .marshal()\r\n        .json(JsonLibrary.Gson)\r\n        .threads(min_size,max_size).id(ROUTEBUILDER_THREAD_ID)\r\n        .process(e-&gt; {\r\n            long elapsedTime = threadStopWatch.getElapsedTime();\r\n            e.getIn().setHeader(&quot;elapsedTime&quot;,elapsedTime);\r\n        })\r\n        .log(&quot;Elapsed time: ${header.elapsedTime} nanoseconds&quot;)\r\n        .end();\r\n}\r\n```\r\n\r\nI was spending a lot of time figuring out the Apache Camel inside of a Spring Boot application to create a stopwatch for that specific message. While I thought I did it properly, I&#39;m not certain that each message will get a new ThreadStopWatch and a valid time. I&#39;d like to have a valid ThreadStopWatch for each message.\r\n\r\nSystem.nanoTime is going to give wall time and I realize this is a shortcoming, especially since it&#39;s a multi-threaded app. What would be a better timing mechanism less polluted with other threads?\r\n\r\n","title":"Measuring Camel Performance","body":"<p>I'm suspicious of my times to process messages due to it varying widely regardless of number of consumers and numbers of threads.</p>\n<p>My code is:</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class ThreadStopWatch {\n    private long startCpuTime = -1;\n    private long stopCpuTime = -1;\n    public Long start() {\n        startCpuTime = System.nanoTime();\n        stopCpuTime = startCpuTime;\n    }\n    public getElapsedTime() {\n        stopCpuTime = System.nanoTime();\n        return stopCpuTime - startCpuTime;\n    }\n}\n...\nprivate ThreadStopWatch threadStopWatch;\n\npublic configure(...) {\n    for(Endpoint endpoint: myendpoints) {\n        if(endpoint !=null) {\n            from(endpoint).to(aggregate)\n        }\n    }\n    from(aggregate).routeId(ROUTEBUILDER_ID)\n        .log(&quot;Payload ${body}&quot;)\n        .process(e-&gt;threadStopWatch.start())\n        .bean(config, &quot;unmarshalObject&quot;)\n        .bean(mapper, &quot;map&quot;)\n        .marshal()\n        .json(JsonLibrary.Gson)\n        .threads(min_size,max_size).id(ROUTEBUILDER_THREAD_ID)\n        .process(e-&gt; {\n            long elapsedTime = threadStopWatch.getElapsedTime();\n            e.getIn().setHeader(&quot;elapsedTime&quot;,elapsedTime);\n        })\n        .log(&quot;Elapsed time: ${header.elapsedTime} nanoseconds&quot;)\n        .end();\n}\n</code></pre>\n<p>I was spending a lot of time figuring out the Apache Camel inside of a Spring Boot application to create a stopwatch for that specific message. While I thought I did it properly, I'm not certain that each message will get a new ThreadStopWatch and a valid time. I'd like to have a valid ThreadStopWatch for each message.</p>\n<p>System.nanoTime is going to give wall time and I realize this is a shortcoming, especially since it's a multi-threaded app. What would be a better timing mechanism less polluted with other threads?</p>\n"},{"tags":["java","arrays","string","loops"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":1,"creation_date":1698718216,"post_id":77392724,"comment_id":136437941,"body_markdown":"Out of curiosity, why do you care? If you need to search or manipulate each character of the String as char, then what you&#39;re doing is fine. Your code always depends on the requirements of the job, so there&#39;s no &quot;best&quot; way. Resist the temptation to make unnecessary optimizations. If your code isn&#39;t doing what you need it to do in the way it needs to be done, then explore alternatives.","body":"Out of curiosity, why do you care? If you need to search or manipulate each character of the String as char, then what you&#39;re doing is fine. Your code always depends on the requirements of the job, so there&#39;s no &quot;best&quot; way. Resist the temptation to make unnecessary optimizations. If your code isn&#39;t doing what you need it to do in the way it needs to be done, then explore alternatives."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1698721498,"post_id":77392724,"comment_id":136438248,"body_markdown":"There&#39;s nothing wrong with your approach. It&#39;s been common in Java for decades, and is easily recognized and  understood. It may be there are circumstances that would make one of the alternatives better. But, since we don&#39;t know those circumstances, we couldn&#39;t say.","body":"There&#39;s nothing wrong with your approach. It&#39;s been common in Java for decades, and is easily recognized and  understood. It may be there are circumstances that would make one of the alternatives better. But, since we don&#39;t know those circumstances, we couldn&#39;t say."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698744168,"post_id":77392724,"comment_id":136441027,"body_markdown":"There aren&#39;t many alternatives, to be honest. There&#39;s `CharacterIterator` and its implementation `StringCharacterIterator` but that&#39;s cumbersome. There&#39;s using `toCharArray()` but that creates a copy. There&#39;s `getChars` but that either requires a full copy, or a partial copy and nested looping (outer loop for `getChars`, inner loop for the `char[]` that&#39;s been read). And if you feel like doing things even more overly complex, there&#39;s `StringReader`. But in the end, out of all of these, the simple loop with `charAt` is still preferred.","body":"There aren&#39;t many alternatives, to be honest. There&#39;s <code>CharacterIterator</code> and its implementation <code>StringCharacterIterator</code> but that&#39;s cumbersome. There&#39;s using <code>toCharArray()</code> but that creates a copy. There&#39;s <code>getChars</code> but that either requires a full copy, or a partial copy and nested looping (outer loop for <code>getChars</code>, inner loop for the <code>char[]</code> that&#39;s been read). And if you feel like doing things even more overly complex, there&#39;s <code>StringReader</code>. But in the end, out of all of these, the simple loop with <code>charAt</code> is still preferred."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698744242,"post_id":77392724,"comment_id":136441047,"body_markdown":"There is one alternative that actually is interesting though, and that&#39;s using `chars()`. That returns an `IntStream` so you need to cast its arguments to `char` before adding them to any `StringBuilder` etc., otherwise you&#39;ll get unexpected results.","body":"There is one alternative that actually is interesting though, and that&#39;s using <code>chars()</code>. That returns an <code>IntStream</code> so you need to cast its arguments to <code>char</code> before adding them to any <code>StringBuilder</code> etc., otherwise you&#39;ll get unexpected results."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1698758256,"post_id":77392724,"comment_id":136443618,"body_markdown":"Does this answer your question? [What is the easiest/best/most correct way to iterate through the characters of a string in Java?](https://stackoverflow.com/questions/196830/what-is-the-easiest-best-most-correct-way-to-iterate-through-the-characters-of-a)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/196830/what-is-the-easiest-best-most-correct-way-to-iterate-through-the-characters-of-a\">What is the easiest/best/most correct way to iterate through the characters of a string in Java?</a>"},{"owner":{"account_id":18767372,"reputation":1,"user_id":13684947,"display_name":"Satish Chauhan"},"score":0,"creation_date":1698839425,"post_id":77392724,"comment_id":136455103,"body_markdown":"@RobSpoor has a point while I was iterating through string was using `char [] arr=s.toCharArray();` which creates a copy is there any possible solution that could iterate through string without using extra memory (I mean without converting to into char array) P.S I am aware String objects are immutable.","body":"@RobSpoor has a point while I was iterating through string was using <code>char [] arr=s.toCharArray();</code> which creates a copy is there any possible solution that could iterate through string without using extra memory (I mean without converting to into char array) P.S I am aware String objects are immutable."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1698840475,"post_id":77392724,"comment_id":136455297,"body_markdown":"@SatishChauhan the code you posted originally is just fine, and has the least overhead in memory of all solutions I can think of.","body":"@SatishChauhan the code you posted originally is just fine, and has the least overhead in memory of all solutions I can think of."},{"owner":{"account_id":18767372,"reputation":1,"user_id":13684947,"display_name":"Satish Chauhan"},"score":0,"creation_date":1698928399,"post_id":77392724,"comment_id":136468056,"body_markdown":"So basically my question is the solution And one of the best practices that could be followed for iterating for strings in Java?","body":"So basically my question is the solution And one of the best practices that could be followed for iterating for strings in Java?"}],"owner":{"account_id":18767372,"reputation":1,"user_id":13684947,"display_name":"Satish Chauhan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698717217,"creation_date":1698717217,"question_id":77392724,"body_markdown":"I always use normal for loop ie.\r\n```\r\nfor(int i=0;i&lt;s.length;i++){}\r\n```\r\n for iterating through string although its simple way to iterate through string can anyone suggest me other type of looping method which is more efficent and short syntax that could make code more clean and readable.\r\n\r\nThanks for help Btw i am new to online community.\r\n\r\n\r\n```\r\nfor (int i = 0; i &lt; s.length(); i++){\r\n    char c = s.charAt(i);        \r\n}\r\n```\r\nI always use this method.","title":"Which loop which is best for iterating for strings in java","body":"<p>I always use normal for loop ie.</p>\n<pre><code>for(int i=0;i&lt;s.length;i++){}\n</code></pre>\n<p>for iterating through string although its simple way to iterate through string can anyone suggest me other type of looping method which is more efficent and short syntax that could make code more clean and readable.</p>\n<p>Thanks for help Btw i am new to online community.</p>\n<pre><code>for (int i = 0; i &lt; s.length(); i++){\n    char c = s.charAt(i);        \n}\n</code></pre>\n<p>I always use this method.</p>\n"},{"tags":["java","jvm","xgboost"],"owner":{"account_id":28340815,"reputation":3,"user_id":21673849,"display_name":"coolxp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1698715748,"creation_date":1698715748,"question_id":77392670,"body_markdown":"I can use xgboost to solve the binary classification problem, but in java I can only get two-dimensional arrays of float type\r\n\r\n\r\n```\r\nBooster booster = XGBoost.loadModel(Objects.requireNonNull(modelStream));\r\nDMatrix dmat = new DMatrix(s, nrow, ncol, missing);\r\nfloat[][] predict = booster.predict(dmat);\r\n```\r\nThis is my code using java, could someone help me?\r\nThanks","title":"How to solve the binary classification problem","body":"<p>I can use xgboost to solve the binary classification problem, but in java I can only get two-dimensional arrays of float type</p>\n<pre><code>Booster booster = XGBoost.loadModel(Objects.requireNonNull(modelStream));\nDMatrix dmat = new DMatrix(s, nrow, ncol, missing);\nfloat[][] predict = booster.predict(dmat);\n</code></pre>\n<p>This is my code using java, could someone help me?\nThanks</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"score":0,"creation_date":1698662968,"post_id":77387430,"comment_id":136429448,"body_markdown":"What do you mean by &quot;empty&quot; predicate? Either you should build a predicate or you shouldn&#39;t, you can&#39;t use an if statement when you build a Where clause?","body":"What do you mean by &quot;empty&quot; predicate? Either you should build a predicate or you shouldn&#39;t, you can&#39;t use an if statement when you build a Where clause?"},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1698673634,"post_id":77387430,"comment_id":136431346,"body_markdown":"@viking: It was for Predicates that are to be conditionally ignored. As you can see from the updated posting this is possible simply by returning a `null` Predicate.","body":"@viking: It was for Predicates that are to be conditionally ignored. As you can see from the updated posting this is possible simply by returning a <code>null</code> Predicate."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1698674701,"post_id":77387430,"comment_id":136431593,"body_markdown":"`builder.and()` produces `1=1`, `builder.or()` produces `1=0`, any attempt to build some kind of reliable logic around nulls is doomed to failure.","body":"<code>builder.and()</code> produces <code>1=1</code>, <code>builder.or()</code> produces <code>1=0</code>, any attempt to build some kind of reliable logic around nulls is doomed to failure."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1698680364,"post_id":77387430,"comment_id":136432811,"body_markdown":"@AndreyB.Panfilov. I would normally agree. However, I&#39;m using Spring [Specification](https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html), not just bare-bone JPA. This changes the score a bit. It is fully documented that [toPredicate()](https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html#toPredicate(jakarta.persistence.criteria.Root,jakarta.persistence.criteria.CriteriaQuery,jakarta.persistence.criteria.CriteriaBuilder)) is allowed to return `null`.","body":"@AndreyB.Panfilov. I would normally agree. However, I&#39;m using Spring <a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html\" rel=\"nofollow noreferrer\">Specification</a>, not just bare-bone JPA. This changes the score a bit. It is fully documented that <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/domain/Specification.html#toPredicate(jakarta.persistence.criteria.Root,jakarta.persistence.criteria.CriteriaQuery,jakarta.persistence.criteria.CriteriaBuilder)\" rel=\"nofollow noreferrer\">toPredicate()</a> is allowed to return <code>null</code>."}],"answers":[{"tags":[],"owner":{"account_id":8884226,"reputation":514,"user_id":6633045,"display_name":"phuongnq1995"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1698714367,"creation_date":1698662987,"answer_id":77388018,"question_id":77387430,"body_markdown":"If you dont want to add any condition to query. Let&#39;s try to `return null` instead of return conjunction.","title":"JPA no-op Predicate possible?","body":"<p>If you dont want to add any condition to query. Let's try to <code>return null</code> instead of return conjunction.</p>\n"}],"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77388018,"answer_count":1,"score":1,"last_activity_date":1698714367,"creation_date":1698657560,"question_id":77387430,"body_markdown":"It is possible to create a no-op `Predicate` with JPA? aka an &quot;empty&quot; predicate, meaning one that doesn&#39;t render into anything in the generated SQL.\r\n\r\nI&#39;ve tested  [`CriteriaBuilder.conjunction()`](https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/criteria/criteriabuilder#conjunction()) which does the job but at least with Hibernate it renders into a SQL `WHERE` clause like this : `1 = 1` instead of rendering into nothing. So not quite what I want.\r\n\r\n## Updated answer\r\n\r\n[This answer](https://stackoverflow.com/a/77388018/1504556) suggests to simply return `null` (thank you!). Since I&#39;m working with Spring&#39;s [Specification](https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html) abstraction (did I mention that?) returning `null` for Predicate will actually work nicely.\r\n\r\nSo we have something like:\r\n```java\r\npublic static Specification&lt;Car&gt; myClause(String matchVal) {\r\n    return (root, query, builder) -&gt; {\r\n   \r\n        if (matchVal == null) {\r\n            return null;\r\n        }\r\n\r\n        // Construct Predicate\r\n        ...\r\n\r\n    };\r\n}\r\n```\r\n\r\nWhen aggregated Specification are later composed/combined, the ones that produce a `null` Predicate will be ignored. Voila.","title":"JPA no-op Predicate possible?","body":"<p>It is possible to create a no-op <code>Predicate</code> with JPA? aka an &quot;empty&quot; predicate, meaning one that doesn't render into anything in the generated SQL.</p>\n<p>I've tested  <a href=\"https://jakarta.ee/specifications/persistence/3.1/apidocs/jakarta.persistence/jakarta/persistence/criteria/criteriabuilder#conjunction()\" rel=\"nofollow noreferrer\"><code>CriteriaBuilder.conjunction()</code></a> which does the job but at least with Hibernate it renders into a SQL <code>WHERE</code> clause like this : <code>1 = 1</code> instead of rendering into nothing. So not quite what I want.</p>\n<h2>Updated answer</h2>\n<p><a href=\"https://stackoverflow.com/a/77388018/1504556\">This answer</a> suggests to simply return <code>null</code> (thank you!). Since I'm working with Spring's <a href=\"https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html\" rel=\"nofollow noreferrer\">Specification</a> abstraction (did I mention that?) returning <code>null</code> for Predicate will actually work nicely.</p>\n<p>So we have something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Specification&lt;Car&gt; myClause(String matchVal) {\n    return (root, query, builder) -&gt; {\n   \n        if (matchVal == null) {\n            return null;\n        }\n\n        // Construct Predicate\n        ...\n\n    };\n}\n</code></pre>\n<p>When aggregated Specification are later composed/combined, the ones that produce a <code>null</code> Predicate will be ignored. Voila.</p>\n"},{"tags":["java","selenium","selenium-webdriver","amazon-ec2","selenium-grid"],"comments":[{"owner":{"account_id":6936317,"reputation":4279,"user_id":5324105,"display_name":"Rahul L"},"score":0,"creation_date":1567576729,"post_id":57781945,"comment_id":101998402,"body_markdown":"https://stackoverflow.com/questions/55844788/how-to-fix-severe-bind-failed-cannot-assign-requested-address-99-while this may help","body":"<a href=\"https://stackoverflow.com/questions/55844788/how-to-fix-severe-bind-failed-cannot-assign-requested-address-99-while\" title=\"how to fix severe bind failed cannot assign requested address 99 while\">stackoverflow.com/questions/55844788/&hellip;</a> this may help"}],"answers":[{"comments":[{"owner":{"account_id":5659208,"reputation":4495,"user_id":4477336,"display_name":"Mateusz Przybylek"},"score":0,"creation_date":1596842006,"post_id":57787723,"comment_id":111950552,"body_markdown":"This is wrong, you need to pass this argument into chromedriver not chrome, like you mention","body":"This is wrong, you need to pass this argument into chromedriver not chrome, like you mention"},{"owner":{"account_id":4434809,"reputation":433,"user_id":3610941,"accept_rate":74,"display_name":"Amrit"},"score":0,"creation_date":1597037507,"post_id":57787723,"comment_id":111992701,"body_markdown":"ChromeOptions will be used to launch ChromeDriver. Check here https://chromedriver.chromium.org/capabilities.  @GetoX.","body":"ChromeOptions will be used to launch ChromeDriver. Check here <a href=\"https://chromedriver.chromium.org/capabilities\" rel=\"nofollow noreferrer\">chromedriver.chromium.org/capabilities</a>.  @GetoX."},{"owner":{"account_id":5659208,"reputation":4495,"user_id":4477336,"display_name":"Mateusz Przybylek"},"score":0,"creation_date":1597039576,"post_id":57787723,"comment_id":111993264,"body_markdown":"Unfortunately it is not correct answer. You have a right, ChromeOption control ChromeDriver executable, but method addArgument pass argument directly into Chrome, not ChromeDriver:\nYou can veify it in sourcecode: https://github.com/SeleniumHQ/selenium/blob/trunk/java/client/src/org/openqa/selenium/chromium/ChromiumOptions.java","body":"Unfortunately it is not correct answer. You have a right, ChromeOption control ChromeDriver executable, but method addArgument pass argument directly into Chrome, not ChromeDriver: You can veify it in sourcecode: <a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/client/src/org/openqa/selenium/chromium/ChromiumOptions.java\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/blob/trunk/java/client/src/or&zwnj;&#8203;g/&hellip;</a>"}],"tags":[],"owner":{"account_id":4434809,"reputation":433,"user_id":3610941,"accept_rate":74,"display_name":"Amrit"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597037574,"creation_date":1567597557,"answer_id":57787723,"question_id":57781945,"body_markdown":"Try using this to launch chromedriver: \r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--whitelisted-ips&quot;);\r\n    ChromeDriver driver = new ChromeDriver(options);","title":"Specify the port ChromeDriver runs","body":"<p>Try using this to launch chromedriver:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--whitelisted-ips&quot;);\nChromeDriver driver = new ChromeDriver(options);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5659208,"reputation":4495,"user_id":4477336,"display_name":"Mateusz Przybylek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596842171,"creation_date":1596842171,"answer_id":63310245,"question_id":57781945,"body_markdown":"Try to pass `-Dwebdriver.chrome.whitelistedIps=` into chromedriver\r\n\r\nlike\r\n```\r\njava -Dwebdriver.chrome.driver=&quot;~/chromedriver&quot; -Dwebdriver.chrome.whitelistedIps= -jar ~/selenium-server-standalone-3.141.59.jar -role node -hub http://hubURL:4044/grid/register -port 4045\r\n```","title":"Specify the port ChromeDriver runs","body":"<p>Try to pass <code>-Dwebdriver.chrome.whitelistedIps=</code> into chromedriver</p>\n<p>like</p>\n<pre><code>java -Dwebdriver.chrome.driver=&quot;~/chromedriver&quot; -Dwebdriver.chrome.whitelistedIps= -jar ~/selenium-server-standalone-3.141.59.jar -role node -hub http://hubURL:4044/grid/register -port 4045\n</code></pre>\n"}],"owner":{"account_id":10585678,"reputation":185,"user_id":7798124,"accept_rate":71,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1698714050,"creation_date":1567574625,"question_id":57781945,"body_markdown":"H community, I am trying to set up the Selenium Grid on EC2 server, and below are the steps I took so far.\r\n\r\n\r\n\r\n 1.start the hub on port 4044\r\n\r\n```bash\r\njava -jar /ebst/wrangler/upla/bin/selenium-server-standalone-3.141.59.jar -role hub -port 4044\r\n```\r\n 2.Register a node on 4045\r\n\r\n```bash\r\njava -Dwebdriver.chrome.driver=&quot;~/chromedriver&quot; -jar ~/selenium-server-standalone-3.141.59.jar -role node -hub http://hubURL:4044/grid/register -port 4045\r\n```\r\n\r\n 3.Start Webdriver in my Java code\r\n    \r\n```java\r\nimport cucumber.api.java.Before;\r\nimport org.openqa.selenium.Platform;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\n\r\npublic class Test {\r\n    WebDriver driver;\r\n\r\n    @Before\r\n    public void setup() throws MalformedURLException {\r\n\r\n        String nodeURL = &quot;http://hubURL:4044/wd/hub&quot;;\r\n        System.out.println(&quot;setting up&quot;);\r\n\r\n        DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\r\n        desiredCapabilities.setBrowserName(&quot;chrome&quot;);\r\n\r\n        desiredCapabilities.setPlatform(Platform.LINUX);\r\n        \r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n\r\n        chromeOptions.addArguments(\r\n                &quot;--verbose&quot;,\r\n                &quot;--headless&quot;,\r\n                &quot;--disable-web-security&quot;,\r\n                &quot;--ignore-certificate-errors&quot;,\r\n                &quot;--allow-running-insecure-content&quot;,\r\n                &quot;--allow-insecure-localhost&quot;,\r\n                &quot;--no-sandbox&quot;,\r\n                &quot;--disable-gpu&quot;);\r\n\r\n        chromeOptions.merge(desiredCapabilities);\r\n\r\n        driver = new RemoteWebDriver(new URL(nodeURL), chromeOptions);\r\n        System.out.println(&quot;setting up done&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\nOn the console, I got the following error due to timeout.\r\n\r\n\r\n&gt; org.openqa.selenium.WebDriverException: unknown error: cannot find Chrome binary   \r\n\r\n&gt; (Driver info: chromedriver=74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}),platform=Linux 3.10.0-1062.el7.x86_64 x86_64) (WARNING: The server did not provide any stacktrace information) \r\n\r\n&gt; Command duration or timeout: 16 milliseconds \r\n\r\n&gt; Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:53&#39; System info: host: &#39;ip-10-160-169-203.syd.non.c1.macquarie.com&#39;, ip: &#39;10.160.169.203&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.10.0-1062.el7.x86_64&#39;, java.version: &#39;1.8.0_181&#39;\r\n\r\n&gt; Driver info: driver.version: unknown Command duration or timeout: 523 milliseconds\r\n\r\n\r\n\r\n\r\nAs I navigate back to the node server, this is the message displayed.\r\n\r\n&gt; 22:44:05.604 INFO [ActiveSessionFactory.lambda$apply$11] - Matched factory org.openqa.selenium.grid.session.remote.ServicedSession$Factory (provider: org.openqa.selenium.chrome.ChromeDriverService)\r\n\r\n&gt; Starting ChromeDriver 74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}) on port 3459\r\n\r\n&gt; Only local connections are allowed.\r\n\r\n&gt; Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n\r\n&gt; [1567550645.675][SEVERE]: bind() failed: Cannot assign requested address (99)\r\n\r\n&gt; 22:44:05.988 INFO [ActiveSessionFactory.apply] - Capabilities are: {\r\n  &quot;browserName&quot;: &quot;chrome&quot;,\r\n  &quot;goog:chromeOptions&quot;: {\r\n    &quot;args&quot;: [\r\n      &quot;--verbose&quot;,\r\n      &quot;--headless&quot;,\r\n      &quot;--disable-web-security&quot;,\r\n      &quot;--ignore-certificate-errors&quot;,\r\n      &quot;--allow-running-insecure-content&quot;,\r\n      &quot;--allow-insecure-localhost&quot;,\r\n      &quot;--no-sandbox&quot;,\r\n      &quot;--port:4040&quot;,\r\n      &quot;--disable-gpu&quot;\r\n    ],\r\n    &quot;extensions&quot;: [\r\n    ]\r\n  },\r\n  &quot;platform&quot;: &quot;LINUX&quot;,\r\n  &quot;version&quot;: &quot;&quot;\r\n}\r\n\r\nI understand the error occurs because within our company, only certain ports were available, and the ChromeDriver is started on random port every time. In order to specify the port this ChromeDriver starts on every time, I tried all kinds of specification for my ChromeOptions and RemoteWebDriver in the Java code, but in vain. \r\n\r\nDid anyone else encounter this issue too? If so could you please give me advice on what to do? Or more broadly, is this the correct way of starting the selenium server on EC2?\r\nAny help will be highly appreciated!","title":"Specify the port ChromeDriver runs","body":"<p>H community, I am trying to set up the Selenium Grid on EC2 server, and below are the steps I took so far.</p>\n\n<p>1.start the hub on port 4044</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>java -jar /ebst/wrangler/upla/bin/selenium-server-standalone-3.141.59.jar -role hub -port 4044\n</code></pre>\n\n<p>2.Register a node on 4045</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>java -Dwebdriver.chrome.driver=\"~/chromedriver\" -jar ~/selenium-server-standalone-3.141.59.jar -role node -hub http://hubURL:4044/grid/register -port 4045\n</code></pre>\n\n<p>3.Start Webdriver in my Java code</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import cucumber.api.java.Before;\nimport org.openqa.selenium.Platform;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\n\npublic class Test {\n    WebDriver driver;\n\n    @Before\n    public void setup() throws MalformedURLException {\n\n        String nodeURL = \"http://hubURL:4044/wd/hub\";\n        System.out.println(\"setting up\");\n\n        DesiredCapabilities desiredCapabilities = DesiredCapabilities.chrome();\n        desiredCapabilities.setBrowserName(\"chrome\");\n\n        desiredCapabilities.setPlatform(Platform.LINUX);\n\n        ChromeOptions chromeOptions = new ChromeOptions();\n\n        chromeOptions.addArguments(\n                \"--verbose\",\n                \"--headless\",\n                \"--disable-web-security\",\n                \"--ignore-certificate-errors\",\n                \"--allow-running-insecure-content\",\n                \"--allow-insecure-localhost\",\n                \"--no-sandbox\",\n                \"--disable-gpu\");\n\n        chromeOptions.merge(desiredCapabilities);\n\n        driver = new RemoteWebDriver(new URL(nodeURL), chromeOptions);\n        System.out.println(\"setting up done\");\n\n    }\n}\n</code></pre>\n\n<p>On the console, I got the following error due to timeout.</p>\n\n<blockquote>\n  <p>org.openqa.selenium.WebDriverException: unknown error: cannot find Chrome binary   </p>\n  \n  <p>(Driver info: chromedriver=74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}),platform=Linux 3.10.0-1062.el7.x86_64 x86_64) (WARNING: The server did not provide any stacktrace information) </p>\n  \n  <p>Command duration or timeout: 16 milliseconds </p>\n  \n  <p>Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53' System info: host: 'ip-10-160-169-203.syd.non.c1.macquarie.com', ip: '10.160.169.203', os.name: 'Linux', os.arch: 'amd64', os.version: '3.10.0-1062.el7.x86_64', java.version: '1.8.0_181'</p>\n  \n  <p>Driver info: driver.version: unknown Command duration or timeout: 523 milliseconds</p>\n</blockquote>\n\n<p>As I navigate back to the node server, this is the message displayed.</p>\n\n<blockquote>\n  <p>22:44:05.604 INFO [ActiveSessionFactory.lambda$apply$11] - Matched factory org.openqa.selenium.grid.session.remote.ServicedSession$Factory (provider: org.openqa.selenium.chrome.ChromeDriverService)</p>\n  \n  <p>Starting ChromeDriver 74.0.3729.6 (255758eccf3d244491b8a1317aa76e1ce10d57e9-refs/branch-heads/3729@{#29}) on port 3459</p>\n  \n  <p>Only local connections are allowed.</p>\n  \n  <p>Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.</p>\n  \n  <p>[1567550645.675][SEVERE]: bind() failed: Cannot assign requested address (99)</p>\n  \n  <p>22:44:05.988 INFO [ActiveSessionFactory.apply] - Capabilities are: {\n    \"browserName\": \"chrome\",\n    \"goog:chromeOptions\": {\n      \"args\": [\n        \"--verbose\",\n        \"--headless\",\n        \"--disable-web-security\",\n        \"--ignore-certificate-errors\",\n        \"--allow-running-insecure-content\",\n        \"--allow-insecure-localhost\",\n        \"--no-sandbox\",\n        \"--port:4040\",\n        \"--disable-gpu\"\n      ],\n      \"extensions\": [\n      ]\n    },\n    \"platform\": \"LINUX\",\n    \"version\": \"\"\n  }</p>\n</blockquote>\n\n<p>I understand the error occurs because within our company, only certain ports were available, and the ChromeDriver is started on random port every time. In order to specify the port this ChromeDriver starts on every time, I tried all kinds of specification for my ChromeOptions and RemoteWebDriver in the Java code, but in vain. </p>\n\n<p>Did anyone else encounter this issue too? If so could you please give me advice on what to do? Or more broadly, is this the correct way of starting the selenium server on EC2?\nAny help will be highly appreciated!</p>\n"},{"tags":["java","python","python-2.7"],"comments":[{"owner":{"account_id":1297038,"reputation":2800,"user_id":1247832,"accept_rate":89,"display_name":"MasterGberry"},"score":0,"creation_date":1386368051,"post_id":20434289,"comment_id":30525265,"body_markdown":"The gzip module seems to only be for files? I am using a database.","body":"The gzip module seems to only be for files? I am using a database."},{"owner":{"account_id":314979,"reputation":302483,"user_id":748858,"accept_rate":86,"display_name":"mgilson"},"score":0,"creation_date":1386368184,"post_id":20434289,"comment_id":30525319,"body_markdown":"Ahh, right you are.  Sorry.  I clearly didn&#39;t read your post very carefully.","body":"Ahh, right you are.  Sorry.  I clearly didn&#39;t read your post very carefully."}],"answers":[{"comments":[{"owner":{"account_id":1297038,"reputation":2800,"user_id":1247832,"accept_rate":89,"display_name":"MasterGberry"},"score":0,"creation_date":1386368123,"post_id":20434469,"comment_id":30525296,"body_markdown":"The gzip module seems to only be for files? I am using a database.","body":"The gzip module seems to only be for files? I am using a database."},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1386368354,"post_id":20434469,"comment_id":30525387,"body_markdown":"you could try pumping to a temp file and then unzipping. I added some beef but without your python code (where the problem seems to be), I am a bit at a loss,","body":"you could try pumping to a temp file and then unzipping. I added some beef but without your python code (where the problem seems to be), I am a bit at a loss,"},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1386368742,"post_id":20434469,"comment_id":30525545,"body_markdown":"try this post on unzipping gzipped data as well http://stackoverflow.com/questions/12571913/python-unzipping-stream-of-bytes","body":"try this post on unzipping gzipped data as well <a href=\"http://stackoverflow.com/questions/12571913/python-unzipping-stream-of-bytes\" title=\"python unzipping stream of bytes\">stackoverflow.com/questions/12571913/&hellip;</a>"},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1386369228,"post_id":20434469,"comment_id":30525762,"body_markdown":"i would have dropped this in the comment field fyi, but I don&#39;t have the rep yet.","body":"i would have dropped this in the comment field fyi, but I don&#39;t have the rep yet."},{"owner":{"account_id":1297038,"reputation":2800,"user_id":1247832,"accept_rate":89,"display_name":"MasterGberry"},"score":0,"creation_date":1386370988,"post_id":20434469,"comment_id":30526513,"body_markdown":"I added some of the Python code to help give some more information as to whats going on.","body":"I added some of the Python code to help give some more information as to whats going on."},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1386371378,"post_id":20434469,"comment_id":30526669,"body_markdown":"ill get on it but it might be a few hours. im at work","body":"ill get on it but it might be a few hours. im at work"},{"owner":{"account_id":1297038,"reputation":2800,"user_id":1247832,"accept_rate":89,"display_name":"MasterGberry"},"score":0,"creation_date":1386565754,"post_id":20434469,"comment_id":30577964,"body_markdown":"ever get a chance to look over this again?","body":"ever get a chance to look over this again?"},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1386568310,"post_id":20434469,"comment_id":30578822,"body_markdown":"sorry, I&#39;ve been busy its finals week and I work 40-60 hours as well. I can get back to it Tuesday after my last final. The other links I posted should get you pretty close to a solution.","body":"sorry, I&#39;ve been busy its finals week and I work 40-60 hours as well. I can get back to it Tuesday after my last final. The other links I posted should get you pretty close to a solution."},{"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"score":0,"creation_date":1387089389,"post_id":20434469,"comment_id":30808154,"body_markdown":"so sorry about not getting up code. I&#39;m finishing a major project for work. ill edit when I can.","body":"so sorry about not getting up code. I&#39;m finishing a major project for work. ill edit when I can."}],"tags":[],"owner":{"account_id":2809026,"reputation":1023,"user_id":2415660,"accept_rate":92,"display_name":"Andrew Scott Evans"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1386369023,"creation_date":1386367770,"answer_id":20434469,"question_id":20434289,"body_markdown":"Here is a post that goes over [unzipping using zlib with a stream.][3]\r\n\r\nOtherwise, have you tried the gzip docs for gzip.py. You may need a temp file. The documentation for [gzip is here.][2]  There is a fairly decent solution for this approach in the following post on [decompression.][1].\r\n\r\nIf you haven&#39;t already, ensure that you are getting bytes back from SQL. Python is flexible so it may be a string. Call bytearray(string) on your string if this is the case. \r\n\r\n\r\nIf that doesn&#39;t work:\r\n\r\n 1. What format is the data in when returned by your SQL command? \r\n 2. What error, if any are you getting?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6123223/howto-uncompress-gzipped-data-in-a-byte-array\r\n  [2]: http://docs.python.org/2/library/gzip.html\r\n  [3]: https://stackoverflow.com/questions/12571913/python-unzipping-stream-of-bytes","title":"Compress data in Java and decompress in Python","body":"<p>Here is a post that goes over <a href=\"https://stackoverflow.com/questions/12571913/python-unzipping-stream-of-bytes\">unzipping using zlib with a stream.</a></p>\n\n<p>Otherwise, have you tried the gzip docs for gzip.py. You may need a temp file. The documentation for <a href=\"http://docs.python.org/2/library/gzip.html\" rel=\"nofollow noreferrer\">gzip is here.</a>  There is a fairly decent solution for this approach in the following post on <a href=\"https://stackoverflow.com/questions/6123223/howto-uncompress-gzipped-data-in-a-byte-array\">decompression.</a>.</p>\n\n<p>If you haven't already, ensure that you are getting bytes back from SQL. Python is flexible so it may be a string. Call bytearray(string) on your string if this is the case. </p>\n\n<p>If that doesn't work:</p>\n\n<ol>\n<li>What format is the data in when returned by your SQL command? </li>\n<li>What error, if any are you getting?</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9852449,"reputation":348,"user_id":7298096,"display_name":"ahfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1698713173,"creation_date":1698713173,"answer_id":77392584,"question_id":20434289,"body_markdown":"I&#39;m rehashing the answer from here: https://stackoverflow.com/a/12572031/7298096 because the question of this thread is exactly the topic I was looking for. In my case the Java code is compressing the content with `DeflaterOutputStream` and then encoding with `Base64.encodeBase64String`\r\nThe \r\n`error: Error -3 while decompressing data: incorrect header check` is resolved if I provide a \r\n 32 signal offset to zlip decompres:\r\n```\r\nimport base64\r\nimport zlib\r\n\r\ndata = &quot;ENCODED_COMPRESSED_STRING_FROM_JAVA&quot;\r\n\r\noutput_str = zlib.decompress(base64.b64decode(data), 32 + zlib.MAX_WBITS).decode(&#39;utf-8&#39;)\r\n``` ","title":"Compress data in Java and decompress in Python","body":"<p>I'm rehashing the answer from here: <a href=\"https://stackoverflow.com/a/12572031/7298096\">https://stackoverflow.com/a/12572031/7298096</a> because the question of this thread is exactly the topic I was looking for. In my case the Java code is compressing the content with <code>DeflaterOutputStream</code> and then encoding with <code>Base64.encodeBase64String</code>\nThe\n<code>error: Error -3 while decompressing data: incorrect header check</code> is resolved if I provide a\n32 signal offset to zlip decompres:</p>\n<pre><code>import base64\nimport zlib\n\ndata = &quot;ENCODED_COMPRESSED_STRING_FROM_JAVA&quot;\n\noutput_str = zlib.decompress(base64.b64decode(data), 32 + zlib.MAX_WBITS).decode('utf-8')\n</code></pre>\n"}],"owner":{"account_id":1297038,"reputation":2800,"user_id":1247832,"accept_rate":89,"display_name":"MasterGberry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2620,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20434469,"answer_count":2,"score":4,"last_activity_date":1698713173,"creation_date":1386366942,"question_id":20434289,"body_markdown":"So I am trying to compress (gzip or similar format) a JSON object before I throw it in my MySQL database.  I am currently storing the data as BLOB.  I have tried to use the following Java method to compress the data:\r\n\r\n    public static byte[] compress(String str) throws Exception {\r\n\t\tif (str == null || str.length() == 0) {\r\n            return null;\r\n        }\r\n\t\t\r\n        ByteArrayOutputStream obj = new ByteArrayOutputStream();\r\n        GZIPOutputStream gzip = new GZIPOutputStream(obj);\r\n        gzip.write(str.getBytes(&quot;UTF-8&quot;));\r\n        gzip.close();\r\n\t    return obj.toByteArray();\r\n\t}\r\n\r\nand then store it in the database using `setBytes()` with a `PreparedStatement` and am having no issues with this.  What I am having issues with is decrypting the data in Python 2.7  I have tried using `zlib.decompress()` to no avail.  It can&#39;t seem to read the data that Java is storing.  I also need to write a conversion script in Python to compress the old rows into this new format.  So whatever format I needs to be readable by the Python `decompress()` whether it was compressed with Java or Python 2.7\r\n\r\nI am happy to provide anymore information that can assist in helping to find a solution to my dilemma.\r\n\r\nThanks.\r\n\r\nEDIT: Some of the Python Code:\r\n\r\n    class KitPvPMatch(Base):\r\n        &quot;&quot;&quot; The SQLAlchemy declarative model class for a User object. &quot;&quot;&quot;\r\n        __tablename__ = &#39;kit_pvp_matches&#39;\r\n        __table_args__ = {\r\n            &#39;mysql_engine&#39;: &#39;InnoDB&#39;,\r\n            &#39;mysql_charset&#39;: &#39;utf8&#39;\r\n        }\r\n    \r\n        match_id = Column(INTEGER(11), autoincrement=True, primary_key=True, nullable=False)\r\n        season = Column(Unicode(5), nullable=False)\r\n        winner = Column(Unicode(16), nullable=False)\r\n        loser = Column(Unicode(16), nullable=False)\r\n        ladder_id = Column(TINYINT(4), nullable=False)\r\n        data = Column(BLOB, nullable=False)\r\n\r\n    # The line in question\r\n    jsonData = json.loads(zlib.decompress(match.data))\r\n    \r\n    # The error\r\n    error: Error -3 while decompressing data: incorrect header check","title":"Compress data in Java and decompress in Python","body":"<p>So I am trying to compress (gzip or similar format) a JSON object before I throw it in my MySQL database.  I am currently storing the data as BLOB.  I have tried to use the following Java method to compress the data:</p>\n\n<pre><code>public static byte[] compress(String str) throws Exception {\n    if (str == null || str.length() == 0) {\n        return null;\n    }\n\n    ByteArrayOutputStream obj = new ByteArrayOutputStream();\n    GZIPOutputStream gzip = new GZIPOutputStream(obj);\n    gzip.write(str.getBytes(\"UTF-8\"));\n    gzip.close();\n    return obj.toByteArray();\n}\n</code></pre>\n\n<p>and then store it in the database using <code>setBytes()</code> with a <code>PreparedStatement</code> and am having no issues with this.  What I am having issues with is decrypting the data in Python 2.7  I have tried using <code>zlib.decompress()</code> to no avail.  It can't seem to read the data that Java is storing.  I also need to write a conversion script in Python to compress the old rows into this new format.  So whatever format I needs to be readable by the Python <code>decompress()</code> whether it was compressed with Java or Python 2.7</p>\n\n<p>I am happy to provide anymore information that can assist in helping to find a solution to my dilemma.</p>\n\n<p>Thanks.</p>\n\n<p>EDIT: Some of the Python Code:</p>\n\n<pre><code>class KitPvPMatch(Base):\n    \"\"\" The SQLAlchemy declarative model class for a User object. \"\"\"\n    __tablename__ = 'kit_pvp_matches'\n    __table_args__ = {\n        'mysql_engine': 'InnoDB',\n        'mysql_charset': 'utf8'\n    }\n\n    match_id = Column(INTEGER(11), autoincrement=True, primary_key=True, nullable=False)\n    season = Column(Unicode(5), nullable=False)\n    winner = Column(Unicode(16), nullable=False)\n    loser = Column(Unicode(16), nullable=False)\n    ladder_id = Column(TINYINT(4), nullable=False)\n    data = Column(BLOB, nullable=False)\n\n# The line in question\njsonData = json.loads(zlib.decompress(match.data))\n\n# The error\nerror: Error -3 while decompressing data: incorrect header check\n</code></pre>\n"},{"tags":["java","list","stream","group"],"answers":[{"tags":[],"owner":{"account_id":12056717,"reputation":38,"user_id":8817258,"display_name":"shun chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671114900,"creation_date":1671114900,"answer_id":74813180,"question_id":74811992,"body_markdown":"first groupby. you will get a Map. OrderItems as key, List&lt;OrderItems&gt; as value. then count it. last sort it. \r\n\r\ncheck where you can&#39;t understand.\r\n\r\n```java\r\n    public static void main(String[] args) {\r\n        List&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\r\n        orderItems.add(new OrderItems(1, 0.5));\r\n        orderItems.add(new OrderItems(2, 1));\r\n        orderItems.add(new OrderItems(1, 0.5));\r\n        orderItems.add(new OrderItems(1, 1.5));\r\n        orderItems.add(new OrderItems(2, 1));\r\n        orderItems.add(new OrderItems(2, 0.5));\r\n\r\n\r\n        final List&lt;NewOrderItems&gt; collect = orderItems.stream().collect(Collectors.groupingBy(x -&gt; x))\r\n                .entrySet().stream().map(x -&gt; {\r\n                    NewOrderItems newOrderItems = new NewOrderItems();\r\n                    newOrderItems.setId(x.getKey().id);\r\n                    newOrderItems.setPortion(x.getKey().portion);\r\n                    newOrderItems.setAmount(x.getValue().size());\r\n                    return newOrderItems;\r\n                })\r\n                .sorted(new Comparator&lt;NewOrderItems&gt;() {\r\n                    @Override\r\n                    public int compare(NewOrderItems o1, NewOrderItems o2) {\r\n                        return o1.id - o2.id;\r\n                    }\r\n                })\r\n                .collect(Collectors.toList());\r\n        System.out.println(collect);\r\n    }\r\n```","title":"Grouping List&lt;OrderItems&gt; and counting","body":"<p>first groupby. you will get a Map. OrderItems as key, List as value. then count it. last sort it.</p>\n<p>check where you can't understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(String[] args) {\n        List&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\n        orderItems.add(new OrderItems(1, 0.5));\n        orderItems.add(new OrderItems(2, 1));\n        orderItems.add(new OrderItems(1, 0.5));\n        orderItems.add(new OrderItems(1, 1.5));\n        orderItems.add(new OrderItems(2, 1));\n        orderItems.add(new OrderItems(2, 0.5));\n\n\n        final List&lt;NewOrderItems&gt; collect = orderItems.stream().collect(Collectors.groupingBy(x -&gt; x))\n                .entrySet().stream().map(x -&gt; {\n                    NewOrderItems newOrderItems = new NewOrderItems();\n                    newOrderItems.setId(x.getKey().id);\n                    newOrderItems.setPortion(x.getKey().portion);\n                    newOrderItems.setAmount(x.getValue().size());\n                    return newOrderItems;\n                })\n                .sorted(new Comparator&lt;NewOrderItems&gt;() {\n                    @Override\n                    public int compare(NewOrderItems o1, NewOrderItems o2) {\n                        return o1.id - o2.id;\n                    }\n                })\n                .collect(Collectors.toList());\n        System.out.println(collect);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671174337,"creation_date":1671116882,"answer_id":74813611,"question_id":74811992,"body_markdown":"We can make use of\r\n\r\n- [Collectors.groupingBy][1] -&gt; for grouping the order item\r\n- [Java record][2] -&gt; to define the key for grouping\r\n- [Collectors.reducing][3] -&gt; combine order item list of each group\r\n\r\n```java\r\npublic class GroupItem {\r\n    public static void main(String[] args) {\r\n        List&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\r\n        orderItems.add(new OrderItems(1, 0.5));\r\n        orderItems.add(new OrderItems(2, 1));\r\n        orderItems.add(new OrderItems(1, 0.5));\r\n        orderItems.add(new OrderItems(1, 1.5));\r\n        orderItems.add(new OrderItems(2, 1));\r\n        orderItems.add(new OrderItems(2, 0.5));\r\n        // java 17 feature to define key easily\r\n        record ItemKey(int id, double portion) {\r\n        }\r\n        Map&lt;ItemKey, GroupedOrderItems&gt; m = orderItems.stream().collect(\r\n                Collectors.groupingBy(\r\n                        // group by ItemKey\r\n                        i -&gt; new ItemKey(i.id, i.portion),\r\n                        // reducing the OrderItems with same key\r\n                        Collectors.reducing(\r\n                                new GroupedOrderItems(0, 0.0, 0L),\r\n                                a -&gt; new GroupedOrderItems(a.id, a.portion, 1),\r\n                                // combine 2 GroupedOrderItems\r\n                                (b, c) -&gt; new GroupedOrderItems(c.id,\r\n                                        c.portion,\r\n                                        b.amount + c.amount)\r\n                        )\r\n                )\r\n        );\r\n        m.entrySet().forEach(e -&gt; System.out.println(e.getValue()));\r\n    }\r\n\r\n    public static class OrderItems {\r\n        public int id;\r\n        public double portion;\r\n\r\n        public OrderItems(int id, double portion) {\r\n            this.id = id;\r\n            this.portion = portion;\r\n        }\r\n    }\r\n\r\n    public static class GroupedOrderItems {\r\n        public int id;\r\n        public double portion;\r\n        public long amount;\r\n\r\n        public GroupedOrderItems(int id, double portion, long amount) {\r\n            this.id = id;\r\n            this.portion = portion;\r\n            this.amount = amount;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;GroupedOrderItems{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, portion=&quot; + portion +\r\n                    &quot;, amount=&quot; + amount +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/language/records.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#reducing(U,java.util.function.Function,java.util.function.BinaryOperator)","title":"Grouping List&lt;OrderItems&gt; and counting","body":"<p>We can make use of</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function,java.util.stream.Collector)\" rel=\"nofollow noreferrer\">Collectors.groupingBy</a> -&gt; for grouping the order item</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\">Java record</a> -&gt; to define the key for grouping</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#reducing(U,java.util.function.Function,java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\">Collectors.reducing</a> -&gt; combine order item list of each group</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class GroupItem {\n    public static void main(String[] args) {\n        List&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\n        orderItems.add(new OrderItems(1, 0.5));\n        orderItems.add(new OrderItems(2, 1));\n        orderItems.add(new OrderItems(1, 0.5));\n        orderItems.add(new OrderItems(1, 1.5));\n        orderItems.add(new OrderItems(2, 1));\n        orderItems.add(new OrderItems(2, 0.5));\n        // java 17 feature to define key easily\n        record ItemKey(int id, double portion) {\n        }\n        Map&lt;ItemKey, GroupedOrderItems&gt; m = orderItems.stream().collect(\n                Collectors.groupingBy(\n                        // group by ItemKey\n                        i -&gt; new ItemKey(i.id, i.portion),\n                        // reducing the OrderItems with same key\n                        Collectors.reducing(\n                                new GroupedOrderItems(0, 0.0, 0L),\n                                a -&gt; new GroupedOrderItems(a.id, a.portion, 1),\n                                // combine 2 GroupedOrderItems\n                                (b, c) -&gt; new GroupedOrderItems(c.id,\n                                        c.portion,\n                                        b.amount + c.amount)\n                        )\n                )\n        );\n        m.entrySet().forEach(e -&gt; System.out.println(e.getValue()));\n    }\n\n    public static class OrderItems {\n        public int id;\n        public double portion;\n\n        public OrderItems(int id, double portion) {\n            this.id = id;\n            this.portion = portion;\n        }\n    }\n\n    public static class GroupedOrderItems {\n        public int id;\n        public double portion;\n        public long amount;\n\n        public GroupedOrderItems(int id, double portion, long amount) {\n            this.id = id;\n            this.portion = portion;\n            this.amount = amount;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;GroupedOrderItems{&quot; +\n                    &quot;id=&quot; + id +\n                    &quot;, portion=&quot; + portion +\n                    &quot;, amount=&quot; + amount +\n                    '}';\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27268623,"reputation":16,"user_id":20790247,"display_name":"Developer Asilbek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671165148,"creation_date":1671165148,"answer_id":74820223,"question_id":74811992,"body_markdown":"My solution like this :\r\n\r\n\r\n    Map&lt;Integer, Map&lt;Double, Long&gt;&gt; collect = orderItems.stream()\r\n                        .collect(Collectors.groupingBy(OrderItems::getId, Collectors.groupingBy(OrderItems::getPortion, Collectors.counting())));\r\n                System.out.println(collect);\r\n    \r\n                List&lt;NewOrderItems&gt; newOrderItems = new ArrayList&lt;&gt;();\r\n    \r\n                collect.forEach((k,v)-&gt;{\r\n                        v.forEach((x,y)-&gt;{\r\n                               NewOrderItems newOrderitems=new NewOrderItems(k,x,y);\r\n                               newOrderItems.add(newOrderitems);\r\n                        });\r\n                });\r\n                newOrderItems.forEach(System.out::println);\r\n\r\nConsole:\r\n\r\n    NewItems{id=1, portion=0.5, amount=2}\r\n    NewItems{id=1, portion=1.5, amount=1}\r\n    NewItems{id=2, portion=0.5, amount=1}\r\n    NewItems{id=2, portion=1.0, amount=2}","title":"Grouping List&lt;OrderItems&gt; and counting","body":"<p>My solution like this :</p>\n<pre><code>Map&lt;Integer, Map&lt;Double, Long&gt;&gt; collect = orderItems.stream()\n                    .collect(Collectors.groupingBy(OrderItems::getId, Collectors.groupingBy(OrderItems::getPortion, Collectors.counting())));\n            System.out.println(collect);\n\n            List&lt;NewOrderItems&gt; newOrderItems = new ArrayList&lt;&gt;();\n\n            collect.forEach((k,v)-&gt;{\n                    v.forEach((x,y)-&gt;{\n                           NewOrderItems newOrderitems=new NewOrderItems(k,x,y);\n                           newOrderItems.add(newOrderitems);\n                    });\n            });\n            newOrderItems.forEach(System.out::println);\n</code></pre>\n<p>Console:</p>\n<pre><code>NewItems{id=1, portion=0.5, amount=2}\nNewItems{id=1, portion=1.5, amount=1}\nNewItems{id=2, portion=0.5, amount=1}\nNewItems{id=2, portion=1.0, amount=2}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29762566,"reputation":1,"user_id":22809735,"display_name":"Gavaskar Selvaraj"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1698712522,"creation_date":1698546880,"answer_id":77381828,"question_id":74811992,"body_markdown":"    Map&lt;String, NewOrderItems&gt; collect4 = orderItems.stream().collect(groupingBy(CollectorsAPi::orderUniqueKey,collectingAndThen(toList(), CollectorsAPi::orderDownstream)));\r\n    \r\n    \r\n    \r\n    private static NewOrderItems orderDownstream(List&lt;OrderItems&gt; orderItems) {\r\n        OrderItems orderItem= orderItems.stream().findFirst().orElseThrow();\r\n        NewOrderItems newOrderItems = new NewOrderItems(orderItem.getId(),orderItem.getPortion(),orderItems.size());\r\n        return newOrderItems;\r\n    }\r\n    \r\n    private static String orderUniqueKey(OrderItems orderItems ) {\r\n        return String.valueOf(orderItems.getId()).concat(&quot;-&quot;+Double.toString(orderItems.getPortion()));\r\n    }","title":"Grouping List&lt;OrderItems&gt; and counting","body":"<pre><code>Map&lt;String, NewOrderItems&gt; collect4 = orderItems.stream().collect(groupingBy(CollectorsAPi::orderUniqueKey,collectingAndThen(toList(), CollectorsAPi::orderDownstream)));\n\n\n\nprivate static NewOrderItems orderDownstream(List&lt;OrderItems&gt; orderItems) {\n    OrderItems orderItem= orderItems.stream().findFirst().orElseThrow();\n    NewOrderItems newOrderItems = new NewOrderItems(orderItem.getId(),orderItem.getPortion(),orderItems.size());\n    return newOrderItems;\n}\n\nprivate static String orderUniqueKey(OrderItems orderItems ) {\n    return String.valueOf(orderItems.getId()).concat(&quot;-&quot;+Double.toString(orderItems.getPortion()));\n}\n</code></pre>\n"}],"owner":{"account_id":27071454,"reputation":21,"user_id":20622054,"display_name":"Davron Bafoyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74820223,"answer_count":4,"score":1,"last_activity_date":1698712522,"creation_date":1671109491,"question_id":74811992,"body_markdown":"I have OrderItems class\r\n\r\n```java\r\npublic class OrderItems {\r\n    public  int id;\r\n    public  double portion;\r\n```\r\n\r\nand `List&lt;OrderItems&gt;` like below:\r\n\r\n```\r\nList&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\r\n            orderItems.add(new OrderItems(1,0.5));\r\n            orderItems.add(new OrderItems(2,1));\r\n            orderItems.add(new OrderItems(1,0.5));\r\n            orderItems.add(new OrderItems(1,1.5));\r\n            orderItems.add(new OrderItems(2,1));\r\n            orderItems.add(new OrderItems(2,0.5));\r\n```\r\n\r\nMy Question :\r\nHow can i group this list and convert `NewOrderItems` class with Stream API:\r\n\r\n```\r\n   public class NewOrderItems {\r\n      public int id;\r\n      public double portion;\r\n      public long amount;\r\n   }\r\n```\r\n\r\nResult should be like this:\r\n\r\n```\r\nNewItems{id=1, portion=0.5, amount=2}\r\nNewItems{id=1, portion=1.5, amount=1}\r\nNewItems{id=2, portion=0.5, amount=1}\r\nNewItems{id=2, portion=1.0, amount=2}\r\n```","title":"Grouping List&lt;OrderItems&gt; and counting","body":"<p>I have OrderItems class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OrderItems {\n    public  int id;\n    public  double portion;\n</code></pre>\n<p>and <code>List&lt;OrderItems&gt;</code> like below:</p>\n<pre><code>List&lt;OrderItems&gt; orderItems = new ArrayList&lt;&gt;();\n            orderItems.add(new OrderItems(1,0.5));\n            orderItems.add(new OrderItems(2,1));\n            orderItems.add(new OrderItems(1,0.5));\n            orderItems.add(new OrderItems(1,1.5));\n            orderItems.add(new OrderItems(2,1));\n            orderItems.add(new OrderItems(2,0.5));\n</code></pre>\n<p>My Question :\nHow can i group this list and convert <code>NewOrderItems</code> class with Stream API:</p>\n<pre><code>   public class NewOrderItems {\n      public int id;\n      public double portion;\n      public long amount;\n   }\n</code></pre>\n<p>Result should be like this:</p>\n<pre><code>NewItems{id=1, portion=0.5, amount=2}\nNewItems{id=1, portion=1.5, amount=1}\nNewItems{id=2, portion=0.5, amount=1}\nNewItems{id=2, portion=1.0, amount=2}\n</code></pre>\n"},{"tags":["java","authentication","spotify"],"comments":[{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1461739174,"post_id":36882064,"comment_id":61329534,"body_markdown":"Your are going &quot;too fast&quot;. Your future hasn&#39;t completed by the time you call ` User user = currentUserRequest.get();`","body":"Your are going &quot;too fast&quot;. Your future hasn&#39;t completed by the time you call ` User user = currentUserRequest.get();`"},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":0,"creation_date":1461739270,"post_id":36882064,"comment_id":61329587,"body_markdown":"Maybe starting with https://github.com/thelinmichael/spotify-web-api-java/blob/master/examples/GetAuthenticatedUserInformation.java is simpler","body":"Maybe starting with <a href=\"https://github.com/thelinmichael/spotify-web-api-java/blob/master/examples/GetAuthenticatedUserInformation.java\" rel=\"nofollow noreferrer\">github.com/thelinmichael/spotify-web-api-java/blob/master/&hellip;</a> is simpler"},{"owner":{"account_id":2510589,"reputation":589,"user_id":2183174,"accept_rate":71,"display_name":"kadir"},"score":0,"creation_date":1461739627,"post_id":36882064,"comment_id":61329779,"body_markdown":"@reto What is `code` in line 25? I only have client id and client secret","body":"@reto What is <code>code</code> in line 25? I only have client id and client secret"},{"owner":{"account_id":45349,"reputation":10115,"user_id":133645,"display_name":"reto"},"score":1,"creation_date":1461740621,"post_id":36882064,"comment_id":61330343,"body_markdown":"Please carefully ready the linked documentation: https://developer.spotify.com/spotify-web-api/authorization-guide/#authorization_code_flow","body":"Please carefully ready the linked documentation: <a href=\"https://developer.spotify.com/spotify-web-api/authorization-guide/#authorization_code_flow\" rel=\"nofollow noreferrer\">developer.spotify.com/spotify-web-api/authorization-guide/&hellip;</a>"}],"owner":{"account_id":2510589,"reputation":589,"user_id":2183174,"accept_rate":71,"display_name":"kadir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1698708805,"creation_date":1461738826,"question_id":36882064,"body_markdown":"I am trying to learn Spotify API. I have already created an app from https://developer.spotify.com/ and get my ***Client ID*** and ***Client Secret***\r\n\r\nNow what I am trying to do is get my profile&#39;s attributes. I have looked at the code samples from here https://github.com/thelinmichael/spotify-web-api-java and typed this code shown in below\r\n\r\n    public static void main(String[] args) {\r\n    \tfinal String clientId = &quot;My Client ID&quot;;\r\n    \tfinal String clientSecret = &quot;My Client Secret&quot;;\r\n    \tApi api = Api.builder().clientId(clientId).clientSecret(clientSecret).build();\r\n    \t\r\n    \t\r\n    \t/* Create a request object. */\r\n    \tfinal ClientCredentialsGrantRequest request = api.clientCredentialsGrant().build();\r\n    \r\n    \t/* Use the request object to make the request, either asynchronously (getAsync) or synchronously (get) */\r\n    \tfinal SettableFuture&lt;ClientCredentials&gt; responseFuture = request.getAsync();\r\n    \r\n    \t/* Add callbacks to handle success and failure */\r\n    \tFutures.addCallback(responseFuture, new FutureCallback&lt;ClientCredentials&gt;() {\r\n    \t  @Override\r\n    \t  public void onSuccess(ClientCredentials clientCredentials) {\r\n    \t    /* The tokens were retrieved successfully! */\r\n    \t    System.out.println(&quot;Successfully retrieved an access token! &quot; + clientCredentials.getAccessToken());\r\n    \t    System.out.println(&quot;The access token expires in &quot; + clientCredentials.getExpiresIn() + &quot; seconds&quot;);\r\n    \r\n    \t    /* Set access token on the Api object so that it&#39;s used going forward */\r\n    \t    api.setAccessToken(clientCredentials.getAccessToken());\r\n    \t    /* Please note that this flow does not return a refresh token.\r\n    \t   * That&#39;s only for the Authorization code flow */\r\n    \t  }\r\n    \r\n    \t  @Override\r\n    \t  public void onFailure(Throwable throwable) {\r\n    \t    /* An error occurred while getting the access token. This is probably caused by the client id or\r\n    \t     * client secret is invalid. */\r\n    \t\t  throwable.printStackTrace();\r\n    \t  }\r\n    \t});\r\n    \r\n    \tfinal CurrentUserRequest currentUserRequest = api.getMe().build();\r\n    \r\n    \ttry {\r\n    \t\tfinal User user = currentUserRequest.get();\r\n    \r\n    \t\tSystem.out.println(&quot;Display name: &quot; + user.getDisplayName());\r\n    \t} catch (Exception e) {\r\n    \t\tSystem.out.println(&quot;Something went wrong! &quot; + e.getMessage());\r\n            e.printStackTrace();\r\n    \t}\r\n    }\r\n\r\n\r\nI am retrieving access token succesfully but something going wrong when I try to get current user. Here is output of the code:\r\n\r\n    Successfully retrieved an access token! [my access token]\r\n    The access token expires in 3600 seconds\r\n    Something went wrong! 401\r\n    com.wrapper.spotify.exceptions.BadRequestException: 401\r\n    \tat com.wrapper.spotify.SpotifyHttpManager.handleErrorStatusCode(SpotifyHttpManager.java:178)\r\n    \tat com.wrapper.spotify.SpotifyHttpManager.execute(SpotifyHttpManager.java:157)\r\n    \tat com.wrapper.spotify.SpotifyHttpManager.get(SpotifyHttpManager.java:53)\r\n    \tat com.wrapper.spotify.methods.AbstractRequest.getJson(AbstractRequest.java:34)\r\n    \tat com.wrapper.spotify.methods.CurrentUserRequest.get(CurrentUserRequest.java:32)\r\n    \tat com.kadir.spotify.Main.main(Main.java:52)\r\n\r\n\r\nWhat am I missing here? ","title":"Why am I getting &quot;401 Unauthorized&quot; response from Java Spotify-Api?","body":"<p>I am trying to learn Spotify API. I have already created an app from <a href=\"https://developer.spotify.com/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/</a> and get my <em><strong>Client ID</strong></em> and <em><strong>Client Secret</strong></em></p>\n<p>Now what I am trying to do is get my profile's attributes. I have looked at the code samples from here <a href=\"https://github.com/thelinmichael/spotify-web-api-java\" rel=\"nofollow noreferrer\">https://github.com/thelinmichael/spotify-web-api-java</a> and typed this code shown in below</p>\n<pre><code>public static void main(String[] args) {\n    final String clientId = &quot;My Client ID&quot;;\n    final String clientSecret = &quot;My Client Secret&quot;;\n    Api api = Api.builder().clientId(clientId).clientSecret(clientSecret).build();\n    \n    \n    /* Create a request object. */\n    final ClientCredentialsGrantRequest request = api.clientCredentialsGrant().build();\n\n    /* Use the request object to make the request, either asynchronously (getAsync) or synchronously (get) */\n    final SettableFuture&lt;ClientCredentials&gt; responseFuture = request.getAsync();\n\n    /* Add callbacks to handle success and failure */\n    Futures.addCallback(responseFuture, new FutureCallback&lt;ClientCredentials&gt;() {\n      @Override\n      public void onSuccess(ClientCredentials clientCredentials) {\n        /* The tokens were retrieved successfully! */\n        System.out.println(&quot;Successfully retrieved an access token! &quot; + clientCredentials.getAccessToken());\n        System.out.println(&quot;The access token expires in &quot; + clientCredentials.getExpiresIn() + &quot; seconds&quot;);\n\n        /* Set access token on the Api object so that it's used going forward */\n        api.setAccessToken(clientCredentials.getAccessToken());\n        /* Please note that this flow does not return a refresh token.\n       * That's only for the Authorization code flow */\n      }\n\n      @Override\n      public void onFailure(Throwable throwable) {\n        /* An error occurred while getting the access token. This is probably caused by the client id or\n         * client secret is invalid. */\n          throwable.printStackTrace();\n      }\n    });\n\n    final CurrentUserRequest currentUserRequest = api.getMe().build();\n\n    try {\n        final User user = currentUserRequest.get();\n\n        System.out.println(&quot;Display name: &quot; + user.getDisplayName());\n    } catch (Exception e) {\n        System.out.println(&quot;Something went wrong! &quot; + e.getMessage());\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am retrieving access token succesfully but something going wrong when I try to get current user. Here is output of the code:</p>\n<pre><code>Successfully retrieved an access token! [my access token]\nThe access token expires in 3600 seconds\nSomething went wrong! 401\ncom.wrapper.spotify.exceptions.BadRequestException: 401\n    at com.wrapper.spotify.SpotifyHttpManager.handleErrorStatusCode(SpotifyHttpManager.java:178)\n    at com.wrapper.spotify.SpotifyHttpManager.execute(SpotifyHttpManager.java:157)\n    at com.wrapper.spotify.SpotifyHttpManager.get(SpotifyHttpManager.java:53)\n    at com.wrapper.spotify.methods.AbstractRequest.getJson(AbstractRequest.java:34)\n    at com.wrapper.spotify.methods.CurrentUserRequest.get(CurrentUserRequest.java:32)\n    at com.kadir.spotify.Main.main(Main.java:52)\n</code></pre>\n<p>What am I missing here?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9825,"page":92,"page_size":100}
