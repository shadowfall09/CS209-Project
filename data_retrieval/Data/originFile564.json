{"items":[{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"comments":[{"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"score":0,"creation_date":1679297478,"post_id":75784776,"comment_id":133689400,"body_markdown":"But BeanFactoryPostProcessors require a no-argument constructor?","body":"But BeanFactoryPostProcessors require a no-argument constructor?"}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679258069,"creation_date":1679258069,"answer_id":75784776,"question_id":75784675,"body_markdown":"You can use the `BeanFactoryPostProcessor` to create `RedisRateLimiter` beans based on the application properties.\r\n\r\nI am basing the answer over the following `RateLimitProperties` POJO definition:\r\n\r\n    @ConfigurationProperties(prefix = &quot;rate-limit&quot;)\r\n    public class RateLimitProperties {\r\n        \r\n        private List&lt;RateLimit&gt; properties;\r\n        \r\n        public List&lt;RateLimit&gt; getProperties() {\r\n            return properties;\r\n        }\r\n        \r\n        public void setProperties(List&lt;RateLimit&gt; properties) {\r\n            this.properties = properties;\r\n        }\r\n        \r\n        public static class RateLimit {\r\n            \r\n            private int rate;\r\n            \r\n            // getters and setters\r\n            \r\n            public int getRate() {\r\n                return rate;\r\n            }\r\n            \r\n            public void setRate(int rate) {\r\n                this.rate = rate;\r\n            }\r\n        }\r\n    }\r\n\r\nHere down the `BeanFactoryPostProcessor` implementation leveraging each `RateLimit` config item to create the respective bean:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.config.BeanDefinition;\r\n    import org.springframework.beans.factory.config.BeanFactoryPostProcessor;\r\n    import org.springframework.beans.factory.support.BeanDefinitionBuilder;\r\n    import org.springframework.beans.factory.support.BeanDefinitionRegistry;\r\n    import org.springframework.beans.factory.support.BeanNameGenerator;\r\n    import org.springframework.beans.factory.support.DefaultBeanNameGenerator;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    @Component\r\n    public class RateLimitingPostProcessor implements BeanFactoryPostProcessor {\r\n    \r\n      // Suggesting that you already have a `RateLimitProperties` class defined\r\n      private final RateLimitProperties properties;\r\n    \r\n      public RateLimitingPostProcessorRateLimitProperties properties) {\r\n        this.properties = properties;\r\n      }\r\n    \r\n      @Override\r\n      public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        BeanNameGenerator beanNameGenerator = new DefaultBeanNameGenerator();\r\n        BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\r\n    \r\n        List&lt;RateLimit&gt; rateLimits = this.properties.getProperties();\r\n        for (int i = 0; i &lt; rateLimits.size(); i++) {\r\n          RateLimit rateLimit = rateLimits.get(i);\r\n          BeanDefinition beanDefinition = BeanDefinitionBuilder.genericBeanDefinition(RedisRateLimiter.class)\r\n            .addConstructorArgValue(rateLimit.getRate())\r\n            .addConstructorArgValue(rateLimit.getDuration())\r\n            .addConstructorArgValue(rateLimit.getKeyResolver())\r\n            .getBeanDefinition();\r\n          registry.registerBeanDefinition(beanNameGenerator.generateBeanName(beanDefinition), beanDefinition);\r\n        }\r\n      }\r\n    \r\n    }\r\n\r\nYou should then update your application configuration to include the `RateLimitingPostProcessor` type:\r\n\r\n    @Configuration\r\n    public class ApplicationConfig {\r\n    \r\n      private final RateLimitProperties properties;\r\n    \r\n      public AppConfig(RateLimitProperties properties) {\r\n        this.properties = properties;\r\n      }\r\n    \r\n      @Bean\r\n      public RateLimitingPostProcessor rateLimitingPostProcessor() {\r\n        return new RateLimitingPostProcessor(properties);\r\n      }\r\n    \r\n    }\r\n\r\nYou should then be able to inject the `RedisRateLimiter` beans as follows:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;redisRateLimiters&quot;)\r\n    private List&lt;RedisRateLimiter&gt; redisRateLimiters;","title":"How to creatre a list of beans (RedisRateLimiter) from application.properties in Spring Boot (Spring Cloud Gateway)?","body":"<p>You can use the <code>BeanFactoryPostProcessor</code> to create <code>RedisRateLimiter</code> beans based on the application properties.</p>\n<p>I am basing the answer over the following <code>RateLimitProperties</code> POJO definition:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;rate-limit&quot;)\npublic class RateLimitProperties {\n    \n    private List&lt;RateLimit&gt; properties;\n    \n    public List&lt;RateLimit&gt; getProperties() {\n        return properties;\n    }\n    \n    public void setProperties(List&lt;RateLimit&gt; properties) {\n        this.properties = properties;\n    }\n    \n    public static class RateLimit {\n        \n        private int rate;\n        \n        // getters and setters\n        \n        public int getRate() {\n            return rate;\n        }\n        \n        public void setRate(int rate) {\n            this.rate = rate;\n        }\n    }\n}\n</code></pre>\n<p>Here down the <code>BeanFactoryPostProcessor</code> implementation leveraging each <code>RateLimit</code> config item to create the respective bean:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.config.BeanDefinition;\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\nimport org.springframework.beans.factory.support.BeanDefinitionBuilder;\nimport org.springframework.beans.factory.support.BeanDefinitionRegistry;\nimport org.springframework.beans.factory.support.BeanNameGenerator;\nimport org.springframework.beans.factory.support.DefaultBeanNameGenerator;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class RateLimitingPostProcessor implements BeanFactoryPostProcessor {\n\n  // Suggesting that you already have a `RateLimitProperties` class defined\n  private final RateLimitProperties properties;\n\n  public RateLimitingPostProcessorRateLimitProperties properties) {\n    this.properties = properties;\n  }\n\n  @Override\n  public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    BeanNameGenerator beanNameGenerator = new DefaultBeanNameGenerator();\n    BeanDefinitionRegistry registry = (BeanDefinitionRegistry) beanFactory;\n\n    List&lt;RateLimit&gt; rateLimits = this.properties.getProperties();\n    for (int i = 0; i &lt; rateLimits.size(); i++) {\n      RateLimit rateLimit = rateLimits.get(i);\n      BeanDefinition beanDefinition = BeanDefinitionBuilder.genericBeanDefinition(RedisRateLimiter.class)\n        .addConstructorArgValue(rateLimit.getRate())\n        .addConstructorArgValue(rateLimit.getDuration())\n        .addConstructorArgValue(rateLimit.getKeyResolver())\n        .getBeanDefinition();\n      registry.registerBeanDefinition(beanNameGenerator.generateBeanName(beanDefinition), beanDefinition);\n    }\n  }\n\n}\n</code></pre>\n<p>You should then update your application configuration to include the <code>RateLimitingPostProcessor</code> type:</p>\n<pre><code>@Configuration\npublic class ApplicationConfig {\n\n  private final RateLimitProperties properties;\n\n  public AppConfig(RateLimitProperties properties) {\n    this.properties = properties;\n  }\n\n  @Bean\n  public RateLimitingPostProcessor rateLimitingPostProcessor() {\n    return new RateLimitingPostProcessor(properties);\n  }\n\n}\n</code></pre>\n<p>You should then be able to inject the <code>RedisRateLimiter</code> beans as follows:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;redisRateLimiters&quot;)\nprivate List&lt;RedisRateLimiter&gt; redisRateLimiters;\n</code></pre>\n"}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679258069,"creation_date":1679256765,"question_id":75784675,"body_markdown":"For example, I have application.yml where I set properties to create different beans of RedisRateLimiter:\r\n```\r\nrate-limit:\r\n  properties:\r\n    - rate: 2\r\n    - rate: 5\r\n      ...\r\n```\r\nThe thing is, that I dont know how many beans will be, I need to create them according to properties.\r\nWhen I create @Bean List &lt;&quot;RedisRateLimiter&gt;, and try to use any of them calling isAllowed() method, I get exception:\r\n**RedisRateLimiter is not initialized at org.springframework.cloud.gateway.filter.ratelimit.RedisRateLimiter.isAllowed**:\r\n```\r\n    @Bean\r\n    @Qualifier(&quot;redisRateLimiters&quot;)\r\n    public List&lt;RedisRateLimiter&gt; redisRateLimiters() {\r\n        return properties.getProperties().stream()\r\n            .map(rateLimit -&gt; new RedisRateLimiter(..., rateLimit.getRate()))\r\n            .toList();\r\n    }\r\n```\r\n\r\nBut when I create single bean @Bean RedisRateLimiter and use it, it works fine. \r\n```\r\n    @Bean\r\n    public RedisRateLimiter redisRateLimiter1() {\r\n        return new RedisRateLimiter(1, properties.getProperties().get(0).getRate());\r\n    }\r\n```\r\nHow can I create list of this beans properly (maybe with BeanFactoryPostProcessor somehow)?\r\nP.S. I need this beans to limit requests to differents URLs, each with own rate. Maybe I am going to wrong direction and it can be done in other way.","title":"How to creatre a list of beans (RedisRateLimiter) from application.properties in Spring Boot (Spring Cloud Gateway)?","body":"<p>For example, I have application.yml where I set properties to create different beans of RedisRateLimiter:</p>\n<pre><code>rate-limit:\n  properties:\n    - rate: 2\n    - rate: 5\n      ...\n</code></pre>\n<p>The thing is, that I dont know how many beans will be, I need to create them according to properties.\nWhen I create @Bean List &lt;&quot;RedisRateLimiter&gt;, and try to use any of them calling isAllowed() method, I get exception:\n<strong>RedisRateLimiter is not initialized at org.springframework.cloud.gateway.filter.ratelimit.RedisRateLimiter.isAllowed</strong>:</p>\n<pre><code>    @Bean\n    @Qualifier(&quot;redisRateLimiters&quot;)\n    public List&lt;RedisRateLimiter&gt; redisRateLimiters() {\n        return properties.getProperties().stream()\n            .map(rateLimit -&gt; new RedisRateLimiter(..., rateLimit.getRate()))\n            .toList();\n    }\n</code></pre>\n<p>But when I create single bean @Bean RedisRateLimiter and use it, it works fine.</p>\n<pre><code>    @Bean\n    public RedisRateLimiter redisRateLimiter1() {\n        return new RedisRateLimiter(1, properties.getProperties().get(0).getRate());\n    }\n</code></pre>\n<p>How can I create list of this beans properly (maybe with BeanFactoryPostProcessor somehow)?\nP.S. I need this beans to limit requests to differents URLs, each with own rate. Maybe I am going to wrong direction and it can be done in other way.</p>\n"},{"tags":["java","database","encryption","whatsapp"],"comments":[{"owner":{"account_id":1970775,"reputation":841,"user_id":2036036,"display_name":"radomaj"},"score":0,"creation_date":1394499558,"post_id":22314416,"comment_id":33908383,"body_markdown":"Maybe convert the question/answer to a community wiki?","body":"Maybe convert the question/answer to a community wiki?"},{"owner":{"account_id":2558003,"reputation":12091,"user_id":2219600,"accept_rate":70,"display_name":"amalBit"},"score":0,"creation_date":1398835249,"post_id":22314416,"comment_id":35815459,"body_markdown":"Check this answer for decrypting the [whatsApp crypt5 DB.](http://stackoverflow.com/a/23380177/2219600)","body":"Check this answer for decrypting the <a href=\"http://stackoverflow.com/a/23380177/2219600\">whatsApp crypt5 DB.</a>"}],"answers":[{"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1394499705,"post_id":22314417,"comment_id":33908419,"body_markdown":"Why not pass the keySpec to the decrypt routine? That way you only have to instantiate it once for decrypting multiple files.","body":"Why not pass the keySpec to the decrypt routine? That way you only have to instantiate it once for decrypting multiple files."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1394500218,"post_id":22314417,"comment_id":33908594,"body_markdown":"`System.out.println(&quot;Decrypting Done&quot;);` - not if it throws an exception.","body":"<code>System.out.println(&quot;Decrypting Done&quot;);</code> - not if it throws an exception."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1394500263,"post_id":22314417,"comment_id":33908608,"body_markdown":"also why such s small buffer?  Any reason for 24 bytes?","body":"also why such s small buffer?  Any reason for 24 bytes?"},{"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"score":0,"creation_date":1394500405,"post_id":22314417,"comment_id":33908658,"body_markdown":"Humm yea you are right its not if it throws an exception but its just a basic type of it. You can easly edit it how u want i think. And nope there is not any spesific reason to use small buffer. I believe using bigger one wont be a problem.","body":"Humm yea you are right its not if it throws an exception but its just a basic type of it. You can easly edit it how u want i think. And nope there is not any spesific reason to use small buffer. I believe using bigger one wont be a problem."},{"owner":{"account_id":439853,"reputation":4059,"user_id":829066,"accept_rate":73,"display_name":"Noman"},"score":0,"creation_date":1394709755,"post_id":22314417,"comment_id":34015495,"body_markdown":"@Sir.WaLeK... What is DatatypeConverter ??","body":"@Sir.WaLeK... What is DatatypeConverter ??"},{"owner":{"account_id":203524,"reputation":5960,"user_id":451221,"accept_rate":84,"display_name":"Sreekumar P"},"score":1,"creation_date":1394790303,"post_id":22314417,"comment_id":34058135,"body_markdown":"Whatsapp updated their encryption.\nNow is the file name is &quot;msgstore.db.crypt5&quot; rather than &quot;msgstore.db.crypt&quot;.. Is there any new solution for this ?","body":"Whatsapp updated their encryption. Now is the file name is &quot;msgstore.db.crypt5&quot; rather than &quot;msgstore.db.crypt&quot;.. Is there any new solution for this ?"},{"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"score":0,"creation_date":1394827189,"post_id":22314417,"comment_id":34082133,"body_markdown":"ah yes i realised that few days ago. But it wont be a problem i think.","body":"ah yes i realised that few days ago. But it wont be a problem i think."},{"owner":{"account_id":1049547,"reputation":521,"user_id":1053800,"accept_rate":61,"display_name":"Tushar Agarwal"},"score":0,"creation_date":1397026513,"post_id":22314417,"comment_id":35046835,"body_markdown":"use &quot;1e39f369e90db33aa73b442bbbb6b0b9&quot; instead of &quot;346a23652a46392b4d73257c67317e352e3372482177652c&quot;","body":"use &quot;1e39f369e90db33aa73b442bbbb6b0b9&quot; instead of &quot;346a23652a46392b4d73257c67317e352e3372482177652c&quot;"},{"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"score":0,"creation_date":1397202735,"post_id":22314417,"comment_id":35139913,"body_markdown":"Did they change the key kode ?","body":"Did they change the key kode ?"},{"owner":{"account_id":1233149,"reputation":3280,"user_id":1197317,"accept_rate":50,"display_name":"fikr4n"},"score":0,"creation_date":1459205849,"post_id":22314417,"comment_id":60172086,"body_markdown":"What&#39;s the difference with crypt8?","body":"What&#39;s the difference with crypt8?"}],"tags":[],"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"comment_count":10,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1394499498,"creation_date":1394499498,"answer_id":22314417,"question_id":22314416,"body_markdown":"    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.InputStream;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.CipherInputStream;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import javax.xml.bind.DatatypeConverter;\r\n    \r\n    \r\n    public class Crypto {\r\n    \t\r\n    \tpublic FileInputStream mIn;\r\n    \tpublic FileOutputStream mOut;\r\n    \tpublic Crypto(String fileIn, String fileOut) {\r\n            try {\r\n                    mIn = new FileInputStream(new File(fileIn));\r\n                    mOut = new FileOutputStream(new File(fileOut));\r\n                    decryptAES(mIn, mOut);\r\n            } catch (Exception e) {\r\n                    e.printStackTrace();\r\n            }\r\n    \t}\r\n    \t\r\n    \tpublic static void decryptAES(InputStream in, FileOutputStream out) throws Exception {\r\n    \t\tfinal String string = &quot;346a23652a46392b4d73257c67317e352e3372482177652c&quot;;\r\n            byte[] hexAsBytes = DatatypeConverter.parseHexBinary(string);\r\n            \r\n            SecretKeySpec keySpec = new SecretKeySpec(hexAsBytes, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;); \r\n           \r\n            cipher.init(Cipher.DECRYPT_MODE, keySpec);\r\n                \r\n            in = new CipherInputStream(in, cipher);\r\n            byte[] buffer = new byte[24]; \r\n            int bytesRead;\r\n            while ((bytesRead = in.read(buffer)) != -1)\r\n            {\r\n                out.write(buffer, 0, bytesRead);\r\n            }\r\n    \t      \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args){    \r\n    \t\tCrypto c = new Crypto(&quot;C:\\\\msgstore.db.crypt&quot;, &quot;D:\\\\WhatsappDb&quot;);\r\n    \t\tSystem.out.println(&quot;Decrypting Done&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"How to decrypt Whatsapp Database File?","body":"<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport javax.crypto.Cipher;\nimport javax.crypto.CipherInputStream;\nimport javax.crypto.spec.SecretKeySpec;\nimport javax.xml.bind.DatatypeConverter;\n\n\npublic class Crypto {\n\n    public FileInputStream mIn;\n    public FileOutputStream mOut;\n    public Crypto(String fileIn, String fileOut) {\n        try {\n                mIn = new FileInputStream(new File(fileIn));\n                mOut = new FileOutputStream(new File(fileOut));\n                decryptAES(mIn, mOut);\n        } catch (Exception e) {\n                e.printStackTrace();\n        }\n    }\n\n    public static void decryptAES(InputStream in, FileOutputStream out) throws Exception {\n        final String string = \"346a23652a46392b4d73257c67317e352e3372482177652c\";\n        byte[] hexAsBytes = DatatypeConverter.parseHexBinary(string);\n\n        SecretKeySpec keySpec = new SecretKeySpec(hexAsBytes, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\"); \n\n        cipher.init(Cipher.DECRYPT_MODE, keySpec);\n\n        in = new CipherInputStream(in, cipher);\n        byte[] buffer = new byte[24]; \n        int bytesRead;\n        while ((bytesRead = in.read(buffer)) != -1)\n        {\n            out.write(buffer, 0, bytesRead);\n        }\n\n    }\n\n\n    public static void main(String[] args){    \n        Crypto c = new Crypto(\"C:\\\\msgstore.db.crypt\", \"D:\\\\WhatsappDb\");\n        System.out.println(\"Decrypting Done\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":437957,"reputation":32895,"user_id":825924,"accept_rate":57,"display_name":"Robert Siemer"},"score":1,"creation_date":1524026376,"post_id":44855120,"comment_id":86798164,"body_markdown":"Do you know how to encrypt (i.e. create a .crypt12 file)? What are the header and footer in the encrypted file!?","body":"Do you know how to encrypt (i.e. create a .crypt12 file)? What are the header and footer in the encrypted file!?"}],"tags":[],"owner":{"account_id":1044370,"reputation":2798,"user_id":1049677,"display_name":"Willem Hengeveld"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498858560,"creation_date":1498858560,"answer_id":44855120,"question_id":22314416,"body_markdown":"An updated answer for `.crypt12` files:\r\n\r\nThese are compressed, and then encrypted using AES in GCM mode\r\n\r\nHere is some python code showing how:\r\n\r\n&lt;!-- language: python --&gt;\r\n\r\n    &quot;&quot;&quot;\r\n    Example how to decrypt whatsapp msgstore backups with extension .crypt12.\r\n    Author: Willem Hengeveld &lt;itsme@xs4all.nl&gt;\r\n    &quot;&quot;&quot;\r\n    from Crypto.Cipher import AES\r\n    import zlib\r\n    import sys\r\n    \r\n    datafile = keyfile = None\r\n    \r\n    if len(sys.argv)==1:\r\n        print(&quot;Usage: decrypt12.py &lt;keyfile&gt; &lt;msgstore.db.crypt12&gt;&quot;)\r\n        print(&quot;  the key file is commonly found in /data/data/com.whatsapp/files/key&quot;)\r\n        print(&quot;  the crypt file is commonly found in the directory: /data/media/0/WhatsApp/Databases/&quot;)\r\n        exit(1)\r\n    \r\n    for arg in sys.argv[1:]:\r\n        if arg.find(&#39;crypt12&#39;)&gt;0:\r\n            datafile = arg\r\n        elif arg.find(&#39;key&#39;)&gt;0:\r\n            keyfile = arg\r\n        else:\r\n            print(&quot;unknown arg&quot;, arg)\r\n    \r\n    with open(keyfile, &quot;rb&quot;) as fh:\r\n       keydata = fh.read()\r\n    key = keydata[126:]\r\n    \r\n    with open(datafile, &quot;rb&quot;) as fh:\r\n       filedata = fh.read()\r\n    iv = filedata[51:67]\r\n    \r\n    aes = AES.new(key, mode=AES.MODE_GCM, nonce=iv)\r\n    \r\n    with open(&quot;msg-decrypted.db&quot;, &quot;wb&quot;) as fh:\r\n        fh.write(zlib.decompress(aes.decrypt(filedata[67:-20])))\r\n","title":"How to decrypt Whatsapp Database File?","body":"<p>An updated answer for <code>.crypt12</code> files:</p>\n\n<p>These are compressed, and then encrypted using AES in GCM mode</p>\n\n<p>Here is some python code showing how:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\"\"\"\nExample how to decrypt whatsapp msgstore backups with extension .crypt12.\nAuthor: Willem Hengeveld &lt;itsme@xs4all.nl&gt;\n\"\"\"\nfrom Crypto.Cipher import AES\nimport zlib\nimport sys\n\ndatafile = keyfile = None\n\nif len(sys.argv)==1:\n    print(\"Usage: decrypt12.py &lt;keyfile&gt; &lt;msgstore.db.crypt12&gt;\")\n    print(\"  the key file is commonly found in /data/data/com.whatsapp/files/key\")\n    print(\"  the crypt file is commonly found in the directory: /data/media/0/WhatsApp/Databases/\")\n    exit(1)\n\nfor arg in sys.argv[1:]:\n    if arg.find('crypt12')&gt;0:\n        datafile = arg\n    elif arg.find('key')&gt;0:\n        keyfile = arg\n    else:\n        print(\"unknown arg\", arg)\n\nwith open(keyfile, \"rb\") as fh:\n   keydata = fh.read()\nkey = keydata[126:]\n\nwith open(datafile, \"rb\") as fh:\n   filedata = fh.read()\niv = filedata[51:67]\n\naes = AES.new(key, mode=AES.MODE_GCM, nonce=iv)\n\nwith open(\"msg-decrypted.db\", \"wb\") as fh:\n    fh.write(zlib.decompress(aes.decrypt(filedata[67:-20])))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182639,"reputation":812,"user_id":1931774,"display_name":"SkateScout"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544265789,"creation_date":1544265789,"answer_id":53681712,"question_id":22314416,"body_markdown":"here is an pure java routine for .db.crypt12 without bouncycastle, but only JDK.\r\n\r\n    public class Crypt12 {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal String c12File         = &quot;1/msgstore.db.crypt12&quot;; // input file\r\n    \t\tfinal String decryptedDbFile = &quot;1/msgstore.db&quot;;         // sqlite3 db output file\r\n    \t\tfinal String keyFile         = &quot;1/key&quot;;\r\n    \t\ttry {\r\n    \t\t\tfinal byte[] key; try(FileInputStream s = new FileInputStream(keyFile)) { key = s.readAllBytes(); }\r\n    \t\t\tfinal byte[] buf; try(FileInputStream s = new FileInputStream(c12File)) { buf = s.readAllBytes(); }\r\n    \t\t\tif(!Arrays.equals(key, 27, 78, buf, 0, 51)) { System.out.println(&quot;Wrong Key-File&quot;); return; }\r\n    \t\t\tfinal int available = buf.length - 67  - 20; // 67 Byte Header + 20 byte footer\r\n    \t\t\tfinal Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n    \t\t\tfinal GCMParameterSpec iv = new GCMParameterSpec(128, buf, 51, 16);\r\n    \t\t\tcipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, 126, 32, &quot;AES&quot;), iv);\r\n    \t\t\tfinal int zipLen = cipher.doFinal(buf, 67, available, buf, 0);\r\n    \t\t\tfinal Inflater unzip = new Inflater(false);\r\n    \t\t\ttry(FileOutputStream s = new FileOutputStream(decryptedDbFile)) {\r\n    \t\t\t\tunzip.setInput(buf, 0, zipLen);\r\n    \t\t\t\tfinal byte[] b = new byte[1024];\r\n    \t\t\t\twhile(!unzip.needsInput()) {\r\n    \t\t\t\t\tfinal int l = unzip.inflate(b, 0, b.length);\r\n    \t\t\t\t\tif(l &gt; 0) s.write(b, 0, l);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace(System.out);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to decrypt Whatsapp Database File?","body":"<p>here is an pure java routine for .db.crypt12 without bouncycastle, but only JDK.</p>\n\n<pre><code>public class Crypt12 {\n    public static void main(final String[] args) {\n        final String c12File         = \"1/msgstore.db.crypt12\"; // input file\n        final String decryptedDbFile = \"1/msgstore.db\";         // sqlite3 db output file\n        final String keyFile         = \"1/key\";\n        try {\n            final byte[] key; try(FileInputStream s = new FileInputStream(keyFile)) { key = s.readAllBytes(); }\n            final byte[] buf; try(FileInputStream s = new FileInputStream(c12File)) { buf = s.readAllBytes(); }\n            if(!Arrays.equals(key, 27, 78, buf, 0, 51)) { System.out.println(\"Wrong Key-File\"); return; }\n            final int available = buf.length - 67  - 20; // 67 Byte Header + 20 byte footer\n            final Cipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\n            final GCMParameterSpec iv = new GCMParameterSpec(128, buf, 51, 16);\n            cipher.init(Cipher.DECRYPT_MODE, new SecretKeySpec(key, 126, 32, \"AES\"), iv);\n            final int zipLen = cipher.doFinal(buf, 67, available, buf, 0);\n            final Inflater unzip = new Inflater(false);\n            try(FileOutputStream s = new FileOutputStream(decryptedDbFile)) {\n                unzip.setInput(buf, 0, zipLen);\n                final byte[] b = new byte[1024];\n                while(!unzip.needsInput()) {\n                    final int l = unzip.inflate(b, 0, b.length);\n                    if(l &gt; 0) s.write(b, 0, l);\n                }\n            }\n        } catch (final Exception e) {\n            e.printStackTrace(System.out);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4087415,"reputation":535,"user_id":3356376,"accept_rate":20,"display_name":"ali.turan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16913,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1679257702,"creation_date":1394499498,"question_id":22314416,"body_markdown":"I was trying to decrypt Whatsapp database file (`msgstore.db.crypt`) with java. \r\n\r\nI found some python code and tried to do same thing with java. Probably its not that hard thing to do but I had some problems with handling decryption key. \r\n\r\nBut finally did it. So I wanted to share the code for people who need it. ","title":"How to decrypt Whatsapp Database File?","body":"<p>I was trying to decrypt Whatsapp database file (<code>msgstore.db.crypt</code>) with java. </p>\n\n<p>I found some python code and tried to do same thing with java. Probably its not that hard thing to do but I had some problems with handling decryption key. </p>\n\n<p>But finally did it. So I wanted to share the code for people who need it. </p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1679256294,"post_id":75784628,"comment_id":133684623,"body_markdown":"&quot;*but I can not get it to work*&quot; can we see your code? Use [edit] option to update your question.","body":"&quot;<i>but I can not get it to work</i>&quot; can we see your code? Use <a href=\"https://stackoverflow.com/posts/75784628/edit\">edit</a> option to update your question."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679256381,"creation_date":1679256381,"answer_id":75784645,"question_id":75784628,"body_markdown":"Use `String#split` to separate the parts.\r\n\r\n```java\r\nvar str = &quot;George:45:185&quot;;\r\nvar parts = str.split(&quot;:&quot;);\r\nString name = parts[0];\r\nint age = Integer.parseInt(parts[1]);\r\nint height = Integer.parseInt(parts[2]);\r\n```","title":"Java: Read many values from one string","body":"<p>Use <code>String#split</code> to separate the parts.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var str = &quot;George:45:185&quot;;\nvar parts = str.split(&quot;:&quot;);\nString name = parts[0];\nint age = Integer.parseInt(parts[1]);\nint height = Integer.parseInt(parts[2]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16657882,"reputation":11,"user_id":12038717,"display_name":"Ishraq Ahmed Esha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679257125,"creation_date":1679256813,"answer_id":75784684,"question_id":75784628,"body_markdown":"In Java, you can use the `split()` method of the String class to split the string into an array of substrings based on a specified delimiter. In your case, you can split the string using the `colon (&quot;:&quot;) delimiter` as follows:\r\n\r\n```\r\nString info = &quot;George:45:185&quot;;\r\nString[] values = info.split(&quot;:&quot;);\r\n```\r\nThis will create an `array value` that contains three elements: &quot;George&quot;, &quot;45&quot;, and &quot;185&quot;. You can then access these values individually using `array indexing`:\r\n\r\n```\r\nString name = values[0];\r\nint age = Integer.parseInt(values[1]);\r\nint height = Integer.parseInt(values[2]);\r\n```\r\n\r\n*Note that if you need to convert the age and height strings to integers, then you have to use the `parseInt()` method of the `Integer class`.*\r\n","title":"Java: Read many values from one string","body":"<p>In Java, you can use the <code>split()</code> method of the String class to split the string into an array of substrings based on a specified delimiter. In your case, you can split the string using the <code>colon (&quot;:&quot;) delimiter</code> as follows:</p>\n<pre><code>String info = &quot;George:45:185&quot;;\nString[] values = info.split(&quot;:&quot;);\n</code></pre>\n<p>This will create an <code>array value</code> that contains three elements: &quot;George&quot;, &quot;45&quot;, and &quot;185&quot;. You can then access these values individually using <code>array indexing</code>:</p>\n<pre><code>String name = values[0];\nint age = Integer.parseInt(values[1]);\nint height = Integer.parseInt(values[2]);\n</code></pre>\n<p><em>Note that if you need to convert the age and height strings to integers, then you have to use the <code>parseInt()</code> method of the <code>Integer class</code>.</em></p>\n"}],"owner":{"account_id":26669340,"reputation":13,"user_id":20280977,"display_name":"SERO9"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679257317,"answer_count":2,"score":-2,"last_activity_date":1679257125,"creation_date":1679256141,"question_id":75784628,"body_markdown":"Say if I have the string &quot;George:45:185&quot; that contains the information Name:age:height about a person; how would I go about reading these values individually from the string? The solution seems to be to separate the string at the &quot;:&quot; symbol and after that reading the values individually, but I can not get it to work.\r\n\r\nHow do I go about solving this?","title":"Java: Read many values from one string","body":"<p>Say if I have the string &quot;George:45:185&quot; that contains the information Name:age:height about a person; how would I go about reading these values individually from the string? The solution seems to be to separate the string at the &quot;:&quot; symbol and after that reading the values individually, but I can not get it to work.</p>\n<p>How do I go about solving this?</p>\n"},{"tags":["java","spring","cookies","axios","samesite"],"answers":[{"comments":[{"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"score":0,"creation_date":1679255852,"post_id":75784589,"comment_id":133684553,"body_markdown":"oh sorry it should be false there, I updated my question","body":"oh sorry it should be false there, I updated my question"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1679256032,"post_id":75784589,"comment_id":133684584,"body_markdown":"then try removing `.sameSite` setting because that could be an issue if the domains are not the same","body":"then try removing <code>.sameSite</code> setting because that could be an issue if the domains are not the same"},{"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"score":0,"creation_date":1679256544,"post_id":75784589,"comment_id":133684661,"body_markdown":"still not working :/","body":"still not working :/"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1679256981,"post_id":75784589,"comment_id":133684710,"body_markdown":"unfortunately I cant help you with the information given. You need to urself analyze where exactly the problem first occurs. In the question you are asking about the refresh_token request but is the cookie ever set in the very first authorization request?. Use developer tools to check Application -&gt; Cookies and keep going through the steps till u know where it first goes missing","body":"unfortunately I cant help you with the information given. You need to urself analyze where exactly the problem first occurs. In the question you are asking about the refresh_token request but is the cookie ever set in the very first authorization request?. Use developer tools to check Application -&gt; Cookies and keep going through the steps till u know where it first goes missing"}],"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679255655,"creation_date":1679255655,"answer_id":75784589,"question_id":75784497,"body_markdown":"try removing `.secure(true)`\r\n\r\nReason is that `.secure` only allows cookies to be transmitted via secure channels which is HTTPS. If you are developing locally, chances are you are using http so no cookie.\r\n\r\nAlso keep in mind that `.httpOnly(true)` will prevent your js code (so your react app) from accessing cookie. So in case your js code needs to read the cookie value you will need to disable it.","title":"Why is the cookie not being sent with Axios requests despite being set in the server response and CORS configuration?","body":"<p>try removing <code>.secure(true)</code></p>\n<p>Reason is that <code>.secure</code> only allows cookies to be transmitted via secure channels which is HTTPS. If you are developing locally, chances are you are using http so no cookie.</p>\n<p>Also keep in mind that <code>.httpOnly(true)</code> will prevent your js code (so your react app) from accessing cookie. So in case your js code needs to read the cookie value you will need to disable it.</p>\n"}],"owner":{"account_id":21023381,"reputation":23,"user_id":15449203,"display_name":"Johni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679255879,"creation_date":1679254499,"question_id":75784497,"body_markdown":"I&#39;m working on a web application that uses Java Spring on the server side and React on the client side. The server sends a cookie in the response when the user logs in, and subsequent requests from the client are expected to include this cookie for authentication. However, the cookie doesn&#39;t seem to be sent with the request, and I&#39;m not sure why.\r\n\r\nHere&#39;s the server-side code that sets the set-cookie header:\r\n\r\n```\r\n\r\nResponseCookie cookie = ResponseCookie.from(&quot;my_cookie&quot;, &quot;my_value&quot;)\r\n  .httpOnly(true)\r\n  .secure(false)\r\n  .sameSite(&quot;lax&quot;)\r\n  .build();\r\nresponse.addHeader(HttpHeaders.SET_COOKIE, cookie.toString());\r\n```\r\n\r\nAnd here&#39;s the client-side code that makes the request to refresh the access token:\r\n\r\n\r\n```\r\naxios.get(&#39;/api/v1/auth/refresh_token&#39;, { withCredentials: true })\r\n  .then(response =&gt; console.log(response))\r\n  .catch(error =&gt; console.error(error));\r\n```\r\n\r\nAnd here&#39;s the server-side code that sets the CORS configuration:\r\n\r\n```\r\npublic class CorsConfiguration {\r\n    @Value(&quot;${navaship.webapp.url}&quot;)\r\n    private String webAppUrl;\r\n\r\n    @Bean\r\n    public WebMvcConfigurer corsConfigurer() {\r\n        return new WebMvcConfigurer() {\r\n            @Override\r\n            public void addCorsMappings(CorsRegistry registry) {\r\n                // Add the CORS configuration for the /api/v1/auth/refresh-token endpoint\r\n                registry.addMapping(&quot;/api/v*/auth/refresh-token&quot;)\r\n                        .allowedOrigins(webAppUrl)\r\n                        .allowedMethods(&quot;GET&quot;)\r\n                        .allowCredentials(true);\r\n\r\n                registry.addMapping(&quot;/api/v*/**&quot;)\r\n                        .allowedOrigins(webAppUrl)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve verified that the cookie is being set properly in the server response, and that the allowCredentials option is set to true in the CORS configuration for the /api/v1/auth/refresh-token endpoint. However, when I inspect the network requests in the browser console, I don&#39;t see the cookie being sent in the request headers.\r\n\r\n\r\nWhat could be causing the cookie to not be sent with the request? Is there anything I&#39;m missing in my code or configuration? Any help would be appreciated.","title":"Why is the cookie not being sent with Axios requests despite being set in the server response and CORS configuration?","body":"<p>I'm working on a web application that uses Java Spring on the server side and React on the client side. The server sends a cookie in the response when the user logs in, and subsequent requests from the client are expected to include this cookie for authentication. However, the cookie doesn't seem to be sent with the request, and I'm not sure why.</p>\n<p>Here's the server-side code that sets the set-cookie header:</p>\n<pre><code>\nResponseCookie cookie = ResponseCookie.from(&quot;my_cookie&quot;, &quot;my_value&quot;)\n  .httpOnly(true)\n  .secure(false)\n  .sameSite(&quot;lax&quot;)\n  .build();\nresponse.addHeader(HttpHeaders.SET_COOKIE, cookie.toString());\n</code></pre>\n<p>And here's the client-side code that makes the request to refresh the access token:</p>\n<pre><code>axios.get('/api/v1/auth/refresh_token', { withCredentials: true })\n  .then(response =&gt; console.log(response))\n  .catch(error =&gt; console.error(error));\n</code></pre>\n<p>And here's the server-side code that sets the CORS configuration:</p>\n<pre><code>public class CorsConfiguration {\n    @Value(&quot;${navaship.webapp.url}&quot;)\n    private String webAppUrl;\n\n    @Bean\n    public WebMvcConfigurer corsConfigurer() {\n        return new WebMvcConfigurer() {\n            @Override\n            public void addCorsMappings(CorsRegistry registry) {\n                // Add the CORS configuration for the /api/v1/auth/refresh-token endpoint\n                registry.addMapping(&quot;/api/v*/auth/refresh-token&quot;)\n                        .allowedOrigins(webAppUrl)\n                        .allowedMethods(&quot;GET&quot;)\n                        .allowCredentials(true);\n\n                registry.addMapping(&quot;/api/v*/**&quot;)\n                        .allowedOrigins(webAppUrl)\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>I've verified that the cookie is being set properly in the server response, and that the allowCredentials option is set to true in the CORS configuration for the /api/v1/auth/refresh-token endpoint. However, when I inspect the network requests in the browser console, I don't see the cookie being sent in the request headers.</p>\n<p>What could be causing the cookie to not be sent with the request? Is there anything I'm missing in my code or configuration? Any help would be appreciated.</p>\n"},{"tags":["java","smallrye","mutiny"],"answers":[{"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":1,"creation_date":1603436014,"post_id":64426894,"comment_id":114042039,"body_markdown":"I can only second this response. The common `sort` operator is buffering and sorting when the stream is complete. It can lead to out of memory or people seeing it as _blocking_ (that&#39;s a perception). In Mutiny, collect your item in the collection of your choice and sort it as you want (pass a comparator or make the item comparable). So, you understand what&#39;s going on: It collects items; once done, it sorts them and emits the resulting collection. If you want to emit a sorted stream, just add:\n```\n.onItem().transformToMulti(sorted -&gt; Multi.createFrom().iterable(sorted));\n```","body":"I can only second this response. The common <code>sort</code> operator is buffering and sorting when the stream is complete. It can lead to out of memory or people seeing it as <i>blocking</i> (that&#39;s a perception). In Mutiny, collect your item in the collection of your choice and sort it as you want (pass a comparator or make the item comparable). So, you understand what&#39;s going on: It collects items; once done, it sorts them and emits the resulting collection. If you want to emit a sorted stream, just add: ``` .onItem().transformToMulti(sorted -&gt; Multi.createFrom().iterable(sorted)); ```"}],"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609944852,"creation_date":1603108748,"answer_id":64426894,"question_id":64377747,"body_markdown":"I don&#39;t believe there is a built-in/better way to do this.\r\n\r\nMutiny generally prizes itself on having a &quot;cut-down&quot; set of operators in its core, and letting you build up other, more complex operators as needed. They&#39;re trying to avoid the reactor situation where you have 100+ methods on a couple of core types, and without a lot of background knowledge it&#39;s often difficult to know what ones are relevant.\r\n\r\nIMHO that&#39;s no bad thing. Other reactive frameworks definitely have these built-in `sort()` operators, but there&#39;s a danger here - people assume they can still treat them as infinite, magically sorted publishers, because there&#39;s no sign of any collections anywhere. You can&#39;t of course - internally these frameworks have to maintain an underlying collection to sort the data, and then just output the contents of that when the stream is complete. This isn&#39;t that clear however, and ignorance of this fact can often lead to unintended slowdowns and `OutOfMemoryError`. On the contrary, in your example, it&#39;s immediately obvious that this stream uses an underlying collection for sorting your data.\r\n\r\nThere&#39;s just one minor thing I&#39;d change in your example, but not really related to your question - I&#39;d use:\r\n\r\n`list.stream().sorted().collect(Collectors.toList())`\r\n\r\n...in your map call instead of sorting a mutable list. Mutating data structures in a reactive stream is a bit of a code smell.","title":"How do i sort a Multi in smallrye mutiny","body":"<p>I don't believe there is a built-in/better way to do this.</p>\n<p>Mutiny generally prizes itself on having a &quot;cut-down&quot; set of operators in its core, and letting you build up other, more complex operators as needed. They're trying to avoid the reactor situation where you have 100+ methods on a couple of core types, and without a lot of background knowledge it's often difficult to know what ones are relevant.</p>\n<p>IMHO that's no bad thing. Other reactive frameworks definitely have these built-in <code>sort()</code> operators, but there's a danger here - people assume they can still treat them as infinite, magically sorted publishers, because there's no sign of any collections anywhere. You can't of course - internally these frameworks have to maintain an underlying collection to sort the data, and then just output the contents of that when the stream is complete. This isn't that clear however, and ignorance of this fact can often lead to unintended slowdowns and <code>OutOfMemoryError</code>. On the contrary, in your example, it's immediately obvious that this stream uses an underlying collection for sorting your data.</p>\n<p>There's just one minor thing I'd change in your example, but not really related to your question - I'd use:</p>\n<p><code>list.stream().sorted().collect(Collectors.toList())</code></p>\n<p>...in your map call instead of sorting a mutable list. Mutating data structures in a reactive stream is a bit of a code smell.</p>\n"},{"tags":[],"owner":{"account_id":7954165,"reputation":98,"user_id":6004079,"display_name":"Dexter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612362033,"creation_date":1612362033,"answer_id":66029377,"question_id":64377747,"body_markdown":"Another approach I used - combine multis into TreeMap as soon as they come with `.collect().in(TREE_MAP_SUPPLIER, MULTI_MAP_ACCUMULATOR)`","title":"How do i sort a Multi in smallrye mutiny","body":"<p>Another approach I used - combine multis into TreeMap as soon as they come with <code>.collect().in(TREE_MAP_SUPPLIER, MULTI_MAP_ACCUMULATOR)</code></p>\n"},{"tags":[],"owner":{"account_id":22081947,"reputation":21,"user_id":16341397,"display_name":"Swe77"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679255830,"creation_date":1679254687,"answer_id":75784515,"question_id":64377747,"body_markdown":"1. Convert the Multi to Uni (list).\r\n2. Sort the list from Uni.\r\n3. Convert the Uni to a Multi\r\n\r\n```\r\nmulti.collect().asList() //1\r\n.onItem()\r\n.transform(list -&gt; list.stream().sorted(Comparator.comparing(item::getId)).toList()) //2\r\n.onItem()\r\n.transformToMulti(list -&gt; Multi.createFrom().iterable(list)); //3\r\n```","title":"How do i sort a Multi in smallrye mutiny","body":"<ol>\n<li>Convert the Multi to Uni (list).</li>\n<li>Sort the list from Uni.</li>\n<li>Convert the Uni to a Multi</li>\n</ol>\n<pre><code>multi.collect().asList() //1\n.onItem()\n.transform(list -&gt; list.stream().sorted(Comparator.comparing(item::getId)).toList()) //2\n.onItem()\n.transformToMulti(list -&gt; Multi.createFrom().iterable(list)); //3\n</code></pre>\n"}],"owner":{"account_id":12510863,"reputation":111,"user_id":9106041,"display_name":"Krittam Kothari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64426894,"answer_count":3,"score":3,"last_activity_date":1679255830,"creation_date":1602786889,"question_id":64377747,"body_markdown":"Other reactive libraries like project reactor offer sort methods for Publishers but there is no such method in mutiny.\r\nTheir documentation doesn&#39;t even talk about it.\r\n\r\n&gt; https://smallrye.io/smallrye-mutiny\r\n\r\nRight now i&#39;m achieving the said functionality by doing this\r\n\r\n    multi.collectItems()\r\n    .asList()\r\n    .map(\r\n    list -&gt; {\r\n      list.sort();\r\n      return list;\r\n    })\r\n    .convert()\r\n    .with(listUni -&gt; Multi.createFrom().iterable(listUni.await().indefinitely()))\r\n\r\nIs there a better way to do the same ?\r\n\r\n","title":"How do i sort a Multi in smallrye mutiny","body":"<p>Other reactive libraries like project reactor offer sort methods for Publishers but there is no such method in mutiny.\nTheir documentation doesn't even talk about it.</p>\n<blockquote>\n<p><a href=\"https://smallrye.io/smallrye-mutiny\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny</a></p>\n</blockquote>\n<p>Right now i'm achieving the said functionality by doing this</p>\n<pre><code>multi.collectItems()\n.asList()\n.map(\nlist -&gt; {\n  list.sort();\n  return list;\n})\n.convert()\n.with(listUni -&gt; Multi.createFrom().iterable(listUni.await().indefinitely()))\n</code></pre>\n<p>Is there a better way to do the same ?</p>\n"},{"tags":["java","json","gson"],"answers":[{"comments":[{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679254487,"post_id":75784284,"comment_id":133684332,"body_markdown":"okay I have done that and it works but how can I turn it back with to ```FencerList```&#39;s collection","body":"okay I have done that and it works but how can I turn it back with to <code>FencerList</code>&#39;s collection"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679254983,"post_id":75784284,"comment_id":133684413,"body_markdown":"I have done that to read the file ```FencersList fencersList = gson.fromJson(reader, FencersList.class);``` but I cannot increment it to the class as an object","body":"I have done that to read the file <code>FencersList fencersList = gson.fromJson(reader, FencersList.class);</code> but I cannot increment it to the class as an object"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679255606,"post_id":75784284,"comment_id":133684513,"body_markdown":"What do you mean by &quot;cannot increment it to the class as an object&quot;?","body":"What do you mean by &quot;cannot increment it to the class as an object&quot;?"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679255878,"post_id":75784284,"comment_id":133684556,"body_markdown":"I just want it that when I run list.print(); it prints the data inside the json file. (just edited the ```FencersList``` class","body":"I just want it that when I run list.print(); it prints the data inside the json file. (just edited the <code>FencersList</code> class"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679256025,"post_id":75784284,"comment_id":133684581,"body_markdown":"this shoulf be the output **************** FENCERS ****************\n103 m egy\n120 342 egy","body":"this shoulf be the output **************** FENCERS **************** 103 m egy 120 342 egy"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679256171,"post_id":75784284,"comment_id":133684601,"body_markdown":"list.print()? Interface List doesn&#39;t have print method. Maybe you meant FencersList. In this case I suggest you to use iniside fencersList toString method \nString.join(&quot;,&quot;, collection). It will make you nice string of fencers separated by comma. Just don&#39;t forget to add toString to your Fencers class","body":"list.print()? Interface List doesn&#39;t have print method. Maybe you meant FencersList. In this case I suggest you to use iniside fencersList toString method  String.join(&quot;,&quot;, collection). It will make you nice string of fencers separated by comma. Just don&#39;t forget to add toString to your Fencers class"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679252602,"creation_date":1679252130,"answer_id":75784284,"question_id":75784153,"body_markdown":"Your error here is that when you saving collection to json file, but trying to read collection as FencersList object.\r\n\r\nI am talking about this line:\r\n\r\n    String jsonString = gson.toJson(list.getCollection());\r\n\r\nThis means that if you want to convert this jsonString back target object type should be the same as result of *list.getCollection()*, i.e. List&lt;Fencers&gt;. But instead of this you are trying deserialize json string to Fencers[]. It will not work\r\n\r\nIn order to be able to deserialize to *FencersList* you should create your json with\r\n```java\r\nString jsonString = gson.toJson(list);\r\n```\r\n\r\nWhich will make your json looks like this (collection is the name of field in your *FencersList* class):\r\n```json\r\n{ &quot;collection&quot;:[{&quot;name&quot;:&quot;m&quot;, &quot;nation&quot;:&quot;egy&quot;, &quot;id&quot;:100}] }\r\n```","title":"Extract an array from a Json file to put it in a class object","body":"<p>Your error here is that when you saving collection to json file, but trying to read collection as FencersList object.</p>\n<p>I am talking about this line:</p>\n<pre><code>String jsonString = gson.toJson(list.getCollection());\n</code></pre>\n<p>This means that if you want to convert this jsonString back target object type should be the same as result of <em>list.getCollection()</em>, i.e. List. But instead of this you are trying deserialize json string to Fencers[]. It will not work</p>\n<p>In order to be able to deserialize to <em>FencersList</em> you should create your json with</p>\n<pre class=\"lang-java prettyprint-override\"><code>String jsonString = gson.toJson(list);\n</code></pre>\n<p>Which will make your json looks like this (collection is the name of field in your <em>FencersList</em> class):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;collection&quot;:[{&quot;name&quot;:&quot;m&quot;, &quot;nation&quot;:&quot;egy&quot;, &quot;id&quot;:100}] }\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75784284,"answer_count":1,"score":0,"last_activity_date":1679255759,"creation_date":1679250671,"question_id":75784153,"body_markdown":"so these are my classes\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\nthe following class stores the other class objects in an Array List\r\n```\r\nimport java.util.ArrayList;\r\npublic class FencersList {\r\n    private ArrayList&lt;Fencers&gt; collection;\r\n    public FencersList(){\r\n        collection = new ArrayList&lt;Fencers&gt;();\r\n    }\r\n\r\n    public ArrayList&lt;Fencers&gt; getCollection() {\r\n        return collection;\r\n    }\r\n\r\n    public void addfencer(Fencers fencer){\r\n        collection.add(fencer);\r\n    }\r\n    public String toString(){ //the toString method\r\n        System.out.println(&quot;**************** FENCERS ****************&quot;);\r\n        String total = &quot;\\n&quot;;\r\n        for (int i = 0;i&lt;collection.size();i++){\r\n            Fencers b = (Fencers) collection.get(i);\r\n            total = total + b.toString();\r\n        }\r\n        return total;\r\n    }\r\n    public void printFencers(){\r\n        System.out.println(this);\r\n    }\r\n}\r\n\r\n\r\n```\r\nand finally here is the main\r\n```\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.*;\r\n\r\n\r\nclass Main{\r\n\r\n    public static void main(String[] args){\r\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n        FencersList list = new FencersList();\r\n        list.addfencer(fencer1);\r\n        list.addfencer(fencer2);\r\n        Gson gson = new Gson();\r\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;file.json&quot;))) {\r\n            String jsonString = gson.toJson(list.getCollection());\r\n            out.write(jsonString);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        try {\r\n            BufferedReader br = new BufferedReader(new FileReader(&quot;file.json&quot;));\r\n            Fencers[] fencers = gson.fromJson(br,Fencers[].class);\r\n            System.out.println(fencers);\r\n            list.addfencer(fencers);\r\n        } catch (Exception f){\r\n            f.printStackTrace();\r\n        }\r\n}\r\n}\r\n```\r\nhere I managed to save ```FencersList``` class object in a the ```file.json``` everything works fine\r\nmy only problem here is I can&#39;t convert the data back to ```FencersList``` simply because this format makes it so that ```Fencers``` is an array and ```FencerList``` only accepts normal class objects from ```Fencers``` and when I fix it and make it normal it gives me an error ```Expected BEGIN_OBJECT but was BEGIN_ARRAY``` so I am a little bit stuck.\r\n\r\nthis is the ```file.json``` btw\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;:&quot;m&quot;,\r\n    &quot;nation&quot;:&quot;egy&quot;,\r\n    &quot;id&quot;:100}\r\n ,{\r\n   &quot;name&quot;:&quot;342&quot;,\r\n   &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:120\r\n  }\r\n]\r\n```\r\n","title":"Extract an array from a Json file to put it in a class object","body":"<p>so these are my classes</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n}\n</code></pre>\n<p>the following class stores the other class objects in an Array List</p>\n<pre><code>import java.util.ArrayList;\npublic class FencersList {\n    private ArrayList&lt;Fencers&gt; collection;\n    public FencersList(){\n        collection = new ArrayList&lt;Fencers&gt;();\n    }\n\n    public ArrayList&lt;Fencers&gt; getCollection() {\n        return collection;\n    }\n\n    public void addfencer(Fencers fencer){\n        collection.add(fencer);\n    }\n    public String toString(){ //the toString method\n        System.out.println(&quot;**************** FENCERS ****************&quot;);\n        String total = &quot;\\n&quot;;\n        for (int i = 0;i&lt;collection.size();i++){\n            Fencers b = (Fencers) collection.get(i);\n            total = total + b.toString();\n        }\n        return total;\n    }\n    public void printFencers(){\n        System.out.println(this);\n    }\n}\n\n\n</code></pre>\n<p>and finally here is the main</p>\n<pre><code>import com.google.gson.Gson;\n\nimport java.io.*;\n\n\nclass Main{\n\n    public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        FencersList list = new FencersList();\n        list.addfencer(fencer1);\n        list.addfencer(fencer2);\n        Gson gson = new Gson();\n        try (PrintWriter out = new PrintWriter(new FileWriter(&quot;file.json&quot;))) {\n            String jsonString = gson.toJson(list.getCollection());\n            out.write(jsonString);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        try {\n            BufferedReader br = new BufferedReader(new FileReader(&quot;file.json&quot;));\n            Fencers[] fencers = gson.fromJson(br,Fencers[].class);\n            System.out.println(fencers);\n            list.addfencer(fencers);\n        } catch (Exception f){\n            f.printStackTrace();\n        }\n}\n}\n</code></pre>\n<p>here I managed to save <code>FencersList</code> class object in a the <code>file.json</code> everything works fine\nmy only problem here is I can't convert the data back to <code>FencersList</code> simply because this format makes it so that <code>Fencers</code> is an array and <code>FencerList</code> only accepts normal class objects from <code>Fencers</code> and when I fix it and make it normal it gives me an error <code>Expected BEGIN_OBJECT but was BEGIN_ARRAY</code> so I am a little bit stuck.</p>\n<p>this is the <code>file.json</code> btw</p>\n<pre><code>[\n  {\n    &quot;name&quot;:&quot;m&quot;,\n    &quot;nation&quot;:&quot;egy&quot;,\n    &quot;id&quot;:100}\n ,{\n   &quot;name&quot;:&quot;342&quot;,\n   &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:120\n  }\n]\n</code></pre>\n"},{"tags":["java","jaxb","wsdl"],"answers":[{"comments":[{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1679253676,"post_id":75784420,"comment_id":133684198,"body_markdown":"Is it ok to do, it the wsdl issued on some other side? Is there a way to keep the original WSDL, but change it with some code generation hints?","body":"Is it ok to do, it the wsdl issued on some other side? Is there a way to keep the original WSDL, but change it with some code generation hints?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679253773,"post_id":75784420,"comment_id":133684219,"body_markdown":"If the server has only one element in the wsdl, it will be always only one entry in the interface. Why you want to have a list?","body":"If the server has only one element in the wsdl, it will be always only one entry in the interface. Why you want to have a list?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1679254769,"post_id":75784420,"comment_id":133684376,"body_markdown":"because of sequence, doesn&#39;t it stay for collection? also, missing `maxOccurs` doesn&#39;t stay for &quot;only one element presents in a collection&quot;","body":"because of sequence, doesn&#39;t it stay for collection? also, missing <code>maxOccurs</code> doesn&#39;t stay for &quot;only one element presents in a collection&quot;"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679253601,"creation_date":1679253601,"answer_id":75784420,"question_id":75784406,"body_markdown":"\r\nAdd `maxOccurs=&quot;unbounded&quot;` to the other attribute too:\r\n\r\n\r\n\r\n      &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;PaymentDetails&quot;\r\n                          type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot; \r\n                          maxOccurs=&quot;unbounded&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;\r\n            &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\r\n                &lt;xs:sequence&gt;\r\n                    &lt;xs:element name=&quot;PaymentDetails&quot;\r\n                                type=&quot;tns:TypeGetPaymentDetailRequest&quot;\r\n                                maxOccurs=&quot;unbounded&quot;/&gt;\r\n                &lt;/xs:sequence&gt;\r\n            &lt;/xs:complexType&gt;","title":"JaxB takes into account maxOccurs=&quot;unbounded&quot; and it it is set, creates the inner element as list for sequence, otherwise just single field","body":"<p>Add <code>maxOccurs=&quot;unbounded&quot;</code> to the other attribute too:</p>\n<pre><code>  &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                      type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot; \n                      maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailRequest&quot;\n                            maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75784420,"answer_count":1,"score":0,"last_activity_date":1679253601,"creation_date":1679253401,"question_id":75784406,"body_markdown":"I have such types in WSDL, the only difference is `maxOccurs=&quot;unbounded&quot;`, however, the Java classes generated are different:\r\n\r\n\r\n\t\t\t&lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;PaymentDetails&quot;\r\n\t\t\t\t\t\t\t\ttype=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot;/&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:complexType&gt;\r\n\t\t\t&lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\r\n\t\t\t\t&lt;xs:sequence&gt;\r\n\t\t\t\t\t&lt;xs:element name=&quot;PaymentDetails&quot;\r\n\t\t\t\t\t\t\t\ttype=&quot;tns:TypeGetPaymentDetailRequest&quot;\r\n\t\t\t\t\t\t\t\tmaxOccurs=&quot;unbounded&quot;/&gt;\r\n\t\t\t\t&lt;/xs:sequence&gt;\r\n\t\t\t&lt;/xs:complexType&gt;\r\n\r\nThe Java classes, the first one have the `List&lt;&gt;` inside, while another doesn&#39;t.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;TypeGetPaymentDetailsRequest&quot;,\r\n        propOrder = {&quot;paymentDetails&quot;}\r\n    )\r\n    public class TypeGetPaymentDetailsRequest {\r\n        @XmlElement(\r\n            name = &quot;PaymentDetails&quot;,\r\n            required = true\r\n        )\r\n        protected List&lt;TypeGetPaymentDetailRequest&gt; paymentDetails;\r\n    \r\n        public TypeGetPaymentDetailsRequest() {\r\n        }\r\n    \r\n        public List&lt;TypeGetPaymentDetailRequest&gt; getPaymentDetails() {\r\n            if (this.paymentDetails == null) {\r\n                this.paymentDetails = new ArrayList();\r\n            }\r\n    \r\n            return this.paymentDetails;\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(\r\n        name = &quot;TypeGetPaymentDetailsAdditionRequest&quot;,\r\n        propOrder = {&quot;paymentDetails&quot;}\r\n    )\r\n    public class TypeGetPaymentDetailsAdditionRequest {\r\n        @XmlElement(\r\n            name = &quot;PaymentDetails&quot;,\r\n            required = true\r\n        )\r\n        protected TypeGetPaymentDetailAdditionRequest paymentDetails;\r\n    \r\n        public TypeGetPaymentDetailsAdditionRequest() {\r\n        }\r\n    \r\n        public TypeGetPaymentDetailAdditionRequest getPaymentDetails() {\r\n            return this.paymentDetails;\r\n        }\r\n    \r\n        public void setPaymentDetails(TypeGetPaymentDetailAdditionRequest value) {\r\n            this.paymentDetails = value;\r\n        }\r\n\r\n}\r\n\r\nHow one can force to make `paymentDetails` field to be a `List&lt;&gt;` in the second case too?\r\n\r\nJAXB version:\r\n\r\n    jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;","title":"JaxB takes into account maxOccurs=&quot;unbounded&quot; and it it is set, creates the inner element as list for sequence, otherwise just single field","body":"<p>I have such types in WSDL, the only difference is <code>maxOccurs=&quot;unbounded&quot;</code>, however, the Java classes generated are different:</p>\n<pre><code>        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsAdditionRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailAdditionRequest&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n        &lt;xs:complexType name=&quot;TypeGetPaymentDetailsRequest&quot;&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;PaymentDetails&quot;\n                            type=&quot;tns:TypeGetPaymentDetailRequest&quot;\n                            maxOccurs=&quot;unbounded&quot;/&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n</code></pre>\n<p>The Java classes, the first one have the <code>List&lt;&gt;</code> inside, while another doesn't.</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;TypeGetPaymentDetailsRequest&quot;,\n    propOrder = {&quot;paymentDetails&quot;}\n)\npublic class TypeGetPaymentDetailsRequest {\n    @XmlElement(\n        name = &quot;PaymentDetails&quot;,\n        required = true\n    )\n    protected List&lt;TypeGetPaymentDetailRequest&gt; paymentDetails;\n\n    public TypeGetPaymentDetailsRequest() {\n    }\n\n    public List&lt;TypeGetPaymentDetailRequest&gt; getPaymentDetails() {\n        if (this.paymentDetails == null) {\n            this.paymentDetails = new ArrayList();\n        }\n\n        return this.paymentDetails;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(\n    name = &quot;TypeGetPaymentDetailsAdditionRequest&quot;,\n    propOrder = {&quot;paymentDetails&quot;}\n)\npublic class TypeGetPaymentDetailsAdditionRequest {\n    @XmlElement(\n        name = &quot;PaymentDetails&quot;,\n        required = true\n    )\n    protected TypeGetPaymentDetailAdditionRequest paymentDetails;\n\n    public TypeGetPaymentDetailsAdditionRequest() {\n    }\n\n    public TypeGetPaymentDetailAdditionRequest getPaymentDetails() {\n        return this.paymentDetails;\n    }\n\n    public void setPaymentDetails(TypeGetPaymentDetailAdditionRequest value) {\n        this.paymentDetails = value;\n    }\n</code></pre>\n<p>}</p>\n<p>How one can force to make <code>paymentDetails</code> field to be a <code>List&lt;&gt;</code> in the second case too?</p>\n<p>JAXB version:</p>\n<pre><code>jaxb &quot;com.sun.xml.bind:jaxb-xjc:2.1.7&quot;\n</code></pre>\n"},{"tags":["java","git","jgit"],"answers":[{"comments":[{"owner":{"account_id":6017,"reputation":12510,"user_id":9950,"accept_rate":67,"display_name":"Peter Kahn"},"score":0,"creation_date":1455238736,"post_id":26436588,"comment_id":58413181,"body_markdown":"Is there an equivalent to adding &quot;--fork-point&quot; because I&#39;m not getting the same results as &quot;git merge-base --fork-point&quot;?","body":"Is there an equivalent to adding &quot;--fork-point&quot; because I&#39;m not getting the same results as &quot;git merge-base --fork-point&quot;?"},{"owner":{"account_id":116723,"reputation":30387,"user_id":305973,"accept_rate":67,"display_name":"robinst"},"score":0,"creation_date":1455251402,"post_id":26436588,"comment_id":58416462,"body_markdown":"@PeterKahn: Does this work?: https://gist.github.com/robinst/997da20d09a82d85a3e9 (I&#39;m pretty sure it can be done more efficiently, so use with care)","body":"@PeterKahn: Does this work?: <a href=\"https://gist.github.com/robinst/997da20d09a82d85a3e9\" rel=\"nofollow noreferrer\">gist.github.com/robinst/997da20d09a82d85a3e9</a> (I&#39;m pretty sure it can be done more efficiently, so use with care)"},{"owner":{"account_id":6017,"reputation":12510,"user_id":9950,"accept_rate":67,"display_name":"Peter Kahn"},"score":0,"creation_date":1455252581,"post_id":26436588,"comment_id":58416767,"body_markdown":"@robinst thanks. I&#39;ll try that.  I found this to work but it&#39;s a little kludgy and I&#39;m not sure how we&#39;ll it will work if there are merges between sibling or cousin branches.  http://stackoverflow.com/a/35353202/9950","body":"@robinst thanks. I&#39;ll try that.  I found this to work but it&#39;s a little kludgy and I&#39;m not sure how we&#39;ll it will work if there are merges between sibling or cousin branches.  <a href=\"http://stackoverflow.com/a/35353202/9950\">stackoverflow.com/a/35353202/9950</a>"},{"owner":{"account_id":7679669,"reputation":5129,"user_id":5819286,"display_name":"G. Sylvie Davies"},"score":1,"creation_date":1484110043,"post_id":26436588,"comment_id":70370223,"body_markdown":"Can it handle an octopus merge-base?  Do you just keep adding markStart() calls?","body":"Can it handle an octopus merge-base?  Do you just keep adding markStart() calls?"},{"owner":{"account_id":2931845,"reputation":3015,"user_id":2511884,"accept_rate":29,"display_name":"Saket"},"score":1,"creation_date":1592696995,"post_id":26436588,"comment_id":110518448,"body_markdown":"FYI make sure you&#39;re using `walk.parseCommit()` to ensure `commit1.parents` and `commit2.parents` aren&#39;t missing. I spent a good hour trying to figure out what&#39;s wrong.","body":"FYI make sure you&#39;re using <code>walk.parseCommit()</code> to ensure <code>commit1.parents</code> and <code>commit2.parents</code> aren&#39;t missing. I spent a good hour trying to figure out what&#39;s wrong."}],"tags":[],"owner":{"account_id":116723,"reputation":30387,"user_id":305973,"accept_rate":67,"display_name":"robinst"},"comment_count":5,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1679252764,"creation_date":1413609818,"answer_id":26436588,"question_id":26434452,"body_markdown":"You can use `RevFilter.MERGE_BASE` for that:\r\n\r\n    RevWalk walk = new RevWalk(repository);\r\n    walk.setRevFilter(RevFilter.MERGE_BASE);\r\n    walk.markStart(commit1);\r\n    walk.markStart(commit2);\r\n    RevCommit mergeBase = walk.next();\r\n\r\nAlso note that there is [BranchTrackingStatus](http://download.eclipse.org/jgit/site/3.5.1.201410131835-r/apidocs/org/eclipse/jgit/lib/BranchTrackingStatus.html) if all you are interested in is ahead/behind count of a branch compared to its remote-tracking branch.\r\n\r\nPer https://www.eclipse.org/forums/index.php/t/1091725/, you may need to re-parse the commits with `walk.parseCommit()`.","title":"How is a merge-base done in JGit?","body":"<p>You can use <code>RevFilter.MERGE_BASE</code> for that:</p>\n<pre><code>RevWalk walk = new RevWalk(repository);\nwalk.setRevFilter(RevFilter.MERGE_BASE);\nwalk.markStart(commit1);\nwalk.markStart(commit2);\nRevCommit mergeBase = walk.next();\n</code></pre>\n<p>Also note that there is <a href=\"http://download.eclipse.org/jgit/site/3.5.1.201410131835-r/apidocs/org/eclipse/jgit/lib/BranchTrackingStatus.html\" rel=\"nofollow noreferrer\">BranchTrackingStatus</a> if all you are interested in is ahead/behind count of a branch compared to its remote-tracking branch.</p>\n<p>Per <a href=\"https://www.eclipse.org/forums/index.php/t/1091725/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/forums/index.php/t/1091725/</a>, you may need to re-parse the commits with <code>walk.parseCommit()</code>.</p>\n"},{"tags":[],"owner":{"account_id":7344825,"reputation":11,"user_id":5592906,"display_name":"arjunmathur"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448233360,"creation_date":1448232658,"answer_id":33861217,"question_id":26434452,"body_markdown":"Here it is with JGit using BranchTrackingStatus:\r\n\r\n    public enum TrackingStatus {\r\n        SAME, BEHIND, AHEAD, DIVERGED\r\n    }\r\n\r\n    public TrackingStatus getTrackingStatus() throws IOException, GitAPIException {\r\n        Repository userRepo = new FileRepository(&lt;path_to_.git_file&gt;);\r\n        Git git = new Git(userRepo);\r\n        git.fetch().call();\r\n        BranchTrackingStatus bts = BranchTrackingStatus.of(git.getRepository(),\r\n                                                           git.getRepository().getBranch());\r\n        int aheadCount = bts.getAheadCount();\r\n        int behindCount = bts.getBehindCount();\r\n        if (aheadCount == 0 &amp;&amp; behindCount == 0) {\r\n            return TrackingStatus.SAME;\r\n        } else if (aheadCount &gt; 0 &amp;&amp; behindCount == 0) {\r\n            return TrackingStatus.AHEAD;\r\n        } else if (aheadCount == 0 &amp;&amp; behindCount &gt; 0) {\r\n            return TrackingStatus.BEHIND;\r\n        } else {\r\n            return TrackingStatus.DIVERGED;\r\n        }\r\n    }","title":"How is a merge-base done in JGit?","body":"<p>Here it is with JGit using BranchTrackingStatus:</p>\n\n<pre><code>public enum TrackingStatus {\n    SAME, BEHIND, AHEAD, DIVERGED\n}\n\npublic TrackingStatus getTrackingStatus() throws IOException, GitAPIException {\n    Repository userRepo = new FileRepository(&lt;path_to_.git_file&gt;);\n    Git git = new Git(userRepo);\n    git.fetch().call();\n    BranchTrackingStatus bts = BranchTrackingStatus.of(git.getRepository(),\n                                                       git.getRepository().getBranch());\n    int aheadCount = bts.getAheadCount();\n    int behindCount = bts.getBehindCount();\n    if (aheadCount == 0 &amp;&amp; behindCount == 0) {\n        return TrackingStatus.SAME;\n    } else if (aheadCount &gt; 0 &amp;&amp; behindCount == 0) {\n        return TrackingStatus.AHEAD;\n    } else if (aheadCount == 0 &amp;&amp; behindCount &gt; 0) {\n        return TrackingStatus.BEHIND;\n    } else {\n        return TrackingStatus.DIVERGED;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648387,"reputation":4973,"user_id":1519444,"display_name":"Feng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450244186,"creation_date":1450235271,"answer_id":34303303,"question_id":26434452,"body_markdown":"jgit has this:\r\n\r\n    RevCommit org.eclipse.jgit.merge.Merger.getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException\r\n\r\ntake a try","title":"How is a merge-base done in JGit?","body":"<p>jgit has this:</p>\n\n<pre><code>RevCommit org.eclipse.jgit.merge.Merger.getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException\n</code></pre>\n\n<p>take a try</p>\n"},{"tags":[],"owner":{"account_id":25347867,"reputation":1,"user_id":19165191,"display_name":"fei-li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668359015,"creation_date":1668043676,"answer_id":74383199,"question_id":26434452,"body_markdown":"This method is `protected`, so cannot be used directly:\r\n\r\n`protected RevCommit getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException`","title":"How is a merge-base done in JGit?","body":"<p>This method is <code>protected</code>, so cannot be used directly:</p>\n<p><code>protected RevCommit getBaseCommit(RevCommit a, RevCommit b) throws IncorrectObjectTypeException, IOException</code></p>\n"}],"owner":{"account_id":82333,"reputation":7108,"user_id":231573,"accept_rate":80,"display_name":"Ed I"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2395,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26436588,"answer_count":4,"score":9,"last_activity_date":1679252764,"creation_date":1413586198,"question_id":26434452,"body_markdown":"I&#39;m looking at the [JGit Documentation][1], currently at version *3.5.1.201410131835-r*, and I cannot find the equivalent of [git-merge-base][2].\r\n\r\nI would like to determine if a branch is up-to-date, behind, ahead, or diverged, as shown in [git: check if pull needed][3].\r\n\r\nWhat is the most concise way in JGit to find as good common ancestors as possible for a merge?\r\n\r\n\r\n  [1]: http://www.eclipse.org/jgit/documentation/\r\n  [2]: http://git-scm.com/docs/git-merge-base\r\n  [3]: https://stackoverflow.com/a/3278427/231573","title":"How is a merge-base done in JGit?","body":"<p>I'm looking at the <a href=\"http://www.eclipse.org/jgit/documentation/\" rel=\"nofollow noreferrer\">JGit Documentation</a>, currently at version <em>3.5.1.201410131835-r</em>, and I cannot find the equivalent of <a href=\"http://git-scm.com/docs/git-merge-base\" rel=\"nofollow noreferrer\">git-merge-base</a>.</p>\n\n<p>I would like to determine if a branch is up-to-date, behind, ahead, or diverged, as shown in <a href=\"https://stackoverflow.com/a/3278427/231573\">git: check if pull needed</a>.</p>\n\n<p>What is the most concise way in JGit to find as good common ancestors as possible for a merge?</p>\n"},{"tags":["java","random"],"answers":[{"tags":[],"owner":{"account_id":13068667,"reputation":1,"user_id":9443058,"display_name":"paktric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679250670,"creation_date":1679250670,"answer_id":75784152,"question_id":75783433,"body_markdown":"There are two main issues:\r\n - `length` is never incremented, so the character-length of your random number isn&#39;t growing\r\n - Your `ArrayList&lt;Integer&gt;` and `StringBuilder` objects are never cleared, so any number you generate is just being added on to the end of the old number.\r\n\r\n----------\r\n\r\nTry adding these three lines:\r\n```\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand() == &quot;submit&quot;) {\r\n            int x = Integer.parseInt(input.getText());\r\n            int y = Integer.parseInt(string.toString());\r\n            System.out.println(&quot;Input: &quot; + x);\r\n            System.out.println(&quot;Number: &quot; + y);\r\n            if (x == y) {\r\n                output.setText(&quot;CORRECT!&quot;);\r\n                button1.setText(&quot;Next&quot;);\r\n                button1.setActionCommand(&quot;next&quot;);\r\n                length++;                           // Increment character-length of number\r\n                string.delete(0, string.length());  // Clear the StringBuilder object\r\n                number.clear();                     // Clear the ArrayList&lt;Integer&gt; object\r\n            }\r\n            ...\r\n```","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>There are two main issues:</p>\n<ul>\n<li><code>length</code> is never incremented, so the character-length of your random number isn't growing</li>\n<li>Your <code>ArrayList&lt;Integer&gt;</code> and <code>StringBuilder</code> objects are never cleared, so any number you generate is just being added on to the end of the old number.</li>\n</ul>\n<hr />\n<p>Try adding these three lines:</p>\n<pre><code>    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand() == &quot;submit&quot;) {\n            int x = Integer.parseInt(input.getText());\n            int y = Integer.parseInt(string.toString());\n            System.out.println(&quot;Input: &quot; + x);\n            System.out.println(&quot;Number: &quot; + y);\n            if (x == y) {\n                output.setText(&quot;CORRECT!&quot;);\n                button1.setText(&quot;Next&quot;);\n                button1.setActionCommand(&quot;next&quot;);\n                length++;                           // Increment character-length of number\n                string.delete(0, string.length());  // Clear the StringBuilder object\n                number.clear();                     // Clear the ArrayList&lt;Integer&gt; object\n            }\n            ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360071,"reputation":109,"user_id":2066940,"display_name":"Lorne K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679251724,"creation_date":1679251724,"answer_id":75784251,"question_id":75783433,"body_markdown":"The code \r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n     Random random = new Random();    \r\n     StringBuffer string = new StringBuffer();\r\n        ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            number.add(Math.abs(random.nextInt() % 9));\r\n            System.out.println(number.get(i));\r\n            string.append(number.get(i));\r\n        }\r\n        System.out.println(string);\r\n    }\r\n}`\r\n```\r\nworks okay in an online compiler.  I&#39;m guessing there is a problem with the environment you are running it in?  I would try\r\n\r\n```\r\nrandom = new Random(System.currentTimeMillis());\r\n```\r\nand removing the %9 to see what the underlying values are, before digging into the system though\r\n","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>The code</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Random;\n\nclass HelloWorld {\n    public static void main(String[] args) {\n     Random random = new Random();    \n     StringBuffer string = new StringBuffer();\n        ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            number.add(Math.abs(random.nextInt() % 9));\n            System.out.println(number.get(i));\n            string.append(number.get(i));\n        }\n        System.out.println(string);\n    }\n}`\n</code></pre>\n<p>works okay in an online compiler.  I'm guessing there is a problem with the environment you are running it in?  I would try</p>\n<pre><code>random = new Random(System.currentTimeMillis());\n</code></pre>\n<p>and removing the %9 to see what the underlying values are, before digging into the system though</p>\n"}],"owner":{"account_id":28058479,"reputation":1,"user_id":21433101,"display_name":"Hollow Clouds"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679251724,"creation_date":1679243327,"question_id":75783433,"body_markdown":"I am doing a program similar to the numeric memory test in Human Benchmark. Everything is alright except for the sequence randomization. It keeps displaying one single number, although it randomizes every new test, and adding onto that. Here&#39;s my code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport javax.swing.*;\r\n\r\npublic class numerical extends Thread implements ActionListener {\r\n    Random random = new Random(); \r\n    ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\r\n    StringBuffer string = new StringBuffer();\r\n    int length = 1;\r\n    boolean gameEnded = false, wait = true;\r\n\r\n    JFrame frame = new JFrame(&quot;Numerical Memory&quot;);\r\n    JPanel top = new JPanel();\r\n    JPanel bottom = new JPanel();\r\n    JLabel title;\r\n    JLabel output = new JLabel();\r\n    JTextField input;\r\n    JButton button1 = new JButton(), button2 = new JButton();\r\n\r\n    public numerical() throws InterruptedException {\r\n        while (gameEnded == false) {\r\n            wait = true;\r\n            for (int i = 0; i &lt; length; i++) {\r\n                number.add(Math.abs(random.nextInt() % 9)); \r\n                System.out.println(number.get(i));\r\n                string.append(number.get(i)); \r\n            }\r\n\r\n            frame.setLayout(null); \r\n            frame.setSize(500, 300); \r\n            frame.setVisible(true); \r\n \r\n            title = new JLabel(&quot;Remember the number:&quot;); \r\n            input = new JTextField(string.toString()); \r\n            input.setEditable(false);\r\n\r\n            top.add(title);\r\n            top.add(input);\r\n            top.setLayout(new GridLayout(2, 1));\r\n            top.setBounds(0, 0, 500, 200);\r\n\r\n            bottom.setLayout(new GridLayout(1, 3));\r\n            bottom.setBounds(0, 210, 500, 40);\r\n\r\n            frame.add(top);\r\n            frame.add(bottom);\r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n\r\n            Thread.sleep(length*1500);\r\n\r\n            title.setText(&quot;What was the number?&quot;); \r\n            \r\n            input.setText(&quot;&quot;);\r\n            input.setEditable(true);\r\n\r\n            button1 = new JButton(&quot;Submit&quot;);\r\n            button1.addActionListener(this);\r\n            button1.setActionCommand(&quot;submit&quot;);\r\n\r\n            output.setVisible(false);\r\n            button2.setVisible(false);\r\n\r\n            bottom.add(output);\r\n            bottom.add(button1);\r\n            bottom.add(button2); \r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n\r\n            while (wait == true) {\r\n                System.out.print(&quot;&quot;);\r\n            }\r\n            \r\n            top.remove(title);\r\n            top.remove(input);\r\n            bottom.remove(output);\r\n            bottom.remove(button1);\r\n            bottom.remove(button2);\r\n            frame.remove(top);\r\n            frame.remove(bottom);\r\n\r\n            frame.revalidate();\r\n            frame.repaint();\r\n        }\r\n    }\r\n\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getActionCommand() == &quot;submit&quot;) {\r\n            int x = Integer.parseInt(input.getText());\r\n            int y = Integer.parseInt(string.toString());\r\n            System.out.println(&quot;Input: &quot; + x);\r\n            System.out.println(&quot;Number: &quot; + y);\r\n            if (x == y) {\r\n                output.setText(&quot;CORRECT!&quot;);\r\n                button1.setText(&quot;Next&quot;);\r\n                button1.setActionCommand(&quot;next&quot;);\r\n            }\r\n            else {\r\n                button2.setVisible(true);\r\n                output.setText(&quot;INCORRECT!&quot;);\r\n                button1.setText(&quot;Retry&quot;);\r\n                button1.setActionCommand(&quot;retry&quot;);\r\n                button2.setText(&quot;Back&quot;);\r\n            }\r\n        }\r\n        if (e.getActionCommand() == &quot;next&quot;) {\r\n            wait = false;\r\n        }\r\n        if (e.getActionCommand() == &quot;retry&quot;) {\r\n            wait = false;\r\n            length = 0;\r\n        }\r\n        if (e.getSource() == button2) {\r\n            wait = false;\r\n            frame.dispose();\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            new numerical();\r\n        }\r\n        catch (InterruptedException exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried thread.sleep at first but later found out it was incompatible with swing so I had to change it, and it resulted to this. Before changing it, it wasn&#39;t any better. The numbers were just stacking. How can I randomize my numbers?","title":"I can&#39;t randomize numbers for my numerical memory test","body":"<p>I am doing a program similar to the numeric memory test in Human Benchmark. Everything is alright except for the sequence randomization. It keeps displaying one single number, although it randomizes every new test, and adding onto that. Here's my code:</p>\n<pre><code>import java.util.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\npublic class numerical extends Thread implements ActionListener {\n    Random random = new Random(); \n    ArrayList&lt;Integer&gt; number = new ArrayList&lt;Integer&gt;();\n    StringBuffer string = new StringBuffer();\n    int length = 1;\n    boolean gameEnded = false, wait = true;\n\n    JFrame frame = new JFrame(&quot;Numerical Memory&quot;);\n    JPanel top = new JPanel();\n    JPanel bottom = new JPanel();\n    JLabel title;\n    JLabel output = new JLabel();\n    JTextField input;\n    JButton button1 = new JButton(), button2 = new JButton();\n\n    public numerical() throws InterruptedException {\n        while (gameEnded == false) {\n            wait = true;\n            for (int i = 0; i &lt; length; i++) {\n                number.add(Math.abs(random.nextInt() % 9)); \n                System.out.println(number.get(i));\n                string.append(number.get(i)); \n            }\n\n            frame.setLayout(null); \n            frame.setSize(500, 300); \n            frame.setVisible(true); \n \n            title = new JLabel(&quot;Remember the number:&quot;); \n            input = new JTextField(string.toString()); \n            input.setEditable(false);\n\n            top.add(title);\n            top.add(input);\n            top.setLayout(new GridLayout(2, 1));\n            top.setBounds(0, 0, 500, 200);\n\n            bottom.setLayout(new GridLayout(1, 3));\n            bottom.setBounds(0, 210, 500, 40);\n\n            frame.add(top);\n            frame.add(bottom);\n\n            frame.revalidate();\n            frame.repaint();\n\n            Thread.sleep(length*1500);\n\n            title.setText(&quot;What was the number?&quot;); \n            \n            input.setText(&quot;&quot;);\n            input.setEditable(true);\n\n            button1 = new JButton(&quot;Submit&quot;);\n            button1.addActionListener(this);\n            button1.setActionCommand(&quot;submit&quot;);\n\n            output.setVisible(false);\n            button2.setVisible(false);\n\n            bottom.add(output);\n            bottom.add(button1);\n            bottom.add(button2); \n\n            frame.revalidate();\n            frame.repaint();\n\n            while (wait == true) {\n                System.out.print(&quot;&quot;);\n            }\n            \n            top.remove(title);\n            top.remove(input);\n            bottom.remove(output);\n            bottom.remove(button1);\n            bottom.remove(button2);\n            frame.remove(top);\n            frame.remove(bottom);\n\n            frame.revalidate();\n            frame.repaint();\n        }\n    }\n\n    public void actionPerformed(ActionEvent e) {\n        if (e.getActionCommand() == &quot;submit&quot;) {\n            int x = Integer.parseInt(input.getText());\n            int y = Integer.parseInt(string.toString());\n            System.out.println(&quot;Input: &quot; + x);\n            System.out.println(&quot;Number: &quot; + y);\n            if (x == y) {\n                output.setText(&quot;CORRECT!&quot;);\n                button1.setText(&quot;Next&quot;);\n                button1.setActionCommand(&quot;next&quot;);\n            }\n            else {\n                button2.setVisible(true);\n                output.setText(&quot;INCORRECT!&quot;);\n                button1.setText(&quot;Retry&quot;);\n                button1.setActionCommand(&quot;retry&quot;);\n                button2.setText(&quot;Back&quot;);\n            }\n        }\n        if (e.getActionCommand() == &quot;next&quot;) {\n            wait = false;\n        }\n        if (e.getActionCommand() == &quot;retry&quot;) {\n            wait = false;\n            length = 0;\n        }\n        if (e.getSource() == button2) {\n            wait = false;\n            frame.dispose();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        try {\n            new numerical();\n        }\n        catch (InterruptedException exception) {\n            exception.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried thread.sleep at first but later found out it was incompatible with swing so I had to change it, and it resulted to this. Before changing it, it wasn't any better. The numbers were just stacking. How can I randomize my numbers?</p>\n"},{"tags":["java","spring","spring-mvc","jdbctemplate"],"answers":[{"comments":[{"owner":{"account_id":1441202,"reputation":14395,"user_id":1361315,"accept_rate":38,"display_name":"loyalflow"},"score":3,"creation_date":1348844851,"post_id":12641750,"comment_id":17051082,"body_markdown":"wow, that&#39;s allot of code for a transaction, @Transactional sure makes it less boilerplate to write!","body":"wow, that&#39;s allot of code for a transaction, @Transactional sure makes it less boilerplate to write!"},{"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"score":0,"creation_date":1348844941,"post_id":12641750,"comment_id":17051127,"body_markdown":"It is, but it&#39;s quite useful if you need to access the `TransactionStatus`.","body":"It is, but it&#39;s quite useful if you need to access the <code>TransactionStatus</code>."},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":2,"creation_date":1406140648,"post_id":12641750,"comment_id":38717001,"body_markdown":"+1 for the business service idea.  IMHO, life would be easier if everyone did this.","body":"+1 for the business service idea.  IMHO, life would be easier if everyone did this."},{"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"score":0,"creation_date":1505239768,"post_id":12641750,"comment_id":79328594,"body_markdown":"I just want to know how PlatformTransactionManager  make a relationship  with jdbcTemplate, because they have a Datasource","body":"I just want to know how PlatformTransactionManager  make a relationship  with jdbcTemplate, because they have a Datasource"},{"owner":{"account_id":892451,"reputation":31936,"user_id":930450,"accept_rate":75,"display_name":"User"},"score":2,"creation_date":1570367578,"post_id":12641750,"comment_id":102883939,"body_markdown":"How to use `AOP` with `jdbcTemplate`? I seen some examples with require a `JpaTransactionManager` depdendency, but is JPA correct for `jdbcTemplate`?","body":"How to use <code>AOP</code> with <code>jdbcTemplate</code>? I seen some examples with require a <code>JpaTransactionManager</code> depdendency, but is JPA correct for <code>jdbcTemplate</code>?"}],"tags":[],"owner":{"account_id":17915,"reputation":13985,"user_id":40581,"accept_rate":75,"display_name":"David Grant"},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1348842127,"creation_date":1348841656,"answer_id":12641750,"question_id":12641666,"body_markdown":"Yes, `JdbcTemplate` is not a substitute for transaction management.  You still benefit from database transactions, so `userService.updateUser` will operate in a _database_ transaction, but if `accountService.updateXXX` fails, `userService.updateUser` will *not* rollback.\r\n\r\nIf you don&#39;t want to use AOP, you can use [TransactionTemplate][1] instead.  See [programmatic transaction management][2] in the [Spring Reference Documentation][3].\r\n\r\nOne pattern I&#39;ve seen before is for the MVC controller class to invoke a business service, which encapsulates the operation.  The method of the business class could then be annotated `@Transactional`.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#transaction-programmatic\r\n  [3]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Yes, <code>JdbcTemplate</code> is not a substitute for transaction management.  You still benefit from database transactions, so <code>userService.updateUser</code> will operate in a <em>database</em> transaction, but if <code>accountService.updateXXX</code> fails, <code>userService.updateUser</code> will <em>not</em> rollback.</p>\n\n<p>If you don't want to use AOP, you can use <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"noreferrer\">TransactionTemplate</a> instead.  See <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#transaction-programmatic\" rel=\"noreferrer\">programmatic transaction management</a> in the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/\" rel=\"noreferrer\">Spring Reference Documentation</a>.</p>\n\n<p>One pattern I've seen before is for the MVC controller class to invoke a business service, which encapsulates the operation.  The method of the business class could then be annotated <code>@Transactional</code>.</p>\n"},{"comments":[{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":1,"creation_date":1406140787,"post_id":12642002,"comment_id":38717071,"body_markdown":"+1 seconded.  This makes several things easier, including testing, and makes it easy if you need to expose any functionality to another view other than a controller (a REST API, for example).","body":"+1 seconded.  This makes several things easier, including testing, and makes it easy if you need to expose any functionality to another view other than a controller (a REST API, for example)."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1461088434,"creation_date":1348842547,"answer_id":12642002,"question_id":12641666,"body_markdown":"If your controller wants to do several things with users and accounts and have all that happen within one transaction, then you should have a service with one method that does all that stuff. Creating one service per DAO is not a great idea, because you end up with do-nothing wrappers around DAOs and processing will be slow because the database will have to create a separate transaction for each call to a DAO, you&#39;re making it do a lot more work than it should have to. \r\n\r\nThe service should provide functionality to the controller or whoever else is calling it. I try to create services with the idea that the service provides specific functions useful to a certain type of user.","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>If your controller wants to do several things with users and accounts and have all that happen within one transaction, then you should have a service with one method that does all that stuff. Creating one service per DAO is not a great idea, because you end up with do-nothing wrappers around DAOs and processing will be slow because the database will have to create a separate transaction for each call to a DAO, you're making it do a lot more work than it should have to. </p>\n\n<p>The service should provide functionality to the controller or whoever else is calling it. I try to create services with the idea that the service provides specific functions useful to a certain type of user.</p>\n"},{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677391676,"creation_date":1677391676,"answer_id":75570267,"question_id":12641666,"body_markdown":"Spring `JdbcTemplate` is not aware about the transactions *at all*. If you have not configured transactions in any way - programmatically, usually via `PlatformTransactionManager` or `TransactionTemplate` (which is just a more high level api for `PlatformTransactionManager`), or using declarative approach, via annotations, like spring `@Transactional` - then every SQL query issued by `JdbcTemplate` will be run outside any transaction. So yes, transactions configuration is required.","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Spring <code>JdbcTemplate</code> is not aware about the transactions <em>at all</em>. If you have not configured transactions in any way - programmatically, usually via <code>PlatformTransactionManager</code> or <code>TransactionTemplate</code> (which is just a more high level api for <code>PlatformTransactionManager</code>), or using declarative approach, via annotations, like spring <code>@Transactional</code> - then every SQL query issued by <code>JdbcTemplate</code> will be run outside any transaction. So yes, transactions configuration is required.</p>\n"},{"tags":[],"owner":{"account_id":20376405,"reputation":139,"user_id":14947476,"display_name":"stanley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679251705,"creation_date":1679251705,"answer_id":75784250,"question_id":12641666,"body_markdown":"Yes, wrap it using the `TransactionTemplate`\r\n\r\n```java\r\ntransactionTemplate.executeWithoutResult((TransactionStatus ts) -&gt; {\r\n    userService.updateUser(user);\r\n    accountService.updateXXX(...);\r\n});\r\n```\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>Yes, wrap it using the <code>TransactionTemplate</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>transactionTemplate.executeWithoutResult((TransactionStatus ts) -&gt; {\n    userService.updateUser(user);\n    accountService.updateXXX(...);\n});\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/data-access.html#tx-prog-template</a></p>\n"}],"owner":{"account_id":1441202,"reputation":14395,"user_id":1361315,"accept_rate":38,"display_name":"loyalflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84383,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":12641750,"answer_count":4,"score":30,"last_activity_date":1679251705,"creation_date":1348841408,"question_id":12641666,"body_markdown":"When using JdbcTemplate, do I need to explicitly configure transactions?\r\n\r\nMy code layout looks like the following:\r\n\r\nI will have a UserDao that will be injected into my UserService, and then my Controllers will make calls on methods in my UserService.\r\n\r\n\r\nI want to keep things as simple as possible transaction wise, and I don&#39;t need multiple database calls to span a transaction.\r\n\r\nBy default, do I have to do anything in my configuration file or use a `@Transaction` annotation anywhere?\r\n\r\n\r\nNow say in my controller I need to make 2 calls on my userService and accountService, could I explicitly wrap it in a transaction somehow?\r\n\r\n    userService.updateUser(user);\r\n    accountService.updateXXX(...);","title":"Spring&#39;s JdbcTemplate and Transactions","body":"<p>When using JdbcTemplate, do I need to explicitly configure transactions?</p>\n\n<p>My code layout looks like the following:</p>\n\n<p>I will have a UserDao that will be injected into my UserService, and then my Controllers will make calls on methods in my UserService.</p>\n\n<p>I want to keep things as simple as possible transaction wise, and I don't need multiple database calls to span a transaction.</p>\n\n<p>By default, do I have to do anything in my configuration file or use a <code>@Transaction</code> annotation anywhere?</p>\n\n<p>Now say in my controller I need to make 2 calls on my userService and accountService, could I explicitly wrap it in a transaction somehow?</p>\n\n<pre><code>userService.updateUser(user);\naccountService.updateXXX(...);\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1647001096,"post_id":71438370,"comment_id":126268738,"body_markdown":"what about all other things in your manifest, like activities? maybe it&#39;s not about only that receiver","body":"what about all other things in your manifest, like activities? maybe it&#39;s not about only that receiver"},{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":0,"creation_date":1647004448,"post_id":71438370,"comment_id":126269922,"body_markdown":"I have only one &lt;activity&gt; and I have added it there too, still same issue.","body":"I have only one &lt;activity&gt; and I have added it there too, still same issue."},{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":0,"creation_date":1647006786,"post_id":71438370,"comment_id":126270752,"body_markdown":"You were right! Had a receiver which was missing the attribute.","body":"You were right! Had a receiver which was missing the attribute."}],"answers":[{"comments":[{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":0,"creation_date":1647004356,"post_id":71438425,"comment_id":126269891,"body_markdown":"Yes, I have added it both to my activity and to my receiver, still the same issue.","body":"Yes, I have added it both to my activity and to my receiver, still the same issue."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1647004664,"post_id":71438425,"comment_id":126269993,"body_markdown":"The libraries you use in your project may be incompatible, you can try to update them to the latest version. @Majoren","body":"The libraries you use in your project may be incompatible, you can try to update them to the latest version. @Majoren"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1647004978,"post_id":71438425,"comment_id":126270106,"body_markdown":"If the answer is insufficient for you, you can take a look at this answer. Hopefully it benefits your business. :) https://stackoverflow.com/a/70697686/11902787 @Majoren","body":"If the answer is insufficient for you, you can take a look at this answer. Hopefully it benefits your business. :) <a href=\"https://stackoverflow.com/a/70697686/11902787\">stackoverflow.com/a/70697686/11902787</a> @Majoren"},{"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"score":1,"creation_date":1647006607,"post_id":71438425,"comment_id":126270675,"body_markdown":"Thank you! It turned out I still had places where I needed to add the exported=&quot;true&quot;. Did a search through all my files and found a &lt;receiver&gt; which was missing the attribute :)","body":"Thank you! It turned out I still had places where I needed to add the exported=&quot;true&quot;. Did a search through all my files and found a &lt;receiver&gt; which was missing the attribute :)"},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":1,"creation_date":1647006765,"post_id":71438425,"comment_id":126270739,"body_markdown":"I&#39;m very happy! good work. :) @Majoren","body":"I&#39;m very happy! good work. :) @Majoren"}],"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647001513,"creation_date":1647001155,"answer_id":71438425,"question_id":71438370,"body_markdown":"What is exported receiver?\r\n\r\nandroid:exported. Whether the broadcast receiver can receive messages from non-system sources outside its application   true  if it can, and  false  if not.\r\n\r\nYou need to add the exported attribute for each of the activity pages in your AndroidManifest.xml file.\r\n\r\nExample :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.nisaefendioglu.weather&quot;&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:usesCleartextTraffic=&quot;true&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat&quot;&gt;\r\n            &lt;activity android:name=&quot;com.nisaefendioglu.weather.view.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>What is exported receiver?</p>\n<p>android:exported. Whether the broadcast receiver can receive messages from non-system sources outside its application   true  if it can, and  false  if not.</p>\n<p>You need to add the exported attribute for each of the activity pages in your AndroidManifest.xml file.</p>\n<p>Example :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.nisaefendioglu.weather&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat&quot;&gt;\n        &lt;activity android:name=&quot;com.nisaefendioglu.weather.view.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19139020,"reputation":51,"user_id":13979376,"display_name":"Igbokwenu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661106911,"creation_date":1661106911,"answer_id":73437264,"question_id":71438370,"body_markdown":"Also note that running the &quot;flutter clean&quot; and then the &quot;flutter pub get&quot; command in the project folder might be needed to capture the changes whenever you modify an &quot;essential&quot; file like a .xml file.","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>Also note that running the &quot;flutter clean&quot; and then the &quot;flutter pub get&quot; command in the project folder might be needed to capture the changes whenever you modify an &quot;essential&quot; file like a .xml file.</p>\n"},{"tags":[],"owner":{"account_id":9914305,"reputation":490,"user_id":7339798,"display_name":"Volodymyr Buberenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679251013,"creation_date":1679251013,"answer_id":75784179,"question_id":71438370,"body_markdown":"As the accepted answer provides some ambiguous info and requires people to go through comments to understand solution I would write a proper answer.\r\n\r\nThe reason of the issue is missing `exported` property in one of declared components (activity, service or broadcast receiver) in `AndroidManifest.xml` file of the app.\r\n[Since Android 12][1] every of listed components must declare this property for security reasons.\r\n\r\nHere is a documentation about `exported` property for these components: \r\n\r\n - Activity:\r\n   https://developer.android.com/guide/topics/manifest/activity-element#exported\r\n- Service:\r\n   https://developer.android.com/guide/topics/manifest/service-element#exported\r\n- BroadcastReceiver:\r\n   https://developer.android.com/guide/topics/manifest/receiver-element#exported\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>As the accepted answer provides some ambiguous info and requires people to go through comments to understand solution I would write a proper answer.</p>\n<p>The reason of the issue is missing <code>exported</code> property in one of declared components (activity, service or broadcast receiver) in <code>AndroidManifest.xml</code> file of the app.\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">Since Android 12</a> every of listed components must declare this property for security reasons.</p>\n<p>Here is a documentation about <code>exported</code> property for these components:</p>\n<ul>\n<li>Activity:\n<a href=\"https://developer.android.com/guide/topics/manifest/activity-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/activity-element#exported</a></li>\n<li>Service:\n<a href=\"https://developer.android.com/guide/topics/manifest/service-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/service-element#exported</a></li>\n<li>BroadcastReceiver:\n<a href=\"https://developer.android.com/guide/topics/manifest/receiver-element#exported\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/manifest/receiver-element#exported</a></li>\n</ul>\n"}],"owner":{"account_id":1121938,"reputation":993,"user_id":1505415,"accept_rate":57,"display_name":"Majoren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":991,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71438425,"answer_count":3,"score":1,"last_activity_date":1679251013,"creation_date":1647000877,"question_id":71438370,"body_markdown":"After uploading my app to the google play store for internal testing, I get the following error message:\r\n\r\n    You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without the &#39;android:exported&#39; property set. This file can&#39;t be installed on Android 12 or higher. See: developer.android.com/about/versions/12/behavior-changes-12#exported\r\n\r\nI&#39;ve tried setting the `android:exported=&quot;true&quot;` in my manifest like so:\r\n\r\n    &lt;receiver \r\n        android:name=&quot;com.ryanheise.audioservice.MediaButtonReceiver&quot;\r\n        android:exported=&quot;true&quot;\r\n    &gt;            \r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nBut I&#39;m still getting the same error. In my build.gradle files I have these configs:\r\n\r\n    compileSdkVersion 31\r\n    minSdkVersion 21\r\n    targetSdkVersion 31\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.6.10&#39;\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n            classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.5.1&#39;\r\n        }\r\n    }\r\n\r\n\r\nFeels like I have tried everything. Could this be an SDK version issue, or what could I be missing here?","title":"Flutter/Android: You uploaded an APK which has activity [...] but without the &#39;android:exported&#39; property. exported=&quot;true&quot; not working","body":"<p>After uploading my app to the google play store for internal testing, I get the following error message:</p>\n<pre><code>You uploaded an APK or Android App Bundle which has an activity, activity alias, service or broadcast receiver with intent filter, but without the 'android:exported' property set. This file can't be installed on Android 12 or higher. See: developer.android.com/about/versions/12/behavior-changes-12#exported\n</code></pre>\n<p>I've tried setting the <code>android:exported=&quot;true&quot;</code> in my manifest like so:</p>\n<pre><code>&lt;receiver \n    android:name=&quot;com.ryanheise.audioservice.MediaButtonReceiver&quot;\n    android:exported=&quot;true&quot;\n&gt;            \n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MEDIA_BUTTON&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>But I'm still getting the same error. In my build.gradle files I have these configs:</p>\n<pre><code>compileSdkVersion 31\nminSdkVersion 21\ntargetSdkVersion 31\n\nbuildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.5'\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.5.1'\n    }\n}\n</code></pre>\n<p>Feels like I have tried everything. Could this be an SDK version issue, or what could I be missing here?</p>\n"},{"tags":["java","spring-boot","openpdf"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1679253247,"post_id":75784137,"comment_id":133684122,"body_markdown":"You should change(or add) the tags on this question. This is more a javascript/axios question. The server seems to be sending you the data you request so the question is more of how to start a download from javascript/axios. I actually don&#39;t know how but, if you can change your request to a GET, you could just have a link open in a new tab and it should work fine.","body":"You should change(or add) the tags on this question. This is more a javascript/axios question. The server seems to be sending you the data you request so the question is more of how to start a download from javascript/axios. I actually don&#39;t know how but, if you can change your request to a GET, you could just have a link open in a new tab and it should work fine."}],"owner":{"account_id":27720911,"reputation":1,"user_id":21161471,"display_name":"LSmooth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679250518,"creation_date":1679250518,"question_id":75784137,"body_markdown":"So im trying to export some data to pdf and download it, heres my controller : \r\n```\r\nRequestMapping(&quot;/api&quot;)\r\n@Controller\r\npublic class PDFExporterController {\r\n\r\n    private final PDFExporterService pdfExporterService;\r\n    public PDFExporterController(PDFExporterService pdfExporterService) {\r\n        this.pdfExporterService = pdfExporterService;\r\n    }\r\n\r\n    @Autowired\r\n    private AccountRepository accRepo;\r\n    @Autowired\r\n    private ClientRepository clientRepo;\r\n    @Autowired\r\n    private TransactionRepository transactionRepo;\r\n\r\n    @PostMapping(&quot;/export-to-PDF-stream-output&quot;)\r\n    public void exportToPDF(@RequestBody TransactionFilterDTO filter, Authentication auth, HttpServletResponse response) throws ParseException, IOException {\r\n\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDate fromDate = filter.getFromDate().toLocalDate();\r\n        LocalDate toDate = filter.getToDate().toLocalDate();\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n        String fromDateStr = fromDate.format(formatter);\r\n        String toDateStr = toDate.format(formatter);\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n        response.setContentType(&quot;application/pdf&quot;);\r\n\r\n        String headerKey = &quot;Content-Disposition&quot;;\r\n        String headerValue = &quot;attachment; filename=transactionsFor&quot; + currentAcc.getId() +&quot;from&quot;+ fromDateStr+&quot;to&quot;+toDateStr+&quot;.pdf&quot;;\r\n\r\n        response.setHeader(headerKey, headerValue);\r\n\r\n        this.pdfExporterService.setTransactionList(transactions);\r\n        this.pdfExporterService.export(response, start, end);\r\n    }\r\n\r\n    @PostMapping(&quot;/get-filtered-transactions&quot;)\r\n    public List&lt;Transaction&gt; getFilteredTransactions (@RequestBody TransactionFilterDTO filter, Authentication auth){\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n        return transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n    }\r\n\r\n    @PostMapping(&quot;/export-to-PDF-bytes&quot;)\r\n    public ResponseEntity&lt;?&gt; exportToPDFBytes(@RequestBody TransactionFilterDTO filter, Authentication auth) throws IOException {\r\n        Client currentClient = clientRepo.findByEmail(auth.getName());\r\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\r\n\r\n        LocalDateTime fromDate = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime toDate = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\r\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\r\n\r\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\r\n                currentAcc.getId(), start, end);\r\n\r\n        com.mindhub.homeBanking.utilities.PDFExporterService pdfExporter = new PDFExporterService(transactions);\r\n        byte[] pdfBytes = pdfExporter.export2(start, end);\r\n\r\n        String fileName = String.format(&quot;transactionsFor%sFrom%sTo%s.pdf&quot;,\r\n                currentAcc.getNumber(), fromDate.toString(), toDate.toString());\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_PDF);\r\n        headers.set(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\r\n        headers.setContentLength(pdfBytes.length);\r\n\r\n        return new ResponseEntity&lt;&gt;(pdfBytes, headers, HttpStatus.OK);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIm calling them from the frontend like so : \r\n\r\n\r\n```\r\n downloadPDF(){\r\n            const data = {\r\n                fromDate: this.fromDate.toISOString(),\r\n                toDate: this.toDate.toISOString(),\r\n                accountNumber: this.accounts.number\r\n              };\r\n              axios.post(&#39;/api/export-to-PDF-stream-output&#39;, data, {responseType: &#39;blob&#39;})\r\n                .then(response =&gt; {\r\n                    console.log(response)\r\n                   const url = window.URL.createObjectURL(response.data);\r\n                   const link = document.createElement(&#39;a&#39;);\r\n                   link.href = url;\r\n                   link.setAttribute(&#39;download&#39;, response.headers[&#39;content-disposition&#39;].split(&#39;filename=&#39;)[1]);\r\n                   document.body.appendChild(link);\r\n                  link.click();\r\n                })\r\n                .catch(error =&gt; {\r\n                  console.log(error);\r\n                });\r\n        },\r\n```\r\n\r\nnow my question is why do i need all of that code in .then? If i just call one those endpoints my response looks something like this :   \r\n```\r\ndata: &#39;%PDF-1.5\\n%\\n24 0 obj\\n&lt;&lt;/Filter/FlateDecode/Leng16a&gt;]/Root 27 0 R/Size 29&gt;&gt;\\nstartxref\\n1796\\n%%EOF\\n&#39;, status: 200, statusText: &#39;&#39;, headers: i\r\n\r\nheaders\r\n: \r\ni\r\nAccept\r\n: \r\n&quot;application/json, text/plain, */*&quot;\r\nContent-Type\r\n: \r\n&quot;application/json&quot;\r\nSymbol(Symbol.toStringTag)\r\n: \r\n(...)\r\n```\r\n\r\nis there a way to start the download without all the js code?\r\n\r\n\r\n\r\n\r\nI was expecting the download to start as soon as i called the endpoint. I tried with bytearrays.\r\nThese are my export methods \r\n```\r\npublic void export(HttpServletResponse response,  LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\r\n        Document document = new Document(PageSize.A4);\r\n\r\n        PdfWriter.getInstance(document, response.getOutputStream());\r\n\r\n        document.open();\r\n\r\n        document.add(new Paragraph(&quot;Transactions &quot;));\r\n\r\n        PdfPTable table = new PdfPTable(6);\r\n        table.setWidthPercentage(100);\r\n        table.setSpacingBefore(15);\r\n\r\n        writeTableHeader(table);\r\n        writeTableData(table);\r\n\r\n        document.add(table);\r\n\r\n        document.close();\r\n    }\r\n\r\n    public byte[] export2(LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        Document document = new Document(PageSize.A4);\r\n\r\n        PdfWriter.getInstance(document, baos);\r\n\r\n        document.open();\r\n\r\n        document.add(new Paragraph(&quot;Transactions &quot;));\r\n\r\n        PdfPTable table = new PdfPTable(6);\r\n        table.setWidthPercentage(100);\r\n        table.setSpacingBefore(15);\r\n\r\n        writeTableHeader(table);\r\n        writeTableData(table);\r\n\r\n        document.add(table);\r\n\r\n        document.close();\r\n\r\n        return baos.toByteArray();\r\n    }\r\n```\r\n","title":"Spring boot export PDF download issue/question","body":"<p>So im trying to export some data to pdf and download it, heres my controller :</p>\n<pre><code>RequestMapping(&quot;/api&quot;)\n@Controller\npublic class PDFExporterController {\n\n    private final PDFExporterService pdfExporterService;\n    public PDFExporterController(PDFExporterService pdfExporterService) {\n        this.pdfExporterService = pdfExporterService;\n    }\n\n    @Autowired\n    private AccountRepository accRepo;\n    @Autowired\n    private ClientRepository clientRepo;\n    @Autowired\n    private TransactionRepository transactionRepo;\n\n    @PostMapping(&quot;/export-to-PDF-stream-output&quot;)\n    public void exportToPDF(@RequestBody TransactionFilterDTO filter, Authentication auth, HttpServletResponse response) throws ParseException, IOException {\n\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDate fromDate = filter.getFromDate().toLocalDate();\n        LocalDate toDate = filter.getToDate().toLocalDate();\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n        String fromDateStr = fromDate.format(formatter);\n        String toDateStr = toDate.format(formatter);\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n        response.setContentType(&quot;application/pdf&quot;);\n\n        String headerKey = &quot;Content-Disposition&quot;;\n        String headerValue = &quot;attachment; filename=transactionsFor&quot; + currentAcc.getId() +&quot;from&quot;+ fromDateStr+&quot;to&quot;+toDateStr+&quot;.pdf&quot;;\n\n        response.setHeader(headerKey, headerValue);\n\n        this.pdfExporterService.setTransactionList(transactions);\n        this.pdfExporterService.export(response, start, end);\n    }\n\n    @PostMapping(&quot;/get-filtered-transactions&quot;)\n    public List&lt;Transaction&gt; getFilteredTransactions (@RequestBody TransactionFilterDTO filter, Authentication auth){\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n        return transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n    }\n\n    @PostMapping(&quot;/export-to-PDF-bytes&quot;)\n    public ResponseEntity&lt;?&gt; exportToPDFBytes(@RequestBody TransactionFilterDTO filter, Authentication auth) throws IOException {\n        Client currentClient = clientRepo.findByEmail(auth.getName());\n        Account currentAcc = accRepo.findByNumber(filter.getAccountNumber());\n\n        LocalDateTime fromDate = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime toDate = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        LocalDateTime start = filter.getFromDate().withHour(0).withMinute(0).withSecond(0);\n        LocalDateTime end = filter.getToDate().withHour(23).withMinute(59).withSecond(59);\n\n        List&lt;Transaction&gt; transactions = transactionRepo.findByIdAndDateBetween(\n                currentAcc.getId(), start, end);\n\n        com.mindhub.homeBanking.utilities.PDFExporterService pdfExporter = new PDFExporterService(transactions);\n        byte[] pdfBytes = pdfExporter.export2(start, end);\n\n        String fileName = String.format(&quot;transactionsFor%sFrom%sTo%s.pdf&quot;,\n                currentAcc.getNumber(), fromDate.toString(), toDate.toString());\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_PDF);\n        headers.set(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + fileName);\n        headers.setContentLength(pdfBytes.length);\n\n        return new ResponseEntity&lt;&gt;(pdfBytes, headers, HttpStatus.OK);\n    }\n\n}\n</code></pre>\n<p>Im calling them from the frontend like so :</p>\n<pre><code> downloadPDF(){\n            const data = {\n                fromDate: this.fromDate.toISOString(),\n                toDate: this.toDate.toISOString(),\n                accountNumber: this.accounts.number\n              };\n              axios.post('/api/export-to-PDF-stream-output', data, {responseType: 'blob'})\n                .then(response =&gt; {\n                    console.log(response)\n                   const url = window.URL.createObjectURL(response.data);\n                   const link = document.createElement('a');\n                   link.href = url;\n                   link.setAttribute('download', response.headers['content-disposition'].split('filename=')[1]);\n                   document.body.appendChild(link);\n                  link.click();\n                })\n                .catch(error =&gt; {\n                  console.log(error);\n                });\n        },\n</code></pre>\n<p>now my question is why do i need all of that code in .then? If i just call one those endpoints my response looks something like this :</p>\n<pre><code>data: '%PDF-1.5\\n%\\n24 0 obj\\n&lt;&lt;/Filter/FlateDecode/Leng16a&gt;]/Root 27 0 R/Size 29&gt;&gt;\\nstartxref\\n1796\\n%%EOF\\n', status: 200, statusText: '', headers: i\n\nheaders\n: \ni\nAccept\n: \n&quot;application/json, text/plain, */*&quot;\nContent-Type\n: \n&quot;application/json&quot;\nSymbol(Symbol.toStringTag)\n: \n(...)\n</code></pre>\n<p>is there a way to start the download without all the js code?</p>\n<p>I was expecting the download to start as soon as i called the endpoint. I tried with bytearrays.\nThese are my export methods</p>\n<pre><code>public void export(HttpServletResponse response,  LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\n        Document document = new Document(PageSize.A4);\n\n        PdfWriter.getInstance(document, response.getOutputStream());\n\n        document.open();\n\n        document.add(new Paragraph(&quot;Transactions &quot;));\n\n        PdfPTable table = new PdfPTable(6);\n        table.setWidthPercentage(100);\n        table.setSpacingBefore(15);\n\n        writeTableHeader(table);\n        writeTableData(table);\n\n        document.add(table);\n\n        document.close();\n    }\n\n    public byte[] export2(LocalDateTime fromDate, LocalDateTime toDate) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        Document document = new Document(PageSize.A4);\n\n        PdfWriter.getInstance(document, baos);\n\n        document.open();\n\n        document.add(new Paragraph(&quot;Transactions &quot;));\n\n        PdfPTable table = new PdfPTable(6);\n        table.setWidthPercentage(100);\n        table.setSpacingBefore(15);\n\n        writeTableHeader(table);\n        writeTableData(table);\n\n        document.add(table);\n\n        document.close();\n\n        return baos.toByteArray();\n    }\n</code></pre>\n"},{"tags":["java","gradle","javafx","path"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1679250893,"post_id":75784127,"comment_id":133683728,"body_markdown":"Keep in mind the file reference there will be relative to your _execution directory_ (not the code directory!). Per documentation of `File`: &quot;By default the classes in the java.io package always resolve relative pathnames against the current user directory. This directory is named by the system property user.dir, and is typically the directory in which the Java virtual machine was invoked.&quot;. You likely want something like `Class#getResource`, where you&#39;d export your resources with a program jar/war/etc","body":"Keep in mind the file reference there will be relative to your <i>execution directory</i> (not the code directory!). Per documentation of <code>File</code>: &quot;By default the classes in the java.io package always resolve relative pathnames against the current user directory. This directory is named by the system property user.dir, and is typically the directory in which the Java virtual machine was invoked.&quot;. You likely want something like <code>Class#getResource</code>, where you&#39;d export your resources with a program jar/war/etc"}],"owner":{"account_id":24529074,"reputation":3,"user_id":18441173,"display_name":"Adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679250518,"answer_count":0,"score":0,"last_activity_date":1679250453,"creation_date":1679250453,"question_id":75784127,"body_markdown":"I have a pretty specific problem. Recently I&#39;m trying to learn JavaFX and everything works for me, but I can not load files. When I tried the classic basic code to create a stage, scene and use an image there:\r\n\r\n```\r\npublic void start(Stage primaryStage) throws Exception {\r\n        // Load the image file\r\n        Group root = new Group();\r\n        Scene scene = new Scene(root,500,500);\r\n\r\n        Image img = new Image(&quot;img.png&quot;);\r\n        ImageView imgV = new ImageView(img);\r\n\r\n        root.getChildren().add(imgV);\r\n\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n} \r\n```\r\n\r\nIt kept crashing and I kept getting these two errors:\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: Exception in Application start method\r\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\r\n```\r\n\r\nThe &quot;img.png&quot; file is in the same folder as the Main class.\r\n\r\nI got a little further with this and found elsewhere that the file path has to be written like this on MacOS:\r\n\r\n```\r\nImage img = new Image(&quot;file:img.png&quot;);\r\n```\r\n\r\nfor it to be a valid URL, this throws no errors and opens the window but does not show the image. When I use absolute URL of the image file, the image is being shown.\r\n\r\nMy question therefore is - how should i write it so that the image will be shown and I will use relative path to the file? I really need it also because I will need to include mulitple files (like FXML) in my work later. Thanks :)\r\n\r\nI expect to find a solution that will allow me to use a relative path instead of the absolute one.","title":"Using relative file path on Mac in JavaFX","body":"<p>I have a pretty specific problem. Recently I'm trying to learn JavaFX and everything works for me, but I can not load files. When I tried the classic basic code to create a stage, scene and use an image there:</p>\n<pre><code>public void start(Stage primaryStage) throws Exception {\n        // Load the image file\n        Group root = new Group();\n        Scene scene = new Scene(root,500,500);\n\n        Image img = new Image(&quot;img.png&quot;);\n        ImageView imgV = new ImageView(img);\n\n        root.getChildren().add(imgV);\n\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n} \n</code></pre>\n<p>It kept crashing and I kept getting these two errors:</p>\n<pre><code>Caused by: java.lang.RuntimeException: Exception in Application start method\nCaused by: java.lang.IllegalArgumentException: Invalid URL: Invalid URL or resource not found\n</code></pre>\n<p>The &quot;img.png&quot; file is in the same folder as the Main class.</p>\n<p>I got a little further with this and found elsewhere that the file path has to be written like this on MacOS:</p>\n<pre><code>Image img = new Image(&quot;file:img.png&quot;);\n</code></pre>\n<p>for it to be a valid URL, this throws no errors and opens the window but does not show the image. When I use absolute URL of the image file, the image is being shown.</p>\n<p>My question therefore is - how should i write it so that the image will be shown and I will use relative path to the file? I really need it also because I will need to include mulitple files (like FXML) in my work later. Thanks :)</p>\n<p>I expect to find a solution that will allow me to use a relative path instead of the absolute one.</p>\n"},{"tags":["java","jsp","url","struts2","tuckey-urlrewrite-filter"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1517106286,"post_id":48366518,"comment_id":83958191,"body_markdown":"The log shows that it worked.","body":"The log shows that it worked."}],"answers":[{"comments":[{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1516782964,"post_id":48414314,"comment_id":83825555,"body_markdown":"tuckey filter is before the struts2 filter I have updted the web.xml in in question","body":"tuckey filter is before the struts2 filter I have updted the web.xml in in question"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1516838647,"post_id":48414314,"comment_id":83858677,"body_markdown":"Read the guide, debug, after that tell us the problem.","body":"Read the guide, debug, after that tell us the problem."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1516871472,"post_id":48414314,"comment_id":83869494,"body_markdown":"Requesting url is matching and it is replaced with forwarded url but my action class is not get called","body":"Requesting url is matching and it is replaced with forwarded url but my action class is not get called"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1516908546,"post_id":48414314,"comment_id":83893865,"body_markdown":"It is because the request is forwarded to wrong URL and action mapper can&amp;#39;t find mapping for that URL. You should read the guide if you want  the filter to forward to the action with the correct regex.","body":"It is because the request is forwarded to wrong URL and action mapper can&amp;#39;t find mapping for that URL. You should read the guide if you want  the filter to forward to the action with the correct regex."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1517123859,"post_id":48414314,"comment_id":83960856,"body_markdown":"I am following the document  http://tuckey.org/urlrewrite/manual/3.0/guide.html        from there i got this example  `&lt;rule&gt;\n        &lt;from&gt;^/products/([0-9]+)$&lt;/from&gt;\n        &lt;to&gt;/products/index.jsp?product_id=$1&lt;/to&gt;\n    &lt;/rule&gt;`        /products/1234 will be passed on to /products/index.jsp?product_id=1234 . I am unable to find where I an wrong","body":"I am following the document  <a href=\"http://tuckey.org/urlrewrite/manual/3.0/guide.html\" rel=\"nofollow noreferrer\">tuckey.org/urlrewrite/manual/3.0/guide.html</a>        from there i got this example  <code>&lt;rule&gt;         &lt;from&gt;^&#47;products&#47;([0-9]+)$&lt;&#47;from&gt;         &lt;to&gt;&#47;products&#47;index.jsp?product_id=$1&lt;&#47;to&gt;     &lt;&#47;rule&gt;</code>        /products/1234 will be passed on to /products/index.jsp?product_id=1234 . I am unable to find where I an wrong"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1517179973,"post_id":48414314,"comment_id":83977574,"body_markdown":"The rule is wrong. However the one from the question should forward to another URL for which you didn&#39;t post mapping.","body":"The rule is wrong. However the one from the question should forward to another URL for which you didn&#39;t post mapping."},{"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"score":0,"creation_date":1518848835,"post_id":48414314,"comment_id":84681520,"body_markdown":"I tried but didnt get any answer for this","body":"I tried but didnt get any answer for this"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1518874009,"post_id":48414314,"comment_id":84687513,"body_markdown":"Strange, it worked fine for me.","body":"Strange, it worked fine for me."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634814191,"creation_date":1516764036,"answer_id":48414314,"question_id":48366518,"body_markdown":"You can rewrite any URL if you place [Tuckey URL rewrite][1] filter before the Struts2 filter in the web application deployment descriptor. Use this guide: [Tuckey URLRewrite How-To][2].\r\n\r\n\r\n----------\r\n\r\n\r\nAlso you can use URL rewrite mod for Apache Web Server in front of your servlet container.  Use this guide: [URL Rewriting for Beginners][3].\r\n\r\n  [1]: https://tuckey.org/urlrewrite/\r\n  [3]: https://www.elated.com/mod-rewrite-tutorial-for-absolute-beginners/\r\n  [2]: https://devtidbits.com/2011/11/28/tuckey-urlrewrite-how-to/\r\n  \r\n  ","title":"Why URL rewriting is not working in Struts 2","body":"<p>You can rewrite any URL if you place <a href=\"https://tuckey.org/urlrewrite/\" rel=\"nofollow noreferrer\">Tuckey URL rewrite</a> filter before the Struts2 filter in the web application deployment descriptor. Use this guide: <a href=\"https://devtidbits.com/2011/11/28/tuckey-urlrewrite-how-to/\" rel=\"nofollow noreferrer\">Tuckey URLRewrite How-To</a>.</p>\n<hr />\n<p>Also you can use URL rewrite mod for Apache Web Server in front of your servlet container.  Use this guide: <a href=\"https://www.elated.com/mod-rewrite-tutorial-for-absolute-beginners/\" rel=\"nofollow noreferrer\">URL Rewriting for Beginners</a>.</p>\n"}],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1521973200,"answer_count":1,"score":2,"last_activity_date":1679250298,"creation_date":1516535940,"question_id":48366518,"body_markdown":"I have configured Tuckey URL Rewriting.  I have included dependency in `pom.xml`: \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;org.tuckey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nadded filter in `web.xml`:\r\n\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;logLevel&lt;/param-name&gt;\r\n                &lt;param-value&gt;commons&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;confReloadCheckInterval&lt;/param-name&gt;\r\n                &lt;param-value&gt;60&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt; \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n            &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n            &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n        &lt;/filter-mapping&gt;    \r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    \r\n created `urlrewriter.xml` under `WEB-INF` folder\r\n      \r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE urlrewrite PUBLIC &quot;-//tuckey.org//DTD UrlRewrite 3.0//EN&quot;\r\n            &quot;http://www.tuckey.org/res/dtds/urlrewrite3.0.dtd&quot;&gt;\r\n    \r\n    &lt;urlrewrite default-match-type=&quot;wildcard&quot;&gt;\r\n        &lt;!-- Struts --&gt;\r\n        &lt;rule match-type=&quot;regex&quot;&gt;\r\n            &lt;from&gt;^/Profile/([0-9]+)$&lt;/from&gt;\r\n            &lt;to&gt;/Profile?id=$1&lt;/to&gt;\r\n        &lt;/rule&gt;   \r\n     \r\n        &lt;!-- Remove JSESSIONID from URLs when cookies disabled --&gt;\r\n        &lt;!-- http://stackoverflow.com/questions/962729/is-it-possible-to-disable-jsessionid-in-tomcat-servlet --&gt;\r\n        &lt;outbound-rule encodefirst=&quot;true&quot; match-type=&quot;regex&quot;&gt;\r\n            &lt;name&gt;Strip URL Session ID&#39;s&lt;/name&gt;\r\n            &lt;from&gt;^(.*?)(?:\\;jsessionid=[^\\?#]*)?(\\?[^#]*)?(#.*)?$&lt;/from&gt;\r\n            &lt;to&gt;$1$2$3&lt;/to&gt;\r\n        &lt;/outbound-rule&gt;\r\n    &lt;/urlrewrite&gt;\r\n\r\n\r\n\r\nNow from browser I am requesting `http://localhost:8080/Test/Profile/123`\r\n\r\nThis in not redirection to `http://localhost:8080/Test/Profile?id=123`\r\n\r\nHow to make this working?\r\n\r\n**EDIT:**\r\n\r\nAt debug  I am getting following result at Tomcat log\r\n\r\n    24-Jan-2018 17:06:45.588 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: starting conf reload check\r\n    24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: conf is not modified\r\n    24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\r\n    24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: checking for status path on /test/Profile/2345\r\n    24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing request for /Profile/2345\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Rule 0 run called with /Profile/2345\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: matched &quot;from&quot;\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.substitution.MatcherReplacer DEBUG: found 1\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.substitution.MatcherReplacer DEBUG: replaced sb is /Profile?id=2345\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleExecutionOutput DEBUG: needs to be forwarded to /Profile?id=2345\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: rule is last\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: starting conf reload check\r\n    24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: conf is not modified\r\n    24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\r\n    24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: checking for status path on /test/Profile\r\n    24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing request for /Profile\r\n    24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Rule 0 run called with /Profile\r\n\r\n\r\nTomcat console is showing: \r\n\r\n     MonitorFilter::WARNING: the monitor filter must be the first filter in the chain.\r\n","title":"Why URL rewriting is not working in Struts 2","body":"<p>I have configured Tuckey URL Rewriting.  I have included dependency in <code>pom.xml</code>:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.tuckey&lt;/groupId&gt;\n            &lt;artifactId&gt;urlrewritefilter&lt;/artifactId&gt;\n            &lt;version&gt;4.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>added filter in <code>web.xml</code>:</p>\n<pre><code>    &lt;filter&gt;\n        &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;logLevel&lt;/param-name&gt;\n            &lt;param-value&gt;commons&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;confReloadCheckInterval&lt;/param-name&gt;\n            &lt;param-value&gt;60&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt; \n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n        &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n        &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n    &lt;/filter-mapping&gt;    \n    &lt;filter&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n    &lt;/filter&gt;\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n</code></pre>\n<p>created <code>urlrewriter.xml</code> under <code>WEB-INF</code> folder</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE urlrewrite PUBLIC &quot;-//tuckey.org//DTD UrlRewrite 3.0//EN&quot;\n        &quot;http://www.tuckey.org/res/dtds/urlrewrite3.0.dtd&quot;&gt;\n\n&lt;urlrewrite default-match-type=&quot;wildcard&quot;&gt;\n    &lt;!-- Struts --&gt;\n    &lt;rule match-type=&quot;regex&quot;&gt;\n        &lt;from&gt;^/Profile/([0-9]+)$&lt;/from&gt;\n        &lt;to&gt;/Profile?id=$1&lt;/to&gt;\n    &lt;/rule&gt;   \n \n    &lt;!-- Remove JSESSIONID from URLs when cookies disabled --&gt;\n    &lt;!-- http://stackoverflow.com/questions/962729/is-it-possible-to-disable-jsessionid-in-tomcat-servlet --&gt;\n    &lt;outbound-rule encodefirst=&quot;true&quot; match-type=&quot;regex&quot;&gt;\n        &lt;name&gt;Strip URL Session ID's&lt;/name&gt;\n        &lt;from&gt;^(.*?)(?:\\;jsessionid=[^\\?#]*)?(\\?[^#]*)?(#.*)?$&lt;/from&gt;\n        &lt;to&gt;$1$2$3&lt;/to&gt;\n    &lt;/outbound-rule&gt;\n&lt;/urlrewrite&gt;\n</code></pre>\n<p>Now from browser I am requesting <code>http://localhost:8080/Test/Profile/123</code></p>\n<p>This in not redirection to <code>http://localhost:8080/Test/Profile?id=123</code></p>\n<p>How to make this working?</p>\n<p><strong>EDIT:</strong></p>\n<p>At debug  I am getting following result at Tomcat log</p>\n<pre><code>24-Jan-2018 17:06:45.588 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: starting conf reload check\n24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: conf is not modified\n24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\n24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: checking for status path on /test/Profile/2345\n24-Jan-2018 17:06:45.589 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing request for /Profile/2345\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Rule 0 run called with /Profile/2345\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: matched &quot;from&quot;\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.substitution.MatcherReplacer DEBUG: found 1\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.substitution.MatcherReplacer DEBUG: replaced sb is /Profile?id=2345\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleExecutionOutput DEBUG: needs to be forwarded to /Profile?id=2345\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: rule is last\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: starting conf reload check\n24-Jan-2018 17:06:45.590 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: conf is not modified\n24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\n24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriteFilter DEBUG: checking for status path on /test/Profile\n24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.UrlRewriter DEBUG: processing request for /Profile\n24-Jan-2018 17:06:45.591 INFO [http-nio-8084-exec-163] org.apache.catalina.core.ApplicationContext.log org.tuckey.web.filters.urlrewrite.RuleBase DEBUG: Rule 0 run called with /Profile\n</code></pre>\n<p>Tomcat console is showing:</p>\n<pre><code> MonitorFilter::WARNING: the monitor filter must be the first filter in the chain.\n</code></pre>\n"},{"tags":["java","spring","hibernate","database-partitioning"],"answers":[{"comments":[{"owner":{"account_id":3969265,"reputation":191,"user_id":3274247,"accept_rate":50,"display_name":"InconsistentHashing"},"score":0,"creation_date":1679254538,"post_id":75784112,"comment_id":133684339,"body_markdown":"May thanks for your input. The &#39;request router&#39; is still a service ( seems not out of the box). And if I am not using DynamoDB, I still need to build a service to determine the correct datasource.  \n\n&quot;Hibernate Multi-Tenancy isn&#39;t used for sharding handling.&quot; - You are right. I was thinking whether it is possible to use for sharding. Ultimately I need to determine the datasource from the &#39;tenantId&#39; in request header. And this logic can be tweaked to suit my need. \n\n&quot;data from one tenant cannot be accessed by another.&quot; - Right, but surely this can be handled within implementation.","body":"May thanks for your input. The &#39;request router&#39; is still a service ( seems not out of the box). And if I am not using DynamoDB, I still need to build a service to determine the correct datasource.    &quot;Hibernate Multi-Tenancy isn&#39;t used for sharding handling.&quot; - You are right. I was thinking whether it is possible to use for sharding. Ultimately I need to determine the datasource from the &#39;tenantId&#39; in request header. And this logic can be tweaked to suit my need.   &quot;data from one tenant cannot be accessed by another.&quot; - Right, but surely this can be handled within implementation."},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":1,"creation_date":1679255564,"post_id":75784112,"comment_id":133684509,"body_markdown":"&quot;I still need to build a service to determine the correct datasource&quot;. Unless you are making diy database you don&#39;t need to it. Here is another example, mongoDB has it&#39;s own router too. https://www.mongodb.com/docs/v3.0/core/sharded-cluster-query-router/#routing-process. Trying to create some kind of load balancer by yourself is good training and academic exercise, but you&#39;ve better stick to existing solutions","body":"&quot;I still need to build a service to determine the correct datasource&quot;. Unless you are making diy database you don&#39;t need to it. Here is another example, mongoDB has it&#39;s own router too. <a href=\"https://www.mongodb.com/docs/v3.0/core/sharded-cluster-query-router/#routing-process\" rel=\"nofollow noreferrer\">mongodb.com/docs/v3.0/core/sharded-cluster-query-router/&hellip;</a>. Trying to create some kind of load balancer by yourself is good training and academic exercise, but you&#39;ve better stick to existing solutions"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":1,"creation_date":1679255859,"post_id":75784112,"comment_id":133684554,"body_markdown":"Another example for sharded Postgres (Greenplum). There is a master host that is &quot;entry to the Greenplum Database system, accepting client connections and SQL queries, and distributing work to the segment instances&quot;. You don&#39;t need to manually decide which replica/shard should be used: https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-admin_guide-intro-arch_overview.html#arch_master","body":"Another example for sharded Postgres (Greenplum). There is a master host that is &quot;entry to the Greenplum Database system, accepting client connections and SQL queries, and distributing work to the segment instances&quot;. You don&#39;t need to manually decide which replica/shard should be used: <a href=\"https://docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-database/GUID-admin_guide-intro-arch_overview.html#arch_master\" rel=\"nofollow noreferrer\">docs.vmware.com/en/VMware-Tanzu-Greenplum/6/greenplum-databa&zwnj;&#8203;se/&hellip;</a>"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679250289,"creation_date":1679250289,"answer_id":75784112,"question_id":75783750,"body_markdown":"&gt; operation of sharding itself should be performed from database admininstration and should not be a responsibility of application developer. - Is this correct\r\n\r\nThis is correct. Moreover, the database client libraries and drivers handle the sharding logic behind the scenes, so the client does not need to know about it. As a developer you don&#39;t know if database is sharded or not (you will probably notice increased query time, but you don&#39;t handle sharding manually)\r\n\r\n&gt; If from a Java application I am trying to connect to a shadred database, then ultimately it comes down to the selection of different datasource ( per shard), and then performing CRUD operation against that.\r\n\r\nAbsolutely not, why do you want that? Let underlying balance loader decide what shard should be used for querying the data. For example, check this article: [Everything you need to know about DynamoDB Partitions][1]. DynamoDB has request router that handles sharding. \r\n\r\n\r\nHibernate Multi-Tenancy isn&#39;t used for sharding handling. Hibernate Multi-Tenancy is a feature that allows developers to use a single database instance to serve multiple tenants (clients or customers) with isolated data. In a multi-tenant environment, each tenant has their own separate data store, which means that data from one tenant cannot be accessed by another. Contrary to it all sharded data is meant to be accessible.\r\n\r\nAbstractRoutingDataSource serves the same purpose as Hibernate Multi-Tenancy feature.\r\n \r\n\r\n\r\n  [1]: https://www.alexdebrie.com/posts/dynamodb-partitions/","title":"Connecting to a sharded database from Java Application","body":"<blockquote>\n<p>operation of sharding itself should be performed from database admininstration and should not be a responsibility of application developer. - Is this correct</p>\n</blockquote>\n<p>This is correct. Moreover, the database client libraries and drivers handle the sharding logic behind the scenes, so the client does not need to know about it. As a developer you don't know if database is sharded or not (you will probably notice increased query time, but you don't handle sharding manually)</p>\n<blockquote>\n<p>If from a Java application I am trying to connect to a shadred database, then ultimately it comes down to the selection of different datasource ( per shard), and then performing CRUD operation against that.</p>\n</blockquote>\n<p>Absolutely not, why do you want that? Let underlying balance loader decide what shard should be used for querying the data. For example, check this article: <a href=\"https://www.alexdebrie.com/posts/dynamodb-partitions/\" rel=\"nofollow noreferrer\">Everything you need to know about DynamoDB Partitions</a>. DynamoDB has request router that handles sharding.</p>\n<p>Hibernate Multi-Tenancy isn't used for sharding handling. Hibernate Multi-Tenancy is a feature that allows developers to use a single database instance to serve multiple tenants (clients or customers) with isolated data. In a multi-tenant environment, each tenant has their own separate data store, which means that data from one tenant cannot be accessed by another. Contrary to it all sharded data is meant to be accessible.</p>\n<p>AbstractRoutingDataSource serves the same purpose as Hibernate Multi-Tenancy feature.</p>\n"}],"owner":{"account_id":3969265,"reputation":191,"user_id":3274247,"accept_rate":50,"display_name":"InconsistentHashing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679250289,"creation_date":1679246552,"question_id":75783750,"body_markdown":"I have some fundamental doubts regarding `database sharding` and connecting to a sharded database from a Java application. \r\n\r\nAfter reading plenty of articles, currently I am left with an impression that the operation of sharding itself should be performed from database admininstration and should not be a responsibility of application developer. - Is this correct ?\r\n\r\nMy second question is bit parted. \r\n\r\nIf from a Java application I am trying to connect to a shadred database, then ultimately it comes down to the selection of different datasource ( per shard), and then performing CRUD operation against that. \r\n\r\nRegarding this, I have found we can use Hibernate `Multi-tenancy` feature ( the `Separate database` way - considering sharding resulted into creating multiple databases).\r\n\r\nThe second way would be use Spring `AbstractRoutingDatasource` feature to dynamically determining the actual DataSource based on the current context. \r\n\r\nIs the above assumption correct ? \r\nIs there any other standard way to perform the task ? \r\n\r\nKindly consider this is a conceptual question, as I still have many doubts. Any leads is appreciated.","title":"Connecting to a sharded database from Java Application","body":"<p>I have some fundamental doubts regarding <code>database sharding</code> and connecting to a sharded database from a Java application.</p>\n<p>After reading plenty of articles, currently I am left with an impression that the operation of sharding itself should be performed from database admininstration and should not be a responsibility of application developer. - Is this correct ?</p>\n<p>My second question is bit parted.</p>\n<p>If from a Java application I am trying to connect to a shadred database, then ultimately it comes down to the selection of different datasource ( per shard), and then performing CRUD operation against that.</p>\n<p>Regarding this, I have found we can use Hibernate <code>Multi-tenancy</code> feature ( the <code>Separate database</code> way - considering sharding resulted into creating multiple databases).</p>\n<p>The second way would be use Spring <code>AbstractRoutingDatasource</code> feature to dynamically determining the actual DataSource based on the current context.</p>\n<p>Is the above assumption correct ?\nIs there any other standard way to perform the task ?</p>\n<p>Kindly consider this is a conceptual question, as I still have many doubts. Any leads is appreciated.</p>\n"},{"tags":["java","html","parsing","jsoup"],"comments":[{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1679251426,"post_id":75784075,"comment_id":133683811,"body_markdown":"What do you expect to see when printing `NBA.getClass()` in a cycle?","body":"What do you expect to see when printing <code>NBA.getClass()</code> in a cycle?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":1,"creation_date":1679251479,"post_id":75784075,"comment_id":133683818,"body_markdown":"Place a breakpoint, check that variables values are what you expect of them.","body":"Place a breakpoint, check that variables values are what you expect of them."},{"owner":{"account_id":19242301,"reputation":49,"user_id":14062055,"display_name":"ReginaldRey"},"score":0,"creation_date":1679252278,"post_id":75784075,"comment_id":133683937,"body_markdown":"@iLya Cyclone I expect it to print out each Team created from information gathered from the parsed file. When I place a breakpoint it just skips over those values entirely and doesn&#39;t seem to pull anything from the document even though it shows as being imported successfully.","body":"@iLya Cyclone I expect it to print out each Team created from information gathered from the parsed file. When I place a breakpoint it just skips over those values entirely and doesn&#39;t seem to pull anything from the document even though it shows as being imported successfully."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1679256028,"post_id":75784075,"comment_id":133684583,"body_markdown":"`getClass` will just output class which obviously is the same in each cycle iteration. you might be mixing it with `toString` method. Still it would output some text like &quot;class Team&quot; and if your program finishes without error and there is no output, I guess your `team.size()` is actually 0. But you need to find it out using breakpoints and debug (or, worse, System.out).","body":"<code>getClass</code> will just output class which obviously is the same in each cycle iteration. you might be mixing it with <code>toString</code> method. Still it would output some text like &quot;class Team&quot; and if your program finishes without error and there is no output, I guess your <code>team.size()</code> is actually 0. But you need to find it out using breakpoints and debug (or, worse, System.out)."},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1679256165,"post_id":75784075,"comment_id":133684600,"body_markdown":"Also have you placed your Comparison class in any package? &quot;The use of the default package is discouraged&quot;","body":"Also have you placed your Comparison class in any package? &quot;The use of the default package is discouraged&quot;"}],"owner":{"account_id":19242301,"reputation":49,"user_id":14062055,"display_name":"ReginaldRey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679249918,"creation_date":1679249918,"question_id":75784075,"body_markdown":"I&#39;m trying to parse some team states for a class project from a local html document. It seems like I&#39;m able to find the document just find and highlight the elements, but when I go to transfer that data to make a new Team object the code just skips out and doesn&#39;t create anything. Code is below, any help would be much appreciated!\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import org.jsoup.Jsoup;\r\n    import org.jsoup.nodes.Document;\r\n    import org.jsoup.select.Elements;\r\n    import org.jsoup.nodes.Element;\r\n    \r\n    \r\n    public class Comparison {\r\n    \t\r\n    \tpublic void loadTeams() throws IOException {\r\n    \t\r\n    \t\tArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\r\n    \t\tFile localFile = new File(&quot;eclipse-workspace\\\\Capstone Project II\\\\src\\\\localTeamData\\\\Team_stats.html&quot;);\r\n    \t\tDocument nba = Jsoup.parse(&quot;localFile&quot;);\t\t\t\r\n    \t\tElements team = nba.getElementsByAttributeValue(&quot;data-stat&quot;, &quot;Team_Name&quot;);\r\n    \t\tElements shooting = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Effective Field Goal&quot;);\r\n    \t\tElements turnovers = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Turnover&quot;);\r\n    \t\tElements rebounds = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Rebounding&quot;);\r\n    \t\tElements freethrows = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Free Throw&quot;);\r\n    \r\n    \t\tfor (int i = 0; i &lt; team.size(); i++) {\r\n    \t\t\tString name = team.get(i).text();\r\n    \t\t\tdouble shootingScore = Double.parseDouble(shooting.get(i).text());\r\n    \t\t\tdouble turnoversScore = Double.parseDouble(turnovers.get(i).text());\t\r\n    \t\t\tdouble reboundsScore = Double.parseDouble(rebounds.get(i).text());\t\r\n    \t\t\tdouble freethrowsScore = Double.parseDouble(freethrows.get(i).text());\t\r\n    \t\t\tNBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\r\n    \t\t}\r\n    //for testing//\r\n    for(int i=0; i&lt;NBA.size(); i++) {\r\n    \t\tSystem.out.print(NBA.getClass());\r\n    }\r\n    \t}\r\n    }","title":"Unable to parse from Jsoup (local) document to array","body":"<p>I'm trying to parse some team states for a class project from a local html document. It seems like I'm able to find the document just find and highlight the elements, but when I go to transfer that data to make a new Team object the code just skips out and doesn't create anything. Code is below, any help would be much appreciated!</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport org.jsoup.Jsoup;\nimport org.jsoup.nodes.Document;\nimport org.jsoup.select.Elements;\nimport org.jsoup.nodes.Element;\n\n\npublic class Comparison {\n    \n    public void loadTeams() throws IOException {\n    \n        ArrayList&lt;Team&gt; NBA = new ArrayList&lt;Team&gt;(30);\n        File localFile = new File(&quot;eclipse-workspace\\\\Capstone Project II\\\\src\\\\localTeamData\\\\Team_stats.html&quot;);\n        Document nba = Jsoup.parse(&quot;localFile&quot;);            \n        Elements team = nba.getElementsByAttributeValue(&quot;data-stat&quot;, &quot;Team_Name&quot;);\n        Elements shooting = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Effective Field Goal&quot;);\n        Elements turnovers = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Turnover&quot;);\n        Elements rebounds = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Rebounding&quot;);\n        Elements freethrows = nba.getElementsByAttributeValue(&quot;data-stat&quot; , &quot;Free Throw&quot;);\n\n        for (int i = 0; i &lt; team.size(); i++) {\n            String name = team.get(i).text();\n            double shootingScore = Double.parseDouble(shooting.get(i).text());\n            double turnoversScore = Double.parseDouble(turnovers.get(i).text());    \n            double reboundsScore = Double.parseDouble(rebounds.get(i).text());  \n            double freethrowsScore = Double.parseDouble(freethrows.get(i).text());  \n            NBA.add(new Team(name, shootingScore, turnoversScore, reboundsScore, freethrowsScore));\n        }\n//for testing//\nfor(int i=0; i&lt;NBA.size(); i++) {\n        System.out.print(NBA.getClass());\n}\n    }\n}\n</code></pre>\n"},{"tags":["java","printing","dot-matrix"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1679255131,"post_id":75784012,"comment_id":133684432,"body_markdown":"You could try to configure a PPD file yourself for that printer or configure it as a generic text or postscript printer and then use it in Java.\n\nBut modern OSes require some form of driver to communicate. In the old days you could just print some non-visible ASCII characters and get your printer going but that&#39;s no longer the case unfortunately (or fortunately, since that wouldn&#39;t be great if a hacker gets into your machine)","body":"You could try to configure a PPD file yourself for that printer or configure it as a generic text or postscript printer and then use it in Java.  But modern OSes require some form of driver to communicate. In the old days you could just print some non-visible ASCII characters and get your printer going but that&#39;s no longer the case unfortunately (or fortunately, since that wouldn&#39;t be great if a hacker gets into your machine)"},{"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"score":0,"creation_date":1679475642,"post_id":75784012,"comment_id":133727071,"body_markdown":"@AminM How would I configure PPD file for the printer?","body":"@AminM How would I configure PPD file for the printer?"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1679478501,"post_id":75784012,"comment_id":133727769,"body_markdown":"It&#39;s a unix file format you&#39;d have to look that up in the linux documentation. I&#39;m just pointing you in a possible direction.\nYou could also try with a similar printer if your particular printer is not available.","body":"It&#39;s a unix file format you&#39;d have to look that up in the linux documentation. I&#39;m just pointing you in a possible direction. You could also try with a similar printer if your particular printer is not available."}],"owner":{"account_id":1205529,"reputation":3100,"user_id":1175279,"accept_rate":88,"display_name":"Dilip Raj Baral"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679249831,"creation_date":1679249348,"question_id":75784012,"body_markdown":"I need to print a series of formatted raw text using a Dot Matrix printer (I&#39;m exploring printer in the lines of [Epson LQ-590][1] from a Java application being run on a Linux server (container actually).\r\n\r\nSince, I just need to print a raw text, I&#39;m hoping to do this as directly (from the Java app) and minimally as possible, without using any driver of sorts. Epson website seems to provide only Windows driver only.\r\n\r\nSay, I hook the printer to the network (using ethernet), assign it a static IP, can I (and if yes, howO feed the printer the text I want to be printed using the IP address and a port. Also, is the port something Printer usually assigns itself, do most of them listen to port 9100 or is it something that has to be configured?\r\n\r\nI saw a few examples on SO where printer is configured as a OutputStream but it wasn&#39;t clear on the physical connectivity of the printer part.\r\n\r\n\r\n  [1]: https://www.epson.co.in/24-Pin-Dot-Matrix-Printers/Epson-LQ-590-Dot-Matrix-Printer/p/C11C558062","title":"Java - Print a raw text in dot matrix printer over the network (without a driver)","body":"<p>I need to print a series of formatted raw text using a Dot Matrix printer (I'm exploring printer in the lines of <a href=\"https://www.epson.co.in/24-Pin-Dot-Matrix-Printers/Epson-LQ-590-Dot-Matrix-Printer/p/C11C558062\" rel=\"nofollow noreferrer\">Epson LQ-590</a> from a Java application being run on a Linux server (container actually).</p>\n<p>Since, I just need to print a raw text, I'm hoping to do this as directly (from the Java app) and minimally as possible, without using any driver of sorts. Epson website seems to provide only Windows driver only.</p>\n<p>Say, I hook the printer to the network (using ethernet), assign it a static IP, can I (and if yes, howO feed the printer the text I want to be printed using the IP address and a port. Also, is the port something Printer usually assigns itself, do most of them listen to port 9100 or is it something that has to be configured?</p>\n<p>I saw a few examples on SO where printer is configured as a OutputStream but it wasn't clear on the physical connectivity of the printer part.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679248221,"creation_date":1679248221,"answer_id":75783890,"question_id":75783853,"body_markdown":"Your copy constructor\r\n\r\n    Box(Box obj)\r\n    {\r\n        obj.length = length;\r\n        obj.width = width;\r\n        obj.height = height;\r\n    }\r\n\r\ndoes the wrong thing. It will change the `length`, `width` and `height` fields of the given object `obj` (which comes into the constructor) with the values of `this.length`, `this.width` and `this.height`, which are all `0`. You want to write it like this:\r\n\r\n    Box(Box obj)\r\n    {\r\n        this.length = obj.length;\r\n        this.width  = obj.width;\r\n        this.height = obj.height;\r\n    }","title":"Constructor arguments always end up being 0","body":"<p>Your copy constructor</p>\n<pre><code>Box(Box obj)\n{\n    obj.length = length;\n    obj.width = width;\n    obj.height = height;\n}\n</code></pre>\n<p>does the wrong thing. It will change the <code>length</code>, <code>width</code> and <code>height</code> fields of the given object <code>obj</code> (which comes into the constructor) with the values of <code>this.length</code>, <code>this.width</code> and <code>this.height</code>, which are all <code>0</code>. You want to write it like this:</p>\n<pre><code>Box(Box obj)\n{\n    this.length = obj.length;\n    this.width  = obj.width;\n    this.height = obj.height;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360071,"reputation":109,"user_id":2066940,"display_name":"Lorne K"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679249348,"creation_date":1679249348,"answer_id":75784011,"question_id":75783853,"body_markdown":"If you are starting out, get used to using the debugger.  If you put a breakpoint on the first line and then step through the code (often F7/F8) you will find that your constructor assignments are the opposite of what you intended.  The following should work\r\n\r\n```\r\n        Box(Box obj)\r\n        {\r\n            this.length = obj.length;\r\n            this.width = obj.width;\r\n            this.height = obj.height;\r\n        }","title":"Constructor arguments always end up being 0","body":"<p>If you are starting out, get used to using the debugger.  If you put a breakpoint on the first line and then step through the code (often F7/F8) you will find that your constructor assignments are the opposite of what you intended.  The following should work</p>\n<pre><code>        Box(Box obj)\n        {\n            this.length = obj.length;\n            this.width = obj.width;\n            this.height = obj.height;\n        }\n</code></pre>\n"}],"owner":{"account_id":27946459,"reputation":11,"user_id":21341340,"display_name":"C J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679249348,"creation_date":1679247738,"question_id":75783853,"body_markdown":"I am trying an example program regarding inheritance (i am a beginner, i apologise for silly mistakes in my code). What I have observed is that the arguments I pass (in the constructor) when creating the objects, when they are fed in the variables, the variables somehow end up at a value of 0. the following is my code:\r\n\r\n```\r\nclass Box\r\n{\r\n    double length, width, height, vol;\r\n\r\n    Box(double l, double b, double h)\r\n    {\r\n        length = l; \r\n        width = b; \r\n        height = h;\r\n    }\r\n\r\n    Box(Box obj)\r\n    {\r\n        obj.length = length;\r\n        obj.width = width;\r\n        obj.height = height;\r\n    }\r\n\r\n    Box(double l)\r\n    {\r\n        length = width = height = l;\r\n    }\r\n\r\n    Box()\r\n    {\r\n        length = width = height = 0;\r\n    }\r\n\r\n    double volume()\r\n    {\r\n        vol = length * width * height;\r\n        return vol;\r\n    }\r\n}\r\n\r\nclass WeightBox extends Box\r\n{\r\n    double weight;\r\n    WeightBox(double l, double b, double h, double w)\r\n    {\r\n        super(l, b, h);\r\n        weight = w;\r\n    }\r\n\r\n    WeightBox(double l, double w)\r\n    {\r\n        super(l);\r\n        weight = w;\r\n    }\r\n\r\n    WeightBox(WeightBox obj)\r\n    {\r\n        super(obj);\r\n        obj.weight = weight;\r\n    }\r\n\r\n    WeightBox()\r\n    {\r\n        super();\r\n        weight = 0;\r\n    }\r\n}\r\npublic class boxInherit \r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        WeightBox box1 = new WeightBox(10, 20, 30, 40);\r\n        WeightBox box2 = new WeightBox(10, 20);\r\n        WeightBox box3 = new WeightBox(box1);\r\n        int i = 1;\r\n        WeightBox[] boxes = {box1, box2, box3};\r\n        for(WeightBox ob : boxes)\r\n        {\r\n            System.out.println(&quot;Box no. &quot; + i++ + &quot; length = &quot; + ob.length + &quot; width = &quot;+ ob.width + &quot; height =&quot; + ob.height +&quot; volume = &quot; + ob.volume() + &quot; Weight = &quot; + ob.weight );\r\n            System.out.println(&quot;\\n&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHere, when the box1 object is initialized, it takes 4 arguments, which end up in the length, width, height and weight variables respectively. However when box1&#39;s variables are printed, it turns out they have a value of zero.\r\n\r\n\r\nThe box1 should call the respective overload of WeightBox, and then the first 3 values should pass onto the box class by super() function and the weight variable should be given the value of the 4th argument, but what ive noticed is that the length, width, height, volume and weight of box1 is 0, this also makes so that the values of box3, which is a clone of box1 also ends up with all values as 0, although they should be 10, 20, 30 and 40 respectively.  ","title":"Constructor arguments always end up being 0","body":"<p>I am trying an example program regarding inheritance (i am a beginner, i apologise for silly mistakes in my code). What I have observed is that the arguments I pass (in the constructor) when creating the objects, when they are fed in the variables, the variables somehow end up at a value of 0. the following is my code:</p>\n<pre><code>class Box\n{\n    double length, width, height, vol;\n\n    Box(double l, double b, double h)\n    {\n        length = l; \n        width = b; \n        height = h;\n    }\n\n    Box(Box obj)\n    {\n        obj.length = length;\n        obj.width = width;\n        obj.height = height;\n    }\n\n    Box(double l)\n    {\n        length = width = height = l;\n    }\n\n    Box()\n    {\n        length = width = height = 0;\n    }\n\n    double volume()\n    {\n        vol = length * width * height;\n        return vol;\n    }\n}\n\nclass WeightBox extends Box\n{\n    double weight;\n    WeightBox(double l, double b, double h, double w)\n    {\n        super(l, b, h);\n        weight = w;\n    }\n\n    WeightBox(double l, double w)\n    {\n        super(l);\n        weight = w;\n    }\n\n    WeightBox(WeightBox obj)\n    {\n        super(obj);\n        obj.weight = weight;\n    }\n\n    WeightBox()\n    {\n        super();\n        weight = 0;\n    }\n}\npublic class boxInherit \n{\n    public static void main(String[] args)\n    {\n        WeightBox box1 = new WeightBox(10, 20, 30, 40);\n        WeightBox box2 = new WeightBox(10, 20);\n        WeightBox box3 = new WeightBox(box1);\n        int i = 1;\n        WeightBox[] boxes = {box1, box2, box3};\n        for(WeightBox ob : boxes)\n        {\n            System.out.println(&quot;Box no. &quot; + i++ + &quot; length = &quot; + ob.length + &quot; width = &quot;+ ob.width + &quot; height =&quot; + ob.height +&quot; volume = &quot; + ob.volume() + &quot; Weight = &quot; + ob.weight );\n            System.out.println(&quot;\\n&quot;);\n        }\n    }\n}\n\n</code></pre>\n<p>Here, when the box1 object is initialized, it takes 4 arguments, which end up in the length, width, height and weight variables respectively. However when box1's variables are printed, it turns out they have a value of zero.</p>\n<p>The box1 should call the respective overload of WeightBox, and then the first 3 values should pass onto the box class by super() function and the weight variable should be given the value of the 4th argument, but what ive noticed is that the length, width, height, volume and weight of box1 is 0, this also makes so that the values of box3, which is a clone of box1 also ends up with all values as 0, although they should be 10, 20, 30 and 40 respectively.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1679195174,"post_id":75779852,"comment_id":133677079,"body_markdown":"See https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4","body":"See <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\" title=\"how do i print my java object without getting sometype2f92e0f4\">stackoverflow.com/questions/29140402/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679229443,"creation_date":1679229443,"answer_id":75782027,"question_id":75779852,"body_markdown":"Your `CSVPrinter` is writing to the stdout of the JVM process. When all data is written, you add new line to stdout:\r\n\r\n```\r\nSystem.out.println(&quot;String contains: &quot; + scoreCSV);\r\n```\r\n\r\nAs far as I managed to understand your code, you are trying to get the result from the CSVPrinter by calling its `toString` method. That method has nothing to do with CSV, it is a method defined in `java.lang.Object`. CSVPrinter does not override this method. So of course you get the default `Object#toString()` implementation added to the output. \r\n\r\nAgain, I just guessing, maybe writing the result to the JVM stdout is not what you want, but if it is, then just do not print the result of   `CSVPrinter#toString()` method.","title":"Stop Apache CSV from adding &quot;org.apache.commons.csv.CSVPrinter&quot; to the output of CSVPrinter","body":"<p>Your <code>CSVPrinter</code> is writing to the stdout of the JVM process. When all data is written, you add new line to stdout:</p>\n<pre><code>System.out.println(&quot;String contains: &quot; + scoreCSV);\n</code></pre>\n<p>As far as I managed to understand your code, you are trying to get the result from the CSVPrinter by calling its <code>toString</code> method. That method has nothing to do with CSV, it is a method defined in <code>java.lang.Object</code>. CSVPrinter does not override this method. So of course you get the default <code>Object#toString()</code> implementation added to the output.</p>\n<p>Again, I just guessing, maybe writing the result to the JVM stdout is not what you want, but if it is, then just do not print the result of   <code>CSVPrinter#toString()</code> method.</p>\n"}],"owner":{"display_name":"user20962970"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75782027,"answer_count":1,"score":0,"last_activity_date":1679248966,"creation_date":1679194832,"question_id":75779852,"body_markdown":"I&#39;m trying to change an sql query result into csv format then send that to an API for processing. \r\nWhen I use CSVPrinter (org.apache.commons.csv.CSVPrinter) it always adds: `&quot;org.apache.commons.csv.CSVPrinter@5ec70441&quot;` to the output.\r\n\r\nI would like to know if it&#39;s because of the way I&#39;m using it, or is it a standard thing that I need to parse out first? \r\n\r\n\r\n\r\n\r\nThis is the code, I tried outputting the CSV a couple ways but get the same thing every time. \r\n\r\n\r\n```\r\npublic void ScoreTable(String tableName) throws SQLException, IOException {\r\n    DataB db = new DataB();\r\n    ResultSet rs;\r\n    rs = db.executeQuery(&quot;SELECT NtNo, SchedDate, SchedTime, Duration, WC, Sequence, CBy FROM &quot; + tableName + &quot; &quot;);\r\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(System.out));\r\n    CSVPrinter csvPrinter;\r\n    csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT.withHeader(rs));\r\n    csvPrinter.printRecords(rs);\r\n    String scoreCSV = csvPrinter.toString();\r\n    System.out.println(&quot;String contains: &quot; + scoreCSV);\r\n    csvPrinter.close();\r\n    populateScore pa = new populateScore();\r\n    String theScore = pa.getCsvScore(&quot;21&quot;, scoreCSV);\r\n    System.out.println(&quot;API outputs : &quot; + theScore);\r\n}\r\n```\r\n","title":"Stop Apache CSV from adding &quot;org.apache.commons.csv.CSVPrinter&quot; to the output of CSVPrinter","body":"<p>I'm trying to change an sql query result into csv format then send that to an API for processing.\nWhen I use CSVPrinter (org.apache.commons.csv.CSVPrinter) it always adds: <code>&quot;org.apache.commons.csv.CSVPrinter@5ec70441&quot;</code> to the output.</p>\n<p>I would like to know if it's because of the way I'm using it, or is it a standard thing that I need to parse out first?</p>\n<p>This is the code, I tried outputting the CSV a couple ways but get the same thing every time.</p>\n<pre><code>public void ScoreTable(String tableName) throws SQLException, IOException {\n    DataB db = new DataB();\n    ResultSet rs;\n    rs = db.executeQuery(&quot;SELECT NtNo, SchedDate, SchedTime, Duration, WC, Sequence, CBy FROM &quot; + tableName + &quot; &quot;);\n    BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(System.out));\n    CSVPrinter csvPrinter;\n    csvPrinter = new CSVPrinter(writer, CSVFormat.DEFAULT.withHeader(rs));\n    csvPrinter.printRecords(rs);\n    String scoreCSV = csvPrinter.toString();\n    System.out.println(&quot;String contains: &quot; + scoreCSV);\n    csvPrinter.close();\n    populateScore pa = new populateScore();\n    String theScore = pa.getCsvScore(&quot;21&quot;, scoreCSV);\n    System.out.println(&quot;API outputs : &quot; + theScore);\n}\n</code></pre>\n"},{"tags":["java","javafx","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1517844044,"creation_date":1517844044,"answer_id":48625727,"question_id":48624077,"body_markdown":"`ChoiceBox` has an [`onAction` property](https://docs.oracle.com/javase/9/docs/api/javafx/scene/control/ChoiceBox.html#onActionProperty), so in FXML you can simply assign this controller method to this property:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;ChoiceBox fx:id=&quot;categoryDrop&quot; onAction=&quot;#folderByCategory&quot; /&gt;\r\n\r\nUnfortunately, the current version of Scene Builder does not support this property, so you cannot set this directly from Scene Builder. There is a current issue [filed for this](https://bitbucket.org/gluon-oss/scenebuilder/issues/80/onaction-support-for-choicebox).\r\n\r\nSome workarounds are:\r\n\r\n1. Edit the FXML manually to add the `onAction` attribute, as above.\r\n2. Use a `ComboBox` instead of a `ChoiceBox`. The functionality is similar (though not identical) and a `ComboBox` will likely do what you need. Scene Builder does support the `onAction` property of a `ComboBox`.\r\n3. Register the handler in the controller&#39;s `initialize()` method instead. All you need is\r\n\r\n        @FXML\r\n        private ChoiceBox&lt;...&gt; categoryDrop ;\r\n    \r\n        public void initialize() {\r\n            categoryDrop.setOnAction(this::folderByCategory);\r\n            // existing code ...\r\n        }\r\n    \r\n        @FXML\r\n        private void folderByCategory(ActionEvent event) {\r\n            // existing code...\r\n        }","title":"javafx choicebox to trigger a method onchange","body":"<p><code>ChoiceBox</code> has an <a href=\"https://docs.oracle.com/javase/9/docs/api/javafx/scene/control/ChoiceBox.html#onActionProperty\" rel=\"noreferrer\"><code>onAction</code> property</a>, so in FXML you can simply assign this controller method to this property:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ChoiceBox fx:id=\"categoryDrop\" onAction=\"#folderByCategory\" /&gt;\n</code></pre>\n\n<p>Unfortunately, the current version of Scene Builder does not support this property, so you cannot set this directly from Scene Builder. There is a current issue <a href=\"https://bitbucket.org/gluon-oss/scenebuilder/issues/80/onaction-support-for-choicebox\" rel=\"noreferrer\">filed for this</a>.</p>\n\n<p>Some workarounds are:</p>\n\n<ol>\n<li>Edit the FXML manually to add the <code>onAction</code> attribute, as above.</li>\n<li>Use a <code>ComboBox</code> instead of a <code>ChoiceBox</code>. The functionality is similar (though not identical) and a <code>ComboBox</code> will likely do what you need. Scene Builder does support the <code>onAction</code> property of a <code>ComboBox</code>.</li>\n<li><p>Register the handler in the controller's <code>initialize()</code> method instead. All you need is</p>\n\n<pre><code>@FXML\nprivate ChoiceBox&lt;...&gt; categoryDrop ;\n\npublic void initialize() {\n    categoryDrop.setOnAction(this::folderByCategory);\n    // existing code ...\n}\n\n@FXML\nprivate void folderByCategory(ActionEvent event) {\n    // existing code...\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":10317817,"reputation":891,"user_id":7611620,"accept_rate":100,"display_name":"novafluff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4882,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":48625727,"answer_count":1,"score":0,"last_activity_date":1679248822,"creation_date":1517838588,"question_id":48624077,"body_markdown":"I am very rusty on my java and even more on javafx. so I got a choicebox &quot;categoryDrop&quot; that when the value of the choicebox change I want to trigger this event that then takes the value of the choicebox and compare to an object &quot;Folder&quot; categorylist which is an attribute it has. \r\n\r\nhere is my code\r\n\r\n      @FXML \r\n    private void folderByCategory(ActionEvent event) {\r\n        System.out.println(&quot;h&#228;r1&quot;);\r\n          TreeItem&lt;DocumentObject&lt;?&gt;&gt; treeRoot = new TreeItem&lt;&gt;(new Folder());\r\n        \r\n        for (Folder folder : logic.getFolderList()) {\r\n            \r\n            if(f.getCategoryList().contains(categoryDrop.valueProperty())){\r\n                System.out.println(&quot;h&#228;r2&quot;);\r\n              TreeItem&lt;DocumentObject&lt;?&gt;&gt; newFolders = new TreeItem&lt;&gt;(folder);\r\n              \r\n              for(FileReference file : folder.getFileList()){\r\n                System.out.println(file.getName());\r\n                TreeItem&lt;DocumentObject&lt;?&gt;&gt; fileNode = new TreeItem&lt;&gt;(file);\r\n                newFolders.getChildren().add(fileNode);\r\n            }\r\n              \r\n             treeRoot.getChildren().add(newFolders);\r\n              treeRoot.setExpanded(true);\r\n           }\r\n            treeNav.setRoot(treeRoot);\r\n        }\r\n    }\r\n\r\nBut then when I looked in scenebuilder I didn&#39;t see any good way to implement the method so it triggers when it changes. Anyone know a better way to do this? Should I use a listener instead maybe?","title":"javafx choicebox to trigger a method onchange","body":"<p>I am very rusty on my java and even more on javafx. so I got a choicebox &quot;categoryDrop&quot; that when the value of the choicebox change I want to trigger this event that then takes the value of the choicebox and compare to an object &quot;Folder&quot; categorylist which is an attribute it has.</p>\n<p>here is my code</p>\n<pre><code>  @FXML \nprivate void folderByCategory(ActionEvent event) {\n    System.out.println(&quot;hr1&quot;);\n      TreeItem&lt;DocumentObject&lt;?&gt;&gt; treeRoot = new TreeItem&lt;&gt;(new Folder());\n    \n    for (Folder folder : logic.getFolderList()) {\n        \n        if(f.getCategoryList().contains(categoryDrop.valueProperty())){\n            System.out.println(&quot;hr2&quot;);\n          TreeItem&lt;DocumentObject&lt;?&gt;&gt; newFolders = new TreeItem&lt;&gt;(folder);\n          \n          for(FileReference file : folder.getFileList()){\n            System.out.println(file.getName());\n            TreeItem&lt;DocumentObject&lt;?&gt;&gt; fileNode = new TreeItem&lt;&gt;(file);\n            newFolders.getChildren().add(fileNode);\n        }\n          \n         treeRoot.getChildren().add(newFolders);\n          treeRoot.setExpanded(true);\n       }\n        treeNav.setRoot(treeRoot);\n    }\n}\n</code></pre>\n<p>But then when I looked in scenebuilder I didn't see any good way to implement the method so it triggers when it changes. Anyone know a better way to do this? Should I use a listener instead maybe?</p>\n"},{"tags":["java","pdf","merge","itext","concatenation"],"comments":[{"owner":{"account_id":27832146,"reputation":1,"user_id":21250364,"display_name":"Titi Titi"},"score":0,"creation_date":1677155928,"post_id":75536064,"comment_id":133284234,"body_markdown":"I tested this code with JDK1.8 and it works, but not in OPENJDK17 or in JDK12.","body":"I tested this code with JDK1.8 and it works, but not in OPENJDK17 or in JDK12."}],"answers":[{"tags":[],"owner":{"account_id":27832146,"reputation":1,"user_id":21250364,"display_name":"Titi Titi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677510433,"creation_date":1677510433,"answer_id":75582158,"question_id":75536064,"body_markdown":"I have contourned the problem, adding FileinputStream in the PDFReader. There are a problem with Itext5 since java9.\r\n\r\n\r\n    public static void pdfConcat2(String pathFile1, String pathFile2, String destinationPDF) {\r\n        //\r\n        Document document = null;\r\n        FileOutputStream outputStream = null;\r\n        PdfCopy copy = null;\r\n        PdfReader reader = null;\r\n\r\n        //\r\n        try {\r\n            document = new Document();\r\n            outputStream = new FileOutputStream(destinationPDF);\r\n            copy = new PdfSmartCopy(document, outputStream);\r\n            document.open();\r\n            reader = new PdfReader(new FileInputStream(pathFile1));\r\n            copy.addDocument(reader);\r\n            copy.freeReader(reader);\r\n            reader.close();\r\n            reader = new PdfReader(new FileInputStream(pathFile2));\r\n            copy.addDocument(reader);\r\n            copy.freeReader(reader);\r\n            reader.close();\r\n            outputStream.flush();\r\n            document.close();\r\n            outputStream.close();\r\n            copy.flush();\r\n            copy.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (DocumentException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Unable to delete PDF after merging using Itext 5","body":"<p>I have contourned the problem, adding FileinputStream in the PDFReader. There are a problem with Itext5 since java9.</p>\n<pre><code>public static void pdfConcat2(String pathFile1, String pathFile2, String destinationPDF) {\n    //\n    Document document = null;\n    FileOutputStream outputStream = null;\n    PdfCopy copy = null;\n    PdfReader reader = null;\n\n    //\n    try {\n        document = new Document();\n        outputStream = new FileOutputStream(destinationPDF);\n        copy = new PdfSmartCopy(document, outputStream);\n        document.open();\n        reader = new PdfReader(new FileInputStream(pathFile1));\n        copy.addDocument(reader);\n        copy.freeReader(reader);\n        reader.close();\n        reader = new PdfReader(new FileInputStream(pathFile2));\n        copy.addDocument(reader);\n        copy.freeReader(reader);\n        reader.close();\n        outputStream.flush();\n        document.close();\n        outputStream.close();\n        copy.flush();\n        copy.close();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (DocumentException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27832146,"reputation":1,"user_id":21250364,"display_name":"Titi Titi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75582158,"answer_count":1,"score":0,"last_activity_date":1679248819,"creation_date":1677086032,"question_id":75536064,"body_markdown":"I use the Itext5 library to merge PDFs. Once the merge is complete I want to be able to delete the PDFs, but I cannot delete them yet I have used reader.close().\r\nMy Code :\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\nSystem.out.println(&quot;CONCAT PDF&quot;);\r\n\t\tpdfConcat2(&quot;C:\\\\Users\\\\File1.pdf&quot;,\r\n\t\t\t\t&quot;C:\\\\Users\\\\File2.pdf&quot;,\r\n\t\t\t\t&quot;C:\\\\Users\\\\File_FINAL.pdf&quot;);\r\n\t\tSystem.out.println(&quot;-------------ACTION DELETE&quot;);\r\n\t\tif (FileTools.deleteFile(&quot;C:\\\\Users\\\\File1.pdf&quot;)) {\r\n\t\t\tSystem.out.println(&quot;DELETE PDF OK&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;DELETE PDF NOK&quot;);\r\n\t\t}\r\n\t\tif (FileTools.deleteFile(&quot;C:\\\\Users\\\\File2.pdf&quot;)) {\r\n\t\t\tSystem.out.println(&quot;DELETE PDF OK&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;DELETE PDF NOK&quot;);\r\n\t\t}\r\n}\r\n\r\npublic static void pdfConcat2(String pathFile1, String pathFile2, String destinationPDF) {\r\n\t\t//\r\n\t\tDocument document = null;\r\n\t\tFileOutputStream outputStream = null;\r\n\t\tPdfCopy copy = null;\r\n\t\tPdfReader reader = null;\r\n\r\n\t\t//\r\n\t\ttry {\r\n\t\t\tdocument = new Document();\r\n\t\t\toutputStream = new FileOutputStream(destinationPDF);\r\n\t\t\tcopy = new PdfSmartCopy(document, outputStream);\r\n\t\t\tdocument.open();\r\n//\t\t\tfor (int i = 0; i &lt; mergeFile.size(); i++) {\r\n\t\t\treader = new PdfReader(pathFile1);\r\n\t\t\tcopy.addDocument(reader);\r\n\t\t\tcopy.freeReader(reader);\r\n\t\t\treader.close();\r\n\t\t\treader = new PdfReader(pathFile2);\r\n\t\t\tcopy.addDocument(reader);\r\n\t\t\tcopy.freeReader(reader);\r\n\t\t\treader.close();\r\n//\t\t\t}\r\n\t\t\toutputStream.flush();\r\n\t\t\tdocument.close();\r\n\t\t\toutputStream.close();\r\n\t\t\tcopy.flush();\r\n\t\t\tcopy.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (DocumentException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\nI always have the same result :\r\nDELETE PDF NOK\r\n\r\nDo you have an idea ?\r\nThanks","title":"Unable to delete PDF after merging using Itext 5","body":"<p>I use the Itext5 library to merge PDFs. Once the merge is complete I want to be able to delete the PDFs, but I cannot delete them yet I have used reader.close().\nMy Code :</p>\n<pre><code>public static void main(String[] args) {\nSystem.out.println(&quot;CONCAT PDF&quot;);\n        pdfConcat2(&quot;C:\\\\Users\\\\File1.pdf&quot;,\n                &quot;C:\\\\Users\\\\File2.pdf&quot;,\n                &quot;C:\\\\Users\\\\File_FINAL.pdf&quot;);\n        System.out.println(&quot;-------------ACTION DELETE&quot;);\n        if (FileTools.deleteFile(&quot;C:\\\\Users\\\\File1.pdf&quot;)) {\n            System.out.println(&quot;DELETE PDF OK&quot;);\n        } else {\n            System.out.println(&quot;DELETE PDF NOK&quot;);\n        }\n        if (FileTools.deleteFile(&quot;C:\\\\Users\\\\File2.pdf&quot;)) {\n            System.out.println(&quot;DELETE PDF OK&quot;);\n        } else {\n            System.out.println(&quot;DELETE PDF NOK&quot;);\n        }\n}\n\npublic static void pdfConcat2(String pathFile1, String pathFile2, String destinationPDF) {\n        //\n        Document document = null;\n        FileOutputStream outputStream = null;\n        PdfCopy copy = null;\n        PdfReader reader = null;\n\n        //\n        try {\n            document = new Document();\n            outputStream = new FileOutputStream(destinationPDF);\n            copy = new PdfSmartCopy(document, outputStream);\n            document.open();\n//          for (int i = 0; i &lt; mergeFile.size(); i++) {\n            reader = new PdfReader(pathFile1);\n            copy.addDocument(reader);\n            copy.freeReader(reader);\n            reader.close();\n            reader = new PdfReader(pathFile2);\n            copy.addDocument(reader);\n            copy.freeReader(reader);\n            reader.close();\n//          }\n            outputStream.flush();\n            document.close();\n            outputStream.close();\n            copy.flush();\n            copy.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (DocumentException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I always have the same result :\nDELETE PDF NOK</p>\n<p>Do you have an idea ?\nThanks</p>\n"},{"tags":["java","retrofit","retrofit2"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679248703,"creation_date":1679248703,"answer_id":75783947,"question_id":75783878,"body_markdown":"Make a class to represent the response.\r\n\r\n```java\r\nclass RegisterResponse {\r\n\tprivate long id;\r\n\tprivate String token;\r\n\tpublic AuthResponse(long id, String token) {\r\n\t\tthis.id = id;\r\n\t\tthis.token = token;\r\n\t}\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getToken() {\r\n\t\treturn token;\r\n\t}\r\n\tpublic void setToken(String token) {\r\n\t\tthis.token = token;\r\n\t}\r\n}\r\n```\r\n\r\nThen, your Retrofit method could look like this:\r\n\r\n```java\r\n@Post(&quot;/somepath&quot;)\r\nRegisterResponse register(@Query(&quot;firstname&quot;) String firstName, @Query(&quot;lastname&quot;) String lastName /* other parameters... */);\r\n```\r\n\r\nYou could also make another class to represent the body of the request rather than writing out each parameter separately.","title":"Is it possible in a Retrofit Post request to accept other data than the one sent?","body":"<p>Make a class to represent the response.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RegisterResponse {\n    private long id;\n    private String token;\n    public AuthResponse(long id, String token) {\n        this.id = id;\n        this.token = token;\n    }\n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getToken() {\n        return token;\n    }\n    public void setToken(String token) {\n        this.token = token;\n    }\n}\n</code></pre>\n<p>Then, your Retrofit method could look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Post(&quot;/somepath&quot;)\nRegisterResponse register(@Query(&quot;firstname&quot;) String firstName, @Query(&quot;lastname&quot;) String lastName /* other parameters... */);\n</code></pre>\n<p>You could also make another class to represent the body of the request rather than writing out each parameter separately.</p>\n"}],"owner":{"account_id":16980353,"reputation":93,"user_id":13108100,"display_name":" "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679248703,"creation_date":1679248073,"question_id":75783878,"body_markdown":"In Java Android I use Retrofit.  I need to post a request to send user data - first name, last name, age, phone number, password.  And in response, his id and token should come.How to make such a request?","title":"Is it possible in a Retrofit Post request to accept other data than the one sent?","body":"<p>In Java Android I use Retrofit.  I need to post a request to send user data - first name, last name, age, phone number, password.  And in response, his id and token should come.How to make such a request?</p>\n"},{"tags":["java","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":13890437,"reputation":281,"user_id":10028584,"display_name":"Andrii Torzhkov"},"score":1,"creation_date":1679242952,"post_id":75781359,"comment_id":133682342,"body_markdown":"It doesn&#39;t work. I think that for Spring R2DBC we can not use annotations from `javax.persistence` package. As I know annotations from  `org.springframework.data.annotation.Id` package should be used. Bu `@Id` should be only one in entity.","body":"It doesn&#39;t work. I think that for Spring R2DBC we can not use annotations from <code>javax.persistence</code> package. As I know annotations from  <code>org.springframework.data.annotation.Id</code> package should be used. Bu <code>@Id</code> should be only one in entity."}],"tags":[],"owner":{"account_id":16078173,"reputation":139,"user_id":11604871,"display_name":"Tonykay"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1679221795,"creation_date":1679221795,"answer_id":75781359,"question_id":75781229,"body_markdown":"You can still use @IdClass to fix this, here is what i came up with \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @Table(&quot;tutor_student&quot;)\r\n    @IdClass(TutorStudentId.class)\r\n    public class TutorStudentEntity {\r\n    \r\n        @Id\r\n        @Column(&quot;relation_id&quot;)\r\n        private Long relationId;\r\n    \r\n        @Id\r\n        @Column(&quot;tutor_id&quot;)\r\n        private Long tutorId;\r\n    \r\n        @Column(&quot;student_id&quot;)\r\n        private String studentId;\r\n    \r\n        @Column(&quot;status&quot;)\r\n        private String status;\r\n    \r\n    }\r\n\r\n   StudentId Class Should look like this\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TutorStudentId implements Serializable {\r\n    \r\n        private Long relationId;\r\n        private Long tutorId;\r\n    \r\n    }","title":"Complex Id for many-to-many relation in Spring R2DBC","body":"<p>You can still use @IdClass to fix this, here is what i came up with</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Table(&quot;tutor_student&quot;)\n@IdClass(TutorStudentId.class)\npublic class TutorStudentEntity {\n\n    @Id\n    @Column(&quot;relation_id&quot;)\n    private Long relationId;\n\n    @Id\n    @Column(&quot;tutor_id&quot;)\n    private Long tutorId;\n\n    @Column(&quot;student_id&quot;)\n    private String studentId;\n\n    @Column(&quot;status&quot;)\n    private String status;\n\n}\n</code></pre>\n<p>StudentId Class Should look like this</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TutorStudentId implements Serializable {\n\n    private Long relationId;\n    private Long tutorId;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13890437,"reputation":281,"user_id":10028584,"display_name":"Andrii Torzhkov"},"score":0,"creation_date":1679268383,"post_id":75783840,"comment_id":133686183,"body_markdown":"I checked and this solution works for entity with single primary key. But how should it work with complex(multiple) primary key?","body":"I checked and this solution works for entity with single primary key. But how should it work with complex(multiple) primary key?"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1679275273,"post_id":75783840,"comment_id":133686876,"body_markdown":"It&#39;s not supported. If you really want the efficiency of a fully reactive stack then don&#39;t mess around with spring data. Use SQL.","body":"It&#39;s not supported. If you really want the efficiency of a fully reactive stack then don&#39;t mess around with spring data. Use SQL."}],"tags":[],"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679247627,"creation_date":1679247627,"answer_id":75783840,"question_id":75781229,"body_markdown":"`TutorStudentEntity` needs to implement `org.springframework.data.domain.Persistable` and have `Persistable::isNew` default to false;\r\n\r\nExample given for a `Handler`\r\n\r\n\tpublic class SomeEntity implements Persistable&lt;String&gt; {\r\n\t\t@Transient\r\n\t\tprivate boolean isNew;\r\n\t\t@Id\r\n\t\tprivate String name;\r\n\t\t@NotNull\r\n\t\t...\r\n\r\n\r\nand\r\n\r\n    public Mono&lt;ServerResponse&gt; updateSomeEntity(ServerRequest request) {\r\n        return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\r\n                .body(request.bodyToMono(SomeEntity.class)\r\n                        .doOnNext(this::validate)\r\n                        .flatMap(someEntityRepository::save), SomeEntity.class);\r\n    }\r\n\r\nGit repo for above [WebFluxDataR2dbc](https://github.com/karlnicholas/WebFluxDataR2dbc.git)","title":"Complex Id for many-to-many relation in Spring R2DBC","body":"<p><code>TutorStudentEntity</code> needs to implement <code>org.springframework.data.domain.Persistable</code> and have <code>Persistable::isNew</code> default to false;</p>\n<p>Example given for a <code>Handler</code></p>\n<pre><code>public class SomeEntity implements Persistable&lt;String&gt; {\n    @Transient\n    private boolean isNew;\n    @Id\n    private String name;\n    @NotNull\n    ...\n</code></pre>\n<p>and</p>\n<pre><code>public Mono&lt;ServerResponse&gt; updateSomeEntity(ServerRequest request) {\n    return ServerResponse.ok().contentType(MediaType.APPLICATION_JSON)\n            .body(request.bodyToMono(SomeEntity.class)\n                    .doOnNext(this::validate)\n                    .flatMap(someEntityRepository::save), SomeEntity.class);\n}\n</code></pre>\n<p>Git repo for above <a href=\"https://github.com/karlnicholas/WebFluxDataR2dbc.git\" rel=\"nofollow noreferrer\">WebFluxDataR2dbc</a></p>\n"}],"owner":{"account_id":13890437,"reputation":281,"user_id":10028584,"display_name":"Andrii Torzhkov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":495,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679247627,"creation_date":1679219861,"question_id":75781229,"body_markdown":"I have entity which handles many-to-mane relation between `student` and `tutor` tables where primary key is complex key(`relation_id` and `tutor_id`). \r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Table(&quot;tutor_student&quot;)\r\npublic class TutorStudentEntity implements Serializable {\r\n\r\n    @Column(&quot;tutor_id&quot;)\r\n    private Long tutorId;\r\n    @Column(&quot;student_id&quot;)\r\n    private String studentId;\r\n    @Column(&quot;status&quot;)\r\n    private String status;\r\n\r\n}\r\n```\r\n\r\nWhen I want to update record with `ReactiveCrudRepository#save` Spring R2DBC tries to create new record in DB because can not define id.\r\n\r\nI know several solutions with JPA like `@EmbeddedId` and `@IdClass`. I tried to do the same here but obviously It is not JPA that is why it has not worked.\r\n\r\nWhat is solution for this case? how Can I configure complex primary key and update record with the help of Spring R2DBC?\r\n\r\n ","title":"Complex Id for many-to-many relation in Spring R2DBC","body":"<p>I have entity which handles many-to-mane relation between <code>student</code> and <code>tutor</code> tables where primary key is complex key(<code>relation_id</code> and <code>tutor_id</code>).</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Table(&quot;tutor_student&quot;)\npublic class TutorStudentEntity implements Serializable {\n\n    @Column(&quot;tutor_id&quot;)\n    private Long tutorId;\n    @Column(&quot;student_id&quot;)\n    private String studentId;\n    @Column(&quot;status&quot;)\n    private String status;\n\n}\n</code></pre>\n<p>When I want to update record with <code>ReactiveCrudRepository#save</code> Spring R2DBC tries to create new record in DB because can not define id.</p>\n<p>I know several solutions with JPA like <code>@EmbeddedId</code> and <code>@IdClass</code>. I tried to do the same here but obviously It is not JPA that is why it has not worked.</p>\n<p>What is solution for this case? how Can I configure complex primary key and update record with the help of Spring R2DBC?</p>\n"},{"tags":["java","tomcat","migration"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1642540686,"post_id":70671224,"comment_id":125097121,"body_markdown":"Does this answer your question? [Error in ServletFileUpload#parseRequest(request) with tomcat 10](https://stackoverflow.com/questions/67313127/error-in-servletfileuploadparserequestrequest-with-tomcat-10)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67313127/error-in-servletfileuploadparserequestrequest-with-tomcat-10\">Error in ServletFileUpload#parseRequest(request) with tomcat 10</a>"},{"owner":{"account_id":1284798,"reputation":1958,"user_id":1238105,"accept_rate":16,"display_name":"L&#233;a Massiot"},"score":0,"creation_date":1642673758,"post_id":70671224,"comment_id":125135768,"body_markdown":"Hi. Sorry for not answering you earlier but I&#39;m still correcting the code (which works as far as files uploading is concerned). Yes, your answer solves my problem. Thanks. I updated my post.","body":"Hi. Sorry for not answering you earlier but I&#39;m still correcting the code (which works as far as files uploading is concerned). Yes, your answer solves my problem. Thanks. I updated my post."}],"answers":[{"comments":[{"owner":{"account_id":200481,"reputation":5196,"user_id":446357,"accept_rate":64,"display_name":"MTilsted"},"score":0,"creation_date":1679245514,"post_id":70671753,"comment_id":133682812,"body_markdown":"Just note, that it is Collection&lt;Part&gt; not Collection&lt;Parts&gt;","body":"Just note, that it is Collection&lt;Part&gt; not Collection&lt;Parts&gt;"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679247057,"creation_date":1641925829,"answer_id":70671753,"question_id":70671224,"body_markdown":"The [`commons-fileupload`](https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload) library is not and probably will **never** be compatible with Servlet 5.0. Since Servlet 3.0 a similar functionality has been included into the standard (see [section 3.2](https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#file-upload)).\r\n\r\nTo migrate your code to Tomcat 10, you need to:\r\n\r\n 1. remove `commons-fileupload` from your dependencies,\r\n 2. annotate your servlet with [`@MultipartConfig`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/annotation/multipartconfig),\r\n 3. replace the call to `ServletFileUpload#parseRequest` with [`HttpServletRequest#getParts`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getParts()):\r\n\r\n    ```lang-java\r\n    final Collection&lt;Part&gt; fileItemsList = request.getParts();\r\n    ```\r\n\r\n 4. since [`FileItem`](https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/FileItem.html) and [`Part`](https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/part) have almost the same methods, only minor changes are needed in the remaining code.","title":"Tomcat 10 Webapp migration - servletFileUpload.parseRequest error","body":"<p>The <a href=\"https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload\" rel=\"nofollow noreferrer\"><code>commons-fileupload</code></a> library is not and probably will <strong>never</strong> be compatible with Servlet 5.0. Since Servlet 3.0 a similar functionality has been included into the standard (see <a href=\"https://jakarta.ee/specifications/servlet/5.0/jakarta-servlet-spec-5.0.html#file-upload\" rel=\"nofollow noreferrer\">section 3.2</a>).</p>\n<p>To migrate your code to Tomcat 10, you need to:</p>\n<ol>\n<li><p>remove <code>commons-fileupload</code> from your dependencies,</p>\n</li>\n<li><p>annotate your servlet with <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/annotation/multipartconfig\" rel=\"nofollow noreferrer\"><code>@MultipartConfig</code></a>,</p>\n</li>\n<li><p>replace the call to <code>ServletFileUpload#parseRequest</code> with <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/httpservletrequest#getParts()\" rel=\"nofollow noreferrer\"><code>HttpServletRequest#getParts</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Collection&lt;Part&gt; fileItemsList = request.getParts();\n</code></pre>\n</li>\n<li><p>since <a href=\"https://commons.apache.org/proper/commons-fileupload/apidocs/org/apache/commons/fileupload/FileItem.html\" rel=\"nofollow noreferrer\"><code>FileItem</code></a> and <a href=\"https://jakarta.ee/specifications/servlet/5.0/apidocs/jakarta/servlet/http/part\" rel=\"nofollow noreferrer\"><code>Part</code></a> have almost the same methods, only minor changes are needed in the remaining code.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1284798,"reputation":1958,"user_id":1238105,"accept_rate":16,"display_name":"L&#233;a Massiot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70671753,"answer_count":1,"score":1,"last_activity_date":1679247057,"creation_date":1641923238,"question_id":70671224,"body_markdown":"I am migrating Webapps from a `Tomcat 9` to a `Tomcat 10` environment.\r\nI am using the `Eclipse IDE`.\r\n\r\nBelow is a part of the code that provokes errors:\r\n\r\n    import java.util.List;\r\n    import org.apache.commons.fileupload.FileItem;\r\n    import org.apache.commons.fileupload.disk.DiskFileItemFactory;\r\n    import org.apache.commons.fileupload.servlet.ServletFileUpload;\r\n    [...]\r\n    DiskFileItemFactory diskFileItemFactory = null;\r\n    ServletFileUpload   servletFileUpload   = null;\r\n    List&lt;FileItem&gt;      fileItemsList       = null;\r\n    \r\n        diskFileItemFactory = new DiskFileItemFactory();\r\n        servletFileUpload   = new ServletFileUpload(diskFileItemFactory);\r\n            \r\n        fileItemsList = (List&lt;FileItem&gt;) servletFileUpload.parseRequest(request);\r\n\r\nThe errors are linked to this last line.\r\n\r\nI get the errors:\r\n\r\n    The project was not built since its build path is incomplete. Cannot find the class file for javax.servlet.http.HttpServletRequest. Fix the build path then try building this project\r\n    The type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files\r\n\r\nAs part of this migration, I had to replace `javax.servlet` with `jakarta.servlet` in the Webapps Java source code and replace the .jars `javax.servlet.jsp.jstl-1.2.1.jar` and `javax.servlet.jsp.jstl-api-1.2.1.jar` with the `jakarta.servlet.jsp.jstl-2.0.0.jar` and `jakarta.servlet.jsp.jstl-api-2.0.0.jar` .jars.\r\n\r\nCan you help me solve these errors?\r\n\r\n====== EDIT ======\r\n\r\nPiotr P. Karwasz&#39;s answer solves my problem.\r\n\r\nBut, instead of adding annotations, which doesn&#39;t seem to work for me, I added, in the Webapp `web.xml` file, for the servlets concerned,  the `&lt;multipart-config&gt;` element as shown below:\r\n\r\n      &lt;servlet&gt;\r\n        &lt;description&gt;&lt;/description&gt;\r\n        &lt;display-name&gt;FooServlet&lt;/display-name&gt;\r\n        &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;com.foo.bar.FooServlet&lt;/servlet-class&gt;    \r\n        &lt;multipart-config&gt;\r\n          &lt;location&gt;/tmp&lt;/location&gt;\r\n          &lt;max-request-size&gt;418018841&lt;/max-request-size&gt;\r\n          &lt;file-size-threshold&gt;1048576&lt;/file-size-threshold&gt;\r\n        &lt;/multipart-config&gt;    \r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/do_foo_servlet&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;","title":"Tomcat 10 Webapp migration - servletFileUpload.parseRequest error","body":"<p>I am migrating Webapps from a <code>Tomcat 9</code> to a <code>Tomcat 10</code> environment.\nI am using the <code>Eclipse IDE</code>.</p>\n<p>Below is a part of the code that provokes errors:</p>\n<pre><code>import java.util.List;\nimport org.apache.commons.fileupload.FileItem;\nimport org.apache.commons.fileupload.disk.DiskFileItemFactory;\nimport org.apache.commons.fileupload.servlet.ServletFileUpload;\n[...]\nDiskFileItemFactory diskFileItemFactory = null;\nServletFileUpload   servletFileUpload   = null;\nList&lt;FileItem&gt;      fileItemsList       = null;\n\n    diskFileItemFactory = new DiskFileItemFactory();\n    servletFileUpload   = new ServletFileUpload(diskFileItemFactory);\n        \n    fileItemsList = (List&lt;FileItem&gt;) servletFileUpload.parseRequest(request);\n</code></pre>\n<p>The errors are linked to this last line.</p>\n<p>I get the errors:</p>\n<pre><code>The project was not built since its build path is incomplete. Cannot find the class file for javax.servlet.http.HttpServletRequest. Fix the build path then try building this project\nThe type javax.servlet.http.HttpServletRequest cannot be resolved. It is indirectly referenced from required .class files\n</code></pre>\n<p>As part of this migration, I had to replace <code>javax.servlet</code> with <code>jakarta.servlet</code> in the Webapps Java source code and replace the .jars <code>javax.servlet.jsp.jstl-1.2.1.jar</code> and <code>javax.servlet.jsp.jstl-api-1.2.1.jar</code> with the <code>jakarta.servlet.jsp.jstl-2.0.0.jar</code> and <code>jakarta.servlet.jsp.jstl-api-2.0.0.jar</code> .jars.</p>\n<p>Can you help me solve these errors?</p>\n<p>====== EDIT ======</p>\n<p>Piotr P. Karwasz's answer solves my problem.</p>\n<p>But, instead of adding annotations, which doesn't seem to work for me, I added, in the Webapp <code>web.xml</code> file, for the servlets concerned,  the <code>&lt;multipart-config&gt;</code> element as shown below:</p>\n<pre><code>  &lt;servlet&gt;\n    &lt;description&gt;&lt;/description&gt;\n    &lt;display-name&gt;FooServlet&lt;/display-name&gt;\n    &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.foo.bar.FooServlet&lt;/servlet-class&gt;    \n    &lt;multipart-config&gt;\n      &lt;location&gt;/tmp&lt;/location&gt;\n      &lt;max-request-size&gt;418018841&lt;/max-request-size&gt;\n      &lt;file-size-threshold&gt;1048576&lt;/file-size-threshold&gt;\n    &lt;/multipart-config&gt;    \n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;FooServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/do_foo_servlet&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1679241391,"post_id":75783148,"comment_id":133682031,"body_markdown":"I think you need to read a tutorial on using generic types.  Hint: the type of an ArrayList of Rectangle objects will be `ArrayList&lt;Rectangle&gt;`.  But you will also need to declare the `Rectangle` class.","body":"I think you need to read a tutorial on using generic types.  Hint: the type of an ArrayList of Rectangle objects will be <code>ArrayList&lt;Rectangle&gt;</code>.  But you will also need to declare the <code>Rectangle</code> class."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":2,"creation_date":1679241414,"post_id":75783148,"comment_id":133682036,"body_markdown":"Its not clear what your actual question is. If youre just wanting to change the array to an ArrayList, you can declare it as `List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();`. Then when you want to access an element by index , in your loop for example, you call `rectangles.get(i)`. Since ArrayList isnt a fixed size, you dont need to ask how many to make ahead of time. You could have a do-while loop that prompts the user for dimensions, creates the rectangle object, and add it to the list. Then ask if they want to add another rectangle and the input will determine if it runs again.","body":"Its not clear what your actual question is. If youre just wanting to change the array to an ArrayList, you can declare it as <code>List&lt;Rectangle&gt; rectangles = new ArrayList&lt;&gt;();</code>. Then when you want to access an element by index , in your loop for example, you call <code>rectangles.get(i)</code>. Since ArrayList isnt a fixed size, you dont need to ask how many to make ahead of time. You could have a do-while loop that prompts the user for dimensions, creates the rectangle object, and add it to the list. Then ask if they want to add another rectangle and the input will determine if it runs again."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679244378,"creation_date":1679243466,"answer_id":75783441,"question_id":75783148,"body_markdown":"Declare your modifiable list rather than array.\r\n\r\n    // Rectangle[] rectangles = new Rectangle[3];\r\n    List&lt; Rectangle &gt; rectangles = new ArrayList&lt;&gt;() ;\r\n\r\nNo need to specify a length as the size of a modifiable list is not predetermined. You may optionally specify an initial capacity. \r\n\r\nSince the list size is not predetermined, change your `for` loop to a `while` loop. Test users input to indicate their intention to stop creating rectangles. Flip a boolean flag value when the user so indicates. \r\n\r\n    // for (int i = 0; i &lt; rectangles.length; i++) {\r\n    boolean go = true ;\r\n    while ( go ) {\r\n\r\nAdd new rectangles to your list. \r\n\r\n    // rectangles[i] = new Rectangle( input.nextDouble(), input.nextDouble() );\r\n    rectangles.add( new Rectangle( input.nextDouble(), input.nextDouble() ) ) ;\r\n\r\nBy the way, I recommend gathering your inputs *before* calling the `Rectangle` constructor. \r\n\r\n\r\nTo access all the elements in the list, use *for-each* syntax. \r\n\r\n    // for (int i = 0; i &lt; rectangles.length; i++) {\r\n    for ( Rectangle rectangle : rectangles ) {\r\n\r\nRegarding this line: \r\n\r\n    &quot;Rectangle &quot; + (i + 1) +\r\n\r\n if you care about distinguishing between rectangles, you should add a third member field to the class defining `Rectangle`. Common choices include a sequential integer number or a [UUID][1]. \r\n\r\n    record Rectangle ( UUID id , double width , double height ) {}\r\n    \r\n    rectangles.add( new Rectangle( UUID.randomUUID() , input.nextDouble(), input.nextDouble() ) ) ;\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Universally_unique_identifier","title":"How to change the program syntax with ArrayList option?","body":"<p>Declare your modifiable list rather than array.</p>\n<pre><code>// Rectangle[] rectangles = new Rectangle[3];\nList&lt; Rectangle &gt; rectangles = new ArrayList&lt;&gt;() ;\n</code></pre>\n<p>No need to specify a length as the size of a modifiable list is not predetermined. You may optionally specify an initial capacity.</p>\n<p>Since the list size is not predetermined, change your <code>for</code> loop to a <code>while</code> loop. Test users input to indicate their intention to stop creating rectangles. Flip a boolean flag value when the user so indicates.</p>\n<pre><code>// for (int i = 0; i &lt; rectangles.length; i++) {\nboolean go = true ;\nwhile ( go ) {\n</code></pre>\n<p>Add new rectangles to your list.</p>\n<pre><code>// rectangles[i] = new Rectangle( input.nextDouble(), input.nextDouble() );\nrectangles.add( new Rectangle( input.nextDouble(), input.nextDouble() ) ) ;\n</code></pre>\n<p>By the way, I recommend gathering your inputs <em>before</em> calling the <code>Rectangle</code> constructor.</p>\n<p>To access all the elements in the list, use <em>for-each</em> syntax.</p>\n<pre><code>// for (int i = 0; i &lt; rectangles.length; i++) {\nfor ( Rectangle rectangle : rectangles ) {\n</code></pre>\n<p>Regarding this line:</p>\n<pre><code>&quot;Rectangle &quot; + (i + 1) +\n</code></pre>\n<p> if you care about distinguishing between rectangles, you should add a third member field to the class defining <code>Rectangle</code>. Common choices include a sequential integer number or a <a href=\"https://en.m.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>.</p>\n<pre><code>record Rectangle ( UUID id , double width , double height ) {}\n\nrectangles.add( new Rectangle( UUID.randomUUID() , input.nextDouble(), input.nextDouble() ) ) ;\n</code></pre>\n"}],"owner":{"account_id":28058394,"reputation":19,"user_id":21433033,"display_name":"Kraken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679247006,"creation_date":1679240556,"question_id":75783148,"body_markdown":"The program generates 3 rectangles (default w and h values are 1.0). After the generated rectangles I call getArea() function to calculate its area, and getPerimeter() function to calculate its perimeter.\r\n\r\nSo I want to use ArrayList instead of Rectangle[] Array type.\r\n\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n\r\n        Rectangle[] rectangles = new Rectangle[3];\r\n\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        for (int i = 0; i &lt; rectangles.length; i++) {\r\n            System.out.println(&quot;Do you want to enter the width and the height? (Y/N)&quot;);\r\n\r\n            char choice = input.next().charAt(0);\r\n            if (choice == &#39;y&#39;)\r\n                rectangles[i] = new Rectangle(input.nextDouble(), input.nextDouble());\r\n\r\n            else\r\n                rectangles[i] = new Rectangle();\r\n\r\n\r\n        }\r\n        System.out.println(&quot;The rectangles are: &quot;);\r\n        for (int i = 0; i &lt; rectangles.length; i++) {\r\n            System.out.println(\r\n                    &quot;Rectangle &quot; + (i + 1) +\r\n                            &quot;: width: &quot; + rectangles[i].getWidth() +\r\n                            &quot;, height &quot; + rectangles[i].getHeight());\r\n            System.out.println(&quot;Area is: &quot; + rectangles[i].getArea());\r\n            System.out.println(&quot;Perimeter is: &quot; + rectangles[i].getPerimeter());\r\n        }\r\n    }\r\n```\r\n\r\nHow I think I should start: Firstly I will put a scanner input to ask how many Rectangles do I need, then with a for loop I want to generate the rectangles in the list. What could be the solution to resolve it in an ArrayList? Thanks a lot in advance!\r\n\r\nI don&#39;t know the type of the ArrayList because it needs 2 variables, but I suppose they have to be double. But I don&#39;t know how to continue.\r\n","title":"How to change the program syntax with ArrayList option?","body":"<p>The program generates 3 rectangles (default w and h values are 1.0). After the generated rectangles I call getArea() function to calculate its area, and getPerimeter() function to calculate its perimeter.</p>\n<p>So I want to use ArrayList instead of Rectangle[] Array type.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n\n        Rectangle[] rectangles = new Rectangle[3];\n\n        Scanner input = new Scanner(System.in);\n\n        for (int i = 0; i &lt; rectangles.length; i++) {\n            System.out.println(&quot;Do you want to enter the width and the height? (Y/N)&quot;);\n\n            char choice = input.next().charAt(0);\n            if (choice == 'y')\n                rectangles[i] = new Rectangle(input.nextDouble(), input.nextDouble());\n\n            else\n                rectangles[i] = new Rectangle();\n\n\n        }\n        System.out.println(&quot;The rectangles are: &quot;);\n        for (int i = 0; i &lt; rectangles.length; i++) {\n            System.out.println(\n                    &quot;Rectangle &quot; + (i + 1) +\n                            &quot;: width: &quot; + rectangles[i].getWidth() +\n                            &quot;, height &quot; + rectangles[i].getHeight());\n            System.out.println(&quot;Area is: &quot; + rectangles[i].getArea());\n            System.out.println(&quot;Perimeter is: &quot; + rectangles[i].getPerimeter());\n        }\n    }\n</code></pre>\n<p>How I think I should start: Firstly I will put a scanner input to ask how many Rectangles do I need, then with a for loop I want to generate the rectangles in the list. What could be the solution to resolve it in an ArrayList? Thanks a lot in advance!</p>\n<p>I don't know the type of the ArrayList because it needs 2 variables, but I suppose they have to be double. But I don't know how to continue.</p>\n"},{"tags":["java","android","eclipse","android-service"],"comments":[{"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"score":0,"creation_date":1336993965,"post_id":10581827,"comment_id":13703321,"body_markdown":"What does your `public IBinder onBind(Intent intent)` method in `LocationService.java` look like?","body":"What does your <code>public IBinder onBind(Intent intent)</code> method in <code>LocationService.java</code> look like?"},{"owner":{"account_id":1261814,"reputation":1848,"user_id":1219882,"accept_rate":100,"display_name":"bughi"},"score":0,"creation_date":1336994775,"post_id":10581827,"comment_id":13703610,"body_markdown":"@Jens I edited the question to include the onBind() method.","body":"@Jens I edited the question to include the onBind() method."},{"owner":{"account_id":938666,"reputation":16901,"user_id":967142,"display_name":"Jens"},"score":0,"creation_date":1336995465,"post_id":10581827,"comment_id":13703872,"body_markdown":"Hm. And you&#39;re not even getting the `Log.i(&quot;Location Service&quot;,&quot;onCreate()&quot;);` log in your logcat?","body":"Hm. And you&#39;re not even getting the <code>Log.i(&quot;Location Service&quot;,&quot;onCreate()&quot;);</code> log in your logcat?"}],"answers":[{"comments":[{"owner":{"account_id":1261814,"reputation":1848,"user_id":1219882,"accept_rate":100,"display_name":"bughi"},"score":0,"creation_date":1336993846,"post_id":10582002,"comment_id":13703275,"body_markdown":"That doesn&#39;t make any difference.","body":"That doesn&#39;t make any difference."},{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":0,"creation_date":1537970460,"post_id":10582002,"comment_id":91978647,"body_markdown":"That will create the service, i.e. call the onCreate() method and it will bind to your activity, but it will NOT call the onStartCommand() for the service.  Therefore it will not start the service.","body":"That will create the service, i.e. call the onCreate() method and it will bind to your activity, but it will NOT call the onStartCommand() for the service.  Therefore it will not start the service."}],"tags":[],"owner":{"account_id":457959,"reputation":4387,"user_id":857580,"accept_rate":50,"display_name":"ScouseChris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1336993084,"creation_date":1336993084,"answer_id":10582002,"question_id":10581827,"body_markdown":"I had my `Activity` implement `ServiceConnection` and bound like this:\r\n\r\n    bindService( new Intent( this, Service.class ), this, Context.BIND_AUTO_CREATE );\r\n\r\nThen handled the callbacks for `onServiceConnected()` and `onServiceDisconnected()` in my `Activity`","title":"Service not being created (or connecting) after bindService()","body":"<p>I had my <code>Activity</code> implement <code>ServiceConnection</code> and bound like this:</p>\n\n<pre><code>bindService( new Intent( this, Service.class ), this, Context.BIND_AUTO_CREATE );\n</code></pre>\n\n<p>Then handled the callbacks for <code>onServiceConnected()</code> and <code>onServiceDisconnected()</code> in my <code>Activity</code></p>\n"},{"tags":[],"owner":{"account_id":196530,"reputation":23872,"user_id":440010,"accept_rate":68,"display_name":"NickT"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1337004869,"creation_date":1337004869,"answer_id":10585077,"question_id":10581827,"body_markdown":"The onStartCommand will only execute if the service is explicitly started, it looks like you are just wanting to bind to it, which is fine. I don&#39;t see that you have set up the service connection properly though. I&#39;m posting my stub program which shows how to bind to a service and call a method in the service through a binder. You may like to run this and see the sequence of the various log messages. You will obviously need to add your BroadcastReceiver and onLocationChaged code to make it useful for you.\r\n\r\nThe Activity\r\n\r\n    package com.servtest.test;\r\n    \r\n    import com.servtest.test.LocationService.LocalBinder;\r\n    import android.app.Activity;\r\n    import android.content.ComponentName;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.ServiceConnection;\r\n    import android.os.Bundle;\r\n    import android.os.IBinder;\r\n    import android.util.Log;\r\n    \r\n    public class ServiceTestActivity extends Activity {\r\n    \t\r\n    \tboolean mServiceConnected = false;\r\n    \tboolean mBound = false;\r\n    \tprivate LocationService mLocnServ;\r\n    \t\r\n    \tServiceConnection mServconn = new ServiceConnection() {\r\n    \t\t@Override\r\n    \t\tpublic void onServiceConnected(ComponentName name, IBinder service) {\r\n    \t\t\tLog.d(&quot;SVTEST&quot;, &quot;Activity service connected&quot;);\r\n    \t\t\tLocalBinder binder = (LocalBinder) service;\r\n    \t\t\tmLocnServ = binder.getService();\r\n    \t\t\t// Can&#39;t call this methodInTheService UNTIL IT&#39;S BOUND!\r\n    \t\t\tmLocnServ.methodInTheService();\r\n    \t\t\tmBound = true;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void onServiceDisconnected(ComponentName name) {\r\n    \t\t\tLog.d(&quot;SVTEST&quot;, &quot;Activity service disconnected&quot;);\r\n    \t\t\tmBound = false;\r\n    \t\t}\r\n    \t};\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n        }\r\n        @Override\r\n    \tpublic void onStart() {\r\n    \t\tsuper.onStart();\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Activity onStart&quot;);\r\n    \t\tmServiceConnected = bindService(new Intent(\r\n    \t\t\t\t&quot;com.servtest.test.LOCATIONSERVICE&quot;), mServconn,\r\n    \t\t\t\tContext.BIND_AUTO_CREATE);\r\n    \t}\r\n        @Override\r\n        protected void onResume() {\r\n        \tsuper.onResume();\r\n        \tLog.d(&quot;SVTEST&quot;, &quot;Activity onResume&quot;);\r\n        }\r\n        @Override\r\n    \tpublic void onPause() {\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Activity onPause&quot;);\r\n    \t\tsuper.onPause();\r\n    \t}\r\n        @Override\r\n    \tpublic void onStop() {\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Activity onStop&quot;);\r\n    \t\tif (mBound) {\r\n    \t\t\tunbindService(mServconn);\r\n    \t\t\tmBound = false;\r\n    \t\t}\r\n    \t\tsuper.onStop();\r\n    \t}\r\n        \r\n    }\r\n\r\nThe Service\r\n\r\n    package com.servtest.test;\r\n    \r\n    import android.app.Service;\r\n    import android.content.Intent;\r\n    import android.location.Location;\r\n    import android.location.LocationListener;\r\n    import android.os.Binder;\r\n    import android.os.Bundle;\r\n    import android.os.IBinder;\r\n    import android.util.Log;\r\n    \r\n    public class LocationService extends Service implements LocationListener {\r\n    \t\r\n    \tprivate final IBinder mBinder = new LocalBinder();\r\n    \t\r\n    \t@Override\r\n    \tpublic void onLocationChanged(Location arg0) {}\r\n    \t@Override\r\n    \tpublic void onProviderDisabled(String arg0) {}\r\n    \t@Override\r\n    \tpublic void onProviderEnabled(String arg0) {}\r\n    \t@Override\r\n    \tpublic void onStatusChanged(String arg0, int arg1, Bundle arg2) {}\r\n    \t\r\n    \t@Override\r\n    \tpublic IBinder onBind(Intent intent) {\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Loc service ONBIND&quot;);\r\n    \t\treturn mBinder;\r\n    \t}\r\n    \t@Override\r\n    \tpublic boolean onUnbind(Intent intent) {\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Loc service ONUNBIND&quot;);\r\n    \t\treturn super.onUnbind(intent);\r\n    \t}\r\n    \t@Override\r\n    \tpublic int onStartCommand(Intent intent, int flags, int startId) {\r\n    \t\t// Won&#39;t run unless it&#39;s EXPLICITLY STARTED\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Loc service ONSTARTCOMMAND&quot;);\r\n    \t\treturn super.onStartCommand(intent, flags, startId);\r\n    \t}\r\n    \t@Override\r\n    \tpublic void onDestroy() {\r\n    \t\tsuper.onDestroy();\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Loc service ONDESTROY&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic class LocalBinder extends Binder {\r\n    \t\tLocationService getService() {\r\n    \t\t\t// Return this instance of LocalService so clients can call public methods\r\n    \t\t\treturn LocationService.this;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic void methodInTheService() {\r\n    \t\t// A method you can call in the service\r\n    \t\tLog.d(&quot;SVTEST&quot;, &quot;Loc service EXECUTING THE METHOD&quot;);\r\n    \t}\r\n    }\r\n\r\nThe Manifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.servtest.test&quot;\r\n        android:versionCode=&quot;1&quot;\r\n        android:versionName=&quot;1.0&quot; &gt;\r\n        &lt;application\r\n            android:icon=&quot;@drawable/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot; &gt;\r\n            &lt;activity\r\n                android:name=&quot;.ServiceTestActivity&quot;\r\n                android:label=&quot;@string/app_name&quot; &gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;service\r\n    \t\t\tandroid:enabled=&quot;true&quot;\r\n    \t\t\tandroid:name=&quot;LocationService&quot;&gt;\r\n    \t\t\t&lt;intent-filter&gt;\r\n    \t\t\t\t&lt;action android:name=&quot;com.servtest.test.LOCATIONSERVICE&quot; /&gt;\r\n    \t\t\t&lt;/intent-filter&gt;\r\n    \t\t&lt;/service&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nHope this helps\r\n","title":"Service not being created (or connecting) after bindService()","body":"<p>The onStartCommand will only execute if the service is explicitly started, it looks like you are just wanting to bind to it, which is fine. I don't see that you have set up the service connection properly though. I'm posting my stub program which shows how to bind to a service and call a method in the service through a binder. You may like to run this and see the sequence of the various log messages. You will obviously need to add your BroadcastReceiver and onLocationChaged code to make it useful for you.</p>\n\n<p>The Activity</p>\n\n<pre><code>package com.servtest.test;\n\nimport com.servtest.test.LocationService.LocalBinder;\nimport android.app.Activity;\nimport android.content.ComponentName;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.ServiceConnection;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.util.Log;\n\npublic class ServiceTestActivity extends Activity {\n\n    boolean mServiceConnected = false;\n    boolean mBound = false;\n    private LocationService mLocnServ;\n\n    ServiceConnection mServconn = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            Log.d(\"SVTEST\", \"Activity service connected\");\n            LocalBinder binder = (LocalBinder) service;\n            mLocnServ = binder.getService();\n            // Can't call this methodInTheService UNTIL IT'S BOUND!\n            mLocnServ.methodInTheService();\n            mBound = true;\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            Log.d(\"SVTEST\", \"Activity service disconnected\");\n            mBound = false;\n        }\n    };\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n    }\n    @Override\n    public void onStart() {\n        super.onStart();\n        Log.d(\"SVTEST\", \"Activity onStart\");\n        mServiceConnected = bindService(new Intent(\n                \"com.servtest.test.LOCATIONSERVICE\"), mServconn,\n                Context.BIND_AUTO_CREATE);\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Log.d(\"SVTEST\", \"Activity onResume\");\n    }\n    @Override\n    public void onPause() {\n        Log.d(\"SVTEST\", \"Activity onPause\");\n        super.onPause();\n    }\n    @Override\n    public void onStop() {\n        Log.d(\"SVTEST\", \"Activity onStop\");\n        if (mBound) {\n            unbindService(mServconn);\n            mBound = false;\n        }\n        super.onStop();\n    }\n\n}\n</code></pre>\n\n<p>The Service</p>\n\n<pre><code>package com.servtest.test;\n\nimport android.app.Service;\nimport android.content.Intent;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.os.Binder;\nimport android.os.Bundle;\nimport android.os.IBinder;\nimport android.util.Log;\n\npublic class LocationService extends Service implements LocationListener {\n\n    private final IBinder mBinder = new LocalBinder();\n\n    @Override\n    public void onLocationChanged(Location arg0) {}\n    @Override\n    public void onProviderDisabled(String arg0) {}\n    @Override\n    public void onProviderEnabled(String arg0) {}\n    @Override\n    public void onStatusChanged(String arg0, int arg1, Bundle arg2) {}\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        Log.d(\"SVTEST\", \"Loc service ONBIND\");\n        return mBinder;\n    }\n    @Override\n    public boolean onUnbind(Intent intent) {\n        Log.d(\"SVTEST\", \"Loc service ONUNBIND\");\n        return super.onUnbind(intent);\n    }\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        // Won't run unless it's EXPLICITLY STARTED\n        Log.d(\"SVTEST\", \"Loc service ONSTARTCOMMAND\");\n        return super.onStartCommand(intent, flags, startId);\n    }\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        Log.d(\"SVTEST\", \"Loc service ONDESTROY\");\n    }\n\n    public class LocalBinder extends Binder {\n        LocationService getService() {\n            // Return this instance of LocalService so clients can call public methods\n            return LocationService.this;\n        }\n    }\n\n    public void methodInTheService() {\n        // A method you can call in the service\n        Log.d(\"SVTEST\", \"Loc service EXECUTING THE METHOD\");\n    }\n}\n</code></pre>\n\n<p>The Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.servtest.test\"\n    android:versionCode=\"1\"\n    android:versionName=\"1.0\" &gt;\n    &lt;application\n        android:icon=\"@drawable/ic_launcher\"\n        android:label=\"@string/app_name\" &gt;\n        &lt;activity\n            android:name=\".ServiceTestActivity\"\n            android:label=\"@string/app_name\" &gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;service\n            android:enabled=\"true\"\n            android:name=\"LocationService\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.servtest.test.LOCATIONSERVICE\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":95239,"reputation":258,"user_id":259507,"accept_rate":62,"display_name":"HChen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392105002,"creation_date":1392105002,"answer_id":21696024,"question_id":10581827,"body_markdown":"When you call `bindService` you may get this error:\r\n\r\n```\r\nActivityManager java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.android.server.am.ActivityRecord$Token\r\n```\r\n\r\nCheck the output of logcat.\r\n\r\nThis is a bug of Android.\r\n\r\nTo solve it, use *`getApplicationContext().bindService(...)`*","title":"Service not being created (or connecting) after bindService()","body":"<p>When you call <code>bindService</code> you may get this error:</p>\n\n<p><code>\nActivityManager java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.android.server.am.ActivityRecord$Token\n</code></p>\n\n<p>Check the output of logcat.</p>\n\n<p>This is a bug of Android.</p>\n\n<p>To solve it, use <em><code>getApplicationContext().bindService(...)</code></em></p>\n"},{"tags":[],"owner":{"account_id":894472,"reputation":5501,"user_id":932052,"accept_rate":94,"display_name":"Quintin Balsdon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679246816,"creation_date":1679246816,"answer_id":75783770,"question_id":10581827,"body_markdown":"One issue I had was that I had set `android:enabled=&quot;false&quot;` in my manifest for the service. That means your app can&#39;t bind, either. Rather:\r\n\r\n```\r\n&lt;service\r\n    android:name=&quot;.ServiceName&quot;\r\n    android:enabled=&quot;true&quot;\r\n    android:exported=&quot;...&quot; /&gt;\r\n```\r\n\r\nAs per the [documentation][0]:\r\n&gt; Whether or not the service can be instantiated by the system  &quot;true&quot; if it can be, and &quot;false&quot; if not. The default value is &quot;true&quot;. \r\n\r\nI had made the mistake of thinking my app was doing the instantiation, not the system. \r\n\r\n[0]: https://developer.android.com/guide/topics/manifest/service-element#enabled","title":"Service not being created (or connecting) after bindService()","body":"<p>One issue I had was that I had set <code>android:enabled=&quot;false&quot;</code> in my manifest for the service. That means your app can't bind, either. Rather:</p>\n<pre><code>&lt;service\n    android:name=&quot;.ServiceName&quot;\n    android:enabled=&quot;true&quot;\n    android:exported=&quot;...&quot; /&gt;\n</code></pre>\n<p>As per the <a href=\"https://developer.android.com/guide/topics/manifest/service-element#enabled\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>Whether or not the service can be instantiated by the system  &quot;true&quot; if it can be, and &quot;false&quot; if not. The default value is &quot;true&quot;.</p>\n</blockquote>\n<p>I had made the mistake of thinking my app was doing the instantiation, not the system.</p>\n"}],"owner":{"account_id":1261814,"reputation":1848,"user_id":1219882,"accept_rate":100,"display_name":"bughi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17609,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10585077,"answer_count":4,"score":12,"last_activity_date":1679246816,"creation_date":1336992259,"question_id":10581827,"body_markdown":"I have this simple service that broadcasts the current location of the user. I want to use the binding mechanism just to control the service life-cycle, but the service is just not starting. \r\n\r\nWhat did I do wrong?\r\n\r\n    public class GPSActivity extends ListActivity {\r\n    ...\r\n    protected void onResume() {\r\n    \t\tsuper.onResume();\r\n    \r\n    \t\tLog.i(&quot;Service&quot;, &quot;Service bound&quot;);\r\n    \t\tIntent intent = new Intent(this, LocationService.class);\r\n    \t\tbindService(intent, service_connection , Context.BIND_AUTO_CREATE);\r\n    \t}\r\n    \r\n    protected void onPause() {\r\n    \t\tif (dataUpdateReceiver!=null)\r\n    \t\t\tunregisterReceiver(dataUpdateReceiver);\r\n    \t\tunbindService(service_connection);\r\n    \t\tsuper.onPause();\r\n    \t}\r\n    class LocationServiceConnection implements ServiceConnection{\r\n    \t\tpublic void onServiceConnected(ComponentName name, IBinder service) {\r\n    \t\t\tLog.i(&quot;Service&quot;, &quot;Service Connected&quot;);\r\n    \t\t}\r\n                    public void onServiceDisconnected(ComponentName name) {\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n`LocalBinder.java`\r\n\r\n    public class LocalBinder&lt;S&gt; extends Binder {\r\n        private String TAG = &quot;LocalBinder&quot;;\r\n        private  WeakReference&lt;S&gt; mService;\r\n        \r\n        \r\n        public LocalBinder(S service){\r\n            mService = new WeakReference&lt;S&gt;(service);\r\n        }\r\n    \r\n        \r\n        public S getService() {\r\n            return mService.get();\r\n        }\r\n    }\r\n`LocationService.java`\r\n\r\n    public class LocationService extends Service {\r\n        public void onCreate() {\r\n            initLocationListener();\r\n            Log.i(&quot;Location Service&quot;,&quot;onCreate()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            Log.i(&quot;Location Service&quot;, &quot;Received start id &quot; + startId + &quot;: &quot; + intent);\r\n            return START_NOT_STICKY;\r\n        }\r\n       \r\n        private final IBinder mBinder = new LocalBinder&lt;LocationService&gt;(this);\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return mBinder;\r\n        }\r\n    }\r\n    \r\n`AndroidManifest.xml`\r\n\r\n    &lt;application\r\n        android:icon=&quot;@drawable/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot; &gt;\r\n        ...\r\n        \r\n        &lt;service android:name=&quot;.LocationService&quot;&gt;\r\n        &lt;/service&gt;\r\n    &lt;/application&gt;\t\r\n\r\n**EDIT:** Fixed thanks to NickT&#39;s answer. \r\n\r\nThe manifest entry did not have a intent filter or the correct name\r\n\r\n    &lt;service\r\n       android:enabled=&quot;true&quot;\r\n       android:name=&quot;com.android.gps.services.LocationService&quot;&gt;\r\n       &lt;intent-filter&gt;\r\n              &lt;action android:name=&quot;com.android.gps.services.LocationService&quot; /&gt;\r\n       &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n\r\nAnd the intent I used for binding was like the ones you need to use when starting an activity. the correct one is: \r\n\r\n    Intent intent = new Intent(&quot;com.android.gps.services.LocationService&quot;);\r\n\r\n\t","title":"Service not being created (or connecting) after bindService()","body":"<p>I have this simple service that broadcasts the current location of the user. I want to use the binding mechanism just to control the service life-cycle, but the service is just not starting. </p>\n\n<p>What did I do wrong?</p>\n\n<pre><code>public class GPSActivity extends ListActivity {\n...\nprotected void onResume() {\n        super.onResume();\n\n        Log.i(\"Service\", \"Service bound\");\n        Intent intent = new Intent(this, LocationService.class);\n        bindService(intent, service_connection , Context.BIND_AUTO_CREATE);\n    }\n\nprotected void onPause() {\n        if (dataUpdateReceiver!=null)\n            unregisterReceiver(dataUpdateReceiver);\n        unbindService(service_connection);\n        super.onPause();\n    }\nclass LocationServiceConnection implements ServiceConnection{\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            Log.i(\"Service\", \"Service Connected\");\n        }\n                public void onServiceDisconnected(ComponentName name) {\n\n        }\n    }\n}\n</code></pre>\n\n<p><code>LocalBinder.java</code></p>\n\n<pre><code>public class LocalBinder&lt;S&gt; extends Binder {\n    private String TAG = \"LocalBinder\";\n    private  WeakReference&lt;S&gt; mService;\n\n\n    public LocalBinder(S service){\n        mService = new WeakReference&lt;S&gt;(service);\n    }\n\n\n    public S getService() {\n        return mService.get();\n    }\n}\n</code></pre>\n\n<p><code>LocationService.java</code></p>\n\n<pre><code>public class LocationService extends Service {\n    public void onCreate() {\n        initLocationListener();\n        Log.i(\"Location Service\",\"onCreate()\");\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.i(\"Location Service\", \"Received start id \" + startId + \": \" + intent);\n        return START_NOT_STICKY;\n    }\n\n    private final IBinder mBinder = new LocalBinder&lt;LocationService&gt;(this);\n    @Override\n    public IBinder onBind(Intent intent) {\n        return mBinder;\n    }\n}\n</code></pre>\n\n<p><code>AndroidManifest.xml</code></p>\n\n<pre><code>&lt;application\n    android:icon=\"@drawable/ic_launcher\"\n    android:label=\"@string/app_name\" &gt;\n    ...\n\n    &lt;service android:name=\".LocationService\"&gt;\n    &lt;/service&gt;\n&lt;/application&gt;  \n</code></pre>\n\n<p><strong>EDIT:</strong> Fixed thanks to NickT's answer. </p>\n\n<p>The manifest entry did not have a intent filter or the correct name</p>\n\n<pre><code>&lt;service\n   android:enabled=\"true\"\n   android:name=\"com.android.gps.services.LocationService\"&gt;\n   &lt;intent-filter&gt;\n          &lt;action android:name=\"com.android.gps.services.LocationService\" /&gt;\n   &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p>And the intent I used for binding was like the ones you need to use when starting an activity. the correct one is: </p>\n\n<pre><code>Intent intent = new Intent(\"com.android.gps.services.LocationService\");\n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1646950406,"creation_date":1646950406,"answer_id":71431422,"question_id":71431317,"body_markdown":"`subscribe` is not blocking operation and `delayElements` will be scheduled on another thread (by default `parallel` Scheduler). As result your program exits before elements are emitted. Here is a test \r\n\r\n```\r\n@Test\r\nvoid mergeWithDelayElements() {\r\n\tFlux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).delayElements(Duration.ofMillis(151));\r\n\tFlux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;).delayElements(Duration.ofMillis(100));\r\n\r\n\tStepVerifier.create(Flux.merge(abcFlux, defFlux))\r\n\t\t\t.expectNext(&quot;D&quot;, &quot;A&quot;, &quot;E&quot;, &quot;B&quot;, &quot;F&quot;, &quot;C&quot;)\r\n\t\t\t.verifyComplete();\r\n}\r\n```","title":"How to use delayElements() with Flux merge?","body":"<p><code>subscribe</code> is not blocking operation and <code>delayElements</code> will be scheduled on another thread (by default <code>parallel</code> Scheduler). As result your program exits before elements are emitted. Here is a test</p>\n<pre><code>@Test\nvoid mergeWithDelayElements() {\n    Flux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).delayElements(Duration.ofMillis(151));\n    Flux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;).delayElements(Duration.ofMillis(100));\n\n    StepVerifier.create(Flux.merge(abcFlux, defFlux))\n            .expectNext(&quot;D&quot;, &quot;A&quot;, &quot;E&quot;, &quot;B&quot;, &quot;F&quot;, &quot;C&quot;)\n            .verifyComplete();\n}\n</code></pre>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71431422,"answer_count":1,"score":1,"last_activity_date":1679246498,"creation_date":1646949747,"question_id":71431317,"body_markdown":"I am following a tutorial and I believe my code is same with the instructor&#39;s one but I did not understand why **delayElements()** is not working.\r\n\r\nHere is the caller method:\r\n\r\n    public static void main(String[] args) {\r\n        FluxAndMonoGeneratorService fluxAndMonoGeneratorService = new FluxAndMonoGeneratorService();\r\n        fluxAndMonoGeneratorService.explore_merge()\r\n                .doOnComplete(() -&gt; System.out.println(&quot;Completed !&quot;))\r\n                .onErrorReturn(&quot;asdasd&quot;)\r\n                .subscribe(System.out::println);\r\n    }\r\n\r\nIf I write the method without delay elements as:\r\n\r\n    public Flux&lt;String&gt; explore_merge() {\r\n    \r\n            Flux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\r\n            Flux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\r\n    \r\n            return Flux.merge(abcFlux, defFlux);\r\n        }\r\n\r\nThen the output in the console is(as expected):\r\n\r\n    00:53:19.443 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework\r\n    A\r\n    B\r\n    C\r\n    D\r\n    E\r\n    F\r\n    Completed !\r\n    \r\n    BUILD SUCCESSFUL in 1s\r\n\r\nBut I want to use **delayElements()** to test **merge()** method as:\r\n\r\n    public Flux&lt;String&gt; explore_merge() {\r\n    \r\n            Flux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).delayElements(Duration.ofMillis(151));\r\n            Flux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;).delayElements(Duration.ofMillis(100));\r\n    \r\n            return Flux.merge(abcFlux, defFlux);\r\n        }\r\nAnd nothing happens, not onComplete nor onErrorReturn and the output is just nothing:\r\n\r\n    0:55:22: Executing &#39;:reactive-programming-using-reactor:FluxAndMonoGeneratorService.main()&#39;...\r\n    \r\n    &gt; Task :reactive-programming-using-reactor:generateLombokConfig UP-TO-DATE\r\n    &gt; Task :reactive-programming-using-reactor:compileJava\r\n    &gt; Task :reactive-programming-using-reactor:processResources NO-SOURCE\r\n    &gt; Task :reactive-programming-using-reactor:classes\r\n    \r\n    &gt; Task :reactive-programming-using-reactor:FluxAndMonoGeneratorService.main()\r\n    00:55:23.715 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework\r\n    \r\n    BUILD SUCCESSFUL in 1s\r\n\r\nWhat is the reason for this ? (I mean at least onError I am expecting but nothing...)\r\n\r\nnote: **mergeWith()** is also not working with this **delayElements()**","title":"How to use delayElements() with Flux merge?","body":"<p>I am following a tutorial and I believe my code is same with the instructor's one but I did not understand why <strong>delayElements()</strong> is not working.</p>\n<p>Here is the caller method:</p>\n<pre><code>public static void main(String[] args) {\n    FluxAndMonoGeneratorService fluxAndMonoGeneratorService = new FluxAndMonoGeneratorService();\n    fluxAndMonoGeneratorService.explore_merge()\n            .doOnComplete(() -&gt; System.out.println(&quot;Completed !&quot;))\n            .onErrorReturn(&quot;asdasd&quot;)\n            .subscribe(System.out::println);\n}\n</code></pre>\n<p>If I write the method without delay elements as:</p>\n<pre><code>public Flux&lt;String&gt; explore_merge() {\n\n        Flux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;);\n        Flux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;);\n\n        return Flux.merge(abcFlux, defFlux);\n    }\n</code></pre>\n<p>Then the output in the console is(as expected):</p>\n<pre><code>00:53:19.443 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework\nA\nB\nC\nD\nE\nF\nCompleted !\n\nBUILD SUCCESSFUL in 1s\n</code></pre>\n<p>But I want to use <strong>delayElements()</strong> to test <strong>merge()</strong> method as:</p>\n<pre><code>public Flux&lt;String&gt; explore_merge() {\n\n        Flux&lt;String&gt; abcFlux = Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;).delayElements(Duration.ofMillis(151));\n        Flux&lt;String&gt; defFlux = Flux.just(&quot;D&quot;, &quot;E&quot;, &quot;F&quot;).delayElements(Duration.ofMillis(100));\n\n        return Flux.merge(abcFlux, defFlux);\n    }\n</code></pre>\n<p>And nothing happens, not onComplete nor onErrorReturn and the output is just nothing:</p>\n<pre><code>0:55:22: Executing ':reactive-programming-using-reactor:FluxAndMonoGeneratorService.main()'...\n\n&gt; Task :reactive-programming-using-reactor:generateLombokConfig UP-TO-DATE\n&gt; Task :reactive-programming-using-reactor:compileJava\n&gt; Task :reactive-programming-using-reactor:processResources NO-SOURCE\n&gt; Task :reactive-programming-using-reactor:classes\n\n&gt; Task :reactive-programming-using-reactor:FluxAndMonoGeneratorService.main()\n00:55:23.715 [main] DEBUG reactor.util.Loggers$LoggerFactory - Using Slf4j logging framework\n\nBUILD SUCCESSFUL in 1s\n</code></pre>\n<p>What is the reason for this ? (I mean at least onError I am expecting but nothing...)</p>\n<p>note: <strong>mergeWith()</strong> is also not working with this <strong>delayElements()</strong></p>\n"},{"tags":["java","spring-security","spring-webflux"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1676745759,"post_id":75494714,"comment_id":133200862,"body_markdown":"Does this answer your question? [How to get spring security context in reactive webflux](https://stackoverflow.com/questions/71537058/how-to-get-spring-security-context-in-reactive-webflux). `subscribe` is not synchronous operation and your request ends before subscription happen. Instead of subscribing explicitly - return `Mono` from your controller","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71537058/how-to-get-spring-security-context-in-reactive-webflux\">How to get spring security context in reactive webflux</a>. <code>subscribe</code> is not synchronous operation and your request ends before subscription happen. Instead of subscribing explicitly - return <code>Mono</code> from your controller"},{"owner":{"account_id":5854293,"reputation":37,"user_id":4612086,"display_name":"jbabu"},"score":0,"creation_date":1676774136,"post_id":75494714,"comment_id":133204626,"body_markdown":"My actual requirement is access Authentication object and perform validation on the principal  it contains.  I am struggling to access Authentication.  I thought I can read Authentication through subscription approach but it was not helpful for the reasons you specified.","body":"My actual requirement is access Authentication object and perform validation on the principal  it contains.  I am struggling to access Authentication.  I thought I can read Authentication through subscription approach but it was not helpful for the reasons you specified."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676778440,"creation_date":1676778440,"answer_id":75497857,"question_id":75494714,"body_markdown":"Although *&quot;nothing happens until you subscribe&quot;*, you don&#39;t need to call `subscribe` explicitly. WebFlux will subscribe behind the scene if you return `Mono&lt;T&gt;`. You just need to build a flow combining different reactive operators.\r\n\r\n```\r\npublic Mono&lt;String&gt; test() {\r\n        return ReactiveSecurityContextHolder.getContext()\r\n                .map(ctx -&gt; validate(ctx.getAuthentication()));\r\n    }\r\n    \r\n    private String validate(Authentication authentication){\r\n        String name = ((Principal) authentication.getPrincipal()).getName();\r\n\r\n        // validate\r\n        return name;\r\n    }\r\n```","title":"Mono does not emit value when subscribed","body":"<p>Although <em>&quot;nothing happens until you subscribe&quot;</em>, you don't need to call <code>subscribe</code> explicitly. WebFlux will subscribe behind the scene if you return <code>Mono&lt;T&gt;</code>. You just need to build a flow combining different reactive operators.</p>\n<pre><code>public Mono&lt;String&gt; test() {\n        return ReactiveSecurityContextHolder.getContext()\n                .map(ctx -&gt; validate(ctx.getAuthentication()));\n    }\n    \n    private String validate(Authentication authentication){\n        String name = ((Principal) authentication.getPrincipal()).getName();\n\n        // validate\n        return name;\n    }\n</code></pre>\n"}],"owner":{"account_id":5854293,"reputation":37,"user_id":4612086,"display_name":"jbabu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75497857,"answer_count":1,"score":0,"last_activity_date":1679246444,"creation_date":1676737570,"question_id":75494714,"body_markdown":"\r\nI am trying to validate authentication in reactive spring application with Spring Security. I could not read content from Mono&lt;Authentication&gt; in the controller. It is not emitting any values when I subscribed. I have the following code in the controller:\r\n\r\n```\r\n@Controller\r\npublic class TestConroller {\r\n\r\n public void test(){\r\n   Mono&lt;Authentication&gt; monoAuth=ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication);\r\n   monoAuth.subscribe(authentication-&gt;validate(authentication) \r\n }\r\n private void validate(Authentication authentication){\r\n   System.out.println(authentication.getPrincipal().getName());\r\n }\r\n}\r\n``` \r\n\r\nThe validate method is never called\r\n\r\n","title":"Mono does not emit value when subscribed","body":"<p>I am trying to validate authentication in reactive spring application with Spring Security. I could not read content from Mono in the controller. It is not emitting any values when I subscribed. I have the following code in the controller:</p>\n<pre><code>@Controller\npublic class TestConroller {\n\n public void test(){\n   Mono&lt;Authentication&gt; monoAuth=ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication);\n   monoAuth.subscribe(authentication-&gt;validate(authentication) \n }\n private void validate(Authentication authentication){\n   System.out.println(authentication.getPrincipal().getName());\n }\n}\n</code></pre>\n<p>The validate method is never called</p>\n"},{"tags":["java","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":1,"creation_date":1652655925,"post_id":72252767,"comment_id":127652324,"body_markdown":"Perhaps use an appropriate framework?","body":"Perhaps use an appropriate framework?"},{"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"score":0,"creation_date":1652656030,"post_id":72252767,"comment_id":127652337,"body_markdown":"Unfortunately, Spring webflux is the option for me go with and checking the best way to achieve this.","body":"Unfortunately, Spring webflux is the option for me go with and checking the best way to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652765049,"creation_date":1652765049,"answer_id":72268561,"question_id":72252767,"body_markdown":"You can use `concurrency` param of the `flatMap` to limit maximum number of in-flight inner publishers.\r\n\r\n\r\n```\r\nMono&lt;String&gt; runJobs(final ReconDto req) {\r\n\treturn jobRepo.fetchJobs()\r\n\t\t\t.flatMap(job -&gt; runJob(job), 10)\r\n\t\t\t.then(Mono.just(req.getJobName()));\r\n}\r\n```\r\n\r\nIn non-reactive terms this is analog of the `ThreadPoolExecutor` with 10 threads.","title":"Spring webflux - Running job one after other","body":"<p>You can use <code>concurrency</code> param of the <code>flatMap</code> to limit maximum number of in-flight inner publishers.</p>\n<pre><code>Mono&lt;String&gt; runJobs(final ReconDto req) {\n    return jobRepo.fetchJobs()\n            .flatMap(job -&gt; runJob(job), 10)\n            .then(Mono.just(req.getJobName()));\n}\n</code></pre>\n<p>In non-reactive terms this is analog of the <code>ThreadPoolExecutor</code> with 10 threads.</p>\n"}],"owner":{"account_id":1723702,"reputation":8288,"user_id":1578872,"accept_rate":69,"display_name":"user1578872"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679246414,"creation_date":1652655828,"question_id":72252767,"body_markdown":"I am using Spring webflux and run multiple jobs. Each job will connect to an analytical DB and run a query which could take about 30 mins. I need to run 200 such jobs and I can have only 10 connections to DB. So, With the approach below, getting &quot;HikariPool-2 - Connection is not available, request timed out after 30005ms&quot; as 10 connections are already being in use and other queries in the queue is timing out. What is the alternative approach to handle this?\r\n\r\n    private Mono&lt;String&gt; runJobs(final ReconDto req) {\r\n    return jobRepo.fetchJobs().collectList()\r\n                                   .zipWhen((jobs) -&gt; Flux.fromIterable(jobs)\r\n                                                            .flatMap((job) -&gt; runJob( job)).collectList())\r\n                                   .flatMap(response -&gt; {\r\n                                       return Mono.just(req.getJobName());\r\n                                   });\r\n    }\r\n    \r\n    private Mono&lt;String&gt; runJob(final JobMeta job) {\r\n      // Here connecting to an analytical DB and running a query which might take 30 mins or so.\r\n    }\r\n\r\n","title":"Spring webflux - Running job one after other","body":"<p>I am using Spring webflux and run multiple jobs. Each job will connect to an analytical DB and run a query which could take about 30 mins. I need to run 200 such jobs and I can have only 10 connections to DB. So, With the approach below, getting &quot;HikariPool-2 - Connection is not available, request timed out after 30005ms&quot; as 10 connections are already being in use and other queries in the queue is timing out. What is the alternative approach to handle this?</p>\n<pre><code>private Mono&lt;String&gt; runJobs(final ReconDto req) {\nreturn jobRepo.fetchJobs().collectList()\n                               .zipWhen((jobs) -&gt; Flux.fromIterable(jobs)\n                                                        .flatMap((job) -&gt; runJob( job)).collectList())\n                               .flatMap(response -&gt; {\n                                   return Mono.just(req.getJobName());\n                               });\n}\n\nprivate Mono&lt;String&gt; runJob(final JobMeta job) {\n  // Here connecting to an analytical DB and running a query which might take 30 mins or so.\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1667502562,"post_id":74306842,"comment_id":131187984,"body_markdown":"`does not work` means what?","body":"<code>does not work</code> means what?"}],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1667537887,"creation_date":1667537887,"answer_id":74312414,"question_id":74306842,"body_markdown":"The reactive streams specification disallows `null` values in a sequence, therefore you can&#39;t use `map(UserAuthenticationToken::getUserPrincipalName)`.\r\n\r\nOne way to handle such case is to use `flatMap`\r\n\r\n```\r\nReactiveSecurityContextHolder.getContext()\r\n     .map(ctx -&gt; (UserAuthenticationToken) ctx.getAuthentication())\r\n     .flatMap(token -&gt; {\r\n        if (token.getUserPrincipalName() == null) {\r\n             return Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;));\r\n        }\r\n        \r\n        return Mono.just(token.getUserPrincipalName());\r\n     })\r\n```\r\n\r\nYou can also use `handle` operator  to remove any nulls. Reactor Reference Guide has a good example for [Using handle for a &quot;map and eliminate nulls&quot; scenario](https://projectreactor.io/docs/core/release/reference/#_handle)","title":"Throw exception by condition. Spring web flux","body":"<p>The reactive streams specification disallows <code>null</code> values in a sequence, therefore you can't use <code>map(UserAuthenticationToken::getUserPrincipalName)</code>.</p>\n<p>One way to handle such case is to use <code>flatMap</code></p>\n<pre><code>ReactiveSecurityContextHolder.getContext()\n     .map(ctx -&gt; (UserAuthenticationToken) ctx.getAuthentication())\n     .flatMap(token -&gt; {\n        if (token.getUserPrincipalName() == null) {\n             return Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;));\n        }\n        \n        return Mono.just(token.getUserPrincipalName());\n     })\n</code></pre>\n<p>You can also use <code>handle</code> operator  to remove any nulls. Reactor Reference Guide has a good example for <a href=\"https://projectreactor.io/docs/core/release/reference/#_handle\" rel=\"nofollow noreferrer\">Using handle for a &quot;map and eliminate nulls&quot; scenario</a></p>\n"}],"owner":{"account_id":13364598,"reputation":119,"user_id":9645351,"display_name":"Oleksandr Onopriienko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74312414,"answer_count":1,"score":0,"last_activity_date":1679246381,"creation_date":1667494381,"question_id":74306842,"body_markdown":"I have the following reactive code. And I want to throw my custom exception, if return value is null\r\n\r\n    ReactiveSecurityContextHolder.getContext()\r\n                    .map(SecurityContext::getAuthentication)\r\n                    .map(authentication -&gt;(UserAuthenticationToken) authentication)\r\n                    .map(UserAuthenticationToken::getUserPrincipalName)\r\n                    //Here I want to throw exception, if \r\n                     //UserAuthenticationToken::getUserPrincipalName will return null\r\n\r\n\r\nsomething like :\r\n\r\n     .map(UserAuthenticationToken::getUserPrincipalName)\r\n                   .switchIfEmpty(Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;)));\r\n\r\nor :\r\n\r\n    .map(UserAuthenticationToken::getUserPrincipalName)\r\n                   .filter(principal -&gt; !Objects.isNull(principal))\r\n                   .switchIfEmpty(Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;)))\r\n\r\ndoes not work.","title":"Throw exception by condition. Spring web flux","body":"<p>I have the following reactive code. And I want to throw my custom exception, if return value is null</p>\n<pre><code>ReactiveSecurityContextHolder.getContext()\n                .map(SecurityContext::getAuthentication)\n                .map(authentication -&gt;(UserAuthenticationToken) authentication)\n                .map(UserAuthenticationToken::getUserPrincipalName)\n                //Here I want to throw exception, if \n                 //UserAuthenticationToken::getUserPrincipalName will return null\n</code></pre>\n<p>something like :</p>\n<pre><code> .map(UserAuthenticationToken::getUserPrincipalName)\n               .switchIfEmpty(Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;)));\n</code></pre>\n<p>or :</p>\n<pre><code>.map(UserAuthenticationToken::getUserPrincipalName)\n               .filter(principal -&gt; !Objects.isNull(principal))\n               .switchIfEmpty(Mono.error(new MissingPrincipalException(&quot;Missing email field in the JWT token&quot;)))\n</code></pre>\n<p>does not work.</p>\n"},{"tags":["java","algorithm","graph-theory","euler-path"],"comments":[{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1679147519,"post_id":75774568,"comment_id":133671230,"body_markdown":"Your link is empty.  You have not tagged your question with the programming language.","body":"Your link is empty.  You have not tagged your question with the programming language."},{"owner":{"account_id":22180492,"reputation":9,"user_id":16424288,"display_name":"Mukesh Ranjan"},"score":0,"creation_date":1679216764,"post_id":75774568,"comment_id":133678723,"body_markdown":"Hi @ravenspoint Thanks for pointing out. I have corrected the link . Programming language is java. it would be good if someone suggests what can be done to improve the runtime of my implementation as basic tests are passing with my above solution. I am getting TLE for large value of n.","body":"Hi @ravenspoint Thanks for pointing out. I have corrected the link . Programming language is java. it would be good if someone suggests what can be done to improve the runtime of my implementation as basic tests are passing with my above solution. I am getting TLE for large value of n."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1679238318,"post_id":75774568,"comment_id":133681528,"body_markdown":"Your implementation is unnecessarily complex.  There is no need for all that pushing and popping.    Take a look at the implementation I have posted in my answer.","body":"Your implementation is unnecessarily complex.  There is no need for all that pushing and popping.    Take a look at the implementation I have posted in my answer."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1679241237,"post_id":75774568,"comment_id":133682003,"body_markdown":"Did you do any performance testing to check that your code was fit for purpose before submitting it?  You should post your performance requirement ( node count and run time ).  I have added results of performance testing to my answer - finding a euler path through a 10,000 node graph needs two seconds.","body":"Did you do any performance testing to check that your code was fit for purpose before submitting it?  You should post your performance requirement ( node count and run time ).  I have added results of performance testing to my answer - finding a euler path through a 10,000 node graph needs two seconds."}],"answers":[{"tags":[],"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679245731,"creation_date":1679154711,"answer_id":75776963,"question_id":75774568,"body_markdown":"The very first theorem of graph theory was presented in 1735 by [Leonhard Euler](https://en.wikipedia.org/wiki/Leonhard_Euler).\r\n\r\nThe problem was known as the [Seven Bridges of K&#246;nigsberg](https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg).[[80]](https://en.wikipedia.org/wiki/Leonhard_Euler#cite_note-bridge-83) The city of [K&#246;nigsberg](https://en.wikipedia.org/wiki/K%C3%B6nigsberg), [Prussia](https://en.wikipedia.org/wiki/Kingdom_of_Prussia) was set on the [Pregel](https://en.wikipedia.org/wiki/Pregolya) River, and included two large islands that were connected to each other and the mainland by seven bridges. The problem is to decide whether it is possible to follow a path that crosses each bridge exactly once and returns to the starting point. It is not possible: there is no [Eulerian circuit](https://en.wikipedia.org/wiki/Eulerian_path). \r\n\r\n![](https://upload.wikimedia.org/wikipedia/commons/5/5d/Konigsberg_bridges.png)\r\n\r\nIn modern graph theory terms the trick is to determine if every node has the same in-degree as its out-degree.  If they are equal, then every time the path reaches a node there must be an unused edge available to leave it.\r\n\r\nEuler&#39;s insight allows an algorithm to be designed to find the Euler circuit, if it exists, that is almost trivial\r\n\r\nAlgorithm:\r\n\r\n    ASSERT graph directed\r\n    ASSERT in-degree == out-degree for all vertices\r\n    SET vertex to first\r\n    WHILE true\r\n    \tADD vertex to circuit  \r\n    \tFIND next vertex along unused edge\r\n    \tMARK edge used\r\n    \tIF no unused edge\r\n    \t\tSTOP\r\n\r\nC++ method signature\r\n\r\n        /// @brief  Find euler path through graph\r\n        /// @param g graph\r\n        /// @return vector of vertex indices on path\r\n        /// If no euler path, exception thrown\r\n        \r\n        std::vector&lt;int&gt; euler( const cGraph&amp; g);\r\n\r\nUnit test:\r\n\r\n    TEST(Euler2)\r\n    {\r\n        raven::graph::cGraph g;\r\n        g.directed();\r\n        g.findorAdd(&quot;0&quot;,&quot;1&quot;);\r\n        g.findorAdd(&quot;0&quot;,&quot;6&quot;);\r\n        g.findorAdd(&quot;1&quot;,&quot;2&quot;);\r\n        g.findorAdd(&quot;2&quot;,&quot;0&quot;);\r\n        g.findorAdd(&quot;2&quot;,&quot;3&quot;);\r\n        g.findorAdd(&quot;3&quot;,&quot;4&quot;);\r\n        g.findorAdd(&quot;4&quot;,&quot;2&quot;);\r\n        g.findorAdd(&quot;4&quot;,&quot;5&quot;);\r\n        g.findorAdd(&quot;5&quot;,&quot;0&quot;);\r\n        g.findorAdd(&quot;6&quot;,&quot;4&quot;);\r\n    \r\n        auto act = euler(g);\r\n    \r\n        CHECK_EQUAL(8, act.size());\r\n\r\n        std::vector&lt;std::string&gt; exp1 { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;6&quot;, &quot;4&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;0&quot; };\r\n\r\n        auto sact = g.userName( act );\r\n\r\n        CHECK(std::equal(\r\n                exp1.begin(),\r\n                exp1.end(),\r\n                sact.begin()));\r\n    }\r\n\r\nC++ implementation:\r\n\r\n       std::vector&lt;int&gt; euler(const cGraph &amp;g)\r\n            {\r\n                // firewall\r\n                if (!g.isDirected())\r\n                    throw std::runtime_error(\r\n                        &quot;euler:  needs directed graph ( 2nd input line must be &#39;g&#39;)&quot;);\r\n                for (int vi = 0; vi &lt; g.vertexCount(); vi++)\r\n                    if (g.adjacentIn(vi).size() != g.adjacentOut(vi).size())\r\n                        throw std::runtime_error(\r\n                            &quot;euler: every vertex in-degree must equal out-degree&quot;);\r\n    \r\n                // working copy of graph\r\n                cGraph work = g;\r\n    \r\n                // list to store circuit\r\n                std::vector&lt;int&gt; circuit;\r\n    \r\n                // start at first vertex\r\n                int curr_v = 0;\r\n    \r\n                while (1)\r\n                {\r\n                    // add vertex to circuit\r\n                     circuit.push_back(curr_v);\r\n    \r\n                    // find next vertex along unused edge\r\n                    auto vadj = work.adjacentOut(curr_v);\r\n                    if (!vadj.size())\r\n                        break;\r\n                    int next_v = vadj[0];\r\n    \r\n                    // remove used edge\r\n                    work.remove(work.find(curr_v, next_v));\r\n    \r\n                    // continue from new vertex\r\n                    curr_v = next_v;\r\n                }\r\n    \r\n                return circuit;\r\n            }\r\n\r\nComplete application code:\r\n\r\nhttps://github.com/JamesBremner/PathFinder\r\n\r\nCode to generate random Euler graphs of specified node count:\r\n\r\n    void genEuler(const std::vector&lt;std::string&gt; &amp;q)\r\n    {\r\n        int vmax = atoi(q[1].c_str());\r\n        theGraph.clear();\r\n        theGraph.directed();\r\n        for (int k = 0; k &lt; vmax; k++)\r\n        {\r\n            theGraph.add(&quot;V&quot; + std::to_string(k));\r\n        }    \r\n        int v1 = 0;\r\n        for( int k = 0; k &lt; vmax; k++ )\r\n        {\r\n            int v2 = v1;\r\n            while( v2 == v1)\r\n                v2 = rand() % vmax;\r\n            theGraph.addEdge(v1,v2);\r\n            v1 = v2;\r\n        }\r\n        theGraph.addEdge(v1,0);\r\n    }\r\n\r\nPerformance Results:\r\n\r\n| Node Count | Run Time ( secs ) |\r\n|---|---|\r\n1,000 | 0.02\r\n10,000 | 2.0\r\n100,000 | 125.0\r\n\r\n","title":"Suggestions needed for improving eulerian path algorithm for CSES Mail Delivery problem","body":"<p>The very first theorem of graph theory was presented in 1735 by <a href=\"https://en.wikipedia.org/wiki/Leonhard_Euler\" rel=\"nofollow noreferrer\">Leonhard Euler</a>.</p>\n<p>The problem was known as the <a href=\"https://en.wikipedia.org/wiki/Seven_Bridges_of_K%C3%B6nigsberg\" rel=\"nofollow noreferrer\">Seven Bridges of Knigsberg</a>.<a href=\"https://en.wikipedia.org/wiki/Leonhard_Euler#cite_note-bridge-83\" rel=\"nofollow noreferrer\">[80]</a> The city of <a href=\"https://en.wikipedia.org/wiki/K%C3%B6nigsberg\" rel=\"nofollow noreferrer\">Knigsberg</a>, <a href=\"https://en.wikipedia.org/wiki/Kingdom_of_Prussia\" rel=\"nofollow noreferrer\">Prussia</a> was set on the <a href=\"https://en.wikipedia.org/wiki/Pregolya\" rel=\"nofollow noreferrer\">Pregel</a> River, and included two large islands that were connected to each other and the mainland by seven bridges. The problem is to decide whether it is possible to follow a path that crosses each bridge exactly once and returns to the starting point. It is not possible: there is no <a href=\"https://en.wikipedia.org/wiki/Eulerian_path\" rel=\"nofollow noreferrer\">Eulerian circuit</a>.</p>\n<p><img src=\"https://upload.wikimedia.org/wikipedia/commons/5/5d/Konigsberg_bridges.png\" alt=\"\" /></p>\n<p>In modern graph theory terms the trick is to determine if every node has the same in-degree as its out-degree.  If they are equal, then every time the path reaches a node there must be an unused edge available to leave it.</p>\n<p>Euler's insight allows an algorithm to be designed to find the Euler circuit, if it exists, that is almost trivial</p>\n<p>Algorithm:</p>\n<pre><code>ASSERT graph directed\nASSERT in-degree == out-degree for all vertices\nSET vertex to first\nWHILE true\n    ADD vertex to circuit  \n    FIND next vertex along unused edge\n    MARK edge used\n    IF no unused edge\n        STOP\n</code></pre>\n<p>C++ method signature</p>\n<pre><code>    /// @brief  Find euler path through graph\n    /// @param g graph\n    /// @return vector of vertex indices on path\n    /// If no euler path, exception thrown\n    \n    std::vector&lt;int&gt; euler( const cGraph&amp; g);\n</code></pre>\n<p>Unit test:</p>\n<pre><code>TEST(Euler2)\n{\n    raven::graph::cGraph g;\n    g.directed();\n    g.findorAdd(&quot;0&quot;,&quot;1&quot;);\n    g.findorAdd(&quot;0&quot;,&quot;6&quot;);\n    g.findorAdd(&quot;1&quot;,&quot;2&quot;);\n    g.findorAdd(&quot;2&quot;,&quot;0&quot;);\n    g.findorAdd(&quot;2&quot;,&quot;3&quot;);\n    g.findorAdd(&quot;3&quot;,&quot;4&quot;);\n    g.findorAdd(&quot;4&quot;,&quot;2&quot;);\n    g.findorAdd(&quot;4&quot;,&quot;5&quot;);\n    g.findorAdd(&quot;5&quot;,&quot;0&quot;);\n    g.findorAdd(&quot;6&quot;,&quot;4&quot;);\n\n    auto act = euler(g);\n\n    CHECK_EQUAL(8, act.size());\n\n    std::vector&lt;std::string&gt; exp1 { &quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;0&quot;, &quot;6&quot;, &quot;4&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;0&quot; };\n\n    auto sact = g.userName( act );\n\n    CHECK(std::equal(\n            exp1.begin(),\n            exp1.end(),\n            sact.begin()));\n}\n</code></pre>\n<p>C++ implementation:</p>\n<pre><code>   std::vector&lt;int&gt; euler(const cGraph &amp;g)\n        {\n            // firewall\n            if (!g.isDirected())\n                throw std::runtime_error(\n                    &quot;euler:  needs directed graph ( 2nd input line must be 'g')&quot;);\n            for (int vi = 0; vi &lt; g.vertexCount(); vi++)\n                if (g.adjacentIn(vi).size() != g.adjacentOut(vi).size())\n                    throw std::runtime_error(\n                        &quot;euler: every vertex in-degree must equal out-degree&quot;);\n\n            // working copy of graph\n            cGraph work = g;\n\n            // list to store circuit\n            std::vector&lt;int&gt; circuit;\n\n            // start at first vertex\n            int curr_v = 0;\n\n            while (1)\n            {\n                // add vertex to circuit\n                 circuit.push_back(curr_v);\n\n                // find next vertex along unused edge\n                auto vadj = work.adjacentOut(curr_v);\n                if (!vadj.size())\n                    break;\n                int next_v = vadj[0];\n\n                // remove used edge\n                work.remove(work.find(curr_v, next_v));\n\n                // continue from new vertex\n                curr_v = next_v;\n            }\n\n            return circuit;\n        }\n</code></pre>\n<p>Complete application code:</p>\n<p><a href=\"https://github.com/JamesBremner/PathFinder\" rel=\"nofollow noreferrer\">https://github.com/JamesBremner/PathFinder</a></p>\n<p>Code to generate random Euler graphs of specified node count:</p>\n<pre><code>void genEuler(const std::vector&lt;std::string&gt; &amp;q)\n{\n    int vmax = atoi(q[1].c_str());\n    theGraph.clear();\n    theGraph.directed();\n    for (int k = 0; k &lt; vmax; k++)\n    {\n        theGraph.add(&quot;V&quot; + std::to_string(k));\n    }    \n    int v1 = 0;\n    for( int k = 0; k &lt; vmax; k++ )\n    {\n        int v2 = v1;\n        while( v2 == v1)\n            v2 = rand() % vmax;\n        theGraph.addEdge(v1,v2);\n        v1 = v2;\n    }\n    theGraph.addEdge(v1,0);\n}\n</code></pre>\n<p>Performance Results:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Node Count</th>\n<th>Run Time ( secs )</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1,000</td>\n<td>0.02</td>\n</tr>\n<tr>\n<td>10,000</td>\n<td>2.0</td>\n</tr>\n<tr>\n<td>100,000</td>\n<td>125.0</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":22180492,"reputation":9,"user_id":16424288,"display_name":"Mukesh Ranjan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1679245731,"creation_date":1679126598,"question_id":75774568,"body_markdown":"I am getting time limit exceeded for my solution for [CSES Mail Delivery](https://cses.fi/problemset/task/1691/) for some test cases. \r\n\r\n&gt; Your task is to deliver mail to the inhabitants of a city. For this reason, you want to find a route whose starting and ending point are the post office, and that goes through every street exactly once.\r\n\r\nThe problem essentially requires finding eulerian path.For algorithm I referred following description of Hierholzers algorithm : [link](https://www.geeksforgeeks.org/hierholzers-algorithm-directed-graph/)\r\n\r\n\r\n\r\nFollowing are some code snippets of my solution :\r\n\r\n\r\n```\r\n        LinkedList&lt;Integer&gt; adj[] = new LinkedList[n];\r\n\r\n        ArrayDeque&lt;Integer&gt; s = new ArrayDeque&lt;&gt;();\r\n        s.push(0);\r\n        int curr_v = 0;\r\n        int g[][] = new int[n][n];\r\n        boolean flag = false;\r\n        while (!s.isEmpty()) {\r\n\r\n            flag = false;\r\n            while(adj[curr_v].size() &gt; 0) {\r\n                //System.out.println(curr_v);\r\n                int next_v = adj[curr_v].remove();\r\n                if(g[curr_v][next_v] == 1){\r\n                    continue;\r\n                }\r\n                flag = true;\r\n                s.push(curr_v);\r\n                g[curr_v][next_v] = 1;\r\n                g[next_v][curr_v] = 1;\r\n                curr_v = next_v;\r\n            }\r\n            if(!flag){\r\n                circuit.add(curr_v + 1);\r\n                curr_v = s.pop();\r\n            }\r\n        }\r\n\r\n```\r\nFull code can be found at [My submission link](https://cses.fi/paste/53327aa5958567ef56df6a/)\r\n\r\nCan someone please suggest me how I can improve above code to pass all tests\r\n","title":"Suggestions needed for improving eulerian path algorithm for CSES Mail Delivery problem","body":"<p>I am getting time limit exceeded for my solution for <a href=\"https://cses.fi/problemset/task/1691/\" rel=\"nofollow noreferrer\">CSES Mail Delivery</a> for some test cases.</p>\n<blockquote>\n<p>Your task is to deliver mail to the inhabitants of a city. For this reason, you want to find a route whose starting and ending point are the post office, and that goes through every street exactly once.</p>\n</blockquote>\n<p>The problem essentially requires finding eulerian path.For algorithm I referred following description of Hierholzers algorithm : <a href=\"https://www.geeksforgeeks.org/hierholzers-algorithm-directed-graph/\" rel=\"nofollow noreferrer\">link</a></p>\n<p>Following are some code snippets of my solution :</p>\n<pre><code>        LinkedList&lt;Integer&gt; adj[] = new LinkedList[n];\n\n        ArrayDeque&lt;Integer&gt; s = new ArrayDeque&lt;&gt;();\n        s.push(0);\n        int curr_v = 0;\n        int g[][] = new int[n][n];\n        boolean flag = false;\n        while (!s.isEmpty()) {\n\n            flag = false;\n            while(adj[curr_v].size() &gt; 0) {\n                //System.out.println(curr_v);\n                int next_v = adj[curr_v].remove();\n                if(g[curr_v][next_v] == 1){\n                    continue;\n                }\n                flag = true;\n                s.push(curr_v);\n                g[curr_v][next_v] = 1;\n                g[next_v][curr_v] = 1;\n                curr_v = next_v;\n            }\n            if(!flag){\n                circuit.add(curr_v + 1);\n                curr_v = s.pop();\n            }\n        }\n\n</code></pre>\n<p>Full code can be found at <a href=\"https://cses.fi/paste/53327aa5958567ef56df6a/\" rel=\"nofollow noreferrer\">My submission link</a></p>\n<p>Can someone please suggest me how I can improve above code to pass all tests</p>\n"},{"tags":["java","arrays","function","pointers","reference"],"answers":[{"comments":[{"owner":{"account_id":27954542,"reputation":28,"user_id":21347653,"display_name":"Wiscoteju"},"score":0,"creation_date":1679244922,"post_id":75783516,"comment_id":133682717,"body_markdown":"Hey @Le0pold, first of all thank you for your in-depth answer and taking your time. I think I now understand the problem. In the light of this, about my second question; there are no solutions that could be applied to achieve the same result without changing the return from void to int[] , am I correct?","body":"Hey @Le0pold, first of all thank you for your in-depth answer and taking your time. I think I now understand the problem. In the light of this, about my second question; there are no solutions that could be applied to achieve the same result without changing the return from void to int[] , am I correct?"},{"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"score":0,"creation_date":1679245214,"post_id":75783516,"comment_id":133682770,"body_markdown":"Hey @Wiscoteju, I wanted to preserve your algorithm - that&#39;s why I changed return type. Inside rotate function you still have reference to original array of ints. This means that you need to modify nums inside rotate function","body":"Hey @Wiscoteju, I wanted to preserve your algorithm - that&#39;s why I changed return type. Inside rotate function you still have reference to original array of ints. This means that you need to modify nums inside rotate function"}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679245640,"creation_date":1679244175,"answer_id":75783516,"question_id":75783310,"body_markdown":"To fix your code instead of doing \r\n\r\n    nums = newArr;\r\nas the last line of method rotate you should consider returning newArr and assiging new array/reassigning values:\r\n```java\r\nint[] nums = {1,2,3,4,5,6,7};\r\nSolution sol = new Solution();\r\nint[] result = sol.rotate(nums, 3);\r\nfor(int i : result) { System.out.println(i); }\r\n```\r\n\r\n```java\r\npublic int[] rotate(int[] nums, int k) {\r\n    &lt;...&gt; //code omitted for brevity\r\n    return newArr;\r\n}\r\n```\r\n\r\nSecond option (to preserve void return type) will be to treat *nums* array as resulting array (newArr). It will keep return type void and updates will be &quot;visible&quot; from main method\r\n\r\n**Explanation:**\r\nIn Java, when an object reference (in this case array of ints) is passed to a method, a copy of the reference is created and passed to the method. This means that the method receives a new reference that points to the same object as the original reference, but it is not the same reference.\r\n\r\nTo understand this, consider the following example:\r\n```java\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 2, 3};\r\n        changeArr(arr);\r\n        System.out.println(Arrays.toString(arr));\r\n    }\r\n    \r\n    public static void changeArr(int[] arr) {\r\n        arr[0] = 0;\r\n        arr = new int[] {4, 5, 6};\r\n    }\r\n}\r\n```\r\n\r\nIn this example, an array arr is created and initialized with {1, 2, 3}. The changeArr method is then called, passing in a reference to arr.\r\n\r\nInside the changeArr method, the first element of arr is changed to 0, which modifies the original array. However, a new array {4, 5, 6} is created and the arr reference is updated to point to this new array.\r\n\r\nWhen the method returns, the original reference arr still points to the modified array {0, 2, 3}, not to the new array {4, 5, 6}. This demonstrates that the reference passed to the method is different from the original reference, and that changes made to the object referred to by the reference are visible outside the method, but changes to the reference itself are not.","title":"Array turns back to its original form after being modified inside a function","body":"<p>To fix your code instead of doing</p>\n<pre><code>nums = newArr;\n</code></pre>\n<p>as the last line of method rotate you should consider returning newArr and assiging new array/reassigning values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] nums = {1,2,3,4,5,6,7};\nSolution sol = new Solution();\nint[] result = sol.rotate(nums, 3);\nfor(int i : result) { System.out.println(i); }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public int[] rotate(int[] nums, int k) {\n    &lt;...&gt; //code omitted for brevity\n    return newArr;\n}\n</code></pre>\n<p>Second option (to preserve void return type) will be to treat <em>nums</em> array as resulting array (newArr). It will keep return type void and updates will be &quot;visible&quot; from main method</p>\n<p><strong>Explanation:</strong>\nIn Java, when an object reference (in this case array of ints) is passed to a method, a copy of the reference is created and passed to the method. This means that the method receives a new reference that points to the same object as the original reference, but it is not the same reference.</p>\n<p>To understand this, consider the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n    public static void main(String[] args) {\n        int[] arr = {1, 2, 3};\n        changeArr(arr);\n        System.out.println(Arrays.toString(arr));\n    }\n    \n    public static void changeArr(int[] arr) {\n        arr[0] = 0;\n        arr = new int[] {4, 5, 6};\n    }\n}\n</code></pre>\n<p>In this example, an array arr is created and initialized with {1, 2, 3}. The changeArr method is then called, passing in a reference to arr.</p>\n<p>Inside the changeArr method, the first element of arr is changed to 0, which modifies the original array. However, a new array {4, 5, 6} is created and the arr reference is updated to point to this new array.</p>\n<p>When the method returns, the original reference arr still points to the modified array {0, 2, 3}, not to the new array {4, 5, 6}. This demonstrates that the reference passed to the method is different from the original reference, and that changes made to the object referred to by the reference are visible outside the method, but changes to the reference itself are not.</p>\n"}],"owner":{"account_id":27954542,"reputation":28,"user_id":21347653,"display_name":"Wiscoteju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783516,"answer_count":1,"score":1,"last_activity_date":1679245640,"creation_date":1679242124,"question_id":75783310,"body_markdown":"I was trying to do problem no. 189 in LeetCode but I encountered a problem. The code is as follows: \r\n\r\n```java\r\npublic class Solution {\r\n\tpublic void rotate(int[] nums, int k) {\r\n\t\tk %= nums.length;\r\n\t\tint[] newArr = new int[nums.length];\r\n\t\tfor(int i = 0; i &lt;= k; i++) {\r\n\t\t\tnewArr[i + k] = nums[i];\r\n\t\t}\r\n\t\tfor(int i = nums.length - k; i &lt; nums.length; i++) {\r\n\t\t\tnewArr[i - (nums.length - k)] = nums[i];\r\n\t\t}\r\n\t\tnums = newArr;\r\n\t}\r\n//function above should shift each element of the array &quot;nums&quot; to &quot;k&quot; times right\r\n//below is the main where I tried to check if it worked fine\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] nums = {1,2,3,4,5,6,7};\r\n\t\tSolution sol = new Solution();\r\n\t\tsol.rotate(nums, 3);\r\n\t\tfor(int i : nums) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nAfter getting a console print exactly same as the original form of the nums array, I decided to do debug. rotate function works properly and indeed serves it purpose (i.e. after the `nums = newArr;` line, nums indeed become {5,6,7,1,2,3,4}). However I noticed that after the function is called in the main and finishes its execution, nums array is turned back to its original form ({1,2,3,4,5,6,7}) rather than staying {5,6,7,1,2,3,4}. I wonder what causes this? How can I keep the changes I made in the function to the array while keeping the return type of the function void?","title":"Array turns back to its original form after being modified inside a function","body":"<p>I was trying to do problem no. 189 in LeetCode but I encountered a problem. The code is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public void rotate(int[] nums, int k) {\n        k %= nums.length;\n        int[] newArr = new int[nums.length];\n        for(int i = 0; i &lt;= k; i++) {\n            newArr[i + k] = nums[i];\n        }\n        for(int i = nums.length - k; i &lt; nums.length; i++) {\n            newArr[i - (nums.length - k)] = nums[i];\n        }\n        nums = newArr;\n    }\n//function above should shift each element of the array &quot;nums&quot; to &quot;k&quot; times right\n//below is the main where I tried to check if it worked fine\n    public static void main(String[] args) {\n        int[] nums = {1,2,3,4,5,6,7};\n        Solution sol = new Solution();\n        sol.rotate(nums, 3);\n        for(int i : nums) {\n            System.out.println(i);\n        }\n    }\n}\n</code></pre>\n<p>After getting a console print exactly same as the original form of the nums array, I decided to do debug. rotate function works properly and indeed serves it purpose (i.e. after the <code>nums = newArr;</code> line, nums indeed become {5,6,7,1,2,3,4}). However I noticed that after the function is called in the main and finishes its execution, nums array is turned back to its original form ({1,2,3,4,5,6,7}) rather than staying {5,6,7,1,2,3,4}. I wonder what causes this? How can I keep the changes I made in the function to the array while keeping the return type of the function void?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679245600,"post_id":75783508,"comment_id":133682824,"body_markdown":"Yes, but it&#39;s not really sql is it? `LOAD INFILE` is a MySql admin command. Perhaps it could be *made* to work but probably better to do batch updates using the csv file as input to the `INSERT`","body":"Yes, but it&#39;s not really sql is it? <code>LOAD INFILE</code> is a MySql admin command. Perhaps it could be <i>made</i> to work but probably better to do batch updates using the csv file as input to the <code>INSERT</code>"},{"owner":{"account_id":15040636,"reputation":69,"user_id":10855395,"display_name":"Vijayakumar Chava"},"score":0,"creation_date":1679245955,"post_id":75783508,"comment_id":133682875,"body_markdown":"Thanks for the suggestion. But my ask is to why the same not working with jdbc with REPLACE in the query. And how to make it work.\nI need to add 10M records and have 140 columns, LOAD works really faster.","body":"Thanks for the suggestion. But my ask is to why the same not working with jdbc with REPLACE in the query. And how to make it work. I need to add 10M records and have 140 columns, LOAD works really faster."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679246790,"post_id":75783508,"comment_id":133682998,"body_markdown":"Can you show us some data, and the table schema for a [mre]? (TBH I&#39;m surprised `LOAD DATA` works at all via JDBC.)","body":"Can you show us some data, and the table schema for a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? (TBH I&#39;m surprised <code>LOAD DATA</code> works at all via JDBC.)"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679246802,"post_id":75783508,"comment_id":133683003,"body_markdown":"(Also, the way the question is written, you are telling us that you have a command which works using JDBC and also does not work using JDBC... Which is a bit confusing - to me, anyway. I assume you mean &quot;works without `REPLACE` but does not work with `REPLACE`&quot;.)","body":"(Also, the way the question is written, you are telling us that you have a command which works using JDBC and also does not work using JDBC... Which is a bit confusing - to me, anyway. I assume you mean &quot;works without <code>REPLACE</code> but does not work with <code>REPLACE</code>&quot;.)"},{"owner":{"account_id":15040636,"reputation":69,"user_id":10855395,"display_name":"Vijayakumar Chava"},"score":0,"creation_date":1679247601,"post_id":75783508,"comment_id":133683151,"body_markdown":"Your understanding is right andrewJames. I could insert 3M records, so works with JDBC.","body":"Your understanding is right andrewJames. I could insert 3M records, so works with JDBC."}],"owner":{"account_id":15040636,"reputation":69,"user_id":10855395,"display_name":"Vijayakumar Chava"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679245390,"creation_date":1679244048,"question_id":75783508,"body_markdown":"On Mac, with mysql client ( which does not use jdbc) when I execute this command, it works without any issue:\r\n```\r\nLOAD DATA LOCAL INFILE &#39;myfile.csv&#39;  REPLACE INTO TABLE transaction_details FIELDS TERMINATED BY &#39;,&#39; LINES TERMINATED BY &#39;\\n&#39; IGNORE 1 LINES;\r\n```\r\nthis works with jdbc without any issue:(no REPLACE, so ignore duplicates)\r\n```\r\nLOAD DATA LOCAL INFILE &#39;myfile.csv&#39;  INTO TABLE transaction_details FIELDS TERMINATED BY &#39;,&#39; LINES TERMINATED BY &#39;\\n&#39; IGNORE 1 LINES;\r\n\r\n```\r\n\r\nWhen I execute the same command using jdbc, I see this exception:\r\n\r\n```\r\njava.sql.SQLException: Incorrect decimal value: &#39;&#39; for column &#39;our_rate&#39; at row 1\r\n```\r\n\r\nI suspect I may have to add some options to jdbc url, but I am not sure what they are.\r\nAny suggestion and help is appreciated.\r\n\r\nI have data, that includes new and updates to existing records and hence I need to use REPLACE and I know why I am doing this way.","title":"LOAD DATA LOCAL INFILE does not work with jdbc","body":"<p>On Mac, with mysql client ( which does not use jdbc) when I execute this command, it works without any issue:</p>\n<pre><code>LOAD DATA LOCAL INFILE 'myfile.csv'  REPLACE INTO TABLE transaction_details FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n' IGNORE 1 LINES;\n</code></pre>\n<p>this works with jdbc without any issue:(no REPLACE, so ignore duplicates)</p>\n<pre><code>LOAD DATA LOCAL INFILE 'myfile.csv'  INTO TABLE transaction_details FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\n' IGNORE 1 LINES;\n\n</code></pre>\n<p>When I execute the same command using jdbc, I see this exception:</p>\n<pre><code>java.sql.SQLException: Incorrect decimal value: '' for column 'our_rate' at row 1\n</code></pre>\n<p>I suspect I may have to add some options to jdbc url, but I am not sure what they are.\nAny suggestion and help is appreciated.</p>\n<p>I have data, that includes new and updates to existing records and hence I need to use REPLACE and I know why I am doing this way.</p>\n"},{"tags":["java","barcode","gs1-ai-syntax","gs1-128"],"answers":[{"comments":[{"owner":{"account_id":251832,"reputation":227,"user_id":529475,"accept_rate":83,"display_name":"archangle"},"score":0,"creation_date":1302984731,"post_id":5686508,"comment_id":6498101,"body_markdown":"@roland-illig\nThank you very much, that was of great help to me but knowing that not all barcode scanners provide FNC1 char, we need here a little more complicated algorithm. The template provided by barcode4j (http://barcode4j.cvs.sourceforge.net/viewvc/barcode4j/barcode4j/src/java/org/krysalis/barcode4j/impl/code128/EAN128AIs.properties?revision=1.1&amp;view=markup) would be a good starting point. But because i&#39;ve believed that there should be such a library out there so i do not have to reinvent the wheel, i wanted to ask here. \nApparently there is no such library.","body":"@roland-illig Thank you very much, that was of great help to me but knowing that not all barcode scanners provide FNC1 char, we need here a little more complicated algorithm. The template provided by barcode4j (<a href=\"http://barcode4j.cvs.sourceforge.net/viewvc/barcode4j/barcode4j/src/java/org/krysalis/barcode4j/impl/code128/EAN128AIs.properties?revision=1.1&amp;view=markup\" rel=\"nofollow noreferrer\">barcode4j.cvs.sourceforge.net/viewvc/barcode4j/barcode4j/sr&zwnj;&#8203;c/&hellip;</a>) would be a good starting point. But because i&#39;ve believed that there should be such a library out there so i do not have to reinvent the wheel, i wanted to ask here.  Apparently there is no such library."},{"owner":{"account_id":5276947,"reputation":2966,"user_id":4213436,"accept_rate":50,"display_name":"JDenais"},"score":0,"creation_date":1569263229,"post_id":5686508,"comment_id":102532178,"body_markdown":"I don&#39;t know if your code works (I will try it) but I just wanted to thank you for taking the time to code this.","body":"I don&#39;t know if your code works (I will try it) but I just wanted to thank you for taking the time to code this."},{"owner":{"account_id":5276947,"reputation":2966,"user_id":4213436,"accept_rate":50,"display_name":"JDenais"},"score":0,"creation_date":1569264249,"post_id":5686508,"comment_id":102532619,"body_markdown":"I don&#39;t know if your code works (I will try it) but I just wanted to thank you for taking the time to code this.","body":"I don&#39;t know if your code works (I will try it) but I just wanted to thank you for taking the time to code this."}],"tags":[],"owner":{"account_id":79673,"reputation":40911,"user_id":225757,"accept_rate":72,"display_name":"Roland Illig"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1302957307,"creation_date":1302957307,"answer_id":5686508,"question_id":5685964,"body_markdown":"I don&#39;t know of any, and neither does Google CodeSearch: http://www.google.com/codesearch?q=getAdditionalProductIdentification\r\n\r\nAnyway, writing your own isn&#39;t that difficult. This one took me less than an hour:\r\n\r\n    package so5685964;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.joda.time.DateMidnight;\r\n    \r\n    import com.google.common.collect.Maps;\r\n    \r\n    public class GS1Code128Data {\r\n    \r\n      /** Maps the AI to the corresponding data from the barcode. */\r\n      private final Map&lt;String, String&gt; data = Maps.newHashMap();\r\n    \r\n      private static final Map&lt;String, AII&gt; aiinfo = Maps.newHashMap();\r\n    \r\n      static class AII {\r\n        final int minLength;\r\n        final int maxLength;\r\n    \r\n        public AII(String id, int minLength, int maxLength) {\r\n          this.minLength = minLength;\r\n          this.maxLength = maxLength;\r\n        }\r\n      }\r\n    \r\n      private static void ai(String id, int minLength, int maxLength) {\r\n        aiinfo.put(id, new AII(id, minLength, maxLength));\r\n      }\r\n    \r\n      private static void ai(String id, int length) {\r\n        aiinfo.put(id, new AII(id, length, length));\r\n      }\r\n    \r\n      static {\r\n        ai(&quot;00&quot;, 18, 18);\r\n        ai(&quot;01&quot;, 14);\r\n        ai(&quot;02&quot;, 14);\r\n        ai(&quot;10&quot;, 1, 20);\r\n        ai(&quot;11&quot;, 6);\r\n        ai(&quot;12&quot;, 6);\r\n        // TODO: continue according to http://en.wikipedia.org/wiki/GS1-128\r\n      }\r\n    \r\n      /**\r\n       * Decodes a Unicode string from a Code128-like encoding.\r\n       *\r\n       * @param fnc1 The character that represents FNC1.\r\n       */\r\n      public GS1Code128Data(String s, char fnc1) {\r\n        StringBuilder ai = new StringBuilder();\r\n        int index = 0;\r\n        while (index &lt; s.length()) {\r\n          ai.append(s.charAt(index++));\r\n          AII info = aiinfo.get(ai.toString());\r\n          if (info != null) {\r\n            StringBuilder value = new StringBuilder();\r\n            for (int i = 0; i &lt; info.maxLength &amp;&amp; index &lt; s.length(); i++) {\r\n              char c = s.charAt(index++);\r\n              if (c == fnc1) {\r\n                break;\r\n              }\r\n              value.append(c);\r\n            }\r\n            if (value.length() &lt; info.minLength) {\r\n              throw new IllegalArgumentException(&quot;Short field for AI \\&quot;&quot; + ai + &quot;\\&quot;: \\&quot;&quot; + value + &quot;\\&quot;.&quot;);\r\n            }\r\n            data.put(ai.toString(), value.toString());\r\n            ai.setLength(0);\r\n          }\r\n        }\r\n        if (ai.length() &gt; 0) {\r\n          throw new IllegalArgumentException(&quot;Unknown AI \\&quot;&quot; + ai + &quot;\\&quot;.&quot;);\r\n        }\r\n      }\r\n    \r\n      private static DateMidnight asDate(String s) {\r\n        if (s == null) {\r\n          return null;\r\n        }\r\n        String century = s.compareTo(&quot;500000&quot;) &lt; 0 ? &quot;20&quot; : &quot;19&quot;;\r\n        return new DateMidnight(century + s);\r\n      }\r\n    \r\n      public DateMidnight getDueDate() {\r\n        return asDate(data.get(&quot;12&quot;));\r\n      }\r\n    }\r\n\r\nAnd some demonstration code:\r\n\r\n    package so5685964;\r\n    \r\n    public class BarcodeDemo {\r\n    \r\n      public static void main(String[] args) {\r\n        String barcode = &quot;12110416&quot;;\r\n    \r\n        GS1Code128Data data = new GS1Code128Data(barcode, &#39;\\f&#39;);\r\n    \r\n        System.out.println(data.getDueDate());\r\n      }\r\n    }\r\n\r\nWhen you assume that your input is already a `String`, pay attention to encoding issues. The `FNC1` code does not have a corresponding Unicode Code Point, so it has to be encoded in some other way.\r\n","title":"Decoding EAN-128 (and other GS1 barcodes)","body":"<p>I don't know of any, and neither does Google CodeSearch: <a href=\"http://www.google.com/codesearch?q=getAdditionalProductIdentification\" rel=\"noreferrer\">http://www.google.com/codesearch?q=getAdditionalProductIdentification</a></p>\n\n<p>Anyway, writing your own isn't that difficult. This one took me less than an hour:</p>\n\n<pre><code>package so5685964;\n\nimport java.util.Map;\n\nimport org.joda.time.DateMidnight;\n\nimport com.google.common.collect.Maps;\n\npublic class GS1Code128Data {\n\n  /** Maps the AI to the corresponding data from the barcode. */\n  private final Map&lt;String, String&gt; data = Maps.newHashMap();\n\n  private static final Map&lt;String, AII&gt; aiinfo = Maps.newHashMap();\n\n  static class AII {\n    final int minLength;\n    final int maxLength;\n\n    public AII(String id, int minLength, int maxLength) {\n      this.minLength = minLength;\n      this.maxLength = maxLength;\n    }\n  }\n\n  private static void ai(String id, int minLength, int maxLength) {\n    aiinfo.put(id, new AII(id, minLength, maxLength));\n  }\n\n  private static void ai(String id, int length) {\n    aiinfo.put(id, new AII(id, length, length));\n  }\n\n  static {\n    ai(\"00\", 18, 18);\n    ai(\"01\", 14);\n    ai(\"02\", 14);\n    ai(\"10\", 1, 20);\n    ai(\"11\", 6);\n    ai(\"12\", 6);\n    // TODO: continue according to http://en.wikipedia.org/wiki/GS1-128\n  }\n\n  /**\n   * Decodes a Unicode string from a Code128-like encoding.\n   *\n   * @param fnc1 The character that represents FNC1.\n   */\n  public GS1Code128Data(String s, char fnc1) {\n    StringBuilder ai = new StringBuilder();\n    int index = 0;\n    while (index &lt; s.length()) {\n      ai.append(s.charAt(index++));\n      AII info = aiinfo.get(ai.toString());\n      if (info != null) {\n        StringBuilder value = new StringBuilder();\n        for (int i = 0; i &lt; info.maxLength &amp;&amp; index &lt; s.length(); i++) {\n          char c = s.charAt(index++);\n          if (c == fnc1) {\n            break;\n          }\n          value.append(c);\n        }\n        if (value.length() &lt; info.minLength) {\n          throw new IllegalArgumentException(\"Short field for AI \\\"\" + ai + \"\\\": \\\"\" + value + \"\\\".\");\n        }\n        data.put(ai.toString(), value.toString());\n        ai.setLength(0);\n      }\n    }\n    if (ai.length() &gt; 0) {\n      throw new IllegalArgumentException(\"Unknown AI \\\"\" + ai + \"\\\".\");\n    }\n  }\n\n  private static DateMidnight asDate(String s) {\n    if (s == null) {\n      return null;\n    }\n    String century = s.compareTo(\"500000\") &lt; 0 ? \"20\" : \"19\";\n    return new DateMidnight(century + s);\n  }\n\n  public DateMidnight getDueDate() {\n    return asDate(data.get(\"12\"));\n  }\n}\n</code></pre>\n\n<p>And some demonstration code:</p>\n\n<pre><code>package so5685964;\n\npublic class BarcodeDemo {\n\n  public static void main(String[] args) {\n    String barcode = \"12110416\";\n\n    GS1Code128Data data = new GS1Code128Data(barcode, '\\f');\n\n    System.out.println(data.getDueDate());\n  }\n}\n</code></pre>\n\n<p>When you assume that your input is already a <code>String</code>, pay attention to encoding issues. The <code>FNC1</code> code does not have a corresponding Unicode Code Point, so it has to be encoded in some other way.</p>\n"},{"tags":[],"owner":{"account_id":191477,"reputation":2845,"user_id":2568535,"display_name":"Terry Burton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676682607,"creation_date":1676682607,"answer_id":75490549,"question_id":5685964,"body_markdown":"The GS1 Barcode Syntax Engine is a native library with a Java binding that is purpose built for processing GS1 Application Identifier syntax.\r\n\r\nhttps://github.com/gs1/gs1-syntax-engine","title":"Decoding EAN-128 (and other GS1 barcodes)","body":"<p>The GS1 Barcode Syntax Engine is a native library with a Java binding that is purpose built for processing GS1 Application Identifier syntax.</p>\n<p><a href=\"https://github.com/gs1/gs1-syntax-engine\" rel=\"nofollow noreferrer\">https://github.com/gs1/gs1-syntax-engine</a></p>\n"}],"owner":{"account_id":251832,"reputation":227,"user_id":529475,"accept_rate":83,"display_name":"archangle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6229,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679245375,"creation_date":1302950627,"question_id":5685964,"body_markdown":"There are lots of components out there creating/parsing barcode images but i could not manage to find a library which parses a EAN-128 barcode-string and gives me simply a java-pojo object from which I can get EAN-128 groups if they were included in the barcode.\r\n\r\nExample pseudocode:\r\n\r\n    EAN128Pojo pojo = EAN128Pojo.parse(some string got from scanner);\r\n    Date dueDate = pojo.getDueDate();\r\n\r\nor\r\n\r\n    Object dueDate = pojo.get(&quot;12&quot; /*application identifier for due date*/);\r\n\r\nIs there any library capable of this?","title":"Decoding EAN-128 (and other GS1 barcodes)","body":"<p>There are lots of components out there creating/parsing barcode images but i could not manage to find a library which parses a EAN-128 barcode-string and gives me simply a java-pojo object from which I can get EAN-128 groups if they were included in the barcode.</p>\n<p>Example pseudocode:</p>\n<pre><code>EAN128Pojo pojo = EAN128Pojo.parse(some string got from scanner);\nDate dueDate = pojo.getDueDate();\n</code></pre>\n<p>or</p>\n<pre><code>Object dueDate = pojo.get(&quot;12&quot; /*application identifier for due date*/);\n</code></pre>\n<p>Is there any library capable of this?</p>\n"},{"tags":["java","url","apache-commons","url-validation"],"answers":[{"tags":[],"owner":{"account_id":2812230,"reputation":287,"user_id":2418235,"accept_rate":75,"display_name":"Ian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458225466,"creation_date":1458225466,"answer_id":36063717,"question_id":35757298,"body_markdown":"I ended up figuring out a possible way to do it, but i did not use it or implement it. When the url is not valid I was going to put it into another check using the DomainValidator ([source][1]). I was planning on using the updateTLDOverride method, but they have a bug in v 1.5.0 where a parameter of the method call uses a private or protected variable. This was fixed in 1.5.1 but I was using Maven and the repo only goes to version 1.5.0 for the validators. \r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/DomainValidator.html","title":"Adding domain to UrlValidator in apache.commons","body":"<p>I ended up figuring out a possible way to do it, but i did not use it or implement it. When the url is not valid I was going to put it into another check using the DomainValidator (<a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/DomainValidator.html\" rel=\"nofollow\">source</a>). I was planning on using the updateTLDOverride method, but they have a bug in v 1.5.0 where a parameter of the method call uses a private or protected variable. This was fixed in 1.5.1 but I was using Maven and the repo only goes to version 1.5.0 for the validators. </p>\n"},{"tags":[],"owner":{"account_id":8153173,"reputation":419,"user_id":6139576,"display_name":"Stephane BEAUFORT"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566816775,"creation_date":1566816775,"answer_id":57656502,"question_id":35757298,"body_markdown":"You can find below a JUnit test case.\r\n\r\n    import org.apache.commons.validator.routines.DomainValidator;\r\n    import org.apache.commons.validator.routines.UrlValidator;\r\n    \r\n    class UrlValidatorTestCase extends TestCase {\r\n    \r\n      private static final String[] GENERIC_TLDS_PLUS = new String[] { &quot;corp&quot; };\r\n    \r\n      static {\r\n    \tDomainValidator.updateTLDOverride(DomainValidator.ArrayType.GENERIC_PLUS, GENERIC_TLDS_PLUS);\r\n      }\r\n    \r\n      public void test_UrlValidator_isValid_corp_tld() {\r\n        assertTrue(UrlValidator.getInstance().isValid(&quot;http://domainlabel.corp&quot;));\r\n      }\r\n    }\r\n\r\nTested with commons-validator 1.6","title":"Adding domain to UrlValidator in apache.commons","body":"<p>You can find below a JUnit test case.</p>\n\n<pre><code>import org.apache.commons.validator.routines.DomainValidator;\nimport org.apache.commons.validator.routines.UrlValidator;\n\nclass UrlValidatorTestCase extends TestCase {\n\n  private static final String[] GENERIC_TLDS_PLUS = new String[] { \"corp\" };\n\n  static {\n    DomainValidator.updateTLDOverride(DomainValidator.ArrayType.GENERIC_PLUS, GENERIC_TLDS_PLUS);\n  }\n\n  public void test_UrlValidator_isValid_corp_tld() {\n    assertTrue(UrlValidator.getInstance().isValid(\"http://domainlabel.corp\"));\n  }\n}\n</code></pre>\n\n<p>Tested with commons-validator 1.6</p>\n"}],"owner":{"account_id":2812230,"reputation":287,"user_id":2418235,"accept_rate":75,"display_name":"Ian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3209,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679245101,"creation_date":1456950024,"question_id":35757298,"body_markdown":"So I am using the Commons UrlValidator (org.apache.commons.validator.routines.UrlValidator) and I was wondering if there was a way to customize the domains it allows. Right now it seems to only allow TLD&#39;s but I have one or two I want to be valid that arent on that list e.g &quot;.corp&quot; (list is found here: http://data.iana.org/TLD/tlds-alpha-by-domain.txt). Is there a setting or a work around so I dont have to create my own url validator and can just use this one with the added domains?","title":"Adding domain to UrlValidator in apache.commons","body":"<p>So I am using the Commons UrlValidator (org.apache.commons.validator.routines.UrlValidator) and I was wondering if there was a way to customize the domains it allows. Right now it seems to only allow TLD's but I have one or two I want to be valid that arent on that list e.g &quot;.corp&quot; (list is found here: <a href=\"http://data.iana.org/TLD/tlds-alpha-by-domain.txt\" rel=\"nofollow noreferrer\">http://data.iana.org/TLD/tlds-alpha-by-domain.txt</a>). Is there a setting or a work around so I dont have to create my own url validator and can just use this one with the added domains?</p>\n"},{"tags":["java","apache","tomcat"],"comments":[{"owner":{"account_id":81202,"reputation":12119,"user_id":229106,"accept_rate":76,"display_name":"ankitjaininfo"},"score":0,"creation_date":1383819896,"post_id":1003738,"comment_id":29491911,"body_markdown":"possible duplicate of [Tomcat stopped without any log or any stack](http://stackoverflow.com/questions/10300883/tomcat-stopped-without-any-log-or-any-stack)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10300883/tomcat-stopped-without-any-log-or-any-stack\">Tomcat stopped without any log or any stack</a>"},{"owner":{"account_id":10036962,"reputation":1,"user_id":7421213,"display_name":"Anuj Sharma"},"score":0,"creation_date":1484479413,"post_id":1003738,"comment_id":70523449,"body_markdown":"Try debugging bin folder. Something apache tomcat require must not be present.\nI copied another working tomcat bin folder and it started working.","body":"Try debugging bin folder. Something apache tomcat require must not be present. I copied another working tomcat bin folder and it started working."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1549283736,"post_id":1003738,"comment_id":95835352,"body_markdown":"@AnujSharma how to debugg bin folder.","body":"@AnujSharma how to debugg bin folder."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1549283795,"post_id":1003738,"comment_id":95835389,"body_markdown":"@supersheep me also having the same problem.Are u able to solve this??","body":"@supersheep me also having the same problem.Are u able to solve this??"}],"answers":[{"comments":[{"owner":{"display_name":"supersheep"},"score":1,"creation_date":1245185152,"post_id":1003799,"comment_id":812723,"body_markdown":"The logs are at &quot;debug&quot; and are logging stuff, but not when tomcat stops.","body":"The logs are at &quot;debug&quot; and are logging stuff, but not when tomcat stops."},{"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"score":1,"creation_date":1245186191,"post_id":1003799,"comment_id":812826,"body_markdown":"that is a strong indication that something below tomcat is causing this failure - it could be something *really* bad in the JVM or an external entity just killing the jvm using a kill -9 like signal","body":"that is a strong indication that something below tomcat is causing this failure - it could be something <i>really</i> bad in the JVM or an external entity just killing the jvm using a kill -9 like signal"},{"owner":{"display_name":"supersheep"},"score":0,"creation_date":1245187295,"post_id":1003799,"comment_id":812904,"body_markdown":"isn&#39;t kill a linux/unix command? Anyway, I get what you mean, but that&#39;s still weird :|","body":"isn&#39;t kill a linux/unix command? Anyway, I get what you mean, but that&#39;s still weird :|"},{"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"score":0,"creation_date":1245187655,"post_id":1003799,"comment_id":812938,"body_markdown":"kill is a linux/unix command. The windows equivalent of this would be to kill the java process from the task manager","body":"kill is a linux/unix command. The windows equivalent of this would be to kill the java process from the task manager"}],"tags":[],"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1245184313,"creation_date":1245184313,"answer_id":1003799,"question_id":1003738,"body_markdown":"things to look for in debugging an issue like this:\r\n\r\n- Look at the logs directory ($TOMCAT_ROOT/logs) to make sure none of the log files have any stack traces\r\n- Look at the tomcat startup script to make check the location of the log files to see if the logs are not being written to another directory.\r\n- Another reason could be some other user/process could be issuing a kill -9 that could kill tomcat without giving it any chance to log errors.","title":"Tomcat shuts down automatically","body":"<p>things to look for in debugging an issue like this:</p>\n\n<ul>\n<li>Look at the logs directory ($TOMCAT_ROOT/logs) to make sure none of the log files have any stack traces</li>\n<li>Look at the tomcat startup script to make check the location of the log files to see if the logs are not being written to another directory.</li>\n<li>Another reason could be some other user/process could be issuing a kill -9 that could kill tomcat without giving it any chance to log errors.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":0,"creation_date":1245184867,"post_id":1003807,"comment_id":812692,"body_markdown":"I use to have it with a combination of Java 1.4.2 and FreeBSD 5.7 (don&#39;t ask me why we had this OS for running Java) - every time there was a NullPointerException, the JVM got segmentation fault.","body":"I use to have it with a combination of Java 1.4.2 and FreeBSD 5.7 (don&#39;t ask me why we had this OS for running Java) - every time there was a NullPointerException, the JVM got segmentation fault."},{"owner":{"display_name":"supersheep"},"score":0,"creation_date":1245185018,"post_id":1003807,"comment_id":812711,"body_markdown":"I&#39;m using 6.0.18\nThe Java version is the same since we installed the project\nWe&#39;re not using Tomcat Native\nI&#39;m going to look for a hs_err_pid*.log (I don&#39;t have direct access to the prod server)... Where should it be on a Windows box?","body":"I&#39;m using 6.0.18 The Java version is the same since we installed the project We&#39;re not using Tomcat Native I&#39;m going to look for a hs_err_pid*.log (I don&#39;t have direct access to the prod server)... Where should it be on a Windows box?"},{"owner":{"account_id":252277,"reputation":523,"user_id":530217,"display_name":"Michael Manner"},"score":0,"creation_date":1428698658,"post_id":1003807,"comment_id":47290142,"body_markdown":"In case of OpenJDK the crash logs could look like `/tmp/jvm-*/hs_error.log`.","body":"In case of OpenJDK the crash logs could look like <code>&#47;tmp&#47;jvm-*&#47;hs_error.log</code>."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1497611479,"post_id":1003807,"comment_id":76163177,"body_markdown":"@Matt Solnit  Where should be the hs_err_pid*.log file located in linux server???","body":"@Matt Solnit  Where should be the hs_err_pid*.log file located in linux server???"}],"tags":[],"owner":{"account_id":4177,"reputation":32472,"user_id":6198,"accept_rate":86,"display_name":"Matt Solnit"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1245184734,"creation_date":1245184397,"answer_id":1003807,"question_id":1003738,"body_markdown":"This sounds like the JVM is crashing.  Have you looked for a JVM crash log?  It typically has a name like hs\\_err\\_pid*.log and is created in the JVM&#39;s working directory.\r\n\r\nIf you find a file like this and upload it, then we can probably help more.\r\n\r\nSome questions:\r\n\r\n - Have you recently changed the version of Java you are using?\r\n - What is the exact version of Tomcat you are using?\r\n - Are you using Tomcat Native (the Apache Portable Runtime)?","title":"Tomcat shuts down automatically","body":"<p>This sounds like the JVM is crashing.  Have you looked for a JVM crash log?  It typically has a name like hs_err_pid*.log and is created in the JVM's working directory.</p>\n\n<p>If you find a file like this and upload it, then we can probably help more.</p>\n\n<p>Some questions:</p>\n\n<ul>\n<li>Have you recently changed the version of Java you are using?</li>\n<li>What is the exact version of Tomcat you are using?</li>\n<li>Are you using Tomcat Native (the Apache Portable Runtime)?</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":18929,"reputation":5197,"user_id":43864,"accept_rate":62,"display_name":"neesh"},"score":1,"creation_date":1245184728,"post_id":1003826,"comment_id":812679,"body_markdown":"I think he does say that the app runs normally for a few mins before tomcat dies. It wouldn&#39;t come up at all if the port is in use.","body":"I think he does say that the app runs normally for a few mins before tomcat dies. It wouldn&#39;t come up at all if the port is in use."},{"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"score":0,"creation_date":1245184855,"post_id":1003826,"comment_id":812689,"body_markdown":"i agree this is an outlier.  those elusive logs would be great, wouldnt they?","body":"i agree this is an outlier.  those elusive logs would be great, wouldnt they?"},{"owner":{"display_name":"supersheep"},"score":0,"creation_date":1245185121,"post_id":1003826,"comment_id":812721,"body_markdown":"If there was a &quot;magic application&quot; that was &quot;stealing&quot; the port, we would not be able to restart tomcat after it stops, but we can.","body":"If there was a &quot;magic application&quot; that was &quot;stealing&quot; the port, we would not be able to restart tomcat after it stops, but we can."}],"tags":[],"owner":{"account_id":36166,"reputation":38849,"user_id":103043,"display_name":"akf"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245184638,"creation_date":1245184638,"answer_id":1003826,"question_id":1003738,"body_markdown":"another possibility is that some process was started this morning on the box that is binding to a port that your server requires.","title":"Tomcat shuts down automatically","body":"<p>another possibility is that some process was started this morning on the box that is binding to a port that your server requires.</p>\n"},{"comments":[{"owner":{"display_name":"supersheep"},"score":0,"creation_date":1245188096,"post_id":1004019,"comment_id":812989,"body_markdown":"It&#39;s very unlikely because it worked for weeks before it happened and now it stops each 5 minutes... weird :|  But we made test with the datas and war on another server and it seems OK. It looks like a configuration problem somewhere.","body":"It&#39;s very unlikely because it worked for weeks before it happened and now it stops each 5 minutes... weird :|  But we made test with the datas and war on another server and it seems OK. It looks like a configuration problem somewhere."}],"tags":[],"owner":{"account_id":27398,"reputation":24962,"user_id":72312,"accept_rate":78,"display_name":"Macke"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245187516,"creation_date":1245187516,"answer_id":1004019,"question_id":1003738,"body_markdown":"Are your servlets or one of it&#39;s dependencies allowed to call System.exit()? (Not sure how locked down Tomcat VMs are in that sense)\r\n\r\nI&#39;ve had developers thinking it&#39;s ok to use exit(666); on detecting a non-invertable matrix (which isn&#39;t good, but sure as heck not fatal). Arrgh. Perhaps you have some similar culprit in your system?","title":"Tomcat shuts down automatically","body":"<p>Are your servlets or one of it's dependencies allowed to call System.exit()? (Not sure how locked down Tomcat VMs are in that sense)</p>\n\n<p>I've had developers thinking it's ok to use exit(666); on detecting a non-invertable matrix (which isn't good, but sure as heck not fatal). Arrgh. Perhaps you have some similar culprit in your system?</p>\n"},{"tags":[],"owner":{"account_id":1227720,"reputation":195,"user_id":1192972,"display_name":"Phanindra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359552591,"creation_date":1359551346,"answer_id":14604826,"question_id":1003738,"body_markdown":"Recently I had this problem, If somebody faces the same issue in future I hope this will help.\r\n\r\n**Scenario:** Tomcat shuts down without any logs or errors\r\n\r\n**Root Cause for my problem:** synchronized method accessed from a task using `TimerTask`\r\n\r\nI had a singleton class with a synchronized method accessed from various threads based on timer or user action\r\nsome times this method will take up to few minutes to complete. When `TimerTask` is waiting on this method for sometime (I guess timer is timed out /thread is killed or something is happening in the background) and the moment the lock on the method is released the tomcat is getting killed.\r\n\r\nSo I removed synchronized keyword and removed singleton and made some code changes for thread safety. Then the problem is gone.\r\n\r\n**How I found out:** I had a log statement in the first line of synchronized method and everytime the tomcat shutdowns i found this message in the last few lines.\r\n\r\nRegards,\r\nPhanindra Kasturi","title":"Tomcat shuts down automatically","body":"<p>Recently I had this problem, If somebody faces the same issue in future I hope this will help.</p>\n\n<p><strong>Scenario:</strong> Tomcat shuts down without any logs or errors</p>\n\n<p><strong>Root Cause for my problem:</strong> synchronized method accessed from a task using <code>TimerTask</code></p>\n\n<p>I had a singleton class with a synchronized method accessed from various threads based on timer or user action\nsome times this method will take up to few minutes to complete. When <code>TimerTask</code> is waiting on this method for sometime (I guess timer is timed out /thread is killed or something is happening in the background) and the moment the lock on the method is released the tomcat is getting killed.</p>\n\n<p>So I removed synchronized keyword and removed singleton and made some code changes for thread safety. Then the problem is gone.</p>\n\n<p><strong>How I found out:</strong> I had a log statement in the first line of synchronized method and everytime the tomcat shutdowns i found this message in the last few lines.</p>\n\n<p>Regards,\nPhanindra Kasturi</p>\n"},{"tags":[],"owner":{"account_id":3482687,"reputation":159,"user_id":2914314,"display_name":"connect2krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422310572,"creation_date":1422310572,"answer_id":28159751,"question_id":1003738,"body_markdown":"I noticed CATALINA_OPTS in my path and that was set for a lower JVM size. Hence, the crash and no log trace of tomcat was found. The server automatically shutdown in less than 2 hrs.\r\n\r\ncheck, CATALINA_OPTS or JAVA_OPTS -- these might have jvm settings. either increase them or comment them out and increase the swap memory.","title":"Tomcat shuts down automatically","body":"<p>I noticed CATALINA_OPTS in my path and that was set for a lower JVM size. Hence, the crash and no log trace of tomcat was found. The server automatically shutdown in less than 2 hrs.</p>\n\n<p>check, CATALINA_OPTS or JAVA_OPTS -- these might have jvm settings. either increase them or comment them out and increase the swap memory.</p>\n"},{"comments":[{"owner":{"account_id":2114883,"reputation":1337,"user_id":1879409,"accept_rate":60,"display_name":"Pali"},"score":0,"creation_date":1500014883,"post_id":31279810,"comment_id":77164935,"body_markdown":"Thank you, this was also my problem!","body":"Thank you, this was also my problem!"},{"owner":{"account_id":2369438,"reputation":401,"user_id":2074378,"accept_rate":20,"display_name":"Sumit"},"score":0,"creation_date":1500571416,"post_id":31279810,"comment_id":77409001,"body_markdown":"@Rory McCrossan: I have same issue with little variation, tomcat is not shutting down every 5-10 mins but randomly some times. I didn&#39;t understand your solution. I start my tomcat from startup.sh file. Please suggest what to do?","body":"@Rory McCrossan: I have same issue with little variation, tomcat is not shutting down every 5-10 mins but randomly some times. I didn&#39;t understand your solution. I start my tomcat from startup.sh file. Please suggest what to do?"},{"owner":{"account_id":245734,"reputation":332718,"user_id":519413,"accept_rate":97,"display_name":"Rory McCrossan"},"score":0,"creation_date":1500580726,"post_id":31279810,"comment_id":77414440,"body_markdown":"@Sumit I only edited the format of the answer - you may want to ask vierab instead","body":"@Sumit I only edited the format of the answer - you may want to ask vierab instead"},{"owner":{"account_id":401367,"reputation":23742,"user_id":767881,"accept_rate":14,"display_name":"Ravinder Reddy"},"score":0,"creation_date":1542345900,"post_id":31279810,"comment_id":93543487,"body_markdown":"@vierb or @ any other tomcat expert: the given link is now broken. could you please elaborate your answer further. check if you can remember and recall what you read on the given linked page.","body":"@vierb or @ any other tomcat expert: the given link is now broken. could you please elaborate your answer further. check if you can remember and recall what you read on the given linked page."},{"owner":{"account_id":5624068,"reputation":1977,"user_id":4453027,"accept_rate":45,"display_name":"KJEjava48"},"score":0,"creation_date":1549285372,"post_id":31279810,"comment_id":95836243,"body_markdown":"@vierab where was this line &quot;tail -f catalina.out&quot; in u r case.Can u specify that file.How do u solved this problem.Can u elaborate u r answer","body":"@vierab where was this line &quot;tail -f catalina.out&quot; in u r case.Can u specify that file.How do u solved this problem.Can u elaborate u r answer"}],"tags":[],"owner":{"account_id":2713717,"reputation":61,"user_id":2341532,"display_name":"vierab"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616508119,"creation_date":1436305281,"answer_id":31279810,"question_id":1003738,"body_markdown":"My script to start tomcat had last line `tail -f catalina.out`.\r\n\r\nSometime I did not kill this script, the shell then timed out and killed the script with all child processes, including tomcat.\r\n\r\n","title":"Tomcat shuts down automatically","body":"<p>My script to start tomcat had last line <code>tail -f catalina.out</code>.</p>\n<p>Sometime I did not kill this script, the shell then timed out and killed the script with all child processes, including tomcat.</p>\n"},{"tags":[],"owner":{"account_id":6652374,"reputation":1,"user_id":5133946,"display_name":"Niresh S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437375574,"creation_date":1437375574,"answer_id":31510434,"question_id":1003738,"body_markdown":"**The Service on local computer started and then stopped ,Some services stop automatically if there are not in use by other services or programs.**\r\n\r\nI gone through the problem i have tried so many ways to get out of the problem finally i got the solution as follows.\r\n\r\n**1)**      Click **Run** Command from start button.\r\n\r\n**2)**      Enter **Services.msc** then click OK,you will get all the services in your computer.\r\n\r\n**3)**      Select your service and right click on the **service and select Properties**\r\n\r\n**4)**      Goto Logon Properties and select  **Local System Account** then click OK.\r\n\r\nThis will work.","title":"Tomcat shuts down automatically","body":"<p><strong>The Service on local computer started and then stopped ,Some services stop automatically if there are not in use by other services or programs.</strong></p>\n\n<p>I gone through the problem i have tried so many ways to get out of the problem finally i got the solution as follows.</p>\n\n<p><strong>1)</strong>      Click <strong>Run</strong> Command from start button.</p>\n\n<p><strong>2)</strong>      Enter <strong>Services.msc</strong> then click OK,you will get all the services in your computer.</p>\n\n<p><strong>3)</strong>      Select your service and right click on the <strong>service and select Properties</strong></p>\n\n<p><strong>4)</strong>      Goto Logon Properties and select  <strong>Local System Account</strong> then click OK.</p>\n\n<p>This will work.</p>\n"},{"tags":[],"owner":{"account_id":12573113,"reputation":31,"user_id":9146528,"display_name":"Harpreet Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524842622,"creation_date":1524842622,"answer_id":50065596,"question_id":1003738,"body_markdown":"Sometime it happens if some other program is running on the same port. For example Skype. Shut down that program before you start Tomcat.","title":"Tomcat shuts down automatically","body":"<p>Sometime it happens if some other program is running on the same port. For example Skype. Shut down that program before you start Tomcat.</p>\n"},{"comments":[{"owner":{"account_id":3732221,"reputation":566,"user_id":4361933,"accept_rate":0,"display_name":"&#214;MER TACI"},"score":1,"creation_date":1544443851,"post_id":52401084,"comment_id":94265338,"body_markdown":"Thanks, this shows me a critical point.  There is no enough memory and CPU resource at JVM for my both two applications which using java.","body":"Thanks, this shows me a critical point.  There is no enough memory and CPU resource at JVM for my both two applications which using java."}],"tags":[],"owner":{"account_id":11374006,"reputation":359,"user_id":8338842,"display_name":"Kaushal Dokania"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537344453,"creation_date":1537344453,"answer_id":52401084,"question_id":1003738,"body_markdown":"Faced this issue recently.\r\n\r\n**Scenario** : Tomcat started successfully but automatically gets shut down after 1 hour and sometimes this happened after 1 day and nothing is there in tomcat logs.\r\n\r\n**Issue** : Actual issue was high memory usage and no free SWAP memory.\r\n\r\n**How I found the solution**\r\n\r\nIf tomcat don&#39;t show any logs, then there must be something in system logs so, I checked `/var/log/messages` but since permission denied for me I tried `/var/log/dmesg` and got this\r\n\r\n&quot;Out of memory: Kill process 14606 (java) score 106 or sacrifice child&quot;.\r\n\r\nIn the output I noticed **Swap Memory free 0 K**. Ran `top` command to confirm the same. So, somehow there was a high memory usage which caused the OS to kill my tomcat process.\r\n\r\nAfter spending hours finally got the reason.\r\n\r\n`ps -ef | grep tomcat` showed that there were several tomcat processes running for the same application. It seems that, earlier tomcat shutdowns might not have taken successfully and the processes were not killed even after the shutdown due to some reason, which was causing the high memory usage.\r\n\r\nSo, killed all running tomcat processes using `kill`. SWAP memory got freed.\r\n\r\nStarted tomcat again, worked fine. :)","title":"Tomcat shuts down automatically","body":"<p>Faced this issue recently.</p>\n\n<p><strong>Scenario</strong> : Tomcat started successfully but automatically gets shut down after 1 hour and sometimes this happened after 1 day and nothing is there in tomcat logs.</p>\n\n<p><strong>Issue</strong> : Actual issue was high memory usage and no free SWAP memory.</p>\n\n<p><strong>How I found the solution</strong></p>\n\n<p>If tomcat don't show any logs, then there must be something in system logs so, I checked <code>/var/log/messages</code> but since permission denied for me I tried <code>/var/log/dmesg</code> and got this</p>\n\n<p>\"Out of memory: Kill process 14606 (java) score 106 or sacrifice child\".</p>\n\n<p>In the output I noticed <strong>Swap Memory free 0 K</strong>. Ran <code>top</code> command to confirm the same. So, somehow there was a high memory usage which caused the OS to kill my tomcat process.</p>\n\n<p>After spending hours finally got the reason.</p>\n\n<p><code>ps -ef | grep tomcat</code> showed that there were several tomcat processes running for the same application. It seems that, earlier tomcat shutdowns might not have taken successfully and the processes were not killed even after the shutdown due to some reason, which was causing the high memory usage.</p>\n\n<p>So, killed all running tomcat processes using <code>kill</code>. SWAP memory got freed.</p>\n\n<p>Started tomcat again, worked fine. :)</p>\n"},{"tags":[],"owner":{"account_id":16765782,"reputation":1,"user_id":12119483,"display_name":"Mohitkatta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615457603,"creation_date":1615457603,"answer_id":66580448,"question_id":1003738,"body_markdown":"try to clean your elipse projects  because you could have tried to add another server which used port 8080 then when you try to execute the tomcat server externally that defaulty uses port 8080 the tomcat server automatically shutdowns after cleaning the project copy the new war file and paste it in bin it works fine \r\nconclusion: when the server tries to use the port which has already been acquired you will see such type of issues.","title":"Tomcat shuts down automatically","body":"<p>try to clean your elipse projects  because you could have tried to add another server which used port 8080 then when you try to execute the tomcat server externally that defaulty uses port 8080 the tomcat server automatically shutdowns after cleaning the project copy the new war file and paste it in bin it works fine\nconclusion: when the server tries to use the port which has already been acquired you will see such type of issues.</p>\n"},{"tags":[],"owner":{"account_id":21860394,"reputation":11,"user_id":16151263,"display_name":"Anulal Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679245019,"creation_date":1679245019,"answer_id":75783591,"question_id":1003738,"body_markdown":"Please check in /var/log/messages. If you find anything similar to &quot;java stopped out of memory&quot;. Then it is due to low memory(RAM) of the system. Check the RAM available and CPU utilization. You can solve this issue by increasing the RAM of your system.","title":"Tomcat shuts down automatically","body":"<p>Please check in /var/log/messages. If you find anything similar to &quot;java stopped out of memory&quot;. Then it is due to low memory(RAM) of the system. Check the RAM available and CPU utilization. You can solve this issue by increasing the RAM of your system.</p>\n"}],"owner":{"display_name":"supersheep"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84388,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":12,"score":18,"last_activity_date":1679245019,"creation_date":1245183436,"question_id":1003738,"body_markdown":"I&#39;m using Apache and Tomcat on a Windows server and since this morning, Tomcat stops working without any logs. It doesn&#39;t hang, it just shut down.  \r\nThere&#39;s no log in Tomcat, the CPU/Memory are fines, there are no `System.Exit` in my code. \r\n\r\nAnybody ever had this problem?\r\n\r\nIt happens at random, after 5-10 minutes. The application responds normally and sometime, boom.. stops working.\r\n\r\nUPDATE : Still no clue. The Admin team will install the webapp on another box...","title":"Tomcat shuts down automatically","body":"<p>I'm using Apache and Tomcat on a Windows server and since this morning, Tomcat stops working without any logs. It doesn't hang, it just shut down.<br>\nThere's no log in Tomcat, the CPU/Memory are fines, there are no <code>System.Exit</code> in my code. </p>\n\n<p>Anybody ever had this problem?</p>\n\n<p>It happens at random, after 5-10 minutes. The application responds normally and sometime, boom.. stops working.</p>\n\n<p>UPDATE : Still no clue. The Admin team will install the webapp on another box...</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":20678479,"reputation":33,"user_id":15182594,"display_name":"Gabriel Dragomir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679244790,"creation_date":1679244790,"answer_id":75783574,"question_id":75783391,"body_markdown":"Question was already answered here - https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\r\n\r\nThe changes that have also worked for me are the following:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;)\r\n    WebDriver driver=new ChromeDriver(options);\r\n    driver.get(&quot;https://google.com&quot;);","title":"Unable to invoke browser and also unable to hit any url to launch","body":"<p>Question was already answered here - <a href=\"https://stackoverflow.com/questions/75678572/java-io-ioexception-invalid-status-code-403-text-forbidden\">Java.io.IOException: Invalid Status code=403 text=Forbidden</a></p>\n<p>The changes that have also worked for me are the following:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;)\nWebDriver driver=new ChromeDriver(options);\ndriver.get(&quot;https://google.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":28058723,"reputation":1,"user_id":21433314,"display_name":"Shobhita Raushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679244790,"creation_date":1679242951,"question_id":75783391,"body_markdown":"I am unable to launch the URL. I am unable to run the following program successfully.\r\n\r\nCode:\r\n\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class FirstJavaProgram {\r\n\t@SuppressWarnings(&quot;unused&quot;)\r\n\tpublic static void main(String[] args) \r\n\t{\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\t\t//@SuppressWarnings(&quot;unused&quot;)\r\n\t\tWebDriver driver=new ChromeDriver();\r\n\t\tdriver.get(&quot;https://google.com&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nConsole:\r\n\r\n```none\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 22905\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\nMar 19, 2023 9:38:30 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\nWARNING: Invalid Status code=403 text=Forbidden\r\njava.io.IOException: Invalid Status code=403 text=Forbidden\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\r\n\tat org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\r\n\tat org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:51292/devtools/browser/736b4a3f-c140-491e-8b67-e4fa11b177af\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\r\n\tat org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\r\n\tat org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\r\n\tat java.base/java.util.Optional.map(Optional.java:260)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\r\n\tat FirstJavaProgram.main(FirstJavaProgram.java:16)\r\n```\r\n\r\nI was trying to invoke browser and hit google but it is not happening instead it is throwing above error.","title":"Unable to invoke browser and also unable to hit any url to launch","body":"<p>I am unable to launch the URL. I am unable to run the following program successfully.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstJavaProgram {\n    @SuppressWarnings(&quot;unused&quot;)\n    public static void main(String[] args) \n    {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\Shobhita\\\\Downloads\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        //@SuppressWarnings(&quot;unused&quot;)\n        WebDriver driver=new ChromeDriver();\n        driver.get(&quot;https://google.com&quot;);\n    }\n}\n</code></pre>\n<p>Console:</p>\n<pre class=\"lang-none prettyprint-override\"><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 22905\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nMar 19, 2023 9:38:30 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Invalid Status code=403 text=Forbidden\njava.io.IOException: Invalid Status code=403 text=Forbidden\n    at org.asynchttpclient.netty.handler.WebSocketHandler.abort(WebSocketHandler.java:92)\n    at org.asynchttpclient.netty.handler.WebSocketHandler.handleRead(WebSocketHandler.java:118)\n    at org.asynchttpclient.netty.handler.AsyncHttpClientHandler.channelRead(AsyncHttpClientHandler.java:78)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:454)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nException in thread &quot;main&quot; org.openqa.selenium.remote.http.ConnectionFailedException: Unable to establish websocket connection to http://localhost:51292/devtools/browser/736b4a3f-c140-491e-8b67-e4fa11b177af\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.&lt;init&gt;(NettyWebSocket.java:102)\n    at org.openqa.selenium.remote.http.netty.NettyWebSocket.lambda$create$3(NettyWebSocket.java:128)\n    at org.openqa.selenium.remote.http.netty.NettyClient.openSocket(NettyClient.java:107)\n    at org.openqa.selenium.devtools.Connection.&lt;init&gt;(Connection.java:78)\n    at org.openqa.selenium.chromium.ChromiumDriver.lambda$new$2(ChromiumDriver.java:116)\n    at java.base/java.util.Optional.map(Optional.java:260)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:114)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:82)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:50)\n    at FirstJavaProgram.main(FirstJavaProgram.java:16)\n</code></pre>\n<p>I was trying to invoke browser and hit google but it is not happening instead it is throwing above error.</p>\n"},{"tags":["java","spring-boot","rest","logging"],"owner":{"account_id":11470688,"reputation":51,"user_id":8407617,"display_name":"Jagrat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679244144,"creation_date":1679227528,"question_id":75781853,"body_markdown":"I have 1 controller class in which my API is as follow\r\n\r\n```\r\n@Async(&quot;jobThreadPoolExecutorService&quot;)\r\n\t@RequestMapping(value = &quot;/processplan&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;?&gt; processplan() {\r\n\t\tmyService.processplan();\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n\t}\r\n```\r\n\r\nAfter that in Impl class i have defined the method and wrote all code as follow\r\n\r\n```\r\n@Override\r\n\tpublic void processplan() {\r\n\t\tlog.info(&quot;start processing plan&quot;);\r\n\t\tSet&lt;String&gt; keySets = template.keys(&quot;planNo&quot;);\r\n\t\tif (!CollectionUtils.isEmpty(keySets)) {\r\n\t\t\tlog.error(&quot;task already running. Discarding this task.&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n                // some code\r\n                log.info(&quot;process completed&quot;);\r\n\r\n```\r\n\r\nSince the request is async the request id is not printed in these logs. It&#39;s difficult to track request in logs in such cases . How to achieve the same.\r\n\r\nI am using @Slf4j logging.\r\n\r\n\r\nThis the code of the Thread Class\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class ThreadPoolConfiguration implements AsyncConfigurer {\r\n\r\n\t@Value(&quot;${job.thread.pool.parallelism:50}&quot;)\r\n\tprivate Integer jobThreadParallelism;\r\n\r\n\r\n\t@Override\r\n\t@Bean(&quot;threadPoolExecutorService&quot;)\r\n\t@Primary\r\n\tpublic ExecutorService getAsyncExecutor() {\r\n\t\treturn ThreadUtils.getAsyncExecutor(jobThreadParallelism);\r\n\t}\r\n\r\n\t@Bean(&quot;jobThreadPoolExecutorService&quot;)\r\n\tpublic ExecutorService jobThreadPoolExecutorService() {\r\n\t\treturn ThreadUtils.getAsyncExecutor(jobThreadParallelism);\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n\t\treturn new SimpleAsyncUncaughtExceptionHandler();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nPS : For sync requests the request id is coming in each of the log.\r\n\r\nI tried all the possible solutions from the various articles and stack overflow solutions but not able to achieve the same.","title":"How to add request id in logs if the api is async in java 8 using springboot","body":"<p>I have 1 controller class in which my API is as follow</p>\n<pre><code>@Async(&quot;jobThreadPoolExecutorService&quot;)\n    @RequestMapping(value = &quot;/processplan&quot;, method = RequestMethod.GET)\n    public ResponseEntity&lt;?&gt; processplan() {\n        myService.processplan();\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n</code></pre>\n<p>After that in Impl class i have defined the method and wrote all code as follow</p>\n<pre><code>@Override\n    public void processplan() {\n        log.info(&quot;start processing plan&quot;);\n        Set&lt;String&gt; keySets = template.keys(&quot;planNo&quot;);\n        if (!CollectionUtils.isEmpty(keySets)) {\n            log.error(&quot;task already running. Discarding this task.&quot;);\n            return;\n        }\n                // some code\n                log.info(&quot;process completed&quot;);\n\n</code></pre>\n<p>Since the request is async the request id is not printed in these logs. It's difficult to track request in logs in such cases . How to achieve the same.</p>\n<p>I am using @Slf4j logging.</p>\n<p>This the code of the Thread Class</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ThreadPoolConfiguration implements AsyncConfigurer {\n\n    @Value(&quot;${job.thread.pool.parallelism:50}&quot;)\n    private Integer jobThreadParallelism;\n\n\n    @Override\n    @Bean(&quot;threadPoolExecutorService&quot;)\n    @Primary\n    public ExecutorService getAsyncExecutor() {\n        return ThreadUtils.getAsyncExecutor(jobThreadParallelism);\n    }\n\n    @Bean(&quot;jobThreadPoolExecutorService&quot;)\n    public ExecutorService jobThreadPoolExecutorService() {\n        return ThreadUtils.getAsyncExecutor(jobThreadParallelism);\n    }\n\n    \n    @Override\n    public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n        return new SimpleAsyncUncaughtExceptionHandler();\n    }\n\n}\n</code></pre>\n<p>PS : For sync requests the request id is coming in each of the log.</p>\n<p>I tried all the possible solutions from the various articles and stack overflow solutions but not able to achieve the same.</p>\n"},{"tags":["java","arrays","charat"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1679242339,"post_id":75783317,"comment_id":133682223,"body_markdown":"Yes, that makes sense, because 51 is the UTF-16 code unit for &#39;3&#39;. (So no, you&#39;re not getting incorrect output - you just have incorrect expectations.)","body":"Yes, that makes sense, because 51 is the UTF-16 code unit for &#39;3&#39;. (So no, you&#39;re not getting incorrect output - you just have incorrect expectations.)"},{"owner":{"account_id":18250134,"reputation":39,"user_id":13285308,"display_name":"Xayyna"},"score":0,"creation_date":1679242630,"post_id":75783317,"comment_id":133682284,"body_markdown":"So how do I get 3?","body":"So how do I get 3?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679244323,"post_id":75783317,"comment_id":133682614,"body_markdown":"Well you could use `Character.digit`... but it&#39;s not really clear what your goal is in the first place. If you&#39;re trying to parse a string as an integer, there are already other ways of doing that. (But you&#39;re converting a number into the string to start with... it&#39;s all *really* confusing, because you haven&#39;t explained what you&#39;re trying to do.)","body":"Well you could use <code>Character.digit</code>... but it&#39;s not really clear what your goal is in the first place. If you&#39;re trying to parse a string as an integer, there are already other ways of doing that. (But you&#39;re converting a number into the string to start with... it&#39;s all <i>really</i> confusing, because you haven&#39;t explained what you&#39;re trying to do.)"}],"answers":[{"comments":[{"owner":{"account_id":18250134,"reputation":39,"user_id":13285308,"display_name":"Xayyna"},"score":0,"creation_date":1679244060,"post_id":75783457,"comment_id":133682567,"body_markdown":"Im getting: Cannot resolve method &#39;parseString&#39; in &#39;Integer&#39;","body":"Im getting: Cannot resolve method &#39;parseString&#39; in &#39;Integer&#39;"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1679244145,"post_id":75783457,"comment_id":133682580,"body_markdown":"sorry corrected it now to parseInt()","body":"sorry corrected it now to parseInt()"}],"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679244128,"creation_date":1679243544,"answer_id":75783457,"question_id":75783317,"body_markdown":"You are getting an ``int`` instead of a ``char`` because you are implicitly converting the char into an int in this line:\r\n\r\n```\r\nint base= str.charAt(i);\r\n```\r\n\r\nYou can convert the character to a number like this:\r\n\r\n```\r\nint base= Integer.parseInt(str.substring(i,i+1));\r\n```\r\n\r\nThis will throw an exception if the substring is not a number so you&#39;ll need to handle that.","title":"Getting incorrect output for my charAt funciton","body":"<p>You are getting an <code>int</code> instead of a <code>char</code> because you are implicitly converting the char into an int in this line:</p>\n<pre><code>int base= str.charAt(i);\n</code></pre>\n<p>You can convert the character to a number like this:</p>\n<pre><code>int base= Integer.parseInt(str.substring(i,i+1));\n</code></pre>\n<p>This will throw an exception if the substring is not a number so you'll need to handle that.</p>\n"}],"owner":{"account_id":18250134,"reputation":39,"user_id":13285308,"display_name":"Xayyna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75783457,"answer_count":1,"score":0,"last_activity_date":1679244128,"creation_date":1679242193,"question_id":75783317,"body_markdown":"I have this function, and for some reason even though str =30, and i=0, str.charAt(i) gives me 51.\r\n\r\n```java\r\nprivate static void handleArmstrong(int parameter) {\r\n    int number;\r\n    for (number = 0; number &lt; parameter+1; number++) {\r\n        String str= Integer.toString(number);\r\n        int len=str.length();\r\n        double result=0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            int base= str.charAt(0);\r\n            result=+Math.pow(base,len);\r\n        };\r\n    }\r\n}\r\n```","title":"Getting incorrect output for my charAt funciton","body":"<p>I have this function, and for some reason even though str =30, and i=0, str.charAt(i) gives me 51.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void handleArmstrong(int parameter) {\n    int number;\n    for (number = 0; number &lt; parameter+1; number++) {\n        String str= Integer.toString(number);\n        int len=str.length();\n        double result=0;\n        for (int i = 0; i &lt; len; i++) {\n            int base= str.charAt(0);\n            result=+Math.pow(base,len);\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679243921,"creation_date":1679243921,"answer_id":75783493,"question_id":75783411,"body_markdown":"Thats because ``InputStreamReader`` assumes the default charset by default (per the Javadocs).\r\n\r\nYou should specify the charset of the file you&#39;re reading as you did in the second example like this:\r\n\r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\r\n```\r\n\r\nThe only problem is that it may not be possible to know what encoding your file has. For example in Windows you could assume ISO, but there may also be UTF-8 files. \r\n\r\nSome solutions to this problem are discussed here: https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream\r\n\r\nUsing external libraries.","title":"Mapping from ISO_8859_1 to UTF-8","body":"<p>Thats because <code>InputStreamReader</code> assumes the default charset by default (per the Javadocs).</p>\n<p>You should specify the charset of the file you're reading as you did in the second example like this:</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\n</code></pre>\n<p>The only problem is that it may not be possible to know what encoding your file has. For example in Windows you could assume ISO, but there may also be UTF-8 files.</p>\n<p>Some solutions to this problem are discussed here: <a href=\"https://stackoverflow.com/questions/499010/java-how-to-determine-the-correct-charset-encoding-of-a-stream\">Java : How to determine the correct charset encoding of a stream</a></p>\n<p>Using external libraries.</p>\n"}],"owner":{"account_id":27461478,"reputation":31,"user_id":20951963,"display_name":"pawel asdasdad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679243921,"creation_date":1679243147,"question_id":75783411,"body_markdown":"When using \r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream))\r\n```\r\n and then mapping each line like\r\n``` \r\n String(bufferedReader.readLine().getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);\r\n ```\r\nfor some cases doesnt map as expected\r\n\r\nwhen using \r\n```\r\nnew BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\r\nit sees characters as expected\r\n ```\r\n\r\nI cannot use second second method with providing the charset to InputStreamReader. Any idea why it wouldn&#39;t work?","title":"Mapping from ISO_8859_1 to UTF-8","body":"<p>When using</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream))\n</code></pre>\n<p>and then mapping each line like</p>\n<pre><code> String(bufferedReader.readLine().getBytes(StandardCharsets.ISO_8859_1), StandardCharsets.UTF_8);\n</code></pre>\n<p>for some cases doesnt map as expected</p>\n<p>when using</p>\n<pre><code>new BufferedReader(new InputStreamReader(inputStream, StandardCharsets.ISO_8859_1))\nit sees characters as expected\n</code></pre>\n<p>I cannot use second second method with providing the charset to InputStreamReader. Any idea why it wouldn't work?</p>\n"},{"tags":["java","jena","ontology"],"comments":[{"owner":{"account_id":25844446,"reputation":1956,"user_id":19579546,"display_name":"Stefan - brox IT-Solutions"},"score":0,"creation_date":1679311346,"post_id":75783454,"comment_id":133692943,"body_markdown":"Did you try `file:///:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf`?","body":"Did you try <code>file:&#47;&#47;&#47;:&#47;Users&#47;xeniy&#47;Desktop&#47;DomenEng_04&#47;L01_easy_for_L04.&zwnj;&#8203;rdf</code>?"},{"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":" "},"score":0,"creation_date":1679331965,"post_id":75783454,"comment_id":133699102,"body_markdown":"No, it doesn&#39;t work. Still DoesNotExistException.","body":"No, it doesn&#39;t work. Still DoesNotExistException."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1679337922,"post_id":75783454,"comment_id":133700662,"body_markdown":"This is androjena, not Apache Jena. Androjena is a very old fork.  It&#39;s for Android so maybe &quot;C:&quot; isn&#39;t correct. Try `file:///Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf`.","body":"This is androjena, not Apache Jena. Androjena is a very old fork.  It&#39;s for Android so maybe &quot;C:&quot; isn&#39;t correct. Try <code>file:&#47;&#47;&#47;Users&#47;xeniy&#47;Desktop&#47;DomenEng_04&#47;L01_easy_for_L04.rdf</code>&zwnj;&#8203;."},{"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":" "},"score":0,"creation_date":1679378807,"post_id":75783454,"comment_id":133706542,"body_markdown":"This URL also not working. I tried to write literally directly: (model.read(&quot;....&quot;), and through new File and the toUrl() method.","body":"This URL also not working. I tried to write literally directly: (model.read(&quot;....&quot;), and through new File and the toUrl() method."}],"owner":{"account_id":22090400,"reputation":11,"user_id":16348536,"display_name":" "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679243530,"creation_date":1679243530,"question_id":75783454,"body_markdown":"Let me start with what I have at the moment: I have a ready-made ontology in .rdf format, I work in Android Studio, I study Jena Fuseki in Studio. I have installed all the libraries I need.\r\n(https://i.stack.imgur.com/oPSO7.png)\r\n\r\nMy task is to load the already mentioned existing model (ontology) from a file. But the problem is that I get two kinds of exceptions: the first I encounter for the first time, and the second is illogical.\r\n\r\nSo, task is to load the already mentioned existing model (ontology) from a file. I do it this way:\r\n\r\n```\r\nModel m = ModelFactory.createDefaultModel();\r\nm.read(&quot;C://Users//xeniy//Desktop//DomenEng_04//L01_easy_for_L04.rdf&quot;);\r\nm.write(System.out, &quot;RDF/XML-ABBREV&quot;);\r\n````\r\n\r\nI get an exception from the studio (first type), which can be seen in the screenshot:\r\n(https://i.stack.imgur.com/beldB.png)\r\n\r\nI can not call myself a beginner in programming, but this is the first time I see such an exception. The method of googling gave the following variant: The problem is in the URL. On this basis, I changed the code:\r\n\r\n```\r\nModel m = ModelFactory.createDefaultModel();\r\n    try {\r\n        m.read(new File(&quot;:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf&quot;).toURL().toString());\r\n        m.write(System.out, &quot;RDF/XML-ABBREV&quot;);\r\n    } catch (MalformedURLException e) {\r\n        e.printStackTrace();\r\n    }\r\n````\r\n\r\nThe exception, of course, had changed, only it left me even more stumped than the previous one (the second type of exception):\r\n(https://i.stack.imgur.com/xQwsI.png)\r\n\r\nIt seems to be simple: DoesNotExistException directly says that the file you are looking for does not exist or is not found. But the file is definitely in the folder, and it can be opened, which means that it exists.\r\n\r\n(https://i.stack.imgur.com/Uuhcx.png)","title":"How to load an existing model (ontology) from a file?","body":"<p>Let me start with what I have at the moment: I have a ready-made ontology in .rdf format, I work in Android Studio, I study Jena Fuseki in Studio. I have installed all the libraries I need.\n(<a href=\"https://i.stack.imgur.com/oPSO7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/oPSO7.png</a>)</p>\n<p>My task is to load the already mentioned existing model (ontology) from a file. But the problem is that I get two kinds of exceptions: the first I encounter for the first time, and the second is illogical.</p>\n<p>So, task is to load the already mentioned existing model (ontology) from a file. I do it this way:</p>\n<pre><code>Model m = ModelFactory.createDefaultModel();\nm.read(&quot;C://Users//xeniy//Desktop//DomenEng_04//L01_easy_for_L04.rdf&quot;);\nm.write(System.out, &quot;RDF/XML-ABBREV&quot;);\n</code></pre>\n<p>I get an exception from the studio (first type), which can be seen in the screenshot:\n(<a href=\"https://i.stack.imgur.com/beldB.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/beldB.png</a>)</p>\n<p>I can not call myself a beginner in programming, but this is the first time I see such an exception. The method of googling gave the following variant: The problem is in the URL. On this basis, I changed the code:</p>\n<pre><code>Model m = ModelFactory.createDefaultModel();\n    try {\n        m.read(new File(&quot;:/Users/xeniy/Desktop/DomenEng_04/L01_easy_for_L04.rdf&quot;).toURL().toString());\n        m.write(System.out, &quot;RDF/XML-ABBREV&quot;);\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>The exception, of course, had changed, only it left me even more stumped than the previous one (the second type of exception):\n(<a href=\"https://i.stack.imgur.com/xQwsI.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xQwsI.png</a>)</p>\n<p>It seems to be simple: DoesNotExistException directly says that the file you are looking for does not exist or is not found. But the file is definitely in the folder, and it can be opened, which means that it exists.</p>\n<p>(<a href=\"https://i.stack.imgur.com/Uuhcx.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/Uuhcx.png</a>)</p>\n"},{"tags":["java","eclipse","gradle","annotation-processing","buildship"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679151422,"post_id":75776308,"comment_id":133671802,"body_markdown":"An annotation processor can be configured to be run in the incremental project build in _Project &gt; Properties: Java Compiler &gt; Annotation Processing_. To do this configuration via Gradle, see https://github.com/eclipse/buildship/issues/329#issuecomment-567139705","body":"An annotation processor can be configured to be run in the incremental project build in <i>Project &gt; Properties: Java Compiler &gt; Annotation Processing</i>. To do this configuration via Gradle, see <a href=\"https://github.com/eclipse/buildship/issues/329#issuecomment-567139705\" rel=\"nofollow noreferrer\">github.com/eclipse/buildship/issues/329#issuecomment-5671397&zwnj;&#8203;05</a>"},{"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"score":0,"creation_date":1679156405,"post_id":75776308,"comment_id":133672750,"body_markdown":"I don&#39;t understand.  The problem isn&#39;t Eclipse running my Annotation Processor, the problem is Eclipse isn&#39;t running the Annotation Processor when I REMOVE an annotation from a class, which causes the generated file to be out-of-date and invalid.","body":"I don&#39;t understand.  The problem isn&#39;t Eclipse running my Annotation Processor, the problem is Eclipse isn&#39;t running the Annotation Processor when I REMOVE an annotation from a class, which causes the generated file to be out-of-date and invalid."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679159006,"post_id":75776308,"comment_id":133673170,"body_markdown":"Did you configure it as said in my comment, not mentioning it in your question? Please provide a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example). Your code snippet seems to extend `AbstractProcessor`. Implementing `Processor` that writes a timestamp in each method to a file outside the project would be enough and would not miss anything. Please tell when it is trigger and when not.","body":"Did you configure it as said in my comment, not mentioning it in your question? Please provide a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Your code snippet seems to extend <code>AbstractProcessor</code>. Implementing <code>Processor</code> that writes a timestamp in each method to a file outside the project would be enough and would not miss anything. Please tell when it is trigger and when not."}],"answers":[{"tags":[],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679243334,"creation_date":1679164497,"answer_id":75777905,"question_id":75776308,"body_markdown":"The issue was getSupportedAnnotationTypes() needed to return &quot;*&quot; because it needed to be able to operate on the empty set of annotations.  It also needed to always run the `writeAnnotationFile`, not just when `roundEnv.getElementsAnnotatedWith` returned a result.\r\n\r\nNow it properly updates the file when an annotation is removed.  This means that it&#39;ll consume all classes when you do a full rebuild, but a slow processor is better than one that doesn&#39;t work at all.  It also has a problem where it creates empty text files instead of removing it, but it&#39;s not that big of a deal.\r\n\r\n# Edit\r\n\r\nThe previous posted solution worked within Eclipse, but did not when built with Gradle.  This solution works in both Eclipse and Gradle.\r\n\r\n```java\r\n@SupportedAnnotationTypes({&quot;*&quot;})\r\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\r\n@AutoService(Processor.class)\r\npublic class AnnotationTextDump extends AbstractProcessor {\r\n  private List&lt;AnnotationTextDumpWriter&gt; writers = null;\r\n\r\n  @Override\r\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n    return Set.of(&quot;*&quot;);\r\n  }\r\n\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (writers == null) {\r\n      writers =\r\n          Arrays.asList(\r\n              new AnnotationTextDumpWriter(&quot;your.Annotation1&quot;),\r\n              new AnnotationTextDumpWriter(&quot;your.Annotation2&quot;));\r\n    }\r\n\r\n    if (!roundEnv.processingOver()) {\r\n      for (var i : writers) {\r\n        try {\r\n          i.appendElements(annotations, roundEnv, processingEnv);\r\n        } catch (IOException e) {\r\n          // You should properly log the exception here, but I&#39;m not sure how to get it to appear\r\n          // in Eclipse&#39;s Problem&#39;s view.\r\n          e.printStackTrace();\r\n          throw new IllegalStateException(e);\r\n        }\r\n      }\r\n    } else {\r\n      for (var i : writers) {\r\n        i.close();\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\n\r\nclass AnnotationTextDumpWriter{\r\n  private String annotationName;\r\n  private boolean initialized;\r\n  private Set&lt;String&gt; classes;\r\n  private PrintWriter fileOutput;\r\n\r\n  XmImmutableListWriter(String annotationName) {\r\n    this.annotationName = annotationName;\r\n    initialized = false;\r\n    classes = null;\r\n    fileOutput = null;\r\n  }\r\n\r\n  void appendElements(\r\n      Set&lt;? extends TypeElement&gt; annotations,\r\n      RoundEnvironment roundEnv,\r\n      ProcessingEnvironment processingEnv)\r\n      throws IOException {\r\n    initialize(processingEnv);\r\n\r\n    for (var i : annotations) {\r\n      if (i.getQualifiedName().toString().equals(annotationName)) {\r\n        var elements = roundEnv.getElementsAnnotatedWith(i);\r\n        convertElementsToList(elements, processingEnv);\r\n      }\r\n    }\r\n  }\r\n\r\n  private void initialize(ProcessingEnvironment processingEnv) throws IOException {\r\n    if (initialized) {\r\n      return;\r\n    }\r\n\r\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\r\n\r\n    initialized = true;\r\n    classes = new HashSet&lt;&gt;();\r\n    classes.addAll(getPreviousListedClasses(fileName, annotationName, processingEnv));\r\n    fileOutput =\r\n        new PrintWriter(\r\n            processingEnv\r\n                .getFiler()\r\n                .createResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName)\r\n                .openWriter());\r\n  }\r\n\r\n  private void convertElementsToList(\r\n      Set&lt;? extends Element&gt; elements, ProcessingEnvironment processingEnv) {\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      classes.add(fullyQualifiedName);\r\n    }\r\n  }\r\n\r\n  void close() {\r\n    if (classes != null) {\r\n      var sortedClasses = new ArrayList&lt;&gt;(classes);\r\n      Collections.sort(sortedClasses);\r\n\r\n      for (var i : sortedClasses) {\r\n        fileOutput.append(i);\r\n        fileOutput.append(&#39;\\n&#39;);\r\n      }\r\n    }\r\n\r\n    fileOutput.close();\r\n  }\r\n\r\n  private static List&lt;String&gt; getPreviousListedClasses(\r\n      String fileName, String annotationName, ProcessingEnvironment processingEnv)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotationName, processingEnv)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private static List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n\r\n      if (fileString.isBlank()) {\r\n        return Collections.emptyList();\r\n      }\r\n\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return Arrays.asList(classSplit);\r\n    }\r\n  }\r\n\r\n  private static boolean classIsStillAnnotated(\r\n      String clazz, String annotationName, ProcessingEnvironment processingEnv) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      var annotElem = i.getAnnotationType().asElement();\r\n      var packag =\r\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\r\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\r\n\r\n      if (qualifiedAnnotName.equals(annotationName)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n```\r\n\r\n# Old solution that works in Eclipse, but not in Gradle\r\n\r\n```java\r\n@SupportedAnnotationTypes({&quot;*&quot;})\r\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\r\n@AutoService(Processor.class)\r\npublic class AnnotationTextDump extends AbstractProcessor {\r\n  public static final String YOUR_ANNOTATION1 = &quot;your.Annotation1&quot;;\r\n  public static final String YOUR_ANNOTATION2 = &quot;your.Annotation2&quot;;\r\n\r\n  @Override\r\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\r\n    return Set.of(&quot;*&quot;);\r\n  }\r\n\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (!roundEnv.processingOver()) {\r\n      try {\r\n        generateAnnotationFiles(annotations, roundEnv);\r\n      } catch (Exception e) {\r\n\t    // You should properly log the exception here, but I&#39;m not sure how to get it to appear\r\n\t\t// in Eclipse&#39;s Problem&#39;s view.\r\n        throw new IllegalStateException(e);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private void generateAnnotationFiles(\r\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\r\n    Set&lt;? extends Element&gt; elements1 = Collections.&lt;Element&gt;emptySet();\r\n    Set&lt;? extends Element&gt; elements2 = Collections.&lt;Element&gt;emptySet();\r\n\r\n    for (var i : annotations) {\r\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION1)) {\r\n        elements1 = roundEnv.getElementsAnnotatedWith(i);\r\n      }\r\n\r\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION2)) {\r\n        elements2 = roundEnv.getElementsAnnotatedWith(i);\r\n      }\r\n    }\r\n\r\n    writeAnnotationFile(YOUR_ANNOTATION1, elements1);\r\n    writeAnnotationFile(YOUR_ANNOTATION2, elements2);\r\n  }\r\n\r\n  private void writeAnnotationFile(String annotationName, Set&lt;? extends Element&gt; elements)\r\n      throws IOException {\r\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\r\n    var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\r\n    classBuilder.addAll(getPreviousListedClasses(fileName, annotationName));\r\n    var classes = new ArrayList&lt;&gt;(classBuilder);\r\n    Collections.sort(classes);\r\n\r\n    var fileContents = new StringBuilder();\r\n\r\n    for (var i : classes) {\r\n      fileContents.append(i);\r\n      fileContents.append(&#39;\\n&#39;);\r\n    }\r\n\r\n    try (var out =\r\n        new PrintWriter(\r\n            processingEnv\r\n                .getFiler()\r\n                .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\r\n                .openWriter())) {\r\n      out.append(fileContents.toString());\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, String annotationName)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotationName)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n\r\n      if (fileString.isBlank()) {\r\n        return Collections.emptyList();\r\n      }\r\n\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return Arrays.asList(classSplit);\r\n    }\r\n  }\r\n\r\n  private boolean classIsStillAnnotated(String clazz, String annotationName) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      var annotElem = i.getAnnotationType().asElement();\r\n      var packag =\r\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\r\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\r\n\r\n      if (qualifiedAnnotName.equals(annotationName)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\r\n    var ret = new ArrayList&lt;String&gt;();\r\n\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      ret.add(fullyQualifiedName);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n}\r\n\r\n```\r\n","title":"Run Annotation Processor in Eclipse when an Annotation is removed","body":"<p>The issue was getSupportedAnnotationTypes() needed to return &quot;*&quot; because it needed to be able to operate on the empty set of annotations.  It also needed to always run the <code>writeAnnotationFile</code>, not just when <code>roundEnv.getElementsAnnotatedWith</code> returned a result.</p>\n<p>Now it properly updates the file when an annotation is removed.  This means that it'll consume all classes when you do a full rebuild, but a slow processor is better than one that doesn't work at all.  It also has a problem where it creates empty text files instead of removing it, but it's not that big of a deal.</p>\n<h1>Edit</h1>\n<p>The previous posted solution worked within Eclipse, but did not when built with Gradle.  This solution works in both Eclipse and Gradle.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes({&quot;*&quot;})\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\n@AutoService(Processor.class)\npublic class AnnotationTextDump extends AbstractProcessor {\n  private List&lt;AnnotationTextDumpWriter&gt; writers = null;\n\n  @Override\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return Set.of(&quot;*&quot;);\n  }\n\n  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (writers == null) {\n      writers =\n          Arrays.asList(\n              new AnnotationTextDumpWriter(&quot;your.Annotation1&quot;),\n              new AnnotationTextDumpWriter(&quot;your.Annotation2&quot;));\n    }\n\n    if (!roundEnv.processingOver()) {\n      for (var i : writers) {\n        try {\n          i.appendElements(annotations, roundEnv, processingEnv);\n        } catch (IOException e) {\n          // You should properly log the exception here, but I'm not sure how to get it to appear\n          // in Eclipse's Problem's view.\n          e.printStackTrace();\n          throw new IllegalStateException(e);\n        }\n      }\n    } else {\n      for (var i : writers) {\n        i.close();\n      }\n    }\n\n    return false;\n  }\n}\n\n\nclass AnnotationTextDumpWriter{\n  private String annotationName;\n  private boolean initialized;\n  private Set&lt;String&gt; classes;\n  private PrintWriter fileOutput;\n\n  XmImmutableListWriter(String annotationName) {\n    this.annotationName = annotationName;\n    initialized = false;\n    classes = null;\n    fileOutput = null;\n  }\n\n  void appendElements(\n      Set&lt;? extends TypeElement&gt; annotations,\n      RoundEnvironment roundEnv,\n      ProcessingEnvironment processingEnv)\n      throws IOException {\n    initialize(processingEnv);\n\n    for (var i : annotations) {\n      if (i.getQualifiedName().toString().equals(annotationName)) {\n        var elements = roundEnv.getElementsAnnotatedWith(i);\n        convertElementsToList(elements, processingEnv);\n      }\n    }\n  }\n\n  private void initialize(ProcessingEnvironment processingEnv) throws IOException {\n    if (initialized) {\n      return;\n    }\n\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\n\n    initialized = true;\n    classes = new HashSet&lt;&gt;();\n    classes.addAll(getPreviousListedClasses(fileName, annotationName, processingEnv));\n    fileOutput =\n        new PrintWriter(\n            processingEnv\n                .getFiler()\n                .createResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName)\n                .openWriter());\n  }\n\n  private void convertElementsToList(\n      Set&lt;? extends Element&gt; elements, ProcessingEnvironment processingEnv) {\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      classes.add(fullyQualifiedName);\n    }\n  }\n\n  void close() {\n    if (classes != null) {\n      var sortedClasses = new ArrayList&lt;&gt;(classes);\n      Collections.sort(sortedClasses);\n\n      for (var i : sortedClasses) {\n        fileOutput.append(i);\n        fileOutput.append('\\n');\n      }\n    }\n\n    fileOutput.close();\n  }\n\n  private static List&lt;String&gt; getPreviousListedClasses(\n      String fileName, String annotationName, ProcessingEnvironment processingEnv)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.CLASS_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotationName, processingEnv)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private static List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n\n      if (fileString.isBlank()) {\n        return Collections.emptyList();\n      }\n\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return Arrays.asList(classSplit);\n    }\n  }\n\n  private static boolean classIsStillAnnotated(\n      String clazz, String annotationName, ProcessingEnvironment processingEnv) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      var annotElem = i.getAnnotationType().asElement();\n      var packag =\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\n\n      if (qualifiedAnnotName.equals(annotationName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n</code></pre>\n<h1>Old solution that works in Eclipse, but not in Gradle</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@SupportedAnnotationTypes({&quot;*&quot;})\n@SupportedSourceVersion(SourceVersion.RELEASE_11)\n@AutoService(Processor.class)\npublic class AnnotationTextDump extends AbstractProcessor {\n  public static final String YOUR_ANNOTATION1 = &quot;your.Annotation1&quot;;\n  public static final String YOUR_ANNOTATION2 = &quot;your.Annotation2&quot;;\n\n  @Override\n  public Set&lt;String&gt; getSupportedAnnotationTypes() {\n    return Set.of(&quot;*&quot;);\n  }\n\n  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (!roundEnv.processingOver()) {\n      try {\n        generateAnnotationFiles(annotations, roundEnv);\n      } catch (Exception e) {\n        // You should properly log the exception here, but I'm not sure how to get it to appear\n        // in Eclipse's Problem's view.\n        throw new IllegalStateException(e);\n      }\n    }\n\n    return false;\n  }\n\n  private void generateAnnotationFiles(\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\n    Set&lt;? extends Element&gt; elements1 = Collections.&lt;Element&gt;emptySet();\n    Set&lt;? extends Element&gt; elements2 = Collections.&lt;Element&gt;emptySet();\n\n    for (var i : annotations) {\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION1)) {\n        elements1 = roundEnv.getElementsAnnotatedWith(i);\n      }\n\n      if (i.getQualifiedName().toString().equals(YOUR_ANNOTATION2)) {\n        elements2 = roundEnv.getElementsAnnotatedWith(i);\n      }\n    }\n\n    writeAnnotationFile(YOUR_ANNOTATION1, elements1);\n    writeAnnotationFile(YOUR_ANNOTATION2, elements2);\n  }\n\n  private void writeAnnotationFile(String annotationName, Set&lt;? extends Element&gt; elements)\n      throws IOException {\n    var fileName = &quot;META-INF/annotations/&quot; + annotationName;\n    var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\n    classBuilder.addAll(getPreviousListedClasses(fileName, annotationName));\n    var classes = new ArrayList&lt;&gt;(classBuilder);\n    Collections.sort(classes);\n\n    var fileContents = new StringBuilder();\n\n    for (var i : classes) {\n      fileContents.append(i);\n      fileContents.append('\\n');\n    }\n\n    try (var out =\n        new PrintWriter(\n            processingEnv\n                .getFiler()\n                .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\n                .openWriter())) {\n      out.append(fileContents.toString());\n    }\n  }\n\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, String annotationName)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotationName)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private List&lt;String&gt; openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n\n      if (fileString.isBlank()) {\n        return Collections.emptyList();\n      }\n\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return Arrays.asList(classSplit);\n    }\n  }\n\n  private boolean classIsStillAnnotated(String clazz, String annotationName) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      var annotElem = i.getAnnotationType().asElement();\n      var packag =\n          processingEnv.getElementUtils().getPackageOf(annotElem).getQualifiedName().toString();\n      var qualifiedAnnotName = packag + &quot;.&quot; + annotElem.getSimpleName();\n\n      if (qualifiedAnnotName.equals(annotationName)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\n    var ret = new ArrayList&lt;String&gt;();\n\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      ret.add(fullyQualifiedName);\n    }\n\n    return ret;\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1531936,"reputation":349,"user_id":1428945,"accept_rate":64,"display_name":"user1428945"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679243334,"creation_date":1679147458,"question_id":75776308,"body_markdown":"I&#39;ve written an annotation processor that simply dumps the list of annotated classes to a text file.  To accommodate incremental builds in Eclipse, it also attempts to re-read the file and checks if the classes still have the annotation, and if not, it removes the class from the list.\r\n\r\nThe problem is Eclipse doesn&#39;t trigger the annotation processor when you remove the annotation, so the text file will not be updated until you add the annotation to another class.  \r\n\r\nIs there a way to configure Eclipse to run the annotation processor when an annotation is removed?  The project is using Gradle/Buildship.\r\n\r\n```java\r\n  @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    if (!roundEnv.processingOver()) {\r\n      try {\r\n        generateAnnotationFiles(annotations, roundEnv);\r\n      } catch (IOException e) {\r\n        throw new IllegalStateException(e);\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private void generateAnnotationFiles(\r\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\r\n    for (var i : annotations) {\r\n      var elements = roundEnv.getElementsAnnotatedWith(i);\r\n      var fileName = &quot;META-INF/annotations/&quot; + i.getQualifiedName();\r\n      var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\r\n      classBuilder.addAll(getPreviousListedClasses(fileName, i));\r\n      var classes = new ArrayList&lt;&gt;(classBuilder);\r\n      Collections.sort(classes);\r\n\r\n      try (var out =\r\n          new PrintWriter(\r\n              processingEnv\r\n                  .getFiler()\r\n                  .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\r\n                  .openWriter())) {\r\n        for (var clazz : classes) {\r\n          out.append(clazz);\r\n          out.append(&#39;\\n&#39;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\r\n    var ret = new ArrayList&lt;String&gt;();\r\n\r\n    for (var elem : elements) {\r\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\r\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\r\n\r\n      ret.add(fullyQualifiedName);\r\n    }\r\n\r\n    return ret;\r\n  }\r\n\r\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, TypeElement annotation)\r\n      throws IOException {\r\n    try {\r\n      var previousFile =\r\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\r\n      var classSplit = openPreviousFile(previousFile);\r\n      var ret = new ArrayList&lt;String&gt;();\r\n\r\n      for (var clazz : classSplit) {\r\n        if (classIsStillAnnotated(clazz, annotation)) {\r\n          ret.add(clazz);\r\n        }\r\n      }\r\n\r\n      return ret;\r\n    } catch (FilerException e) {\r\n      throw e;\r\n    } catch (IOException e) {\r\n      return Collections.emptyList();\r\n    }\r\n  }\r\n\r\n  private String[] openPreviousFile(FileObject previousFile) throws IOException {\r\n    try (var in = previousFile.openInputStream()) {\r\n      var fileContents = ByteStreams.toByteArray(in);\r\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\r\n      var classSplit = fileString.split(&quot;\\n&quot;);\r\n      return classSplit;\r\n    }\r\n  }\r\n\r\n  private boolean classIsStillAnnotated(String clazz, TypeElement annotation) {\r\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\r\n\r\n    if (prevTypeElement == null) {\r\n      return false;\r\n    }\r\n\r\n    var annot = prevTypeElement.getAnnotationMirrors();\r\n\r\n    for (var i : annot) {\r\n      if (i.getAnnotationType().asElement().equals(annotation)) {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n```\r\n","title":"Run Annotation Processor in Eclipse when an Annotation is removed","body":"<p>I've written an annotation processor that simply dumps the list of annotated classes to a text file.  To accommodate incremental builds in Eclipse, it also attempts to re-read the file and checks if the classes still have the annotation, and if not, it removes the class from the list.</p>\n<p>The problem is Eclipse doesn't trigger the annotation processor when you remove the annotation, so the text file will not be updated until you add the annotation to another class.</p>\n<p>Is there a way to configure Eclipse to run the annotation processor when an annotation is removed?  The project is using Gradle/Buildship.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n    if (!roundEnv.processingOver()) {\n      try {\n        generateAnnotationFiles(annotations, roundEnv);\n      } catch (IOException e) {\n        throw new IllegalStateException(e);\n      }\n    }\n\n    return false;\n  }\n\n  private void generateAnnotationFiles(\n      Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) throws IOException {\n    for (var i : annotations) {\n      var elements = roundEnv.getElementsAnnotatedWith(i);\n      var fileName = &quot;META-INF/annotations/&quot; + i.getQualifiedName();\n      var classBuilder = new HashSet&lt;&gt;(convertElementsToList(elements));\n      classBuilder.addAll(getPreviousListedClasses(fileName, i));\n      var classes = new ArrayList&lt;&gt;(classBuilder);\n      Collections.sort(classes);\n\n      try (var out =\n          new PrintWriter(\n              processingEnv\n                  .getFiler()\n                  .createResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName)\n                  .openWriter())) {\n        for (var clazz : classes) {\n          out.append(clazz);\n          out.append('\\n');\n        }\n      }\n    }\n  }\n\n  private List&lt;String&gt; convertElementsToList(Set&lt;? extends Element&gt; elements) {\n    var ret = new ArrayList&lt;String&gt;();\n\n    for (var elem : elements) {\n      var packag = processingEnv.getElementUtils().getPackageOf(elem).getQualifiedName().toString();\n      var fullyQualifiedName = packag + &quot;.&quot; + elem.getSimpleName();\n\n      ret.add(fullyQualifiedName);\n    }\n\n    return ret;\n  }\n\n  private List&lt;String&gt; getPreviousListedClasses(String fileName, TypeElement annotation)\n      throws IOException {\n    try {\n      var previousFile =\n          processingEnv.getFiler().getResource(StandardLocation.SOURCE_OUTPUT, &quot;&quot;, fileName);\n      var classSplit = openPreviousFile(previousFile);\n      var ret = new ArrayList&lt;String&gt;();\n\n      for (var clazz : classSplit) {\n        if (classIsStillAnnotated(clazz, annotation)) {\n          ret.add(clazz);\n        }\n      }\n\n      return ret;\n    } catch (FilerException e) {\n      throw e;\n    } catch (IOException e) {\n      return Collections.emptyList();\n    }\n  }\n\n  private String[] openPreviousFile(FileObject previousFile) throws IOException {\n    try (var in = previousFile.openInputStream()) {\n      var fileContents = ByteStreams.toByteArray(in);\n      var fileString = new String(fileContents, StandardCharsets.UTF_8);\n      var classSplit = fileString.split(&quot;\\n&quot;);\n      return classSplit;\n    }\n  }\n\n  private boolean classIsStillAnnotated(String clazz, TypeElement annotation) {\n    var prevTypeElement = processingEnv.getElementUtils().getTypeElement(clazz);\n\n    if (prevTypeElement == null) {\n      return false;\n    }\n\n    var annot = prevTypeElement.getAnnotationMirrors();\n\n    for (var i : annot) {\n      if (i.getAnnotationType().asElement().equals(annotation)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n</code></pre>\n"},{"tags":["java","android","lockscreen"],"answers":[{"comments":[{"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"score":0,"creation_date":1679243354,"post_id":75783404,"comment_id":133682414,"body_markdown":"Wow, that was quick! Thanks a lot!","body":"Wow, that was quick! Thanks a lot!"}],"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679243063,"creation_date":1679243063,"answer_id":75783404,"question_id":75783376,"body_markdown":"You can use `setShowWhenLocked` in your Activity (https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean))\r\n\r\n&gt; Specifies whether an Activity should be shown on top of the lock\r\n&gt; screen whenever the lockscreen is up and the activity is resumed.\r\n&gt; Normally an activity will be transitioned to the stopped state if it\r\n&gt; is started while the lockscreen is up, but with this flag set the\r\n&gt; activity will remain in the resumed state visible on-top of the lock\r\n&gt; screen. This value can be set as a manifest attribute using\r\n&gt; R.attr.showWhenLocked.\r\n\r\nEdit: If you also need to support older APIs (taken from here: https://stackoverflow.com/a/50644346/1386873)\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= 27) {\r\n            setShowWhenLocked(true)\r\n            setTurnScreenOn(true)\r\n    } else {\r\n            this.window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED or\r\n                    WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\r\n    }","title":"Return to app from lock screen without unlocking with code","body":"<p>You can use <code>setShowWhenLocked</code> in your Activity (<a href=\"https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/app/Activity#setShowWhenLocked(boolean)</a>)</p>\n<blockquote>\n<p>Specifies whether an Activity should be shown on top of the lock\nscreen whenever the lockscreen is up and the activity is resumed.\nNormally an activity will be transitioned to the stopped state if it\nis started while the lockscreen is up, but with this flag set the\nactivity will remain in the resumed state visible on-top of the lock\nscreen. This value can be set as a manifest attribute using\nR.attr.showWhenLocked.</p>\n</blockquote>\n<p>Edit: If you also need to support older APIs (taken from here: <a href=\"https://stackoverflow.com/a/50644346/1386873\">https://stackoverflow.com/a/50644346/1386873</a>)</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 27) {\n        setShowWhenLocked(true)\n        setTurnScreenOn(true)\n} else {\n        this.window.addFlags(WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED or\n                WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON)\n}\n</code></pre>\n"}],"owner":{"account_id":1601476,"reputation":547,"user_id":1482428,"accept_rate":18,"display_name":"Henrik Berg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783404,"answer_count":1,"score":1,"last_activity_date":1679243063,"creation_date":1679242809,"question_id":75783376,"body_markdown":"On my Android phone, if I am using the Maps app to navigate, and then lock the phone with the lock button, I am able to unlock again and continue navigating without really unlocking my phone (that is, I don&#39;t need to enter my pin, but I also cannot access anything else on my phone before I unlock properly). Is it possible to achieve this behavior in my own apps, and if so, how?\r\n\r\nTo try to be more clear, this is what I&#39;m hoping to achieve:\r\n\r\n1. User launches app\r\n2. User hits phone&#39;s lock button. Screen goes off.\r\n3. User hits phone&#39;s lock button again. Screen goes on, but instead of asking for pin (or whatever people use to secure their phones), phone immediately shows app again. At this point, the user&#39;s only options are to use the app, until he hits the home button, at which point the phone will require unlock code.\r\n\r\nIs such behavior possible to implement in my app?","title":"Return to app from lock screen without unlocking with code","body":"<p>On my Android phone, if I am using the Maps app to navigate, and then lock the phone with the lock button, I am able to unlock again and continue navigating without really unlocking my phone (that is, I don't need to enter my pin, but I also cannot access anything else on my phone before I unlock properly). Is it possible to achieve this behavior in my own apps, and if so, how?</p>\n<p>To try to be more clear, this is what I'm hoping to achieve:</p>\n<ol>\n<li>User launches app</li>\n<li>User hits phone's lock button. Screen goes off.</li>\n<li>User hits phone's lock button again. Screen goes on, but instead of asking for pin (or whatever people use to secure their phones), phone immediately shows app again. At this point, the user's only options are to use the app, until he hits the home button, at which point the phone will require unlock code.</li>\n</ol>\n<p>Is such behavior possible to implement in my app?</p>\n"},{"tags":["java","opengl","3d","libgdx"],"answers":[{"tags":[],"owner":{"account_id":22028847,"reputation":21,"user_id":16296442,"display_name":"Nain0nain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679236407,"creation_date":1679236407,"answer_id":75782710,"question_id":34408514,"body_markdown":"To use a `mesh` in the `modelBatch` as you said, you have to pass it in a `model`. To do so you have to create a `mesh` with the desired vertices and indices.\r\n\r\n**Vertices**  : are the points which compose your 3D/2D shape (here it&#39;s your plane compose by two triangle).\r\n\r\n**Indices** : the order of the vertices that must be triangulated, indicies must be &quot;redundant&quot; to close and triangulate the path.\r\n\r\nFor example here is an image to better explanation :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen you must specify attributes of position, uv and normals. Attributes are used to give information to shader (`mesh` must be rendered with a shader). For every vertex  the shader has the information given by those attributes.\r\n\r\n**Position** : are 3D points of the vertices in space.\r\n\r\n**UV** : are used for texture mapping and are mendatory (more information [here][2]).\r\n\r\n**Normals** : are normalized vectors, the normals of face or vertex (in your case I would assume it&#39;s only pointing to the north pole for every vertices).\r\n\r\nTo create your `mesh` :\r\n```Java\r\nMesh mesh = new Mesh(true, vertices.length, indices.length,\r\n    \t\t\t    new VertexAttribute(Usage.Position, 3, ShaderProgram.POSITION_ATTRIBUTE),\r\n    \t\t\t    new VertexAttribute(Usage.TextureCoordinates, 2, ShaderProgram.TEXCOORD_ATTRIBUTE),\r\n    \t\t\t    new VertexAttribute(Usage.Normal, 3, ShaderProgram.NORMAL_ATTRIBUTE));\r\n\r\nmesh.setVertices(vertices);\r\nmesh.setIndices(indices);\r\n```\r\nMesh require boolean if the mesh will be dynamic or not, vertices length, indices length and some vertexAttributes which give attributes to the shader. Default shader of `model` are using `ShaderProgram.POSITION_ATTRIBUTE`, `ShaderProgram.TEXCOORD_ATTRIBUTE` &amp; `ShaderProgram.NORMAL_ATTRIBUTE` which you may tune for using your own shaders.\r\n\r\nThen you add the vertices and the indices. For your case `vertices` and `indices` are :\r\n\r\n```Java\r\nfloat vertices[] = {-1, -1, 0, // bottom left corner\r\n                          -1,  1, 0, // top left corner\r\n                           1,  1, 0, // top right corner\r\n                           1, -1, 0}; // bottom right corner\r\n    \r\nshort indices[] = {0,1,2, // first triangle (bottom left - top left - top right)\r\n                         0,2,3}; // second triangle (bottom left - top right - bottom right)\r\n```\r\n\r\nAfter creating your mesh you need to give it to the `modelBuilder` as following\r\n\r\n```Java\r\nModelBuilder modelBuilder = new ModelBuilder(); // creates model build\r\nmodelBuilder.begin();// begin it\r\n\t\t\r\nmodelBuilder.part(&quot;plane&quot;, mesh, \r\n\t\t\t\tGL20.GL_TRIANGLES,  \r\n\t\t\t\t0, \r\n\t\t\t\tmesh.getNumIndices(), \r\n\t\t\t\tnew Material()); // creates your mesh\r\n\t\t\r\nmodel = modelBuilder.end(); // makes the model\r\ninstance = new ModelInstance(model);\r\n\r\n//...\r\n//render it in render loop\r\nmodelBatch.begin(camera);\r\nmodelBatch.render(instance, environment);\r\nmodelBatch.end();\r\n```\r\n\r\nFollowing mainly :\r\n\r\n - tutorial from [blog.xoppa.com][3]\r\n - documentation on [modelBuilder][4]\r\n\r\nHope it will help you and others that are in search for the same process.\r\n\r\n  [1]: https://i.stack.imgur.com/cE7JJ.png\r\n  [2]: https://stackoverflow.com/a/5532670/16296442\r\n  [3]: https://xoppa.github.io/blog/basic-3d-using-libgdx/\r\n  [4]: https://libgdx.com/wiki/graphics/3d/modelbuilder-meshbuilder-and-meshpartbuilder","title":"How do you turn a mesh into a model with libGDX?","body":"<p>To use a <code>mesh</code> in the <code>modelBatch</code> as you said, you have to pass it in a <code>model</code>. To do so you have to create a <code>mesh</code> with the desired vertices and indices.</p>\n<p><strong>Vertices</strong>  : are the points which compose your 3D/2D shape (here it's your plane compose by two triangle).</p>\n<p><strong>Indices</strong> : the order of the vertices that must be triangulated, indicies must be &quot;redundant&quot; to close and triangulate the path.</p>\n<p>For example here is an image to better explanation :</p>\n<p><a href=\"https://i.stack.imgur.com/cE7JJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cE7JJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Then you must specify attributes of position, uv and normals. Attributes are used to give information to shader (<code>mesh</code> must be rendered with a shader). For every vertex  the shader has the information given by those attributes.</p>\n<p><strong>Position</strong> : are 3D points of the vertices in space.</p>\n<p><strong>UV</strong> : are used for texture mapping and are mendatory (more information <a href=\"https://stackoverflow.com/a/5532670/16296442\">here</a>).</p>\n<p><strong>Normals</strong> : are normalized vectors, the normals of face or vertex (in your case I would assume it's only pointing to the north pole for every vertices).</p>\n<p>To create your <code>mesh</code> :</p>\n<pre><code>Mesh mesh = new Mesh(true, vertices.length, indices.length,\n                    new VertexAttribute(Usage.Position, 3, ShaderProgram.POSITION_ATTRIBUTE),\n                    new VertexAttribute(Usage.TextureCoordinates, 2, ShaderProgram.TEXCOORD_ATTRIBUTE),\n                    new VertexAttribute(Usage.Normal, 3, ShaderProgram.NORMAL_ATTRIBUTE));\n\nmesh.setVertices(vertices);\nmesh.setIndices(indices);\n</code></pre>\n<p>Mesh require boolean if the mesh will be dynamic or not, vertices length, indices length and some vertexAttributes which give attributes to the shader. Default shader of <code>model</code> are using <code>ShaderProgram.POSITION_ATTRIBUTE</code>, <code>ShaderProgram.TEXCOORD_ATTRIBUTE</code> &amp; <code>ShaderProgram.NORMAL_ATTRIBUTE</code> which you may tune for using your own shaders.</p>\n<p>Then you add the vertices and the indices. For your case <code>vertices</code> and <code>indices</code> are :</p>\n<pre><code>float vertices[] = {-1, -1, 0, // bottom left corner\n                          -1,  1, 0, // top left corner\n                           1,  1, 0, // top right corner\n                           1, -1, 0}; // bottom right corner\n    \nshort indices[] = {0,1,2, // first triangle (bottom left - top left - top right)\n                         0,2,3}; // second triangle (bottom left - top right - bottom right)\n</code></pre>\n<p>After creating your mesh you need to give it to the <code>modelBuilder</code> as following</p>\n<pre><code>ModelBuilder modelBuilder = new ModelBuilder(); // creates model build\nmodelBuilder.begin();// begin it\n        \nmodelBuilder.part(&quot;plane&quot;, mesh, \n                GL20.GL_TRIANGLES,  \n                0, \n                mesh.getNumIndices(), \n                new Material()); // creates your mesh\n        \nmodel = modelBuilder.end(); // makes the model\ninstance = new ModelInstance(model);\n\n//...\n//render it in render loop\nmodelBatch.begin(camera);\nmodelBatch.render(instance, environment);\nmodelBatch.end();\n</code></pre>\n<p>Following mainly :</p>\n<ul>\n<li>tutorial from <a href=\"https://xoppa.github.io/blog/basic-3d-using-libgdx/\" rel=\"nofollow noreferrer\">blog.xoppa.com</a></li>\n<li>documentation on <a href=\"https://libgdx.com/wiki/graphics/3d/modelbuilder-meshbuilder-and-meshpartbuilder\" rel=\"nofollow noreferrer\">modelBuilder</a></li>\n</ul>\n<p>Hope it will help you and others that are in search for the same process.</p>\n"}],"owner":{"account_id":3115098,"reputation":327,"user_id":2636056,"accept_rate":71,"display_name":"Grobbed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679242706,"creation_date":1450759224,"question_id":34408514,"body_markdown":"so, I have created a mesh consisting of 2 triangles into my game. Now I want to turn this mesh into a model so it can be rendered with the ModelBatch. If I just render it seperatly it gives me weird depth issues with the models:\r\n\r\n[![Example][1]][1]\r\n\r\nIf I render multiple different models together it does not give me the error (The two kinds of trees). So If i render it as a model the problem will hopefully go away.\r\n\r\n  [1]: http://i.stack.imgur.com/bcMHK.png","title":"How do you turn a mesh into a model with libGDX?","body":"<p>so, I have created a mesh consisting of 2 triangles into my game. Now I want to turn this mesh into a model so it can be rendered with the ModelBatch. If I just render it seperatly it gives me weird depth issues with the models:</p>\n<p><a href=\"https://i.stack.imgur.com/bcMHK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bcMHK.png\" alt=\"Example\" /></a></p>\n<p>If I render multiple different models together it does not give me the error (The two kinds of trees). So If i render it as a model the problem will hopefully go away.</p>\n"},{"tags":["java","sftp","apache-mina"],"comments":[{"owner":{"account_id":4908306,"reputation":303,"user_id":3954365,"display_name":"Pedro Augusto"},"score":0,"creation_date":1633689136,"post_id":66435429,"comment_id":122832484,"body_markdown":"Hi, I&#39;m passing through the same problem. Didi you manage to solve it?","body":"Hi, I&#39;m passing through the same problem. Didi you manage to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":35976,"reputation":1581,"user_id":102289,"accept_rate":56,"display_name":"Luciano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679242089,"creation_date":1679242089,"answer_id":75783307,"question_id":66435429,"body_markdown":"In NetconfSSHClient.java add the following after the call to `SshClient.setUpDefaultClient()`\r\n\r\n```\r\n\t\t// add DSS \r\n\t\tList&lt;NamedFactory&lt;Signature&gt;&gt; signatureFactories = client.getSignatureFactories();\r\n\t\tList&lt;BuiltinSignatures&gt; signatures = new ArrayList&lt;&gt;();\r\n\t\tsignatures.add(BuiltinSignatures.dsa);\r\n\t\tsignatureFactories.addAll(NamedFactory.setUpBuiltinFactories(false, signatures));\r\n\t\t\r\n\t\tclient.setSignatureFactories(signatureFactories);\r\n```\r\n\r\nYou&#39;ll also need to add the matching includes to the top of your file:\r\n\r\n```\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport org.apache.sshd.common.signature.Signature;\r\nimport org.apache.sshd.common.signature.BuiltinSignatures;\r\n```\r\n\r\nThere may be an easier way, but this was the way the Mina-SSHD mailing list told me to do it.\r\n\r\nIf you also need deprecated KEX or Ciphers the process is similar for cyphers but slightly different for KEX:\r\n\r\n```\r\n\t\t// Get the current default list of key exchange factories\r\n\t\tList&lt;KeyExchangeFactory&gt; keyExchangeFactories = client.getKeyExchangeFactories();\r\n\r\n\t\t// Add the Diffie-Hellman-group1-sha1 key exchange factory\r\n\t\tkeyExchangeFactories.addAll(NamedFactory.setUpTransformedFactories(\r\n\t\t\t\tfalse,\r\n\t\t\t\tList.of(BuiltinDHFactories.dhg1),\r\n\t\t\t\tClientBuilder.DH2KEX\r\n\t\t));\r\n\r\n\t\t// Update the key exchange factories\r\n\t\tclient.setKeyExchangeFactories(keyExchangeFactories);\r\n```","title":"Enable ssh-dss algorithm for known-host in Apache-Mina","body":"<p>In NetconfSSHClient.java add the following after the call to <code>SshClient.setUpDefaultClient()</code></p>\n<pre><code>        // add DSS \n        List&lt;NamedFactory&lt;Signature&gt;&gt; signatureFactories = client.getSignatureFactories();\n        List&lt;BuiltinSignatures&gt; signatures = new ArrayList&lt;&gt;();\n        signatures.add(BuiltinSignatures.dsa);\n        signatureFactories.addAll(NamedFactory.setUpBuiltinFactories(false, signatures));\n        \n        client.setSignatureFactories(signatureFactories);\n</code></pre>\n<p>You'll also need to add the matching includes to the top of your file:</p>\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport org.apache.sshd.common.signature.Signature;\nimport org.apache.sshd.common.signature.BuiltinSignatures;\n</code></pre>\n<p>There may be an easier way, but this was the way the Mina-SSHD mailing list told me to do it.</p>\n<p>If you also need deprecated KEX or Ciphers the process is similar for cyphers but slightly different for KEX:</p>\n<pre><code>        // Get the current default list of key exchange factories\n        List&lt;KeyExchangeFactory&gt; keyExchangeFactories = client.getKeyExchangeFactories();\n\n        // Add the Diffie-Hellman-group1-sha1 key exchange factory\n        keyExchangeFactories.addAll(NamedFactory.setUpTransformedFactories(\n                false,\n                List.of(BuiltinDHFactories.dhg1),\n                ClientBuilder.DH2KEX\n        ));\n\n        // Update the key exchange factories\n        client.setKeyExchangeFactories(keyExchangeFactories);\n</code></pre>\n"}],"owner":{"account_id":7062719,"reputation":313,"user_id":5407274,"accept_rate":62,"display_name":"Sergey Panov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":960,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679242089,"creation_date":1614672000,"question_id":66435429,"body_markdown":"I&#39;m working on a custom SFTP client. The client receives a known-host record as a required server key. My code works fine with ssh-rsa, but in the case of ssh-dss Mina throws an exception with a message `Unable to negotiate key exchange for server host key algorithms (client: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa / server: ssh-dss)`. The official documentation (https://github.com/apache/mina-sshd) says that Mina does support ssh-dss.\r\n\r\nWould you recommend a way how to make SshClient use ssh-dss (something like `PubkeyAcceptedKeyTypes=+ssh-dss` in ssh config)? \r\n\r\nThank you.","title":"Enable ssh-dss algorithm for known-host in Apache-Mina","body":"<p>I'm working on a custom SFTP client. The client receives a known-host record as a required server key. My code works fine with ssh-rsa, but in the case of ssh-dss Mina throws an exception with a message <code>Unable to negotiate key exchange for server host key algorithms (client: ecdsa-sha2-nistp256-cert-v01@openssh.com,ecdsa-sha2-nistp384-cert-v01@openssh.com,ecdsa-sha2-nistp521-cert-v01@openssh.com,rsa-sha2-512-cert-v01@openssh.com,rsa-sha2-256-cert-v01@openssh.com,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521,sk-ecdsa-sha2-nistp256@openssh.com,rsa-sha2-512,rsa-sha2-256,ssh-rsa / server: ssh-dss)</code>. The official documentation (<a href=\"https://github.com/apache/mina-sshd\" rel=\"nofollow noreferrer\">https://github.com/apache/mina-sshd</a>) says that Mina does support ssh-dss.</p>\n<p>Would you recommend a way how to make SshClient use ssh-dss (something like <code>PubkeyAcceptedKeyTypes=+ssh-dss</code> in ssh config)?</p>\n<p>Thank you.</p>\n"},{"tags":["java","websocket","netty"],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679241469,"creation_date":1679237836,"question_id":75782879,"body_markdown":"I have defined the netty endpoint like this in the server side:\r\n\r\n\r\n\r\n\r\n         package com.dolphin.soa.post.config.common.websocket;\r\n    \r\n    import io.netty.bootstrap.ServerBootstrap;\r\n    import io.netty.channel.ChannelFuture;\r\n    import io.netty.channel.ChannelInitializer;\r\n    import io.netty.channel.ChannelPipeline;\r\n    import io.netty.channel.EventLoopGroup;\r\n    import io.netty.channel.nio.NioEventLoopGroup;\r\n    import io.netty.channel.socket.SocketChannel;\r\n    import io.netty.channel.socket.nio.NioServerSocketChannel;\r\n    import io.netty.handler.codec.http.HttpObjectAggregator;\r\n    import io.netty.handler.codec.http.HttpServerCodec;\r\n    import io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\r\n    import io.netty.handler.codec.serialization.ObjectEncoder;\r\n    import io.netty.handler.stream.ChunkedWriteHandler;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.annotation.PreDestroy;\r\n    import java.net.InetSocketAddress;\r\n    \r\n    public class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\r\n    \r\n        @Override\r\n        protected void initChannel(SocketChannel ch) {\r\n            ChannelPipeline pipeline = ch.pipeline();\r\n            pipeline.addLast(new HttpServerCodec());\r\n            pipeline.addLast(new HttpObjectAggregator(65536));\r\n            pipeline.addLast(new WebSocketServerProtocolHandler(&quot;/websocket&quot;));\r\n            pipeline.addLast(new ChatWebSocketHandler());\r\n        }\r\n    \r\n        private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\r\n    \r\n        private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\r\n    \r\n        /**\r\n         * port number\r\n         */\r\n        @Value(&quot;${webSocket.netty.port:58080}&quot;)\r\n        private int port;\r\n    \r\n        /**\r\n         * webSocket path\r\n         */\r\n        @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\r\n        private String webSocketPath;\r\n    \r\n        @Autowired\r\n        private ChatWebSocketHandler webSocketHandler;\r\n    \r\n        private EventLoopGroup bossGroup;\r\n        private EventLoopGroup workGroup;\r\n    \r\n        /**\r\n         * start\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        private void start() throws InterruptedException {\r\n            bossGroup = new NioEventLoopGroup();\r\n            workGroup = new NioEventLoopGroup();\r\n            ServerBootstrap bootstrap = new ServerBootstrap();\r\n            bootstrap.group(bossGroup, workGroup);\r\n            bootstrap.channel(NioServerSocketChannel.class);\r\n            bootstrap.localAddress(new InetSocketAddress(port));\r\n            bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\r\n    \r\n                @Override\r\n                protected void initChannel(SocketChannel ch) throws Exception {\r\n                    ch.pipeline().addLast(new HttpServerCodec());\r\n                    ch.pipeline().addLast(new ObjectEncoder());\r\n                    ch.pipeline().addLast(new ChunkedWriteHandler());\r\n                    ch.pipeline().addLast(new HttpObjectAggregator(8192));\r\n                    ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\r\n                    ch.pipeline().addLast(webSocketHandler);\r\n                }\r\n            });\r\n            ChannelFuture channelFuture = bootstrap.bind().sync();\r\n            log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\r\n            channelFuture.channel().closeFuture().sync();\r\n        }\r\n    \r\n        /**\r\n         *\r\n         *\r\n         * @throws InterruptedException\r\n         */\r\n        @PreDestroy\r\n        public void destroy() throws InterruptedException {\r\n            if (bossGroup != null) {\r\n                bossGroup.shutdownGracefully().sync();\r\n            }\r\n            if (workGroup != null) {\r\n                workGroup.shutdownGracefully().sync();\r\n            }\r\n        }\r\n    \r\n        @PostConstruct()\r\n        public void init() {\r\n            new Thread(() -&gt; {\r\n                try {\r\n                    start();\r\n                } catch (InterruptedException e) {\r\n                    log.error(&quot;start netty server failed&quot;, e);\r\n                }\r\n            }).start();\r\n        }\r\n    }\r\n\r\n\r\nthe websocket path may look like this `/post/websocket`, but when I connect the websocket using this url in the client side like this:\r\n\r\n\r\n    ws://192.168.10.93:58080/post/websocket?accessToken=eyJhbGciOiJIUzUxMiJ9.eyJ1c2V\r\n\r\n\r\nshows error:\r\n\r\n\r\n    failed: WebSocket is closed before the connection is established.WebSocket closed with code 1006 and reason &quot;&quot;\r\n\r\n\r\nis it possible to carry parameters when using websocket implement by netty `implementation &#39;io.netty:netty-all:4.1.65.Final&#39;`? without the access token parameter, the websocket works fine. I just want to add some verify before connection to the websocket.\r\n","title":"does netty support the endpoint to carry parameters","body":"<p>I have defined the netty endpoint like this in the server side:</p>\n<pre><code>     package com.dolphin.soa.post.config.common.websocket;\n\nimport io.netty.bootstrap.ServerBootstrap;\nimport io.netty.channel.ChannelFuture;\nimport io.netty.channel.ChannelInitializer;\nimport io.netty.channel.ChannelPipeline;\nimport io.netty.channel.EventLoopGroup;\nimport io.netty.channel.nio.NioEventLoopGroup;\nimport io.netty.channel.socket.SocketChannel;\nimport io.netty.channel.socket.nio.NioServerSocketChannel;\nimport io.netty.handler.codec.http.HttpObjectAggregator;\nimport io.netty.handler.codec.http.HttpServerCodec;\nimport io.netty.handler.codec.http.websocketx.WebSocketServerProtocolHandler;\nimport io.netty.handler.codec.serialization.ObjectEncoder;\nimport io.netty.handler.stream.ChunkedWriteHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\n\nimport javax.annotation.PostConstruct;\nimport javax.annotation.PreDestroy;\nimport java.net.InetSocketAddress;\n\npublic class WebSocketServer extends ChannelInitializer&lt;SocketChannel&gt; {\n\n    @Override\n    protected void initChannel(SocketChannel ch) {\n        ChannelPipeline pipeline = ch.pipeline();\n        pipeline.addLast(new HttpServerCodec());\n        pipeline.addLast(new HttpObjectAggregator(65536));\n        pipeline.addLast(new WebSocketServerProtocolHandler(&quot;/websocket&quot;));\n        pipeline.addLast(new ChatWebSocketHandler());\n    }\n\n    private static final Logger log = LoggerFactory.getLogger(WebSocketServer.class);\n\n    private static final String WEBSOCKET_PROTOCOL = &quot;WebSocket&quot;;\n\n    /**\n     * port number\n     */\n    @Value(&quot;${webSocket.netty.port:58080}&quot;)\n    private int port;\n\n    /**\n     * webSocket path\n     */\n    @Value(&quot;${webSocket.netty.path:/post/websocket}&quot;)\n    private String webSocketPath;\n\n    @Autowired\n    private ChatWebSocketHandler webSocketHandler;\n\n    private EventLoopGroup bossGroup;\n    private EventLoopGroup workGroup;\n\n    /**\n     * start\n     *\n     * @throws InterruptedException\n     */\n    private void start() throws InterruptedException {\n        bossGroup = new NioEventLoopGroup();\n        workGroup = new NioEventLoopGroup();\n        ServerBootstrap bootstrap = new ServerBootstrap();\n        bootstrap.group(bossGroup, workGroup);\n        bootstrap.channel(NioServerSocketChannel.class);\n        bootstrap.localAddress(new InetSocketAddress(port));\n        bootstrap.childHandler(new ChannelInitializer&lt;SocketChannel&gt;() {\n\n            @Override\n            protected void initChannel(SocketChannel ch) throws Exception {\n                ch.pipeline().addLast(new HttpServerCodec());\n                ch.pipeline().addLast(new ObjectEncoder());\n                ch.pipeline().addLast(new ChunkedWriteHandler());\n                ch.pipeline().addLast(new HttpObjectAggregator(8192));\n                ch.pipeline().addLast(new WebSocketServerProtocolHandler(webSocketPath, WEBSOCKET_PROTOCOL, true, 65536 * 10));\n                ch.pipeline().addLast(webSocketHandler);\n            }\n        });\n        ChannelFuture channelFuture = bootstrap.bind().sync();\n        log.info(&quot;Server started and listen on:{}&quot;, channelFuture.channel().localAddress());\n        channelFuture.channel().closeFuture().sync();\n    }\n\n    /**\n     *\n     *\n     * @throws InterruptedException\n     */\n    @PreDestroy\n    public void destroy() throws InterruptedException {\n        if (bossGroup != null) {\n            bossGroup.shutdownGracefully().sync();\n        }\n        if (workGroup != null) {\n            workGroup.shutdownGracefully().sync();\n        }\n    }\n\n    @PostConstruct()\n    public void init() {\n        new Thread(() -&gt; {\n            try {\n                start();\n            } catch (InterruptedException e) {\n                log.error(&quot;start netty server failed&quot;, e);\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>the websocket path may look like this <code>/post/websocket</code>, but when I connect the websocket using this url in the client side like this:</p>\n<pre><code>ws://192.168.10.93:58080/post/websocket?accessToken=eyJhbGciOiJIUzUxMiJ9.eyJ1c2V\n</code></pre>\n<p>shows error:</p>\n<pre><code>failed: WebSocket is closed before the connection is established.WebSocket closed with code 1006 and reason &quot;&quot;\n</code></pre>\n<p>is it possible to carry parameters when using websocket implement by netty <code>implementation 'io.netty:netty-all:4.1.65.Final'</code>? without the access token parameter, the websocket works fine. I just want to add some verify before connection to the websocket.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":6596539,"reputation":1350,"user_id":5096142,"display_name":"Carlos"},"score":0,"creation_date":1679236002,"post_id":75782245,"comment_id":133681154,"body_markdown":"have you tried removing the any() argument and put a concrete object in your 2nd argument?","body":"have you tried removing the any() argument and put a concrete object in your 2nd argument?"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241299,"creation_date":1679241299,"answer_id":75783209,"question_id":75782245,"body_markdown":"you can use `thenAnswer` for more flexibility. This will give you the `invocations` object, containing the parameters of the call. This is a simplified example:\r\n\r\n    class MyMapper {\r\n    \tpublic &lt;T&gt; T getConfiguration(String configName, TypeReference&lt;T&gt; typeReference) {\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n    \r\n    @Test\r\n    void test() {\r\n    \tMyMapper mocked = mock(MyMapper.class);\r\n    \twhen(mocked.getConfiguration(any(), any()))\r\n    \t\t\t.thenAnswer(invocation -&gt; {\r\n    \t\t\t\tTypeReference&lt;?&gt; typeReference = invocation.getArgument(1);\r\n                    // maybe you&#39;ll find a more elegant way to do this check\r\n    \t\t\t\tif (typeReference.getType().getTypeName().equals(&quot;java.util.List&lt;java.lang.String&gt;&quot;)) {\r\n    \t\t\t\t\treturn List.of(&quot;a&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\treturn Map.of(&quot;aa&quot;, &quot;bb&quot;);\r\n    \t\t\t});\r\n    \r\n    \r\n    \tTypeReference&lt;List&lt;String&gt;&gt; listTr = new TypeReference&lt;List&lt;String&gt;&gt;() {};\r\n    \tList&lt;String&gt; result = mocked.getConfiguration(&quot;lala&quot;, listTr);\r\n    \tSystem.out.println(result); //prints [&#39;a&#39;]\r\n    \r\n    \tTypeReference&lt;Map&lt;String, String&gt;&gt; mapTr = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {};\r\n    \tMap&lt;String, String&gt; result2 = mocked.getConfiguration(&quot;lala&quot;, mapTr);\r\n    \tSystem.out.println(result2); //prints {&#39;aa&#39;:&#39;bb&#39;}\r\n    }\r\n\r\nOn the other hand - when it gets to such complicated Mokito setup, you might consider writing your own fake object or use the actual object if possible. Hope this helps.","title":"How to mock a function to return different value based on different generic type of an argument?","body":"<p>you can use <code>thenAnswer</code> for more flexibility. This will give you the <code>invocations</code> object, containing the parameters of the call. This is a simplified example:</p>\n<pre><code>class MyMapper {\n    public &lt;T&gt; T getConfiguration(String configName, TypeReference&lt;T&gt; typeReference) {\n        return null;\n    }\n}\n\n@Test\nvoid test() {\n    MyMapper mocked = mock(MyMapper.class);\n    when(mocked.getConfiguration(any(), any()))\n            .thenAnswer(invocation -&gt; {\n                TypeReference&lt;?&gt; typeReference = invocation.getArgument(1);\n                // maybe you'll find a more elegant way to do this check\n                if (typeReference.getType().getTypeName().equals(&quot;java.util.List&lt;java.lang.String&gt;&quot;)) {\n                    return List.of(&quot;a&quot;);\n                }\n                return Map.of(&quot;aa&quot;, &quot;bb&quot;);\n            });\n\n\n    TypeReference&lt;List&lt;String&gt;&gt; listTr = new TypeReference&lt;List&lt;String&gt;&gt;() {};\n    List&lt;String&gt; result = mocked.getConfiguration(&quot;lala&quot;, listTr);\n    System.out.println(result); //prints ['a']\n\n    TypeReference&lt;Map&lt;String, String&gt;&gt; mapTr = new TypeReference&lt;Map&lt;String, String&gt;&gt;() {};\n    Map&lt;String, String&gt; result2 = mocked.getConfiguration(&quot;lala&quot;, mapTr);\n    System.out.println(result2); //prints {'aa':'bb'}\n}\n</code></pre>\n<p>On the other hand - when it gets to such complicated Mokito setup, you might consider writing your own fake object or use the actual object if possible. Hope this helps.</p>\n"}],"owner":{"account_id":4787365,"reputation":369,"user_id":3867445,"accept_rate":17,"display_name":"Surbhi Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1679241299,"creation_date":1679231776,"question_id":75782245,"body_markdown":"\r\nI have a function which takes 2 arguments, a string and a TypeReference:\r\n```\r\n    public &lt;T&gt; T getConfiguration(@NonNull final String configName,\r\n                                         @NonNull final TypeReference&lt;T&gt; typeReference) {\r\n            return mapper.readValue(configString, typeReference);\r\n    }\r\n```\r\nI want to make a test class for the above method and when I pass TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; type, I want to return let say &#39;a&#39; and if I pass TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; I want &#39;b&#39; to be returned:\r\n\r\n```\r\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;&gt;any()))\r\n                .thenReturn(a);\r\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt;&gt;any()))\r\n                .thenReturn(b);\r\n```\r\nBut, I am getting &#39;b&#39; in both cases. How to get &#39;a&#39; for TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; type and &#39;b&#39; for TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; type?\r\n\r\nI also tried ArgumentMatchers instead of Mockito, but it also is giving &#39;b&#39; in both case.\r\n\r\nOr please tell any other way how to mock, I have to call once of type         TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt; and once of              TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; and need different values to be returned.","title":"How to mock a function to return different value based on different generic type of an argument?","body":"<p>I have a function which takes 2 arguments, a string and a TypeReference:</p>\n<pre><code>    public &lt;T&gt; T getConfiguration(@NonNull final String configName,\n                                         @NonNull final TypeReference&lt;T&gt; typeReference) {\n            return mapper.readValue(configString, typeReference);\n    }\n</code></pre>\n<p>I want to make a test class for the above method and when I pass TypeReference&lt;Map&lt;String, List&gt;&gt; type, I want to return let say 'a' and if I pass TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; I want 'b' to be returned:</p>\n<pre><code>        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;&gt;any()))\n                .thenReturn(a);\n        Mockito.when(mapper.readValue(Mockito.eq(SDK_BYTES), Mockito.&lt;TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt;&gt;any()))\n                .thenReturn(b);\n</code></pre>\n<p>But, I am getting 'b' in both cases. How to get 'a' for TypeReference&lt;Map&lt;String, List&gt;&gt; type and 'b' for TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; type?</p>\n<p>I also tried ArgumentMatchers instead of Mockito, but it also is giving 'b' in both case.</p>\n<p>Or please tell any other way how to mock, I have to call once of type         TypeReference&lt;Map&lt;String, List&gt;&gt; and once of              TypeReference&lt;Map&lt;String, FeatureLaunchStatus&gt;&gt; and need different values to be returned.</p>\n"},{"tags":["java","arrays","binary-search","sortedlist"],"answers":[{"comments":[{"owner":{"account_id":27295713,"reputation":1,"user_id":20813377,"display_name":"koyal kondapalli"},"score":0,"creation_date":1679242611,"post_id":75783198,"comment_id":133682280,"body_markdown":"what I&#39;m trying to do is here finding the peak element and then search in the first half and if not found search in the second half as both the halves are sorted in ascending order so why I&#39;m struggling to find element present at the second half.","body":"what I&#39;m trying to do is here finding the peak element and then search in the first half and if not found search in the second half as both the halves are sorted in ascending order so why I&#39;m struggling to find element present at the second half."},{"owner":{"account_id":27295713,"reputation":1,"user_id":20813377,"display_name":"koyal kondapalli"},"score":0,"creation_date":1679243701,"post_id":75783198,"comment_id":133682475,"body_markdown":"well my finding peak element function is wrong","body":"well my finding peak element function is wrong"}],"tags":[],"owner":{"account_id":2157109,"reputation":3274,"user_id":1912077,"accept_rate":62,"display_name":"Renjith"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679241168,"creation_date":1679241168,"answer_id":75783198,"question_id":75783114,"body_markdown":"Your program is wrong.You are finding the peak element and trying to do a binary search from start to end which will not work since the target could be anywhere in the array. If you are trying to search in a rotated array, try this\r\n\r\n    public static int search(int[] nums, int target) {\r\n        int start = 0;\r\n        int end = nums.length - 1;\r\n\r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n\r\n            if (nums[mid] == target) {\r\n                return mid;\r\n            }\r\n\r\n            if (nums[start] &lt;= nums[mid]) { // Left side is sorted\r\n                if (target &gt;= nums[start] &amp;&amp; target &lt; nums[mid]) {\r\n                    end = mid - 1;\r\n                } else {\r\n                    start = mid + 1;\r\n                }\r\n            } else { // Right side is sorted\r\n                if (target &gt; nums[mid] &amp;&amp; target &lt;= nums[end]) {\r\n                    start = mid + 1;\r\n                } else {\r\n                    end = mid - 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {3,4,5,6,7,0,1,2};\r\n        int target = 1;\r\n        int index = search(arr, target);\r\n        System.out.println(&quot;Index of &quot; + target + &quot; is &quot; + index);\r\n    }","title":"I&#39;m trying to find 1 in the array and getting -1. help me with the code in rotated sorted array","body":"<p>Your program is wrong.You are finding the peak element and trying to do a binary search from start to end which will not work since the target could be anywhere in the array. If you are trying to search in a rotated array, try this</p>\n<pre><code>public static int search(int[] nums, int target) {\n    int start = 0;\n    int end = nums.length - 1;\n\n    while (start &lt;= end) {\n        int mid = start + (end - start) / 2;\n\n        if (nums[mid] == target) {\n            return mid;\n        }\n\n        if (nums[start] &lt;= nums[mid]) { // Left side is sorted\n            if (target &gt;= nums[start] &amp;&amp; target &lt; nums[mid]) {\n                end = mid - 1;\n            } else {\n                start = mid + 1;\n            }\n        } else { // Right side is sorted\n            if (target &gt; nums[mid] &amp;&amp; target &lt;= nums[end]) {\n                start = mid + 1;\n            } else {\n                end = mid - 1;\n            }\n        }\n    }\n\n    return -1;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {3,4,5,6,7,0,1,2};\n    int target = 1;\n    int index = search(arr, target);\n    System.out.println(&quot;Index of &quot; + target + &quot; is &quot; + index);\n}\n</code></pre>\n"}],"owner":{"account_id":27295713,"reputation":1,"user_id":20813377,"display_name":"koyal kondapalli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679241168,"creation_date":1679240242,"question_id":75783114,"body_markdown":"```\r\n\r\npublic class searchInRotatedSortedArray {\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {3,4,5,6,7,0,1,2};\r\n        int target = 1;\r\n       \r\n        int peak = peak_ele(arr);\r\n        int ans = bs(arr, target, 0, peak);\r\n        if (ans == -1) {\r\n            ans = bs(arr, target, peak+1, arr.length-1);\r\n        }\r\n        System.out.println(ans);\r\n    }\r\n    \r\n    \r\n    \r\n    static int peak_ele(int[] arr){\r\n        int start=0;\r\n        int end=arr.length-1;\r\n        \r\n        while(start&lt;end){\r\n            int mid=start+(end-start)/2;\r\n            if(arr[mid]&lt;arr[mid+1]){\r\n                start=mid+1;\r\n            }\r\n            else if(arr[mid]&gt;arr[mid+1]){\r\n                end=mid;\r\n            }\r\n          \r\n        }\r\n        return end;\r\n    }\r\n\r\n    static int bs(int[] arr, int target, int start, int end) {\r\n        \r\n        while (start &lt;= end) {\r\n            int mid = start + (end - start) / 2;\r\n            if (arr[mid] == target) {\r\n                return mid;\r\n            }\r\n            if (arr[mid] &lt; target) {\r\n                start = mid + 1;\r\n            } else {\r\n                end = mid - 1;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    \r\n\r\n\r\n}\r\n```\r\n\r\nI was expecting to get the index of 1 in the array but I&#39;m getting -1. The second half of array to find the target is not working idk. Help me find the error in the code as I have tried many times but I just couldn&#39;t figured it out.","title":"I&#39;m trying to find 1 in the array and getting -1. help me with the code in rotated sorted array","body":"<pre><code>\npublic class searchInRotatedSortedArray {\n\n    public static void main(String[] args) {\n        int[] arr = {3,4,5,6,7,0,1,2};\n        int target = 1;\n       \n        int peak = peak_ele(arr);\n        int ans = bs(arr, target, 0, peak);\n        if (ans == -1) {\n            ans = bs(arr, target, peak+1, arr.length-1);\n        }\n        System.out.println(ans);\n    }\n    \n    \n    \n    static int peak_ele(int[] arr){\n        int start=0;\n        int end=arr.length-1;\n        \n        while(start&lt;end){\n            int mid=start+(end-start)/2;\n            if(arr[mid]&lt;arr[mid+1]){\n                start=mid+1;\n            }\n            else if(arr[mid]&gt;arr[mid+1]){\n                end=mid;\n            }\n          \n        }\n        return end;\n    }\n\n    static int bs(int[] arr, int target, int start, int end) {\n        \n        while (start &lt;= end) {\n            int mid = start + (end - start) / 2;\n            if (arr[mid] == target) {\n                return mid;\n            }\n            if (arr[mid] &lt; target) {\n                start = mid + 1;\n            } else {\n                end = mid - 1;\n            }\n        }\n        return -1;\n    }\n    \n\n\n}\n</code></pre>\n<p>I was expecting to get the index of 1 in the array but I'm getting -1. The second half of array to find the target is not working idk. Help me find the error in the code as I have tried many times but I just couldn't figured it out.</p>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"score":0,"creation_date":1679369623,"post_id":75783168,"comment_id":133705643,"body_markdown":"Thanks, @Chriki. It appears that considering buildSrc for defining stuff and not doing stuff would be a simple way of separating concerns.","body":"Thanks, @Chriki. It appears that considering buildSrc for defining stuff and not doing stuff would be a simple way of separating concerns."}],"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679240794,"creation_date":1679240794,"answer_id":75783168,"question_id":75773393,"body_markdown":"To be able to use a custom class in some Gradle build, youll have to build that class in a different build first. In your `buildSrc` build, youre trying to build the class in the same build in which youre trying to use it  which isnt possible.\r\n\r\nAfter having built the class, youll want to get it into the second build. For that youll have to get it on the build script classpath of that second build. This is usually done via a custom Gradle plugin which contains or depends on the class.\r\n\r\n### Sample Setup\r\n\r\nHeres a sample setup for your use case (tested with Gradle 8.0.2):\r\n\r\n```lang-none\r\n enumProvidingProj\r\n&#160;&#160;  build.gradle\r\n&#160;&#160;  settings.gradle\r\n&#160;&#160;  src\r\n&#160;&#160;      main\r\n&#160;&#160;          groovy\r\n&#160;&#160;         &#160;&#160;  my-enum-convention.gradle\r\n&#160;&#160;          java\r\n&#160;&#160;              SomeEnum.java\r\n enumUsingProj\r\n &#160;&#160;  build.gradle\r\n &#160;&#160;  settings.gradle\r\n```\r\n\r\nThe `enumProvidingProj` builds the `SomeEnum` class and makes it available via a [precompiled script plugin](https://docs.gradle.org/8.0.2/userguide/custom_plugins.html#sec:precompiled_plugins). The `enumUsingProj` then uses the class after it has applied the plugin.  The `enumUsingProj` is hence equivalent to your `buildSrc` build; you can use it as an included build, for example.\r\n\r\nHere are the contents of the listed sample files:\r\n\r\n#### `enumProvidingProj/build.gradle`\r\n\r\n```lang-groovy\r\nplugins {\r\n    id &#39;groovy-gradle-plugin&#39;\r\n    id &#39;java&#39;\r\n}\r\n```\r\n\r\n#### `enumProvidingProj/settings.gradle`\r\n\r\n```lang-groovy\r\n// empty file\r\n```\r\n\r\n#### `enumProvidingProj/src/main/groovy/my-enum-convention.gradle`\r\n\r\n```lang-groovy\r\n// Empty file is only here to create a plugin.\r\n```\r\n\r\n#### `enumProvidingProj/src/main/java/SomeEnum.java`\r\n\r\n```lang-java\r\npublic enum SomeEnum {\r\n    FOO, BAR, BAZ;\r\n}\r\n```\r\n\r\n#### `enumUsingProj/build.gradle`\r\n\r\n```lang-groovy\r\nplugins {\r\n  id &#39;java&#39;\r\n  id &#39;my-enum-convention&#39;\r\n}\r\n\r\nimport SomeEnum\r\n\r\ntask someTask() {\r\n    def foo = SomeEnum.FOO\r\n    doLast() {\r\n        println(&quot;$foo&quot;)\r\n    }\r\n}\r\n\r\nsomeTask.dependsOn compileJava\r\n```\r\n\r\n#### `enumUsingProj/settings.gradle`\r\n\r\n```lang-groovy\r\npluginManagement {\r\n    includeBuild &#39;../enumProvidingProj&#39;\r\n}\r\n```\r\n","title":"Can a buildSrc task refer to a class in buildSrc?","body":"<p>To be able to use a custom class in some Gradle build, youll have to build that class in a different build first. In your <code>buildSrc</code> build, youre trying to build the class in the same build in which youre trying to use it  which isnt possible.</p>\n<p>After having built the class, youll want to get it into the second build. For that youll have to get it on the build script classpath of that second build. This is usually done via a custom Gradle plugin which contains or depends on the class.</p>\n<h3>Sample Setup</h3>\n<p>Heres a sample setup for your use case (tested with Gradle 8.0.2):</p>\n<pre class=\"lang-none prettyprint-override\"><code> enumProvidingProj\n  build.gradle\n  settings.gradle\n  src\n      main\n          groovy\n           my-enum-convention.gradle\n          java\n              SomeEnum.java\n enumUsingProj\n   build.gradle\n   settings.gradle\n</code></pre>\n<p>The <code>enumProvidingProj</code> builds the <code>SomeEnum</code> class and makes it available via a <a href=\"https://docs.gradle.org/8.0.2/userguide/custom_plugins.html#sec:precompiled_plugins\" rel=\"nofollow noreferrer\">precompiled script plugin</a>. The <code>enumUsingProj</code> then uses the class after it has applied the plugin.  The <code>enumUsingProj</code> is hence equivalent to your <code>buildSrc</code> build; you can use it as an included build, for example.</p>\n<p>Here are the contents of the listed sample files:</p>\n<h4><code>enumProvidingProj/build.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'groovy-gradle-plugin'\n    id 'java'\n}\n</code></pre>\n<h4><code>enumProvidingProj/settings.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>// empty file\n</code></pre>\n<h4><code>enumProvidingProj/src/main/groovy/my-enum-convention.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>// Empty file is only here to create a plugin.\n</code></pre>\n<h4><code>enumProvidingProj/src/main/java/SomeEnum.java</code></h4>\n<pre class=\"lang-java prettyprint-override\"><code>public enum SomeEnum {\n    FOO, BAR, BAZ;\n}\n</code></pre>\n<h4><code>enumUsingProj/build.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n  id 'java'\n  id 'my-enum-convention'\n}\n\nimport SomeEnum\n\ntask someTask() {\n    def foo = SomeEnum.FOO\n    doLast() {\n        println(&quot;$foo&quot;)\n    }\n}\n\nsomeTask.dependsOn compileJava\n</code></pre>\n<h4><code>enumUsingProj/settings.gradle</code></h4>\n<pre class=\"lang-groovy prettyprint-override\"><code>pluginManagement {\n    includeBuild '../enumProvidingProj'\n}\n</code></pre>\n"}],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75783168,"answer_count":1,"score":1,"last_activity_date":1679240794,"creation_date":1679103764,"question_id":75773393,"body_markdown":"I&#39;d like to refer to a class that I&#39;ve defined in `buildSrc/src/main/java` (an enum, but it could also be a task) in `buildSrc/build.gradle`, but I get an `unable to resolve class` error.\r\n\r\nGiven `buildSrc/build.gradle`:\r\n\r\n```\r\napply plugin: &#39;java&#39;\r\n\r\nimport SomeEnum\r\n\r\ntask someTask() {\r\n    def foo = SomeEnum.FOO\r\n    doLast() {\r\n        println(&quot;$foo&quot;)\r\n    }\r\n}\r\n\r\nsomeTask.dependsOn compileJava\r\n```\r\n\r\nand given `src/main/java/SomeEnum.java`:\r\n\r\n```\r\npublic enum SomeEnum {\r\n    FOO, BAR, BAZ;\r\n}\r\n```\r\n\r\nI&#39;d expect that `gradle someTask` would print `FOO`, but instead I get:\r\n\r\n```\r\n* What went wrong:\r\nCould not compile build file &#39;/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle&#39;.\r\n&gt; startup failed:\r\n  build file &#39;/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle&#39;: 3: unable to resolve class SomeEnum\r\n   @ line 3, column 1.\r\n     import SomeEnum\r\n     ^\r\n```\r\n\r\nIs this possible?\r\n\r\nIf not, can you suggest a good alternative to allow our buildSrc to use this class? Would the solution be to get rid of buildSrc and use a composite build instead by putting SomeEnum in one included build and our current content of buildSrc in another included build?","title":"Can a buildSrc task refer to a class in buildSrc?","body":"<p>I'd like to refer to a class that I've defined in <code>buildSrc/src/main/java</code> (an enum, but it could also be a task) in <code>buildSrc/build.gradle</code>, but I get an <code>unable to resolve class</code> error.</p>\n<p>Given <code>buildSrc/build.gradle</code>:</p>\n<pre><code>apply plugin: 'java'\n\nimport SomeEnum\n\ntask someTask() {\n    def foo = SomeEnum.FOO\n    doLast() {\n        println(&quot;$foo&quot;)\n    }\n}\n\nsomeTask.dependsOn compileJava\n</code></pre>\n<p>and given <code>src/main/java/SomeEnum.java</code>:</p>\n<pre><code>public enum SomeEnum {\n    FOO, BAR, BAZ;\n}\n</code></pre>\n<p>I'd expect that <code>gradle someTask</code> would print <code>FOO</code>, but instead I get:</p>\n<pre><code>* What went wrong:\nCould not compile build file '/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle'.\n&gt; startup failed:\n  build file '/u/wk/bwohler/tmp/buildSrcTest/buildSrc/build.gradle': 3: unable to resolve class SomeEnum\n   @ line 3, column 1.\n     import SomeEnum\n     ^\n</code></pre>\n<p>Is this possible?</p>\n<p>If not, can you suggest a good alternative to allow our buildSrc to use this class? Would the solution be to get rid of buildSrc and use a composite build instead by putting SomeEnum in one included build and our current content of buildSrc in another included build?</p>\n"},{"tags":["java","azure","maven","environment-variables","pipeline"],"comments":[{"owner":{"account_id":10869346,"reputation":83,"user_id":7991749,"display_name":"Yauheni"},"score":0,"creation_date":1679318939,"post_id":75783073,"comment_id":133695041,"body_markdown":"Not sure if it is important. I have two modules in the project. But for .env it doesnot matter. I tried with location in teh backend module and in the root...same ruslt - it fails.","body":"Not sure if it is important. I have two modules in the project. But for .env it doesnot matter. I tried with location in teh backend module and in the root...same ruslt - it fails."}],"owner":{"account_id":10869346,"reputation":83,"user_id":7991749,"display_name":"Yauheni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679239835,"creation_date":1679239835,"question_id":75783073,"body_markdown":"if some one could help with the problem of .env file in azure pipeline.\r\nI saved my .env file in &quot;Secret files&quot; and the pipeline part regarding the Maven goal execution looks like this:\r\n\r\n    - task: DownloadSecureFile@1\r\n    inputs:\r\n      secureFile: &#39;.env&#39;\r\n\r\n    - task: CopyFiles@2\r\n    inputs:\r\n      SourceFolder: $(Agent.TempDirectory)\r\n      Contents: &#39;**\\.env&#39;\r\n      TargetFolder: $(Build.SourcesDirectory)\r\n      cleanTargetFolder: false\r\n\r\n\r\n    - task: Maven@3\r\n    inputs:\r\n      mavenPomFile: &#39;pom.xml&#39;\r\n      mavenOptions: &#39;-Xmx3072m&#39;\r\n      javaHomeOption: &#39;JDKVersion&#39;\r\n      jdkVersionOption: &#39;17&#39;\r\n      jdkArchitectureOption: &#39;x64&#39;\r\n      publishJUnitResults: true\r\n      testResultsFiles: &#39;**/surefire-reports/TEST-*.xml&#39;\r\n      goals: &#39;verify&#39;\r\n\r\nThe DownloadSecureFile@1 and CopyFiles@2 works fine:\r\n\r\n    found 1 files\r\n\r\n     Copying /home/vsts/work/_temp/.env to /home/vsts/work/1/s/.env\r\n\r\nBut the goal fails, it looks like .env file is not picked up or not seen...\r\nIf I hardcode variables in the application.yaml and thus avoid using .env then everything works fine...","title":"Azure pipeline maven goal doesnot use .env file","body":"<p>if some one could help with the problem of .env file in azure pipeline.\nI saved my .env file in &quot;Secret files&quot; and the pipeline part regarding the Maven goal execution looks like this:</p>\n<pre><code>- task: DownloadSecureFile@1\ninputs:\n  secureFile: '.env'\n\n- task: CopyFiles@2\ninputs:\n  SourceFolder: $(Agent.TempDirectory)\n  Contents: '**\\.env'\n  TargetFolder: $(Build.SourcesDirectory)\n  cleanTargetFolder: false\n\n\n- task: Maven@3\ninputs:\n  mavenPomFile: 'pom.xml'\n  mavenOptions: '-Xmx3072m'\n  javaHomeOption: 'JDKVersion'\n  jdkVersionOption: '17'\n  jdkArchitectureOption: 'x64'\n  publishJUnitResults: true\n  testResultsFiles: '**/surefire-reports/TEST-*.xml'\n  goals: 'verify'\n</code></pre>\n<p>The DownloadSecureFile@1 and CopyFiles@2 works fine:</p>\n<pre><code>found 1 files\n\n Copying /home/vsts/work/_temp/.env to /home/vsts/work/1/s/.env\n</code></pre>\n<p>But the goal fails, it looks like .env file is not picked up or not seen...\nIf I hardcode variables in the application.yaml and thus avoid using .env then everything works fine...</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679238926,"post_id":75782246,"comment_id":133681634,"body_markdown":"Please try lowercase: spring.batch.jdbc.initialize-schema=always","body":"Please try lowercase: spring.batch.jdbc.initialize-schema=always"},{"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"score":0,"creation_date":1679239252,"post_id":75782246,"comment_id":133681689,"body_markdown":"Thank you for your response. I found the root cause of the issue. It was due to @Enable batch processing annotation. We don&#39;t need it in spring batch 5. After removing it, it generates the meta data tables and works fine.","body":"Thank you for your response. I found the root cause of the issue. It was due to @Enable batch processing annotation. We don&#39;t need it in spring batch 5. After removing it, it generates the meta data tables and works fine."}],"answers":[{"tags":[],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679239742,"creation_date":1679239742,"answer_id":75783067,"question_id":75782246,"body_markdown":"Removing `@EnableBatchProcessing` annotation worked.\r\nWe dont need `@EnableBatchProcessing` annotation for spring batch default configuration in spring boot 3.\r\nThis is mentioned in the [migration guide of Spring Boot 3][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes","title":"Application is starting up but metadata tables are not created","body":"<p>Removing <code>@EnableBatchProcessing</code> annotation worked.\nWe dont need <code>@EnableBatchProcessing</code> annotation for spring batch default configuration in spring boot 3.\nThis is mentioned in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#spring-batch-changes\" rel=\"nofollow noreferrer\">migration guide of Spring Boot 3</a></p>\n"}],"owner":{"account_id":19452685,"reputation":45,"user_id":14228695,"display_name":"Ajay Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679239742,"creation_date":1679231778,"question_id":75782246,"body_markdown":"I am trying to learn Spring Batch 5. My Spring Batch 5 application starts up successfully, it doesn&#39;t create metadata tables. \r\n\r\nPom.xml\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ajaycodes&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-batch-demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;springbatch&lt;/name&gt;\r\n\t&lt;description&gt;Spring Boot spring batch demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\napplciation.properties\r\n```none\r\nspring.datasource.url=jdbc:mysql://localhost:3306/spring_batch5\r\nspring.datasource.username=root\r\nspring.datasource.password=root\r\n\r\n# meta data table initialization\r\nspring.batch.jdbc.initialize-schema=ALWAYS\r\n```\r\nMain File\r\n```java\r\n@SpringBootApplication\r\n@EnableBatchProcessing\r\n@ComponentScan({&quot;com.ajaycodes.config&quot;, &quot;com.ajaycodes.service&quot;})\r\npublic class SpringbatchApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringbatchApplication.class, args);\r\n\t}\r\n```\r\nSampleJob.java\r\n```java\r\n@Configuration\r\npublic class SampleJob {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(SampleJob.class);\r\n\r\n\t@Autowired\r\n\tprivate SecondTasklet secondTasklet;\r\n\r\n\t// define bean of type job\r\n\t@Bean\r\n\tJob firstJob(JobRepository jobRepository, Step step, Step secondStep) {\r\n\t\treturn new JobBuilder(&quot;First Job&quot;, jobRepository)\r\n\t\t\t\t// for first step\r\n\t\t\t\t.start(step)\r\n\t\t\t\t// for next all steps\r\n\t\t\t\t.next(secondStep).build();\r\n\t}\r\n\r\n\t// define a step\r\n\t@Bean\r\n\tStep firstStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\r\n\t\treturn new StepBuilder(&quot;First Step&quot;, jobRepository)\r\n\t\t\t\t.tasklet(firstTask(), transactionManager)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t// define a tasklet\r\n\tprivate Tasklet firstTask() {\r\n\t\t// task inside the step\r\n\t\treturn new Tasklet() {\r\n\t\t\t@Override\r\n\t\t\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n\t\t\t\tSystem.out.println(&quot;This is first tasklet step&quot;);\r\n\t\t\t\treturn FINISHED;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t// define second step\r\n\t@Bean\r\n\tStep secondStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\r\n\treturn new StepBuilder(&quot;Second Step&quot;, jobRepository)\r\n\t\t\t.tasklet(secondTasklet, transactionManager)\r\n\t\t\t.build();\r\n\t}\r\n\r\n}\r\n```\r\nSecondTasklet.java\r\n```\r\n@Service\r\npublic class SecondTasklet implements Tasklet {\r\n\r\n\t@Override\r\n\tpublic RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n\t\tSystem.out.println(&quot;This is second tasklet step&quot;);\r\n\t\treturn FINISHED;\r\n\t}\r\n\r\n}\r\n```\r\nMy project is working fine with Java 8 and Spring Batch 4. I am following the [Spring Batch 5.0 Migration Guide][1], but I am unable to find why metadata tables are not getting created. I am using MySQL as database.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide","title":"Application is starting up but metadata tables are not created","body":"<p>I am trying to learn Spring Batch 5. My Spring Batch 5 application starts up successfully, it doesn't create metadata tables.</p>\n<p>Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ajaycodes&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;springbatch&lt;/name&gt;\n    &lt;description&gt;Spring Boot spring batch demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>applciation.properties</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.datasource.url=jdbc:mysql://localhost:3306/spring_batch5\nspring.datasource.username=root\nspring.datasource.password=root\n\n# meta data table initialization\nspring.batch.jdbc.initialize-schema=ALWAYS\n</code></pre>\n<p>Main File</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableBatchProcessing\n@ComponentScan({&quot;com.ajaycodes.config&quot;, &quot;com.ajaycodes.service&quot;})\npublic class SpringbatchApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringbatchApplication.class, args);\n    }\n</code></pre>\n<p>SampleJob.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SampleJob {\n\n    private static final Logger log = LoggerFactory.getLogger(SampleJob.class);\n\n    @Autowired\n    private SecondTasklet secondTasklet;\n\n    // define bean of type job\n    @Bean\n    Job firstJob(JobRepository jobRepository, Step step, Step secondStep) {\n        return new JobBuilder(&quot;First Job&quot;, jobRepository)\n                // for first step\n                .start(step)\n                // for next all steps\n                .next(secondStep).build();\n    }\n\n    // define a step\n    @Bean\n    Step firstStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\n        return new StepBuilder(&quot;First Step&quot;, jobRepository)\n                .tasklet(firstTask(), transactionManager)\n                .build();\n    }\n\n    // define a tasklet\n    private Tasklet firstTask() {\n        // task inside the step\n        return new Tasklet() {\n            @Override\n            public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                System.out.println(&quot;This is first tasklet step&quot;);\n                return FINISHED;\n            }\n        };\n    }\n\n    // define second step\n    @Bean\n    Step secondStep(JobRepository jobRepository, Tasklet myTasklet, PlatformTransactionManager transactionManager) {\n    return new StepBuilder(&quot;Second Step&quot;, jobRepository)\n            .tasklet(secondTasklet, transactionManager)\n            .build();\n    }\n\n}\n</code></pre>\n<p>SecondTasklet.java</p>\n<pre><code>@Service\npublic class SecondTasklet implements Tasklet {\n\n    @Override\n    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n        System.out.println(&quot;This is second tasklet step&quot;);\n        return FINISHED;\n    }\n\n}\n</code></pre>\n<p>My project is working fine with Java 8 and Spring Batch 4. I am following the <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Batch 5.0 Migration Guide</a>, but I am unable to find why metadata tables are not getting created. I am using MySQL as database.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679242156,"post_id":75783048,"comment_id":133682185,"body_markdown":"Are you sure you called `HUD#draw` somewhere?","body":"Are you sure you called <code>HUD#draw</code> somewhere?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679243129,"post_id":75783048,"comment_id":133682375,"body_markdown":"What do you mean?","body":"What do you mean?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679243161,"post_id":75783048,"comment_id":133682382,"body_markdown":"Do you mean in minecraft.java class? If you mean that yes.","body":"Do you mean in minecraft.java class? If you mean that yes."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679243857,"post_id":75783048,"comment_id":133682522,"body_markdown":"Well in that case, do some debugging. Print something in every method and see what gets called and what doesn&#39;t.","body":"Well in that case, do some debugging. Print something in every method and see what gets called and what doesn&#39;t."},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679244287,"post_id":75783048,"comment_id":133682607,"body_markdown":"I did it, everything Everything works except the TabGui class. I dont know what i did wrong there.","body":"I did it, everything Everything works except the TabGui class. I dont know what i did wrong there."},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679244323,"post_id":75783048,"comment_id":133682615,"body_markdown":"The onEvent Does not Work","body":"The onEvent Does not Work"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679246099,"post_id":75783048,"comment_id":133682900,"body_markdown":"Well, did you add the event bus code into `Client.onEvent`?","body":"Well, did you add the event bus code into <code>Client.onEvent</code>?"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679246876,"post_id":75783048,"comment_id":133683015,"body_markdown":"What do you mean? Thanks for your answers.","body":"What do you mean? Thanks for your answers."},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679248507,"post_id":75783048,"comment_id":133683321,"body_markdown":"What does your `Client.onEvent` method look like","body":"What does your <code>Client.onEvent</code> method look like"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679249980,"post_id":75783048,"comment_id":133683559,"body_markdown":"Do you mean the Event Class? https://pastebin.com/UzHLDNT1","body":"Do you mean the Event Class? <a href=\"https://pastebin.com/UzHLDNT1\" rel=\"nofollow noreferrer\">pastebin.com/UzHLDNT1</a>"},{"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"score":0,"creation_date":1679251608,"post_id":75783048,"comment_id":133683839,"body_markdown":"No, `Client.onEvent`","body":"No, <code>Client.onEvent</code>"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679251733,"post_id":75783048,"comment_id":133683856,"body_markdown":"I dont understand what you mean sorry","body":"I dont understand what you mean sorry"},{"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"score":0,"creation_date":1679251882,"post_id":75783048,"comment_id":133683869,"body_markdown":"https://pastebin.com/555mvtg8","body":"<a href=\"https://pastebin.com/555mvtg8\" rel=\"nofollow noreferrer\">pastebin.com/555mvtg8</a>"}],"owner":{"account_id":28058282,"reputation":1,"user_id":21432935,"display_name":"Emerald2045"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679239593,"creation_date":1679239593,"question_id":75783048,"body_markdown":"I tried to an Minecraft Hack Client with an Youtube Tutorial, but The Ingame TabGui wont show up ingame. (The Code for the Tabgui is not finished, but it already should be ingame). In the Video There should be the Gui ingame.\r\n\r\nTabGui.java\r\n\r\n\r\n```\r\npackage ClientSettings.Render;\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport ClientSettings.Modules;\r\nimport Events.Event;\r\nimport Events.Listeners.EventRenderGui;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.gui.Gui;\r\n\r\npublic class TabGUI extends Modules{\r\n\t\r\n\tpublic TabGUI() {\r\n\t\tsuper(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.Render);\r\n\t\ttoggled = true;\r\n\t}\r\n\r\n\t public void onEvent(Event e) {\r\n\t       if(e instanceof EventRenderGui) {\r\n\t           FontRenderer fr = mc.fontRendererObj;\r\n\t           \r\n\t           Gui.drawRect(5, 30, 70, 30, 0x90000000);\r\n\t           \r\n\t           int count = 0;\r\n\t          for(Category c : Modules.Category.values()) {\r\n\t        \t  fr.drawStringWithShadow(c.name, 10, 40 + count*10, 0x9000000);\r\n\t          }\r\n\t}\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\nHUD.java Code\r\n\r\n\r\n```\r\npackage ClientSettings.HUD;\r\n\r\nimport java.util.Comparator;\r\n\r\n\r\nimport ClientSettings.Client;\r\nimport net.minecraft.client.Minecraft;\r\nimport ClientSettings.Modules;\r\nimport Events.Listeners.EventRenderGui;\r\nimport net.minecraft.client.gui.FontRenderer;\r\nimport net.minecraft.client.gui.Gui;\r\nimport net.minecraft.client.gui.ScaledResolution;\r\nimport net.minecraft.client.renderer.GlStateManager;\r\n\r\npublic class HUD {\r\n\tpublic Minecraft mc = Minecraft.getMinecraft();\r\n\t\r\n\r\n\tpublic void draw() {\r\n\t\tScaledResolution sr = new ScaledResolution(mc);\r\n\t\tFontRenderer fr = mc.fontRendererObj;\r\n\t\t\r\n\t\tGlStateManager.translate(4, 4, 0);\r\n\t\tGlStateManager.scale(2, 2, 1);\r\n\t\tGlStateManager.translate(-4, -4, 0);\r\n\t\tfr.drawString(Client.name, 4, 4, 51-153-255);\r\n\t\tGlStateManager.translate(4, 4, 0);\r\n\t\tGlStateManager.scale(0.5, 0.5, 1);\r\n\t\tGlStateManager.translate(-4, -4, 0);\r\n\t\tfr.drawString(Client.version, 60, 10, 51-153-255);\r\n\t\t\r\n\t\t\r\n\t\tint count = 0;\r\n\r\n\t\tfor(Modules m : Client.modules) {\r\n\t\t\tif(!m.toggled) {\r\n\t\t\t\tcontinue;\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\tGui.drawRect(sr.getScaledWidth() - fr.getStringWidth(m.name) - 8, + count*(fr.FONT_HEIGHT + 6), sr.getScaledWidth(), 6 + fr.FONT_HEIGHT + count*(fr.FONT_HEIGHT + 6), 0x90000000);\r\n\t\t\tfr.drawString(m.name, sr.getScaledWidth() - fr.getStringWidth(m.name) - 4, 4 + count*(fr.FONT_HEIGHT + 6), 51-153-255);\r\n\t\t\t\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n\t\tClient.onEvent(new EventRenderGui());\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nEventRenderGui.java Code\r\n\r\n\r\n```\r\npackage Events.Listeners;\r\n\r\nimport Events.Event;\r\n\r\npublic class EventRenderGui extends Event&lt;EventRenderGui&gt;{\r\n\r\n}\r\n\r\n```\r\n\r\ni Did the Same like the Guy in the Video every thing worked, the TabGui was enabled but its just not there \r\nAnd I&#39;m not familiar with Java, Thanks for any answer.\r\n\r\n\r\n","title":"TabGui wont Show in Hack Client","body":"<p>I tried to an Minecraft Hack Client with an Youtube Tutorial, but The Ingame TabGui wont show up ingame. (The Code for the Tabgui is not finished, but it already should be ingame). In the Video There should be the Gui ingame.</p>\n<p>TabGui.java</p>\n<pre><code>package ClientSettings.Render;\nimport org.lwjgl.input.Keyboard;\n\nimport ClientSettings.Modules;\nimport Events.Event;\nimport Events.Listeners.EventRenderGui;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.gui.Gui;\n\npublic class TabGUI extends Modules{\n    \n    public TabGUI() {\n        super(&quot;TabGUI&quot;, Keyboard.KEY_NONE, Category.Render);\n        toggled = true;\n    }\n\n     public void onEvent(Event e) {\n           if(e instanceof EventRenderGui) {\n               FontRenderer fr = mc.fontRendererObj;\n               \n               Gui.drawRect(5, 30, 70, 30, 0x90000000);\n               \n               int count = 0;\n              for(Category c : Modules.Category.values()) {\n                  fr.drawStringWithShadow(c.name, 10, 40 + count*10, 0x9000000);\n              }\n    }\n}\n}\n\n</code></pre>\n<p>HUD.java Code</p>\n<pre><code>package ClientSettings.HUD;\n\nimport java.util.Comparator;\n\n\nimport ClientSettings.Client;\nimport net.minecraft.client.Minecraft;\nimport ClientSettings.Modules;\nimport Events.Listeners.EventRenderGui;\nimport net.minecraft.client.gui.FontRenderer;\nimport net.minecraft.client.gui.Gui;\nimport net.minecraft.client.gui.ScaledResolution;\nimport net.minecraft.client.renderer.GlStateManager;\n\npublic class HUD {\n    public Minecraft mc = Minecraft.getMinecraft();\n    \n\n    public void draw() {\n        ScaledResolution sr = new ScaledResolution(mc);\n        FontRenderer fr = mc.fontRendererObj;\n        \n        GlStateManager.translate(4, 4, 0);\n        GlStateManager.scale(2, 2, 1);\n        GlStateManager.translate(-4, -4, 0);\n        fr.drawString(Client.name, 4, 4, 51-153-255);\n        GlStateManager.translate(4, 4, 0);\n        GlStateManager.scale(0.5, 0.5, 1);\n        GlStateManager.translate(-4, -4, 0);\n        fr.drawString(Client.version, 60, 10, 51-153-255);\n        \n        \n        int count = 0;\n\n        for(Modules m : Client.modules) {\n            if(!m.toggled) {\n                continue;           \n                }\n            \n            Gui.drawRect(sr.getScaledWidth() - fr.getStringWidth(m.name) - 8, + count*(fr.FONT_HEIGHT + 6), sr.getScaledWidth(), 6 + fr.FONT_HEIGHT + count*(fr.FONT_HEIGHT + 6), 0x90000000);\n            fr.drawString(m.name, sr.getScaledWidth() - fr.getStringWidth(m.name) - 4, 4 + count*(fr.FONT_HEIGHT + 6), 51-153-255);\n            \n            count++;\n        }\n        \n        Client.onEvent(new EventRenderGui());\n        \n    }\n}\n\n</code></pre>\n<p>EventRenderGui.java Code</p>\n<pre><code>package Events.Listeners;\n\nimport Events.Event;\n\npublic class EventRenderGui extends Event&lt;EventRenderGui&gt;{\n\n}\n\n</code></pre>\n<p>i Did the Same like the Guy in the Video every thing worked, the TabGui was enabled but its just not there\nAnd I'm not familiar with Java, Thanks for any answer.</p>\n"},{"tags":["java","java-http-client"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1603789592,"post_id":64551050,"comment_id":114140381,"body_markdown":"This method is at the `HttpRequest.Builder` level, not the `HttpRequest` level. Amended your post accordingly.","body":"This method is at the <code>HttpRequest.Builder</code> level, not the <code>HttpRequest</code> level. Amended your post accordingly."},{"owner":{"account_id":16902,"reputation":2091,"user_id":37309,"accept_rate":80,"display_name":"Chad"},"score":0,"creation_date":1657927627,"post_id":64551050,"comment_id":128934026,"body_markdown":"This isn&#39;t exactly a socket timeout; this is more like a timeout from when the request is sent until the headers are received. The response could end up taking much longer and even if 5 seconds go by between receiving data it will not trigger this timeout.","body":"This isn&#39;t exactly a socket timeout; this is more like a timeout from when the request is sent until the headers are received. The response could end up taking much longer and even if 5 seconds go by between receiving data it will not trigger this timeout."}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1603789459,"creation_date":1603789202,"answer_id":64551050,"question_id":64550136,"body_markdown":"You can specify it at the `HttpRequest.Builder` level via the [timeout][1] method:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n                .connectTimeout(Duration.ofSeconds(5))\r\n                .build();\r\n\r\nHttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;...&quot;))\r\n                .timeout(Duration.ofSeconds(5)) //this\r\n                .build();\r\n\r\n\r\nhttpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\r\n```\r\n\r\nIf you&#39;ve got connected successfully but not able to receive a response at the desired amount of time, `java.net.http.HttpTimeoutException: request timed out` will be thrown (in contrast with `java.net.http.HttpConnectTimeoutException: HTTP connect timed out` which will be thrown if you don&#39;t get a successful connection).\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout(java.time.Duration)","title":"How to set socket timeout in Java HTTP Client","body":"<p>You can specify it at the <code>HttpRequest.Builder</code> level via the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.Builder.html#timeout(java.time.Duration)\" rel=\"noreferrer\">timeout</a> method:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n                .connectTimeout(Duration.ofSeconds(5))\n                .build();\n\nHttpRequest httpRequest = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;...&quot;))\n                .timeout(Duration.ofSeconds(5)) //this\n                .build();\n\n\nhttpClient.send(httpRequest, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>If you've got connected successfully but not able to receive a response at the desired amount of time, <code>java.net.http.HttpTimeoutException: request timed out</code> will be thrown (in contrast with <code>java.net.http.HttpConnectTimeoutException: HTTP connect timed out</code> which will be thrown if you don't get a successful connection).</p>\n"},{"tags":[],"owner":{"account_id":17980360,"reputation":53,"user_id":13066866,"display_name":"shrexster42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659430983,"creation_date":1659430983,"answer_id":73204764,"question_id":64550136,"body_markdown":"There doesn&#39;t seem to be a way to specify a timeout on the flow of packets (socket timeout) on the Java Http Client.\r\n\r\nI found an enhancement request on OpenJDK which seems to cover this possibility - https://bugs.openjdk.org/browse/JDK-8258397\r\n\r\nContent from the link\r\n\r\nThe HttpClient lets you set a connection timeout (HttpClient.Builder) and a request timeout (HttpRequest.Builder). However the request timeout will be cancelled as soon as the response headers have been read. There is currently no timeout covering the reception of the body.\r\n\r\nA possibility for the caller is to make use of the CompletableFuture API (get/join will accept a timeout, or CF::orTimeout can be called).\r\nIIRC - in that case, it will still be the responsibility of the caller to cancel the request. We might want to reexamine and possibility change that.\r\nThe disadvantage here is that some of our BodyHandlers (ofPublisher, ofInputStream) will return immediately - so the CF API won&#39;t help in this case.\r\nThis might be a good thing (or not).\r\n\r\nAnother possibility could be to add a body timeout on HttpRequest.Builder. This would then cover all cases - but do we really want to timeout in the case of ofInputStream or ofPublisher if the caller doesn&#39;t read the body fast enough?\r\n","title":"How to set socket timeout in Java HTTP Client","body":"<p>There doesn't seem to be a way to specify a timeout on the flow of packets (socket timeout) on the Java Http Client.</p>\n<p>I found an enhancement request on OpenJDK which seems to cover this possibility - <a href=\"https://bugs.openjdk.org/browse/JDK-8258397\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8258397</a></p>\n<p>Content from the link</p>\n<p>The HttpClient lets you set a connection timeout (HttpClient.Builder) and a request timeout (HttpRequest.Builder). However the request timeout will be cancelled as soon as the response headers have been read. There is currently no timeout covering the reception of the body.</p>\n<p>A possibility for the caller is to make use of the CompletableFuture API (get/join will accept a timeout, or CF::orTimeout can be called).\nIIRC - in that case, it will still be the responsibility of the caller to cancel the request. We might want to reexamine and possibility change that.\nThe disadvantage here is that some of our BodyHandlers (ofPublisher, ofInputStream) will return immediately - so the CF API won't help in this case.\nThis might be a good thing (or not).</p>\n<p>Another possibility could be to add a body timeout on HttpRequest.Builder. This would then cover all cases - but do we really want to timeout in the case of ofInputStream or ofPublisher if the caller doesn't read the body fast enough?</p>\n"}],"owner":{"account_id":2970983,"reputation":266,"user_id":2523032,"display_name":"mseele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12321,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":64551050,"answer_count":2,"score":18,"last_activity_date":1679239328,"creation_date":1603785157,"question_id":64550136,"body_markdown":"We want to migrate all our *apache-httpclient-4.x* code to *java-http-client* code to reduce dependencies. While migrating them, I ran into the following issue under Java 11:\r\n\r\n**How to set the socket timeout in Java HTTP Client?**\r\n\r\nWith *apache-httpclient-4.x* we can set the connection timeout and the socket timeout like this:\r\n\r\n```\r\nDefaultHttpClient httpClient = new DefaultHttpClient();\r\nint timeout = 5; // seconds\r\nHttpParams httpParams = httpClient.getParams();\r\nhttpParams.setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout * 1000);\r\nhttpParams.setParameter(CoreConnectionPNames.SO_TIMEOUT, timeout * 1000);\r\n```\r\n\r\nWith *java-http-client* I can only set the connection timeout like this:\r\n\r\n```\r\nHttpClient httpClient = HttpClient.newBuilder()\r\n                                  .connectTimeout(Duration.ofSeconds(5))\r\n                                  .build()\r\n```\r\n\r\nBut I found no way to set the socket timeout. Is there any way or an open issue to support that in the future?","title":"How to set socket timeout in Java HTTP Client","body":"<p>We want to migrate all our <em>apache-httpclient-4.x</em> code to <em>java-http-client</em> code to reduce dependencies. While migrating them, I ran into the following issue under Java 11:</p>\n<p><strong>How to set the socket timeout in Java HTTP Client?</strong></p>\n<p>With <em>apache-httpclient-4.x</em> we can set the connection timeout and the socket timeout like this:</p>\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nint timeout = 5; // seconds\nHttpParams httpParams = httpClient.getParams();\nhttpParams.setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, timeout * 1000);\nhttpParams.setParameter(CoreConnectionPNames.SO_TIMEOUT, timeout * 1000);\n</code></pre>\n<p>With <em>java-http-client</em> I can only set the connection timeout like this:</p>\n<pre><code>HttpClient httpClient = HttpClient.newBuilder()\n                                  .connectTimeout(Duration.ofSeconds(5))\n                                  .build()\n</code></pre>\n<p>But I found no way to set the socket timeout. Is there any way or an open issue to support that in the future?</p>\n"},{"tags":["java","maven","spring-boot","firebase-admin"],"comments":[{"owner":{"account_id":6367768,"reputation":1016,"user_id":4941250,"accept_rate":45,"display_name":"Blackjack"},"score":0,"creation_date":1544549810,"post_id":49761344,"comment_id":94312659,"body_markdown":"Have you update your new imported dependency?","body":"Have you update your new imported dependency?"}],"answers":[{"tags":[],"owner":{"account_id":6610088,"reputation":41,"user_id":5105569,"display_name":"Ankesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548589794,"creation_date":1548589794,"answer_id":54387799,"question_id":49761344,"body_markdown":"In your FirebaseAdminConfig class, you have directly pasted the snippet. You need to create a method first, otherwise, you will get compilation errors.\r\n\r\n    @Configuration\r\n    public class FireBaseConfig{\r\n    @Bean\r\n        FirebaseApp createFireBaseApp() throws IOException {\r\n        FileInputStream serviceAccount =\r\n                new FileInputStream(&quot;pathtojson.json&quot;);\r\n\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .setDatabaseUrl(&quot;url&quot;)\r\n                .build();\r\n\r\n      return  FirebaseApp.initializeApp(options);\r\n    }\r\n\r\n    }\r\n","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>In your FirebaseAdminConfig class, you have directly pasted the snippet. You need to create a method first, otherwise, you will get compilation errors.</p>\n\n<pre><code>@Configuration\npublic class FireBaseConfig{\n@Bean\n    FirebaseApp createFireBaseApp() throws IOException {\n    FileInputStream serviceAccount =\n            new FileInputStream(\"pathtojson.json\");\n\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"url\")\n            .build();\n\n  return  FirebaseApp.initializeApp(options);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19942283,"reputation":381,"user_id":14613787,"display_name":"Deepanshu Rathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628082721,"creation_date":1628082721,"answer_id":68651876,"question_id":49761344,"body_markdown":"You can also do it in main class of Application\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tFileInputStream serviceAccount = new FileInputStream(&quot;src/main/resources/credential.json&quot;);\r\n\t\t@SuppressWarnings(&quot;deprecation&quot;)\r\n\t\tFirebaseOptions options = new FirebaseOptions.Builder()\r\n\t\t\t\t.setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n\t\t\t\t.build();\r\n\t\tFirebaseApp.initializeApp(options);\r\n\t\tSpringApplication.run(MarketingDashboardApplication.class, args);\r\n\t}","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>You can also do it in main class of Application</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    FileInputStream serviceAccount = new FileInputStream(&quot;src/main/resources/credential.json&quot;);\n    @SuppressWarnings(&quot;deprecation&quot;)\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .build();\n    FirebaseApp.initializeApp(options);\n    SpringApplication.run(MarketingDashboardApplication.class, args);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19642718,"reputation":31,"user_id":14378421,"display_name":"sr11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679238415,"creation_date":1679238415,"answer_id":75782933,"question_id":49761344,"body_markdown":"For those who find that the dependencies are not resolved in spite of following all the answers here, **figuring out the right version** for firebase-admin through trial and error could be worth a shot- it worked for me. \r\n\r\nFor example, I was using Springboot 2.7.9, and JDK 11, and tried with various versions of firebase-admin without any luck, until I found that using 7.2.0 resolved the issue.","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>For those who find that the dependencies are not resolved in spite of following all the answers here, <strong>figuring out the right version</strong> for firebase-admin through trial and error could be worth a shot- it worked for me.</p>\n<p>For example, I was using Springboot 2.7.9, and JDK 11, and tried with various versions of firebase-admin without any luck, until I found that using 7.2.0 resolved the issue.</p>\n"}],"owner":{"account_id":10173221,"reputation":71,"user_id":7512821,"display_name":"Chris Schertenlieb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5950,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679238415,"creation_date":1523387778,"question_id":49761344,"body_markdown":"I am using this guide to initialize the firebase admin sdk on my spring-boot java application: https://firebase.google.com/docs/admin/setup\r\n\r\nI&#39;ve included the correct maven dependency \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I&#39;m attempting to initialize using the code snippet they provided, but when I import the firebase libraries, none of the symbols (firebase, auth, FirebaseOptions, GoogleCredentials, FirebaseApp) are being resolved. \r\n\r\n    import java.io.FileInputStream;\r\n    import com.google.firebase.*;\r\n    import com.google.auth.oauth2.GoogleCredentials;\r\n\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class FirebaseAdminConfig {\r\n        FileInputStream serviceAccount = new \r\n    FileInputStream(&quot;path/to/firebase/credentials/&quot;);\r\n        FirebaseOptions options = new FirebaseOptions.Builder()\r\n                .setCredentials(GoogleCredentials.fromStream(serviceAccount))\r\n                .setDatabaseUrl(&quot;link to database&quot;)\r\n                .build();\r\n    FirebaseApp.initializeApp(options);\r\n    }\r\n\r\nAm I missing import statements? Is there some additional configuration needed? \r\n","title":"Spring boot firebase admin sdk setup - Cannot resolve symbols","body":"<p>I am using this guide to initialize the firebase admin sdk on my spring-boot java application: <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/admin/setup</a></p>\n\n<p>I've included the correct maven dependency </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.firebase&lt;/groupId&gt;\n    &lt;artifactId&gt;firebase-admin&lt;/artifactId&gt;\n    &lt;version&gt;5.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I'm attempting to initialize using the code snippet they provided, but when I import the firebase libraries, none of the symbols (firebase, auth, FirebaseOptions, GoogleCredentials, FirebaseApp) are being resolved. </p>\n\n<pre><code>import java.io.FileInputStream;\nimport com.google.firebase.*;\nimport com.google.auth.oauth2.GoogleCredentials;\n\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class FirebaseAdminConfig {\n    FileInputStream serviceAccount = new \nFileInputStream(\"path/to/firebase/credentials/\");\n    FirebaseOptions options = new FirebaseOptions.Builder()\n            .setCredentials(GoogleCredentials.fromStream(serviceAccount))\n            .setDatabaseUrl(\"link to database\")\n            .build();\nFirebaseApp.initializeApp(options);\n}\n</code></pre>\n\n<p>Am I missing import statements? Is there some additional configuration needed? </p>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1679080625,"post_id":75771218,"comment_id":133663180,"body_markdown":"(1) Can you [edit] the question and provide the full error message (and stack trace if there is one), as formatted text? (2) Is this a compilation error or a runtime error? (3) What line of code is causing the error? (4) You mention &quot;_the package name_&quot; - what package name are you referring to?","body":"(1) Can you <a href=\"https://stackoverflow.com/posts/75771218/edit\">edit</a> the question and provide the full error message (and stack trace if there is one), as formatted text? (2) Is this a compilation error or a runtime error? (3) What line of code is causing the error? (4) You mention &quot;<i>the package name</i>&quot; - what package name are you referring to?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1679081708,"post_id":75771218,"comment_id":133663422,"body_markdown":"Did you import it?","body":"Did you import it?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679081812,"post_id":75771218,"comment_id":133663449,"body_markdown":"Related: [How do you import classes in JSP?](https://stackoverflow.com/q/239147/12567365)","body":"Related: <a href=\"https://stackoverflow.com/q/239147/12567365\">How do you import classes in JSP?</a>"},{"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"score":0,"creation_date":1679082114,"post_id":75771218,"comment_id":133663526,"body_markdown":"&lt;%@ page import=&quot;com.connection.*&quot;%&gt;","body":"&lt;%@ page import=&quot;com.connection.*&quot;%&gt;"}],"answers":[{"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1679151002,"post_id":75771579,"comment_id":133671736,"body_markdown":"Your revised `CloseConnection` method is incorrect. It only attempts to close the connection if `connection` is null, which will of course cause an NPE if `connection` is null. Presumably you want the first line to be `if (connection == null) return;` instead?","body":"Your revised <code>CloseConnection</code> method is incorrect. It only attempts to close the connection if <code>connection</code> is null, which will of course cause an NPE if <code>connection</code> is null. Presumably you want the first line to be <code>if (connection == null) return;</code> instead?"},{"owner":{"account_id":20789322,"reputation":96,"user_id":15267862,"display_name":"kek5chen"},"score":0,"creation_date":1679238324,"post_id":75771579,"comment_id":133681529,"body_markdown":"You&#39;re right. I wrote so much that i missed that detail when refactoring it. Thanks for mentioning it.","body":"You&#39;re right. I wrote so much that i missed that detail when refactoring it. Thanks for mentioning it."}],"tags":[],"owner":{"account_id":20789322,"reputation":96,"user_id":15267862,"display_name":"kek5chen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679238351,"creation_date":1679081903,"answer_id":75771579,"question_id":75771218,"body_markdown":"Without a proper error message it&#39;s hard to exactly pinpoint the issue. Judging by the context I suppose you are just missing an import statement in your JSP. Try to import the Java Class like the following:\r\n\r\n```java\r\n&lt;%@ page import=&quot;com.connection.database&quot; %&gt;\r\n&lt;%\r\n    ResultSet resultOrders = database.getResultFromSqlQuery(&quot;select * from tblorders where order_status=&#39;Pending&#39;&quot;);\r\n    while (resultOrders.next()) {\r\n%&gt;\r\n```\r\n\r\nI also saw that your coding style is really messed up. Let me also give you some hints on how to improve the readability of your code. Java is such a beautiful language for it to die with code quality.\r\n\r\n**Naming conventions**:\r\n    Class names: Capitalize the first letter of each word (PascalCase), e.g., DatabaseConnection.\r\n    Method and variable names: Use camelCase, e.g., getResultFromSqlQuery.\r\n    Constants: Use uppercase letters with underscores for separation, e.g., MAX_CONNECTIONS.\r\n\r\n**Indentation**:\r\n  Your whole namespace is indented by much too much, keep it consistent and decide for one of the following optimally as they are the most popular:\r\n  - 2 spaces\r\n  - 4 spaces\r\n  - 1 tab\r\n\r\n**Self Documenting Code**:\r\n  Try to give your function and variable names generally a good and self explaining name so your code basically documents itself. This reduces random thrown in comments. Good code doesn&#39;t need comments.\r\n\r\n**Try to not place misleading comments**:\r\n  Consider the following in your code:\r\n```\r\n//Creating Connection\r\npublic static Connection connection;\r\n```\r\n\r\n  Initially this looks like the connection itself is created and opened there, not just the object.\r\n\r\n**Create meaningful exceptions**:\r\n  Your exceptions are mostly just printing stack traces. Maybe try to instead give proper error logs since at the point of coding the exception, you know what went wrong. This will make debugging a breeze.\r\n\r\nAnd finally but not least:\r\n\r\n**Use guard clauses**:\r\n  One specific case in your code I saw was:\r\n```java\r\n//Creating universal method to close connect will mysql database\r\npublic static void CloseConnection() {\r\n    if (connection != null) {\r\n        try {\r\n            connection.close();\r\n            connection = null;\r\n        } catch (SQLException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis is a lot of depth into a function without any reason. Instead this can be made more readable by doing:\r\n\r\n```java\r\n//Creating universal method to close connect will mysql database\r\npublic static void CloseConnection() {\r\n    if (connection == null) return;\r\n    try {\r\n        connection.close();\r\n        connection = null;\r\n    } catch (SQLException ex) {\r\n        // proper error logging\r\n    }\r\n}\r\n```\r\n\r\nIf you place the return at the end of the line is debatable. It&#39;s mostly personal preference.\r\n\r\n**Edit**\r\nI forgot to mention that your namespace name is very unrepresentative. Try to choose something better for a namespace. (Unless you actually own &quot;connection.com&quot;. Usually it should be something like the companies website as a prefix and then the class name. If you owned &quot;example.com&quot; as a company, you&#39;d use &quot;com.example.database&quot;. Try to keep it proper or unexpected things might happen in the future.\r\n\r\nGood luck, hope I was of help.","title":"variable cannot resolved type","body":"<p>Without a proper error message it's hard to exactly pinpoint the issue. Judging by the context I suppose you are just missing an import statement in your JSP. Try to import the Java Class like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;%@ page import=&quot;com.connection.database&quot; %&gt;\n&lt;%\n    ResultSet resultOrders = database.getResultFromSqlQuery(&quot;select * from tblorders where order_status='Pending'&quot;);\n    while (resultOrders.next()) {\n%&gt;\n</code></pre>\n<p>I also saw that your coding style is really messed up. Let me also give you some hints on how to improve the readability of your code. Java is such a beautiful language for it to die with code quality.</p>\n<p><strong>Naming conventions</strong>:\nClass names: Capitalize the first letter of each word (PascalCase), e.g., DatabaseConnection.\nMethod and variable names: Use camelCase, e.g., getResultFromSqlQuery.\nConstants: Use uppercase letters with underscores for separation, e.g., MAX_CONNECTIONS.</p>\n<p><strong>Indentation</strong>:\nYour whole namespace is indented by much too much, keep it consistent and decide for one of the following optimally as they are the most popular:</p>\n<ul>\n<li>2 spaces</li>\n<li>4 spaces</li>\n<li>1 tab</li>\n</ul>\n<p><strong>Self Documenting Code</strong>:\nTry to give your function and variable names generally a good and self explaining name so your code basically documents itself. This reduces random thrown in comments. Good code doesn't need comments.</p>\n<p><strong>Try to not place misleading comments</strong>:\nConsider the following in your code:</p>\n<pre><code>//Creating Connection\npublic static Connection connection;\n</code></pre>\n<p>Initially this looks like the connection itself is created and opened there, not just the object.</p>\n<p><strong>Create meaningful exceptions</strong>:\nYour exceptions are mostly just printing stack traces. Maybe try to instead give proper error logs since at the point of coding the exception, you know what went wrong. This will make debugging a breeze.</p>\n<p>And finally but not least:</p>\n<p><strong>Use guard clauses</strong>:\nOne specific case in your code I saw was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Creating universal method to close connect will mysql database\npublic static void CloseConnection() {\n    if (connection != null) {\n        try {\n            connection.close();\n            connection = null;\n        } catch (SQLException ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>This is a lot of depth into a function without any reason. Instead this can be made more readable by doing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Creating universal method to close connect will mysql database\npublic static void CloseConnection() {\n    if (connection == null) return;\n    try {\n        connection.close();\n        connection = null;\n    } catch (SQLException ex) {\n        // proper error logging\n    }\n}\n</code></pre>\n<p>If you place the return at the end of the line is debatable. It's mostly personal preference.</p>\n<p><strong>Edit</strong>\nI forgot to mention that your namespace name is very unrepresentative. Try to choose something better for a namespace. (Unless you actually own &quot;connection.com&quot;. Usually it should be something like the companies website as a prefix and then the class name. If you owned &quot;example.com&quot; as a company, you'd use &quot;com.example.database&quot;. Try to keep it proper or unexpected things might happen in the future.</p>\n<p>Good luck, hope I was of help.</p>\n"}],"owner":{"account_id":28045052,"reputation":1,"user_id":21421979,"display_name":"achiever17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679238351,"creation_date":1679079306,"question_id":75771218,"body_markdown":"I&#39;m creating dynamic web project  that I am working on /servlet app .keep getting this error .  I&#39;ve tried many methods.Still, the error persists. What is strange is if I start typing the package name eclipse actually auto-completes the class for me! how to resolve this issue...I&#39;m getting error at &quot;database&quot; keyword in jsp code. it keep showing error: &quot;DatabaseConnection cannot resolved.&quot;\r\n\r\n[the red under line is the key word where I get error][1]\r\n\r\n\r\nthis is code of database\r\n\r\n```java\r\npackage com.connection;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\npublic class DatabaseConnection {\r\n\r\n    \t    //Creating Connection\r\n    \t    public static Connection connection;\r\n    \r\n    \t    //Creating universal method to open connect will mysql database\r\n    \t    public static Connection getConnection() {\r\n    \t        try {\r\n    \t            //Registering with mysql Driver\r\n    \t            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t            connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/shoppingsystem&quot;, &quot;root&quot;, &quot;Narend-10&quot;);\r\n    \t        } catch (Exception e) {\r\n    \t            e.printStackTrace();\r\n    \t        }\r\n    \t        return (connection);\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to close connect will mysql database\r\n    \t    public static void CloseConnection() {\r\n    \t        if (connection != null) {\r\n    \t            try {\r\n    \t                connection.close();\r\n    \t                connection = null;\r\n    \t            } catch (SQLException ex) {\r\n    \t                ex.printStackTrace();\r\n    \t            }\r\n    \t        }\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to query for retriving information\r\n    \t    public static ResultSet getResultFromSqlQuery(String SqlQueryString) {\r\n    \t        //Creating Resultset object\r\n    \t        ResultSet rs = null;\r\n    \t        try {\r\n    \t            //Checking whether the connection is null or null\r\n    \t            if (connection == null) {\r\n    \t                getConnection();\r\n    \t            }\r\n    \t            //Querying the query\r\n    \t            rs = connection.createStatement().executeQuery(SqlQueryString);\r\n    \t        } catch (Exception ex) {\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t        return rs;\r\n    \t    }\r\n    \r\n    \t    //Creating universal method to query for inserting or updating information in mysql database\r\n    \t    public static int insertUpdateFromSqlQuery(String SqlQueryString) {\r\n    \t        int i = 2;\r\n    \t        try {\r\n    \t            //Checking whether the connection is null or null\r\n    \t            if (connection == null) {\r\n    \t                getConnection();\r\n    \t            }\r\n    \t            //Querying the query\r\n    \t            i = connection.createStatement().executeUpdate(SqlQueryString);\r\n    \r\n    \t        } catch (Exception ex) {\r\n    \t            ex.printStackTrace();\r\n    \t        }\r\n    \t        return i;\r\n    \t    }\r\n    \t}\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n**this code for jsp**\r\n```\r\n&lt;%\r\n    ResultSet resultOrders=DatabaseConnection.getResultFromSqlQuery(&quot;select * from tblorders where order_status=&#39;Pending&#39;&quot;);\r\n   while (resultOrders.next()) {\r\n         \r\n%&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GJbtg.png","title":"variable cannot resolved type","body":"<p>I'm creating dynamic web project  that I am working on /servlet app .keep getting this error .  I've tried many methods.Still, the error persists. What is strange is if I start typing the package name eclipse actually auto-completes the class for me! how to resolve this issue...I'm getting error at &quot;database&quot; keyword in jsp code. it keep showing error: &quot;DatabaseConnection cannot resolved.&quot;</p>\n<p>[the red under line is the key word where I get error][1]</p>\n<p>this is code of database</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.connection;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\npublic class DatabaseConnection {\n\n            //Creating Connection\n            public static Connection connection;\n    \n            //Creating universal method to open connect will mysql database\n            public static Connection getConnection() {\n                try {\n                    //Registering with mysql Driver\n                    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n                    connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3308/shoppingsystem&quot;, &quot;root&quot;, &quot;Narend-10&quot;);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                return (connection);\n            }\n    \n            //Creating universal method to close connect will mysql database\n            public static void CloseConnection() {\n                if (connection != null) {\n                    try {\n                        connection.close();\n                        connection = null;\n                    } catch (SQLException ex) {\n                        ex.printStackTrace();\n                    }\n                }\n            }\n    \n            //Creating universal method to query for retriving information\n            public static ResultSet getResultFromSqlQuery(String SqlQueryString) {\n                //Creating Resultset object\n                ResultSet rs = null;\n                try {\n                    //Checking whether the connection is null or null\n                    if (connection == null) {\n                        getConnection();\n                    }\n                    //Querying the query\n                    rs = connection.createStatement().executeQuery(SqlQueryString);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                return rs;\n            }\n    \n            //Creating universal method to query for inserting or updating information in mysql database\n            public static int insertUpdateFromSqlQuery(String SqlQueryString) {\n                int i = 2;\n                try {\n                    //Checking whether the connection is null or null\n                    if (connection == null) {\n                        getConnection();\n                    }\n                    //Querying the query\n                    i = connection.createStatement().executeUpdate(SqlQueryString);\n    \n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n                return i;\n            }\n        }\n    \n    }\n\n}\n</code></pre>\n<p><strong>this code for jsp</strong></p>\n<pre><code>&lt;%\n    ResultSet resultOrders=DatabaseConnection.getResultFromSqlQuery(&quot;select * from tblorders where order_status='Pending'&quot;);\n   while (resultOrders.next()) {\n         \n%&gt;\n\n\n  [1]: https://i.stack.imgur.com/GJbtg.png\n</code></pre>\n"},{"tags":["java","eclipse","swing"],"comments":[{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679168735,"post_id":75778193,"comment_id":133674613,"body_markdown":"it&#39;s possible I guess","body":"it&#39;s possible I guess"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679214435,"post_id":75778193,"comment_id":133678468,"body_markdown":"But still what am I supposed to do here?","body":"But still what am I supposed to do here?"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679223983,"post_id":75778193,"comment_id":133679597,"body_markdown":"ok fixed the tag. Also by class i mean this &#39;Class class = new Class()&#39; &lt;--","body":"ok fixed the tag. Also by class i mean this &#39;Class class = new Class()&#39; &lt;--"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679224935,"post_id":75778193,"comment_id":133679730,"body_markdown":"`Class class = new Class();` does not work in Java since `class` is a keyword and cannot be used as variable name. `java.lang.Class` has only a private constructor, so `new Class()` does not work either. `Object object = new Object();` would work, but does nothing.","body":"<code>Class class = new Class();</code> does not work in Java since <code>class</code> is a keyword and cannot be used as variable name. <code>java.lang.Class</code> has only a private constructor, so <code>new Class()</code> does not work either. <code>Object object = new Object();</code> would work, but does nothing."},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679224991,"post_id":75778193,"comment_id":133679742,"body_markdown":"the &#39;Class&#39; and &#39;class&#39; are placeholders and are example words. I know that Class is a keyword. So now I changed it to myClass and myclass.","body":"the &#39;Class&#39; and &#39;class&#39; are placeholders and are example words. I know that Class is a keyword. So now I changed it to myClass and myclass."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679226910,"post_id":75778193,"comment_id":133679984,"body_markdown":"So are you saying that you want the action to create a different class for each button?","body":"So are you saying that you want the action to create a different class for each button?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1679229034,"post_id":75778193,"comment_id":133680230,"body_markdown":"The `setBounds` indicates that you&#39;re using a `null` layout, which will lead you to nothing but more trouble in the future.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"The <code>setBounds</code> indicates that you&#39;re using a <code>null</code> layout, which will lead you to nothing but more trouble in the future.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679229069,"post_id":75778193,"comment_id":133680236,"body_markdown":"Yes I want to use the parameters as everything needed for the button (since the only difference is creating an instance of the specific class and a method from that class) and because I&#39;ve designed it in way to only instantiate and show the frame (in the class constructor) only when the button is pressed","body":"Yes I want to use the parameters as everything needed for the button (since the only difference is creating an instance of the specific class and a method from that class) and because I&#39;ve designed it in way to only instantiate and show the frame (in the class constructor) only when the button is pressed"},{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679229676,"post_id":75778193,"comment_id":133680300,"body_markdown":"soo can anyone help with a potential answer","body":"soo can anyone help with a potential answer"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679232972,"post_id":75778193,"comment_id":133680694,"body_markdown":"_can anyone help with a potential answer_ most probably not before you describe your _real_ problem (instead of the problems you have with an assumed solution :).","body":"<i>can anyone help with a potential answer</i> most probably not before you describe your <i>real</i> problem (instead of the problems you have with an assumed solution :)."}],"answers":[{"comments":[{"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"score":0,"creation_date":1679495551,"post_id":75782906,"comment_id":133732577,"body_markdown":"It works, thanks. But also, on the suggestion to transition to a non-null layout, should I apply it to all of my frame related classes or is it ok since they still work as well as before?","body":"It works, thanks. But also, on the suggestion to transition to a non-null layout, should I apply it to all of my frame related classes or is it ok since they still work as well as before?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679499717,"post_id":75782906,"comment_id":133733874,"body_markdown":"I am not an expert on Swing layouts, but my understanding is you should use layouts for everything and do not use setBounds at all.","body":"I am not an expert on Swing layouts, but my understanding is you should use layouts for everything and do not use setBounds at all."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679238267,"creation_date":1679238267,"answer_id":75782906,"question_id":75778193,"body_markdown":"One way to do this would be to pass the action as a `Runnable` to the method, something like:\r\n```\r\npublic JButton makeButton(JFrame frame, String text, Runnable runnable) {\r\n\r\n    JButton button = new JButton();\r\n    button.setText(text);\r\n\r\n    frame.add(button);\r\n\r\n    button.addActionListener(event -&gt; {\r\n      frame.setVisible(false);\r\n\r\n      runnable.run();\r\n    });\r\n\r\n    return button;\r\n}\r\n```\r\nWhich you would use like this:\r\n```\r\nJButton button1 = makeButton(frame, &quot;button 1&quot;, () -&gt; {\r\n    // TODO action for button 1\r\n });\r\n\r\nJButton button2 = makeButton(frame, &quot;button 2&quot;, () -&gt; {\r\n   // TODO action for button 2\r\n});\r\n\r\n```","title":"How to dynamically change a variable name or variable type on Eclipse?","body":"<p>One way to do this would be to pass the action as a <code>Runnable</code> to the method, something like:</p>\n<pre><code>public JButton makeButton(JFrame frame, String text, Runnable runnable) {\n\n    JButton button = new JButton();\n    button.setText(text);\n\n    frame.add(button);\n\n    button.addActionListener(event -&gt; {\n      frame.setVisible(false);\n\n      runnable.run();\n    });\n\n    return button;\n}\n</code></pre>\n<p>Which you would use like this:</p>\n<pre><code>JButton button1 = makeButton(frame, &quot;button 1&quot;, () -&gt; {\n    // TODO action for button 1\n });\n\nJButton button2 = makeButton(frame, &quot;button 2&quot;, () -&gt; {\n   // TODO action for button 2\n});\n\n</code></pre>\n"}],"owner":{"account_id":26544647,"reputation":5,"user_id":20174888,"display_name":"Eagle32349"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75782906,"answer_count":1,"score":-1,"last_activity_date":1679238267,"creation_date":1679167836,"question_id":75778193,"body_markdown":"I can&#39;t use eval() and window[], because they don&#39;t work for me for some reason.\r\n\r\nHere I&#39;m trying to make a method to make the creation of a new JButton to be easier and more space efficient since I will be making a LOT of the same buttons but with a slight difference. I just don&#39;t know how to change the Class (type) and class (variable name).\r\n\r\n\r\n```\r\npublic void makeButton(JButton specificButton, JFrame frame, String text, int[] border) {\r\n\t\tspecificButton = new JButton();\r\n\t\tspecificButton.setText(text);\r\n\t\tframe.add(specificButton);\r\n\t\tspecificButton.setBounds(border[0], border[1], border[2], border[3]);\r\n\t\t\r\n\t\t\r\n\t\tspecificButton.addActionListener(new ActionListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tframe.setVisible(false);\r\n\t\t\t\tmyClass myclass = new myClass();// Example\r\n\t\t\t\tmyclass...\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n```\r\n\r\n\r\n\r\nI found no other potential option.","title":"How to dynamically change a variable name or variable type on Eclipse?","body":"<p>I can't use eval() and window[], because they don't work for me for some reason.</p>\n<p>Here I'm trying to make a method to make the creation of a new JButton to be easier and more space efficient since I will be making a LOT of the same buttons but with a slight difference. I just don't know how to change the Class (type) and class (variable name).</p>\n<pre><code>public void makeButton(JButton specificButton, JFrame frame, String text, int[] border) {\n        specificButton = new JButton();\n        specificButton.setText(text);\n        frame.add(specificButton);\n        specificButton.setBounds(border[0], border[1], border[2], border[3]);\n        \n        \n        specificButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.setVisible(false);\n                myClass myclass = new myClass();// Example\n                myclass...\n            }\n        });\n    }\n</code></pre>\n<p>I found no other potential option.</p>\n"},{"tags":["java","mule","anypoint-studio","mule4"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679238102,"creation_date":1649354233,"answer_id":71786893,"question_id":71786660,"body_markdown":"You seem to be using an incompatible Java version to start Mule. \r\n\r\nIf you are using Mule standalone, either use a compatible Java version and set it first in the operating system PATH environment variable, or alternatively configure the full path of the [Java executable in the configuration file wrapper.conf][1] (example: `wrapper.java.command=&lt;Java Home&gt;/bin/java`).\r\n\r\nNote that [compatible Java versions for Mule 4.3/4.4][2] are JDK 8 or JDK 11 only. Any other Java/OpenJDK versions are not supported.\r\n\r\nIf you are using Anypoint Studio [select a supported version for your Mule projects][3].\r\n\r\n\r\n  [1]: https://help.mulesoft.com/s/article/How-to-change-java-version-for-mule-runtime\r\n  [2]: https://docs.mulesoft.com/mule-runtime/4.4/hardware-and-software-requirements#required-software\r\n  [3]: https://docs.mulesoft.com/studio/7.14/change-jdk-config-in-projects","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>You seem to be using an incompatible Java version to start Mule.</p>\n<p>If you are using Mule standalone, either use a compatible Java version and set it first in the operating system PATH environment variable, or alternatively configure the full path of the <a href=\"https://help.mulesoft.com/s/article/How-to-change-java-version-for-mule-runtime\" rel=\"nofollow noreferrer\">Java executable in the configuration file wrapper.conf</a> (example: <code>wrapper.java.command=&lt;Java Home&gt;/bin/java</code>).</p>\n<p>Note that <a href=\"https://docs.mulesoft.com/mule-runtime/4.4/hardware-and-software-requirements#required-software\" rel=\"nofollow noreferrer\">compatible Java versions for Mule 4.3/4.4</a> are JDK 8 or JDK 11 only. Any other Java/OpenJDK versions are not supported.</p>\n<p>If you are using Anypoint Studio <a href=\"https://docs.mulesoft.com/studio/7.14/change-jdk-config-in-projects\" rel=\"nofollow noreferrer\">select a supported version for your Mule projects</a>.</p>\n"},{"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1673963689,"post_id":71787120,"comment_id":132610043,"body_markdown":"I had a look at the Mule forums, but you pointed me in the correct direction. I switch between IDE&#39;s often depending on my work and boy oh boy, Anystudio makes you go through hoops... I submitted my answer here and on the forums.","body":"I had a look at the Mule forums, but you pointed me in the correct direction. I switch between IDE&#39;s often depending on my work and boy oh boy, Anystudio makes you go through hoops... I submitted my answer here and on the forums."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1675276048,"post_id":71787120,"comment_id":132895713,"body_markdown":"Mule 4.4 is also compatible with Java 8.","body":"Mule 4.4 is also compatible with Java 8."}],"tags":[],"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649355468,"creation_date":1649355468,"answer_id":71787120,"question_id":71786660,"body_markdown":"Class file Major version - 61 , that means your system have JDK 17 ( latest Java version).\r\n\r\n 1. Kindly install JDK 11 to be compatible with Mule\r\n\r\n 2. Update the JAVA_HOME windows environment variable\r\n\r\n 3. Update the PATH windows environment variable.\r\n\r\nRun mule.bat","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>Class file Major version - 61 , that means your system have JDK 17 ( latest Java version).</p>\n<ol>\n<li><p>Kindly install JDK 11 to be compatible with Mule</p>\n</li>\n<li><p>Update the JAVA_HOME windows environment variable</p>\n</li>\n<li><p>Update the PATH windows environment variable.</p>\n</li>\n</ol>\n<p>Run mule.bat</p>\n"},{"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672928712,"creation_date":1672928712,"answer_id":75019923,"question_id":71786660,"body_markdown":"Removing the the other java installations from `c:\\program files\\java` (for windows), solved for me.\r\n\r\nI didn&#39;t have any environment variables pointing to any specific java installation what makes it odd how `AnyPoint studio` was using those installations.\r\n&#160;\r\n\r\nI&#39;m running on a windows 11 workstation.\r\n\r\nNote: some posts advise to change mule runtime version to 4.2.x, but that will break some functionalities, like database connector. In my case the mule services become very unstable when some features like that were added to the project.\r\n","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>Removing the the other java installations from <code>c:\\program files\\java</code> (for windows), solved for me.</p>\n<p>I didn't have any environment variables pointing to any specific java installation what makes it odd how <code>AnyPoint studio</code> was using those installations.\n</p>\n<p>I'm running on a windows 11 workstation.</p>\n<p>Note: some posts advise to change mule runtime version to 4.2.x, but that will break some functionalities, like database connector. In my case the mule services become very unstable when some features like that were added to the project.</p>\n"},{"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1675275985,"post_id":75147695,"comment_id":132895700,"body_markdown":"The question is about running Mule Runtime standalone, not Studio or Mule inside Studio. In any case Studio 7.x includes an OpenJDK 11 installation to run Studio and an OpenJDK 8 to execute Mule projects by default.","body":"The question is about running Mule Runtime standalone, not Studio or Mule inside Studio. In any case Studio 7.x includes an OpenJDK 11 installation to run Studio and an OpenJDK 8 to execute Mule projects by default."}],"tags":[],"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673964553,"creation_date":1673964553,"answer_id":75147695,"question_id":71786660,"body_markdown":"As a developer in need of several Java jdk&#39;s (or at least the latest LTS), I need a different approach. Firstly, you need to know that **Anystudio only works with jdk8 (pre-installed), or jdk11 (configurable)**. You can forget about the rest. Secondly, being a derivative from Eclipse, your **JAVA_HOME needs to point towards the correct jdk** or you&#39;ll get the afformentioned error where the 61 means the user had jdk17 configured.\r\n\r\nSTEPS TO CONFIGURE JDK 11 (for Anypoint v7.14.0)\r\n------------------------------------------------\r\n\r\n- right click on your project \r\n- go to &quot;Run As&quot; and select &quot;Mule Application (configure). A new window opens.\r\n- In that window you&#39;ll see multiple tabs. Select &quot;JRE&quot;\r\n- Choose &quot;Alternate JRE&quot; and click on the &quot;Installed JRE&#39;s&quot; button. A new window opens\r\n- In that window you&#39;ll see an &quot;Add...&quot; button. Select &quot;Standard VM&quot;, click &quot;Next &gt;&quot;\r\n- Choose your jdk directory. Click &quot;Finish&quot; and select your jdk from the dropdown.\r\n\r\n*Alternatively:* \r\n\r\n- locate your AnypointStudio.ini file and configure your -vm option described [here][1], or in code: \r\n```\r\n-vm\r\nC:\\Program Files\\Java\\jdk-11.0.4\\bin\\javaw.exe\r\n```\r\nThere are a few alternatives when configuring the Anystudio.ini file, so if the  change above doesn&#39;t work, search the Mule forums for the latest info on *Configure studio to use your own jdk*.\r\n- Go to your configuration and choose &quot;Execution environment&quot; instead of Alternate JRE. Though make sure that it points to CDC-1.0/Foundation-1.0 (your_jdk_version)\r\n\r\n-----------\r\nThis should work when your JAVA_HOME points to the correct jdk. If, like me, you need to switch to other versions, it can be bothersome to constantly change it manually. For this, I created .bat-files which I execute before starting up Anystudio. Make sure that your computer&#39;s path references JAVA_HOME instead of a hardcoded path. Otherwise the steps below won&#39;t be enough.\r\n\r\nCREATING .BAT-FILES TO PROGRAMMATICLY CHANGE YOUR JAVA_HOME (for Windows 11)\r\n------------------------------------------------------------------------\r\n\r\n- Open notepad\r\n- type the following, keeping in mind to change the jdk to your personal path/version: \r\n```\r\nsetx /M JAVA_HOME &quot;C:\\Program Files\\Java\\jdk-11.0.4&quot;\r\n```\r\n- Save file with your_file_name.bat as &quot;All files&quot;\r\n- Create a shortcut from your bat-file\r\n- Right-mouse click on the shortcut and go to &quot;Properties&quot;. A new window opens\r\n- In the window that opened, go to &quot;Advanced&quot;\r\n- Select &quot;Run as administrator&quot;, click &quot;Ok&quot;, click &quot;Apply&quot;\r\n\r\n\r\nKeep in mind, you&#39;ll need 2 of those .bat-files. One for downgrading your JAVA_HOME (execute before opening Anystudio) and one for restoring it (execute it after you&#39;re done working in Anystudio). Both system settings and commandlines don&#39;t show a changed JAVA_HOME path directly. close/reopen them to see that the changes have been applied.\r\n\r\n\r\n  [1]: https://docs.mulesoft.com/studio/7.11/change-jdk-for-studio-wx","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>As a developer in need of several Java jdk's (or at least the latest LTS), I need a different approach. Firstly, you need to know that <strong>Anystudio only works with jdk8 (pre-installed), or jdk11 (configurable)</strong>. You can forget about the rest. Secondly, being a derivative from Eclipse, your <strong>JAVA_HOME needs to point towards the correct jdk</strong> or you'll get the afformentioned error where the 61 means the user had jdk17 configured.</p>\n<h2>STEPS TO CONFIGURE JDK 11 (for Anypoint v7.14.0)</h2>\n<ul>\n<li>right click on your project</li>\n<li>go to &quot;Run As&quot; and select &quot;Mule Application (configure). A new window opens.</li>\n<li>In that window you'll see multiple tabs. Select &quot;JRE&quot;</li>\n<li>Choose &quot;Alternate JRE&quot; and click on the &quot;Installed JRE's&quot; button. A new window opens</li>\n<li>In that window you'll see an &quot;Add...&quot; button. Select &quot;Standard VM&quot;, click &quot;Next &gt;&quot;</li>\n<li>Choose your jdk directory. Click &quot;Finish&quot; and select your jdk from the dropdown.</li>\n</ul>\n<p><em>Alternatively:</em></p>\n<ul>\n<li>locate your AnypointStudio.ini file and configure your -vm option described <a href=\"https://docs.mulesoft.com/studio/7.11/change-jdk-for-studio-wx\" rel=\"nofollow noreferrer\">here</a>, or in code:</li>\n</ul>\n<pre><code>-vm\nC:\\Program Files\\Java\\jdk-11.0.4\\bin\\javaw.exe\n</code></pre>\n<p>There are a few alternatives when configuring the Anystudio.ini file, so if the  change above doesn't work, search the Mule forums for the latest info on <em>Configure studio to use your own jdk</em>.</p>\n<ul>\n<li>Go to your configuration and choose &quot;Execution environment&quot; instead of Alternate JRE. Though make sure that it points to CDC-1.0/Foundation-1.0 (your_jdk_version)</li>\n</ul>\n<hr />\n<p>This should work when your JAVA_HOME points to the correct jdk. If, like me, you need to switch to other versions, it can be bothersome to constantly change it manually. For this, I created .bat-files which I execute before starting up Anystudio. Make sure that your computer's path references JAVA_HOME instead of a hardcoded path. Otherwise the steps below won't be enough.</p>\n<h2>CREATING .BAT-FILES TO PROGRAMMATICLY CHANGE YOUR JAVA_HOME (for Windows 11)</h2>\n<ul>\n<li>Open notepad</li>\n<li>type the following, keeping in mind to change the jdk to your personal path/version:</li>\n</ul>\n<pre><code>setx /M JAVA_HOME &quot;C:\\Program Files\\Java\\jdk-11.0.4&quot;\n</code></pre>\n<ul>\n<li>Save file with your_file_name.bat as &quot;All files&quot;</li>\n<li>Create a shortcut from your bat-file</li>\n<li>Right-mouse click on the shortcut and go to &quot;Properties&quot;. A new window opens</li>\n<li>In the window that opened, go to &quot;Advanced&quot;</li>\n<li>Select &quot;Run as administrator&quot;, click &quot;Ok&quot;, click &quot;Apply&quot;</li>\n</ul>\n<p>Keep in mind, you'll need 2 of those .bat-files. One for downgrading your JAVA_HOME (execute before opening Anystudio) and one for restoring it (execute it after you're done working in Anystudio). Both system settings and commandlines don't show a changed JAVA_HOME path directly. close/reopen them to see that the changes have been applied.</p>\n"}],"owner":{"account_id":24863742,"reputation":43,"user_id":18739132,"display_name":"Niharika Tangella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1679238124,"creation_date":1649353066,"question_id":71786660,"body_markdown":"When double-clicking on mule.bat I get the following error message.\r\n\r\nError message:\r\n```\r\nCaught: BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;C:\\NihaMule\\mule-ee-distribution-standalone-4.4.0\\mule-enterprise-standalone-4.4.0\\bin\\additional.groovy&#39; Unsupported class file major version 61\r\n```","title":"Getting error &quot;Unsupported class file major version 61&quot; trying to start Mule 4.4 in Windows","body":"<p>When double-clicking on mule.bat I get the following error message.</p>\n<p>Error message:</p>\n<pre><code>Caught: BUG! exception in phase 'semantic analysis' in source unit 'C:\\NihaMule\\mule-ee-distribution-standalone-4.4.0\\mule-enterprise-standalone-4.4.0\\bin\\additional.groovy' Unsupported class file major version 61\n</code></pre>\n"},{"tags":["java","itext","itext7"],"answers":[{"comments":[{"owner":{"account_id":1533469,"reputation":488,"user_id":1430078,"display_name":"Qwertz"},"score":0,"creation_date":1676362708,"post_id":75442405,"comment_id":133116773,"body_markdown":"I was not aware of cpdf. Is that &quot;Coherent Command Line PDF Toolk&quot;? I&#39;ll take a look at it and see if it meets our needs.","body":"I was not aware of cpdf. Is that &quot;Coherent Command Line PDF Toolk&quot;? I&#39;ll take a look at it and see if it meets our needs."}],"tags":[],"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676334259,"creation_date":1676334259,"answer_id":75442405,"question_id":75440930,"body_markdown":"My guess is iText 2 didn&#39;t even know it might be a problem.\r\n\r\nIf iText can&#39;t deduplicate destination names, the procedure is roughly:\r\n\r\nFollow /Catalog -&gt; /Names -&gt; /Dests in each document to find the destination name tree.\r\n\r\nDeduplicate the names, by adding suffixes. Remember that a name with a suffix added might be equal to an existing name in the same or another document. Be careful!\r\n\r\nNow you can rewrite the destination name trees. Since you have only used suffixes, you can do this in place - the lexicographic ordering of the names is unaltered so the search tree structure is not broken.\r\n\r\nNow, rewrite destination links in each PDF for the new names. For example any dictionary entry with key /Dest, or any /D in a /GoTo action.\r\n\r\nNow, after all this preprocessing, the files will merge without name clashes.\r\n\r\n(I know all this because I&#39;ve just implemented it for my own PDF software. It&#39;s slightly hairy stuff, but not intractable.)\r\n\r\nIf you like, I can provide a devel version of `cpdf` with this functionality, if you would like to test it.","title":"itext2 to itext7: Merging PDF files","body":"<p>My guess is iText 2 didn't even know it might be a problem.</p>\n<p>If iText can't deduplicate destination names, the procedure is roughly:</p>\n<p>Follow /Catalog -&gt; /Names -&gt; /Dests in each document to find the destination name tree.</p>\n<p>Deduplicate the names, by adding suffixes. Remember that a name with a suffix added might be equal to an existing name in the same or another document. Be careful!</p>\n<p>Now you can rewrite the destination name trees. Since you have only used suffixes, you can do this in place - the lexicographic ordering of the names is unaltered so the search tree structure is not broken.</p>\n<p>Now, rewrite destination links in each PDF for the new names. For example any dictionary entry with key /Dest, or any /D in a /GoTo action.</p>\n<p>Now, after all this preprocessing, the files will merge without name clashes.</p>\n<p>(I know all this because I've just implemented it for my own PDF software. It's slightly hairy stuff, but not intractable.)</p>\n<p>If you like, I can provide a devel version of <code>cpdf</code> with this functionality, if you would like to test it.</p>\n"},{"tags":[],"owner":{"account_id":1533469,"reputation":488,"user_id":1430078,"display_name":"Qwertz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677145111,"creation_date":1677100521,"answer_id":75538233,"question_id":75440930,"body_markdown":"Following up on the reply from @johnwhitington I got the following procedure to work.\r\n\r\nAs John suggests, start by renaming the destinations in the name tree:\r\n\r\n\r\n    Map&lt;String, PdfString&gt; renameDestinations(PdfDocument pdf,\r\n                                                      String suffix) {\r\n    \r\n        Map&lt;String, PdfString&gt; renamed = new HashMap&lt;&gt;();\r\n    \r\n        PdfNameTree nameTree = pdf.getCatalog().getNameTree(PdfName.Dests);\r\n        Map&lt;String, PdfObject&gt; names = nameTree.getNames();\r\n    \r\n        Set&lt;String&gt; ks = new HashSet&lt;String&gt; (names.keySet());\r\n        for (String key : ks) {\r\n            String oldName = key;\r\n            PdfString newName = new PdfString(oldName + suffix);\r\n            PdfObject value = names.get(key);\r\n            names.remove(key);\r\n            names.put(newName.toUnicodeString(), value);\r\n            renamed.put(oldName, newName);\r\n        }\r\n    \r\n        nameTree.setModified();\r\n    \r\n        return renamed;\r\n    }\r\n\r\n\r\n\r\n\r\nThen change the destinations in the outlines to the new destinations:\r\n\r\n\r\n\r\n\r\n    void renameOutlines(PdfOutline pdo, Map&lt;String, PdfString&gt; old2new) {\r\n    \r\n        for (PdfOutline child : pdo.getAllChildren()) {\r\n            renameOutlines(child, old2new);\r\n        }\r\n    \r\n        PdfDestination dest = pdo.getDestination();\r\n    \r\n        if (!((dest instanceof PdfNamedDestination)\r\n             || (dest instanceof PdfStringDestination))) {\r\n            return;\r\n        }\r\n    \r\n        String oldDest = &quot;&quot;;\r\n        if (pdo.getDestination().getPdfObject().isString()) {\r\n    \r\n            oldDest = ((PdfString) pdo.getDestination()\r\n                                      .getPdfObject()).toUnicodeString();\r\n    \r\n        } else if (pdo.getDestination().getPdfObject().isName()) {\r\n    \r\n            oldDest = ((PdfName) pdo.getDestination()\r\n                                    .getPdfObject()).getValue();\r\n        }\r\n    \r\n        if (oldDest != null &amp;&amp; old2new.containsKey(oldDest)) {\r\n            pdo.addDestination(new PdfStringDestination(\r\n                                                old2new.get(oldDest)));\r\n        }\r\n    \r\n    }\r\n\r\nFinally, change the links on each page to use the new destinations:\r\n\r\n\r\n\r\n    void renameLinks(PdfDocument pdf, Map&lt;String, PdfString&gt; renamed) {\r\n    \r\n        int numPages = pdf.getNumberOfPages();\r\n        for (int p = 1; p &lt;= numPages; p++) {\r\n    \r\n            List&lt;PdfAnnotation&gt; annots = pdf.getPage(p).getAnnotations();\r\n    \r\n            for (PdfAnnotation annot : annots) {\r\n    \r\n                    PdfObject dest = annot.getPdfObject().get(PdfName.Dest);\r\n    \r\n                    if (dest != null &amp;&amp; dest.isName()) {\r\n                        String oldString = ((PdfName) dest).getValue();\r\n                        if (renamed.containsKey(oldString)) {  \r\n                            annot.getPdfObject().put(PdfName.Dest, \r\n                                       renamed.get(oldString));\r\n                        }\r\n                    }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe suffix of course should be unique to each file being merged.\r\n\r\n\r\n\r\n","title":"itext2 to itext7: Merging PDF files","body":"<p>Following up on the reply from @johnwhitington I got the following procedure to work.</p>\n<p>As John suggests, start by renaming the destinations in the name tree:</p>\n<pre><code>Map&lt;String, PdfString&gt; renameDestinations(PdfDocument pdf,\n                                                  String suffix) {\n\n    Map&lt;String, PdfString&gt; renamed = new HashMap&lt;&gt;();\n\n    PdfNameTree nameTree = pdf.getCatalog().getNameTree(PdfName.Dests);\n    Map&lt;String, PdfObject&gt; names = nameTree.getNames();\n\n    Set&lt;String&gt; ks = new HashSet&lt;String&gt; (names.keySet());\n    for (String key : ks) {\n        String oldName = key;\n        PdfString newName = new PdfString(oldName + suffix);\n        PdfObject value = names.get(key);\n        names.remove(key);\n        names.put(newName.toUnicodeString(), value);\n        renamed.put(oldName, newName);\n    }\n\n    nameTree.setModified();\n\n    return renamed;\n}\n</code></pre>\n<p>Then change the destinations in the outlines to the new destinations:</p>\n<pre><code>void renameOutlines(PdfOutline pdo, Map&lt;String, PdfString&gt; old2new) {\n\n    for (PdfOutline child : pdo.getAllChildren()) {\n        renameOutlines(child, old2new);\n    }\n\n    PdfDestination dest = pdo.getDestination();\n\n    if (!((dest instanceof PdfNamedDestination)\n         || (dest instanceof PdfStringDestination))) {\n        return;\n    }\n\n    String oldDest = &quot;&quot;;\n    if (pdo.getDestination().getPdfObject().isString()) {\n\n        oldDest = ((PdfString) pdo.getDestination()\n                                  .getPdfObject()).toUnicodeString();\n\n    } else if (pdo.getDestination().getPdfObject().isName()) {\n\n        oldDest = ((PdfName) pdo.getDestination()\n                                .getPdfObject()).getValue();\n    }\n\n    if (oldDest != null &amp;&amp; old2new.containsKey(oldDest)) {\n        pdo.addDestination(new PdfStringDestination(\n                                            old2new.get(oldDest)));\n    }\n\n}\n</code></pre>\n<p>Finally, change the links on each page to use the new destinations:</p>\n<pre><code>void renameLinks(PdfDocument pdf, Map&lt;String, PdfString&gt; renamed) {\n\n    int numPages = pdf.getNumberOfPages();\n    for (int p = 1; p &lt;= numPages; p++) {\n\n        List&lt;PdfAnnotation&gt; annots = pdf.getPage(p).getAnnotations();\n\n        for (PdfAnnotation annot : annots) {\n\n                PdfObject dest = annot.getPdfObject().get(PdfName.Dest);\n\n                if (dest != null &amp;&amp; dest.isName()) {\n                    String oldString = ((PdfName) dest).getValue();\n                    if (renamed.containsKey(oldString)) {  \n                        annot.getPdfObject().put(PdfName.Dest, \n                                   renamed.get(oldString));\n                    }\n                }\n        }\n    }\n}\n</code></pre>\n<p>The suffix of course should be unique to each file being merged.</p>\n"}],"owner":{"account_id":1533469,"reputation":488,"user_id":1430078,"display_name":"Qwertz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679238035,"creation_date":1676320657,"question_id":75440930,"body_markdown":"Years ago, I wrote a small app in `itext2` to gather reports on a weekly basis and concatenate them into one PDF. The app used  `com.lowagie.text.pdf.PdfCopy` to copy and merge the PDFs. And it worked fine. Performed exactly as expected.\r\n\r\nA few weeks ago I looked into migrating the application to `itex7`. To that end, I used the `copyPagesTo` method of `com.itextpdf.kernel.pdf.PdfDocument`. When run on the same file set, this produces warnings like:\r\n\r\n    WARN PdfNameTree - Name &quot;section.1&quot; already exists in the name tree; old value will be replaced by the new one.\r\n\r\nWhen I click on the link to &quot;section.1&quot; in the first document of the merged PDF, I am taken to &quot;section.1&quot; of the last document. Not what I expected and not what happens when using the `itext2` app. In the PDF&#39;s produced by `itext2`, if I click on the link to &quot;section.1&quot; of the first document in the combined PDF, I am taken to section 1 of the first document.\r\n\r\nThere is a hint in Javadocs for `copyPagesTo` saying\r\n\r\n&gt; If outlines destination names are the same in different documents, all\r\n&gt; such outlines will lead to a single location in the resultant\r\n&gt; document. In this case iText will log a warning. This can be avoided \r\n&gt; by renaming destinations names in the source document.\r\n\r\nThere is however, no explanation of how this should be done. I find it odd that this should be necessary in `itext7`, although it wasn&#39;t in `itext2`.\r\n\r\nIs there a simple way to get around his problem?\r\n\r\nI&#39;ve also tried the Sejda desktop app and it produces correct results, but I would prefer to automate the process through a batch script.\r\n","title":"itext2 to itext7: Merging PDF files","body":"<p>Years ago, I wrote a small app in <code>itext2</code> to gather reports on a weekly basis and concatenate them into one PDF. The app used  <code>com.lowagie.text.pdf.PdfCopy</code> to copy and merge the PDFs. And it worked fine. Performed exactly as expected.</p>\n<p>A few weeks ago I looked into migrating the application to <code>itex7</code>. To that end, I used the <code>copyPagesTo</code> method of <code>com.itextpdf.kernel.pdf.PdfDocument</code>. When run on the same file set, this produces warnings like:</p>\n<pre><code>WARN PdfNameTree - Name &quot;section.1&quot; already exists in the name tree; old value will be replaced by the new one.\n</code></pre>\n<p>When I click on the link to &quot;section.1&quot; in the first document of the merged PDF, I am taken to &quot;section.1&quot; of the last document. Not what I expected and not what happens when using the <code>itext2</code> app. In the PDF's produced by <code>itext2</code>, if I click on the link to &quot;section.1&quot; of the first document in the combined PDF, I am taken to section 1 of the first document.</p>\n<p>There is a hint in Javadocs for <code>copyPagesTo</code> saying</p>\n<blockquote>\n<p>If outlines destination names are the same in different documents, all\nsuch outlines will lead to a single location in the resultant\ndocument. In this case iText will log a warning. This can be avoided\nby renaming destinations names in the source document.</p>\n</blockquote>\n<p>There is however, no explanation of how this should be done. I find it odd that this should be necessary in <code>itext7</code>, although it wasn't in <code>itext2</code>.</p>\n<p>Is there a simple way to get around his problem?</p>\n<p>I've also tried the Sejda desktop app and it produces correct results, but I would prefer to automate the process through a batch script.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656342854,"creation_date":1656342854,"answer_id":72774471,"question_id":72774283,"body_markdown":"You should avoid `block` while building reactive flows. `filter` could be used to apply synchronous logic. In case you need to apply asynchronous function that returns `Mono` - use `filterWhen`.\r\n\r\n```\r\nprotected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\r\n    return resultsToFilter\r\n            .filterWhen(a -&gt;  makeServiceCall(a));\r\n\r\n}\r\n```","title":"Filtering Flux elements based on result of webservice call","body":"<p>You should avoid <code>block</code> while building reactive flows. <code>filter</code> could be used to apply synchronous logic. In case you need to apply asynchronous function that returns <code>Mono</code> - use <code>filterWhen</code>.</p>\n<pre><code>protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\n    return resultsToFilter\n            .filterWhen(a -&gt;  makeServiceCall(a));\n\n}\n</code></pre>\n"}],"owner":{"account_id":8888797,"reputation":91,"user_id":6636188,"display_name":"Ankit Ghildiyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72774471,"answer_count":1,"score":2,"last_activity_date":1679237982,"creation_date":1656342122,"question_id":72774283,"body_markdown":"In below code I am filtering elements ina flux based on some logic and then further filtering based on the result of webservice call. Now the webservice returns a Mono&lt;Boolean&gt; so I can use it in the filter method. calling block() doesn&#39;t work. Can someone how to go about this. Thanks in advance. The code is not fully compilable as I removed company specific code. \r\n\r\n    protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\r\n            return resultsToFilter.filter(cr -&gt; {\r\n                //Filtering logic\r\n            })\r\n                    .filter( a-&gt; {\r\n    \t\t\t\t\tMono&lt;Boolean&gt; serviceCallResult = makeServiceCall(a);\r\n    \t\t\t\t\treturn serviceCallResult.block(); //HOW TO DO THIS CORRECTLY\r\n    \t\t\t\t});\r\n    \r\n        }","title":"Filtering Flux elements based on result of webservice call","body":"<p>In below code I am filtering elements ina flux based on some logic and then further filtering based on the result of webservice call. Now the webservice returns a Mono so I can use it in the filter method. calling block() doesn't work. Can someone how to go about this. Thanks in advance. The code is not fully compilable as I removed company specific code.</p>\n<pre><code>protected Flux&lt;&gt; getFilteredResults(Flux&lt;&gt; resultsToFilter, boolean someBoolean) {\n        return resultsToFilter.filter(cr -&gt; {\n            //Filtering logic\n        })\n                .filter( a-&gt; {\n                    Mono&lt;Boolean&gt; serviceCallResult = makeServiceCall(a);\n                    return serviceCallResult.block(); //HOW TO DO THIS CORRECTLY\n                });\n\n    }\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"comments":[{"owner":{"account_id":72536,"reputation":922,"user_id":209403,"accept_rate":23,"display_name":"Gao"},"score":0,"creation_date":1679213571,"post_id":75780759,"comment_id":133678391,"body_markdown":"what if I submit a task beyond pool&#39;s capacity?","body":"what if I submit a task beyond pool&#39;s capacity?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1679213738,"post_id":75780759,"comment_id":133678400,"body_markdown":"The task simply has to wait until one of the threads in the pool is available again. It will then *steal* the task and execute it. If you create a pool with 5 threads, it can execute 5 tasks concurrently. If you submit a 6th task, it has to wait until one of the 5 tasks is done.","body":"The task simply has to wait until one of the threads in the pool is available again. It will then <i>steal</i> the task and execute it. If you create a pool with 5 threads, it can execute 5 tasks concurrently. If you submit a 6th task, it has to wait until one of the 5 tasks is done."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1679213965,"post_id":75780759,"comment_id":133678423,"body_markdown":"You are not supposed to submit very long or even forever-running tasks. Create separate pools for long living tasks or increase the capacity. Try to think more with a micro-task mindset, getting rid of super long tasks and splitting them into mini tasks. You can then use the future-chaining `future.thenApply(...).thenApply(...).thenAccept(...)`. With the virtual/green threads that arrive soon, this will be even more effective.","body":"You are not supposed to submit very long or even forever-running tasks. Create separate pools for long living tasks or increase the capacity. Try to think more with a micro-task mindset, getting rid of super long tasks and splitting them into mini tasks. You can then use the future-chaining <code>future.thenApply(...).thenApply(...).thenAccept(...)</code>. With the virtual/green threads that arrive soon, this will be even more effective."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679305515,"post_id":75780759,"comment_id":133691305,"body_markdown":"@Zabuzard I dont see the point of splitting a linear task into smaller tasks that run one after the other anyway. Thats creating overhead for no benefit.","body":"@Zabuzard I dont see the point of splitting a linear task into smaller tasks that run one after the other anyway. Thats creating overhead for no benefit."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1679310363,"post_id":75780759,"comment_id":133692685,"body_markdown":"Kinda depends. But you give other tasks the chance to execute in-between. So you get more pseudo-parallism out of your pool. As in, dont create a single 24/7 task if you intend to execute sth else on the same single thread. Instead, make the tasks a bit smaller and something else can now get the chance to execute in between the cut points.","body":"Kinda depends. But you give other tasks the chance to execute in-between. So you get more pseudo-parallism out of your pool. As in, dont create a single 24/7 task if you intend to execute sth else on the same single thread. Instead, make the tasks a bit smaller and something else can now get the chance to execute in between the cut points."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679333668,"post_id":75780759,"comment_id":133699614,"body_markdown":"@Zabuzard theres no guaranty that another task will be picked up in between these steps. In fact, when you use `thenApply`, `thenAccept`, etc without the `Async` suffix, the chances are especially low, as it doesnt enqueue the dependent action. Even when using the `Async` methods (without specifying a different pool), chances are low, as the Fork/Join framework has been designed specifically to give preference to local tasks, i.e. the one you just submitted in the best case.","body":"@Zabuzard theres no guaranty that another task will be picked up in between these steps. In fact, when you use <code>thenApply</code>, <code>thenAccept</code>, etc without the <code>Async</code> suffix, the chances are especially low, as it doesnt enqueue the dependent action. Even when using the <code>Async</code> methods (without specifying a different pool), chances are low, as the Fork/Join framework has been designed specifically to give preference to local tasks, i.e. the one you just submitted in the best case."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679237888,"creation_date":1679213326,"answer_id":75780759,"question_id":75780689,"body_markdown":"&gt; What would happen if `ForkJoinPool.commonPool` is full?\r\n\r\nThe work queues for a `ForkJoinPool` don&#39;t have any specific bounds, so it makes no sense to talk about a pool being &quot;full&quot;.\r\n\r\nAnd a `ForkJoinPool` doesn&#39;t have a &quot;capacity&quot; either.  It has a `parallelism` parameter that defaults to a value based on the JVM&#39;s number of cores, but that doesn&#39;t limit the number of tasks that can be submitted.\r\n\r\nIf there are more tasks to run than there are worker threads to run them, then new tasks will be placed in a queue.  The thread that submits the task is not &quot;blocked&quot; ... but the task itself will be delayed.  (Just like an `ExecutorService` with an unbounded work queue.) \r\n\r\nHowever, you can run into problems if your FJP tasks do blocking I/O or use unmanaged (by the pool) synchronization.  I have also heard of problems that can arise when an application ends up using more than one `ForkJoinPool`.  Look at this Q&amp;A and see if it applies to your problem:\r\n\r\n  - https://stackoverflow.com/questions/73474536 ","title":"What would happen if ForkJoinPool.commonPool is full?","body":"<blockquote>\n<p>What would happen if <code>ForkJoinPool.commonPool</code> is full?</p>\n</blockquote>\n<p>The work queues for a <code>ForkJoinPool</code> don't have any specific bounds, so it makes no sense to talk about a pool being &quot;full&quot;.</p>\n<p>And a <code>ForkJoinPool</code> doesn't have a &quot;capacity&quot; either.  It has a <code>parallelism</code> parameter that defaults to a value based on the JVM's number of cores, but that doesn't limit the number of tasks that can be submitted.</p>\n<p>If there are more tasks to run than there are worker threads to run them, then new tasks will be placed in a queue.  The thread that submits the task is not &quot;blocked&quot; ... but the task itself will be delayed.  (Just like an <code>ExecutorService</code> with an unbounded work queue.)</p>\n<p>However, you can run into problems if your FJP tasks do blocking I/O or use unmanaged (by the pool) synchronization.  I have also heard of problems that can arise when an application ends up using more than one <code>ForkJoinPool</code>.  Look at this Q&amp;A and see if it applies to your problem:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/73474536\">Java ForkJoinPool hangs in JDK17</a></li>\n</ul>\n"}],"owner":{"account_id":72536,"reputation":922,"user_id":209403,"accept_rate":23,"display_name":"Gao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679237888,"creation_date":1679212203,"question_id":75780689,"body_markdown":"I&#39;m debugging a long request problem, which related to CompletableFuture.runAsync, which related to ForkJoinPool.commonPool.\r\nThe `commonPool`&#39;s capacity is very small (for one machine it is set to 4). I think ForkJoinPool.commonPool blocks new Runnable if it is full. Am I correct?","title":"What would happen if ForkJoinPool.commonPool is full?","body":"<p>I'm debugging a long request problem, which related to CompletableFuture.runAsync, which related to ForkJoinPool.commonPool.\nThe <code>commonPool</code>'s capacity is very small (for one machine it is set to 4). I think ForkJoinPool.commonPool blocks new Runnable if it is full. Am I correct?</p>\n"},{"tags":["java","html","cursor","custom-cursor"],"comments":[{"owner":{"account_id":54381,"reputation":14862,"user_id":162698,"accept_rate":100,"display_name":"Rob"},"score":0,"creation_date":1679262566,"post_id":75782151,"comment_id":133685450,"body_markdown":"You are required to post a [mcve] here, **within your question**, and [not a link](https://meta.stackoverflow.com/a/254430/162698) to any other site.","body":"You are required to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here, <b>within your question</b>, and <a href=\"https://meta.stackoverflow.com/a/254430/162698\">not a link</a> to any other site."}],"answers":[{"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679237712,"post_id":75782850,"comment_id":133681425,"body_markdown":"oh and also remove any ga (google analytics) function calls","body":"oh and also remove any ga (google analytics) function calls"},{"owner":{"account_id":26905697,"reputation":1,"user_id":20482068,"display_name":"T. VOS"},"score":0,"creation_date":1679500840,"post_id":75782850,"comment_id":133734258,"body_markdown":"Hey thanks for the help the other day. Ive since worked on the site myself and added the scripts through code snippets. It kind of works as you can see on www.geldmetai.nl Here are some screenshots to my exact settings: https://imgur.com/a/9AVkwUz I have activated all snippets and set auto insert to the site wide body. \n\nI have also tried to copy and insert the codes you provided, but I think that I messed that up, only the cursor&#39;s appearance changed.\n\nI was wondering if you know how I could make it run on my website, instead of the current canvas.","body":"Hey thanks for the help the other day. Ive since worked on the site myself and added the scripts through code snippets. It kind of works as you can see on www.geldmetai.nl Here are some screenshots to my exact settings: <a href=\"https://imgur.com/a/9AVkwUz\" rel=\"nofollow noreferrer\">imgur.com/a/9AVkwUz</a> I have activated all snippets and set auto insert to the site wide body.   I have also tried to copy and insert the codes you provided, but I think that I messed that up, only the cursor&#39;s appearance changed.  I was wondering if you know how I could make it run on my website, instead of the current canvas."}],"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679237652,"creation_date":1679237652,"answer_id":75782850,"question_id":75782151,"body_markdown":"replacing the top of the provided script with this\r\n\r\n    let canvasParent = document.querySelector(&#39;#home &gt; div.elementor-background-overlay&#39;);\r\n    let canvas1 = document.createElement(&#39;canvas&#39;);\r\n    canvasParent.append(canvas1)\r\n\r\n    canvas1.width = canvasParent.clientWidth\r\n    canvas1.height = canvasParent.clientHeight\r\n\r\n    const canvas = canvas1//document.getElementsByTagName(&#39;canvas&#39;)[0];\r\n\r\nseems to produce the needed result:\r\n\r\n[![screenshot showing output][1]][1]\r\n\r\n\r\nI did this by overriding some scripts in the Chrome Developer Tools console:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nadding this in the index.html file:\r\n\r\n```html\r\n&lt;!doctype html&gt;\r\n&lt;html lang=&quot;en-US&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n\t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n\t&lt;link rel=&quot;profile&quot; href=&quot;https://gmpg.org/xfn/11&quot;&gt;\r\n\r\n\t&lt;title&gt;geldmetai.nl&lt;/title&gt;\r\n&lt;meta name=&#39;robots&#39; content=&#39;max-image-preview:large&#39; /&gt;\r\n\r\n\t&lt;!-- added these dependencies to the program --&gt;\r\n\t&lt;script src=&#39;https://geldmetai.nl/script.js&#39;&gt;&lt;/script&gt;\r\n\t&lt;script src=&#39;https://geldmetai.nl/dat.gui.min.js&#39;&gt;&lt;/script&gt;\r\n&lt;!-- ... ---&gt;\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/1HjDW.jpg\r\n  [2]: https://i.stack.imgur.com/okTNc.png\r\n\r\nI also removed all the sidebars and &quot;gui&quot; for controlling parameters to the WebGL routines. also since the script is at the top, you must wait for DOMContentLoaded event:\r\n\r\n```javascript\r\nwindow.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\r\n    // Simulation section\r\n\r\n    let canvasParent = document.querySelector(&#39;#home &gt; div.elementor-background-overlay&#39;);\r\n    let canvas1 = document.createElement(&#39;canvas&#39;);\r\n    canvasParent.append(canvas1)\r\n\r\n    canvas1.width = canvasParent.clientWidth\r\n    canvas1.height = canvasParent.clientHeight\r\n\r\n    const canvas = canvas1//document.getElementsByTagName(&#39;canvas&#39;)[0];\r\n    // ...\r\n```","title":"Assistance with adding custom cursor effect to website","body":"<p>replacing the top of the provided script with this</p>\n<pre><code>let canvasParent = document.querySelector('#home &gt; div.elementor-background-overlay');\nlet canvas1 = document.createElement('canvas');\ncanvasParent.append(canvas1)\n\ncanvas1.width = canvasParent.clientWidth\ncanvas1.height = canvasParent.clientHeight\n\nconst canvas = canvas1//document.getElementsByTagName('canvas')[0];\n</code></pre>\n<p>seems to produce the needed result:</p>\n<p><a href=\"https://i.stack.imgur.com/1HjDW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HjDW.jpg\" alt=\"screenshot showing output\" /></a></p>\n<p>I did this by overriding some scripts in the Chrome Developer Tools console:</p>\n<p><a href=\"https://i.stack.imgur.com/okTNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okTNc.png\" alt=\"enter image description here\" /></a></p>\n<p>adding this in the index.html file:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en-US&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;link rel=&quot;profile&quot; href=&quot;https://gmpg.org/xfn/11&quot;&gt;\n\n    &lt;title&gt;geldmetai.nl&lt;/title&gt;\n&lt;meta name='robots' content='max-image-preview:large' /&gt;\n\n    &lt;!-- added these dependencies to the program --&gt;\n    &lt;script src='https://geldmetai.nl/script.js'&gt;&lt;/script&gt;\n    &lt;script src='https://geldmetai.nl/dat.gui.min.js'&gt;&lt;/script&gt;\n&lt;!-- ... ---&gt;\n</code></pre>\n<p>I also removed all the sidebars and &quot;gui&quot; for controlling parameters to the WebGL routines. also since the script is at the top, you must wait for DOMContentLoaded event:</p>\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {\n    // Simulation section\n\n    let canvasParent = document.querySelector('#home &gt; div.elementor-background-overlay');\n    let canvas1 = document.createElement('canvas');\n    canvasParent.append(canvas1)\n\n    canvas1.width = canvasParent.clientWidth\n    canvas1.height = canvasParent.clientHeight\n\n    const canvas = canvas1//document.getElementsByTagName('canvas')[0];\n    // ...\n</code></pre>\n"}],"owner":{"account_id":26905697,"reputation":1,"user_id":20482068,"display_name":"T. VOS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679237652,"creation_date":1679230779,"question_id":75782151,"body_markdown":"I&#39;ll try to keep it short. We are working on a website (link below) and want to add a custom cursor effect we found (see the link below). We are making the website with the free element or version and a theme called &#39;Vault&#39;. \r\n\r\nSadly we don&#39;t have much coding experience, even though we have tried to install this with help from various tutorials, articles, etc. it doesn&#39;t seem to work. It would be great if anyone could further assist us with how we could install this. \r\n\r\nLink to website: https://geldmetai.nl/\r\nLink to cursor effect: https://paveldogreat.github.io/WebGL-Fluid-Simulation/\r\n\r\nCursor code is made up of 88.5% Java and 11.5% HTML.\r\n\r\nKind regards,\r\nThijs \r\n\r\n\r\nTried to the theme&#39;s build-in function to upload custom JAVA code, but didn&#39;t see anything for HTML, so that naturally didn&#39;t work out. \r\n\r\nTried to use a HTML widget and added the JS. \r\n\r\nTried some other stuff from video&#39;s and articles, but sadly to no avail. ","title":"Assistance with adding custom cursor effect to website","body":"<p>I'll try to keep it short. We are working on a website (link below) and want to add a custom cursor effect we found (see the link below). We are making the website with the free element or version and a theme called 'Vault'.</p>\n<p>Sadly we don't have much coding experience, even though we have tried to install this with help from various tutorials, articles, etc. it doesn't seem to work. It would be great if anyone could further assist us with how we could install this.</p>\n<p>Link to website: <a href=\"https://geldmetai.nl/\" rel=\"nofollow noreferrer\">https://geldmetai.nl/</a>\nLink to cursor effect: <a href=\"https://paveldogreat.github.io/WebGL-Fluid-Simulation/\" rel=\"nofollow noreferrer\">https://paveldogreat.github.io/WebGL-Fluid-Simulation/</a></p>\n<p>Cursor code is made up of 88.5% Java and 11.5% HTML.</p>\n<p>Kind regards,\nThijs</p>\n<p>Tried to the theme's build-in function to upload custom JAVA code, but didn't see anything for HTML, so that naturally didn't work out.</p>\n<p>Tried to use a HTML widget and added the JS.</p>\n<p>Tried some other stuff from video's and articles, but sadly to no avail.</p>\n"},{"tags":["java","eclipse","maven","pom.xml","war"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1679238987,"post_id":75782819,"comment_id":133681644,"body_markdown":"What did you mean by _&quot;loading the project into the Eclipse IDE&quot;_? Did you use _File &gt; Open Projects from File System..._ or did you choose another way? Did you import all three as separate projects into Eclipse?","body":"What did you mean by <i>&quot;loading the project into the Eclipse IDE&quot;</i>? Did you use <i>File &gt; Open Projects from File System...</i> or did you choose another way? Did you import all three as separate projects into Eclipse?"},{"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"score":0,"creation_date":1679243424,"post_id":75782819,"comment_id":133682428,"body_markdown":"Sorry for not explaining more clearly. I used File &gt; Open Projects from File System. I imported them all as a single project.","body":"Sorry for not explaining more clearly. I used File &gt; Open Projects from File System. I imported them all as a single project."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679296316,"post_id":75782819,"comment_id":133689132,"body_markdown":"A single project will not work for multiple Maven modules. If `module_A` and `module_B` are Java applications or frameworks, the have to be separate projects in Eclipse, each with its own Java Build Path.","body":"A single project will not work for multiple Maven modules. If <code>module_A</code> and <code>module_B</code> are Java applications or frameworks, the have to be separate projects in Eclipse, each with its own Java Build Path."},{"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"score":0,"creation_date":1679362599,"post_id":75782819,"comment_id":133704875,"body_markdown":"Thank you for the advice. I was able to get the project running by adding `module_A.jar` to the `module_B` Java Build Path via the User Library. I had to also make some other modifications but eventually things ended up working out. Thanks again!","body":"Thank you for the advice. I was able to get the project running by adding <code>module_A.jar</code> to the <code>module_B</code> Java Build Path via the User Library. I had to also make some other modifications but eventually things ended up working out. Thanks again!"}],"owner":{"account_id":22060856,"reputation":49,"user_id":16541515,"display_name":"shaneB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679237474,"creation_date":1679237474,"question_id":75782819,"body_markdown":"I have inherited a maven project that has the following structure:\r\n\r\n```\r\n-parent\r\n-module_A\r\n-module_B\r\n```\r\nhere is a piece of the pom.xml of the parent as well:\r\n\r\n```\r\n\t&lt;modules&gt;\r\n\t\t&lt;module&gt;../module_A&lt;/module&gt;\r\n\t\t&lt;module&gt;../module_B&lt;/module&gt;\r\n\t&lt;/modules&gt;\r\n```\r\n\r\nmodule_A and B also have their own pom.xml files. All three have many dependencies. One of the dependencies for module_B, is module_A. \r\n\r\nCurrently I am able to build the project by changing my directory to the parent, and running `mvn clean install`. This causes the parent to build the two module&#39;s JAR files, and then produces a WAR file in module_B. The project is then manually deployed on a local Apache Tomcat server.\r\n\r\nThe problem I am having, is I primarily am making changes in module_B, and everytime I make a change and want to see it, I need to rebuild the entire project from the parent as described above, and it takes about 10 minutes. This is not sustainable, and I have been trying to figure out a way to hot reload the application as I make changes. \r\n\r\nWhat I have tried so far, is loading the project into the Eclipse IDE, adding the correct server, and then right-clicking module_B and selecting the option to run it on the server. However this simply returns a message `the selection cannot be run on any server`. I know this isn&#39;t a server config issue because I can start the empty server and it runs without a problem.\r\n\r\nI don&#39;t know what else to try. I am sure there is a solution to this, there is no way people have developed this large application I am working on by waiting 10 minutes every time they wanted to log something to the console. Thank you for any help you can offer.","title":"How to hot reload a Maven project with multiple modules","body":"<p>I have inherited a maven project that has the following structure:</p>\n<pre><code>-parent\n-module_A\n-module_B\n</code></pre>\n<p>here is a piece of the pom.xml of the parent as well:</p>\n<pre><code>    &lt;modules&gt;\n        &lt;module&gt;../module_A&lt;/module&gt;\n        &lt;module&gt;../module_B&lt;/module&gt;\n    &lt;/modules&gt;\n</code></pre>\n<p>module_A and B also have their own pom.xml files. All three have many dependencies. One of the dependencies for module_B, is module_A.</p>\n<p>Currently I am able to build the project by changing my directory to the parent, and running <code>mvn clean install</code>. This causes the parent to build the two module's JAR files, and then produces a WAR file in module_B. The project is then manually deployed on a local Apache Tomcat server.</p>\n<p>The problem I am having, is I primarily am making changes in module_B, and everytime I make a change and want to see it, I need to rebuild the entire project from the parent as described above, and it takes about 10 minutes. This is not sustainable, and I have been trying to figure out a way to hot reload the application as I make changes.</p>\n<p>What I have tried so far, is loading the project into the Eclipse IDE, adding the correct server, and then right-clicking module_B and selecting the option to run it on the server. However this simply returns a message <code>the selection cannot be run on any server</code>. I know this isn't a server config issue because I can start the empty server and it runs without a problem.</p>\n<p>I don't know what else to try. I am sure there is a solution to this, there is no way people have developed this large application I am working on by waiting 10 minutes every time they wanted to log something to the console. Thank you for any help you can offer.</p>\n"},{"tags":["java","javafx","fxml"],"answers":[{"comments":[{"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"score":0,"creation_date":1546799068,"post_id":26187867,"comment_id":94962299,"body_markdown":"Perfect solution but god that thing is ugly.","body":"Perfect solution but god that thing is ugly."},{"owner":{"account_id":16848145,"reputation":227,"user_id":12181863,"display_name":"YHStan"},"score":1,"creation_date":1623320070,"post_id":26187867,"comment_id":120048136,"body_markdown":"Is there a way to allow the checkcombobox to take in user inputs like a combobox? This would be helpful when there are many many options in the checkcombobox","body":"Is there a way to allow the checkcombobox to take in user inputs like a combobox? This would be helpful when there are many many options in the checkcombobox"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1623695021,"post_id":26187867,"comment_id":120146749,"body_markdown":"@YHStan  Please ask your question as a new question.","body":"@YHStan  Please ask your question as a new question."},{"owner":{"account_id":7427874,"reputation":374,"user_id":5649810,"display_name":"lubrum"},"score":0,"creation_date":1647958154,"post_id":26187867,"comment_id":126498244,"body_markdown":"getSelectedItems method does not exist. Shouldn&#39;t be &#39;getCheckedItems&#39; method? Also, the first link is broken.","body":"getSelectedItems method does not exist. Shouldn&#39;t be &#39;getCheckedItems&#39; method? Also, the first link is broken."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":4,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1412377483,"creation_date":1412377096,"answer_id":26187867,"question_id":26186572,"body_markdown":"You could try an [ControlsFX CheckComboBox][1] ([ControlsFX][2] is a 3rd party controls library for JavaFX).\r\n\r\n![checkcombobox][3]\r\n\r\nJust copied from the CheckComboBox javadoc:\r\n\r\n&gt; A simple UI control that makes it possible to select zero or more items within a ComboBox-like control. Each row item shows a CheckBox, and the state of each row can be queried via the check model. \r\n&gt; \r\n&gt;      // create the data to show in the CheckComboBox \r\n&gt;      final ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\r\n&gt;      for (int i = 0; i &lt;= 100; i++) {\r\n&gt;          strings.add(&quot;Item &quot; + i);\r\n&gt;      }\r\n&gt;      \r\n&gt;      // Create the CheckComboBox with the data \r\n&gt;      final CheckComboBox&lt;String&gt; checkComboBox = new CheckComboBox&lt;String&gt;(strings);\r\n&gt;      \r\n&gt;      // and listen to the relevant events (e.g. when the selected indices or \r\n&gt;      // selected items change).\r\n&gt;      checkComboBox.getCheckModel().getSelectedItems().addListener(new ListChangeListener&lt;String&gt;() {\r\n&gt;          public void onChanged(ListChangeListener.Change&lt;? extends String&gt; c) {\r\n&gt;              System.out.println(checkComboBox.getCheckModel().getSelectedItems());\r\n&gt;          }\r\n&gt;      });\r\n&gt;      }\r\n\r\nNote: the [JavaFX controls developer lead comments][4] on the in-built combobox control for JavaFX:\r\n\r\n&gt; you can put whatever selection model instance you want into ComboBox, but only single selection will ever be supported. We did this as multiple selection didn&#39;t really make sense without drastic changes to the UI and UX, and we figured a separate control could be developed in the future to better support this use case\r\n\r\nThe CheckComboBox control from ControlsFX is that seperate control.\r\n\r\n  [1]: http://controlsfx.bitbucket.org/org/controlsfx/control/CheckComboBox.html\r\n  [2]: http://fxexperience.com/controlsfx/\r\n  [3]: http://i.stack.imgur.com/6ccMc.png\r\n  [4]: https://community.oracle.com/thread/2389275","title":"Selecting multiple items from combobox","body":"<p>You could try an <a href=\"http://controlsfx.bitbucket.org/org/controlsfx/control/CheckComboBox.html\">ControlsFX CheckComboBox</a> (<a href=\"http://fxexperience.com/controlsfx/\">ControlsFX</a> is a 3rd party controls library for JavaFX).</p>\n\n<p><img src=\"https://i.stack.imgur.com/6ccMc.png\" alt=\"checkcombobox\"></p>\n\n<p>Just copied from the CheckComboBox javadoc:</p>\n\n<blockquote>\n  <p>A simple UI control that makes it possible to select zero or more items within a ComboBox-like control. Each row item shows a CheckBox, and the state of each row can be queried via the check model. </p>\n\n<pre><code> // create the data to show in the CheckComboBox \n final ObservableList&lt;String&gt; strings = FXCollections.observableArrayList();\n for (int i = 0; i &lt;= 100; i++) {\n     strings.add(\"Item \" + i);\n }\n\n // Create the CheckComboBox with the data \n final CheckComboBox&lt;String&gt; checkComboBox = new CheckComboBox&lt;String&gt;(strings);\n\n // and listen to the relevant events (e.g. when the selected indices or \n // selected items change).\n checkComboBox.getCheckModel().getSelectedItems().addListener(new ListChangeListener&lt;String&gt;() {\n     public void onChanged(ListChangeListener.Change&lt;? extends String&gt; c) {\n         System.out.println(checkComboBox.getCheckModel().getSelectedItems());\n     }\n });\n }\n</code></pre>\n</blockquote>\n\n<p>Note: the <a href=\"https://community.oracle.com/thread/2389275\">JavaFX controls developer lead comments</a> on the in-built combobox control for JavaFX:</p>\n\n<blockquote>\n  <p>you can put whatever selection model instance you want into ComboBox, but only single selection will ever be supported. We did this as multiple selection didn't really make sense without drastic changes to the UI and UX, and we figured a separate control could be developed in the future to better support this use case</p>\n</blockquote>\n\n<p>The CheckComboBox control from ControlsFX is that seperate control.</p>\n"},{"comments":[{"owner":{"account_id":348041,"reputation":48805,"user_id":682495,"accept_rate":77,"display_name":"Uluk Biy"},"score":0,"creation_date":1438163470,"post_id":31695376,"comment_id":51333616,"body_markdown":"Combobox and Menubutton are different controls. The OP wanted a Combobox.","body":"Combobox and Menubutton are different controls. The OP wanted a Combobox."},{"owner":{"account_id":23803,"reputation":1013,"user_id":59943,"accept_rate":55,"display_name":"Yngve Sneen Lindal"},"score":3,"creation_date":1456482435,"post_id":31695376,"comment_id":58978671,"body_markdown":"Yes, but it is anyways a constructive answer. I preferred this solution.","body":"Yes, but it is anyways a constructive answer. I preferred this solution."},{"owner":{"account_id":436877,"reputation":617,"user_id":824276,"accept_rate":67,"display_name":"user824276"},"score":0,"creation_date":1502475532,"post_id":31695376,"comment_id":78242539,"body_markdown":"It is also possible to replace a combination of {CheckBox, CustomMenuItem} with a single {CheckMenuItem}. An example of the code is at [javawiki.sowas.com](http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection). Also, it is possible to add a listener to automatically rename the MenuButton based on the list of selected items. For example with String.join().","body":"It is also possible to replace a combination of {CheckBox, CustomMenuItem} with a single {CheckMenuItem}. An example of the code is at <a href=\"http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection\" rel=\"nofollow noreferrer\">javawiki.sowas.com</a>. Also, it is possible to add a listener to automatically rename the MenuButton based on the list of selected items. For example with String.join()."},{"owner":{"account_id":7762699,"reputation":847,"user_id":5874935,"accept_rate":52,"display_name":"Travis Tubbs"},"score":0,"creation_date":1536094200,"post_id":31695376,"comment_id":91298520,"body_markdown":"I really like this answer. I have been trying all day to corporate this answer into a tableview with little success. Can it be done easily?","body":"I really like this answer. I have been trying all day to corporate this answer into a tableview with little success. Can it be done easily?"}],"tags":[],"owner":{"account_id":3635562,"reputation":111,"user_id":3030762,"display_name":"erolmuhammet.cs"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1438159087,"creation_date":1438159087,"answer_id":31695376,"question_id":26186572,"body_markdown":"\r\nI need something similar and this solved my problem.\r\n        \r\n    @FXML\r\n    public MenuButton menuButton;  \r\n    ......  \r\n    CheckBox cb0 = new CheckBox(&quot;x&quot;);  \r\n    CustomMenuItem item0 = new CustomMenuItem(cb0);  \r\n    CheckBox cb1 = new CheckBox(&quot;y&quot;);  \r\n    CustomMenuItem item1 = new CustomMenuItem(cb1);  \r\n    item0.setHideOnClick(false);  \r\n    item1.setHideOnClick(false);  \r\n    menuButton.getItems().setAll(item0,item1);\r\n\r\n\r\n","title":"Selecting multiple items from combobox","body":"<p>I need something similar and this solved my problem.</p>\n\n<pre><code>@FXML\npublic MenuButton menuButton;  \n......  \nCheckBox cb0 = new CheckBox(\"x\");  \nCustomMenuItem item0 = new CustomMenuItem(cb0);  \nCheckBox cb1 = new CheckBox(\"y\");  \nCustomMenuItem item1 = new CustomMenuItem(cb1);  \nitem0.setHideOnClick(false);  \nitem1.setHideOnClick(false);  \nmenuButton.getItems().setAll(item0,item1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19191572,"reputation":93,"user_id":14021197,"display_name":"Daric"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607777978,"creation_date":1607777978,"answer_id":65265204,"question_id":26186572,"body_markdown":"I know this is an old post, but here is just a minimalist working solution as described by @user82426 comment with the &#39;joining&#39; part suggested. This was built using, as mentioned, [http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection][1].\r\n\r\nAs stated it&#39;s not a COMBOBOX, but a MENUBUTTON... Nevertheless it does fill the needs I was looking for better than a COMBOBOX, so I thought it could help other ;-)...\r\n\r\nHere it is : \r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.CheckMenuItem;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.MenuButton;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class MultiSelectionComboDemo extends Application {\r\n    \tfinal ListView&lt;String&gt; selectedItems = new ListView&lt;&gt;();\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tfinal String sMenuTextStart = &quot;Fruit : &quot;;\r\n    \t\tfinal String sMenuTextEmpty = &quot;[empty]&quot;;\r\n    \t\tfinal MenuButton\t\t\tchoices\t= new MenuButton(sMenuTextStart+sMenuTextEmpty);\r\n    \t\tfinal List&lt;CheckMenuItem&gt;\titems\t= Arrays.asList(new CheckMenuItem(&quot;Apple&quot;), new CheckMenuItem(&quot;Banana&quot;), new CheckMenuItem(&quot;Pear&quot;), new CheckMenuItem(&quot;Kiwi&quot;));\r\n    \t\tchoices.getItems().addAll(items);\r\n    \t\t\r\n    \t\tfor (final CheckMenuItem item : items) {\r\n    \t\t\titem.selectedProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n    \t\t\t\tif (newValue) {\r\n    \t\t\t\t\tselectedItems.getItems().add(item.getText());\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tselectedItems.getItems().remove(item.getText());\r\n    \t\t\t\t}\r\n    \t\t\t\tString sMenuText = sMenuTextStart + (selectedItems.getItems().size()&gt;0?&quot;&quot;:sMenuTextEmpty);\r\n    \t\t\t\tchoices.setText(sMenuText+String.join(&quot;, &quot;, selectedItems.getItems()));\r\n    \t\t\t});\r\n    \t\t}\r\n    \t\t\r\n    \t\tBorderPane borderPane = new BorderPane();\r\n    \t\tborderPane.setTop(choices);\r\n    \t\tborderPane.setCenter(selectedItems);\r\n    \t\tprimaryStage.setScene(new Scene(borderPane, 400, 300));\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection","title":"Selecting multiple items from combobox","body":"<p>I know this is an old post, but here is just a minimalist working solution as described by @user82426 comment with the 'joining' part suggested. This was built using, as mentioned, <a href=\"http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection\" rel=\"nofollow noreferrer\">http://javawiki.sowas.com/doku.php?id=javafx:combobox-multi-selection</a>.</p>\n<p>As stated it's not a COMBOBOX, but a MENUBUTTON... Nevertheless it does fill the needs I was looking for better than a COMBOBOX, so I thought it could help other ;-)...</p>\n<p>Here it is :</p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.CheckMenuItem;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.MenuButton;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MultiSelectionComboDemo extends Application {\n    final ListView&lt;String&gt; selectedItems = new ListView&lt;&gt;();\n    \n    @Override\n    public void start(Stage primaryStage) {\n        final String sMenuTextStart = &quot;Fruit : &quot;;\n        final String sMenuTextEmpty = &quot;[empty]&quot;;\n        final MenuButton            choices = new MenuButton(sMenuTextStart+sMenuTextEmpty);\n        final List&lt;CheckMenuItem&gt;   items   = Arrays.asList(new CheckMenuItem(&quot;Apple&quot;), new CheckMenuItem(&quot;Banana&quot;), new CheckMenuItem(&quot;Pear&quot;), new CheckMenuItem(&quot;Kiwi&quot;));\n        choices.getItems().addAll(items);\n        \n        for (final CheckMenuItem item : items) {\n            item.selectedProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n                if (newValue) {\n                    selectedItems.getItems().add(item.getText());\n                } else {\n                    selectedItems.getItems().remove(item.getText());\n                }\n                String sMenuText = sMenuTextStart + (selectedItems.getItems().size()&gt;0?&quot;&quot;:sMenuTextEmpty);\n                choices.setText(sMenuText+String.join(&quot;, &quot;, selectedItems.getItems()));\n            });\n        }\n        \n        BorderPane borderPane = new BorderPane();\n        borderPane.setTop(choices);\n        borderPane.setCenter(selectedItems);\n        primaryStage.setScene(new Scene(borderPane, 400, 300));\n        primaryStage.show();\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11000470,"reputation":169,"user_id":8081214,"display_name":"Younes Meridji"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679237244,"creation_date":1679237244,"answer_id":75782799,"question_id":26186572,"body_markdown":"If you take a look to the source code of ComboBox class, it says that &quot;A ComboBox  only supports single selection&quot;. So you need to make a your own combobox, or use a library, i recommend controlsFX. ","title":"Selecting multiple items from combobox","body":"<p>If you take a look to the source code of ComboBox class, it says that &quot;A ComboBox  only supports single selection&quot;. So you need to make a your own combobox, or use a library, i recommend controlsFX.</p>\n"}],"owner":{"account_id":4417256,"reputation":49,"user_id":3598440,"display_name":"Odum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26417,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1679237244,"creation_date":1412369128,"question_id":26186572,"body_markdown":"Pls i want to know how to change the selectionmodel of javafxml combobox so that it can allow multiple seletion. Any contribution will be appreciated thanks.","title":"Selecting multiple items from combobox","body":"<p>Pls i want to know how to change the selectionmodel of javafxml combobox so that it can allow multiple seletion. Any contribution will be appreciated thanks.</p>\n"},{"tags":["java","cucumber","rest-assured","allure"],"answers":[{"comments":[{"owner":{"account_id":2160182,"reputation":199,"user_id":1914510,"display_name":"Ali Taha"},"score":0,"creation_date":1668251898,"post_id":74404514,"comment_id":131363200,"body_markdown":"can you please add the depndencies versions","body":"can you please add the depndencies versions"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668254355,"post_id":74404514,"comment_id":131363705,"body_markdown":"updated my answer above","body":"updated my answer above"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668254344,"creation_date":1668179484,"answer_id":74404514,"question_id":74389824,"body_markdown":"In one of the projects I use the following depedencies and plugins and everything works good.\r\n\r\n```\r\n&lt;dependencies&gt;\r\n  &lt;!--Cucumber Dependencies--&gt;  \r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\n  &lt;!--Selenium Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n       &lt;version&gt;${selenium.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n \r\n  &lt;!--Cucumber TestNG Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n       &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n \r\n  &lt;!--Hamcrest Dependency--&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\r\n       &lt;version&gt;2.2&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n     \r\n  &lt;!--Allure Cucumber Dependency--&gt;   \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n         &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\r\n         &lt;version&gt;${allure.cucumber5.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n&lt;/dependencies&gt;\r\n```\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;   \r\n      &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt; \r\n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt; \r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n      \r\n     &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                 &lt;suiteXmlFiles&gt;\r\n                        &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\r\n                    &lt;/suiteXmlFiles&gt;\r\n                &lt;argLine&gt;\r\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                    -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\r\n                &lt;/argLine&gt;\r\n                         \r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;\r\n         \r\n         &lt;plugin&gt;\r\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n                &lt;version&gt;${allure.maven.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n      &lt;/plugins&gt;      \r\n   &lt;/build&gt;\r\n```\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\r\n    &lt;cucumber.version&gt;5.7.0&lt;/cucumber.version&gt;\r\n    &lt;testng.version&gt;7.4.0&lt;/testng.version&gt;\r\n    &lt;allure.cucumber5.version&gt;2.14.0&lt;/allure.cucumber5.version&gt;\r\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\r\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;aspectj.version&gt;1.9.6&lt;/aspectj.version&gt;\r\n    &lt;allure.maven.version&gt;2.10.0&lt;/allure.maven.version&gt;\r\n  &lt;/properties&gt;\r\n```","title":"Cucumber steps is not shown at allure report as expected","body":"<p>In one of the projects I use the following depedencies and plugins and everything works good.</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;!--Cucumber Dependencies--&gt;  \n    &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n  \n  &lt;!--Selenium Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n       &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n       &lt;version&gt;${selenium.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n \n  &lt;!--Cucumber TestNG Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n       &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n       &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n \n  &lt;!--Hamcrest Dependency--&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n       &lt;artifactId&gt;hamcrest&lt;/artifactId&gt;\n       &lt;version&gt;2.2&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n     \n  &lt;!--Allure Cucumber Dependency--&gt;   \n      &lt;dependency&gt;\n         &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n         &lt;artifactId&gt;allure-cucumber5-jvm&lt;/artifactId&gt;\n         &lt;version&gt;${allure.cucumber5.version}&lt;/version&gt;\n    &lt;/dependency&gt;  \n&lt;/dependencies&gt;\n</code></pre>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;   \n      &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${maven.compiler.source}&lt;/source&gt; \n                    &lt;target&gt;${maven.compiler.target}&lt;/target&gt; \n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n      \n     &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n             &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                 &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;argLine&gt;\n                    -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber5jvm.AllureCucumber5Jvm&quot;\n                &lt;/argLine&gt;\n                         \n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                    &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n         \n         &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;${allure.maven.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;${allure.version}&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n      &lt;/plugins&gt;      \n   &lt;/build&gt;\n</code></pre>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;selenium.version&gt;3.141.59&lt;/selenium.version&gt;\n    &lt;cucumber.version&gt;5.7.0&lt;/cucumber.version&gt;\n    &lt;testng.version&gt;7.4.0&lt;/testng.version&gt;\n    &lt;allure.cucumber5.version&gt;2.14.0&lt;/allure.cucumber5.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;maven.surefire.plugin.version&gt;3.0.0-M5&lt;/maven.surefire.plugin.version&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.6&lt;/aspectj.version&gt;\n    &lt;allure.maven.version&gt;2.10.0&lt;/allure.maven.version&gt;\n  &lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2160182,"reputation":199,"user_id":1914510,"display_name":"Ali Taha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679237231,"creation_date":1679237231,"answer_id":75782796,"question_id":74389824,"body_markdown":"I handle it by work arround, at steps definition class I added one allure Step annotation. so for example: \r\n\r\nif the step definition look like:\r\n\r\n    @When(&quot;User type user name {string}&quot;)\r\n    public void typeUserName(String userName) {\r\n    }\r\n\r\nnow it looks like this \r\n\r\n    @When(&quot;User type user name {string}&quot;)\r\n    @Step(&quot;When User type user name {userName}&quot;)\r\n    public void typeUserName(String userName) {\r\n    }\r\n\r\n\r\n\r\n","title":"Cucumber steps is not shown at allure report as expected","body":"<p>I handle it by work arround, at steps definition class I added one allure Step annotation. so for example:</p>\n<p>if the step definition look like:</p>\n<pre><code>@When(&quot;User type user name {string}&quot;)\npublic void typeUserName(String userName) {\n}\n</code></pre>\n<p>now it looks like this</p>\n<pre><code>@When(&quot;User type user name {string}&quot;)\n@Step(&quot;When User type user name {userName}&quot;)\npublic void typeUserName(String userName) {\n}\n</code></pre>\n"}],"owner":{"account_id":2160182,"reputation":199,"user_id":1914510,"display_name":"Ali Taha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679237231,"creation_date":1668086886,"question_id":74389824,"body_markdown":"all I&#39;m creating API tests using the following tools:\r\n\r\n 1. TestNG\r\n 2. Cucumber\r\n 3. Allure report\r\n 4. Rest assured\r\n\r\ntests execution can be done using testNG suites.\r\n\r\nafter the test is executed I&#39;m creating the allure report using the maven command \r\n\r\n    mvn allure:report\r\n\r\nbut the allure steps are not generated in the report as expected please see the following screen-shot \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nwhile my goal is to have this reporting structure:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nhere is test code example\r\n\r\n    @Test\r\n    @CucumberOptions (features=&quot;src/main/java/com/abc/tests/caseTest/caseTest.feature&quot;\r\n            ,glue={&quot;com.tests.caseTest&quot;}\r\n            ,plugin={&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;\r\n            , &quot;html:target/cucumber-html-reports&quot;\r\n            ,&quot;rerun:target/failed_scenarios.txt&quot;}\r\n    )\r\n    public class CaseTest extends AbstractTestNGCucumberTests {\r\n    \r\n    }\r\n\r\n-\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;rest-assured.version&gt;5.1.1&lt;/rest-assured.version&gt;\r\n        &lt;allure.testng.version&gt;2.19.0&lt;/allure.testng.version&gt;\r\n        &lt;allure.rest-assured.version&gt;2.19.0&lt;/allure.rest-assured.version&gt;\r\n        &lt;jackson.version&gt;2.12.3&lt;/jackson.version&gt;\r\n        &lt;json.version&gt;20210307&lt;/json.version&gt;\r\n        &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\r\n        &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\r\n        &lt;elasticsearch-client.version&gt;7.17.0&lt;/elasticsearch-client.version&gt;\r\n        &lt;maven-surefire-plugin-version&gt;3.0.0-M5&lt;/maven-surefire-plugin-version&gt;\r\n        &lt;cucumber.version&gt;7.9.0&lt;/cucumber.version&gt;\r\n        &lt;cucumber-testng.version&gt;7.9.0&lt;/cucumber-testng.version&gt;\r\n        &lt;allure-cucumber-jvm.version&gt;2.20.0&lt;/allure-cucumber-jvm.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;${rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n          &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n          &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure.rest-assured.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n          &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n          &lt;version&gt;7.0.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n          &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;${cucumber-testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-cucumber-jvm&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure-cucumber-jvm.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n          &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\r\n          &lt;version&gt;${allure.testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n          &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n          &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n          &lt;version&gt;${json.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.24&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n              &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;version&gt;2.10.0&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;plugin&gt; &lt;!-- This plugin is very important for Allure attachments and steps --&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;suiteXmlFiles&gt;\r\n                &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\r\n              &lt;/suiteXmlFiles&gt;\r\n              &lt;argLine&gt;\r\n                -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n                -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber4jvm.AllureCucumber4Jvm&quot;\r\n              &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;dependencies&gt;\r\n              &lt;dependency&gt;\r\n                &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n                &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n              &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n-\r\n\r\n\r\n    Feature: Case creation update and pemissions\r\n    \r\n    \r\n      Scenario: create new case from Search\r\n        Given User get list of ecomms\r\n        When User create case using 3 ecomms from the list\r\n        Then Response body should be valid with response code 200\r\n        And Case should include 3 ecomms taken from search api\r\n\r\n \r\n  [1]: https://i.stack.imgur.com/BebMA.png\r\n  [2]: https://i.stack.imgur.com/v9Zj3.png\r\n\r\n\r\n\r\n\r\n\r\n","title":"Cucumber steps is not shown at allure report as expected","body":"<p>all I'm creating API tests using the following tools:</p>\n<ol>\n<li>TestNG</li>\n<li>Cucumber</li>\n<li>Allure report</li>\n<li>Rest assured</li>\n</ol>\n<p>tests execution can be done using testNG suites.</p>\n<p>after the test is executed I'm creating the allure report using the maven command</p>\n<pre><code>mvn allure:report\n</code></pre>\n<p>but the allure steps are not generated in the report as expected please see the following screen-shot</p>\n<p><a href=\"https://i.stack.imgur.com/BebMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BebMA.png\" alt=\"enter image description here\" /></a></p>\n<p>while my goal is to have this reporting structure:</p>\n<p><a href=\"https://i.stack.imgur.com/v9Zj3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v9Zj3.png\" alt=\"enter image description here\" /></a></p>\n<p>here is test code example</p>\n<pre><code>@Test\n@CucumberOptions (features=&quot;src/main/java/com/abc/tests/caseTest/caseTest.feature&quot;\n        ,glue={&quot;com.tests.caseTest&quot;}\n        ,plugin={&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;\n        , &quot;html:target/cucumber-html-reports&quot;\n        ,&quot;rerun:target/failed_scenarios.txt&quot;}\n)\npublic class CaseTest extends AbstractTestNGCucumberTests {\n\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;rest-assured.version&gt;5.1.1&lt;/rest-assured.version&gt;\n    &lt;allure.testng.version&gt;2.19.0&lt;/allure.testng.version&gt;\n    &lt;allure.rest-assured.version&gt;2.19.0&lt;/allure.rest-assured.version&gt;\n    &lt;jackson.version&gt;2.12.3&lt;/jackson.version&gt;\n    &lt;json.version&gt;20210307&lt;/json.version&gt;\n    &lt;maven.compiler.plugin.version&gt;3.5.1&lt;/maven.compiler.plugin.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;aspectj.version&gt;1.9.7&lt;/aspectj.version&gt;\n    &lt;assertj-core.version&gt;3.23.1&lt;/assertj-core.version&gt;\n    &lt;elasticsearch-client.version&gt;7.17.0&lt;/elasticsearch-client.version&gt;\n    &lt;maven-surefire-plugin-version&gt;3.0.0-M5&lt;/maven-surefire-plugin-version&gt;\n    &lt;cucumber.version&gt;7.9.0&lt;/cucumber.version&gt;\n    &lt;cucumber-testng.version&gt;7.9.0&lt;/cucumber-testng.version&gt;\n    &lt;allure-cucumber-jvm.version&gt;2.20.0&lt;/allure-cucumber-jvm.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;${rest-assured.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n      &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n      &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-rest-assured&lt;/artifactId&gt;\n      &lt;version&gt;${allure.rest-assured.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.testng&lt;/groupId&gt;\n      &lt;artifactId&gt;testng&lt;/artifactId&gt;\n      &lt;version&gt;7.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.automatedowl&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-environment-writer&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n      &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n      &lt;version&gt;${cucumber-testng.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-cucumber-jvm&lt;/artifactId&gt;\n      &lt;version&gt;${allure-cucumber-jvm.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n      &lt;artifactId&gt;allure-testng&lt;/artifactId&gt;\n      &lt;version&gt;${allure.testng.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n      &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n      &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n      &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\n      &lt;version&gt;${json.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.24&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n        &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;buildDirectory&gt;${project.basedir}&lt;/buildDirectory&gt;\n        &lt;/configuration&gt;\n        &lt;version&gt;2.10.0&lt;/version&gt;\n      &lt;/plugin&gt;\n\n      &lt;plugin&gt; &lt;!-- This plugin is very important for Allure attachments and steps --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-surefire-plugin-version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;suiteXmlFiles&gt;\n            &lt;suiteXmlFile&gt;TestNG.xml&lt;/suiteXmlFile&gt;\n          &lt;/suiteXmlFiles&gt;\n          &lt;argLine&gt;\n            -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n            -Dcucumber.options=&quot;--plugin io.qameta.allure.cucumber4jvm.AllureCucumber4Jvm&quot;\n          &lt;/argLine&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<pre><code>Feature: Case creation update and pemissions\n\n\n  Scenario: create new case from Search\n    Given User get list of ecomms\n    When User create case using 3 ecomms from the list\n    Then Response body should be valid with response code 200\n    And Case should include 3 ecomms taken from search api\n</code></pre>\n"},{"tags":["java","spring-boot","configuration","wiremock","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518531428,"creation_date":1518531428,"answer_id":48768886,"question_id":48707625,"body_markdown":"The approach I use to programmatically change a property when starting a Spring Boot app, is to pass the custom value into the application main entry-point `String[]` args. This will have the effect of over-riding all other means such as System properties, YML or other config files.\r\n\r\nHere is an [example](https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentService.java#L81):\r\n\r\n    String[] args = new String[]{&quot;--my.prop=foo&quot;};\r\n    SpringApplication.run(Application.class, args);\r\n\r\nIt will be easy for you to expose a static method or custom API which starts the Spring Boot app (for testing) and with the value you want.\r\n\r\nAnd then, once you have the value of the wiremock port - things are easy.  Here is an example: [PaymentServiceContractTest.java](https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentServiceContractTest.java#L24)\r\n\r\nP.S. Karate (the open-source test examples I am using above) is a [new alternative to WireMock](https://hackernoon.com/api-consumer-contract-tests-and-test-doubles-with-karate-72c30ea25c18), do check it out ;)\r\n\r\n\r\n\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>The approach I use to programmatically change a property when starting a Spring Boot app, is to pass the custom value into the application main entry-point <code>String[]</code> args. This will have the effect of over-riding all other means such as System properties, YML or other config files.</p>\n\n<p>Here is an <a href=\"https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentService.java#L81\" rel=\"nofollow noreferrer\">example</a>:</p>\n\n<pre><code>String[] args = new String[]{\"--my.prop=foo\"};\nSpringApplication.run(Application.class, args);\n</code></pre>\n\n<p>It will be easy for you to expose a static method or custom API which starts the Spring Boot app (for testing) and with the value you want.</p>\n\n<p>And then, once you have the value of the wiremock port - things are easy.  Here is an example: <a href=\"https://github.com/intuit/karate/blob/master/karate-demo/src/test/java/mock/contract/PaymentServiceContractTest.java#L24\" rel=\"nofollow noreferrer\">PaymentServiceContractTest.java</a></p>\n\n<p>P.S. Karate (the open-source test examples I am using above) is a <a href=\"https://hackernoon.com/api-consumer-contract-tests-and-test-doubles-with-karate-72c30ea25c18\" rel=\"nofollow noreferrer\">new alternative to WireMock</a>, do check it out ;)</p>\n"},{"tags":[],"owner":{"account_id":5194400,"reputation":57,"user_id":4156231,"display_name":"redhunter"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1518534429,"creation_date":1518534429,"answer_id":48769833,"question_id":48707625,"body_markdown":"How are you reading `external.baseUrl`?\r\nIf you are using a `@Value` annotated property, you can use `ReflectionTestUtils` to set the port after you have setup the mock server.\r\n\r\n    ReflectionTestUtils.setField(yourTestClass, &quot;youPort&quot;,  wireMockServer.port());\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>How are you reading <code>external.baseUrl</code>?\nIf you are using a <code>@Value</code> annotated property, you can use <code>ReflectionTestUtils</code> to set the port after you have setup the mock server.</p>\n\n<pre><code>ReflectionTestUtils.setField(yourTestClass, \"youPort\",  wireMockServer.port());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"score":0,"creation_date":1547822160,"post_id":48859553,"comment_id":95336054,"body_markdown":"This is exactly what I was looking for! I knew that there should be a standard solution for such a common problem!","body":"This is exactly what I was looking for! I knew that there should be a standard solution for such a common problem!"}],"tags":[],"owner":{"account_id":318873,"reputation":196,"user_id":636309,"display_name":"Dagon"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1561279256,"creation_date":1519014624,"answer_id":48859553,"question_id":48707625,"body_markdown":"Consider using [Spring Cloud Contract Wiremock][1]\r\n\r\nThere is already a JUnit Rule builder which allows to specify `${wiremock.port}` to set random port in property/yaml files\r\n\r\nOr you can use `WireMockRestServiceServer` to bind WireMock to your `RestTemplate` so you don&#39;t even need to override URLs in your tests.\r\n \r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-contract/spring-cloud-contract.html#_spring_cloud_contract_wiremock","title":"Set property with wiremock random port in spring boot test","body":"<p>Consider using <a href=\"https://cloud.spring.io/spring-cloud-contract/spring-cloud-contract.html#_spring_cloud_contract_wiremock\" rel=\"noreferrer\">Spring Cloud Contract Wiremock</a></p>\n\n<p>There is already a JUnit Rule builder which allows to specify <code>${wiremock.port}</code> to set random port in property/yaml files</p>\n\n<p>Or you can use <code>WireMockRestServiceServer</code> to bind WireMock to your <code>RestTemplate</code> so you don't even need to override URLs in your tests.</p>\n"},{"tags":[],"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1519043904,"creation_date":1519043061,"answer_id":48866181,"question_id":48707625,"body_markdown":"I could not find a way to override properties in a Spring Boot integration test, since the test is run only after the application is created and all the beans already configured.\r\n\r\nAs a work around I added a `@TestConfiguration` to the test to replace the beans in the application:\r\n\r\n    private static WireMockServer wireMockServer1 = getWireMockServer();\r\n    private static WireMockServer wireMockServer2 = getWireMockServer();\r\n    private static WireMockServer wireMockServer3 = getWireMockServer();\r\n\r\n    private static WireMockServer getWireMockServer() {\r\n        final WireMockServer wireMockServer = new WireMockServer(options().dynamicPort());\r\n        wireMockServer.start();\r\n        return wireMockServer;\r\n    }\r\n\r\n    @TestConfiguration\r\n    static class TestConfig {\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty1 getBean1() {\r\n            BeanUsingAProperty myBean = new BeanUsingAProperty();\r\n            myBean.setPort(wireMockServer.port());\r\n            return myBean;\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty2 getBean2() {\r\n            String baseUrl = &quot;http://localhost:&quot; + wireMockServer2.port();\r\n            return new BeanUsingAProperty2(baseUrl);\r\n        }\r\n\r\n        @Bean\r\n        @Primary\r\n        public BeanUsingAProperty3 getBean3() {\r\n            String baseUrl = &quot;http://localhost:&quot; + wireMockServer3.port() + &quot;/request&quot;;\r\n            return new BeanUsingAProperty3(new RestTemplate(), baseUrl, &quot;someOtherParameter&quot;);\r\n        }\r\n    }\r\n\r\nThis effectively replaced the `BeanUsingAProperty` with the one defined in the test so that it has the correct port number for Wiremock.\r\n\r\nFor this configuration to be picked up I had to add this class in the test annotation\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = {\r\n        MySpringBootApplication.class, MyIntegrationTest.TestConfig.class })\r\n\r\nNote that I use the non-static Wiremock API, since I have several such external services that each need to be mocked. Note that how the different beans are built is different depending on how each was designed.","title":"Set property with wiremock random port in spring boot test","body":"<p>I could not find a way to override properties in a Spring Boot integration test, since the test is run only after the application is created and all the beans already configured.</p>\n\n<p>As a work around I added a <code>@TestConfiguration</code> to the test to replace the beans in the application:</p>\n\n<pre><code>private static WireMockServer wireMockServer1 = getWireMockServer();\nprivate static WireMockServer wireMockServer2 = getWireMockServer();\nprivate static WireMockServer wireMockServer3 = getWireMockServer();\n\nprivate static WireMockServer getWireMockServer() {\n    final WireMockServer wireMockServer = new WireMockServer(options().dynamicPort());\n    wireMockServer.start();\n    return wireMockServer;\n}\n\n@TestConfiguration\nstatic class TestConfig {\n    @Bean\n    @Primary\n    public BeanUsingAProperty1 getBean1() {\n        BeanUsingAProperty myBean = new BeanUsingAProperty();\n        myBean.setPort(wireMockServer.port());\n        return myBean;\n    }\n\n    @Bean\n    @Primary\n    public BeanUsingAProperty2 getBean2() {\n        String baseUrl = \"http://localhost:\" + wireMockServer2.port();\n        return new BeanUsingAProperty2(baseUrl);\n    }\n\n    @Bean\n    @Primary\n    public BeanUsingAProperty3 getBean3() {\n        String baseUrl = \"http://localhost:\" + wireMockServer3.port() + \"/request\";\n        return new BeanUsingAProperty3(new RestTemplate(), baseUrl, \"someOtherParameter\");\n    }\n}\n</code></pre>\n\n<p>This effectively replaced the <code>BeanUsingAProperty</code> with the one defined in the test so that it has the correct port number for Wiremock.</p>\n\n<p>For this configuration to be picked up I had to add this class in the test annotation</p>\n\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = {\n    MySpringBootApplication.class, MyIntegrationTest.TestConfig.class })\n</code></pre>\n\n<p>Note that I use the non-static Wiremock API, since I have several such external services that each need to be mocked. Note that how the different beans are built is different depending on how each was designed.</p>\n"},{"comments":[{"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"score":3,"creation_date":1547715889,"post_id":54216987,"comment_id":95289473,"body_markdown":"This won&#39;t work if the `wiremock.server.port` is only defined at runtime.","body":"This won&#39;t work if the <code>wiremock.server.port</code> is only defined at runtime."},{"owner":{"account_id":4008593,"reputation":111,"user_id":3302637,"display_name":"user3302637"},"score":0,"creation_date":1547809868,"post_id":54216987,"comment_id":95329562,"body_markdown":"Will alter my answer to include a prerequisite","body":"Will alter my answer to include a prerequisite"}],"tags":[],"owner":{"account_id":4008593,"reputation":111,"user_id":3302637,"display_name":"user3302637"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1547809957,"creation_date":1547641270,"answer_id":54216987,"question_id":48707625,"body_markdown":"Use property substitution in your application.properties:\r\n\r\n`external.baseUrl=http://exampleUrl:${wiremock.server.port}`\r\n\r\nThis requires the `wiremock.server.port` property to be set before the SpringBootTest is initialised, which can be achieved by adding the `@AutoConfigureWireMock` annotation to your test class.","title":"Set property with wiremock random port in spring boot test","body":"<p>Use property substitution in your application.properties:</p>\n\n<p><code>external.baseUrl=http://exampleUrl:${wiremock.server.port}</code></p>\n\n<p>This requires the <code>wiremock.server.port</code> property to be set before the SpringBootTest is initialised, which can be achieved by adding the <code>@AutoConfigureWireMock</code> annotation to your test class.</p>\n"},{"comments":[{"owner":{"account_id":2740665,"reputation":336,"user_id":2362274,"display_name":"Onur Baskirt"},"score":0,"creation_date":1642152460,"post_id":56723916,"comment_id":125000089,"body_markdown":"Is there any way to create multiple wiremock instances when we are using @AutoConfigureWiremock annotation? I could not be successfully run tests in parallel with AutoConfigureWiremock annotation in JUnit 5 Spring-boot tests.","body":"Is there any way to create multiple wiremock instances when we are using @AutoConfigureWiremock annotation? I could not be successfully run tests in parallel with AutoConfigureWiremock annotation in JUnit 5 Spring-boot tests."},{"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"score":0,"creation_date":1647304243,"post_id":56723916,"comment_id":126333139,"body_markdown":"Is it possible to do this without `@SpringBootTest`? I&#39;m trying to write a unit test with just `@ExtendWith(SpringExtension.class)`","body":"Is it possible to do this without <code>@SpringBootTest</code>? I&#39;m trying to write a unit test with just <code>@ExtendWith(SpringExtension.class)</code>"}],"tags":[],"owner":{"account_id":118571,"reputation":47112,"user_id":309683,"accept_rate":68,"display_name":"Behrang Saeedzadeh"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1561293172,"creation_date":1561293172,"answer_id":56723916,"question_id":48707625,"body_markdown":"The property name mentioned in https://stackoverflow.com/a/48859553/309683 (i.e. `wiremock.port`) is not correct, at least since Spring Cloud Contract version `2.1.2.RELEASE`.\r\n\r\n### 1. Working example\r\n\r\n```java\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.test.context.junit4.SpringRunner;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.RANDOM_PORT;\r\n\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 0)\r\npublic class PortServiceTest {\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Test\r\n    public void shouldPopulateEnvironmentWithWiremockPort() {\r\n        assertThat(environment.containsProperty(&quot;wiremock.server.port&quot;)).isTrue();\r\n        assertThat(environment.getProperty(&quot;wiremock.server.port&quot;)).matches(&quot;\\\\d+&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\n### 2. Other WireMock properties\r\n\r\nOther than `wiremock.server.port`, `@AutoConfigureWireMock` populates the environment with some other properties too:\r\n\r\n1. `wiremock.server.https-port`\r\n2. `wiremock.server.stubs[]`\r\n3. `wiremock.server.files[]`\r\n\r\n### 3. Gradle dependencies\r\n\r\nTo use Spring Cloud Contract WireMock in a Gradle based project, add the following dependency to your project:\r\n\r\n    testImplementation &#39;org.springframework.cloud:spring-cloud-contract-wiremock:${version}&#39;\r\n\r\n### 4. Using in `application.yaml` files\r\n\r\nIf you configure your test `application.yaml` file like this:\r\n\r\n```yaml\r\nsample:\r\n  port: ${wiremock.server.port}\r\n```\r\n\r\nAnd define the following beans:\r\n\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;sample&quot;)\r\n@Data\r\npublic class PortProperties {\r\n    private Integer port;\r\n}\r\n\r\n@Service\r\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\r\npublic class PortService {\r\n    private final PortProperties config;\r\n\r\n    public Integer getPort() {\r\n        return config.getPort();\r\n    }\r\n}\r\n```\r\n\r\nYou can verify that `sample.port` is set to the randomly chosen wiremock port:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = RANDOM_PORT)\r\n@AutoConfigureWireMock(port = 0)\r\npublic class PortServiceTest {\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @Autowired\r\n    private PortService portService;\r\n\r\n    @Test\r\n    public void shouldReturnWireMockPort() {\r\n        assertThat(portService.getPort())\r\n                .isNotNull()\r\n                .isEqualTo(Integer.parseInt(environment.getProperty(&quot;wiremock.server.port&quot;)));\r\n    }\r\n}\r\n```","title":"Set property with wiremock random port in spring boot test","body":"<p>The property name mentioned in <a href=\"https://stackoverflow.com/a/48859553/309683\">https://stackoverflow.com/a/48859553/309683</a> (i.e. <code>wiremock.port</code>) is not correct, at least since Spring Cloud Contract version <code>2.1.2.RELEASE</code>.</p>\n\n<h3>1. Working example</h3>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cloud.contract.wiremock.AutoConfigureWireMock;\nimport org.springframework.core.env.Environment;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.springframework.boot.test.context.SpringBootTest.WebEnvironment.RANDOM_PORT;\n\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureWireMock(port = 0)\npublic class PortServiceTest {\n\n    @Autowired\n    private Environment environment;\n\n    @Test\n    public void shouldPopulateEnvironmentWithWiremockPort() {\n        assertThat(environment.containsProperty(\"wiremock.server.port\")).isTrue();\n        assertThat(environment.getProperty(\"wiremock.server.port\")).matches(\"\\\\d+\");\n    }\n\n}\n</code></pre>\n\n<h3>2. Other WireMock properties</h3>\n\n<p>Other than <code>wiremock.server.port</code>, <code>@AutoConfigureWireMock</code> populates the environment with some other properties too:</p>\n\n<ol>\n<li><code>wiremock.server.https-port</code></li>\n<li><code>wiremock.server.stubs[]</code></li>\n<li><code>wiremock.server.files[]</code></li>\n</ol>\n\n<h3>3. Gradle dependencies</h3>\n\n<p>To use Spring Cloud Contract WireMock in a Gradle based project, add the following dependency to your project:</p>\n\n<pre><code>testImplementation 'org.springframework.cloud:spring-cloud-contract-wiremock:${version}'\n</code></pre>\n\n<h3>4. Using in <code>application.yaml</code> files</h3>\n\n<p>If you configure your test <code>application.yaml</code> file like this:</p>\n\n<pre><code>sample:\n  port: ${wiremock.server.port}\n</code></pre>\n\n<p>And define the following beans:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = \"sample\")\n@Data\npublic class PortProperties {\n    private Integer port;\n}\n\n@Service\n@RequiredArgsConstructor(onConstructor = @__(@Autowired))\npublic class PortService {\n    private final PortProperties config;\n\n    public Integer getPort() {\n        return config.getPort();\n    }\n}\n</code></pre>\n\n<p>You can verify that <code>sample.port</code> is set to the randomly chosen wiremock port:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = RANDOM_PORT)\n@AutoConfigureWireMock(port = 0)\npublic class PortServiceTest {\n    @Autowired\n    private Environment environment;\n\n    @Autowired\n    private PortService portService;\n\n    @Test\n    public void shouldReturnWireMockPort() {\n        assertThat(portService.getPort())\n                .isNotNull()\n                .isEqualTo(Integer.parseInt(environment.getProperty(\"wiremock.server.port\")));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15663131,"reputation":71,"user_id":11301601,"display_name":"jiaoshang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674509226,"creation_date":1674509226,"answer_id":75215227,"question_id":48707625,"body_markdown":"When you use org.springframework.cloud:spring-cloud-contract-wiremock dependency, if you are a fan of annotation, you can just add `@AutoConfigureWireMock(port = Options.DYNAMIC_PORT)`\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<p>When you use org.springframework.cloud:spring-cloud-contract-wiremock dependency, if you are a fan of annotation, you can just add <code>@AutoConfigureWireMock(port = Options.DYNAMIC_PORT)</code></p>\n"},{"tags":[],"owner":{"account_id":1108575,"reputation":796,"user_id":1099452,"accept_rate":100,"display_name":"lucasvc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678105996,"creation_date":1678105996,"answer_id":75650900,"question_id":48707625,"body_markdown":"In my use case (not using `SpringBootTest` annotation but `SpringJUnitConfig`) the property `wiremock.server.port` is valued to `0`.\r\n\r\nInstead, using the SpEL `#{wireMockServer.port}` worked correctly.","title":"Set property with wiremock random port in spring boot test","body":"<p>In my use case (not using <code>SpringBootTest</code> annotation but <code>SpringJUnitConfig</code>) the property <code>wiremock.server.port</code> is valued to <code>0</code>.</p>\n<p>Instead, using the SpEL <code>#{wireMockServer.port}</code> worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679236802,"creation_date":1679236802,"answer_id":75782746,"question_id":48707625,"body_markdown":"    Thanks to brauls, refereeing to his repo, how feign client to make a request using wiremock, Junit 5 for testing with a random port\r\n    \r\n    Git url --&gt; https://github.com/brauls/spring-feign-wiremock-example\r\n    \r\n    Add below entry in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud-contract-wiremock.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    Add below entry in application-test.yaml\r\n\r\n    client:\r\n      endpoint: http://localhost:${wiremock.server.port}/\r\n    \r\n    Add below entry in all the junit classes\r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @AutoConfigureWireMock(port = 0)  \r\n    \r\n    \r\n    Add below method to mock the api respons in your junit classes where ever needed\r\n    \r\n    @BeforeEach\r\n    void setUp() throws IOException {\r\n         setupMockBooksResponse();\r\n    }\r\n    \r\n    private  String setupMockBooksResponse() throws IOException {\r\n        File mockResposeFile = ResourceUtils.getFile(&quot;classpath:&quot; + &quot;mocks/sample_stub.json&quot;);\r\n        String content = &quot;convert file content it into xml\\json&quot;;\r\n        ObjectMapper om = new ObjectMapper();\r\n        String jsonInString = om.writeValueAsString(&quot;yourpojocloass&quot;);\r\n        return stubFor(post(&quot;/api/v2/&quot;)\r\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\r\n                .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                .withRequestBody(WireMock.equalToJson(jsonInString))\r\n                .willReturn(WireMock.aResponse()\r\n                        .withStatus(HttpStatus.OK.value())\r\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                        .withBody(content))).toString();\r\n    }\r\n\r\n","title":"Set property with wiremock random port in spring boot test","body":"<pre><code>Thanks to brauls, refereeing to his repo, how feign client to make a request using wiremock, Junit 5 for testing with a random port\n\nGit url --&gt; https://github.com/brauls/spring-feign-wiremock-example\n\nAdd below entry in pom.xml\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-wiremock&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-contract-wiremock.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\nAdd below entry in application-test.yaml\n\nclient:\n  endpoint: http://localhost:${wiremock.server.port}/\n\nAdd below entry in all the junit classes\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(&quot;test&quot;)\n@AutoConfigureWireMock(port = 0)  \n\n\nAdd below method to mock the api respons in your junit classes where ever needed\n\n@BeforeEach\nvoid setUp() throws IOException {\n     setupMockBooksResponse();\n}\n\nprivate  String setupMockBooksResponse() throws IOException {\n    File mockResposeFile = ResourceUtils.getFile(&quot;classpath:&quot; + &quot;mocks/sample_stub.json&quot;);\n    String content = &quot;convert file content it into xml\\json&quot;;\n    ObjectMapper om = new ObjectMapper();\n    String jsonInString = om.writeValueAsString(&quot;yourpojocloass&quot;);\n    return stubFor(post(&quot;/api/v2/&quot;)\n            .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\n            .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\n            .withRequestBody(WireMock.equalToJson(jsonInString))\n            .willReturn(WireMock.aResponse()\n                    .withStatus(HttpStatus.OK.value())\n                    .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                    .withBody(content))).toString();\n}\n</code></pre>\n"}],"owner":{"account_id":279277,"reputation":2627,"user_id":574351,"accept_rate":78,"display_name":"Nicola Ambrosetti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44919,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":48859553,"answer_count":9,"score":21,"last_activity_date":1679236802,"creation_date":1518184949,"question_id":48707625,"body_markdown":"I have a Spring Boot test that uses wiremock to mock an external service. In order to avoid conflicts with parallel builds I don&#39;t want to set a fixed port number for wiremock and would like to rely on its dynamic port configuration.\r\n\r\nThe application uses a property (`external.baseUrl`) set in the application.yml (under src/test/resources). However I didn&#39;t find a way to programmatically override that. I&#39;ve tried something like this:\r\n\r\n        WireMockServer wireMockServer = new WireMockServer();\r\n        wireMockServer.start();\r\n        WireMock mockClient = new WireMock(&quot;localhost&quot;, wireMockServer.port());\r\n        System.setProperty(&quot;external.baseUrl&quot;, &quot;http://localhost:&quot; + wireMockServer.port());\r\n\r\nbut it didn&#39;t work and the value in application.yml was used instead. All other solutions that I&#39;ve looked at override the property with a static value (for example in some annotation), but I don&#39;t know the value of the wiremock port until the test is run.\n\n**Clarification:**\n\nBoth spring boot and wiremock run on random ports. *That&#39;s fine and I know how to get the value of both ports*. However wiremock is supposed to mock an external service and I need to tell my application how to reach it. I do this with the `external.baseUrl` property. The value I want to set in my test depends of course on the wiremock port number. **My problem is simply how to programmatically set a property in a spring boot test**.","title":"Set property with wiremock random port in spring boot test","body":"<p>I have a Spring Boot test that uses wiremock to mock an external service. In order to avoid conflicts with parallel builds I don't want to set a fixed port number for wiremock and would like to rely on its dynamic port configuration.</p>\n\n<p>The application uses a property (<code>external.baseUrl</code>) set in the application.yml (under src/test/resources). However I didn't find a way to programmatically override that. I've tried something like this:</p>\n\n<pre><code>    WireMockServer wireMockServer = new WireMockServer();\n    wireMockServer.start();\n    WireMock mockClient = new WireMock(\"localhost\", wireMockServer.port());\n    System.setProperty(\"external.baseUrl\", \"http://localhost:\" + wireMockServer.port());\n</code></pre>\n\n<p>but it didn't work and the value in application.yml was used instead. All other solutions that I've looked at override the property with a static value (for example in some annotation), but I don't know the value of the wiremock port until the test is run.</p>\n\n<p><strong>Clarification:</strong></p>\n\n<p>Both spring boot and wiremock run on random ports. <em>That's fine and I know how to get the value of both ports</em>. However wiremock is supposed to mock an external service and I need to tell my application how to reach it. I do this with the <code>external.baseUrl</code> property. The value I want to set in my test depends of course on the wiremock port number. <strong>My problem is simply how to programmatically set a property in a spring boot test</strong>.</p>\n"},{"tags":["java","loops","logic","nested-loops"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1421135480,"post_id":27917194,"comment_id":44232715,"body_markdown":"look at the code in doSomething. that should clear it up","body":"look at the code in doSomething. that should clear it up"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1421135524,"post_id":27917194,"comment_id":44232730,"body_markdown":"You are explicitly breaking out of it and back to the main loop at the end of the `if`...","body":"You are explicitly breaking out of it and back to the main loop at the end of the <code>if</code>..."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1421136827,"post_id":27917194,"comment_id":44233251,"body_markdown":"Can you show the code of `doSomething`?","body":"Can you show the code of <code>doSomething</code>?"}],"answers":[{"comments":[{"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"score":0,"creation_date":1421136284,"post_id":27917229,"comment_id":44233025,"body_markdown":"&#39;flag&#39; will be true only if j=913 and i=993 , this is the main issue that loop doesn&#39;t break at this point because j never comes to 913 but it randomly generates number. and &#39;break&#39; will break the main loop not only the inner loop.","body":"&#39;flag&#39; will be true only if j=913 and i=993 , this is the main issue that loop doesn&#39;t break at this point because j never comes to 913 but it randomly generates number. and &#39;break&#39; will break the main loop not only the inner loop."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1421140642,"post_id":27917229,"comment_id":44235061,"body_markdown":"@HappyDev i==995 comes before i==993, so (i==995,j==583) comes before (i==993,j==913).","body":"@HappyDev i==995 comes before i==993, so (i==995,j==583) comes before (i==993,j==913)."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1421138492,"creation_date":1421135449,"answer_id":27917229,"question_id":27917194,"body_markdown":"You have a condition in the inner loop - `if(flag)` - which, if true, breaks from that loop. That&#39;s the reason the inner loop doesn&#39;t complete. It doesn&#39;t run &quot;randomly&quot;. Its behavior depends on the result of the `doSomething(i*j)` method call.\r\n\r\nRunning your code with some additional debug prints and the implementation of `doSomething` you claim to have :\r\n\r\n      int product=0;\r\n      mainloop:\r\n      for(int i=999;i&gt;99;i--){\r\n        System.out.print (&quot;\\n&quot;+i+&quot;:&quot;);\r\n        for(int j=999;j&gt;99;j--){\r\n          System.out.print (j+&quot;,&quot;);\r\n          boolean flag= doSomething(i*j);\r\n          if(flag){\r\n            product=i*j;\r\n            System.out.println(&quot;\\nDigits are: &quot;+i+&quot; and &quot;+j);\r\n            break mainloop;\r\n          }\r\n        }\r\n      }\r\n\r\n      public static boolean doSomething(int k)\r\n      {\r\n          return k == 913*993;\r\n      }\r\n\r\ngives the expected output:\r\n\r\n    999:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    998:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    997:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    996:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    995:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    994:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\r\n    993:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,979,978,977,976,975,974,973,972,971,970,969,968,967,966,965,964,963,962,961,960,959,958,957,956,955,954,953,952,951,950,949,948,947,946,945,944,943,942,941,940,939,938,937,936,935,934,933,932,931,930,929,928,927,926,925,924,923,922,921,920,919,918,917,916,915,914,913,\r\n    Digits are: 993 and 913\r\n\r\n\r\nEDIT, `doSomething` you posted returns true when i==995 and j==583. That&#39;s when you break the loop.","title":"Nested loop not iterating properly","body":"<p>You have a condition in the inner loop - <code>if(flag)</code> - which, if true, breaks from that loop. That's the reason the inner loop doesn't complete. It doesn't run \"randomly\". Its behavior depends on the result of the <code>doSomething(i*j)</code> method call.</p>\n\n<p>Running your code with some additional debug prints and the implementation of <code>doSomething</code> you claim to have :</p>\n\n<pre><code>  int product=0;\n  mainloop:\n  for(int i=999;i&gt;99;i--){\n    System.out.print (\"\\n\"+i+\":\");\n    for(int j=999;j&gt;99;j--){\n      System.out.print (j+\",\");\n      boolean flag= doSomething(i*j);\n      if(flag){\n        product=i*j;\n        System.out.println(\"\\nDigits are: \"+i+\" and \"+j);\n        break mainloop;\n      }\n    }\n  }\n\n  public static boolean doSomething(int k)\n  {\n      return k == 913*993;\n  }\n</code></pre>\n\n<p>gives the expected output:</p>\n\n<pre><code>999:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n998:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n997:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n996:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n995:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n994:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,...,120,119,118,117,116,115,114,113,112,111,110,109,108,107,106,105,104,103,102,101,100,\n993:999,998,997,996,995,994,993,992,991,990,989,988,987,986,985,984,983,982,981,980,979,978,977,976,975,974,973,972,971,970,969,968,967,966,965,964,963,962,961,960,959,958,957,956,955,954,953,952,951,950,949,948,947,946,945,944,943,942,941,940,939,938,937,936,935,934,933,932,931,930,929,928,927,926,925,924,923,922,921,920,919,918,917,916,915,914,913,\nDigits are: 993 and 913\n</code></pre>\n\n<p>EDIT, <code>doSomething</code> you posted returns true when i==995 and j==583. That's when you break the loop.</p>\n"}],"owner":{"account_id":1705386,"reputation":5807,"user_id":1564528,"accept_rate":30,"display_name":"Just_another_developer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679236320,"creation_date":1421135303,"question_id":27917194,"body_markdown":"I have this piece of Code in which there are two loops &#39;i&#39; and &#39;j&#39;.\r\n\r\n&#39;j&#39; is the inner loop variable and it supposed to run 999 to 100 on single run of outer loop.\r\n\r\nbut it runs randomly like,\r\nsuppose i=999\r\n\r\n    j=912\r\n    j=911\r\n    j=910\r\n    j=909\r\n    j=908\r\n    j=907\r\n    j=906\r\n\r\nThen suddenly inner loop quits, decrements by 1 from outer loop and makes `i=998`\r\n\r\nthen start &#39;j&#39; loop\r\n\r\n    j=908\r\n    j=907\r\n    j=906\r\n    j=905\r\n    j=906\r\n    j=905\r\n    j=904\r\n    j=903\r\n    j=902\r\n\r\nthen quits inner loop ................\r\n      \r\n\t\tint product=0;\r\n\t\tmainloop:\r\n\t\tfor(int i=999;i&gt;99;i--){\r\n\t\t\tfor(int j=999;j&gt;99;j--){\r\n\t\t\t\tboolean flag= doSomething(i*j);\r\n\t\t\t\tif(flag){\r\n\t\t\t\t\tproduct=i*j;\r\n\t\t\t\t\tSystem.out.println(&quot;Digits are: &quot;+i+&quot; and &quot;+j);\r\n\t\t\t\t\tbreak mainloop;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n     public  boolean doSomething(int product){\r\n\t\t\tString original= Integer.toString(product),reverse=&quot;&quot;;\r\n\t\t\tint length = original.length();\r\n\t\t\tfor ( int i = length - 1; i &gt;= 0; i-- )\r\n\t\t\t\treverse = reverse + original.charAt(i);\r\n\t\t\treturn (original.equals(reverse));\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\r\n\r\nwhy is it happening? why inner loop doesnot complete cycle from 999 to 100? \r\n\r\n**EDIT:** To clear, &#39;flag&#39; will be true only if j=913 and i=993 , this is the main issue that loop doesn&#39;t break at this point because &#39;j&#39; never comes to 913 but it randomly generates number.Moreover &#39;break&#39; will break the mainloop not only the inner loop.\r\n\r\n\r\n","title":"Nested loop not iterating properly","body":"<p>I have this piece of Code in which there are two loops 'i' and 'j'.</p>\n<p>'j' is the inner loop variable and it supposed to run 999 to 100 on single run of outer loop.</p>\n<p>but it runs randomly like,\nsuppose i=999</p>\n<pre><code>j=912\nj=911\nj=910\nj=909\nj=908\nj=907\nj=906\n</code></pre>\n<p>Then suddenly inner loop quits, decrements by 1 from outer loop and makes <code>i=998</code></p>\n<p>then start 'j' loop</p>\n<pre><code>j=908\nj=907\nj=906\nj=905\nj=906\nj=905\nj=904\nj=903\nj=902\n</code></pre>\n<p>then quits inner loop ................</p>\n<pre><code>    int product=0;\n    mainloop:\n    for(int i=999;i&gt;99;i--){\n        for(int j=999;j&gt;99;j--){\n            boolean flag= doSomething(i*j);\n            if(flag){\n                product=i*j;\n                System.out.println(&quot;Digits are: &quot;+i+&quot; and &quot;+j);\n                break mainloop;\n            }\n        }\n    }\n\n public  boolean doSomething(int product){\n        String original= Integer.toString(product),reverse=&quot;&quot;;\n        int length = original.length();\n        for ( int i = length - 1; i &gt;= 0; i-- )\n            reverse = reverse + original.charAt(i);\n        return (original.equals(reverse));\n            \n        \n    }\n</code></pre>\n<p>why is it happening? why inner loop doesnot complete cycle from 999 to 100?</p>\n<p><strong>EDIT:</strong> To clear, 'flag' will be true only if j=913 and i=993 , this is the main issue that loop doesn't break at this point because 'j' never comes to 913 but it randomly generates number.Moreover 'break' will break the mainloop not only the inner loop.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":2843880,"reputation":5219,"user_id":2442831,"display_name":"Lino"},"score":2,"creation_date":1679232828,"post_id":75782314,"comment_id":133680675,"body_markdown":"if the app is crashing then please add the stacktrace. Thanks","body":"if the app is crashing then please add the stacktrace. Thanks"},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679232902,"post_id":75782314,"comment_id":133680685,"body_markdown":"no application is working ok its just not showing the data from firebase","body":"no application is working ok its just not showing the data from firebase"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":1,"creation_date":1679233361,"post_id":75782314,"comment_id":133680754,"body_markdown":"Can you include the Firebase database structure since we don&#39;t have any idea if your code structure is correct or not.","body":"Can you include the Firebase database structure since we don&#39;t have any idea if your code structure is correct or not."},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679234827,"post_id":75782314,"comment_id":133680965,"body_markdown":"i am allowing the users to sign in through email and password","body":"i am allowing the users to sign in through email and password"},{"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"score":0,"creation_date":1679235624,"post_id":75782314,"comment_id":133681087,"body_markdown":"i have added the the signin activity code","body":"i have added the the signin activity code"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679298558,"post_id":75782314,"comment_id":133689639,"body_markdown":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":21041779,"reputation":17,"user_id":15464022,"display_name":"Abdul Basit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679235478,"creation_date":1679232557,"question_id":75782314,"body_markdown":"hi there I am trying to fetch the data from Firebase but it is not fetching the data.\r\nBelow the java code I&#39;m using:\r\n\r\n    package com.example.cashiya;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dashboard);\r\n        drawerLayout = findViewById(R.id.drawerlayout);\r\n        navigationView = findViewById(R.id.drawer);\r\n        dalyCheckCard = findViewById(R.id.dailycheckcard);\r\n        luckyCard = findViewById(R.id.luckyspincard);\r\n        taskCard = findViewById(R.id.taskcard);\r\n        redeemCard = findViewById(R.id.redeemcard);\r\n        watchCard = findViewById(R.id.watchcard);\r\n        aboutCard = findViewById(R.id.aboutcard);\r\n        referCard = findViewById(R.id.referalcard);\r\n        profileImage = findViewById(R.id.profileImg);\r\n        coinsTv = findViewById(R.id.coinTv);\r\n        toolbar = findViewById(R.id.toolBar);\r\n        nameTv = findViewById(R.id.nameTV);\r\n        emailTv = findViewById(R.id.emailTV);\r\n        setSupportActionBar(toolbar);\r\n        FirebaseAuth auth = FirebaseAuth.getInstance();\r\n        user = auth.getCurrentUser();\r\n        reference = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\r\n        getDataFromDatabase();\r\n\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                DashboardActivity.this, drawerLayout, toolbar,\r\n                R.string.opendrawer, R.string.closedrawer);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(MenuItem item) {\r\n                int id = item.getItemId();\r\n\r\n                if (id==R.id.dailycheckcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.luckyspincard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.taskcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.referalcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.aboutcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else if (id==R.id.watchcard){\r\n                    Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(DashboardActivity.this, &quot;Sabar te hai hi nai&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void getDataFromDatabase(){\r\n        reference.child(user.getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot snapshot) {\r\n                ProfileModel model = snapshot.getValue(ProfileModel.class);\r\n                nameTv.setText(model.getName());\r\n                emailTv.setText(model.getEmail());\r\n                coinsTv.setText(String.valueOf(model.getCoins()));\r\n                Glide.with(getApplicationContext())\r\n                        .load(model.getImage())\r\n                        .timeout(6000)\r\n                        .placeholder(R.drawable.ic_profile)\r\n                        .into(profileImage);\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError error) {\r\n                Toast.makeText(DashboardActivity.this, &quot;Error: &quot; +\r\n                        error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                finish();\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\nIt was working ok but when I add navigation bar then it stop fetching I am just trying to fetch user name and email from firebase. Application is not crashing its just not fetching the data from firebase.\r\n\r\n\r\n\r\n\r\nbellow is the sign in activity\r\n\r\n    package com.example.cashiya;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        register = findViewById(R.id.registerTv);\r\n        emailEdit = findViewById(R.id.emailEdit);\r\n        passwordEdit = findViewById(R.id.passwordEdit);\r\n        loginBtn = findViewById(R.id.loginBtn);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n\r\n        register.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        loginBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String email = emailEdit.getText().toString();\r\n                String password = passwordEdit.getText().toString();\r\n\r\n                if (email.isEmpty()){\r\n                    emailEdit.setError(&quot;Please enter valid E-Mail&quot;);\r\n                    return;\r\n                }\r\n                if (password.isEmpty()){\r\n                    passwordEdit.setError(&quot;Invalid Password&quot;);\r\n                    return;\r\n                }\r\n                signIn(email,password);\r\n            }\r\n        });\r\n    }\r\n    private void signIn(String email, String password){\r\n\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n       auth.signInWithEmailAndPassword(email, password).\r\n               addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n           @Override\r\n           public void onComplete(Task&lt;AuthResult&gt; task) {\r\n\r\n               if (task.isSuccessful()){\r\n\r\n                   progressBar.setVisibility(View.GONE);\r\n\r\n                   Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\r\n                   startActivity(intent);\r\n\r\n               }else {\r\n                   progressBar.setVisibility(View.GONE);\r\n                   Toast.makeText(LoginActivity.this, &quot;Error: &quot; +\r\n                           task.getException().getMessage(), Toast.LENGTH_SHORT).show();\r\n               }\r\n\r\n           }\r\n       });\r\n    }\r\n}\r\n\r\n\r\n","title":"My android application is not fetching the data from firebase","body":"<p>hi there I am trying to fetch the data from Firebase but it is not fetching the data.\nBelow the java code I'm using:</p>\n<pre><code>package com.example.cashiya;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dashboard);\n    drawerLayout = findViewById(R.id.drawerlayout);\n    navigationView = findViewById(R.id.drawer);\n    dalyCheckCard = findViewById(R.id.dailycheckcard);\n    luckyCard = findViewById(R.id.luckyspincard);\n    taskCard = findViewById(R.id.taskcard);\n    redeemCard = findViewById(R.id.redeemcard);\n    watchCard = findViewById(R.id.watchcard);\n    aboutCard = findViewById(R.id.aboutcard);\n    referCard = findViewById(R.id.referalcard);\n    profileImage = findViewById(R.id.profileImg);\n    coinsTv = findViewById(R.id.coinTv);\n    toolbar = findViewById(R.id.toolBar);\n    nameTv = findViewById(R.id.nameTV);\n    emailTv = findViewById(R.id.emailTV);\n    setSupportActionBar(toolbar);\n    FirebaseAuth auth = FirebaseAuth.getInstance();\n    user = auth.getCurrentUser();\n    reference = FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;);\n    getDataFromDatabase();\n\n\n    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n            DashboardActivity.this, drawerLayout, toolbar,\n            R.string.opendrawer, R.string.closedrawer);\n    drawerLayout.addDrawerListener(toggle);\n    toggle.syncState();\n\n    navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(MenuItem item) {\n            int id = item.getItemId();\n\n            if (id==R.id.dailycheckcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.luckyspincard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.taskcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.referalcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.aboutcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else if (id==R.id.watchcard){\n                Toast.makeText(DashboardActivity.this, &quot;Yar sabar karo hale kam ho reya&quot;, Toast.LENGTH_SHORT).show();\n            }\n            else {\n                Toast.makeText(DashboardActivity.this, &quot;Sabar te hai hi nai&quot;, Toast.LENGTH_SHORT).show();\n            }\n\n\n\n\n            return true;\n        }\n    });\n\n}\n\nprivate void getDataFromDatabase(){\n    reference.child(user.getUid()).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(DataSnapshot snapshot) {\n            ProfileModel model = snapshot.getValue(ProfileModel.class);\n            nameTv.setText(model.getName());\n            emailTv.setText(model.getEmail());\n            coinsTv.setText(String.valueOf(model.getCoins()));\n            Glide.with(getApplicationContext())\n                    .load(model.getImage())\n                    .timeout(6000)\n                    .placeholder(R.drawable.ic_profile)\n                    .into(profileImage);\n\n\n\n\n        }\n\n        @Override\n        public void onCancelled(DatabaseError error) {\n            Toast.makeText(DashboardActivity.this, &quot;Error: &quot; +\n                    error.getMessage(), Toast.LENGTH_SHORT).show();\n            finish();\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>It was working ok but when I add navigation bar then it stop fetching I am just trying to fetch user name and email from firebase. Application is not crashing its just not fetching the data from firebase.</p>\n<p>bellow is the sign in activity</p>\n<pre><code>package com.example.cashiya;\n\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    register = findViewById(R.id.registerTv);\n    emailEdit = findViewById(R.id.emailEdit);\n    passwordEdit = findViewById(R.id.passwordEdit);\n    loginBtn = findViewById(R.id.loginBtn);\n    progressBar = findViewById(R.id.progressBar);\n\n\n    register.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(LoginActivity.this, RegisterActivity.class);\n            startActivity(intent);\n        }\n    });\n\n\n    auth = FirebaseAuth.getInstance();\n\n    loginBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String email = emailEdit.getText().toString();\n            String password = passwordEdit.getText().toString();\n\n            if (email.isEmpty()){\n                emailEdit.setError(&quot;Please enter valid E-Mail&quot;);\n                return;\n            }\n            if (password.isEmpty()){\n                passwordEdit.setError(&quot;Invalid Password&quot;);\n                return;\n            }\n            signIn(email,password);\n        }\n    });\n}\nprivate void signIn(String email, String password){\n\n    progressBar.setVisibility(View.VISIBLE);\n\n   auth.signInWithEmailAndPassword(email, password).\n           addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n       @Override\n       public void onComplete(Task&lt;AuthResult&gt; task) {\n\n           if (task.isSuccessful()){\n\n               progressBar.setVisibility(View.GONE);\n\n               Intent intent = new Intent(LoginActivity.this, DashboardActivity.class);\n               startActivity(intent);\n\n           }else {\n               progressBar.setVisibility(View.GONE);\n               Toast.makeText(LoginActivity.this, &quot;Error: &quot; +\n                       task.getException().getMessage(), Toast.LENGTH_SHORT).show();\n           }\n\n       }\n   });\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring","drools"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1661363631,"post_id":73470141,"comment_id":129757118,"body_markdown":"Stream Closed indicates a problem with the FileInputStream, not anything Drools related.","body":"Stream Closed indicates a problem with the FileInputStream, not anything Drools related."}],"answers":[{"tags":[],"owner":{"account_id":27828380,"reputation":1,"user_id":21247291,"display_name":"Mdsb Mdzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679233165,"creation_date":1679233165,"answer_id":75782369,"question_id":73470141,"body_markdown":"just remove the &quot;fis.close();&quot; line in your code.","title":"Drools upgrade: Stream Closed Exception","body":"<p>just remove the &quot;fis.close();&quot; line in your code.</p>\n"}],"owner":{"account_id":7511794,"reputation":1,"user_id":5706492,"display_name":"NewbieCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679233165,"creation_date":1661330954,"question_id":73470141,"body_markdown":"I am trying to upgrade drools from 7.33.0 to 7.60.0. On upgrading I am seeing the following exception -\r\n\r\n```Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method &#39;kieContainer&#39; threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed```\r\n\r\nMy code is something like this -\r\n\r\n```\r\nKieServices kieServices = KieServices.Factory.get();\r\nKieFileSystem kfs = kieServices.newKieFileSystem();\r\nFileInputStream fis = new FileInputStream(fileEntry.getPath());\r\nkfs.write(&quot;src/main/resources/&quot; + fileEntry.getName(), kieServices.getResources().newInputStreamResource(fis));\r\nfis.close();\r\n\r\nKieBuilder kieBuilder = kieServices.newKieBuilder(kfs).buildAll();  --&gt; Line where exception is thrown\r\n```\r\n\r\nHow can I get rid of this exception?","title":"Drools upgrade: Stream Closed Exception","body":"<p>I am trying to upgrade drools from 7.33.0 to 7.60.0. On upgrading I am seeing the following exception -</p>\n<p><code>Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.kie.api.runtime.KieContainer]: Factory method 'kieContainer' threw exception; nested exception is java.lang.RuntimeException: java.io.IOException: Stream Closed</code></p>\n<p>My code is something like this -</p>\n<pre><code>KieServices kieServices = KieServices.Factory.get();\nKieFileSystem kfs = kieServices.newKieFileSystem();\nFileInputStream fis = new FileInputStream(fileEntry.getPath());\nkfs.write(&quot;src/main/resources/&quot; + fileEntry.getName(), kieServices.getResources().newInputStreamResource(fis));\nfis.close();\n\nKieBuilder kieBuilder = kieServices.newKieBuilder(kfs).buildAll();  --&gt; Line where exception is thrown\n</code></pre>\n<p>How can I get rid of this exception?</p>\n"},{"tags":["java","large-files","project-panama"],"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":2,"creation_date":1636748767,"post_id":69935426,"comment_id":123648698,"body_markdown":"For JDK 17, you could take a look at the MemoryAccess class: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryAccess.html Alternatively, you could create a MemoryLayout, and use the [varhandle](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryLayout.html#varHandle(java.lang.Class,jdk.incubator.foreign.MemoryLayout.PathElement...)) method to get a VarHandle that can be used to access certain fields (but for variable sized data you probably want to stick with the accessors in MemoryAccess).","body":"For JDK 17, you could take a look at the MemoryAccess class: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryAccess.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/&hellip;</a> Alternatively, you could create a MemoryLayout, and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemoryLayout.html#varHandle(java.lang.Class,jdk.incubator.foreign.MemoryLayout.PathElement...)\" rel=\"nofollow noreferrer\">varhandle</a> method to get a VarHandle that can be used to access certain fields (but for variable sized data you probably want to stick with the accessors in MemoryAccess)."},{"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"score":0,"creation_date":1636750143,"post_id":69935426,"comment_id":123649068,"body_markdown":"Thanks Jorn. If you paste this into an  answer I&#39;ll accept it.","body":"Thanks Jorn. If you paste this into an  answer I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":9998366,"reputation":2256,"user_id":7395227,"accept_rate":100,"display_name":"Andreas moved to Codidact"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679232358,"creation_date":1679232358,"answer_id":75782287,"question_id":69935426,"body_markdown":"This question is already 1,5 years old, and concerns an API which is still evolving, and has not yet been finished. You probably made a decision by now, but it&#39;s never too late for an answer to your question.\r\n\r\nMy suggestion is the new FFM API being introduced into Java. It is this API that includes `MemorySegment`. This API is a replacement for JNI and the `ByteBuffer` APIs. It gives you much more control over memory management, is more deterministic, provides a much larger address space, and gives you more control over reading and writing primitives, the offsets at which you do this, and lets you create structured accessors for related primitive data in a segment.\r\n\r\nBe aware, however, that this API has just recently moved from the incubator phase into the preview phase. This means that the API is nearing completion, but is still not stable. It *will* change in upcoming Java versions, and so you will have to update your codebase for every new JDK. Your project will not be backwards- and forward-compatible until the API exits the preview state.\r\n\r\n&gt; it looks I&#39;ll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer)\r\n\r\nThis is not the case. There are some examples in the [JEP](https://openjdk.org/jeps/442)s\r\n\r\n[`MemorySegment`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html) provides direct access methods such as `set` (offset), `setAtIndex`, `get` (offset) and `getAtIndex` for primitives, subclasses of the sealed interface `Addressable`, and `MemoryAddress`. \r\n\r\nYou can also use `MemoryLayout` and `VarHandle` for structured access.\r\n\r\nYou have more options with the new `MemorySegment` API, than you&#39;re given with the `ByteBuffer` API.","title":"Patterns for efficient reading from Java MemorySegment","body":"<p>This question is already 1,5 years old, and concerns an API which is still evolving, and has not yet been finished. You probably made a decision by now, but it's never too late for an answer to your question.</p>\n<p>My suggestion is the new FFM API being introduced into Java. It is this API that includes <code>MemorySegment</code>. This API is a replacement for JNI and the <code>ByteBuffer</code> APIs. It gives you much more control over memory management, is more deterministic, provides a much larger address space, and gives you more control over reading and writing primitives, the offsets at which you do this, and lets you create structured accessors for related primitive data in a segment.</p>\n<p>Be aware, however, that this API has just recently moved from the incubator phase into the preview phase. This means that the API is nearing completion, but is still not stable. It <em>will</em> change in upcoming Java versions, and so you will have to update your codebase for every new JDK. Your project will not be backwards- and forward-compatible until the API exits the preview state.</p>\n<blockquote>\n<p>it looks I'll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer)</p>\n</blockquote>\n<p>This is not the case. There are some examples in the <a href=\"https://openjdk.org/jeps/442\" rel=\"nofollow noreferrer\">JEP</a>s</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html\" rel=\"nofollow noreferrer\"><code>MemorySegment</code></a> provides direct access methods such as <code>set</code> (offset), <code>setAtIndex</code>, <code>get</code> (offset) and <code>getAtIndex</code> for primitives, subclasses of the sealed interface <code>Addressable</code>, and <code>MemoryAddress</code>.</p>\n<p>You can also use <code>MemoryLayout</code> and <code>VarHandle</code> for structured access.</p>\n<p>You have more options with the new <code>MemorySegment</code> API, than you're given with the <code>ByteBuffer</code> API.</p>\n"}],"owner":{"account_id":1511908,"reputation":650,"user_id":1413799,"display_name":"BradHards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679232358,"creation_date":1636667947,"question_id":69935426,"body_markdown":"I am working on using Java for reading of (potentially) large amounts of data from (potentially) large files - the scenario is uncompressed imagery from a file format like HEIF. Larger than 2G is likely. Writing is a future need, but this question is scoped to reading. \r\n\r\nThe HEIF format (which is derived from ISO Base Media File Format - ISO/IEC 14496-12) is variable sizes &quot;boxes&quot; - you read the length and kind of box, and do some parsing thing appropriate to the box. In my design, I&#39;ll parse out the small-ish boxes, and keep references to the bulk storage (`mdat`) offsets to be able to pull the data out for rendering / processing as requested.\r\n\r\nI&#39;m considering two options - multiple MappedByteBuffer (since that is 2G limited), and a single [MemorySegment][1] (from a memory mapped file). Its not clear to me which is likely to be more efficient. The MappedByteBuffer has all the nice ByteBuffer API, but I need to manage multiple entities. The MemorySegment will be a single entry, but it looks I&#39;ll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer), which looks like a different version of the same problem. A secondary benefit for the MemorySegment is that it may lead to a nicer design when I need to use some other non-Java API (like feeding the imagery into a hardware encoder for compression). I also have the skeleton of the MemorySegment implemented and reading (just with some gross assumptions that I can turn it into a single ByteBuffer).\r\n\r\nAre there emerging patterns for efficient reading from a MemorySegment? Failing that, is there something I&#39;m missing in the MemorySegment API?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html","title":"Patterns for efficient reading from Java MemorySegment","body":"<p>I am working on using Java for reading of (potentially) large amounts of data from (potentially) large files - the scenario is uncompressed imagery from a file format like HEIF. Larger than 2G is likely. Writing is a future need, but this question is scoped to reading.</p>\n<p>The HEIF format (which is derived from ISO Base Media File Format - ISO/IEC 14496-12) is variable sizes &quot;boxes&quot; - you read the length and kind of box, and do some parsing thing appropriate to the box. In my design, I'll parse out the small-ish boxes, and keep references to the bulk storage (<code>mdat</code>) offsets to be able to pull the data out for rendering / processing as requested.</p>\n<p>I'm considering two options - multiple MappedByteBuffer (since that is 2G limited), and a single <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html\" rel=\"nofollow noreferrer\">MemorySegment</a> (from a memory mapped file). Its not clear to me which is likely to be more efficient. The MappedByteBuffer has all the nice ByteBuffer API, but I need to manage multiple entities. The MemorySegment will be a single entry, but it looks I'll need to create slice views to get anything I can read from (e.g. a byte array or ByteBuffer), which looks like a different version of the same problem. A secondary benefit for the MemorySegment is that it may lead to a nicer design when I need to use some other non-Java API (like feeding the imagery into a hardware encoder for compression). I also have the skeleton of the MemorySegment implemented and reading (just with some gross assumptions that I can turn it into a single ByteBuffer).</p>\n<p>Are there emerging patterns for efficient reading from a MemorySegment? Failing that, is there something I'm missing in the MemorySegment API?</p>\n"},{"tags":["java","maven","deployment","gitlab-ci","maven-plugin"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1679235531,"post_id":75782277,"comment_id":133681075,"body_markdown":"The 400 often means that you cannot deploy because either the artifact is already there, or the repository does only take Snapshots, but you deploy a Release (or vice versa).","body":"The 400 often means that you cannot deploy because either the artifact is already there, or the repository does only take Snapshots, but you deploy a Release (or vice versa)."},{"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr techm&#252;ller"},"score":0,"creation_date":1679236709,"post_id":75782277,"comment_id":133681265,"body_markdown":"Well, it&#39;s an interesting idea, but I can deploy a release of module if it has packaging set to jar or pom. Only issue is with maven-plugin. Also I&#39;m sure the artifact does not exists, because there are no artifacts.","body":"Well, it&#39;s an interesting idea, but I can deploy a release of module if it has packaging set to jar or pom. Only issue is with maven-plugin. Also I&#39;m sure the artifact does not exists, because there are no artifacts."}],"owner":{"account_id":8877206,"reputation":93,"user_id":6628911,"display_name":"Petr techm&#252;ller"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679232071,"creation_date":1679232071,"question_id":75782277,"body_markdown":"I have a private Maven multi-module project hosted on GitLab. Now I decided to start creating versions of modules. When module has set **packaging** to *jar* or *pom*, the module is properly deployed to GitLab and version with it&#39;s tag is generated. But modules with **packaging** set to *maven-plugin*, because they are custom created Maven plugins, fails in deployment stage.\r\nFirst I though that this custom *maven-plugins* can not be released together with other &quot;normal&quot; modules, but this was false assumption. Even I try to release only this one project only with *maven-plugin*, deployment fails.\r\n\r\nHere is an error message with a reason why it fails:\r\n\r\n&gt; Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0:deploy (default-deploy) on project XXX: Failed to deploy metadata: Could not transfer metadata XXX from/to gitlab-maven (https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven): status code: 400, reason phrase: Bad Request (400) -&gt; [Help 1]\r\n\r\nI do not quite understand why this is happening, because I&#39;m using exactly same configuration for my other modules and it&#39;s working correctly. Also if I just change **packaging** from *maven-plugin* to *jar*, than deployment is successful. So connection configuration should not be an issue.\r\n\r\nDoes anyone have experience with custom maven-plugin deployment on GitLab? I can provide **pom.xml** if necessary, but it mostly follows the documentation regarding to configuration for deployment.\r\n\r\nMany thanks,\r\nPetr","title":"How to deploy maven-plugin on GitLab","body":"<p>I have a private Maven multi-module project hosted on GitLab. Now I decided to start creating versions of modules. When module has set <strong>packaging</strong> to <em>jar</em> or <em>pom</em>, the module is properly deployed to GitLab and version with it's tag is generated. But modules with <strong>packaging</strong> set to <em>maven-plugin</em>, because they are custom created Maven plugins, fails in deployment stage.\nFirst I though that this custom <em>maven-plugins</em> can not be released together with other &quot;normal&quot; modules, but this was false assumption. Even I try to release only this one project only with <em>maven-plugin</em>, deployment fails.</p>\n<p>Here is an error message with a reason why it fails:</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:3.0.0:deploy (default-deploy) on project XXX: Failed to deploy metadata: Could not transfer metadata XXX from/to gitlab-maven (<a href=\"https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven\" rel=\"nofollow noreferrer\">https://gitlab.com/api/v4/projects/xxxxxxxx/packages/maven</a>): status code: 400, reason phrase: Bad Request (400) -&gt; [Help 1]</p>\n</blockquote>\n<p>I do not quite understand why this is happening, because I'm using exactly same configuration for my other modules and it's working correctly. Also if I just change <strong>packaging</strong> from <em>maven-plugin</em> to <em>jar</em>, than deployment is successful. So connection configuration should not be an issue.</p>\n<p>Does anyone have experience with custom maven-plugin deployment on GitLab? I can provide <strong>pom.xml</strong> if necessary, but it mostly follows the documentation regarding to configuration for deployment.</p>\n<p>Many thanks,\nPetr</p>\n"},{"tags":["java","spring","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679074361,"post_id":75770460,"comment_id":133661788,"body_markdown":"You should have something like this somewhere in your code:  driver = new ChromeDriver();... along with options if you like.  You&#39;re over-complicating things here.  It sounds like you have a &quot;WebDriverFactory&quot; so you could just use that to return your driver instance.  Not sure why you&#39;re using these base classes and then extending them.","body":"You should have something like this somewhere in your code:  driver = new ChromeDriver();... along with options if you like.  You&#39;re over-complicating things here.  It sounds like you have a &quot;WebDriverFactory&quot; so you could just use that to return your driver instance.  Not sure why you&#39;re using these base classes and then extending them."},{"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"score":0,"creation_date":1679075297,"post_id":75770460,"comment_id":133661992,"body_markdown":"@Bean(\n        name = {&quot;chromeDriver&quot;}\n    )\n    @ConditionalOnProperty(\n        prefix = &quot;driver&quot;,\n        name = {&quot;type&quot;},\n        havingValue = &quot;chrome&quot;\n    )\n    public WebDriver chromeDriver() {\n        ChromeDriverOptions options = new ChromeDriverOptions();\n        this.driver = WebDriverManager.chromedriver().capabilities(options.setOptions(this.browserMode)).create();\n        this.driver.get(this.env);\n        return this.driver;\n    }\nIt is inside webdriver factory","body":"@Bean(         name = {&quot;chromeDriver&quot;}     )     @ConditionalOnProperty(         prefix = &quot;driver&quot;,         name = {&quot;type&quot;},         havingValue = &quot;chrome&quot;     )     public WebDriver chromeDriver() {         ChromeDriverOptions options = new ChromeDriverOptions();         this.driver = WebDriverManager.chromedriver().capabilities(options.setOpti&zwnj;&#8203;ons(this.browserMode&zwnj;&#8203;)).create();         this.driver.get(this.env);         return this.driver;     } It is inside webdriver factory"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1679082655,"post_id":75770460,"comment_id":133663656,"body_markdown":"Please don&#39;t add comments to clarify, code is hard to read in comments. [Edit] your question instead. Make sure it&#39;s a [mcve].","body":"Please don&#39;t add comments to clarify, code is hard to read in comments. <a href=\"https://stackoverflow.com/posts/75770460/edit\">Edit</a> your question instead. Make sure it&#39;s a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"score":0,"creation_date":1679118812,"post_id":75770460,"comment_id":133667659,"body_markdown":"Sorry, First Time I posted a Question in Stack Overflow. The question is I&#39;m calling the Common class driver in the chrome option class. But the Chrome option class driver still throws null pointer exceptions. In the common class, the driver is already static.","body":"Sorry, First Time I posted a Question in Stack Overflow. The question is I&#39;m calling the Common class driver in the chrome option class. But the Chrome option class driver still throws null pointer exceptions. In the common class, the driver is already static."},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1679336767,"post_id":75770460,"comment_id":133700399,"body_markdown":"I&#39;d suggest you not use common or chromedriveroptions classes.  Just use the webdriverfactory that will return the driver instance to use throughout your code.","body":"I&#39;d suggest you not use common or chromedriveroptions classes.  Just use the webdriverfactory that will return the driver instance to use throughout your code."}],"owner":{"account_id":23491472,"reputation":1,"user_id":17542433,"display_name":"Syed Abdul Raies"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679231245,"creation_date":1679073647,"question_id":75770460,"body_markdown":"Created WebDriver in common class and calling in chrome option class, But Throwing null pointer exception.\r\n\r\n````\r\n@Component\r\npublic class Common extends CommonClass {\r\n    private static final Logger log = LoggerFactory.getLogger(Common.class);\r\n    @Autowired\r\n    public static WebDriver driver; // This is where we creating webdriver and calling this webdriver in cromeoption class.\r\n\r\n    public static ChromeDriver driver1 = null;\r\n    public WebElement local_element = null;\r\n\r\n@Component\r\npublic class ChromeDriverOptions extends WebDriverFactory {\r\n    private static final Logger log = LoggerFactory.getLogger(ChromeDriverOptions.class);\r\n\r\n    public ChromeDriverOptions() {\r\n    }\r\n        List&lt;LogEntry&gt; entries = driver.manage().logs().get(&quot;performance&quot;).getAll(); //This driver still in null. Any suggestion giving life to this driver.\r\n\r\n}\r\n````\r\ndriver throwing is null pointer exception. Is this issue occurring by dependency compatibility?.\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.manage()&quot; because &quot;com.digite.actions.commands.Common.driver&quot; is null","body":"<p>Created WebDriver in common class and calling in chrome option class, But Throwing null pointer exception.</p>\n<pre><code>@Component\npublic class Common extends CommonClass {\n    private static final Logger log = LoggerFactory.getLogger(Common.class);\n    @Autowired\n    public static WebDriver driver; // This is where we creating webdriver and calling this webdriver in cromeoption class.\n\n    public static ChromeDriver driver1 = null;\n    public WebElement local_element = null;\n\n@Component\npublic class ChromeDriverOptions extends WebDriverFactory {\n    private static final Logger log = LoggerFactory.getLogger(ChromeDriverOptions.class);\n\n    public ChromeDriverOptions() {\n    }\n        List&lt;LogEntry&gt; entries = driver.manage().logs().get(&quot;performance&quot;).getAll(); //This driver still in null. Any suggestion giving life to this driver.\n\n}\n</code></pre>\n<p>driver throwing is null pointer exception. Is this issue occurring by dependency compatibility?.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1679309303,"post_id":75781582,"comment_id":133692408,"body_markdown":"Why the argument `--whitelisted-ips`? Try without both of the args.","body":"Why the argument <code>--whitelisted-ips</code>? Try without both of the args."}],"owner":{"account_id":5798268,"reputation":33,"user_id":4573325,"display_name":"Andrei Vartic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679231224,"creation_date":1679224445,"question_id":75781582,"body_markdown":"So i am using Eclipse as IDE, Java 17,\r\n Selenium 4.8.1 , \r\n ChromeDriver   111.0.5563.64  \r\n Chrome Browser  111.0.5563.65   \r\nI have set the paths as System Variables:  \r\n\r\n    C:\\Program Files\\Java\\jdk-19\\bin\r\n    C:\\az\\Chrome\r\n    C:\\az\\Selenium\r\n\r\nIn eclipse i have set as Java Build Path:\r\n\r\n    Modulepath: JRE System Library[Java 17]\r\n    Classpath:\r\n    chromediver.exe - C:\\az\\Chrome\r\n    selenium-java-4.8.1.jar - C:\\az\\Selenium\r\n    selenium-server-4.8.1.jar - C:\\az\\Selenium\r\n\r\nThis is my code :\r\n\r\n    package chromepackage;\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n\r\n    public class ChromeClass {\r\n        public static void main(String[] args) {\r\n\r\n            ChromeOptions ops = new ChromeOptions();\r\n\r\n            ops.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n            ops.addArguments(&quot;--whitelisted-ips=0.0.0.0&quot;);\r\n\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\az\\\\Chrome\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.get(&quot;https://www.google.com/&quot;);\r\n\r\n        }\r\n    }\r\n\r\nAnd this is the error I get :\r\n\r\n```\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 40083\r\n\r\nOnly local connections are allowed.\r\n\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n\r\nChromeDriver was started successfully.\r\n\r\nMar 19, 2023 12:46:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n\r\nWARNING: Invalid Status code=403 text=Forbidden\r\n```\r\n\r\n\r\nI am trying to run my first script in Selenium + Java and a blank page appears.","title":"Why my first script in selenium is not working?","body":"<p>So i am using Eclipse as IDE, Java 17,\nSelenium 4.8.1 ,\nChromeDriver   111.0.5563.64<br />\nChrome Browser  111.0.5563.65<br />\nI have set the paths as System Variables:</p>\n<pre><code>C:\\Program Files\\Java\\jdk-19\\bin\nC:\\az\\Chrome\nC:\\az\\Selenium\n</code></pre>\n<p>In eclipse i have set as Java Build Path:</p>\n<pre><code>Modulepath: JRE System Library[Java 17]\nClasspath:\nchromediver.exe - C:\\az\\Chrome\nselenium-java-4.8.1.jar - C:\\az\\Selenium\nselenium-server-4.8.1.jar - C:\\az\\Selenium\n</code></pre>\n<p>This is my code :</p>\n<pre><code>package chromepackage;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\npublic class ChromeClass {\n    public static void main(String[] args) {\n\n        ChromeOptions ops = new ChromeOptions();\n\n        ops.addArguments(&quot;--remote-allow-origins=*&quot;);\n        ops.addArguments(&quot;--whitelisted-ips=0.0.0.0&quot;);\n\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\az\\\\Chrome\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.get(&quot;https://www.google.com/&quot;);\n\n    }\n}\n</code></pre>\n<p>And this is the error I get :</p>\n<pre><code>Starting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 40083\n\nOnly local connections are allowed.\n\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\n\nChromeDriver was started successfully.\n\nMar 19, 2023 12:46:58 PM org.openqa.selenium.remote.http.WebSocket$Listener onError\n\nWARNING: Invalid Status code=403 text=Forbidden\n</code></pre>\n<p>I am trying to run my first script in Selenium + Java and a blank page appears.</p>\n"},{"tags":["java","spring-boot","proxy","jackson","cglib"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648155827,"post_id":71608233,"comment_id":126560155,"body_markdown":"I cant see any reason for `MyObject` to have been proxied. Can you share all the code thats necessary to reproduce the behaviour you have described?","body":"I cant see any reason for <code>MyObject</code> to have been proxied. Can you share all the code thats necessary to reproduce the behaviour you have described?"},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648161263,"post_id":71608233,"comment_id":126561556,"body_markdown":"My understanding is that Spring creates a proxy when it creates an object using `@ConfigurationPropertie`s.  I pretty much posted all the code.  If you inject the MyObject bean and inspect it in the debugger or try to serialize it with Jackson, you should see the same thing I&#39;m seeing.","body":"My understanding is that Spring creates a proxy when it creates an object using <code>@ConfigurationPropertie</code>s.  I pretty much posted all the code.  If you inject the MyObject bean and inspect it in the debugger or try to serialize it with Jackson, you should see the same thing I&#39;m seeing."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648162646,"post_id":71608233,"comment_id":126561843,"body_markdown":"You are right.  I put together a simple app from Spring Initializr using my same classes and it works fine.  So what would cause Spring to proxy this object in my application?","body":"You are right.  I put together a simple app from Spring Initializr using my same classes and it works fine.  So what would cause Spring to proxy this object in my application?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648203600,"post_id":71608233,"comment_id":126570340,"body_markdown":"Proxies are created for a variety of reasons (transaction management, method-level validation, etc). You could debug your application with a breakpoint on `org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(AdvisedSupport)` to determine what&#39;s triggering the proxy&#39;s creation.","body":"Proxies are created for a variety of reasons (transaction management, method-level validation, etc). You could debug your application with a breakpoint on <code>org.springframework.aop.framework.DefaultAopProxyFactory.cre&zwnj;&#8203;ateAopProxy(AdvisedS&zwnj;&#8203;upport)</code> to determine what&#39;s triggering the proxy&#39;s creation."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648212831,"post_id":71608233,"comment_id":126573578,"body_markdown":"Thanks.  This confirmed that it is indeed creating a proxy, but I&#39;m not sure how to tell why.  The isProxyTargetClass() flag is on and hasNoUserSuppliedPRoxyInterfaces() also returns true, which are the conditions for creating a proxy, but I&#39;m not sure what that means in a practical sense or what I can do to change it.","body":"Thanks.  This confirmed that it is indeed creating a proxy, but I&#39;m not sure how to tell why.  The isProxyTargetClass() flag is on and hasNoUserSuppliedPRoxyInterfaces() also returns true, which are the conditions for creating a proxy, but I&#39;m not sure what that means in a practical sense or what I can do to change it."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648214044,"post_id":71608233,"comment_id":126574075,"body_markdown":"Hopefully the stack at the time the method is called and/or the advice that&#39;s added to the proxy will help to identify why the proxy&#39;s being created.","body":"Hopefully the stack at the time the method is called and/or the advice that&#39;s added to the proxy will help to identify why the proxy&#39;s being created."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648215219,"post_id":71608233,"comment_id":126574544,"body_markdown":"I&#39;m not sure where to find or how to interpret the &#39;advice&#39;.  Does that refer to the CGLIB$CALLBACK methods I posted in my screenshot above?  Any help appreciated","body":"I&#39;m not sure where to find or how to interpret the &#39;advice&#39;.  Does that refer to the CGLIB$CALLBACK methods I posted in my screenshot above?  Any help appreciated"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648229356,"post_id":71608233,"comment_id":126579929,"body_markdown":"Yes. It should be apparent from the state of those callbacks. The stack should hopefully make it apparent too. I would be much easier to help if you could share a [minimal reproducible example](/help/mcve).","body":"Yes. It should be apparent from the state of those callbacks. The stack should hopefully make it apparent too. I would be much easier to help if you could share a <a href=\"/help/mcve\">minimal reproducible example</a>."},{"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"score":0,"creation_date":1648234417,"post_id":71608233,"comment_id":126581454,"body_markdown":"Yeah, that was my original intent, but it seems my minimal example works.  So I need to figure out what&#39;s causing it to break or change behavior","body":"Yeah, that was my original intent, but it seems my minimal example works.  So I need to figure out what&#39;s causing it to break or change behavior"}],"answers":[{"tags":[],"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679231202,"creation_date":1679231202,"answer_id":75782196,"question_id":71608233,"body_markdown":"I cannot say why it worked/didn&#39;t work. However, to get rid of the serialization error involving `$$EnhancerBySpringCGLIB$$`, I did something like this;\r\n\r\n```\r\n@JsonSerialize(as = MyObject.class)\r\npublic class MyObject {\r\n  public String getField1() { return field1; }\r\n  ...\r\n}\r\n","title":"Jackson can&#39;t serialize Spring proxy object","body":"<p>I cannot say why it worked/didn't work. However, to get rid of the serialization error involving <code>$$EnhancerBySpringCGLIB$$</code>, I did something like this;</p>\n<pre><code>@JsonSerialize(as = MyObject.class)\npublic class MyObject {\n  public String getField1() { return field1; }\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":8868218,"reputation":928,"user_id":6622697,"display_name":"Peter Kronenberg"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679231202,"creation_date":1648149340,"question_id":71608233,"body_markdown":"I&#39;m using `@ConfigurationProperties` to create an object like this:\r\n\r\nFrom application.yml\r\n```\r\nmyObject:\r\n  field1: field1\r\n  field2: field2\r\n```\r\n\r\nAnd I have these classes defined:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\npublic class MyObject {\r\n    private String field1;\r\n    private String field2;\r\n}\r\n\r\n@Configuration(proxyBeanMethods = false)\r\npublic class MyObjectConfig {\r\n    @Bean\r\n    @ConfigurationProperties(value = &quot;my-object&quot;, ignoreUnknownFields = false)\r\n    public MyObject myObjectBean() {\r\n        return new MyObject();\r\n    }\r\n}\r\n```\r\n\r\nI then inject the bean where I want to use it.  If I just print it out, `toString()` works fine.  In the debugger, if I look at the object, it looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI don&#39;t know how the Spring magic works\r\n\r\nIf I try to serialize with Jackson, \r\n\r\n```\r\nnew ObjectMapper().writeValueAsString(myObject);\r\n```\r\nI get a huge stack trace that seems to start with an IllegalStateException.  I can&#39;t figure out what it&#39;s complaining about\r\n\r\nBut if I create a constructor in MyObject that takes another MyObject and just copies the fields,\r\n\r\n```\r\nMyObject nonProxy = new MyObject(myObject);\r\n```\r\n\r\n I end up with what I think is a non-proxy version of the object, which I can then serialize.  But this requires that I know which objects are proxy objects, which sort of defeats the purpose.  Is there a way to get Jackson to properly deal with these proxy objects?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/30kxx.png\r\n\r\n\r\n## Update \r\n\r\nI put together a simple application using Spring initializer, but in that case, it works fine.  Here is the main Springboot class:\r\n\r\n```\r\n@Component\r\npublic class Startup implements InitializingBean {\r\n\r\n    private final MyObject myObject;\r\n\r\n    public Startup(final MyObject myObject) {\r\n        this.myObject = myObject;\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() throws Exception {\r\n        System.out.println(&quot;*** myObject: &quot; + myObject);\r\n        System.out.println(&quot;*** class: &quot; + myObject.getClass().getName());\r\n\r\n        try {\r\n            final String s = new ObjectMapper().writeValueAsString(myObject);\r\n            System.out.println(&quot;*** json&quot; + s);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n*** myObject: MyObject(field1=field1, field2=field2)\r\n*** class: com.example.demo.config.MyObject\r\n*** json{&quot;field1&quot;:&quot;field1&quot;,&quot;field2&quot;:&quot;field2&quot;}\r\n\r\n```\r\n\r\nWhat could possibly be different in my application that would cause Spring to proxy this object?  Note that in my application, when I print out the class of MyObject, I get\r\n```\r\n*** class: com.torchai.service.skeleton.configuration.MyObject$$EnhancerBySpringCGLIB$$7f9d27e0\r\n```","title":"Jackson can&#39;t serialize Spring proxy object","body":"<p>I'm using <code>@ConfigurationProperties</code> to create an object like this:</p>\n<p>From application.yml</p>\n<pre><code>myObject:\n  field1: field1\n  field2: field2\n</code></pre>\n<p>And I have these classes defined:</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\npublic class MyObject {\n    private String field1;\n    private String field2;\n}\n\n@Configuration(proxyBeanMethods = false)\npublic class MyObjectConfig {\n    @Bean\n    @ConfigurationProperties(value = &quot;my-object&quot;, ignoreUnknownFields = false)\n    public MyObject myObjectBean() {\n        return new MyObject();\n    }\n}\n</code></pre>\n<p>I then inject the bean where I want to use it.  If I just print it out, <code>toString()</code> works fine.  In the debugger, if I look at the object, it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/30kxx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/30kxx.png\" alt=\"enter image description here\" /></a></p>\n<p>I don't know how the Spring magic works</p>\n<p>If I try to serialize with Jackson,</p>\n<pre><code>new ObjectMapper().writeValueAsString(myObject);\n</code></pre>\n<p>I get a huge stack trace that seems to start with an IllegalStateException.  I can't figure out what it's complaining about</p>\n<p>But if I create a constructor in MyObject that takes another MyObject and just copies the fields,</p>\n<pre><code>MyObject nonProxy = new MyObject(myObject);\n</code></pre>\n<p>I end up with what I think is a non-proxy version of the object, which I can then serialize.  But this requires that I know which objects are proxy objects, which sort of defeats the purpose.  Is there a way to get Jackson to properly deal with these proxy objects?</p>\n<h2>Update</h2>\n<p>I put together a simple application using Spring initializer, but in that case, it works fine.  Here is the main Springboot class:</p>\n<pre><code>@Component\npublic class Startup implements InitializingBean {\n\n    private final MyObject myObject;\n\n    public Startup(final MyObject myObject) {\n        this.myObject = myObject;\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        System.out.println(&quot;*** myObject: &quot; + myObject);\n        System.out.println(&quot;*** class: &quot; + myObject.getClass().getName());\n\n        try {\n            final String s = new ObjectMapper().writeValueAsString(myObject);\n            System.out.println(&quot;*** json&quot; + s);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n\n*** myObject: MyObject(field1=field1, field2=field2)\n*** class: com.example.demo.config.MyObject\n*** json{&quot;field1&quot;:&quot;field1&quot;,&quot;field2&quot;:&quot;field2&quot;}\n\n</code></pre>\n<p>What could possibly be different in my application that would cause Spring to proxy this object?  Note that in my application, when I print out the class of MyObject, I get</p>\n<pre><code>*** class: com.torchai.service.skeleton.configuration.MyObject$$EnhancerBySpringCGLIB$$7f9d27e0\n</code></pre>\n"},{"tags":["java","command-line","jar"],"comments":[{"owner":{"account_id":8978,"reputation":121598,"user_id":16406,"accept_rate":77,"display_name":"Chris Dodd"},"score":0,"creation_date":1311272229,"post_id":6780678,"comment_id":8044727,"body_markdown":"`java -cp myJar.jar myClass` works fine for me -- do you have a spurious period in your command line instead of a space?","body":"<code>java -cp myJar.jar myClass</code> works fine for me -- do you have a spurious period in your command line instead of a space?"},{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":1,"creation_date":1311272277,"post_id":6780678,"comment_id":8044744,"body_markdown":"What do you mean when you say that you want &#39;to use&#39; that class? Is there a main method that you want to call in particular?","body":"What do you mean when you say that you want &#39;to use&#39; that class? Is there a main method that you want to call in particular?"}],"answers":[{"tags":[],"owner":{"account_id":7133,"reputation":3591,"user_id":12254,"display_name":"Richard Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1311272714,"creation_date":1311272245,"answer_id":6780733,"question_id":6780678,"body_markdown":"You want:\r\n\r\n    java -cp myJar.jar myClass\r\n\r\nThe [Documentation][1] gives the following example:\r\n\r\n    C:&gt; java -classpath C:\\java\\MyClasses\\myclasses.jar utility.myapp.Cool\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html","title":"Run class in Jar file","body":"<p>You want:</p>\n\n<pre><code>java -cp myJar.jar myClass\n</code></pre>\n\n<p>The <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/windows/classpath.html\" rel=\"noreferrer\">Documentation</a> gives the following example:</p>\n\n<pre><code>C:&gt; java -classpath C:\\java\\MyClasses\\myclasses.jar utility.myapp.Cool\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user177800"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1311272434,"creation_date":1311272434,"answer_id":6780768,"question_id":6780678,"body_markdown":"Assuming you are in the directory where `myJar.jar` file is and that `myClass` has a `public static void main()` method on it:\r\n\r\nYou use the following command line:\r\n\r\n    java -cp ./myJar.jar myClass\r\n\r\nWhere:\r\n \r\n 1. `myJar.jar` is in the **current path**, note that `.` isn&#39;t in the current path on most systems. A **fully qualified path** is preferred here as well.\r\n \r\n 1. `myClass` is a **fully qualified package path** to the class, the example assumes that `myClass` is in the **default package** which is bad practice, if it is in a nested package it would be `com.mycompany.mycode.myClass`.","title":"Run class in Jar file","body":"<p>Assuming you are in the directory where <code>myJar.jar</code> file is and that <code>myClass</code> has a <code>public static void main()</code> method on it:</p>\n\n<p>You use the following command line:</p>\n\n<pre><code>java -cp ./myJar.jar myClass\n</code></pre>\n\n<p>Where:</p>\n\n<ol>\n<li><p><code>myJar.jar</code> is in the <strong>current path</strong>, note that <code>.</code> isn't in the current path on most systems. A <strong>fully qualified path</strong> is preferred here as well.</p></li>\n<li><p><code>myClass</code> is a <strong>fully qualified package path</strong> to the class, the example assumes that <code>myClass</code> is in the <strong>default package</strong> which is bad practice, if it is in a nested package it would be <code>com.mycompany.mycode.myClass</code>.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":37972,"reputation":1797,"user_id":108769,"accept_rate":45,"display_name":"akjain"},"score":12,"creation_date":1405511301,"post_id":6780789,"comment_id":38454543,"body_markdown":"Just adding to it - in case com.mypackage.myClass (in the above example) has dependencies on other jars, run it as follows:           java -cp dependentfile1.jar;dependentfile2.jar;c:\\location_of_jar\\myjar.jar com.mypackage.myClass","body":"Just adding to it - in case com.mypackage.myClass (in the above example) has dependencies on other jars, run it as follows:           java -cp dependentfile1.jar;dependentfile2.jar;c:\\location_of_jar\\myj&zwnj;&#8203;ar.jar com.mypackage.myClass"},{"owner":{"account_id":124572,"reputation":19296,"user_id":319741,"accept_rate":88,"display_name":"Scott C Wilson"},"score":2,"creation_date":1410910987,"post_id":6780789,"comment_id":40501799,"body_markdown":"A possible failure path to watch out for in case this doesn&#39;t work: be sure your fully qualified path to your class matches exactly what&#39;s in your jar file.  If you do unzip -l /location-of-jar/myjar.jar, and see something other than com/mypackage/myClass, this is your problem.   (For instance, if you see bin/com/mypackage/myClass, you should have cd&#39;ed into bin to build your jar file; what you have won&#39;t work.)","body":"A possible failure path to watch out for in case this doesn&#39;t work: be sure your fully qualified path to your class matches exactly what&#39;s in your jar file.  If you do unzip -l /location-of-jar/myjar.jar, and see something other than com/mypackage/myClass, this is your problem.   (For instance, if you see bin/com/mypackage/myClass, you should have cd&#39;ed into bin to build your jar file; what you have won&#39;t work.)"},{"owner":{"account_id":267224,"reputation":602,"user_id":555264,"accept_rate":80,"display_name":"Breno Inojosa"},"score":1,"creation_date":1452892236,"post_id":6780789,"comment_id":57382193,"body_markdown":"use MyClass, not myClass","body":"use MyClass, not myClass"},{"owner":{"account_id":4079887,"reputation":546,"user_id":3350632,"accept_rate":57,"display_name":"Vaibhav_Sharma"},"score":0,"creation_date":1562852130,"post_id":6780789,"comment_id":100515619,"body_markdown":"By trying the above I am getting the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: cucumber/api/cli/Main\n        at com.company.project.demo.bdd.runner.Execute.main(Execute.java:20)\nCaused by: java.lang.ClassNotFoundException: cucumber.api.cli.Main\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more","body":"By trying the above I am getting the error Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: cucumber/api/cli/Main         at com.company.project.demo.bdd.runner.Execute.main(Execute.jav&zwnj;&#8203;a:20) Caused by: java.lang.ClassNotFoundException: cucumber.api.cli.Main         at java.net.URLClassLoader.findClass(Unknown Source)         at java.lang.ClassLoader.loadClass(Unknown Source)         at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)         at java.lang.ClassLoader.loadClass(Unknown Source)         ... 1 more"},{"owner":{"account_id":16200410,"reputation":691,"user_id":13569065,"display_name":"Dan"},"score":0,"creation_date":1596517638,"post_id":6780789,"comment_id":111828347,"body_markdown":"if you on linux use &#39;:&#39; instead of &#39;;&#39; for adding dependent jars, the classpath separator &#39;:&#39; is &#39;;&#39; on windows. example:-&gt; java -cp dependentfile1.jar:dependentfile2.jar:c:\\location_of_jar\\myjar.jar com.mypackage.myClass","body":"if you on linux use &#39;:&#39; instead of &#39;;&#39; for adding dependent jars, the classpath separator &#39;:&#39; is &#39;;&#39; on windows. example:-&gt; java -cp dependentfile1.jar:dependentfile2.jar:c:\\location_of_jar\\myj&zwnj;&#8203;ar.jar com.mypackage.myClass"}],"tags":[],"owner":{"account_id":136706,"reputation":12442,"user_id":340390,"accept_rate":81,"display_name":"Bitmap"},"comment_count":5,"down_vote_count":0,"up_vote_count":307,"is_accepted":true,"score":307,"last_activity_date":1392058158,"creation_date":1311272573,"answer_id":6780789,"question_id":6780678,"body_markdown":"Use `java -cp myjar.jar com.mypackage.myClass`.\r\n\r\n1. If the class is not in a package then simply `java -cp myjar.jar myClass`. \r\n\r\n2. If you are not within the directory where `myJar.jar` is located, then you can do:\r\n\r\n   1. On Unix or Linux platforms:\r\n\r\n        `java -cp /location_of_jar/myjar.jar com.mypackage.myClass`\r\n\r\n   2. On Windows:\r\n\r\n         `java -cp c:\\location_of_jar\\myjar.jar com.mypackage.myClass`","title":"Run class in Jar file","body":"<p>Use <code>java -cp myjar.jar com.mypackage.myClass</code>.</p>\n\n<ol>\n<li><p>If the class is not in a package then simply <code>java -cp myjar.jar myClass</code>. </p></li>\n<li><p>If you are not within the directory where <code>myJar.jar</code> is located, then you can do:</p>\n\n<ol>\n<li><p>On Unix or Linux platforms:</p>\n\n<p><code>java -cp /location_of_jar/myjar.jar com.mypackage.myClass</code></p></li>\n<li><p>On Windows:</p>\n\n<p><code>java -cp c:\\location_of_jar\\myjar.jar com.mypackage.myClass</code></p></li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1709566,"reputation":209,"user_id":1567882,"display_name":"Gaurav Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1528476908,"creation_date":1343806441,"answer_id":11754570,"question_id":6780678,"body_markdown":"There are two types of JAR files available in Java:\r\n\r\n1. Runnable/Executable jar file which contains manifest file.\r\nTo run a Runnable jar you can use `java -jar fileName.jar` or `java -jar -classpath abc.jar fileName.jar`\r\n\r\n2. Simple jar file that does not contain a manifest file so you simply run your main class by giving its path `java -cp ./fileName.jar MainClass`\r\n\r\n","title":"Run class in Jar file","body":"<p>There are two types of JAR files available in Java:</p>\n\n<ol>\n<li><p>Runnable/Executable jar file which contains manifest file.\nTo run a Runnable jar you can use <code>java -jar fileName.jar</code> or <code>java -jar -classpath abc.jar fileName.jar</code></p></li>\n<li><p>Simple jar file that does not contain a manifest file so you simply run your main class by giving its path <code>java -cp ./fileName.jar MainClass</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14742442,"reputation":11,"user_id":10646776,"display_name":"ubersucks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542121307,"creation_date":1542119635,"answer_id":53283321,"question_id":6780678,"body_markdown":"This is the right way to execute a `.jar`, and whatever one class in that `.jar` should have `main()` and the following are the parameters to it :\r\n\r\n    java -DLB=&quot;uk&quot; -DType=&quot;CLIENT_IND&quot; -jar com.fbi.rrm.rrm-batchy-1.5.jar","title":"Run class in Jar file","body":"<p>This is the right way to execute a <code>.jar</code>, and whatever one class in that <code>.jar</code> should have <code>main()</code> and the following are the parameters to it :</p>\n\n<pre><code>java -DLB=\"uk\" -DType=\"CLIENT_IND\" -jar com.fbi.rrm.rrm-batchy-1.5.jar\n</code></pre>\n"}],"owner":{"account_id":791709,"reputation":2165,"user_id":850579,"accept_rate":60,"display_name":"jim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":377928,"favorite_count":0,"down_vote_count":0,"up_vote_count":209,"accepted_answer_id":6780789,"answer_count":5,"score":209,"last_activity_date":1679231195,"creation_date":1311272033,"question_id":6780678,"body_markdown":"If you have a jar file called ```myJar.jar``` located in **/myfolder** and you want to use the class called ```myClass``` from it, how do you go about doing it from the command line?\r\n\r\nI thought it would be to go into the directory and say ```java -cp myJar.jar.myClass``` but that isn&#39;t working.","title":"Run class in Jar file","body":"<p>If you have a jar file called <code>myJar.jar</code> located in <strong>/myfolder</strong> and you want to use the class called <code>myClass</code> from it, how do you go about doing it from the command line?</p>\n<p>I thought it would be to go into the directory and say <code>java -cp myJar.jar.myClass</code> but that isn't working.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":12,"creation_date":1490950535,"post_id":40866202,"comment_id":73350128,"body_markdown":"@IslamAbdalla Not always, a simple string.split() should not have &quot;regex: &quot; in front of the parameter, it&#39;s obnoxious.","body":"@IslamAbdalla Not always, a simple string.split() should not have &quot;regex: &quot; in front of the parameter, it&#39;s obnoxious."},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":2,"creation_date":1492591294,"post_id":40866202,"comment_id":74036021,"body_markdown":"@Kevin why shouldn&#39;t it have &quot;regex:&quot; in front of the parameter? It helps in reminding you that, despite appearances, `string.split(&quot;.&quot;)` does *not* split on the dots.","body":"@Kevin why shouldn&#39;t it have &quot;regex:&quot; in front of the parameter? It helps in reminding you that, despite appearances, <code>string.split(&quot;.&quot;)</code> does <i>not</i> split on the dots."},{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1492897587,"post_id":40866202,"comment_id":74180722,"body_markdown":"@KlitosKyriacou That&#39;s more an issue of method naming, not one of showing the name of a parameter or not.","body":"@KlitosKyriacou That&#39;s more an issue of method naming, not one of showing the name of a parameter or not."},{"owner":{"account_id":934757,"reputation":4886,"user_id":963901,"accept_rate":61,"display_name":"Ben Guild"},"score":34,"creation_date":1494568543,"post_id":40866202,"comment_id":74893208,"body_markdown":"I have to say, this feature is super annoying. Like the slow animation in which the things appear, and also the fact that it shifts the rest of the code around so that you visually lose your place... not sure what they were thinking","body":"I have to say, this feature is super annoying. Like the slow animation in which the things appear, and also the fact that it shifts the rest of the code around so that you visually lose your place... not sure what they were thinking"},{"owner":{"account_id":51086,"reputation":3321,"user_id":152543,"accept_rate":54,"display_name":"Anm"},"score":10,"creation_date":1496015205,"post_id":40866202,"comment_id":75475990,"body_markdown":"Regarding readability: It may help when viewing in this particular tool, but if someone reads your code outside of IntelliJ, they won&#39;t see the hints. I believe such readability issues should be resolved in the choice of variable names (and maybe creation of variables names), and just generally better APIs.\n\n**Plus...** it obscures line length, where that is a style issue in some environments.","body":"Regarding readability: It may help when viewing in this particular tool, but if someone reads your code outside of IntelliJ, they won&#39;t see the hints. I believe such readability issues should be resolved in the choice of variable names (and maybe creation of variables names), and just generally better APIs.  <b>Plus...</b> it obscures line length, where that is a style issue in some environments."},{"owner":{"account_id":3014209,"reputation":1479,"user_id":2556867,"accept_rate":44,"display_name":"degr"},"score":7,"creation_date":1497966161,"post_id":40866202,"comment_id":76294772,"body_markdown":"idea have ctrl+p hot key, which show same information. This tooltips is garbage.","body":"idea have ctrl+p hot key, which show same information. This tooltips is garbage."},{"owner":{"account_id":8105269,"reputation":506,"user_id":6107026,"display_name":"Mukherjee"},"score":9,"creation_date":1499756676,"post_id":40866202,"comment_id":77029139,"body_markdown":"showing the parameter name in the calling list is super annoying. I just want it to show what I&#39;m typing in it. It just makes the code more unreadable.","body":"showing the parameter name in the calling list is super annoying. I just want it to show what I&#39;m typing in it. It just makes the code more unreadable."},{"owner":{"account_id":861898,"reputation":101,"user_id":1250932,"display_name":"Micha Berger"},"score":5,"creation_date":1502205197,"post_id":40866202,"comment_id":78103545,"body_markdown":"I agree with @Joe. Positioning your cursor to edit a paramter is a HUGE pain in the neck. Just shut it off.\n\nWould be happier with a pop-up hint on hover.","body":"I agree with @Joe. Positioning your cursor to edit a paramter is a HUGE pain in the neck. Just shut it off.  Would be happier with a pop-up hint on hover."},{"owner":{"account_id":7350428,"reputation":1298,"user_id":5960850,"display_name":"Matthew Woo"},"score":3,"creation_date":1502240934,"post_id":40866202,"comment_id":78119719,"body_markdown":"When I look at my code, columns can be horrendously over the specified limit and I can&#39;t read lines of code without side-scrolling. I can&#39;t autoformat to fix this because these hints aren&#39;t counted toward that limit.","body":"When I look at my code, columns can be horrendously over the specified limit and I can&#39;t read lines of code without side-scrolling. I can&#39;t autoformat to fix this because these hints aren&#39;t counted toward that limit."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":2,"creation_date":1510521377,"post_id":40866202,"comment_id":81458491,"body_markdown":"All fun and games until code review time, then back to &quot;what exactly does `true` mean here?&quot;","body":"All fun and games until code review time, then back to &quot;what exactly does <code>true</code> mean here?&quot;"},{"owner":{"account_id":3681418,"reputation":2994,"user_id":3066295,"display_name":"TT--"},"score":0,"creation_date":1536764762,"post_id":40866202,"comment_id":91544377,"body_markdown":"linked https://stackoverflow.com/questions/38734111/how-to-show-method-parameters-hint-in-intellij-idea","body":"linked <a href=\"https://stackoverflow.com/questions/38734111/how-to-show-method-parameters-hint-in-intellij-idea\" title=\"how to show method parameters hint in intellij idea\">stackoverflow.com/questions/38734111/&hellip;</a>"},{"owner":{"account_id":114996,"reputation":481,"user_id":302151,"accept_rate":29,"display_name":"G&#233;za"},"score":0,"creation_date":1633518819,"post_id":40866202,"comment_id":122779537,"body_markdown":"If you know that it called a &quot;hint&quot; then you can type &quot;hint&quot; into the settings filter and you can find this setup entry that may be in different places according to the IDE  version. And you can also learn other possibilities: hints on completion that may be useful even if you don&#39;t want to see hints general, and color scheme for hints.","body":"If you know that it called a &quot;hint&quot; then you can type &quot;hint&quot; into the settings filter and you can find this setup entry that may be in different places according to the IDE  version. And you can also learn other possibilities: hints on completion that may be useful even if you don&#39;t want to see hints general, and color scheme for hints."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1658156665,"post_id":40866202,"comment_id":128975376,"body_markdown":"This feature is confusing particularly to newcomers. I see questions like &quot;Why doesn&#39;t this work when I call a method: `myObj.someMethod(name: &quot;arg&quot;, age: 23)`&quot; on a regular base. Examples: [here](https://stackoverflow.com/q/64006134/507738) and [here](https://stackoverflow.com/q/71865654/507738).","body":"This feature is confusing particularly to newcomers. I see questions like &quot;Why doesn&#39;t this work when I call a method: <code>myObj.someMethod(name: &quot;arg&quot;, age: 23)</code>&quot; on a regular base. Examples: <a href=\"https://stackoverflow.com/q/64006134/507738\">here</a> and <a href=\"https://stackoverflow.com/q/71865654/507738\">here</a>."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1658410089,"post_id":40866202,"comment_id":129048536,"body_markdown":"Oh, and [here](https://stackoverflow.com/q/73066884/507738).","body":"Oh, and <a href=\"https://stackoverflow.com/q/73066884/507738\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":8976748,"reputation":1022,"user_id":6693304,"accept_rate":33,"display_name":"KulaGGin"},"score":3,"creation_date":1641942887,"post_id":40866260,"comment_id":124939316,"body_markdown":"Isn&#39;t there anymore. Now it&#39;s in the  **Settings  Editor  Inlay Hints  Java  Show parameter hints for**.","body":"Isn&#39;t there anymore. Now it&#39;s in the  <b>Settings  Editor  Inlay Hints  Java  Show parameter hints for</b>."}],"tags":[],"owner":{"display_name":"user180100"},"comment_count":1,"down_vote_count":3,"up_vote_count":21,"is_accepted":false,"score":18,"last_activity_date":1480423470,"creation_date":1480423470,"answer_id":40866260,"question_id":40866202,"body_markdown":"From the [what&#39;s new page][1]:\r\n\r\n&gt;Parameter hints\r\n&gt;---------------\r\n\r\n&gt;The editor now shows parameter hints for literals and nulls used as method arguments. These hints make code much more readable.\r\n\r\n&gt;If you find hints redundant for a certain method, you can tell the IDE not to show hints for this method. **To disable hints completely, uncheck Settings  Editor  General  Appearance  Show parameter name hints.**\r\n\r\n(emphasis is mine)\r\n\r\n  [1]: https://www.jetbrains.com/idea/whatsnew/#v2016-3-user-interface","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>From the <a href=\"https://www.jetbrains.com/idea/whatsnew/#v2016-3-user-interface\" rel=\"noreferrer\">what's new page</a>:</p>\n\n<blockquote>\n  <h2>Parameter hints</h2>\n  \n  <p>The editor now shows parameter hints for literals and nulls used as method arguments. These hints make code much more readable.</p>\n  \n  <p>If you find hints redundant for a certain method, you can tell the IDE not to show hints for this method. <strong>To disable hints completely, uncheck Settings  Editor  General  Appearance  Show parameter name hints.</strong></p>\n</blockquote>\n\n<p>(emphasis is mine)</p>\n"},{"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":1,"creation_date":1549286045,"post_id":40866309,"comment_id":95836626,"body_markdown":"Just to be clear, this isnt the very bottom option in IntelliJ 2019.X... its somewhere near the middle of this pane. :)","body":"Just to be clear, this isnt the very bottom option in IntelliJ 2019.X... its somewhere near the middle of this pane. :)"},{"owner":{"account_id":1625605,"reputation":5548,"user_id":1501234,"accept_rate":72,"display_name":"Jaroslaw Pawlak"},"score":23,"creation_date":1577990884,"post_id":40866309,"comment_id":105304711,"body_markdown":"In IntelliJ 2019 it is in not in the `Appearance`, not even in the `General`. It is in `Editor -&gt; Inlay Hints -&gt; Parameter hints`.","body":"In IntelliJ 2019 it is in not in the <code>Appearance</code>, not even in the <code>General</code>. It is in <code>Editor -&gt; Inlay Hints -&gt; Parameter hints</code>."},{"owner":{"account_id":1183116,"reputation":101,"user_id":1157593,"display_name":"kaung htet naing"},"score":1,"creation_date":1656640438,"post_id":40866309,"comment_id":128627695,"body_markdown":"for Intellij IDEA 2022\nEditor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this","body":"for Intellij IDEA 2022 Editor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this"}],"tags":[],"owner":{"account_id":1285793,"reputation":6110,"user_id":1238944,"accept_rate":100,"display_name":"agilob"},"comment_count":3,"down_vote_count":3,"up_vote_count":303,"is_accepted":false,"score":300,"last_activity_date":1480423629,"creation_date":1480423629,"answer_id":40866309,"question_id":40866202,"body_markdown":"Untick the bottom option `Show parameter name hints`\r\n\r\n[![Show parameter name hints][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T9qiO.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Untick the bottom option <code>Show parameter name hints</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/T9qiO.png\"><img src=\"https://i.stack.imgur.com/T9qiO.png\" alt=\"Show parameter name hints\"></a></p>\n"},{"comments":[{"owner":{"account_id":413111,"reputation":3791,"user_id":786559,"accept_rate":85,"display_name":"Ciprian Tomoiag"},"score":2,"creation_date":1492859134,"post_id":42483229,"comment_id":74167991,"body_markdown":"The keyboard shortcut for this `Alt + Q` (Context Info)","body":"The keyboard shortcut for this <code>Alt + Q</code> (Context Info)"},{"owner":{"account_id":413111,"reputation":3791,"user_id":786559,"accept_rate":85,"display_name":"Ciprian Tomoiag"},"score":2,"creation_date":1514976707,"post_id":42483229,"comment_id":83125363,"body_markdown":"@Custodio indeed, I forgot to specify that was on under the default Windows/Linux keymap. [Apparently](https://www.jetbrains.com/help/idea/alt.html?keymap=secondary_mac_os_x_10.5_) on Mac it is `Q ` (Ctrl + Shift + Q)","body":"@Custodio indeed, I forgot to specify that was on under the default Windows/Linux keymap. <a href=\"https://www.jetbrains.com/help/idea/alt.html?keymap=secondary_mac_os_x_10.5_\" rel=\"nofollow noreferrer\">Apparently</a> on Mac it is <code>Q </code> (Ctrl + Shift + Q)"},{"owner":{"account_id":42063,"reputation":58411,"user_id":122422,"accept_rate":56,"display_name":"B T"},"score":0,"creation_date":1672766535,"post_id":42483229,"comment_id":132346494,"body_markdown":"God why is this so difficult. There are like 5 different related options that don&#39;t seem to do anything if I disable them. This answer is the only one that actually worked. Thanks!","body":"God why is this so difficult. There are like 5 different related options that don&#39;t seem to do anything if I disable them. This answer is the only one that actually worked. Thanks!"}],"tags":[],"owner":{"account_id":5346811,"reputation":3500,"user_id":4262148,"accept_rate":100,"display_name":"another"},"comment_count":3,"down_vote_count":0,"up_vote_count":207,"is_accepted":true,"score":207,"last_activity_date":1488190989,"creation_date":1488190989,"answer_id":42483229,"question_id":40866202,"body_markdown":"Right click on the hint, then on `Disable`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/hySga.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Right click on the hint, then on <code>Disable</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hySga.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hySga.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":2,"creation_date":1585674112,"post_id":45546299,"comment_id":107843012,"body_markdown":"This solution was a win for me.  Sometimes the parameter hints are useful, sometimes they&#39;re annoying, and an easy toggle was exactly what I wanted.  (The only challenge was finding an unused key combination that I could remember!)","body":"This solution was a win for me.  Sometimes the parameter hints are useful, sometimes they&#39;re annoying, and an easy toggle was exactly what I wanted.  (The only challenge was finding an unused key combination that I could remember!)"},{"owner":{"account_id":1802816,"reputation":726,"user_id":1640696,"accept_rate":40,"display_name":"Ben"},"score":0,"creation_date":1615624955,"post_id":45546299,"comment_id":117753098,"body_markdown":"If you want to toggle all inlay hints than make a key for &#39;Toggle Inlay Hints Globally&#39; ( I used SHIFT+H )","body":"If you want to toggle all inlay hints than make a key for &#39;Toggle Inlay Hints Globally&#39; ( I used SHIFT+H )"}],"tags":[],"owner":{"account_id":314179,"reputation":14010,"user_id":629222,"accept_rate":82,"display_name":"wired00"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1511982038,"creation_date":1502106839,"answer_id":45546299,"question_id":40866202,"body_markdown":"I find it helpful to use a shortcut such as `P + shift + command` to toggle parameter type hinting as needed. I don&#39;t want it disabled entirely.\n\r\n 1. open preferences\r\n 2. click Keymap\r\n 3. filter by `parameter`\n 4. double click on `Toggle parameter name hints`\r\n 5. enter key combination ie, `P + shift + command`\r\n 6. Apply and Ok\r\n 7. Now the key combo will toggle hints for you.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ypFab.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>I find it helpful to use a shortcut such as <code>P + shift + command</code> to toggle parameter type hinting as needed. I don't want it disabled entirely.</p>\n\n<ol>\n<li>open preferences</li>\n<li>click Keymap</li>\n<li>filter by <code>parameter</code></li>\n<li>double click on <code>Toggle parameter name hints</code></li>\n<li>enter key combination ie, <code>P + shift + command</code></li>\n<li>Apply and Ok</li>\n<li>Now the key combo will toggle hints for you.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/ypFab.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ypFab.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":1000261,"reputation":2029,"user_id":1015289,"accept_rate":100,"display_name":"Wayne Phipps"},"score":1,"creation_date":1546343500,"post_id":49826835,"comment_id":94827728,"body_markdown":"lol, @AfonsoLage I think you have a typo, better off deleting and re-commenting if you can no longer edit","body":"lol, @AfonsoLage I think you have a typo, better off deleting and re-commenting if you can no longer edit"},{"owner":{"account_id":1876089,"reputation":281,"user_id":1697276,"accept_rate":75,"display_name":"Afonso Lage"},"score":0,"creation_date":1546446682,"post_id":49826835,"comment_id":94856416,"body_markdown":"CTRL + SHIFT + A on Linux, tested here.","body":"CTRL + SHIFT + A on Linux, tested here."},{"owner":{"account_id":9353984,"reputation":5199,"user_id":6942666,"accept_rate":33,"display_name":"Eric Wiener"},"score":0,"creation_date":1587219601,"post_id":49826835,"comment_id":108426643,"body_markdown":"If you keep getting a pop-up from terminal when you try CMD + SHIFT + A: https://intellij-support.jetbrains.com/hc/en-us/articles/360005137400-Cmd-Shift-A-hotkey-opens-Terminal-with-apropos-search-instead-of-the-Find-Action-dialog","body":"If you keep getting a pop-up from terminal when you try CMD + SHIFT + A: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360005137400-Cmd-Shift-A-hotkey-opens-Terminal-with-apropos-search-instead-of-the-Find-Action-dialog\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"}],"tags":[],"owner":{"account_id":1382384,"reputation":4062,"user_id":1315110,"accept_rate":88,"display_name":"Alex Styl"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1625334078,"creation_date":1523666929,"answer_id":49826835,"question_id":40866202,"body_markdown":"Others have already answered this, but here is a way of finding it without jumping into menus.\r\n\r\nTry hitting ` + Shift + A` on Mac or `CTRL + SHIFT + A` on Linux and type the `Show parameter name hints` into the search bar.\r\n\r\n[![Show parameter appears when searching from the Action/Option name search bar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qm8PP.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>Others have already answered this, but here is a way of finding it without jumping into menus.</p>\n<p>Try hitting <code> + Shift + A</code> on Mac or <code>CTRL + SHIFT + A</code> on Linux and type the <code>Show parameter name hints</code> into the search bar.</p>\n<p><a href=\"https://i.stack.imgur.com/Qm8PP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qm8PP.png\" alt=\"Show parameter appears when searching from the Action/Option name search bar\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2647045,"reputation":1925,"user_id":2289514,"accept_rate":75,"display_name":"Alex Kalmikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1595759886,"creation_date":1593671501,"answer_id":62690288,"question_id":40866202,"body_markdown":"In latest version you can find it under **Settings  Editor  Inlay Hints**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pY5yz.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>In latest version you can find it under <strong>Settings  Editor  Inlay Hints</strong></p>\n<p><a href=\"https://i.stack.imgur.com/pY5yz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pY5yz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":2263902,"reputation":30920,"user_id":1993204,"accept_rate":90,"display_name":"Bartek Lipinski"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611908375,"creation_date":1611908375,"answer_id":65950957,"question_id":40866202,"body_markdown":"1. ` + Shift + A`\r\n2. Type `Inlay Hints`\r\n3. **Make sure that the language of your choice has `Types` set up properly!!!** Here&#39;s an example for Kotlin:\r\n[![Inlay Hints settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZixZ.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<ol>\n<li><code> + Shift + A</code></li>\n<li>Type <code>Inlay Hints</code></li>\n<li><strong>Make sure that the language of your choice has <code>Types</code> set up properly!!!</strong> Here's an example for Kotlin:\n<a href=\"https://i.stack.imgur.com/5ZixZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5ZixZ.png\" alt=\"Inlay Hints settings\" /></a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":57402,"reputation":29252,"user_id":171950,"accept_rate":55,"display_name":"Muhammad Hewedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1651237259,"creation_date":1651237259,"answer_id":72058388,"question_id":40866202,"body_markdown":"As of 2022, it&#39;s been renamed to &quot;inlay hints&quot;\r\n\r\nYou can disable it by pressing `shift` + `shift`, then type `inlay hints` and then disable it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uySEj.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>As of 2022, it's been renamed to &quot;inlay hints&quot;</p>\n<p>You can disable it by pressing <code>shift</code> + <code>shift</code>, then type <code>inlay hints</code> and then disable it.</p>\n<p><a href=\"https://i.stack.imgur.com/uySEj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uySEj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":79869,"reputation":3010,"user_id":226181,"accept_rate":85,"display_name":"matrix"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656198929,"creation_date":1656198929,"answer_id":72757913,"question_id":40866202,"body_markdown":"As on 2022 (WebStorm 2022.1.2), the option is under the *Editor  Inlay Hints*. Uncheck the parameter names checkbox.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2BW8o.png","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>As on 2022 (WebStorm 2022.1.2), the option is under the <em>Editor  Inlay Hints</em>. Uncheck the parameter names checkbox.</p>\n<p><a href=\"https://i.stack.imgur.com/2BW8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2BW8o.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1183116,"reputation":101,"user_id":1157593,"display_name":"kaung htet naing"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656640480,"creation_date":1656640480,"answer_id":72823663,"question_id":40866202,"body_markdown":"For Intellij IDEA 2022\r\nEditor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>For Intellij IDEA 2022\nEditor -&gt; Inlay Hints -&gt; Code vision -&gt; Usages , Uncheck this</p>\n"}],"owner":{"account_id":2492505,"reputation":10493,"user_id":2169693,"accept_rate":74,"display_name":"G.S"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96210,"favorite_count":0,"down_vote_count":0,"up_vote_count":322,"accepted_answer_id":42483229,"answer_count":10,"score":322,"last_activity_date":1679230897,"creation_date":1480423276,"question_id":40866202,"body_markdown":"I am new to IntelliJ and recently updated to **IntelliJ-2016.3**.  \r\nIn the editor for Java code, it shows the method signature upon usage. How do I disable this feature?\r\n\r\nHere&#39;s an example of a method&#39;s signature and its call site:\r\n\r\n![1]\r\n\r\n**Method call:**  \r\n\r\n![2]\r\n\r\nThis behavior was not there in 2016.1.4 version. I am seeing this after update.\r\n\r\n  [1]: https://i.stack.imgur.com/qMA5c.jpg\r\n  [2]: https://i.stack.imgur.com/ZZXXy.jpg","title":"IntelliJ shows method parameter hints on usage - How to disable it","body":"<p>I am new to IntelliJ and recently updated to <strong>IntelliJ-2016.3</strong>.<br />\nIn the editor for Java code, it shows the method signature upon usage. How do I disable this feature?</p>\n<p>Here's an example of a method's signature and its call site:</p>\n<p><img src=\"https://i.stack.imgur.com/qMA5c.jpg\" alt=\"1\" /></p>\n<p><strong>Method call:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/ZZXXy.jpg\" alt=\"2\" /></p>\n<p>This behavior was not there in 2016.1.4 version. I am seeing this after update.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":11766240,"reputation":578,"user_id":14056755,"display_name":"Marcin Rzepecki"},"score":0,"creation_date":1679168734,"post_id":75778240,"comment_id":133674612,"body_markdown":"What spring boot version are you using?","body":"What spring boot version are you using?"},{"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"score":0,"creation_date":1679168856,"post_id":75778240,"comment_id":133674629,"body_markdown":"added my gradle file for the information","body":"added my gradle file for the information"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679172022,"post_id":75778240,"comment_id":133675045,"body_markdown":"Try TRACE rather than trace.","body":"Try TRACE rather than trace."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679232412,"post_id":75778240,"comment_id":133680627,"body_markdown":"Does this answer your question? [How to log SQL statements with query param values in Spring Boot 3/Hibernate 6](https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74862254/how-to-log-sql-statements-with-query-param-values-in-spring-boot-3-hibernate-6\">How to log SQL statements with query param values in Spring Boot 3/Hibernate 6</a>"}],"owner":{"account_id":3479550,"reputation":699,"user_id":2911983,"accept_rate":72,"display_name":"itsmarziparzi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679230878,"creation_date":1679168304,"question_id":75778240,"body_markdown":"I&#39;ve been trying every variation to print the query parameters, but I can&#39;t get them to print.\r\n\r\nI have the log level set to &quot;trace&quot; but it doesn&#39;t seem to print any trace level. Is there anything I should probably check?\r\n\r\nI have these in the applications.properties\r\n```\r\nspring.jpa.show-sql=true\r\nlogging.level.org.hibernate.SQL=DEBUG\r\nlogging.level.org.hibernate.type=trace\r\n```\r\n\r\nAs seen below, the trace message wouldn&#39;t show\r\n\r\n```\r\n[2m2023-03-19T04:26:46.061+09:00[0;39m [32mDEBUG[0;39m [35m11145[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36morg.hibernate.SQL                       [0;39m [2m:[0;39m insert into relgroup_word (word_id, relgroup_id) values (?, ?)\r\nHibernate: insert into relgroup_word (word_id, relgroup_id) values (?, ?)\r\n```\r\n\r\nMy build.gradle is as below\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.4&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.kakaobank&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\timplementation &#39;com.h2database:h2&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```","title":"Why would &quot;hibernate.type=trace&quot; not work in Spring Boot?","body":"<p>I've been trying every variation to print the query parameters, but I can't get them to print.</p>\n<p>I have the log level set to &quot;trace&quot; but it doesn't seem to print any trace level. Is there anything I should probably check?</p>\n<p>I have these in the applications.properties</p>\n<pre><code>spring.jpa.show-sql=true\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=trace\n</code></pre>\n<p>As seen below, the trace message wouldn't show</p>\n<pre><code>[2m2023-03-19T04:26:46.061+09:00[0;39m [32mDEBUG[0;39m [35m11145[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36morg.hibernate.SQL                       [0;39m [2m:[0;39m insert into relgroup_word (word_id, relgroup_id) values (?, ?)\nHibernate: insert into relgroup_word (word_id, relgroup_id) values (?, ?)\n</code></pre>\n<p>My build.gradle is as below</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.4'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.kakaobank'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    implementation 'com.h2database:h2'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","validation","objectmapper","spring-boot-test","mockmvc"],"comments":[{"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"score":0,"creation_date":1564854635,"post_id":57340548,"comment_id":101169898,"body_markdown":"Did you run the application for checking if the endpoint is working with Postman or another similar tool ?. Please include your `pom.xml` in your answer","body":"Did you run the application for checking if the endpoint is working with Postman or another similar tool ?. Please include your <code>pom.xml</code> in your answer"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1564855821,"post_id":57340548,"comment_id":101170184,"body_markdown":"Did you try printing out the string returned by `writeValueAsString` to validate it? (I _very_ strongly suspect you&#39;re getting a &quot;timestamp&quot; format, and don&#39;t use `Local*` for anything except user calendars; use `Instant` instead.)","body":"Did you try printing out the string returned by <code>writeValueAsString</code> to validate it? (I <i>very</i> strongly suspect you&#39;re getting a &quot;timestamp&quot; format, and don&#39;t use <code>Local*</code> for anything except user calendars; use <code>Instant</code> instead.)"},{"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"score":0,"creation_date":1564856371,"post_id":57340548,"comment_id":101170303,"body_markdown":"@EduardoEljaiek Yes, it runs properly when I use postman tool.","body":"@EduardoEljaiek Yes, it runs properly when I use postman tool."},{"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"score":0,"creation_date":1564894514,"post_id":57340548,"comment_id":101175880,"body_markdown":"@chrylis Thanks for your suggestion! LocalDateTime parsed to days, month, years when mapped to JSON string so the conflict came up. I made LocalDateTime nullable and this time it worked out. I&#39;m trying to come up with a solid solution and post the answer.","body":"@chrylis Thanks for your suggestion! LocalDateTime parsed to days, month, years when mapped to JSON string so the conflict came up. I made LocalDateTime nullable and this time it worked out. I&#39;m trying to come up with a solid solution and post the answer."}],"answers":[{"tags":[],"owner":{"account_id":9774998,"reputation":3031,"user_id":7245379,"display_name":"eHayik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579256047,"creation_date":1564855809,"answer_id":57340953,"question_id":57340548,"body_markdown":"This is how I implement my rest controllers test. Maybe It could help you.\r\n\r\nI&#39;ve this abstract class to encapsulate common tests functionalities regarding to the *JSON* mapping.\r\n```java\r\n    import lombok.SneakyThrows;\r\n    import lombok.val;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\r\n    import org.springframework.mock.http.MockHttpOutputMessage;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Arrays;\r\n    \r\n    import static org.junit.Assert.assertNotNull;\r\n    \r\n    public abstract class RestControllerTest {\r\n    \r\n        private final MediaType contentType = new MediaType(MediaType.APPLICATION_JSON.getType(),\r\n                MediaType.APPLICATION_JSON.getSubtype(),\r\n                StandardCharsets.UTF_8);\r\n    \r\n        private HttpMessageConverter messageConverter;\r\n    \r\n        protected MediaType getContentType() {\r\n            return contentType;\r\n        }\r\n    \r\n        @Autowired\r\n        void setConverters(HttpMessageConverter&lt;?&gt;[] converters) {\r\n            messageConverter = Arrays.stream(converters)\r\n                    .filter(hmc -&gt; hmc instanceof MappingJackson2HttpMessageConverter)\r\n                    .findAny()\r\n                    .orElse(null);\r\n    \r\n            assertNotNull(&quot;the JSON message converter must not be null&quot;,\r\n                    messageConverter);\r\n        }\r\n    \r\n        @SneakyThrows\r\n        protected String toJson(Object data) {\r\n            val mockHttpOutputMessage = new MockHttpOutputMessage();\r\n            messageConverter.write(\r\n                    data, MediaType.APPLICATION_JSON, mockHttpOutputMessage);\r\n            return mockHttpOutputMessage.getBodyAsString();\r\n        }\r\n    }\r\n```\r\nYou could use it in your test class like this\r\n```java\r\n    @WebMvcTest(UserController.class)\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest extends RestControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(toJson(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }\r\n```\r\nI hope it works for you","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>This is how I implement my rest controllers test. Maybe It could help you.</p>\n\n<p>I've this abstract class to encapsulate common tests functionalities regarding to the <em>JSON</em> mapping.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    import lombok.SneakyThrows;\n    import lombok.val;\n    import org.springframework.beans.factory.annotation.Autowired;\n    import org.springframework.http.MediaType;\n    import org.springframework.http.converter.HttpMessageConverter;\n    import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;\n    import org.springframework.mock.http.MockHttpOutputMessage;\n\n    import java.nio.charset.StandardCharsets;\n    import java.util.Arrays;\n\n    import static org.junit.Assert.assertNotNull;\n\n    public abstract class RestControllerTest {\n\n        private final MediaType contentType = new MediaType(MediaType.APPLICATION_JSON.getType(),\n                MediaType.APPLICATION_JSON.getSubtype(),\n                StandardCharsets.UTF_8);\n\n        private HttpMessageConverter messageConverter;\n\n        protected MediaType getContentType() {\n            return contentType;\n        }\n\n        @Autowired\n        void setConverters(HttpMessageConverter&lt;?&gt;[] converters) {\n            messageConverter = Arrays.stream(converters)\n                    .filter(hmc -&gt; hmc instanceof MappingJackson2HttpMessageConverter)\n                    .findAny()\n                    .orElse(null);\n\n            assertNotNull(\"the JSON message converter must not be null\",\n                    messageConverter);\n        }\n\n        @SneakyThrows\n        protected String toJson(Object data) {\n            val mockHttpOutputMessage = new MockHttpOutputMessage();\n            messageConverter.write(\n                    data, MediaType.APPLICATION_JSON, mockHttpOutputMessage);\n            return mockHttpOutputMessage.getBodyAsString();\n        }\n    }\n</code></pre>\n\n<p>You could use it in your test class like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    @WebMvcTest(UserController.class)\n    @AutoConfigureMockMvc(addFilters = false)\n    public class UserControllerTest extends RestControllerTest {\n\n        @Autowired\n        MockMvc mockMvc;\n\n        @Test\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\n            User user = new User(\"John\", \"QPublic\", \"john.public@gmail.com\",\n                    \"123456789\", LocalDateTime.now(), LocalDateTime.now());      \n            mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                    .content(toJson(user))\n                    .contentType(MediaType.APPLICATION_JSON)\n                    )\n                    .andExpect(MockMvcResultMatchers.status().isOk());\n        }\n    }\n</code></pre>\n\n<p>I hope it works for you</p>\n"},{"tags":[],"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1564899010,"creation_date":1564899010,"answer_id":57344253,"question_id":57340548,"body_markdown":"As chrylis mentioned in comments, the problem occurred due to Java 8 Date &amp; Time API and Jackson serialization conflicts. By default, `ObjectMapper` doesn&#39;t understand the `LocalDateTime` data type, so I need to add ` com.fasterxml.jackson.datatype:jackson-datatype-jsr310` dependency to my maven which is a datatype module to make Jackson recognize Java 8 Date &amp; Time API data types. A [stackoverflow question][1] and a [blog post][2] helped me to figure out what actually my problem was.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\r\n  [2]: https://touk.pl/blog/2016/02/12/formatting-java-time-with-spring-boot-using-json/","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>As chrylis mentioned in comments, the problem occurred due to Java 8 Date &amp; Time API and Jackson serialization conflicts. By default, <code>ObjectMapper</code> doesn't understand the <code>LocalDateTime</code> data type, so I need to add <code>com.fasterxml.jackson.datatype:jackson-datatype-jsr310</code> dependency to my maven which is a datatype module to make Jackson recognize Java 8 Date &amp; Time API data types. A <a href=\"https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\">stackoverflow question</a> and a <a href=\"https://touk.pl/blog/2016/02/12/formatting-java-time-with-spring-boot-using-json/\" rel=\"nofollow noreferrer\">blog post</a> helped me to figure out what actually my problem was.</p>\n"},{"tags":[],"owner":{"account_id":11022381,"reputation":242,"user_id":8096208,"display_name":"WonChul Heo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564990628,"creation_date":1564990628,"answer_id":57354126,"question_id":57340548,"body_markdown":"If `LocalDateTime` is not a problem, I think we should implement` equals` in User class.","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>If <code>LocalDateTime</code> is not a problem, I think we should implement<code>equals</code> in User class.</p>\n"},{"tags":[],"owner":{"account_id":3486623,"reputation":547,"user_id":2917389,"display_name":"jlar310"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679230869,"creation_date":1565005552,"answer_id":57357955,"question_id":57340548,"body_markdown":"Spring is not necessarily providing you with a &quot;vanilla&quot; ObjectMapper instance. By having Spring inject the `ObjectMapper` instance into the test instead of creating an `ObjectMapper` with the default constructor, you will get an instance that matches your actual run-time environment, provided that your Spring profile for your unit tests is set up correctly.\r\n\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest {\r\n\r\n        @Autowired\r\n        MockMvc mockMvc;\r\n\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n\r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(objectMapper.writeValueAsString(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>Spring is not necessarily providing you with a &quot;vanilla&quot; ObjectMapper instance. By having Spring inject the <code>ObjectMapper</code> instance into the test instead of creating an <code>ObjectMapper</code> with the default constructor, you will get an instance that matches your actual run-time environment, provided that your Spring profile for your unit tests is set up correctly.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\npublic class UserControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Autowired\n    ObjectMapper objectMapper;\n\n    @Test\n    public void whenRequestValid_thenReturnStatusOk() throws Exception{\n        User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\n                &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\n                .content(objectMapper.writeValueAsString(user))\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3756337,"reputation":263,"user_id":3156071,"display_name":"Shahin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57344253,"answer_count":4,"score":1,"last_activity_date":1679230869,"creation_date":1564852572,"question_id":57340548,"body_markdown":"I&#39;m testing a `@RestContoller` in Spring Boot which has a `@PostMapping` method and the method `@RequestBody` is validated using `@Valid` annotation. To test it, I&#39;m using `MockMvc` and in order to populate request body content I&#39;m using `Jackson ObjectMapper`; however, when the model is passed, the test fails: \r\n\r\n    MockHttpServletRequest:\r\n          HTTP Method = POST\r\n          Request URI = /api/user/register\r\n           Parameters = {}\r\n              Headers = [Content-Type:&quot;application/json&quot;]\r\n                 Body = &lt;no character encoding set&gt;\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = com.springboottutorial.todoapp.controller.UserController\r\n               Method = public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.springboottutorial.todoapp.controller.UserController.register(com.springboottutorial.todoapp.dao.model.User)\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = org.springframework.http.converter.HttpMessageNotReadableException\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 400\r\n        Error message = null\r\n              Headers = []\r\n         Content type = null\r\n                 Body = \r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: Status \r\n    Expected :200\r\n    Actual   :400\r\n\r\nUser Model:\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;,\r\n            uniqueConstraints = @UniqueConstraint(columnNames = {&quot;EMAIL&quot;}))\r\n    public class User {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;ID&quot;)\r\n    private long id;\r\n    \r\n    @Column(name = &quot;FIRST_NAME&quot;)\r\n    @NotNull\r\n    private String firstName;\r\n    \r\n    @Column(name = &quot;LAST_NAME&quot;)\r\n    @NotNull\r\n    private String lastName;\r\n    \r\n    @Column(name = &quot;EMAIL&quot;)\r\n    @NotNull\r\n    @Email\r\n    private String emailAddress;\r\n    \r\n    @Column(name = &quot;PASSWORD&quot;)\r\n    @NotNull\r\n    private String password;\r\n    \r\n    @Column(name = &quot;CREATED_AT&quot;)\r\n    @NotNull\r\n    @Convert(converter = LocalDateTimeConveter.class)\r\n    private LocalDateTime createdAt;\r\n    \r\n    @Column(name = &quot;UPDATED_AT&quot;)\r\n    @NotNull\r\n    @Convert(converter = LocalDateTimeConveter.class)\r\n    private LocalDateTime updatedAt;\r\n\r\n    public User(@NotNull String firstName, @NotNull String lastName,\r\n                    @NotNull @Email String emailAddress, @NotNull String password,\r\n                    @NotNull LocalDateTime createdAt, @NotNull LocalDateTime updatedAt) {\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.emailAddress = emailAddress;\r\n            this.password = password;\r\n            this.createdAt = createdAt;\r\n            this.updatedAt = updatedAt;\r\n        }\r\n\r\n    //setters and getters: omitted\r\n\r\nUserController:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        UserService userService;\r\n    \r\n        @PostMapping(&quot;/register&quot;)\r\n        public ResponseEntity&lt;String&gt; register(@RequestBody @Valid User user){\r\n            userService.createUser(user);\r\n            return ResponseEntity.ok().build();\r\n        }\r\n    }\r\n\r\nUserControllerTest:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc(addFilters = false)\r\n    public class UserControllerTest {\r\n    \r\n        @Autowired\r\n        MockMvc mockMvc;\r\n    \r\n        @Test\r\n        public void whenRequestValid_thenReturnStatusOk() throws Exception{\r\n            User user = new User(&quot;John&quot;, &quot;QPublic&quot;, &quot;john.public@gmail.com&quot;,\r\n                    &quot;123456789&quot;, LocalDateTime.now(), LocalDateTime.now());      \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(new ObjectMapper().writeValueAsString(user))\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n        }\r\n    }\r\n\r\nWhen I build JSON string manually, the test passes: \r\n\r\n \r\n\r\n    String json = &quot;{\\n&quot; +\r\n                    &quot;\\t\\&quot;firstName\\&quot; : \\&quot;John\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;lastName\\&quot; : \\&quot;QPublic\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;password\\&quot; : \\&quot;123456789\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;createdAt\\&quot; : \\&quot;2016-11-09T11:44:44.797\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;updatedAt\\&quot; : \\&quot;2016-11-09T11:44:44.797\\&quot;,\\n&quot; +\r\n                    &quot;\\t\\&quot;emailAddress\\&quot; : \\&quot;john.public@gmail.com\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n    \r\n            mockMvc.perform(MockMvcRequestBuilders.post(&quot;/api/user/register&quot;)\r\n                    .content(json)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    )\r\n                    .andExpect(MockMvcResultMatchers.status().isOk());\r\n    ","title":"Spring Boot Test: UserControllerTest Fails When Using Jackson ObjectMapper To Convert Model To JSON String","body":"<p>I'm testing a <code>@RestContoller</code> in Spring Boot which has a <code>@PostMapping</code> method and the method <code>@RequestBody</code> is validated using <code>@Valid</code> annotation. To test it, I'm using <code>MockMvc</code> and in order to populate request body content I'm using <code>Jackson ObjectMapper</code>; however, when the model is passed, the test fails: </p>\n\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /api/user/register\n       Parameters = {}\n          Headers = [Content-Type:\"application/json\"]\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {}\n\nHandler:\n             Type = com.springboottutorial.todoapp.controller.UserController\n           Method = public org.springframework.http.ResponseEntity&lt;java.lang.String&gt; com.springboottutorial.todoapp.controller.UserController.register(com.springboottutorial.todoapp.dao.model.User)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = org.springframework.http.converter.HttpMessageNotReadableException\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 400\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: Status \nExpected :200\nActual   :400\n</code></pre>\n\n<p>User Model:</p>\n\n<pre><code>@Entity\n@Table(name = \"users\",\n        uniqueConstraints = @UniqueConstraint(columnNames = {\"EMAIL\"}))\npublic class User {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"ID\")\nprivate long id;\n\n@Column(name = \"FIRST_NAME\")\n@NotNull\nprivate String firstName;\n\n@Column(name = \"LAST_NAME\")\n@NotNull\nprivate String lastName;\n\n@Column(name = \"EMAIL\")\n@NotNull\n@Email\nprivate String emailAddress;\n\n@Column(name = \"PASSWORD\")\n@NotNull\nprivate String password;\n\n@Column(name = \"CREATED_AT\")\n@NotNull\n@Convert(converter = LocalDateTimeConveter.class)\nprivate LocalDateTime createdAt;\n\n@Column(name = \"UPDATED_AT\")\n@NotNull\n@Convert(converter = LocalDateTimeConveter.class)\nprivate LocalDateTime updatedAt;\n\npublic User(@NotNull String firstName, @NotNull String lastName,\n                @NotNull @Email String emailAddress, @NotNull String password,\n                @NotNull LocalDateTime createdAt, @NotNull LocalDateTime updatedAt) {\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailAddress = emailAddress;\n        this.password = password;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n    }\n\n//setters and getters: omitted\n</code></pre>\n\n<p>UserController:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/user\")\npublic class UserController {\n\n    @Autowired\n    UserService userService;\n\n    @PostMapping(\"/register\")\n    public ResponseEntity&lt;String&gt; register(@RequestBody @Valid User user){\n        userService.createUser(user);\n        return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n\n<p>UserControllerTest:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@AutoConfigureMockMvc(addFilters = false)\npublic class UserControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void whenRequestValid_thenReturnStatusOk() throws Exception{\n        User user = new User(\"John\", \"QPublic\", \"john.public@gmail.com\",\n                \"123456789\", LocalDateTime.now(), LocalDateTime.now());      \n        mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                .content(new ObjectMapper().writeValueAsString(user))\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n    }\n}\n</code></pre>\n\n<p>When I build JSON string manually, the test passes: </p>\n\n<pre><code>String json = \"{\\n\" +\n                \"\\t\\\"firstName\\\" : \\\"John\\\",\\n\" +\n                \"\\t\\\"lastName\\\" : \\\"QPublic\\\",\\n\" +\n                \"\\t\\\"password\\\" : \\\"123456789\\\",\\n\" +\n                \"\\t\\\"createdAt\\\" : \\\"2016-11-09T11:44:44.797\\\",\\n\" +\n                \"\\t\\\"updatedAt\\\" : \\\"2016-11-09T11:44:44.797\\\",\\n\" +\n                \"\\t\\\"emailAddress\\\" : \\\"john.public@gmail.com\\\"\\n\" +\n                \"}\";\n\n        mockMvc.perform(MockMvcRequestBuilders.post(\"/api/user/register\")\n                .content(json)\n                .contentType(MediaType.APPLICATION_JSON)\n                )\n                .andExpect(MockMvcResultMatchers.status().isOk());\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678651792,"post_id":75699149,"comment_id":133570780,"body_markdown":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want.","body":"Why don&#39;t pass through a simple POJO that match json structure ? After you can manage fields as you want."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678797157,"post_id":75699149,"comment_id":133599591,"body_markdown":"I don&#39;t know the structure of this json","body":"I don&#39;t know the structure of this json"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1678884670,"post_id":75699149,"comment_id":133619079,"body_markdown":"You can put it in a map, jackson does that.","body":"You can put it in a map, jackson does that."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678955155,"post_id":75699149,"comment_id":133633843,"body_markdown":"That&#39;s what I do, update the example with: \n`Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)`","body":"That&#39;s what I do, update the example with:  <code>Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class)</code>"},{"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"score":0,"creation_date":1678973552,"post_id":75699149,"comment_id":133639286,"body_markdown":"do you have to use the `KeyDeserializer` ?","body":"do you have to use the <code>KeyDeserializer</code> ?"},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679064229,"post_id":75699149,"comment_id":133658950,"body_markdown":"yes, I have to use KeyDeserializer","body":"yes, I have to use KeyDeserializer"}],"answers":[{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678991217,"post_id":75756951,"comment_id":133644937,"body_markdown":"I don&#39;t want to print the json. I just want the keys","body":"I don&#39;t want to print the json. I just want the keys"},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1679039255,"post_id":75756951,"comment_id":133652627,"body_markdown":"extracting the keys form this should be more than easy.","body":"extracting the keys form this should be more than easy."},{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":0,"creation_date":1679040281,"post_id":75756951,"comment_id":133652867,"body_markdown":"@Boaz added an example how to get the keys.","body":"@Boaz added an example how to get the keys."},{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679063992,"post_id":75756951,"comment_id":133658886,"body_markdown":"added explanation in the question. Im not looking for way to manipulate maps in Java. The question is why KeyDeserializer doesn&#39;t work","body":"added explanation in the question. Im not looking for way to manipulate maps in Java. The question is why KeyDeserializer doesn&#39;t work"}],"tags":[],"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679040262,"creation_date":1678973360,"answer_id":75756951,"question_id":75699149,"body_markdown":"There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tJsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\r\n\t\t\t\t{\r\n\t\t\t\t    &quot;upper_key&quot;:\r\n\t\t\t\t    {\r\n\t\t\t\t        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n\t\t\t\t        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n\t\t\t\t    },\r\n\t\t\t\t    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n\t\t\t\t}&quot;&quot;&quot;, JsonNode.class);\r\n\r\n\t\textractKeys(jsonNode);\r\n\t}\r\n\r\n\tpublic static void extractKeys(JsonNode jsonNode) {\r\n\r\n\t\tjsonNode.fieldNames().forEachRemaining(name -&gt; {\r\n\t\t\tSystem.out.println(name);\r\n\t\t\tJsonNode subnode = jsonNode.get(name);\r\n\r\n\t\t\tif (subnode.isObject()) {\r\n\t\t\t\textractKeys(subnode);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\nprints:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2\r\n    upper_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>There is no need for overriding a Deserializer. For dynamic JSONs you could simply use a JsonNode and then parse the structure however you want afterwards:</p>\n<pre><code>public static void main(String[] args) throws Exception {\n    JsonNode jsonNode = new ObjectMapper().readValue(&quot;&quot;&quot;\n            {\n                &quot;upper_key&quot;:\n                {\n                    &quot;lower_key&quot;: &quot;lower_value&quot;,\n                    &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n                },\n                &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n            }&quot;&quot;&quot;, JsonNode.class);\n\n    extractKeys(jsonNode);\n}\n\npublic static void extractKeys(JsonNode jsonNode) {\n\n    jsonNode.fieldNames().forEachRemaining(name -&gt; {\n        System.out.println(name);\n        JsonNode subnode = jsonNode.get(name);\n\n        if (subnode.isObject()) {\n            extractKeys(subnode);\n        }\n    });\n}\n</code></pre>\n<p>prints:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1678991262,"post_id":75757320,"comment_id":133644949,"body_markdown":"&quot;KeyDeserializer call deserialize Key just for upper key&quot; -&gt; where did you see this written?","body":"&quot;KeyDeserializer call deserialize Key just for upper key&quot; -&gt; where did you see this written?"}],"tags":[],"owner":{"account_id":10798342,"reputation":318,"user_id":7943248,"display_name":"Zeuzif"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678975162,"creation_date":1678975162,"answer_id":75757320,"question_id":75699149,"body_markdown":"KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example\r\n\r\n```\r\nprivate static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\r\n\t\tif (value.isObject()) {\r\n\t\t\tIterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\r\n\t\t\tfields.forEachRemaining(field -&gt; {\r\n\t\t\t\tkeys.add(field.getKey());\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\r\n\t\t\t});\r\n\t\t} else if (value.isArray()) {\r\n\t\t\tArrayNode arrayField = (ArrayNode) value;\r\n\t\t\tarrayField.forEach(node -&gt; {\r\n\t\t\t\tgetAllKeysUsingJsonNodeFieldNames(node, keys);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nand call it from your main class\r\n\r\n```\r\npublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tList&lt;String&gt; keys = new ArrayList&lt;&gt;();\r\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\r\n\t\tgetAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\r\n\t\tSystem.out.println(keys);\r\n}\r\n```","title":"Override Jackson default KeyDeserializer","body":"<p>KeyDeserializer call deserialize Key just for upper key. but you can get all keys by creating your own implementation for example</p>\n<pre><code>private static void getAllKeysUsingJsonNodeFieldNames(JsonNode value, List&lt;String&gt; keys) {\n        if (value.isObject()) {\n            Iterator&lt;Entry&lt;String, JsonNode&gt;&gt; fields = value.fields();\n            fields.forEachRemaining(field -&gt; {\n                keys.add(field.getKey());\n                getAllKeysUsingJsonNodeFieldNames((JsonNode) field.getValue(), keys);\n            });\n        } else if (value.isArray()) {\n            ArrayNode arrayField = (ArrayNode) value;\n            arrayField.forEach(node -&gt; {\n                getAllKeysUsingJsonNodeFieldNames(node, keys);\n        });\n    }\n}\n</code></pre>\n<p>and call it from your main class</p>\n<pre><code>public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        List&lt;String&gt; keys = new ArrayList&lt;&gt;();\n        JsonNode jsonNode = mapper.readValue(jsonString, JsonNode.class);\n        getAllKeysUsingJsonNodeFieldNames(jsonNode, keys);\n        System.out.println(keys);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679246174,"post_id":75771952,"comment_id":133682915,"body_markdown":"Thanks for the detailed answer but as you mentioned your answer does not apply to my original json. The type have to be Map&lt;String, Object&gt;  and not  Map&lt;String, Map&gt;.","body":"Thanks for the detailed answer but as you mentioned your answer does not apply to my original json. The type have to be Map&lt;String, Object&gt;  and not  Map&lt;String, Map&gt;."}],"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679086447,"creation_date":1679084781,"answer_id":75771952,"question_id":75699149,"body_markdown":"Let&#39;s look at KeyDeserializer javadoc:\r\n\r\n&gt; KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map **keys**.\r\n\r\nNote word keys here. KeyDeserializer is used **only** for map keys deserialization. In your case your target type is `Map&lt;String, Object&gt;`. Any other types aren&#39;t affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:\r\n\r\n 1. It sees target type as *Map&lt;String, Object&gt;*. It means that for deserializaiton *MapDeserializer* class should be used. \r\n2. *MapDeserializer* uses for keys deserialization class that you provided.\r\n3. For values deserialization *UntypedObjectDeserializer* is used, because value type is object.\r\n\r\nWith your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match *Map&lt;String, Map&lt;String, String&gt;&gt;*):\r\n```json\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    }\r\n}\r\n```\r\nand next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to *Map&lt;Object, Object&gt;*&quot;):\r\n```java\r\nObjectMapper mapper = new ObjectMapper();\r\nSimpleModule module = new SimpleModule();\r\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\r\nmapper.registerModule(module);\r\n\r\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\r\n\r\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\r\n```\r\n\r\n\r\noutput will be as you want:\r\n\r\n    upper_key\r\n    lower_key\r\n    lower_key_2","title":"Override Jackson default KeyDeserializer","body":"<p>Let's look at KeyDeserializer javadoc:</p>\n<blockquote>\n<p>KeyDeserializer: class that defines API used for deserializing JSON content field names into Java Map <strong>keys</strong>.</p>\n</blockquote>\n<p>Note word keys here. KeyDeserializer is used <strong>only</strong> for map keys deserialization. In your case your target type is <code>Map&lt;String, Object&gt;</code>. Any other types aren't affected by KeyDeserializer. That is the reason why your code behaves like that. Jackson basically does next steps:</p>\n<ol>\n<li>It sees target type as <em>Map&lt;String, Object&gt;</em>. It means that for deserializaiton <em>MapDeserializer</em> class should be used.</li>\n<li><em>MapDeserializer</em> uses for keys deserialization class that you provided.</li>\n<li>For values deserialization <em>UntypedObjectDeserializer</em> is used, because value type is object.</li>\n</ol>\n<p>With your initial JSON it is impossible to apply key deserializer so lower keys will be affected by key deserializer: you need to have Map type instead of object. If you will use next JSON (I removed second upper key from original JSON because I want object to strictly match <em>Map&lt;String, Map&lt;String, String&gt;&gt;</em>):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    }\n}\n</code></pre>\n<p>and next code (Note that key deserializer registered for Object type, and map typed as &quot;Object to Map&quot;, i.e. &quot;Object to <em>Map&lt;Object, Object&gt;</em>&quot;):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addKeyDeserializer(Object.class, new MyKeyParser());\n\nmapper.registerModule(module);\n\nMapType mapType = mapper.getTypeFactory().constructMapType(Map.class, Object.class, Map.class);\n\nMap&lt;String, Map&lt;String, String&gt;&gt; map = mapper.readValue(jsonString, mapType);\n</code></pre>\n<p>output will be as you want:</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"score":0,"creation_date":1679245966,"post_id":75772327,"comment_id":133682876,"body_markdown":"it works! can you explain why the AbstractTypeMapping helps?","body":"it works! can you explain why the AbstractTypeMapping helps?"},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1679300317,"post_id":75772327,"comment_id":133689998,"body_markdown":"@Boaz I think the reason is [here](https://github.com/FasterXML/jackson-databind/blob/07ac7a71c9bc406827ba4e3e2708dbda6ec451f7/src/main/java/com/fasterxml/jackson/databind/deser/std/UntypedObjectDeserializer.java#L247): when you set an explicit Map type, `UntypedObjectDeserializer` doesn&#39;t call `mapObject()` anymore.","body":"@Boaz I think the reason is <a href=\"https://github.com/FasterXML/jackson-databind/blob/07ac7a71c9bc406827ba4e3e2708dbda6ec451f7/src/main/java/com/fasterxml/jackson/databind/deser/std/UntypedObjectDeserializer.java#L247\" rel=\"nofollow noreferrer\">here</a>: when you set an explicit Map type, <code>UntypedObjectDeserializer</code> doesn&#39;t call <code>mapObject()</code> anymore."}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679088057,"creation_date":1679088057,"answer_id":75772327,"question_id":75699149,"body_markdown":"The fact that Jackson doesn&#39;t use the `KeyDeserializer` for nested objects is explained by [Le0pold&#39;s answer](https://stackoverflow.com/a/75771952/12763954).\r\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\r\n[`addAbstractTypeMapping()`](https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-) like this:\r\n\r\n``` lang-java\r\nimport java.util.*;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.*;\r\nimport com.fasterxml.jackson.databind.module.SimpleModule;\r\n\r\npublic class Test\r\n{\r\n    public static void main(String[] args) throws JsonProcessingException\r\n    {\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tSimpleModule module = new SimpleModule();\r\n\t\tmodule.addKeyDeserializer(Object.class, new MyKeyParser());\r\n\t\tmodule.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\r\n\t\tmapper.registerModule(module);\r\n\r\n\t\tString jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\r\n\t\tMap map = mapper.readValue(jsonString, Map.class);\r\n    }\r\n\r\n\tpublic static class MyKeyParser extends KeyDeserializer\r\n\t{\r\n\t\t@Override\r\n\t\tpublic Object deserializeKey(String key, DeserializationContext deserializationContext)\r\n\t\t{\r\n\t\t\tSystem.out.println(key);\r\n\t\t\treturn key;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n``` lang-none\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n","title":"Override Jackson default KeyDeserializer","body":"<p>The fact that Jackson doesn't use the <code>KeyDeserializer</code> for nested objects is explained by <a href=\"https://stackoverflow.com/a/75771952/12763954\">Le0pold's answer</a>.\nHowever, there is a trick to make it work as expected (tested with Jackson 2.12.7): call\n<a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.12/com/fasterxml/jackson/databind/module/SimpleModule.html#addAbstractTypeMapping-java.lang.Class-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>addAbstractTypeMapping()</code></a> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.*;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\n\npublic class Test\n{\n    public static void main(String[] args) throws JsonProcessingException\n    {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule();\n        module.addKeyDeserializer(Object.class, new MyKeyParser());\n        module.addAbstractTypeMapping(Map.class, LinkedHashMap.class); // this line does the trick\n        mapper.registerModule(module);\n\n        String jsonString = &quot;{\\&quot;upper_key\\&quot;: {\\&quot;lower_key\\&quot;: \\&quot;lower_value\\&quot;, \\&quot;lower_key_2\\&quot;: \\&quot;lower_value_2\\&quot;}, \\&quot;upper_key_2\\&quot;: \\&quot;upper_value_2\\&quot;}&quot;;\n        Map map = mapper.readValue(jsonString, Map.class);\n    }\n\n    public static class MyKeyParser extends KeyDeserializer\n    {\n        @Override\n        public Object deserializeKey(String key, DeserializationContext deserializationContext)\n        {\n            System.out.println(key);\n            return key;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n"}],"owner":{"account_id":5576335,"reputation":1262,"user_id":4419613,"display_name":"Boaz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75772327,"answer_count":4,"score":0,"last_activity_date":1679230738,"creation_date":1678468623,"question_id":75699149,"body_markdown":"Im trying to override the default KeyDeserializer but it seems to work only on top level key:\r\n\r\nThe input JSON\r\n```\r\n{\r\n    &quot;upper_key&quot;:\r\n    {\r\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\r\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\r\n    },\r\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\r\n}\r\n\r\n```\r\n\r\nThe mapper I use\r\n```\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\r\n    mapper.registerModule(module);\r\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\r\n```\r\n\r\nand the KeyDeserializer\r\n\r\n```\r\npublic class MyKeyParser extends KeyDeserializer {\r\n\r\n  @Override\r\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\r\n    System.out.println(key);\r\n    return key;\r\n  }\r\n\r\n}\r\n```\r\n\r\nThe print output for the given json is:\r\n```\r\nupper_key\r\nupper_key_2\r\n```\r\n\r\nWhat I expected it to be (order doesn&#39;t matter)\r\n```\r\nupper_key\r\nlower_key\r\nlower_key_2\r\nupper_key_2\r\n```\r\n\r\nWhat I&#39;m missing?\r\n\r\nEDIT:  \r\nI see some answers give alternative ways to get the keys but this is not the question.  \r\nI want to understand how to use the KeyDeserializer.  \r\nMy real intent is to alter the keys - for example add suffix. so I don&#39;t want to iterate over the map twice and create 2 maps.  \r\n\r\nI know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.\r\n\r\nThank you","title":"Override Jackson default KeyDeserializer","body":"<p>Im trying to override the default KeyDeserializer but it seems to work only on top level key:</p>\n<p>The input JSON</p>\n<pre><code>{\n    &quot;upper_key&quot;:\n    {\n        &quot;lower_key&quot;: &quot;lower_value&quot;,\n        &quot;lower_key_2&quot;: &quot;lower_value_2&quot;\n    },\n    &quot;upper_key_2&quot;: &quot;upper_value_2&quot;\n}\n\n</code></pre>\n<p>The mapper I use</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule();\n    module.addKeyDeserializer(Object.class, new MyKeyParser());\n    mapper.registerModule(module);\n    Map&lt;String, Object&gt; map = mapper.readValue(jsonString, Map.class);\n</code></pre>\n<p>and the KeyDeserializer</p>\n<pre><code>public class MyKeyParser extends KeyDeserializer {\n\n  @Override\n  public String deserializeKey(String key, DeserializationContext deserializationContext) {\n    System.out.println(key);\n    return key;\n  }\n\n}\n</code></pre>\n<p>The print output for the given json is:</p>\n<pre><code>upper_key\nupper_key_2\n</code></pre>\n<p>What I expected it to be (order doesn't matter)</p>\n<pre><code>upper_key\nlower_key\nlower_key_2\nupper_key_2\n</code></pre>\n<p>What I'm missing?</p>\n<p>EDIT:<br />\nI see some answers give alternative ways to get the keys but this is not the question.<br />\nI want to understand how to use the KeyDeserializer.<br />\nMy real intent is to alter the keys - for example add suffix. so I don't want to iterate over the map twice and create 2 maps.</p>\n<p>I know I can write a Map.class Deserializer and do everything there. But the question is why the KeyDeserializer work only on top level keys and not how to manipulate maps.</p>\n<p>Thank you</p>\n"},{"tags":["java","sql","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":1,"creation_date":1679145331,"post_id":75775642,"comment_id":133670896,"body_markdown":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in.","body":"My opinion is create a query method for each set of criteria and use a method in the service layer to call the appropriate method based on the non null arguments that are passed in."},{"owner":{"account_id":18669557,"reputation":640,"user_id":13608717,"display_name":"Daniel"},"score":0,"creation_date":1679152747,"post_id":75775642,"comment_id":133672070,"body_markdown":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support","body":"I agree with @Calvin here - such approach would also be much easier to read, test &amp; support"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679154863,"post_id":75775642,"comment_id":133672460,"body_markdown":"alternatively, you can use JpaSpecifications for dynamic jpa queries. \nhttps://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl","body":"alternatively, you can use JpaSpecifications for dynamic jpa queries.  <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a>"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679169106,"post_id":75775642,"comment_id":133674656,"body_markdown":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, thats just my personal opinion.","body":"If you start having more optional criteria, then I agree with @EmanuelTrandafir. JpaSpecifications would be the way to go. For the few optionals you have here, either option would suffice. Again, thats just my personal opinion."}],"owner":{"account_id":15338304,"reputation":173,"user_id":11066001,"display_name":"Yashika Chandra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679230685,"creation_date":1679139729,"question_id":75775642,"body_markdown":"     @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\r\n                            &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\r\n                            &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\r\n                    Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\r\n\r\n\r\n\r\nwrite a query where mykey and statusType is a mandatory column and the rest are optional.\r\n\r\nIn **createdTime** startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.\r\n\r\nif only startTime has value then search from startTime and its above.\r\n\r\nif only endTime has value then search from endTime and it&#39;s below.\r\n\r\nif both do not have any value then search on the rest column.\r\n\r\nFor **Title**, it could search on a like basis.\r\n\r\nIssue -\r\n\r\n 1. for the title it&#39;s returning on an equal basis. \r\n 2. For createTime if any of field is missing does not give any output.\r\n3. if any optional field is missing, there is no output\r\n\r\n","title":"How to write a Spring data jpa method for optional parameter","body":"<pre><code> @Query(&quot;select m from MaterialMetadata m where m.myKey= :myKey and m.statusType= :statusType &quot; +\n                        &quot;and (m.createdTime&gt;= :startTime or :startTime=0) and (m.createdTime&lt;= :endTime or :endTime=0) &quot; +\n                        &quot;and (m.userKey= :userKey or :userKey is null) and (m.title like %:title% or :title is null)&quot;)\n                Page&lt;MaterialMetadata&gt; findByMyKeyAndStatusTypeAndCreatedTimeAndUserKeyAndTitleContainingIgnoreCase(@Param(&quot;myKey&quot;) String myKey, @Param(&quot;statusType&quot;) StatusType statusType, @Param(&quot;startTime&quot;) long startTime, @Param(&quot;endTime&quot;) long endTime, @Param(&quot;userKey&quot;) String userKey, @Param(&quot;title&quot;) String title, Pageable pageable);\n</code></pre>\n<p>write a query where mykey and statusType is a mandatory column and the rest are optional.</p>\n<p>In <strong>createdTime</strong> startTime and endTime is could be 0 or they have value, if they have value then search the time in between the start and end time.</p>\n<p>if only startTime has value then search from startTime and its above.</p>\n<p>if only endTime has value then search from endTime and it's below.</p>\n<p>if both do not have any value then search on the rest column.</p>\n<p>For <strong>Title</strong>, it could search on a like basis.</p>\n<p>Issue -</p>\n<ol>\n<li>for the title it's returning on an equal basis.</li>\n<li>For createTime if any of field is missing does not give any output.</li>\n<li>if any optional field is missing, there is no output</li>\n</ol>\n"},{"tags":["java","jmx"],"answers":[{"comments":[{"owner":{"account_id":1274862,"reputation":2293,"user_id":1230329,"accept_rate":90,"display_name":"Scott "},"score":0,"creation_date":1637550305,"post_id":39196767,"comment_id":123847935,"body_markdown":"perfect ref url...","body":"perfect ref url..."}],"tags":[],"owner":{"display_name":"user2066936"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1679230536,"creation_date":1472427419,"answer_id":39196767,"question_id":34508184,"body_markdown":"Change \r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n\r\nto\r\n\r\n    QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\r\nSince type &quot;type&quot; is not an attribute.\r\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the `ObjectName`, you can construct the object name like so:\r\n\r\n    String objectName = &quot;*:type=Hello&quot;;\r\n\r\nThen make the query as before:\r\n\r\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>Change</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\n</code></pre>\n<p>to</p>\n<pre><code>QueryExp exp = Query.eq(Query.attr(&quot;Message&quot;), Query.value(&quot;Hello World&quot;));\n</code></pre>\n<p>Since type &quot;type&quot; is not an attribute.\nAlternatively, if you are trying to query by &quot;type,&quot; which is part of the <code>ObjectName</code>, you can construct the object name like so:</p>\n<pre><code>String objectName = &quot;*:type=Hello&quot;;\n</code></pre>\n<p>Then make the query as before:</p>\n<pre><code>Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n</code></pre>\n"}],"owner":{"account_id":1859873,"reputation":410,"user_id":1684651,"accept_rate":40,"display_name":"user1684651"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4641,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679230536,"creation_date":1451381348,"question_id":34508184,"body_markdown":"I&#39;d like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: \r\n\r\n\r\n    public class CreateAndRegisterMBeanInMBeanServer {\r\n\r\n    /**\r\n     * @param args\r\n     */\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        String objectName = &quot;com.javacodegeeks.snippets.enterprise:type=Hello&quot;;\r\n        QueryExp exp = Query.eq(Query.attr(&quot;type&quot;), Query.value(&quot;Hello&quot;));\r\n        \r\n\r\n        MBeanServer server = ManagementFactory.getPlatformMBeanServer();\r\n\r\n        // Construct the ObjectName for the Hello MBean we will register\r\n        ObjectName mbeanName = new ObjectName(objectName);\r\n\r\n        Hello mbean = new Hello();\r\n\r\n        server.registerMBean(mbean, mbeanName);\r\n\r\n        Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\r\n        System.out.println(instances.size());\r\n\r\n        for (int i = 0; i &lt; instances.size(); i++) {\r\n            ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\r\n\r\n            System.out.println(&quot;Class Name:t&quot; + instance.getClassName());\r\n            System.out.println(&quot;Object Name:t&quot; + instance.getObjectName());\r\n        }\r\n\r\n    }\r\n\r\n    static class Hello implements HelloMBean {\r\n\r\n        private String message = &quot;Hello World&quot;;\r\n\r\n        @Override\r\n        public String getMessage() {\r\n            return this.message;\r\n        }\r\n\r\n        @Override\r\n        public void sayHello() {\r\n            System.out.println(message);\r\n        }\r\n\r\n        @Override\r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n    }\r\n\r\n    static interface HelloMBean {\r\n\r\n        // operations\r\n\r\n        public void sayHello();\r\n\r\n        // attributes\r\n\r\n        // a read-write attribute called Message of type String\r\n        public String getMessage();\r\n\r\n        public void setMessage(String message);\r\n\r\n    }\r\n\r\n}\r\n\r\nI can get expected out:\r\n1\r\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\r\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello\r\n\r\nBut if I change my code to use defined QueryExp exp as:\r\n\r\nSet&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), exp);\r\n\r\nI can not see any selected MBean, Is that the correct way to use such Query Exp ? \r\n\r\nThanks,\r\n","title":"JMX MBeanServer.queryMBeans with Query exp does not work","body":"<p>I'd like to use MBeanServer.queryMBeans(ObjectName name, QueryExp query) to get MBeans with query expression, but it seems it does not really work with QueryExp query. For example I have such test code: </p>\n\n<pre><code>public class CreateAndRegisterMBeanInMBeanServer {\n\n/**\n * @param args\n */\npublic static void main(String[] args) throws Exception {\n\n    String objectName = \"com.javacodegeeks.snippets.enterprise:type=Hello\";\n    QueryExp exp = Query.eq(Query.attr(\"type\"), Query.value(\"Hello\"));\n\n\n    MBeanServer server = ManagementFactory.getPlatformMBeanServer();\n\n    // Construct the ObjectName for the Hello MBean we will register\n    ObjectName mbeanName = new ObjectName(objectName);\n\n    Hello mbean = new Hello();\n\n    server.registerMBean(mbean, mbeanName);\n\n    Set&lt;ObjectInstance&gt; instances = server.queryMBeans(new ObjectName(objectName), null);\n    System.out.println(instances.size());\n\n    for (int i = 0; i &lt; instances.size(); i++) {\n        ObjectInstance instance = (ObjectInstance) instances.toArray()[i];\n\n        System.out.println(\"Class Name:t\" + instance.getClassName());\n        System.out.println(\"Object Name:t\" + instance.getObjectName());\n    }\n\n}\n\nstatic class Hello implements HelloMBean {\n\n    private String message = \"Hello World\";\n\n    @Override\n    public String getMessage() {\n        return this.message;\n    }\n\n    @Override\n    public void sayHello() {\n        System.out.println(message);\n    }\n\n    @Override\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n}\n\nstatic interface HelloMBean {\n\n    // operations\n\n    public void sayHello();\n\n    // attributes\n\n    // a read-write attribute called Message of type String\n    public String getMessage();\n\n    public void setMessage(String message);\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I can get expected out:\n1\nClass Name:tCreateAndRegisterMBeanInMBeanServer$Hello\nObject Name:tcom.javacodegeeks.snippets.enterprise:type=Hello</p>\n\n<p>But if I change my code to use defined QueryExp exp as:</p>\n\n<p>Set instances = server.queryMBeans(new ObjectName(objectName), exp);</p>\n\n<p>I can not see any selected MBean, Is that the correct way to use such Query Exp ? </p>\n\n<p>Thanks,</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679228911,"creation_date":1679228911,"question_id":75781981,"body_markdown":"I want different default values for my request, I don&#39;t want the ones that Swagger suggests.\r\n\r\nLet&#39;s say I want this class to have some default values:\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Example{\r\n    private Long id;\r\n    private String title;\r\n}\r\n```\r\n\r\nI did some research and tried this @Schema annotation, but unfortunately nothing changed:\r\n```\r\n    @PutMapping(&quot;/{id}&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\r\n    @Operation(\r\n            summary = &quot;test&quot;,\r\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\r\n            content = @Content(\r\n                    mediaType = &quot;application/json&quot;,\r\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\r\n            )\r\n    ))\r\n    public Example uploadExample(\r\n            @PathVariable(&quot;id&quot;) Long id,\r\n            @RequestBody() Example example) {\r\n\r\n        return exampleService.uploadExample(id, example);\r\n    }\r\n```\r\n\r\nSwaggerConstants looks like this:\r\n```\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class SwaggerConstants {\r\n    public static final String EXAMPLE_DEFAULT_VALUES =\r\n            &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\r\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n}\r\n```","title":"Swagger v3 default values for Request body do not work","body":"<p>I want different default values for my request, I don't want the ones that Swagger suggests.</p>\n<p>Let's say I want this class to have some default values:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Example{\n    private Long id;\n    private String title;\n}\n</code></pre>\n<p>I did some research and tried this @Schema annotation, but unfortunately nothing changed:</p>\n<pre><code>    @PutMapping(&quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @ApiResponse(responseCode = &quot;200&quot;, description = &quot;test&quot;)\n    @Operation(\n            summary = &quot;test&quot;,\n            requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(\n            content = @Content(\n                    mediaType = &quot;application/json&quot;,\n                    schema = @Schema(implementation = Example.class, example = SwaggerConstants.EXAMPLE_DEFAULT_VALUES)\n            )\n    ))\n    public Example uploadExample(\n            @PathVariable(&quot;id&quot;) Long id,\n            @RequestBody() Example example) {\n\n        return exampleService.uploadExample(id, example);\n    }\n</code></pre>\n<p>SwaggerConstants looks like this:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class SwaggerConstants {\n    public static final String EXAMPLE_DEFAULT_VALUES =\n            &quot;{\\n&quot; +\n                    &quot;  \\&quot;id\\&quot;: 0,\\n&quot; +\n                    &quot;  \\&quot;title\\&quot;: \\&quot;Default Title\\&quot;\\n&quot; +\n                    &quot;}&quot;;\n}\n</code></pre>\n"},{"tags":["java","json","spring-boot","postman","put"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679228644,"creation_date":1679228644,"answer_id":75781954,"question_id":75781859,"body_markdown":"JPA needs to determine if `save` is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.\r\n\r\nEasiest way is probably to use native query. In your repo, have a method something like:\r\n```\r\n@Query(nativeQuery = true,\r\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\r\nvoid updateActivityId(String newId, String oldId);\r\n```","title":"How to update id of an object through Postman","body":"<p>JPA needs to determine if <code>save</code> is new or update. To do so, it will, by default, use the primary key that looks to be your ID. This means that changing your ID will tell JPA that it is a new entry.</p>\n<p>Easiest way is probably to use native query. In your repo, have a method something like:</p>\n<pre><code>@Query(nativeQuery = true,\n           value = &quot;update activity set activityID = ?1 where activityId = ?2&quot;)\nvoid updateActivityId(String newId, String oldId);\n</code></pre>\n"}],"owner":{"account_id":24931076,"reputation":55,"user_id":18798172,"display_name":"vbnm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228644,"creation_date":1679227572,"question_id":75781859,"body_markdown":"I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id&#39;s are strings and are manually set for now. This is just a test/dummy project.\r\n\r\nI call a @RestController in my spring boot project that has a putmapping which should save the changed object. \r\n\r\nI want to update an existing activity and just change its id to see if it works.\r\nThe putmapping is as follows:\r\n\r\n```\r\n@PutMapping(&quot;/activity/{id}&quot;)\r\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\r\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\r\n        if (activityOptional.isPresent()) {\r\n            activityRepo.save(activity);\r\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\r\n        } else {\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\nIn postman I have made a put request where I call the url: localhost:8080/activity/0001\r\n\r\nas I want to update the activity with id=0001. I want to update it to be, say, 0033.\r\n\r\n\r\n\r\nIn postman I input the raw json format of what I want it to change to:\r\n```\r\n{\r\n    &quot;activityId&quot;: &quot;0033&quot;\r\n}\r\n```\r\nBy doing this, it doesn&#39;t update the activity but makes a new one with the new id.\r\n\r\nHow to I actually update the id of an activity? ","title":"How to update id of an object through Postman","body":"<p>I have some dummy data in my database where an &quot;activity&quot; instance only contains an activityId as its attribute. Id's are strings and are manually set for now. This is just a test/dummy project.</p>\n<p>I call a @RestController in my spring boot project that has a putmapping which should save the changed object.</p>\n<p>I want to update an existing activity and just change its id to see if it works.\nThe putmapping is as follows:</p>\n<pre><code>@PutMapping(&quot;/activity/{id}&quot;)\n    public ResponseEntity&lt;Activity&gt; updateActivity(@PathVariable String id, @RequestBody Activity activity) {\n        Optional&lt;Activity&gt; activityOptional = activityRepo.findById(id);\n        if (activityOptional.isPresent()) {\n            activityRepo.save(activity);\n            return new ResponseEntity&lt;&gt;(activity, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p>In postman I have made a put request where I call the url: localhost:8080/activity/0001</p>\n<p>as I want to update the activity with id=0001. I want to update it to be, say, 0033.</p>\n<p>In postman I input the raw json format of what I want it to change to:</p>\n<pre><code>{\n    &quot;activityId&quot;: &quot;0033&quot;\n}\n</code></pre>\n<p>By doing this, it doesn't update the activity but makes a new one with the new id.</p>\n<p>How to I actually update the id of an activity?</p>\n"},{"tags":["java","networking","latency","spring-resttemplate"],"owner":{"account_id":2418810,"reputation":876,"user_id":2112296,"accept_rate":13,"display_name":"NameNotFoundException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228454,"creation_date":1679228454,"question_id":75781943,"body_markdown":"I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.\r\n\r\nResponse body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.\r\n\r\nMore information below:\r\n\r\n    Service A -&gt; ELB -&gt; Service B\r\n\r\nI am making a request from service A to service B.\r\n\r\nService B &amp; ELB logs stats that a given request had below timelines:\r\n1. ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.\r\n2. ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.\r\n3. Service A logs stats that it took ~29ms to get the response from service B.\r\n\r\nAs per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.\r\n\r\nI am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.","title":"Springboot RestTemplate taking time to read response from ELB","body":"<p>I am using SpringBoot RestTemplate to call one of the downstream HTTP get method. During the analysis phase we realized that the time difference between application receiving the response v/s ELB logs stating the response was sent is significant.</p>\n<p>Response body is a JSON &amp; having around 5-10K characters. Generally this time delay is in the range of 5-10ms. I have almost no knowledge of networking so wondering if anybody guide me to debug this further. I am not sure if this is the standard time it takes to read the response from target ELB.</p>\n<p>More information below:</p>\n<pre><code>Service A -&gt; ELB -&gt; Service B\n</code></pre>\n<p>I am making a request from service A to service B.</p>\n<p>Service B &amp; ELB logs stats that a given request had below timelines:</p>\n<ol>\n<li>ELB logs stats that it received a given request &amp; ELB took 1ms to find the target &amp; redirect the request to the targeted host.</li>\n<li>ELB logs stats that service B took 20ms to respond &amp; almost similar time is recorded in service B application logs as well.</li>\n<li>Service A logs stats that it took ~29ms to get the response from service B.</li>\n</ol>\n<p>As per my understanding, it is service A which is taking time to read the response from ELB. I might be wrong here in this interpretation.</p>\n<p>I am looking the find the reason &amp; help in debugging that why it takes on average ~5-10ms to read the response at service A end despite service B ELB stats that, it completed the call within 20ms.</p>\n"},{"tags":["java","distributed-system","aeron"],"answers":[{"comments":[{"owner":{"account_id":4311004,"reputation":35,"user_id":3522056,"display_name":"trunghuynh.cse"},"score":0,"creation_date":1679363446,"post_id":75781930,"comment_id":133704955,"body_markdown":"Am I understand correctly that these benchmarks are the round trip latency on single machine?","body":"Am I understand correctly that these benchmarks are the round trip latency on single machine?"},{"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"score":0,"creation_date":1679386870,"post_id":75781930,"comment_id":133707981,"body_markdown":"They are round trip benchmarks that can be configured to be on the same machine with IPC or UDP, and across machines with UDP. That is a configuration option.","body":"They are round trip benchmarks that can be configured to be on the same machine with IPC or UDP, and across machines with UDP. That is a configuration option."}],"tags":[],"owner":{"account_id":1378935,"reputation":1741,"user_id":2164736,"display_name":"Martin Thompson"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679228333,"creation_date":1679228333,"answer_id":75781930,"question_id":75780098,"body_markdown":"I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - https://github.com/real-logic/benchmarks.","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I can push 1 million messages between two machines with Aeron in a fraction of a second. It is likely your benchmark could be improved. Try get familiar with a framework like JMH and understand what is actually being measured. There are Aeron (and other messaging) benchmarks here - <a href=\"https://github.com/real-logic/benchmarks\" rel=\"nofollow noreferrer\">https://github.com/real-logic/benchmarks</a>.</p>\n"}],"owner":{"account_id":4311004,"reputation":35,"user_id":3522056,"display_name":"trunghuynh.cse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228333,"creation_date":1679200237,"question_id":75780098,"body_markdown":"I am testing multicast of Aeron vs raw TCP server - client. \r\n\r\nAeron model setup: \r\n- MD processes on each node\r\n- Starting 1 Publication and 1 Subscriber\r\n\r\nRaw Tcp server  client:\r\n- Server: 1 Thread to push 1 million integer messages\r\n- Client: 1 Thread consuming \r\n\r\nResult:\r\nAeron UDP: Taking around 17 seconds\r\nRaw TCP: Taking around 8 seconds\r\n\r\nAs I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QyXEZ.png\r\n\r\nTCP Server\r\n```\r\n        serverSocket = new ServerSocket(port);\r\n\r\n        while(true) {\r\n            Socket clientSocket = serverSocket.accept();\r\n            Thread t = new Thread(){\r\n                @Override\r\n                public void run() {\r\n                    try{\r\n                        System.out.println(&quot;Starting new thread serving client&quot;);\r\n                        out = new DataOutputStream(clientSocket.getOutputStream());\r\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\r\n                        for (int i = 0; i &lt; 1_000_000; i++) {\r\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\r\n                            out.writeInt(i);\r\n                        }\r\n                    } catch (IOException e){\r\n                        //\r\n                    }\r\n                }\r\n            };\r\n            t.start();\r\n\r\n        }\r\n```\r\nTCP client\r\n```\r\n        System.out.println(&quot;I&#39;m client!&quot;);\r\n        TcpClient client = new TcpClient();\r\n        String serverHost = System.getProperty(&quot;host&quot;);\r\n        try {\r\n            client.startConnection(serverHost, 6666);\r\n            DataInputStream in = client.in;\r\n            long st = System.currentTimeMillis();\r\n            int counter = 1_000_000;\r\n            while(counter &gt; 0) {\r\n                int v = in.readInt();\r\n//                System.out.println(&quot;v: &quot; + v);\r\n                counter--;\r\n            }\r\n\r\n            long pt = System.currentTimeMillis() - st;\r\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\r\n        } finally {\r\n            client.stopConnection();\r\n        }\r\n```","title":"Why Aeron multicast is much slower than raw Tcp implementation","body":"<p>I am testing multicast of Aeron vs raw TCP server - client.</p>\n<p>Aeron model setup:</p>\n<ul>\n<li>MD processes on each node</li>\n<li>Starting 1 Publication and 1 Subscriber</li>\n</ul>\n<p>Raw Tcp server  client:</p>\n<ul>\n<li>Server: 1 Thread to push 1 million integer messages</li>\n<li>Client: 1 Thread consuming</li>\n</ul>\n<p>Result:\nAeron UDP: Taking around 17 seconds\nRaw TCP: Taking around 8 seconds</p>\n<p>As I understand UDP multicast way should be faster than TCP, am I missing anything or misunderstood ? What I should check or fined-tune to make Aeron faster\n<a href=\"https://i.stack.imgur.com/QyXEZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QyXEZ.png\" alt=\"enter image description here\" /></a></p>\n<p>TCP Server</p>\n<pre><code>        serverSocket = new ServerSocket(port);\n\n        while(true) {\n            Socket clientSocket = serverSocket.accept();\n            Thread t = new Thread(){\n                @Override\n                public void run() {\n                    try{\n                        System.out.println(&quot;Starting new thread serving client&quot;);\n                        out = new DataOutputStream(clientSocket.getOutputStream());\n                        in = new DataInputStream(new BufferedInputStream(clientSocket.getInputStream()));\n                        for (int i = 0; i &lt; 1_000_000; i++) {\n                            System.out.println(&quot;Server sending...&quot; + i + &quot;..!&quot;);\n                            out.writeInt(i);\n                        }\n                    } catch (IOException e){\n                        //\n                    }\n                }\n            };\n            t.start();\n\n        }\n</code></pre>\n<p>TCP client</p>\n<pre><code>        System.out.println(&quot;I'm client!&quot;);\n        TcpClient client = new TcpClient();\n        String serverHost = System.getProperty(&quot;host&quot;);\n        try {\n            client.startConnection(serverHost, 6666);\n            DataInputStream in = client.in;\n            long st = System.currentTimeMillis();\n            int counter = 1_000_000;\n            while(counter &gt; 0) {\n                int v = in.readInt();\n//                System.out.println(&quot;v: &quot; + v);\n                counter--;\n            }\n\n            long pt = System.currentTimeMillis() - st;\n            System.out.println(&quot;Process time of TCP raw: &quot; + pt);\n        } finally {\n            client.stopConnection();\n        }\n</code></pre>\n"},{"tags":["java","pojo"],"comments":[{"owner":{"account_id":125868,"reputation":72456,"user_id":321946,"accept_rate":88,"display_name":"RPM1984"},"score":1,"creation_date":1282263755,"post_id":3527264,"comment_id":3690123,"body_markdown":"check out my answer to a similar question: http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same.","body":"check out my answer to a similar question: <a href=\"http://stackoverflow.com/questions/3392580/a-better-explanation-of-poco/3392625#3392625\" title=\"a better explanation of poco\">stackoverflow.com/questions/3392580/&hellip;</a>. This is referring to POCO&#39;s (.NET version of POJOS), but the fundamentals are the same."},{"owner":{"account_id":1608367,"reputation":1263,"user_id":1487966,"accept_rate":17,"display_name":"Poovizhirajan N"},"score":0,"creation_date":1406013569,"post_id":3527264,"comment_id":38646482,"body_markdown":"@Tamil can you explain once again to me. about pojo","body":"@Tamil can you explain once again to me. about pojo"},{"owner":{"display_name":"user405398"},"score":0,"creation_date":1427178520,"post_id":3527264,"comment_id":46660012,"body_markdown":"@Poovizhirajan.N, sorry for the long delay. somehow missed it.","body":"@Poovizhirajan.N, sorry for the long delay. somehow missed it."}],"answers":[{"tags":[],"owner":{"account_id":914,"reputation":234979,"user_id":1199,"display_name":"Blair Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1282262795,"creation_date":1282262795,"answer_id":3527266,"question_id":3527264,"body_markdown":"A POJO is a [Plain Old Java Object][1].\r\n\r\nFrom the wikipedia article I linked to:\r\n\r\n&gt; In computing software, POJO is an\r\n&gt; acronym for Plain Old Java Object. The\r\n&gt; name is used to emphasize that a given\r\n&gt; object is an ordinary Java Object, not\r\n&gt; a special object, and in particular\r\n&gt; not an [Enterprise JavaBean][2]\r\n\r\nYour class appears to already be a POJO.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Plain_Old_Java_Object\r\n  [2]: http://en.wikipedia.org/wiki/Enterprise_JavaBean","title":"How to create a POJO?","body":"<p>A POJO is a <a href=\"http://en.wikipedia.org/wiki/Plain_Old_Java_Object\" rel=\"noreferrer\">Plain Old Java Object</a>.</p>\n\n<p>From the wikipedia article I linked to:</p>\n\n<blockquote>\n  <p>In computing software, POJO is an\n  acronym for Plain Old Java Object. The\n  name is used to emphasize that a given\n  object is an ordinary Java Object, not\n  a special object, and in particular\n  not an <a href=\"http://en.wikipedia.org/wiki/Enterprise_JavaBean\" rel=\"noreferrer\">Enterprise JavaBean</a></p>\n</blockquote>\n\n<p>Your class appears to already be a POJO.</p>\n"},{"comments":[{"owner":{"display_name":"user405398"},"score":0,"creation_date":1282263341,"post_id":3527294,"comment_id":3690087,"body_markdown":"Thankx for your reply senior. But i want some practical explanation.","body":"Thankx for your reply senior. But i want some practical explanation."},{"owner":{"account_id":172481,"reputation":110942,"user_id":400547,"display_name":"Jon Hanna"},"score":0,"creation_date":1282266992,"post_id":3527294,"comment_id":3690353,"body_markdown":"You want a practical explanation of nomenclature for &quot;not special&quot;? Really?","body":"You want a practical explanation of nomenclature for &quot;not special&quot;? Really?"}],"tags":[],"owner":{"account_id":172481,"reputation":110942,"user_id":400547,"display_name":"Jon Hanna"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1282263110,"creation_date":1282263110,"answer_id":3527294,"question_id":3527264,"body_markdown":"When you aren&#39;t doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.\r\n\r\nIronically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn&#39;t have a fancy name. Ironic, because your question demonstrates that the approach worked.\r\n\r\nCompare the older POD &quot;Plain Old Data&quot; to mean a C++ class that doesn&#39;t do anything a C struct couldn&#39;t do (more or less, non-virtual members that aren&#39;t destructors or trivial constructors don&#39;t stop it being considered POD), and the newer (and more directly comparable) POCO &quot;Plain Old CLR Object&quot; in .NET.","title":"How to create a POJO?","body":"<p>When you aren't doing anything to make your class particularly designed to work with a given framework, ORM, or other system that needs a special sort of class, you have a Plain Old Java Object, or POJO.</p>\n\n<p>Ironically, one of the reasons for coining the term is that people were avoiding them in cases where they were sensible and some people concluded that this was because they didn't have a fancy name. Ironic, because your question demonstrates that the approach worked.</p>\n\n<p>Compare the older POD \"Plain Old Data\" to mean a C++ class that doesn't do anything a C struct couldn't do (more or less, non-virtual members that aren't destructors or trivial constructors don't stop it being considered POD), and the newer (and more directly comparable) POCO \"Plain Old CLR Object\" in .NET.</p>\n"},{"comments":[{"owner":{"display_name":"user405398"},"score":0,"creation_date":1282264939,"post_id":3527340,"comment_id":3690209,"body_markdown":"I ll never going to have this doubt again. Thanks.","body":"I ll never going to have this doubt again. Thanks."},{"owner":{"display_name":"user405398"},"score":16,"creation_date":1282265447,"post_id":3527340,"comment_id":3690231,"body_markdown":"Some people can understand practical demo&#39;s faster, than reading. I am one of them.","body":"Some people can understand practical demo&#39;s faster, than reading. I am one of them."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1386353970,"post_id":3527340,"comment_id":30518079,"body_markdown":"Your particular example is immutable, but others are mutable.  Did you just happen to make yours immutable?  Is there any distinction between POJOs that contain unshared references to mutable objects for the purpose of encapsulating their state, and those which contain references identifying mutable objects to which other references also exist, for the purpose of encapsulating their identity?","body":"Your particular example is immutable, but others are mutable.  Did you just happen to make yours immutable?  Is there any distinction between POJOs that contain unshared references to mutable objects for the purpose of encapsulating their state, and those which contain references identifying mutable objects to which other references also exist, for the purpose of encapsulating their identity?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1386355107,"post_id":3527340,"comment_id":30518730,"body_markdown":"Just happened to come out that way.  I was not intending to be exhaustive.  It&#39;s a simple example, nothing more.","body":"Just happened to come out that way.  I was not intending to be exhaustive.  It&#39;s a simple example, nothing more."},{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":0,"creation_date":1393164416,"post_id":3527340,"comment_id":33288821,"body_markdown":"@duffymo sorry if I am wrong, Is this violating the no args rule/instruction?","body":"@duffymo sorry if I am wrong, Is this violating the no args rule/instruction?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":7,"creation_date":1393164858,"post_id":3527340,"comment_id":33288953,"body_markdown":"I think I stated it in my answer: requiring a no-arg constructor is a Java Bean requirement, but not so for POJO.  Besides, *any* rule can be broken.  Know the rules; know the exceptions; understand the consequences.  This is software development, not murder court.","body":"I think I stated it in my answer: requiring a no-arg constructor is a Java Bean requirement, but not so for POJO.  Besides, <i>any</i> rule can be broken.  Know the rules; know the exceptions; understand the consequences.  This is software development, not murder court."},{"owner":{"display_name":"user405398"},"score":0,"creation_date":1448907949,"post_id":3527340,"comment_id":55766462,"body_markdown":"@duffymo: After 5 years, thank you for the answer. People in SO helped me a lot more than anyone. And, personally I like your last comment.","body":"@duffymo: After 5 years, thank you for the answer. People in SO helped me a lot more than anyone. And, personally I like your last comment."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1448908022,"post_id":3527340,"comment_id":55766510,"body_markdown":"So kind of you to say.","body":"So kind of you to say."},{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1533241449,"post_id":3527340,"comment_id":90286608,"body_markdown":"@duffymo, as you mentioned, **Must implement java.io.Serializable**, but why did not you write an implementation on `MyFirstPojo`? I would like to know that is it &quot;must do&quot; thing or not?","body":"@duffymo, as you mentioned, <b>Must implement java.io.Serializable</b>, but why did not you write an implementation on <code>MyFirstPojo</code>? I would like to know that is it &quot;must do&quot; thing or not?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1533241572,"post_id":3527340,"comment_id":90286652,"body_markdown":"Please read it again. The Java Bean standard mandates Serialiable; POJO does not.","body":"Please read it again. The Java Bean standard mandates Serialiable; POJO does not."},{"owner":{"account_id":8879412,"reputation":159,"user_id":6630210,"display_name":"jundev"},"score":0,"creation_date":1533241932,"post_id":3527340,"comment_id":90286828,"body_markdown":"Oh yes, you have mentioned JavaBean requirements. +1 for great explanation","body":"Oh yes, you have mentioned JavaBean requirements. +1 for great explanation"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":11,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1282266347,"creation_date":1282263884,"answer_id":3527340,"question_id":3527264,"body_markdown":"A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: \r\n\r\n 1. Default no-arg constructor\r\n 2. Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.\r\n 3. Must implement java.io.Serializable\r\n\r\nPOJO does not mandate any of these.  It&#39;s just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  \r\n\r\nThe acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.\r\n\r\nMartin Fowler coined a new acronym.\r\n\r\nRod Johnson wrote &quot;J2EE Without EJBs&quot;, wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.\r\n\r\nHere&#39;s an example that you can wrap your head around:\r\n\r\n    public class MyFirstPojo\r\n    {\r\n        private String name;\r\n    \r\n        public static void main(String [] args)\r\n        {\r\n           for (String arg : args)\r\n           {\r\n              MyFirstPojo pojo = new MyFirstPojo(arg);  // Here&#39;s how you create a POJO\r\n              System.out.println(pojo); \r\n           }\r\n        }\r\n    \r\n        public MyFirstPojo(String name)\r\n        {    \r\n            this.name = name;\r\n        }\r\n    \r\n        public String getName() { return this.name; } \r\n\r\n        public String toString() { return this.name; } \r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>A POJO is just a plain, old Java Bean with the restrictions removed.  Java Beans must meet the following requirements: </p>\n\n<ol>\n<li>Default no-arg constructor</li>\n<li>Follow the Bean convention of getFoo (or isFoo for booleans) and setFoo methods for a mutable attribute named foo; leave off the setFoo if foo is immutable.</li>\n<li>Must implement java.io.Serializable</li>\n</ol>\n\n<p>POJO does not mandate any of these.  It's just what the name says: an object that compiles under JDK can be considered a Plain Old Java Object.  No app server, no base classes, no interfaces required to use.  </p>\n\n<p>The acronym POJO was a reaction against EJB 2.0, which required several interfaces, extended base classes, and lots of methods just to do simple things.  Some people, Rod Johnson and Martin Fowler among them, rebelled against the complexity and sought a way to implement enterprise scale solutions without having to write EJBs.</p>\n\n<p>Martin Fowler coined a new acronym.</p>\n\n<p>Rod Johnson wrote \"J2EE Without EJBs\", wrote Spring, influenced EJB enough so version 3.1 looks a great deal like Spring and Hibernate, and got a sweet IPO from VMWare out of it.</p>\n\n<p>Here's an example that you can wrap your head around:</p>\n\n<pre><code>public class MyFirstPojo\n{\n    private String name;\n\n    public static void main(String [] args)\n    {\n       for (String arg : args)\n       {\n          MyFirstPojo pojo = new MyFirstPojo(arg);  // Here's how you create a POJO\n          System.out.println(pojo); \n       }\n    }\n\n    public MyFirstPojo(String name)\n    {    \n        this.name = name;\n    }\n\n    public String getName() { return this.name; } \n\n    public String toString() { return this.name; } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2883225,"reputation":859,"user_id":2473612,"accept_rate":31,"display_name":"Subodh Bisht"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1465815271,"creation_date":1370944326,"answer_id":17041264,"question_id":3527264,"body_markdown":"POJO class acts as a bean which is used to set and get the value.\r\n    \r\n    public class Data\r\n    {\r\n\t\r\n\r\n    private int id;\r\n    \tprivate String deptname;\r\n    \tprivate String date;\r\n    \tprivate String name;\r\n    \tprivate String mdate;\r\n    \tprivate String mname;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getDeptname() {\r\n    \t\treturn deptname;\r\n    \t}\r\n    \r\n    \tpublic void setDeptname(String deptname) {\r\n    \t\tthis.deptname = deptname;\r\n    \t}\r\n    \r\n    \tpublic String getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \r\n    \tpublic void setDate(String date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getMdate() {\r\n    \t\treturn mdate;\r\n    \t}\r\n    \r\n    \tpublic void setMdate(String mdate) {\r\n    \t\tthis.mdate = mdate;\r\n    \t}\r\n    \r\n    \tpublic String getMname() {\r\n    \t\treturn mname;\r\n    \t}\r\n    \r\n    \tpublic void setMname(String mname) {\r\n    \t\tthis.mname = mname;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO class acts as a bean which is used to set and get the value.</p>\n\n<pre><code>public class Data\n{\n\n\nprivate int id;\n    private String deptname;\n    private String date;\n    private String name;\n    private String mdate;\n    private String mname;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getDeptname() {\n        return deptname;\n    }\n\n    public void setDeptname(String deptname) {\n        this.deptname = deptname;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getMdate() {\n        return mdate;\n    }\n\n    public void setMdate(String mdate) {\n        this.mdate = mdate;\n    }\n\n    public String getMname() {\n        return mname;\n    }\n\n    public void setMname(String mname) {\n        this.mname = mname;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":238444,"reputation":18241,"user_id":507339,"accept_rate":78,"display_name":"Nilzor"},"score":0,"creation_date":1448198012,"post_id":21329226,"comment_id":55474433,"body_markdown":"#1, #2 contradicts the definition on wikipedia. https://en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition. You&#39;re describing a &quot;JavaBean POJO&quot; (a term which I find to be an oxymoron, but that&#39;s just me)","body":"#1, #2 contradicts the definition on wikipedia. <a href=\"https://en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Plain_Old_Java_Object#Definition</a>. You&#39;re describing a &quot;JavaBean POJO&quot; (a term which I find to be an oxymoron, but that&#39;s just me)"},{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1680012180,"post_id":21329226,"comment_id":133821558,"body_markdown":"Is the term &quot;property&quot; appropriate? Maybe you mean method?","body":"Is the term &quot;property&quot; appropriate? Maybe you mean method?"}],"tags":[],"owner":{"account_id":3803655,"reputation":1889,"user_id":3156616,"display_name":"Md Azaharuddin Ali"},"comment_count":2,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1499898427,"creation_date":1390556470,"answer_id":21329226,"question_id":3527264,"body_markdown":"POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.\r\n\r\n\r\nProperties of POJO\r\n\r\n 1. All properties must be public setter and getter methods   \r\n 2. All instance variables should be private \r\n 3. Should not Extend prespecified classes.\r\n 4. Should not Implement prespecified interfaces. \r\n 5. Should not contain prespecified annotations. \r\n 6. It may not have any argument constructors\r\n\r\nExample of POJO\r\n\r\n    public class POJO {\r\n     \r\n        private String value;\r\n     \r\n        public String getValue() {\r\n             return value;\r\n        }\r\n     \r\n        public void setValue(String value) {\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<p>POJO:-  POJO is a Java object not bound by any restriction other than those forced by the Java Language Specification.</p>\n\n<p>Properties of POJO</p>\n\n<ol>\n<li>All properties must be public setter and getter methods   </li>\n<li>All instance variables should be private </li>\n<li>Should not Extend prespecified classes.</li>\n<li>Should not Implement prespecified interfaces. </li>\n<li>Should not contain prespecified annotations. </li>\n<li>It may not have any argument constructors</li>\n</ol>\n\n<p>Example of POJO</p>\n\n<pre><code>public class POJO {\n\n    private String value;\n\n    public String getValue() {\n         return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3869822,"reputation":179,"user_id":3205359,"accept_rate":0,"display_name":"mohit sarsar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401192665,"creation_date":1401191589,"answer_id":23888744,"question_id":3527264,"body_markdown":"there are mainly three options are possible for mapping purpose\r\n\r\n1. serialize\r\n2. XML mapping\r\n3. POJO mapping.(Plain Old Java Objects)\r\n\r\nWhile using the pojo classes,it is easy for a developer to map with the database.\r\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.\r\n\r\nSo,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.\r\n","title":"How to create a POJO?","body":"<p>there are mainly three options are possible for mapping purpose</p>\n\n<ol>\n<li>serialize</li>\n<li>XML mapping</li>\n<li>POJO mapping.(Plain Old Java Objects)</li>\n</ol>\n\n<p>While using the pojo classes,it is easy for a developer to map with the database.\nPOJO classes are created for database and at the same time value-objects classes are created with getter and setter methods that will easily hold the content.</p>\n\n<p>So,for the purpose of mapping in between java with database, value-objects and POJO classes are implemented.</p>\n"},{"comments":[{"owner":{"account_id":4802848,"reputation":2464,"user_id":3878948,"accept_rate":86,"display_name":"Rishabh Agarwal"},"score":0,"creation_date":1513123252,"post_id":34003992,"comment_id":82528373,"body_markdown":"Why you have use equals method? Also is POJO same as getters and setters?","body":"Why you have use equals method? Also is POJO same as getters and setters?"}],"tags":[],"owner":{"account_id":4884086,"reputation":61,"user_id":3937012,"display_name":"Abdullah Sarfaraz"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1497497786,"creation_date":1448903079,"answer_id":34003992,"question_id":3527264,"body_markdown":"    import java.io.Serializable;\r\n    \r\n    public class Course implements Serializable {\r\n    \r\n    \tprotected int courseId;\r\n    \tprotected String courseName;\r\n    \tprotected String courseType;\r\n    \r\n    \tpublic Course() {\r\n    \t\tcourseName = new String();\r\n    \t\tcourseType = new String();\r\n    \t}\r\n    \r\n    \tpublic Course(String courseName, String courseType) {\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic Course(int courseId, String courseName, String courseType) {\r\n    \t\tthis.courseId = courseId;\r\n    \t\tthis.courseName = courseName;\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \tpublic int getCourseId() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \tpublic void setCourseId(int courseId) {\r\n    \t\tthis.courseId = courseId;\r\n    \t}\r\n    \r\n    \tpublic String getCourseName() {\r\n    \t\treturn courseName;\r\n    \t}\r\n    \r\n    \tpublic void setCourseName(String courseName) {\r\n    \t\tthis.courseName = courseName;\r\n    \t}\r\n    \r\n    \tpublic String getCourseType() {\r\n    \t\treturn courseType;\r\n    \t}\r\n    \r\n    \tpublic void setCourseType(String courseType) {\r\n    \t\tthis.courseType = courseType;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic int hashCode() {\r\n    \t\treturn courseId;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean equals(Object obj) {\r\n    \t\tif (obj != null || obj instanceof Course) {\r\n    \t\t\tCourse c = (Course) obj;\r\n    \t\t\tif (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\r\n    \t\t\t\t\t&amp;&amp; courseType.equals(c.courseType))\r\n    \t\t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Course[&quot; + courseId + &quot;,&quot; + courseName + &quot;,&quot; + courseType + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\n","title":"How to create a POJO?","body":"<pre><code>import java.io.Serializable;\n\npublic class Course implements Serializable {\n\n    protected int courseId;\n    protected String courseName;\n    protected String courseType;\n\n    public Course() {\n        courseName = new String();\n        courseType = new String();\n    }\n\n    public Course(String courseName, String courseType) {\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public Course(int courseId, String courseName, String courseType) {\n        this.courseId = courseId;\n        this.courseName = courseName;\n        this.courseType = courseType;\n    }\n\n    public int getCourseId() {\n        return courseId;\n    }\n\n    public void setCourseId(int courseId) {\n        this.courseId = courseId;\n    }\n\n    public String getCourseName() {\n        return courseName;\n    }\n\n    public void setCourseName(String courseName) {\n        this.courseName = courseName;\n    }\n\n    public String getCourseType() {\n        return courseType;\n    }\n\n    public void setCourseType(String courseType) {\n        this.courseType = courseType;\n    }\n\n    @Override\n    public int hashCode() {\n        return courseId;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj != null || obj instanceof Course) {\n            Course c = (Course) obj;\n            if (courseId == c.courseId &amp;&amp; courseName.equals(c.courseName)\n                    &amp;&amp; courseType.equals(c.courseType))\n                return true;\n        }\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        return \"Course[\" + courseId + \",\" + courseName + \",\" + courseType + \"]\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8413313,"reputation":3388,"user_id":6314513,"display_name":"Gowtham Subramaniam"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1479881387,"creation_date":1479881387,"answer_id":40757238,"question_id":3527264,"body_markdown":"    public class UserInfo {\r\n            String LoginId;\r\n            String Password;\r\n            String FirstName;\r\n            String LastName;\r\n            String Email;\r\n            String Mobile;\r\n            String Address;\r\n            String DOB;\r\n    \r\n            public String getLoginId() {\r\n                return LoginId;\r\n            }\r\n    \r\n            public void setLoginId(String loginId) {\r\n                LoginId = loginId;\r\n            }\r\n    \r\n            public String getPassword() {\r\n                return Password;\r\n            }\r\n    \r\n            public void setPassword(String password) {\r\n                Password = password;\r\n            }\r\n    \r\n            public String getFirstName() {\r\n                return FirstName;\r\n            }\r\n    \r\n            public void setFirstName(String firstName) {\r\n                FirstName = firstName;\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return LastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                LastName = lastName;\r\n            }\r\n    \r\n            public String getEmail() {\r\n                return Email;\r\n            }\r\n    \r\n            public void setEmail(String email) {\r\n                Email = email;\r\n            }\r\n    \r\n            public String getMobile() {\r\n                return Mobile;\r\n            }\r\n    \r\n            public void setMobile(String mobile) {\r\n                Mobile = mobile;\r\n            }\r\n    \r\n            public String getAddress() {\r\n                return Address;\r\n            }\r\n    \r\n            public void setAddress(String address) {\r\n                Address = address;\r\n            }\r\n    \r\n            public String getDOB() {\r\n                return DOB;\r\n            }\r\n    \r\n            public void setDOB(String DOB) {\r\n                this.DOB = DOB;\r\n            }\r\n        }","title":"How to create a POJO?","body":"<pre><code>public class UserInfo {\n        String LoginId;\n        String Password;\n        String FirstName;\n        String LastName;\n        String Email;\n        String Mobile;\n        String Address;\n        String DOB;\n\n        public String getLoginId() {\n            return LoginId;\n        }\n\n        public void setLoginId(String loginId) {\n            LoginId = loginId;\n        }\n\n        public String getPassword() {\n            return Password;\n        }\n\n        public void setPassword(String password) {\n            Password = password;\n        }\n\n        public String getFirstName() {\n            return FirstName;\n        }\n\n        public void setFirstName(String firstName) {\n            FirstName = firstName;\n        }\n\n        public String getLastName() {\n            return LastName;\n        }\n\n        public void setLastName(String lastName) {\n            LastName = lastName;\n        }\n\n        public String getEmail() {\n            return Email;\n        }\n\n        public void setEmail(String email) {\n            Email = email;\n        }\n\n        public String getMobile() {\n            return Mobile;\n        }\n\n        public void setMobile(String mobile) {\n            Mobile = mobile;\n        }\n\n        public String getAddress() {\n            return Address;\n        }\n\n        public void setAddress(String address) {\n            Address = address;\n        }\n\n        public String getDOB() {\n            return DOB;\n        }\n\n        public void setDOB(String DOB) {\n            this.DOB = DOB;\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13717415,"reputation":1385,"user_id":9898251,"display_name":"Badri Paudel"},"score":0,"creation_date":1610259239,"post_id":51723863,"comment_id":116072919,"body_markdown":"But every Java class at least extends Object class which doesn&#39;t extend any other classes ? Should we add can&#39;t extend other classes except Object or can&#39;t extend any classes explicitly ?","body":"But every Java class at least extends Object class which doesn&#39;t extend any other classes ? Should we add can&#39;t extend other classes except Object or can&#39;t extend any classes explicitly ?"},{"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"score":0,"creation_date":1610347523,"post_id":51723863,"comment_id":116093794,"body_markdown":"Actually these are not hard rules and also we do not need to extend Object because it is done by default.","body":"Actually these are not hard rules and also we do not need to extend Object because it is done by default."}],"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545754549,"creation_date":1533635585,"answer_id":51723863,"question_id":3527264,"body_markdown":"According to [Martin Fowler][1]\r\n\r\n&gt;The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and its caught on very nicely.\r\n\r\nGenerally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.\r\n\r\n1. Each variable in a POJO should be declared as private.\r\n2. Default constructor should be overridden with public accessibility.\r\n3. Each variable should have its Setter-Getter method with public accessibility.\r\n4. Generally POJO should override equals(), hashCode() and toString() methods of Object (but it&#39;s not mandatory).\r\n5. Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).\r\n\r\nAnd according to Java Language Specification, a POJO should not have to\r\n\r\n1. Extend pre-specified classes\r\n2. Implement pre-specified interfaces\r\n3. Contain pre-specified annotations\r\n\r\nHowever, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.\r\n\r\n&gt;A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.\r\n\r\nRead more on [Plain Old Java Object (POJO) Explained][2].\r\n\r\n\r\n  [1]: http://www.martinfowler.com/bliki/POJO.html\r\n  [2]: https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html","title":"How to create a POJO?","body":"<p>According to <a href=\"http://www.martinfowler.com/bliki/POJO.html\" rel=\"nofollow noreferrer\">Martin Fowler</a></p>\n\n<blockquote>\n  <p>The term was coined while Rebecca Parsons, Josh MacKenzie and I were preparing for a talk at a conference in September 2000. In the talk, we were pointing out the many benefits of encoding business logic into regular java objects rather than using Entity Beans. We wondered why people were so against using regular objects in their systems and concluded that it was because simple objects lacked a fancy name. So we gave them one, and its caught on very nicely.</p>\n</blockquote>\n\n<p>Generally, a POJO is not bound to any restriction and any Java object can be called a POJO but there are some directions. A well-defined POJO should follow below directions.</p>\n\n<ol>\n<li>Each variable in a POJO should be declared as private.</li>\n<li>Default constructor should be overridden with public accessibility.</li>\n<li>Each variable should have its Setter-Getter method with public accessibility.</li>\n<li>Generally POJO should override equals(), hashCode() and toString() methods of Object (but it's not mandatory).</li>\n<li>Overriding compare() method of Comparable interface used for sorting (Preferable but not mandatory).</li>\n</ol>\n\n<p>And according to Java Language Specification, a POJO should not have to</p>\n\n<ol>\n<li>Extend pre-specified classes</li>\n<li>Implement pre-specified interfaces</li>\n<li>Contain pre-specified annotations</li>\n</ol>\n\n<p>However, developers and frameworks describe a POJO still requires the use prespecified annotations to implement features like persistence, declarative transaction management etc. So the idea is that if the object was a POJO before any annotations were added would return to POJO status if the annotations are removed then it can still be considered a POJO.</p>\n\n<blockquote>\n  <p>A JavaBean is a special kind of POJO that is Serializable, has a no-argument constructor, and allows access to properties using getter and setter methods that follow a simple naming convention.</p>\n</blockquote>\n\n<p>Read more on <a href=\"https://programmingmitra.com/2016/05/plain-old-java-object-pojo-explained.html\" rel=\"nofollow noreferrer\">Plain Old Java Object (POJO) Explained</a>.</p>\n"},{"tags":[],"owner":{"display_name":"user13256550"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588687652,"creation_date":1588665728,"answer_id":61608447,"question_id":3527264,"body_markdown":"1. File-setting-plugins-Browse repositories\r\n2. Search RoboPOJOGenerator and install, Restart Android studio\r\n3. Open Project and right click on package select on Generate POJO from JSON\r\n4. Paste JSON in dialogbox and select option according your requirements\r\n5. Click on Generate button","title":"How to create a POJO?","body":"<ol>\n<li>File-setting-plugins-Browse repositories</li>\n<li>Search RoboPOJOGenerator and install, Restart Android studio</li>\n<li>Open Project and right click on package select on Generate POJO from JSON</li>\n<li>Paste JSON in dialogbox and select option according your requirements</li>\n<li>Click on Generate button</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17009603,"reputation":1,"user_id":12304983,"display_name":"Rushain Sovis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639372301,"creation_date":1639372301,"answer_id":70330180,"question_id":3527264,"body_markdown":"If a class is not **bogged down** from a *framework* or a *library*, then an object created from that class is recognized as a **POJO**.\r\n\r\nLet&#39;s see some examples:\r\n\r\n    class MyServlet extends HttpServlet{\r\n    \t//....\r\n    }\r\n\r\nThe sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not **POJO**s. \r\n\r\n    class MyClass implements Serializable{\r\n    \t//...\r\n    }\r\n\r\nThe Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are **POJO**s.\r\n\r\n\r\n","title":"How to create a POJO?","body":"<p>If a class is not <strong>bogged down</strong> from a <em>framework</em> or a <em>library</em>, then an object created from that class is recognized as a <strong>POJO</strong>.</p>\n<p>Let's see some examples:</p>\n<pre><code>class MyServlet extends HttpServlet{\n    //....\n}\n</code></pre>\n<p>The sole meaning of MyServlet class is given by the HttpServlet class. Therefore the objects created from the MyServlet are not <strong>POJO</strong>s.</p>\n<pre><code>class MyClass implements Serializable{\n    //...\n}\n</code></pre>\n<p>The Serializable interface does not give a meaning to the class MyClass. Therefore the objects created from the MyClass are <strong>POJO</strong>s.</p>\n"}],"owner":{"display_name":"user405398"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156147,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3527340,"answer_count":11,"score":70,"last_activity_date":1679228309,"creation_date":1282262750,"question_id":3527264,"body_markdown":"Recently I&#39;ve started hearing about &quot;POJOs&quot; (Plain Old Java Objects). I googled it, but still don&#39;t understand the concept well. Can anyone give me a clear description of a POJO?\r\n\r\nConsider a class &quot;Person&quot; with variables &quot;id, name, address, salary&quot; -- how would I create a POJO for this scenario? Is the code below a POJO?\r\n\r\n\r\n    public class Person {\r\n        //variables\r\n        People people = new People();\r\n        private int id;\r\n        private String name;\r\n        private String address;\r\n        private int salary;\r\n    \r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public int getSalary() {\r\n            return salary;\r\n        }\r\n    \r\n        public void setId() {\r\n            this.id = id;\r\n        }\r\n    \r\n        public void setName() {\r\n            this.name = name;\r\n        }\r\n    \r\n        public void setAddress() {\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setSalary() {\r\n            this.salary = salary;\r\n        }\r\n    }","title":"How to create a POJO?","body":"<p>Recently I've started hearing about \"POJOs\" (Plain Old Java Objects). I googled it, but still don't understand the concept well. Can anyone give me a clear description of a POJO?</p>\n\n<p>Consider a class \"Person\" with variables \"id, name, address, salary\" -- how would I create a POJO for this scenario? Is the code below a POJO?</p>\n\n<pre><code>public class Person {\n    //variables\n    People people = new People();\n    private int id;\n    private String name;\n    private String address;\n    private int salary;\n\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public int getSalary() {\n        return salary;\n    }\n\n    public void setId() {\n        this.id = id;\n    }\n\n    public void setName() {\n        this.name = name;\n    }\n\n    public void setAddress() {\n        this.address = address;\n    }\n\n    public void setSalary() {\n        this.salary = salary;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","testing","mocking"],"owner":{"display_name":"user21431812"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679228145,"creation_date":1679226802,"question_id":75781782,"body_markdown":"I am using `@ParameterizedTest` for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:\r\n\r\nLet&#39;s say we have 2 tables, `Employee` and `Country` and we test a method that returns `EmployeeReponse` :\r\n\r\n```\r\npublic EmployeeReponse findById(long id) {\r\n    return employeeRepository.findById(id)\r\n            .map(EmployeeReponse::new)\r\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\r\n}\r\n``` \r\n\r\nAnd that has the following fields:\r\n\r\n```\r\npublic class EmployeeReponse{\r\n\r\n    private Long id;\r\n    private String name;\r\n    private CountryResponse country;\r\n}\r\n```\r\n\r\nAnd `CountryResponse` is:\r\n\r\n```\r\npublic class CountryResponse {\r\n\r\n    private Long countryId;\r\n    private String countryName;\r\n    private String region;\r\n}\r\n```\r\n\r\nAt this stage, when I create mock fields for the Unit Test of `findById` method, should I also create parameters for the `countryName` and `region` fields? besides `id`, `name` and `countryId` fields? \r\n\r\n\r\n\r\n```\r\n| id    | name   | countryId  | countryName ?  | region ?  |\r\n----------------------------------------------------------\r\n| 101   | Hans   | 1          | USA            | America   |\r\n| 102   | Mary   | 2          | Germany        | Europe    |\r\n| 103   | Carol  | 3          | China          | Asia      |\r\n| 104   | Henry  | 4          | Sudan          | Africa    |\r\n| ...   | .....  | ..         | ....           | .....     |\r\n```\r\n\r\nWhat should I do? ","title":"Should @ParameterizedTest include data for parent tables?","body":"<p>I am using <code>@ParameterizedTest</code> for the Unit Tests in my Spring Boot app and after adding data for the child table, I am not sure about the fields in the parent table. Here is the explanations:</p>\n<p>Let's say we have 2 tables, <code>Employee</code> and <code>Country</code> and we test a method that returns <code>EmployeeReponse</code> :</p>\n<pre><code>public EmployeeReponse findById(long id) {\n    return employeeRepository.findById(id)\n            .map(EmployeeReponse::new)\n            .orElseThrow(() -&gt; new EntityFoundException(&quot;Employee not found&quot;));\n}\n</code></pre>\n<p>And that has the following fields:</p>\n<pre><code>public class EmployeeReponse{\n\n    private Long id;\n    private String name;\n    private CountryResponse country;\n}\n</code></pre>\n<p>And <code>CountryResponse</code> is:</p>\n<pre><code>public class CountryResponse {\n\n    private Long countryId;\n    private String countryName;\n    private String region;\n}\n</code></pre>\n<p>At this stage, when I create mock fields for the Unit Test of <code>findById</code> method, should I also create parameters for the <code>countryName</code> and <code>region</code> fields? besides <code>id</code>, <code>name</code> and <code>countryId</code> fields?</p>\n<pre><code>| id    | name   | countryId  | countryName ?  | region ?  |\n----------------------------------------------------------\n| 101   | Hans   | 1          | USA            | America   |\n| 102   | Mary   | 2          | Germany        | Europe    |\n| 103   | Carol  | 3          | China          | Asia      |\n| 104   | Henry  | 4          | Sudan          | Africa    |\n| ...   | .....  | ..         | ....           | .....     |\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","php","spring-boot","curl","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1679176935,"post_id":75778295,"comment_id":133675625,"body_markdown":"is the a space after `actions= ` ?","body":"is the a space after <code>actions= </code> ?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679216594,"post_id":75778295,"comment_id":133678709,"body_markdown":"Typo. No space. Also action, not actions.","body":"Typo. No space. Also action, not actions."},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1679238505,"post_id":75778295,"comment_id":133681572,"body_markdown":"@grekier its working well in postman but now i am getting  `403 Forbidden from POST https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json` is there some set up that i am missing in the webClient","body":"@grekier its working well in postman but now i am getting  <code>403 Forbidden from POST https:&#47;&#47;www.myurl.com?action=GetSearchDetails&amp;username=lambi&zwnj;&#8203;stic&amp;password=lambis&zwnj;&#8203;tic#####&amp;responsetyp&zwnj;&#8203;e=json</code> is there some set up that i am missing in the webClient"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1679249953,"post_id":75778295,"comment_id":133683552,"body_markdown":"Impossible to say without looking at the server code. Usually 403 means that login went through OK but you do not have the required permission. It might be some IP blocking, missing extra headers or parameters, a typo in the URL, etc...","body":"Impossible to say without looking at the server code. Usually 403 means that login went through OK but you do not have the required permission. It might be some IP blocking, missing extra headers or parameters, a typo in the URL, etc..."}],"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679228112,"creation_date":1679168947,"answer_id":75778295,"question_id":75777946,"body_markdown":"http_build_query add parameters as query string. \r\nIn your webclient, you add them as headers. I guess you have to change this:\r\n```\r\nwebClient\r\n.post()\r\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\r\n.retrieve()\r\n.bodyToMono(SearchDetailsResponse.class);\r\n```","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>http_build_query add parameters as query string.\nIn your webclient, you add them as headers. I guess you have to change this:</p>\n<pre><code>webClient\n.post()\n.uri(&quot;https://www.myurl.com?action=GetSearchDetails&amp;username=lambistic&amp;password=lambistic#####&amp;responsetype=json&quot;)\n.retrieve()\n.bodyToMono(SearchDetailsResponse.class);\n</code></pre>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679228112,"creation_date":1679165002,"question_id":75777946,"body_markdown":"I am having a `curl php` request that looks like this below \r\n\r\n```\r\n$curlInit = curl_init();\r\ncurl_setopt($curlInit, CURLOPT_URL, &#39;https://www.myurl.com/&#39;);\r\ncurl_setopt($curlInit, CURLOPT_POST, 1);\r\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\r\n    http_build_query(\r\n        array(\r\n            &#39;action&#39; =&gt; &#39;GetSearchDetails&#39;,\r\n            &#39;username&#39; =&gt; &#39;lambistic&#39;,\r\n            &#39;password&#39; =&gt; &#39;lambistic######&#39;,\r\n            &#39;responsetype&#39; =&gt; &#39;json&#39;,\r\n        )\r\n    )\r\n);\r\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\r\n$response = curl_exec($curlInit);\r\ncurl_close($curlInit);\r\n\r\n```\r\n\r\nWhat i am trying to achieve is to do the same with `web client` in springboot java and below is how i am trying to do it with web client \r\n\r\n```\r\npublic Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\r\n\r\n        return webClient.post()\r\n                .uri(&quot;https://www.myurl.com/&quot;)\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .headers(httpHeaders -&gt; {\r\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\r\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\r\n                })\r\n                .retrieve()\r\n                .bodyToMono(SearchDetailsResponse.class);\r\n}\r\n\r\n```\r\n\r\nI am not getting any response what might i be doing wrong with the web client \r\n","title":"SpringBoot WebClient Request with Identifier and Secret or Hashed Password","body":"<p>I am having a <code>curl php</code> request that looks like this below</p>\n<pre><code>$curlInit = curl_init();\ncurl_setopt($curlInit, CURLOPT_URL, 'https://www.myurl.com/');\ncurl_setopt($curlInit, CURLOPT_POST, 1);\ncurl_setopt($curlInit, CURLOPT_POSTFIELDS,\n    http_build_query(\n        array(\n            'action' =&gt; 'GetSearchDetails',\n            'username' =&gt; 'lambistic',\n            'password' =&gt; 'lambistic######',\n            'responsetype' =&gt; 'json',\n        )\n    )\n);\ncurl_setopt($curlInit, CURLOPT_RETURNTRANSFER, 1);\n$response = curl_exec($curlInit);\ncurl_close($curlInit);\n\n</code></pre>\n<p>What i am trying to achieve is to do the same with <code>web client</code> in springboot java and below is how i am trying to do it with web client</p>\n<pre><code>public Mono&lt;SearchDetailsResponse&gt; sendSearchDetailsRequest() {\n\n        return webClient.post()\n                .uri(&quot;https://www.myurl.com/&quot;)\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .headers(httpHeaders -&gt; {\n                    httpHeaders.set(&quot;username&quot;, &quot;lambistic&quot;);\n                    httpHeaders.set(&quot;password&quot;, &quot;lambistic######&quot;);\n                })\n                .retrieve()\n                .bodyToMono(SearchDetailsResponse.class);\n}\n\n</code></pre>\n<p>I am not getting any response what might i be doing wrong with the web client</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679139320,"post_id":75775581,"comment_id":133669982,"body_markdown":"Hint: Print the lengths of the two strings which will give you a clue `System.out.println(DRUM_R.length()); System.out.println(s.length());`","body":"Hint: Print the lengths of the two strings which will give you a clue <code>System.out.println(DRUM_R.length()); System.out.println(s.length());</code>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1679139332,"post_id":75775581,"comment_id":133669983,"body_markdown":"String s is `&quot;Bang Bang &quot;`, not `&quot;Bang Bang&quot;`..., maybe you should use `String.join(&quot; &quot;, sound, sound)` instead, or just `sound + &quot; &quot; + sound`.","body":"String s is <code>&quot;Bang Bang &quot;</code>, not <code>&quot;Bang Bang&quot;</code>..., maybe you should use <code>String.join(&quot; &quot;, sound, sound)</code> instead, or just <code>sound + &quot; &quot; + sound</code>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1679154019,"post_id":75775581,"comment_id":133672297,"body_markdown":"To debug, compare the code points of each character in each string: `DRUM_R.codePoints().toArray()` and `s.codePoints().toArray()`. Youll find an extra `32` on the end of one, representing a SPACE character.","body":"To debug, compare the code points of each character in each string: <code>DRUM_R.codePoints().toArray()</code> and <code>s.codePoints().toArray()</code>. Youll find an extra <code>32</code> on the end of one, representing a SPACE character."}],"answers":[{"tags":[],"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679140699,"creation_date":1679140699,"answer_id":75775739,"question_id":75775581,"body_markdown":"&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;\r\n\r\n   these are some examples of how you can do it\r\n\r\n\r\n\r\n    String DRUM_R = &quot;Bang Bang&quot;;\r\n    String sound = &quot;Bang&quot;;\r\n    System.out.println(sound); //&quot;Bang&quot;\r\n    \r\n    String s = (sound + &quot; &quot;).repeat(2);\r\n    System.out.println(s); //&quot;Bang Bang &quot;\r\n    \r\n    System.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\r\n    \r\n    s = s.substring(0, s.length()-1);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = String.join(&quot; &quot;, sound, sound);\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n    \r\n    s = sound + &quot; &quot;+ sound;\r\n    System.out.println(s); //&quot;Bang Bang&quot;\r\n\r\n\r\nyou can also make a function like this one that will do what you want\r\n\r\n    public String repeatWord(String word, int n) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            sb.append(word);\r\n            if (i != n - 1) {\r\n                sb.append(&quot; &quot;);\r\n            }\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n\r\nthis is an example of usage\r\n\r\n    String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\r\n    System.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;","title":"Why these strings are not equals?","body":"<p>&quot;Bang Bang&quot; is not the same as &quot;Bang Bang &quot;</p>\n<p>these are some examples of how you can do it</p>\n<pre><code>String DRUM_R = &quot;Bang Bang&quot;;\nString sound = &quot;Bang&quot;;\nSystem.out.println(sound); //&quot;Bang&quot;\n\nString s = (sound + &quot; &quot;).repeat(2);\nSystem.out.println(s); //&quot;Bang Bang &quot;\n\nSystem.out.println(s.equals(DRUM_R)); //false &quot;Bang Bang &quot; != &quot;Bang Bang&quot;\n\ns = s.substring(0, s.length()-1);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = String.join(&quot; &quot;, sound, sound);\nSystem.out.println(s); //&quot;Bang Bang&quot;\n\ns = sound + &quot; &quot;+ sound;\nSystem.out.println(s); //&quot;Bang Bang&quot;\n</code></pre>\n<p>you can also make a function like this one that will do what you want</p>\n<pre><code>public String repeatWord(String word, int n) {\n    StringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; n; i++) {\n        sb.append(word);\n        if (i != n - 1) {\n            sb.append(&quot; &quot;);\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>this is an example of usage</p>\n<pre><code>String repeatedWord = repeatWord(&quot;Bang&quot;, 5);\nSystem.out.println(repeatedWord); // &quot;Bang Bang Bang Bang Bang&quot;\n</code></pre>\n"}],"owner":{"account_id":27417156,"reputation":5,"user_id":20916141,"display_name":"Sonya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1679227687,"creation_date":1679139074,"question_id":75775581,"body_markdown":"I have a string:\r\n```java\r\nString DRUM_R = &quot;Bang Bang&quot;;\r\n```\r\nI also have a string, that I want to repeat twice:\r\n```java\r\nString sound = &quot;Bang&quot;;\r\n```\r\nI create a new line:\r\n```java\r\nString s = (sound + &quot; &quot;).repeat(2);\r\n```\r\nWhy, when I compare these strings, do I get false?\r\n```java\r\nSystem.out.println(s.equals(DRUM_R));\r\n```\r\nResult: false.\r\n\r\nThese strings are exactly the same. Why does this happen?","title":"Why these strings are not equals?","body":"<p>I have a string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String DRUM_R = &quot;Bang Bang&quot;;\n</code></pre>\n<p>I also have a string, that I want to repeat twice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sound = &quot;Bang&quot;;\n</code></pre>\n<p>I create a new line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = (sound + &quot; &quot;).repeat(2);\n</code></pre>\n<p>Why, when I compare these strings, do I get false?</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(s.equals(DRUM_R));\n</code></pre>\n<p>Result: false.</p>\n<p>These strings are exactly the same. Why does this happen?</p>\n"},{"tags":["java","database","performance","refactoring","rocksdb"],"answers":[{"comments":[{"owner":{"account_id":27081128,"reputation":11,"user_id":20630276,"display_name":"haitao cc"},"score":0,"creation_date":1679297048,"post_id":75770996,"comment_id":133689296,"body_markdown":"Thank you very much for your response. Actually, it is also possible not to use rocksdb. An urgent problem is how to speed up the service startup speed. Do not let the service load external storage data every time it starts, as this operation makes the service start too slow.","body":"Thank you very much for your response. Actually, it is also possible not to use rocksdb. An urgent problem is how to speed up the service startup speed. Do not let the service load external storage data every time it starts, as this operation makes the service start too slow."}],"tags":[],"owner":{"account_id":21798418,"reputation":131,"user_id":16097679,"display_name":"Siying Dong"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679077800,"creation_date":1679077800,"answer_id":75770996,"question_id":75763154,"body_markdown":"RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.\r\n\r\nOn the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn&#39;t need to reload all the data. These features may or may not help your use case though.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>RocksDB is a persistent storage engine, so the functionality is a superset of what a HashMap can provide. The main disadvantage is performance. Read performance of RocksDB is likely to be worse than well-implemented HashMap. Some tuning can help performance if it runs on ramfs or working set is cached in DRAM, but it is still unlikely to match HashMap.</p>\n<p>On the other hand, RocksDB does have some features that might allow users to load data to it much faster than HashMap. For example, <a href=\"https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files\" rel=\"nofollow noreferrer\">https://github.com/facebook/rocksdb/wiki/Creating-and-Ingesting-SST-files</a> allows users to load presorted data into RocksDB fast and without interrupting online reads. Another feature to RocksDB is that it can be stored, checkpointed or backed up in persistent storage, either on local disk or remote storage, so perhaps after restarts, it sometimes doesn't need to reload all the data. These features may or may not help your use case though.</p>\n"},{"tags":[],"owner":{"account_id":26343960,"reputation":71,"user_id":20002643,"display_name":"Dan Carfas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679227177,"creation_date":1679227177,"answer_id":75781819,"question_id":75763154,"body_markdown":"Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:\r\n\r\nWe need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.\r\n\r\nYou can find the Speedb hive [here][1] and (once you&#39;ve registered) the link to the thread is [here][2].\r\nLet us know if you need any assistance or additional info.\r\n\r\n\r\n  [1]: https://discord.gg/5fVUUtM2cG\r\n  [2]: https://discord.com/channels/1001437353312796782/1086744117700198410","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<p>Shared your question with the Speedb hive via Discord and here is the answer from Hilik, our Co-founder and Chief scientist:</p>\n<p>We need more details about what is the hw topology etc. In general, if you use/have a common storage you can use rocksdb for fast startup.  you will need to open it in a read-only mode in all the places except one.</p>\n<p>You can find the Speedb hive <a href=\"https://discord.gg/5fVUUtM2cG\" rel=\"nofollow noreferrer\">here</a> and (once you've registered) the link to the thread is <a href=\"https://discord.com/channels/1001437353312796782/1086744117700198410\" rel=\"nofollow noreferrer\">here</a>.\nLet us know if you need any assistance or additional info.</p>\n"}],"owner":{"account_id":27081128,"reputation":11,"user_id":20630276,"display_name":"haitao cc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679227177,"creation_date":1679018479,"question_id":75763154,"body_markdown":"### Background:\r\nThere is a Spring Boot service that needs to **synchronize some data** from Elasticsearch to memory **during startup**. The processed data will be used by @Service A.\r\nThe data needs to be **synchronized regularly** from Elasticsearch.\r\nSynchronizing the data during startup causes the service to **start too slowly**.\r\n\r\n### Ideas:\r\n1. Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.\r\n2. What should be noted when using this component?\r\n\r\n[click to check process diagram](https://i.stack.imgur.com/IFJfA.png)\r\n\r\nI didn&#39;t try it because I&#39;m not very familiar with rocksdb. I&#39;ve always been concerned about its read-write amplification problem.","title":"Using RocksDB instead of HashMap in Spring Boot project, what pitfalls should be avoided?","body":"<h3>Background:</h3>\n<p>There is a Spring Boot service that needs to <strong>synchronize some data</strong> from Elasticsearch to memory <strong>during startup</strong>. The processed data will be used by @Service A.\nThe data needs to be <strong>synchronized regularly</strong> from Elasticsearch.\nSynchronizing the data during startup causes the service to <strong>start too slowly</strong>.</p>\n<h3>Ideas:</h3>\n<ol>\n<li>Can RocksDB be used as a replacement for HashMap as the synchronization target? This way, if the data does not change, it does not need to be synchronized repeatedly.</li>\n<li>What should be noted when using this component?</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/IFJfA.png\" rel=\"nofollow noreferrer\">click to check process diagram</a></p>\n<p>I didn't try it because I'm not very familiar with rocksdb. I've always been concerned about its read-write amplification problem.</p>\n"},{"tags":["java","selenium-webdriver","printing","automation","selenium-chromedriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679242029,"post_id":75781736,"comment_id":133682159,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":25917617,"reputation":86,"user_id":19640780,"display_name":"Cosmin Drguanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679226890,"creation_date":1679226890,"answer_id":75781790,"question_id":75781736,"body_markdown":"Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:\r\n```\r\nActions action = new Actions(driver);\r\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\r\n```\r\nWait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible. \r\n```\r\nWebDriverWait wait = new WebDriverWait(driver, 10);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id=&#39;destination&#39;]&quot;)));\r\n```\r\nOnce the printing dialog is visible, you can use Selenium to interact with the dialog\r\n","title":"Automate chrome printing dialog","body":"<p>Use the Actions class in Selenium to simulate the keyboard shortcut for opening the printing dialog like this:</p>\n<pre><code>Actions action = new Actions(driver);\naction.keyDown(Keys.CONTROL).sendKeys(&quot;p&quot;).keyUp(Keys.CONTROL).build().perform();\n</code></pre>\n<p>Wait for the printing dialog to appear using an explicit wait. You can wait for a specific element to be present on the dialog or for the dialog to become visible.</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 10);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//select[@id='destination']&quot;)));\n</code></pre>\n<p>Once the printing dialog is visible, you can use Selenium to interact with the dialog</p>\n"}],"owner":{"account_id":28056943,"reputation":1,"user_id":21431816,"display_name":"rraghad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679226890,"creation_date":1679226268,"question_id":75781736,"body_markdown":"I am asking about how to automate content of printing dialog of chrome in selenium \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n\r\nThanks in advance \r\n\r\nI found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)\r\n","title":"Automate chrome printing dialog","body":"<p>I am asking about how to automate content of printing dialog of chrome in selenium</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n<p>Thanks in advance</p>\n<p>I found printOptions class for dialog settings(scale, background, size) but I need something to validate printed content of pages (all labels, tables,..)</p>\n"},{"tags":["java","opengl","lwjgl","opengl-3"],"comments":[{"owner":{"account_id":16428083,"reputation":5071,"user_id":11867590,"display_name":"Erdal K&#252;&#231;&#252;k"},"score":1,"creation_date":1679170520,"post_id":75778094,"comment_id":133674824,"body_markdown":"Does `new Mat4()` return an identity matrix?","body":"Does <code>new Mat4()</code> return an identity matrix?"}],"answers":[{"comments":[{"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"score":0,"creation_date":1679178792,"post_id":75778995,"comment_id":133675860,"body_markdown":"Thank you, I&#39;ve added 1.0f to each of those calls. Unfortunately the triangle still does not show up after making this change.","body":"Thank you, I&#39;ve added 1.0f to each of those calls. Unfortunately the triangle still does not show up after making this change."}],"tags":[],"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679177946,"creation_date":1679177946,"answer_id":75778995,"question_id":75778094,"body_markdown":"`new Mat4()` does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:\r\n\r\n&lt;s&gt;`Mat4 model = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 model = new Mat4(1.0f);\r\n``` \r\n\r\n&lt;s&gt;`Mat4 view = new Mat4();`&lt;/s&gt;\r\n```java\r\nMat4 view = new Mat4(1.0f);\r\n``` ","title":"OpenGL Triange demo shows blank window","body":"<p><code>new Mat4()</code> does not construct an identity matrix. An identity matrix can be constructed with a single argument 1.0f:</p>\n<p><s><code>Mat4 model = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 model = new Mat4(1.0f);\n</code></pre>\n<p><s><code>Mat4 view = new Mat4();</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mat4 view = new Mat4(1.0f);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679226428,"creation_date":1679226428,"answer_id":75781749,"question_id":75778094,"body_markdown":"The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():\r\n```\r\n    public FloatBuffer getBuffer() {\r\n        FloatBuffer buffer = this.allocateFloatBuffer();\r\n        int startPos = buffer.position();\r\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\r\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\r\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\r\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\r\n        buffer.position(startPos);\r\n        return buffer;\r\n    }\r\n```\r\nI&#39;m not 100% sure *what* the problem with it is or whether I was just using it wrong, but when I went back to the source code of the [tutorial I was initially following by SilverTiger][1] and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():\r\n```\r\n    public void toBuffer(FloatBuffer buffer) {\r\n        buffer.put(m00).put(m10).put(m20).put(m30);\r\n        buffer.put(m01).put(m11).put(m21).put(m31);\r\n        buffer.put(m02).put(m12).put(m22).put(m32);\r\n        buffer.put(m03).put(m13).put(m23).put(m33);\r\n        buffer.flip();\r\n    }\r\n```\r\n\r\n  [1]: https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java","title":"OpenGL Triange demo shows blank window","body":"<p>The problem appears to be with the way the Mat4 object creates the buffer. This is the source code my IDE decompiled for com.hackoeur.jglm.Mat4.getBuffer():</p>\n<pre><code>    public FloatBuffer getBuffer() {\n        FloatBuffer buffer = this.allocateFloatBuffer();\n        int startPos = buffer.position();\n        buffer.put(this.m00).put(this.m01).put(this.m02).put(this.m03);\n        buffer.put(this.m10).put(this.m11).put(this.m12).put(this.m13);\n        buffer.put(this.m20).put(this.m21).put(this.m22).put(this.m23);\n        buffer.put(this.m30).put(this.m31).put(this.m32).put(this.m33);\n        buffer.position(startPos);\n        return buffer;\n    }\n</code></pre>\n<p>I'm not 100% sure <em>what</em> the problem with it is or whether I was just using it wrong, but when I went back to the source code of the <a href=\"https://github.com/SilverTiger/lwjgl3-tutorial/blob/master/src/silvertiger/tutorial/lwjgl/math/Matrix4f.java\" rel=\"nofollow noreferrer\">tutorial I was initially following by SilverTiger</a> and used the Matrix4f object there, the triangle showed up. Source code for silvertiger.tutorial.lwjgl.math.Matrix4f.toBuffer():</p>\n<pre><code>    public void toBuffer(FloatBuffer buffer) {\n        buffer.put(m00).put(m10).put(m20).put(m30);\n        buffer.put(m01).put(m11).put(m21).put(m31);\n        buffer.put(m02).put(m12).put(m22).put(m32);\n        buffer.put(m03).put(m13).put(m23).put(m33);\n        buffer.flip();\n    }\n</code></pre>\n"}],"owner":{"account_id":4068625,"reputation":57,"user_id":3342598,"accept_rate":80,"display_name":"part1kl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75781749,"answer_count":2,"score":1,"last_activity_date":1679226428,"creation_date":1679166697,"question_id":75778094,"body_markdown":"I&#39;ve started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I&#39;m not getting any OpenGL errors, but the triangle does not show up on screen.\r\n\r\nI&#39;ve looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I&#39;ve checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders *say* they&#39;ve compiled and linked properly. I&#39;m at a loss to what I&#39;ve missed here.\r\n\r\nHere is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I&#39;m using for my matrices:\r\n```\r\npackage net.part1kl;\r\n\r\nimport com.hackoeur.jglm.Mat4;\r\nimport com.hackoeur.jglm.Matrices;\r\nimport org.lwjgl.Version;\r\nimport org.lwjgl.glfw.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport org.lwjgl.opengl.GL;\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.IntBuffer;\r\nimport static org.lwjgl.opengl.GL30C.*;\r\nimport static org.lwjgl.system.MemoryUtil.*;\r\n\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        init();\r\n        loop();\r\n        dispose();\r\n    }\r\n\r\n    private static long window;\r\n\r\n    private static void init(){\r\n        /* Initialize GLFW */\r\n        System.out.println(Version.getVersion());\r\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\r\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\r\n\r\n        /* Set window hints and create window */\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\r\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\r\n\r\n        /* Other window setup */\r\n        glfwSetWindowPos(window, 200, 200);\r\n        glfwMakeContextCurrent(window);\r\n        GL.createCapabilities();\r\n        glfwSwapInterval(1);\r\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\r\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\r\n        });\r\n        glfwShowWindow(window);\r\n\r\n        /* Create and bind VAO */\r\n        vao = glGenVertexArrays();\r\n        glBindVertexArray(vao);\r\n\r\n        /* Create, bind, and populate VBO */\r\n        vbo = glGenBuffers();\r\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n        FloatBuffer verts = memAllocFloat(vertices.length);\r\n        for (float val : vertices) verts.put(val);\r\n        verts.flip();\r\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\r\n        memFree(verts);\r\n\r\n        /* Create Vertex Shader */\r\n        vShader = glCreateShader(GL_VERTEX_SHADER);\r\n        glShaderSource(vShader, vertexSource);\r\n        glCompileShader(vShader);\r\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\r\n\r\n        /* Create Fragment Shader */\r\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\r\n        glShaderSource(fShader, fragmentSource);\r\n        glCompileShader(fShader);\r\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\r\n\r\n        /* Create Shader Program */\r\n        program = glCreateProgram();\r\n        glAttachShader(program, vShader);\r\n        glAttachShader(program, fShader);\r\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\r\n        glLinkProgram(program);\r\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\r\n        glUseProgram(program);\r\n\r\n        /* Set pointer for vertex position information */\r\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\r\n        glEnableVertexAttribArray(pAttr);\r\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\r\n\r\n        /* Set pointer for vertex color information */\r\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\r\n        glEnableVertexAttribArray(cAttr);\r\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\r\n\r\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\r\n        Mat4 model = new Mat4();\r\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\r\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\r\n\r\n        /* Create and set view uniform */\r\n        Mat4 view = new Mat4();\r\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\r\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\r\n\r\n        /* Get window size ratio for projection */\r\n        IntBuffer width = memAllocInt(1);\r\n        IntBuffer height = memAllocInt(1);\r\n        GLFW.glfwGetFramebufferSize(window, width, height);\r\n        float ratio = width.get() / (float) height.get();\r\n        memFree(width); memFree(height);\r\n\r\n        /* Create and set projection uniform */\r\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\r\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\r\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\r\n    }\r\n\r\n    private static void loop(){\r\n        double lastTime = glfwGetTime();\r\n        double time = lastTime;\r\n        while(!glfwWindowShouldClose(window)){\r\n            double delta = (float) (time - lastTime);\r\n\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            glBindVertexArray(vao);\r\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\r\n            glUseProgram(program);\r\n\r\n\r\n            glDrawArrays(GL_TRIANGLES, 0, 3);\r\n\r\n            glfwSwapBuffers(window);\r\n            glfwPollEvents();\r\n\r\n            glCheck();\r\n\r\n            lastTime = time;\r\n            time = glfwGetTime();\r\n        }\r\n    }\r\n\r\n    private static void dispose(){\r\n        glDeleteVertexArrays(vao);\r\n        glDeleteBuffers(vbo);\r\n        glDeleteShader(vShader);\r\n        glDeleteShader(fShader);\r\n        glDeleteProgram(program);\r\n\r\n        glfwDestroyWindow(window);\r\n    }\r\n\r\n    private static void print(String message) { System.out.println(message); }\r\n\r\n    private static void err(String message) { System.err.println(message); }\r\n\r\n    private static int glCheckCounter = 0;\r\n\r\n    private static void glCheck() {\r\n        int val = glGetError();\r\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\r\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\r\n        glCheckCounter++;\r\n    }\r\n\r\n\r\n    private static int vao, vbo, vShader, fShader, program;\r\n    private static final float[] vertices = {\r\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\r\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\r\n               0f,    0.6f,   0f,   0f,   0f,   1f\r\n    };\r\n    private static final CharSequence vertexSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 position;\\n&quot;\r\n            + &quot;in vec3 color;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;uniform mat4 model;\\n&quot;\r\n            + &quot;uniform mat4 view;\\n&quot;\r\n            + &quot;uniform mat4 projection;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    vertexColor = color;\\n&quot;\r\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\r\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n    private static final CharSequence fragmentSource\r\n            = &quot;#version 150 core\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;in vec3 vertexColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;out vec4 fragColor;\\n&quot;\r\n            + &quot;\\n&quot;\r\n            + &quot;void main() {\\n&quot;\r\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\r\n            + &quot;}&quot;;\r\n}\r\n\r\n```\r\nThis is the output I get from running this program:\r\n```\r\n3.3.1 build 7\r\nGL Error Check 0 no error.\r\nGL Error Check 1 no error.\r\nGL Error Check 2 no error.\r\nGL Error Check 3 no error.\r\nGL Error Check 4 no error.\r\nGL Error Check 5 no error.\r\nGL Error Check 6 no error.\r\nGL Error Check 7 no error.\r\n```\r\nThe &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I&#39;ve cut it off at 8 loops. It&#39;s never brought up an OpenGL error.","title":"OpenGL Triange demo shows blank window","body":"<p>I've started my learning of LWJGL3 and OpenGL 3.2+ with a triangle demo. The program seems to run well and I'm not getting any OpenGL errors, but the triangle does not show up on screen.</p>\n<p>I've looked through some of the similar questions on here, and the identified problem with many of them were a missing VAO or bad triangle coordinates or shaders, but I've checked those in my code. VAO is created, bound and vertex attributes are assigned. The triangle coordinates should actually make a triangle, and my shaders <em>say</em> they've compiled and linked properly. I'm at a loss to what I've missed here.</p>\n<p>Here is my code. Everything is in this one file (triangle vertex data, OpenGL object IDs, and shader source code at the bottom), save for LWJGL itself and the com.hackoeur.jglm library, which I'm using for my matrices:</p>\n<pre><code>package net.part1kl;\n\nimport com.hackoeur.jglm.Mat4;\nimport com.hackoeur.jglm.Matrices;\nimport org.lwjgl.Version;\nimport org.lwjgl.glfw.*;\nimport static org.lwjgl.glfw.GLFW.*;\nimport org.lwjgl.opengl.GL;\nimport java.nio.FloatBuffer;\nimport java.nio.IntBuffer;\nimport static org.lwjgl.opengl.GL30C.*;\nimport static org.lwjgl.system.MemoryUtil.*;\n\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        init();\n        loop();\n        dispose();\n    }\n\n    private static long window;\n\n    private static void init(){\n        /* Initialize GLFW */\n        System.out.println(Version.getVersion());\n        glfwSetErrorCallback(GLFWErrorCallback.createPrint(System.err));\n        if (!glfwInit()) throw new IllegalStateException(&quot;GLFW Init Failed&quot;);\n\n        /* Set window hints and create window */\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n        glfwWindowHint(GLFW_RESIZABLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        window = glfwCreateWindow(600, 600, &quot;Demo&quot;, NULL, NULL);\n        if ( window == NULL) { glfwTerminate(); throw new RuntimeException(&quot;Window Creation Failed&quot;); }\n\n        /* Other window setup */\n        glfwSetWindowPos(window, 200, 200);\n        glfwMakeContextCurrent(window);\n        GL.createCapabilities();\n        glfwSwapInterval(1);\n        glfwSetKeyCallback(window, (window, key, scancode, action, mods) -&gt; {\n            if (key == GLFW_KEY_ESCAPE &amp;&amp; action == GLFW_PRESS) glfwSetWindowShouldClose(window, true);\n        });\n        glfwShowWindow(window);\n\n        /* Create and bind VAO */\n        vao = glGenVertexArrays();\n        glBindVertexArray(vao);\n\n        /* Create, bind, and populate VBO */\n        vbo = glGenBuffers();\n        glBindBuffer(GL_ARRAY_BUFFER, vbo);\n        FloatBuffer verts = memAllocFloat(vertices.length);\n        for (float val : vertices) verts.put(val);\n        verts.flip();\n        glBufferData(GL_ARRAY_BUFFER, verts, GL_STATIC_DRAW);\n        memFree(verts);\n\n        /* Create Vertex Shader */\n        vShader = glCreateShader(GL_VERTEX_SHADER);\n        glShaderSource(vShader, vertexSource);\n        glCompileShader(vShader);\n        if (glGetShaderi(vShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(vShader));\n\n        /* Create Fragment Shader */\n        fShader = glCreateShader(GL_FRAGMENT_SHADER);\n        glShaderSource(fShader, fragmentSource);\n        glCompileShader(fShader);\n        if (glGetShaderi(fShader, GL_COMPILE_STATUS) != GL_TRUE) throw new RuntimeException(glGetShaderInfoLog(fShader));\n\n        /* Create Shader Program */\n        program = glCreateProgram();\n        glAttachShader(program, vShader);\n        glAttachShader(program, fShader);\n        glBindFragDataLocation(program, 0, &quot;fragColor&quot;);\n        glLinkProgram(program);\n        if (glGetProgrami(program, GL_LINK_STATUS) != GL_TRUE) throw new RuntimeException(glGetProgramInfoLog(program));\n        glUseProgram(program);\n\n        /* Set pointer for vertex position information */\n        int pAttr = glGetAttribLocation(program, &quot;position&quot;);\n        glEnableVertexAttribArray(pAttr);\n        glVertexAttribPointer(pAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 0);\n\n        /* Set pointer for vertex color information */\n        int cAttr = glGetAttribLocation(program, &quot;color&quot;);\n        glEnableVertexAttribArray(cAttr);\n        glVertexAttribPointer(cAttr, 3, GL_FLOAT, false, 6 * Float.BYTES, 3 * Float.BYTES);\n\n        /* Create and set model uniform. Using com.hackoeur.jglm v1.0.0 for matrices. */\n        Mat4 model = new Mat4();\n        int uModel = glGetUniformLocation(program, &quot;model&quot;);\n        glUniformMatrix4fv(uModel, false, (FloatBuffer)model.getBuffer().flip());\n\n        /* Create and set view uniform */\n        Mat4 view = new Mat4();\n        int uView = glGetUniformLocation(program, &quot;view&quot;);\n        glUniformMatrix4fv(uView, false, (FloatBuffer)view.getBuffer().flip());\n\n        /* Get window size ratio for projection */\n        IntBuffer width = memAllocInt(1);\n        IntBuffer height = memAllocInt(1);\n        GLFW.glfwGetFramebufferSize(window, width, height);\n        float ratio = width.get() / (float) height.get();\n        memFree(width); memFree(height);\n\n        /* Create and set projection uniform */\n        Mat4 projection = Matrices.ortho(-ratio, ratio, -1f, 1f, -1f, 1f);\n        int uProjection = glGetUniformLocation(program, &quot;projection&quot;);\n        glUniformMatrix4fv(uProjection, false, (FloatBuffer)projection.getBuffer().flip());\n    }\n\n    private static void loop(){\n        double lastTime = glfwGetTime();\n        double time = lastTime;\n        while(!glfwWindowShouldClose(window)){\n            double delta = (float) (time - lastTime);\n\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            glBindVertexArray(vao);\n            glBindBuffer(GL_ARRAY_BUFFER, vbo);\n            glUseProgram(program);\n\n\n            glDrawArrays(GL_TRIANGLES, 0, 3);\n\n            glfwSwapBuffers(window);\n            glfwPollEvents();\n\n            glCheck();\n\n            lastTime = time;\n            time = glfwGetTime();\n        }\n    }\n\n    private static void dispose(){\n        glDeleteVertexArrays(vao);\n        glDeleteBuffers(vbo);\n        glDeleteShader(vShader);\n        glDeleteShader(fShader);\n        glDeleteProgram(program);\n\n        glfwDestroyWindow(window);\n    }\n\n    private static void print(String message) { System.out.println(message); }\n\n    private static void err(String message) { System.err.println(message); }\n\n    private static int glCheckCounter = 0;\n\n    private static void glCheck() {\n        int val = glGetError();\n        if (val==0) print(&quot;GL Error Check &quot;+glCheckCounter+&quot; no error.&quot;);\n        else err(&quot;GL Error Check &quot;+glCheckCounter+&quot; returned error &quot;+val);\n        glCheckCounter++;\n    }\n\n\n    private static int vao, vbo, vShader, fShader, program;\n    private static final float[] vertices = {\n            -0.6f,   -0.4f,   0f,   1f,   0f,   0f,\n             0.6f,   -0.4f,   0f,   0f,   1f,   0f,\n               0f,    0.6f,   0f,   0f,   0f,   1f\n    };\n    private static final CharSequence vertexSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 position;\\n&quot;\n            + &quot;in vec3 color;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;uniform mat4 model;\\n&quot;\n            + &quot;uniform mat4 view;\\n&quot;\n            + &quot;uniform mat4 projection;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    vertexColor = color;\\n&quot;\n            + &quot;    mat4 mvp = projection * view * model;\\n&quot;\n            + &quot;    gl_Position = mvp * vec4(position, 1.0);\\n&quot;\n            + &quot;}&quot;;\n    private static final CharSequence fragmentSource\n            = &quot;#version 150 core\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;in vec3 vertexColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;out vec4 fragColor;\\n&quot;\n            + &quot;\\n&quot;\n            + &quot;void main() {\\n&quot;\n            + &quot;    fragColor = vec4(vertexColor, 1.0);\\n&quot;\n            + &quot;}&quot;;\n}\n\n</code></pre>\n<p>This is the output I get from running this program:</p>\n<pre><code>3.3.1 build 7\nGL Error Check 0 no error.\nGL Error Check 1 no error.\nGL Error Check 2 no error.\nGL Error Check 3 no error.\nGL Error Check 4 no error.\nGL Error Check 5 no error.\nGL Error Check 6 no error.\nGL Error Check 7 no error.\n</code></pre>\n<p>The &quot;GL Error Check # no error.&quot; keeps going for as long as the program runs, I've cut it off at 8 loops. It's never brought up an OpenGL error.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679225600,"post_id":75781587,"comment_id":133679817,"body_markdown":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?","body":"There is no such thing, but I wonder, wouldn&#39;t base:class:path:$@ work?"},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1679226552,"post_id":75781587,"comment_id":133679945,"body_markdown":"No. Extended the question to be clearer in this regard.","body":"No. Extended the question to be clearer in this regard."}],"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679226427,"creation_date":1679224479,"question_id":75781587,"body_markdown":"In some script I would like to have\r\n```\r\njava -cp base:class:path &quot;$@&quot;\r\n```\r\nwhere `&quot;$@&quot;` may be a complete set of `java` command line options with additional `-cp` options, think `... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main`. But additional `-cp` options override the previous one. I wildly guessed things like `-cp +...` or `-cp :...` in the hope to have them added, but this does not work.\r\n\r\nIs there some trick I am missing, apart from looping over `&quot;$@&quot;` and injecting the `base:class:path`?\r\n\r\n","title":"Pass multiple -classpath options to the java command","body":"<p>In some script I would like to have</p>\n<pre><code>java -cp base:class:path &quot;$@&quot;\n</code></pre>\n<p>where <code>&quot;$@&quot;</code> may be a complete set of <code>java</code> command line options with additional <code>-cp</code> options, think <code>... -cp this.jar:that.jar -Dsome.prop=1 ... some.package.Main</code>. But additional <code>-cp</code> options override the previous one. I wildly guessed things like <code>-cp +...</code> or <code>-cp :...</code> in the hope to have them added, but this does not work.</p>\n<p>Is there some trick I am missing, apart from looping over <code>&quot;$@&quot;</code> and injecting the <code>base:class:path</code>?</p>\n"},{"tags":["java","unit-testing","mocking","mockito","lombok"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1679222784,"post_id":75781393,"comment_id":133679444,"body_markdown":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course `assertThrows` fails. How would you test this code if it wasn&#39;t using `@SneakyThrows` but a conventional `throws` declaration?","body":"Don&#39;t show code that is working, show code that isn&#39;t! You&#39;re never throwing an exception, so of course <code>assertThrows</code> fails. How would you test this code if it wasn&#39;t using <code>@SneakyThrows</code> but a conventional <code>throws</code> declaration?"}],"answers":[{"comments":[{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679223480,"post_id":75781444,"comment_id":133679524,"body_markdown":"thanks! potentially, this code can throw an exception &#39;UnknownHostException&#39; through standard realisation of &#39;public static InetAddress getLocalHost() throws UnknownHostException {&#39; but if I try to replace you exceptions by &#39;UnknownHostException&#39; test did not work","body":"thanks! potentially, this code can throw an exception &#39;UnknownHostException&#39; through standard realisation of &#39;public static InetAddress getLocalHost() throws UnknownHostException {&#39; but if I try to replace you exceptions by &#39;UnknownHostException&#39; test did not work"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679225727,"post_id":75781444,"comment_id":133679835,"body_markdown":"failing with what error? by the way, you can use assetj for testing exceptions. they have some nic features for it. i have updated my reply with an example","body":"failing with what error? by the way, you can use assetj for testing exceptions. they have some nic features for it. i have updated my reply with an example"},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679227787,"post_id":75781444,"comment_id":133680074,"body_markdown":"with error: &#39;org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.net.UnknownHostException&#39;\nand your refactored version too","body":"with error: &#39;org.mockito.exceptions.base.MockitoException:  Checked exception is invalid for this method! Invalid: java.net.UnknownHostException&#39; and your refactored version too"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679229845,"post_id":75781444,"comment_id":133680324,"body_markdown":"oh, isee. it&#39;s because you have the @SneakyThrows there. In other words, that method does not throw any checked exception and you cannot use mockito to make the mock throw one. You.ll have to use runtime exceptions in this case.","body":"oh, isee. it&#39;s because you have the @SneakyThrows there. In other words, that method does not throw any checked exception and you cannot use mockito to make the mock throw one. You.ll have to use runtime exceptions in this case."},{"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"score":0,"creation_date":1679232536,"post_id":75781444,"comment_id":133680640,"body_markdown":"Yeah, thanks. But with Runtime exception my @SneakyThrows does not cover and decrease my overall coverage. Are there any ways to cover it?","body":"Yeah, thanks. But with Runtime exception my @SneakyThrows does not cover and decrease my overall coverage. Are there any ways to cover it?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1679232904,"post_id":75781444,"comment_id":133680686,"body_markdown":"If you want to cover it with tests, you should mock one level deeper. In other words, you are now testing the `repository`, but the annotation is in `mockInetAddress`. Hope my answers were helpful - if so, I would appreciate an upvote :)","body":"If you want to cover it with tests, you should mock one level deeper. In other words, you are now testing the <code>repository</code>, but the annotation is in <code>mockInetAddress</code>. Hope my answers were helpful - if so, I would appreciate an upvote :)"}],"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679225992,"creation_date":1679222809,"answer_id":75781444,"question_id":75781393,"body_markdown":"in order to test it, you need to make your mock throw some exception when `getLocalHostName` is called:\r\n\r\n    Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \r\n    // use here the actual exception that will occur in your production code\r\n    \r\n    MyRepository repository = new MyRepository(jdbcTemplate) {\r\n        @Override\r\n        public String getLocalHostName() {\r\n            return mockInetAddress.getHostName();\r\n        }\r\n    };\r\n    \r\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n\r\nAdditionally, you can use Assertj for testing exceptions: https://github.com/assertj/assertj. For instance, you can check the exception message:\r\n\r\n    //Assertions from package org.assertj.core.api\r\n    Assertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\r\n    \t\t.isInstanceOf(UnknownHostException.class)\r\n    \t\t.hasMessageContaining(&quot;my custom error message&quot;);\r\n\r\n","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>in order to test it, you need to make your mock throw some exception when <code>getLocalHostName</code> is called:</p>\n<pre><code>Mockito.when(mockInetAddress.getHostName()).thenThrow(new RuntimeException()); \n// use here the actual exception that will occur in your production code\n\nMyRepository repository = new MyRepository(jdbcTemplate) {\n    @Override\n    public String getLocalHostName() {\n        return mockInetAddress.getHostName();\n    }\n};\n\nassertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n</code></pre>\n<p>Additionally, you can use Assertj for testing exceptions: <a href=\"https://github.com/assertj/assertj\" rel=\"nofollow noreferrer\">https://github.com/assertj/assertj</a>. For instance, you can check the exception message:</p>\n<pre><code>//Assertions from package org.assertj.core.api\nAssertions.assertThatThrownBy(() -&gt; repository.getLocalHostName())\n        .isInstanceOf(UnknownHostException.class)\n        .hasMessageContaining(&quot;my custom error message&quot;);\n</code></pre>\n"}],"owner":{"account_id":23951042,"reputation":33,"user_id":17942621,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781444,"answer_count":1,"score":0,"last_activity_date":1679225992,"creation_date":1679222186,"question_id":75781393,"body_markdown":"I want to cover by mock test (I use Unit 5) `@SneakyThrows` annotation in one method which looks like:\r\n\r\n    @Override\r\n    @SneakyThrows\r\n    public String getLocalHostName() {\r\n        return InetAddress.getLocalHost().getHostName();\r\n        }\r\nBut all my tryouts are not successful. I&#39;ve tried to write something like\r\n\r\n    @Test\r\n    void testGetLocalHostName_exception() {\r\n        assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\r\n    }\r\nBut it did not cover this annotation.\r\nMy mock test btw for the successful case is the following:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyRepositoryImplTest {\r\n    \r\n        @Mock(lenient = true)\r\n        private NamedParameterJdbcTemplate jdbcTemplate;\r\n    \r\n        @Mock(lenient = true)\r\n        private InetAddress mockInetAddress;\r\n    \r\n        @InjectMocks\r\n        @Spy\r\n        private MyRepository repository;\r\n    \r\n        @Test\r\n        void testGetLocalHostName() {\r\n            var expectedHostname = &quot;mock-hostname&quot;;\r\n            Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\r\n        \r\n            MyRepository repository = new MyRepository(jdbcTemplate) {\r\n                @Override\r\n                public String getLocalHostName() {\r\n                    return mockInetAddress.getHostName();\r\n                }\r\n            };\r\n            assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\r\n        }\r\n    }\r\n\r\nCan you help me please to cover this line by test?","title":"How to cover @SneakyThrows annotation by mock tests?","body":"<p>I want to cover by mock test (I use Unit 5) <code>@SneakyThrows</code> annotation in one method which looks like:</p>\n<pre><code>@Override\n@SneakyThrows\npublic String getLocalHostName() {\n    return InetAddress.getLocalHost().getHostName();\n    }\n</code></pre>\n<p>But all my tryouts are not successful. I've tried to write something like</p>\n<pre><code>@Test\nvoid testGetLocalHostName_exception() {\n    assertThrows(Exception.class, () -&gt; repository.getLocalHostName());\n}\n</code></pre>\n<p>But it did not cover this annotation.\nMy mock test btw for the successful case is the following:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyRepositoryImplTest {\n\n    @Mock(lenient = true)\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    @Mock(lenient = true)\n    private InetAddress mockInetAddress;\n\n    @InjectMocks\n    @Spy\n    private MyRepository repository;\n\n    @Test\n    void testGetLocalHostName() {\n        var expectedHostname = &quot;mock-hostname&quot;;\n        Mockito.when(mockInetAddress.getHostName()).thenReturn(expectedHostname);\n    \n        MyRepository repository = new MyRepository(jdbcTemplate) {\n            @Override\n            public String getLocalHostName() {\n                return mockInetAddress.getHostName();\n            }\n        };\n        assertThat(repository.getLocalHostName()).isEqualTo(expectedHostname);\n    }\n}\n</code></pre>\n<p>Can you help me please to cover this line by test?</p>\n"},{"tags":["java","android","kotlin","gradle","sdk"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":2,"creation_date":1648881076,"post_id":71715306,"comment_id":126740434,"body_markdown":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio.","body":"It means your tools and out of sync.  Probably the easiest way to fix this is to reinstall Android Studio."}],"answers":[{"tags":[],"owner":{"account_id":22303736,"reputation":209,"user_id":16528677,"display_name":"Darian-Ctlin Cucer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679225747,"creation_date":1679223555,"answer_id":75781509,"question_id":71715306,"body_markdown":"The most common reason for this error can be the usages of **outdated** `Android SDK` tools that are unable to understand the most recent `&quot;SDK XML&quot;` files.\r\n\r\nYou should update your `SDK tools` to the most recent version that supports the `&quot;SDK XML&quot;`, **Version 3** should solve the problem.\r\n\r\nThis is a possible procedures to upgrade your `SDK tools`:\r\n\r\n 1. Open `Android Studio`.\r\n 2. Go to `File`-&gt;`Settings`-&gt;`Appearance &amp; Behaviour`-&gt;`System Settings`-&gt;`Android SDK`.\r\n 3. Open `SDK Manager` and select `SDK Tools`.\r\n 4. Check the `Android SDK Built-Tools`.\r\n 5. If it&#39;s not updated, select the latest version and click `Apply` to install it.\r\n 6. When the installation is completed, restart `Android Studio`.\r\n 7. Try to `rebuild` your Application.\r\n\r\n**You can also try `Invalidate Caches` and to `clone` the project again.**\r\n\r\nAlso check this [Update the IDE and SDK tools](https://developer.android.com/studio/intro/update) and this [sdk - How to update Android Studio automatically?](https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically)\r\n","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>The most common reason for this error can be the usages of <strong>outdated</strong> <code>Android SDK</code> tools that are unable to understand the most recent <code>&quot;SDK XML&quot;</code> files.</p>\n<p>You should update your <code>SDK tools</code> to the most recent version that supports the <code>&quot;SDK XML&quot;</code>, <strong>Version 3</strong> should solve the problem.</p>\n<p>This is a possible procedures to upgrade your <code>SDK tools</code>:</p>\n<ol>\n<li>Open <code>Android Studio</code>.</li>\n<li>Go to <code>File</code>-&gt;<code>Settings</code>-&gt;<code>Appearance &amp; Behaviour</code>-&gt;<code>System Settings</code>-&gt;<code>Android SDK</code>.</li>\n<li>Open <code>SDK Manager</code> and select <code>SDK Tools</code>.</li>\n<li>Check the <code>Android SDK Built-Tools</code>.</li>\n<li>If it's not updated, select the latest version and click <code>Apply</code> to install it.</li>\n<li>When the installation is completed, restart <code>Android Studio</code>.</li>\n<li>Try to <code>rebuild</code> your Application.</li>\n</ol>\n<p><strong>You can also try <code>Invalidate Caches</code> and to <code>clone</code> the project again.</strong></p>\n<p>Also check this <a href=\"https://developer.android.com/studio/intro/update\" rel=\"nofollow noreferrer\">Update the IDE and SDK tools</a> and this <a href=\"https://stackoverflow.com/questions/28133518/how-to-update-android-studio-automatically\">sdk - How to update Android Studio automatically?</a></p>\n"}],"owner":{"display_name":"user18594689"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2093,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75781509,"answer_count":1,"score":3,"last_activity_date":1679225747,"creation_date":1648880249,"question_id":71715306,"body_markdown":"I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;\r\n\r\nMy app still working but this error is annoying.\r\n\r\nCan anyone help?","title":"How I can resolve &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered&quot;?","body":"<p>I am getting this error &quot;This version only understands SDK XML versions up to 2 but an SDK XML file of version 3 was encountered. This can happen if you use versions of Android Studio and the command-line tools that were released at different times.&quot;</p>\n<p>My app still working but this error is annoying.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","thread-safety","apache-tika","language-detection"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1679221781,"post_id":75781081,"comment_id":133679318,"body_markdown":"Looks like the intent is certainly that they are :  Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug!    https://www.mail-archive.com/user@tika.apache.org/msg03473.html","body":"Looks like the intent is certainly that they are :  Detect and parse are both thread-safe. If you find otherwise, that&#39;s a bug!    <a href=\"https://www.mail-archive.com/user@tika.apache.org/msg03473.html\" rel=\"nofollow noreferrer\">mail-archive.com/user@tika.apache.org/msg03473.html</a>"},{"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"score":0,"creation_date":1679222087,"post_id":75781081,"comment_id":133679360,"body_markdown":"@racraman The post you linked refers to class `org.apache.tika.Tika`, which is used to detect media types, not to `org.apache.tika.language.detect.LanguageDetector`.","body":"@racraman The post you linked refers to class <code>org.apache.tika.Tika</code>, which is used to detect media types, not to <code>org.apache.tika.language.detect.LanguageDetector</code>."}],"answers":[{"comments":[{"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"score":2,"creation_date":1679230672,"post_id":75781649,"comment_id":133680410,"body_markdown":"Thank you @Roar S.! This is what I expected. However, it seems that Optimaize Language Detector, when used on its own (outside of Tika), IS thread-safe...\n\nhttps://github.com/optimaize/language-detector/issues/9","body":"Thank you @Roar S.! This is what I expected. However, it seems that Optimaize Language Detector, when used on its own (outside of Tika), IS thread-safe...  <a href=\"https://github.com/optimaize/language-detector/issues/9\" rel=\"nofollow noreferrer\">github.com/optimaize/language-detector/issues/9</a>"}],"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679225595,"creation_date":1679225234,"answer_id":75781649,"question_id":75781081,"body_markdown":"A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members. \r\n\r\nWhen reading the source for `org.apache.tika.langdetect.optimaize.OptimaizeLangDetector` [here][1]\r\n\r\nwe&#39;ll see this instance method\r\n```\r\npublic void reset() {\r\n    writer.reset();\r\n}\r\n```\r\nwhich is changing member \r\n```\r\nprivate CharArrayWriter writer;\r\n```\r\nand with that the state of the `OptimaizeLangDetector` instance. Hence `OptimaizeLangDetector` is not thread-safe.\r\n\r\n  [1]: https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>A requirement for a class to be thread-safe, is that it is immutable. That means after construction, instance methods are not allowed to change any members.</p>\n<p>When reading the source for <code>org.apache.tika.langdetect.optimaize.OptimaizeLangDetector</code> <a href=\"https://github.com/apache/tika/blob/main/tika-langdetect/tika-langdetect-optimaize/src/main/java/org/apache/tika/langdetect/optimaize/OptimaizeLangDetector.java\" rel=\"nofollow noreferrer\">here</a></p>\n<p>we'll see this instance method</p>\n<pre><code>public void reset() {\n    writer.reset();\n}\n</code></pre>\n<p>which is changing member</p>\n<pre><code>private CharArrayWriter writer;\n</code></pre>\n<p>and with that the state of the <code>OptimaizeLangDetector</code> instance. Hence <code>OptimaizeLangDetector</code> is not thread-safe.</p>\n"}],"owner":{"account_id":2629772,"reputation":433,"user_id":2276054,"display_name":"Leszek Pachura"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75781649,"answer_count":1,"score":0,"last_activity_date":1679225595,"creation_date":1679217860,"question_id":75781081,"body_markdown":"Consider the following code:\r\n`````\r\nfinal String[] texts = {\r\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arriv&#233;&quot;,\r\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Bl&#228;tter!&quot;,\r\n    &quot;...&quot;\r\n};\r\n\r\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\r\nld.loadModels();\r\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\r\n`````\r\nCan I assume that `ld.detect()` and `ld.detectAll()` are thread-safe and can be ran in parallel on multiple texts using a single `LanguageDetector` instance?\r\n\r\nThe thing that makes me worry is that `LanguageDetector` has methods like `addText()`, `hasEnoughText()` and `reset()` which make it stateful, and therefore - by definition - non-thread-safe...\r\n\r\nhttps://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html","title":"Are Apache Tika&#39;s LanguageDetectors thread-safe?","body":"<p>Consider the following code:</p>\n<pre><code>final String[] texts = {\n    &quot;Allons, enfants de la Patrie, Le jour de gloire est arriv&quot;,\n    &quot;O Tannenbaum, o Tannenbaum, wie treu sind deine Bltter!&quot;,\n    &quot;...&quot;\n};\n\nfinal LanguageDetector ld = new OptimaizeLangDetector();  // or e.g. OpenNLPDetector\nld.loadModels();\nArrays.stream(texts).parallel().forEach(text -&gt; System.out.println(ld.detect(text)));\n</code></pre>\n<p>Can I assume that <code>ld.detect()</code> and <code>ld.detectAll()</code> are thread-safe and can be ran in parallel on multiple texts using a single <code>LanguageDetector</code> instance?</p>\n<p>The thing that makes me worry is that <code>LanguageDetector</code> has methods like <code>addText()</code>, <code>hasEnoughText()</code> and <code>reset()</code> which make it stateful, and therefore - by definition - non-thread-safe...</p>\n<p><a href=\"https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html\" rel=\"nofollow noreferrer\">https://tika.apache.org/2.7.0/api/org/apache/tika/language/detect/LanguageDetector.html</a></p>\n"},{"tags":["java","fonts","itext"],"comments":[{"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":""},"score":0,"creation_date":1676431162,"post_id":75446930,"comment_id":133133959,"body_markdown":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file.","body":"@KJ thx for you answer, there have a way to check local fonts subset ? I need to avoid &#39;Missing Character&#39; when system rendering. Wanna go to confirm local font contain all fonts used in a pdf file."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676411776,"creation_date":1676411776,"answer_id":75453629,"question_id":75446930,"body_markdown":"According to the PDF specification:\r\n\r\n&gt;### 9.9.2 Font subsets\r\n&gt;\r\n&gt;PDF documents may include subsets of PDF fonts whose **Subtype** is *Type1*, *TrueType* or *OpenType*. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)\r\n&gt;\r\n&gt;For a font subset, the PostScript name of the font, that is, the value of the fonts **BaseFont** entry and the font descriptors **FontName** entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name **.notdef** shall be defined in the font subset.\r\n&gt;\r\n&gt;NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.\r\n&gt;\r\n&gt;EXAMPLE EOODIA+Poetica is the name of a subset of Poetica&#174;, a Type 1 font.\r\n\r\n*(ISO 32000-2)*\r\n\r\nThus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.","title":"What is different the two font?","body":"<p>According to the PDF specification:</p>\n<blockquote>\n<h3>9.9.2 Font subsets</h3>\n<p>PDF documents may include subsets of PDF fonts whose <strong>Subtype</strong> is <em>Type1</em>, <em>TrueType</em> or <em>OpenType</em>. The font and font descriptor that describe a font subset are slightly different from those of ordinary fonts. These differences allow a PDF processor to recognise font subsets and to merge documents containing different subsets of the same font. (For more information on font descriptors, see 9.8, &quot;Font descriptors&quot;.)</p>\n<p>For a font subset, the PostScript name of the font, that is, the value of the fonts <strong>BaseFont</strong> entry and the font descriptors <strong>FontName</strong> entry, shall begin with a tag followed by a plus sign (+) followed by the PostScript name of the font from which the subset was created. The tag shall consist of exactly six uppercase letters; the choice of letters is arbitrary, but different subsets of the same font in the same PDF file shall have different tags. The glyph name <strong>.notdef</strong> shall be defined in the font subset.</p>\n<p>NOTE It is recommended that PDF processors treat multiple subset fonts as completely independent entities, even if they appear to have been created from the same original font.</p>\n<p>EXAMPLE EOODIA+Poetica is the name of a subset of Poetica, a Type 1 font.</p>\n</blockquote>\n<p><em>(ISO 32000-2)</em></p>\n<p>Thus, AAAAAD+SourceHanSansCN-Normal and BIISMY+SourceHanSansCN-Normal most likely are different subsets of the same source font.</p>\n"}],"owner":{"account_id":26119940,"reputation":3,"user_id":19812391,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453629,"answer_count":1,"score":0,"last_activity_date":1679225089,"creation_date":1676372838,"question_id":75446930,"body_markdown":"When i print **TextRenderInfo.getFont().getPostscriptFontName()** in two pdf file, it will be printed **AAAAAD+SourceHanSansCN-Normal** and **BIISMY+SourceHanSansCN-Normal**.\r\n\r\nI known **SourceHanSansCN-Normal** is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.\r\n\r\nExample Code:\r\n\r\n```\r\npublic class CheckPdfAllFontTest implements TextExtractionStrategy {\r\n\r\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\r\n\r\n    @Override\r\n    public String getResultantText() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void beginTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderText(TextRenderInfo textRenderInfo) {\r\n        String x = textRenderInfo.getFont().getPostscriptFontName();\r\n        String text = textRenderInfo.getText();\r\n        System.out.println(text + &quot;=====&quot; + x);\r\n    }\r\n\r\n    @Override\r\n    public void endTextBlock() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\r\n\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException, DocumentException {\r\n        new CheckPdfAllFontTest().parse(SRC);\r\n    }\r\n\r\n    public void parse(String filename) throws IOException, IOException {\r\n        int pageNumber = 1;\r\n        PdfReader reader = new PdfReader(filename);\r\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\r\n        reader.close();\r\n    }\r\n}\r\n```\r\n\r\nItext pdf version:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File. \r\n\r\n - &quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.\r\n - &quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.\r\n\r\n\r\nI am collecting the fonts used in pdf, but I found that there are fonts in this format. I dont know what is before the +. What is its definition?\r\n","title":"What is different the two font?","body":"<p>When i print <strong>TextRenderInfo.getFont().getPostscriptFontName()</strong> in two pdf file, it will be printed <strong>AAAAAD+SourceHanSansCN-Normal</strong> and <strong>BIISMY+SourceHanSansCN-Normal</strong>.</p>\n<p>I known <strong>SourceHanSansCN-Normal</strong> is format of FontName-FontScript, but what is AAAAAD ? Is not like font family.</p>\n<p>Example Code:</p>\n<pre><code>public class CheckPdfAllFontTest implements TextExtractionStrategy {\n\n    public static final String SRC = &quot;ownTestFile.pdf&quot;;\n\n    @Override\n    public String getResultantText() {\n        return null;\n    }\n\n    @Override\n    public void beginTextBlock() {\n\n    }\n\n    @Override\n    public void renderText(TextRenderInfo textRenderInfo) {\n        String x = textRenderInfo.getFont().getPostscriptFontName();\n        String text = textRenderInfo.getText();\n        System.out.println(text + &quot;=====&quot; + x);\n    }\n\n    @Override\n    public void endTextBlock() {\n\n    }\n\n    @Override\n    public void renderImage(ImageRenderInfo imageRenderInfo) {\n\n    }\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        new CheckPdfAllFontTest().parse(SRC);\n    }\n\n    public void parse(String filename) throws IOException, IOException {\n        int pageNumber = 1;\n        PdfReader reader = new PdfReader(filename);\n        System.out.println(PdfTextExtractor.getTextFromPage(reader, pageNumber, new CheckPdfAllFontTest()));\n        reader.close();\n    }\n}\n</code></pre>\n<p>Itext pdf version:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n    &lt;version&gt;5.5.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The two pdf is exported with &quot;embed font&quot; and &quot;not embed font&quot; setting from a Power Point File.</p>\n<ul>\n<li>&quot;AAAAAD+SourceHanSansCN-Normal&quot; from &quot;embed font&quot; pdf file.</li>\n<li>&quot;BIISMY+SourceHanSansCN-Normal&quot; from &quot;not embed font&quot; pdf file.</li>\n</ul>\n<p>I am collecting the fonts used in pdf, but I found that there are fonts in this format. I dont know what is before the +. What is its definition?</p>\n"},{"tags":["java","android","testing","junit4","robolectric"],"owner":{"account_id":4799010,"reputation":354,"user_id":3876115,"accept_rate":100,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224907,"creation_date":1679224907,"question_id":75781616,"body_markdown":"I have a class `CustomerDeleteActivity` that first retrieve data from an adapter.\r\n\r\n**CustomerDeleteActivity**\r\n\r\n    public class CustomerDeleteActivity extends AppCompatActivity {\r\n    \r\n        public void getFieldsData() {\r\n            // Inicializamos la entidad Veh&#237;culo con el bundle correspondiente\r\n            customer = null;\r\n            customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\r\n    \r\n            // Por cada atributo de usuario configuramos su vista correspondiente\r\n            etName.setText(customer.getName());\r\n            etDni.setText(customer.getDni());\r\n            etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\r\n            etEmail.setText(customer.getEmail());\r\n    \r\n            for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\r\n                if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\r\n                    spSex.setSelection(i);\r\n                }\r\n            }\r\n            spSex.setEnabled(false);\r\n    \r\n            for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\r\n                if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\r\n                    spLabor.setSelection(i);\r\n                }\r\n            }\r\n            spLabor.setEnabled(false);\r\n    \r\n            etObservation.setText(customer.getObservation());\r\n        }\r\n    }\r\n\r\nThe method `getFieldsData` set the EditTexts fields to show the information that the user will delete. And this method run in `onCreate`:\r\n\r\n    if (bundle == null) {\r\n        Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\r\n    } else {\r\n        getFieldsData();\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\r\n    }\r\n\r\nThe app works fine, but I am trying to do the test, and I have that:\r\n\r\n    @RunWith(RobolectricTestRunner.class)\r\n    @LooperMode(LooperMode.Mode.PAUSED)\r\n    @Config(sdk = Build.VERSION_CODES.P)\r\n    @DoNotInstrument\r\n    public class CustomerDeleteActivityTest {\r\n    \r\n        private CustomerDeleteActivity activity;\r\n        private DbCustomer dbCustomer;\r\n        private SQLiteDatabase db;\r\n        private Button btDelete;\r\n        private EditText etName;\r\n        private EditText etDni;\r\n        private EditText etDate;\r\n        private EditText etEmail;\r\n        private Spinner spSex;\r\n        private Spinner spLabor;\r\n        private EditText etObservation;\r\n    \r\n        @Before\r\n        public void setUp() {\r\n            // Configuro resto de objetos\r\n            activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\r\n            dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\r\n            db = dbCustomer.getWritableDatabase();\r\n            etName = activity.findViewById(R.id.etCustomerNameDelete);\r\n            etDni = activity.findViewById(R.id.etCustomerDniDelete);\r\n            etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\r\n            etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\r\n            spSex = activity.findViewById(R.id.spCustomerSexDelete);\r\n            spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\r\n            etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\r\n            btDelete = activity.findViewById(R.id.btCustomerDelete);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() {\r\n            activity.finish();\r\n            dbCustomer.close();\r\n            db.close();\r\n        }\r\n    \r\n    @Test\r\n        public void getFieldsDataTest() {\r\n            Intent intent = new Intent();\r\n            Bundle bundle = new Bundle();\r\n    \r\n            int id = 1;\r\n            String code = &quot;0000000F&quot;;\r\n            String name = &quot;Cliente 1&quot;;\r\n            String date = &quot;2000-09-30&quot;;\r\n            String email =  &quot;c1@correo.es&quot;;\r\n            String sex = &quot;M&quot;;\r\n            String labor = &quot;Funcionario&quot;;\r\n            String observations = &quot;Cuenta ajena&quot;;\r\n    \r\n            Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\r\n            bundle.putSerializable(&quot;customer&quot;, customer);\r\n    \r\n            intent.putExtras(bundle);\r\n            activity.setIntent(intent);\r\n            activity.getFieldsData();\r\n    \r\n            ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\r\n            shadowLooper.idle();\r\n    \r\n            assertEquals(etDni.getText().toString(), customer.getDni());\r\n        }\r\n    \r\n    }\r\n\r\nWhen i execute the test I recieve that error:\r\n\r\n&gt; Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.\r\n\r\nI have try:\r\n\r\n    Thread.sleep(500);\r\n\r\nand..\r\n\r\n    Robolectric.flushForegroundThreadScheduler();\r\n\r\nand...\r\n\r\n    final CountDownLatch latch = new CountDownLatch(1);\r\n\r\n    // Espera a que se completen todas las tareas en segundo plano\r\n    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            latch.countDown();\r\n        }\r\n    });\r\n    latch.await();\r\n\r\nBut nothing works, &#191;what am i doing wrong?","title":"Main looper has queued unexecuted runnables","body":"<p>I have a class <code>CustomerDeleteActivity</code> that first retrieve data from an adapter.</p>\n<p><strong>CustomerDeleteActivity</strong></p>\n<pre><code>public class CustomerDeleteActivity extends AppCompatActivity {\n\n    public void getFieldsData() {\n        // Inicializamos la entidad Vehculo con el bundle correspondiente\n        customer = null;\n        customer = (Customer) bundle.getSerializable(&quot;customer&quot;);\n\n        // Por cada atributo de usuario configuramos su vista correspondiente\n        etName.setText(customer.getName());\n        etDni.setText(customer.getDni());\n        etDate.setText(Utilities.changeFormatData(customer.getBornDate()));\n        etEmail.setText(customer.getEmail());\n\n        for (int i = 0; i &lt; spSex.getAdapter().getCount(); i++) {\n            if (spSex.getAdapter().getItem(i).toString().contains(customer.getSex())) {\n                spSex.setSelection(i);\n            }\n        }\n        spSex.setEnabled(false);\n\n        for (int i = 0; i &lt; spLabor.getAdapter().getCount(); i++) {\n            if (spLabor.getAdapter().getItem(i).toString().contains(customer.getLabor())) {\n                spLabor.setSelection(i);\n            }\n        }\n        spLabor.setEnabled(false);\n\n        etObservation.setText(customer.getObservation());\n    }\n}\n</code></pre>\n<p>The method <code>getFieldsData</code> set the EditTexts fields to show the information that the user will delete. And this method run in <code>onCreate</code>:</p>\n<pre><code>if (bundle == null) {\n    Toast.makeText(this, &quot;Error&quot;, Toast.LENGTH_SHORT).show();\n} else {\n    getFieldsData();\n    Objects.requireNonNull(getSupportActionBar()).setTitle(getString(R.string.title_bar_customer_delete) + &quot; &quot; + customer.getName());\n}\n</code></pre>\n<p>The app works fine, but I am trying to do the test, and I have that:</p>\n<pre><code>@RunWith(RobolectricTestRunner.class)\n@LooperMode(LooperMode.Mode.PAUSED)\n@Config(sdk = Build.VERSION_CODES.P)\n@DoNotInstrument\npublic class CustomerDeleteActivityTest {\n\n    private CustomerDeleteActivity activity;\n    private DbCustomer dbCustomer;\n    private SQLiteDatabase db;\n    private Button btDelete;\n    private EditText etName;\n    private EditText etDni;\n    private EditText etDate;\n    private EditText etEmail;\n    private Spinner spSex;\n    private Spinner spLabor;\n    private EditText etObservation;\n\n    @Before\n    public void setUp() {\n        // Configuro resto de objetos\n        activity = Robolectric.buildActivity(CustomerDeleteActivity.class).create().resume().get();\n        dbCustomer = new DbCustomer(activity, DbHelper.DATABASE, null, DbHelper.DATABASE_VERSION);\n        db = dbCustomer.getWritableDatabase();\n        etName = activity.findViewById(R.id.etCustomerNameDelete);\n        etDni = activity.findViewById(R.id.etCustomerDniDelete);\n        etDate = activity.findViewById(R.id.etCustomerBornDateDelete);\n        etEmail = activity.findViewById(R.id.etCustomerEmailDelete);\n        spSex = activity.findViewById(R.id.spCustomerSexDelete);\n        spLabor = activity.findViewById(R.id.spCustomerLaborDelete);\n        etObservation = activity.findViewById(R.id.etCustomerObservationDelete);\n        btDelete = activity.findViewById(R.id.btCustomerDelete);\n    }\n\n    @After\n    public void tearDown() {\n        activity.finish();\n        dbCustomer.close();\n        db.close();\n    }\n\n@Test\n    public void getFieldsDataTest() {\n        Intent intent = new Intent();\n        Bundle bundle = new Bundle();\n\n        int id = 1;\n        String code = &quot;0000000F&quot;;\n        String name = &quot;Cliente 1&quot;;\n        String date = &quot;2000-09-30&quot;;\n        String email =  &quot;c1@correo.es&quot;;\n        String sex = &quot;M&quot;;\n        String labor = &quot;Funcionario&quot;;\n        String observations = &quot;Cuenta ajena&quot;;\n\n        Customer customer = new Customer(id, code, name, date, email, sex, labor, observations);\n        bundle.putSerializable(&quot;customer&quot;, customer);\n\n        intent.putExtras(bundle);\n        activity.setIntent(intent);\n        activity.getFieldsData();\n\n        ShadowLooper shadowLooper = Shadows.shadowOf(Looper.getMainLooper());\n        shadowLooper.idle();\n\n        assertEquals(etDni.getText().toString(), customer.getDni());\n    }\n\n}\n</code></pre>\n<p>When i execute the test I recieve that error:</p>\n<blockquote>\n<p>Main looper has queued unexecuted runnables. This might be the cause of the test failure. You might need a shadowOf(getMainLooper()).idle() call.</p>\n</blockquote>\n<p>I have try:</p>\n<pre><code>Thread.sleep(500);\n</code></pre>\n<p>and..</p>\n<pre><code>Robolectric.flushForegroundThreadScheduler();\n</code></pre>\n<p>and...</p>\n<pre><code>final CountDownLatch latch = new CountDownLatch(1);\n\n// Espera a que se completen todas las tareas en segundo plano\nnew Handler(Looper.getMainLooper()).post(new Runnable() {\n    @Override\n    public void run() {\n        latch.countDown();\n    }\n});\nlatch.await();\n</code></pre>\n<p>But nothing works, what am i doing wrong?</p>\n"},{"tags":["java","jira","jira-plugin"],"owner":{"account_id":24616307,"reputation":31,"user_id":18517281,"display_name":"Kaushik Bhave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224895,"creation_date":1679224895,"question_id":75781611,"body_markdown":"Using JDK 1.8 and did set Java Home\r\n\r\nInstalled atlasian sdk \r\n\r\n    PS C:\\&gt; atlas-version\r\n    \r\n    ATLAS Version:    8.2.7\r\n    ATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\r\n    ATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\r\n    ATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\r\n    AMPS Version:     8.1.2\r\n    --------\r\n    \r\n        Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\r\n        Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\r\n        Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\r\n        Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\r\n        Default locale: en_IN, platform encoding: Cp1252\r\n        OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n\r\nCreated Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute\r\n\r\n    atlas-run\r\n\r\n Getting below exceptions\r\n\r\n\r\nException:\r\n\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin&#39;s MANIFEST.MF\r\n    [INFO] [talledLocalContainer] Tomcat 8.x is stopped\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 15:42 min\r\n    [INFO] Finished at: 2023-03-19T16:24:08+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException","title":"Unable to bring up basic jira plugin using atlas-create-jira-plugin","body":"<p>Using JDK 1.8 and did set Java Home</p>\n<p>Installed atlasian sdk</p>\n<pre><code>PS C:\\&gt; atlas-version\n\nATLAS Version:    8.2.7\nATLAS Home:       C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\nATLAS Scripts:    C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\bin\nATLAS Maven Home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\nAMPS Version:     8.1.2\n--------\n\n    Executing: &quot;C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\mvn.cmd&quot; --version -gs C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4/conf/settings.xml\n    Apache Maven 3.5.4 (1edded0938998edf8bf061f1ceb3cfdeccf443fe; 2018-06-18T00:03:14+05:30)\n    Maven home: C:\\Tutorial\\Applications\\Atlassian\\atlassian-plugin-sdk-8.2.7\\apache-maven-3.5.4\\bin\\..\n    Java version: 1.8.0_361, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk1.8.0_361\\jre\n    Default locale: en_IN, platform encoding: Cp1252\n    OS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>Created Jira Plugin steps using jira documentation. Folder structure is created as per the file when tried to execute</p>\n<pre><code>atlas-run\n</code></pre>\n<p>Getting below exceptions</p>\n<p>Exception:</p>\n<pre><code>[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.blueprint.api~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] 2023-03-19 16:20:51,879 localhost-startStop-1 WARN      [c.a.p.osgi.util.OsgiHeaderUtil] removing duplicate import package com.atlassian.jira.projects.shortcuts~ for plugin com.atlassian.jira-core-project-templates - it is likely that a duplicate package was supplied in the OSGi instructions in the plugin's MANIFEST.MF\n[INFO] [talledLocalContainer] Tomcat 8.x is stopped\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 15:42 min\n[INFO] Finished at: 2023-03-19T16:24:08+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.atlassian.maven.plugins:amps-dispatcher-maven-plugin:8.1.2:run (default-cli) on project tkplugin: Cannot start container [org.codehaus.cargo.container.tomcat.Tomcat8xInstalledLocalContainer@6adc90e9]: Deployable [http://localhost:2990/cargocpc/index.html] failed to finish deploying within the timeout period [600000]. The Deployable state is thus unknown. -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","database","spring-boot","mariadb","jhipster"],"comments":[{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":0,"creation_date":1679225798,"post_id":75781609,"comment_id":133679845,"body_markdown":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:","body":"when I got to the administration/api section in jhipster app and execute get request for products, it returns this message:"},{"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"score":1,"creation_date":1679225813,"post_id":75781609,"comment_id":133679847,"body_markdown":"{\n  &quot;type&quot;: &quot;https://www.jhipster.tech/problem/problem-with-message&quot;,\n  &quot;title&quot;: &quot;Internal Server Error&quot;,\n  &quot;status&quot;: 500,\n  &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,\n  &quot;path&quot;: &quot;/api/products&quot;,\n  &quot;message&quot;: &quot;error.http.500&quot;\n}","body":"{   &quot;type&quot;: &quot;<a href=\"https://www.jhipster.tech/problem/problem-with-message\" rel=\"nofollow noreferrer\">jhipster.tech/problem/problem-with-message</a>&quot;,   &quot;title&quot;: &quot;Internal Server Error&quot;,   &quot;status&quot;: 500,   &quot;detail&quot;: &quot;could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet&quot;,   &quot;path&quot;: &quot;/api/products&quot;,   &quot;message&quot;: &quot;error.http.500&quot; }"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1679266513,"post_id":75781609,"comment_id":133685966,"body_markdown":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client.","body":"Have a look at the java app logs, there must be an exception that is the cause of the http 500, itg&#39;s not something that  you can see in client."}],"owner":{"account_id":27767891,"reputation":21,"user_id":21198858,"display_name":"ayman dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679224843,"creation_date":1679224843,"question_id":75781609,"body_markdown":"so I cloned this jhipster project that a senior dev made. it&#39;s pretty empty he only added an entity called product using a csv file. \r\nafter spending a whole day to configure database server port. i got it working. \r\nso now I can sign in as admin and find the metrics for performance, api and everything. \r\nbut when I click entities/products the app throws a 500 connection error. \r\nI am unfamiliar with how mariadb works but I installed it \r\n\r\npossible reasons for this behavior: \r\n - I didn&#39;t configure any classpath when installing java/jhipster \r\n - I don&#39;t manually start the mysql server but the ports are configured\r\n - I didn&#39;t run any jdl command it was already ran in another pc before cloning\r\nI expect to see the products table when clicking entities/products","title":"jhipster 500 connection error but I can sign in but I can&#39;t see entities","body":"<p>so I cloned this jhipster project that a senior dev made. it's pretty empty he only added an entity called product using a csv file.\nafter spending a whole day to configure database server port. i got it working.\nso now I can sign in as admin and find the metrics for performance, api and everything.\nbut when I click entities/products the app throws a 500 connection error.\nI am unfamiliar with how mariadb works but I installed it</p>\n<p>possible reasons for this behavior:</p>\n<ul>\n<li>I didn't configure any classpath when installing java/jhipster</li>\n<li>I don't manually start the mysql server but the ports are configured</li>\n<li>I didn't run any jdl command it was already ran in another pc before cloning\nI expect to see the products table when clicking entities/products</li>\n</ul>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"score":0,"creation_date":1278587986,"post_id":3202897,"comment_id":3301276,"body_markdown":"Although it doesn&#39;t matter for smaller lists, it might be worth noting that I believe this takes quadratic time (or rather, if the list has n elements and you&#39;re removing m elements, it takes O(nm) time). If you use an `ArrayList`, removing an element takes O(n) time, so removing m items takes O(nm) time. For a `LinkedList`, reaching a random element in the list takes O(n) time, so reaching m elements takes O(nm) time.","body":"Although it doesn&#39;t matter for smaller lists, it might be worth noting that I believe this takes quadratic time (or rather, if the list has n elements and you&#39;re removing m elements, it takes O(nm) time). If you use an <code>ArrayList</code>, removing an element takes O(n) time, so removing m items takes O(nm) time. For a <code>LinkedList</code>, reaching a random element in the list takes O(n) time, so reaching m elements takes O(nm) time."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278587095,"creation_date":1278587095,"answer_id":3202897,"question_id":3202861,"body_markdown":"You shouldn&#39;t be &quot;checking&quot; anything to do that, you should do it so that duplicates never get added in the first place. To do that:\r\n\r\n 1. start with a `List&lt;String&gt;` of the options\r\n * copy the list\r\n * add a random element to the result \r\n * remove that element.\r\n * Go back to 3 until you&#39;ve added as many elements as you want or there aren&#39;t anymore left","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>You shouldn't be \"checking\" anything to do that, you should do it so that duplicates never get added in the first place. To do that:</p>\n\n<ol>\n<li>start with a <code>List&lt;String&gt;</code> of the options\n\n<ul>\n<li>copy the list</li>\n<li>add a random element to the result </li>\n<li>remove that element.</li>\n<li>Go back to 3 until you've added as many elements as you want or there aren't anymore left</li>\n</ul></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1278587740,"creation_date":1278587341,"answer_id":3202923,"question_id":3202861,"body_markdown":"A different option is to create a `List&lt;String&gt;` of all of the options, and use `Collections.shuffle` to randomly permute the list. You can then join together the first n elements.\r\n\r\nSince both `Collections.shuffle` and joining together the first n elements takes linear time, the entire process should take linear time.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A different option is to create a <code>List&lt;String&gt;</code> of all of the options, and use <code>Collections.shuffle</code> to randomly permute the list. You can then join together the first n elements.</p>\n\n<p>Since both <code>Collections.shuffle</code> and joining together the first n elements takes linear time, the entire process should take linear time.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1278587413,"creation_date":1278587413,"answer_id":3202932,"question_id":3202861,"body_markdown":"    import java.util.Random;\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            String[] fruits = { &quot;apple&quot;, &quot;pear&quot;, &quot;orange&quot;, &quot;peach&quot;, &quot;cherry&quot; };\r\n            \r\n            StringBuilder sb = new StringBuilder(&quot;Some fruits: apple&quot;);\r\n            \r\n            Random r = new Random();\r\n            int N = 3;\r\n            for (int i = 0; i &lt; N; i++) {\r\n                String toAdd;\r\n                do {\r\n                    toAdd = fruits[r.nextInt(fruits.length)];\r\n                } while (sb.indexOf(toAdd) != -1);\r\n                \r\n                sb.append(&quot;, &quot; + toAdd);\r\n            }\r\n            \r\n            System.out.println(sb);\r\n        }    \r\n    }\r\n\r\nOutput:\r\n\r\n    Some fruits: apple, pear, orange, peach\r\n\r\n\r\n----------\r\n\r\nBut I agree with Michael Borgwardt on that it&#39;s a bad thing to check using index-of over and over again.","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>import java.util.Random;\n\npublic class Test {\n    public static void main(String args[]) {\n        String[] fruits = { \"apple\", \"pear\", \"orange\", \"peach\", \"cherry\" };\n\n        StringBuilder sb = new StringBuilder(\"Some fruits: apple\");\n\n        Random r = new Random();\n        int N = 3;\n        for (int i = 0; i &lt; N; i++) {\n            String toAdd;\n            do {\n                toAdd = fruits[r.nextInt(fruits.length)];\n            } while (sb.indexOf(toAdd) != -1);\n\n            sb.append(\", \" + toAdd);\n        }\n\n        System.out.println(sb);\n    }    \n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Some fruits: apple, pear, orange, peach\n</code></pre>\n\n<hr>\n\n<p>But I agree with Michael Borgwardt on that it's a bad thing to check using index-of over and over again.</p>\n"},{"comments":[{"owner":{"account_id":20593,"reputation":11338,"user_id":49381,"accept_rate":80,"display_name":"Michael Williamson"},"score":0,"creation_date":1278593663,"post_id":3202953,"comment_id":3302068,"body_markdown":"The conditional checking whether `fruits` contains `fruit` is unnecessary -- adding a fruit that is already in the set leaves the set unchanged.","body":"The conditional checking whether <code>fruits</code> contains <code>fruit</code> is unnecessary -- adding a fruit that is already in the set leaves the set unchanged."},{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":0,"creation_date":1543501564,"post_id":3202953,"comment_id":93949249,"body_markdown":"This is a nice solution (making a set first :) ).","body":"This is a nice solution (making a set first :) )."}],"tags":[],"owner":{"account_id":161982,"reputation":546,"user_id":383163,"display_name":"Marc van Kempen"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278595651,"creation_date":1278587640,"answer_id":3202953,"question_id":3202861,"body_markdown":"It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you&#39;re done adding fruits convert the Set into a String, e.g.\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    for (String fruit: fruitSource) {\r\n        fruits.add(fruit);\r\n    }\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        sb.append(fruit);\r\n        sb.append(&quot;, &quot;);\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>It is of course possible to check the string by iterating through it (e.g. use indexOf()), but I would use a Set in this particular instance to add the fruits (if it already exists it will not be added again), once you're done adding fruits convert the Set into a String, e.g.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nfor (String fruit: fruitSource) {\n    fruits.add(fruit);\n}\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    sb.append(fruit);\n    sb.append(\", \");\n}\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":333664,"reputation":3932,"user_id":659634,"accept_rate":91,"display_name":"Whitecat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476914146,"creation_date":1476914146,"answer_id":40142159,"question_id":3202861,"body_markdown":"A simple way to do it is similar to [Marc van Kempen][1]&#39;s solution but smaller.\r\n\r\n\r\n    Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\r\n    StringBuilder sb = new StringBuilder();\r\n    for (String fruit: fruits) {\r\n        if(fruits.add(fruit)){\r\n            sb.append(fruit);\r\n            sb.append(&quot;, &quot;);\r\n        }\r\n    }\r\n    return sb.toString();\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/383163/marc-van-kempen","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>A simple way to do it is similar to <a href=\"https://stackoverflow.com/users/383163/marc-van-kempen\">Marc van Kempen</a>'s solution but smaller.</p>\n\n<pre><code>Set&lt;String&gt; fruits = new HashSet&lt;String&gt;();\nStringBuilder sb = new StringBuilder();\nfor (String fruit: fruits) {\n    if(fruits.add(fruit)){\n        sb.append(fruit);\n        sb.append(\", \");\n    }\n}\nreturn sb.toString();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5709614,"reputation":433,"user_id":4512086,"display_name":"Mindaugas K."},"score":9,"creation_date":1515233280,"post_id":42479633,"comment_id":83229204,"body_markdown":"better use indexOf","body":"better use indexOf"}],"tags":[],"owner":{"account_id":6515387,"reputation":257,"user_id":5041387,"display_name":"swapnil bhosale"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1488180063,"creation_date":1488179014,"answer_id":42479633,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but `String` does. So you can use `StringBuilder` to build a string by using `toString()`. Then call `contains()` on it, to check if it contains that character or string.\r\n\r\n**Example:**  \r\n\r\n    stringBuilder.toString().contains(characterYouWantToCheck)","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but <code>String</code> does. So you can use <code>StringBuilder</code> to build a string by using <code>toString()</code>. Then call <code>contains()</code> on it, to check if it contains that character or string.</p>\n\n<p><strong>Example:</strong>  </p>\n\n<pre><code>stringBuilder.toString().contains(characterYouWantToCheck)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5981952,"reputation":1949,"user_id":5320300,"accept_rate":76,"display_name":"Simon Baars"},"comment_count":0,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1679224560,"creation_date":1522050596,"answer_id":49486437,"question_id":3202861,"body_markdown":"The `StringBuilder` class does not have a `contains()` method, but it does have an `indexOf()` method. The `indexOf()` method returns `-1` when the substring is not found.\r\n\r\n**Example:**\r\n\r\n    stringBuilder.indexOf(charactersYouWantToCheck) != -1\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>The <code>StringBuilder</code> class does not have a <code>contains()</code> method, but it does have an <code>indexOf()</code> method. The <code>indexOf()</code> method returns <code>-1</code> when the substring is not found.</p>\n<p><strong>Example:</strong></p>\n<pre><code>stringBuilder.indexOf(charactersYouWantToCheck) != -1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10549874,"reputation":1,"user_id":7772886,"display_name":"Aaditya Kavthekar"},"score":0,"creation_date":1577814910,"post_id":59547151,"comment_id":105263311,"body_markdown":"strb2.indexOf(String.valueOf(strb1.charAt(i))","body":"strb2.indexOf(String.valueOf(strb1.charAt(i))"}],"tags":[],"owner":{"account_id":10549874,"reputation":1,"user_id":7772886,"display_name":"Aaditya Kavthekar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577843542,"creation_date":1577814703,"answer_id":59547151,"question_id":3202861,"body_markdown":"    strb2.indexOf(String.valueOf(strb1.charAt(i))\r\n\r\n`strb2` and `strb1` are objects of `StringBuilder` class. If the letter is present, it will return its index else `-1.`","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>strb2.indexOf(String.valueOf(strb1.charAt(i))\n</code></pre>\n\n<p><code>strb2</code> and <code>strb1</code> are objects of <code>StringBuilder</code> class. If the letter is present, it will return its index else <code>-1.</code></p>\n"},{"tags":[],"owner":{"account_id":18504423,"reputation":1,"user_id":13481043,"display_name":"Sai Nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588752027,"creation_date":1588752027,"answer_id":61630157,"question_id":3202861,"body_markdown":"Java StringBuilder doesn&#39;t have **contains** method \r\nSo you can check whether a string or character contains in the StringBuilder as below:\r\n\r\n    StingBuilder sb = new StringBuilder(&quot;apple, pear, orange, peach, cherry&quot;);\r\n    if(sb.indexOf(&quot;someFruit&quot;) == -1) {\r\n       //you can insert\r\n    } else {\r\n       // do something\r\n    }\r\n\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Java StringBuilder doesn't have <strong>contains</strong> method \nSo you can check whether a string or character contains in the StringBuilder as below:</p>\n\n<pre><code>StingBuilder sb = new StringBuilder(\"apple, pear, orange, peach, cherry\");\nif(sb.indexOf(\"someFruit\") == -1) {\n   //you can insert\n} else {\n   // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6801868,"reputation":738,"user_id":5234943,"display_name":"Hard_Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597000595,"creation_date":1597000595,"answer_id":63330388,"question_id":3202861,"body_markdown":"    //StringBuilder object\r\n\r\n        StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\r\n        \r\n        System.out.println( contains(sb, &quot;One&quot;) );\r\n        System.out.println( contains(sb, &quot;Two&quot;) );\r\n        System.out.println( contains(sb, &quot;Five&quot;) );\r\n\r\n\r\nOutput:\r\n\r\n    true\r\n    true\r\n    false","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<pre><code>//StringBuilder object\n\n    StringBuilder sb = new StringBuilder(&quot;One Two Three&quot;);\n    \n    System.out.println( contains(sb, &quot;One&quot;) );\n    System.out.println( contains(sb, &quot;Two&quot;) );\n    System.out.println( contains(sb, &quot;Five&quot;) );\n</code></pre>\n<p>Output:</p>\n<pre><code>true\ntrue\nfalse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20351631,"reputation":27,"user_id":14928188,"display_name":"Pankaj Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622045046,"creation_date":1622026861,"answer_id":67703580,"question_id":3202861,"body_markdown":"`StringBuilder` doesn&#39;t have a `contains()` method, but it does have the `indexOf()` method. Therefore, you can check for the index of character and if it returns `-1`, the character is not present in the `StringBuilder`.\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\n\r\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\r\n   //sb contains character\r\n}\r\n```","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p><code>StringBuilder</code> doesn't have a <code>contains()</code> method, but it does have the <code>indexOf()</code> method. Therefore, you can check for the index of character and if it returns <code>-1</code>, the character is not present in the <code>StringBuilder</code>.</p>\n<pre><code>StringBuilder sb = new StringBuilder();\n\nif(sb.indexOf(CharacterYouWantToCheck) != -1){\n   //sb contains character\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4980140,"reputation":3385,"user_id":4005379,"accept_rate":64,"display_name":"Alferd Nobel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653073673,"creation_date":1653073673,"answer_id":72323777,"question_id":3202861,"body_markdown":"Here I iterate through the String to find a matching char in the StringBuilder using `chars().forEach()`\r\n\r\n    public static void findMatch(String s){\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;can&quot;);\r\n        s.chars().forEach(i -&gt; {\r\n\r\n            if(sb.indexOf(String.valueOf((char)i))!= -1)\r\n                System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\r\n        });","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>Here I iterate through the String to find a matching char in the StringBuilder using <code>chars().forEach()</code></p>\n<pre><code>public static void findMatch(String s){\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;can&quot;);\n    s.chars().forEach(i -&gt; {\n\n        if(sb.indexOf(String.valueOf((char)i))!= -1)\n            System.out.println(&quot;Found char is &quot;+String.valueOf((char)i));\n    });\n</code></pre>\n"}],"owner":{"account_id":164026,"reputation":441,"user_id":386537,"accept_rate":0,"display_name":"user386537"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81981,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":12,"score":31,"last_activity_date":1679224560,"creation_date":1278586821,"question_id":3202861,"body_markdown":"I want to check if a Java `StringBuilder` object contains a character.\r\n\r\nFor example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. \r\n\r\nHow would I check if StringBuilder contains a character?\r\n","title":"java: How to check StringBuilder charcters to see if it contains same characters as new string request from array?","body":"<p>I want to check if a Java <code>StringBuilder</code> object contains a character.</p>\n\n<p>For example I have a list of foods in an array {apple, pear, orange, peach, cherry} and I want to add a random number of these food types to the StringBuilder. </p>\n\n<p>How would I check if StringBuilder contains a character?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9661,"page":564,"page_size":100}
