{"items":[{"tags":["java","ms-access","jackcess"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1461571093,"post_id":36833775,"comment_id":61240385,"body_markdown":"A title should succinctly describe the problem; use the body of the question to explain the problem in more detail. If that means repeating the title in the body, then repeat the title. Questions with only code in the body are usually low quality.","body":"A title should succinctly describe the problem; use the body of the question to explain the problem in more detail. If that means repeating the title in the body, then repeat the title. Questions with only code in the body are usually low quality."}],"answers":[{"tags":[],"owner":{"account_id":2460030,"reputation":118378,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461590299,"creation_date":1461590299,"answer_id":36841743,"question_id":36833775,"body_markdown":"Your mistake is that you are opening the table you want to delete, not the system table that holds the list of database objects. Instead of\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    Table table = db.getSystemTable(tableName);\r\n\r\nyou need to use\r\n\r\n    Table table = db.getSystemTable(&quot;MSysObjects&quot;);","title":"Unable to drop table via Jackcess using getSystemTable and findFirstRow","body":"<p>Your mistake is that you are opening the table you want to delete, not the system table that holds the list of database objects. Instead of</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>Table table = db.getSystemTable(tableName);\n</code></pre>\n\n<p>you need to use</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Table table = db.getSystemTable(\"MSysObjects\");\n</code></pre>\n"}],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":36841743,"answer_count":1,"score":0,"last_activity_date":1679185772,"creation_date":1461567174,"question_id":36833775,"body_markdown":"&gt; Why can&#39;t cursor `findFirstRow` when I try to use Jackcess to find the row that I need to delete in order to drop a table?\r\n\r\n    private static void deleteTable(Database db, String tableName) throws IOException {\r\n\t\tTable table = db.getSystemTable(tableName);\r\n\t\tif (table == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tCursor cursor = table.getDefaultCursor();\r\n\t\tMap&lt;String, Object&gt; criteria = new HashMap&lt;String, Object&gt;();\r\n\t\tcriteria.put(&quot;Name&quot;, tableName);\r\n\t\tcriteria.put(&quot;Type&quot;, (short) 1);\r\n\t\tif (cursor.findFirstRow(criteria)) {\r\n\t\t\ttable.deleteRow(cursor.getCurrentRow());\r\n\t\t\tLog.e(TAG, &quot;delete &quot; + tableName + &quot;   success!&quot;);\r\n\t\t} else {\r\n\t\t\tLog.e(TAG, &quot;can&#39;t find this Table&quot;);//run here\r\n\t\t}\r\n\t\tdb.flush();\r\n\t\tdb.close();\r\n\t}\r\n\r\n###### PS.: no reported exception","title":"Unable to drop table via Jackcess using getSystemTable and findFirstRow","body":"<blockquote>\n<p>Why can't cursor <code>findFirstRow</code> when I try to use Jackcess to find the row that I need to delete in order to drop a table?</p>\n</blockquote>\n<pre><code>private static void deleteTable(Database db, String tableName) throws IOException {\n    Table table = db.getSystemTable(tableName);\n    if (table == null) {\n        return;\n    }\n    Cursor cursor = table.getDefaultCursor();\n    Map&lt;String, Object&gt; criteria = new HashMap&lt;String, Object&gt;();\n    criteria.put(&quot;Name&quot;, tableName);\n    criteria.put(&quot;Type&quot;, (short) 1);\n    if (cursor.findFirstRow(criteria)) {\n        table.deleteRow(cursor.getCurrentRow());\n        Log.e(TAG, &quot;delete &quot; + tableName + &quot;   success!&quot;);\n    } else {\n        Log.e(TAG, &quot;can't find this Table&quot;);//run here\n    }\n    db.flush();\n    db.close();\n}\n</code></pre>\n<h6>PS.: no reported exception</h6>\n"},{"tags":["java","jar","classpath"],"comments":[{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679174805,"post_id":75778598,"comment_id":133675365,"body_markdown":"Tried to run the class explicitly, failed with the same error: java -cp ./TSUOrchestrationLogic-assembly.jar com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator","body":"Tried to run the class explicitly, failed with the same error: java -cp ./TSUOrchestrationLogic-assembly.jar com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679180074,"post_id":75778598,"comment_id":133676004,"body_markdown":"Sounds as if folder `com` might not be at the root of the jar","body":"Sounds as if folder <code>com</code> might not be at the root of the jar"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679198540,"post_id":75778598,"comment_id":133677266,"body_markdown":"Thank you very much. What do you mean com isn&#39;t at the root of jar? After I use jar xf TSUOrchestrationLogic-assembly.jar, com folder isn&#39;t at the root. How can I tell? What&#39;s more, if I want to set com to the root of jar, how can I do it?","body":"Thank you very much. What do you mean com isn&#39;t at the root of jar? After I use jar xf TSUOrchestrationLogic-assembly.jar, com folder isn&#39;t at the root. How can I tell? What&#39;s more, if I want to set com to the root of jar, how can I do it?"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679199175,"post_id":75778598,"comment_id":133677308,"body_markdown":"I tried with jar tf. I can see the folder: com/mycompany/tsu/orchestration/ and\ncom/mycompany/tsu/orchestration/WeeklyTSUOrchestrator.class","body":"I tried with jar tf. I can see the folder: com/mycompany/tsu/orchestration/ and com/mycompany/tsu/orchestration/WeeklyTSUOrchestrator.class"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679242844,"post_id":75778598,"comment_id":133682325,"body_markdown":"*I tried with jar tf. I can see the folder: com/mycompany...* In that case it *is* at the root. I can&#39;t explain why you&#39;re having a problem","body":"<i>I tried with jar tf. I can see the folder: com/mycompany...</i> In that case it <i>is</i> at the root. I can&#39;t explain why you&#39;re having a problem"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679260915,"post_id":75778598,"comment_id":133685235,"body_markdown":"Make sure your main class begins with declaration `package com.mycompany.tsu.orchestration;`","body":"Make sure your main class begins with declaration <code>package com.mycompany.tsu.orchestration;</code>"},{"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"score":0,"creation_date":1679325757,"post_id":75778598,"comment_id":133697332,"body_markdown":"Thank you. Yes, I have double checked that. The code used to work, but after we merged to new dependencies, it stopped working. As Java has so many dependencies, they all mingled together. We tried several strategies trying to find the root cause, not ver successful.","body":"Thank you. Yes, I have double checked that. The code used to work, but after we merged to new dependencies, it stopped working. As Java has so many dependencies, they all mingled together. We tried several strategies trying to find the root cause, not ver successful."}],"owner":{"account_id":9787763,"reputation":121,"user_id":7253522,"display_name":"Happy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679185401,"creation_date":1679172676,"question_id":75778598,"body_markdown":"I build my assembly with scala build.sbt: TSUOrchestrationLogic-assembly.jar\r\n\r\nIn my META-INF/MANIFEST.MF, the Main-Class header is right:\r\n\r\n    Manifest-Version: 1.0\r\n    Implementation-Title: TSUOrchestrationLogic\r\n    Implementation-Version: 1.0\r\n    Specification-Title: TSUOrchestrationLogic\r\n    Specification-Version: 1.0\r\n    Main-Class: com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nWhen I ran it with: java -jar ./TSUOrchestrationLogic-assembly.jar\r\n\r\nIt failed with error:\r\n\r\n    Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nBut if I unzip it to a folder with: jar xf TSUOrchestrationLogic-assembly.jar, ran it with class directly, it works:\r\n\r\n    java com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\r\n\r\nWhat might be the root cause of my jar assembly, how can I diagnose the root causes?","title":"Run jar failed with Error: Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator","body":"<p>I build my assembly with scala build.sbt: TSUOrchestrationLogic-assembly.jar</p>\n<p>In my META-INF/MANIFEST.MF, the Main-Class header is right:</p>\n<pre><code>Manifest-Version: 1.0\nImplementation-Title: TSUOrchestrationLogic\nImplementation-Version: 1.0\nSpecification-Title: TSUOrchestrationLogic\nSpecification-Version: 1.0\nMain-Class: com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>When I ran it with: java -jar ./TSUOrchestrationLogic-assembly.jar</p>\n<p>It failed with error:</p>\n<pre><code>Could not find or load main class com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>But if I unzip it to a folder with: jar xf TSUOrchestrationLogic-assembly.jar, ran it with class directly, it works:</p>\n<pre><code>java com.mycompany.tsu.orchestration.WeeklyTSUOrchestrator\n</code></pre>\n<p>What might be the root cause of my jar assembly, how can I diagnose the root causes?</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479802254,"creation_date":1479802254,"answer_id":40736717,"question_id":40625979,"body_markdown":"I change my spring SecurityConfig,here is used to processing some authorizeUrls:    \r\n\r\n    @Configuration\r\n    @Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class SecurityConfig extends GlobalAuthenticationConfigurerAdapter {\r\n    @Override\r\n    public void init(AuthenticationManagerBuilder auth) throws Exception {\r\n    //doing jdbc Authentication\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n    super.configure(auth);\r\n    }\r\n    @Configuration\r\n    @Order(1)\r\n    public static class ClientSecurityConfigurationAdapter extends\r\n        WebSecurityConfigurerAdapter {\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\thttp.antMatcher(&quot;/mobile/**&quot;)\r\n\t  .formLogin().loginPage(&quot;/client/login&quot;)\r\n      .loginProcessingUrl(&quot;/oauth/login&quot;)\r\n      .successHandler(clientLoginSuccessHandler).permitAll()\r\n      .and()\r\n      .logout()\r\n      .logoutSuccessHandler(clientLogoutSuccessHandler)\r\n      .logoutUrl(&quot;/client/logout&quot;)\r\n      .logoutSuccessUrl(&quot;/client/login&quot;)\r\n      .invalidateHttpSession(true);\r\n    }\r\n    }\r\n    @Configuration\r\n    @Order(2)\r\n    public static class WebSecurityConfigurerAdapter extends\r\n        WebSecurityConfigurerAdapter {          \r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\t  http.regexMatcher(&quot;/((?!api).)*&quot;)\r\n\t\t\t\t.formLogin()\r\n                .loginPage(&quot;/web/login&quot;)\r\n                .loginProcessingUrl(&quot;/oauth/login&quot;)\r\n                .successHandler(loginSuccessHandler)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutSuccessHandler(logoutSuccessHandler)\r\n                .logoutUrl(&quot;/web/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/web/login&quot;)\r\n                .invalidateHttpSession(true);\r\n      }\r\n     }\r\n    }\r\n\r\nand add ResourceServerConfig for handle token validation issues：\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n\r\n\t@Autowired\r\n\tTokenStore tokenStore;\r\n\t\r\n\t@Override\r\n\tpublic void configure(HttpSecurity http) throws Exception {\r\n\t\thttp.requestMatchers().antMatchers(&quot;/api/**&quot;).//\r\n\t\t\t\tand().authorizeRequests().antMatchers(&quot;/api/**&quot;,).authenticated();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\r\n\t\tresources.resourceId(&quot;openid&quot;).tokenStore(tokenStore);\r\n\t}\r\n\r\n\r\n    }\r\n\r\nfinally,build a request with a request header\r\n\r\n    &quot;Authorization:Bearer &lt;access_token&gt;&quot;","title":"How to implement about getting current user information from server when using spring security while i access user information from android client","body":"<p>I change my spring SecurityConfig,here is used to processing some authorizeUrls:    </p>\n\n<pre><code>@Configuration\n@Order(ManagementServerProperties.ACCESS_OVERRIDE_ORDER)\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfig extends GlobalAuthenticationConfigurerAdapter {\n@Override\npublic void init(AuthenticationManagerBuilder auth) throws Exception {\n//doing jdbc Authentication\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\nsuper.configure(auth);\n}\n@Configuration\n@Order(1)\npublic static class ClientSecurityConfigurationAdapter extends\n    WebSecurityConfigurerAdapter {\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\nhttp.antMatcher(\"/mobile/**\")\n  .formLogin().loginPage(\"/client/login\")\n  .loginProcessingUrl(\"/oauth/login\")\n  .successHandler(clientLoginSuccessHandler).permitAll()\n  .and()\n  .logout()\n  .logoutSuccessHandler(clientLogoutSuccessHandler)\n  .logoutUrl(\"/client/logout\")\n  .logoutSuccessUrl(\"/client/login\")\n  .invalidateHttpSession(true);\n}\n}\n@Configuration\n@Order(2)\npublic static class WebSecurityConfigurerAdapter extends\n    WebSecurityConfigurerAdapter {          \n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n  http.regexMatcher(\"/((?!api).)*\")\n            .formLogin()\n            .loginPage(\"/web/login\")\n            .loginProcessingUrl(\"/oauth/login\")\n            .successHandler(loginSuccessHandler)\n            .permitAll()\n            .and()\n            .logout()\n            .logoutSuccessHandler(logoutSuccessHandler)\n            .logoutUrl(\"/web/logout\")\n            .logoutSuccessUrl(\"/web/login\")\n            .invalidateHttpSession(true);\n  }\n }\n}\n</code></pre>\n\n<p>and add ResourceServerConfig for handle token validation issues：</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n@Autowired\nTokenStore tokenStore;\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.requestMatchers().antMatchers(\"/api/**\").//\n            and().authorizeRequests().antMatchers(\"/api/**\",).authenticated();\n}\n\n@Override\npublic void configure(ResourceServerSecurityConfigurer resources) throws Exception {\n    resources.resourceId(\"openid\").tokenStore(tokenStore);\n}\n\n\n}\n</code></pre>\n\n<p>finally,build a request with a request header</p>\n\n<pre><code>\"Authorization:Bearer &lt;access_token&gt;\"\n</code></pre>\n"}],"owner":{"account_id":8316955,"reputation":94,"user_id":6249883,"display_name":"BugKiller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679185192,"creation_date":1479279990,"question_id":40625979,"body_markdown":"- This is the JSON that I returned after logging in:\r\n\r\n       {\r\n        &quot;access_token&quot;:&quot;41208e01a-f26c-4167-9fc9-d16730022056&quot;,\r\n         &quot;token_type&quot;: &quot;bearer&quot;,\r\n         &quot;refresh_token&quot;: &quot;3808e00a-896c-8067-18c9-736730022032&quot;,\r\n         &quot;expires_in&quot;: 25348,\r\n         &quot;scope&quot;: &quot;read write&quot;,\r\n         &quot;jti&quot;: &quot;6f08e00a-d26c-4067-8fc9-c16730022028&quot;\r\n        }\r\n\r\n- I want to get current user information by using this `url:https://localhost:8080/user/getuserinfo?access_token=41208e01a-f26c-4167-9fc9-d16730022056` from android client,i meant that how to implement requirement on server and this is my [Configuration](https://stackoverflow.com/questions/40492506/how-can-i-use-spring-security-oauth2-to-realize-the-purpose-about-redirecting)","title":"How to implement about getting current user information from server when using spring security while i access user information from android client","body":"<ul>\n<li><p>This is the JSON that I returned after logging in:</p>\n<pre><code> {\n  &quot;access_token&quot;:&quot;41208e01a-f26c-4167-9fc9-d16730022056&quot;,\n   &quot;token_type&quot;: &quot;bearer&quot;,\n   &quot;refresh_token&quot;: &quot;3808e00a-896c-8067-18c9-736730022032&quot;,\n   &quot;expires_in&quot;: 25348,\n   &quot;scope&quot;: &quot;read write&quot;,\n   &quot;jti&quot;: &quot;6f08e00a-d26c-4067-8fc9-c16730022028&quot;\n  }\n</code></pre>\n</li>\n<li><p>I want to get current user information by using this <code>url:https://localhost:8080/user/getuserinfo?access_token=41208e01a-f26c-4167-9fc9-d16730022056</code> from android client,i meant that how to implement requirement on server and this is my <a href=\"https://stackoverflow.com/questions/40492506/how-can-i-use-spring-security-oauth2-to-realize-the-purpose-about-redirecting\">Configuration</a></p>\n</li>\n</ul>\n"},{"tags":["java","swing","desktop-application","launch4j"],"answers":[{"tags":[],"owner":{"account_id":3574622,"reputation":31,"user_id":2984174,"display_name":"user2984174"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1389813868,"creation_date":1389813868,"answer_id":21146386,"question_id":20089597,"body_markdown":"I ran launch4j application as administrator and the error disappeared for me.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I ran launch4j application as administrator and the error disappeared for me.</p>\n"},{"tags":[],"owner":{"account_id":2175112,"reputation":480,"user_id":1925961,"display_name":"giraffe.guru"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1390449812,"creation_date":1390449812,"answer_id":21299117,"question_id":20089597,"body_markdown":"I was trying to use a *.png file as my icon but it wanted *.ico. Once I removed `&lt;icon&gt;...&lt;/icon&gt;` from my config file this error disappeared.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I was trying to use a *.png file as my icon but it wanted *.ico. Once I removed <code>&lt;icon&gt;...&lt;/icon&gt;</code> from my config file this error disappeared.</p>\n"},{"tags":[],"owner":{"account_id":3482729,"reputation":181,"user_id":2914349,"display_name":"BakaitBaba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397736064,"creation_date":1397736064,"answer_id":23132574,"question_id":20089597,"body_markdown":"Convert your png or jpeg fiel to icon file and error will go. \r\n\r\nYou can use online tool:- http://iconverticons.com/online/ ","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Convert your png or jpeg fiel to icon file and error will go. </p>\n\n<p>You can use online tool:- <a href=\"http://iconverticons.com/online/\" rel=\"nofollow\">http://iconverticons.com/online/</a> </p>\n"},{"tags":[],"owner":{"account_id":2926247,"reputation":31,"user_id":2507481,"display_name":"JC3"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1407114743,"creation_date":1407114743,"answer_id":25110567,"question_id":20089597,"body_markdown":"Check the icon file you are using (if you are using one). I was coming across the same error when trying to wrap my java executable. I was using a png file that I converted to what I thought was an icon (.ico) file. Turns out this conversion didn&#39;t work. After using a correct .ico file I found on my windows system, I used that and it worked.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Check the icon file you are using (if you are using one). I was coming across the same error when trying to wrap my java executable. I was using a png file that I converted to what I thought was an icon (.ico) file. Turns out this conversion didn't work. After using a correct .ico file I found on my windows system, I used that and it worked.</p>\n"},{"tags":[],"owner":{"account_id":4375922,"reputation":1816,"user_id":3568957,"accept_rate":100,"display_name":"svichkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425478860,"creation_date":1425478860,"answer_id":28856820,"question_id":20089597,"body_markdown":"The reason is a version of JRE on machine where EXE file is executing.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>The reason is a version of JRE on machine where EXE file is executing.</p>\n"},{"tags":[],"owner":{"account_id":13675165,"reputation":11,"user_id":9866846,"display_name":"KIPSANG HENRY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586702848,"creation_date":1586702848,"answer_id":61173247,"question_id":20089597,"body_markdown":"Give the path as \\bin\\jre_path \r\nFor instance if you have a folder dist with bin as subfolder having the jre file inside.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>Give the path as \\bin\\jre_path \nFor instance if you have a folder dist with bin as subfolder having the jre file inside.</p>\n"},{"tags":[],"owner":{"account_id":106286,"reputation":337,"user_id":283182,"accept_rate":40,"display_name":"jazzwhistle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601026245,"creation_date":1601026245,"answer_id":64061491,"question_id":20089597,"body_markdown":"None of the above helped me. The answer was to copy JRE&#39;s lib and bin folders into a new folder inside dist (I called it jre), then use that folder name as the Bundled JRE Path:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yFDtQ.png","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>None of the above helped me. The answer was to copy JRE's lib and bin folders into a new folder inside dist (I called it jre), then use that folder name as the Bundled JRE Path:<a href=\"https://i.stack.imgur.com/yFDtQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yFDtQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20334030,"reputation":1,"user_id":14915238,"display_name":"Rach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679183254,"creation_date":1679183254,"answer_id":75779322,"question_id":20089597,"body_markdown":"[launch4j for Windows][1]\r\n\r\nMake sure your launch4j got an &#39;.exe&#39; extension and not &#39;.jar&#39; if you using windows\r\n  [1]: https://sourceforge.net/projects/launch4j/\r\n\r\nhopefully that helps.\r\n","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>[launch4j for Windows][1]</p>\n<p>Make sure your launch4j got an '.exe' extension and not '.jar' if you using windows\n[1]: <a href=\"https://sourceforge.net/projects/launch4j/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/launch4j/</a></p>\n<p>hopefully that helps.</p>\n"}],"owner":{"account_id":423500,"reputation":209,"user_id":802933,"accept_rate":43,"display_name":"saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33793,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":8,"score":4,"last_activity_date":1679183254,"creation_date":1384931397,"question_id":20089597,"body_markdown":"I am using launch4j for the first time and I get following  error. Here is launch4j error log.\r\n\r\n    Compiling resources\r\n    Generated resource file...\r\n    LANGUAGE 0, 1\r\n    2 RCDATA BEGIN &quot;1.5.0\\0&quot; END\r\n    18 RCDATA BEGIN &quot;1\\0&quot; END\r\n    21 RCDATA BEGIN &quot;http://java.com/download\\0&quot; END\r\n    20 RCDATA BEGIN &quot;32\\0&quot; END\r\n    101 RCDATA BEGIN &quot;An error occurred while starting the application.\\0&quot; END\r\n    102 RCDATA BEGIN &quot;This application was configured to use a \r\n    bundled Java Runtime Environment but the runtime is missing or corrupted.\\0&quot; END\r\n    103 RCDATA BEGIN &quot;This application requires a Java Runtime Environment\\0&quot; END\r\n    104 RCDATA BEGIN &quot;The registry refers to a nonexistent\r\n    Java Runtime Environment installation or the runtime is corrupted.\\0&quot; END\r\n    17 RCDATA BEGIN &quot;true\\0&quot; END\r\n\r\nand here is generated xml file\r\n\r\n    &lt;launch4jConfig&gt;\r\n    &lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\r\n    &lt;headerType&gt;gui&lt;/headerType&gt;\r\n    &lt;jar&gt;/DesktopApp/launch4j/applicationname.jar&lt;/jar&gt;\r\n    &lt;outfile&gt;/DesktopApp/launch4j/applicationname.exe&lt;/outfile&gt;\r\n    &lt;errTitle&gt;&lt;/errTitle&gt;\r\n    &lt;cmdLine&gt;&lt;/cmdLine&gt;\r\n    &lt;chdir&gt;&lt;/chdir&gt;\r\n    &lt;priority&gt;normal&lt;/priority&gt;\r\n    &lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\r\n    &lt;supportUrl&gt;&lt;/supportUrl&gt;\r\n    &lt;stayAlive&gt;false&lt;/stayAlive&gt;\r\n    &lt;manifest&gt;&lt;/manifest&gt;\r\n    &lt;icon&gt;&lt;/icon&gt;\r\n    &lt;jre&gt;\r\n    &lt;path&gt;&lt;/path&gt;\r\n    &lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\r\n    &lt;minVersion&gt;1.5.0&lt;/minVersion&gt;\r\n    &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n    &lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\r\n    &lt;/jre&gt;\r\n    &lt;/launch4jConfig&gt;\r\nYour help will be very much appreciated.If there are alternative for launch4j then please tell me.","title":"launch4j bundled JRE error .&quot;This application was configured to use a bundled Java Runtime Environment but the runtime is missing or corrupted&quot;","body":"<p>I am using launch4j for the first time and I get following  error. Here is launch4j error log.</p>\n\n<pre><code>Compiling resources\nGenerated resource file...\nLANGUAGE 0, 1\n2 RCDATA BEGIN \"1.5.0\\0\" END\n18 RCDATA BEGIN \"1\\0\" END\n21 RCDATA BEGIN \"http://java.com/download\\0\" END\n20 RCDATA BEGIN \"32\\0\" END\n101 RCDATA BEGIN \"An error occurred while starting the application.\\0\" END\n102 RCDATA BEGIN \"This application was configured to use a \nbundled Java Runtime Environment but the runtime is missing or corrupted.\\0\" END\n103 RCDATA BEGIN \"This application requires a Java Runtime Environment\\0\" END\n104 RCDATA BEGIN \"The registry refers to a nonexistent\nJava Runtime Environment installation or the runtime is corrupted.\\0\" END\n17 RCDATA BEGIN \"true\\0\" END\n</code></pre>\n\n<p>and here is generated xml file</p>\n\n<pre><code>&lt;launch4jConfig&gt;\n&lt;dontWrapJar&gt;false&lt;/dontWrapJar&gt;\n&lt;headerType&gt;gui&lt;/headerType&gt;\n&lt;jar&gt;/DesktopApp/launch4j/applicationname.jar&lt;/jar&gt;\n&lt;outfile&gt;/DesktopApp/launch4j/applicationname.exe&lt;/outfile&gt;\n&lt;errTitle&gt;&lt;/errTitle&gt;\n&lt;cmdLine&gt;&lt;/cmdLine&gt;\n&lt;chdir&gt;&lt;/chdir&gt;\n&lt;priority&gt;normal&lt;/priority&gt;\n&lt;downloadUrl&gt;http://java.com/download&lt;/downloadUrl&gt;\n&lt;supportUrl&gt;&lt;/supportUrl&gt;\n&lt;stayAlive&gt;false&lt;/stayAlive&gt;\n&lt;manifest&gt;&lt;/manifest&gt;\n&lt;icon&gt;&lt;/icon&gt;\n&lt;jre&gt;\n&lt;path&gt;&lt;/path&gt;\n&lt;bundledJre64Bit&gt;false&lt;/bundledJre64Bit&gt;\n&lt;minVersion&gt;1.5.0&lt;/minVersion&gt;\n&lt;maxVersion&gt;&lt;/maxVersion&gt;\n&lt;jdkPreference&gt;preferJre&lt;/jdkPreference&gt;\n&lt;/jre&gt;\n&lt;/launch4jConfig&gt;\n</code></pre>\n\n<p>Your help will be very much appreciated.If there are alternative for launch4j then please tell me.</p>\n"},{"tags":["java","android-studio","kotlin","java-8"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679175363,"post_id":75778749,"comment_id":133675427,"body_markdown":"You can’t use that function for a property initializer. Properties are initialized when the class is instantiated, which is before it has application info assigned and before you set a content view for it to search for any views.","body":"You can’t use that function for a property initializer. Properties are initialized when the class is instantiated, which is before it has application info assigned and before you set a content view for it to search for any views."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679177661,"post_id":75778749,"comment_id":133675718,"body_markdown":"If I open a past project that I did before this error started to occur, and delete all the files and replace it with the ones mentioned above, the project will run. But on new project it doesn&#39;t. that&#39;s what I&#39;m trying to understand here.\n\nThis function is actually from the Google Android  Tutorial basically.","body":"If I open a past project that I did before this error started to occur, and delete all the files and replace it with the ones mentioned above, the project will run. But on new project it doesn&#39;t. that&#39;s what I&#39;m trying to understand here.  This function is actually from the Google Android  Tutorial basically."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679177842,"post_id":75778749,"comment_id":133675742,"body_markdown":"Here: https://developer.android.com/codelabs/basic-android-kotlin-training-create-dice-roller-app-with-button?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-kotlin-four%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-training-create-dice-roller-app-with-button#4","body":"Here: <a href=\"https://developer.android.com/codelabs/basic-android-kotlin-training-create-dice-roller-app-with-button?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-basics-kotlin-four%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fbasic-android-kotlin-training-create-dice-roller-app-with-button#4\" rel=\"nofollow noreferrer\">developer.android.com/codelabs/&hellip;</a>"},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679178751,"post_id":75778749,"comment_id":133675854,"body_markdown":"I added the whole error log","body":"I added the whole error log"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1679186871,"post_id":75778749,"comment_id":133676535,"body_markdown":"The difference between the tutorial and your code is you put the `val button...` line *outside* the `onCreate()` function, thereby making it a class property. And like I said above, you cannot use `findViewById` in a *property* initializer because properties are initialized too early. Your `button` line is being executed *before* the `onCreate` function is called because all properties are initialized at class instantiation time.","body":"The difference between the tutorial and your code is you put the <code>val button...</code> line <i>outside</i> the <code>onCreate()</code> function, thereby making it a class property. And like I said above, you cannot use <code>findViewById</code> in a <i>property</i> initializer because properties are initialized too early. Your <code>button</code> line is being executed <i>before</i> the <code>onCreate</code> function is called because all properties are initialized at class instantiation time."},{"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"score":0,"creation_date":1679242063,"post_id":75778749,"comment_id":133682166,"body_markdown":"thanks, yesterday I did realize the mistake too. I also found that using binding instead of findViewById solved the issue too.","body":"thanks, yesterday I did realize the mistake too. I also found that using binding instead of findViewById solved the issue too."}],"owner":{"account_id":7435389,"reputation":43,"user_id":5655003,"display_name":"gab"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679178726,"creation_date":1679174619,"question_id":75778749,"body_markdown":"I am having a weird issue (I believe something is wrong with my Java JDK setup in android studio).\r\n\r\nContext: previously I never had that error before when running my apps on emulators.\r\n\r\nHere&#39;s my code (see below, it&#39;s pretty basic)\r\n\r\nI have an basic XML &amp; KT file in Android Studio. everything  will run and compile if I omit the line\r\n\r\n`val button: Button = findViewById(R.id.button)` \r\n\r\nIt seems that the function is not recognized, but it&#39;s a pretty basic standard operation in android kotlin. I noticed that previously Android would suggest an auto complete for it, but now it doesn&#39;t apply that auto-complete.\r\n\r\nThat line is technically correct (again I never experienced the error before but by adding any sort of kotlin function or method. I get this error\r\n\r\n**java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference**\r\n\r\n**This is happening for a new project that I create, if I go to open a past project before that issue happened that past project will run without any issue. I don&#39;t know what&#39;s happening here** \r\n\r\n\r\n\r\nactivity_main.xml\r\n-----------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/button&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nMainActivity.kt\r\n----------------\r\n\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity\r\n    import android.os.Bundle\r\n    import android.widget.Button\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n        }\r\n    \r\n        val button: Button = findViewById(R.id.button)\r\n    }\r\n    \r\n\r\nI am expecting the emulator to run without any errors.\r\n\r\nI am suspecting something is in my android studio setup but I have no idea how to troubleshoot it.\r\n\r\n\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.easyuseapps.calculatormaster, PID: 3562\r\n        java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.calculatormaster/com.example.calculatormaster.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3042)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282)\r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970)\r\n            at android.os.Handler.dispatchMessage(Handler.java:106)\r\n            at android.os.Looper.loop(Looper.java:214)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7156)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\r\n         Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()&#39; on a null object reference\r\n            at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:164)\r\n            at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\r\n            at android.content.Context.obtainStyledAttributes(Context.java:677)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:922)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\r\n            at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:691)\r\n            at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:264)\r\n            at com.easyuseapps.calculatormaster.MainActivity.&lt;init&gt;(MainActivity.kt:14)\r\n            at java.lang.Class.newInstance(Native Method)\r\n            at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\r\n            at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n            at android.app.Instrumentation.newActivity(Instrumentation.java:1219)\r\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3030)\r\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282) \r\n            at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \r\n            at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \r\n            at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \r\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970) \r\n            at android.os.Handler.dispatchMessage(Handler.java:106) \r\n            at android.os.Looper.loop(Looper.java:214) \r\n            at android.app.ActivityThread.main(ActivityThread.java:7156) \r\n           at java.lang.reflect.Method.invoke(Native Method) \r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975) \r\n    I/Process: Sending signal. PID: 3562 SIG: 9\r\n","title":"(Android Studio - Kotlin) java.lang.NullPointerException: Attempt to invoke virtual method","body":"<p>I am having a weird issue (I believe something is wrong with my Java JDK setup in android studio).</p>\n<p>Context: previously I never had that error before when running my apps on emulators.</p>\n<p>Here's my code (see below, it's pretty basic)</p>\n<p>I have an basic XML &amp; KT file in Android Studio. everything  will run and compile if I omit the line</p>\n<p><code>val button: Button = findViewById(R.id.button)</code></p>\n<p>It seems that the function is not recognized, but it's a pretty basic standard operation in android kotlin. I noticed that previously Android would suggest an auto complete for it, but now it doesn't apply that auto-complete.</p>\n<p>That line is technically correct (again I never experienced the error before but by adding any sort of kotlin function or method. I get this error</p>\n<p><strong>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference</strong></p>\n<p><strong>This is happening for a new project that I create, if I go to open a past project before that issue happened that past project will run without any issue. I don't know what's happening here</strong></p>\n<h2>activity_main.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        android:id=&quot;@+id/button&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<h2>MainActivity.kt</h2>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    val button: Button = findViewById(R.id.button)\n}\n</code></pre>\n<p>I am expecting the emulator to run without any errors.</p>\n<p>I am suspecting something is in my android studio setup but I have no idea how to troubleshoot it.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.easyuseapps.calculatormaster, PID: 3562\n    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.example.calculatormaster/com.example.calculatormaster.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3042)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7156)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.pm.ApplicationInfo android.content.Context.getApplicationInfo()' on a null object reference\n        at android.content.ContextWrapper.getApplicationInfo(ContextWrapper.java:164)\n        at android.view.ContextThemeWrapper.getTheme(ContextThemeWrapper.java:157)\n        at android.content.Context.obtainStyledAttributes(Context.java:677)\n        at androidx.appcompat.app.AppCompatDelegateImpl.createSubDecor(AppCompatDelegateImpl.java:922)\n        at androidx.appcompat.app.AppCompatDelegateImpl.ensureSubDecor(AppCompatDelegateImpl.java:889)\n        at androidx.appcompat.app.AppCompatDelegateImpl.findViewById(AppCompatDelegateImpl.java:691)\n        at androidx.appcompat.app.AppCompatActivity.findViewById(AppCompatActivity.java:264)\n        at com.easyuseapps.calculatormaster.MainActivity.&lt;init&gt;(MainActivity.kt:14)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:69)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1219)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3030)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3282) \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78) \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108) \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1970) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:214) \n        at android.app.ActivityThread.main(ActivityThread.java:7156) \n       at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:494) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:975) \nI/Process: Sending signal. PID: 3562 SIG: 9\n</code></pre>\n"},{"tags":["java","c","pointers","ansi-c"],"comments":[{"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"score":0,"creation_date":1310636453,"post_id":6691019,"comment_id":7917366,"body_markdown":"it is really hard to read through all this pointer magic, you&#39;d better post what you have in java and where the problem exactly is.","body":"it is really hard to read through all this pointer magic, you&#39;d better post what you have in java and where the problem exactly is."}],"answers":[{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1310636685,"creation_date":1310636685,"answer_id":6691258,"question_id":6691019,"body_markdown":"This code is easier rewritten than ported. The reason is, that it uses a large number of pointer-arithmetic and casting. \r\n\r\nIt looks to me like this code combines a sliding window and averaging functions over the data. You can easily do this in Java, just place each time-series in an array, use an index (instead of a pointer) to point at the array&#39;s entries. In the case where the C-code uses a pointer and then a (possibly negative) offset as a second pointer just use two indices into the time-series-array.\r\n\r\nIt is easier to do this if you have the formula (math-notation. sliding-window plus averaging functions) that this code is supposed to compute and translate the formula to java.","title":"ANSI C pointers to java","body":"<p>This code is easier rewritten than ported. The reason is, that it uses a large number of pointer-arithmetic and casting. </p>\n\n<p>It looks to me like this code combines a sliding window and averaging functions over the data. You can easily do this in Java, just place each time-series in an array, use an index (instead of a pointer) to point at the array's entries. In the case where the C-code uses a pointer and then a (possibly negative) offset as a second pointer just use two indices into the time-series-array.</p>\n\n<p>It is easier to do this if you have the formula (math-notation. sliding-window plus averaging functions) that this code is supposed to compute and translate the formula to java.</p>\n"}],"owner":{"account_id":449411,"reputation":11,"user_id":844178,"display_name":"user844178"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679177946,"creation_date":1310635323,"question_id":6691019,"body_markdown":"Since some weeks ago I have been trying to convert this c and other c function to java language (i&#39;m a newbie on it).\r\nMy first problem  is how-to convert to java code, the pointers on lines like:\r\n\r\n    q = fdata + ind;\r\n    datend = fdata + buff_size;\r\n\r\nFor example when &quot;ind&quot; has a negative position (-220 for example) the pointer will be on &quot;ind&quot; position before &quot;fdata&quot; values, also the same occur with datend var.\r\n\r\nI figured out that can be solved on isolated way by creating an index var for each pointer to know where there are pointing at. The real problem for me comes a few line after that, when i trying to not run over end of frame of &quot;fdata&quot; array.\r\n\r\nCan some body with more experiences help me please?\r\nThank.\r\n\r\n   \r\n    static Stat *stat = NULL;\r\n    static float *mem = NULL;\r\n    \r\n    static Stat*\r\n    get_stationarity(fdata, freq, buff_size, nframes, frame_step, first_time)\r\n    float *fdata;\r\n    double freq;\r\n    int buff_size, nframes, frame_step, first_time;\r\n    {\r\n        static int nframes_old = 0, memsize;\r\n        float preemp = 0.4f, stab = 30.0f;\r\n        float *p, *q, *r, *datend;\r\n        int ind, i, j, m, size, order, agap, w_type = 3;\r\n    \r\n        agap = (int) (STAT_AINT * freq);\r\n        size = (int) (STAT_WSIZE * freq);\r\n        ind = (agap - size) / 2;\r\n    \r\n        if (nframes_old &lt; nframes || !stat || first_time) {\r\n            /* move this to init_dp_f0() later */\r\n            nframes_old = nframes;\r\n            if (stat) {\r\n                ckfree((char *) stat-&gt;stat);\r\n                ckfree((char *) stat-&gt;rms);\r\n                ckfree((char *) stat-&gt;rms_ratio);\r\n                ckfree((char *) stat);\r\n            }\r\n            if (mem) ckfree((void *) mem);\r\n            stat = (Stat *) ckalloc(sizeof (Stat));\r\n            stat-&gt;stat = (float*) ckalloc(sizeof (float) *nframes);\r\n            stat-&gt;rms = (float*) ckalloc(sizeof (float) *nframes);\r\n            stat-&gt;rms_ratio = (float*) ckalloc(sizeof (float) *nframes);\r\n            memsize = (int) (STAT_WSIZE * freq) + (int) (STAT_AINT * freq);\r\n            mem = (float *) ckalloc(sizeof (float) * memsize);\r\n            for (j = 0; j &lt; memsize; j++) mem[j] = 0;\r\n        }\r\n    \r\n        if (nframes == 0) return (stat);\r\n    \r\n        q = fdata + ind;\r\n        datend = fdata + buff_size;\r\n    \r\n        if ((order = (int) (2.0 + (freq / 1000.0))) &gt; BIGSORD) {\r\n            fprintf(stderr,\r\n                    &quot;exceeds that allowable (%d); reduce Fs\\n&quot;, BIGSORD);\r\n            order = BIGSORD;\r\n        }\r\n    \r\n        /* prepare for the first frame */\r\n        for (j = memsize / 2, i = 0; j &lt; memsize; j++, i++) mem[j] = fdata[i];\r\n    \r\n        /* do not run over end of frame */\r\n    \r\n        for (j = 0, p = q - agap; j &lt; nframes; j++, p += frame_step, q += frame_step) {\r\n            if ((p &gt;= fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\r\n                stat-&gt;stat[j] = get_similarity(order, size, p, q,\r\n                    &amp;(stat-&gt;rms[j]),\r\n                    &amp;(stat-&gt;rms_ratio[j]), preemp,\r\n                    stab, w_type, 0);\r\n            else {\r\n                if (first_time) {\r\n                    if ((p &lt; fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\r\n                        stat-&gt;stat[j] = get_similarity(order, size, NULL, q,\r\n                            &amp;(stat-&gt;rms[j]),\r\n                            &amp;(stat-&gt;rms_ratio[j]),\r\n                            preemp, stab, w_type, 1);\r\n                    else {\r\n                        stat-&gt;rms[j] = 0.0;\r\n                        stat-&gt;stat[j] = 0.01f * 0.2f; /* a big transition */\r\n                        stat-&gt;rms_ratio[j] = 1.0; /* no amplitude change */\r\n                    }\r\n                } else {\r\n                    if ((p &lt; fdata) &amp;&amp; (q + size &lt;= datend)) {\r\n                        stat-&gt;stat[j] = get_similarity(order, size, mem,\r\n                                mem + (memsize / 2) + ind,\r\n                                &amp;(stat-&gt;rms[j]),\r\n                                &amp;(stat-&gt;rms_ratio[j]),\r\n                                preemp, stab, w_type, 0);\r\n                        /* prepare for the next frame_step if needed */\r\n                        if (p + frame_step &lt; fdata) {\r\n                            for (m = 0; m &lt; (memsize - frame_step); m++)\r\n                                mem[m] = mem[m + frame_step];\r\n                            r = q + size;\r\n                            for (m = 0; m &lt; frame_step; m++)\r\n                                mem[memsize - frame_step + m] = *r++;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        /* last frame, prepare for next call */\r\n        for (j = (memsize / 2) - 1, p = fdata + (nframes * frame_step) - 1; j &gt;= 0 &amp;&amp; p &gt;= fdata; j--)\r\n            mem[j] = *p--;\r\n        return (stat);\r\n    }","title":"ANSI C pointers to java","body":"<p>Since some weeks ago I have been trying to convert this c and other c function to java language (i'm a newbie on it).\nMy first problem  is how-to convert to java code, the pointers on lines like:</p>\n\n<pre><code>q = fdata + ind;\ndatend = fdata + buff_size;\n</code></pre>\n\n<p>For example when \"ind\" has a negative position (-220 for example) the pointer will be on \"ind\" position before \"fdata\" values, also the same occur with datend var.</p>\n\n<p>I figured out that can be solved on isolated way by creating an index var for each pointer to know where there are pointing at. The real problem for me comes a few line after that, when i trying to not run over end of frame of \"fdata\" array.</p>\n\n<p>Can some body with more experiences help me please?\nThank.</p>\n\n<pre><code>static Stat *stat = NULL;\nstatic float *mem = NULL;\n\nstatic Stat*\nget_stationarity(fdata, freq, buff_size, nframes, frame_step, first_time)\nfloat *fdata;\ndouble freq;\nint buff_size, nframes, frame_step, first_time;\n{\n    static int nframes_old = 0, memsize;\n    float preemp = 0.4f, stab = 30.0f;\n    float *p, *q, *r, *datend;\n    int ind, i, j, m, size, order, agap, w_type = 3;\n\n    agap = (int) (STAT_AINT * freq);\n    size = (int) (STAT_WSIZE * freq);\n    ind = (agap - size) / 2;\n\n    if (nframes_old &lt; nframes || !stat || first_time) {\n        /* move this to init_dp_f0() later */\n        nframes_old = nframes;\n        if (stat) {\n            ckfree((char *) stat-&gt;stat);\n            ckfree((char *) stat-&gt;rms);\n            ckfree((char *) stat-&gt;rms_ratio);\n            ckfree((char *) stat);\n        }\n        if (mem) ckfree((void *) mem);\n        stat = (Stat *) ckalloc(sizeof (Stat));\n        stat-&gt;stat = (float*) ckalloc(sizeof (float) *nframes);\n        stat-&gt;rms = (float*) ckalloc(sizeof (float) *nframes);\n        stat-&gt;rms_ratio = (float*) ckalloc(sizeof (float) *nframes);\n        memsize = (int) (STAT_WSIZE * freq) + (int) (STAT_AINT * freq);\n        mem = (float *) ckalloc(sizeof (float) * memsize);\n        for (j = 0; j &lt; memsize; j++) mem[j] = 0;\n    }\n\n    if (nframes == 0) return (stat);\n\n    q = fdata + ind;\n    datend = fdata + buff_size;\n\n    if ((order = (int) (2.0 + (freq / 1000.0))) &gt; BIGSORD) {\n        fprintf(stderr,\n                \"exceeds that allowable (%d); reduce Fs\\n\", BIGSORD);\n        order = BIGSORD;\n    }\n\n    /* prepare for the first frame */\n    for (j = memsize / 2, i = 0; j &lt; memsize; j++, i++) mem[j] = fdata[i];\n\n    /* do not run over end of frame */\n\n    for (j = 0, p = q - agap; j &lt; nframes; j++, p += frame_step, q += frame_step) {\n        if ((p &gt;= fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\n            stat-&gt;stat[j] = get_similarity(order, size, p, q,\n                &amp;(stat-&gt;rms[j]),\n                &amp;(stat-&gt;rms_ratio[j]), preemp,\n                stab, w_type, 0);\n        else {\n            if (first_time) {\n                if ((p &lt; fdata) &amp;&amp; (q &gt;= fdata) &amp;&amp; (q + size &lt;= datend))\n                    stat-&gt;stat[j] = get_similarity(order, size, NULL, q,\n                        &amp;(stat-&gt;rms[j]),\n                        &amp;(stat-&gt;rms_ratio[j]),\n                        preemp, stab, w_type, 1);\n                else {\n                    stat-&gt;rms[j] = 0.0;\n                    stat-&gt;stat[j] = 0.01f * 0.2f; /* a big transition */\n                    stat-&gt;rms_ratio[j] = 1.0; /* no amplitude change */\n                }\n            } else {\n                if ((p &lt; fdata) &amp;&amp; (q + size &lt;= datend)) {\n                    stat-&gt;stat[j] = get_similarity(order, size, mem,\n                            mem + (memsize / 2) + ind,\n                            &amp;(stat-&gt;rms[j]),\n                            &amp;(stat-&gt;rms_ratio[j]),\n                            preemp, stab, w_type, 0);\n                    /* prepare for the next frame_step if needed */\n                    if (p + frame_step &lt; fdata) {\n                        for (m = 0; m &lt; (memsize - frame_step); m++)\n                            mem[m] = mem[m + frame_step];\n                        r = q + size;\n                        for (m = 0; m &lt; frame_step; m++)\n                            mem[memsize - frame_step + m] = *r++;\n                    }\n                }\n            }\n        }\n    }\n\n    /* last frame, prepare for next call */\n    for (j = (memsize / 2) - 1, p = fdata + (nframes * frame_step) - 1; j &gt;= 0 &amp;&amp; p &gt;= fdata; j--)\n        mem[j] = *p--;\n    return (stat);\n}\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679174142,"post_id":75778692,"comment_id":133675293,"body_markdown":"Try looking at [Hide the status bar](https://developer.android.com/training/system-ui/status).","body":"Try looking at <a href=\"https://developer.android.com/training/system-ui/status\" rel=\"nofollow noreferrer\">Hide the status bar</a>."}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679175718,"creation_date":1679175718,"answer_id":75778828,"question_id":75778692,"body_markdown":"Set these properties in your theme:\r\n\r\n - Hide the status bar\r\n\r\n```&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;```\r\n\r\n - No action bar instead of title bar\r\n\r\n```&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;```\r\n\r\n- Remove the title bar\r\n\r\n```&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;```\r\n","title":"How to hide status bar on android studio app?","body":"<p>Set these properties in your theme:</p>\n<ul>\n<li>Hide the status bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;</code></p>\n<ul>\n<li>No action bar instead of title bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowActionBar&quot;&gt;false&lt;/item&gt;</code></p>\n<ul>\n<li>Remove the title bar</li>\n</ul>\n<p><code>&lt;item name=&quot;android:windowNoTitle&quot;&gt;true&lt;/item&gt;</code></p>\n"}],"owner":{"account_id":28053151,"reputation":1,"user_id":21428673,"display_name":"Samvel Hovhannisyan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679175718,"creation_date":1679173884,"question_id":75778692,"body_markdown":"I can&#39;t hide status bar on my android app\r\n\r\nI&#39;ve tried to use `&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;` and programmicaly `getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);` using java but nothing helped","title":"How to hide status bar on android studio app?","body":"<p>I can't hide status bar on my android app</p>\n<p>I've tried to use <code>&lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;</code> and programmicaly <code>getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);</code> using java but nothing helped</p>\n"},{"tags":["java","android","image","hide","toast"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1679175267,"post_id":75778786,"comment_id":133675412,"body_markdown":"AFAIK, what you want is not possible on modern versions of Android.","body":"AFAIK, what you want is not possible on modern versions of Android."},{"owner":{"account_id":6947970,"reputation":98,"user_id":5331651,"display_name":"Sobhan"},"score":0,"creation_date":1679206671,"post_id":75778786,"comment_id":133677780,"body_markdown":"you cant change the app icon after the app is installed.\nyou can use the snackbar for that, but you should change the view of that.","body":"you cant change the app icon after the app is installed. you can use the snackbar for that, but you should change the view of that."}],"owner":{"account_id":28053167,"reputation":1,"user_id":21428687,"display_name":"Marwan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679175101,"creation_date":1679175101,"question_id":75778786,"body_markdown":"I want to know how can I remove and change the App icon displayed when I show a Toast in Android application using Java.\r\nThanks in advance.\r\n\r\n\r\nclass Toast doesn&#39;t have any method to modify it. i don&#39;t know if setView helps to do that or not but it is deprecated. Tried the snackBar but it looks totally different.","title":"Android Toast without image","body":"<p>I want to know how can I remove and change the App icon displayed when I show a Toast in Android application using Java.\nThanks in advance.</p>\n<p>class Toast doesn't have any method to modify it. i don't know if setView helps to do that or not but it is deprecated. Tried the snackBar but it looks totally different.</p>\n"},{"tags":["java","android","dagger","square"],"answers":[{"tags":[],"owner":{"account_id":44914,"reputation":75768,"user_id":132047,"accept_rate":88,"display_name":"Jake Wharton"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1396851226,"creation_date":1396851226,"answer_id":22904831,"question_id":22902869,"body_markdown":"&gt; The solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach?\r\n\r\nYep. The logged-in graph&#39;s lifecycle needs to live as long as the user is logged in and the process is around. Since the activity&#39;s lifecycle is extremely short, this isn&#39;t a good place for it.\r\n\r\nI used it as an example to ease people into the concept using something they are familiar with.\r\n\r\n&gt; Can anyone from Square can provide any insight into what you do in your applications?\r\n\r\nAll graphs that aren&#39;t tied to UI are managed by an `Application` class. Through this we are guaranteed that it&#39;s created once, created first, and only disappears if the process dies.\r\n\r\nAnything UI-related (activity-scope graphs, fragment-scope graphs, etc.) is plussed on top of these as the UI comes and goes.","title":"Dagger scopes in Android","body":"<blockquote>\n  <p>The solution is pretty simple, you can just do this \"plus\" operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach?</p>\n</blockquote>\n\n<p>Yep. The logged-in graph's lifecycle needs to live as long as the user is logged in and the process is around. Since the activity's lifecycle is extremely short, this isn't a good place for it.</p>\n\n<p>I used it as an example to ease people into the concept using something they are familiar with.</p>\n\n<blockquote>\n  <p>Can anyone from Square can provide any insight into what you do in your applications?</p>\n</blockquote>\n\n<p>All graphs that aren't tied to UI are managed by an <code>Application</code> class. Through this we are guaranteed that it's created once, created first, and only disappears if the process dies.</p>\n\n<p>Anything UI-related (activity-scope graphs, fragment-scope graphs, etc.) is plussed on top of these as the UI comes and goes.</p>\n"}],"owner":{"account_id":1731390,"reputation":9458,"user_id":1584931,"accept_rate":71,"display_name":"Bradley Campbell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":969,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":22904831,"answer_count":1,"score":9,"last_activity_date":1679174196,"creation_date":1396839316,"question_id":22902869,"body_markdown":"Jake Wharton&#39;s talk at Devoxx 2013, Architecting Android Applications with Dagger, talked about creating a Dagger scope for logged in users only. This sort of thing sounds really clean, and I want to do this in my applications. \r\n\r\nThe code that was discussed in the talk was something along the lines of:\r\n\r\n    public class LoggedInActivity extends Activity {\r\n    \r\n        @Inject User user;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_logged_in);\r\n    \r\n            DaggerScopesApp app = (DaggerScopesApp) getApplication();\r\n            app.getObjectGraph().plus(new UserModule(&quot;exampleusername&quot;)).inject(this);\r\n    \r\n            findViewById(R.id.do_something_button).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Toast.makeText(LoggedInActivity.this, user.username + &quot; : &quot; +\r\n                            user.someValue++, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nHowever, if the injected User is scoped as a @Singleton, then its properties will disappear on config change (as the object graph is created in onCreate). \r\n\r\nThe solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach? Can anyone from Square provide any insight into what you do in your applications? Do you just not have singleton objects in the &quot;logged-in&quot; graph?","title":"Dagger scopes in Android","body":"<p>Jake Wharton's talk at Devoxx 2013, Architecting Android Applications with Dagger, talked about creating a Dagger scope for logged in users only. This sort of thing sounds really clean, and I want to do this in my applications.</p>\n<p>The code that was discussed in the talk was something along the lines of:</p>\n<pre><code>public class LoggedInActivity extends Activity {\n\n    @Inject User user;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_logged_in);\n\n        DaggerScopesApp app = (DaggerScopesApp) getApplication();\n        app.getObjectGraph().plus(new UserModule(&quot;exampleusername&quot;)).inject(this);\n\n        findViewById(R.id.do_something_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(LoggedInActivity.this, user.username + &quot; : &quot; +\n                        user.someValue++, Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n}\n</code></pre>\n<p>However, if the injected User is scoped as a @Singleton, then its properties will disappear on config change (as the object graph is created in onCreate).</p>\n<p>The solution is pretty simple, you can just do this &quot;plus&quot; operation once and store the new object graph somewhere else (maybe the application class), but I was wondering if this is a good approach? Can anyone from Square provide any insight into what you do in your applications? Do you just not have singleton objects in the &quot;logged-in&quot; graph?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1679170247,"post_id":75778235,"comment_id":133674793,"body_markdown":"If you are using Lombok version 1.18 or higher use the `@SuperBuilder` annotation. Worth a read: https://www.baeldung.com/lombok-builder-inheritance","body":"If you are using Lombok version 1.18 or higher use the <code>@SuperBuilder</code> annotation. Worth a read: <a href=\"https://www.baeldung.com/lombok-builder-inheritance\" rel=\"nofollow noreferrer\">baeldung.com/lombok-builder-inheritance</a>"},{"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"score":0,"creation_date":1679228880,"post_id":75778235,"comment_id":133680216,"body_markdown":"If I do that I will get this error: ```BEntityBuilder does not take parameters```","body":"If I do that I will get this error: <code>BEntityBuilder does not take parameters</code>"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679173575,"creation_date":1679169754,"answer_id":75778368,"question_id":75778235,"body_markdown":"Some method signatures are colliding. Let&#39;s see what Lombok is trying to generate for EntityB:\r\n\r\n    public class BEntity extends AEntity {\r\n    \tprivate Double z;\r\n    \r\n    \tpublic BEntity(AEntity aEntity, Double z) {\r\n    \t\tsuper(aEntity.getId(), aEntity.getX(), aEntity.getZ());\r\n    \t\tthis.z = z;\r\n    \t}\r\n    \t\r\n    \tpublic BEntityBuilder builder() {\r\n    \t\treturn new BEntityBuilder();\r\n    \t}\r\n    \r\n    \tclass BEntityBuilder {\r\n    \t\t// builder pattern using the specified fields\r\n    \t} \r\n    }\r\n\r\nNow, let&#39;s do the same for EntityC:\r\n\r\n    public class CEntity extends BEntity {\r\n    \tprivate Float w;\r\n    \t\r\n    \tpublic CEntity(BEntity bEntity, Float w) {\r\n    \t\tsuper(bEntity.getZ());\r\n    \t\tthis.w = w;\r\n    \t}\r\n    \r\n    \tpublic CEntityBuilder builder() {\r\n    \t\treturn new CEntityBuilder();\r\n    \t}\r\n    \r\n    \tclass CEntityBuilder {\r\n    \t\t// builder pattern using the specified fields\r\n    \t}\r\n    }\r\n\r\nAs you can see, they are both declaring the `builder()` method, but with different return types. Therefore, because `CEntity` is extending `BEntity`, there will be a compilation error. \r\n\r\nIn other words, `CEntity` cannot have both it&#39;s own builder() returning CEntityBuilder as well as inherit the builder method from the parent, returning BEntityBuilder.\r\n\r\nTo prevent this, you need to change one of the builder methods. Lombok allows you to do it using this attribute `builderMethodName`. For instance:\r\n\r\n    public class CEntity extends BEntity {\r\n        private Float w;\r\n        @Builder(builderMethodName = &quot;centityBuilder&quot;)\r\n        public CEntity(BEntity bEntity, Float w) {\r\n            super(bEntity.getZ());\r\n            this.w = w;\r\n        }\r\n    }\r\n\r\nNow, the resulting class will expose both builder() (returning parent builder) and centityBuilder() which will return the current builder.\r\n","title":"builder() in CEntity cannot override builder() in BEntity","body":"<p>Some method signatures are colliding. Let's see what Lombok is trying to generate for EntityB:</p>\n<pre><code>public class BEntity extends AEntity {\n    private Double z;\n\n    public BEntity(AEntity aEntity, Double z) {\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\n        this.z = z;\n    }\n    \n    public BEntityBuilder builder() {\n        return new BEntityBuilder();\n    }\n\n    class BEntityBuilder {\n        // builder pattern using the specified fields\n    } \n}\n</code></pre>\n<p>Now, let's do the same for EntityC:</p>\n<pre><code>public class CEntity extends BEntity {\n    private Float w;\n    \n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n\n    public CEntityBuilder builder() {\n        return new CEntityBuilder();\n    }\n\n    class CEntityBuilder {\n        // builder pattern using the specified fields\n    }\n}\n</code></pre>\n<p>As you can see, they are both declaring the <code>builder()</code> method, but with different return types. Therefore, because <code>CEntity</code> is extending <code>BEntity</code>, there will be a compilation error.</p>\n<p>In other words, <code>CEntity</code> cannot have both it's own builder() returning CEntityBuilder as well as inherit the builder method from the parent, returning BEntityBuilder.</p>\n<p>To prevent this, you need to change one of the builder methods. Lombok allows you to do it using this attribute <code>builderMethodName</code>. For instance:</p>\n<pre><code>public class CEntity extends BEntity {\n    private Float w;\n    @Builder(builderMethodName = &quot;centityBuilder&quot;)\n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n}\n</code></pre>\n<p>Now, the resulting class will expose both builder() (returning parent builder) and centityBuilder() which will return the current builder.</p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679173575,"creation_date":1679168259,"question_id":75778235,"body_markdown":"I get this error when am trying to use inheritance for some builders in Lombok.\r\n\r\nTo give you some context - AEntity is the parent of the BEntity class, and BEntity is the parent of the CEntity class. \r\n\r\n```\r\nerror: builder() in CEntity cannot override builder() in BEntity\r\n    @Builder\r\n    ^\r\n  return type CEntityBuilder is not compatible with BEntityBuilder\r\n```\r\n\r\nHere it is the **AEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class AEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private Integer x;\r\n    private Integer y;\r\n\r\n}\r\n```\r\n\r\nAnd the **BEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;B&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic class BEntity extends AEntity {\r\n    private Double z;\r\n    @Builder\r\n    public BEntity(AEntity aEntity, Double z) {\r\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\r\n        this.z = z;\r\n    }\r\n}\r\n```\r\n\r\nFinally here it is the **CEntity** class:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;C&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode(callSuper = true)\r\npublic class CEntity extends BEntity {\r\n    private Float w;\r\n    @Builder\r\n    public CEntity(BEntity bEntity, Float w) {\r\n        super(bEntity.getZ());\r\n        this.w = w;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also tried somethig like this, to solve the issue:\r\n```\r\npublic static class BEntityBuilder extends AEntityBuilder{\r\n    BBuilder() {\r\n        super();\r\n    }\r\n}\r\n```","title":"builder() in CEntity cannot override builder() in BEntity","body":"<p>I get this error when am trying to use inheritance for some builders in Lombok.</p>\n<p>To give you some context - AEntity is the parent of the BEntity class, and BEntity is the parent of the CEntity class.</p>\n<pre><code>error: builder() in CEntity cannot override builder() in BEntity\n    @Builder\n    ^\n  return type CEntityBuilder is not compatible with BEntityBuilder\n</code></pre>\n<p>Here it is the <strong>AEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;A&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class AEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Integer x;\n    private Integer y;\n\n}\n</code></pre>\n<p>And the <strong>BEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;B&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic class BEntity extends AEntity {\n    private Double z;\n    @Builder\n    public BEntity(AEntity aEntity, Double z) {\n        super(aEntity.getId(), aEntity.getX(), aEntity.getZ());\n        this.z = z;\n    }\n}\n</code></pre>\n<p>Finally here it is the <strong>CEntity</strong> class:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;C&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode(callSuper = true)\npublic class CEntity extends BEntity {\n    private Float w;\n    @Builder\n    public CEntity(BEntity bEntity, Float w) {\n        super(bEntity.getZ());\n        this.w = w;\n    }\n\n}\n</code></pre>\n<p>I also tried somethig like this, to solve the issue:</p>\n<pre><code>public static class BEntityBuilder extends AEntityBuilder{\n    BBuilder() {\n        super();\n    }\n}\n</code></pre>\n"},{"tags":["java","filter","lambda","set","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679008652,"post_id":75762444,"comment_id":133648643,"body_markdown":"What error do you get? Please edit your question and add the full text of the error message.","body":"What error do you get? Please edit your question and add the full text of the error message."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009076,"post_id":75762444,"comment_id":133648708,"body_markdown":"@tgdavies edited to include error message.","body":"@tgdavies edited to include error message."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679009129,"post_id":75762444,"comment_id":133648720,"body_markdown":"Look at your code -- why is there a `.` after `filter`? What is `stream()filter` meant to do?","body":"Look at your code -- why is there a <code>.</code> after <code>filter</code>? What is <code>stream()filter</code> meant to do?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009158,"post_id":75762444,"comment_id":133648724,"body_markdown":"Looks like a type inference issue. You can probably fix it by changing `(m)` to `(Movie m)`, or the comparator to `Comparator.comparingDouble(Movie::getImdbScore)`. A [mcve] would help a lot.","body":"Looks like a type inference issue. You can probably fix it by changing <code>(m)</code> to <code>(Movie m)</code>, or the comparator to <code>Comparator.comparingDouble(Movie::getImdbScore)</code>. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help a lot."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009271,"post_id":75762444,"comment_id":133648747,"body_markdown":"Or maybe it&#39;s the use of block lambdas without a `return`.","body":"Or maybe it&#39;s the use of block lambdas without a <code>return</code>."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009328,"post_id":75762444,"comment_id":133648755,"body_markdown":"@tgvavies that was a typo, I have corrected it.","body":"@tgvavies that was a typo, I have corrected it."},{"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"score":0,"creation_date":1679009526,"post_id":75762444,"comment_id":133648787,"body_markdown":"@shmosel the part I am having trouble with is getting a specific genre attribute not the comparison.","body":"@shmosel the part I am having trouble with is getting a specific genre attribute not the comparison."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1679009581,"post_id":75762444,"comment_id":133648795,"body_markdown":"I understand, but bad generics can have cascading effects. Most likely it&#39;s the bad lambda syntax, but it&#39;s hard to help without more specific information.","body":"I understand, but bad generics can have cascading effects. Most likely it&#39;s the bad lambda syntax, but it&#39;s hard to help without more specific information."}],"answers":[{"tags":[],"owner":{"account_id":9088765,"reputation":26,"user_id":6765610,"display_name":"LouBen3010"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679173574,"creation_date":1679009480,"answer_id":75762528,"question_id":75762444,"body_markdown":"You&#39;re using lambdas wrong.\r\nEither you use the curly brackets with returning something or the short form without it.\r\n\r\nTry the following:\r\n\r\n```\r\nmovies.stream()\r\n      .filter(m -&gt; m.getGenres().contains(&quot;Action&quot;))\r\n      .sorted((m1, m2) -&gt; Double.compare(m2.getImdbScore(), m1.getImdbScore()))\r\n      .limit(10)\r\n      .collect(Collectors.toList());\r\n```","title":"Java: use stream to check if a set contains a specific string value","body":"<p>You're using lambdas wrong.\nEither you use the curly brackets with returning something or the short form without it.</p>\n<p>Try the following:</p>\n<pre><code>movies.stream()\n      .filter(m -&gt; m.getGenres().contains(&quot;Action&quot;))\n      .sorted((m1, m2) -&gt; Double.compare(m2.getImdbScore(), m1.getImdbScore()))\n      .limit(10)\n      .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":23393645,"reputation":17,"user_id":17458006,"display_name":"new_guy91"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75762528,"answer_count":1,"score":0,"last_activity_date":1679173574,"creation_date":1679008514,"question_id":75762444,"body_markdown":"I am working on a program that parses a csv file containing a list of movies and data on them such as director name, duration, genres, title, rating, year of release, and IMDB score. The program contains a movie object which sets each of these data points to an attribute. as the majority of the movies have multiple genres(i.e. they can be action, adventure, and fantasy) the attribute &quot;genres&quot; has the data type Set&lt;String&gt;.\r\n\r\nI am trying to make multiple lists that identify movies by single genre values such as &quot;adventure&quot;, but I cannot figure out how to use a stream to parse the genres set.\r\nwhat I have tried is as follows:\r\n\r\n    movies.stream().filter((m)-&gt;{m.getGenres().contains(&quot;Action&quot;);}).sorted((m1,m2)-&gt; {Double.compare(m2.getImdbScore(), m1.getImdbScore());}).limit(10).collect(Collectors.toList());\r\n\r\n\r\n\r\nI keep getting the following error:\r\n\r\n    The method filter(Predicate&lt;? super Movie&gt;) in the type Stream&lt;Movie&gt; is not applicable for the arguments ((&lt;no type&gt; m) -&gt; {})\r\n\r\n. How do I do this correctly?","title":"Java: use stream to check if a set contains a specific string value","body":"<p>I am working on a program that parses a csv file containing a list of movies and data on them such as director name, duration, genres, title, rating, year of release, and IMDB score. The program contains a movie object which sets each of these data points to an attribute. as the majority of the movies have multiple genres(i.e. they can be action, adventure, and fantasy) the attribute &quot;genres&quot; has the data type Set.</p>\n<p>I am trying to make multiple lists that identify movies by single genre values such as &quot;adventure&quot;, but I cannot figure out how to use a stream to parse the genres set.\nwhat I have tried is as follows:</p>\n<pre><code>movies.stream().filter((m)-&gt;{m.getGenres().contains(&quot;Action&quot;);}).sorted((m1,m2)-&gt; {Double.compare(m2.getImdbScore(), m1.getImdbScore());}).limit(10).collect(Collectors.toList());\n</code></pre>\n<p>I keep getting the following error:</p>\n<pre><code>The method filter(Predicate&lt;? super Movie&gt;) in the type Stream&lt;Movie&gt; is not applicable for the arguments ((&lt;no type&gt; m) -&gt; {})\n</code></pre>\n<p>. How do I do this correctly?</p>\n"},{"tags":["java","arrays","sorting","mergesort"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679172604,"creation_date":1679172604,"answer_id":75778590,"question_id":75778524,"body_markdown":"You can return an inversion count in both the `mergesort` and `merge` functions. Then, `mergesort` essentially returns the sum of the inversions from sorting both sides of the array and the number of inversions from merging.\r\n\r\nThe key here is that during the merging step, when you take an element from the right side, you essentially swap with every remaining element in the left side, so the number of inversions caused by that is the length of the left array minus the index of the current element reached in the left half.\r\n\r\nHere is a modified version of your code that handles counting inversions:\r\n\r\n```java\r\npublic static long mergesort(int[] array) {\r\n\tint inputLength = array.length;\r\n\tif (inputLength &lt; 2)\r\n\t\treturn 0;\r\n\tint midIndex = array.length / 2;\r\n\tint[] leftHalf = new int[midIndex];\r\n\tint[] rightHalf = new int[inputLength - midIndex];\r\n\tfor (int i = 0; i &lt; midIndex; i++) {\r\n\t\tleftHalf[i] = array[i];\r\n\t}\r\n\tfor (int i = midIndex; i &lt; array.length; i++) {\r\n\t\trightHalf[i - midIndex] = array[i];\r\n\t}\r\n\treturn mergesort(leftHalf) + mergesort(rightHalf) + merge(array, leftHalf, rightHalf);\r\n}\r\n\r\npublic static long merge(int[] array, int[] leftHalf, int[] rightHalf) {\r\n\tint leftSize = leftHalf.length;\r\n\tint rightSize = rightHalf.length;\r\n\tint i = 0;\r\n\tint j = 0;\r\n\tint k = 0;\r\n\tlong inversions = 0;\r\n\twhile (i &lt; leftSize &amp;&amp; j &lt; rightSize) {\r\n\t\tif (leftHalf[i] &lt;= rightHalf[j]) {\r\n\t\t\tarray[k] = leftHalf[i];\r\n\t\t\ti++;\r\n\t\t} else {\r\n\t\t\tarray[k] = rightHalf[j];\r\n\t\t\tinversions += leftSize - i;\r\n\t\t\tj++;\r\n\t\t}\r\n\t\tk++;\r\n\t}\r\n\twhile (i &lt; leftSize) {\r\n\t\tarray[k] = leftHalf[i];\r\n\t\ti++;\r\n\t\tk++;\r\n\t}\r\n\twhile (j &lt; rightSize) {\r\n\t\tarray[k] = rightHalf[j];\r\n\t\tj++;\r\n\t\tk++;\r\n\t}\r\n\treturn inversions;\r\n}\r\n```","title":"Inversion&#39;s Number On Mergesort Algorithm","body":"<p>You can return an inversion count in both the <code>mergesort</code> and <code>merge</code> functions. Then, <code>mergesort</code> essentially returns the sum of the inversions from sorting both sides of the array and the number of inversions from merging.</p>\n<p>The key here is that during the merging step, when you take an element from the right side, you essentially swap with every remaining element in the left side, so the number of inversions caused by that is the length of the left array minus the index of the current element reached in the left half.</p>\n<p>Here is a modified version of your code that handles counting inversions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static long mergesort(int[] array) {\n    int inputLength = array.length;\n    if (inputLength &lt; 2)\n        return 0;\n    int midIndex = array.length / 2;\n    int[] leftHalf = new int[midIndex];\n    int[] rightHalf = new int[inputLength - midIndex];\n    for (int i = 0; i &lt; midIndex; i++) {\n        leftHalf[i] = array[i];\n    }\n    for (int i = midIndex; i &lt; array.length; i++) {\n        rightHalf[i - midIndex] = array[i];\n    }\n    return mergesort(leftHalf) + mergesort(rightHalf) + merge(array, leftHalf, rightHalf);\n}\n\npublic static long merge(int[] array, int[] leftHalf, int[] rightHalf) {\n    int leftSize = leftHalf.length;\n    int rightSize = rightHalf.length;\n    int i = 0;\n    int j = 0;\n    int k = 0;\n    long inversions = 0;\n    while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {\n        if (leftHalf[i] &lt;= rightHalf[j]) {\n            array[k] = leftHalf[i];\n            i++;\n        } else {\n            array[k] = rightHalf[j];\n            inversions += leftSize - i;\n            j++;\n        }\n        k++;\n    }\n    while (i &lt; leftSize) {\n        array[k] = leftHalf[i];\n        i++;\n        k++;\n    }\n    while (j &lt; rightSize) {\n        array[k] = rightHalf[j];\n        j++;\n        k++;\n    }\n    return inversions;\n}\n</code></pre>\n"}],"owner":{"account_id":19974225,"reputation":21,"user_id":14642422,"display_name":"gmnpjpn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75778590,"answer_count":1,"score":1,"last_activity_date":1679172604,"creation_date":1679171634,"question_id":75778524,"body_markdown":"I have applied mergesort algorithm to an array in JAVA but I need to print the number of inversions realized.\r\n\r\nI have drawed a diagram of how I think the inversions are count (I don&#39;t undestand it very well).\r\n\r\nI counted 18 inversions.\r\n\r\nAny idea of how to get the inversion&#39;s number?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/NGkcA.jpg)](https://i.stack.imgur.com/NGkcA.jpg)\r\n\r\n\r\n```\r\npublic class MergesortAlgorithm{\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = {1, 5, 4, 8, 10, 2, 6, 9, 12, 11, 3, 7};\r\n\r\n        System.out.println(&quot;Original array:&quot;);\r\n        printArray(array);\r\n        mergesort(array);\r\n\r\n        System.out.println(&quot;\\nOrdered array:&quot;);\r\n        printArray(array);\r\n\r\n        System.out.println(&quot;\\nNumber of inversions: ?&quot;);\r\n    }\r\n    \r\n    public static void mergesort (int[] array){\r\n        // I got it to return the sorted array but I don&#39;t know how to get the number of inversions by now\r\n        // I am having trouble locating them\r\n\r\n        int inputLength = array.length;\r\n\r\n        // If the array have less than 2 elementos, it will be ordered\r\n        if (inputLength &lt;2){\r\n            return;\r\n        }\r\n\r\n        // It obtains the median of the array\r\n        int midIndex = array.length / 2;\r\n\r\n        // It creates the two empty sub-arrays\r\n        int[] leftHalf = new int [midIndex]; // From 0 to mid\r\n        int[] rightHalf = new int [inputLength - midIndex]; // From midIndex+1 to inputLength\r\n\r\n        // It fills the leftHalf array from the original one\r\n        for (int i = 0; i &lt; midIndex; i++) {\r\n            leftHalf[i] = array[i];\r\n        }\r\n\r\n        // It fills the rightHalf array from the original one\r\n        for (int i = midIndex; i &lt; array.length; i++) {\r\n            rightHalf[i-midIndex] = array[i];   // &quot;i-midIndex&quot; because if i put &quot;i&quot; it starts in midIndex (in the new array)\r\n        }        \r\n        \r\n        //It runs recursively until I have less than two elements on the arrays\r\n        mergesort(leftHalf);\r\n        mergesort(rightHalf);\r\n\r\n        merge(array, leftHalf, rightHalf);\r\n    }\r\n\r\n    public static void merge (int[] array, int[] leftHalf, int[] rightHalf){\r\n\r\n        int leftSize = leftHalf.length;\r\n        int rightSize = rightHalf.length;\r\n\r\n        int i = 0;  // &quot;i&quot; will run through the leftHalf\r\n        int j = 0;  // &quot;j&quot; will run through the rightHalf\r\n        int k = 0;  // &quot;k&quot; will run throught the merged array (final array)\r\n\r\n        while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {  // It loops until we run out of elements in one of the two arrays\r\n            if (leftHalf[i] &lt;= rightHalf[j]) {  // If element in leftHalf is smaller, we put it on the merged array\r\n                array[k] = leftHalf[i];\r\n                i++;\r\n            }\r\n            else {  // Otherwise, we put the element of rightHalf on the merged array\r\n                array[k] = rightHalf[j];\r\n                j++;\r\n            }\r\n            k++;\r\n        }\r\n\r\n        // At this point, maybe one of the arrays could have &quot;unrevised elements&quot; because of an odd initial array (I think)\r\n        // These two loops adds to the merged array the remaining items\r\n        while (i &lt; leftSize) {\r\n            array[k] = leftHalf[i];\r\n            i++;\r\n            k++;\r\n        }\r\n\r\n        while (j &lt; rightSize) {\r\n            array[k] = rightHalf[j];\r\n            j++;\r\n            k++;\r\n        }\r\n    }\r\n\r\n    public static void printArray (int[] array) {\r\n        System.out.printf(&quot;[ &quot;);\r\n\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            System.out.printf(&quot;%d &quot;, array[i]);\r\n        }\r\n\r\n        System.out.println(&quot;]&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI don&#39;t exactly know how to count the inversions, but, In which part of the could I established a counter and when increase it?","title":"Inversion&#39;s Number On Mergesort Algorithm","body":"<p>I have applied mergesort algorithm to an array in JAVA but I need to print the number of inversions realized.</p>\n<p>I have drawed a diagram of how I think the inversions are count (I don't undestand it very well).</p>\n<p>I counted 18 inversions.</p>\n<p>Any idea of how to get the inversion's number?</p>\n<p><a href=\"https://i.stack.imgur.com/NGkcA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NGkcA.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class MergesortAlgorithm{\n\n    public static void main(String[] args) {\n        int[] array = {1, 5, 4, 8, 10, 2, 6, 9, 12, 11, 3, 7};\n\n        System.out.println(&quot;Original array:&quot;);\n        printArray(array);\n        mergesort(array);\n\n        System.out.println(&quot;\\nOrdered array:&quot;);\n        printArray(array);\n\n        System.out.println(&quot;\\nNumber of inversions: ?&quot;);\n    }\n    \n    public static void mergesort (int[] array){\n        // I got it to return the sorted array but I don't know how to get the number of inversions by now\n        // I am having trouble locating them\n\n        int inputLength = array.length;\n\n        // If the array have less than 2 elementos, it will be ordered\n        if (inputLength &lt;2){\n            return;\n        }\n\n        // It obtains the median of the array\n        int midIndex = array.length / 2;\n\n        // It creates the two empty sub-arrays\n        int[] leftHalf = new int [midIndex]; // From 0 to mid\n        int[] rightHalf = new int [inputLength - midIndex]; // From midIndex+1 to inputLength\n\n        // It fills the leftHalf array from the original one\n        for (int i = 0; i &lt; midIndex; i++) {\n            leftHalf[i] = array[i];\n        }\n\n        // It fills the rightHalf array from the original one\n        for (int i = midIndex; i &lt; array.length; i++) {\n            rightHalf[i-midIndex] = array[i];   // &quot;i-midIndex&quot; because if i put &quot;i&quot; it starts in midIndex (in the new array)\n        }        \n        \n        //It runs recursively until I have less than two elements on the arrays\n        mergesort(leftHalf);\n        mergesort(rightHalf);\n\n        merge(array, leftHalf, rightHalf);\n    }\n\n    public static void merge (int[] array, int[] leftHalf, int[] rightHalf){\n\n        int leftSize = leftHalf.length;\n        int rightSize = rightHalf.length;\n\n        int i = 0;  // &quot;i&quot; will run through the leftHalf\n        int j = 0;  // &quot;j&quot; will run through the rightHalf\n        int k = 0;  // &quot;k&quot; will run throught the merged array (final array)\n\n        while (i &lt; leftSize &amp;&amp; j &lt; rightSize) {  // It loops until we run out of elements in one of the two arrays\n            if (leftHalf[i] &lt;= rightHalf[j]) {  // If element in leftHalf is smaller, we put it on the merged array\n                array[k] = leftHalf[i];\n                i++;\n            }\n            else {  // Otherwise, we put the element of rightHalf on the merged array\n                array[k] = rightHalf[j];\n                j++;\n            }\n            k++;\n        }\n\n        // At this point, maybe one of the arrays could have &quot;unrevised elements&quot; because of an odd initial array (I think)\n        // These two loops adds to the merged array the remaining items\n        while (i &lt; leftSize) {\n            array[k] = leftHalf[i];\n            i++;\n            k++;\n        }\n\n        while (j &lt; rightSize) {\n            array[k] = rightHalf[j];\n            j++;\n            k++;\n        }\n    }\n\n    public static void printArray (int[] array) {\n        System.out.printf(&quot;[ &quot;);\n\n        for (int i = 0; i &lt; array.length; i++) {\n            System.out.printf(&quot;%d &quot;, array[i]);\n        }\n\n        System.out.println(&quot;]&quot;);\n    }\n}\n</code></pre>\n<p>I don't exactly know how to count the inversions, but, In which part of the could I established a counter and when increase it?</p>\n"},{"tags":["java","html","spring","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679172231,"creation_date":1624376962,"answer_id":68086823,"question_id":68086547,"body_markdown":"You can use a sequence of `&lt;span&gt;` tags to hold your text. \r\n\r\nYou can use Thymeleaf&#39;s [iteration status tracking values](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#keeping-iteration-status) to know when you are handling the last item in the list.\r\n\r\nCombining these:\r\n\r\n```html\r\n&lt;td&gt;\r\n    &lt;span th:each=&quot;city,iterStat : ${country.cityList}&quot;\r\n          th:text=&quot;${city.name} + ${!iterStat.last ? &#39;, &#39; : &#39;&#39;}&quot;&gt;&lt;/span&gt;\r\n&lt;/td&gt;\r\n```\r\n\r\nThe `iterStat.last` value is a boolean which tells us when we are processing the final value - and the `!` (not) operator is used to suppress the final comma + space.\r\n\r\n---\r\n\r\n**Update**\r\n\r\nBased on the comment:\r\n\r\n&gt; _how make href links for city.name but span only for comma ?_\r\n\r\nFor something like this, you can move the `th:each` expression into a parent tag - and this is where `&lt;th:block&gt;` may be useful, because it does not itself generate any HTML:\r\n\r\n```html\r\n&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\r\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:text=&quot;${!iterStat.last ? &#39;, &#39; : &#39;&#39;}&quot;&gt;&lt;/span&gt;\r\n&lt;/th:block&gt;\r\n```\r\n\r\nInside the `&lt;th:block&gt;...&lt;/th:block&gt;` you can use multiple child tags to build whatever you need.\r\n\r\nUsing the above Thymeleaf, the end result could be the following HTML:\r\n\r\n```html\r\n&lt;a href=&quot;S&#227;o Paulo&quot;&gt;S&#227;o Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;&lt;span&gt;&lt;/span&gt;\r\n```\r\n\r\nThis generates an empty `&lt;span&gt;&lt;/span&gt;` at the end.\r\n\r\nIf you don&#39;t want that empty span, you can enhance the logic by using an explicit `th:if` expression:\r\n\r\n```html\r\n&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\r\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:if=&quot;${!iterStat.last}&quot;&gt;, &lt;/span&gt;\r\n&lt;/th:block&gt;\r\n```\r\n\r\nNow, you will get something like this:\r\n\r\n```html\r\n&lt;a href=&quot;S&#227;o Paulo&quot;&gt;S&#227;o Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\r\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;\r\n```\r\n\r\nNow, there is no empty span at the end.","title":"Thymeleaf: Comma separated values of a list?","body":"<p>You can use a sequence of <code>&lt;span&gt;</code> tags to hold your text.</p>\n<p>You can use Thymeleaf's <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#keeping-iteration-status\" rel=\"nofollow noreferrer\">iteration status tracking values</a> to know when you are handling the last item in the list.</p>\n<p>Combining these:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;td&gt;\n    &lt;span th:each=&quot;city,iterStat : ${country.cityList}&quot;\n          th:text=&quot;${city.name} + ${!iterStat.last ? ', ' : ''}&quot;&gt;&lt;/span&gt;\n&lt;/td&gt;\n</code></pre>\n<p>The <code>iterStat.last</code> value is a boolean which tells us when we are processing the final value - and the <code>!</code> (not) operator is used to suppress the final comma + space.</p>\n<hr />\n<p><strong>Update</strong></p>\n<p>Based on the comment:</p>\n<blockquote>\n<p><em>how make href links for city.name but span only for comma ?</em></p>\n</blockquote>\n<p>For something like this, you can move the <code>th:each</code> expression into a parent tag - and this is where <code>&lt;th:block&gt;</code> may be useful, because it does not itself generate any HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:text=&quot;${!iterStat.last ? ', ' : ''}&quot;&gt;&lt;/span&gt;\n&lt;/th:block&gt;\n</code></pre>\n<p>Inside the <code>&lt;th:block&gt;...&lt;/th:block&gt;</code> you can use multiple child tags to build whatever you need.</p>\n<p>Using the above Thymeleaf, the end result could be the following HTML:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=&quot;São Paulo&quot;&gt;São Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;&lt;span&gt;&lt;/span&gt;\n</code></pre>\n<p>This generates an empty <code>&lt;span&gt;&lt;/span&gt;</code> at the end.</p>\n<p>If you don't want that empty span, you can enhance the logic by using an explicit <code>th:if</code> expression:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;th:block th:each=&quot;city,iterStat : ${country.cityList}&quot;&gt;\n    &lt;a th:text=&quot;${city}&quot; th:href=&quot;${city}&quot;&gt;&lt;/a&gt;&lt;span th:if=&quot;${!iterStat.last}&quot;&gt;, &lt;/span&gt;\n&lt;/th:block&gt;\n</code></pre>\n<p>Now, you will get something like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;a href=&quot;São Paulo&quot;&gt;São Paulo&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Rio de Janeiro&quot;&gt;Rio de Janeiro&lt;/a&gt;&lt;span&gt;, &lt;/span&gt;\n&lt;a href=&quot;Brasilia&quot;&gt;Brasilia&lt;/a&gt;\n</code></pre>\n<p>Now, there is no empty span at the end.</p>\n"},{"tags":[],"owner":{"account_id":579291,"reputation":6754,"user_id":232467,"display_name":"Slava Ivanov"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1624377107,"creation_date":1624377107,"answer_id":68086860,"question_id":68086547,"body_markdown":"You should look at Thymeleaf [`#strings` utility methods](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings). There is a set of functions to split and join different types of lists. Your code may look like ...\r\n\r\n    &lt;td th:text=&quot;${#strings.listJoin(country.cityList.![name], &#39;,&#39;)}&quot;&gt;&lt;/td&gt;\r\n","title":"Thymeleaf: Comma separated values of a list?","body":"<p>You should look at Thymeleaf <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings\" rel=\"noreferrer\"><code>#strings</code> utility methods</a>. There is a set of functions to split and join different types of lists. Your code may look like ...</p>\n<pre><code>&lt;td th:text=&quot;${#strings.listJoin(country.cityList.![name], ',')}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68086823,"answer_count":2,"score":1,"last_activity_date":1679172231,"creation_date":1624375950,"question_id":68086547,"body_markdown":"I am beginner in Thymeleaf, I have a list and want to list elements in a line by separating comma e.g. London, Paris, Berlin, HonKong (there will be no comma after the the last element). However, the following code generate new row. So, how can I make it work as explained above?\r\n\r\n\r\n```\r\n&lt;td th:each=&quot;city : ${country.cityList}&quot;&gt;\r\n    &lt;td th:text=&quot;${city.name}? ${city.name} + &#39;,&#39; : ${city.name}&quot;&gt;&lt;/td&gt;\r\n&lt;/td&gt;\r\n\r\n```\r\n\r\nI know it also add an extra comma at the end of the last element and I need to use index e.g. for detecting the last index. How can I do this?","title":"Thymeleaf: Comma separated values of a list?","body":"<p>I am beginner in Thymeleaf, I have a list and want to list elements in a line by separating comma e.g. London, Paris, Berlin, HonKong (there will be no comma after the the last element). However, the following code generate new row. So, how can I make it work as explained above?</p>\n<pre><code>&lt;td th:each=&quot;city : ${country.cityList}&quot;&gt;\n    &lt;td th:text=&quot;${city.name}? ${city.name} + ',' : ${city.name}&quot;&gt;&lt;/td&gt;\n&lt;/td&gt;\n\n</code></pre>\n<p>I know it also add an extra comma at the end of the last element and I need to use index e.g. for detecting the last index. How can I do this?</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1679169910,"post_id":75778327,"comment_id":133674744,"body_markdown":"that String is not going to fly: you need to escape the quotation marks: `&quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;`","body":"that String is not going to fly: you need to escape the quotation marks: <code>&quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;3&zwnj;&#8203;42\\&quot;,\\&quot;nation\\&quot;:\\&quot;eg&zwnj;&#8203;y\\&quot;,\\&quot;id\\&quot;:120}&quot;</code>"},{"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"score":0,"creation_date":1679169998,"post_id":75778327,"comment_id":133674754,"body_markdown":"yes forgot to add that thanks","body":"yes forgot to add that thanks"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":1,"creation_date":1679170061,"post_id":75778327,"comment_id":133674762,"body_markdown":"not only this, but that does not look like a valid json. By look,s I believe it should be an array of objects. Very similar to this question: https://stackoverflow.com/questions/75776996/gson-throwing-expected-begin-array-but-was-begin-object/75777042?noredirect=1#comment133672597_75777042","body":"not only this, but that does not look like a valid json. By look,s I believe it should be an array of objects. Very similar to this question: <a href=\"https://stackoverflow.com/questions/75776996/gson-throwing-expected-begin-array-but-was-begin-object/75777042?noredirect=1#comment133672597_75777042\" title=\"gson throwing expected begin array but was begin object\">stackoverflow.com/questions/75776996/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679171935,"creation_date":1679170113,"answer_id":75778404,"question_id":75778327,"body_markdown":"So there are two issues here:\r\n\r\n1. How should the conversion be done from json to java object? For example, using jackson (ObjectMapper)?\r\n2. The json in the example is not valid:\r\n\r\n```\r\n{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\r\n```\r\n\r\nSo before it can be converted from json to a java object, it has to be valid json.\r\n\r\nWhy the weird format? Can it be fixed at the source? If yes, (2) is solved, get valid json from wherever it has to be read from. If not, it has to be converted into valid json by your program first before deserializing the json into a java object with a library such as jackson.\r\n\r\nIf it&#39;s up to your program to convert the input into valid json before deserializing, assuming that all records have the format given in the example, and assuming that the key/value pairs won&#39;t contain parentheses or brackets, a really quick fix is a helper method, something like:\r\n\r\n    static String toValidJson(String in) {\r\n        return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\r\n    }\r\n\r\nThe idea here is to put a comma between objects and close the whole thing in an array. Then it can be deserialized as appropriate into an array, list, etc.\r\n\r\n**Edit**\r\n\r\nThe Gson library is being used for parsing, so putting it all together, it should look something like:\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            // raw data\r\n            String raw = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;;\r\n\r\n            // valid json\r\n            String json = toValidJson(raw);\r\n\r\n            // parse it\r\n            Gson gson = new Gson();\r\n            Fencers[] fencers = gson.fromJson(json, Fencers[].class);\r\n\r\n            // do something with the array of fencers\r\n            for (Fencer f : fencers) {\r\n                // ...\r\n            }\r\n        }\r\n\r\n        static String toValidJson(String in) {\r\n            return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\r\n        }\r\n    }","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>So there are two issues here:</p>\n<ol>\n<li>How should the conversion be done from json to java object? For example, using jackson (ObjectMapper)?</li>\n<li>The json in the example is not valid:</li>\n</ol>\n<pre><code>{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\n</code></pre>\n<p>So before it can be converted from json to a java object, it has to be valid json.</p>\n<p>Why the weird format? Can it be fixed at the source? If yes, (2) is solved, get valid json from wherever it has to be read from. If not, it has to be converted into valid json by your program first before deserializing the json into a java object with a library such as jackson.</p>\n<p>If it's up to your program to convert the input into valid json before deserializing, assuming that all records have the format given in the example, and assuming that the key/value pairs won't contain parentheses or brackets, a really quick fix is a helper method, something like:</p>\n<pre><code>static String toValidJson(String in) {\n    return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\n}\n</code></pre>\n<p>The idea here is to put a comma between objects and close the whole thing in an array. Then it can be deserialized as appropriate into an array, list, etc.</p>\n<p><strong>Edit</strong></p>\n<p>The Gson library is being used for parsing, so putting it all together, it should look something like:</p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        // raw data\n        String raw = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;;\n\n        // valid json\n        String json = toValidJson(raw);\n\n        // parse it\n        Gson gson = new Gson();\n        Fencers[] fencers = gson.fromJson(json, Fencers[].class);\n\n        // do something with the array of fencers\n        for (Fencer f : fencers) {\n            // ...\n        }\n    }\n\n    static String toValidJson(String in) {\n        return &quot;[&quot; + in.replace(&quot;}{&quot;, &quot;},{&quot;) + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679170166,"creation_date":1679170166,"answer_id":75778411,"question_id":75778327,"body_markdown":"Your String is not going to work:\r\n\r\n```java\r\nString json = &quot;{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}&quot;\r\n```\r\n\r\nshould be \r\n\r\n\r\n```java\r\nString json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}&quot;;\r\n```\r\n\r\nnote that if you want an list of objects the json notation is not \r\n\r\n```json\r\n{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\r\n```\r\n\r\nbut \r\n\r\n```json\r\n[{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}]\r\n```\r\n\r\nIn which case you should be writing:\r\n\r\n\r\n```java\r\nString json = &quot;[{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100},{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}]&quot;;\r\n```","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>Your String is not going to work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}&quot;\n</code></pre>\n<p>should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}&quot;;\n</code></pre>\n<p>note that if you want an list of objects the json notation is not</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100}{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}\n</code></pre>\n<p>but</p>\n<pre class=\"lang-json prettyprint-override\"><code>[{&quot;name&quot;:&quot;m&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:100},{&quot;name&quot;:&quot;342&quot;,&quot;nation&quot;:&quot;egy&quot;,&quot;id&quot;:120}]\n</code></pre>\n<p>In which case you should be writing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String json = &quot;[{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100},{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}]&quot;;\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75778404,"answer_count":2,"score":0,"last_activity_date":1679171935,"creation_date":1679169308,"question_id":75778327,"body_markdown":"Hello so this is my code:\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\r\n    }\r\n}\r\n```\r\nand this is the main :\r\n```\r\nclass Main{\r\n    public static void main(String[] args){\r\n         String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;\r\n    }\r\n}\r\n```\r\nI want to turn ```json``` to a class object but it gives me errors because it&#39;s in the weird format \r\nwhat to do :palmface:\r\n\r\n","title":"Convert a Json file to a class objects but it&#39;s in a weird format","body":"<p>Hello so this is my code:</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\n    }\n}\n</code></pre>\n<p>and this is the main :</p>\n<pre><code>class Main{\n    public static void main(String[] args){\n         String json = &quot;{\\&quot;name\\&quot;:\\&quot;m\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:100}{\\&quot;name\\&quot;:\\&quot;342\\&quot;,\\&quot;nation\\&quot;:\\&quot;egy\\&quot;,\\&quot;id\\&quot;:120}&quot;\n    }\n}\n</code></pre>\n<p>I want to turn <code>json</code> to a class object but it gives me errors because it's in the weird format\nwhat to do :palmface:</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1679148008,"post_id":75776296,"comment_id":133671305,"body_markdown":"Please don&#39;t insert screenshots but the source code as text (using the format provided). It helps us to copy/paste parts of when working on the solution.","body":"Please don&#39;t insert screenshots but the source code as text (using the format provided). It helps us to copy/paste parts of when working on the solution."},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679148346,"post_id":75776296,"comment_id":133671352,"body_markdown":"In `Doctor Entity` class change `FetchType.Lazy` to `FetchType.Eager`. It&#39;s not recommended to use your entity class in the controller. Use at the service layer only and use POJO classes for the controller, which prevent you from calling recursion calls from Doctor  -&gt; Category -&gt; Doctor...","body":"In <code>Doctor Entity</code> class change <code>FetchType.Lazy</code> to <code>FetchType.Eager</code>. It&#39;s not recommended to use your entity class in the controller. Use at the service layer only and use POJO classes for the controller, which prevent you from calling recursion calls from Doctor  -&gt; Category -&gt; Doctor..."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679154931,"creation_date":1679147836,"answer_id":75776337,"question_id":75776296,"body_markdown":"In the entity Doctor you have defined fetch type lazy for the collection of categories. It means that the collection is not loaded from the database until you access it in code.\r\n\r\nSolutions\r\n\r\n1. change fetch type to eager or\r\n2. in the service class call getCategories.size() for all doctors\r\n3. in the repository you can use the EntityGraph annotation like:\r\n\r\n(Please mind the use of {} because *attributePaths* is an array)\r\n\r\n    @EntityGraph(attributePaths = {&quot;categories&quot;})\r\n    List&lt;Doctor&gt; findByLname(String lname);\r\n\r\n","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>In the entity Doctor you have defined fetch type lazy for the collection of categories. It means that the collection is not loaded from the database until you access it in code.</p>\n<p>Solutions</p>\n<ol>\n<li>change fetch type to eager or</li>\n<li>in the service class call getCategories.size() for all doctors</li>\n<li>in the repository you can use the EntityGraph annotation like:</li>\n</ol>\n<p>(Please mind the use of {} because <em>attributePaths</em> is an array)</p>\n<pre><code>@EntityGraph(attributePaths = {&quot;categories&quot;})\nList&lt;Doctor&gt; findByLname(String lname);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25896342,"reputation":86,"user_id":19622845,"display_name":"Danijel Sudar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679170552,"creation_date":1679148039,"answer_id":75776348,"question_id":75776296,"body_markdown":"One solution to your problem could be to change **FetchType.LAZY** to **FetchType.EAGER** in the Doctor class for categories. \r\nYou can find more information on this [here][1].\r\n\r\ninside &#39;Doctor Entity&#39; change this\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\r\ninto this\r\n\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n\r\nAnother way to solve the issue is to replace the @Data annotation with @Getter and @Setter annotations on both Category and Doctor classes.\r\n\r\nMoreover, it&#39;s not considered a good practice to pass entities through the controller. It&#39;s better to use DTOs instead. You can read more about it [here][2].\r\n\r\nHere are examples of DTO classes for Category and Doctor:\r\n\r\nDoctorDTO \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class DoctorDTO {\r\n        private Long id;\r\n        private String email;\r\n        private String password;\r\n        private String fname;\r\n        private String lname;\r\n        private String description;\r\n        private String number;\r\n        private List&lt;CategoryDTO&gt; categories;\r\n    \r\n    \r\n        public static DoctorDTO convertEntityToDto(Doctor doctor) {\r\n            DoctorDTO dto = new DoctorDTO();\r\n    \r\n            dto.setId(doctor.getId());\r\n            dto.setEmail(doctor.getEmail());\r\n            dto.setPassword(doctor.getPassword());\r\n            dto.setFname(doctor.getFname());\r\n            dto.setLname(doctor.getLname());\r\n            dto.setDescription(doctor.getDescription());\r\n            dto.setNumber(doctor.getNumber());\r\n            dto.setCategories(CategoryDTO.convertEntitySetToDTOList(doctor.getCategories()));\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        public static List&lt;DoctorDTO&gt; convertEntityListToDTOList(List&lt;Doctor&gt; doctors) {\r\n            return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static List&lt;DoctorDTO&gt; convertEntitySetToDTOList(Set&lt;Doctor&gt; doctors) {\r\n            return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; doctors) {\r\n            return doctors.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\r\n        }\r\n    \r\n        public static Page&lt;DoctorDTO&gt; convertEntityPageToDTOPage(Page&lt;Doctor&gt; doctors) {\r\n            return new PageImpl&lt;&gt;(convertEntityListToDTOList(doctors.getContent()), doctors.getPageable(), doctors.getTotalElements());\r\n        }\r\n    }\r\n\r\n\r\n\r\nCategoryDTO \r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class CategoryDTO {\r\n        private Long id;\r\n        private String name;\r\n    \r\n        public static CategoryDTO convertEntityToDto(Category category) {\r\n            CategoryDTO dto = new CategoryDTO();\r\n    \r\n            dto.setId(category.getId());\r\n            dto.setName(category.getName());\r\n    \r\n            return dto;\r\n        }\r\n    \r\n        public static List&lt;CategoryDTO&gt; convertEntityListToDTOList(List&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static List&lt;CategoryDTO&gt; convertEntitySetToDTOList(Set&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\r\n        }\r\n    \r\n        public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; categories) {\r\n            return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\r\n        }\r\n    \r\n        public static Page&lt;CategoryDTO&gt; convertEntityPageToDTOPage(Page&lt;Category&gt; categories) {\r\n            return new PageImpl&lt;&gt;(convertEntityListToDTOList(categories.getContent()), categories.getPageable(), categories.getTotalElements());\r\n        }\r\n    }\r\n\r\nAlso, change the &#39;get&#39; function in DoctorController to use DTOs. My advice is to do this for all other functions as well so that communication with the outside world is done through DTOs instead of entities.\r\n\r\n    @GetMapping(&quot;/all&quot;)\r\n    public ResponseEntity&lt;List&lt;DoctorDTO&gt;&gt; get() {\r\n        List&lt;DoctorDTO&gt; doctorDTOS = DoctorDTO.convertEntityListToDTOList(doctorService.getAllDoctors());\r\n        return ResponseEntity.ok(doctorDTOS);\r\n    }\r\n\r\n\r\nFinally, modify the getAllDoctors function in DoctorService to look like this:\r\n\r\n    @Transactional\r\n    public List&lt;Doctor&gt; getAllDoctors() {\r\n        List&lt;Doctor&gt; doctors = doctorRepository.findAll();\r\n        for (Doctor doctor : doctors) {\r\n            // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\r\n            Hibernate.initialize(doctor.getCategories());\r\n            int size = doctor.getCategories().size();\r\n            System.out.println(&quot;size: &quot; + size);\r\n        }\r\n        return doctors;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\r\n  [2]: https://www.baeldung.com/java-dto-pattern","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>One solution to your problem could be to change <strong>FetchType.LAZY</strong> to <strong>FetchType.EAGER</strong> in the Doctor class for categories.\nYou can find more information on this <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">here</a>.</p>\n<p>inside 'Doctor Entity' change this</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n</code></pre>\n<p>into this</p>\n<pre><code>@ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n</code></pre>\n<p>Another way to solve the issue is to replace the @Data annotation with @Getter and @Setter annotations on both Category and Doctor classes.</p>\n<p>Moreover, it's not considered a good practice to pass entities through the controller. It's better to use DTOs instead. You can read more about it <a href=\"https://www.baeldung.com/java-dto-pattern\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here are examples of DTO classes for Category and Doctor:</p>\n<p>DoctorDTO</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class DoctorDTO {\n    private Long id;\n    private String email;\n    private String password;\n    private String fname;\n    private String lname;\n    private String description;\n    private String number;\n    private List&lt;CategoryDTO&gt; categories;\n\n\n    public static DoctorDTO convertEntityToDto(Doctor doctor) {\n        DoctorDTO dto = new DoctorDTO();\n\n        dto.setId(doctor.getId());\n        dto.setEmail(doctor.getEmail());\n        dto.setPassword(doctor.getPassword());\n        dto.setFname(doctor.getFname());\n        dto.setLname(doctor.getLname());\n        dto.setDescription(doctor.getDescription());\n        dto.setNumber(doctor.getNumber());\n        dto.setCategories(CategoryDTO.convertEntitySetToDTOList(doctor.getCategories()));\n\n        return dto;\n    }\n\n    public static List&lt;DoctorDTO&gt; convertEntityListToDTOList(List&lt;Doctor&gt; doctors) {\n        return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static List&lt;DoctorDTO&gt; convertEntitySetToDTOList(Set&lt;Doctor&gt; doctors) {\n        return doctors.stream().map(DoctorDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; doctors) {\n        return doctors.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\n    }\n\n    public static Page&lt;DoctorDTO&gt; convertEntityPageToDTOPage(Page&lt;Doctor&gt; doctors) {\n        return new PageImpl&lt;&gt;(convertEntityListToDTOList(doctors.getContent()), doctors.getPageable(), doctors.getTotalElements());\n    }\n}\n</code></pre>\n<p>CategoryDTO</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class CategoryDTO {\n    private Long id;\n    private String name;\n\n    public static CategoryDTO convertEntityToDto(Category category) {\n        CategoryDTO dto = new CategoryDTO();\n\n        dto.setId(category.getId());\n        dto.setName(category.getName());\n\n        return dto;\n    }\n\n    public static List&lt;CategoryDTO&gt; convertEntityListToDTOList(List&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static List&lt;CategoryDTO&gt; convertEntitySetToDTOList(Set&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toList());\n    }\n\n    public static Set&lt;CategoryDTO&gt; convertEntitySetToDTOSet(Set&lt;Category&gt; categories) {\n        return categories.stream().map(CategoryDTO::convertEntityToDto).collect(Collectors.toSet());\n    }\n\n    public static Page&lt;CategoryDTO&gt; convertEntityPageToDTOPage(Page&lt;Category&gt; categories) {\n        return new PageImpl&lt;&gt;(convertEntityListToDTOList(categories.getContent()), categories.getPageable(), categories.getTotalElements());\n    }\n}\n</code></pre>\n<p>Also, change the 'get' function in DoctorController to use DTOs. My advice is to do this for all other functions as well so that communication with the outside world is done through DTOs instead of entities.</p>\n<pre><code>@GetMapping(&quot;/all&quot;)\npublic ResponseEntity&lt;List&lt;DoctorDTO&gt;&gt; get() {\n    List&lt;DoctorDTO&gt; doctorDTOS = DoctorDTO.convertEntityListToDTOList(doctorService.getAllDoctors());\n    return ResponseEntity.ok(doctorDTOS);\n}\n</code></pre>\n<p>Finally, modify the getAllDoctors function in DoctorService to look like this:</p>\n<pre><code>@Transactional\npublic List&lt;Doctor&gt; getAllDoctors() {\n    List&lt;Doctor&gt; doctors = doctorRepository.findAll();\n    for (Doctor doctor : doctors) {\n        // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\n        Hibernate.initialize(doctor.getCategories());\n        int size = doctor.getCategories().size();\n        System.out.println(&quot;size: &quot; + size);\n    }\n    return doctors;\n}\n</code></pre>\n"}],"owner":{"account_id":24921943,"reputation":23,"user_id":18790119,"display_name":"Timo4ka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75776348,"answer_count":2,"score":-1,"last_activity_date":1679170552,"creation_date":1679147282,"question_id":75776296,"body_markdown":"I have such a problem that when calling the GET (getDoctorByName) method for the doctor, I get all the information about the doctor except for the categories field (there are entries in it, but it returns me an empty array). Creating doctor records and categories work and adding a category for a doctor too.\r\nCreated data in the database:\r\n[![Category table][1]][1]\r\n[![Doctor table][2]][2]\r\n[![Doctor Category table][3]][3]\r\n\r\nWhat do I need to change or what did I do wrong?\r\n\r\nDoctor Entity:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;doctor&quot;)\r\n    public class Doctor {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String email;\r\n        private String password;\r\n        @Column(name = &quot;first_name&quot;)\r\n        private String fname;\r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lname;\r\n        private String description;\r\n        private String number;\r\n        @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;doctor_category&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;doctor_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;)\r\n        )\r\n        private Set&lt;Category&gt; categories;\r\n    }\r\n\r\n\r\n\r\nCategory Entity:\r\n\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;category&quot;)\r\n    public class Category {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @ManyToMany(mappedBy = &quot;categories&quot;, fetch = FetchType.LAZY)\r\n        private Set&lt;Doctor&gt; doctors;\r\n    }\r\n\r\n\r\nCategory and Doctor Repository:\r\n\r\n    @Repository\r\n    public interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\r\n        List&lt;Category&gt; findByName(String name);\r\n    }\r\n    \r\n    @Repository\r\n    public interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByFnameAndLname(String fname, String lname);\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByFname(String fname);\r\n        @EntityGraph(attributePaths = &quot;categories&quot;)\r\n        List&lt;Doctor&gt; findByLname(String lname);\r\n    }\r\n\r\n\r\nCategory Service:\r\n\r\n    @Service\r\n    public class CategoryService {\r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        public Category createCategory(Category category) {\r\n            return categoryRepository.save(category);\r\n        }\r\n    \r\n        public Category editCategory(Long categoryId, Category myCategory) {\r\n            Category category = categoryRepository.findById(categoryId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\r\n            category.setName(myCategory.getName());\r\n            categoryRepository.save(category);\r\n            return category;\r\n        }\r\n    \r\n        public List&lt;Category&gt; getCategoryByName(String name) {\r\n            List&lt;Category&gt; categories;\r\n            if (name != null) {\r\n                categories = categoryRepository.findByName(name);\r\n            } else categories = categoryRepository.findAll();\r\n            return categories;\r\n        }\r\n    \r\n        public HttpStatus deleteCategory(Long categoryId) {\r\n            categoryRepository.deleteById(categoryId);\r\n            return HttpStatus.OK;\r\n        }\r\n    \r\n    }\r\n\r\nDoctor Service:\r\n\r\n    @Service\r\n    public class DoctorService {\r\n        @Autowired\r\n        private DoctorRepository doctorRepository;\r\n        @Autowired\r\n        private CategoryRepository categoryRepository;\r\n    \r\n        public Doctor createDoctor(Doctor doctor) {\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public Doctor editDoctor(Long doctorId, Doctor myDoctor) {\r\n            Doctor doctor = doctorRepository.findById(doctorId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\r\n            doctor.setEmail(myDoctor.getEmail());\r\n            doctor.setPassword(myDoctor.getPassword());\r\n            doctor.setFname(myDoctor.getFname());\r\n            doctor.setLname(myDoctor.getLname());\r\n            doctor.setDescription(myDoctor.getDescription());\r\n            doctor.setNumber(myDoctor.getNumber());\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public Doctor addCategoryForDoctor(Long doctorId, Long categoryId) {\r\n            Doctor doctor = doctorRepository.findById(doctorId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\r\n            Category category = categoryRepository.findById(categoryId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\r\n            Set&lt;Category&gt; categories = doctor.getCategories();\r\n            categories.add(category);\r\n            doctor.setCategories(categories);\r\n            return doctorRepository.save(doctor);\r\n        }\r\n    \r\n        public List&lt;Doctor&gt; getAllDoctors() {\r\n            List&lt;Doctor&gt; doctors = doctorRepository.findAll();\r\n            for (Doctor doctor : doctors) {\r\n                // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\r\n                doctor.getCategories().size();\r\n            }\r\n            return doctors;\r\n        }\r\n    \r\n        public List&lt;Doctor&gt; getDoctorByName(String fname, String lname) {\r\n            List&lt;Doctor&gt; doctors;\r\n            if (fname != null &amp;&amp; lname != null) {\r\n                doctors = doctorRepository.findByFnameAndLname(fname, lname);\r\n            } else if (fname != null) {\r\n                doctors = doctorRepository.findByFname(fname);\r\n            } else if (lname != null) {\r\n                doctors = doctorRepository.findByLname(lname);\r\n            } else {\r\n                doctors = doctorRepository.findAll();\r\n            }\r\n            return doctors;\r\n        }\r\n    \r\n        public HttpStatus deleteDoctor(Long doctorId) {\r\n            doctorRepository.deleteById(doctorId);\r\n            return HttpStatus.OK;\r\n        }\r\n    }\r\n\r\nDoctor Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/doctor&quot;)\r\n    public class DoctorController {\r\n        @Autowired\r\n        private DoctorService doctorService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Doctor&gt; createDoctor(@RequestBody Doctor doctor) {\r\n            return ResponseEntity.ok(doctorService.createDoctor(doctor));\r\n        }\r\n    \r\n        @PutMapping\r\n        public ResponseEntity&lt;Doctor&gt; editDoctor(@RequestParam Long doctorId, @RequestBody Doctor doctor) {\r\n            return ResponseEntity.ok(doctorService.editDoctor(doctorId, doctor));\r\n        }\r\n    \r\n        @PutMapping(&quot;/add/category&quot;)\r\n        public ResponseEntity&lt;Doctor&gt; addCategoryForDoctor(@RequestParam Long doctorId, @RequestParam Long categoryId) {\r\n            return ResponseEntity.ok(doctorService.addCategoryForDoctor(doctorId, categoryId));\r\n        }\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;Doctor&gt;&gt; get() {\r\n            return ResponseEntity.ok(doctorService.getAllDoctors());\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Doctor&gt;&gt; getDoctorByName(@RequestParam(required = false) String fname,\r\n                                                            @RequestParam(required = false) String lname) {\r\n            return ResponseEntity.ok(doctorService.getDoctorByName(fname, lname));\r\n        }\r\n    \r\n        @DeleteMapping\r\n        public ResponseEntity&lt;HttpStatus&gt; deleteDoctor(@RequestParam Long doctorId) {\r\n            return ResponseEntity.ok(doctorService.deleteDoctor(doctorId));\r\n        }\r\n    }\r\n\r\nCategory Controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/category&quot;)\r\n    public class CategoryController {\r\n        @Autowired\r\n        private CategoryService categoryService;\r\n    \r\n        @PostMapping\r\n        public ResponseEntity&lt;Category&gt; createCategory(@RequestBody Category category) {\r\n            return ResponseEntity.ok(categoryService.createCategory(category));\r\n        }\r\n    \r\n        @PutMapping\r\n        public ResponseEntity&lt;Category&gt; editCategory(@RequestParam Long categoryId, @RequestBody Category category) {\r\n            return ResponseEntity.ok(categoryService.editCategory(categoryId, category));\r\n        }\r\n    \r\n        @GetMapping\r\n        public ResponseEntity&lt;List&lt;Category&gt;&gt; getCategoryByName(@RequestParam(required = false) String name) {\r\n            return ResponseEntity.ok(categoryService.getCategoryByName(name));\r\n        }\r\n    \r\n        @DeleteMapping\r\n        public ResponseEntity&lt;HttpStatus&gt; deleteCategory(@RequestBody Long categoryId) {\r\n            return ResponseEntity.ok(categoryService.deleteCategory(categoryId));\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s2joi.png\r\n  [2]: https://i.stack.imgur.com/h3Nh0.png\r\n  [3]: https://i.stack.imgur.com/q8bzV.png\r\n","title":"How do I get a list of categories for a doctor ? Spring Rest api","body":"<p>I have such a problem that when calling the GET (getDoctorByName) method for the doctor, I get all the information about the doctor except for the categories field (there are entries in it, but it returns me an empty array). Creating doctor records and categories work and adding a category for a doctor too.\nCreated data in the database:\n<a href=\"https://i.stack.imgur.com/s2joi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2joi.png\" alt=\"Category table\" /></a>\n<a href=\"https://i.stack.imgur.com/h3Nh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3Nh0.png\" alt=\"Doctor table\" /></a>\n<a href=\"https://i.stack.imgur.com/q8bzV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q8bzV.png\" alt=\"Doctor Category table\" /></a></p>\n<p>What do I need to change or what did I do wrong?</p>\n<p>Doctor Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;doctor&quot;)\npublic class Doctor {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String email;\n    private String password;\n    @Column(name = &quot;first_name&quot;)\n    private String fname;\n    @Column(name = &quot;last_name&quot;)\n    private String lname;\n    private String description;\n    private String number;\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;doctor_category&quot;,\n            joinColumns = @JoinColumn(name = &quot;doctor_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;category_id&quot;)\n    )\n    private Set&lt;Category&gt; categories;\n}\n</code></pre>\n<p>Category Entity:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;category&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @ManyToMany(mappedBy = &quot;categories&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Doctor&gt; doctors;\n}\n</code></pre>\n<p>Category and Doctor Repository:</p>\n<pre><code>@Repository\npublic interface CategoryRepository extends JpaRepository&lt;Category, Long&gt; {\n    List&lt;Category&gt; findByName(String name);\n}\n\n@Repository\npublic interface DoctorRepository extends JpaRepository&lt;Doctor, Long&gt; {\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByFnameAndLname(String fname, String lname);\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByFname(String fname);\n    @EntityGraph(attributePaths = &quot;categories&quot;)\n    List&lt;Doctor&gt; findByLname(String lname);\n}\n</code></pre>\n<p>Category Service:</p>\n<pre><code>@Service\npublic class CategoryService {\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    public Category createCategory(Category category) {\n        return categoryRepository.save(category);\n    }\n\n    public Category editCategory(Long categoryId, Category myCategory) {\n        Category category = categoryRepository.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\n        category.setName(myCategory.getName());\n        categoryRepository.save(category);\n        return category;\n    }\n\n    public List&lt;Category&gt; getCategoryByName(String name) {\n        List&lt;Category&gt; categories;\n        if (name != null) {\n            categories = categoryRepository.findByName(name);\n        } else categories = categoryRepository.findAll();\n        return categories;\n    }\n\n    public HttpStatus deleteCategory(Long categoryId) {\n        categoryRepository.deleteById(categoryId);\n        return HttpStatus.OK;\n    }\n\n}\n</code></pre>\n<p>Doctor Service:</p>\n<pre><code>@Service\npublic class DoctorService {\n    @Autowired\n    private DoctorRepository doctorRepository;\n    @Autowired\n    private CategoryRepository categoryRepository;\n\n    public Doctor createDoctor(Doctor doctor) {\n        return doctorRepository.save(doctor);\n    }\n\n    public Doctor editDoctor(Long doctorId, Doctor myDoctor) {\n        Doctor doctor = doctorRepository.findById(doctorId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\n        doctor.setEmail(myDoctor.getEmail());\n        doctor.setPassword(myDoctor.getPassword());\n        doctor.setFname(myDoctor.getFname());\n        doctor.setLname(myDoctor.getLname());\n        doctor.setDescription(myDoctor.getDescription());\n        doctor.setNumber(myDoctor.getNumber());\n        return doctorRepository.save(doctor);\n    }\n\n    public Doctor addCategoryForDoctor(Long doctorId, Long categoryId) {\n        Doctor doctor = doctorRepository.findById(doctorId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Доктор с id: &quot; + doctorId + &quot; не найден&quot;));\n        Category category = categoryRepository.findById(categoryId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Категория с id: &quot; + categoryId + &quot; не найден&quot;));\n        Set&lt;Category&gt; categories = doctor.getCategories();\n        categories.add(category);\n        doctor.setCategories(categories);\n        return doctorRepository.save(doctor);\n    }\n\n    public List&lt;Doctor&gt; getAllDoctors() {\n        List&lt;Doctor&gt; doctors = doctorRepository.findAll();\n        for (Doctor doctor : doctors) {\n            // вызовите getCategories() у каждого доктора, чтобы загрузить связанные категории\n            doctor.getCategories().size();\n        }\n        return doctors;\n    }\n\n    public List&lt;Doctor&gt; getDoctorByName(String fname, String lname) {\n        List&lt;Doctor&gt; doctors;\n        if (fname != null &amp;&amp; lname != null) {\n            doctors = doctorRepository.findByFnameAndLname(fname, lname);\n        } else if (fname != null) {\n            doctors = doctorRepository.findByFname(fname);\n        } else if (lname != null) {\n            doctors = doctorRepository.findByLname(lname);\n        } else {\n            doctors = doctorRepository.findAll();\n        }\n        return doctors;\n    }\n\n    public HttpStatus deleteDoctor(Long doctorId) {\n        doctorRepository.deleteById(doctorId);\n        return HttpStatus.OK;\n    }\n}\n</code></pre>\n<p>Doctor Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/doctor&quot;)\npublic class DoctorController {\n    @Autowired\n    private DoctorService doctorService;\n\n    @PostMapping\n    public ResponseEntity&lt;Doctor&gt; createDoctor(@RequestBody Doctor doctor) {\n        return ResponseEntity.ok(doctorService.createDoctor(doctor));\n    }\n\n    @PutMapping\n    public ResponseEntity&lt;Doctor&gt; editDoctor(@RequestParam Long doctorId, @RequestBody Doctor doctor) {\n        return ResponseEntity.ok(doctorService.editDoctor(doctorId, doctor));\n    }\n\n    @PutMapping(&quot;/add/category&quot;)\n    public ResponseEntity&lt;Doctor&gt; addCategoryForDoctor(@RequestParam Long doctorId, @RequestParam Long categoryId) {\n        return ResponseEntity.ok(doctorService.addCategoryForDoctor(doctorId, categoryId));\n    }\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Doctor&gt;&gt; get() {\n        return ResponseEntity.ok(doctorService.getAllDoctors());\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Doctor&gt;&gt; getDoctorByName(@RequestParam(required = false) String fname,\n                                                        @RequestParam(required = false) String lname) {\n        return ResponseEntity.ok(doctorService.getDoctorByName(fname, lname));\n    }\n\n    @DeleteMapping\n    public ResponseEntity&lt;HttpStatus&gt; deleteDoctor(@RequestParam Long doctorId) {\n        return ResponseEntity.ok(doctorService.deleteDoctor(doctorId));\n    }\n}\n</code></pre>\n<p>Category Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/category&quot;)\npublic class CategoryController {\n    @Autowired\n    private CategoryService categoryService;\n\n    @PostMapping\n    public ResponseEntity&lt;Category&gt; createCategory(@RequestBody Category category) {\n        return ResponseEntity.ok(categoryService.createCategory(category));\n    }\n\n    @PutMapping\n    public ResponseEntity&lt;Category&gt; editCategory(@RequestParam Long categoryId, @RequestBody Category category) {\n        return ResponseEntity.ok(categoryService.editCategory(categoryId, category));\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Category&gt;&gt; getCategoryByName(@RequestParam(required = false) String name) {\n        return ResponseEntity.ok(categoryService.getCategoryByName(name));\n    }\n\n    @DeleteMapping\n    public ResponseEntity&lt;HttpStatus&gt; deleteCategory(@RequestBody Long categoryId) {\n        return ResponseEntity.ok(categoryService.deleteCategory(categoryId));\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566329500,"creation_date":1566329500,"answer_id":57580428,"question_id":57580310,"body_markdown":"You need to setup proper Hibernate [Generator][1] like\r\n\r\n    @Id\r\n    @GeneratedValue(generator = “UUID”)\r\n\t@GenericGenerator(\r\n\t\tname = “UUID”,\r\n\t\tstrategy = “org.hibernate.id.UUIDGenerator”,\r\n\t)\r\n    private UUID id;\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html#identifiers-generators-generic","title":"convert UUID as blob to proper string id hibernate","body":"<p>You need to setup proper Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.0/mappingGuide/en-US/html/ch06.html#identifiers-generators-generic\" rel=\"nofollow noreferrer\">Generator</a> like</p>\n\n<pre><code>@Id\n@GeneratedValue(generator = “UUID”)\n@GenericGenerator(\n    name = “UUID”,\n    strategy = “org.hibernate.id.UUIDGenerator”,\n)\nprivate UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":434554,"reputation":734,"user_id":820594,"display_name":"Captain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566352698,"creation_date":1566352698,"answer_id":57583493,"question_id":57580310,"body_markdown":"Do you really mean BLOB? A UUID is 128 bits, certainly does not qualify for a LOB column.\r\nFor example you could use a Binary(16) column in MySQL.\r\n\r\nNow to answer your question, you need to tell hibernate how to generate the ID value.\r\n```\r\n    @Id\r\n    @GeneratedValue(generator = &quot;hibernate-uuid&quot;)\r\n    @GenericGenerator(name = &quot;hibernate-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;BINARY(16)&quot;)\r\n    protected UUID id;\r\n```","title":"convert UUID as blob to proper string id hibernate","body":"<p>Do you really mean BLOB? A UUID is 128 bits, certainly does not qualify for a LOB column.\nFor example you could use a Binary(16) column in MySQL.</p>\n\n<p>Now to answer your question, you need to tell hibernate how to generate the ID value.</p>\n\n<pre><code>    @Id\n    @GeneratedValue(generator = \"hibernate-uuid\")\n    @GenericGenerator(name = \"hibernate-uuid\", strategy = \"uuid2\")\n    @Column(name = \"id\", columnDefinition = \"BINARY(16)\")\n    protected UUID id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20030037,"reputation":1,"user_id":14683038,"display_name":"Sri Harshita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679170407,"creation_date":1679170407,"answer_id":75778434,"question_id":57580310,"body_markdown":"    import java.util.UUID;\r\n    @Table(name=&quot;address_book&quot;)\r\n    @Entity  \r\n    public class AddressBook {  \r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    @Column(name = &quot;name&quot;, updatable = false, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n    @Type(type = &quot;uuid-char&quot;)\r\n    private String name;\r\n    .\r\n    .\r\n    .\r\n    }\r\n\r\nthis will definitely work. It worked for me and please refer to [https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5][1] for more details. \r\n\r\n\r\n  [1]: https://import%20java.util.UUID;%20@Table(name=%22address_book%22)%20@Entity%20%20%20public%20class%20AddressBook%20%7B%20%20%20%20%20@Id%20%20%20@GeneratedValue(generator%20=%20%22uuid2%22)%20%20%20@GenericGenerator(name%20=%20%22uuid2%22,%20strategy%20=%20%22uuid2%22)%20%20%20@Column(name%20=%20%22name%22,%20updatable%20=%20false,%20nullable%20=%20false,%20columnDefinition%20=%20%22VARCHAR(36)%22)%20%20%20@Type(type%20=%20%22uuid-char%22)%20%20%20private%20String%20name;%20%20%20.%20%20%20.%20%20%20.%20%20%7D%20%20this%20will%20definitely%20work.%20It%20worked%20for%20me%20and%20please%20refer%20to%20https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5%20for%20more%20details.\r\n","title":"convert UUID as blob to proper string id hibernate","body":"<pre><code>import java.util.UUID;\n@Table(name=&quot;address_book&quot;)\n@Entity  \npublic class AddressBook {  \n@Id\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n@Column(name = &quot;name&quot;, updatable = false, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate String name;\n.\n.\n.\n}\n</code></pre>\n<p>this will definitely work. It worked for me and please refer to <a href=\"https://import%20java.util.UUID;%20@Table(name=%22address_book%22)%20@Entity%20%20%20public%20class%20AddressBook%20%7B%20%20%20%20%20@Id%20%20%20@GeneratedValue(generator%20=%20%22uuid2%22)%20%20%20@GenericGenerator(name%20=%20%22uuid2%22,%20strategy%20=%20%22uuid2%22)%20%20%20@Column(name%20=%20%22name%22,%20updatable%20=%20false,%20nullable%20=%20false,%20columnDefinition%20=%20%22VARCHAR(36)%22)%20%20%20@Type(type%20=%20%22uuid-char%22)%20%20%20private%20String%20name;%20%20%20.%20%20%20.%20%20%20.%20%20%7D%20%20this%20will%20definitely%20work.%20It%20worked%20for%20me%20and%20please%20refer%20to%20https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5%20for%20more%20details.\" rel=\"nofollow noreferrer\">https://www.codementor.io/@petrepopescu/how-to-use-string-uuid-in-hibernate-with-mysql-1jrhjh6ef5</a> for more details.</p>\n"}],"owner":{"account_id":12814133,"reputation":135,"user_id":10144071,"display_name":"user10144071"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679170407,"creation_date":1566328997,"question_id":57580310,"body_markdown":"I am using UUID is my id (@Id) in entity. Something like this:\r\n\r\n    import java.util.UUID;\r\n\t@Table(name=&quot;address_book&quot;)\r\n\t@Entity  \r\n\tpublic class AddressBook {  \r\n      @Id\r\n\t  private UUID id;\r\n\t  private String name;\r\n      .\r\n      .\r\n      .\r\n     }\r\n\r\nNow what is happening is, when i call addressBookDao.save(addressBook) or whenever i am saving data in database it is getting stored as: \r\n\r\n    id, name, isbn, date, username\r\n    {blob}, john, isbn-45888, 15-02-2019, david\r\n    \r\nSo in id column i&#39;m getting this blob written their in every row i&#39;m inserting. I thought UUID will generate a random id, instead of that its storing an entire json object of UUID as blob in that id column.\r\n\r\nHow can i fix this problem. I want string/random value to be present instead of blob/object?","title":"convert UUID as blob to proper string id hibernate","body":"<p>I am using UUID is my id (@Id) in entity. Something like this:</p>\n\n<pre><code>import java.util.UUID;\n@Table(name=\"address_book\")\n@Entity  \npublic class AddressBook {  \n  @Id\n  private UUID id;\n  private String name;\n  .\n  .\n  .\n }\n</code></pre>\n\n<p>Now what is happening is, when i call addressBookDao.save(addressBook) or whenever i am saving data in database it is getting stored as: </p>\n\n<pre><code>id, name, isbn, date, username\n{blob}, john, isbn-45888, 15-02-2019, david\n</code></pre>\n\n<p>So in id column i'm getting this blob written their in every row i'm inserting. I thought UUID will generate a random id, instead of that its storing an entire json object of UUID as blob in that id column.</p>\n\n<p>How can i fix this problem. I want string/random value to be present instead of blob/object?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1679186016,"post_id":75778355,"comment_id":133676466,"body_markdown":"dont let the user post in their ID `getYeditepeUserDetailsId` instead you should fetch the id from the principal instead. Also the way you have implemented JWT is not how you do it in spring security, please read the JWT chapter in the spring security documentation on how to handle JWTs correctly.","body":"dont let the user post in their ID <code>getYeditepeUserDetailsId</code> instead you should fetch the id from the principal instead. Also the way you have implemented JWT is not how you do it in spring security, please read the JWT chapter in the spring security documentation on how to handle JWTs correctly."}],"owner":{"account_id":21397604,"reputation":11,"user_id":15760400,"display_name":"Adem Galitekin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679169595,"creation_date":1679169595,"question_id":75778355,"body_markdown":"I have an app like Instagram that a user can post, comment and like. I have endpoints like /comments/{commentId} (post request) to comment something. The problem is any authenticated user can reach these endpoints and post or comment on behalf of someone else. So, I need to create a security flow that a user can post only from his profile. How can I achive this?\r\n\r\nhere is my CommentController Class\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/comments&quot;)\r\n    @AllArgsConstructor\r\n    public class CommentController {\r\n    \r\n        private final CommentService commentService;\r\n        private final UserService userService;\r\n        private final ModelMapper modelMapper;\r\n        private final PostService postService;\r\n    \r\n    \r\n        @GetMapping\r\n        public DataResult&lt;List&lt;Comment&gt;&gt; getAllComments (\r\n                @RequestParam Optional&lt;Long&gt; yeditepeUserDetailsId,\r\n                @RequestParam Optional&lt;Long&gt; postId) {\r\n    \r\n            return commentService.getAllCommentsWithParam (yeditepeUserDetailsId, postId);\r\n        }\r\n    \r\n        @GetMapping(&quot;/{commentId}&quot;)\r\n        public DataResult&lt;Comment&gt; getComment (@PathVariable Long commentId) {\r\n            return commentService.getCommentById(commentId);\r\n        }\r\n    \r\n        @PostMapping\r\n        public Result createComment(@RequestBody CommentDto commentDto) {\r\n    \r\n            Comment comment = modelMapper.map(commentDto, Comment.class);\r\n            Post post = postService.getPostById(commentDto.getPostId()).getData();\r\n            YeditepeUserDetails yeditepeUserDetails = userService\r\n                    .getUserById(commentDto.getYeditepeUserDetailsId())\r\n                    .getYeditepeUserDetails();\r\n    \r\n            comment.setPost(post);\r\n            comment.setYeditepeUserDetails(yeditepeUserDetails);\r\n            return commentService.createComment(comment);\r\n        }\r\n    }\r\n\r\nAnd here is my User Class\r\n\r\n    @Entity\r\n    @Getter @Setter @ToString\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n        @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\n        private Long userId;\r\n    \r\n        @NotBlank\r\n        @NotNull\r\n        private String firstname;\r\n    \r\n        @NotBlank\r\n        @NotNull\r\n        private String lastname;\r\n    \r\n        @Pattern(regexp = CommunicationConstants.EMAIL_REGEX_PATTERN, message = CommunicationConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\r\n        private String email;\r\n    \r\n        @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\r\n        @Pattern(regexp = SecurityConstants.PASSWORD_REGEX, message = &quot;INVALID PASSWORD&quot;)\r\n        private String password;\r\n    \r\n        @JsonIgnore\r\n        @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        private Set&lt;Authority&gt; authorities;\r\n    \r\n        private String phoneNumber;\r\n    \r\n        @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private ConfirmationToken confirmationToken;\r\n    \r\n        @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n        @JsonIgnore\r\n        private YeditepeUserDetails yeditepeUserDetails;\r\n    \r\n    }\r\n\r\nAnd here is my Configuration Class\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableMethodSecurity\r\n    public class SecurityConfiguration {\r\n    \r\n        @Bean\r\n        SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\r\n            requestHandler.setCsrfRequestAttributeName(&quot;_csrf&quot;);\r\n            //buradaki kod sayesinde springin sessionid oluşurturmasını engelliyoruz.\r\n            //burada birazdan kendi session managementımızı kendimiz yapıcaz.\r\n            //kendi token managementımızı\r\n            http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .cors().configurationSource(corsConfiguration()).and()\r\n                    /*\r\n                    .csrf((csrf) -&gt; csrf.csrfTokenRequestHandler(requestHandler)\r\n                            .ignoringRequestMatchers(&quot;/contact&quot;,&quot;/register&quot;)\r\n                            .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()))\r\n    \r\n                    .addFilterAfter(new CsrfCookieFilter(), BasicAuthenticationFilter.class)\r\n                     */\r\n                    .csrf().disable()\r\n                    .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\r\n                    .addFilterBefore(new JwtTokenValidatorFilter(), BasicAuthenticationFilter.class)\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/promoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/demoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\r\n                    .requestMatchers(HttpMethod.POST, &quot;/api/auth/register&quot;).permitAll()\r\n                    .requestMatchers(HttpMethod.GET, &quot;/api/auth/confirm-account&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/posts/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/comments/**&quot;).permitAll()\r\n                    .requestMatchers(&quot;/api/likes/**&quot;).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().formLogin()\r\n                    .and().httpBasic();\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        private CorsConfigurationSource corsConfiguration () {\r\n    \r\n            return request -&gt; {\r\n                CorsConfiguration configuration = new CorsConfiguration();\r\n                configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:4200&quot;));\r\n                configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n                configuration.setAllowCredentials(true);\r\n                configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n                configuration.setMaxAge(3600L);\r\n                //exposed headers token &#252;rettiğimiz i&#231;in g&#246;nderiyoruz.ders85\r\n                configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\r\n                return configuration;\r\n            };\r\n        }\r\n    }\r\n\r\n","title":"Spring Security User should not be able to post something on behalf of someone else","body":"<p>I have an app like Instagram that a user can post, comment and like. I have endpoints like /comments/{commentId} (post request) to comment something. The problem is any authenticated user can reach these endpoints and post or comment on behalf of someone else. So, I need to create a security flow that a user can post only from his profile. How can I achive this?</p>\n<p>here is my CommentController Class</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/comments&quot;)\n@AllArgsConstructor\npublic class CommentController {\n\n    private final CommentService commentService;\n    private final UserService userService;\n    private final ModelMapper modelMapper;\n    private final PostService postService;\n\n\n    @GetMapping\n    public DataResult&lt;List&lt;Comment&gt;&gt; getAllComments (\n            @RequestParam Optional&lt;Long&gt; yeditepeUserDetailsId,\n            @RequestParam Optional&lt;Long&gt; postId) {\n\n        return commentService.getAllCommentsWithParam (yeditepeUserDetailsId, postId);\n    }\n\n    @GetMapping(&quot;/{commentId}&quot;)\n    public DataResult&lt;Comment&gt; getComment (@PathVariable Long commentId) {\n        return commentService.getCommentById(commentId);\n    }\n\n    @PostMapping\n    public Result createComment(@RequestBody CommentDto commentDto) {\n\n        Comment comment = modelMapper.map(commentDto, Comment.class);\n        Post post = postService.getPostById(commentDto.getPostId()).getData();\n        YeditepeUserDetails yeditepeUserDetails = userService\n                .getUserById(commentDto.getYeditepeUserDetailsId())\n                .getYeditepeUserDetails();\n\n        comment.setPost(post);\n        comment.setYeditepeUserDetails(yeditepeUserDetails);\n        return commentService.createComment(comment);\n    }\n}\n</code></pre>\n<p>And here is my User Class</p>\n<pre><code>@Entity\n@Getter @Setter @ToString\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\n    @GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\n    private Long userId;\n\n    @NotBlank\n    @NotNull\n    private String firstname;\n\n    @NotBlank\n    @NotNull\n    private String lastname;\n\n    @Pattern(regexp = CommunicationConstants.EMAIL_REGEX_PATTERN, message = CommunicationConstants.PATTERN_DOES_NOT_MATCH_MESSAGE)\n    private String email;\n\n    @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)\n    @Pattern(regexp = SecurityConstants.PASSWORD_REGEX, message = &quot;INVALID PASSWORD&quot;)\n    private String password;\n\n    @JsonIgnore\n    @OneToMany (mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private Set&lt;Authority&gt; authorities;\n\n    private String phoneNumber;\n\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private ConfirmationToken confirmationToken;\n\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    private YeditepeUserDetails yeditepeUserDetails;\n\n}\n</code></pre>\n<p>And here is my Configuration Class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n\n        CsrfTokenRequestAttributeHandler requestHandler = new CsrfTokenRequestAttributeHandler();\n        requestHandler.setCsrfRequestAttributeName(&quot;_csrf&quot;);\n        //buradaki kod sayesinde springin sessionid oluşurturmasını engelliyoruz.\n        //burada birazdan kendi session managementımızı kendimiz yapıcaz.\n        //kendi token managementımızı\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .cors().configurationSource(corsConfiguration()).and()\n                /*\n                .csrf((csrf) -&gt; csrf.csrfTokenRequestHandler(requestHandler)\n                        .ignoringRequestMatchers(&quot;/contact&quot;,&quot;/register&quot;)\n                        .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse()))\n\n                .addFilterAfter(new CsrfCookieFilter(), BasicAuthenticationFilter.class)\n                 */\n                .csrf().disable()\n                .addFilterAfter(new JwtTokenGeneratorFilter(), BasicAuthenticationFilter.class)\n                .addFilterBefore(new JwtTokenValidatorFilter(), BasicAuthenticationFilter.class)\n                .authorizeHttpRequests()\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/promoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/demoteUser&quot;).hasRole(SecurityConstants.ROLE_ADMIN_NO_PREFIX)\n                .requestMatchers(HttpMethod.POST, &quot;/api/auth/register&quot;).permitAll()\n                .requestMatchers(HttpMethod.GET, &quot;/api/auth/confirm-account&quot;).permitAll()\n                .requestMatchers(&quot;/api/posts/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/comments/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/likes/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and().formLogin()\n                .and().httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    private CorsConfigurationSource corsConfiguration () {\n\n        return request -&gt; {\n            CorsConfiguration configuration = new CorsConfiguration();\n            configuration.setAllowedOrigins(Collections.singletonList(&quot;http://localhost:4200&quot;));\n            configuration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n            configuration.setAllowCredentials(true);\n            configuration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n            configuration.setMaxAge(3600L);\n            //exposed headers token ürettiğimiz için gönderiyoruz.ders85\n            configuration.setExposedHeaders(List.of(&quot;Authorization&quot;));\n            return configuration;\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","serversocket"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679207654,"post_id":75778338,"comment_id":133677861,"body_markdown":"`The Java™ Tutorials -&gt; Writing the Server Side of a Socket`  (https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html)  -&gt; `Supporting Multiple Clients`","body":"<code>The Java™ Tutorials -&gt; Writing the Server Side of a Socket</code>  (<a href=\"https://docs.oracle.com/javase/tutorial/networking/sockets/clientServer.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/networking/sockets/&hellip;</a>)  -&gt; <code>Supporting Multiple Clients</code>"},{"owner":{"account_id":28052755,"reputation":1,"user_id":21428348,"display_name":"nedmah_9"},"score":1,"creation_date":1679242106,"post_id":75778338,"comment_id":133682173,"body_markdown":"Solved a problem finally, noticed that bc of my inattention i put while cycle under try-catch block","body":"Solved a problem finally, noticed that bc of my inattention i put while cycle under try-catch block"}],"owner":{"account_id":28052755,"reputation":1,"user_id":21428348,"display_name":"nedmah_9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679169406,"creation_date":1679169406,"question_id":75778338,"body_markdown":"Idk am i right or not, but i think the problem is that i have to clear data array every iteration, but it doesnt work. At some point i&#39;ve thought it might be other problem, but i dont know.\r\nat every second operation there is \r\nException in thread &quot;main&quot; java.net.SocketException: A program on your host machine terminated the established connection\r\n\r\n\r\nI tried to fix it with Arrays.fill, data = null etc. Tried to do a method that generates byte array and reads the data, unsuccesfully.\r\n\r\nhere&#39;s Server\r\n\r\n```\r\npackage FileServer;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.HashMap;\r\n\r\npublic class Server {\r\n\r\n    static String path = &quot;D:\\\\JavaFiles\\\\data\\\\&quot;;\r\n    private static boolean isRunning = true;\r\n    private static final int PORT = 34522;\r\n    public static HashMap&lt;String, String&gt; filenames = new HashMap&lt;String, String&gt;();\r\n\r\n\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        createDirectory(path);\r\n\r\n        try (ServerSocket server = new ServerSocket(PORT)) {\r\n            System.out.println(&quot;Server started&quot;);\r\n\r\n            while (isRunning) {\r\n                String response = &quot;&quot;;\r\n                String id = &quot;&quot;;\r\n                try (\r\n                        Socket socket = server.accept();\r\n                        DataInputStream input = new DataInputStream(socket.getInputStream());\r\n                        DataOutputStream output = new DataOutputStream(socket.getOutputStream())\r\n                ) {\r\n                    String message = input.readUTF();\r\n                    if (message.equals(&quot;exit&quot;)) {\r\n                        input.close();\r\n                        output.close();\r\n                        socket.close();\r\n                        isRunning = false;\r\n                    } else{\r\n                        switch ((message.split(&quot;;&quot;)[0])){\r\n\r\n                            case &quot;PUT&quot;:\r\n                                System.out.println(message);\r\n                                if (message.split(&quot;;&quot;).length &gt; 1) {\r\n                                    path = path + message.split(&quot;;&quot;)[1];\r\n                                }\r\n                                File f = new File(path);\r\n                                if(f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                    response = &quot;403&quot;;\r\n                                } else {\r\n                                    int length = input.readInt();\r\n                                    byte[] data = new byte[length];\r\n                                    input.readFully(data, 0, data.length);\r\n                                    System.out.println(path);\r\n                                    String hash = generateId(path);\r\n                                    filenames.put(hash, path);\r\n                                    try (FileOutputStream fos = new FileOutputStream(path)) {\r\n                                        fos.write(data);\r\n                                        System.out.println(path + &quot;****&quot;);\r\n                                    } catch (FileNotFoundException e) {\r\n                                        e.printStackTrace();\r\n                                    } catch (IOException e) {\r\n                                        e.printStackTrace();\r\n                                    }\r\n                                    id = hash;\r\n                                    response = &quot;200&quot; + &quot; &quot; + id;\r\n                                }\r\n                                output.writeUTF(response);\r\n                                path = path.replace(message.split(&quot;;&quot;)[1],&quot;&quot;);\r\n                                break;\r\n\r\n\r\n                            case &quot;GET&quot;:\r\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)) {\r\n                                    path = path + message.split(&quot;;&quot;)[2];\r\n                                    f = new File(path);\r\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                        response = &quot;200&quot;;\r\n                                        Path path2 = Paths.get(path);\r\n                                        byte[] data = new byte[0];\r\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\r\n                                            try {\r\n                                                data = Files.readAllBytes(path2);\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n                                        output.writeUTF(response);\r\n                                        output.writeInt(data.length);\r\n                                        output.write(data);\r\n                                    } else {\r\n                                        response = &quot;403&quot;;\r\n                                        output.writeUTF(response);\r\n                                    }\r\n                                } else {\r\n                                    id = message.split(&quot;;&quot;)[2];\r\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\r\n                                    f = new File(path);\r\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                        response = &quot;200&quot;;\r\n                                        Path path2 = Paths.get(path);\r\n                                        byte[] data = new byte[0];\r\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\r\n                                            try {\r\n                                                data = Files.readAllBytes(path2);\r\n                                            } catch (IOException e) {\r\n                                                e.printStackTrace();\r\n                                            }\r\n                                        }\r\n                                        output.writeUTF(response);\r\n                                        output.writeInt(data.length);\r\n                                        output.write(data);\r\n                                    } else {\r\n                                        response = &quot;403&quot;;\r\n                                        output.writeUTF(response);\r\n                                    }\r\n                                }\r\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\r\n                                break;\r\n\r\n\r\n                            case &quot;DELETE&quot;:\r\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)){\r\n                                    path = path + message.split(&quot;;&quot;)[2];\r\n                                } else {\r\n                                    id = message.split(&quot;;&quot;)[2];\r\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\r\n                                }\r\n                                f = new File(path);\r\n                                if (f.exists() &amp;&amp; !f.isDirectory()) {\r\n                                    response = &quot;200&quot;;\r\n                                    delete(path);\r\n                                    filenames.remove(path);\r\n                                } else {\r\n                                    response = &quot;403&quot;;\r\n                                }\r\n                                output.writeUTF(response);\r\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\r\n                                break;\r\n                        }\r\n                        output.flush();\r\n                    }\r\n\r\n\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n    public static void createDirectory(String path) {\r\n        File fileDirectory = new File(path);\r\n        if (!fileDirectory.exists()) {\r\n            fileDirectory.mkdirs();\r\n        }\r\n    }\r\n\r\n    public static String generateId(String filename) {\r\n        return String.valueOf(Math.abs(filename.hashCode()));\r\n    }\r\n\r\n    public static void delete(String filepath) {\r\n        try {\r\n            File file = new File(filepath);\r\n            file.delete();\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHere&#39;s Client\r\n\r\n\r\n```\r\npackage FileServer;\r\n\r\nimport java.io.*;\r\nimport java.net.Socket;\r\nimport java.net.SocketException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class Client {\r\n\r\n    private static boolean isRunning = true;\r\n    public static Scanner scan = new Scanner(System.in);\r\n    public static void main(String[] args) throws IOException, SocketException {\r\n        String address = &quot;127.0.0.1&quot;;\r\n        int port = 34522;\r\n        Socket socket = new Socket(address,port);\r\n        DataInputStream input = new DataInputStream(socket.getInputStream());\r\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\r\n        String req = &quot;&quot;;\r\n        String response = &quot;&quot;;\r\n        byte[] data;\r\n        String filename = &quot;&quot;;\r\n\r\n        while (isRunning) {\r\n            System.out.println(&quot;Enter action (1 - get a file, 2 - save a file, 3 - delete a file, exit): &quot;);\r\n            String action = scan.nextLine();\r\n            switch (action) {\r\n                case &quot;1&quot;:\r\n                    req = getRequest();\r\n                    output.writeUTF(req);\r\n                    System.out.println(&quot;The request was sent.&quot;);\r\n                    response = input.readUTF();\r\n                    if (processResponse(response, action)) {\r\n                        int length = input.readInt();\r\n                        data = new byte[length];\r\n                        input.readFully(data, 0, data.length);\r\n                        filename = &quot;D:\\\\JavaFiles\\\\data\\\\&quot; + scan.nextLine();\r\n                        try (FileOutputStream fos = new FileOutputStream(filename)) {\r\n                            fos.write(data);\r\n                            System.out.println(filename + &quot;****&quot;);\r\n                        } catch (FileNotFoundException e) {\r\n                            e.printStackTrace();\r\n                        } catch (IOException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                        System.out.print(&quot;File saved on the hard drive!&quot;);\r\n                    }\r\n                    break;\r\n\r\n                case &quot;2&quot;:\r\n                    System.out.print(&quot;Enter filename: &quot;);\r\n                    String name = scan.nextLine();\r\n                    Path path = Paths.get(&quot;D:\\\\JavaFiles\\\\data\\\\&quot; + name);\r\n                    data = Files.readAllBytes(path);\r\n                    System.out.print(&quot;Enter name of the file to be saved on server: &quot;);\r\n                    String outName = scan.nextLine();\r\n                    output.writeUTF(&quot;PUT&quot; + &quot;;&quot; + outName);\r\n                    output.writeInt(data.length); // write length of the message\r\n                    output.write(data);\r\n                    response = input.readUTF();\r\n                    processResponse(response, action);\r\n                    String pathUpdate = path.getParent().toString();\r\n                    path = Path.of(pathUpdate);\r\n                    break;\r\n\r\n                case &quot;3&quot;:\r\n                    req = deleteRequest();\r\n                    output.writeUTF(req);\r\n                    System.out.println(&quot;The request was sent.&quot;);\r\n                    response = input.readUTF();\r\n                    processResponse(response, action);\r\n                    break;\r\n                case &quot;exit&quot;:\r\n                    output.writeUTF(&quot;exit&quot;);\r\n                    output.flush();\r\n                    output.close();\r\n                    input.close();\r\n                    socket.close();\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    public static String getRequest() {\r\n        String name = &quot;&quot;;\r\n        String mode = &quot;&quot;;\r\n        System.out.println(&quot;Do you want to get the file by/id (1 - name, 2 - id): &quot;);\r\n        String choice = scan.nextLine();\r\n        switch (choice) {\r\n            case &quot;1&quot;:\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;n&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                System.out.print(&quot;Enter id: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;i&quot;;\r\n                break;\r\n        }\r\n        return &quot;GET&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\r\n    }\r\n\r\n    public static String deleteRequest() {\r\n        String name = &quot;&quot;;\r\n        String mode = &quot;&quot;;\r\n        System.out.println(&quot;Do you want to delete the file by name/id (1 - name, 2 - id): &quot;);\r\n        String choice = scan.nextLine();\r\n        switch (choice) {\r\n            case &quot;1&quot;:\r\n                System.out.print(&quot;Enter filename: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;n&quot;;\r\n                break;\r\n            case &quot;2&quot;:\r\n                System.out.print(&quot;Enter id: &quot;);\r\n                name = scan.nextLine();\r\n                mode = &quot;i&quot;;\r\n                break;\r\n        }\r\n        return &quot;DELETE&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\r\n    }\r\n\r\n\r\n    public static Boolean processResponse(String response, String operation) {\r\n        switch (operation) {\r\n            case &quot;2&quot;:\r\n                if (response.startsWith(&quot;200&quot;)) {\r\n                    System.out.println(&quot;Response says that file is saved! ID = &quot; + response.substring(4));\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that creating the file was forbidden!&quot;);\r\n                }\r\n                break;\r\n            case &quot;1&quot;:\r\n                if (response.equals(&quot;200&quot;))  {\r\n                    System.out.print(&quot;The file was downloaded! Specify a name for it: &quot;);\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\r\n                }\r\n                break;\r\n            case &quot;3&quot;:\r\n                if (response.equals(&quot;200&quot;)) {\r\n                    System.out.println(&quot;The response says that the file was successfully deleted!&quot;);\r\n                    return true;\r\n                }\r\n                else {\r\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\r\n                }\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nP.s sorry if I wrote my problem poorly, or it is too easy for your great minds. This is my first question on sof, i&#39;m still learning. ","title":"Writed java file server. Somehow client can&#39;t do more than 1 operation","body":"<p>Idk am i right or not, but i think the problem is that i have to clear data array every iteration, but it doesnt work. At some point i've thought it might be other problem, but i dont know.\nat every second operation there is\nException in thread &quot;main&quot; java.net.SocketException: A program on your host machine terminated the established connection</p>\n<p>I tried to fix it with Arrays.fill, data = null etc. Tried to do a method that generates byte array and reads the data, unsuccesfully.</p>\n<p>here's Server</p>\n<pre><code>package FileServer;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.HashMap;\n\npublic class Server {\n\n    static String path = &quot;D:\\\\JavaFiles\\\\data\\\\&quot;;\n    private static boolean isRunning = true;\n    private static final int PORT = 34522;\n    public static HashMap&lt;String, String&gt; filenames = new HashMap&lt;String, String&gt;();\n\n\n\n    public static void main(String[] args) throws IOException {\n\n        createDirectory(path);\n\n        try (ServerSocket server = new ServerSocket(PORT)) {\n            System.out.println(&quot;Server started&quot;);\n\n            while (isRunning) {\n                String response = &quot;&quot;;\n                String id = &quot;&quot;;\n                try (\n                        Socket socket = server.accept();\n                        DataInputStream input = new DataInputStream(socket.getInputStream());\n                        DataOutputStream output = new DataOutputStream(socket.getOutputStream())\n                ) {\n                    String message = input.readUTF();\n                    if (message.equals(&quot;exit&quot;)) {\n                        input.close();\n                        output.close();\n                        socket.close();\n                        isRunning = false;\n                    } else{\n                        switch ((message.split(&quot;;&quot;)[0])){\n\n                            case &quot;PUT&quot;:\n                                System.out.println(message);\n                                if (message.split(&quot;;&quot;).length &gt; 1) {\n                                    path = path + message.split(&quot;;&quot;)[1];\n                                }\n                                File f = new File(path);\n                                if(f.exists() &amp;&amp; !f.isDirectory()) {\n                                    response = &quot;403&quot;;\n                                } else {\n                                    int length = input.readInt();\n                                    byte[] data = new byte[length];\n                                    input.readFully(data, 0, data.length);\n                                    System.out.println(path);\n                                    String hash = generateId(path);\n                                    filenames.put(hash, path);\n                                    try (FileOutputStream fos = new FileOutputStream(path)) {\n                                        fos.write(data);\n                                        System.out.println(path + &quot;****&quot;);\n                                    } catch (FileNotFoundException e) {\n                                        e.printStackTrace();\n                                    } catch (IOException e) {\n                                        e.printStackTrace();\n                                    }\n                                    id = hash;\n                                    response = &quot;200&quot; + &quot; &quot; + id;\n                                }\n                                output.writeUTF(response);\n                                path = path.replace(message.split(&quot;;&quot;)[1],&quot;&quot;);\n                                break;\n\n\n                            case &quot;GET&quot;:\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)) {\n                                    path = path + message.split(&quot;;&quot;)[2];\n                                    f = new File(path);\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                        response = &quot;200&quot;;\n                                        Path path2 = Paths.get(path);\n                                        byte[] data = new byte[0];\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\n                                            try {\n                                                data = Files.readAllBytes(path2);\n                                            } catch (IOException e) {\n                                                e.printStackTrace();\n                                            }\n                                        }\n                                        output.writeUTF(response);\n                                        output.writeInt(data.length);\n                                        output.write(data);\n                                    } else {\n                                        response = &quot;403&quot;;\n                                        output.writeUTF(response);\n                                    }\n                                } else {\n                                    id = message.split(&quot;;&quot;)[2];\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\n                                    f = new File(path);\n                                    if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                        response = &quot;200&quot;;\n                                        Path path2 = Paths.get(path);\n                                        byte[] data = new byte[0];\n                                        if (Files.exists(path2) &amp;&amp; !Files.isDirectory(path2)) {\n                                            try {\n                                                data = Files.readAllBytes(path2);\n                                            } catch (IOException e) {\n                                                e.printStackTrace();\n                                            }\n                                        }\n                                        output.writeUTF(response);\n                                        output.writeInt(data.length);\n                                        output.write(data);\n                                    } else {\n                                        response = &quot;403&quot;;\n                                        output.writeUTF(response);\n                                    }\n                                }\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\n                                break;\n\n\n                            case &quot;DELETE&quot;:\n                                if (message.split(&quot;;&quot;)[1].equals(&quot;n&quot;)){\n                                    path = path + message.split(&quot;;&quot;)[2];\n                                } else {\n                                    id = message.split(&quot;;&quot;)[2];\n                                    if (filenames.containsKey(id)) path = filenames.get(id);\n                                }\n                                f = new File(path);\n                                if (f.exists() &amp;&amp; !f.isDirectory()) {\n                                    response = &quot;200&quot;;\n                                    delete(path);\n                                    filenames.remove(path);\n                                } else {\n                                    response = &quot;403&quot;;\n                                }\n                                output.writeUTF(response);\n                                path = path.replace(message.split(&quot;;&quot;)[2],&quot;&quot;);\n                                break;\n                        }\n                        output.flush();\n                    }\n\n\n\n                }\n            }\n        }\n\n    }\n    public static void createDirectory(String path) {\n        File fileDirectory = new File(path);\n        if (!fileDirectory.exists()) {\n            fileDirectory.mkdirs();\n        }\n    }\n\n    public static String generateId(String filename) {\n        return String.valueOf(Math.abs(filename.hashCode()));\n    }\n\n    public static void delete(String filepath) {\n        try {\n            File file = new File(filepath);\n            file.delete();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>Here's Client</p>\n<pre><code>package FileServer;\n\nimport java.io.*;\nimport java.net.Socket;\nimport java.net.SocketException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class Client {\n\n    private static boolean isRunning = true;\n    public static Scanner scan = new Scanner(System.in);\n    public static void main(String[] args) throws IOException, SocketException {\n        String address = &quot;127.0.0.1&quot;;\n        int port = 34522;\n        Socket socket = new Socket(address,port);\n        DataInputStream input = new DataInputStream(socket.getInputStream());\n        DataOutputStream output = new DataOutputStream(socket.getOutputStream());\n        String req = &quot;&quot;;\n        String response = &quot;&quot;;\n        byte[] data;\n        String filename = &quot;&quot;;\n\n        while (isRunning) {\n            System.out.println(&quot;Enter action (1 - get a file, 2 - save a file, 3 - delete a file, exit): &quot;);\n            String action = scan.nextLine();\n            switch (action) {\n                case &quot;1&quot;:\n                    req = getRequest();\n                    output.writeUTF(req);\n                    System.out.println(&quot;The request was sent.&quot;);\n                    response = input.readUTF();\n                    if (processResponse(response, action)) {\n                        int length = input.readInt();\n                        data = new byte[length];\n                        input.readFully(data, 0, data.length);\n                        filename = &quot;D:\\\\JavaFiles\\\\data\\\\&quot; + scan.nextLine();\n                        try (FileOutputStream fos = new FileOutputStream(filename)) {\n                            fos.write(data);\n                            System.out.println(filename + &quot;****&quot;);\n                        } catch (FileNotFoundException e) {\n                            e.printStackTrace();\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                        System.out.print(&quot;File saved on the hard drive!&quot;);\n                    }\n                    break;\n\n                case &quot;2&quot;:\n                    System.out.print(&quot;Enter filename: &quot;);\n                    String name = scan.nextLine();\n                    Path path = Paths.get(&quot;D:\\\\JavaFiles\\\\data\\\\&quot; + name);\n                    data = Files.readAllBytes(path);\n                    System.out.print(&quot;Enter name of the file to be saved on server: &quot;);\n                    String outName = scan.nextLine();\n                    output.writeUTF(&quot;PUT&quot; + &quot;;&quot; + outName);\n                    output.writeInt(data.length); // write length of the message\n                    output.write(data);\n                    response = input.readUTF();\n                    processResponse(response, action);\n                    String pathUpdate = path.getParent().toString();\n                    path = Path.of(pathUpdate);\n                    break;\n\n                case &quot;3&quot;:\n                    req = deleteRequest();\n                    output.writeUTF(req);\n                    System.out.println(&quot;The request was sent.&quot;);\n                    response = input.readUTF();\n                    processResponse(response, action);\n                    break;\n                case &quot;exit&quot;:\n                    output.writeUTF(&quot;exit&quot;);\n                    output.flush();\n                    output.close();\n                    input.close();\n                    socket.close();\n                    System.exit(0);\n                }\n            }\n        }\n\n\n\n\n\n    public static String getRequest() {\n        String name = &quot;&quot;;\n        String mode = &quot;&quot;;\n        System.out.println(&quot;Do you want to get the file by/id (1 - name, 2 - id): &quot;);\n        String choice = scan.nextLine();\n        switch (choice) {\n            case &quot;1&quot;:\n                System.out.print(&quot;Enter filename: &quot;);\n                name = scan.nextLine();\n                mode = &quot;n&quot;;\n                break;\n            case &quot;2&quot;:\n                System.out.print(&quot;Enter id: &quot;);\n                name = scan.nextLine();\n                mode = &quot;i&quot;;\n                break;\n        }\n        return &quot;GET&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\n    }\n\n    public static String deleteRequest() {\n        String name = &quot;&quot;;\n        String mode = &quot;&quot;;\n        System.out.println(&quot;Do you want to delete the file by name/id (1 - name, 2 - id): &quot;);\n        String choice = scan.nextLine();\n        switch (choice) {\n            case &quot;1&quot;:\n                System.out.print(&quot;Enter filename: &quot;);\n                name = scan.nextLine();\n                mode = &quot;n&quot;;\n                break;\n            case &quot;2&quot;:\n                System.out.print(&quot;Enter id: &quot;);\n                name = scan.nextLine();\n                mode = &quot;i&quot;;\n                break;\n        }\n        return &quot;DELETE&quot; + &quot;;&quot; + mode + &quot;;&quot; + name;\n    }\n\n\n    public static Boolean processResponse(String response, String operation) {\n        switch (operation) {\n            case &quot;2&quot;:\n                if (response.startsWith(&quot;200&quot;)) {\n                    System.out.println(&quot;Response says that file is saved! ID = &quot; + response.substring(4));\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that creating the file was forbidden!&quot;);\n                }\n                break;\n            case &quot;1&quot;:\n                if (response.equals(&quot;200&quot;))  {\n                    System.out.print(&quot;The file was downloaded! Specify a name for it: &quot;);\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\n                }\n                break;\n            case &quot;3&quot;:\n                if (response.equals(&quot;200&quot;)) {\n                    System.out.println(&quot;The response says that the file was successfully deleted!&quot;);\n                    return true;\n                }\n                else {\n                    System.out.println(&quot;The response says that this file is not found!&quot;);\n                }\n                break;\n        }\n        return false;\n    }\n\n}\n</code></pre>\n<p>P.s sorry if I wrote my problem poorly, or it is too easy for your great minds. This is my first question on sof, i'm still learning.</p>\n"},{"tags":["java","eclipse","jvm","minecraft"],"answers":[{"tags":[],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679169012,"creation_date":1679169012,"answer_id":75778299,"question_id":75778254,"body_markdown":"It works here&#39;s how : \r\n\r\nIf you get an error saying the java virtual machine couldn&#39;t start:\r\n\r\nGo to &quot;Debug&quot;\r\nDebug configurations\r\nArguments\r\nand remove the    -Xincgc\r\nand debug your client\r\n\r\n","title":"Error Could Not Create the JVM A fatal exception has occured while debugging","body":"<p>It works here's how :</p>\n<p>If you get an error saying the java virtual machine couldn't start:</p>\n<p>Go to &quot;Debug&quot;\nDebug configurations\nArguments\nand remove the    -Xincgc\nand debug your client</p>\n"}],"owner":{"account_id":26755272,"reputation":113,"user_id":20353978,"display_name":"Meme410"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679169012,"creation_date":1679168488,"question_id":75778254,"body_markdown":"**Hi I used the mcp (Minecraft coder pack) for creating mods in Minecraft However once I set up the workplace and I want to debug the app or simply run it these errors occur :** \r\n\r\n\r\n[![error][1]][1]\r\n\r\n\r\nAfter that error another pop up show me : \r\n\r\na\r\n[![error2][2]][2]\r\n\r\nAnd here&#39;s what&#39;s in the console : \r\n\r\n \r\n\r\n    Unrecognized option: -Xincgc\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuxPc.png\r\n  [2]: https://i.stack.imgur.com/m1QQI.png","title":"Error Could Not Create the JVM A fatal exception has occured while debugging","body":"<p><strong>Hi I used the mcp (Minecraft coder pack) for creating mods in Minecraft However once I set up the workplace and I want to debug the app or simply run it these errors occur :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iuxPc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuxPc.png\" alt=\"error\" /></a></p>\n<p>After that error another pop up show me :</p>\n<p>a\n<a href=\"https://i.stack.imgur.com/m1QQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m1QQI.png\" alt=\"error2\" /></a></p>\n<p>And here's what's in the console :</p>\n<pre><code>Unrecognized option: -Xincgc\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":28005899,"reputation":11,"user_id":21389319,"display_name":"Antonia Kampa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679168958,"creation_date":1678712262,"answer_id":75722163,"question_id":73132525,"body_markdown":"Add `requires org.apache.logging.log4j;` to your `module-info.java` file like so:\r\n\r\n    module LoggerTest {\r\n    \trequires org.apache.logging.log4j;\r\n    }","title":"In eclipse IDE, I&#39;m unable to access org.apache.logging.log4j package. I have even imported both &quot;log4j-core-2.18.0.jar&quot; and &quot;log4j-api-2.18.0.jar&quot;","body":"<p>Add <code>requires org.apache.logging.log4j;</code> to your <code>module-info.java</code> file like so:</p>\n<pre><code>module LoggerTest {\n    requires org.apache.logging.log4j;\n}\n</code></pre>\n"}],"owner":{"account_id":25896063,"reputation":1,"user_id":19622602,"display_name":"Vishal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679168958,"creation_date":1658898922,"question_id":73132525,"body_markdown":"```\r\npackage Alpha;\r\nimport org.apache.logging.log4j.*;\r\n\r\n\r\npublic class Demo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n}\r\n```\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/K32MS.png","title":"In eclipse IDE, I&#39;m unable to access org.apache.logging.log4j package. I have even imported both &quot;log4j-core-2.18.0.jar&quot; and &quot;log4j-api-2.18.0.jar&quot;","body":"<pre><code>package Alpha;\nimport org.apache.logging.log4j.*;\n\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/K32MS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K32MS.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","testing","junit"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1678571686,"post_id":75709632,"comment_id":133560605,"body_markdown":"+1, admit: don&#39;t know/never asked! my best contribution for now: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/mock/mockito/MockitoPostProcessor.java (+ &quot;spring&quot; + &quot;spring test&quot; knowledge)","body":"+1, admit: don&#39;t know/never asked! my best contribution for now: <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-test/src/main/java/org/springframework/boot/test/mock/mockito/MockitoPostProcessor.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a> (+ &quot;spring&quot; + &quot;spring test&quot; knowledge)"}],"answers":[{"tags":[],"owner":{"account_id":27994772,"reputation":111,"user_id":21380272,"display_name":"Dario Arena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679168940,"creation_date":1678572603,"answer_id":75709853,"question_id":75709632,"body_markdown":"To keep things simple it is all done by the spring test integration library that you include in your project. When you launch your test annotated with a Spring annotation (`@SpringBootTest` or `@DataJpaTest` for example) they instruct junit to extends his engine to launch a test &quot;flavour&quot; of the spring boot context. \r\n\r\nThen this context takes care of creating and autowiring &quot;real&quot; dependencies (like when you use the `@Autowired` annotation) or creating mocks and then autowire them instead of real dependencies.","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>To keep things simple it is all done by the spring test integration library that you include in your project. When you launch your test annotated with a Spring annotation (<code>@SpringBootTest</code> or <code>@DataJpaTest</code> for example) they instruct junit to extends his engine to launch a test &quot;flavour&quot; of the spring boot context.</p>\n<p>Then this context takes care of creating and autowiring &quot;real&quot; dependencies (like when you use the <code>@Autowired</code> annotation) or creating mocks and then autowire them instead of real dependencies.</p>\n"},{"tags":[],"owner":{"account_id":20614818,"reputation":216,"user_id":15133183,"display_name":"Kathrin Geilmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678572852,"creation_date":1678572852,"answer_id":75709873,"question_id":75709632,"body_markdown":"Your Testframework runs the same process (i.e. in the same JVM) as your code under test, thus your tests and the testframework can interact without any restrictions (beside the standard jvm ones). \r\nAdditionally Spring provides extensions to e.g. JUnit, to provide easy access and manipulation to beans, context, configuration etc. ","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>Your Testframework runs the same process (i.e. in the same JVM) as your code under test, thus your tests and the testframework can interact without any restrictions (beside the standard jvm ones).\nAdditionally Spring provides extensions to e.g. JUnit, to provide easy access and manipulation to beans, context, configuration etc.</p>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679168940,"creation_date":1678570016,"question_id":75709632,"body_markdown":"I know in the context of integration test on a spring application we can use, among others annotations:\r\n\r\n- `@MockBean`\r\nTo add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context.\r\n\r\n\r\n- `@Autowired`\r\nCan be used to inject a bean from the context\r\n\r\nThis is all very handy and nice but I don&#39;t understand how can this happens / how this is implemented.\r\n\r\nIn my understanding we can test software that runs a **tomcat server** in its own process, when the server spins up **spring** will create and wire up all the beans we defined, the so called **application context**.\r\n\r\nHow can the **application context** be manipulated from another process, the **Junit** process we are running the tests from ?\r\n\r\nHow can we look up beans from there with `@Autowired` and vice versa create beans with `@MockBean` ?\r\n\r\nLooks like somehow the application context is somehow shared by two processes...\r\n\r\nI am sure I am missing some piece of knowledge here, any pointing to resources to help me understand what&#39;s going on would be greatly appreciated.","title":"Under the hood of an integration tests with spring, application context manipulation","body":"<p>I know in the context of integration test on a spring application we can use, among others annotations:</p>\n<ul>\n<li><p><code>@MockBean</code>\nTo add mock objects to the Spring application context. The mock will replace any existing bean of the same type in the application context.</p>\n</li>\n<li><p><code>@Autowired</code>\nCan be used to inject a bean from the context</p>\n</li>\n</ul>\n<p>This is all very handy and nice but I don't understand how can this happens / how this is implemented.</p>\n<p>In my understanding we can test software that runs a <strong>tomcat server</strong> in its own process, when the server spins up <strong>spring</strong> will create and wire up all the beans we defined, the so called <strong>application context</strong>.</p>\n<p>How can the <strong>application context</strong> be manipulated from another process, the <strong>Junit</strong> process we are running the tests from ?</p>\n<p>How can we look up beans from there with <code>@Autowired</code> and vice versa create beans with <code>@MockBean</code> ?</p>\n<p>Looks like somehow the application context is somehow shared by two processes...</p>\n<p>I am sure I am missing some piece of knowledge here, any pointing to resources to help me understand what's going on would be greatly appreciated.</p>\n"},{"tags":["java","rss","barcode","zxing","gs1-databar"],"answers":[{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678569415,"creation_date":1360532268,"answer_id":14802865,"question_id":14802482,"body_markdown":"GS1 Databar Expanded is just the replacement name for what was the RSS Expanded symbology. These are read by the project, but not written, no.\r\n\r\n(*) The RSS family of barcode symbologies were renamed to avoid clashing with the more common use of RSS as an acronym for Really Simple Syndication.\r\n\r\n","title":"Generate GS1 databar expand Barcode in Java?","body":"<p>GS1 Databar Expanded is just the replacement name for what was the RSS Expanded symbology. These are read by the project, but not written, no.</p>\n<p>(*) The RSS family of barcode symbologies were renamed to avoid clashing with the more common use of RSS as an acronym for Really Simple Syndication.</p>\n"}],"owner":{"account_id":334749,"reputation":945,"user_id":661405,"display_name":"fecub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1179,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":14802865,"answer_count":1,"score":2,"last_activity_date":1679168886,"creation_date":1360529739,"question_id":14802482,"body_markdown":"I wan&#39;t to generate a Barcode which is type of GS1 databar expanded. I&#39;m searched in google and didn&#39;t found realy working results. I discover that ZXing gives the possibility to generate different barcodes. I wrote an small code and i can generate barcode for ean128.\r\n\r\n\tpackage de..barcodee128;\r\n\timport java.io.File;\r\n\timport java.io.FileOutputStream;\r\n\timport com.google.zxing.BarcodeFormat;\r\n\timport com.google.zxing.WriterException;\r\n\timport com.google.zxing.client.j2se.MatrixToImageWriter;\r\n\timport com.google.zxing.common.BitMatrix;\r\n\timport com.google.zxing.oned.Code128Writer;\r\n\timport com.google.zxing.oned.Code39Writer;\r\n\timport com.google.zxing.oned.OneDimensionalCodeWriter;\r\n\timport com.google.zxing.oned.rss.expanded.decoders.AbstractExpandedDecoder;\r\n\t\r\n\tpublic class barcode128 {\r\n\t\tpublic static void main(String[] args) {\r\n\t       \r\n\t           int width = 440; \r\n\t           int height = 48;\r\n\t            \r\n\t              \r\n\t           BitMatrix bitMatrix;\r\n\t        try {\r\n\t            bitMatrix = new Code128Writer().encode(&quot;10400550006232515201231&quot;,BarcodeFormat.RSS_EXPANDED,width,height,null);\r\n\t        \tMatrixToImageWriter.writeToStream(bitMatrix, &quot;png&quot;, new FileOutputStream(new File(&quot;C:\\\\Users\\\\fecub\\\\Desktop\\\\zxing_barcode.png&quot;)));\r\n\t        } catch (WriterException e) {\r\n\t            // TODO Auto-generated catch block\r\n\t            e.printStackTrace();\r\n\t        } catch (Exception e) {\r\n\t            // TODO Auto-generated catch block\r\n\t            e.printStackTrace();\r\n\t        } \r\n\t\r\n\t    }\r\n\t\r\n\t}\r\n\r\nBut my question is how to modify this code that gives me to possibility to create GS1 databar expanded barcodes? any idea??","title":"Generate GS1 databar expand Barcode in Java?","body":"<p>I wan't to generate a Barcode which is type of GS1 databar expanded. I'm searched in google and didn't found realy working results. I discover that ZXing gives the possibility to generate different barcodes. I wrote an small code and i can generate barcode for ean128.</p>\n\n<pre><code>package de..barcodee128;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport com.google.zxing.BarcodeFormat;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.oned.Code128Writer;\nimport com.google.zxing.oned.Code39Writer;\nimport com.google.zxing.oned.OneDimensionalCodeWriter;\nimport com.google.zxing.oned.rss.expanded.decoders.AbstractExpandedDecoder;\n\npublic class barcode128 {\n    public static void main(String[] args) {\n\n           int width = 440; \n           int height = 48;\n\n\n           BitMatrix bitMatrix;\n        try {\n            bitMatrix = new Code128Writer().encode(\"10400550006232515201231\",BarcodeFormat.RSS_EXPANDED,width,height,null);\n            MatrixToImageWriter.writeToStream(bitMatrix, \"png\", new FileOutputStream(new File(\"C:\\\\Users\\\\fecub\\\\Desktop\\\\zxing_barcode.png\")));\n        } catch (WriterException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } \n\n    }\n\n}\n</code></pre>\n\n<p>But my question is how to modify this code that gives me to possibility to create GS1 databar expanded barcodes? any idea??</p>\n"},{"tags":["java","spring","junit","spring-boot","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":4157900,"reputation":301,"user_id":3408654,"accept_rate":100,"display_name":"user3408654"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1463146216,"creation_date":1463146216,"answer_id":37211355,"question_id":31058489,"body_markdown":"You could override the value of the port property in the `@BeforeClass` like this:\r\n\r\n    @BeforeClass\r\n    public static void beforeClass() {\r\n        System.setProperty(&quot;zookeeper.port&quot;, getRandomPort());\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>You could override the value of the port property in the <code>@BeforeClass</code> like this:</p>\n\n<pre><code>@BeforeClass\npublic static void beforeClass() {\n    System.setProperty(\"zookeeper.port\", getRandomPort());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553128764,"creation_date":1553128764,"answer_id":55272128,"question_id":31058489,"body_markdown":"The &quot;clean&quot; solution is to use an `ApplicationContextInitializer`.\r\n\r\nSee [this answer](https://stackoverflow.com/a/38013353/2167531) to a similar question.\r\n\r\nSee also [this github issue](https://github.com/spring-projects/spring-boot/issues/7759) asking a similar question.\r\n\r\nTo summarize the above mentioned posts using a real-world example that&#39;s been sanitized to protect copyright holders (I have a REST endpoint which uses an `@Autowired` `DataSource` which needs to use the dynamic properties to know which port the in-memory MySQL database is using):\r\n\r\n1. Your test must declare the initializer (see the `@ContextConfiguration` line below).\r\n\r\n```\r\n// standard spring-boot test stuff\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ActiveProfiles(&quot;local&quot;)\r\n@ContextConfiguration(\r\n        classes = Application.class,\r\n        // declare the initializer to use\r\n        initializers = SpringTestDatabaseInitializer.class)\r\n// use random management port as well so we don&#39;t conflict with other running tests\r\n@TestPropertySource(properties = {&quot;management.port=0&quot;})\r\npublic class SomeSprintTest {\r\n    @LocalServerPort\r\n    private int randomLocalPort;\r\n\r\n    @Value(&quot;${local.management.port}&quot;)\r\n    private int randomManagementPort;\r\n\r\n    @Test\r\n    public void testThatDoesSomethingUseful() {\r\n        // now ping your service that talks to the dynamic resource\r\n    }\r\n}\r\n```\r\n\r\n2. Your initializer needs to add the dynamic properties to your environment. Don&#39;t forget to add a shutdown hook for any cleanup that needs to run. Following is an example that sets up an in-memory database using a custom `DatabaseObject` class.\r\n\r\n```\r\npublic class SpringTestDatabaseInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\r\n\r\n    private static final int INITIAL_PORT = 0; // bind to an ephemeral port\r\n    private static final String DB_USERNAME = &quot;username&quot;;\r\n    private static final String DB_PASSWORD = &quot;password-to-use&quot;;\r\n    private static final String DB_SCHEMA_NAME = &quot;default-schema&quot;;\r\n\r\n    @Override\r\n    public void initialize(ConfigurableApplicationContext applicationContext) {\r\n        DatabaseObject databaseObject = new InMemoryDatabaseObject(INITIAL_PORT, DB_USERNAME, DB_PASSWORD, DB_SCHEMA_NAME);\r\n        registerShutdownHook(databaseObject);\r\n        int databasePort = startDatabase(databaseObject);\r\n        addDatabasePropertiesToEnvironment(applicationContext, databasePort);\r\n    }\r\n\r\n    private static void addDatabasePropertiesToEnvironment(ConfigurableApplicationContext applicationContext, int databasePort) {\r\n        String url = String.format(&quot;jdbc:mysql://localhost:%s/%s&quot;, databasePort, DB_SCHEMA_NAME);\r\n        System.out.println(&quot;Adding db props to environment for url: &quot; + url);\r\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\r\n                applicationContext,\r\n                &quot;db.port=&quot; + databasePort,\r\n                &quot;db.schema=&quot; + DB_SCHEMA_NAME,\r\n                &quot;db.url=&quot; + url,\r\n                &quot;db.username=&quot; + DB_USERNAME,\r\n                &quot;db.password=&quot; + DB_PASSWORD);\r\n    }\r\n\r\n    private static int startDatabase(DatabaseObject database) {\r\n        try {\r\n            database.start();\r\n            return database.getBoundPort();\r\n        } catch (Exception e) {\r\n            throw new IllegalStateException(&quot;Failed to start database&quot;, e);\r\n        }\r\n    }\r\n\r\n    private static void registerShutdownHook(DatabaseObject databaseObject) {\r\n        Runnable shutdownTask = () -&gt; {\r\n            try {\r\n                int boundPort = databaseObject.getBoundPort();\r\n                System.out.println(&quot;Shutting down database at port: &quot; + boundPort);\r\n                databaseObject.stop();\r\n            } catch (Exception e) {\r\n                // nothing to do here\r\n            }\r\n        };\r\n\r\n        Thread shutdownThread = new Thread(shutdownTask, &quot;Database Shutdown Thread&quot;);\r\n        Runtime.getRuntime().addShutdownHook(shutdownThread);\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I look at the logs, it shows that for both of my tests that use this initializer class, they use the same object (the `initialize` method only gets called once, as does the shutdown hook). So it starts up a database, and leaves it running until both tests finish, then shuts the database down.","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>The \"clean\" solution is to use an <code>ApplicationContextInitializer</code>.</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/38013353/2167531\">this answer</a> to a similar question.</p>\n\n<p>See also <a href=\"https://github.com/spring-projects/spring-boot/issues/7759\" rel=\"nofollow noreferrer\">this github issue</a> asking a similar question.</p>\n\n<p>To summarize the above mentioned posts using a real-world example that's been sanitized to protect copyright holders (I have a REST endpoint which uses an <code>@Autowired</code> <code>DataSource</code> which needs to use the dynamic properties to know which port the in-memory MySQL database is using):</p>\n\n<ol>\n<li>Your test must declare the initializer (see the <code>@ContextConfiguration</code> line below).</li>\n</ol>\n\n<pre><code>// standard spring-boot test stuff\n@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ActiveProfiles(\"local\")\n@ContextConfiguration(\n        classes = Application.class,\n        // declare the initializer to use\n        initializers = SpringTestDatabaseInitializer.class)\n// use random management port as well so we don't conflict with other running tests\n@TestPropertySource(properties = {\"management.port=0\"})\npublic class SomeSprintTest {\n    @LocalServerPort\n    private int randomLocalPort;\n\n    @Value(\"${local.management.port}\")\n    private int randomManagementPort;\n\n    @Test\n    public void testThatDoesSomethingUseful() {\n        // now ping your service that talks to the dynamic resource\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Your initializer needs to add the dynamic properties to your environment. Don't forget to add a shutdown hook for any cleanup that needs to run. Following is an example that sets up an in-memory database using a custom <code>DatabaseObject</code> class.</li>\n</ol>\n\n<pre><code>public class SpringTestDatabaseInitializer implements ApplicationContextInitializer&lt;ConfigurableApplicationContext&gt; {\n\n    private static final int INITIAL_PORT = 0; // bind to an ephemeral port\n    private static final String DB_USERNAME = \"username\";\n    private static final String DB_PASSWORD = \"password-to-use\";\n    private static final String DB_SCHEMA_NAME = \"default-schema\";\n\n    @Override\n    public void initialize(ConfigurableApplicationContext applicationContext) {\n        DatabaseObject databaseObject = new InMemoryDatabaseObject(INITIAL_PORT, DB_USERNAME, DB_PASSWORD, DB_SCHEMA_NAME);\n        registerShutdownHook(databaseObject);\n        int databasePort = startDatabase(databaseObject);\n        addDatabasePropertiesToEnvironment(applicationContext, databasePort);\n    }\n\n    private static void addDatabasePropertiesToEnvironment(ConfigurableApplicationContext applicationContext, int databasePort) {\n        String url = String.format(\"jdbc:mysql://localhost:%s/%s\", databasePort, DB_SCHEMA_NAME);\n        System.out.println(\"Adding db props to environment for url: \" + url);\n        TestPropertySourceUtils.addInlinedPropertiesToEnvironment(\n                applicationContext,\n                \"db.port=\" + databasePort,\n                \"db.schema=\" + DB_SCHEMA_NAME,\n                \"db.url=\" + url,\n                \"db.username=\" + DB_USERNAME,\n                \"db.password=\" + DB_PASSWORD);\n    }\n\n    private static int startDatabase(DatabaseObject database) {\n        try {\n            database.start();\n            return database.getBoundPort();\n        } catch (Exception e) {\n            throw new IllegalStateException(\"Failed to start database\", e);\n        }\n    }\n\n    private static void registerShutdownHook(DatabaseObject databaseObject) {\n        Runnable shutdownTask = () -&gt; {\n            try {\n                int boundPort = databaseObject.getBoundPort();\n                System.out.println(\"Shutting down database at port: \" + boundPort);\n                databaseObject.stop();\n            } catch (Exception e) {\n                // nothing to do here\n            }\n        };\n\n        Thread shutdownThread = new Thread(shutdownTask, \"Database Shutdown Thread\");\n        Runtime.getRuntime().addShutdownHook(shutdownThread);\n    }\n\n}\n</code></pre>\n\n<p>When I look at the logs, it shows that for both of my tests that use this initializer class, they use the same object (the <code>initialize</code> method only gets called once, as does the shutdown hook). So it starts up a database, and leaves it running until both tests finish, then shuts the database down.</p>\n"},{"tags":[],"owner":{"account_id":11821692,"reputation":2574,"user_id":8650621,"display_name":"Felipe Desiderati"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1587000073,"creation_date":1585616388,"answer_id":60941845,"question_id":31058489,"body_markdown":"Thanks to the changes made in Spring Framework 5.2.5, the use of @ContextConfiguration and the ApplicationContextInitializer can be replaced with a static @DynamicPropertySource method that serves the same purpose. \r\n\r\n    @SpringBootTest\r\n    @Testcontainers\r\n    class SomeSprintTest {\r\n\r\n        @Container\r\n        static LocalStackContainer localStack = \r\n            new LocalStackContainer().withServices(LocalStackContainer.Service.S3);\r\n\r\n        @DynamicPropertySource\r\n        static void initialize(DynamicPropertyRegistry registry) {\r\n            AwsClientBuilder.EndpointConfiguration endpointConfiguration = \r\n                localStack.getEndpointConfiguration(LocalStackContainer.Service.S3);\r\n\r\n            registry.add(&quot;cloud.aws.s3.default-endpoint&quot;, endpointConfiguration::getServiceEndpoint);\r\n        }\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>Thanks to the changes made in Spring Framework 5.2.5, the use of @ContextConfiguration and the ApplicationContextInitializer can be replaced with a static @DynamicPropertySource method that serves the same purpose. </p>\n\n<pre><code>@SpringBootTest\n@Testcontainers\nclass SomeSprintTest {\n\n    @Container\n    static LocalStackContainer localStack = \n        new LocalStackContainer().withServices(LocalStackContainer.Service.S3);\n\n    @DynamicPropertySource\n    static void initialize(DynamicPropertyRegistry registry) {\n        AwsClientBuilder.EndpointConfiguration endpointConfiguration = \n            localStack.getEndpointConfiguration(LocalStackContainer.Service.S3);\n\n        registry.add(\"cloud.aws.s3.default-endpoint\", endpointConfiguration::getServiceEndpoint);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587383200,"creation_date":1587383200,"answer_id":61321736,"question_id":31058489,"body_markdown":"As of Spring Framework 5.2.5 and Spring Boot 2.2.6 you can use `Dynamic Properties` in tests:\r\n\r\n    @DynamicPropertySource\r\n    static void dynamicProperties(DynamicPropertyRegistry registry) {\r\n        registry.add(&quot;property.name&quot;, &quot;value&quot;);\r\n    }","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>As of Spring Framework 5.2.5 and Spring Boot 2.2.6 you can use <code>Dynamic Properties</code> in tests:</p>\n\n<pre><code>@DynamicPropertySource\nstatic void dynamicProperties(DynamicPropertyRegistry registry) {\n    registry.add(\"property.name\", \"value\");\n}\n</code></pre>\n"}],"owner":{"account_id":363106,"reputation":2483,"user_id":706650,"accept_rate":56,"display_name":"mabn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9339,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1679168809,"creation_date":1435258280,"question_id":31058489,"body_markdown":"I want to override properties defined in `application.properties` in tests, but `@TestPropertySource` only allows to provide predefined values.\r\n\r\nWhat I need is to start a server on a random port N, then pass this port to spring-boot application. The port has to be ephemeral to allow running multiple tests on the same host at the same time.\r\n\r\nI don&#39;t mean the embedded http server (jetty), but some different server that is started at the beginning of the test (e.g. zookeeper) and the application being tested has to connect to it.\r\n\r\nWhat&#39;s the best way to achieve this?\r\n\r\nHere&#39;s a similar question: \r\n\r\n* https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test\r\n\r\nBut the answers do not mention a solution for ephemeral ports","title":"Override default Spring-Boot application.properties settings in Junit Test with dynamic value","body":"<p>I want to override properties defined in <code>application.properties</code> in tests, but <code>@TestPropertySource</code> only allows to provide predefined values.</p>\n<p>What I need is to start a server on a random port N, then pass this port to spring-boot application. The port has to be ephemeral to allow running multiple tests on the same host at the same time.</p>\n<p>I don't mean the embedded http server (jetty), but some different server that is started at the beginning of the test (e.g. zookeeper) and the application being tested has to connect to it.</p>\n<p>What's the best way to achieve this?</p>\n<p>Here's a similar question:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/29669393/override-default-spring-boot-application-properties-settings-in-junit-test\">Override default Spring-Boot application.properties settings in Junit Test</a></li>\n</ul>\n<p>But the answers do not mention a solution for ephemeral ports</p>\n"},{"tags":["java","hibernate","postgresql"],"comments":[{"owner":{"account_id":1640947,"reputation":28880,"user_id":1513384,"accept_rate":96,"display_name":"ntalbs"},"score":0,"creation_date":1363222261,"post_id":15399231,"comment_id":21770285,"body_markdown":"It seems that when you delete single row it uses other index. Can you check it?","body":"It seems that when you delete single row it uses other index. Can you check it?"},{"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"score":0,"creation_date":1363281811,"post_id":15399231,"comment_id":21798392,"body_markdown":"I&#39;ve added information about single row by row deletes. The MAX(id) of the table is 3774904, so I just picked a number larger. I tried the same with an ID below 3774904 but wasn&#39;t in the table and got similar results (similar results for an ID in the table).","body":"I&#39;ve added information about single row by row deletes. The MAX(id) of the table is 3774904, so I just picked a number larger. I tried the same with an ID below 3774904 but wasn&#39;t in the table and got similar results (similar results for an ID in the table)."},{"owner":{"account_id":1883524,"reputation":1135,"user_id":1703195,"accept_rate":60,"display_name":"drone.ah"},"score":1,"creation_date":1363772598,"post_id":15399231,"comment_id":21981363,"body_markdown":"yes, 0.162 vs 0.452 *is* significant since 0.452 is almost 3 times longer than 0.162. It is particularly interesting that the explain suggests that they are doing the same thing a well. I would raise this with the postgresql team. The [pgsql-general](http://www.postgresql.org/community/lists/) is probably a good place","body":"yes, 0.162 vs 0.452 <i>is</i> significant since 0.452 is almost 3 times longer than 0.162. It is particularly interesting that the explain suggests that they are doing the same thing a well. I would raise this with the postgresql team. The <a href=\"http://www.postgresql.org/community/lists/\" rel=\"nofollow noreferrer\">pgsql-general</a> is probably a good place"}],"answers":[{"tags":[],"owner":{"account_id":1750416,"reputation":25628,"user_id":1599619,"accept_rate":100,"display_name":"Chris Travers"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363765742,"creation_date":1363765742,"answer_id":15517990,"question_id":15399231,"body_markdown":"Ok, the first thing you have to note is that SQL has to get converted into a plan in some way.  Your EXPLAIN results suggest that the logic here is fundamentally different for an equality compared to an IN(vals) construct.\r\n\r\n    WHERE id = 1;\r\n\r\nIs transformed to a simple equality filter. \r\n\r\n    WHERE id IN (1);\r\n\r\nIs transformed into an array match of:\r\n\r\n    WHERE id = ANY(ARRAY[1]);\r\n\r\nApparently the planner is not smart enough to notice that these are mathematically identical where an array has exactly one member.  So what it&#39;s doing is planning for an array of any size which is why you get the nested loop bitmap index scan.\r\n\r\nWhat&#39;s interesting here is not just that it is slower but that performance holds out better for the most part.  So with one member in the in() clause, it is 40 times slower, and with 10000 members, it is only 170 times slower, but that also means that the 10000 member version is also 50 times *faster* than 10000 separate index scans on id.\r\n\r\nSo what is happening here is that the planner is selecting a plan which performs better when there are a large number of id&#39;s checked but performs more poorly when there are only a few.","title":"Hibernate batch-delete vs single delete","body":"<p>Ok, the first thing you have to note is that SQL has to get converted into a plan in some way.  Your EXPLAIN results suggest that the logic here is fundamentally different for an equality compared to an IN(vals) construct.</p>\n\n<pre><code>WHERE id = 1;\n</code></pre>\n\n<p>Is transformed to a simple equality filter. </p>\n\n<pre><code>WHERE id IN (1);\n</code></pre>\n\n<p>Is transformed into an array match of:</p>\n\n<pre><code>WHERE id = ANY(ARRAY[1]);\n</code></pre>\n\n<p>Apparently the planner is not smart enough to notice that these are mathematically identical where an array has exactly one member.  So what it's doing is planning for an array of any size which is why you get the nested loop bitmap index scan.</p>\n\n<p>What's interesting here is not just that it is slower but that performance holds out better for the most part.  So with one member in the in() clause, it is 40 times slower, and with 10000 members, it is only 170 times slower, but that also means that the 10000 member version is also 50 times <em>faster</em> than 10000 separate index scans on id.</p>\n\n<p>So what is happening here is that the planner is selecting a plan which performs better when there are a large number of id's checked but performs more poorly when there are only a few.</p>\n"},{"tags":[],"owner":{"account_id":4475,"reputation":51667,"user_id":6742,"accept_rate":50,"display_name":"David Aldridge"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363768320,"creation_date":1363768320,"answer_id":15518636,"question_id":15399231,"body_markdown":"If the problem here really boils down to &quot;how do I delete a lot of records as quickly as possible?&quot; then the DELETE ... IN() method is going to be superior to deletions for each individual row, so pursuing the reasons why IN(?) with a single member appears to be slower than =? is not going to help you.\r\n\r\nIt may be worth exploring the use of a temporary table to hold all of the id&#39;s that you want to delete, then running a single delete.\r\n\r\nIf it&#39;s not too costly, arranging that the id&#39;s in the list are in ascending order may be helpful for very large delete performance. Don&#39;t bother if you have to go sorting them, but if there&#39;s a way of ensuring that each batch of deletes addresses id&#39;s that are clustered in the same area of the index may be slightly beneficial.\r\n\r\nIn any case, it looks to me like the indexes are being used and the same plan generated in both cases, so I wonder if there&#39;s actually a query parsing and optimisation issue here, rather than an issue with the delete action itself. I don&#39;t know enough about the internals to be sure I&#39;m afraid.","title":"Hibernate batch-delete vs single delete","body":"<p>If the problem here really boils down to \"how do I delete a lot of records as quickly as possible?\" then the DELETE ... IN() method is going to be superior to deletions for each individual row, so pursuing the reasons why IN(?) with a single member appears to be slower than =? is not going to help you.</p>\n\n<p>It may be worth exploring the use of a temporary table to hold all of the id's that you want to delete, then running a single delete.</p>\n\n<p>If it's not too costly, arranging that the id's in the list are in ascending order may be helpful for very large delete performance. Don't bother if you have to go sorting them, but if there's a way of ensuring that each batch of deletes addresses id's that are clustered in the same area of the index may be slightly beneficial.</p>\n\n<p>In any case, it looks to me like the indexes are being used and the same plan generated in both cases, so I wonder if there's actually a query parsing and optimisation issue here, rather than an issue with the delete action itself. I don't know enough about the internals to be sure I'm afraid.</p>\n"},{"tags":[],"owner":{"account_id":16046207,"reputation":1,"user_id":13757532,"display_name":"Vinode Singh Ujlain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679168732,"creation_date":1678695629,"answer_id":75719418,"question_id":15399231,"body_markdown":"Curious, I too was having a similar dilemma *i.e* use multiple delete with `;` as SQL seprator or run a single delete query with `IN ()` clause.\r\n \r\n***Experiment (Python code connects with Sql Server using pyTDS):***\r\n- Loop 20 times \r\n- Truncate table\r\n- 500 rows insert\r\n- Record Start time\r\n- Delete rows based primary key\r\n- Record Stop time. Time taken = stop time – start time\r\n\r\nTake an average of the time taken for all 20 loops. Carry out above delete experiment using both `;` and `IN` clause. The results are as appended below:\r\n\r\n    Loops 20 .. per loop rows 500\r\n    Method  ;; , TT 02.66 .. Average time taken 00.13 Sec\r\n    Method  in , TT 01.10 .. Average time taken 00.05 Sec\r\n\r\n**In all runs , I found delete using IN clause to be faster.**","title":"Hibernate batch-delete vs single delete","body":"<p>Curious, I too was having a similar dilemma <em>i.e</em> use multiple delete with <code>;</code> as SQL seprator or run a single delete query with <code>IN ()</code> clause.</p>\n<p><em><strong>Experiment (Python code connects with Sql Server using pyTDS):</strong></em></p>\n<ul>\n<li>Loop 20 times</li>\n<li>Truncate table</li>\n<li>500 rows insert</li>\n<li>Record Start time</li>\n<li>Delete rows based primary key</li>\n<li>Record Stop time. Time taken = stop time – start time</li>\n</ul>\n<p>Take an average of the time taken for all 20 loops. Carry out above delete experiment using both <code>;</code> and <code>IN</code> clause. The results are as appended below:</p>\n<pre><code>Loops 20 .. per loop rows 500\nMethod  ;; , TT 02.66 .. Average time taken 00.13 Sec\nMethod  in , TT 01.10 .. Average time taken 00.05 Sec\n</code></pre>\n<p><strong>In all runs , I found delete using IN clause to be faster.</strong></p>\n"}],"owner":{"account_id":30414,"reputation":7712,"user_id":82952,"accept_rate":77,"display_name":"nevets1219"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8490,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1679168732,"creation_date":1363221800,"question_id":15399231,"body_markdown":"EDIT: Based on some of my debugging and logging, I think the question boils down to why is `DELETE FROM table WHERE id = x` much faster than `DELETE FROM table WHERE id IN (x)` where `x` is just a single ID.\r\n\r\nI recently tested batch-delete versus deleting each row one by one and noticed that batch-delete was much slower. The table had triggers for delete, update, and insert but I&#39;ve tested with and without the triggers and each time batch-delete was slower. **Can anyone shed some light on why this is the case or share tips on how I can debug this?** From what I understand, I can&#39;t really reduce the number of times the trigger activates but I had originally figured that lowering the number of &quot;delete&quot; query would help with the performance.\r\n\r\nI&#39;ve included some information below, please let me know if I&#39;ve left out anything relevant.\r\n\r\nDeletion are done in batches of 10,000 and the code look something like :\r\n\r\n    private void batchDeletion( Collection&lt;Long&gt; ids ) {\r\n      StringBuilder sb = new StringBuilder();\r\n      sb.append( &quot;DELETE FROM ObjImpl WHERE id IN (:ids)&quot; );\r\n    \r\n      Query sql = getSession().createQuery( sb.toString() );\r\n      sql.setParameterList( &quot;ids&quot;, ids );\r\n    \r\n      sql.executeUpdate();\r\n    }\r\nThe code to delete just a single row is basically:\r\n\r\n    SessionFactory.getCurrentSession().delete(obj);\r\n\r\nThe table has two indexes which is not used in any of the deletion. No cascade operation will occur.\r\n\r\nHere is a sample of the EXPLAIN ANALYZE of `DELETE FROM table where id IN ( 1, 2, 3 );`:\r\n\r\n    Delete on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.143..0.143 rows=0 loops=1)\r\n      -&gt;  Bitmap Heap Scan on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.138..0.138 rows=0 loops=1)\r\n            Recheck Cond: (id = ANY (&#39;{1,2,3}&#39;::bigint[]))\r\n            -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..12.82 rows=3 width=0) (actual time=0.114..0.114 rows=0 loops=1)\r\n                  Index Cond: (id = ANY (&#39;{1,2,3}&#39;::bigint[]))\r\n    Total runtime: 3.926 ms\r\n\r\n\r\nI&#39;ve vacuumed and reindexed each time I reload my data for testing and my test data contains 386,660 rows.\r\n\r\nThe test is to delete all the rows and I&#39;m not using `TRUNCATE` because normally there&#39;s a selection criteria but for testing purposes, I&#39;ve made the criteria include all rows. With triggers enabled, deleting each row one by one took 193,616ms whereas batch-delete took 285,558ms. I then disabled the triggers and got 93,793ms for single row deletes and 181,537ms for batch-delete. The trigger goes and sums up values and updates another table - basically bookkeeping.\r\n\r\nI&#39;ve played around with lower batch sizes (100 and 1) and they all seem to perform worse.\r\n\r\nEDIT: Turned on Hibernate logging and for single row by row deletes, it&#39;s basically doing: `delete from table where id=?` and the EXPLAIN ANALYZE:\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.042..0.042 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.037..0.037 rows=0 loops=1)\r\n            Index Cond: (id = 3874904)\r\n    Total runtime: 0.130 ms\r\n\r\nEDIT: Was curious if the list actually contained 10,000 ID, if Postgres would do something different: nope.\r\n\r\n    Delete on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.170..17.170 rows=0 loops=1)\r\n      -&gt;  Bitmap Heap Scan on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.160..17.160 rows=0 loops=1)\r\n            Recheck Cond: (id = ANY (&#39;{NUMBERS 1 THROUGH 10,000}&#39;::bigint[]))\r\n            -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..6839.54 rows=9872 width=0) (actual time=17.139..17.139 rows=0 loops=1)\r\n                  Index Cond: (id = ANY (&#39;{NUMBERS 1 THROUGH 10,000}&#39;::bigint[]))\r\n    Total runtime: 17.391 ms\r\n\r\nEDIT: Based on the EXPLAIN ANALYZE of the above, I&#39;ve retrieved some logging from the actual delete operations. Below is logging of two variation of single row by row deletes.\r\n\r\nHere are some single deletes:\r\n\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n    2013-03-14 13:09:25,424:delete from table where id=?\r\n\r\nHere is the other variation of single deletes (the list is just 1 item)\r\n    \r\n    2013-03-14 13:49:59,858:delete from table where id in (?)\r\n    2013-03-14 13:50:01,460:delete from table where id in (?)\r\n    2013-03-14 13:50:03,040:delete from table where id in (?)\r\n    2013-03-14 13:50:04,544:delete from table where id in (?)\r\n    2013-03-14 13:50:06,125:delete from table where id in (?)\r\n    2013-03-14 13:50:07,707:delete from table where id in (?)\r\n    2013-03-14 13:50:09,275:delete from table where id in (?)\r\n    2013-03-14 13:50:10,833:delete from table where id in (?)\r\n    2013-03-14 13:50:12,369:delete from table where id in (?)\r\n    2013-03-14 13:50:13,873:delete from table where id in (?)\r\n\r\nBoth are IDs that exists in the table and should be sequential.\r\n\r\n----------\r\n\r\nEXPLAIN ANALYZE of `DELETE FROM table WHERE id = 3774887;`\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.097..0.097 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.055..0.058 rows=1 loops=1)\r\n            Index Cond: (id = 3774887)\r\n    Total runtime: 0.162 ms\r\n    \r\nEXPLAIN ANALYZE of `DELETE FROM table WHERE id IN (3774887);`\r\n\r\n    Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.279..0.279 rows=0 loops=1)\r\n      -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.210..0.213 rows=1 loops=1)\r\n            Index Cond: (id = 3774887)\r\n    Total runtime: 0.452 ms\r\n\r\n0.162 vs 0.452 considered significant difference?\r\n\r\nEDIT:\r\n\r\nSet batch size to 50,000 and Hibernate didn&#39;t like that idea:\r\n\r\n    java.lang.StackOverflowError\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:40)\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:41)\r\n            at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:42)\r\n    ....","title":"Hibernate batch-delete vs single delete","body":"<p>EDIT: Based on some of my debugging and logging, I think the question boils down to why is <code>DELETE FROM table WHERE id = x</code> much faster than <code>DELETE FROM table WHERE id IN (x)</code> where <code>x</code> is just a single ID.</p>\n\n<p>I recently tested batch-delete versus deleting each row one by one and noticed that batch-delete was much slower. The table had triggers for delete, update, and insert but I've tested with and without the triggers and each time batch-delete was slower. <strong>Can anyone shed some light on why this is the case or share tips on how I can debug this?</strong> From what I understand, I can't really reduce the number of times the trigger activates but I had originally figured that lowering the number of \"delete\" query would help with the performance.</p>\n\n<p>I've included some information below, please let me know if I've left out anything relevant.</p>\n\n<p>Deletion are done in batches of 10,000 and the code look something like :</p>\n\n<pre><code>private void batchDeletion( Collection&lt;Long&gt; ids ) {\n  StringBuilder sb = new StringBuilder();\n  sb.append( \"DELETE FROM ObjImpl WHERE id IN (:ids)\" );\n\n  Query sql = getSession().createQuery( sb.toString() );\n  sql.setParameterList( \"ids\", ids );\n\n  sql.executeUpdate();\n}\n</code></pre>\n\n<p>The code to delete just a single row is basically:</p>\n\n<pre><code>SessionFactory.getCurrentSession().delete(obj);\n</code></pre>\n\n<p>The table has two indexes which is not used in any of the deletion. No cascade operation will occur.</p>\n\n<p>Here is a sample of the EXPLAIN ANALYZE of <code>DELETE FROM table where id IN ( 1, 2, 3 );</code>:</p>\n\n<pre><code>Delete on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.143..0.143 rows=0 loops=1)\n  -&gt;  Bitmap Heap Scan on table  (cost=12.82..24.68 rows=3 width=6) (actual time=0.138..0.138 rows=0 loops=1)\n        Recheck Cond: (id = ANY ('{1,2,3}'::bigint[]))\n        -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..12.82 rows=3 width=0) (actual time=0.114..0.114 rows=0 loops=1)\n              Index Cond: (id = ANY ('{1,2,3}'::bigint[]))\nTotal runtime: 3.926 ms\n</code></pre>\n\n<p>I've vacuumed and reindexed each time I reload my data for testing and my test data contains 386,660 rows.</p>\n\n<p>The test is to delete all the rows and I'm not using <code>TRUNCATE</code> because normally there's a selection criteria but for testing purposes, I've made the criteria include all rows. With triggers enabled, deleting each row one by one took 193,616ms whereas batch-delete took 285,558ms. I then disabled the triggers and got 93,793ms for single row deletes and 181,537ms for batch-delete. The trigger goes and sums up values and updates another table - basically bookkeeping.</p>\n\n<p>I've played around with lower batch sizes (100 and 1) and they all seem to perform worse.</p>\n\n<p>EDIT: Turned on Hibernate logging and for single row by row deletes, it's basically doing: <code>delete from table where id=?</code> and the EXPLAIN ANALYZE:</p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.042..0.042 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.037..0.037 rows=0 loops=1)\n        Index Cond: (id = 3874904)\nTotal runtime: 0.130 ms\n</code></pre>\n\n<p>EDIT: Was curious if the list actually contained 10,000 ID, if Postgres would do something different: nope.</p>\n\n<pre><code>Delete on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.170..17.170 rows=0 loops=1)\n  -&gt;  Bitmap Heap Scan on table  (cost=6842.01..138509.15 rows=9872 width=6) (actual time=17.160..17.160 rows=0 loops=1)\n        Recheck Cond: (id = ANY ('{NUMBERS 1 THROUGH 10,000}'::bigint[]))\n        -&gt;  Bitmap Index Scan on pk_table  (cost=0.00..6839.54 rows=9872 width=0) (actual time=17.139..17.139 rows=0 loops=1)\n              Index Cond: (id = ANY ('{NUMBERS 1 THROUGH 10,000}'::bigint[]))\nTotal runtime: 17.391 ms\n</code></pre>\n\n<p>EDIT: Based on the EXPLAIN ANALYZE of the above, I've retrieved some logging from the actual delete operations. Below is logging of two variation of single row by row deletes.</p>\n\n<p>Here are some single deletes:</p>\n\n<pre><code>2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n2013-03-14 13:09:25,424:delete from table where id=?\n</code></pre>\n\n<p>Here is the other variation of single deletes (the list is just 1 item)</p>\n\n<pre><code>2013-03-14 13:49:59,858:delete from table where id in (?)\n2013-03-14 13:50:01,460:delete from table where id in (?)\n2013-03-14 13:50:03,040:delete from table where id in (?)\n2013-03-14 13:50:04,544:delete from table where id in (?)\n2013-03-14 13:50:06,125:delete from table where id in (?)\n2013-03-14 13:50:07,707:delete from table where id in (?)\n2013-03-14 13:50:09,275:delete from table where id in (?)\n2013-03-14 13:50:10,833:delete from table where id in (?)\n2013-03-14 13:50:12,369:delete from table where id in (?)\n2013-03-14 13:50:13,873:delete from table where id in (?)\n</code></pre>\n\n<p>Both are IDs that exists in the table and should be sequential.</p>\n\n<hr>\n\n<p>EXPLAIN ANALYZE of <code>DELETE FROM table WHERE id = 3774887;</code></p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.097..0.097 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.055..0.058 rows=1 loops=1)\n        Index Cond: (id = 3774887)\nTotal runtime: 0.162 ms\n</code></pre>\n\n<p>EXPLAIN ANALYZE of <code>DELETE FROM table WHERE id IN (3774887);</code></p>\n\n<pre><code>Delete on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.279..0.279 rows=0 loops=1)\n  -&gt;  Index Scan using pk_table on table  (cost=0.00..8.31 rows=1 width=6) (actual time=0.210..0.213 rows=1 loops=1)\n        Index Cond: (id = 3774887)\nTotal runtime: 0.452 ms\n</code></pre>\n\n<p>0.162 vs 0.452 considered significant difference?</p>\n\n<p>EDIT:</p>\n\n<p>Set batch size to 50,000 and Hibernate didn't like that idea:</p>\n\n<pre><code>java.lang.StackOverflowError\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:40)\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:41)\n        at org.hibernate.hql.ast.util.NodeTraverser.visitDepthFirst(NodeTraverser.java:42)\n....\n</code></pre>\n"},{"tags":["java","gs1-ai-syntax","gs1-qr-code"],"answers":[{"tags":[],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1574079657,"creation_date":1574079657,"answer_id":58914458,"question_id":58802239,"body_markdown":"The library I used ([gs1Utils][1]) is working fine. \r\n\r\nThe biggest misconception that I had, was that the [GS1][2] barcode prototype adds check digits in the end, in all Application Identifiers (AI). But it doesn&#39;t!\r\n\r\nIn my case, the GTIN has AI `01` and the check digit is calculated based on this [simple algorithm][3]:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nSo the code `0100145074001` has check digit `9` and the :\r\n\r\n    result.getString(ApplicationIdentifier.CONTAINED_GTIN)\r\n\r\nreturns `01001450740019`.\r\n\r\nAll my codes have fix length (13). So, the answer to my question is to read the first 13 characters...\r\n\r\n    String myCode = result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);\r\n\r\n\r\n  [1]: https://github.com/tmattsson/gs1utils\r\n  [2]: https://www.gs1.org/\r\n  [3]: https://www.gs1.org/services/how-calculate-check-digit-manually\r\n  [4]: https://i.stack.imgur.com/YGUYG.jpg","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>The library I used (<a href=\"https://github.com/tmattsson/gs1utils\" rel=\"nofollow noreferrer\">gs1Utils</a>) is working fine. </p>\n\n<p>The biggest misconception that I had, was that the <a href=\"https://www.gs1.org/\" rel=\"nofollow noreferrer\">GS1</a> barcode prototype adds check digits in the end, in all Application Identifiers (AI). But it doesn't!</p>\n\n<p>In my case, the GTIN has AI <code>01</code> and the check digit is calculated based on this <a href=\"https://www.gs1.org/services/how-calculate-check-digit-manually\" rel=\"nofollow noreferrer\">simple algorithm</a>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YGUYG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGUYG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>So the code <code>0100145074001</code> has check digit <code>9</code> and the :</p>\n\n<pre><code>result.getString(ApplicationIdentifier.CONTAINED_GTIN)\n</code></pre>\n\n<p>returns <code>01001450740019</code>.</p>\n\n<p>All my codes have fix length (13). So, the answer to my question is to read the first 13 characters...</p>\n\n<pre><code>String myCode = result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14937684,"reputation":541,"user_id":10785239,"display_name":"I&#39;m_Pratik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574080752,"creation_date":1574080752,"answer_id":58914770,"question_id":58802239,"body_markdown":"You can use `String.substring` method to get the required character from the given String\r\n\r\n    System.out.println(&quot;CONTAINED_GTIN= &quot; + result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13));","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>You can use <code>String.substring</code> method to get the required character from the given String</p>\n\n<pre><code>System.out.println(\"CONTAINED_GTIN= \" + result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2589112,"reputation":389,"user_id":2244175,"display_name":"Michael Angelos Simos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1574270067,"creation_date":1574270067,"answer_id":58959923,"question_id":58802239,"body_markdown":"You can jsut read the first characters, as the specific formatting originates from your QRCode generator. \r\n\r\nUsing `result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);`\r\nShould do the trick\r\n\r\nHowever, the check-digit can be used for a validation check. It&#39;s worth adding a:\r\n```\r\nCheckDigit.validate(ApplicationIdentifier.CONTAINED_GTIN)\r\n```\r\nline somewhere, for avoiding input issues in future ;)\r\n\r\n- [More info on `CheckDigit.validate`](https://github.com/tmattsson/gs1utils#check-digits)\r\n- [GS1 spec](https://www.gs1.org/standards/barcodes-epcrfid-id-keys/gs1-general-specifications)","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>You can jsut read the first characters, as the specific formatting originates from your QRCode generator. </p>\n\n<p>Using <code>result.getString(ApplicationIdentifier.CONTAINED_GTIN).substring(0, 13);</code>\nShould do the trick</p>\n\n<p>However, the check-digit can be used for a validation check. It's worth adding a:</p>\n\n<pre><code>CheckDigit.validate(ApplicationIdentifier.CONTAINED_GTIN)\n</code></pre>\n\n<p>line somewhere, for avoiding input issues in future ;)</p>\n\n<ul>\n<li><a href=\"https://github.com/tmattsson/gs1utils#check-digits\" rel=\"nofollow noreferrer\">More info on <code>CheckDigit.validate</code></a></li>\n<li><a href=\"https://www.gs1.org/standards/barcodes-epcrfid-id-keys/gs1-general-specifications\" rel=\"nofollow noreferrer\">GS1 spec</a></li>\n</ul>\n"}],"owner":{"account_id":3062593,"reputation":5406,"user_id":2594961,"accept_rate":88,"display_name":"yaylitzis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":58959923,"answer_count":3,"score":2,"last_activity_date":1679168679,"creation_date":1573478589,"question_id":58802239,"body_markdown":"I am trying to read a QRCode in `GS1` format. When I built the QR Code for the identifier `(01)` with the value `0100145074001`, my QRCode generator adds in the end a check digit `9`. So the result is:\r\n\r\n    01001450740019\r\n\r\nNow, I try to parse this QRCode in my Java Program. I found this library [gs1Utils][1] and when I execute the following :\r\n\r\n    String brc = &quot;0101001450740019&quot;;\r\n    ElementStrings.ParseResult result = ElementStrings.parse(brc); \r\n    System.out.println(&quot;CONTAINED_GTIN= &quot; + result.getString(ApplicationIdentifier.CONTAINED_GTIN));\r\n\r\nI get `CONTAINED_GTIN= 01001450740019`. However, I want to read only the `0100145074001` and not the check digit.\r\n\r\n\r\nI don&#39;t know if this certain library is not working well, or I have misunderstood how the `GS1` works. \r\nMy question is: How can I get the value of a GS1 QRcode in `Java` without the check digit? \r\n\r\n  [1]: https://github.com/tmattsson/gs1utils","title":"Read GS1 QRcode and get the data without the check digit character","body":"<p>I am trying to read a QRCode in <code>GS1</code> format. When I built the QR Code for the identifier <code>(01)</code> with the value <code>0100145074001</code>, my QRCode generator adds in the end a check digit <code>9</code>. So the result is:</p>\n\n<pre><code>01001450740019\n</code></pre>\n\n<p>Now, I try to parse this QRCode in my Java Program. I found this library <a href=\"https://github.com/tmattsson/gs1utils\" rel=\"nofollow noreferrer\">gs1Utils</a> and when I execute the following :</p>\n\n<pre><code>String brc = \"0101001450740019\";\nElementStrings.ParseResult result = ElementStrings.parse(brc); \nSystem.out.println(\"CONTAINED_GTIN= \" + result.getString(ApplicationIdentifier.CONTAINED_GTIN));\n</code></pre>\n\n<p>I get <code>CONTAINED_GTIN= 01001450740019</code>. However, I want to read only the <code>0100145074001</code> and not the check digit.</p>\n\n<p>I don't know if this certain library is not working well, or I have misunderstood how the <code>GS1</code> works. \nMy question is: How can I get the value of a GS1 QRcode in <code>Java</code> without the check digit? </p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1275953,"reputation":26182,"user_id":1231230,"accept_rate":76,"display_name":"Ankur Singhal"},"score":0,"creation_date":1413959712,"post_id":26501523,"comment_id":41634944,"body_markdown":"is your json valid, check [here](http://jsonlint.com/)","body":"is your json valid, check <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1243076,"reputation":1283,"user_id":1205182,"display_name":"Nattrass"},"score":0,"creation_date":1413959776,"post_id":26501523,"comment_id":41634971,"body_markdown":"Are you not already escaping the double quotes for Var207 with a \\&quot;","body":"Are you not already escaping the double quotes for Var207 with a \\&quot;"},{"owner":{"account_id":3431530,"reputation":5970,"user_id":2875803,"accept_rate":71,"display_name":"Valentin Waeselynck"},"score":2,"creation_date":1413959932,"post_id":26501523,"comment_id":41635025,"body_markdown":"What you are trying to do is not very clear to me, can you elaborate please?","body":"What you are trying to do is not very clear to me, can you elaborate please?"},{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1413960023,"post_id":26501523,"comment_id":41635062,"body_markdown":"The json string is not valid, only part of the string has been escaped, but not all.","body":"The json string is not valid, only part of the string has been escaped, but not all."},{"owner":{"account_id":1243076,"reputation":1283,"user_id":1205182,"display_name":"Nattrass"},"score":0,"creation_date":1413960219,"post_id":26501523,"comment_id":41635125,"body_markdown":"Are you not just missing Var218 = \\&quot;charlie\\&quot;","body":"Are you not just missing Var218 = \\&quot;charlie\\&quot;"},{"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"score":0,"creation_date":1413960347,"post_id":26501523,"comment_id":41635168,"body_markdown":"The string is just an example.","body":"The string is just an example."}],"answers":[{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413959984,"creation_date":1413959984,"answer_id":26501638,"question_id":26501523,"body_markdown":"I don;t see the point bacause you are escaping your cdouble quoted correct\r\n\r\n\r\n    &quot;\\&quot;\\&quot;&quot; // this will produce &quot;&quot;\r\n\r\n\r\nSo simple before each &quot; place one \\","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I don;t see the point bacause you are escaping your cdouble quoted correct</p>\n\n<pre><code>\"\\\"\\\"\" // this will produce \"\"\n</code></pre>\n\n<p>So simple before each \" place one \\</p>\n"},{"tags":[],"owner":{"account_id":2929506,"reputation":917,"user_id":2510128,"accept_rate":100,"display_name":"Nick Allen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1413962100,"creation_date":1413960402,"answer_id":26501750,"question_id":26501523,"body_markdown":"I&#39;m using the Gson library for this.\r\nBut it looks like this is what you are asking for.\r\n\r\n    import com.google.gson.Gson;\r\n    import com.google.gson.GsonBuilder;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.reflect.TypeToken;\r\n    ...\r\n    public void stuff()\r\n        {\r\n            List&lt;String&gt; data = new ArrayList&lt;String&gt;();\r\n            data.add(&quot;&quot;);\r\n            data.add(&quot;abc&quot;);\r\n            data.add(&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 &amp;le; 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;);\r\n            data.add(&quot;\\&quot;\\&quot;&quot;);\r\n    \r\n            Gson gson = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\r\n    \r\n            JsonObject test = new JsonObject();\r\n            JsonElement jsonData = gson.toJsonTree(data, new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType());\r\n            test.add(&quot;test&quot;, jsonData);\r\n    \r\n            String json = gson.toJson(test);\r\n            System.out.println(json);\r\n        }\r\n\r\n\r\n\r\nThis will produce:\r\n\r\n    {\r\n      &quot;test&quot;:[\r\n        &quot;&quot;,\r\n        &quot;abc&quot;,\r\n        &quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 &amp;le; 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n        &quot;&quot;,\r\n        &quot;\\&quot;\\&quot;&quot;\r\n      ]\r\n    }","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I'm using the Gson library for this.\nBut it looks like this is what you are asking for.</p>\n\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.reflect.TypeToken;\n...\npublic void stuff()\n    {\n        List&lt;String&gt; data = new ArrayList&lt;String&gt;();\n        data.add(\"\");\n        data.add(\"abc\");\n        data.add(\"IF(Var218 = \\\"charlie\\\") AND (Var85 &amp;le; 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \");\n        data.add(\"\\\"\\\"\");\n\n        Gson gson = new GsonBuilder().setPrettyPrinting().disableHtmlEscaping().create();\n\n        JsonObject test = new JsonObject();\n        JsonElement jsonData = gson.toJsonTree(data, new TypeToken&lt;List&lt;String&gt;&gt;(){}.getType());\n        test.add(\"test\", jsonData);\n\n        String json = gson.toJson(test);\n        System.out.println(json);\n    }\n</code></pre>\n\n<p>This will produce:</p>\n\n<pre><code>{\n  \"test\":[\n    \"\",\n    \"abc\",\n    \"IF(Var218 = \\\"charlie\\\") AND (Var85 &amp;le; 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n    \"\",\n    \"\\\"\\\"\"\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613265,"reputation":5567,"user_id":2262972,"accept_rate":84,"display_name":"SamTebbs33"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413978055,"creation_date":1413978055,"answer_id":26506625,"question_id":26501523,"body_markdown":"The following algorithm should work with the JSON String in `input`\r\n\r\n    String progress = &quot;&quot;;\r\n    for(int c = 0; c &lt; input.length(); c++){\r\n        char ch = input.charAt(c);\r\n        if(ch == &#39;\\\\&#39;){    // Skip if the next character is already escaped\r\n            c++;\r\n            continue;\r\n        }\r\n        if(ch == &#39;\\&quot;&#39;) progress += &quot;\\\\\\&quot;&quot;; // Results in \\&quot;\r\n        else progress += ch;    // Add the character to progress\r\n    }\r\n\r\nThe escaped String is now in `progress`","title":"How to escape double quotes in a string for json parser in Java","body":"<p>The following algorithm should work with the JSON String in <code>input</code></p>\n\n<pre><code>String progress = \"\";\nfor(int c = 0; c &lt; input.length(); c++){\n    char ch = input.charAt(c);\n    if(ch == '\\\\'){    // Skip if the next character is already escaped\n        c++;\n        continue;\n    }\n    if(ch == '\\\"') progress += \"\\\\\\\"\"; // Results in \\\"\n    else progress += ch;    // Add the character to progress\n}\n</code></pre>\n\n<p>The escaped String is now in <code>progress</code></p>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513006658,"creation_date":1513006658,"answer_id":47756299,"question_id":26501523,"body_markdown":"In java you escape `&quot;` by `\\&quot;` and the same goes for JSON. The problem is that `\\&quot;` does not include a backward slash, so you need to escape that as well:\r\n\r\n    String json = &quot;hello \\\\\\&quot;world\\\\\\&quot;&quot;; // hello &quot;world&quot;\r\n\r\nNotice the three (3) backwards slash.","title":"How to escape double quotes in a string for json parser in Java","body":"<p>In java you escape <code>\"</code> by <code>\\\"</code> and the same goes for JSON. The problem is that <code>\\\"</code> does not include a backward slash, so you need to escape that as well:</p>\n\n<pre><code>String json = \"hello \\\\\\\"world\\\\\\\"\"; // hello \"world\"\n</code></pre>\n\n<p>Notice the three (3) backwards slash.</p>\n"},{"tags":[],"owner":{"account_id":18230402,"reputation":1,"user_id":13269448,"display_name":"Lasha Bibilashvili"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679167747,"creation_date":1678726737,"answer_id":75724814,"question_id":26501523,"body_markdown":"    package ezvcard;\r\n\r\n    import com.google.gson.Gson;\r\n    import org.junit.Test;\r\n\r\n    import java.util.List;\r\n\r\n    public class MyTests {\r\n\r\n\t\t@Test\r\n\t\tpublic void myTest() {\r\n\t\t\tString json = &quot;{\\&quot;test\\&quot;: [\\&quot;\\&quot;, \\&quot;abc\\&quot;, \\&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\\\\\&quot;some value\\\\\\&quot;; \\\\\\&quot;du\\\\\\&quot;) THEN Appetency = 1 \\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;\\&quot;\\&quot;]}&quot;;\r\n\t\t\tString newJson = json\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;]&quot;, &quot;\\&#39;]&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\\\[\\&quot;&quot;, &quot;\\\\[\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\\\{\\&quot;&quot;, &quot;\\\\{\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;}&quot;, &quot;\\&#39;}&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;,&quot;, &quot;\\&#39;,&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;,\\&quot;&quot;, &quot;,\\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;, \\&quot;&quot;, &quot;, \\&#39;&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;\\&quot;:&quot;, &quot;\\&#39;:&quot;)\r\n\t\t\t\t\t.replaceAll(&quot;:\\&quot;&quot;, &quot;:\\&#39;&quot;);\r\n\t\t\tGson gson = new Gson();\r\n\t\t\tMyTest test = gson.fromJson(newJson, MyTest.class);\r\n\t\t\t\r\n\t\t\tfor (String s : test.test) {\r\n\t\t\t\tSystem.out.println(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static class MyTest {\r\n\t\t\tList&lt;String&gt; test;\r\n\t\t\r\n\t\t}\r\n    }\r\n","title":"How to escape double quotes in a string for json parser in Java","body":"<pre><code>package ezvcard;\n\nimport com.google.gson.Gson;\nimport org.junit.Test;\n\nimport java.util.List;\n\npublic class MyTests {\n\n    @Test\n    public void myTest() {\n        String json = &quot;{\\&quot;test\\&quot;: [\\&quot;\\&quot;, \\&quot;abc\\&quot;, \\&quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\\\\\&quot;some value\\\\\\&quot;; \\\\\\&quot;du\\\\\\&quot;) THEN Appetency = 1 \\&quot;, \\&quot;\\&quot;, \\&quot;\\&quot;\\&quot;\\&quot;]}&quot;;\n        String newJson = json\n                .replaceAll(&quot;\\&quot;]&quot;, &quot;\\']&quot;)\n                .replaceAll(&quot;\\\\[\\&quot;&quot;, &quot;\\\\[\\'&quot;)\n                .replaceAll(&quot;\\\\{\\&quot;&quot;, &quot;\\\\{\\'&quot;)\n                .replaceAll(&quot;\\&quot;}&quot;, &quot;\\'}&quot;)\n                .replaceAll(&quot;\\&quot;,&quot;, &quot;\\',&quot;)\n                .replaceAll(&quot;,\\&quot;&quot;, &quot;,\\'&quot;)\n                .replaceAll(&quot;, \\&quot;&quot;, &quot;, \\'&quot;)\n                .replaceAll(&quot;\\&quot;:&quot;, &quot;\\':&quot;)\n                .replaceAll(&quot;:\\&quot;&quot;, &quot;:\\'&quot;);\n        Gson gson = new Gson();\n        MyTest test = gson.fromJson(newJson, MyTest.class);\n        \n        for (String s : test.test) {\n            System.out.println(s);\n        }\n    }\n    public static class MyTest {\n        List&lt;String&gt; test;\n    \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20095,"reputation":505,"user_id":47637,"accept_rate":57,"display_name":"Bruce Li"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28966,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":26501750,"answer_count":5,"score":3,"last_activity_date":1679167747,"creation_date":1413959487,"question_id":26501523,"body_markdown":"I got a string like below:\r\n\r\n    {\r\n        &quot;test&quot;: [\r\n            &quot;&quot;,\r\n            &quot;abc&quot;,\r\n            &quot;IF(Var218 = &quot;charlie&quot;) AND (Var85 ≤ 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n            &quot;&quot;,\r\n            &quot;&quot;&quot;&quot;\r\n        ]\r\n    }\r\n\r\nThe string will be parsed as a JSON object, now the question is how should I escape some of the double quotes in the string in Java effectively?\r\n\r\nThe string above is just one example, and please notice not all double quotes in the string should be escaped, only double quotes such as in &quot;charlie&quot; and &quot;&quot;&quot;&quot; should be escaped, otherwise json parser will not parse the string correctly. Expected result should be like:\r\n\r\n    {\r\n        &quot;test&quot;: [\r\n            &quot;&quot;,\r\n            &quot;abc&quot;,\r\n            &quot;IF(Var218 = \\&quot;charlie\\&quot;) AND (Var85 ≤ 0) AND (Var207 = \\&quot;some value\\&quot;; \\&quot;du\\&quot;) THEN Appetency = 1 &quot;,\r\n            &quot;&quot;,\r\n            &quot;\\&quot;\\&quot;&quot;\r\n        ]\r\n    }\r\n\r\nThanks.","title":"How to escape double quotes in a string for json parser in Java","body":"<p>I got a string like below:</p>\n\n<pre><code>{\n    \"test\": [\n        \"\",\n        \"abc\",\n        \"IF(Var218 = \"charlie\") AND (Var85 ≤ 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n        \"\",\n        \"\"\"\"\n    ]\n}\n</code></pre>\n\n<p>The string will be parsed as a JSON object, now the question is how should I escape some of the double quotes in the string in Java effectively?</p>\n\n<p>The string above is just one example, and please notice not all double quotes in the string should be escaped, only double quotes such as in \"charlie\" and \"\"\"\" should be escaped, otherwise json parser will not parse the string correctly. Expected result should be like:</p>\n\n<pre><code>{\n    \"test\": [\n        \"\",\n        \"abc\",\n        \"IF(Var218 = \\\"charlie\\\") AND (Var85 ≤ 0) AND (Var207 = \\\"some value\\\"; \\\"du\\\") THEN Appetency = 1 \",\n        \"\",\n        \"\\\"\\\"\"\n    ]\n}\n</code></pre>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","junit","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":4325009,"reputation":2727,"user_id":3861128,"accept_rate":71,"display_name":"Abdelghani Roussi"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1552487409,"creation_date":1552487409,"answer_id":55144332,"question_id":55144040,"body_markdown":"your inner configuration class will not work [unless you add a static keyword before its definition](https://stackoverflow.com/questions/55142962/spring-boot-test-unable-to-instantiate-inner-configuration-class/55143019#55143019). However you should know that for the @Sql annotation \r\n\r\n&gt; Path Resource Semantics\r\n&gt; \r\n&gt; Each path will be interpreted as a Spring Resource. A plain path — for\r\n&gt; example, &quot;schema.sql&quot; — will be treated as a classpath resource that\r\n&gt; is relative to the package in which the test class is defined. A path\r\n&gt; starting with a slash will be treated as an absolute classpath\r\n&gt; resource, for example: &quot;/org/example/schema.sql&quot;. A path which\r\n&gt; references a URL (e.g., a path prefixed with classpath:, file:, http:,\r\n&gt; etc.) will be loaded using the specified resource protocol.\r\n\r\nSo try to prefix the value inside `@Sql` with `classpath:` like this :\r\n\r\n    @Sql(scripts={&quot;classpath:data.sql&quot;})\r\n\r\nGood luck!","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>your inner configuration class will not work <a href=\"https://stackoverflow.com/questions/55142962/spring-boot-test-unable-to-instantiate-inner-configuration-class/55143019#55143019\">unless you add a static keyword before its definition</a>. However you should know that for the @Sql annotation </p>\n\n<blockquote>\n  <p>Path Resource Semantics</p>\n  \n  <p>Each path will be interpreted as a Spring Resource. A plain path — for\n  example, \"schema.sql\" — will be treated as a classpath resource that\n  is relative to the package in which the test class is defined. A path\n  starting with a slash will be treated as an absolute classpath\n  resource, for example: \"/org/example/schema.sql\". A path which\n  references a URL (e.g., a path prefixed with classpath:, file:, http:,\n  etc.) will be loaded using the specified resource protocol.</p>\n</blockquote>\n\n<p>So try to prefix the value inside <code>@Sql</code> with <code>classpath:</code> like this :</p>\n\n<pre><code>@Sql(scripts={\"classpath:data.sql\"})\n</code></pre>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":1963913,"reputation":1943,"user_id":1764648,"display_name":"Gopal S Akshintala"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1604640526,"creation_date":1572533042,"answer_id":58645846,"question_id":55144040,"body_markdown":"Check your `out` directory of the module. While creating directory in resources, if you have named it directly with the namespace like `com.gakshintala.bookmybook`, it takes that name completely as the directory name, so the `out` also contains this directory under `resources` with name `com.gakshintala.bookmybook`. PFB right vs wrong. The top is right and bottom is wrong.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nSpring always looks for nested directory resources-&gt;com-&gt;gakshintala-&gt;bookmybook.\r\nSo create that directory structure.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VGXip.png\r\n  [2]: https://i.stack.imgur.com/WkE2k.png","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>Check your <code>out</code> directory of the module. While creating directory in resources, if you have named it directly with the namespace like <code>com.gakshintala.bookmybook</code>, it takes that name completely as the directory name, so the <code>out</code> also contains this directory under <code>resources</code> with name <code>com.gakshintala.bookmybook</code>. PFB right vs wrong. The top is right and bottom is wrong.</p>\n<p><a href=\"https://i.stack.imgur.com/VGXip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VGXip.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/WkE2k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkE2k.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring always looks for nested directory resources-&gt;com-&gt;gakshintala-&gt;bookmybook.\nSo create that directory structure.</p>\n"}],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15575,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":55144332,"answer_count":2,"score":6,"last_activity_date":1679167696,"creation_date":1552486593,"question_id":55144040,"body_markdown":"I didn&#39;t want to load the entire Spring Boot configuration for unit-testing my `DAO` layer, and therefore created a nested configuration class to **suppress default configurations**. But when I try to specify SQL scripts for it to run before tests, its unable to find them.\r\n\r\nHere&#39;s the code:\r\n\r\n    package com.test.customer.controller;\r\n    ..\r\n    @RunWith(SpringRunner.class)\r\n    @JdbcTest\r\n    @Sql({&quot;data.sql&quot;})\r\n    public class InterviewInformationControllerTest {\r\n    \r\n        @Configuration\r\n        static class TestConfiguration{\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testCustomer() {\r\n            // code\r\n        }\r\n    \r\n    }\r\n    \r\nI get the error: \r\n\r\n    Cannot read SQL script from class path resource [com/test/customer/controller/data.sql]; \r\n    nested exception is java.io.FileNotFoundException: \r\n    class path resource [com/test/customer/controller/data.sql] \r\n    cannot be opened because it does not exist\r\n\r\nI&#39;ve tried placing the file at both `src/main/resources` (not preferred) as well as at `src/test/resources` (which I prefer)\r\n\r\nNote: I&#39;m running the Unit test from inside Eclipse by doing `Run as -&gt; JUnit test`.\r\n\r\n**Edit**: Added the `static` keyword to the configuration class","title":"Spring boot test: @Sql annotation Unable to locate sql files placed in src/test/resources","body":"<p>I didn't want to load the entire Spring Boot configuration for unit-testing my <code>DAO</code> layer, and therefore created a nested configuration class to <strong>suppress default configurations</strong>. But when I try to specify SQL scripts for it to run before tests, its unable to find them.</p>\n<p>Here's the code:</p>\n<pre><code>package com.test.customer.controller;\n..\n@RunWith(SpringRunner.class)\n@JdbcTest\n@Sql({&quot;data.sql&quot;})\npublic class InterviewInformationControllerTest {\n\n    @Configuration\n    static class TestConfiguration{\n\n    }\n\n    @Test\n    public void testCustomer() {\n        // code\n    }\n\n}\n</code></pre>\n<p>I get the error:</p>\n<pre><code>Cannot read SQL script from class path resource [com/test/customer/controller/data.sql]; \nnested exception is java.io.FileNotFoundException: \nclass path resource [com/test/customer/controller/data.sql] \ncannot be opened because it does not exist\n</code></pre>\n<p>I've tried placing the file at both <code>src/main/resources</code> (not preferred) as well as at <code>src/test/resources</code> (which I prefer)</p>\n<p>Note: I'm running the Unit test from inside Eclipse by doing <code>Run as -&gt; JUnit test</code>.</p>\n<p><strong>Edit</strong>: Added the <code>static</code> keyword to the configuration class</p>\n"},{"tags":["java","rest-assured"],"owner":{"account_id":28025105,"reputation":1,"user_id":21405261,"display_name":"Abirami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679167651,"creation_date":1678898962,"question_id":75747756,"body_markdown":"````\r\n&quot;payment&quot;: {\r\n        &quot;paymentMethodCode&quot;: &quot;886&quot;,\r\n        &quot;billAccountNumber&quot;: &quot;!110394383945&quot;,\r\n        &quot;bankCode&quot;: &quot;7162&quot;,\r\n        &quot;bankBranchCode&quot;: &quot;009&quot;,\r\n        &quot;taxJurisdictionCode&quot;: &quot;0&quot;,\r\n        &quot;nameOnBilling&quot;: &quot;JOHN SMITH BILL&quot;,\r\n        &quot;paymentFrequencyCode&quot;: &quot;Monthly&quot;,\r\n        &quot;collectorCode&quot;: &quot;GIR&quot;,\r\n        &quot;debitDayOfMonth&quot;: &quot;13&quot;\r\n    }\r\n````\r\nHere the bill account number is ciphertext value\r\n\r\nI am getting the below error in rest assured cucumber ,\r\n````\r\n &quot;errors&quot; : [\r\n    {\r\n      &quot;code&quot; : &quot;91&quot;,\r\n      &quot;description&quot; : &quot;POL10946\\nBillAccountNumber\\nPAYMENT\\n-1\\nOnly ciphertext or a Token can be accepted BILL_ACCTNUM field.\\n&quot;\r\n    }\r\n  ]\r\n}\r\n````\r\nMy code is ,\r\n````\r\n   String billAccountNumber = XLS.getCellData(sheetName, &quot;BillAccountNumber&quot;, row);\r\n````\r\n\r\npass it as a string value on excel\r\n\r\n","title":"How to convert Ciphertext value in to string","body":"<pre><code>&quot;payment&quot;: {\n        &quot;paymentMethodCode&quot;: &quot;886&quot;,\n        &quot;billAccountNumber&quot;: &quot;!110394383945&quot;,\n        &quot;bankCode&quot;: &quot;7162&quot;,\n        &quot;bankBranchCode&quot;: &quot;009&quot;,\n        &quot;taxJurisdictionCode&quot;: &quot;0&quot;,\n        &quot;nameOnBilling&quot;: &quot;JOHN SMITH BILL&quot;,\n        &quot;paymentFrequencyCode&quot;: &quot;Monthly&quot;,\n        &quot;collectorCode&quot;: &quot;GIR&quot;,\n        &quot;debitDayOfMonth&quot;: &quot;13&quot;\n    }\n</code></pre>\n<p>Here the bill account number is ciphertext value</p>\n<p>I am getting the below error in rest assured cucumber ,</p>\n<pre><code> &quot;errors&quot; : [\n    {\n      &quot;code&quot; : &quot;91&quot;,\n      &quot;description&quot; : &quot;POL10946\\nBillAccountNumber\\nPAYMENT\\n-1\\nOnly ciphertext or a Token can be accepted BILL_ACCTNUM field.\\n&quot;\n    }\n  ]\n}\n</code></pre>\n<p>My code is ,</p>\n<pre><code>   String billAccountNumber = XLS.getCellData(sheetName, &quot;BillAccountNumber&quot;, row);\n</code></pre>\n<p>pass it as a string value on excel</p>\n"},{"tags":["java","spring-boot","ssl","mtls","pkix"],"comments":[{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1679132116,"post_id":75774738,"comment_id":133668938,"body_markdown":"I remember facing this issue longtime ago, try using the wildcard &quot;*&quot; on your routing rules while you find the real problem, in my case the certificate was invalid because it expired (it had 1 year validity and it expired after so), so make sure it is not an expired certificate or ask for a new one","body":"I remember facing this issue longtime ago, try using the wildcard &quot;*&quot; on your routing rules while you find the real problem, in my case the certificate was invalid because it expired (it had 1 year validity and it expired after so), so make sure it is not an expired certificate or ask for a new one"},{"owner":{"account_id":28048858,"reputation":1,"user_id":21425104,"display_name":"Ahmed Nazer"},"score":0,"creation_date":1679730627,"post_id":75774738,"comment_id":133776320,"body_markdown":"actually the certificate is valid and working fine from postman and if i used curl with --insecure also working , but for java i have added the certificate to the keystore and trust store manually and programmatically but also no hope , getting same error.\nsorry, what do you mean by &quot;try using the wildcard &quot;*&quot; on your routing rules while you find the real problem&quot;","body":"actually the certificate is valid and working fine from postman and if i used curl with --insecure also working , but for java i have added the certificate to the keystore and trust store manually and programmatically but also no hope , getting same error. sorry, what do you mean by &quot;try using the wildcard &quot;*&quot; on your routing rules while you find the real problem&quot;"}],"owner":{"account_id":28048858,"reputation":1,"user_id":21425104,"display_name":"Ahmed Nazer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679167604,"creation_date":1679129115,"question_id":75774738,"body_markdown":"I have received the certification as `.pem` and the private key as `.key` and the host as wildcard \r\n`*.domain:*` and used them in postman and worked as expected.\r\n\r\n[![Click here for the image][1]][1]\r\n\r\n\r\nI need to do the same in java , I have tried all the possible scenario I found in the internet\r\nlike :\r\nconverting the file using `openssl` to different formats (`cer` ,`cert`,`p12`,`jks`) \r\nall the scenarios of using `keystore` and `truststore` or custom one \r\nbut, no luck at all \r\nAlways get:\r\n\r\n&gt;Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path &gt;building failed: sun.security.provider.certpath.SunCertPathBuilderException: &gt;unable to find valid certification path to requested target\r\n\r\n[1]: https://i.stack.imgur.com/9jSmc.png","title":"Using certification as .pem and private key as .key to call secured rest end point in java","body":"<p>I have received the certification as <code>.pem</code> and the private key as <code>.key</code> and the host as wildcard\n<code>*.domain:*</code> and used them in postman and worked as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/9jSmc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jSmc.png\" alt=\"Click here for the image\" /></a></p>\n<p>I need to do the same in java , I have tried all the possible scenario I found in the internet\nlike :\nconverting the file using <code>openssl</code> to different formats (<code>cer</code> ,<code>cert</code>,<code>p12</code>,<code>jks</code>)\nall the scenarios of using <code>keystore</code> and <code>truststore</code> or custom one\nbut, no luck at all\nAlways get:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path &gt;building failed: sun.security.provider.certpath.SunCertPathBuilderException: &gt;unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":["java","linear-search"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1597387238,"post_id":63407726,"comment_id":112121164,"body_markdown":"What do you mean with &quot;its output came 7 which is wrong&quot;? Why is it wrong? What output do you expect? If you should return the index of the first match from the back, then 7 should be correct. But as an additional remark, in your for loop, you should run until `i =&gt; 0` to also catch the first index in your array.","body":"What do you mean with &quot;its output came 7 which is wrong&quot;? Why is it wrong? What output do you expect? If you should return the index of the first match from the back, then 7 should be correct. But as an additional remark, in your for loop, you should run until <code>i =&gt; 0</code> to also catch the first index in your array."},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1597387653,"post_id":63407726,"comment_id":112121307,"body_markdown":"actually i need to calculate from last to first of that array like if we want to seach 33 which is last index i.e, 9th index i want to print it as index=0 as im searching from right to left","body":"actually i need to calculate from last to first of that array like if we want to seach 33 which is last index i.e, 9th index i want to print it as index=0 as im searching from right to left"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1597387709,"post_id":63407726,"comment_id":112121321,"body_markdown":"Why index=1 then? Shouldn&#39;t it be 0 if its the first one from right?","body":"Why index=1 then? Shouldn&#39;t it be 0 if its the first one from right?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1597387866,"post_id":63407726,"comment_id":112121361,"body_markdown":"On my first comment, its obviously `i &gt;= 0`. But can&#39;t edit anymore.","body":"On my first comment, its obviously <code>i &gt;= 0</code>. But can&#39;t edit anymore."},{"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"score":0,"creation_date":1597387870,"post_id":63407726,"comment_id":112121362,"body_markdown":"sorry my mistake but you got my question ryt? @maloomeister","body":"sorry my mistake but you got my question ryt? @maloomeister"}],"answers":[{"tags":[],"owner":{"account_id":19275837,"reputation":148,"user_id":14088888,"display_name":"Aneesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597388302,"creation_date":1597387332,"answer_id":63407788,"question_id":63407726,"body_markdown":"If you are trying to return the number of iterations from the end, you can create an int and return the iteration value\r\n\r\n```\r\n   public static int linearSearch(int[] array, int key) {\r\n        int size = array.length - 1;\r\n        int iteration =-1;\r\n        for (int i = size; i &gt;= 0; i--) {\r\n            iteration++;\r\n            if (array[i] == key) {\r\n                return iteration;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n\r\n```","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>If you are trying to return the number of iterations from the end, you can create an int and return the iteration value</p>\n<pre><code>   public static int linearSearch(int[] array, int key) {\n        int size = array.length - 1;\n        int iteration =-1;\n        for (int i = size; i &gt;= 0; i--) {\n            iteration++;\n            if (array[i] == key) {\n                return iteration;\n            }\n        }\n        return -1;\n    }\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597388131,"creation_date":1597388131,"answer_id":63407937,"question_id":63407726,"body_markdown":"So after a few inconsitencies regarding what you actually want, I think I got you now. This code should work for you:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] array = { 44, 55, 66, 77, 88, 22, 11, 66, 99, 33 };\r\n        int key = 66;\r\n        int result = linearSearch(array, key);\r\n        System.out.println(&quot;Index from the right for value &quot; + key + &quot; is: &quot; + result);\r\n    }\r\n\r\n    public static int linearSearch(int[] array, int key) {\r\n        int size = array.length - 1;\r\n        for (int i = size; i &gt;= 0; i--) {\r\n            if (array[i] == key) {\r\n                return size - i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\nThe output is:\r\n\r\n    Index from the right for value 66 is: 2\r\n\r\nExplanation:\r\n\r\nThe for-loop loops from `size` to `0` backwards. If a match is found, it returns the index from the right, so `size - i`.","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>So after a few inconsitencies regarding what you actually want, I think I got you now. This code should work for you:</p>\n<pre><code>public static void main(String[] args) {\n\n    int[] array = { 44, 55, 66, 77, 88, 22, 11, 66, 99, 33 };\n    int key = 66;\n    int result = linearSearch(array, key);\n    System.out.println(&quot;Index from the right for value &quot; + key + &quot; is: &quot; + result);\n}\n\npublic static int linearSearch(int[] array, int key) {\n    int size = array.length - 1;\n    for (int i = size; i &gt;= 0; i--) {\n        if (array[i] == key) {\n            return size - i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>Index from the right for value 66 is: 2\n</code></pre>\n<p>Explanation:</p>\n<p>The for-loop loops from <code>size</code> to <code>0</code> backwards. If a match is found, it returns the index from the right, so <code>size - i</code>.</p>\n"},{"tags":[],"owner":{"account_id":19294329,"reputation":1,"user_id":14103557,"display_name":"Neha Khatriya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597398131,"creation_date":1597388578,"answer_id":63408036,"question_id":63407726,"body_markdown":"If you also want to return a &quot;reversed&quot; index, you must take that into account in your `return` statement: \r\n\r\n    public static int linearSearch(int[] array, int key)\r\n    {\r\n        int size = array.length - 1;\r\n        for (int i = size; i &gt; 0; i--)\r\n            if (array[i] == key)\r\n                return size - i;\r\n        return -1;\r\n    }","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>If you also want to return a &quot;reversed&quot; index, you must take that into account in your <code>return</code> statement:</p>\n<pre><code>public static int linearSearch(int[] array, int key)\n{\n    int size = array.length - 1;\n    for (int i = size; i &gt; 0; i--)\n        if (array[i] == key)\n            return size - i;\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24030685,"reputation":1,"user_id":18011647,"display_name":"Atharva Anwekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679167600,"creation_date":1679167600,"answer_id":75778171,"question_id":63407726,"body_markdown":"Try this loop\r\n````\r\nfor(int i = count-1; i &gt; 0; i--){\r\n            if(key == array[i]){\r\n                int index = ((i+1) - count);\r\n                System.out.print(Math.abs(index));\r\n                break;\r\n            }\r\n        }\r\n````\r\n\r\nIt will print 2.\r\n\r\n\r\n","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>Try this loop</p>\n<pre><code>for(int i = count-1; i &gt; 0; i--){\n            if(key == array[i]){\n                int index = ((i+1) - count);\n                System.out.print(Math.abs(index));\n                break;\n            }\n        }\n</code></pre>\n<p>It will print 2.</p>\n"}],"owner":{"account_id":19233360,"reputation":11,"user_id":14054809,"display_name":"soumyaranjan tripathy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1988,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1679167600,"creation_date":1597386998,"question_id":63407726,"body_markdown":"I need to find out an element on an array in reverse manner i.e, checking elements from last element to first\r\n\r\nHere is my code\r\n\r\n```\r\npublic static int linearSearch(int[] array, int key) {\r\n    int size = array.length - 1;\r\n    for (int i = size; i &gt; 0; i--) {\r\n        if (array[i] == key) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n   \r\n```\r\n\r\nHere my test testcase - \r\n\r\n    count = 10\r\n    array  = 44 55 66 77 88 22 11 66 99 33\r\n    key = 66\r\nits output came 7 which is wrong\r\nits actual output was clearly 2.\r\nI don&#39;t know where my logic gone wrong.\r\n    \r\nAlso I don&#39;t know how to implement this (if the key is repeated, print the index where the key is appearing for the first time in reverse order.)\r\n\r\n","title":"Linear Search Algorithm of an Array in reverse order","body":"<p>I need to find out an element on an array in reverse manner i.e, checking elements from last element to first</p>\n<p>Here is my code</p>\n<pre><code>public static int linearSearch(int[] array, int key) {\n    int size = array.length - 1;\n    for (int i = size; i &gt; 0; i--) {\n        if (array[i] == key) {\n            return i;\n        }\n    }\n    return -1;\n}\n   \n</code></pre>\n<p>Here my test testcase -</p>\n<pre><code>count = 10\narray  = 44 55 66 77 88 22 11 66 99 33\nkey = 66\n</code></pre>\n<p>its output came 7 which is wrong\nits actual output was clearly 2.\nI don't know where my logic gone wrong.</p>\n<p>Also I don't know how to implement this (if the key is repeated, print the index where the key is appearing for the first time in reverse order.)</p>\n"},{"tags":["java","maven","github-actions","google-artifact-registry","spotless"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661106719,"post_id":73429141,"comment_id":129687612,"body_markdown":"Repositories should be defined in settings.xml, not Pom.xml","body":"Repositories should be defined in settings.xml, not Pom.xml"},{"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"score":0,"creation_date":1661225443,"post_id":73429141,"comment_id":129714801,"body_markdown":"@Thorbj&#248;rnRavnAndersen Can&#39;t we customise repository list per project using pom.xml ? https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository","body":"@Thorbj&#248;rnRavnAndersen Can&#39;t we customise repository list per project using pom.xml ? <a href=\"https://maven.apache.org/guides/introduction/introduction-to-repositories.html#downloading-from-a-remote-repository\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661046752,"creation_date":1661046752,"answer_id":73431165,"question_id":73429141,"body_markdown":"I do believe you have misconfigured something in project pom.\r\n\r\nFirst of all, `spotless-maven-plugin` does not expect any dependency resolution to occur prior it&#39;s execution, so the only two things need to happen:\r\n- maven needs to construct project object model, in order to do that it needs to resolve parents and dependency management (resolve imports)\r\n- maven needs to download plugin and it&#39;s dependencies\r\n\r\nIf you have configured your project like:\r\n\r\n```\r\n&lt;repositories&gt;\r\n    &lt;repository&gt;\r\n        &lt;id&gt;GCP&lt;/id&gt;\r\n        &lt;name&gt;GCP&lt;/name&gt;\r\n        &lt;url&gt;some url&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```\r\n\r\nyou got into typical maven trap: repositories configured via `pom.xml` or `settings.xml` always take precedence over `maven central`, that means that when maven needs to download something it tries to use configured repository first and only in case of failure it will try `maven central`. The options are:\r\n\r\n1. add `maven central` first to your repository list\r\n2. activate your private repositories via maven profile","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I do believe you have misconfigured something in project pom.</p>\n<p>First of all, <code>spotless-maven-plugin</code> does not expect any dependency resolution to occur prior it's execution, so the only two things need to happen:</p>\n<ul>\n<li>maven needs to construct project object model, in order to do that it needs to resolve parents and dependency management (resolve imports)</li>\n<li>maven needs to download plugin and it's dependencies</li>\n</ul>\n<p>If you have configured your project like:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;GCP&lt;/id&gt;\n        &lt;name&gt;GCP&lt;/name&gt;\n        &lt;url&gt;some url&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>you got into typical maven trap: repositories configured via <code>pom.xml</code> or <code>settings.xml</code> always take precedence over <code>maven central</code>, that means that when maven needs to download something it tries to use configured repository first and only in case of failure it will try <code>maven central</code>. The options are:</p>\n<ol>\n<li>add <code>maven central</code> first to your repository list</li>\n<li>activate your private repositories via maven profile</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4993801,"reputation":997,"user_id":4015129,"display_name":"Prashant Sahoo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679167335,"creation_date":1679167335,"answer_id":75778154,"question_id":73429141,"body_markdown":"I was getting the same error `[ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.27.1:check (spotless-check) on project flink-examples-batch_2.12: The following files had format violations:` while building Flink examples \r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nI used the below command to check spotless\r\n\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:check\r\nThen I ran the command &#39;`mvn spotless:apply`&#39; to fix these violations.\r\n\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:apply\r\n    E:\\Flink\\flink-master1\\flink-examples&gt;mvn clean package\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d8WRu.png\r\n  [2]: https://i.stack.imgur.com/PYYwa.png\r\n  [3]: https://i.stack.imgur.com/Ll1ew.png","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I was getting the same error <code>[ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.27.1:check (spotless-check) on project flink-examples-batch_2.12: The following files had format violations:</code> while building Flink examples\n<a href=\"https://i.stack.imgur.com/d8WRu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8WRu.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/PYYwa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PYYwa.png\" alt=\"enter image description here\" /></a></p>\n<p>I used the below command to check spotless</p>\n<pre><code>E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:check\n</code></pre>\n<p>Then I ran the command '<code>mvn spotless:apply</code>' to fix these violations.</p>\n<pre><code>E:\\Flink\\flink-master1\\flink-examples&gt;mvn spotless:apply\nE:\\Flink\\flink-master1\\flink-examples&gt;mvn clean package\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ll1ew.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ll1ew.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3198713,"reputation":867,"user_id":2701272,"accept_rate":17,"display_name":"BharathYes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2775,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73431165,"answer_count":2,"score":0,"last_activity_date":1679167335,"creation_date":1661020031,"question_id":73429141,"body_markdown":"I am trying to set a Github Action to check spotless.\r\n\r\nMy actions.yml\r\n```\r\nname: Java CI with Maven\r\n\r\non:\r\n  pull_request:\r\n    branches: [ &quot;main&quot; ]\r\n\r\njobs:\r\n  build:\r\n    name: Build\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;temurin&#39;\r\n          cache: maven\r\n      - name: Build with Maven\r\n        run: mvn clean\r\n```\r\n\r\nIn my pom.xml I have set spotless to trigger with clean lifecycle.\r\n\r\npom.xml (in spotless plugin):\r\n\r\n```\r\n&lt;executions&gt;\r\n  &lt;execution&gt;\r\n    &lt;goals&gt;\r\n      &lt;goal&gt;check&lt;/goal&gt;\r\n    &lt;/goals&gt;\r\n    &lt;phase&gt;clean&lt;/phase&gt;\r\n  &lt;/execution&gt;\r\n&lt;/executions&gt;\r\n```\r\nFull pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.sample.demo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demo&lt;/name&gt;\r\n    &lt;description&gt;demo&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.example.internal&lt;/groupId&gt;\r\n            &lt;artifactId&gt;internal&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;4.9.10&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;artifact-registry&lt;/id&gt;\r\n            &lt;url&gt;artifactregistry://maven.pkg.dev/gcp-project-name/private-repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;4.9.10&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;revision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;validate-the-git-infos&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;validateRevision&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includeOnlyProperties&gt;\r\n                        &lt;property&gt;git.branch&lt;/property&gt;\r\n                        &lt;property&gt;git.commit.id&lt;/property&gt;\r\n                        &lt;property&gt;git.closest.tag.name&lt;/property&gt;\r\n                    &lt;/includeOnlyProperties&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.8&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;formats&gt;\r\n                        &lt;format&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;src/**/*.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;trimTrailingWhitespace/&gt;\r\n                            &lt;endWithNewline/&gt;\r\n                            &lt;indent&gt;\r\n                                &lt;spaces&gt;true&lt;/spaces&gt;\r\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n                            &lt;/indent&gt;\r\n                        &lt;/format&gt;\r\n                    &lt;/formats&gt;\r\n                    &lt;java&gt;\r\n                        &lt;removeUnusedImports /&gt;\r\n                        &lt;googleJavaFormat&gt;\r\n                            &lt;version&gt;1.15.0&lt;/version&gt;\r\n                            &lt;style&gt;AOSP&lt;/style&gt;\r\n                            &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\r\n                        &lt;/googleJavaFormat&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;clean&lt;/phase&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.5.2.Final&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;version&gt;1.18.24&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.2.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n        &lt;extensions&gt;\r\n            &lt;extension&gt;\r\n                &lt;groupId&gt;com.google.cloud.artifactregistry&lt;/groupId&gt;\r\n                &lt;artifactId&gt;artifactregistry-maven-wagon&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.4&lt;/version&gt;\r\n            &lt;/extension&gt;\r\n        &lt;/extensions&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nEverything works as it should, except all dependent JARs are being pulled almost every time(cache helps if commits are close together). This is a problem because the project has dependencies from private GCP artifact repo, which the runner cannot access.\r\n\r\nThis causes what should be a 30s runtime to almost 3 minutes repeatedly attempting to connect to the private maven repository.\r\n\r\n---\r\nI have tried removing the cache for maven, changed to `mvn spotless:check` hoping to directly trigger spotless but the runner keeps trying to pull the dependencies.\r\n\r\n---\r\n\r\nWhat maven lifecycle should I use to avoid pulling the JARs (atleast from the private repo). Is there a better way to run spotless and speed this up?","title":"Run spotless:check without pulling maven dependencies in Github Actions","body":"<p>I am trying to set a Github Action to check spotless.</p>\n<p>My actions.yml</p>\n<pre><code>name: Java CI with Maven\n\non:\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n    name: Build\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n          cache: maven\n      - name: Build with Maven\n        run: mvn clean\n</code></pre>\n<p>In my pom.xml I have set spotless to trigger with clean lifecycle.</p>\n<p>pom.xml (in spotless plugin):</p>\n<pre><code>&lt;executions&gt;\n  &lt;execution&gt;\n    &lt;goals&gt;\n      &lt;goal&gt;check&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;phase&gt;clean&lt;/phase&gt;\n  &lt;/execution&gt;\n&lt;/executions&gt;\n</code></pre>\n<p>Full pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.sample.demo&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;demo&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;google-cloud-secretmanager&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n            &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.example.internal&lt;/groupId&gt;\n            &lt;artifactId&gt;internal&lt;/artifactId&gt;\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n            &lt;version&gt;4.9.10&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;artifact-registry&lt;/id&gt;\n            &lt;url&gt;artifactregistry://maven.pkg.dev/gcp-project-name/private-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;pl.project13.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;git-commit-id-plugin&lt;/artifactId&gt;\n                &lt;version&gt;4.9.10&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;get-the-git-infos&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;revision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;validate-the-git-infos&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;validateRevision&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;includeOnlyProperties&gt;\n                        &lt;property&gt;git.branch&lt;/property&gt;\n                        &lt;property&gt;git.commit.id&lt;/property&gt;\n                        &lt;property&gt;git.closest.tag.name&lt;/property&gt;\n                    &lt;/includeOnlyProperties&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.8&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;format&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;src/**/*.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;trimTrailingWhitespace/&gt;\n                            &lt;endWithNewline/&gt;\n                            &lt;indent&gt;\n                                &lt;spaces&gt;true&lt;/spaces&gt;\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n                            &lt;/indent&gt;\n                        &lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;java&gt;\n                        &lt;removeUnusedImports /&gt;\n                        &lt;googleJavaFormat&gt;\n                            &lt;version&gt;1.15.0&lt;/version&gt;\n                            &lt;style&gt;AOSP&lt;/style&gt;\n                            &lt;reflowLongStrings&gt;true&lt;/reflowLongStrings&gt;\n                        &lt;/googleJavaFormat&gt;\n                    &lt;/java&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;1.5.2.Final&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.24&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok-mapstruct-binding&lt;/artifactId&gt;\n                            &lt;version&gt;0.2.0&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n        &lt;extensions&gt;\n            &lt;extension&gt;\n                &lt;groupId&gt;com.google.cloud.artifactregistry&lt;/groupId&gt;\n                &lt;artifactId&gt;artifactregistry-maven-wagon&lt;/artifactId&gt;\n                &lt;version&gt;2.1.4&lt;/version&gt;\n            &lt;/extension&gt;\n        &lt;/extensions&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Everything works as it should, except all dependent JARs are being pulled almost every time(cache helps if commits are close together). This is a problem because the project has dependencies from private GCP artifact repo, which the runner cannot access.</p>\n<p>This causes what should be a 30s runtime to almost 3 minutes repeatedly attempting to connect to the private maven repository.</p>\n<hr />\n<p>I have tried removing the cache for maven, changed to <code>mvn spotless:check</code> hoping to directly trigger spotless but the runner keeps trying to pull the dependencies.</p>\n<hr />\n<p>What maven lifecycle should I use to avoid pulling the JARs (atleast from the private repo). Is there a better way to run spotless and speed this up?</p>\n"},{"tags":["java","null","nullpointerexception","android-room","settext"],"owner":{"account_id":26671839,"reputation":23,"user_id":21070324,"display_name":"Revaken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679166737,"creation_date":1679158034,"question_id":75777296,"body_markdown":"I am creating a notepad application, however, this error occurs at \r\n\r\n    startup:java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference. \r\n    In the log, the program points to these lines:at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter$ViewHolder.setNote(MyNoteAdapter.java:68)\r\n                                                                                                    \tat com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:36)\r\n                                                                                                    \tat com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:20)\r\n\r\n\r\n\r\nBelow is the code:\r\n\r\n\r\n```\r\npublic class MyNoteAdapter extends RecyclerView.Adapter&lt;MyNoteAdapter.ViewHolder&gt; {\r\n\r\n    List&lt;MyNoteEntities&gt; noteEntitiesList;\r\n\r\n    public MyNoteAdapter(List&lt;MyNoteEntities&gt; noteEntitiesList) {\r\n        this.noteEntitiesList = noteEntitiesList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.note_item, parent, false));\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        holder.setNote(noteEntitiesList.get(position));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return noteEntitiesList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        return position;\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private TextView title,textNote,dateTime;\r\n        private LinearLayout linearLayout;\r\n        RoundedImageView roundedImageView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            title = itemView.findViewById(R.id.textTitle);\r\n            textNote = itemView.findViewById(R.id.textNote);\r\n            linearLayout = itemView.findViewById(R.id.layoutNote);\r\n            roundedImageView = itemView.findViewById(R.id.imageNote_item);\r\n        }\r\n\r\n        public void setNote(MyNoteEntities noteEntities) {\r\n            title.setText(noteEntities.getTitle());\r\n            textNote.setText(noteEntities.getNoteText());\r\n            dateTime.setText(noteEntities.getDateTime());\r\n\r\n            GradientDrawable gradientDrawable = (GradientDrawable) linearLayout.getBackground();\r\n            if (noteEntities.getColor() != null) {\r\n                gradientDrawable.setColor(Color.parseColor(noteEntities.getColor()));\r\n            }\r\n            else{\r\n                gradientDrawable.setColor(Color.parseColor(&quot;#FF937B&quot;));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"Note App: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>I am creating a notepad application, however, this error occurs at</p>\n<pre><code>startup:java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference. \nIn the log, the program points to these lines:at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter$ViewHolder.setNote(MyNoteAdapter.java:68)\n                                                                                                    at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:36)\n                                                                                                    at com.example.tasktrackingandmanagment.adapters.MyNoteAdapter.onBindViewHolder(MyNoteAdapter.java:20)\n</code></pre>\n<p>Below is the code:</p>\n<pre><code>public class MyNoteAdapter extends RecyclerView.Adapter&lt;MyNoteAdapter.ViewHolder&gt; {\n\n    List&lt;MyNoteEntities&gt; noteEntitiesList;\n\n    public MyNoteAdapter(List&lt;MyNoteEntities&gt; noteEntitiesList) {\n        this.noteEntitiesList = noteEntitiesList;\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new ViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.note_item, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        holder.setNote(noteEntitiesList.get(position));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return noteEntitiesList.size();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return position;\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        private TextView title,textNote,dateTime;\n        private LinearLayout linearLayout;\n        RoundedImageView roundedImageView;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            title = itemView.findViewById(R.id.textTitle);\n            textNote = itemView.findViewById(R.id.textNote);\n            linearLayout = itemView.findViewById(R.id.layoutNote);\n            roundedImageView = itemView.findViewById(R.id.imageNote_item);\n        }\n\n        public void setNote(MyNoteEntities noteEntities) {\n            title.setText(noteEntities.getTitle());\n            textNote.setText(noteEntities.getNoteText());\n            dateTime.setText(noteEntities.getDateTime());\n\n            GradientDrawable gradientDrawable = (GradientDrawable) linearLayout.getBackground();\n            if (noteEntities.getColor() != null) {\n                gradientDrawable.setColor(Color.parseColor(noteEntities.getColor()));\n            }\n            else{\n                gradientDrawable.setColor(Color.parseColor(&quot;#FF937B&quot;));\n            }\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-security","h2-console"],"answers":[{"tags":[],"owner":{"account_id":27536973,"reputation":1,"user_id":21014430,"display_name":"AndOliver46"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679165877,"creation_date":1679092008,"answer_id":75772681,"question_id":75771841,"body_markdown":"Its possible that another security filter in the chain is overriding this configuration.\r\n\r\nYou can try adding the following code to your `securityFilterChain` method to explicitly allow access to the H2 console:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    .httpBasic().disable()\r\n    .csrf().disable()\r\n    .authorizeHttpRequests()\r\n        .antMatchers(&quot;/&quot;, &quot;/h2-console*&quot;, &quot;/h2-console/**&quot;).permitAll()\r\n        .and()\r\n    .authorizeHttpRequests()\r\n        .anyRequest().authenticated()\r\n        .and()\r\n    .headers()\r\n        .frameOptions().sameOrigin();\r\n\r\nThis will disable basic authentication and CSRF protection for the H2 console, and allow all requests to the `/h2-console/**` path to be permitted without authentication. It also sets the frame options to `sameOrigin` to prevent issues with the console not displaying properly.\r\n\r\nNote that it&#39;s important to keep the H2 console secured in production environments, as it provides direct access to your database.\r\n\r\nYou add this configuration into the `securityFilterChain` testing if you are test profile/environment...\r\n","title":"Can&#39;t setup the permitAll() mather","body":"<p>Its possible that another security filter in the chain is overriding this configuration.</p>\n<p>You can try adding the following code to your <code>securityFilterChain</code> method to explicitly allow access to the H2 console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.httpBasic().disable()\n.csrf().disable()\n.authorizeHttpRequests()\n    .antMatchers(&quot;/&quot;, &quot;/h2-console*&quot;, &quot;/h2-console/**&quot;).permitAll()\n    .and()\n.authorizeHttpRequests()\n    .anyRequest().authenticated()\n    .and()\n.headers()\n    .frameOptions().sameOrigin();\n</code></pre>\n<p>This will disable basic authentication and CSRF protection for the H2 console, and allow all requests to the <code>/h2-console/**</code> path to be permitted without authentication. It also sets the frame options to <code>sameOrigin</code> to prevent issues with the console not displaying properly.</p>\n<p>Note that it's important to keep the H2 console secured in production environments, as it provides direct access to your database.</p>\n<p>You add this configuration into the <code>securityFilterChain</code> testing if you are test profile/environment...</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679165877,"creation_date":1679083910,"question_id":75771841,"body_markdown":"I try to setup endpoint `/h2-console` for `permitAll()` to get access to the h2-console without login. \r\n\r\nMy security config:\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public SCryptPasswordEncoder sCryptPasswordEncoder() {\r\n        return SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic().disable()\r\n                .csrf().disable();\r\n        http.authorizeHttpRequests()\r\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n    //                .anyRequest().permitAll() &lt; -- with this line works, so any other FilterChain does not exist in the project. I swear\r\n                .and()\r\n                .formLogin()\r\n                .defaultSuccessUrl(&quot;/main&quot;, true)\r\n                .and()\r\n                .headers().frameOptions().disable();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI also will put all other configs for any case:\r\n\r\n```java\r\n\r\n@Configuration\r\npublic class AuthenticationConfig {\r\n    @Autowired\r\n    private CustomAuthProvider authProvider;\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                http.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder.authenticationProvider(authProvider);\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Component\r\npublic class CustomAuthProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    private JpaUserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private SCryptPasswordEncoder sCryptPasswordEncoder;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n\r\n        CustomUserDetails user = userDetailsService.loadUserByUsername(username);\r\n\r\n        switch (user.secureUser().getAlgorithm()) {\r\n            case BCRYPT:\r\n                return checkPassword(user, password, bCryptPasswordEncoder);\r\n            case SCRYPT:\r\n                return checkPassword(user, password, sCryptPasswordEncoder);\r\n            default:\r\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n        }\r\n    }\r\n\r\n    private Authentication checkPassword(CustomUserDetails user, String rawPassword, PasswordEncoder encoder) {\r\n        if (encoder.matches(rawPassword, user.getPassword())) {\r\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\r\n        } else {\r\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n}\r\n```\r\n\r\nBut when I try to get to the `localhost:8080/h2-console` I have redirected to the `/login` page\r\n\r\n------\r\n\r\nUPD:\r\n\r\nSpring security logs:\r\n\r\n&gt; c.e.springinactions.SequrityApplication  : Started SequrityApplication in 11.758 seconds (process running for 12.623)  \r\n&gt; o.s.security.web.FilterChainProxy        : Securing GET /h2-console  \r\n&gt; o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext  \r\n&gt; o.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session  \r\n&gt; o.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login  \r\n&gt; o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;  ","title":"Can&#39;t setup the permitAll() mather","body":"<p>I try to setup endpoint <code>/h2-console</code> for <code>permitAll()</code> to get access to the h2-console without login.</p>\n<p>My security config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public SCryptPasswordEncoder sCryptPasswordEncoder() {\n        return SCryptPasswordEncoder.defaultsForSpringSecurity_v5_8();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .httpBasic().disable()\n                .csrf().disable();\n        http.authorizeHttpRequests()\n                .requestMatchers(&quot;/h2-console/**&quot;).permitAll()\n    //                .anyRequest().permitAll() &lt; -- with this line works, so any other FilterChain does not exist in the project. I swear\n                .and()\n                .formLogin()\n                .defaultSuccessUrl(&quot;/main&quot;, true)\n                .and()\n                .headers().frameOptions().disable();\n    }\n\n}\n</code></pre>\n<p>I also will put all other configs for any case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Configuration\npublic class AuthenticationConfig {\n    @Autowired\n    private CustomAuthProvider authProvider;\n\n    @Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder.authenticationProvider(authProvider);\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class CustomAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    private JpaUserDetailsService userDetailsService;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private SCryptPasswordEncoder sCryptPasswordEncoder;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        CustomUserDetails user = userDetailsService.loadUserByUsername(username);\n\n        switch (user.secureUser().getAlgorithm()) {\n            case BCRYPT:\n                return checkPassword(user, password, bCryptPasswordEncoder);\n            case SCRYPT:\n                return checkPassword(user, password, sCryptPasswordEncoder);\n            default:\n                throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n    }\n\n    private Authentication checkPassword(CustomUserDetails user, String rawPassword, PasswordEncoder encoder) {\n        if (encoder.matches(rawPassword, user.getPassword())) {\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\n        } else {\n            throw new BadCredentialsException(&quot;Bad credentials&quot;);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n}\n</code></pre>\n<p>But when I try to get to the <code>localhost:8080/h2-console</code> I have redirected to the <code>/login</code> page</p>\n<hr />\n<p>UPD:</p>\n<p>Spring security logs:</p>\n<blockquote>\n<p>c.e.springinactions.SequrityApplication  : Started SequrityApplication in 11.758 seconds (process running for 12.623)<br />\no.s.security.web.FilterChainProxy        : Securing GET /h2-console<br />\no.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext<br />\no.s.s.w.s.HttpSessionRequestCache        : Saved request http://localhost:8080/h2-console?continue to session<br />\no.s.s.web.DefaultRedirectStrategy        : Redirecting to http://localhost:8080/login<br />\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","basic-authentication"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1679160557,"post_id":75777427,"comment_id":133673448,"body_markdown":"Maybe this https://www.baeldung.com/spring-rest-http-headers","body":"Maybe this <a href=\"https://www.baeldung.com/spring-rest-http-headers\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-http-headers</a>"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679160646,"post_id":75777427,"comment_id":133673460,"body_markdown":"You should create own filter and register it before authentication filter. https://www.codejava.net/frameworks/spring-boot/spring-security-before-authentication-filter-examples","body":"You should create own filter and register it before authentication filter. <a href=\"https://www.codejava.net/frameworks/spring-boot/spring-security-before-authentication-filter-examples\" rel=\"nofollow noreferrer\">codejava.net/frameworks/spring-boot/&hellip;</a>"},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679509878,"post_id":75777427,"comment_id":133736651,"body_markdown":"@PeterMmm I have referred your link and tried but it is not giving me header info of consumer (who is invoking my api with that basic auth info) rather it is giving me header details info of my api iteself.","body":"@PeterMmm I have referred your link and tried but it is not giving me header info of consumer (who is invoking my api with that basic auth info) rather it is giving me header details info of my api iteself."},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679510023,"post_id":75777427,"comment_id":133736682,"body_markdown":"@DhavalGajjar I have gone through your link and understood code but in my case I am not using any login form for logged in and I am using simple basic spring security so does it still work in case if I try first option &quot;1. Simple Before Authentication Filter Configuration&quot; from shared link ?","body":"@DhavalGajjar I have gone through your link and understood code but in my case I am not using any login form for logged in and I am using simple basic spring security so does it still work in case if I try first option &quot;1. Simple Before Authentication Filter Configuration&quot; from shared link ?"},{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679571404,"post_id":75777427,"comment_id":133747026,"body_markdown":"Yes. It should work. Your filter will be called before Basic Authentication done.","body":"Yes. It should work. Your filter will be called before Basic Authentication done."},{"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"score":0,"creation_date":1679940120,"post_id":75777427,"comment_id":133807705,"body_markdown":"@DhavalGajjar i have applied simillar approach as point 1 from your link.  For me attempt authentication function code is not getting execute , i tried to debug it is not going to that line .   Can you pls provide me code snippet for my requirement like my end point is (http://sp/bal) and username:test and password : welcome123. (if someone consuming this end point with this auth info then very first i want to take password From header and compare with custom logic (gcpsecret=Welcome123)","body":"@DhavalGajjar i have applied simillar approach as point 1 from your link.  For me attempt authentication function code is not getting execute , i tried to debug it is not going to that line .   Can you pls provide me code snippet for my requirement like my end point is (<a href=\"http://sp/bal\" rel=\"nofollow noreferrer\">sp/bal</a>) and username:test and password : welcome123. (if someone consuming this end point with this auth info then very first i want to take password From header and compare with custom logic (gcpsecret=Welcome123)"}],"owner":{"account_id":27908831,"reputation":1,"user_id":21311455,"display_name":"Siddharth "},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679165831,"creation_date":1679159574,"question_id":75777427,"body_markdown":"I have implemented spring basic security authentication mechanism along with rest api endpoint. Let&#39;s say if someone is consuming my endpoint by passing auth info (user, key) along with header and for some reason i want to validate that header (user and key) info in my controller before endpoint call execution logic then how can I get that info?\r\n\r\nDoes it will work if i try to create header object and try to get?\r\n\r\nSpring basic security code and end point is already created","title":"Spring basic security (need to validate authentication info of consumer before call reach to endpoint.)","body":"<p>I have implemented spring basic security authentication mechanism along with rest api endpoint. Let's say if someone is consuming my endpoint by passing auth info (user, key) along with header and for some reason i want to validate that header (user and key) info in my controller before endpoint call execution logic then how can I get that info?</p>\n<p>Does it will work if i try to create header object and try to get?</p>\n<p>Spring basic security code and end point is already created</p>\n"},{"tags":["java","selenium-webdriver","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679165623,"creation_date":1679165623,"answer_id":75778000,"question_id":75758684,"body_markdown":"According to the [**google official documentation**][1] first you need to follow a few steps.\r\n\r\n&gt; Enable secret manager API\r\n&gt; \r\n&gt; \r\n&gt; Assign the Secret Manager Admin role (roles/secretmanager.admin) on the project, folder, or organization.\r\n&gt; \r\n&gt; Set up a Java development environment and install the Secret Manager\r\n&gt; Java SDK. On Compute Engine or GKE, you must authenticate with the\r\n&gt; cloud-platform scope.\r\n\r\nThen by using `GetSecret.java` class you can access the secrets. This [**github repository**][2] contains a full list of classes available using this as a reference you can write your own snippets. Hope this will help you.\r\n\r\n  \r\n\r\n\r\n  [1]: https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets#secretmanager-create-secret-java\r\n  [2]: https://github.com/GoogleCloudPlatform/java-docs-samples/tree/e13fbccca9754d9da34463dd12212c66de809f03/secretmanager/src/main/java/secretmanager","title":"How to access gcloud secret using Java Selenium","body":"<p>According to the <a href=\"https://cloud.google.com/secret-manager/docs/creating-and-accessing-secrets#secretmanager-create-secret-java\" rel=\"nofollow noreferrer\"><strong>google official documentation</strong></a> first you need to follow a few steps.</p>\n<blockquote>\n<p>Enable secret manager API</p>\n<p>Assign the Secret Manager Admin role (roles/secretmanager.admin) on the project, folder, or organization.</p>\n<p>Set up a Java development environment and install the Secret Manager\nJava SDK. On Compute Engine or GKE, you must authenticate with the\ncloud-platform scope.</p>\n</blockquote>\n<p>Then by using <code>GetSecret.java</code> class you can access the secrets. This <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/tree/e13fbccca9754d9da34463dd12212c66de809f03/secretmanager/src/main/java/secretmanager\" rel=\"nofollow noreferrer\"><strong>github repository</strong></a> contains a full list of classes available using this as a reference you can write your own snippets. Hope this will help you.</p>\n"}],"owner":{"account_id":16826535,"reputation":21,"user_id":12165687,"display_name":"Azhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679165623,"creation_date":1678982363,"question_id":75758684,"body_markdown":"I need to pick up client secrets from google cloud using below command.\r\n\r\n```\r\ngcloud secrets versions access latest --project=test --secret=test\r\n```\r\n\r\nHow do I run the same command using Java Code in my selenium tests\r\n","title":"How to access gcloud secret using Java Selenium","body":"<p>I need to pick up client secrets from google cloud using below command.</p>\n<pre><code>gcloud secrets versions access latest --project=test --secret=test\n</code></pre>\n<p>How do I run the same command using Java Code in my selenium tests</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679164553,"post_id":75777879,"comment_id":133674041,"body_markdown":"Probably because integer arithmetic often results in 0 during division.  Switch to `double` please.","body":"Probably because integer arithmetic often results in 0 during division.  Switch to <code>double</code> please."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":2,"creation_date":1679165093,"post_id":75777879,"comment_id":133674120,"body_markdown":"You are multiplying p, r and t, which are all integers. Thus, the result is an integer. Then you are dividing this integer by the integer 100. Because integers can&#39;t store floating point digits, java cuts them off. After java has already done that, you are assigning the calculated value to a double and lost the decimal places. Solution: Convert it to a double before doing the division. If one of the divisors is a double, java will convert the other one to a double, too. Simply calculate `(p * r * t) / 100d` or `(p * r * t) / 100.` or `(p * r * t) / 100.0`, they all use 100 as a double.","body":"You are multiplying p, r and t, which are all integers. Thus, the result is an integer. Then you are dividing this integer by the integer 100. Because integers can&#39;t store floating point digits, java cuts them off. After java has already done that, you are assigning the calculated value to a double and lost the decimal places. Solution: Convert it to a double before doing the division. If one of the divisors is a double, java will convert the other one to a double, too. Simply calculate <code>(p * r * t) &#47; 100d</code> or <code>(p * r * t) &#47; 100.</code> or <code>(p * r * t) &#47; 100.0</code>, they all use 100 as a double."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1679165132,"post_id":75777879,"comment_id":133674126,"body_markdown":"As an aside, I&#39;d strongly encourage you to put more time into thinking of meaningful names for both variables and classes - `ob`, `SI`, `CI`, `p`, `r`, and `t` are really non-descriptive. (`SimpleInterest`, `CompoundInterest`, `principle`, `rate`, and `years` would be much more meaningful names.)","body":"As an aside, I&#39;d strongly encourage you to put more time into thinking of meaningful names for both variables and classes - <code>ob</code>, <code>SI</code>, <code>CI</code>, <code>p</code>, <code>r</code>, and <code>t</code> are really non-descriptive. (<code>SimpleInterest</code>, <code>CompoundInterest</code>, <code>principle</code>, <code>rate</code>, and <code>years</code> would be much more meaningful names.)"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679165289,"post_id":75777879,"comment_id":133674148,"body_markdown":"Next, in your `Interest.display` method, you&#39;re creating a new instance of `Interest`. You&#39;re populating the fields within that new instance - and then ignoring it. I would recommend you call it something entirely different (as it&#39;s *not* displaying the result), and set the fields on the instance it&#39;s called on, rather than a new one. Separate out the different aspects: 1) picking which Interest subclass to use; 2) populating the fields; 3) displaying the result.","body":"Next, in your <code>Interest.display</code> method, you&#39;re creating a new instance of <code>Interest</code>. You&#39;re populating the fields within that new instance - and then ignoring it. I would recommend you call it something entirely different (as it&#39;s <i>not</i> displaying the result), and set the fields on the instance it&#39;s called on, rather than a new one. Separate out the different aspects: 1) picking which Interest subclass to use; 2) populating the fields; 3) displaying the result."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679165621,"post_id":75777879,"comment_id":133674205,"body_markdown":"Thank you all for your suggestions. Helped me a lot.","body":"Thank you all for your suggestions. Helped me a lot."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166034,"post_id":75777879,"comment_id":133674256,"body_markdown":"@Cactusroot I did but it&#39;s still not working.","body":"@Cactusroot I did but it&#39;s still not working."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679166235,"post_id":75777879,"comment_id":133674277,"body_markdown":"Have you directly assigned the fields `Interest#display` instead of creating a seperate object and also switched to `100d` for the calculation in `CI#display`?","body":"Have you directly assigned the fields <code>Interest#display</code> instead of creating a seperate object and also switched to <code>100d</code> for the calculation in <code>CI#display</code>?"},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166400,"post_id":75777879,"comment_id":133674295,"body_markdown":"@Cactusroot Many thanks! I used different name for the Interest#display object and it worked like a charm.","body":"@Cactusroot Many thanks! I used different name for the Interest#display object and it worked like a charm."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679166490,"post_id":75777879,"comment_id":133674311,"body_markdown":"@Cactusroot My bad, it worked because I assigned default values in it. Is there a way to ask the user for the values here?","body":"@Cactusroot My bad, it worked because I assigned default values in it. Is there a way to ask the user for the values here?"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679166588,"post_id":75777879,"comment_id":133674323,"body_markdown":"You don&#39;t need the object at all. Inside of the function `Interest#display` you are already in the scope of an `Interest` object! You can assign the variables directly without using `ob.` and remove the local variable `ob` completely.","body":"You don&#39;t need the object at all. Inside of the function <code>Interest#display</code> you are already in the scope of an <code>Interest</code> object! You can assign the variables directly without using <code>ob.</code> and remove the local variable <code>ob</code> completely."},{"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"score":0,"creation_date":1679167079,"post_id":75777879,"comment_id":133674383,"body_markdown":"@Cactusroot Now I get it. I did because when I used to create main function inside the class it was not visible despite it being in the same class. Why was that though?","body":"@Cactusroot Now I get it. I did because when I used to create main function inside the class it was not visible despite it being in the same class. Why was that though?"},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679167501,"post_id":75777879,"comment_id":133674441,"body_markdown":"Ah, I see. That&#39;s because inside of the main function, there wasn&#39;t any object of the class Interest yet. A static function, like the main function, is a complete standalone function: You are not inside of the context/scope of any object. A function inside of the class is always called on an object of that class, like you do by calling `ob.display()`. The variable `ob` holds an object of that class, so when assigning the variables, you modify the variables of this object.","body":"Ah, I see. That&#39;s because inside of the main function, there wasn&#39;t any object of the class Interest yet. A static function, like the main function, is a complete standalone function: You are not inside of the context/scope of any object. A function inside of the class is always called on an object of that class, like you do by calling <code>ob.display()</code>. The variable <code>ob</code> holds an object of that class, so when assigning the variables, you modify the variables of this object."},{"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"score":0,"creation_date":1679167663,"post_id":75777879,"comment_id":133674463,"body_markdown":"The difference of modifying an object from a variable or from within the class is that within the class you can also access fields with the `private` visibility modifier. This is used to ensure that variables of objects cannot be arbitrarily changed from anywhere, you are trying to sustain an autonomy of an object. Since your variables don&#39;t have a visibility modifier, they are package private, so you can modify them from anything within your folder. This is why you could modify the variables from your main function.","body":"The difference of modifying an object from a variable or from within the class is that within the class you can also access fields with the <code>private</code> visibility modifier. This is used to ensure that variables of objects cannot be arbitrarily changed from anywhere, you are trying to sustain an autonomy of an object. Since your variables don&#39;t have a visibility modifier, they are package private, so you can modify them from anything within your folder. This is why you could modify the variables from your main function."}],"owner":{"account_id":26822616,"reputation":43,"user_id":20411720,"display_name":"Zethyst"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679164729,"answer_count":0,"score":0,"last_activity_date":1679164625,"creation_date":1679164171,"question_id":75777879,"body_markdown":"I have to use dynamic method dispatch but the interest is always coming &#39;zero&#39; no matter what I do with the data members.\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\nimport java.util.*;\r\n\r\nclass Interest {\r\n    int p, r, t;\r\n\r\n    void display() {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;------Interest Calculation------&quot;);\r\n        Interest ob = new Interest();\r\n        System.out.print(&quot;Enter Principal Amount: &quot;);\r\n        ob.p = sc.nextInt();\r\n        System.out.print(&quot;Enter Rate of Interest: &quot;);\r\n        ob.r = sc.nextInt();\r\n        System.out.print(&quot;Enter Years: &quot;);\r\n        ob.t = sc.nextInt();\r\n    }\r\n}\r\n\r\nclass SI extends Interest {\r\n    void display() {\r\n        super.display();\r\n        double i = (p * r * t) / 100;\r\n        System.out.println(&quot;Simple Interest: &quot; + i);\r\n    }\r\n}\r\n\r\nclass CI extends Interest {\r\n    void display() {\r\n        super.display();\r\n        double i = Math.pow(p * (1 + r / 100), t) - p;\r\n        System.out.println(&quot;Compound Interest: &quot; + i);\r\n    }\r\n}\r\n\r\nclass Money {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n       Interest ob;\r\n        System.out.println(&quot;1. Simple Interest&quot;);\r\n        System.out.println(&quot;2. Compound Interest&quot;);\r\n        System.out.println(&quot;Enter your choice: &quot;);\r\n        int ch = sc.nextInt();\r\n        switch (ch) {\r\n            case 1:\r\n                ob = new SI();\r\n                ob.display();\r\n                break;\r\n\r\n            case 2:\r\n                ob = new CI();\r\n                ob.display();\r\n                break;\r\n\r\n            default:\r\n                System.out.println(&quot;Wrong Choice!&quot;);\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n1\\. Simple Interest\r\n\r\n2\\. Compound Interest\r\n\r\nEnter your choice:\r\n\r\n1\r\n\r\n\\------Interest Calculation------\r\n\r\nEnter Principal Amount: 4\r\n\r\nEnter Rate of Interest: 3\r\n\r\nEnter Years: 3\r\n\r\nSimple Interest: 0.0","title":"Why is interest coming zero?","body":"<p>I have to use dynamic method dispatch but the interest is always coming 'zero' no matter what I do with the data members.</p>\n<p>Here's the code:</p>\n<pre><code>import java.util.*;\n\nclass Interest {\n    int p, r, t;\n\n    void display() {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;------Interest Calculation------&quot;);\n        Interest ob = new Interest();\n        System.out.print(&quot;Enter Principal Amount: &quot;);\n        ob.p = sc.nextInt();\n        System.out.print(&quot;Enter Rate of Interest: &quot;);\n        ob.r = sc.nextInt();\n        System.out.print(&quot;Enter Years: &quot;);\n        ob.t = sc.nextInt();\n    }\n}\n\nclass SI extends Interest {\n    void display() {\n        super.display();\n        double i = (p * r * t) / 100;\n        System.out.println(&quot;Simple Interest: &quot; + i);\n    }\n}\n\nclass CI extends Interest {\n    void display() {\n        super.display();\n        double i = Math.pow(p * (1 + r / 100), t) - p;\n        System.out.println(&quot;Compound Interest: &quot; + i);\n    }\n}\n\nclass Money {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n       Interest ob;\n        System.out.println(&quot;1. Simple Interest&quot;);\n        System.out.println(&quot;2. Compound Interest&quot;);\n        System.out.println(&quot;Enter your choice: &quot;);\n        int ch = sc.nextInt();\n        switch (ch) {\n            case 1:\n                ob = new SI();\n                ob.display();\n                break;\n\n            case 2:\n                ob = new CI();\n                ob.display();\n                break;\n\n            default:\n                System.out.println(&quot;Wrong Choice!&quot;);\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p>1. Simple Interest</p>\n<p>2. Compound Interest</p>\n<p>Enter your choice:</p>\n<p>1</p>\n<p>------Interest Calculation------</p>\n<p>Enter Principal Amount: 4</p>\n<p>Enter Rate of Interest: 3</p>\n<p>Enter Years: 3</p>\n<p>Simple Interest: 0.0</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679163943,"post_id":75777832,"comment_id":133673934,"body_markdown":"You should create a list of `Fencers` and serialize that, instead of serializing individual objects and concatenating them.","body":"You should create a list of <code>Fencers</code> and serialize that, instead of serializing individual objects and concatenating them."},{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1679163976,"post_id":75777832,"comment_id":133673942,"body_markdown":"Surely you need to put your objects in a collection and convert that to JSON?","body":"Surely you need to put your objects in a collection and convert that to JSON?"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679164063,"creation_date":1679164063,"answer_id":75777863,"question_id":75777832,"body_markdown":"You need to collect the elements in a collection (or just array).\r\n```\r\nFencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\nFencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\nList&lt;Fencers&gt; list = Arrays.asList(fencer1, fencer2);\r\nString json = new Gson().toJson(list);\r\nSystem.out.println(json);\r\n```","title":"how to reformat a json file in java","body":"<p>You need to collect the elements in a collection (or just array).</p>\n<pre><code>Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\nFencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\nList&lt;Fencers&gt; list = Arrays.asList(fencer1, fencer2);\nString json = new Gson().toJson(list);\nSystem.out.println(json);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679164074,"creation_date":1679164074,"answer_id":75777865,"question_id":75777832,"body_markdown":"Try this:\r\n\r\n    public static void main(String[] args){\r\n            Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n            Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n            List&lt;Fencers&gt; fencerList = new ArrayList&lt;&gt;();\r\n            fencerList.add(fencer1);\r\n            fencerList.add(fencer2);\r\n            String json = new Gson().toJson(fencerList);\r\n            System.out.println(json);\r\n         \r\n        }","title":"how to reformat a json file in java","body":"<p>Try this:</p>\n<pre><code>public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        List&lt;Fencers&gt; fencerList = new ArrayList&lt;&gt;();\n        fencerList.add(fencer1);\n        fencerList.add(fencer2);\n        String json = new Gson().toJson(fencerList);\n        System.out.println(json);\n     \n    }\n</code></pre>\n"}],"owner":{"account_id":28051130,"reputation":23,"user_id":21427000,"display_name":"Moustafa Amr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75777865,"answer_count":2,"score":1,"last_activity_date":1679164074,"creation_date":1679163605,"question_id":75777832,"body_markdown":"Okay so this is my code --&gt;\r\nfirst we have a normal class:\r\n\r\n```\r\npublic class Fencers{\r\n    private String name,nation;\r\n    private int id;\r\n\r\n    public Fencers(String name, String nation,int id) {\r\n        this.name = name;\r\n        this.nation = nation;\r\n        this.id = id;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\r\n    }\r\n}\r\n```\r\nthen this is my main class trying to convert every class object to a json file using GSON\r\n```\r\nclass Main{\r\n    public static void main(String[] args){\r\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\r\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\r\n        String json = new Gson().toJson(fencer1);\r\n        json += new Gson().toJson(fencer2);\r\n        System.out.println(json);\r\n     \r\n    }\r\n}\r\n```\r\nthe only problem here is it prints ```json``` like this: \r\n```\r\n{\r\n  &quot;name&quot;:&quot;m&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n  &quot;id&quot;:100\r\n}\r\n{&quot;name&quot;:&quot;342&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n  &quot;id&quot;:120\r\n}\r\n```\r\nand I want them to be like this\r\n```\r\n[\r\n {\r\n  &quot;name&quot;:&quot;m&quot;,\r\n  &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:100\r\n  },\r\n  {\r\n   &quot;name&quot;:&quot;342&quot;,\r\n   &quot;nation&quot;:&quot;egy&quot;,\r\n   &quot;id&quot;:120\r\n }\r\n]\r\n```\r\nreally appreciate the help \r\n\r\n","title":"how to reformat a json file in java","body":"<p>Okay so this is my code --&gt;\nfirst we have a normal class:</p>\n<pre><code>public class Fencers{\n    private String name,nation;\n    private int id;\n\n    public Fencers(String name, String nation,int id) {\n        this.name = name;\n        this.nation = nation;\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return\n                id+&quot; &quot;+name+&quot; &quot;+nation+&quot;\\n&quot;;\n    }\n}\n</code></pre>\n<p>then this is my main class trying to convert every class object to a json file using GSON</p>\n<pre><code>class Main{\n    public static void main(String[] args){\n        Fencers fencer1 = new Fencers(&quot;m&quot;,&quot;egy&quot;,100);\n        Fencers fencer2 = new Fencers(&quot;342&quot;,&quot;egy&quot;,120);\n        String json = new Gson().toJson(fencer1);\n        json += new Gson().toJson(fencer2);\n        System.out.println(json);\n     \n    }\n}\n</code></pre>\n<p>the only problem here is it prints <code>json</code> like this:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;m&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n  &quot;id&quot;:100\n}\n{&quot;name&quot;:&quot;342&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n  &quot;id&quot;:120\n}\n</code></pre>\n<p>and I want them to be like this</p>\n<pre><code>[\n {\n  &quot;name&quot;:&quot;m&quot;,\n  &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:100\n  },\n  {\n   &quot;name&quot;:&quot;342&quot;,\n   &quot;nation&quot;:&quot;egy&quot;,\n   &quot;id&quot;:120\n }\n]\n</code></pre>\n<p>really appreciate the help</p>\n"},{"tags":["java","spring","spring-boot","eclipse"],"owner":{"account_id":17728759,"reputation":51,"user_id":12871865,"display_name":"The Algerianman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679163925,"creation_date":1679162610,"question_id":75777731,"body_markdown":"I&#39;m using the spring-boot-configuration-processor to generate some metadata from my `@ConfigurationProperties` class and use it in Eclipse to generate proposals in the application.properties file. The metadata (JSON) should be generated in the target folder of the project folder after the build, but it isn&#39;t. \r\n\r\nHere&#39;s the `@ConfigurationProperties` class:\r\n\r\n```\r\npackage com.hakim.config;\r\n\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\n\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\n@ConfigurationProperties(prefix = &quot;rsa&quot;)\r\npublic record RsaKeyProperties(RSAPublicKey publicKey, RSAPrivateKey privateKey) {\r\n\t\r\n}\r\n```\r\n\r\nAnd here&#39;s the main class:\r\n\r\n\r\n```\r\npackage com.hakim;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n\r\nimport com.hakim.config.RsaKeyProperties;\r\n\r\n@EnableConfigurationProperties(RsaKeyProperties.class)\r\n@SpringBootApplication\r\npublic class JwtApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(JwtApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried configuring the project in eclipse to use spring-boot-configuration-processor as an annotations processor but still no metadata generated. ","title":"spring-boot-configuration-processor does not generate metadata in Eclipse IDE","body":"<p>I'm using the spring-boot-configuration-processor to generate some metadata from my <code>@ConfigurationProperties</code> class and use it in Eclipse to generate proposals in the application.properties file. The metadata (JSON) should be generated in the target folder of the project folder after the build, but it isn't.</p>\n<p>Here's the <code>@ConfigurationProperties</code> class:</p>\n<pre><code>package com.hakim.config;\n\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\n\n@ConfigurationProperties(prefix = &quot;rsa&quot;)\npublic record RsaKeyProperties(RSAPublicKey publicKey, RSAPrivateKey privateKey) {\n    \n}\n</code></pre>\n<p>And here's the main class:</p>\n<pre><code>package com.hakim;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\nimport com.hakim.config.RsaKeyProperties;\n\n@EnableConfigurationProperties(RsaKeyProperties.class)\n@SpringBootApplication\npublic class JwtApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(JwtApplication.class, args);\n    }\n}\n</code></pre>\n<p>I've tried configuring the project in eclipse to use spring-boot-configuration-processor as an annotations processor but still no metadata generated.</p>\n"},{"tags":["java","list","sorting","collections","alphabetical"],"answers":[{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":2,"up_vote_count":255,"is_accepted":false,"score":253,"last_activity_date":1663920725,"creation_date":1238658351,"answer_id":708708,"question_id":708698,"body_markdown":"Assuming that those are Strings, use the convenient static method [`sort`][1]:\r\n\r\n    Collections.sort(listOfCountryNames)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29","title":"How can I sort a List alphabetically?","body":"<p>Assuming that those are Strings, use the convenient static method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List%29\" rel=\"noreferrer\"><code>sort</code></a>:</p>\n<pre><code>Collections.sort(listOfCountryNames)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17713,"reputation":7223,"user_id":39946,"accept_rate":53,"display_name":"Lena Schimmel"},"down_vote_count":2,"up_vote_count":160,"is_accepted":false,"score":158,"last_activity_date":1294760517,"creation_date":1238665897,"answer_id":709056,"question_id":708698,"body_markdown":"Solution with Collections.sort\r\n-----\r\n\r\nIf you are forced to use that List&lt;String&gt;, or if your program has a structure like\r\n\r\n - Create List\r\n - Add some country names\r\n - sort them once\r\n - never change that list again\r\n\r\nthen Thilos answer will be the best way to do it. If you combine it with the advice from *Tom Hawtin - tackline*, you get:\r\n\r\n    java.util.Collections.sort(listOfCountryNames, Collator.getInstance());\r\n\r\nSolution with a TreeSet\r\n----\r\nIf you are free to decide, and if your application might get more complex, then you might change your code to use a TreeSet&lt;String&gt; instead. This kind of collection sorts your entries just when they are inserted. No need to call sort().\r\n\r\n\r\n    Collection&lt;String&gt; countryNames = \r\n        new TreeSet&lt;String&gt;(Collator.getInstance());\r\n    countryNames.add(&quot;UK&quot;);\r\n    countryNames.add(&quot;Germany&quot;);\r\n    countryNames.add(&quot;Australia&quot;);\r\n    // Tada... sorted.\r\n\r\n\r\nSide note on why I prefer the TreeSet\r\n----\r\nThis has some subtle, but important advantages:\r\n\r\n - It&#39;s simply shorter. Only one line shorter, though.\r\n - Never worry about *is this list really sorted right now* becaude a TreeSet is always sorted, no matter what you do.\r\n - You cannot have duplicate entries. Depending on your situation this may be a pro or a con. If you need duplicates, stick to your List.\r\n - An experienced programmer looks at `TreeSet&lt;String&gt; countyNames` and instantly knows: *this is a sorted collection of Strings without duplicates, and I can be sure that this is true at every moment*. So much information in a short declaration.\r\n - Real performance win in some cases. If you use a List, and insert values very often, and the list may be read between those insertions, then you have to sort the list after every insertion. The set does the same, but does it much faster.\r\n\r\nUsing the right collection for the right task is a key to write short and bug free code. It&#39;s not as demonstrative in this case, because you just save one line. But I&#39;ve stopped counting how often I see someone using a List when they want to ensure there are no duplictes, and then build that functionality themselves. Or even worse, using two Lists when you really need a Map.\r\n\r\nDon&#39;t get me wrong: Using Collections.sort is not an error or a flaw. But there are many cases when the TreeSet is much cleaner.","title":"How can I sort a List alphabetically?","body":"<h2>Solution with Collections.sort</h2>\n\n<p>If you are forced to use that List, or if your program has a structure like</p>\n\n<ul>\n<li>Create List</li>\n<li>Add some country names</li>\n<li>sort them once</li>\n<li>never change that list again</li>\n</ul>\n\n<p>then Thilos answer will be the best way to do it. If you combine it with the advice from <em>Tom Hawtin - tackline</em>, you get:</p>\n\n<pre><code>java.util.Collections.sort(listOfCountryNames, Collator.getInstance());\n</code></pre>\n\n<h2>Solution with a TreeSet</h2>\n\n<p>If you are free to decide, and if your application might get more complex, then you might change your code to use a TreeSet instead. This kind of collection sorts your entries just when they are inserted. No need to call sort().</p>\n\n<pre><code>Collection&lt;String&gt; countryNames = \n    new TreeSet&lt;String&gt;(Collator.getInstance());\ncountryNames.add(\"UK\");\ncountryNames.add(\"Germany\");\ncountryNames.add(\"Australia\");\n// Tada... sorted.\n</code></pre>\n\n<h2>Side note on why I prefer the TreeSet</h2>\n\n<p>This has some subtle, but important advantages:</p>\n\n<ul>\n<li>It's simply shorter. Only one line shorter, though.</li>\n<li>Never worry about <em>is this list really sorted right now</em> becaude a TreeSet is always sorted, no matter what you do.</li>\n<li>You cannot have duplicate entries. Depending on your situation this may be a pro or a con. If you need duplicates, stick to your List.</li>\n<li>An experienced programmer looks at <code>TreeSet&lt;String&gt; countyNames</code> and instantly knows: <em>this is a sorted collection of Strings without duplicates, and I can be sure that this is true at every moment</em>. So much information in a short declaration.</li>\n<li>Real performance win in some cases. If you use a List, and insert values very often, and the list may be read between those insertions, then you have to sort the list after every insertion. The set does the same, but does it much faster.</li>\n</ul>\n\n<p>Using the right collection for the right task is a key to write short and bug free code. It's not as demonstrative in this case, because you just save one line. But I've stopped counting how often I see someone using a List when they want to ensure there are no duplictes, and then build that functionality themselves. Or even worse, using two Lists when you really need a Map.</p>\n\n<p>Don't get me wrong: Using Collections.sort is not an error or a flaw. But there are many cases when the TreeSet is much cleaner.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1238680654,"creation_date":1238680654,"answer_id":709830,"question_id":708698,"body_markdown":"Use the two argument for of `Collections.sort`. You will want a suitable `Comparator` that treats case appropriate (i.e. does lexical, not UTF16 ordering), such as that obtainable through `java.text.Collator.getInstance`.","title":"How can I sort a List alphabetically?","body":"<p>Use the two argument for of <code>Collections.sort</code>. You will want a suitable <code>Comparator</code> that treats case appropriate (i.e. does lexical, not UTF16 ordering), such as that obtainable through <code>java.text.Collator.getInstance</code>.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1409790247,"creation_date":1363347161,"answer_id":15431324,"question_id":708698,"body_markdown":"You can create a new sorted copy using Java 8 Stream or Guava:\r\n\r\n    // Java 8 version\r\n    List&lt;String&gt; sortedNames = names.stream().sorted().collect(Collectors.toList());\r\n    // Guava version\r\n    List&lt;String&gt; sortedNames = Ordering.natural().sortedCopy(names); \r\n\r\nAnother option is to sort in-place via Collections API:\r\n\r\n    Collections.sort(names);\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"How can I sort a List alphabetically?","body":"<p>You can create a new sorted copy using Java 8 Stream or Guava:</p>\n\n<pre><code>// Java 8 version\nList&lt;String&gt; sortedNames = names.stream().sorted().collect(Collectors.toList());\n// Guava version\nList&lt;String&gt; sortedNames = Ordering.natural().sortedCopy(names); \n</code></pre>\n\n<p>Another option is to sort in-place via Collections API:</p>\n\n<pre><code>Collections.sort(names);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2254693,"reputation":2304,"user_id":1986125,"accept_rate":100,"display_name":"Tirath"},"down_vote_count":5,"up_vote_count":33,"is_accepted":false,"score":28,"last_activity_date":1534011733,"creation_date":1410690776,"answer_id":25832344,"question_id":708698,"body_markdown":"Better late than never! Here is how we can do it(for learning purpose only)-\r\n\r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n\r\n    class SoftDrink {\r\n\t    String name;\r\n\t    String color;\r\n\t    int volume; \r\n\t\r\n\t    SoftDrink (String name, String color, int volume) {\r\n\t\t    this.name = name;\r\n\t\t    this.color = color;\r\n\t\t    this.volume = volume;\r\n\t    }\r\n    }\r\n\r\n    public class ListItemComparision {\r\n\t    public static void main (String...arg) {\r\n\t\t    List&lt;SoftDrink&gt; softDrinkList = new ArrayList&lt;SoftDrink&gt;() ;\r\n\t\t    softDrinkList .add(new SoftDrink(&quot;Faygo&quot;, &quot;ColorOne&quot;, 4));\r\n\t\t    softDrinkList .add(new SoftDrink(&quot;Fanta&quot;,  &quot;ColorTwo&quot;, 3));\r\n\t\t    softDrinkList .add(new SoftDrink(&quot;Frooti&quot;, &quot;ColorThree&quot;, 2));\t\t\r\n            softDrinkList .add(new SoftDrink(&quot;Freshie&quot;, &quot;ColorFour&quot;, 1));\r\n\r\n\t\t    Collections.sort(softDrinkList, new Comparator() {\r\n\t\t\t    @Override\r\n\t\t\t    public int compare(Object softDrinkOne, Object softDrinkTwo) {\r\n\t\t\t\t    //use instanceof to verify the references are indeed of the type in question\r\n\t\t\t\t    return ((SoftDrink)softDrinkOne).name\r\n                            .compareTo(((SoftDrink)softDrinkTwo).name);\r\n\t\t\t    }\r\n\t\t    });\t\r\n\t\t    for (SoftDrink sd : softDrinkList) {\r\n\t\t\t    System.out.println(sd.name + &quot; - &quot; + sd.color + &quot; - &quot; + sd.volume);\r\n\t\t    }\r\n\t\t    Collections.sort(softDrinkList, new Comparator() {\r\n\t\t\t    @Override\r\n\t\t\t    public int compare(Object softDrinkOne, Object softDrinkTwo) {\r\n\t\t\t\t    //comparision for primitive int uses compareTo of the wrapper Integer\r\n\t                return(new Integer(((SoftDrink)softDrinkOne).volume))\r\n                            .compareTo(((SoftDrink)softDrinkTwo).volume);\r\n\t\t\t    }\r\n\t\t    });\r\n\t\t\r\n\t\t    for (SoftDrink sd : softDrinkList) {\r\n\t\t\t    System.out.println(sd.volume + &quot; - &quot; + sd.color + &quot; - &quot; + sd.name);\r\n\t\t    }\t\r\n\t    }\r\n    }","title":"How can I sort a List alphabetically?","body":"<p>Better late than never! Here is how we can do it(for learning purpose only)-</p>\n\n<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\nclass SoftDrink {\n    String name;\n    String color;\n    int volume; \n\n    SoftDrink (String name, String color, int volume) {\n        this.name = name;\n        this.color = color;\n        this.volume = volume;\n    }\n}\n\npublic class ListItemComparision {\n    public static void main (String...arg) {\n        List&lt;SoftDrink&gt; softDrinkList = new ArrayList&lt;SoftDrink&gt;() ;\n        softDrinkList .add(new SoftDrink(\"Faygo\", \"ColorOne\", 4));\n        softDrinkList .add(new SoftDrink(\"Fanta\",  \"ColorTwo\", 3));\n        softDrinkList .add(new SoftDrink(\"Frooti\", \"ColorThree\", 2));       \n        softDrinkList .add(new SoftDrink(\"Freshie\", \"ColorFour\", 1));\n\n        Collections.sort(softDrinkList, new Comparator() {\n            @Override\n            public int compare(Object softDrinkOne, Object softDrinkTwo) {\n                //use instanceof to verify the references are indeed of the type in question\n                return ((SoftDrink)softDrinkOne).name\n                        .compareTo(((SoftDrink)softDrinkTwo).name);\n            }\n        }); \n        for (SoftDrink sd : softDrinkList) {\n            System.out.println(sd.name + \" - \" + sd.color + \" - \" + sd.volume);\n        }\n        Collections.sort(softDrinkList, new Comparator() {\n            @Override\n            public int compare(Object softDrinkOne, Object softDrinkTwo) {\n                //comparision for primitive int uses compareTo of the wrapper Integer\n                return(new Integer(((SoftDrink)softDrinkOne).volume))\n                        .compareTo(((SoftDrink)softDrinkTwo).volume);\n            }\n        });\n\n        for (SoftDrink sd : softDrinkList) {\n            System.out.println(sd.volume + \" - \" + sd.color + \" - \" + sd.name);\n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4423251"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1420618196,"creation_date":1420618196,"answer_id":27814948,"question_id":708698,"body_markdown":"\t//Here is sorted List alphabetically with syncronized\r\n\tpackage com.mnas.technology.automation.utility;\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.Comparator;\r\n\timport java.util.Iterator;\r\n\timport java.util.List;\r\n\r\n\timport org.apache.log4j.Logger;\r\n\t/**\r\n\t* \r\n\t* @author manoj.kumar\r\n\t*/\r\n\tpublic class SynchronizedArrayList {\r\n\tstatic Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static void main(String[] args) {\r\n\r\n\tList&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\r\n\tsynchronizedList.add(new Employee(&quot;Aditya&quot;));\r\n\tsynchronizedList.add(new Employee(&quot;Siddharth&quot;));\r\n\tsynchronizedList.add(new Employee(&quot;Manoj&quot;));\r\n\tCollections.sort(synchronizedList, new Comparator() {\r\n\tpublic int compare(Object synchronizedListOne, Object synchronizedListTwo) {\r\n\t//use instanceof to verify the references are indeed of the type in question\r\n\treturn ((Employee)synchronizedListOne).name\r\n\t.compareTo(((Employee)synchronizedListTwo).name);\r\n\t}\r\n\t}); \r\n\t/*for( Employee sd : synchronizedList) {\r\n\tlog.info(&quot;Sorted Synchronized Array List...&quot;+sd.name);\r\n\t}*/\r\n\r\n\t// when iterating over a synchronized list, we need to synchronize access to the synchronized list\r\n\tsynchronized (synchronizedList) {\r\n\tIterator&lt;Employee&gt; iterator = synchronizedList.iterator();\r\n\twhile (iterator.hasNext()) {\r\n\tlog.info(&quot;Sorted Synchronized Array List Items: &quot; + iterator.next().name);\r\n\t}\r\n\t}\r\n\r\n\t}\r\n\t}\r\n\tclass Employee {\r\n\tString name;\r\n\tEmployee (String name) {\r\n\tthis.name = name;\r\n\r\n\t}\r\n\t}\r\n","title":"How can I sort a List alphabetically?","body":"<pre><code>//Here is sorted List alphabetically with syncronized\npackage com.mnas.technology.automation.utility;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport org.apache.log4j.Logger;\n/**\n* \n* @author manoj.kumar\n*/\npublic class SynchronizedArrayList {\nstatic Logger log = Logger.getLogger(SynchronizedArrayList.class.getName());\n@SuppressWarnings(\"unchecked\")\npublic static void main(String[] args) {\n\nList&lt;Employee&gt; synchronizedList = Collections.synchronizedList(new ArrayList&lt;Employee&gt;());\nsynchronizedList.add(new Employee(\"Aditya\"));\nsynchronizedList.add(new Employee(\"Siddharth\"));\nsynchronizedList.add(new Employee(\"Manoj\"));\nCollections.sort(synchronizedList, new Comparator() {\npublic int compare(Object synchronizedListOne, Object synchronizedListTwo) {\n//use instanceof to verify the references are indeed of the type in question\nreturn ((Employee)synchronizedListOne).name\n.compareTo(((Employee)synchronizedListTwo).name);\n}\n}); \n/*for( Employee sd : synchronizedList) {\nlog.info(\"Sorted Synchronized Array List...\"+sd.name);\n}*/\n\n// when iterating over a synchronized list, we need to synchronize access to the synchronized list\nsynchronized (synchronizedList) {\nIterator&lt;Employee&gt; iterator = synchronizedList.iterator();\nwhile (iterator.hasNext()) {\nlog.info(\"Sorted Synchronized Array List Items: \" + iterator.next().name);\n}\n}\n\n}\n}\nclass Employee {\nString name;\nEmployee (String name) {\nthis.name = name;\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":920347,"reputation":10311,"user_id":952135,"accept_rate":58,"display_name":"Oliv"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1581074604,"creation_date":1432211355,"answer_id":30373828,"question_id":708698,"body_markdown":"&lt;!-- language: lang-java --&gt;\r\nUnless you are sorting strings in an accent-free English only, you probably want to use a `Collator`. It will correctly sort diacritical marks, can ignore case and other language-specific stuff:\r\n\r\n    Collections.sort(countries, Collator.getInstance(new Locale(languageCode)));\r\n\r\nYou can set the [collator strength][1], see the javadoc.\r\n\r\nHere is an example for Slovak where `Š` should go after `S`, but in UTF `Š` is somewhere after `Z`:\r\n\r\n\tList&lt;String&gt; countries = Arrays.asList(&quot;Slovensko&quot;, &quot;Šv&#233;dsko&quot;, &quot;Turecko&quot;);\r\n\r\n\tCollections.sort(countries);\r\n\tSystem.out.println(countries); // outputs [Slovensko, Turecko, Šv&#233;dsko]\r\n\r\n\tCollections.sort(countries, Collator.getInstance(new Locale(&quot;sk&quot;)));\r\n\tSystem.out.println(countries); // outputs [Slovensko, Šv&#233;dsko, Turecko]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html#setStrength-int-","title":"How can I sort a List alphabetically?","body":"<p>Unless you are sorting strings in an accent-free English only, you probably want to use a <code>Collator</code>. It will correctly sort diacritical marks, can ignore case and other language-specific stuff:</p>\n\n<pre><code>Collections.sort(countries, Collator.getInstance(new Locale(languageCode)));\n</code></pre>\n\n<p>You can set the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/Collator.html#setStrength-int-\" rel=\"noreferrer\">collator strength</a>, see the javadoc.</p>\n\n<p>Here is an example for Slovak where <code>Š</code> should go after <code>S</code>, but in UTF <code>Š</code> is somewhere after <code>Z</code>:</p>\n\n<pre><code>List&lt;String&gt; countries = Arrays.asList(\"Slovensko\", \"Švédsko\", \"Turecko\");\n\nCollections.sort(countries);\nSystem.out.println(countries); // outputs [Slovensko, Turecko, Švédsko]\n\nCollections.sort(countries, Collator.getInstance(new Locale(\"sk\")));\nSystem.out.println(countries); // outputs [Slovensko, Švédsko, Turecko]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053788,"reputation":3379,"user_id":2587867,"accept_rate":58,"display_name":"ASR"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1499800804,"creation_date":1438281103,"answer_id":31731455,"question_id":708698,"body_markdown":"By using `Collections.sort()`, we can sort a list.    \r\n\r\n    public class EmployeeList {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t\tList&lt;String&gt; empNames= new ArrayList&lt;String&gt;();\r\n    \t\t    \t\t\r\n    \t\tempNames.add(&quot;sudheer&quot;);\r\n    \t\tempNames.add(&quot;kumar&quot;);\r\n    \t\tempNames.add(&quot;surendra&quot;);\r\n    \t\tempNames.add(&quot;kb&quot;);\r\n    \t\t\r\n    \t\tif(!empNames.isEmpty()){\r\n    \t\t\t\r\n    \t\t\tfor(String emp:empNames){\r\n    \t\t\t\t\r\n    \t\t\t\tSystem.out.println(emp);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tCollections.sort(empNames);\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(empNames);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    sudheer\r\n    kumar\r\n    surendra\r\n    kb\r\n    [kb, kumar, sudheer, surendra]","title":"How can I sort a List alphabetically?","body":"<p>By using <code>Collections.sort()</code>, we can sort a list.    </p>\n\n<pre><code>public class EmployeeList {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        List&lt;String&gt; empNames= new ArrayList&lt;String&gt;();\n\n        empNames.add(\"sudheer\");\n        empNames.add(\"kumar\");\n        empNames.add(\"surendra\");\n        empNames.add(\"kb\");\n\n        if(!empNames.isEmpty()){\n\n            for(String emp:empNames){\n\n                System.out.println(emp);\n            }\n\n            Collections.sort(empNames);\n\n            System.out.println(empNames);\n        }\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>sudheer\nkumar\nsurendra\nkb\n[kb, kumar, sudheer, surendra]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3243453,"reputation":348,"user_id":2735801,"display_name":"prashant"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450987491,"creation_date":1450956654,"answer_id":34452131,"question_id":708698,"body_markdown":"Here is what you are looking for\r\n\r\n    listOfCountryNames.sort(String::compareToIgnoreCase)\r\n    ","title":"How can I sort a List alphabetically?","body":"<p>Here is what you are looking for</p>\n\n<pre><code>listOfCountryNames.sort(String::compareToIgnoreCase)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1063105,"reputation":4965,"user_id":1064316,"display_name":"norbDEV"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489058854,"creation_date":1489058854,"answer_id":42694200,"question_id":708698,"body_markdown":"descending alphabet:\r\n\r\n    List&lt;String&gt; list;\r\n    ...\r\n    Collections.sort(list);\r\n    Collections.reverse(list);","title":"How can I sort a List alphabetically?","body":"<p>descending alphabet:</p>\n\n<pre><code>List&lt;String&gt; list;\n...\nCollections.sort(list);\nCollections.reverse(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2735009,"reputation":4764,"user_id":2357869,"accept_rate":33,"display_name":"Vijay"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679163353,"creation_date":1493295053,"answer_id":43657432,"question_id":708698,"body_markdown":"Same in JAVA 8 :-\r\n\r\n    //Assecnding order\r\n    listOfCountryNames.stream().sorted().forEach((x) -&gt; System.out.println(x));\r\n    \r\n    //Decending order\r\n    listOfCountryNames.stream().sorted((o1, o2) -&gt; o2.compareTo(o1)).forEach((x) -&gt; System.out.println(x));\r\n\r\n","title":"How can I sort a List alphabetically?","body":"<p>Same in JAVA 8 :-</p>\n<pre><code>//Assecnding order\nlistOfCountryNames.stream().sorted().forEach((x) -&gt; System.out.println(x));\n\n//Decending order\nlistOfCountryNames.stream().sorted((o1, o2) -&gt; o2.compareTo(o1)).forEach((x) -&gt; System.out.println(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4513309,"reputation":2642,"user_id":3668858,"display_name":"Victor Petit"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1526392913,"creation_date":1526392508,"answer_id":50352087,"question_id":708698,"body_markdown":"In one line, using Java 8: \r\n\r\n    list.sort(Comparator.naturalOrder());\r\n","title":"How can I sort a List alphabetically?","body":"<p>In one line, using Java 8: </p>\n\n<pre><code>list.sort(Comparator.naturalOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19941964,"reputation":51,"user_id":14613534,"display_name":"Ralf Hermann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679163385,"creation_date":1611573525,"answer_id":65883733,"question_id":708698,"body_markdown":"You can use the following line\r\n\r\n```\r\nCollections.sort(listOfCountryNames, String.CASE_INSENSITIVE_ORDER)\r\n```\r\n\r\nIt is similar to the suggestion of Thilo, but will not make a difference between upper and lowercase characters.\r\n","title":"How can I sort a List alphabetically?","body":"<p>You can use the following line</p>\n<pre><code>Collections.sort(listOfCountryNames, String.CASE_INSENSITIVE_ORDER)\n</code></pre>\n<p>It is similar to the suggestion of Thilo, but will not make a difference between upper and lowercase characters.</p>\n"},{"tags":[],"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637843431,"creation_date":1637843431,"answer_id":70111166,"question_id":708698,"body_markdown":"Java 8 , \r\n\r\n    countries.sort((country1, country2) -&gt; country1.compareTo(country2));\r\n\r\nIf [String&#39;s compareTo](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-) is not suitable for your need, you can provide any other comparator. ","title":"How can I sort a List alphabetically?","body":"<p>Java 8 ,</p>\n<pre><code>countries.sort((country1, country2) -&gt; country1.compareTo(country2));\n</code></pre>\n<p>If <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#compareTo-java.lang.String-\" rel=\"nofollow noreferrer\">String's compareTo</a> is not suitable for your need, you can provide any other comparator.</p>\n"},{"tags":[],"owner":{"account_id":25112780,"reputation":81,"user_id":18962213,"display_name":"Roon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1651753426,"creation_date":1651753426,"answer_id":72127135,"question_id":708698,"body_markdown":"more simply you can use method reference.   \r\n\r\n     list.sort(String::compareTo);","title":"How can I sort a List alphabetically?","body":"<p>more simply you can use method reference.</p>\n<pre><code> list.sort(String::compareTo);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28049221,"reputation":1,"user_id":21425403,"display_name":"betelgeuse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679132771,"creation_date":1679132771,"answer_id":75775048,"question_id":708698,"body_markdown":"    public static void sortByAlphabetCountry(List&lt;Employee&gt; listCountry) {\r\n        listCountry.sort((o1, o2) -&gt; {\r\n            return o1.getName().compareTo(o2.getName());\r\n        });\r\n    }","title":"How can I sort a List alphabetically?","body":"<pre><code>public static void sortByAlphabetCountry(List&lt;Employee&gt; listCountry) {\n    listCountry.sort((o1, o2) -&gt; {\n        return o1.getName().compareTo(o2.getName());\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":30122,"reputation":2439,"user_id":81948,"accept_rate":53,"display_name":"Lennie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555701,"favorite_count":0,"down_vote_count":3,"up_vote_count":227,"answer_count":16,"score":224,"last_activity_date":1679163385,"creation_date":1238658135,"question_id":708698,"body_markdown":"I have a `List&lt;String&gt;` object that contains country names. How can I sort this list alphabetically?","title":"How can I sort a List alphabetically?","body":"<p>I have a <code>List&lt;String&gt;</code> object that contains country names. How can I sort this list alphabetically?</p>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678467327,"post_id":75696899,"comment_id":133544266,"body_markdown":"No one should be writing unnamed modules in the first place.  And no one should be modifying a module’s set of exported packages.  Presumably, ALL-UNNAMED would be used for throwaway/experimental code that is trying to access classes/members it normally shouldn’t.","body":"No one should be writing unnamed modules in the first place.  And no one should be modifying a module’s set of exported packages.  Presumably, ALL-UNNAMED would be used for throwaway/experimental code that is trying to access classes/members it normally shouldn’t."},{"owner":{"account_id":7689263,"reputation":789,"user_id":5826061,"accept_rate":57,"display_name":"Johann Heinzelreiter"},"score":0,"creation_date":1678619553,"post_id":75696899,"comment_id":133565299,"body_markdown":"In a perfect Java world there should only be Java modules. But until this goal is reached we still need means to migrate existing code incrementally. With the concepts of the unnamed module and automatic modules legacy code and modularized code can coexist.","body":"In a perfect Java world there should only be Java modules. But until this goal is reached we still need means to migrate existing code incrementally. With the concepts of the unnamed module and automatic modules legacy code and modularized code can coexist."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678650212,"post_id":75696899,"comment_id":133570460,"body_markdown":"I agree.  But since automatic modules are fairly easy to implement, I can’t think of too many legitimate uses for ALL-UNNAMED, other than the case I mentioned in my first comment.","body":"I agree.  But since automatic modules are fairly easy to implement, I can’t think of too many legitimate uses for ALL-UNNAMED, other than the case I mentioned in my first comment."}],"answers":[{"tags":[],"owner":{"account_id":7689263,"reputation":789,"user_id":5826061,"accept_rate":57,"display_name":"Johann Heinzelreiter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679163258,"creation_date":1679163258,"answer_id":75777802,"question_id":75696899,"body_markdown":"The assumption that the unnamed module has access to all public packages of other modules is wrong. The unnamed module also has only access to public classes in _exported packages_. Therefore, `--add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED` makes sense.","title":"Need for --add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED","body":"<p>The assumption that the unnamed module has access to all public packages of other modules is wrong. The unnamed module also has only access to public classes in <em>exported packages</em>. Therefore, <code>--add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED</code> makes sense.</p>\n"}],"owner":{"account_id":7689263,"reputation":789,"user_id":5826061,"accept_rate":57,"display_name":"Johann Heinzelreiter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679163258,"creation_date":1678455823,"question_id":75696899,"body_markdown":"When using the Java Platform module system one can add addition exports with the\r\nJVM option `--add-exports &lt;module&gt;/&lt;package&gt;=&lt;reading-module&gt;`. We can use the\r\nvalue `ALL-UNNAMED` for `&lt;reading-module&gt;`. This gives all JPMS modules and the\r\n_unnamed module_ access to the specified package. But the _unnamed module_ has\r\naccess to all packages of any module anyway. So, in what situations is there a\r\nneed for `ALL-UNNAMED`?","title":"Need for --add-exports &lt;module&gt;/&lt;package&gt;=ALL-UNNAMED","body":"<p>When using the Java Platform module system one can add addition exports with the\nJVM option <code>--add-exports &lt;module&gt;/&lt;package&gt;=&lt;reading-module&gt;</code>. We can use the\nvalue <code>ALL-UNNAMED</code> for <code>&lt;reading-module&gt;</code>. This gives all JPMS modules and the\n<em>unnamed module</em> access to the specified package. But the <em>unnamed module</em> has\naccess to all packages of any module anyway. So, in what situations is there a\nneed for <code>ALL-UNNAMED</code>?</p>\n"},{"tags":["java","algorithm","performance","optimization","time-complexity"],"comments":[{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1679151341,"post_id":75776541,"comment_id":133671789,"body_markdown":"allstrings(&quot;12345678&quot;) = (allstrings(&quot;1234567&quot;)+&quot;,8&quot;) + (allstrings(&quot;123456&quot;)+&quot;,78&quot;) + (allstrings(&quot;12345&quot;)+&quot;,678&quot;)","body":"allstrings(&quot;12345678&quot;) = (allstrings(&quot;1234567&quot;)+&quot;,8&quot;) + (allstrings(&quot;123456&quot;)+&quot;,78&quot;) + (allstrings(&quot;12345&quot;)+&quot;,678&quot;)"},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":4,"creation_date":1679151836,"post_id":75776541,"comment_id":133671896,"body_markdown":"The size of the output is Fib(&#119899;) * &#119899;, so you&#39;re anyhow looking at a time complexity of O(&#119899;&#120601;ⁿ) where &#120601;=(1+√5)/2.","body":"The size of the output is Fib(𝑛) * 𝑛, so you&#39;re anyhow looking at a time complexity of O(𝑛𝜙ⁿ) where 𝜙=(1+√5)/2."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679163231,"creation_date":1679163231,"answer_id":75777798,"question_id":75776541,"body_markdown":"The size of the output will be the determining factor. \r\n\r\nWe can produce the strings with this algorithm:\r\n\r\nIf the string has more than 2 characters, then at least one comma has to be inserted. The first comma could be inserted after the first character or after the second character. The substring that follows after the inserted comma can be treated with the same logic.\r\n\r\nSo for the number of strings in the output we observe this recurrence relation:\r\n\r\n&amp;nbsp; &amp;nbsp; &amp;nbsp; &#119879;(1) = 1&lt;br&gt;\r\n&amp;nbsp; &amp;nbsp; &amp;nbsp; &#119879;(2) = 2&lt;br&gt;\r\n&amp;nbsp; &amp;nbsp; &amp;nbsp; &#119879;(&#119899;) = &#119879;(&#119899;−1) + &#119879;(&#119899;−2)&lt;br&gt;\r\n\r\nThis is the Fibonacci sequence. And so the number of strings in the output is equal to Fib(&#119899;), where &#119899; is the size of the input string.\r\n\r\nThis means the output consists of &#119899;⋅Fib(&#119899;) characters (not counting the commas), which is determining for the time complexity of an efficient algorithm. As Fib(&#119899;) is O(&#120601;&lt;sup&gt;&#119899;&lt;/sup&gt;), where [&#120601; = (1+√5)/2](https://en.wikipedia.org/wiki/Fibonacci_sequence#Closed-form_expression), the best time complexity we can achieve is O(&#119899;&#120601;&lt;sup&gt;&#119899;&lt;/sup&gt;).\r\n\r\nHere is a recursive function that implements the above recurrence relation:\r\n\r\n\r\n```\r\n    public static List&lt;String&gt; getCommaSeparatedNumbers(String num) {\r\n        List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n        int n = num.length();\r\n\r\n        if (n == 1) {\r\n            results.add(num);\r\n        } else if (n == 2) {\r\n            results.add(num);\r\n            results.add(num.substring(0, 1) + &quot;,&quot; + num.substring(1));\r\n        } else if (n &gt; 0) {\r\n            for (String s : getCommaSeparatedNumbers(num.substring(2))) {\r\n                results.add(num.substring(0, 2) + &quot;,&quot; + s);\r\n            }\r\n            for (String s : getCommaSeparatedNumbers(num.substring(1))) {\r\n                results.add(num.substring(0, 1) + &quot;,&quot; + s);\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n```","title":"How to improve the time complexity of this algorithm to create comma separated digits?","body":"<p>The size of the output will be the determining factor.</p>\n<p>We can produce the strings with this algorithm:</p>\n<p>If the string has more than 2 characters, then at least one comma has to be inserted. The first comma could be inserted after the first character or after the second character. The substring that follows after the inserted comma can be treated with the same logic.</p>\n<p>So for the number of strings in the output we observe this recurrence relation:</p>\n<p>      𝑇(1) = 1<br>\n      𝑇(2) = 2<br>\n      𝑇(𝑛) = 𝑇(𝑛−1) + 𝑇(𝑛−2)<br></p>\n<p>This is the Fibonacci sequence. And so the number of strings in the output is equal to Fib(𝑛), where 𝑛 is the size of the input string.</p>\n<p>This means the output consists of 𝑛⋅Fib(𝑛) characters (not counting the commas), which is determining for the time complexity of an efficient algorithm. As Fib(𝑛) is O(𝜙<sup>𝑛</sup>), where <a href=\"https://en.wikipedia.org/wiki/Fibonacci_sequence#Closed-form_expression\" rel=\"nofollow noreferrer\">𝜙 = (1+√5)/2</a>, the best time complexity we can achieve is O(𝑛𝜙<sup>𝑛</sup>).</p>\n<p>Here is a recursive function that implements the above recurrence relation:</p>\n<pre><code>    public static List&lt;String&gt; getCommaSeparatedNumbers(String num) {\n        List&lt;String&gt; results = new ArrayList&lt;&gt;();\n        int n = num.length();\n\n        if (n == 1) {\n            results.add(num);\n        } else if (n == 2) {\n            results.add(num);\n            results.add(num.substring(0, 1) + &quot;,&quot; + num.substring(1));\n        } else if (n &gt; 0) {\n            for (String s : getCommaSeparatedNumbers(num.substring(2))) {\n                results.add(num.substring(0, 2) + &quot;,&quot; + s);\n            }\n            for (String s : getCommaSeparatedNumbers(num.substring(1))) {\n                results.add(num.substring(0, 1) + &quot;,&quot; + s);\n            }\n        }\n        return results;\n    }\n</code></pre>\n"}],"owner":{"account_id":9652940,"reputation":57,"user_id":9244279,"display_name":"Eren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75777798,"answer_count":1,"score":1,"last_activity_date":1679163231,"creation_date":1679150337,"question_id":75776541,"body_markdown":"**The problem:** I have an input which is a number as string. For example &quot;123&quot;. I want to output a list of strings, which contains all possible ways, to separate the digits by commas. However, no element of the list should contain 3 digit numbers. Some examples:\r\n\r\nInput: &quot;1&quot;    \r\n\r\nOutput: [&quot;1&quot;]\r\n\r\n\r\nInput: &quot;12&quot;\r\n\r\nOutput: [&quot;12&quot;, &quot;1,2&quot;]\r\n\r\nInput: &quot;123&quot;\r\n\r\nOutput: [&quot;1,23&quot;, &quot;12,3&quot;, &quot;1,2,3&quot;]\r\n\r\nInput: &quot;1234&quot;\r\n\r\nOutput: [&quot;12,34&quot;, &quot;1,2,34&quot;, &quot;1,23,4&quot;, &quot;12,3,4&quot;, &quot;1,2,3,4&quot;]\r\n\r\nInput: &quot;12345&quot;\r\n\r\nOutput: [&quot;1,23,45&quot;, &quot;12,3,45&quot;, &quot;1,2,3,45&quot;, &quot;12,34,5&quot;, &quot;1,2,34,5&quot;, &quot;1,23,4,5&quot;, &quot;12,3,4,5&quot;, &quot;1,2,3,4,5&quot;]\r\n\r\nI already have a function which does this:\r\n\r\n```\r\npublic static List&lt;String&gt; getCommaSeparatedNumbers(String num) {\r\n        List&lt;String&gt; results = new ArrayList&lt;&gt;();\r\n        int n = num.length();\r\n\r\n\r\n        // If the number has less than 1 digit, there is only one possible way to format it\r\n        if (n &lt;= 1) {\r\n            results.add(num);\r\n            return results;\r\n        }\r\n\r\n        // Create an array to store all possible comma-separated numbers\r\n        String[] possibilities = new String[(int) Math.pow(2, n - 1)];\r\n\r\n        // Generate all possible comma-separated numbers using binary representation\r\n        for (int i = 0; i &lt; possibilities.length; i++) {\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int j = 0; j &lt; n; j++) {\r\n                sb.append(num.charAt(j));\r\n                if ((i &amp; (1 &lt;&lt; j)) &gt; 0 &amp;&amp; j != n - 1) {\r\n                    sb.append(&quot;,&quot;);\r\n                }\r\n            }\r\n            possibilities[i] = sb.toString();\r\n        }\r\n\r\n        // Filter out numbers with more than 2 consecutive digits\r\n        for (String s : possibilities) {\r\n            if (!s.matches(&quot;.*\\\\d{3,}.*&quot;)) {\r\n                results.add(s);\r\n            }\r\n        }\r\n\r\n        return results;\r\n}\r\n```\r\nHowever, this function has a time complexity of ~ O(2^n * n). Unfortunately, I sometimes have numbers with many digits as inputs, where the function would simply take too long. **Is there a way to reduce the time complexity of this function?** \r\n\r\nI thought of that you maybe you could use a recursive algorithm. For example, if you have as input &quot;123&quot;, and you look at the first two digits, you can create &quot;12&quot; and &quot;1,2&quot;. Now if you look at &quot;12&quot; you can add &quot;3&quot; or &quot;,3&quot;. If you look at &quot;1,2&quot; you can only add &quot;,3&quot;. Basically, if before the last digit, there is a comma, you can only add a digit with a comma, else you can add just the digit or a digit with a comma. I couldn&#39;t yet implement this algorithm however to test it.\r\n\r\n","title":"How to improve the time complexity of this algorithm to create comma separated digits?","body":"<p><strong>The problem:</strong> I have an input which is a number as string. For example &quot;123&quot;. I want to output a list of strings, which contains all possible ways, to separate the digits by commas. However, no element of the list should contain 3 digit numbers. Some examples:</p>\n<p>Input: &quot;1&quot;</p>\n<p>Output: [&quot;1&quot;]</p>\n<p>Input: &quot;12&quot;</p>\n<p>Output: [&quot;12&quot;, &quot;1,2&quot;]</p>\n<p>Input: &quot;123&quot;</p>\n<p>Output: [&quot;1,23&quot;, &quot;12,3&quot;, &quot;1,2,3&quot;]</p>\n<p>Input: &quot;1234&quot;</p>\n<p>Output: [&quot;12,34&quot;, &quot;1,2,34&quot;, &quot;1,23,4&quot;, &quot;12,3,4&quot;, &quot;1,2,3,4&quot;]</p>\n<p>Input: &quot;12345&quot;</p>\n<p>Output: [&quot;1,23,45&quot;, &quot;12,3,45&quot;, &quot;1,2,3,45&quot;, &quot;12,34,5&quot;, &quot;1,2,34,5&quot;, &quot;1,23,4,5&quot;, &quot;12,3,4,5&quot;, &quot;1,2,3,4,5&quot;]</p>\n<p>I already have a function which does this:</p>\n<pre><code>public static List&lt;String&gt; getCommaSeparatedNumbers(String num) {\n        List&lt;String&gt; results = new ArrayList&lt;&gt;();\n        int n = num.length();\n\n\n        // If the number has less than 1 digit, there is only one possible way to format it\n        if (n &lt;= 1) {\n            results.add(num);\n            return results;\n        }\n\n        // Create an array to store all possible comma-separated numbers\n        String[] possibilities = new String[(int) Math.pow(2, n - 1)];\n\n        // Generate all possible comma-separated numbers using binary representation\n        for (int i = 0; i &lt; possibilities.length; i++) {\n            StringBuilder sb = new StringBuilder();\n            for (int j = 0; j &lt; n; j++) {\n                sb.append(num.charAt(j));\n                if ((i &amp; (1 &lt;&lt; j)) &gt; 0 &amp;&amp; j != n - 1) {\n                    sb.append(&quot;,&quot;);\n                }\n            }\n            possibilities[i] = sb.toString();\n        }\n\n        // Filter out numbers with more than 2 consecutive digits\n        for (String s : possibilities) {\n            if (!s.matches(&quot;.*\\\\d{3,}.*&quot;)) {\n                results.add(s);\n            }\n        }\n\n        return results;\n}\n</code></pre>\n<p>However, this function has a time complexity of ~ O(2^n * n). Unfortunately, I sometimes have numbers with many digits as inputs, where the function would simply take too long. <strong>Is there a way to reduce the time complexity of this function?</strong></p>\n<p>I thought of that you maybe you could use a recursive algorithm. For example, if you have as input &quot;123&quot;, and you look at the first two digits, you can create &quot;12&quot; and &quot;1,2&quot;. Now if you look at &quot;12&quot; you can add &quot;3&quot; or &quot;,3&quot;. If you look at &quot;1,2&quot; you can only add &quot;,3&quot;. Basically, if before the last digit, there is a comma, you can only add a digit with a comma, else you can add just the digit or a digit with a comma. I couldn't yet implement this algorithm however to test it.</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":1,"creation_date":1679163949,"post_id":75777778,"comment_id":133673936,"body_markdown":"Why go back to Java though? Android has been Kotlin-first since 2019 https://developer.android.com/kotlin/first","body":"Why go back to Java though? Android has been Kotlin-first since 2019 <a href=\"https://developer.android.com/kotlin/first\" rel=\"nofollow noreferrer\">developer.android.com/kotlin/first</a>"}],"owner":{"account_id":18759984,"reputation":336,"user_id":13679141,"display_name":"D4rK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679162976,"creation_date":1679162976,"question_id":75777778,"body_markdown":"I created an Android project in Kotlin, and later on I decided to create the same project in Java. I used the Kotlin project as a base for the Java project. Initially, I had no problems when I used Kotlin for both projects. However, after I refactored the entire project from Kotlin to Java, I encountered some issues.\r\n\r\nSpecifically, I removed the following lines of code from the Gradle files:\r\n\r\n```\r\nid &#39;org.jetbrains.kotlin.android&#39;\r\nid &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n```\r\n\r\nI also removed `kotlin.code.style=official` from the `gradle.properties` file.\r\n\r\nAfter making these changes, I encountered an error, which reads:\r\n\r\n```\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n\r\nGo to the documentation to learn how to Fix dependency resolution errors.\r\n```\r\n\r\nHere is my `build.gradle (:app)` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n    id &#39;com.google.android.gms.oss-licenses-plugin&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    namespace &#39;com.d4rk.androidtutorials.java&#39;\r\n    defaultConfig {\r\n        applicationId &#39;com.d4rk.androidtutorials.java&#39;\r\n        minSdkVersion 26\r\n        targetSdkVersion 33\r\n        versionCode 5\r\n        versionName &#39;2.0_a4&#39;\r\n        archivesBaseName = &quot;${applicationId}-v${versionName}&quot;\r\n        testInstrumentationRunner &#39;androidx.test.runner.AndroidJUnitRunner&#39;\r\n        resConfigs &#39;en&#39;, &#39;de&#39;, &#39;es&#39;, &#39;fr&#39;, &#39;hi&#39;, &#39;in&#39;, &#39;it&#39;, &#39;ja&#39;, &#39;ro&#39;, &#39;ru&#39;, &#39;tr&#39;, &#39;sv&#39;, &#39;bg&#39;, &#39;pl&#39;, &#39;uk&#39;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            multiDexEnabled true\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            debuggable false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n        debug {\r\n            multiDexEnabled true\r\n            minifyEnabled true\r\n            shrinkResources true\r\n            debuggable true\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding = true\r\n    }\r\n    bundle {\r\n        storeArchive {\r\n            enable = true\r\n        }\r\n    }\r\n}\r\ndependencies {\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-ads:21.5.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-oss-licenses:17.0.0&#39;\r\n    implementation &#39;com.google.android.play:review:2.0.1&#39;\r\n    implementation &#39;com.google.android.play:app-update:2.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.3.5&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-perf:20.3.1&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.core:core:1.9.0&#39;\r\n    implementation &#39;androidx.core:core-splashscreen:1.0.0&#39;\r\n    implementation &#39;androidx.gridlayout:gridlayout:1.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-process:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-livedata:2.6.0&#39;\r\n    implementation &#39;androidx.lifecycle:lifecycle-viewmodel:2.6.0&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    implementation &#39;com.airbnb.android:lottie:6.0.0&#39;\r\n    implementation &#39;com.github.KieronQuinn:MonetCompat:0.4.1&#39;\r\n    implementation &#39;me.zhanghai.android.fastscroll:library:1.2.0&#39;\r\n    implementation &#39;me.zhanghai.android.materialratingbar:library:1.4.0&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\nHere is my other `build.gradle (Project Name)` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.4.2&#39; apply false\r\n    id &#39;com.google.gms.google-services&#39; version &#39;4.3.14&#39; apply false\r\n    id &#39;com.google.android.gms.oss-licenses-plugin&#39; version &#39;0.10.6&#39; apply false\r\n    id &#39;com.google.firebase.crashlytics&#39; version &#39;2.9.2&#39; apply false\r\n}\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nAnd here&#39;s the `gradle.properties` file:\r\n\r\n```\r\n# Project-wide Gradle settings.\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n# AndroidX package structure to make it clearer which packages are bundled with the\r\n# Android operating system, and which are packaged with your app&quot;s APK\r\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\r\nandroid.useAndroidX=true\r\n# Enables namespacing of each library&#39;s R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library&#39;s dependencies,\r\n# thereby reducing the size of the R class for that library\r\nandroid.nonTransitiveRClass=true\r\n```\r\n\r\nCan anyone help me understand what might be causing this error and how I can resolve it?","title":"Issues when refactoring Kotlin Android project to Java: Error after removing &#39;org.jetbrains.kotlin.android&#39; from Gradle files","body":"<p>I created an Android project in Kotlin, and later on I decided to create the same project in Java. I used the Kotlin project as a base for the Java project. Initially, I had no problems when I used Kotlin for both projects. However, after I refactored the entire project from Kotlin to Java, I encountered some issues.</p>\n<p>Specifically, I removed the following lines of code from the Gradle files:</p>\n<pre><code>id 'org.jetbrains.kotlin.android'\nid 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n</code></pre>\n<p>I also removed <code>kotlin.code.style=official</code> from the <code>gradle.properties</code> file.</p>\n<p>After making these changes, I encountered an error, which reads:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathRelativizer found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n\nGo to the documentation to learn how to Fix dependency resolution errors.\n</code></pre>\n<p>Here is my <code>build.gradle (:app)</code> file:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n    id 'com.google.android.gms.oss-licenses-plugin'\n}\n\nandroid {\n    compileSdkVersion 33\n    namespace 'com.d4rk.androidtutorials.java'\n    defaultConfig {\n        applicationId 'com.d4rk.androidtutorials.java'\n        minSdkVersion 26\n        targetSdkVersion 33\n        versionCode 5\n        versionName '2.0_a4'\n        archivesBaseName = &quot;${applicationId}-v${versionName}&quot;\n        testInstrumentationRunner 'androidx.test.runner.AndroidJUnitRunner'\n        resConfigs 'en', 'de', 'es', 'fr', 'hi', 'in', 'it', 'ja', 'ro', 'ru', 'tr', 'sv', 'bg', 'pl', 'uk'\n    }\n    buildTypes {\n        release {\n            multiDexEnabled true\n            minifyEnabled true\n            shrinkResources true\n            debuggable false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            multiDexEnabled true\n            minifyEnabled true\n            shrinkResources true\n            debuggable true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding = true\n    }\n    bundle {\n        storeArchive {\n            enable = true\n        }\n    }\n}\ndependencies {\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'com.google.android.gms:play-services-ads:21.5.0'\n    implementation 'com.google.android.gms:play-services-oss-licenses:17.0.0'\n    implementation 'com.google.android.play:review:2.0.1'\n    implementation 'com.google.android.play:app-update:2.0.1'\n    implementation 'com.google.firebase:firebase-crashlytics:18.3.5'\n    implementation 'com.google.firebase:firebase-analytics:21.2.0'\n    implementation 'com.google.firebase:firebase-perf:20.3.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.core:core:1.9.0'\n    implementation 'androidx.core:core-splashscreen:1.0.0'\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'androidx.lifecycle:lifecycle-runtime:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-process:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-common-java8:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-livedata:2.6.0'\n    implementation 'androidx.lifecycle:lifecycle-viewmodel:2.6.0'\n    implementation 'androidx.multidex:multidex:2.0.1'\n    implementation 'com.airbnb.android:lottie:6.0.0'\n    implementation 'com.github.KieronQuinn:MonetCompat:0.4.1'\n    implementation 'me.zhanghai.android.fastscroll:library:1.2.0'\n    implementation 'me.zhanghai.android.materialratingbar:library:1.4.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Here is my other <code>build.gradle (Project Name)</code> file:</p>\n<pre><code>plugins {\n    id 'com.android.application' version '7.4.2' apply false\n    id 'com.android.library' version '7.4.2' apply false\n    id 'com.google.gms.google-services' version '4.3.14' apply false\n    id 'com.google.android.gms.oss-licenses-plugin' version '0.10.6' apply false\n    id 'com.google.firebase.crashlytics' version '2.9.2' apply false\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And here's the <code>gradle.properties</code> file:</p>\n<pre><code># Project-wide Gradle settings.\n# IDE (e.g. Android Studio) users:\n# Gradle settings configured through the IDE *will override*\n# any settings specified in this file.\n# For more details on how to configure your build environment visit\n# http://www.gradle.org/docs/current/userguide/build_environment.html\n# Specifies the JVM arguments used for the daemon process.\n# The setting is particularly useful for tweaking memory settings.\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\n# When configured, Gradle will run in incubating parallel mode.\n# This option should only be used with decoupled projects. More details, visit\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\n# org.gradle.parallel=true\n# AndroidX package structure to make it clearer which packages are bundled with the\n# Android operating system, and which are packaged with your app&quot;s APK\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\nandroid.useAndroidX=true\n# Enables namespacing of each library's R class so that its R class includes only the\n# resources declared in the library itself and none from the library's dependencies,\n# thereby reducing the size of the R class for that library\nandroid.nonTransitiveRClass=true\n</code></pre>\n<p>Can anyone help me understand what might be causing this error and how I can resolve it?</p>\n"},{"tags":["java","spring","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1679301996,"post_id":75769313,"comment_id":133690337,"body_markdown":"I see the same [GitHub issue](https://github.com/redhat-developer/vscode-java/issues/3007).","body":"I see the same <a href=\"https://github.com/redhat-developer/vscode-java/issues/3007\" rel=\"nofollow noreferrer\">GitHub issue</a>."}],"owner":{"account_id":22959260,"reputation":71,"user_id":17089407,"display_name":"Thomas Mueller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679162920,"creation_date":1679066297,"question_id":75769313,"body_markdown":"I have a spring boot project with java 17 and i&#39;m using vscode with the java and spring boot extensions.\r\nWhen i run &quot;mvn -U clean install&quot; from the command line my project will be build, also some classes will be generated.\r\n\r\nThat is what the header of a generated class looks like:\r\n```\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2023-03-17T15:39:49+0100&quot;,\r\n    comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 17.0.5 (Microsoft)&quot;\r\n)\r\n```\r\n\r\nAs you will see the compiler which is used is &quot;javac&quot;.\r\nAfter i run the maven command i clicked on the &quot;play&quot; button on the spring dashboard extension to start my project.\r\nThen a window pops up with the following message:\r\n\r\n![image](https://user-images.githubusercontent.com/57100280/225937003-cf32ef71-a79f-41da-af91-308718799e39.png)\r\n\r\n\r\nYou see that anything is compiling my project.\r\nAnd then what happens is that some generated classes are broken and only returning &quot;null&quot;. The function signatures instead are correct.\r\nThe header of this file then is:\r\n```\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2023-03-17T15:26:10+0100&quot;,\r\n    comments = &quot;version: 1.5.3.Final, compiler: Eclipse JDT (IDE) 3.33.0.v20230218-1114, environment: Java 17.0.6 (Eclipse Adoptium)&quot;\r\n)\r\n```\r\nAnd you see somehow there is a different compiler.\r\nAnd this compiler breaks my project i think.\r\n\r\nThe extensions i&#39;m using are:\r\n- Extension pack for java\r\n- Spring Boot Dashboard\r\n- Visual Studio Code\r\n\r\nEverything in newest version.\r\n\r\nDo you know that the problem here is?\r\n\r\n\r\n\r\n**EDIT**\r\nHere i created also a discussion where i added a repository and the steps to reproduce this error: [Link to discussion with repo][1]\r\n\r\n\r\n  [1]: https://github.com/microsoft/vscode-java-debug/discussions/1313","title":"Spring Boot Dashboard Extension using wrong compiler while compiling before start project","body":"<p>I have a spring boot project with java 17 and i'm using vscode with the java and spring boot extensions.\nWhen i run &quot;mvn -U clean install&quot; from the command line my project will be build, also some classes will be generated.</p>\n<p>That is what the header of a generated class looks like:</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-03-17T15:39:49+0100&quot;,\n    comments = &quot;version: 1.5.3.Final, compiler: javac, environment: Java 17.0.5 (Microsoft)&quot;\n)\n</code></pre>\n<p>As you will see the compiler which is used is &quot;javac&quot;.\nAfter i run the maven command i clicked on the &quot;play&quot; button on the spring dashboard extension to start my project.\nThen a window pops up with the following message:</p>\n<p><img src=\"https://user-images.githubusercontent.com/57100280/225937003-cf32ef71-a79f-41da-af91-308718799e39.png\" alt=\"image\" /></p>\n<p>You see that anything is compiling my project.\nAnd then what happens is that some generated classes are broken and only returning &quot;null&quot;. The function signatures instead are correct.\nThe header of this file then is:</p>\n<pre><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2023-03-17T15:26:10+0100&quot;,\n    comments = &quot;version: 1.5.3.Final, compiler: Eclipse JDT (IDE) 3.33.0.v20230218-1114, environment: Java 17.0.6 (Eclipse Adoptium)&quot;\n)\n</code></pre>\n<p>And you see somehow there is a different compiler.\nAnd this compiler breaks my project i think.</p>\n<p>The extensions i'm using are:</p>\n<ul>\n<li>Extension pack for java</li>\n<li>Spring Boot Dashboard</li>\n<li>Visual Studio Code</li>\n</ul>\n<p>Everything in newest version.</p>\n<p>Do you know that the problem here is?</p>\n<p><strong>EDIT</strong>\nHere i created also a discussion where i added a repository and the steps to reproduce this error: <a href=\"https://github.com/microsoft/vscode-java-debug/discussions/1313\" rel=\"nofollow noreferrer\">Link to discussion with repo</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7052626,"reputation":516,"user_id":5401167,"display_name":"W-S"},"score":0,"creation_date":1679162351,"post_id":75777621,"comment_id":133673709,"body_markdown":"Your JSON property key should be named as `primary` instead of `isPrimary`.","body":"Your JSON property key should be named as <code>primary</code> instead of <code>isPrimary</code>."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679161836,"creation_date":1679161836,"answer_id":75777658,"question_id":75777621,"body_markdown":"Your setter and getter have the wrong names. Jackson is trying to assing the value using setter methods in the format `set{fieldname}` such as `setIsPrimary`. But your setter is called `setPrimary`, and so the property &quot;isPrimary&quot; of your class  (a property is identified by a getter and setter with the same name) cannot be found. That is what the Exception is trying to tell you.\r\n\r\nTL;DR:\r\nrename your `setPrimary` method to `setIsPrimary`.\r\n","title":"Converting json into java object error UnrecognizedPropertyException","body":"<p>Your setter and getter have the wrong names. Jackson is trying to assing the value using setter methods in the format <code>set{fieldname}</code> such as <code>setIsPrimary</code>. But your setter is called <code>setPrimary</code>, and so the property &quot;isPrimary&quot; of your class  (a property is identified by a getter and setter with the same name) cannot be found. That is what the Exception is trying to tell you.</p>\n<p>TL;DR:\nrename your <code>setPrimary</code> method to <code>setIsPrimary</code>.</p>\n"},{"tags":[],"owner":{"account_id":8433338,"reputation":20078,"user_id":6328256,"display_name":"Sash Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679162904,"creation_date":1679162548,"answer_id":75777719,"question_id":75777621,"body_markdown":"The issue is that your JSON field name is `isPrimary`, but your Java field name is `primary`. \r\n\r\nTo fix this issue, you can either change the JSON field name to `primary` or add a `@JsonProperty` annotation to your Java field to specify that it should map to the `isPrimary` JSON field name:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\n\r\npublic class Color {\r\n    private List&lt;String&gt; colors;\r\n    @JsonProperty(&quot;isPrimary&quot;)\r\n    private boolean primary;\r\n    private HashMap&lt;String, Integer&gt; rgb = new HashMap&lt;&gt;();\r\n\r\n    public Color() {}\r\n\r\n    public List&lt;String&gt; getColors() {\r\n        return colors;\r\n    }\r\n\r\n    public void setColors(List&lt;String&gt; colors) {\r\n        this.colors = colors;\r\n    }\r\n\r\n    public boolean isPrimary() {\r\n        return primary;\r\n    }\r\n\r\n    public void setPrimary(boolean primary) {\r\n        this.primary = primary;\r\n    }\r\n\r\n    public HashMap&lt;String, Integer&gt; getRgb() {\r\n        return rgb;\r\n    }\r\n\r\n    public void setRgb(HashMap&lt;String, Integer&gt; rgb) {\r\n        this.rgb = rgb;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Color{&quot; +\r\n                &quot;colors=&quot; + colors +\r\n                &quot;, primary=&quot; + primary +\r\n                &quot;, rgb=&quot; + rgb +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport java.io.IOException;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws IOException {\r\n        String jsonStr = &quot;{\\r\\n&quot; +\r\n                &quot;  \\&quot;colors\\&quot;: [\\&quot;red\\&quot;, \\&quot;green\\&quot;, \\&quot;blue\\&quot;],\\r\\n&quot; +\r\n                &quot;  \\&quot;isPrimary\\&quot;: true,\\r\\n&quot; +\r\n                &quot;  \\&quot;rgb\\&quot;: {\\r\\n&quot; +\r\n                &quot;    \\&quot;r\\&quot;: 255,\\r\\n&quot; +\r\n                &quot;    \\&quot;g\\&quot;: 0,\\r\\n&quot; +\r\n                &quot;    \\&quot;b\\&quot;: 0\\r\\n&quot; +\r\n                &quot;  }\\r\\n&quot; +\r\n                &quot;}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Color color = objectMapper.readValue(jsonStr, Color.class);\r\n        System.out.println(color);\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n\r\n    Color{colors=[red, green, blue], primary=true, rgb={r=255, b=0, g=0}}\r\n\r\n","title":"Converting json into java object error UnrecognizedPropertyException","body":"<p>The issue is that your JSON field name is <code>isPrimary</code>, but your Java field name is <code>primary</code>.</p>\n<p>To fix this issue, you can either change the JSON field name to <code>primary</code> or add a <code>@JsonProperty</code> annotation to your Java field to specify that it should map to the <code>isPrimary</code> JSON field name:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport java.util.HashMap;\nimport java.util.List;\n\npublic class Color {\n    private List&lt;String&gt; colors;\n    @JsonProperty(&quot;isPrimary&quot;)\n    private boolean primary;\n    private HashMap&lt;String, Integer&gt; rgb = new HashMap&lt;&gt;();\n\n    public Color() {}\n\n    public List&lt;String&gt; getColors() {\n        return colors;\n    }\n\n    public void setColors(List&lt;String&gt; colors) {\n        this.colors = colors;\n    }\n\n    public boolean isPrimary() {\n        return primary;\n    }\n\n    public void setPrimary(boolean primary) {\n        this.primary = primary;\n    }\n\n    public HashMap&lt;String, Integer&gt; getRgb() {\n        return rgb;\n    }\n\n    public void setRgb(HashMap&lt;String, Integer&gt; rgb) {\n        this.rgb = rgb;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Color{&quot; +\n                &quot;colors=&quot; + colors +\n                &quot;, primary=&quot; + primary +\n                &quot;, rgb=&quot; + rgb +\n                '}';\n    }\n}\n\n</code></pre>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        String jsonStr = &quot;{\\r\\n&quot; +\n                &quot;  \\&quot;colors\\&quot;: [\\&quot;red\\&quot;, \\&quot;green\\&quot;, \\&quot;blue\\&quot;],\\r\\n&quot; +\n                &quot;  \\&quot;isPrimary\\&quot;: true,\\r\\n&quot; +\n                &quot;  \\&quot;rgb\\&quot;: {\\r\\n&quot; +\n                &quot;    \\&quot;r\\&quot;: 255,\\r\\n&quot; +\n                &quot;    \\&quot;g\\&quot;: 0,\\r\\n&quot; +\n                &quot;    \\&quot;b\\&quot;: 0\\r\\n&quot; +\n                &quot;  }\\r\\n&quot; +\n                &quot;}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        Color color = objectMapper.readValue(jsonStr, Color.class);\n        System.out.println(color);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Color{colors=[red, green, blue], primary=true, rgb={r=255, b=0, g=0}}\n</code></pre>\n"}],"owner":{"account_id":20300298,"reputation":11,"user_id":18294031,"display_name":"Максим"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1680039108,"accepted_answer_id":75777719,"answer_count":2,"score":1,"last_activity_date":1679162904,"creation_date":1679161394,"question_id":75777621,"body_markdown":"I have to make java object from my json file that looks like this:\r\n{\r\n  &quot;colors&quot;: [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;],\r\n  &quot;isPrimary&quot;: true,\r\n   &quot;rgb&quot;: {\r\n    &quot;r&quot;: 255,\r\n     &quot;g&quot;: 0,\r\n      &quot;b&quot;: 0\r\n    }\r\n          }\r\n\r\nI created class with parametrs that describes my file\r\n\r\n```\r\npublic class Color {\r\n    private List&lt;String&gt; colors;\r\n    private boolean isPrimary;\r\n    private HashMap&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\r\n\r\n\r\n    public Color(){};\r\n    public List&lt;String&gt; getColors() {\r\n        return colors;\r\n    }\r\n\r\n    public void setColors(List&lt;String&gt; colors) {\r\n        this.colors = colors;\r\n    }\r\n\r\n    public boolean isPrimary() {\r\n        return isPrimary;\r\n    }\r\n\r\n    public void setPrimary(boolean primary) {\r\n        isPrimary = primary;\r\n    }\r\n\r\n    public HashMap&lt;String, Integer&gt; getRgb() {\r\n        return rgb;\r\n    }\r\n\r\n    public void setRgb(HashMap&lt;String, Integer&gt; rgb) {\r\n        this.rgb = rgb;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Color{&quot; +\r\n                &quot;colors=&quot; + colors +\r\n                &quot;, isPrimary=&quot; + isPrimary +\r\n                &quot;, rgb=&quot; + rgb +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nMain class:\r\n\r\n\r\n```\r\npublic static void main(String[] args) throws JsonProcessingException {\r\n        String jsonStr = &quot;{\\r\\n&quot; +\r\n                &quot;  \\&quot;colors\\&quot;: [\\&quot;red\\&quot;, \\&quot;green\\&quot;, \\&quot;blue\\&quot;],\\r\\n&quot; +\r\n                &quot;  \\&quot;isPrimary\\&quot;: true,\\r\\n&quot; +\r\n                &quot;  \\&quot;rgb\\&quot;: {\\r\\n&quot; +\r\n                &quot;    \\&quot;r\\&quot;: 255,\\r\\n&quot; +\r\n                &quot;    \\&quot;g\\&quot;: 0,\\r\\n&quot; +\r\n                &quot;    \\&quot;b\\&quot;: 0\\r\\n&quot; +\r\n                &quot;  }\\r\\n&quot; +\r\n                &quot;}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        Color color = objectMapper.readValue(jsonStr, Color.class);\r\n        System.out.println(color);\r\n    }\r\n```\r\nI was following instruction but\r\nProbably something is wrong\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;isPrimary&quot; (class itstep.task_5.Color), not marked as ignorable (3 known properties: &quot;colors&quot;, &quot;primary&quot;, &quot;rgb&quot;])\r\n at [Source: (String)&quot;{\r\n  &quot;colors&quot;: [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;],\r\n  &quot;isPrimary&quot;: true,\r\n  &quot;rgb&quot;: {\r\n    &quot;r&quot;: 255,\r\n    &quot;g&quot;: 0,\r\n    &quot;b&quot;: 0\r\n  }\r\n}&quot;;","title":"Converting json into java object error UnrecognizedPropertyException","body":"<p>I have to make java object from my json file that looks like this:\n{\n&quot;colors&quot;: [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;],\n&quot;isPrimary&quot;: true,\n&quot;rgb&quot;: {\n&quot;r&quot;: 255,\n&quot;g&quot;: 0,\n&quot;b&quot;: 0\n}\n}</p>\n<p>I created class with parametrs that describes my file</p>\n<pre><code>public class Color {\n    private List&lt;String&gt; colors;\n    private boolean isPrimary;\n    private HashMap&lt;String,Integer&gt; rgb = new HashMap&lt;String,Integer&gt;();\n\n\n    public Color(){};\n    public List&lt;String&gt; getColors() {\n        return colors;\n    }\n\n    public void setColors(List&lt;String&gt; colors) {\n        this.colors = colors;\n    }\n\n    public boolean isPrimary() {\n        return isPrimary;\n    }\n\n    public void setPrimary(boolean primary) {\n        isPrimary = primary;\n    }\n\n    public HashMap&lt;String, Integer&gt; getRgb() {\n        return rgb;\n    }\n\n    public void setRgb(HashMap&lt;String, Integer&gt; rgb) {\n        this.rgb = rgb;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Color{&quot; +\n                &quot;colors=&quot; + colors +\n                &quot;, isPrimary=&quot; + isPrimary +\n                &quot;, rgb=&quot; + rgb +\n                '}';\n    }\n}\n</code></pre>\n<p>Main class:</p>\n<pre><code>public static void main(String[] args) throws JsonProcessingException {\n        String jsonStr = &quot;{\\r\\n&quot; +\n                &quot;  \\&quot;colors\\&quot;: [\\&quot;red\\&quot;, \\&quot;green\\&quot;, \\&quot;blue\\&quot;],\\r\\n&quot; +\n                &quot;  \\&quot;isPrimary\\&quot;: true,\\r\\n&quot; +\n                &quot;  \\&quot;rgb\\&quot;: {\\r\\n&quot; +\n                &quot;    \\&quot;r\\&quot;: 255,\\r\\n&quot; +\n                &quot;    \\&quot;g\\&quot;: 0,\\r\\n&quot; +\n                &quot;    \\&quot;b\\&quot;: 0\\r\\n&quot; +\n                &quot;  }\\r\\n&quot; +\n                &quot;}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        Color color = objectMapper.readValue(jsonStr, Color.class);\n        System.out.println(color);\n    }\n</code></pre>\n<p>I was following instruction but\nProbably something is wrong</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;isPrimary&quot; (class itstep.task_5.Color), not marked as ignorable (3 known properties: &quot;colors&quot;, &quot;primary&quot;, &quot;rgb&quot;])\n at [Source: (String)&quot;{\n  &quot;colors&quot;: [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;],\n  &quot;isPrimary&quot;: true,\n  &quot;rgb&quot;: {\n    &quot;r&quot;: 255,\n    &quot;g&quot;: 0,\n    &quot;b&quot;: 0\n  }\n}&quot;;\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-bottomnav"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1679171510,"post_id":75777700,"comment_id":133674968,"body_markdown":"How are you [saving your fragment&#39;s state](https://developer.android.com/guide/fragments/saving-state)? How are you &#39;going back from SettingFragments to HomeFragment&#39; - by pressing the bottom navigation button associated with the HomeFragment?","body":"How are you <a href=\"https://developer.android.com/guide/fragments/saving-state\" rel=\"nofollow noreferrer\">saving your fragment&#39;s state</a>? How are you &#39;going back from SettingFragments to HomeFragment&#39; - by pressing the bottom navigation button associated with the HomeFragment?"},{"owner":{"account_id":18274896,"reputation":25,"user_id":13304918,"display_name":"xeniosth19"},"score":0,"creation_date":1679233708,"post_id":75777700,"comment_id":133680805,"body_markdown":"I am sending the details from HomeFragment to MovieDetailsFragment by bundle, but i need to save that action when I entered the MovieDetailsFragment from HomeFragment so when i go to SettingsFragment and then back to HomeFragment I will see the MovieDetailsFragment. Yes, I am moving between HomeFragment and SettingsFragment using the bottom navigation&#39;s buttons. In order to go to MovieDetailsFragment I need to be inside HomeFragment.","body":"I am sending the details from HomeFragment to MovieDetailsFragment by bundle, but i need to save that action when I entered the MovieDetailsFragment from HomeFragment so when i go to SettingsFragment and then back to HomeFragment I will see the MovieDetailsFragment. Yes, I am moving between HomeFragment and SettingsFragment using the bottom navigation&#39;s buttons. In order to go to MovieDetailsFragment I need to be inside HomeFragment."}],"owner":{"account_id":18274896,"reputation":25,"user_id":13304918,"display_name":"xeniosth19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679162317,"creation_date":1679162317,"question_id":75777700,"body_markdown":"I would like to ask how I am going to save the state between the fragments while using bottom navigation. For example, if I am on &quot;HomeFragment&quot; and I go inside it with a &quot;MovieDetailsFragment&quot; and then I touch on &quot;SettingsFragment&quot; which is on the bottom navigation as &quot;HomeFragment&quot; and then I go back from SettingsFragment to HomeFragment I need to see the MovieDetailsFragment since I want to keep this state, instead of the fresh reloaded HomeFragment.\r\n\r\n\r\nNow when I go from SettingsFraggment to HomeFragment, I am getting the fresh loaded HomeFragment instead of its inside fragment which is MovieDetailsFragment. This is a sign that the app is not storing any of this state.","title":"Android Java Save State Between Fragments","body":"<p>I would like to ask how I am going to save the state between the fragments while using bottom navigation. For example, if I am on &quot;HomeFragment&quot; and I go inside it with a &quot;MovieDetailsFragment&quot; and then I touch on &quot;SettingsFragment&quot; which is on the bottom navigation as &quot;HomeFragment&quot; and then I go back from SettingsFragment to HomeFragment I need to see the MovieDetailsFragment since I want to keep this state, instead of the fresh reloaded HomeFragment.</p>\n<p>Now when I go from SettingsFraggment to HomeFragment, I am getting the fresh loaded HomeFragment instead of its inside fragment which is MovieDetailsFragment. This is a sign that the app is not storing any of this state.</p>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":1929103,"reputation":13962,"user_id":1738915,"accept_rate":90,"display_name":"Kolban"},"score":0,"creation_date":1556210030,"post_id":55853875,"comment_id":98369400,"body_markdown":"It isn&#39;t clear what you are asking.  Can you not remove them from your POM?  What happens if you try?  Can you clarify what it means to say &quot;GCP keeps getting in the way&quot;?","body":"It isn&#39;t clear what you are asking.  Can you not remove them from your POM?  What happens if you try?  Can you clarify what it means to say &quot;GCP keeps getting in the way&quot;?"},{"owner":{"account_id":62127,"reputation":63642,"user_id":184773,"accept_rate":74,"display_name":"Luke101"},"score":0,"creation_date":1556210416,"post_id":55853875,"comment_id":98369578,"body_markdown":"The application cannot start if these two dependencies are present using the local profile. If these dependencies are present it thinks its in the gcp environment. i&#39;d like to turn them off while developing locally.","body":"The application cannot start if these two dependencies are present using the local profile. If these dependencies are present it thinks its in the gcp environment. i&#39;d like to turn them off while developing locally."}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1556211384,"creation_date":1556211076,"answer_id":55854187,"question_id":55853875,"body_markdown":"Spring depends on auto-configuration when setting up the application. In many cases, it scans the classpath for certain dependencies, and if they are present, auto-configuration is performed. Most of the times the auto-configuration can be bypassed by providing a certain conditional. \r\n\r\nWhile traversing the Spring cloud gcp modules I came across the `StackdriverLoggingAutoConfiguration` class ([source][1]) and `StackdriverTraceAutoConfiguration` ([source][2]).\r\n\r\nStackdriverLoggingAutoConfiguration has the conditional `ConditionalOnProperty(value=&quot;spring.cloud.gcp.logging.enabled&quot;, matchIfMissing=true)`, while StackdriverTraceAutoConfiguration has the conditional `@ConditionalOnProperty(value=&quot;spring.cloud.gcp.trace.enabled&quot;, matchIfMissing=true)`\r\n\r\nI&#39;m not entirely sure if the properties are related to the auto-configuration of the modules you use, but you migh be able to disable the logging by adding the following to your application-{localprofile}.properties:\r\n\r\n```\r\nspring.cloud.gcp.logging.enabled=false\r\nspring.cloud.gcp.trace.enabled=false\r\n```\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/logging/StackdriverLoggingAutoConfiguration.html\r\n  [2]: https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.html","title":"How to disable Google Cloud Platform integration?","body":"<p>Spring depends on auto-configuration when setting up the application. In many cases, it scans the classpath for certain dependencies, and if they are present, auto-configuration is performed. Most of the times the auto-configuration can be bypassed by providing a certain conditional. </p>\n\n<p>While traversing the Spring cloud gcp modules I came across the <code>StackdriverLoggingAutoConfiguration</code> class (<a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/logging/StackdriverLoggingAutoConfiguration.html\" rel=\"noreferrer\">source</a>) and <code>StackdriverTraceAutoConfiguration</code> (<a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/autoconfigure/trace/StackdriverTraceAutoConfiguration.html\" rel=\"noreferrer\">source</a>).</p>\n\n<p>StackdriverLoggingAutoConfiguration has the conditional <code>ConditionalOnProperty(value=\"spring.cloud.gcp.logging.enabled\", matchIfMissing=true)</code>, while StackdriverTraceAutoConfiguration has the conditional <code>@ConditionalOnProperty(value=\"spring.cloud.gcp.trace.enabled\", matchIfMissing=true)</code></p>\n\n<p>I'm not entirely sure if the properties are related to the auto-configuration of the modules you use, but you migh be able to disable the logging by adding the following to your application-{localprofile}.properties:</p>\n\n<pre><code>spring.cloud.gcp.logging.enabled=false\nspring.cloud.gcp.trace.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5227218,"reputation":229,"user_id":4178889,"display_name":"Elie Nehm&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578856581,"creation_date":1578856581,"answer_id":59707296,"question_id":55853875,"body_markdown":"you can disable tracing,, logging and provide a fake id as follow:\r\n\r\n```\r\nspring.cloud.gcp.project-id=fake-project-id\r\nspring.cloud.gcp.logging.enabled=false\r\nspring.cloud.gcp.trace.enabled=false\r\n```\r\n","title":"How to disable Google Cloud Platform integration?","body":"<p>you can disable tracing,, logging and provide a fake id as follow:</p>\n\n<pre><code>spring.cloud.gcp.project-id=fake-project-id\nspring.cloud.gcp.logging.enabled=false\nspring.cloud.gcp.trace.enabled=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2670032,"reputation":842,"user_id":2307636,"accept_rate":90,"display_name":"bryce"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1632376034,"creation_date":1632376034,"answer_id":69294603,"question_id":55853875,"body_markdown":"Because the question is \r\n\r\n&gt; How to disable Google Cloud Platform integration\r\n\r\nI would suggest to just change our configuration with \r\n\r\n    spring:\r\n      cloud:\r\n        gcp:\r\n          core:\r\n            enabled: false\r\n\r\nIt should be enough to disable everything related to Spring Cloud GCP in our project\r\n\r\nThe accepted answer tells you how to disable a part of the GCP feature used in our project. If you have many of them (logging, PubSub, Storage, ...) it can be cumbersome to disable all of them. This is a shortcut to disable all of them at once ;-)","title":"How to disable Google Cloud Platform integration?","body":"<p>Because the question is</p>\n<blockquote>\n<p>How to disable Google Cloud Platform integration</p>\n</blockquote>\n<p>I would suggest to just change our configuration with</p>\n<pre><code>spring:\n  cloud:\n    gcp:\n      core:\n        enabled: false\n</code></pre>\n<p>It should be enough to disable everything related to Spring Cloud GCP in our project</p>\n<p>The accepted answer tells you how to disable a part of the GCP feature used in our project. If you have many of them (logging, PubSub, Storage, ...) it can be cumbersome to disable all of them. This is a shortcut to disable all of them at once ;-)</p>\n"},{"tags":[],"owner":{"account_id":2993595,"reputation":11,"user_id":2540598,"display_name":"user2540598"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657654733,"creation_date":1657654702,"answer_id":72957552,"question_id":55853875,"body_markdown":"If you want to disable gcp pubsud, you need to add &lt;br&gt;\r\nspring.cloud.gcp.core.enabled=false &lt;br&gt;\r\nspring.cloud.gcp.pubsub.enabled=false","title":"How to disable Google Cloud Platform integration?","body":"<p>If you want to disable gcp pubsud, you need to add <br>\nspring.cloud.gcp.core.enabled=false <br>\nspring.cloud.gcp.pubsub.enabled=false</p>\n"},{"tags":[],"owner":{"account_id":9175454,"reputation":21,"user_id":6821203,"display_name":"Iam Strad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665667247,"creation_date":1665667247,"answer_id":74056490,"question_id":55853875,"body_markdown":"I know it&#39;s old but you also can disable the AutoConfiguration classes by annotation.\r\n\r\nFor exemple :\r\n\r\n    @EnableAutoConfiguration(exclude = {GcpStorageAutoConfiguration.class})\r\n\r\nI hope than can help someone one day :)","title":"How to disable Google Cloud Platform integration?","body":"<p>I know it's old but you also can disable the AutoConfiguration classes by annotation.</p>\n<p>For exemple :</p>\n<pre><code>@EnableAutoConfiguration(exclude = {GcpStorageAutoConfiguration.class})\n</code></pre>\n<p>I hope than can help someone one day :)</p>\n"},{"tags":[],"owner":{"account_id":1320054,"reputation":526,"user_id":1266071,"accept_rate":43,"display_name":"Der Zinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672413298,"creation_date":1672413298,"answer_id":74963046,"question_id":55853875,"body_markdown":"Just as a food for thought.\r\n\r\nIn case you are building an application, that can work in different environments (like in my case - locally, or on GCP with GCP resources) - just avoid using `spring-cloud-gcp-starter` whatsoever.\r\n\r\nThere is no way to `properly` manage your app&#39;s lifecycle with these, as they are all statically-initialized, and always work either in GCP-mode, or without it. That&#39;s it.\r\n\r\n\r\nInstead, I propose to consinder building your own `GcpFileProvider`, or `gcp-whatever-provider` using good old Google libraries (f.e. https://cloud.google.com/storage/docs/reference/libraries), NOT `spring-starter` libraries.\r\n\r\nThis approach:\r\n\r\n 1. Saves you the pain of managing these configurations anyhow except of **just using them WHEN you need them**.\r\n 2. Saves you from hacking your way trough these static-inits this way or another (totally doable, but imho doesn&#39;t worth the efforts, and results in very complicated setup for really simple things).\r\n 3. Gives you an option to switch Providers on-the-fly, if required.\r\n\r\nLast bullet can actually be a good help in integration testing.\r\n\r\nP.S. All the convenience of &quot;*I just want it to work OOB on GCP*&quot; work flawlessly with these google-libraries, as they do with spring.\r\n\r\nSmall example for GCP Bucket reader, that optimistically gets available credentials when initializing, same as spring-libs do:\r\n\r\nGradle:\r\n```\r\ndependencies {\r\n...\r\n\timplementation platform(&#39;com.google.cloud:libraries-bom:26.2.0&#39;)\r\n\timplementation &#39;com.google.cloud:google-cloud-storage&#39;\r\n\r\n}\r\n```\r\n\r\nProvider:\r\n```java\r\nimport com.google.cloud.storage.*;\r\n\r\n...\r\n    // .getDefaultInstance() actually does all the bootstrap for GCP services that you might need.\r\n    Storage storage = StorageOptions.getDefaultInstance().getService();\r\n\r\n    Blob blob = getStorage().get(BlobId.of(bucketName, itemSubPathAndName));\r\n    ReadChannel reader = blob.reader();\r\n    InputStream inputStream = Channels.newInputStream(reader);\r\n...\r\n\r\n```\r\n\r\n\r\nAnd then, in my tests I can easily switch profiles on-the-fly, and even make sure that integration tests are running only if GCP configuration is available, and valid:\r\n\r\nGeneric/Local:\r\n```java\r\n...\r\n@ActiveProfiles(&quot;localResources&quot;)\r\n...\r\npublic class SomeLocalOrGenericTests {\r\n...\r\n}\r\n```\r\n\r\nGCP/Integration:\r\n```java\r\n...\r\n@ActiveProfiles(&quot;gcpResources&quot;)\r\n...\r\npublic class SomeIntegrationTest {\r\n...\r\n    private Boolean gcpCredsAreValid = false;\r\n    @BeforeAll\r\n    public void setup() {\r\n        var project = &quot;UNKNOWN&quot;;\r\n        try {\r\n            project = ((UserCredentials) GoogleCredentials.getApplicationDefault()).getQuotaProjectId();\r\n            if (!project.isEmpty() &amp;&amp; !project.contains(&quot;test&quot;)  &amp;&amp; !project.equals(&quot;UNKNOWN&quot;)) {\r\n                gcpCredsAreValid = true;\r\n            }\r\n        } catch (Exception e) {\r\n            Logger.getGlobal().log(Level.SEVERE, String.format(&quot;gcpCredsAreValid is false. ProjectID is: %s%n&quot;, project));\r\n        }\r\n    }\r\n\r\n    // And then\r\n\r\n    @Test\r\n    public void testingThatSomethingIsAvailableAtGcpBucket() {\r\n        Assumptions.assumeTrue(gcpCredsAreValid, &quot;Skipping GCP tests as GCP credentials are invalid&quot;);\r\n        // Actual test of integrations, that will reliably run only if GCP is configured, and available\r\n    }\r\n\r\n}\r\n\r\n```\r\n","title":"How to disable Google Cloud Platform integration?","body":"<p>Just as a food for thought.</p>\n<p>In case you are building an application, that can work in different environments (like in my case - locally, or on GCP with GCP resources) - just avoid using <code>spring-cloud-gcp-starter</code> whatsoever.</p>\n<p>There is no way to <code>properly</code> manage your app's lifecycle with these, as they are all statically-initialized, and always work either in GCP-mode, or without it. That's it.</p>\n<p>Instead, I propose to consinder building your own <code>GcpFileProvider</code>, or <code>gcp-whatever-provider</code> using good old Google libraries (f.e. <a href=\"https://cloud.google.com/storage/docs/reference/libraries\" rel=\"nofollow noreferrer\">https://cloud.google.com/storage/docs/reference/libraries</a>), NOT <code>spring-starter</code> libraries.</p>\n<p>This approach:</p>\n<ol>\n<li>Saves you the pain of managing these configurations anyhow except of <strong>just using them WHEN you need them</strong>.</li>\n<li>Saves you from hacking your way trough these static-inits this way or another (totally doable, but imho doesn't worth the efforts, and results in very complicated setup for really simple things).</li>\n<li>Gives you an option to switch Providers on-the-fly, if required.</li>\n</ol>\n<p>Last bullet can actually be a good help in integration testing.</p>\n<p>P.S. All the convenience of &quot;<em>I just want it to work OOB on GCP</em>&quot; work flawlessly with these google-libraries, as they do with spring.</p>\n<p>Small example for GCP Bucket reader, that optimistically gets available credentials when initializing, same as spring-libs do:</p>\n<p>Gradle:</p>\n<pre><code>dependencies {\n...\n    implementation platform('com.google.cloud:libraries-bom:26.2.0')\n    implementation 'com.google.cloud:google-cloud-storage'\n\n}\n</code></pre>\n<p>Provider:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.storage.*;\n\n...\n    // .getDefaultInstance() actually does all the bootstrap for GCP services that you might need.\n    Storage storage = StorageOptions.getDefaultInstance().getService();\n\n    Blob blob = getStorage().get(BlobId.of(bucketName, itemSubPathAndName));\n    ReadChannel reader = blob.reader();\n    InputStream inputStream = Channels.newInputStream(reader);\n...\n\n</code></pre>\n<p>And then, in my tests I can easily switch profiles on-the-fly, and even make sure that integration tests are running only if GCP configuration is available, and valid:</p>\n<p>Generic/Local:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@ActiveProfiles(&quot;localResources&quot;)\n...\npublic class SomeLocalOrGenericTests {\n...\n}\n</code></pre>\n<p>GCP/Integration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n@ActiveProfiles(&quot;gcpResources&quot;)\n...\npublic class SomeIntegrationTest {\n...\n    private Boolean gcpCredsAreValid = false;\n    @BeforeAll\n    public void setup() {\n        var project = &quot;UNKNOWN&quot;;\n        try {\n            project = ((UserCredentials) GoogleCredentials.getApplicationDefault()).getQuotaProjectId();\n            if (!project.isEmpty() &amp;&amp; !project.contains(&quot;test&quot;)  &amp;&amp; !project.equals(&quot;UNKNOWN&quot;)) {\n                gcpCredsAreValid = true;\n            }\n        } catch (Exception e) {\n            Logger.getGlobal().log(Level.SEVERE, String.format(&quot;gcpCredsAreValid is false. ProjectID is: %s%n&quot;, project));\n        }\n    }\n\n    // And then\n\n    @Test\n    public void testingThatSomethingIsAvailableAtGcpBucket() {\n        Assumptions.assumeTrue(gcpCredsAreValid, &quot;Skipping GCP tests as GCP credentials are invalid&quot;);\n        // Actual test of integrations, that will reliably run only if GCP is configured, and available\n    }\n\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28052133,"reputation":1,"user_id":21427835,"display_name":"alenkrse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679161804,"creation_date":1679161804,"answer_id":75777653,"question_id":55853875,"body_markdown":"For me works add to my test source code test configuration:\r\n\r\n    import static org.mockito.Mockito.mock;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.springframework.boot.test.context.TestConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    \r\n    import com.google.api.gax.core.CredentialsProvider;\r\n    import com.google.auth.Credentials;\r\n    \r\n    @TestConfiguration\r\n    public class TestGcpConfiguration {\r\n    \r\n    \t@Bean\r\n    \tpublic CredentialsProvider credentialsProvider() throws IOException {\r\n    \t\tCredentials mockCredentials = mock(Credentials.class);\r\n    \t\tCredentialsProvider mockCredentialsProvider = mock(CredentialsProvider.class);\r\n    \t\twhen(mockCredentialsProvider.getCredentials()).thenReturn(mockCredentials);\r\n    \t\treturn mockCredentialsProvider;\r\n    \t}\r\n    }","title":"How to disable Google Cloud Platform integration?","body":"<p>For me works add to my test source code test configuration:</p>\n<pre><code>import static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\n\nimport java.io.IOException;\n\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\n\nimport com.google.api.gax.core.CredentialsProvider;\nimport com.google.auth.Credentials;\n\n@TestConfiguration\npublic class TestGcpConfiguration {\n\n    @Bean\n    public CredentialsProvider credentialsProvider() throws IOException {\n        Credentials mockCredentials = mock(Credentials.class);\n        CredentialsProvider mockCredentialsProvider = mock(CredentialsProvider.class);\n        when(mockCredentialsProvider.getCredentials()).thenReturn(mockCredentials);\n        return mockCredentialsProvider;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":62127,"reputation":63642,"user_id":184773,"accept_rate":74,"display_name":"Luke101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5365,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":55854187,"answer_count":7,"score":8,"last_activity_date":1679161804,"creation_date":1556209908,"question_id":55853875,"body_markdown":"I have these two dependencies in my POM file:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-gcp-starter-trace&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-cloud-gcp-starter-logging&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;d like to disable these GCP features in certain profiles. I need to test my app locally but GCP keeps getting in the way.","title":"How to disable Google Cloud Platform integration?","body":"<p>I have these two dependencies in my POM file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-gcp-starter-trace&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-cloud-gcp-starter-logging&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'd like to disable these GCP features in certain profiles. I need to test my app locally but GCP keeps getting in the way.</p>\n"},{"tags":["java","linux","operating-system","pthreads"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1571007872,"post_id":58365954,"comment_id":103087001,"body_markdown":"No. It is part of the user process running the JVM. The thread named `t` is a Java object, and it is *associated* with a user-space thread created by the kernel. `t` itself is not a lightweight process in Linux, and a lightweight process is not a kernel thread.","body":"No. It is part of the user process running the JVM. The thread named <code>t</code> is a Java object, and it is <i>associated</i> with a user-space thread created by the kernel. <code>t</code> itself is not a lightweight process in Linux, and a lightweight process is not a kernel thread."},{"owner":{"account_id":10696678,"reputation":21,"user_id":7873500,"display_name":"K.Ray"},"score":0,"creation_date":1571110519,"post_id":58365954,"comment_id":103120982,"body_markdown":"Thank you,  can I think that: lightweight process is a kernel-level thread that runs in user space.  And I see the Linux documentation saying that Linux uses a lightweight process to implement the posix standard thread.  So I said `t` is a lightweight process  in Linux.  I mean ‘lightweight process (kernel thread)’ means that the lightweight process is scheduled by the kernel, so it is a kernel-level thread.","body":"Thank you,  can I think that: lightweight process is a kernel-level thread that runs in user space.  And I see the Linux documentation saying that Linux uses a lightweight process to implement the posix standard thread.  So I said <code>t</code> is a lightweight process  in Linux.  I mean ‘lightweight process (kernel thread)’ means that the lightweight process is scheduled by the kernel, so it is a kernel-level thread."}],"answers":[{"tags":[],"owner":{"account_id":7130892,"reputation":700,"user_id":5452170,"display_name":"Xiao-Feng Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571118028,"creation_date":1571116258,"answer_id":58387610,"question_id":58365954,"body_markdown":"Need some fundamental OS concepts clarification:\r\n\r\n- Kernel thread is a thread entity that is managed and scheduled by OS kernel directly. User level program can access kernel thread through system calls such as via pthread APIs. If a user program binds its code execution with a kernel thread, it is then a user thread that is mapped to a kernel thread. \r\n- Light-weight process is not a well-defined term, but it usually refers to a kernel thread that is exposed to user space, in contrast to normal process which is heavier than a thread. In this sense, you can consider kernel thread is the same as light-weight process.\r\n- Java thread is a user thread entity that is normally supported by a kernel thread (or you can call it a light-weight process). That means, the execution of a Java thread can be scheduled directly by the OS kernel.\r\n\r\nSo you are correct that a Java thread is mapped to a kernel thread, but Java thread does not run in kernel space. It is scheduled by the OS kernel directly, and surely has kernel thread data in kernel space. And sometimes a user thread may run in kernel space, when it invokes system call...","title":"Does the thread supported by the kernel run in the kernel state?","body":"<p>Need some fundamental OS concepts clarification:</p>\n\n<ul>\n<li>Kernel thread is a thread entity that is managed and scheduled by OS kernel directly. User level program can access kernel thread through system calls such as via pthread APIs. If a user program binds its code execution with a kernel thread, it is then a user thread that is mapped to a kernel thread. </li>\n<li>Light-weight process is not a well-defined term, but it usually refers to a kernel thread that is exposed to user space, in contrast to normal process which is heavier than a thread. In this sense, you can consider kernel thread is the same as light-weight process.</li>\n<li>Java thread is a user thread entity that is normally supported by a kernel thread (or you can call it a light-weight process). That means, the execution of a Java thread can be scheduled directly by the OS kernel.</li>\n</ul>\n\n<p>So you are correct that a Java thread is mapped to a kernel thread, but Java thread does not run in kernel space. It is scheduled by the OS kernel directly, and surely has kernel thread data in kernel space. And sometimes a user thread may run in kernel space, when it invokes system call...</p>\n"}],"owner":{"account_id":10696678,"reputation":21,"user_id":7873500,"display_name":"K.Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679161559,"creation_date":1570986997,"question_id":58365954,"body_markdown":"I&#39;m a little confused about kernel space, userspace, kernel thread, user thread. Whether you can think that kernel threads are supported by the kernel is running in kernel space?\r\n\r\nJava,\r\n \r\n    `Thread t = new Thread(new Runnable...)`,\r\n  \r\nThis thread named &#39;t&#39; is called a lightweight process (kernel thread) in Linux. Is it running in the kernel state?","title":"Does the thread supported by the kernel run in the kernel state?","body":"<p>I'm a little confused about kernel space, userspace, kernel thread, user thread. Whether you can think that kernel threads are supported by the kernel is running in kernel space?</p>\n\n<p>Java,</p>\n\n<pre><code>`Thread t = new Thread(new Runnable...)`,\n</code></pre>\n\n<p>This thread named 't' is called a lightweight process (kernel thread) in Linux. Is it running in the kernel state?</p>\n"},{"tags":["java","android","utc"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":0,"creation_date":1373980670,"post_id":17677546,"comment_id":25751710,"body_markdown":"looks good to me. What&#39;s the matter?","body":"looks good to me. What&#39;s the matter?"},{"owner":{"account_id":1815974,"reputation":1458,"user_id":1651042,"accept_rate":50,"display_name":"MadTech"},"score":0,"creation_date":1373981866,"post_id":17677546,"comment_id":25752545,"body_markdown":"I am getting the exception `java.text.ParseException: Unparseable date: &quot;Jul 16, 2013 4:23:37 AM&quot; (at offset 21)`","body":"I am getting the exception <code>java.text.ParseException: Unparseable date: &quot;Jul 16, 2013 4:23:37 AM&quot; (at offset 21)</code>"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":4,"creation_date":1373981952,"post_id":17677546,"comment_id":25752605,"body_markdown":"the AM/PM marker is a not z. z stays for timezone","body":"the AM/PM marker is a not z. z stays for timezone"}],"answers":[{"tags":[],"owner":{"account_id":2739489,"reputation":6684,"user_id":2361336,"accept_rate":82,"display_name":"Salman Khakwani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600016088,"creation_date":1373981167,"answer_id":17677803,"question_id":17677546,"body_markdown":"Use the following code.\r\n\r\n    TimeZone defaultTimeZone = TimeZone.getDefault();\r\n    String strDefaultTimeZone = defaultTimeZone.getDisplayName(false, TimeZone.SHORT);\r\n\r\n    //The code you use\r\n    String aDate = getValue(&quot;dateTime&quot;, aEventJson);\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy HH:mm:ss z&quot;);\r\n    simpleDateFormat.setTimeZone(TimeZone.getTimeZone(strDefaultTimeZone));\r\n    String formattedDate = simpleDateFormat.format(aDate);\r\n\r\nThis should work.","title":"Convert UTC into Local Time on Android","body":"<p>Use the following code.</p>\n<pre><code>TimeZone defaultTimeZone = TimeZone.getDefault();\nString strDefaultTimeZone = defaultTimeZone.getDisplayName(false, TimeZone.SHORT);\n\n//The code you use\nString aDate = getValue(&quot;dateTime&quot;, aEventJson);\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy HH:mm:ss z&quot;);\nsimpleDateFormat.setTimeZone(TimeZone.getTimeZone(strDefaultTimeZone));\nString formattedDate = simpleDateFormat.format(aDate);\n</code></pre>\n<p>This should work.</p>\n"},{"tags":[],"owner":{"account_id":404706,"reputation":7875,"user_id":773189,"accept_rate":83,"display_name":"devconsole"},"down_vote_count":1,"up_vote_count":137,"is_accepted":true,"score":136,"last_activity_date":1508142727,"creation_date":1373981641,"answer_id":17678000,"question_id":17677546,"body_markdown":"Here&#39;s my attempt:\r\n\r\n\tString dateStr = &quot;Jul 16, 2013 12:08:59 AM&quot;;\r\n\tSimpleDateFormat df = new SimpleDateFormat(&quot;MMM dd, yyyy HH:mm:ss a&quot;, Locale.ENGLISH);\r\n\tdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\tDate date = df.parse(dateStr);\r\n\tdf.setTimeZone(TimeZone.getDefault());\r\n\tString formattedDate = df.format(date);\r\n\r\nAlso notice the &quot;a&quot; for the am/pm marker...","title":"Convert UTC into Local Time on Android","body":"<p>Here's my attempt:</p>\n\n<pre><code>String dateStr = \"Jul 16, 2013 12:08:59 AM\";\nSimpleDateFormat df = new SimpleDateFormat(\"MMM dd, yyyy HH:mm:ss a\", Locale.ENGLISH);\ndf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\nDate date = df.parse(dateStr);\ndf.setTimeZone(TimeZone.getDefault());\nString formattedDate = df.format(date);\n</code></pre>\n\n<p>Also notice the \"a\" for the am/pm marker...</p>\n"},{"tags":[],"owner":{"account_id":3087476,"reputation":1696,"user_id":2614353,"accept_rate":61,"display_name":"Tom Bevelander"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1419714899,"creation_date":1419714899,"answer_id":27671534,"question_id":17677546,"body_markdown":"    //your UTC time var\r\n    long time = UTCtime;\r\n\r\n    //convert it\r\n    Time timeFormat = new Time();\r\n    timeFormat.set(time+TimeZone.getDefault().getOffset(time));\r\n\r\n    //use the value\r\n    long localTime = timeFormat.toMillis(true);","title":"Convert UTC into Local Time on Android","body":"<pre><code>//your UTC time var\nlong time = UTCtime;\n\n//convert it\nTime timeFormat = new Time();\ntimeFormat.set(time+TimeZone.getDefault().getOffset(time));\n\n//use the value\nlong localTime = timeFormat.toMillis(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1510850564,"creation_date":1510850564,"answer_id":47334979,"question_id":17677546,"body_markdown":"I should like to contribute the modern answer. While `SimpleDateFormat` was the class we had for parsing and formatting date-times in 2013 (apart from Joda-Time), it is now long outdated, and we have so much better in `java.time` or JSR-310, the modern Java date and time API that came out with Java 8 in 2014.\r\n\r\nBut most Android devices still don’t run Java 8, I hear you say. Fortunately you can still use the modern Java date and time API on them through the ThreeTenABP, the backport of JSR-310 to Android Java 7. Details are in [this question: How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n\r\nNow the code is:\r\n\r\n\t\tDateTimeFormatter formatter \r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;MMM dd, uuuu hh:mm:ss a&quot;, Locale.ENGLISH);\r\n\t\tString aDate = &quot;Jul 16, 2013 12:08:59 AM&quot;;\r\n\t\tString formattedDate = LocalDateTime.parse(aDate, formatter)\r\n\t\t\t\t.atOffset(ZoneOffset.UTC)\r\n\t\t\t\t.atZoneSameInstant(ZoneId.systemDefault())\r\n\t\t\t\t.format(formatter);\r\n\t\tSystem.out.println(formattedDate);\r\n\r\nSince my computer is running Europe/Copenhagen time zone, which in July is 2 hours ahead of UTC, this prints\r\n\r\n    Jul 16, 2013 02:08:59 AM\r\n\r\nFurther points:\r\n\r\n - Since you have AM in your string, I assumed your hours are within AM, from 1 through 12. To parse and format them correctly you need lowercase `h` in the format pattern string. Uppercase `H` is for hour-of-day from 0 through 23.\r\n - Prefer to give an explcit locale to the formatter (whether `SimpleDateFormat` or `DateTimeFormatter`). If no locale is given, the formatter will use the device’s default locale. “Jul” and “AM” are in English, and your code may run nicely on many devices until one day it runs on a device with non-English locale and crashes, and you have a hard time figuring out why.\r\n - If you can, give the desired time zone explictly, for example as `ZoneId.of(&quot;Asia/Kolkata&quot;)`. The JVM’s default time zone may be changed by other parts of your program or other programs running in the same JVM, so is not reliable.\r\n\r\n","title":"Convert UTC into Local Time on Android","body":"<p>I should like to contribute the modern answer. While <code>SimpleDateFormat</code> was the class we had for parsing and formatting date-times in 2013 (apart from Joda-Time), it is now long outdated, and we have so much better in <code>java.time</code> or JSR-310, the modern Java date and time API that came out with Java 8 in 2014.</p>\n\n<p>But most Android devices still don’t run Java 8, I hear you say. Fortunately you can still use the modern Java date and time API on them through the ThreeTenABP, the backport of JSR-310 to Android Java 7. Details are in <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">this question: How to use ThreeTenABP in Android Project</a>.</p>\n\n<p>Now the code is:</p>\n\n<pre><code>    DateTimeFormatter formatter \n            = DateTimeFormatter.ofPattern(\"MMM dd, uuuu hh:mm:ss a\", Locale.ENGLISH);\n    String aDate = \"Jul 16, 2013 12:08:59 AM\";\n    String formattedDate = LocalDateTime.parse(aDate, formatter)\n            .atOffset(ZoneOffset.UTC)\n            .atZoneSameInstant(ZoneId.systemDefault())\n            .format(formatter);\n    System.out.println(formattedDate);\n</code></pre>\n\n<p>Since my computer is running Europe/Copenhagen time zone, which in July is 2 hours ahead of UTC, this prints</p>\n\n<pre><code>Jul 16, 2013 02:08:59 AM\n</code></pre>\n\n<p>Further points:</p>\n\n<ul>\n<li>Since you have AM in your string, I assumed your hours are within AM, from 1 through 12. To parse and format them correctly you need lowercase <code>h</code> in the format pattern string. Uppercase <code>H</code> is for hour-of-day from 0 through 23.</li>\n<li>Prefer to give an explcit locale to the formatter (whether <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code>). If no locale is given, the formatter will use the device’s default locale. “Jul” and “AM” are in English, and your code may run nicely on many devices until one day it runs on a device with non-English locale and crashes, and you have a hard time figuring out why.</li>\n<li>If you can, give the desired time zone explictly, for example as <code>ZoneId.of(\"Asia/Kolkata\")</code>. The JVM’s default time zone may be changed by other parts of your program or other programs running in the same JVM, so is not reliable.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9649947,"reputation":524,"user_id":7161418,"display_name":"Ronak Gadhia"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1531317445,"creation_date":1531317445,"answer_id":51287396,"question_id":17677546,"body_markdown":" **1.Local to UTC Converter**\r\n\r\n    public static String localToUTC(String dateFormat, String datesToConvert) {\r\n    \r\n    \r\n            String dateToReturn = datesToConvert;\r\n    \r\n            SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\r\n            sdf.setTimeZone(TimeZone.getDefault());\r\n            Date gmt = null;\r\n    \r\n            SimpleDateFormat sdfOutPutToSend = new SimpleDateFormat(dateFormat);\r\n            sdfOutPutToSend.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \r\n            try {\r\n    \r\n                gmt = sdf.parse(datesToConvert);\r\n                dateToReturn = sdfOutPutToSend.format(gmt);\r\n    \r\n            } catch (ParseException e) {\r\n                e.printStackTrace();\r\n            }\r\n            return dateToReturn;\r\n        }\r\n\r\n\r\n**2. UTC to Local Converter**\r\n\r\n    public static String uTCToLocal(String dateFormatInPut, String dateFomratOutPut, String datesToConvert) {\r\n    \r\n    \r\n        String dateToReturn = datesToConvert;\r\n    \r\n        SimpleDateFormat sdf = new SimpleDateFormat(dateFormatInPut);\r\n        sdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \r\n        Date gmt = null;\r\n    \r\n        SimpleDateFormat sdfOutPutToSend = new SimpleDateFormat(dateFomratOutPut);\r\n        sdfOutPutToSend.setTimeZone(TimeZone.getDefault());\r\n    \r\n        try {\r\n    \r\n            gmt = sdf.parse(datesToConvert);\r\n            dateToReturn = sdfOutPutToSend.format(gmt);\r\n    \r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return dateToReturn; }\r\n\r\n","title":"Convert UTC into Local Time on Android","body":"<p><strong>1.Local to UTC Converter</strong></p>\n\n<pre><code>public static String localToUTC(String dateFormat, String datesToConvert) {\n\n\n        String dateToReturn = datesToConvert;\n\n        SimpleDateFormat sdf = new SimpleDateFormat(dateFormat);\n        sdf.setTimeZone(TimeZone.getDefault());\n        Date gmt = null;\n\n        SimpleDateFormat sdfOutPutToSend = new SimpleDateFormat(dateFormat);\n        sdfOutPutToSend.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n        try {\n\n            gmt = sdf.parse(datesToConvert);\n            dateToReturn = sdfOutPutToSend.format(gmt);\n\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n        return dateToReturn;\n    }\n</code></pre>\n\n<p><strong>2. UTC to Local Converter</strong></p>\n\n<pre><code>public static String uTCToLocal(String dateFormatInPut, String dateFomratOutPut, String datesToConvert) {\n\n\n    String dateToReturn = datesToConvert;\n\n    SimpleDateFormat sdf = new SimpleDateFormat(dateFormatInPut);\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n\n    Date gmt = null;\n\n    SimpleDateFormat sdfOutPutToSend = new SimpleDateFormat(dateFomratOutPut);\n    sdfOutPutToSend.setTimeZone(TimeZone.getDefault());\n\n    try {\n\n        gmt = sdf.parse(datesToConvert);\n        dateToReturn = sdfOutPutToSend.format(gmt);\n\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n    return dateToReturn; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4262666,"reputation":136,"user_id":3486626,"display_name":"user3486626"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610547436,"creation_date":1610467020,"answer_id":65687433,"question_id":17677546,"body_markdown":"This is how i do it on android Build.VERSION.SDK_INT &lt; 26\r\n\r\n    int offset = TimeZone.getDefault().getRawOffset();\r\n    String str_date=&#39;20:30 12-01-2021&#39;;\r\n    DateFormat formatter = new SimpleDateFormat(&quot;HH:mm dd-MM-yyy&quot;,Locale.US);\r\n    Date date = formatter.parse(str_date);\r\n    long utcTime = date.getTime() + (3600000*3);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm dd/MM/yyyy&quot;, Locale.US);\r\n    String dateStr = sdf.format(utcTime + offset);\r\n    System.out.println(dateStr);\r\n\r\nAs my server sends the time with -3 timezone i have to add (3600*3) to getTime and i save it into utcTime, this way utcTime is in UTC. And then i add to utcTime the offset of the phone current timezone.\r\nIn my case as my timezone is -3 its prints:\r\n\r\n    20:30 12/01/2021\r\n\r\nBut if i change my time zone the date also changes.","title":"Convert UTC into Local Time on Android","body":"<p>This is how i do it on android Build.VERSION.SDK_INT &lt; 26</p>\n<pre><code>int offset = TimeZone.getDefault().getRawOffset();\nString str_date='20:30 12-01-2021';\nDateFormat formatter = new SimpleDateFormat(&quot;HH:mm dd-MM-yyy&quot;,Locale.US);\nDate date = formatter.parse(str_date);\nlong utcTime = date.getTime() + (3600000*3);\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;HH:mm dd/MM/yyyy&quot;, Locale.US);\nString dateStr = sdf.format(utcTime + offset);\nSystem.out.println(dateStr);\n</code></pre>\n<p>As my server sends the time with -3 timezone i have to add (3600*3) to getTime and i save it into utcTime, this way utcTime is in UTC. And then i add to utcTime the offset of the phone current timezone.\nIn my case as my timezone is -3 its prints:</p>\n<pre><code>20:30 12/01/2021\n</code></pre>\n<p>But if i change my time zone the date also changes.</p>\n"},{"tags":[],"owner":{"account_id":13728780,"reputation":646,"user_id":9906778,"display_name":"Ho&#224;ng Vũ Anh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657524485,"creation_date":1657524485,"answer_id":72935056,"question_id":17677546,"body_markdown":"Use this code:\r\n\r\n    public static String stringDateWithTimezone(Date date, String pattern, TimeZone timeZone) {\r\n            try {\r\n                SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern, Locale.US);\r\n                if (timeZone != null) {\r\n                    simpleDateFormat.setTimeZone(timeZone);\r\n                }\r\n                return simpleDateFormat.format(date);\r\n            } catch (Exception e) {\r\n                Timber.e(e);\r\n                return null;\r\n            }\r\n        }\r\n\r\ncall in another class:    \r\n\r\n    String dateUtc = DateUtil.stringDateWithTimezone(new Date(), &quot;yyyy-MM-dd hh:mm:ss&quot;, TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\r\n\r\n","title":"Convert UTC into Local Time on Android","body":"<p>Use this code:</p>\n<pre><code>public static String stringDateWithTimezone(Date date, String pattern, TimeZone timeZone) {\n        try {\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(pattern, Locale.US);\n            if (timeZone != null) {\n                simpleDateFormat.setTimeZone(timeZone);\n            }\n            return simpleDateFormat.format(date);\n        } catch (Exception e) {\n            Timber.e(e);\n            return null;\n        }\n    }\n</code></pre>\n<p>call in another class:</p>\n<pre><code>String dateUtc = DateUtil.stringDateWithTimezone(new Date(), &quot;yyyy-MM-dd hh:mm:ss&quot;, TimeZone.getTimeZone(&quot;UTC&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14401721,"reputation":1213,"user_id":10403133,"display_name":"Nasib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679161160,"creation_date":1679161160,"answer_id":75777599,"question_id":17677546,"body_markdown":"I wanted to convert UTC Timestamp to Local Timestamp for some calculations.\r\nthis is what i did\r\n\r\n  \r\n\r\n      val refreshed = Prefs.getLong(requireContext(), &quot;refreshed_time&quot;)\r\n      val calendar = Calendar.getInstance()\r\n      calendar.timeInMillis = refreshed\r\n      calendar.timeZone = TimeZone.getDefault()\r\n    \r\n      val localTimestamp = calendar.timeInMillis\r\n\r\n","title":"Convert UTC into Local Time on Android","body":"<p>I wanted to convert UTC Timestamp to Local Timestamp for some calculations.\nthis is what i did</p>\n<pre><code>  val refreshed = Prefs.getLong(requireContext(), &quot;refreshed_time&quot;)\n  val calendar = Calendar.getInstance()\n  calendar.timeInMillis = refreshed\n  calendar.timeZone = TimeZone.getDefault()\n\n  val localTimestamp = calendar.timeInMillis\n</code></pre>\n"}],"owner":{"account_id":1815974,"reputation":1458,"user_id":1651042,"accept_rate":50,"display_name":"MadTech"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91096,"favorite_count":0,"down_vote_count":0,"up_vote_count":75,"accepted_answer_id":17678000,"answer_count":8,"score":75,"last_activity_date":1679161160,"creation_date":1373980500,"question_id":17677546,"body_markdown":"In my project, I have get the API response in json format. I get a string value of time in UTC time format like this `Jul 16, 2013 12:08:59 AM`.  \r\nI need to change this into Local time.\r\nThat is where ever we use this the app needs to show the local time. How to I do this?\r\n\r\nHere is some Code I have tried:\r\n\r\n    String aDate = getValue(&quot;dateTime&quot;, aEventJson);\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MMM dd, yyyy HH:mm:ss z&quot;);\r\n    simpleDateFormat.setTimeZone(TimeZone.getDefault());\r\n    String formattedDate = simpleDateFormat.format(aDate);\r\n\r\nAssume aDate contains `Jul 16, 2013 12:08:59 AM`\r\n ","title":"Convert UTC into Local Time on Android","body":"<p>In my project, I have get the API response in json format. I get a string value of time in UTC time format like this <code>Jul 16, 2013 12:08:59 AM</code>.<br>\nI need to change this into Local time.\nThat is where ever we use this the app needs to show the local time. How to I do this?</p>\n\n<p>Here is some Code I have tried:</p>\n\n<pre><code>String aDate = getValue(\"dateTime\", aEventJson);\nSimpleDateFormat simpleDateFormat = new SimpleDateFormat(\"MMM dd, yyyy HH:mm:ss z\");\nsimpleDateFormat.setTimeZone(TimeZone.getDefault());\nString formattedDate = simpleDateFormat.format(aDate);\n</code></pre>\n\n<p>Assume aDate contains <code>Jul 16, 2013 12:08:59 AM</code></p>\n"},{"tags":["java","properties-file","myeclipse"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1369806876,"creation_date":1369806876,"answer_id":16806449,"question_id":16806434,"body_markdown":"It should be in classpath, put it to your root source package, if its a maven project put it to `src/main/resources` directory\r\n\r\n","title":"Where to put a properties file in Java?","body":"<p>It should be in classpath, put it to your root source package, if its a maven project put it to <code>src/main/resources</code> directory</p>\n"},{"tags":[],"owner":{"account_id":2273589,"reputation":1029,"user_id":2000422,"accept_rate":52,"display_name":"Mitaksh Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369807469,"creation_date":1369807143,"answer_id":16806509,"question_id":16806434,"body_markdown":"it should be in `WebContent/Web-Inf/` folder\r\n\r\nand in you xml file define the bean like this : \r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;com.your.project.util.properties.ApplicationProperties&quot;&gt;\r\n        &lt;property name=&quot;locations&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;/WEB-INF/application.properties&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Where to put a properties file in Java?","body":"<p>it should be in <code>WebContent/Web-Inf/</code> folder</p>\n\n<p>and in you xml file define the bean like this : </p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"com.your.project.util.properties.ApplicationProperties\"&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;/WEB-INF/application.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1369808015,"creation_date":1369808015,"answer_id":16806720,"question_id":16806434,"body_markdown":"You could also keep config.properties in the same folder as Config.java.   \r\n\r\n    //InputStream propertiesStream = Object.class.getResourceAsStream(&quot;config.properties&quot;);\r\n    InputStream propertiesStream   = Config.class.getResourceAsStream(&quot;config.properties&quot;);\r\n\r\n","title":"Where to put a properties file in Java?","body":"<p>You could also keep config.properties in the same folder as Config.java.   </p>\n\n<pre><code>//InputStream propertiesStream = Object.class.getResourceAsStream(\"config.properties\");\nInputStream propertiesStream   = Config.class.getResourceAsStream(\"config.properties\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2655485,"reputation":430,"user_id":2296285,"accept_rate":67,"display_name":"Gowthami Reddy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1369808494,"creation_date":1369808494,"answer_id":16806832,"question_id":16806434,"body_markdown":"You can have two choices of selecting the path,\r\n\r\n1. Open the file containing folder and get the path and save that path in the string with file like,\r\n\r\n    InputStream propertiesStream = Object.class.getResourceAsStream(path + File.seperator + &quot;config.properties&quot;);\r\n\r\n2. Save the file in src path,\r\n\r\n    WorkSpace -&gt; Project Name -&gt; Copyhere","title":"Where to put a properties file in Java?","body":"<p>You can have two choices of selecting the path,</p>\n\n<ol>\n<li><p>Open the file containing folder and get the path and save that path in the string with file like,</p>\n\n<p>InputStream propertiesStream = Object.class.getResourceAsStream(path + File.seperator + \"config.properties\");</p></li>\n<li><p>Save the file in src path,</p>\n\n<p>WorkSpace -> Project Name -> Copyhere</p></li>\n</ol>\n"}],"owner":{"account_id":1867238,"reputation":121,"user_id":1690469,"display_name":"CSLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28786,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1679160942,"creation_date":1369806778,"question_id":16806434,"body_markdown":"I tried to read a .properties file in Java and have the following code:\r\n\r\n    public final class Config  {\r\n        static {\r\n            Properties properties = new Properties();\r\n            InputStream propertiesStream = Object.class.getResourceAsStream(&quot;config.properties&quot;);\r\n    \r\n            if (propertiesStream != null) {\r\n                try {\r\n                    properties.load(propertiesStream);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else {\r\n                System.out.println(&quot;file not found&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBut it keeps saying file not found.\r\n \r\nThe content of properties is \r\n\r\n    pwd=passw0rd\r\n\r\nAnyone knows how to solve this problem?\r\n\r\n","title":"Where to put a properties file in Java?","body":"<p>I tried to read a .properties file in Java and have the following code:</p>\n<pre><code>public final class Config  {\n    static {\n        Properties properties = new Properties();\n        InputStream propertiesStream = Object.class.getResourceAsStream(&quot;config.properties&quot;);\n\n        if (propertiesStream != null) {\n            try {\n                properties.load(propertiesStream);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } else {\n            System.out.println(&quot;file not found&quot;);\n        }\n    }\n}\n</code></pre>\n<p>But it keeps saying file not found.</p>\n<p>The content of properties is</p>\n<pre><code>pwd=passw0rd\n</code></pre>\n<p>Anyone knows how to solve this problem?</p>\n"},{"tags":["java","spring-boot","eclipse","wildfly","wildfly-26"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678724399,"post_id":75720891,"comment_id":133585134,"body_markdown":"How did you install the `org.eclipse.persistece` module?","body":"How did you install the <code>org.eclipse.persistece</code> module?"}],"answers":[{"tags":[],"owner":{"account_id":2791968,"reputation":559,"user_id":2402046,"display_name":"HOCiNE BEKKOUCHE"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679159957,"creation_date":1679156750,"answer_id":75777153,"question_id":75720891,"body_markdown":"The problem is related to the Eclipselink module in wildfly 27.0.1, which is not properly configured in the module.xml file. To fix this issue, you need to add dependencies to the module.xml file that are not present by default. Eclipselink uses these dependencies to function correctly.\r\n\r\nTo do this, follow these steps:\r\n\r\nOpen the `module.xml` file for the Eclipselink module, which is located at `&lt;WILDFLY_HOME&gt;/modules/system/layers/base/org/eclipse/persistence/main/module.xml`.\r\n\r\nAdd the following dependencies to the dependencies section of the module.xml file:\r\n\r\n    &lt;module name=&quot;java.xml&quot;/&gt;\r\n    &lt;module name=&quot;java.rmi&quot;/&gt;\r\n    &lt;module name=&quot;java.desktop&quot;/&gt;\r\n\r\nSave the changes to the `module.xml` file and restart Wildfly.\r\n\r\nHere is an example of what the updated module.xml file should look like:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.1.Final.jar&quot;/&gt;\r\n            &lt;resource-root path=&quot;eclipselink-4.0.1.jar&quot;&gt;\r\n               &lt;filter&gt;\r\n                  &lt;exclude path=&quot;jakarta/**&quot; /&gt;\r\n               &lt;/filter&gt;\r\n            &lt;/resource-root&gt;\r\n        &lt;/resources&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;java.xml&quot;/&gt;\r\n            &lt;module name=&quot;java.rmi&quot;/&gt;\r\n            &lt;module name=&quot;java.desktop&quot;/&gt;\r\n            &lt;module name=&quot;java.logging&quot;/&gt;\r\n            &lt;module name=&quot;java.management&quot;/&gt;\r\n            &lt;module name=&quot;java.naming&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\r\n            &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\r\n            &lt;module name=&quot;org.antlr&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n            &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\n\r\n","title":"getting &quot;java.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException&quot; when i run my java app on docker (wildfly)","body":"<p>The problem is related to the Eclipselink module in wildfly 27.0.1, which is not properly configured in the module.xml file. To fix this issue, you need to add dependencies to the module.xml file that are not present by default. Eclipselink uses these dependencies to function correctly.</p>\n<p>To do this, follow these steps:</p>\n<p>Open the <code>module.xml</code> file for the Eclipselink module, which is located at <code>&lt;WILDFLY_HOME&gt;/modules/system/layers/base/org/eclipse/persistence/main/module.xml</code>.</p>\n<p>Add the following dependencies to the dependencies section of the module.xml file:</p>\n<pre><code>&lt;module name=&quot;java.xml&quot;/&gt;\n&lt;module name=&quot;java.rmi&quot;/&gt;\n&lt;module name=&quot;java.desktop&quot;/&gt;\n</code></pre>\n<p>Save the changes to the <code>module.xml</code> file and restart Wildfly.</p>\n<p>Here is an example of what the updated module.xml file should look like:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;module name=&quot;org.eclipse.persistence&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;public&quot;/&gt;\n    &lt;/properties&gt;\n\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;jipijapa-eclipselink-27.0.1.Final.jar&quot;/&gt;\n        &lt;resource-root path=&quot;eclipselink-4.0.1.jar&quot;&gt;\n           &lt;filter&gt;\n              &lt;exclude path=&quot;jakarta/**&quot; /&gt;\n           &lt;/filter&gt;\n        &lt;/resource-root&gt;\n    &lt;/resources&gt;\n\n    &lt;dependencies&gt;\n        &lt;module name=&quot;java.xml&quot;/&gt;\n        &lt;module name=&quot;java.rmi&quot;/&gt;\n        &lt;module name=&quot;java.desktop&quot;/&gt;\n        &lt;module name=&quot;java.logging&quot;/&gt;\n        &lt;module name=&quot;java.management&quot;/&gt;\n        &lt;module name=&quot;java.naming&quot;/&gt;\n        &lt;module name=&quot;jakarta.annotation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.enterprise.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.json.api&quot; optional=&quot;true&quot;/&gt;\n        &lt;module name=&quot;jakarta.persistence.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.transaction.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.validation.api&quot;/&gt;\n        &lt;module name=&quot;jakarta.xml.bind.api&quot;/&gt;\n        &lt;module name=&quot;org.antlr&quot;/&gt;\n        &lt;module name=&quot;org.jboss.as.jpa.spi&quot;/&gt;\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n        &lt;module name=&quot;org.jboss.vfs&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n"}],"owner":{"account_id":13080083,"reputation":101,"user_id":9450910,"display_name":"saham nadeem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75777153,"answer_count":1,"score":1,"last_activity_date":1679159957,"creation_date":1678704691,"question_id":75720891,"body_markdown":"I updated my wildfly version from 14.0.1 to 27.0.1 everything is working fine on mylocal environment. However, when i deploy it to the docker following errors come up.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QWO6O.png\r\n\r\nI have three persistence units using jakarta java 11 and eclipslink as persistence provider. please let me know what am i doing wrong?","title":"getting &quot;java.lang.NoClassDefFoundError: javax/xml/parsers/ParserConfigurationException&quot; when i run my java app on docker (wildfly)","body":"<p>I updated my wildfly version from 14.0.1 to 27.0.1 everything is working fine on mylocal environment. However, when i deploy it to the docker following errors come up.\n<a href=\"https://i.stack.imgur.com/QWO6O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QWO6O.png\" alt=\"enter image description here\" /></a></p>\n<p>I have three persistence units using jakarta java 11 and eclipslink as persistence provider. please let me know what am i doing wrong?</p>\n"},{"tags":["java","authentication","jwt","jax-rs","http-token-authentication"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1679159905,"post_id":75775150,"comment_id":133673333,"body_markdown":"Have you checked to see if there is any exception with the TokenProvider.validateToken() call? If there is an exception, you are aborting with 401, but you have no idea what the exception is, based on your code. I would check that first.","body":"Have you checked to see if there is any exception with the TokenProvider.validateToken() call? If there is an exception, you are aborting with 401, but you have no idea what the exception is, based on your code. I would check that first."}],"owner":{"account_id":17729705,"reputation":41,"user_id":19115525,"display_name":"ash"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679159637,"creation_date":1679133992,"question_id":75775150,"body_markdown":"I am trying to implement token based authentication for a simple hello world program in JAX-RS with Grizzly. \r\n\r\nI have set up a server and client class and a hello resource for displaying the hello world along with a parameter that is entered through a function in client class.\r\n\r\n```\r\n//This is the server class\r\n\r\nimport org.glassfish.grizzly.http.server.HttpServer;\r\nimport org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\r\nimport org.glassfish.jersey.server.ResourceConfig;\r\n\r\nimport java.io.IOException;\r\nimport java.net.URI;\r\n/**\r\n * Main class.\r\n *\r\n */\r\npublic class HelloServer extends TokenFilter{\r\n    // Base URI the Grizzly HTTP server will listen on\r\n    public static final String BASE_URI = &quot;http://localhost:2000/&quot;;\r\n\r\n    /**\r\n     * Starts Grizzly HTTP server exposing JAX-RS resources defined in this application.\r\n     * @return Grizzly HTTP server.\r\n     */\r\n    public static HttpServer startServer() {\r\n        final TokenFilter tokenFilter = new TokenFilter();\r\n\r\n\r\n        // create a resource config that scans for JAX-RS resources and providers\r\n        final ResourceConfig rc = new ResourceConfig()\r\n                                    .packages(&quot;com.example.assignment1&quot;)\r\n                                    .register(tokenFilter);\r\n\r\n        // create and start a new instance of grizzly http server\r\n        // exposing the Jersey application at BASE_URI\r\n        return GrizzlyHttpServerFactory.createHttpServer(URI.create(BASE_URI), rc);\r\n    }\r\n\r\n    /**\r\n     * Main method.\r\n     * @param args\r\n     * @throws IOException\r\n     */\r\n    public static void main(String[] args) throws IOException {\r\n        final HttpServer server = startServer();\r\n        System.out.printf(&quot;Jersey app started with endpoints available at &quot;\r\n                + &quot;%s%nHit Ctrl-C to stop it...%n&quot;, BASE_URI);\r\n        System.in.read();\r\n        server.shutdown();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the code for client class\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\nimport static com.example.assignment1.HelloServer.BASE_URI;\r\n\r\npublic class HelloClient {\r\n    // Define the token to be used for authentication\r\n    private static final String TOKEN = &quot;your-jwt-token-here&quot;;\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        pingHelloWorld(&quot;akshata&quot;);\r\n        System.out.println(&quot;Program closing!&quot;);\r\n    }\r\n    private static void pingHelloWorld(String word) throws IOException {\r\n\r\n        //URL url = new URL(&quot;http://localhost:2000/hello-world?name=&quot; + word);\r\n\r\n        URL url = new URL(BASE_URI + &quot;hello-world?name=&quot; + word);\r\n\r\n        // Create a new HTTP connection\r\n\r\n        HttpURLConnection http = (HttpURLConnection)url.openConnection();\r\n        // Set the authorization header with the token\r\n        http.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN);\r\n\r\n        // Print response headers\r\n        Map&lt;String, List&lt;String&gt;&gt; headers = http.getHeaderFields();\r\n        for (String key : headers.keySet()) {\r\n            System.out.println(key + &quot;: &quot; + headers.get(key));\r\n        }\r\n\r\n        // Read the response from the server\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(http.getInputStream()));\r\n        String response = br.readLine();\r\n        System.out.printf(&quot;\\n %s \\n%n&quot;, response);\r\n        http.disconnect();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the code for resource class\r\n\r\n```\r\nimport jakarta.annotation.security.RolesAllowed;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.QueryParam;\r\nimport jakarta.ws.rs.core.Response;\r\n\r\n\r\n@Path(&quot;/hello-world&quot;)\r\n\r\npublic class HelloResource {\r\n    @GET\r\n    @Produces(&quot;text/plain&quot;)\r\n    @RolesAllowed(&quot;user&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n\r\n    @GET\r\n    @Path(&quot;/greet&quot;)\r\n    @Produces(&quot;text/plain&quot;)\r\n    @RolesAllowed(&quot;admin&quot;)\r\n\r\n    public Response getHelloWorld(@QueryParam(&quot;name&quot;) String name) {\r\n        String message = &quot;Hello world &quot; + name;\r\n        return Response.status(200).entity(message).build();\r\n    }\r\n}\r\n```\r\n\r\nI am trying to implement token based authentication using JWT and have created a token provider class and token filter class\r\n\r\n\r\n```\r\n//This is token provider class \r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtBuilder;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport jakarta.xml.bind.DatatypeConverter;\r\n\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.security.Key;\r\nimport java.util.Date;\r\npublic class TokenProvider {\r\n\r\n        private static final String SECRET_KEY = &quot;mySecretKey12345&quot;;\r\n\r\n        public static String generateToken(String subject, String issuer, long ttlMillis) {\r\n            if (ttlMillis &lt;= 0) {\r\n                throw new RuntimeException(&quot;Expiry time must be greater than zero : [&quot; + ttlMillis + &quot;] &quot;);\r\n            }\r\n            SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\r\n\r\n            long nowMillis = System.currentTimeMillis();\r\n            Date now = new Date(nowMillis);\r\n\r\n            //We will sign our JWT with our ApiKey secret\r\n\r\n            byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(SECRET_KEY);\r\n            Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\r\n\r\n            //set logging statement\r\n            System.out.println(String.format(&quot;Generating token for subject: %s, issuer: %s, expiry: %d&quot;, subject, issuer, ttlMillis));\r\n\r\n            //Let&#39;s set the JWT Claims\r\n            JwtBuilder builder = Jwts.builder().setIssuedAt(now).setSubject(subject).setIssuer(issuer).signWith(signatureAlgorithm, signingKey);\r\n\r\n            //if it has been specified, let&#39;s add the expiration\r\n            Date exp = null;\r\n            if (ttlMillis &gt;= 0) {\r\n                long expMillis = nowMillis + ttlMillis;\r\n                exp = new Date(expMillis);\r\n                builder.setExpiration(exp);\r\n            }\r\n\r\n            //Builds the JWT and serializes it to a compact, URL-safe string\r\n            return builder.compact();\r\n\r\n            /*return Jwts.builder()\r\n                    .setSubject(subject)\r\n                    .setIssuedAt(now)\r\n                    .setExpiration(exp)\r\n                    .signWith(signingKey, signatureAlgorithm)\r\n                    .compact();*/\r\n        }\r\n\r\n        public static Claims validateToken(String token) {\r\n            return Jwts.parser()\r\n                    .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\r\n                    .parseClaimsJws(token).getBody();\r\n        }\r\n}\r\n```\r\n\r\n\r\n```\r\n//This is token filter class\r\nimport jakarta.ws.rs.container.ContainerRequestContext;\r\nimport jakarta.ws.rs.container.ContainerRequestFilter;\r\nimport jakarta.ws.rs.core.Response;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class TokenFilter implements ContainerRequestFilter {\r\n    private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n    private static final String AUTHORIZATION_PREFIX = &quot;Bearer &quot;;\r\n\r\n    @Override\r\n    public void filter(ContainerRequestContext requestContext) throws IOException {\r\n        String authorizationHeader = requestContext.getHeaderString(AUTHORIZATION_HEADER);\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(AUTHORIZATION_PREFIX)) {\r\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n            return;\r\n        }\r\n        String token = authorizationHeader.substring(AUTHORIZATION_PREFIX.length());\r\n        try {\r\n            TokenProvider.validateToken(token);\r\n        } catch (Exception e) {\r\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI am getting an exception during runtime from client and have tried to check the logs on the server-side to verify that the token is being generated correctly and that it matches the token received by the client but I have no clue where i might be going wrong and have spent hours now trying to debug. Please could someone help me out with this.","title":"Getting exception: server returned response code 401 ; while implementing token based authentication for jax-rs with grizzly in java","body":"<p>I am trying to implement token based authentication for a simple hello world program in JAX-RS with Grizzly.</p>\n<p>I have set up a server and client class and a hello resource for displaying the hello world along with a parameter that is entered through a function in client class.</p>\n<pre><code>//This is the server class\n\nimport org.glassfish.grizzly.http.server.HttpServer;\nimport org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpServerFactory;\nimport org.glassfish.jersey.server.ResourceConfig;\n\nimport java.io.IOException;\nimport java.net.URI;\n/**\n * Main class.\n *\n */\npublic class HelloServer extends TokenFilter{\n    // Base URI the Grizzly HTTP server will listen on\n    public static final String BASE_URI = &quot;http://localhost:2000/&quot;;\n\n    /**\n     * Starts Grizzly HTTP server exposing JAX-RS resources defined in this application.\n     * @return Grizzly HTTP server.\n     */\n    public static HttpServer startServer() {\n        final TokenFilter tokenFilter = new TokenFilter();\n\n\n        // create a resource config that scans for JAX-RS resources and providers\n        final ResourceConfig rc = new ResourceConfig()\n                                    .packages(&quot;com.example.assignment1&quot;)\n                                    .register(tokenFilter);\n\n        // create and start a new instance of grizzly http server\n        // exposing the Jersey application at BASE_URI\n        return GrizzlyHttpServerFactory.createHttpServer(URI.create(BASE_URI), rc);\n    }\n\n    /**\n     * Main method.\n     * @param args\n     * @throws IOException\n     */\n    public static void main(String[] args) throws IOException {\n        final HttpServer server = startServer();\n        System.out.printf(&quot;Jersey app started with endpoints available at &quot;\n                + &quot;%s%nHit Ctrl-C to stop it...%n&quot;, BASE_URI);\n        System.in.read();\n        server.shutdown();\n    }\n}\n</code></pre>\n<p>This is the code for client class</p>\n<pre><code>import java.util.*;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport static com.example.assignment1.HelloServer.BASE_URI;\n\npublic class HelloClient {\n    // Define the token to be used for authentication\n    private static final String TOKEN = &quot;your-jwt-token-here&quot;;\n    public static void main(String[] args) throws IOException {\n\n        pingHelloWorld(&quot;akshata&quot;);\n        System.out.println(&quot;Program closing!&quot;);\n    }\n    private static void pingHelloWorld(String word) throws IOException {\n\n        //URL url = new URL(&quot;http://localhost:2000/hello-world?name=&quot; + word);\n\n        URL url = new URL(BASE_URI + &quot;hello-world?name=&quot; + word);\n\n        // Create a new HTTP connection\n\n        HttpURLConnection http = (HttpURLConnection)url.openConnection();\n        // Set the authorization header with the token\n        http.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + TOKEN);\n\n        // Print response headers\n        Map&lt;String, List&lt;String&gt;&gt; headers = http.getHeaderFields();\n        for (String key : headers.keySet()) {\n            System.out.println(key + &quot;: &quot; + headers.get(key));\n        }\n\n        // Read the response from the server\n        BufferedReader br = new BufferedReader(new InputStreamReader(http.getInputStream()));\n        String response = br.readLine();\n        System.out.printf(&quot;\\n %s \\n%n&quot;, response);\n        http.disconnect();\n    }\n}\n</code></pre>\n<p>This is the code for resource class</p>\n<pre><code>import jakarta.annotation.security.RolesAllowed;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.QueryParam;\nimport jakarta.ws.rs.core.Response;\n\n\n@Path(&quot;/hello-world&quot;)\n\npublic class HelloResource {\n    @GET\n    @Produces(&quot;text/plain&quot;)\n    @RolesAllowed(&quot;user&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n\n    @GET\n    @Path(&quot;/greet&quot;)\n    @Produces(&quot;text/plain&quot;)\n    @RolesAllowed(&quot;admin&quot;)\n\n    public Response getHelloWorld(@QueryParam(&quot;name&quot;) String name) {\n        String message = &quot;Hello world &quot; + name;\n        return Response.status(200).entity(message).build();\n    }\n}\n</code></pre>\n<p>I am trying to implement token based authentication using JWT and have created a token provider class and token filter class</p>\n<pre><code>//This is token provider class \nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtBuilder;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport jakarta.xml.bind.DatatypeConverter;\n\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.Key;\nimport java.util.Date;\npublic class TokenProvider {\n\n        private static final String SECRET_KEY = &quot;mySecretKey12345&quot;;\n\n        public static String generateToken(String subject, String issuer, long ttlMillis) {\n            if (ttlMillis &lt;= 0) {\n                throw new RuntimeException(&quot;Expiry time must be greater than zero : [&quot; + ttlMillis + &quot;] &quot;);\n            }\n            SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\n\n            long nowMillis = System.currentTimeMillis();\n            Date now = new Date(nowMillis);\n\n            //We will sign our JWT with our ApiKey secret\n\n            byte[] apiKeySecretBytes = DatatypeConverter.parseBase64Binary(SECRET_KEY);\n            Key signingKey = new SecretKeySpec(apiKeySecretBytes, signatureAlgorithm.getJcaName());\n\n            //set logging statement\n            System.out.println(String.format(&quot;Generating token for subject: %s, issuer: %s, expiry: %d&quot;, subject, issuer, ttlMillis));\n\n            //Let's set the JWT Claims\n            JwtBuilder builder = Jwts.builder().setIssuedAt(now).setSubject(subject).setIssuer(issuer).signWith(signatureAlgorithm, signingKey);\n\n            //if it has been specified, let's add the expiration\n            Date exp = null;\n            if (ttlMillis &gt;= 0) {\n                long expMillis = nowMillis + ttlMillis;\n                exp = new Date(expMillis);\n                builder.setExpiration(exp);\n            }\n\n            //Builds the JWT and serializes it to a compact, URL-safe string\n            return builder.compact();\n\n            /*return Jwts.builder()\n                    .setSubject(subject)\n                    .setIssuedAt(now)\n                    .setExpiration(exp)\n                    .signWith(signingKey, signatureAlgorithm)\n                    .compact();*/\n        }\n\n        public static Claims validateToken(String token) {\n            return Jwts.parser()\n                    .setSigningKey(DatatypeConverter.parseBase64Binary(SECRET_KEY))\n                    .parseClaimsJws(token).getBody();\n        }\n}\n</code></pre>\n<pre><code>//This is token filter class\nimport jakarta.ws.rs.container.ContainerRequestContext;\nimport jakarta.ws.rs.container.ContainerRequestFilter;\nimport jakarta.ws.rs.core.Response;\n\nimport java.io.IOException;\n\npublic class TokenFilter implements ContainerRequestFilter {\n    private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n    private static final String AUTHORIZATION_PREFIX = &quot;Bearer &quot;;\n\n    @Override\n    public void filter(ContainerRequestContext requestContext) throws IOException {\n        String authorizationHeader = requestContext.getHeaderString(AUTHORIZATION_HEADER);\n        if (authorizationHeader == null || !authorizationHeader.startsWith(AUTHORIZATION_PREFIX)) {\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n            return;\n        }\n        String token = authorizationHeader.substring(AUTHORIZATION_PREFIX.length());\n        try {\n            TokenProvider.validateToken(token);\n        } catch (Exception e) {\n            requestContext.abortWith(Response.status(Response.Status.UNAUTHORIZED).build());\n        }\n    }\n}\n</code></pre>\n<p>I am getting an exception during runtime from client and have tried to check the logs on the server-side to verify that the token is being generated correctly and that it matches the token received by the client but I have no clue where i might be going wrong and have spent hours now trying to debug. Please could someone help me out with this.</p>\n"},{"tags":["java","spring-boot","jpa","java-stream"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1679138531,"post_id":75775470,"comment_id":133669866,"body_markdown":"Please read the guidelines on [how to ask a good question](https://stackoverflow.com/help/how-to-ask). At the very least, we need to see what you’ve tried.","body":"Please read the guidelines on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>. At the very least, we need to see what you’ve tried."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679141822,"post_id":75775470,"comment_id":133670331,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28020665,"reputation":21,"user_id":21401528,"display_name":"Lucky Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679159474,"creation_date":1679159474,"answer_id":75777419,"question_id":75775470,"body_markdown":"    public List&lt;Car&gt; findCarLessThan20kAndYellowColor() {\r\n\r\n        return carRepository.findAll()\r\n                .stream()\r\n                .filter(price -&gt; price.getPrice() &lt; 20_000.00)\r\n                .filter(color -&gt; color.getColor().equalsIgnoreCase(&quot;yellow&quot;))\r\n                .collect(Collectors.toList());\r\n    } \r\nI wanted to do filter using java stream \r\nFinally found the solution you can directly use stream after findAll() method.","title":"Get database Data in Object","body":"<pre><code>public List&lt;Car&gt; findCarLessThan20kAndYellowColor() {\n\n    return carRepository.findAll()\n            .stream()\n            .filter(price -&gt; price.getPrice() &lt; 20_000.00)\n            .filter(color -&gt; color.getColor().equalsIgnoreCase(&quot;yellow&quot;))\n            .collect(Collectors.toList());\n} \n</code></pre>\n<p>I wanted to do filter using java stream\nFinally found the solution you can directly use stream after findAll() method.</p>\n"}],"owner":{"account_id":28020665,"reputation":21,"user_id":21401528,"display_name":"Lucky Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679159474,"creation_date":1679137884,"question_id":75775470,"body_markdown":"I have table Car in database and I want to fetch all information of it in the object and then I want to use the java stream to filter the data and show that data.\r\n\r\nI tried to get the data in List\\&lt;Car\\&gt; car but it did now work","title":"Get database Data in Object","body":"<p>I have table Car in database and I want to fetch all information of it in the object and then I want to use the java stream to filter the data and show that data.</p>\n<p>I tried to get the data in List&lt;Car&gt; car but it did now work</p>\n"},{"tags":["java","awt"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1679153158,"post_id":75776789,"comment_id":133672136,"body_markdown":"You need to add your image to a container like a `Panel`.","body":"You need to add your image to a container like a <code>Panel</code>."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":0,"creation_date":1679154897,"post_id":75776789,"comment_id":133672467,"body_markdown":"@QBrute Panel does not help. Same error.","body":"@QBrute Panel does not help. Same error."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679154996,"post_id":75776789,"comment_id":133672497,"body_markdown":"Why AWT? Better to use Swing -- put the image into an ImageIcon, put that into a JLabel and then display the JLabel in a JFrame. AWT has been out of date for over 20+ years and is well past its EOL.","body":"Why AWT? Better to use Swing -- put the image into an ImageIcon, put that into a JLabel and then display the JLabel in a JFrame. AWT has been out of date for over 20+ years and is well past its EOL."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1679155598,"post_id":75776789,"comment_id":133672603,"body_markdown":"@Hovercraft Full Of Eels: Some teacher or tutorial created his lesson plan 20 years ago and is not going to change it for the latest fads. /s  I remember waiting 20 years between COBOL revisions.  In my opinion, a new Java release every six months is way too often.","body":"@Hovercraft Full Of Eels: Some teacher or tutorial created his lesson plan 20 years ago and is not going to change it for the latest fads. /s  I remember waiting 20 years between COBOL revisions.  In my opinion, a new Java release every six months is way too often."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679155900,"post_id":75776789,"comment_id":133672669,"body_markdown":"@GilbertLeBlanc: I cannot disagree with you regarding Java releases, and being forced to stay au courant with every small change, but gosh, AWT was superseded by Swing **26** years ago. That&#39;s almost a full generation ago, *human* generation, not software cycle generation. And, as I&#39;m sure you know, Swing has been superseded since then by JavaFX.","body":"@GilbertLeBlanc: I cannot disagree with you regarding Java releases, and being forced to stay au courant with every small change, but gosh, AWT was superseded by Swing <b>26</b> years ago. That&#39;s almost a full generation ago, <i>human</i> generation, not software cycle generation. And, as I&#39;m sure you know, Swing has been superseded since then by JavaFX."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679157224,"creation_date":1679156857,"answer_id":75777173,"question_id":75776789,"body_markdown":"If you want to draw using AWT, you use a `Canvas`.  In Java Swing, you create a drawing `JPanel`.\r\n\r\nI modified your code to create the following GUI:\r\n\r\n[![GUI][1]][1]\r\n\r\nI reduced the image size so the GUI fits in the answer better.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.Canvas;\r\n    import java.awt.Dimension;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.event.WindowAdapter;\r\n    import java.awt.event.WindowEvent;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Gfx {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tFrame f = new Frame(&quot;Gfx&quot;);\r\n    \t\tf.addWindowListener(new WindowAdapter() {\r\n    \t\t\tpublic void windowClosing(WindowEvent e) {\r\n    \t\t\t\tf.dispose();\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tCanvas canvas = new Canvas() {\r\n    \t\t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize() {\r\n    \t\t\t\treturn new Dimension(200, 200);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void paint(Graphics g) {\r\n    \t\t\t\tsuper.paint(g);\r\n    \t\t\t\tBufferedImage image = new BufferedImage(200, 200,\r\n    \t\t\t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\t\t\tg.drawImage(image, 0, 0, this);\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\tf.add(canvas);\r\n    \t\tf.pack();\r\n    \t\tf.setVisible(true);\r\n    \t}\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Yudwy.png\r\n\r\n","title":"How to add an image to a frame in AWT?","body":"<p>If you want to draw using AWT, you use a <code>Canvas</code>.  In Java Swing, you create a drawing <code>JPanel</code>.</p>\n<p>I modified your code to create the following GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/Yudwy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yudwy.png\" alt=\"GUI\" /></a></p>\n<p>I reduced the image size so the GUI fits in the answer better.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.Canvas;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\npublic class Gfx {\n    public static void main(String[] args) {\n        Frame f = new Frame(&quot;Gfx&quot;);\n        f.addWindowListener(new WindowAdapter() {\n            public void windowClosing(WindowEvent e) {\n                f.dispose();\n            }\n        });\n\n        Canvas canvas = new Canvas() {\n            private static final long serialVersionUID = 1L;\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(200, 200);\n            }\n\n            @Override\n            public void paint(Graphics g) {\n                super.paint(g);\n                BufferedImage image = new BufferedImage(200, 200,\n                        BufferedImage.TYPE_INT_ARGB);\n                g.drawImage(image, 0, 0, this);\n            }\n        };\n\n        f.add(canvas);\n        f.pack();\n        f.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679159346,"creation_date":1679159346,"answer_id":75777414,"question_id":75776789,"body_markdown":"Full example with some drawing:\r\n~~~java\r\nimport java.awt.Canvas;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Frame;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.awt.image.BufferedImage;\r\n\r\npublic class Gfx\r\n{\r\n  static final int width = 800;\r\n  static final int height = 600;\r\n\r\n  static Frame frame (String title)\r\n  {\r\n    Frame frame = new Frame (title);\r\n    frame.addWindowListener (new WindowAdapter ()\r\n      {\r\n        @Override\r\n        public void windowClosing (WindowEvent ev) { frame.dispose (); }\r\n      });\r\n    return frame;\r\n  }\r\n\r\n  static BufferedImage image ()\r\n  {\r\n    BufferedImage image = new BufferedImage (width, height, BufferedImage.TYPE_INT_ARGB);\r\n    Graphics graphics = image.getGraphics();\r\n    graphics.setColor (Color.RED);\r\n    graphics.fillPolygon (new int[] {width, 0, 0}, new int[] {height/2, 0, height}, 3);\r\n    graphics.dispose ();\r\n    return image;\r\n  }\r\n\r\n  static Canvas canvas (Image image)\r\n  {\r\n    Canvas canvas = new Canvas ()\r\n      {\r\n        @Override\r\n        public Dimension getPreferredSize () {\r\n          return new Dimension (width, height); }\r\n        @Override\r\n        public void paint (Graphics graphics)\r\n        {\r\n          super.paint (graphics);\r\n          graphics.drawImage (image, 0, 0, this); // this?\r\n        }\r\n      };\r\n    return canvas;\r\n  }\r\n\r\n  public static void main (String[] args)\r\n  {\r\n    Frame frame = frame (&quot;Gfx&quot;);\r\n    Image image = image ();\r\n    Canvas canvas = canvas (image);\r\n    frame.add (canvas);\r\n    frame.pack ();\r\n    frame.setVisible (true);\r\n  }\r\n}\r\n~~~","title":"How to add an image to a frame in AWT?","body":"<p>Full example with some drawing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Canvas;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.image.BufferedImage;\n\npublic class Gfx\n{\n  static final int width = 800;\n  static final int height = 600;\n\n  static Frame frame (String title)\n  {\n    Frame frame = new Frame (title);\n    frame.addWindowListener (new WindowAdapter ()\n      {\n        @Override\n        public void windowClosing (WindowEvent ev) { frame.dispose (); }\n      });\n    return frame;\n  }\n\n  static BufferedImage image ()\n  {\n    BufferedImage image = new BufferedImage (width, height, BufferedImage.TYPE_INT_ARGB);\n    Graphics graphics = image.getGraphics();\n    graphics.setColor (Color.RED);\n    graphics.fillPolygon (new int[] {width, 0, 0}, new int[] {height/2, 0, height}, 3);\n    graphics.dispose ();\n    return image;\n  }\n\n  static Canvas canvas (Image image)\n  {\n    Canvas canvas = new Canvas ()\n      {\n        @Override\n        public Dimension getPreferredSize () {\n          return new Dimension (width, height); }\n        @Override\n        public void paint (Graphics graphics)\n        {\n          super.paint (graphics);\n          graphics.drawImage (image, 0, 0, this); // this?\n        }\n      };\n    return canvas;\n  }\n\n  public static void main (String[] args)\n  {\n    Frame frame = frame (&quot;Gfx&quot;);\n    Image image = image ();\n    Canvas canvas = canvas (image);\n    frame.add (canvas);\n    frame.pack ();\n    frame.setVisible (true);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75777173,"answer_count":2,"score":-1,"last_activity_date":1679159346,"creation_date":1679152972,"question_id":75776789,"body_markdown":"I tried this, but it does not work work.\r\n~~~java\r\nimport java.awt.Frame;\r\nimport java.awt.Graphics;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.Panel;\r\n\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport java.awt.event.WindowListener;\r\n\r\npublic class Gfx\r\n{\r\n  public static void main(String[] args)\r\n  {\r\n    Frame f = new Frame (&quot;Gfx&quot;);\r\n    f.addWindowListener (new WindowAdapter() {\r\n        public void windowClosing(WindowEvent e) {\r\n          f.dispose (); }});\r\n    Panel p = new Panel ();\r\n    f.add(p);\r\n    BufferedImage image = new BufferedImage(1000, 1000, BufferedImage.TYPE_INT_ARGB);\r\n    p.add(image);\r\n    f.pack();\r\n    f.setVisible (true);\r\n  }\r\n}\r\n~~~\r\nThe error is:\r\n~~~none\r\nGfx.java:21: error: no suitable method found for add(BufferedImage)\r\n    p.add(image);\r\n     ^\r\n    method Component.add(PopupMenu) is not applicable\r\n      (argument mismatch; BufferedImage cannot be converted to PopupMenu)\r\n    method Container.add(Component) is not applicable\r\n      (argument mismatch; BufferedImage cannot be converted to Component)\r\n~~~\r\nThe `BufferedImage` is no `Component`. How to convert it into a `Component`?\r\n","title":"How to add an image to a frame in AWT?","body":"<p>I tried this, but it does not work work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.awt.Panel;\n\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport java.awt.event.WindowListener;\n\npublic class Gfx\n{\n  public static void main(String[] args)\n  {\n    Frame f = new Frame (&quot;Gfx&quot;);\n    f.addWindowListener (new WindowAdapter() {\n        public void windowClosing(WindowEvent e) {\n          f.dispose (); }});\n    Panel p = new Panel ();\n    f.add(p);\n    BufferedImage image = new BufferedImage(1000, 1000, BufferedImage.TYPE_INT_ARGB);\n    p.add(image);\n    f.pack();\n    f.setVisible (true);\n  }\n}\n</code></pre>\n<p>The error is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Gfx.java:21: error: no suitable method found for add(BufferedImage)\n    p.add(image);\n     ^\n    method Component.add(PopupMenu) is not applicable\n      (argument mismatch; BufferedImage cannot be converted to PopupMenu)\n    method Container.add(Component) is not applicable\n      (argument mismatch; BufferedImage cannot be converted to Component)\n</code></pre>\n<p>The <code>BufferedImage</code> is no <code>Component</code>. How to convert it into a <code>Component</code>?</p>\n"},{"tags":["java","android","string","resources","android-resources"],"comments":[{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":0,"creation_date":1321075865,"post_id":8102741,"comment_id":9934810,"body_markdown":"If your project is a Android project.definitely you can use it.Have you tried it? try to use it then tell us.","body":"If your project is a Android project.definitely you can use it.Have you tried it? try to use it then tell us."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":4,"creation_date":1321077148,"post_id":8102741,"comment_id":9934917,"body_markdown":"I&#39;m curious what your logic was when you accepted the answer you did.","body":"I&#39;m curious what your logic was when you accepted the answer you did."}],"answers":[{"tags":[],"owner":{"account_id":375811,"reputation":67210,"user_id":726863,"accept_rate":81,"display_name":"Lalit Poptani"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1348132935,"creation_date":1321075984,"answer_id":8102763,"question_id":8102741,"body_markdown":"You can pass the context of the Activity class to the java class and access the resources.\r\n\r\n\r\nFrom your Activity Class \r\n\r\n     Helper helper = new Helper(this);\r\n\r\nYour Java class\r\n\r\n    public class Helper {\r\n    \r\n    \tHelper(Context c){\r\n    \t\tc.getString(R.string.address);\r\n    \t}\r\n    }","title":"How to use string resource in a Java class in Android?","body":"<p>You can pass the context of the Activity class to the java class and access the resources.</p>\n\n<p>From your Activity Class </p>\n\n<pre><code> Helper helper = new Helper(this);\n</code></pre>\n\n<p>Your Java class</p>\n\n<pre><code>public class Helper {\n\n    Helper(Context c){\n        c.getString(R.string.address);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":392242,"reputation":4436,"user_id":1147007,"accept_rate":63,"display_name":"Jyosna"},"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1452085029,"creation_date":1321076955,"answer_id":8102825,"question_id":8102741,"body_markdown":"A class does not have a context and to use a string resource a context is needed. So just call the class from an activity and give a parameter `context` and within your class constructor just use that context to get the string resource.\r\n\r\nIn your custom class you need to import the R namespace for the project to get the resource Id. \r\n\r\n    import com.myrandomapp.R;\r\n\r\nThen to get the actual string \r\n\r\n    context.getString(R.string.COOL_STRING)","title":"How to use string resource in a Java class in Android?","body":"<p>A class does not have a context and to use a string resource a context is needed. So just call the class from an activity and give a parameter <code>context</code> and within your class constructor just use that context to get the string resource.</p>\n\n<p>In your custom class you need to import the R namespace for the project to get the resource Id. </p>\n\n<pre><code>import com.myrandomapp.R;\n</code></pre>\n\n<p>Then to get the actual string </p>\n\n<pre><code>context.getString(R.string.COOL_STRING)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2504419,"reputation":1494,"user_id":2178568,"accept_rate":50,"display_name":"Dark Leonhart"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1442232760,"creation_date":1442232760,"answer_id":32564488,"question_id":8102741,"body_markdown":"You can create a static `Application Context` in your custom `Application` class\r\n\r\n    public class App extends Application{\r\n    \r\n        private static Context mContext;\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            mContext = getApplicationContext();\r\n        }\r\n    \r\n        public static Context getContext(){\r\n            return mContext;\r\n        }\r\n    }\r\n\r\nThen you just need to call `App.getContext().getResources()` to get any resource values.\r\n\r\nJust remember that this `Context` is `Application` type, so there are things that this `Context` is not good to use. Read [this][1] for further info.\r\n\r\n\r\n  [1]: https://possiblemobile.com/2013/06/context/","title":"How to use string resource in a Java class in Android?","body":"<p>You can create a static <code>Application Context</code> in your custom <code>Application</code> class</p>\n\n<pre><code>public class App extends Application{\n\n    private static Context mContext;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        mContext = getApplicationContext();\n    }\n\n    public static Context getContext(){\n        return mContext;\n    }\n}\n</code></pre>\n\n<p>Then you just need to call <code>App.getContext().getResources()</code> to get any resource values.</p>\n\n<p>Just remember that this <code>Context</code> is <code>Application</code> type, so there are things that this <code>Context</code> is not good to use. Read <a href=\"https://possiblemobile.com/2013/06/context/\">this</a> for further info.</p>\n"},{"tags":[],"owner":{"account_id":7557268,"reputation":143,"user_id":5736394,"display_name":"Abelardo Le&#243;n Gonz&#225;lez"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1451673347,"creation_date":1451669196,"answer_id":34558318,"question_id":8102741,"body_markdown":"You could done if you add this line:\r\n\r\n    // this is the object itself, and idString is the ID String bound to the literal.\r\n    this.getString(R.string.idString)\r\n\r\nI hope this comment helps you!\r\n\r\nBrs.\r\n","title":"How to use string resource in a Java class in Android?","body":"<p>You could done if you add this line:</p>\n\n<pre><code>// this is the object itself, and idString is the ID String bound to the literal.\nthis.getString(R.string.idString)\n</code></pre>\n\n<p>I hope this comment helps you!</p>\n\n<p>Brs.</p>\n"}],"owner":{"account_id":382361,"reputation":1868,"user_id":737540,"accept_rate":19,"display_name":"Narendra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49468,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":8102825,"answer_count":4,"score":36,"last_activity_date":1679159232,"creation_date":1321075584,"question_id":8102741,"body_markdown":"In my Java class I want to use a string resource from strings.xml.\r\n\r\nFor that I want to use something like this:\r\n\r\n    getString(R.string.address)\r\n\r\nIf my class is an activity then it&#39;s working.  \r\nBut how can I use it if my class is a simple Java class?","title":"How to use string resource in a Java class in Android?","body":"<p>In my Java class I want to use a string resource from strings.xml.</p>\n<p>For that I want to use something like this:</p>\n<pre><code>getString(R.string.address)\n</code></pre>\n<p>If my class is an activity then it's working.<br />\nBut how can I use it if my class is a simple Java class?</p>\n"},{"tags":["java","eclipse","import"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1679157377,"post_id":75777174,"comment_id":133672918,"body_markdown":"Delete your launch configuration (in _Run &gt; Run Configurations..._) and `module-info.java` file (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules). Then try again.","body":"Delete your launch configuration (in <i>Run &gt; Run Configurations...</i>) and <code>module-info.java</code> file (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>. Then try again."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679159059,"creation_date":1679159059,"answer_id":75777387,"question_id":75777174,"body_markdown":"Those packages are in external jars known as dependencies. Dependencies must registered in the pom.xml (for maven), the gradle file or the jar should be copied onto the classpath.\r\n\r\norg.json is in [org.json:json][1]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.json/json/20220924","title":"org import not accessible","body":"<p>Those packages are in external jars known as dependencies. Dependencies must registered in the pom.xml (for maven), the gradle file or the jar should be copied onto the classpath.</p>\n<p>org.json is in <a href=\"https://mvnrepository.com/artifact/org.json/json/20220924\" rel=\"nofollow noreferrer\">org.json:json</a></p>\n"}],"owner":{"account_id":27903546,"reputation":1,"user_id":21307283,"display_name":"Kwaiia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679159059,"creation_date":1679156864,"question_id":75777174,"body_markdown":"I am fairly new to Java and have been trying to create a JSON object for a program, but it says that the package is not accessible. Eclipse tells me that the whole org package is not accessible.\r\n[code](https://i.stack.imgur.com/iGdCj.png)\r\n\r\n\r\n I have looked on other responses but I don&#39;t have the coding knowledge to understand their solutions. Deleting my module-info.java brought up an error when I ran my program, and I do not know how to fix it with a requires statement in the module-info.java.","title":"org import not accessible","body":"<p>I am fairly new to Java and have been trying to create a JSON object for a program, but it says that the package is not accessible. Eclipse tells me that the whole org package is not accessible.\n<a href=\"https://i.stack.imgur.com/iGdCj.png\" rel=\"nofollow noreferrer\">code</a></p>\n<p>I have looked on other responses but I don't have the coding knowledge to understand their solutions. Deleting my module-info.java brought up an error when I ran my program, and I do not know how to fix it with a requires statement in the module-info.java.</p>\n"},{"tags":["java","kotlin","augmented-reality","arcore","gyroscope"],"comments":[{"owner":{"account_id":5025455,"reputation":401,"user_id":4037591,"display_name":"Benjamin"},"score":0,"creation_date":1554280319,"post_id":55490497,"comment_id":97688649,"body_markdown":"What&#39;s the model id?","body":"What&#39;s the model id?"},{"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1554280461,"post_id":55490497,"comment_id":97688727,"body_markdown":"Huawei POT-LX1.","body":"Huawei POT-LX1."},{"owner":{"account_id":5025455,"reputation":401,"user_id":4037591,"display_name":"Benjamin"},"score":2,"creation_date":1554280594,"post_id":55490497,"comment_id":97688801,"body_markdown":"On the huawei website we ca see : Fingerprint sensor, Proximity sensor, Ambient light sensor, Digital compass, Gravity sensor. Maybe based on all of this sensor he can create emulated gyroscope or something like","body":"On the huawei website we ca see : Fingerprint sensor, Proximity sensor, Ambient light sensor, Digital compass, Gravity sensor. Maybe based on all of this sensor he can create emulated gyroscope or something like"},{"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1554280707,"post_id":55490497,"comment_id":97688868,"body_markdown":"I don&#39;t understand how it works but it works. That&#39;s what my question about.","body":"I don&#39;t understand how it works but it works. That&#39;s what my question about."},{"owner":{"account_id":5025455,"reputation":401,"user_id":4037591,"display_name":"Benjamin"},"score":1,"creation_date":1554280817,"post_id":55490497,"comment_id":97688931,"body_markdown":"https://forum.xda-developers.com/honor-4c/how-to/how-to-enable-virtual-gyroscope-huawei-t3850205 It&#39;s look like virtual gyscope exist, so it&#39;s probably that haha, but how that&#39;s work I can&#39;t tell you, but probably that the result of other sensor combinated","body":"<a href=\"https://forum.xda-developers.com/honor-4c/how-to/how-to-enable-virtual-gyroscope-huawei-t3850205\" rel=\"nofollow noreferrer\">forum.xda-developers.com/honor-4c/how-to/&hellip;</a> It&#39;s look like virtual gyscope exist, so it&#39;s probably that haha, but how that&#39;s work I can&#39;t tell you, but probably that the result of other sensor combinated"},{"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"score":0,"creation_date":1554280900,"post_id":55490497,"comment_id":97688995,"body_markdown":"Maybe it&#39;s possible by using Compass...","body":"Maybe it&#39;s possible by using Compass..."},{"owner":{"account_id":5025455,"reputation":401,"user_id":4037591,"display_name":"Benjamin"},"score":0,"creation_date":1554281008,"post_id":55490497,"comment_id":97689064,"body_markdown":"https://android.gadgethacks.com/how-to/use-google-cardboard-if-your-phone-doesnt-have-gyroscope-0172650/ You can found a ltitle explaination here","body":"<a href=\"https://android.gadgethacks.com/how-to/use-google-cardboard-if-your-phone-doesnt-have-gyroscope-0172650/\" rel=\"nofollow noreferrer\">android.gadgethacks.com/how-to/&hellip;</a> You can found a ltitle explaination here"}],"answers":[{"tags":[],"owner":{"account_id":5025455,"reputation":401,"user_id":4037591,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1554281955,"creation_date":1554281503,"answer_id":55490939,"question_id":55490497,"body_markdown":"A little explaination about how it&#39;s work : https://android.gadgethacks.com/how-to/use-google-cardboard-if-your-phone-doesnt-have-gyroscope-0172650/\r\n\r\nWith the compass and acceleromater sensor on your smartphone, you can make a virtual gyroscope. You need to take the data from compass and acceleromater and make lot of work and sort on it, but you can handle gyroscope functionnality virtualy with that :-)\r\n\r\n","title":"Virtual Gyroscope in Huawei P Smart 2019 phone?","body":"<p>A little explaination about how it's work : <a href=\"https://android.gadgethacks.com/how-to/use-google-cardboard-if-your-phone-doesnt-have-gyroscope-0172650/\" rel=\"nofollow noreferrer\">https://android.gadgethacks.com/how-to/use-google-cardboard-if-your-phone-doesnt-have-gyroscope-0172650/</a></p>\n\n<p>With the compass and acceleromater sensor on your smartphone, you can make a virtual gyroscope. You need to take the data from compass and acceleromater and make lot of work and sort on it, but you can handle gyroscope functionnality virtualy with that :-)</p>\n"}],"owner":{"account_id":8834917,"reputation":50825,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55490939,"answer_count":1,"score":1,"last_activity_date":1679158838,"creation_date":1554280152,"question_id":55490497,"body_markdown":"I&#39;ve got `Huawei P Smart 2019` smartphone. A majority of websites with specs (including official Huawei website) say that there&#39;s **no gyroscope** in this model. \r\n\r\n- [www.gsmarena.com][2]\r\n\r\n- [www.phonearena.com][3]\r\n\r\nBut I tested `Huawei P Smart 2019` using Sensor Fusion app. This app detects Gyroscope sensor and shows how it works.\r\n\r\n&gt;What&#39;s the issue? Why even manufacturer says there&#39;s **no gyroscope sensor** in `Huawei P Smart 2019` although a **sensor clearly exists** there? \r\n\r\nMaybe it&#39;s a `virtual gyroscope`?\r\n\r\n    package org.hitlabnz.sensor_fusion_demo;\r\n\r\n    public class SensorSelectionActivity extends FragmentActivity {\r\n        SectionsPagerAdapter mSectionsPagerAdapter;\r\n        ViewPager mViewPager;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_sensor_selection);\r\n            mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\r\n            mViewPager = (ViewPager) findViewById(R.id.pager);\r\n            mViewPager.setAdapter(mSectionsPagerAdapter);\r\n\r\n            SensorChecker checker = new HardwareChecker((SensorManager) getSystemService(SENSOR_SERVICE));\r\n            if(!checker.IsGyroscopeAvailable()) {\r\n        \t    displayHardwareMissingWarning();\r\n            }\r\n        }\r\n        private void displayHardwareMissingWarning() {\r\n    \t    AlertDialog ad = new AlertDialog.Builder(this).create();  \r\n    \t    ad.setCancelable(false);   \r\n    \t    ad.setTitle(getResources().getString(R.string.gyroscope_missing)); \r\n    \t    ad.setMessage(getResources().getString(R.string.gyroscope_missing_message));\r\n\r\n    \t    ad.setButton(DialogInterface.BUTTON_NEUTRAL, getResources().getString(R.string.OK), new DialogInterface.OnClickListener() {  \r\n    \t        @Override  \r\n    \t        public void onClick(DialogInterface dialog, int which) {   \r\n    \t            dialog.dismiss();                      \r\n    \t        }  \r\n    \t    });  \r\n    \t    ad.show();  \r\n\t    }\r\n    }\r\n\r\n  [1]: https://consumer.huawei.com/en/phones/p-smart-plus-2019/specs/\r\n  [2]: https://www.gsmarena.com/huawei_p_smart_2019-9409.php\r\n  [3]: https://www.phonearena.com/phones/Huawei-P-Smart-2019_id11057\r\n  [4]: https://i.stack.imgur.com/YO2wS.jpg","title":"Virtual Gyroscope in Huawei P Smart 2019 phone?","body":"<p>I've got <code>Huawei P Smart 2019</code> smartphone. A majority of websites with specs (including official Huawei website) say that there's <strong>no gyroscope</strong> in this model.</p>\n<ul>\n<li><p><a href=\"https://www.gsmarena.com/huawei_p_smart_2019-9409.php\" rel=\"nofollow noreferrer\">www.gsmarena.com</a></p>\n</li>\n<li><p><a href=\"https://www.phonearena.com/phones/Huawei-P-Smart-2019_id11057\" rel=\"nofollow noreferrer\">www.phonearena.com</a></p>\n</li>\n</ul>\n<p>But I tested <code>Huawei P Smart 2019</code> using Sensor Fusion app. This app detects Gyroscope sensor and shows how it works.</p>\n<blockquote>\n<p>What's the issue? Why even manufacturer says there's <strong>no gyroscope sensor</strong> in <code>Huawei P Smart 2019</code> although a <strong>sensor clearly exists</strong> there?</p>\n</blockquote>\n<p>Maybe it's a <code>virtual gyroscope</code>?</p>\n<pre><code>package org.hitlabnz.sensor_fusion_demo;\n\npublic class SensorSelectionActivity extends FragmentActivity {\n    SectionsPagerAdapter mSectionsPagerAdapter;\n    ViewPager mViewPager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sensor_selection);\n        mSectionsPagerAdapter = new SectionsPagerAdapter(getSupportFragmentManager());\n        mViewPager = (ViewPager) findViewById(R.id.pager);\n        mViewPager.setAdapter(mSectionsPagerAdapter);\n\n        SensorChecker checker = new HardwareChecker((SensorManager) getSystemService(SENSOR_SERVICE));\n        if(!checker.IsGyroscopeAvailable()) {\n            displayHardwareMissingWarning();\n        }\n    }\n    private void displayHardwareMissingWarning() {\n        AlertDialog ad = new AlertDialog.Builder(this).create();  \n        ad.setCancelable(false);   \n        ad.setTitle(getResources().getString(R.string.gyroscope_missing)); \n        ad.setMessage(getResources().getString(R.string.gyroscope_missing_message));\n\n        ad.setButton(DialogInterface.BUTTON_NEUTRAL, getResources().getString(R.string.OK), new DialogInterface.OnClickListener() {  \n            @Override  \n            public void onClick(DialogInterface dialog, int which) {   \n                dialog.dismiss();                      \n            }  \n        });  \n        ad.show();  \n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679158336,"creation_date":1679158336,"answer_id":75777323,"question_id":75777313,"body_markdown":"**Remove** both and fall-through. Like,\r\n\r\n    String[] splitTaskString = taskString.split(&quot;,&quot;);\r\n    if (splitTaskString.length &gt; 1) {\r\n        if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\r\n            return new Subtask(splitTaskString[2], splitTaskString[4],\r\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\r\n                    Integer.parseInt(splitTaskString[5]));\r\n        } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\r\n            return new Task(splitTaskString[2], splitTaskString[4],\r\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n        } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\r\n            return new Epic(splitTaskString[2], splitTaskString[4],\r\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n        }\r\n    }\r\n    return null;","title":"How can I combine two &quot;else&quot; into one?","body":"<p><strong>Remove</strong> both and fall-through. Like,</p>\n<pre><code>String[] splitTaskString = taskString.split(&quot;,&quot;);\nif (splitTaskString.length &gt; 1) {\n    if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\n        return new Subtask(splitTaskString[2], splitTaskString[4],\n                Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\n                Integer.parseInt(splitTaskString[5]));\n    } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\n        return new Task(splitTaskString[2], splitTaskString[4],\n                Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n    } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\n        return new Epic(splitTaskString[2], splitTaskString[4],\n                Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n    }\n}\nreturn null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679158339,"creation_date":1679158339,"answer_id":75777324,"question_id":75777313,"body_markdown":"You don&#39;t need either of them.  Just drop the `else` blocks and make `return null;` the default action at the end of the method if no other action was taken:\r\n\r\n    public Task taskFromString(String taskString) {\r\n        String[] splitTaskString = taskString.split(&quot;,&quot;);\r\n        if (splitTaskString.length &gt; 1) {\r\n            if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\r\n                return new Subtask(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\r\n                        Integer.parseInt(splitTaskString[5]));\r\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\r\n                return new Task(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\r\n                return new Epic(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"How can I combine two &quot;else&quot; into one?","body":"<p>You don't need either of them.  Just drop the <code>else</code> blocks and make <code>return null;</code> the default action at the end of the method if no other action was taken:</p>\n<pre><code>public Task taskFromString(String taskString) {\n    String[] splitTaskString = taskString.split(&quot;,&quot;);\n    if (splitTaskString.length &gt; 1) {\n        if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\n            return new Subtask(splitTaskString[2], splitTaskString[4],\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\n                    Integer.parseInt(splitTaskString[5]));\n        } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\n            return new Task(splitTaskString[2], splitTaskString[4],\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n        } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\n            return new Epic(splitTaskString[2], splitTaskString[4],\n                    Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":28051718,"reputation":11,"user_id":21427486,"display_name":"Андрей Курочкин"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679158339,"creation_date":1679158228,"question_id":75777313,"body_markdown":"In my program I have two similar &quot;else&quot;(return null) and I want to combine them\r\n```\r\npublic Task taskFromString(String taskString) {\r\n        String[] splitTaskString = taskString.split(&quot;,&quot;);\r\n        if (splitTaskString.length &gt; 1) {\r\n            if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\r\n                return new Subtask(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\r\n                        Integer.parseInt(splitTaskString[5]));\r\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\r\n                return new Task(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\r\n                return new Epic(splitTaskString[2], splitTaskString[4],\r\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nThe only thing that comes to mind is to combine them in the first &quot;if&quot; using logical operations, but I&#39;m not sure that this is the most optimal way","title":"How can I combine two &quot;else&quot; into one?","body":"<p>In my program I have two similar &quot;else&quot;(return null) and I want to combine them</p>\n<pre><code>public Task taskFromString(String taskString) {\n        String[] splitTaskString = taskString.split(&quot;,&quot;);\n        if (splitTaskString.length &gt; 1) {\n            if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.SUBTASK) {\n                return new Subtask(splitTaskString[2], splitTaskString[4],\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]),\n                        Integer.parseInt(splitTaskString[5]));\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.TASK) {\n                return new Task(splitTaskString[2], splitTaskString[4],\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n            } else if (TypeOfTask.valueOf(splitTaskString[1]) == TypeOfTask.EPIC) {\n                return new Epic(splitTaskString[2], splitTaskString[4],\n                        Status.valueOf(splitTaskString[3]), TypeOfTask.valueOf(splitTaskString[1]));\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n<p>The only thing that comes to mind is to combine them in the first &quot;if&quot; using logical operations, but I'm not sure that this is the most optimal way</p>\n"},{"tags":["java","apache-kafka","apache-storm","microservices"],"comments":[{"owner":{"account_id":1462224,"reputation":1760,"user_id":1376205,"display_name":"Will C"},"score":0,"creation_date":1461350302,"post_id":36719045,"comment_id":61176186,"body_markdown":"You didn&#39;t really mention the use case you want to achieve. Microservices is a much more general term vs Apache Storm. Apache Storm is a specific software dedicated for data processing, more specifically &quot;streaming&quot;. You can technically achieve what Apache Storm can achieve and more with microservices but not vice versa.","body":"You didn&#39;t really mention the use case you want to achieve. Microservices is a much more general term vs Apache Storm. Apache Storm is a specific software dedicated for data processing, more specifically &quot;streaming&quot;. You can technically achieve what Apache Storm can achieve and more with microservices but not vice versa."}],"answers":[{"tags":[],"owner":{"account_id":6244483,"reputation":13767,"user_id":4856939,"accept_rate":82,"display_name":"David Griffin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461072463,"creation_date":1461072463,"answer_id":36719901,"question_id":36719045,"body_markdown":"This is very similar to the argument of monolithic vs micro-kernel design. In a monolithic kernel, there&#39;s a single address space. Storm is kind of like that -- you have to use their specific APIs to use the services within Storm. If you use Java or a supported API, you&#39;re in luck. Again this is like a kernel library -- you look at what the kernel gives you as an API, and you use that.\r\n\r\nWith a microkernel, all the kernel does is pass messages around. This is like Kafka. It&#39;s just a message passing architecture. Any process can participate in the cluster as long as it can send appropriately structured messages.\r\n\r\nJust like with monolithic vs micro kernels, it comes down to an interplay between your design goals and personal philosophy. My thesis is that you can build a Storm-like architecture via microservices, but it would take more work than using Storm out of the box. And a related thesis is that you could not build a microservices architecture via Storm.","title":"kafka + storm topology vs microservices","body":"<p>This is very similar to the argument of monolithic vs micro-kernel design. In a monolithic kernel, there's a single address space. Storm is kind of like that -- you have to use their specific APIs to use the services within Storm. If you use Java or a supported API, you're in luck. Again this is like a kernel library -- you look at what the kernel gives you as an API, and you use that.</p>\n\n<p>With a microkernel, all the kernel does is pass messages around. This is like Kafka. It's just a message passing architecture. Any process can participate in the cluster as long as it can send appropriately structured messages.</p>\n\n<p>Just like with monolithic vs micro kernels, it comes down to an interplay between your design goals and personal philosophy. My thesis is that you can build a Storm-like architecture via microservices, but it would take more work than using Storm out of the box. And a related thesis is that you could not build a microservices architecture via Storm.</p>\n"},{"tags":[],"owner":{"account_id":1196228,"reputation":533,"user_id":1167907,"accept_rate":100,"display_name":"Matthew Pickering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461171865,"creation_date":1461171865,"answer_id":36750559,"question_id":36719045,"body_markdown":"Scalability and resiliency - with a Microservices architecture you will have to provide your own patterns for a scalable, resilient architecture. You say you can build them yourself with &quot;more work&quot; which is true, but distributed systems are hard so in the end do you have the time and resources?","title":"kafka + storm topology vs microservices","body":"<p>Scalability and resiliency - with a Microservices architecture you will have to provide your own patterns for a scalable, resilient architecture. You say you can build them yourself with \"more work\" which is true, but distributed systems are hard so in the end do you have the time and resources?</p>\n"},{"tags":[],"owner":{"account_id":2401014,"reputation":130,"user_id":2098669,"display_name":"Simon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679157584,"creation_date":1679157584,"answer_id":75777245,"question_id":36719045,"body_markdown":"Microservice is defined and exists in the context of DDD, and serves exclusively an atomic bounded context of a domain: it is an atomic part of business logic. Furthermore, microservice, as a building box can be part of a number of applications. Kafka messaging can play the role of events and event sources, which is inherent to the choreography pattern of microservices architecture. Kafka streams can be a dirty implementation of part of business logic, however, is a kind of distributed computing. The same is about Storm: it is a distributed computing, where Spouts and Bolts have a reason only within the Storm cluster and cannot be used anywhere else.","title":"kafka + storm topology vs microservices","body":"<p>Microservice is defined and exists in the context of DDD, and serves exclusively an atomic bounded context of a domain: it is an atomic part of business logic. Furthermore, microservice, as a building box can be part of a number of applications. Kafka messaging can play the role of events and event sources, which is inherent to the choreography pattern of microservices architecture. Kafka streams can be a dirty implementation of part of business logic, however, is a kind of distributed computing. The same is about Storm: it is a distributed computing, where Spouts and Bolts have a reason only within the Storm cluster and cannot be used anywhere else.</p>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679157584,"creation_date":1461070420,"question_id":36719045,"body_markdown":"what&#39;s the benefit of using storm topology when one can use microservices that connect to kafka directly. the microservice approach seems to offer much better solution for:\r\n\r\n- tools (every possible library, IoC container etc)\r\n- continuous deployment (existing tools and best practices)\r\n\r\nwhile storm topology seems to use plain java with need of static functions. \r\n\r\nso what are the benefits of using storm topology instead of microservices?","title":"kafka + storm topology vs microservices","body":"<p>what's the benefit of using storm topology when one can use microservices that connect to kafka directly. the microservice approach seems to offer much better solution for:</p>\n\n<ul>\n<li>tools (every possible library, IoC container etc)</li>\n<li>continuous deployment (existing tools and best practices)</li>\n</ul>\n\n<p>while storm topology seems to use plain java with need of static functions. </p>\n\n<p>so what are the benefits of using storm topology instead of microservices?</p>\n"},{"tags":["java","scala","jar"],"comments":[{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1679153974,"post_id":75776876,"comment_id":133672285,"body_markdown":"Is `xml-files` a directory in your users&#39; disk? Or a package inside your JAR?","body":"Is <code>xml-files</code> a directory in your users&#39; disk? Or a package inside your JAR?"},{"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"score":0,"creation_date":1679154107,"post_id":75776876,"comment_id":133672316,"body_markdown":"It&#39;s a directory within my scala project.","body":"It&#39;s a directory within my scala project."},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":2,"creation_date":1679154251,"post_id":75776876,"comment_id":133672349,"body_markdown":"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\nhttps://stackoverflow.com/questions/47775482/getting-the-list-of-filenames-from-resource-folder-when-running-in-jar\nhttps://stackoverflow.com/questions/50469600/how-do-you-list-all-files-in-the-resources-folder-java-scala","body":"<a href=\"https://stackoverflow.com/questions/3923129/get-a-list-of-resources-from-classpath-directory\" title=\"get a list of resources from classpath directory\">stackoverflow.com/questions/3923129/&hellip;</a> <a href=\"https://stackoverflow.com/questions/47775482/getting-the-list-of-filenames-from-resource-folder-when-running-in-jar\" title=\"getting the list of filenames from resource folder when running in jar\">stackoverflow.com/questions/47775482/&hellip;</a> <a href=\"https://stackoverflow.com/questions/50469600/how-do-you-list-all-files-in-the-resources-folder-java-scala\" title=\"how do you list all files in the resources folder java scala\">stackoverflow.com/questions/50469600/&hellip;</a>"},{"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"score":0,"creation_date":1679156111,"post_id":75776876,"comment_id":133672703,"body_markdown":"Looks good, but now in my case there is a problem with the path. Namely, I get the path to the &quot;target&quot; directory, instead of &quot;resources&quot; one.","body":"Looks good, but now in my case there is a problem with the path. Namely, I get the path to the &quot;target&quot; directory, instead of &quot;resources&quot; one."}],"owner":{"account_id":23560691,"reputation":5,"user_id":17602095,"display_name":"forvev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679156005,"creation_date":1679153823,"question_id":75776876,"body_markdown":"I want to read a content of the directory (paths to the stored files). \r\nLet&#39;s say this directory is called &quot;/xml-files&quot;, where different xml files are stored.\r\n\r\n    val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\r\n    val dir_path = new File(xml_folder_2.getPath)\r\n\r\nBut the problem is that it returns a null. However, I have the program where everything works (e.g. Paths.get()), but I want to run the program as a jar file, so only getClass.getResources() might be an option (the problem is described here: https://stackoverflow.com/questions/20451386/java-jar-cant-find-file)\r\n\r\nDoes someone have an idea how can I get the names of the files inside &quot;xml-files&quot; directory?\r\n\r\nEdit 1: For the time being the first line returns a path to the &quot;target&quot; directory that is generated automatically, instead of the path that is stored inside &quot;resources&quot; directory. Maybe that&#39;s the problem why I can&#39;t list the files inside the directory?","title":"Reading the content of a directory in Scala","body":"<p>I want to read a content of the directory (paths to the stored files).\nLet's say this directory is called &quot;/xml-files&quot;, where different xml files are stored.</p>\n<pre><code>val xml_folder_2 = getClass.getResource(&quot;xml-files&quot;)\nval dir_path = new File(xml_folder_2.getPath)\n</code></pre>\n<p>But the problem is that it returns a null. However, I have the program where everything works (e.g. Paths.get()), but I want to run the program as a jar file, so only getClass.getResources() might be an option (the problem is described here: <a href=\"https://stackoverflow.com/questions/20451386/java-jar-cant-find-file\">Java JAR can&#39;t find file</a>)</p>\n<p>Does someone have an idea how can I get the names of the files inside &quot;xml-files&quot; directory?</p>\n<p>Edit 1: For the time being the first line returns a path to the &quot;target&quot; directory that is generated automatically, instead of the path that is stored inside &quot;resources&quot; directory. Maybe that's the problem why I can't list the files inside the directory?</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1679070354,"post_id":75769687,"comment_id":133660738,"body_markdown":"What do you mean with &quot;cluster id&quot; in this context? Do you have a link to a description?","body":"What do you mean with &quot;cluster id&quot; in this context? Do you have a link to a description?"},{"owner":{"account_id":11062417,"reputation":21,"user_id":8123161,"accept_rate":0,"display_name":"shiva kumar"},"score":0,"creation_date":1679071580,"post_id":75769687,"comment_id":133661062,"body_markdown":"Microservice is deployed on kubernetes. Wanted to fetch cluster id on which service is deployed.","body":"Microservice is deployed on kubernetes. Wanted to fetch cluster id on which service is deployed."}],"answers":[{"tags":[],"owner":{"account_id":27001885,"reputation":1266,"user_id":20563046,"display_name":"Kranthiveer Dontineni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679155841,"creation_date":1679155841,"answer_id":75777078,"question_id":75769687,"body_markdown":"In **[kubernetes spring api documentation][1]** there is a detailed explanation provided for KubernetesContext class. There is a method called `getClusterid()` which will return the cluster id. Following is the explanation provided in the documentation:\r\n\r\n&gt; **getClusterid**\r\n&gt; \r\n&gt; public String getClusterid()\r\n&gt; \r\n&gt; Retrieve the kubernetes clusterid from the collection of platform.\r\n&gt; \r\n&gt; properties\r\n&gt;\r\n&gt; **Returns:**\r\nthe clusterid\r\n\r\n\r\nNote: The above information is provided by referring to the [official documentation][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-open-service-broker/docs/3.1.0.RELEASE/apidocs/org/springframework/cloud/servicebroker/model/KubernetesContext.html","title":"How to programmatically get Kubernetes cluster id using spring kubernetes api","body":"<p>In <strong><a href=\"https://docs.spring.io/spring-cloud-open-service-broker/docs/3.1.0.RELEASE/apidocs/org/springframework/cloud/servicebroker/model/KubernetesContext.html\" rel=\"nofollow noreferrer\">kubernetes spring api documentation</a></strong> there is a detailed explanation provided for KubernetesContext class. There is a method called <code>getClusterid()</code> which will return the cluster id. Following is the explanation provided in the documentation:</p>\n<blockquote>\n<p><strong>getClusterid</strong></p>\n<p>public String getClusterid()</p>\n<p>Retrieve the kubernetes clusterid from the collection of platform.</p>\n<p>properties</p>\n<p><strong>Returns:</strong>\nthe clusterid</p>\n</blockquote>\n<p>Note: The above information is provided by referring to the <a href=\"https://docs.spring.io/spring-cloud-open-service-broker/docs/3.1.0.RELEASE/apidocs/org/springframework/cloud/servicebroker/model/KubernetesContext.html\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n"}],"owner":{"account_id":11062417,"reputation":21,"user_id":8123161,"accept_rate":0,"display_name":"shiva kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679155841,"creation_date":1679068465,"question_id":75769687,"body_markdown":"I want to fetch cluster id using java spring kubernetes api. Is there a way to get it programmatically like we get pod information using below:\r\n\r\n    ApiClient client  = Config.defaultClient();\r\n    CoreV1Api api = new CoreV1Api(client);\r\n    String continuationToken = null;\r\n    V1PodList items = api.listPodForAllNamespaces(null, continuationToken, null, null, 10, null, null, null, 10, false);","title":"How to programmatically get Kubernetes cluster id using spring kubernetes api","body":"<p>I want to fetch cluster id using java spring kubernetes api. Is there a way to get it programmatically like we get pod information using below:</p>\n<pre><code>ApiClient client  = Config.defaultClient();\nCoreV1Api api = new CoreV1Api(client);\nString continuationToken = null;\nV1PodList items = api.listPodForAllNamespaces(null, continuationToken, null, null, 10, null, null, null, 10, false);\n</code></pre>\n"},{"tags":["java","compiler-errors","gson","deserialization"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1679156331,"post_id":75776996,"comment_id":133672742,"body_markdown":"Your json file should contain json array to be able to be serialized to a list, like: [{&quot;name&quot;:&quot;intel 666&quot;}...]","body":"Your json file should contain json array to be able to be serialized to a list, like: [{&quot;name&quot;:&quot;intel 666&quot;}...]"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679155453,"creation_date":1679155453,"answer_id":75777042,"question_id":75776996,"body_markdown":"if that is the json content of the file, it is invalid. The items should be declared as part of a list and separated by comma:\r\n\r\n    [{ &quot;name&quot;: &quot;CPU.1&quot;, &quot;speed&quot;: 2.4, &quot;ram&quot;: 8.0, &quot;cache&quot;: 2.2 }, { &quot;name&quot;: &quot;CPU.2&quot;, &quot;speed&quot;: 2.0, &quot;ram&quot;: 16.0, &quot;cache&quot;: 4.0 }, { &quot;name&quot;: &quot;CPU.3&quot;, &quot;speed&quot;: 1.6, &quot;ram&quot;: 4.0, &quot;cache&quot;: 1.3 }]","title":"GSON throwing &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT&quot;?","body":"<p>if that is the json content of the file, it is invalid. The items should be declared as part of a list and separated by comma:</p>\n<pre><code>[{ &quot;name&quot;: &quot;CPU.1&quot;, &quot;speed&quot;: 2.4, &quot;ram&quot;: 8.0, &quot;cache&quot;: 2.2 }, { &quot;name&quot;: &quot;CPU.2&quot;, &quot;speed&quot;: 2.0, &quot;ram&quot;: 16.0, &quot;cache&quot;: 4.0 }, { &quot;name&quot;: &quot;CPU.3&quot;, &quot;speed&quot;: 1.6, &quot;ram&quot;: 4.0, &quot;cache&quot;: 1.3 }]\n</code></pre>\n"}],"owner":{"account_id":28051409,"reputation":1,"user_id":21427233,"display_name":"aeioeaieo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679155796,"creation_date":1679155044,"question_id":75776996,"body_markdown":"The code throwing the exeption:\r\n\r\n```\r\n            String inputString = readWithScannerGson(&quot;outputGson.txt&quot;);\r\n            Type outputListType = new TypeToken&lt;ArrayList&lt;CPU&gt;&gt;(){}.getType();\r\n            List&lt;CPU&gt; outputList = new Gson().fromJson(inputString, outputListType);\r\n            \r\n```\r\n\r\nThe txt file:\r\n\r\n{\r\n  &quot;name&quot;: &quot;CPU.1&quot;,\r\n  &quot;speed&quot;: 2.4,\r\n  &quot;ram&quot;: 8.0,\r\n  &quot;cache&quot;: 2.2\r\n}{\r\n  &quot;name&quot;: &quot;CPU.2&quot;,\r\n  &quot;speed&quot;: 2.0,\r\n  &quot;ram&quot;: 16.0,\r\n  &quot;cache&quot;: 4.0\r\n}{\r\n  &quot;name&quot;: &quot;CPU.3&quot;,\r\n  &quot;speed&quot;: 1.6,\r\n  &quot;ram&quot;: 4.0,\r\n  &quot;cache&quot;: 1.3\r\n}\r\n\r\nThe code creating the txt:\r\n\r\n    public void serializeCpu(String filename) throws IOException {\r\n    \r\n        Writer writer = new FileWriter(filename);\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    \r\n        for (CPU c: list)\r\n        {\r\n            gson.toJson(c, writer);\r\n        }\r\n    \r\n        writer.close();\r\n    }\r\n\r\nError:\r\n&quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $\r\n\r\nI can&#39;t deserialize the output.txt to the an ArrayList\r\n","title":"GSON throwing &quot;Expected BEGIN_ARRAY but was BEGIN_OBJECT&quot;?","body":"<p>The code throwing the exeption:</p>\n<pre><code>            String inputString = readWithScannerGson(&quot;outputGson.txt&quot;);\n            Type outputListType = new TypeToken&lt;ArrayList&lt;CPU&gt;&gt;(){}.getType();\n            List&lt;CPU&gt; outputList = new Gson().fromJson(inputString, outputListType);\n            \n</code></pre>\n<p>The txt file:</p>\n<p>{\n&quot;name&quot;: &quot;CPU.1&quot;,\n&quot;speed&quot;: 2.4,\n&quot;ram&quot;: 8.0,\n&quot;cache&quot;: 2.2\n}{\n&quot;name&quot;: &quot;CPU.2&quot;,\n&quot;speed&quot;: 2.0,\n&quot;ram&quot;: 16.0,\n&quot;cache&quot;: 4.0\n}{\n&quot;name&quot;: &quot;CPU.3&quot;,\n&quot;speed&quot;: 1.6,\n&quot;ram&quot;: 4.0,\n&quot;cache&quot;: 1.3\n}</p>\n<p>The code creating the txt:</p>\n<pre><code>public void serializeCpu(String filename) throws IOException {\n\n    Writer writer = new FileWriter(filename);\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n\n    for (CPU c: list)\n    {\n        gson.toJson(c, writer);\n    }\n\n    writer.close();\n}\n</code></pre>\n<p>Error:\n&quot;main&quot; com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $</p>\n<p>I can't deserialize the output.txt to the an ArrayList</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":12,"creation_date":1389618450,"post_id":21092086,"comment_id":31726555,"body_markdown":"Get a random int from the size() of the collection, i.e, `random.nextInt(collection.size())`, and iterate that number of times.","body":"Get a random int from the size() of the collection, i.e, <code>random.nextInt(collection.size())</code>, and iterate that number of times."},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1389618527,"post_id":21092086,"comment_id":31726609,"body_markdown":"If you need random access so you need a List.","body":"If you need random access so you need a List."}],"answers":[{"tags":[],"owner":{"account_id":2693254,"reputation":8153,"user_id":2325987,"accept_rate":91,"display_name":"A Paul"},"down_vote_count":7,"up_vote_count":3,"is_accepted":false,"score":-4,"last_activity_date":1389618519,"creation_date":1389618519,"answer_id":21092133,"question_id":21092086,"body_markdown":"User `Collections.shuffle(list);`. Then you can just get the first element. It will be random.\r\n\r\n\r\nor you can also do this\r\n\r\n\r\n    int size = list.size();\r\n    int item = new Random().nextInt(size); \r\n    list.get(item )\r\n\r\n","title":"Get Random Element from Collection","body":"<p>User <code>Collections.shuffle(list);</code>. Then you can just get the first element. It will be random.</p>\n\n<p>or you can also do this</p>\n\n<pre><code>int size = list.size();\nint item = new Random().nextInt(size); \nlist.get(item )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3294086,"reputation":3607,"user_id":2771717,"display_name":"Autocrab"},"down_vote_count":4,"up_vote_count":12,"is_accepted":false,"score":8,"last_activity_date":1389620805,"creation_date":1389618589,"answer_id":21092151,"question_id":21092086,"body_markdown":"    private Object getRandomObject(Collection from) {\r\n       Random rnd = new Random();\r\n       int i = rnd.nextInt(from.size());\r\n       return from.toArray()[i];\r\n    }","title":"Get Random Element from Collection","body":"<pre><code>private Object getRandomObject(Collection from) {\n   Random rnd = new Random();\n   int i = rnd.nextInt(from.size());\n   return from.toArray()[i];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1389618770,"creation_date":1389618770,"answer_id":21092208,"question_id":21092086,"body_markdown":"Several options (by order of efficiency):\r\n\r\n - use a List&lt;Obj&gt; instead of a Collection&lt;Obj&gt;,\r\n - generate a random index with random.nextInt(collection.size()), get an iterator and iterate,\r\n - generate a random index with random.nextInt(collection.size()), convert the collection into an array with toArray(), and index that array.\r\n","title":"Get Random Element from Collection","body":"<p>Several options (by order of efficiency):</p>\n\n<ul>\n<li>use a List instead of a Collection,</li>\n<li>generate a random index with random.nextInt(collection.size()), get an iterator and iterate,</li>\n<li>generate a random index with random.nextInt(collection.size()), convert the collection into an array with toArray(), and index that array.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":3,"up_vote_count":33,"is_accepted":true,"score":30,"last_activity_date":1389619192,"creation_date":1389619192,"answer_id":21092353,"question_id":21092086,"body_markdown":"The most efficient it to only iterate as far as you need.\r\n\r\n    public static &lt;T&gt; T random(Collection&lt;T&gt; coll) {\r\n        int num = (int) (Math.random() * coll.size());\r\n        for(T t: coll) if (--num &lt; 0) return t;\r\n        throw new AssertionError();\r\n    }","title":"Get Random Element from Collection","body":"<p>The most efficient it to only iterate as far as you need.</p>\n\n<pre><code>public static &lt;T&gt; T random(Collection&lt;T&gt; coll) {\n    int num = (int) (Math.random() * coll.size());\n    for(T t: coll) if (--num &lt; 0) return t;\n    throw new AssertionError();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1476711594,"creation_date":1476711594,"answer_id":40087987,"question_id":21092086,"body_markdown":"Using Lambdas you can do this quite quickly and handle the case when Collection is empty.\r\n\r\n\tpublic static &lt;E&gt; Optional&lt;E&gt; getRandom (Collection&lt;E&gt; e) {\r\n\t\t\r\n\t\treturn e.stream()\r\n\t\t\t\t.skip((int) (e.size() * Math.random()))\r\n\t\t\t\t.findFirst();\r\n\t}","title":"Get Random Element from Collection","body":"<p>Using Lambdas you can do this quite quickly and handle the case when Collection is empty.</p>\n\n<pre><code>public static &lt;E&gt; Optional&lt;E&gt; getRandom (Collection&lt;E&gt; e) {\n\n    return e.stream()\n            .skip((int) (e.size() * Math.random()))\n            .findFirst();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191463,"reputation":2807,"user_id":1660607,"display_name":"RKumsher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521319489,"creation_date":1502146818,"answer_id":45556875,"question_id":21092086,"body_markdown":"If you don&#39;t mind a 3rd party library, the [Utils][1] library has a [IterableUtils][2] that has a randomFrom(Iterable&lt;T&gt; iterable) method that will take a Collection and return a random element from it\r\n\r\n    Collection&lt;Object&gt; collection = ....;\r\n    Object random = IterableUtils.randomFrom(collection);\r\n\r\nIt is in the Maven Central Repository at:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\r\n      &lt;artifactId&gt;utils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/RKumsher/utils\r\n  [2]: https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/collection/IterableUtils.java","title":"Get Random Element from Collection","body":"<p>If you don't mind a 3rd party library, the <a href=\"https://github.com/RKumsher/utils\" rel=\"nofollow noreferrer\">Utils</a> library has a <a href=\"https://github.com/RKumsher/utils/blob/master/src/main/java/com/github/rkumsher/collection/IterableUtils.java\" rel=\"nofollow noreferrer\">IterableUtils</a> that has a randomFrom(Iterable iterable) method that will take a Collection and return a random element from it</p>\n\n<pre><code>Collection&lt;Object&gt; collection = ....;\nObject random = IterableUtils.randomFrom(collection);\n</code></pre>\n\n<p>It is in the Maven Central Repository at:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.rkumsher&lt;/groupId&gt;\n  &lt;artifactId&gt;utils&lt;/artifactId&gt;\n  &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103368,"reputation":831,"user_id":1970544,"accept_rate":80,"display_name":"Ernest Sadykov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548935677,"creation_date":1548935677,"answer_id":54460040,"question_id":21092086,"body_markdown":"Solution using Google Guava [`Iterables.get()`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-) method: \r\n\r\n    private &lt;T&gt; T getRandomObject(Collection&lt;T&gt; from) {\r\n       Random rnd = new Random();\r\n       int i = rnd.nextInt(from.size());\r\n       return Iterables.get(from, i);\r\n    }\r\n\r\nIf you want to handle empty collections as well, the [method with `defaultValue`](https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-T-) may be used: `Iterables.get(from, i, null)`","title":"Get Random Element from Collection","body":"<p>Solution using Google Guava <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-\" rel=\"nofollow noreferrer\"><code>Iterables.get()</code></a> method: </p>\n\n<pre><code>private &lt;T&gt; T getRandomObject(Collection&lt;T&gt; from) {\n   Random rnd = new Random();\n   int i = rnd.nextInt(from.size());\n   return Iterables.get(from, i);\n}\n</code></pre>\n\n<p>If you want to handle empty collections as well, the <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/Iterables.html#get-java.lang.Iterable-int-T-\" rel=\"nofollow noreferrer\">method with <code>defaultValue</code></a> may be used: <code>Iterables.get(from, i, null)</code></p>\n"},{"tags":[],"owner":{"account_id":19984783,"reputation":124,"user_id":14647130,"display_name":"David"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679155677,"creation_date":1606551084,"answer_id":65047662,"question_id":21092086,"body_markdown":"I know this is an old thread, but I&#39;m surprised that nobody mentioned the `RandomAccess` interface which marks a `List` implementation as having a very fast access by index.\r\n\r\nHere is `RandomAccess`&#39;s documentation:\r\n&gt; Marker interface used by List implementations to indicate that they support fast (generally constant time) random access. The primary purpose of this interface is to allow generic algorithms to alter their behavior to provide good performance when applied to either random or sequential access lists. \r\n\r\nFor example: It is implemented by `ArrayList` in contrast to `LinkedList`.\r\n\r\nThis is my solution that takes advantage of it:\r\n\r\n    public static &lt;E&gt; E getRandomElement(Collection&lt;E&gt; collection) \r\n\t{\r\n\t\tif(collection.isEmpty()) \r\n\t\t\tthrow new IllegalArgumentException(&quot;Cannot return a random value from an empty collection!&quot;);\r\n\r\n\t\tint randomIndex = ThreadLocalRandom.current().nextInt(collection.size());\r\n\r\n\t\tif(collection instanceof RandomAccess) \r\n\t\t\treturn ((List&lt;E&gt;) collection).get(randomIndex);\r\n\r\n\t\tfor(E element : collection)\r\n\t\t{\r\n\t\t\tif(randomIndex == 0)\r\n\t\t\t\treturn element;\r\n\r\n\t\t\trandomIndex--;\r\n\t\t}\r\n\r\n\t\tthrow new IllegalStateException(&quot;How did we get here?&quot;); //unreachable\r\n\t}","title":"Get Random Element from Collection","body":"<p>I know this is an old thread, but I'm surprised that nobody mentioned the <code>RandomAccess</code> interface which marks a <code>List</code> implementation as having a very fast access by index.</p>\n<p>Here is <code>RandomAccess</code>'s documentation:</p>\n<blockquote>\n<p>Marker interface used by List implementations to indicate that they support fast (generally constant time) random access. The primary purpose of this interface is to allow generic algorithms to alter their behavior to provide good performance when applied to either random or sequential access lists.</p>\n</blockquote>\n<p>For example: It is implemented by <code>ArrayList</code> in contrast to <code>LinkedList</code>.</p>\n<p>This is my solution that takes advantage of it:</p>\n<pre><code>public static &lt;E&gt; E getRandomElement(Collection&lt;E&gt; collection) \n{\n    if(collection.isEmpty()) \n        throw new IllegalArgumentException(&quot;Cannot return a random value from an empty collection!&quot;);\n\n    int randomIndex = ThreadLocalRandom.current().nextInt(collection.size());\n\n    if(collection instanceof RandomAccess) \n        return ((List&lt;E&gt;) collection).get(randomIndex);\n\n    for(E element : collection)\n    {\n        if(randomIndex == 0)\n            return element;\n\n        randomIndex--;\n    }\n\n    throw new IllegalStateException(&quot;How did we get here?&quot;); //unreachable\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611721193,"creation_date":1611692424,"answer_id":65908706,"question_id":21092086,"body_markdown":"One can use [`Stream#skip`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-) along with [`ThreadLocalRandom`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html).\r\n\r\n```\r\npublic static &lt;T&gt; T getRandomElement(final Collection&lt;T&gt; collection) {\r\n    return Objects.requireNonNull(collection, &quot;collection is null&quot;).stream()\r\n      .skip(ThreadLocalRandom.current().nextInt(Math.max(collection.size(), 1)))\r\n      .findFirst().orElseThrow(() -&gt; new IllegalArgumentException(&quot;collection is empty&quot;));\r\n}\r\n```","title":"Get Random Element from Collection","body":"<p>One can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\" rel=\"nofollow noreferrer\"><code>Stream#skip</code></a> along with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadLocalRandom.html\" rel=\"nofollow noreferrer\"><code>ThreadLocalRandom</code></a>.</p>\n<pre><code>public static &lt;T&gt; T getRandomElement(final Collection&lt;T&gt; collection) {\n    return Objects.requireNonNull(collection, &quot;collection is null&quot;).stream()\n      .skip(ThreadLocalRandom.current().nextInt(Math.max(collection.size(), 1)))\n      .findFirst().orElseThrow(() -&gt; new IllegalArgumentException(&quot;collection is empty&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":1381583,"reputation":3301,"user_id":1314444,"accept_rate":69,"display_name":"Secret"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39348,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":21092353,"answer_count":9,"score":21,"last_activity_date":1679155677,"creation_date":1389618382,"question_id":21092086,"body_markdown":"I have a `Collection&lt;Obj&gt;` how do I get a random `Obj` from it?\r\n\r\nI&#39;ve checked the [docs][1] and there doesn&#39;t seem to be a way, since iterator is the only way to access the collection. Do I have to iterate over it to get a random object!?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html","title":"Get Random Element from Collection","body":"<p>I have a <code>Collection&lt;Obj&gt;</code> how do I get a random <code>Obj</code> from it?</p>\n\n<p>I've checked the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collection.html\" rel=\"noreferrer\">docs</a> and there doesn't seem to be a way, since iterator is the only way to access the collection. Do I have to iterate over it to get a random object!?</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"score":0,"creation_date":1679172605,"post_id":75777064,"comment_id":133675114,"body_markdown":"Post the entire function. We cannot tell what the function is doing with only the declaration. Also what exactly do you get if not a returned table. Is there an error, if so what is the complete message? Is it something else, again if so what?","body":"Post the entire function. We cannot tell what the function is doing with only the declaration. Also what exactly do you get if not a returned table. Is there an error, if so what is the complete message? Is it something else, again if so what?"}],"owner":{"account_id":28045447,"reputation":11,"user_id":21422318,"display_name":"Mayank Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679155647,"creation_date":1679155647,"question_id":75777064,"body_markdown":"I have a proc\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION public.proc_name(_user_id integer)\r\n RETURNS TABLE(earned numeric, date_of_expiry timestamp with time zone)\r\n```\r\n\r\nI am calling this from my repository\r\n\r\n```\r\n @Transactional\r\n    @Query(value = &quot;select * from public.proc_name(:userId\\\\:\\\\:int)&quot;, nativeQuery = true)\r\n    List&lt;AbcInterFace&gt; callAbc(long userId);\r\n```\r\n\r\n\r\nI am not getting returned `TABLE` data. How con I get this returned data.\r\n\r\nThank you","title":"Get postgres function returned data java jpa","body":"<p>I have a proc</p>\n<pre><code>CREATE OR REPLACE FUNCTION public.proc_name(_user_id integer)\n RETURNS TABLE(earned numeric, date_of_expiry timestamp with time zone)\n</code></pre>\n<p>I am calling this from my repository</p>\n<pre><code> @Transactional\n    @Query(value = &quot;select * from public.proc_name(:userId\\\\:\\\\:int)&quot;, nativeQuery = true)\n    List&lt;AbcInterFace&gt; callAbc(long userId);\n</code></pre>\n<p>I am not getting returned <code>TABLE</code> data. How con I get this returned data.</p>\n<p>Thank you</p>\n"},{"tags":["java","r","system2"],"answers":[{"tags":[],"owner":{"account_id":5563394,"reputation":5452,"user_id":4411559,"display_name":"steveb"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1466085798,"creation_date":1466085798,"answer_id":37861525,"question_id":37860616,"body_markdown":"Using your code, it worked for me without error when I did the following:\r\n\r\n    system2(&#39;java&#39;, args = c(&#39;-jar&#39;, &#39;sample.jar&#39;, &#39;123&#39;),\r\n             stdout = &#39;stdout.txt&#39;, stderr = &#39;stderr.txt&#39;)\r\n\r\nI ran this on Mac OSX 10.10.5 (Yosemite).  The results were printed to &quot;stdout.txt&quot;.\r\n\r\nIt seems from the documentation for `system2`, the first option is just a command (i.e. no arguments).  The arguments are to be specified with the `args` parameter.\r\n\r\nHere is a snippet from the **Details** section:\r\n\r\n&gt; **Details**\r\n&gt;\r\n&gt; Unlike system, command is always quoted by shQuote, so it must be a single command without arguments.\r\n&gt;\r\n&gt; ...\r\n","title":"Unable to get R language system2 command result","body":"<p>Using your code, it worked for me without error when I did the following:</p>\n\n<pre><code>system2('java', args = c('-jar', 'sample.jar', '123'),\n         stdout = 'stdout.txt', stderr = 'stderr.txt')\n</code></pre>\n\n<p>I ran this on Mac OSX 10.10.5 (Yosemite).  The results were printed to \"stdout.txt\".</p>\n\n<p>It seems from the documentation for <code>system2</code>, the first option is just a command (i.e. no arguments).  The arguments are to be specified with the <code>args</code> parameter.</p>\n\n<p>Here is a snippet from the <strong>Details</strong> section:</p>\n\n<blockquote>\n  <p><strong>Details</strong></p>\n  \n  <p>Unlike system, command is always quoted by shQuote, so it must be a single command without arguments.</p>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5361296,"reputation":34538,"user_id":4272464,"accept_rate":100,"display_name":"bgoldst"},"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1536513015,"creation_date":1466088525,"answer_id":37862566,"question_id":37860616,"body_markdown":"This is an easy mistake to make.\r\n\r\nFirst, let&#39;s define some terms:\r\n\r\n- ***statement*** &amp;nbsp;&amp;nbsp;&amp;nbsp; This is a piece of shell code that generally represents a single action for the shell to execute. The action may be a documented shell builtin or keyword command plus arguments, the file name of an external executable plus arguments, a compound command (such as a braced block or subshell), a pipeline of all of the above, or a command list of all of the above. Multiple statements can usually be coded sequentially using statement separators, which differ by shell. For example, the Unix `bash` shell uses semicolons (for foreground execution) or ampersands (for background), while the Windows `cmd` shell uses ampersands (for foreground).\r\n- ***command*** &amp;nbsp;&amp;nbsp;&amp;nbsp; This is a very general term that can refer to any of the above types of command, or to a whole statement, or even to multiple sequential statements. This is the kind of term that requires context to clarify its meaning.\r\n- ***simple command*** &amp;nbsp;&amp;nbsp;&amp;nbsp; This is a command that only executes a shell builtin or external executable. These may occur as their own statements, or they may form part of compound commands, pipelines, or command lists. In the bash shell, variable assignments and redirections can form part of or even the entirety of a simple command.\r\n- ***command word*** &amp;nbsp;&amp;nbsp;&amp;nbsp; In the context of a single ***simple command***, this is the name of the program you want to run. This will either be the documented name of a shell builtin, or it will be the file name of an external executable. This is sometimes described as the *first word* of the command, or the *zeroth argument*.\r\n- ***command arguments*** &amp;nbsp;&amp;nbsp;&amp;nbsp; In the context of a single ***simple command***, this is the zero or more (additional) arguments given to the builtin or executable.\r\n- ***command line*** &amp;nbsp;&amp;nbsp;&amp;nbsp; This term carries with it the suggestion that it refers to a *single line* of shell code. However, it is often used slightly more loosely, to describe any self-contained, often one-off piece of shell code, which may in actuality contain line breaks, and thus technically consists of more than one textual line. The term ***command*** is sometimes used as a shorthand for this concept as well, further adding to its ambiguity. Also note that ***command line*** is sometimes used as a shorthand for the [command-line interface](https://en.wikipedia.org/wiki/Command-line_interface) type of user interface, which is never connoted by the unqualified term ***command***.\r\n- ***system command*** &amp;nbsp;&amp;nbsp;&amp;nbsp; This is another general term that requires context to clarify its meaning. It can be considered a synonym for ***command***, except the additional modifier &quot;system&quot; suggests that the execution of the command is being initiated from a programmatic context that exists outside the shell, such as an R session.\r\n\r\n---\r\n\r\nThe design of the [`system2()`](https://stat.ethz.ch/R-manual/R-devel/library/base/html/system2.html) function seems to suggest that the authors only intended it to be used to run ***simple commands***. It takes the ***command word*** as the first function argument (expected to be a scalar string, meaning a one-element character vector) and the ***command arguments*** as the second (also expected to be a character vector, zero or more elements). Here&#39;s how the documentation puts it in the description of these two function arguments:\r\n\r\n&gt; `command`\r\n&gt;\r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; the system command to be invoked, as a character string.\r\n&gt;\r\n&gt; `args`\r\n&gt;\r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; a character vector of arguments to `command`.\r\n\r\nThe above doesn&#39;t make it perfectly clear, but the first sentence of the Details section helps:\r\n\r\n&gt; Unlike `system()`, `command` is always quoted by `shQuote()`, so it must be a single command without arguments.\r\n\r\nAs you can see, the documentation is a little bit vague in that it throws around the general term ***command*** without much clarification. They also use the vague term ***system command***, which doesn&#39;t help matters much either. What they mean is that the first function argument `command` is intended to be a ***command word*** of a ***simple command***. If you want to pass any ***command arguments***, you must specify them in the the second function argument `args`.\r\n\r\nIn the authors&#39; defense, shell code can be very platform-dependent and inconsistent in implementation and behavior. To use the more precise terms that I&#39;ve defined in this post would have put the documentation writers at risk of committing errors, at least with respect to some systems which R aspires to support. Vagueness can be a safehouse against risk of outright error.\r\n\r\nNote that this differs from the other R system command function, [`system()`](https://stat.ethz.ch/R-manual/R-devel/library/base/html/system.html):\r\n\r\n&gt; `command`\r\n&gt;\r\n&gt; &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; the system command to be invoked, as a character string.\r\n\r\nAnd in the Details section:\r\n\r\n&gt; `command` is parsed as a command plus arguments separated by spaces. So if the path to the command (or a single argument such as a file path) contains spaces, it must be quoted e.g. by `shQuote()`. Unix-alikes pass the command line to a shell (normally ‘`/bin/sh`’, and POSIX requires that shell), so `command` can be anything the shell regards as executable, including shell scripts, and it can contain multiple commands separated by `;`.\r\n\r\nSo for `system()`, the first function argument `command` is a full ***command line***.\r\n\r\nSo they actually use exactly the same function argument name (`command`) and description (&quot;the system command to be invoked, as a character string.&quot;), even though the argument has two completely different meanings between `system()` and `system2()`! Understanding this documentation really does require careful parsing by the reader.\r\n\r\n---\r\n\r\nSo, finally, we can understand how to correctly use `system2()` to invoke the desired java command:\r\n\r\n    word &lt;- &#39;java&#39;;\r\n    args &lt;- c(&#39;-jar&#39;,&#39;sample.jar&#39;,&#39;674&#39;);\r\n    result &lt;- system2(word,args,stdout=&#39;C:/Code/stdout.txt&#39;,stderr=&#39;C:/Code/stderr.txt&#39;);\r\n\r\n---\r\n\r\nJust to try to clarify further, it&#39;s helpful to experiment with the behavior of these functions by trying some simple test cases. For example (on my Cygwin bash shell):\r\n\r\n    system(&#39;printf %d:%x\\\\\\\\n 31 31&#39;);\r\n    ## 31:1f\r\n    system2(&#39;printf&#39;,c(&#39;%d:%x\\\\\\\\n&#39;,&#39;31&#39;,&#39;31&#39;));\r\n    ## 31:1f\r\n\r\n(Note that the quadrupling of backslashes is necessary because they pass through 3 interpolation contexts, namely (1) R string literal interpolation, (2) bash (non-single-quoted) lexical context, and (3) the `printf` command&#39;s interpolation of its first command argument. We need `printf` to interpolate the final `\\n` ASCII character code.)\r\n\r\nAlso, it should be noted that, although `system2()` clearly encourages only running ***simple commands*** by enforcing separation of the ***command word*** and ***command arguments*** into separate function arguments, it is very possible to subvert that intention and use shell metacharacters to execute some decidedly non-simple shell code through the `system2()` interface:\r\n\r\n    system(&#39;echo a b; echo c d&#39;);\r\n    ## a b\r\n    ## c d\r\n    system2(&#39;echo&#39;,c(&#39;a&#39;,&#39;b; echo c d&#39;));\r\n    ## a b\r\n    ## c d\r\n\r\nThis is, of course, highly inadvisable.","title":"Unable to get R language system2 command result","body":"<p>This is an easy mistake to make.</p>\n\n<p>First, let's define some terms:</p>\n\n<ul>\n<li><strong><em>statement</em></strong> &nbsp;&nbsp;&nbsp; This is a piece of shell code that generally represents a single action for the shell to execute. The action may be a documented shell builtin or keyword command plus arguments, the file name of an external executable plus arguments, a compound command (such as a braced block or subshell), a pipeline of all of the above, or a command list of all of the above. Multiple statements can usually be coded sequentially using statement separators, which differ by shell. For example, the Unix <code>bash</code> shell uses semicolons (for foreground execution) or ampersands (for background), while the Windows <code>cmd</code> shell uses ampersands (for foreground).</li>\n<li><strong><em>command</em></strong> &nbsp;&nbsp;&nbsp; This is a very general term that can refer to any of the above types of command, or to a whole statement, or even to multiple sequential statements. This is the kind of term that requires context to clarify its meaning.</li>\n<li><strong><em>simple command</em></strong> &nbsp;&nbsp;&nbsp; This is a command that only executes a shell builtin or external executable. These may occur as their own statements, or they may form part of compound commands, pipelines, or command lists. In the bash shell, variable assignments and redirections can form part of or even the entirety of a simple command.</li>\n<li><strong><em>command word</em></strong> &nbsp;&nbsp;&nbsp; In the context of a single <strong><em>simple command</em></strong>, this is the name of the program you want to run. This will either be the documented name of a shell builtin, or it will be the file name of an external executable. This is sometimes described as the <em>first word</em> of the command, or the <em>zeroth argument</em>.</li>\n<li><strong><em>command arguments</em></strong> &nbsp;&nbsp;&nbsp; In the context of a single <strong><em>simple command</em></strong>, this is the zero or more (additional) arguments given to the builtin or executable.</li>\n<li><strong><em>command line</em></strong> &nbsp;&nbsp;&nbsp; This term carries with it the suggestion that it refers to a <em>single line</em> of shell code. However, it is often used slightly more loosely, to describe any self-contained, often one-off piece of shell code, which may in actuality contain line breaks, and thus technically consists of more than one textual line. The term <strong><em>command</em></strong> is sometimes used as a shorthand for this concept as well, further adding to its ambiguity. Also note that <strong><em>command line</em></strong> is sometimes used as a shorthand for the <a href=\"https://en.wikipedia.org/wiki/Command-line_interface\" rel=\"noreferrer\">command-line interface</a> type of user interface, which is never connoted by the unqualified term <strong><em>command</em></strong>.</li>\n<li><strong><em>system command</em></strong> &nbsp;&nbsp;&nbsp; This is another general term that requires context to clarify its meaning. It can be considered a synonym for <strong><em>command</em></strong>, except the additional modifier \"system\" suggests that the execution of the command is being initiated from a programmatic context that exists outside the shell, such as an R session.</li>\n</ul>\n\n<hr>\n\n<p>The design of the <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/base/html/system2.html\" rel=\"noreferrer\"><code>system2()</code></a> function seems to suggest that the authors only intended it to be used to run <strong><em>simple commands</em></strong>. It takes the <strong><em>command word</em></strong> as the first function argument (expected to be a scalar string, meaning a one-element character vector) and the <strong><em>command arguments</em></strong> as the second (also expected to be a character vector, zero or more elements). Here's how the documentation puts it in the description of these two function arguments:</p>\n\n<blockquote>\n  <p><code>command</code></p>\n  \n  <p>&nbsp;&nbsp;&nbsp;&nbsp; the system command to be invoked, as a character string.</p>\n  \n  <p><code>args</code></p>\n  \n  <p>&nbsp;&nbsp;&nbsp;&nbsp; a character vector of arguments to <code>command</code>.</p>\n</blockquote>\n\n<p>The above doesn't make it perfectly clear, but the first sentence of the Details section helps:</p>\n\n<blockquote>\n  <p>Unlike <code>system()</code>, <code>command</code> is always quoted by <code>shQuote()</code>, so it must be a single command without arguments.</p>\n</blockquote>\n\n<p>As you can see, the documentation is a little bit vague in that it throws around the general term <strong><em>command</em></strong> without much clarification. They also use the vague term <strong><em>system command</em></strong>, which doesn't help matters much either. What they mean is that the first function argument <code>command</code> is intended to be a <strong><em>command word</em></strong> of a <strong><em>simple command</em></strong>. If you want to pass any <strong><em>command arguments</em></strong>, you must specify them in the the second function argument <code>args</code>.</p>\n\n<p>In the authors' defense, shell code can be very platform-dependent and inconsistent in implementation and behavior. To use the more precise terms that I've defined in this post would have put the documentation writers at risk of committing errors, at least with respect to some systems which R aspires to support. Vagueness can be a safehouse against risk of outright error.</p>\n\n<p>Note that this differs from the other R system command function, <a href=\"https://stat.ethz.ch/R-manual/R-devel/library/base/html/system.html\" rel=\"noreferrer\"><code>system()</code></a>:</p>\n\n<blockquote>\n  <p><code>command</code></p>\n  \n  <p>&nbsp;&nbsp;&nbsp;&nbsp; the system command to be invoked, as a character string.</p>\n</blockquote>\n\n<p>And in the Details section:</p>\n\n<blockquote>\n  <p><code>command</code> is parsed as a command plus arguments separated by spaces. So if the path to the command (or a single argument such as a file path) contains spaces, it must be quoted e.g. by <code>shQuote()</code>. Unix-alikes pass the command line to a shell (normally ‘<code>/bin/sh</code>’, and POSIX requires that shell), so <code>command</code> can be anything the shell regards as executable, including shell scripts, and it can contain multiple commands separated by <code>;</code>.</p>\n</blockquote>\n\n<p>So for <code>system()</code>, the first function argument <code>command</code> is a full <strong><em>command line</em></strong>.</p>\n\n<p>So they actually use exactly the same function argument name (<code>command</code>) and description (\"the system command to be invoked, as a character string.\"), even though the argument has two completely different meanings between <code>system()</code> and <code>system2()</code>! Understanding this documentation really does require careful parsing by the reader.</p>\n\n<hr>\n\n<p>So, finally, we can understand how to correctly use <code>system2()</code> to invoke the desired java command:</p>\n\n<pre><code>word &lt;- 'java';\nargs &lt;- c('-jar','sample.jar','674');\nresult &lt;- system2(word,args,stdout='C:/Code/stdout.txt',stderr='C:/Code/stderr.txt');\n</code></pre>\n\n<hr>\n\n<p>Just to try to clarify further, it's helpful to experiment with the behavior of these functions by trying some simple test cases. For example (on my Cygwin bash shell):</p>\n\n<pre><code>system('printf %d:%x\\\\\\\\n 31 31');\n## 31:1f\nsystem2('printf',c('%d:%x\\\\\\\\n','31','31'));\n## 31:1f\n</code></pre>\n\n<p>(Note that the quadrupling of backslashes is necessary because they pass through 3 interpolation contexts, namely (1) R string literal interpolation, (2) bash (non-single-quoted) lexical context, and (3) the <code>printf</code> command's interpolation of its first command argument. We need <code>printf</code> to interpolate the final <code>\\n</code> ASCII character code.)</p>\n\n<p>Also, it should be noted that, although <code>system2()</code> clearly encourages only running <strong><em>simple commands</em></strong> by enforcing separation of the <strong><em>command word</em></strong> and <strong><em>command arguments</em></strong> into separate function arguments, it is very possible to subvert that intention and use shell metacharacters to execute some decidedly non-simple shell code through the <code>system2()</code> interface:</p>\n\n<pre><code>system('echo a b; echo c d');\n## a b\n## c d\nsystem2('echo',c('a','b; echo c d'));\n## a b\n## c d\n</code></pre>\n\n<p>This is, of course, highly inadvisable.</p>\n"},{"tags":[],"owner":{"account_id":6909281,"reputation":43587,"user_id":5783745,"accept_rate":40,"display_name":"stevec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679155503,"creation_date":1679155503,"answer_id":75777049,"question_id":37860616,"body_markdown":"If you just want the results to the R console, add the `stdout` parameter:\r\n\r\n```r\r\nsystem2(&quot;your command&quot;, stdout=TRUE)\r\n```","title":"Unable to get R language system2 command result","body":"<p>If you just want the results to the R console, add the <code>stdout</code> parameter:</p>\n<pre class=\"lang-r prettyprint-override\"><code>system2(&quot;your command&quot;, stdout=TRUE)\n</code></pre>\n"}],"owner":{"account_id":8376973,"reputation":197,"user_id":6290176,"accept_rate":40,"display_name":"Jack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14542,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":37861525,"answer_count":3,"score":15,"last_activity_date":1679155503,"creation_date":1466083454,"question_id":37860616,"body_markdown":"i am not able to get the system2 result. tried to execute the sample jar file.\r\n\r\n**execute_system.R:**\r\n\r\n    workingDir &lt;- &quot;C:/Code&quot;\r\n    setwd(workingDir)\r\n    command &lt;- &quot;java -jar sample.jar 674&quot;\r\n    commandResult &lt;- system2(command, stdout=&quot;C:/Code/stdout.txt&quot;, stderr=&quot;C:/Code/stderr.txt&quot;)\r\n    cat(&quot;commandResult: &quot;, commandResult)\r\n\r\nI am getting the error message when i execute this **execute_system.R** file and empty file is generated (stdout.txt, stderr.txt)\r\n\r\n    commandResult: 127\r\n    warning message: running command &#39;&quot;java -jar sample.jar 674&quot;&#39; had status 127\r\n\r\nI want to read the system2 command result and needs to be process the result data.\r\n\r\nWhen i execute the same command prompt, i am getting the proper result\r\n\r\n    C:/Code&gt;java -jar sample.jar 123\r\n    convert from String to int...\r\n    Input: 123\r\n    Value: 123\r\n    Conversion process done!!!\r\n\r\nActual my Java Code\r\n\r\n    public class Conversion{\r\n       public static void main(String args[]){\r\n          System.out.println(&quot;convert from String to int...&quot;);\r\n          String input = args[0];\r\n          System.out.println(&quot;Input: &quot; + input );\r\n          int value = Integer.valueOf(input)\r\n          System.out.println(&quot;Value: &quot; + value);\r\n          System.out.println(&quot;Conversion process done!!!);\r\n       }\r\n    }\r\nI converted this java program into executable jar file (sample.jar).\r\n\r\nPlease help me.\r\nThanks in advance.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Unable to get R language system2 command result","body":"<p>i am not able to get the system2 result. tried to execute the sample jar file.</p>\n\n<p><strong>execute_system.R:</strong></p>\n\n<pre><code>workingDir &lt;- \"C:/Code\"\nsetwd(workingDir)\ncommand &lt;- \"java -jar sample.jar 674\"\ncommandResult &lt;- system2(command, stdout=\"C:/Code/stdout.txt\", stderr=\"C:/Code/stderr.txt\")\ncat(\"commandResult: \", commandResult)\n</code></pre>\n\n<p>I am getting the error message when i execute this <strong>execute_system.R</strong> file and empty file is generated (stdout.txt, stderr.txt)</p>\n\n<pre><code>commandResult: 127\nwarning message: running command '\"java -jar sample.jar 674\"' had status 127\n</code></pre>\n\n<p>I want to read the system2 command result and needs to be process the result data.</p>\n\n<p>When i execute the same command prompt, i am getting the proper result</p>\n\n<pre><code>C:/Code&gt;java -jar sample.jar 123\nconvert from String to int...\nInput: 123\nValue: 123\nConversion process done!!!\n</code></pre>\n\n<p>Actual my Java Code</p>\n\n<pre><code>public class Conversion{\n   public static void main(String args[]){\n      System.out.println(\"convert from String to int...\");\n      String input = args[0];\n      System.out.println(\"Input: \" + input );\n      int value = Integer.valueOf(input)\n      System.out.println(\"Value: \" + value);\n      System.out.println(\"Conversion process done!!!);\n   }\n}\n</code></pre>\n\n<p>I converted this java program into executable jar file (sample.jar).</p>\n\n<p>Please help me.\nThanks in advance.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679067572,"post_id":75768586,"comment_id":133660010,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":10309761,"reputation":944,"user_id":7605967,"display_name":"Keshavram Kuduwa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679063393,"creation_date":1679063393,"answer_id":75768819,"question_id":75768586,"body_markdown":"You can use the following condition, or just use the `trim` method to trim the leading and trailing whitespace:\r\n```java\r\n      yourString.startsWith(&quot; &quot;) || yourString.endsWith(&quot; &quot;)\r\n```","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>You can use the following condition, or just use the <code>trim</code> method to trim the leading and trailing whitespace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      yourString.startsWith(&quot; &quot;) || yourString.endsWith(&quot; &quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16084279,"reputation":21,"user_id":11609421,"display_name":"David Montero Crespo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679155014,"creation_date":1679155014,"answer_id":75776994,"question_id":75768586,"body_markdown":"I was able to solve it in the following way. \r\nCreate a validation:\r\n\r\n   \r\n\r\n     @Target({ ElementType.FIELD, ElementType.PARAMETER })\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Constraint(validatedBy = NoSpacesValidator.class)\r\n        public @interface NoSpaces {\r\n        \r\n            String message() default &quot;The value must not contain leading or trailing spaces&quot;;\r\n        \r\n            Class&lt;?&gt;[] groups() default {};\r\n        \r\n         Class&lt;? extends Payload&gt;[] payload() default {};\r\n        }\r\n    \r\n  \r\n\r\n      public class NoSpacesValidator implements ConstraintValidator&lt;NoSpaces, String&gt; {\r\n        \r\n            @Override\r\n            public boolean isValid(String value, ConstraintValidatorContext context) {\r\n                if (value == null) {\r\n                    return true;\r\n                }\r\n                return value.trim().equals(value);\r\n            }\r\n        }\r\n\r\nAnd in the entity use the annotation &quot;NoSpaces&quot;\r\n\r\n    @Column(nullable = false)\r\n    @NotBlank\r\n    @NoSpaces\r\n    private String name;","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>I was able to solve it in the following way.\nCreate a validation:</p>\n<pre><code> @Target({ ElementType.FIELD, ElementType.PARAMETER })\n    @Retention(RetentionPolicy.RUNTIME)\n    @Constraint(validatedBy = NoSpacesValidator.class)\n    public @interface NoSpaces {\n    \n        String message() default &quot;The value must not contain leading or trailing spaces&quot;;\n    \n        Class&lt;?&gt;[] groups() default {};\n    \n     Class&lt;? extends Payload&gt;[] payload() default {};\n    }\n\n\n\n  public class NoSpacesValidator implements ConstraintValidator&lt;NoSpaces, String&gt; {\n    \n        @Override\n        public boolean isValid(String value, ConstraintValidatorContext context) {\n            if (value == null) {\n                return true;\n            }\n            return value.trim().equals(value);\n        }\n    }\n</code></pre>\n<p>And in the entity use the annotation &quot;NoSpaces&quot;</p>\n<pre><code>@Column(nullable = false)\n@NotBlank\n@NoSpaces\nprivate String name;\n</code></pre>\n"}],"owner":{"account_id":16084279,"reputation":21,"user_id":11609421,"display_name":"David Montero Crespo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679155014,"creation_date":1679062093,"question_id":75768586,"body_markdown":"Send an error message when some string type field can have spaces before or after the data when they are sent by POST\r\n\r\n\r\n\r\n\r\n\r\nI tried using the NotBlank annotation, but it does not validate that a string contains spaces at the end or beginning of the data","title":"Spring Boot No string type field can have spaces before or after the data","body":"<p>Send an error message when some string type field can have spaces before or after the data when they are sent by POST</p>\n<p>I tried using the NotBlank annotation, but it does not validate that a string contains spaces at the end or beginning of the data</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent","forkjoinpool"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679152607,"post_id":75776698,"comment_id":133672040,"body_markdown":"There&#39;s some good info on the RecursiveAction doc page: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RecursiveAction.html","body":"There&#39;s some good info on the RecursiveAction doc page: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/RecursiveAction.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679154498,"post_id":75776698,"comment_id":133672402,"body_markdown":"I&#39;m still thinking about this, but the example doc I linked to uses `invokeAll` in its recursive example (a quicksort).  It&#39;s possible that your code just over-uses one thread because only one task is submitted via `fork`, the other is called recursively in the original thread.","body":"I&#39;m still thinking about this, but the example doc I linked to uses <code>invokeAll</code> in its recursive example (a quicksort).  It&#39;s possible that your code just over-uses one thread because only one task is submitted via <code>fork</code>, the other is called recursively in the original thread."}],"answers":[{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679154844,"creation_date":1679154844,"answer_id":75776979,"question_id":75776698,"body_markdown":"I tried your example with `invokeAll` and the result seems more balanced (also about 50% faster).  I&#39;m going to guess that what is happening is the original thread that is called, races ahead and basically queues up all the `Task`s before any other thread in the pool gets a chance, so it ends up with all the `w` tasks on its call stack.  So it just ends up doing 50% of the work itself.\r\n\r\n```\r\nclass Sandbox {\r\n\r\n   public static void main( String[] args ) {\r\n      var pool = new ForkJoinPool( 5 );\r\n      var task = new Task( 20, 1 );\r\n      long start = System.nanoTime();\r\n      pool.invoke( task );\r\n      System.out.println( &quot;time: &quot; + (System.nanoTime() - start) * 1e-9 * 1e3 + &quot;ms&quot; );\r\n   }\r\n\r\n   static class Task extends RecursiveAction {\r\n\r\n      int work;\r\n      int taskNum;\r\n\r\n      public Task( int work, int taskNum ) {\r\n         this.work = work;\r\n         this.taskNum = taskNum;\r\n      }\r\n\r\n      protected void compute() {\r\n         System.out.println( Thread.currentThread().getName() + &quot; compute enter: &quot; + this );\r\n         if( work &gt; 1 ) {\r\n            // bite ONE from work counter\r\n            var w = new Task( 1, taskNum );\r\n            // split the remaining work and fork\r\n            var s = new Task( work - 1, taskNum + 1 );\r\n            invokeAll( w, s );\r\n//            s.fork();\r\n//            w.compute();\r\n//            s.join();\r\n         } else {\r\n            doWork();\r\n         }\r\n         System.out.println( Thread.currentThread().getName() + &quot; compute exit: &quot; + this );\r\n      }\r\n\r\n      void doWork() {\r\n         try {\r\n            System.out.println( Thread.currentThread().getName() + &quot; working: &quot; + this );\r\n            Thread.sleep( 1000 );\r\n         } catch( InterruptedException e ) {\r\n            Thread.currentThread().interrupt();\r\n         }\r\n      }\r\n\r\n      public String toString() {\r\n         return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + &#39;}&#39;;\r\n      }\r\n   }\r\n}\r\n```","title":"Why ForkJoinTask.join() call rather block the thread instead of stealing the work as expected from work stealing mechanism","body":"<p>I tried your example with <code>invokeAll</code> and the result seems more balanced (also about 50% faster).  I'm going to guess that what is happening is the original thread that is called, races ahead and basically queues up all the <code>Task</code>s before any other thread in the pool gets a chance, so it ends up with all the <code>w</code> tasks on its call stack.  So it just ends up doing 50% of the work itself.</p>\n<pre><code>class Sandbox {\n\n   public static void main( String[] args ) {\n      var pool = new ForkJoinPool( 5 );\n      var task = new Task( 20, 1 );\n      long start = System.nanoTime();\n      pool.invoke( task );\n      System.out.println( &quot;time: &quot; + (System.nanoTime() - start) * 1e-9 * 1e3 + &quot;ms&quot; );\n   }\n\n   static class Task extends RecursiveAction {\n\n      int work;\n      int taskNum;\n\n      public Task( int work, int taskNum ) {\n         this.work = work;\n         this.taskNum = taskNum;\n      }\n\n      protected void compute() {\n         System.out.println( Thread.currentThread().getName() + &quot; compute enter: &quot; + this );\n         if( work &gt; 1 ) {\n            // bite ONE from work counter\n            var w = new Task( 1, taskNum );\n            // split the remaining work and fork\n            var s = new Task( work - 1, taskNum + 1 );\n            invokeAll( w, s );\n//            s.fork();\n//            w.compute();\n//            s.join();\n         } else {\n            doWork();\n         }\n         System.out.println( Thread.currentThread().getName() + &quot; compute exit: &quot; + this );\n      }\n\n      void doWork() {\n         try {\n            System.out.println( Thread.currentThread().getName() + &quot; working: &quot; + this );\n            Thread.sleep( 1000 );\n         } catch( InterruptedException e ) {\n            Thread.currentThread().interrupt();\n         }\n      }\n\n      public String toString() {\n         return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + '}';\n      }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":7909119,"reputation":1,"user_id":5973684,"display_name":"Alex Gal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679154844,"creation_date":1679152004,"question_id":75776698,"body_markdown":"I have a recursive task which splits asymmetrically. Instead of splitting in halves it rather bites a pice of work it can execute and forks the rest of work. Such scenario does not get paralleled as expected.\r\n\r\n\r\nConsider the following code to understand what I mean:\r\n\r\n```java\r\npublic class Sandbox {\r\n\r\n    public static void main(String[] args) {\r\n        var pool = new ForkJoinPool(5);\r\n        var task = new Task(20, 1);\r\n        var start = Instant.now();\r\n        pool.invoke(task);\r\n        System.out.println(&quot;Elapsed Time: &quot; + Duration.between(start, Instant.now()).toSeconds());\r\n    }\r\n\r\n    static class Task extends RecursiveAction {\r\n\r\n        int work; \r\n        int taskNum;\r\n\r\n        public Task(int work, int taskNum) {\r\n            this.work = work;\r\n            this.taskNum = taskNum;\r\n        }\r\n\r\n        protected void compute() {\r\n            System.out.println(Thread.currentThread().getName() + &quot; compute enter: &quot; + this);\r\n            if (work &gt; 1) {\r\n                // bite ONE from work counter\r\n                var w = new Task(1, taskNum);\r\n                // split the remaining work and fork\r\n                var s = new Task(work - 1, taskNum + 1);\r\n                s.fork();\r\n                w.compute();\r\n                s.join();\r\n            } else {\r\n                doWork();\r\n            }\r\n            System.out.println(Thread.currentThread().getName() + &quot; compute exit: &quot; + this);\r\n        }\r\n\r\n        void doWork() {\r\n            try {\r\n                System.out.println(Thread.currentThread().getName() + &quot; working: &quot; + this);\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + &#39;}&#39;;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThere is a work counter which defines the amount of work to do. Each task literally bites ONE from that counter and forks the remaining work, then joins on remaining work until it is completed.\r\n\r\nI expect such task will be paralleled with parallelism defined in ForkJoinPool constructor (parallelism = 5). But it starts in parallel and then the only one thread seems to be working, the rest of the threads just waiting on join() call.\r\n\r\nPlease help me understand why the task do not get paralleled till the end. As I do call fork() before performing computation there is always one task in the working queue that other threads should steal and split further.\r\n","title":"Why ForkJoinTask.join() call rather block the thread instead of stealing the work as expected from work stealing mechanism","body":"<p>I have a recursive task which splits asymmetrically. Instead of splitting in halves it rather bites a pice of work it can execute and forks the rest of work. Such scenario does not get paralleled as expected.</p>\n<p>Consider the following code to understand what I mean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Sandbox {\n\n    public static void main(String[] args) {\n        var pool = new ForkJoinPool(5);\n        var task = new Task(20, 1);\n        var start = Instant.now();\n        pool.invoke(task);\n        System.out.println(&quot;Elapsed Time: &quot; + Duration.between(start, Instant.now()).toSeconds());\n    }\n\n    static class Task extends RecursiveAction {\n\n        int work; \n        int taskNum;\n\n        public Task(int work, int taskNum) {\n            this.work = work;\n            this.taskNum = taskNum;\n        }\n\n        protected void compute() {\n            System.out.println(Thread.currentThread().getName() + &quot; compute enter: &quot; + this);\n            if (work &gt; 1) {\n                // bite ONE from work counter\n                var w = new Task(1, taskNum);\n                // split the remaining work and fork\n                var s = new Task(work - 1, taskNum + 1);\n                s.fork();\n                w.compute();\n                s.join();\n            } else {\n                doWork();\n            }\n            System.out.println(Thread.currentThread().getName() + &quot; compute exit: &quot; + this);\n        }\n\n        void doWork() {\n            try {\n                System.out.println(Thread.currentThread().getName() + &quot; working: &quot; + this);\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            }\n        }\n\n        public String toString() {\n            return &quot;Task{&quot; + &quot;work=&quot; + work + &quot;, taskNum=&quot; + taskNum + '}';\n        }\n    }\n}\n</code></pre>\n<p>There is a work counter which defines the amount of work to do. Each task literally bites ONE from that counter and forks the remaining work, then joins on remaining work until it is completed.</p>\n<p>I expect such task will be paralleled with parallelism defined in ForkJoinPool constructor (parallelism = 5). But it starts in parallel and then the only one thread seems to be working, the rest of the threads just waiting on join() call.</p>\n<p>Please help me understand why the task do not get paralleled till the end. As I do call fork() before performing computation there is always one task in the working queue that other threads should steal and split further.</p>\n"},{"tags":["java","amazon-web-services","amazon-ecs","aws-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679153211,"creation_date":1679153211,"answer_id":75776814,"question_id":75765309,"body_markdown":"I got in touch with the AWS support team. \r\n\r\nTeam said my domain is facing continuous HTTPS 460 errors which were the requests that failed due to client connection drop-off, and that was happening because of lower socket timeout which is set up at 3 sec.\r\n\r\nTherefore, the team suggested doing the following setups:\r\n1. Increase the socket timeout to 30sec. Connection Timeout can still stay at 3sec.\r\n2. Add `setSoKeepAlive(true)` that enables TCP keepalive connections.\r\n\r\nI deployed these changes, and since then I haven&#39;t encountered the error.","title":"SocketTimeoutException while searching documents on AWS ElaticSearch","body":"<p>I got in touch with the AWS support team.</p>\n<p>Team said my domain is facing continuous HTTPS 460 errors which were the requests that failed due to client connection drop-off, and that was happening because of lower socket timeout which is set up at 3 sec.</p>\n<p>Therefore, the team suggested doing the following setups:</p>\n<ol>\n<li>Increase the socket timeout to 30sec. Connection Timeout can still stay at 3sec.</li>\n<li>Add <code>setSoKeepAlive(true)</code> that enables TCP keepalive connections.</li>\n</ol>\n<p>I deployed these changes, and since then I haven't encountered the error.</p>\n"}],"owner":{"account_id":4064266,"reputation":1553,"user_id":3339818,"display_name":"surajs1n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75776814,"answer_count":1,"score":1,"last_activity_date":1679153211,"creation_date":1679042018,"question_id":75765309,"body_markdown":"### Context ### \r\nMy team has a REST service running on AWS Elastic Container Service. It is connected with AWS Elastic Search to save the data.\r\n\r\nThe following is the Elastic Search client setup:\r\n\r\n**YAML Config:**\r\n```yaml\r\nelasticConfiguration:\r\n  host: ${ELASTIC_SEARCH_HOST:-localhost}\r\n  port: ${ELASTIC_SEARCH_PORT:-9200}\r\n  scheme: ${ELASTIC_SEARCH_SCHEME:-http}\r\n  username: ${ELASTIC_SEARCH_USERNAME}\r\n  password: ${ELASTIC_SEARCH_PASSWORD}\r\n  connectionTimeout: 3000\r\n  socketTimeout: 3000\r\n  maxConnections: 50\r\n```\r\n\r\n**Bean Config:**\r\n```java\r\n    @Provides\r\n    @Singleton\r\n    public RestHighLevelClient elasticClient(final ElasticConfiguration elasticConfiguration) {\r\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\r\n        if (Optional.ofNullable(elasticConfiguration.getPassword()).map(String::trim).filter(Predicate.not(StringUtils::isNullOrEmpty)).isPresent()) {\r\n            credentialsProvider.setCredentials(AuthScope.ANY,\r\n                    new UsernamePasswordCredentials(elasticConfiguration.getUsername(), elasticConfiguration.getPassword()));\r\n        }\r\n        return new RestHighLevelClient(\r\n                RestClient.builder(new HttpHost(elasticConfiguration.getHost(), elasticConfiguration.getPort(), elasticConfiguration.getScheme()))\r\n                        .setHttpClientConfigCallback(\r\n                                  httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\r\n                                          .setMaxConnPerRoute(elasticConfiguration.getMaxConnections())\r\n                                          .setMaxConnTotal(elasticConfiguration.getMaxConnections()))\r\n                        .setRequestConfigCallback(\r\n                                  requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(elasticConfiguration.getConnectionTimeout())\r\n                                          .setSocketTimeout(elasticConfiguration.getSocketTimeout()))\r\n                        .setNodeSelector(NodeSelector.SKIP_DEDICATED_MASTERS));\r\n    }\r\n```\r\n\r\n\r\n### Problem: ###     \r\nSometimes our team observes the following error in our log:\r\n\r\n```java\r\n exception:SocketTimeoutExceptionseverity:ERRORidentifier:Txn-4913e369-b046-4a72-bc8a-b25a722d62a7 - Req-a0797e45-d0d0-4a8d-a4b3-ace61b03010asource:stdoutthread:dw-469 - POST /cerebro/v1/index/store_products/documents/search?per_page=1message:Error in searching documents with message 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE] and error\r\n! java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\r\n! at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\r\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92)\r\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39)\r\n! at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\r\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\r\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\r\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n! at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\r\n! ... 1 common frames omitted\r\n! Causing: java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\r\n! at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:850)\r\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:275)\r\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\r\n! at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1628)\r\n! at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1598)\r\n! at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1568)\r\n! at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1084)\r\n! at in.dreamplug.store.service.search.elastic.ElasticSearchService.searchDocuments(ElasticSearchService.java:116)\r\n! at in.dreamplug.store.service.search.DocumentSearchService.searchDocuments(DocumentSearchService.java:78)\r\n! at in.dreamplug.store.resource.DocumentSearchResource.searchDocuments(DocumentSearchResource.java:61)\r\n! at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\r\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n```\r\n\r\n### Potential Solutions Tried: ###         \r\nI tried two potential solutions:   \r\n1. [Connection Evictor Thread](https://github.com/elastic/elasticsearch/issues/59261#issuecomment-664725217) - It suggested periodically checking and closing the idle connections using a separate thread. \r\n2. [Enable TCP keepalives](https://github.com/elastic/elasticsearch/issues/65213) - It suggested enabling the keep-alive flag and also reducing the values of `net.ipv4.tcp_keepalive_time`. \r\n\r\nUnfortunately, I didn&#39;t see any major improvement. Could you please help me what else can be done?","title":"SocketTimeoutException while searching documents on AWS ElaticSearch","body":"<h3>Context</h3>\n<p>My team has a REST service running on AWS Elastic Container Service. It is connected with AWS Elastic Search to save the data.</p>\n<p>The following is the Elastic Search client setup:</p>\n<p><strong>YAML Config:</strong></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>elasticConfiguration:\n  host: ${ELASTIC_SEARCH_HOST:-localhost}\n  port: ${ELASTIC_SEARCH_PORT:-9200}\n  scheme: ${ELASTIC_SEARCH_SCHEME:-http}\n  username: ${ELASTIC_SEARCH_USERNAME}\n  password: ${ELASTIC_SEARCH_PASSWORD}\n  connectionTimeout: 3000\n  socketTimeout: 3000\n  maxConnections: 50\n</code></pre>\n<p><strong>Bean Config:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Provides\n    @Singleton\n    public RestHighLevelClient elasticClient(final ElasticConfiguration elasticConfiguration) {\n        final CredentialsProvider credentialsProvider = new BasicCredentialsProvider();\n        if (Optional.ofNullable(elasticConfiguration.getPassword()).map(String::trim).filter(Predicate.not(StringUtils::isNullOrEmpty)).isPresent()) {\n            credentialsProvider.setCredentials(AuthScope.ANY,\n                    new UsernamePasswordCredentials(elasticConfiguration.getUsername(), elasticConfiguration.getPassword()));\n        }\n        return new RestHighLevelClient(\n                RestClient.builder(new HttpHost(elasticConfiguration.getHost(), elasticConfiguration.getPort(), elasticConfiguration.getScheme()))\n                        .setHttpClientConfigCallback(\n                                  httpClientBuilder -&gt; httpClientBuilder.setDefaultCredentialsProvider(credentialsProvider)\n                                          .setMaxConnPerRoute(elasticConfiguration.getMaxConnections())\n                                          .setMaxConnTotal(elasticConfiguration.getMaxConnections()))\n                        .setRequestConfigCallback(\n                                  requestConfigBuilder -&gt; requestConfigBuilder.setConnectTimeout(elasticConfiguration.getConnectionTimeout())\n                                          .setSocketTimeout(elasticConfiguration.getSocketTimeout()))\n                        .setNodeSelector(NodeSelector.SKIP_DEDICATED_MASTERS));\n    }\n</code></pre>\n<h3>Problem:</h3>\n<p>Sometimes our team observes the following error in our log:</p>\n<pre class=\"lang-java prettyprint-override\"><code> exception:SocketTimeoutExceptionseverity:ERRORidentifier:Txn-4913e369-b046-4a72-bc8a-b25a722d62a7 - Req-a0797e45-d0d0-4a8d-a4b3-ace61b03010asource:stdoutthread:dw-469 - POST /cerebro/v1/index/store_products/documents/search?per_page=1message:Error in searching documents with message 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE] and error\n! java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\n! at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92)\n! at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39)\n! at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\n! at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\n! at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n! at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\n! ... 1 common frames omitted\n! Causing: java.net.SocketTimeoutException: 3,000 milliseconds timeout on connection http-outgoing-834 [ACTIVE]\n! at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:850)\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:275)\n! at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\n! at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1628)\n! at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1598)\n! at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1568)\n! at org.elasticsearch.client.RestHighLevelClient.search(RestHighLevelClient.java:1084)\n! at in.dreamplug.store.service.search.elastic.ElasticSearchService.searchDocuments(ElasticSearchService.java:116)\n! at in.dreamplug.store.service.search.DocumentSearchService.searchDocuments(DocumentSearchService.java:78)\n! at in.dreamplug.store.resource.DocumentSearchResource.searchDocuments(DocumentSearchResource.java:61)\n! at jdk.internal.reflect.GeneratedMethodAccessor69.invoke(Unknown Source)\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n</code></pre>\n<h3>Potential Solutions Tried:</h3>\n<p>I tried two potential solutions:</p>\n<ol>\n<li><a href=\"https://github.com/elastic/elasticsearch/issues/59261#issuecomment-664725217\" rel=\"nofollow noreferrer\">Connection Evictor Thread</a> - It suggested periodically checking and closing the idle connections using a separate thread.</li>\n<li><a href=\"https://github.com/elastic/elasticsearch/issues/65213\" rel=\"nofollow noreferrer\">Enable TCP keepalives</a> - It suggested enabling the keep-alive flag and also reducing the values of <code>net.ipv4.tcp_keepalive_time</code>.</li>\n</ol>\n<p>Unfortunately, I didn't see any major improvement. Could you please help me what else can be done?</p>\n"},{"tags":["java","spring","spring-integration","mqtt","paho"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1499092117,"post_id":44885702,"comment_id":76754299,"body_markdown":"Your question is not clear. If the connection was lost, it means there was, er, a problem with the connection, perhaps due to a network error. The adapter will attempt to reconnect.","body":"Your question is not clear. If the connection was lost, it means there was, er, a problem with the connection, perhaps due to a network error. The adapter will attempt to reconnect."},{"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"score":0,"creation_date":1499146406,"post_id":44885702,"comment_id":76772784,"body_markdown":"Please find updated question. I have tested connection with JavaScript client, which is working fine.","body":"Please find updated question. I have tested connection with JavaScript client, which is working fine."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499180710,"creation_date":1499180710,"answer_id":44909306,"question_id":44885702,"body_markdown":"But you are still not really describing a problem. You show a message above so it must be working for you. Paho is detecting a connection problem; it informs Spring Integration which will reconnect. \r\n\r\nYou can get complete information about the exception by adding an `ApplicationListener` to your application.\r\n\r\n\t@Bean\r\n\tpublic ApplicationListener&lt;?&gt; eventListener() {\r\n\t\treturn new ApplicationListener&lt;MqttConnectionFailedEvent&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onApplicationEvent(MqttConnectionFailedEvent event) {\r\n\t\t\t\tevent.getCause().printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t}\r\n\r\nResult:\r\n\r\n    Connection lost (32109) - java.io.EOFException\r\n    \tat org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:164)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.io.EOFException\r\n    \tat java.io.DataInputStream.readByte(DataInputStream.java:267)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)\r\n    \tat org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:116)\r\n    \t... 1 more\r\n\r\n(when I shut down the broker).\r\n\t\r\nIf you think there&#39;s a problem with the paho client, you should raise an issue for that project.\r\n","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>But you are still not really describing a problem. You show a message above so it must be working for you. Paho is detecting a connection problem; it informs Spring Integration which will reconnect. </p>\n\n<p>You can get complete information about the exception by adding an <code>ApplicationListener</code> to your application.</p>\n\n<pre><code>@Bean\npublic ApplicationListener&lt;?&gt; eventListener() {\n    return new ApplicationListener&lt;MqttConnectionFailedEvent&gt;() {\n\n        @Override\n        public void onApplicationEvent(MqttConnectionFailedEvent event) {\n            event.getCause().printStackTrace();\n        }\n\n    };\n}\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>Connection lost (32109) - java.io.EOFException\n    at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:164)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.EOFException\n    at java.io.DataInputStream.readByte(DataInputStream.java:267)\n    at org.eclipse.paho.client.mqttv3.internal.wire.MqttInputStream.readMqttWireMessage(MqttInputStream.java:92)\n    at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run(CommsReceiver.java:116)\n    ... 1 more\n</code></pre>\n\n<p>(when I shut down the broker).</p>\n\n<p>If you think there's a problem with the paho client, you should raise an issue for that project.</p>\n"},{"tags":[],"owner":{"account_id":340420,"reputation":956,"user_id":1898523,"accept_rate":75,"display_name":"wrapperapps"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1515784998,"creation_date":1515784998,"answer_id":48232793,"question_id":44885702,"body_markdown":"Just wanted to share in case it helps...\r\nI had the same exception and fixed it by ensuring a unique client ID was generated (with `MqttAsyncClient.generateClientId()`), as mentioned here:\r\nhttps://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>Just wanted to share in case it helps...\nI had the same exception and fixed it by ensuring a unique client ID was generated (with <code>MqttAsyncClient.generateClientId()</code>), as mentioned here:\n<a href=\"https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879\" rel=\"noreferrer\">https://github.com/eclipse/paho.mqtt.java/issues/207#issuecomment-338246879</a></p>\n"},{"tags":[],"owner":{"account_id":19715317,"reputation":189,"user_id":14434888,"display_name":"Naveen Gopalakrishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679153044,"creation_date":1679153044,"answer_id":75776795,"question_id":44885702,"body_markdown":"``MqttAsyncClient.generateClientId()``\r\nShould be added in the Message Producer and MessageHandler method\r\n\r\n```@Bean\r\npublic MessageProducer inbound() {\r\n    MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(MqttAsyncClient.generateClientId(),\r\n            mqttClientFactory(), &quot;#&quot;);\r\n\r\n    adapter.setCompletionTimeout(5000);\r\n    adapter.setConverter(new DefaultPahoMessageConverter());\r\n    adapter.setQos(2);\r\n    adapter.setOutputChannel(mqttInputChannel());\r\n    return adapter;\r\n}\r\n\r\n\r\n@Bean\r\n@ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;)\r\npublic MessageHandler mqttOutbound() {\r\n    MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(MqttAsyncClient.generateClientId(), mqttClientFactory());\r\n    messageHandler.setAsync(true);\r\n    messageHandler.setDefaultTopic(&quot;#&quot;);\r\n    messageHandler.setDefaultRetained(false);\r\n    return messageHandler;\r\n}\r\n\r\n```","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p><code>MqttAsyncClient.generateClientId()</code>\nShould be added in the Message Producer and MessageHandler method</p>\n<pre><code>public MessageProducer inbound() {\n    MqttPahoMessageDrivenChannelAdapter adapter = new MqttPahoMessageDrivenChannelAdapter(MqttAsyncClient.generateClientId(),\n            mqttClientFactory(), &quot;#&quot;);\n\n    adapter.setCompletionTimeout(5000);\n    adapter.setConverter(new DefaultPahoMessageConverter());\n    adapter.setQos(2);\n    adapter.setOutputChannel(mqttInputChannel());\n    return adapter;\n}\n\n\n@Bean\n@ServiceActivator(inputChannel = &quot;mqttOutboundChannel&quot;)\npublic MessageHandler mqttOutbound() {\n    MqttPahoMessageHandler messageHandler = new MqttPahoMessageHandler(MqttAsyncClient.generateClientId(), mqttClientFactory());\n    messageHandler.setAsync(true);\n    messageHandler.setDefaultTopic(&quot;#&quot;);\n    messageHandler.setDefaultRetained(false);\n    return messageHandler;\n}\n\n</code></pre>\n"}],"owner":{"account_id":2888898,"reputation":5558,"user_id":2478134,"accept_rate":42,"display_name":"HybrisHelp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6219,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48232793,"answer_count":3,"score":3,"last_activity_date":1679153044,"creation_date":1499085139,"question_id":44885702,"body_markdown":"We are using `Spring` `message-driven-channel-adapter` to subscribe `MQTT` topic. But we are getting below error very frequently. I have tested connection using JavaScript client([mqttws31.js][1]), which is working fine. Means there is no issue with connection.\r\n\r\n**Error :-**\r\n\r\n    org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter connectionLost\r\n    SEVERE: Lost connection:Connection lost; retrying...\r\n\r\n\r\n**MQTT message :-**\r\n\r\n    [payload=6483D03E4C75BA943148F18D73,1.00,1E, headers={mqtt_retained=false, mqtt_qos=0, \r\n    id=5fa41168-34c6-1e3d-a775-e3146842990a, mqtt_topic=TEST/GATEWAY2, mqtt_duplicate=false, timestamp=1499067757559}]\r\n\r\n**Configuration** :-\r\n\r\n\t&lt;bean id=&quot;clientFactory&quot;\r\n\t\tclass=&quot;org.springframework.integration.mqtt.core.DefaultMqttPahoClientFactory&quot;&gt;\r\n\t\t&lt;property name=&quot;userName&quot; value=&quot;${mqtt.username}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${mqtt.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;int-mqtt:message-driven-channel-adapter\r\n\t\tid=&quot;mqttInbound&quot; client-id=&quot;${mqtt.default.client.id}&quot; url=&quot;${mqtt.url}&quot;\r\n\t\ttopics=&quot;${topics}&quot; client-factory=&quot;clientFactory&quot; auto-startup=&quot;true&quot;\r\n\t\tchannel=&quot;output&quot; error-channel=&quot;errorChannel&quot; /&gt;\r\n\r\n\t\r\n\t&lt;int:channel id=&quot;output&quot; /&gt;\r\n\t&lt;int:channel id=&quot;errorChannel&quot; /&gt;\r\n\r\n\t&lt;int:service-activator input-channel=&quot;errorChannel&quot;\r\n\t\tref=&quot;errorMessageLogger&quot; method=&quot;logError&quot; /&gt;\r\n\t&lt;bean id=&quot;errorMessageLogger&quot; class=&quot;com.mqtt.ErrorMessageLogger&quot; /&gt;\r\n\r\n\t&lt;int:service-activator input-channel=&quot;output&quot;\r\n\t\tmethod=&quot;handleMessage&quot; ref=&quot;mqttLogger&quot; /&gt;\r\n\t&lt;bean id=&quot;mqttLogger&quot; class=&quot;com.mqtt.MqttReciever&quot; /&gt;\r\n\r\n**pom.xml :**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-integration-mqtt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nWhile debugging `org.eclipse.paho.client.mqttv3-1.1.1-sources.jar`:-\r\n\r\n`CommsReceiver.Java`\r\n\r\n\r\n    public void run() {\r\n    \t\tfinal String methodName = &quot;run&quot;;\r\n    \t\tMqttToken token = null;\r\n    \r\n    \t\twhile (running &amp;&amp; (in != null)) {\r\n    \t\t\ttry {\r\n    \t\t\t\t//@TRACE 852=network read message\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;852&quot;);\r\n    \t\t\t\treceiving = in.available() &gt; 0;\r\n    \t\t\t\tMqttWireMessage message = in.readMqttWireMessage();\r\n    \t\t\t\treceiving = false;\r\n    \r\n    \t\t\t\t// instanceof checks if message is null\r\n    \t\t\t\tif (message instanceof MqttAck) {\r\n    \t\t\t\t\ttoken = tokenStore.getToken(message);\r\n    \t\t\t\t\tif (token!=null) {\r\n    \t\t\t\t\t\tsynchronized (token) {\r\n    \t\t\t\t\t\t\t// Ensure the notify processing is done under a lock on the token\r\n    \t\t\t\t\t\t\t// This ensures that the send processing can complete  before the\r\n    \t\t\t\t\t\t\t// receive processing starts! ( request and ack and ack processing\r\n    \t\t\t\t\t\t\t// can occur before request processing is complete if not!\r\n    \t\t\t\t\t\t\tclientState.notifyReceivedAck((MqttAck)message);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else if(message instanceof MqttPubRec || message instanceof MqttPubComp || message instanceof MqttPubAck) {\r\n    \t\t\t\t\t\t//This is an ack for a message we no longer have a ticket for.\r\n    \t\t\t\t\t\t//This probably means we already received this message and it&#39;s being send again\r\n    \t\t\t\t\t\t//because of timeouts, crashes, disconnects, restarts etc.\r\n    \t\t\t\t\t\t//It should be safe to ignore these unexpected messages.\r\n    \t\t\t\t\t\tlog.fine(CLASS_NAME, methodName, &quot;857&quot;);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\t// It its an ack and there is no token then something is not right.\r\n    \t\t\t\t\t\t// An ack should always have a token assoicated with it.\r\n    \t\t\t\t\t\tthrow new MqttException(MqttException.REASON_CODE_UNEXPECTED_ERROR);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tif (message != null) {\r\n    \t\t\t\t\t\t// A new message has arrived\r\n    \t\t\t\t\t\tclientState.notifyReceivedMsg(message);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (MqttException ex) {\r\n    \t\t\t\t//@TRACE 856=Stopping, MQttException\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;856&quot;,null,ex);\r\n    \t\t\t\trunning = false;\r\n    \t\t\t\t// Token maybe null but that is handled in shutdown\r\n    \t\t\t\tclientComms.shutdownConnection(token, ex);\r\n    \t\t\t}\r\n    \t\t\tcatch (IOException ioe) {\r\n    \t\t\t\t//@TRACE 853=Stopping due to IOException\r\n    \t\t\t\tlog.fine(CLASS_NAME,methodName,&quot;853&quot;);\r\n    \r\n    \t\t\t\trunning = false;\r\n    \t\t\t\t// An EOFException could be raised if the broker processes the\r\n    \t\t\t\t// DISCONNECT and ends the socket before we complete. As such,\r\n    \t\t\t\t// only shutdown the connection if we&#39;re not already shutting down.\r\n    \t\t\t\tif (!clientComms.isDisconnecting()) {\r\n    \t\t\t\t\tclientComms.shutdownConnection(token, new MqttException(MqttException.REASON_CODE_CONNECTION_LOST, ioe));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tfinally {\r\n    \t\t\t\treceiving = false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t//@TRACE 854=&lt;\r\n    \t\tlog.fine(CLASS_NAME,methodName,&quot;854&quot;);\r\n    \t}\r\n\r\n    \r\n\r\nIn above method, sometime `in.readMqttWireMessage()` throw `IOException`. So based on catch block it reconnect using `clientComms.shutdownConnection(token, ...`\r\n\r\n  [1]: https://eclipse.org/paho/clients/js/","title":"Spring MqttPahoMessageDrivenChannelAdapter Lost connection:Connection lost; retrying","body":"<p>We are using <code>Spring</code> <code>message-driven-channel-adapter</code> to subscribe <code>MQTT</code> topic. But we are getting below error very frequently. I have tested connection using JavaScript client(<a href=\"https://eclipse.org/paho/clients/js/\" rel=\"nofollow noreferrer\">mqttws31.js</a>), which is working fine. Means there is no issue with connection.</p>\n\n<p><strong>Error :-</strong></p>\n\n<pre><code>org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter connectionLost\nSEVERE: Lost connection:Connection lost; retrying...\n</code></pre>\n\n<p><strong>MQTT message :-</strong></p>\n\n<pre><code>[payload=6483D03E4C75BA943148F18D73,1.00,1E, headers={mqtt_retained=false, mqtt_qos=0, \nid=5fa41168-34c6-1e3d-a775-e3146842990a, mqtt_topic=TEST/GATEWAY2, mqtt_duplicate=false, timestamp=1499067757559}]\n</code></pre>\n\n<p><strong>Configuration</strong> :-</p>\n\n<pre><code>&lt;bean id=\"clientFactory\"\n    class=\"org.springframework.integration.mqtt.core.DefaultMqttPahoClientFactory\"&gt;\n    &lt;property name=\"userName\" value=\"${mqtt.username}\" /&gt;\n    &lt;property name=\"password\" value=\"${mqtt.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;int-mqtt:message-driven-channel-adapter\n    id=\"mqttInbound\" client-id=\"${mqtt.default.client.id}\" url=\"${mqtt.url}\"\n    topics=\"${topics}\" client-factory=\"clientFactory\" auto-startup=\"true\"\n    channel=\"output\" error-channel=\"errorChannel\" /&gt;\n\n\n&lt;int:channel id=\"output\" /&gt;\n&lt;int:channel id=\"errorChannel\" /&gt;\n\n&lt;int:service-activator input-channel=\"errorChannel\"\n    ref=\"errorMessageLogger\" method=\"logError\" /&gt;\n&lt;bean id=\"errorMessageLogger\" class=\"com.mqtt.ErrorMessageLogger\" /&gt;\n\n&lt;int:service-activator input-channel=\"output\"\n    method=\"handleMessage\" ref=\"mqttLogger\" /&gt;\n&lt;bean id=\"mqttLogger\" class=\"com.mqtt.MqttReciever\" /&gt;\n</code></pre>\n\n<p><strong>pom.xml :</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.paho&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.paho.client.mqttv3&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-mqtt&lt;/artifactId&gt;\n    &lt;version&gt;4.2.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>While debugging <code>org.eclipse.paho.client.mqttv3-1.1.1-sources.jar</code>:-</p>\n\n<p><code>CommsReceiver.Java</code></p>\n\n<pre><code>public void run() {\n        final String methodName = \"run\";\n        MqttToken token = null;\n\n        while (running &amp;&amp; (in != null)) {\n            try {\n                //@TRACE 852=network read message\n                log.fine(CLASS_NAME,methodName,\"852\");\n                receiving = in.available() &gt; 0;\n                MqttWireMessage message = in.readMqttWireMessage();\n                receiving = false;\n\n                // instanceof checks if message is null\n                if (message instanceof MqttAck) {\n                    token = tokenStore.getToken(message);\n                    if (token!=null) {\n                        synchronized (token) {\n                            // Ensure the notify processing is done under a lock on the token\n                            // This ensures that the send processing can complete  before the\n                            // receive processing starts! ( request and ack and ack processing\n                            // can occur before request processing is complete if not!\n                            clientState.notifyReceivedAck((MqttAck)message);\n                        }\n                    } else if(message instanceof MqttPubRec || message instanceof MqttPubComp || message instanceof MqttPubAck) {\n                        //This is an ack for a message we no longer have a ticket for.\n                        //This probably means we already received this message and it's being send again\n                        //because of timeouts, crashes, disconnects, restarts etc.\n                        //It should be safe to ignore these unexpected messages.\n                        log.fine(CLASS_NAME, methodName, \"857\");\n                    } else {\n                        // It its an ack and there is no token then something is not right.\n                        // An ack should always have a token assoicated with it.\n                        throw new MqttException(MqttException.REASON_CODE_UNEXPECTED_ERROR);\n                    }\n                } else {\n                    if (message != null) {\n                        // A new message has arrived\n                        clientState.notifyReceivedMsg(message);\n                    }\n                }\n            }\n            catch (MqttException ex) {\n                //@TRACE 856=Stopping, MQttException\n                log.fine(CLASS_NAME,methodName,\"856\",null,ex);\n                running = false;\n                // Token maybe null but that is handled in shutdown\n                clientComms.shutdownConnection(token, ex);\n            }\n            catch (IOException ioe) {\n                //@TRACE 853=Stopping due to IOException\n                log.fine(CLASS_NAME,methodName,\"853\");\n\n                running = false;\n                // An EOFException could be raised if the broker processes the\n                // DISCONNECT and ends the socket before we complete. As such,\n                // only shutdown the connection if we're not already shutting down.\n                if (!clientComms.isDisconnecting()) {\n                    clientComms.shutdownConnection(token, new MqttException(MqttException.REASON_CODE_CONNECTION_LOST, ioe));\n                }\n            }\n            finally {\n                receiving = false;\n            }\n        }\n\n        //@TRACE 854=&lt;\n        log.fine(CLASS_NAME,methodName,\"854\");\n    }\n</code></pre>\n\n<p>In above method, sometime <code>in.readMqttWireMessage()</code> throw <code>IOException</code>. So based on catch block it reconnect using <code>clientComms.shutdownConnection(token, ...</code></p>\n"},{"tags":["java","arrays","image","byte"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1679148372,"post_id":75776338,"comment_id":133671357,"body_markdown":"This is the sort of question I associate with LWJGL and assimp.  See if this solves the problem: https://stackoverflow.com/questions/43690732/lwjgl-assimp-loading-textures","body":"This is the sort of question I associate with LWJGL and assimp.  See if this solves the problem: <a href=\"https://stackoverflow.com/questions/43690732/lwjgl-assimp-loading-textures\" title=\"lwjgl assimp loading textures\">stackoverflow.com/questions/43690732/&hellip;</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679148640,"post_id":75776338,"comment_id":133671388,"body_markdown":"How would you derive the image dimensions from that array?","body":"How would you derive the image dimensions from that array?"},{"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"score":0,"creation_date":1679157459,"post_id":75776338,"comment_id":133672926,"body_markdown":"The dimensions are already there, I dont have to worry about them","body":"The dimensions are already there, I dont have to worry about them"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1679298248,"post_id":75776338,"comment_id":133689561,"body_markdown":"In what kind of environment or context is *&quot;around 4 Kb&quot;* a *big* array?","body":"In what kind of environment or context is <i>&quot;around 4 Kb&quot;</i> a <i>big</i> array?"}],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679152520,"creation_date":1679152520,"answer_id":75776744,"question_id":75776338,"body_markdown":"I see 2 possible solutions for this: \r\n\r\n 1. Manually build image file based on it&#39;s specification\r\n 2. Use some library for image file processing and setup image pixel by pixel.\r\n\r\nFirst way is very fast and efficient by performance, but seems too hard for implementation. Second way is slower, but easier.\r\n\r\nThere is a class *java.awt.image.BufferedImage* that allows us to work with images. With it&#39;s help we can easily build image if we know pixels, width and height of an image. Here is sample code for you:\r\n```java\r\npublic static void createImage(int[] colors, int width, int height) throws IOException {\r\n    BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n\r\n    // Iterate over array and set image pixel-by-pixel\r\n    for (int i = 0; i &lt; colors.length; i += 4) {\r\n        int row = (i / 4) / width;\r\n        int column = (i / 4) % width;\r\n\r\n        int red = colors[i];\r\n        int green = colors[i + 1];\r\n        int blue = colors[i + 2];\r\n        int alpha = colors[i + 3];\r\n\r\n        // rgb value is 8 + 8 + 8 + 8 bits, each for r/g/b/a number\r\n        int rgb = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\r\n\r\n        image.setRGB(column, row, rgb);\r\n    }\r\n\r\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;result.png&quot;));\r\n}\r\n```\r\n\r\nI&#39;ve tested this method with 2.4mb png image, image creation took 600ms. Not very fastest way to do it, but definitel easy\r\n```java\r\npublic static void main(String[] args) throws IOException {\r\n    BufferedImage inputImage = ImageIO.read(new File(&quot;/Users/user/Images/apple.png&quot;));\r\n\r\n    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;(); //Initial storage for r g b a\r\n\r\n    for (int h = 0; h &lt; inputImage.getHeight(); h++) {\r\n        for (int w = 0; w &lt; inputImage.getWidth(); w++) {\r\n            int pixel = inputImage.getRGB(w, h);\r\n\r\n            int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\r\n            int red = (pixel &gt;&gt; 16) &amp; 0xff;\r\n            int green = (pixel &gt;&gt; 8) &amp; 0xff;\r\n            int blue = pixel &amp; 0xff;\r\n\r\n            colors.add(red);\r\n            colors.add(green);\r\n            colors.add(blue);\r\n            colors.add(alpha);\r\n        }\r\n    }\r\n\r\n    int[] colorsArray = new int[colors.size()]; // Transforming ArrayList to int&#39;s array\r\n    for (int i = 0; i &lt; colors.size(); i++) {\r\n        colorsArray[i] = colors.get(i);\r\n    }\r\n\r\n    createImage(colorsArray, inputImage.getWidth(), inputImage.getHeight());\r\n}\r\n```","title":"Java create image from RGBA byte array","body":"<p>I see 2 possible solutions for this:</p>\n<ol>\n<li>Manually build image file based on it's specification</li>\n<li>Use some library for image file processing and setup image pixel by pixel.</li>\n</ol>\n<p>First way is very fast and efficient by performance, but seems too hard for implementation. Second way is slower, but easier.</p>\n<p>There is a class <em>java.awt.image.BufferedImage</em> that allows us to work with images. With it's help we can easily build image if we know pixels, width and height of an image. Here is sample code for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void createImage(int[] colors, int width, int height) throws IOException {\n    BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n\n    // Iterate over array and set image pixel-by-pixel\n    for (int i = 0; i &lt; colors.length; i += 4) {\n        int row = (i / 4) / width;\n        int column = (i / 4) % width;\n\n        int red = colors[i];\n        int green = colors[i + 1];\n        int blue = colors[i + 2];\n        int alpha = colors[i + 3];\n\n        // rgb value is 8 + 8 + 8 + 8 bits, each for r/g/b/a number\n        int rgb = (alpha &lt;&lt; 24) | (red &lt;&lt; 16) | (green &lt;&lt; 8) | blue;\n\n        image.setRGB(column, row, rgb);\n    }\n\n    ImageIO.write(image, &quot;png&quot;, new File(&quot;result.png&quot;));\n}\n</code></pre>\n<p>I've tested this method with 2.4mb png image, image creation took 600ms. Not very fastest way to do it, but definitel easy</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    BufferedImage inputImage = ImageIO.read(new File(&quot;/Users/user/Images/apple.png&quot;));\n\n    ArrayList&lt;Integer&gt; colors = new ArrayList&lt;&gt;(); //Initial storage for r g b a\n\n    for (int h = 0; h &lt; inputImage.getHeight(); h++) {\n        for (int w = 0; w &lt; inputImage.getWidth(); w++) {\n            int pixel = inputImage.getRGB(w, h);\n\n            int alpha = (pixel &gt;&gt; 24) &amp; 0xff;\n            int red = (pixel &gt;&gt; 16) &amp; 0xff;\n            int green = (pixel &gt;&gt; 8) &amp; 0xff;\n            int blue = pixel &amp; 0xff;\n\n            colors.add(red);\n            colors.add(green);\n            colors.add(blue);\n            colors.add(alpha);\n        }\n    }\n\n    int[] colorsArray = new int[colors.size()]; // Transforming ArrayList to int's array\n    for (int i = 0; i &lt; colors.size(); i++) {\n        colorsArray[i] = colors.get(i);\n    }\n\n    createImage(colorsArray, inputImage.getWidth(), inputImage.getHeight());\n}\n</code></pre>\n"}],"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75776744,"answer_count":1,"score":-1,"last_activity_date":1679152520,"creation_date":1679147837,"question_id":75776338,"body_markdown":"I am trying to create an image file (format doesn&#39;t matter) from a RGBA byte array. The array looks like this: [r, g, b, a, r, g, b, a, r, g, b, a...]\r\nThere are a few things i already tried, for example stb_image. The problem with that is, that i have to allocate a Buffer via MemoryStack, but my array is just too big (around 4 Kb) so it throws a OutOfMemoryException. I also cannot just write it with a ByteArrayOutputStream, since i dont have any headers, just rgba values. Width and height is known tho.","title":"Java create image from RGBA byte array","body":"<p>I am trying to create an image file (format doesn't matter) from a RGBA byte array. The array looks like this: [r, g, b, a, r, g, b, a, r, g, b, a...]\nThere are a few things i already tried, for example stb_image. The problem with that is, that i have to allocate a Buffer via MemoryStack, but my array is just too big (around 4 Kb) so it throws a OutOfMemoryException. I also cannot just write it with a ByteArrayOutputStream, since i dont have any headers, just rgba values. Width and height is known tho.</p>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679151892,"creation_date":1679151892,"answer_id":75776679,"question_id":75776443,"body_markdown":"if you remove the `@JsonFormat(shape = JsonFormat.Shape.OBJECT)`, you&#39;ll have the desired format:\r\n\r\n    @Test\r\n    void test() throws JsonProcessingException {\r\n    \tWebSocketMsg resp = new WebSocketMsg(MsgType.HEARTBEAT, &quot;test-msg&quot;);\r\n    \r\n    \tObjectMapper objectMapper = new ObjectMapper();\r\n    \tString resultJson = objectMapper.writeValueAsString(resp);\r\n    \r\n    \tassertThat(resultJson).isEqualToIgnoringWhitespace(&quot;&quot;&quot;\r\n    \t\t{\r\n    \t\t\t&quot;msgType&quot;:&quot;HEARTBEAT&quot;,\r\n    \t\t\t&quot;msg&quot;:&quot;test-msg&quot;\r\n    \t\t}\r\n    \t\t&quot;&quot;&quot;);\r\n    }\r\n\r\nHowever, if you keep this annotation, the enum will be displayed like an object. Therefore, the resulting json will be:\r\n\r\n    {\r\n        &quot;msgType&quot;: {\r\n            &quot;nr&quot;:1,\r\n            &quot;value&quot;:&quot;heartbeat&quot;\r\n        },\r\n        &quot;msg&quot;:&quot;test-msg&quot;\r\n    }\r\n\r\n","title":"how to make jackson serialize enum with name","body":"<p>if you remove the <code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)</code>, you'll have the desired format:</p>\n<pre><code>@Test\nvoid test() throws JsonProcessingException {\n    WebSocketMsg resp = new WebSocketMsg(MsgType.HEARTBEAT, &quot;test-msg&quot;);\n\n    ObjectMapper objectMapper = new ObjectMapper();\n    String resultJson = objectMapper.writeValueAsString(resp);\n\n    assertThat(resultJson).isEqualToIgnoringWhitespace(&quot;&quot;&quot;\n        {\n            &quot;msgType&quot;:&quot;HEARTBEAT&quot;,\n            &quot;msg&quot;:&quot;test-msg&quot;\n        }\n        &quot;&quot;&quot;);\n}\n</code></pre>\n<p>However, if you keep this annotation, the enum will be displayed like an object. Therefore, the resulting json will be:</p>\n<pre><code>{\n    &quot;msgType&quot;: {\n        &quot;nr&quot;:1,\n        &quot;value&quot;:&quot;heartbeat&quot;\n    },\n    &quot;msg&quot;:&quot;test-msg&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776679,"answer_count":1,"score":0,"last_activity_date":1679151892,"creation_date":1679149090,"question_id":75776443,"body_markdown":"I want to serialize object using jackson `api &#39;com.fasterxml.jackson.core:jackson-databind:2.14.2&#39;`, this is the code:\r\n\r\n\r\n\r\n    WebSocketMsg resp = new WebSocketMsg(MsgType.USER_CHAT,responseMsg );\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    String resultJson= objectMapper.writeValueAsString(resp);\r\n\r\n\r\n\r\nnow the serialize `WebSocketMsg` enum using value, is it possible to make it using the enum name? This is the enum define:\r\n\r\n\r\n\r\n    @Schema(implementation = MsgType.class)\r\n    @JsonFormat(shape = JsonFormat.Shape.OBJECT)\r\n    public enum MsgType {\r\n        HEARTBEAT(1, &quot;heartbeat&quot;)\r\n    }\r\n\r\nI have tried to add `@JsonFormat(shape = JsonFormat.Shape.OBJECT)` but still could not work. This is the `WebSocketMsg` define:\r\n\r\n\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class WebSocketMsg {\r\n        private MsgType msgType;\r\n        private String msg;\r\n    }\r\n\r\n\r\n\r\n\r\nthe json I want may look like:\r\n\r\n\r\n    {\r\n    msgType: &quot;HEARTBEAT&quot;,\r\n    msg: &quot;balabala.....&quot;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"how to make jackson serialize enum with name","body":"<p>I want to serialize object using jackson <code>api 'com.fasterxml.jackson.core:jackson-databind:2.14.2'</code>, this is the code:</p>\n<pre><code>WebSocketMsg resp = new WebSocketMsg(MsgType.USER_CHAT,responseMsg );\nObjectMapper objectMapper = new ObjectMapper();\nString resultJson= objectMapper.writeValueAsString(resp);\n</code></pre>\n<p>now the serialize <code>WebSocketMsg</code> enum using value, is it possible to make it using the enum name? This is the enum define:</p>\n<pre><code>@Schema(implementation = MsgType.class)\n@JsonFormat(shape = JsonFormat.Shape.OBJECT)\npublic enum MsgType {\n    HEARTBEAT(1, &quot;heartbeat&quot;)\n}\n</code></pre>\n<p>I have tried to add <code>@JsonFormat(shape = JsonFormat.Shape.OBJECT)</code> but still could not work. This is the <code>WebSocketMsg</code> define:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class WebSocketMsg {\n    private MsgType msgType;\n    private String msg;\n}\n</code></pre>\n<p>the json I want may look like:</p>\n<pre><code>{\nmsgType: &quot;HEARTBEAT&quot;,\nmsg: &quot;balabala.....&quot;\n}\n</code></pre>\n"},{"tags":["java","fft"],"owner":{"account_id":2790397,"reputation":3354,"user_id":2400740,"accept_rate":52,"display_name":"rachana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4260,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1679151855,"creation_date":1382003116,"question_id":19423264,"body_markdown":"I am working on application to enhance an image using `FFT`.\r\n\r\nI have implemented the code for `FFT`:\r\n\r\n     \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/xdx8r.png\r\n\r\nFor the first formula in above picture i have implemented code as below :\r\n\r\n      void fft(int x , int y , int size) {\r\n\t\t\r\n  \t\tfor(int i=x; i&lt;x+32 ; i++){\r\n\t\t\tfor(int j=y ; j&lt;y+32 ; j++){\r\n\t\t\t\tdouble kth = -2 * Math.PI * (((i*x)/size)+((j*y)/size));\r\n\t\t\t\tComplexNumber expo = new ComplexNumber(Math.cos(kth),Math.sin(kth));\r\n\t\t\t\toutput.values[i][j] = ComplexNumber.cMult(input.values[x][y],expo) ;\r\n\t\t\t\tintermediate.values[i][j] = output.values[i][j];\r\n\t\t\t\tinput.values[i][j] = output.values[i][j];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n   \t}\r\n\r\nI have also implemented code for second and third formula but the result I am getting is not correct.\r\nWhat should I do ? \r\n\r\nIs the code implemented for the first equation correct? \r\n\r\n\r\n**Edited**\r\n\r\nBasically I want to do image enhancement with FFT.I found the formula which I have already posted above.I have also implemented the code for those formulas.But I am not yet clear with all the variables used in that formula.Can any one please explain in detail all the variables used in that formula like M &amp; N,as they have given the for u &amp; v.","title":"FFT implementation","body":"<p>I am working on application to enhance an image using <code>FFT</code>.</p>\n<p>I have implemented the code for <code>FFT</code>:</p>\n<p><img src=\"https://i.stack.imgur.com/xdx8r.png\" alt=\"enter image description here\" /></p>\n<p>For the first formula in above picture i have implemented code as below :</p>\n<pre><code>  void fft(int x , int y , int size) {\n    \n    for(int i=x; i&lt;x+32 ; i++){\n        for(int j=y ; j&lt;y+32 ; j++){\n            double kth = -2 * Math.PI * (((i*x)/size)+((j*y)/size));\n            ComplexNumber expo = new ComplexNumber(Math.cos(kth),Math.sin(kth));\n            output.values[i][j] = ComplexNumber.cMult(input.values[x][y],expo) ;\n            intermediate.values[i][j] = output.values[i][j];\n            input.values[i][j] = output.values[i][j];\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>I have also implemented code for second and third formula but the result I am getting is not correct.\nWhat should I do ?</p>\n<p>Is the code implemented for the first equation correct?</p>\n<p><strong>Edited</strong></p>\n<p>Basically I want to do image enhancement with FFT.I found the formula which I have already posted above.I have also implemented the code for those formulas.But I am not yet clear with all the variables used in that formula.Can any one please explain in detail all the variables used in that formula like M &amp; N,as they have given the for u &amp; v.</p>\n"},{"tags":["java","opencv","image-processing","computer-vision"],"answers":[{"tags":[],"owner":{"account_id":3026070,"reputation":689,"user_id":2566052,"display_name":"Diego Catalano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679151533,"creation_date":1460696059,"answer_id":36638526,"question_id":36382045,"body_markdown":"Yes, It&#39;s possible to extract the facial features, there is several texture algorithms **(i.e LBP, LBPu2, ILBP, CS-LBP, etc...)**, contains 14 LBP variants to work, and some pre-processing [photometric illuminant filters][1] like **Retinex, Difference of Gaussians (DoG), Tan-Triggs Normalization, Gradient Faces, Retina Model**. Also there is histogram approach like Spatial Histogram and Spatial Pyramid Histogram.\r\n\r\nThis image shows my approach using the framework. The approach is similar like the [D. MATURANA][2].\r\n\r\nFirst face, is the original image from the [ORL database][3].\r\nSecond face, I had used the Self Quocient Image (I&#39;m currently implementing this). Third face, is the Spatial Histogram (6x6) representation.\r\n\r\nSo I compute [ILBP][4] for each block. I can extract 6*6*511 = 18396 features.\r\n\r\n[![My approach][5]][5]\r\n\r\n\r\nWith SVM using Chi Square kernel and leave-one-out, I can achieve 99.25% accuracy.\r\n\r\n*Disclaimer: I&#39;m the author of the Catalano Framework*\r\n\r\n\r\n  [1]: http://luks.fe.uni-lj.si/sl/osebje/vitomir/face_tools/INFace/techs.html\r\n  [2]: https://ieeexplore.ieee.org/document/5532353\r\n  [3]: https://web.archive.org/web/20190408145600/https://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html\r\n  [4]: https://ieeexplore.ieee.org/document/1410446\r\n  [5]: https://i.stack.imgur.com/zvG0f.png","title":"How to use Catalano framework for facial feature extraction?","body":"<p>Yes, It's possible to extract the facial features, there is several texture algorithms <strong>(i.e LBP, LBPu2, ILBP, CS-LBP, etc...)</strong>, contains 14 LBP variants to work, and some pre-processing <a href=\"http://luks.fe.uni-lj.si/sl/osebje/vitomir/face_tools/INFace/techs.html\" rel=\"nofollow noreferrer\">photometric illuminant filters</a> like <strong>Retinex, Difference of Gaussians (DoG), Tan-Triggs Normalization, Gradient Faces, Retina Model</strong>. Also there is histogram approach like Spatial Histogram and Spatial Pyramid Histogram.</p>\n<p>This image shows my approach using the framework. The approach is similar like the <a href=\"https://ieeexplore.ieee.org/document/5532353\" rel=\"nofollow noreferrer\">D. MATURANA</a>.</p>\n<p>First face, is the original image from the <a href=\"https://web.archive.org/web/20190408145600/https://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html\" rel=\"nofollow noreferrer\">ORL database</a>.\nSecond face, I had used the Self Quocient Image (I'm currently implementing this). Third face, is the Spatial Histogram (6x6) representation.</p>\n<p>So I compute <a href=\"https://ieeexplore.ieee.org/document/1410446\" rel=\"nofollow noreferrer\">ILBP</a> for each block. I can extract 6<em>6</em>511 = 18396 features.</p>\n<p><a href=\"https://i.stack.imgur.com/zvG0f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zvG0f.png\" alt=\"My approach\" /></a></p>\n<p>With SVM using Chi Square kernel and leave-one-out, I can achieve 99.25% accuracy.</p>\n<p><em>Disclaimer: I'm the author of the Catalano Framework</em></p>\n"}],"owner":{"account_id":8170375,"reputation":21,"user_id":6151040,"display_name":"robertoguazon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":791,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679151533,"creation_date":1459662383,"question_id":36382045,"body_markdown":"The goal of the program was to create a real-time emotional recognition system. We will be using opencv for face detection. Is it possible to use [Catalano Framework][1] for extracting the facial features from the picture we get from face detection? If possible then how? Also, How do you use fuzzy logic as an emotional classifier after getting the extracted facial features? Thanks in advance.\r\n\r\n\r\n  [1]: http://catalano-framework.com/","title":"How to use Catalano framework for facial feature extraction?","body":"<p>The goal of the program was to create a real-time emotional recognition system. We will be using opencv for face detection. Is it possible to use <a href=\"http://catalano-framework.com/\" rel=\"nofollow\">Catalano Framework</a> for extracting the facial features from the picture we get from face detection? If possible then how? Also, How do you use fuzzy logic as an emotional classifier after getting the extracted facial features? Thanks in advance.</p>\n"},{"tags":["java","jackson","lombok"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1679073945,"post_id":75769862,"comment_id":133661670,"body_markdown":"Need more time to find the root cause, but removing @Jacksonized in `Experiment` should work","body":"Need more time to find the root cause, but removing @Jacksonized in <code>Experiment</code> should work"},{"owner":{"account_id":24755582,"reputation":25,"user_id":18640548,"display_name":"GenericUserName"},"score":0,"creation_date":1679086222,"post_id":75769862,"comment_id":133664429,"body_markdown":"Following suggestion from @samabcde I&#39;ve removed @Jacksonized annotation. Error changed to more common &quot;Cannot construct instance of `Experiment`&quot;. Then adding constructors / Lombok annotations was needed. Adding @AllArgsConstructor and @RequiredArgsConstructor solves that problem.","body":"Following suggestion from @samabcde I&#39;ve removed @Jacksonized annotation. Error changed to more common &quot;Cannot construct instance of <code>Experiment</code>&quot;. Then adding constructors / Lombok annotations was needed. Adding @AllArgsConstructor and @RequiredArgsConstructor solves that problem."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679151506,"creation_date":1679107706,"answer_id":75773579,"question_id":75769862,"body_markdown":"### Cause\r\n\r\nDeserialization using Builder does not work with `readerForUpdating`, as suggested [by Jan Rieke](https://stackoverflow.com/users/10026074/jan-rieke),\r\n&gt; updating an existing instance can never be achieved using a builder: builders always create new instances\r\n\r\n### Details\r\n\r\nWhen using `@Jacksonized`, \r\n&gt;Configure Jackson to use the builder for deserialization using @JsonDeserialize(builder=Foobar.FoobarBuilder[Impl].class) on the class (where Foobar is the name of the annotated class).\r\n\r\nwe tell Jackson to deserialize using the builder.\r\n\r\nWith the error message and referring to [jackson 2.15 BuilderBasedDeserializer][1], \r\n```java\r\n    @Override\r\n    public Object deserialize(JsonParser p, DeserializationContext ctxt,\r\n    \t\tObject value) throws IOException\r\n    {\r\n        // 26-Oct-2016, tatu: I cannot see any of making this actually\r\n        //    work correctly, so let&#39;s indicate problem right away\r\n        JavaType valueType = _targetType;\r\n        // Did they try to give us builder?\r\n        Class&lt;?&gt; builderRawType = handledType();\r\n        Class&lt;?&gt; instRawType = value.getClass();\r\n        if (builderRawType.isAssignableFrom(instRawType)) {\r\n            return ctxt.reportBadDefinition(valueType, String.format(\r\n                    &quot;Deserialization of %s by passing existing Builder (%s) instance not supported&quot;,\r\n                    valueType, builderRawType.getName()));\r\n        }\r\n        return ctxt.reportBadDefinition(valueType, String.format(\r\n                &quot;Deserialization of %s by passing existing instance (of %s) not supported&quot;,\r\n                valueType, instRawType.getName()));\r\n    }\r\n```\r\nWe can see this feature is not ready for use from the comment.\r\n\r\n### Workaround\r\n1. Do not use @Jacksonized\r\n2. Use other library like [Spring BeanUtils][2] to update the values.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/blob/2.15/src/main/java/com/fasterxml/jackson/databind/deser/BuilderBasedDeserializer.java#L252\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html","title":"Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported","body":"<h3>Cause</h3>\n<p>Deserialization using Builder does not work with <code>readerForUpdating</code>, as suggested <a href=\"https://stackoverflow.com/users/10026074/jan-rieke\">by Jan Rieke</a>,</p>\n<blockquote>\n<p>updating an existing instance can never be achieved using a builder: builders always create new instances</p>\n</blockquote>\n<h3>Details</h3>\n<p>When using <code>@Jacksonized</code>,</p>\n<blockquote>\n<p>Configure Jackson to use the builder for deserialization using @JsonDeserialize(builder=Foobar.FoobarBuilder[Impl].class) on the class (where Foobar is the name of the annotated class).</p>\n</blockquote>\n<p>we tell Jackson to deserialize using the builder.</p>\n<p>With the error message and referring to <a href=\"https://github.com/FasterXML/jackson-databind/blob/2.15/src/main/java/com/fasterxml/jackson/databind/deser/BuilderBasedDeserializer.java#L252\" rel=\"nofollow noreferrer\">jackson 2.15 BuilderBasedDeserializer</a>,</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Object deserialize(JsonParser p, DeserializationContext ctxt,\n            Object value) throws IOException\n    {\n        // 26-Oct-2016, tatu: I cannot see any of making this actually\n        //    work correctly, so let's indicate problem right away\n        JavaType valueType = _targetType;\n        // Did they try to give us builder?\n        Class&lt;?&gt; builderRawType = handledType();\n        Class&lt;?&gt; instRawType = value.getClass();\n        if (builderRawType.isAssignableFrom(instRawType)) {\n            return ctxt.reportBadDefinition(valueType, String.format(\n                    &quot;Deserialization of %s by passing existing Builder (%s) instance not supported&quot;,\n                    valueType, builderRawType.getName()));\n        }\n        return ctxt.reportBadDefinition(valueType, String.format(\n                &quot;Deserialization of %s by passing existing instance (of %s) not supported&quot;,\n                valueType, instRawType.getName()));\n    }\n</code></pre>\n<p>We can see this feature is not ready for use from the comment.</p>\n<h3>Workaround</h3>\n<ol>\n<li>Do not use @Jacksonized</li>\n<li>Use other library like <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/BeanUtils.html\" rel=\"nofollow noreferrer\">Spring BeanUtils</a> to update the values.</li>\n</ol>\n"}],"owner":{"account_id":24755582,"reputation":25,"user_id":18640548,"display_name":"GenericUserName"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75773579,"answer_count":1,"score":1,"last_activity_date":1679151506,"creation_date":1679069545,"question_id":75769862,"body_markdown":"In my program I would like to create an object (using JSON input) and, at some point, update it (again: using another JSON input with the same schema, different values).\r\n\r\nClasses:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class Experiment {\r\n    Integer id;\r\n    String type;\r\n    Monster monster;\r\n}\r\n\r\n@Data\r\n@Builder\r\n@Jacksonized\r\npublic class Monster {\r\n    String name;\r\n    String type;\r\n}\r\n```\r\n\r\nJsonInputs:\r\n\r\n```\r\nmonster_json1:\r\n{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;type&quot;: &quot;whateverzaur&quot;,\r\n\t&quot;monster&quot;: {\r\n\t\t&quot;name&quot;: &quot;Andrzej&quot;,\r\n\t\t&quot;type&quot;: &quot;cokolwiek&quot;\r\n\t}\r\n}\r\n\r\n--\r\nmonster_json2:\r\n{\r\n\t&quot;id&quot;: 1,\r\n\t&quot;type&quot;: &quot;whateverzaur&quot;,\r\n\t&quot;monster&quot;: {\r\n\t\t&quot;name&quot;: &quot;Andrzej&quot;,\r\n\t\t&quot;type&quot;: &quot;diff&quot;\r\n\t}\r\n}\r\n```\r\n\r\nI create object using objectMapper:\r\n`Experiment experiment = objectMapper.readValue(monster_json1,Experiment.class);`\r\n\r\nI&#39;ve tried updating it like this:\r\n`experiment = objectMapper.readerForUpdating(experiment).readValue(monster_json2);`\r\n\r\nI get error:\r\n&gt; Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported\r\n\r\nI know that I (in this case) make changes by calling setter for property type:\r\n`experiment.getMonster().setType(&quot;xxxx&quot;);`\r\n\r\nWhen my classes get more params, gain more complexity and I will need to update more then one param at the time, I will need different way to do it. Because new data go to me via JSON response using readerForUpdate seems reasonable.","title":"Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported","body":"<p>In my program I would like to create an object (using JSON input) and, at some point, update it (again: using another JSON input with the same schema, different values).</p>\n<p>Classes:</p>\n<pre><code>@Data\n@Builder\n@Jacksonized\npublic class Experiment {\n    Integer id;\n    String type;\n    Monster monster;\n}\n\n@Data\n@Builder\n@Jacksonized\npublic class Monster {\n    String name;\n    String type;\n}\n</code></pre>\n<p>JsonInputs:</p>\n<pre><code>monster_json1:\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;whateverzaur&quot;,\n    &quot;monster&quot;: {\n        &quot;name&quot;: &quot;Andrzej&quot;,\n        &quot;type&quot;: &quot;cokolwiek&quot;\n    }\n}\n\n--\nmonster_json2:\n{\n    &quot;id&quot;: 1,\n    &quot;type&quot;: &quot;whateverzaur&quot;,\n    &quot;monster&quot;: {\n        &quot;name&quot;: &quot;Andrzej&quot;,\n        &quot;type&quot;: &quot;diff&quot;\n    }\n}\n</code></pre>\n<p>I create object using objectMapper:\n<code>Experiment experiment = objectMapper.readValue(monster_json1,Experiment.class);</code></p>\n<p>I've tried updating it like this:\n<code>experiment = objectMapper.readerForUpdating(experiment).readValue(monster_json2);</code></p>\n<p>I get error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Deserialization of [simple type, class pl.play.Experiment] by passing existing instance (of pl.play.Experiment) not supported</p>\n</blockquote>\n<p>I know that I (in this case) make changes by calling setter for property type:\n<code>experiment.getMonster().setType(&quot;xxxx&quot;);</code></p>\n<p>When my classes get more params, gain more complexity and I will need to update more then one param at the time, I will need different way to do it. Because new data go to me via JSON response using readerForUpdate seems reasonable.</p>\n"},{"tags":["java","parquet"],"answers":[{"tags":[],"owner":{"account_id":16890753,"reputation":1,"user_id":12214517,"display_name":"Nuruddeen Hashim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679150569,"creation_date":1679150569,"answer_id":75776563,"question_id":75776539,"body_markdown":"The filter criteria may not be specified correctly: Make sure that the filter criteria you&#39;re using is valid and matches the data types and values in the file.\r\n\r\nThe filter criteria may not be compatible with the data type of the column being filtered: Ensure that the data type of the column you&#39;re filtering on matches the data type expected by the filter.\r\n\r\nThere may be a bug in the implementation of the filter or in the ParquetFileReader class itself: Check the documentation and known issues for the Parquet library you&#39;re using, and try updating to the latest version of the library.\r\n\r\nTo further diagnose the issue, you can try debugging the code and examining the values of the filter criteria and the data being filtered on. You may also want to consider reaching out to the Parquet library community or support team for assistance.","title":"Doubts about ParquetFileReader.getFilteredRecordCount() method","body":"<p>The filter criteria may not be specified correctly: Make sure that the filter criteria you're using is valid and matches the data types and values in the file.</p>\n<p>The filter criteria may not be compatible with the data type of the column being filtered: Ensure that the data type of the column you're filtering on matches the data type expected by the filter.</p>\n<p>There may be a bug in the implementation of the filter or in the ParquetFileReader class itself: Check the documentation and known issues for the Parquet library you're using, and try updating to the latest version of the library.</p>\n<p>To further diagnose the issue, you can try debugging the code and examining the values of the filter criteria and the data being filtered on. You may also want to consider reaching out to the Parquet library community or support team for assistance.</p>\n"}],"owner":{"account_id":282799,"reputation":1,"user_id":579929,"display_name":"tonivade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679150569,"creation_date":1679150288,"question_id":75776539,"body_markdown":"I&#39;m trying to understand how this method works. In my understanding this method should return the number of records that match the filter criteria specified in the creation of the reader, but it doesn&#39;t work. It always returns the same value, that is exactly the number of records the file has.\r\n\r\n\r\n\r\nI tried with this code:\r\n\r\n\r\n```java\r\ntry (var reader = new ParquetFileReader(new FileSystemInputFile(file),\r\n    ParquetReadOptions.builder().withRecordFilter(filter).build())) {\r\n   var count = reader.getFilteredRecordCount();\r\n   System.out.println(count);\r\n}\r\n```\r\n\r\nBut no matter what I put in the filter, it always return the total record count.\r\n","title":"Doubts about ParquetFileReader.getFilteredRecordCount() method","body":"<p>I'm trying to understand how this method works. In my understanding this method should return the number of records that match the filter criteria specified in the creation of the reader, but it doesn't work. It always returns the same value, that is exactly the number of records the file has.</p>\n<p>I tried with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var reader = new ParquetFileReader(new FileSystemInputFile(file),\n    ParquetReadOptions.builder().withRecordFilter(filter).build())) {\n   var count = reader.getFilteredRecordCount();\n   System.out.println(count);\n}\n</code></pre>\n<p>But no matter what I put in the filter, it always return the total record count.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2522027,"reputation":1584,"user_id":2192203,"display_name":"Naili"},"score":0,"creation_date":1396797924,"post_id":22895936,"comment_id":34940653,"body_markdown":"I tested your code, it works correctly.","body":"I tested your code, it works correctly."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1396797981,"post_id":22895936,"comment_id":34940673,"body_markdown":"`NoClassDefFoundError` what? Post the full stack trace","body":"<code>NoClassDefFoundError</code> what? Post the full stack trace"},{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":1,"creation_date":1396797998,"post_id":22895936,"comment_id":34940679,"body_markdown":"code is working fine.","body":"code is working fine."},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1396798333,"post_id":22895936,"comment_id":34940805,"body_markdown":"Which IDE: Eclipse? IntelliJ IDEA?","body":"Which IDE: Eclipse? IntelliJ IDEA?"}],"answers":[{"tags":[],"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1396798566,"creation_date":1396798217,"answer_id":22896034,"question_id":22895936,"body_markdown":"you need to set `CLASS_PATH` variable and point it to where ever your class file is\r\n\r\nthen this should work\r\n\r\nI have tried it locally, refer [my answer][1] to check how to set class path and how to compile and run java code using command prompt\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/22885766/2381006","title":"To check if a number is Armstrong number using java","body":"<p>you need to set <code>CLASS_PATH</code> variable and point it to where ever your class file is</p>\n\n<p>then this should work</p>\n\n<p>I have tried it locally, refer <a href=\"https://stackoverflow.com/a/22885766/2381006\">my answer</a> to check how to set class path and how to compile and run java code using command prompt</p>\n"},{"tags":[],"owner":{"account_id":4377285,"reputation":1,"user_id":3569965,"display_name":"Nusrat Ahmed Asha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600090,"creation_date":1398360055,"answer_id":23275652,"question_id":22895936,"body_markdown":"\timport java.util.Scanner;\r\n       \r\n\t/* a number is armstrong if the sum of cubes if individual digits of \r\n\ta number is equal to the number itself.for example, 371 is \r\n\tan armstrong number. 3^3+7^3+1^3=371.\r\n\tsome others are 153,370,407 etc.*/\r\n    \r\n\tpublic class ArmstrongNumber {\r\n     \r\n\t\tpublic static void main(String args[]) {\r\n    \t\r\n    \t\tint input, store, output=0, modolus;\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter a number for ckecking.&quot;);\r\n    \t\tinput = in.nextInt();\r\n    \t\tstore = input;\r\n    \t\twhile(input != 0) {\r\n    \t\t\tmodolus = input % 10;\r\n    \t\t\toutput = output + (modolus * modolus * modolus);\r\n    \t\t\tinput = input / 10;\r\n    \t\t}\r\n    \t\tSystem.out.println(output);\r\n    \t\t\r\n\t\t\tif(store == output) {\r\n    \t\t\tSystem.out.println(&quot;This is an armstrong number.&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;This is not an armstrong number.&quot;);\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t}\r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\n/* a number is armstrong if the sum of cubes if individual digits of \na number is equal to the number itself.for example, 371 is \nan armstrong number. 3^3+7^3+1^3=371.\nsome others are 153,370,407 etc.*/\n\npublic class ArmstrongNumber {\n\n    public static void main(String args[]) {\n\n        int input, store, output=0, modolus;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Please enter a number for ckecking.\");\n        input = in.nextInt();\n        store = input;\n        while(input != 0) {\n            modolus = input % 10;\n            output = output + (modolus * modolus * modolus);\n            input = input / 10;\n        }\n        System.out.println(output);\n\n        if(store == output) {\n            System.out.println(\"This is an armstrong number.\");\n        } else {\n            System.out.println(\"This is not an armstrong number.\");\n        }\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4284461,"reputation":21,"user_id":3502744,"display_name":"sort_01out"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401806446,"creation_date":1401806446,"answer_id":24018090,"question_id":22895936,"body_markdown":"// To check the given no is Armstrong number  (Java Code)\r\n\r\n    class CheckArmStrong{\r\n\tpublic static void main(String str[]){\r\n\t\tint n=153,a, b=0, c=n;\r\n\t\twhile(n&gt;0){\r\n\t\t\t      a=n%10;  n=n/10;  b=b+(a*a*a);\r\n\t\t\t      System.out.println(a+&quot;  &quot;+n+&quot;  &quot;+b);  // to see the logic\r\n\t\t\t    }\r\n\t\tif(c==b)  System.out.println(&quot;Armstrong number&quot;);\r\n\t\telse      System.out.println(&quot; Not Armstrong number&quot;);\r\n\t\t}\r\n\t}","title":"To check if a number is Armstrong number using java","body":"<p>// To check the given no is Armstrong number  (Java Code)</p>\n\n<pre><code>class CheckArmStrong{\npublic static void main(String str[]){\n    int n=153,a, b=0, c=n;\n    while(n&gt;0){\n              a=n%10;  n=n/10;  b=b+(a*a*a);\n              System.out.println(a+\"  \"+n+\"  \"+b);  // to see the logic\n            }\n    if(c==b)  System.out.println(\"Armstrong number\");\n    else      System.out.println(\" Not Armstrong number\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5581005,"reputation":302,"user_id":4422882,"accept_rate":67,"display_name":"srikanth r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600855,"creation_date":1433334476,"answer_id":30620094,"question_id":22895936,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class AmstrongNumber {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSystem.out.println(&quot;Enter the number&quot;);\r\n    \t\tScanner scan=new Scanner(System.in);\r\n    \t\tint x=scan.nextInt();\r\n    \t\tint temp2=0;\r\n    \t\t\r\n    \t\tString s1 = Integer.toString(x);\r\n    \t\tint[] a = new int[s1.length()];\r\n    \t\tint[] a1 = new int[s1.length()];\r\n    \t\tfor (int i = 0; i &lt; s1.length(); i++){\r\n    \t\t    a[i] = s1.charAt(i)- &#39;0&#39;;\r\n    \t\t    int temp1=a[i];\r\n    \t\t    a1[i]=temp1*temp1*temp1;\r\n    \r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; s1.length(); i++){\r\n    \t\t\ttemp2=temp2+a1[i];\r\n    \t\t\tif(i==s1.length()-1){\r\n    \t\t\t\tif(x==temp2){\r\n    \t\t\t\t\tSystem.out.println(&quot;Amstrong num&quot;);\r\n    \t\t\t\t}else{\r\n    \t\t\t\t\tSystem.out.println(&quot;Not !&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\npublic class AmstrongNumber {\n\n    public static void main(String[] args) {\n\n        System.out.println(\"Enter the number\");\n        Scanner scan=new Scanner(System.in);\n        int x=scan.nextInt();\n        int temp2=0;\n\n        String s1 = Integer.toString(x);\n        int[] a = new int[s1.length()];\n        int[] a1 = new int[s1.length()];\n        for (int i = 0; i &lt; s1.length(); i++){\n            a[i] = s1.charAt(i)- '0';\n            int temp1=a[i];\n            a1[i]=temp1*temp1*temp1;\n\n        }\n        for (int i = 0; i &lt; s1.length(); i++){\n            temp2=temp2+a1[i];\n            if(i==s1.length()-1){\n                if(x==temp2){\n                    System.out.println(\"Amstrong num\");\n                }else{\n                    System.out.println(\"Not !\");\n                }\n            }\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7059021,"reputation":175,"user_id":5405143,"display_name":"Md_Zubair Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443901448,"creation_date":1443899135,"answer_id":32926376,"question_id":22895936,"body_markdown":"**//This is my program to check whether the number is armstrong or not!!**\r\n\r\n\r\n    package myprogram2;\r\n    public class Myprogram2 {\r\n    \r\n        public static void main(String[] args) \r\n        {\r\n            String No=&quot;407&quot;;\r\n            int length_no=No.length();\r\n            char[] S=new char[length_no];\r\n            int[] b = new int[length_no];\r\n            int arm=0;\r\n            for(int i=0;i&lt;length_no;i++)\r\n            {\r\n               S[i]=No.charAt(i);\r\n               b[i]=Character.getNumericValue(S[i]);\r\n               //System.out.print(b[i]);\r\n               arm=arm + (b[i]*b[i]*b[i]);\r\n               System.out.println(arm);\r\n            }\r\n            //System.out.println(&quot; is the number \\n now Checking for its Armstrong condition&quot;);\r\n            int orgno = Integer.parseInt(No);\r\n            if (orgno==arm)\r\n                System.out.println(&quot;YESm its an armstrong&quot;);\r\n            else\r\n                System.out.println(&quot;\\n&lt;&lt;Not an armstrong&gt;&gt;&quot;);\r\n                //System.out.println(length_no);\r\n            System.out.println(&quot;Original number is  &quot;+orgno);\r\n            System.out.println(&quot;Sum of cubes  &quot;+arm);\r\n        }\r\n        \r\n    }\r\n\r\n","title":"To check if a number is Armstrong number using java","body":"<p><strong>//This is my program to check whether the number is armstrong or not!!</strong></p>\n\n<pre><code>package myprogram2;\npublic class Myprogram2 {\n\n    public static void main(String[] args) \n    {\n        String No=\"407\";\n        int length_no=No.length();\n        char[] S=new char[length_no];\n        int[] b = new int[length_no];\n        int arm=0;\n        for(int i=0;i&lt;length_no;i++)\n        {\n           S[i]=No.charAt(i);\n           b[i]=Character.getNumericValue(S[i]);\n           //System.out.print(b[i]);\n           arm=arm + (b[i]*b[i]*b[i]);\n           System.out.println(arm);\n        }\n        //System.out.println(\" is the number \\n now Checking for its Armstrong condition\");\n        int orgno = Integer.parseInt(No);\n        if (orgno==arm)\n            System.out.println(\"YESm its an armstrong\");\n        else\n            System.out.println(\"\\n&lt;&lt;Not an armstrong&gt;&gt;\");\n            //System.out.println(length_no);\n        System.out.println(\"Original number is  \"+orgno);\n        System.out.println(\"Sum of cubes  \"+arm);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3246528,"reputation":4264,"user_id":2737933,"accept_rate":75,"display_name":"DSlomer64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443988812,"creation_date":1443988334,"answer_id":32937732,"question_id":22895936,"body_markdown":"There are a couple of nice `String`-based solutions and numeric solutions with single-letter variable names. \r\n\r\nConsider this to make sense of how it works *numerically*, which includes a couple of interesting numeric tricks:\r\n\r\n    import java.io.*;\r\n\r\n    public class Armstrong\r\n    {\r\n      public static void main(String args[]) throws IOException\r\n      {\r\n        InputStreamReader read = new InputStreamReader(System.in);\r\n        BufferedReader    in   = new BufferedReader(read);\r\n        int modifiedNumber, originalNumber, modifiedNumberWithUnitsDigitZero, \r\n            unitsDigit, runningSum; \r\n\r\n        System.out.println(&quot;Enter your number:&quot;);\r\n        modifiedNumber = Integer.parseInt(in.readLine()); \r\n\r\n        runningSum = 0;\r\n        originalNumber = modifiedNumber;\r\n\r\n        while(modifiedNumber &gt; 0)\r\n        {\r\n          modifiedNumberWithUnitsDigitZero = modifiedNumber / 10 * 10;\r\n          unitsDigit     = modifiedNumber - modifiedNumberWithUnitsDigitZero;\r\n          runningSum    += unitsDigit * unitsDigit * unitsDigit;\r\n          modifiedNumber = modifiedNumber / 10;\r\n        }\r\n        \r\n        System.out.println(&quot;The number &quot; + originalNumber \r\n          + (originalNumber == runningSum ? &quot; IS&quot; : &quot; is NOT&quot;) \r\n          + &quot; an Armstrong number because sum of cubes of digits is &quot; + runningSum);\r\n      }\r\n    }\r\n","title":"To check if a number is Armstrong number using java","body":"<p>There are a couple of nice <code>String</code>-based solutions and numeric solutions with single-letter variable names. </p>\n\n<p>Consider this to make sense of how it works <em>numerically</em>, which includes a couple of interesting numeric tricks:</p>\n\n<pre><code>import java.io.*;\n\npublic class Armstrong\n{\n  public static void main(String args[]) throws IOException\n  {\n    InputStreamReader read = new InputStreamReader(System.in);\n    BufferedReader    in   = new BufferedReader(read);\n    int modifiedNumber, originalNumber, modifiedNumberWithUnitsDigitZero, \n        unitsDigit, runningSum; \n\n    System.out.println(\"Enter your number:\");\n    modifiedNumber = Integer.parseInt(in.readLine()); \n\n    runningSum = 0;\n    originalNumber = modifiedNumber;\n\n    while(modifiedNumber &gt; 0)\n    {\n      modifiedNumberWithUnitsDigitZero = modifiedNumber / 10 * 10;\n      unitsDigit     = modifiedNumber - modifiedNumberWithUnitsDigitZero;\n      runningSum    += unitsDigit * unitsDigit * unitsDigit;\n      modifiedNumber = modifiedNumber / 10;\n    }\n\n    System.out.println(\"The number \" + originalNumber \n      + (originalNumber == runningSum ? \" IS\" : \" is NOT\") \n      + \" an Armstrong number because sum of cubes of digits is \" + runningSum);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7748906,"reputation":31,"user_id":5865530,"display_name":"Sekhar Ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520599973,"creation_date":1454379451,"answer_id":35143942,"question_id":22895936,"body_markdown":"This is the simple logic for Armstrong number program :\r\n\r\n    for (int i = number; i &gt; 0; i = i / 10)\r\n    {\r\n        remainder = i % 10;\r\n        sum = sum + remainder * remainder * remainder;\r\n    }\r\n \r\n    if(sum == number)\r\n    {\r\n        System.out.println(&quot;\\n&quot; + number + &quot; is an Armstrong Number\\n&quot;);\r\n    }\r\n\r\n\r\nReference :\r\n\r\nhttp://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/\r\n","title":"To check if a number is Armstrong number using java","body":"<p>This is the simple logic for Armstrong number program :</p>\n\n<pre><code>for (int i = number; i &gt; 0; i = i / 10)\n{\n    remainder = i % 10;\n    sum = sum + remainder * remainder * remainder;\n}\n\nif(sum == number)\n{\n    System.out.println(\"\\n\" + number + \" is an Armstrong Number\\n\");\n}\n</code></pre>\n\n<p>Reference :</p>\n\n<p><a href=\"http://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/\" rel=\"nofollow noreferrer\">http://topjavatutorial.com/java/java-programs/java-program-to-check-if-a-number-is-armstrong-number/</a></p>\n"},{"tags":[],"owner":{"account_id":9588249,"reputation":1,"user_id":7120139,"display_name":"Manish Sharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478374004,"creation_date":1478374004,"answer_id":40442305,"question_id":22895936,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Amst {\r\n        public static void main(String[] args){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter The No. To Find ArmStrong Check&quot;);\r\n            int i = sc.nextInt();\r\n            int sum = 0;\r\n            for(int j = i; j&gt;0 ; j = j/10){\r\n                sum = sum + ((j%10)*(j%10)*(j%10));\r\n            }\r\n            if(sum == i)\r\n                System.out.println(&quot;Armstrong&quot;);\r\n            else\r\n                System.out.println(&quot;Not Armstrong&quot;);\r\n    \r\n        }\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.Scanner;\n\npublic class Amst {\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(\"Enter The No. To Find ArmStrong Check\");\n        int i = sc.nextInt();\n        int sum = 0;\n        for(int j = i; j&gt;0 ; j = j/10){\n            sum = sum + ((j%10)*(j%10)*(j%10));\n        }\n        if(sum == i)\n            System.out.println(\"Armstrong\");\n        else\n            System.out.println(\"Not Armstrong\");\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9991755,"reputation":241,"user_id":7390783,"display_name":"Code Wines"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520600317,"creation_date":1483884663,"answer_id":41533587,"question_id":22895936,"body_markdown":"    import java.util.*; \r\n    public class ArmstrongNumber \r\n    {\r\n        public static void main( String[] args ) \r\n        {\r\n            int n = 0, temp = 0, r = 0, s = 0;\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number &quot;);\r\n            if (in.hasNextInt()) {\r\n                n = in.nextInt(); // if there is another number  \r\n            } else {\r\n                n = 0;\r\n            }\r\n            temp = n;\r\n            while (n != 0) {\r\n                r = n % 10;\r\n                s = s + (r * r * r);\r\n                n = n / 10;\r\n            }\r\n\r\n            if (temp == s) {\r\n                System.out.println(temp + &quot; is an Armstrong Number&quot;);\r\n            } else {\r\n                System.out.println(temp + &quot; is not an Armstrong Number&quot;);\r\n            }\r\n        }\r\n     }\r\n\r\n 1. You missed to import java.util package\r\n\r\n 2. Change n to temp in S.O.P","title":"To check if a number is Armstrong number using java","body":"<pre><code>import java.util.*; \npublic class ArmstrongNumber \n{\n    public static void main( String[] args ) \n    {\n        int n = 0, temp = 0, r = 0, s = 0;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a number \");\n        if (in.hasNextInt()) {\n            n = in.nextInt(); // if there is another number  \n        } else {\n            n = 0;\n        }\n        temp = n;\n        while (n != 0) {\n            r = n % 10;\n            s = s + (r * r * r);\n            n = n / 10;\n        }\n\n        if (temp == s) {\n            System.out.println(temp + \" is an Armstrong Number\");\n        } else {\n            System.out.println(temp + \" is not an Armstrong Number\");\n        }\n    }\n }\n</code></pre>\n\n<ol>\n<li><p>You missed to import java.util package</p></li>\n<li><p>Change n to temp in S.O.P</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10801067,"reputation":1,"user_id":7945016,"display_name":"Jijo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493607731,"creation_date":1493586187,"answer_id":43711296,"question_id":22895936,"body_markdown":"For &#39;N&#39; digit amstrong number\r\n\r\n    package jjtest;\r\n\r\n    public class Amstrong {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tint num=54748;\r\n            int c=0;\r\n    \t\tint temp=num;\r\n\r\n    \t\tint b=1;\r\n    \t\tint length = (int)(Math.log10(num)+1);\r\n    \t\twhile(num&gt;0){\t\r\n    \t\t\tint r = num%10;\r\n    \t\t\tnum=num/10;\r\n    \t\t\tint a =1;\r\n    \t\t\tfor(int i=1;i&lt;=length;++i){\r\n    \t\t\t\t b=b*r;\r\n    \t\t}\r\n    \t\t\tc = c + b;\r\n    \t\t\tb=1;\r\n       \t}\r\n    \t\tSystem.out.println(c);\r\n    \t\tif(c==temp){\r\n    \t\t\tSystem.out.println(&quot;its an amstrong number&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;its not an amstrong number&quot;);\r\n    \t\t}\r\n    \t}\r\n    }","title":"To check if a number is Armstrong number using java","body":"<p>For 'N' digit amstrong number</p>\n\n<pre><code>package jjtest;\n\npublic class Amstrong {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int num=54748;\n        int c=0;\n        int temp=num;\n\n        int b=1;\n        int length = (int)(Math.log10(num)+1);\n        while(num&gt;0){   \n            int r = num%10;\n            num=num/10;\n            int a =1;\n            for(int i=1;i&lt;=length;++i){\n                 b=b*r;\n        }\n            c = c + b;\n            b=1;\n    }\n        System.out.println(c);\n        if(c==temp){\n            System.out.println(\"its an amstrong number\");\n        }else{\n            System.out.println(\"its not an amstrong number\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5946193,"reputation":392,"user_id":6870739,"display_name":"Bhola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515583560,"creation_date":1515583560,"answer_id":48186387,"question_id":22895936,"body_markdown":"Find any digit is Armstrong number or not using loop\r\n\r\n\t\t\r\n\r\n    for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\r\n    \t\t{\r\n    \t\t\tString[] data = String.valueOf(arm_num).split(&quot;(?&lt;=.)&quot;);\r\n    \t\t\tint lngth = String.valueOf(arm_num).length();\r\n    \t\t\t\r\n    \t\t\tint arm_t_num = 0;\r\n    \t\t\t\r\n    \t\t\tint ary[] = new int[lngth];\r\n    \t\t\t\r\n    \t\t\tfor(int i = 0 ; i &lt; lngth ; i++)\r\n    \t\t\t{\r\n    \t\t\t\tary[i] = Integer.parseInt(data[i]);\r\n    \t\t\t\t\r\n    \t\t\t\tfor(int x = 0 ; x &lt; lngth-1 ; x++)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tary[i] = ary[i] * Integer.parseInt(data[i]);\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tarm_t_num+=ary[i];\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tif(arm_num == arm_t_num)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Number is ArmStrong : &quot;+arm_num);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n\r\n\r\n  ","title":"To check if a number is Armstrong number using java","body":"<p>Find any digit is Armstrong number or not using loop</p>\n\n<pre><code>for(int arm_num = 0 ; arm_num &lt; 100000 ; arm_num++)\n        {\n            String[] data = String.valueOf(arm_num).split(\"(?&lt;=.)\");\n            int lngth = String.valueOf(arm_num).length();\n\n            int arm_t_num = 0;\n\n            int ary[] = new int[lngth];\n\n            for(int i = 0 ; i &lt; lngth ; i++)\n            {\n                ary[i] = Integer.parseInt(data[i]);\n\n                for(int x = 0 ; x &lt; lngth-1 ; x++)\n                {\n                    ary[i] = ary[i] * Integer.parseInt(data[i]);\n                }\n\n                arm_t_num+=ary[i];\n            }\n\n            if(arm_num == arm_t_num)\n            {\n                System.out.println(\"Number is ArmStrong : \"+arm_num);\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13167025,"reputation":1,"user_id":9510789,"display_name":"Niranjani raya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521352937,"creation_date":1521350914,"answer_id":49344750,"question_id":22895936,"body_markdown":"//Not limited to 3 digit integers\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint num = 54748,a,sum=0;\r\n\t\tint x = num;\r\n\t\tint p =Integer.toString(num).length();\r\n\t\twhile (num !=0) \r\n\t\t{\t\t\r\n\t\t\ta = num%10;\r\n\t\t\tnum = num/10;\r\n\t\t\tsum = sum + (int) Math.pow(a, p);\t\r\n\t\t}\r\n\t\t\r\n\t\tif (x==sum) \r\n\t\t\tSystem.out.println(&quot;Its an Armstrong number&quot;);\r\n\t\telse \r\n\t\t\tSystem.out.println(&quot;Not an Armstrong number&quot;);\r\n\t\t}\r\n}\r\n","title":"To check if a number is Armstrong number using java","body":"<p>//Not limited to 3 digit integers</p>\n\n<pre><code>public static void main(String[] args) \n{\n    int num = 54748,a,sum=0;\n    int x = num;\n    int p =Integer.toString(num).length();\n    while (num !=0) \n    {       \n        a = num%10;\n        num = num/10;\n        sum = sum + (int) Math.pow(a, p);   \n    }\n\n    if (x==sum) \n        System.out.println(\"Its an Armstrong number\");\n    else \n        System.out.println(\"Not an Armstrong number\");\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9475267,"reputation":115,"user_id":7044810,"display_name":"Sameer Shrestha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561678813,"creation_date":1561678813,"answer_id":56799511,"question_id":22895936,"body_markdown":"\r\n    private static boolean isArmstrong(int num) {\r\n        int totalSum = 0;\r\n        int copyNum = num;\r\n\r\n        while (num != 0) {\r\n            int reminder = num % 10;\r\n            int cubeOfReminder = reminder * reminder * reminder;\r\n            totalSum = totalSum + cubeOfReminder;\r\n            num = num / 10;\r\n        }\r\n        \r\n        if (copyNum == totalSum)\r\n            return true;\r\n\r\n        return false;\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>private static boolean isArmstrong(int num) {\n    int totalSum = 0;\n    int copyNum = num;\n\n    while (num != 0) {\n        int reminder = num % 10;\n        int cubeOfReminder = reminder * reminder * reminder;\n        totalSum = totalSum + cubeOfReminder;\n        num = num / 10;\n    }\n\n    if (copyNum == totalSum)\n        return true;\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13540830,"reputation":1,"user_id":9768568,"display_name":"Gokul Krishna M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581233188,"creation_date":1581233188,"answer_id":60134396,"question_id":22895936,"body_markdown":"\r\n\r\n\r\n\r\n    public class Testamstrong \r\n    {\r\n    \tpublic static void main(String...strings) {\r\n    \t\tint num = 153,temp;\r\n    \t\ttemp = num;\r\n    \t\tif(temp == amstrongNumber(num)) {\r\n    \t\t\tSystem.out.println(&quot;Number is amstrong number...&quot;);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tSystem.out.println(&quot;Number is not amstrong number...&quot;);\r\n    \t\t}\r\n    \t}\r\n    \tpublic static int amstrongNumber(int num) {\r\n    \t\tint count=0,sum=0;\r\n    \t\tcount = String.valueOf(num).length();\r\n    \t\tchar[] ch = String.valueOf(num).toCharArray();\r\n    \t\tfor(char ch1:ch) {\r\n    \t\t\tint num1 = Character.getNumericValue(ch1);\r\n    \t\t\tsum += Math.pow(num1, count);\r\n    \t\t}\r\n    \t\treturn sum;\r\n    \t}\r\n    }","title":"To check if a number is Armstrong number using java","body":"<pre><code>public class Testamstrong \n{\n    public static void main(String...strings) {\n        int num = 153,temp;\n        temp = num;\n        if(temp == amstrongNumber(num)) {\n            System.out.println(\"Number is amstrong number...\");\n        }\n        else {\n            System.out.println(\"Number is not amstrong number...\");\n        }\n    }\n    public static int amstrongNumber(int num) {\n        int count=0,sum=0;\n        count = String.valueOf(num).length();\n        char[] ch = String.valueOf(num).toCharArray();\n        for(char ch1:ch) {\n            int num1 = Character.getNumericValue(ch1);\n            sum += Math.pow(num1, count);\n        }\n        return sum;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18392189,"reputation":1,"user_id":13397607,"display_name":"Rohit_Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591255377,"creation_date":1591255377,"answer_id":62188973,"question_id":22895936,"body_markdown":"Find Armstrong number using for loops (with example)   \r\n \r\n\r\n    import java.util.*;\r\n        public class ArmstorngNumber {\r\n            public static void main(String args[]) {\r\n        \r\n                    int cube, num, quo, n;\r\n                    int s = 0;\r\n                    do\r\n                        {\r\n                            System.out.println(&quot;Enter Your Number&quot;);\r\n                            Scanner sc = new Scanner(System.in);\r\n                            num = sc.nextInt();//153\r\n                            n = num;\r\n                            for (int i = 0; i &lt; 10; i++) {\r\n                                int rem = num % 10;//3\r\n                                quo = num / 10; //15\r\n                                cube = rem * rem * rem;//9\r\n                                s = s + cube;//0+9\r\n                                num = quo;//0\r\n                            }\r\n                            System.out.println(s);\r\n                            System.out.println(n);\r\n                            if (s == n) {\r\n                                System.out.println(&quot;The number is Armstrong&quot;);\r\n                                System.out.println(&quot;-------------------------------------&quot;);\r\n                            }\r\n                            else {\r\n                                     System.out.println(&quot;The number is not Armstrong&quot;);\r\n                                    System.out.println(&quot;-------------------------------------&quot;);\r\n                                 }\r\n                }\r\n                while (n &gt; 0);\r\n            }\r\n        }","title":"To check if a number is Armstrong number using java","body":"<p>Find Armstrong number using for loops (with example)   </p>\n\n<pre><code>import java.util.*;\n    public class ArmstorngNumber {\n        public static void main(String args[]) {\n\n                int cube, num, quo, n;\n                int s = 0;\n                do\n                    {\n                        System.out.println(\"Enter Your Number\");\n                        Scanner sc = new Scanner(System.in);\n                        num = sc.nextInt();//153\n                        n = num;\n                        for (int i = 0; i &lt; 10; i++) {\n                            int rem = num % 10;//3\n                            quo = num / 10; //15\n                            cube = rem * rem * rem;//9\n                            s = s + cube;//0+9\n                            num = quo;//0\n                        }\n                        System.out.println(s);\n                        System.out.println(n);\n                        if (s == n) {\n                            System.out.println(\"The number is Armstrong\");\n                            System.out.println(\"-------------------------------------\");\n                        }\n                        else {\n                                 System.out.println(\"The number is not Armstrong\");\n                                System.out.println(\"-------------------------------------\");\n                             }\n            }\n            while (n &gt; 0);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19768800,"reputation":1,"user_id":14476188,"display_name":"Dasari Bhovan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603089486,"creation_date":1603089486,"answer_id":64422273,"question_id":22895936,"body_markdown":"\r\nCheck the Armstrong number of any number [java] [Armstrong]\r\n\r\n\r\n\r\n\r\n       import java.util.*;\r\n       public class Armstrong {\r\n        public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;enter any number?&quot;);\r\n        int x = sc.nextInt();\r\n        int n=0;\r\n\t\tint number = x;\r\n\t\tint j =x;\r\n        int result = 0 ,remainder;\r\n\t\twhile (x!=0) {\r\n\t\t\tx/=10;\r\n\t\t\t++n;\r\n\t\t}\r\n\t     for(;j&gt;0 ;j=j/10) {\r\n        \tremainder=j%10;\r\n        \tresult+=Math.pow(remainder, n);\r\n        }\r\n        if (number==result) {\r\n        \tSystem.out.print(number +&quot;  is  Armstrong &quot;);\r\n        \t}\r\n        else\r\n        \tSystem.out.print(number +&quot;  is not Armstrong&quot;);\r\n       }\r\n\r\n     }","title":"To check if a number is Armstrong number using java","body":"<p>Check the Armstrong number of any number [java] [Armstrong]</p>\n<pre><code>   import java.util.*;\n   public class Armstrong {\n    public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n    System.out.print(&quot;enter any number?&quot;);\n    int x = sc.nextInt();\n    int n=0;\n    int number = x;\n    int j =x;\n    int result = 0 ,remainder;\n    while (x!=0) {\n        x/=10;\n        ++n;\n    }\n     for(;j&gt;0 ;j=j/10) {\n        remainder=j%10;\n        result+=Math.pow(remainder, n);\n    }\n    if (number==result) {\n        System.out.print(number +&quot;  is  Armstrong &quot;);\n        }\n    else\n        System.out.print(number +&quot;  is not Armstrong&quot;);\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20529334,"reputation":1,"user_id":15067019,"display_name":"Surjo Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611438882,"creation_date":1611424975,"answer_id":65862624,"question_id":22895936,"body_markdown":"here is my code, please check if this works for you!       \r\n\r\n\r\n\r\n \r\n```\r\nimport java.util.Scanner;\r\npublic class Armstromg {\r\n    public static void main(String[] args) { \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Please enter the number: &quot;);        \r\n       int num = sc.nextInt(); \r\n       int length = 0;\r\n       int temp1 = num;\r\n       while(temp1 != 0) { \r\n          temp1/=10;\r\n          length+=1; \r\n       }\r\n       int result = 1;\r\n       int temp2 = num; \r\n       for(int i = 1; i &lt;= length; i++) { \r\n           temp2 = temp2 % 10;\r\n           result*=Math.pow(temp2,length);\r\n          \r\n       }\r\n       if(result == num) { \r\n          System.out.print(&quot;The number is an armstrong number!&quot;);\r\n       } else { \r\n           System.out.print(&quot;The number is not an armstrong number&quot;);\r\n       }\r\n    }\r\n}\r\n ```\r\n\r\n \r\n","title":"To check if a number is Armstrong number using java","body":"<p>here is my code, please check if this works for you!</p>\n<pre><code>import java.util.Scanner;\npublic class Armstromg {\n    public static void main(String[] args) { \n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Please enter the number: &quot;);        \n       int num = sc.nextInt(); \n       int length = 0;\n       int temp1 = num;\n       while(temp1 != 0) { \n          temp1/=10;\n          length+=1; \n       }\n       int result = 1;\n       int temp2 = num; \n       for(int i = 1; i &lt;= length; i++) { \n           temp2 = temp2 % 10;\n           result*=Math.pow(temp2,length);\n          \n       }\n       if(result == num) { \n          System.out.print(&quot;The number is an armstrong number!&quot;);\n       } else { \n           System.out.print(&quot;The number is not an armstrong number&quot;);\n       }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20382101,"reputation":51,"user_id":14951983,"display_name":"Abeetha Heshan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614018773,"creation_date":1614018773,"answer_id":66321447,"question_id":22895936,"body_markdown":"\t\t    Scanner input = new Scanner (System.in);\r\n\t\t    int num  , counter = 0 ,temp;\r\n\t\t    System.out.print(&quot;Enter Nmber :&quot;);\r\n\t\t    num = input.nextInt();\r\n\t\t    int lnum = num;\r\n\t\t    while ( num != 0 ){\r\n\t\t\t\t num = num/10 ;\r\n\t             counter++; \r\n\t              \r\n\t             \r\n\t\t    } \r\n\t\t\t \r\n\t\t     int store_num_keyboard_input = lnum;\r\n\t\t     int new_tot = 0;\r\n\t\t     int c = counter; \r\n\t\t\t\t\r\n\t\t      while(lnum &gt; 0){\r\n\t\t            temp = lnum % 10;\r\n\t\t            lnum = lnum / 10 ;\r\n\t\t           \r\n\t\t        \r\n\t\t           int m = 0;  //m is counter \r\n\t\t         \r\n\t\t           int tot = 1;\r\n\t\t           while (m != c){\r\n\t\t\t        tot = tot * temp;  \r\n\t\t\t\t   m++;\r\n\t\t           }\r\n\t\t\t\t  \r\n\t\t           new_tot = new_tot + tot; \r\n\t\t       }\r\n\t\t       System.out.println(&quot;new total &quot;+ new_tot );\r\n\t\t       if(new_tot == store_num_keyboard_input){\r\n                       System.out.println(store_num_keyboard_input + &quot; is an Armstrong number&quot;   );\r\n\t\t       }\r\n                       else{\r\n                       System.out.println(store_num_keyboard_input + &quot; is not an Armstrong number&quot;  );\r\n\t\t       }","title":"To check if a number is Armstrong number using java","body":"<pre><code>        Scanner input = new Scanner (System.in);\n        int num  , counter = 0 ,temp;\n        System.out.print(&quot;Enter Nmber :&quot;);\n        num = input.nextInt();\n        int lnum = num;\n        while ( num != 0 ){\n             num = num/10 ;\n             counter++; \n              \n             \n        } \n         \n         int store_num_keyboard_input = lnum;\n         int new_tot = 0;\n         int c = counter; \n            \n          while(lnum &gt; 0){\n                temp = lnum % 10;\n                lnum = lnum / 10 ;\n               \n            \n               int m = 0;  //m is counter \n             \n               int tot = 1;\n               while (m != c){\n                tot = tot * temp;  \n               m++;\n               }\n              \n               new_tot = new_tot + tot; \n           }\n           System.out.println(&quot;new total &quot;+ new_tot );\n           if(new_tot == store_num_keyboard_input){\n                   System.out.println(store_num_keyboard_input + &quot; is an Armstrong number&quot;   );\n           }\n                   else{\n                   System.out.println(store_num_keyboard_input + &quot; is not an Armstrong number&quot;  );\n           }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630099861,"creation_date":1630099861,"answer_id":68959548,"question_id":22895936,"body_markdown":"        package Loops;\r\n        public class ArmStrongNumber {\r\n            public static void main(String[] args) {\r\n                int digit1, digit2, digit3;\r\n                int number = 153;\r\n                int temp = number;\r\n                digit1 = number % 10;\r\n                number = number / 10;\r\n                digit2 = number % 10;\r\n                number = number / 10;\r\n                digit3 = number % 10;\r\n                if ((digit1 * digit1 * digit1) + (digit2 * digit2 * digit2) + (digit3 * digit3 * digit3) == temp) {\r\n                    System.out.println(+temp + &quot; Number is Armstrong &quot;);\r\n                } else {\r\n                    System.out.println(&quot;Number is not Armstrong&quot;);\r\n                }\r\n        \r\n            }\r\n        }\r\n","title":"To check if a number is Armstrong number using java","body":"<pre><code>    package Loops;\n    public class ArmStrongNumber {\n        public static void main(String[] args) {\n            int digit1, digit2, digit3;\n            int number = 153;\n            int temp = number;\n            digit1 = number % 10;\n            number = number / 10;\n            digit2 = number % 10;\n            number = number / 10;\n            digit3 = number % 10;\n            if ((digit1 * digit1 * digit1) + (digit2 * digit2 * digit2) + (digit3 * digit3 * digit3) == temp) {\n                System.out.println(+temp + &quot; Number is Armstrong &quot;);\n            } else {\n                System.out.println(&quot;Number is not Armstrong&quot;);\n            }\n    \n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11327681,"reputation":1,"user_id":8306031,"display_name":"nams"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650007409,"creation_date":1650007409,"answer_id":71881201,"question_id":22895936,"body_markdown":"My answer using JAVA 8\r\ntested for..[1, 153, 370, 371, 407]\r\npublic class Armstrong {\r\n\t\r\n\tpublic static boolean isArmstrong(int num) {\r\n\t    return num == getArmstrongSum(num);\r\n\t}\r\n\r\n\tpublic static int getArmstrongSum(int num) {\r\n\t    int pow = String.valueOf(num).length();\r\n\t    return IntStream.iterate(num, i -&gt; i / 10)\r\n\t            .limit(pow)\r\n\t            .map(i -&gt; (int) Math.pow(i % 10, 3))\r\n\t            .sum();\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t    System.out.println(isArmstrong(153));\r\n\t}\r\n}\r\n\tThank you.","title":"To check if a number is Armstrong number using java","body":"<p>My answer using JAVA 8\ntested for..[1, 153, 370, 371, 407]\npublic class Armstrong {</p>\n<pre><code>public static boolean isArmstrong(int num) {\n    return num == getArmstrongSum(num);\n}\n\npublic static int getArmstrongSum(int num) {\n    int pow = String.valueOf(num).length();\n    return IntStream.iterate(num, i -&gt; i / 10)\n            .limit(pow)\n            .map(i -&gt; (int) Math.pow(i % 10, 3))\n            .sum();\n}\n\npublic static void main(String[] args) {\n    \n        System.out.println(isArmstrong(153));\n}\n</code></pre>\n<p>}\nThank you.</p>\n"},{"tags":[],"owner":{"account_id":27432357,"reputation":1,"user_id":20928834,"display_name":"Minuwan Kariyawasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679149861,"creation_date":1679149861,"answer_id":75776503,"question_id":22895936,"body_markdown":"//more into fundamentals\r\n\r\n    import java.util.*;\r\n    class Example{\r\n\r\n         public static boolean isArmstrong(int num){\r\n\r\n         int num1 = num,total = 0;\r\n\r\n         while(num1 != 0){\r\n\r\n             total += (num1%10)*(num1%10)*(num1%10);\r\n\r\n             num1 /= 10;\r\n         }\r\n\r\n         if(total == num){\r\n            return true;\r\n         }\r\n\r\n         return false;\r\n         }\r\n\r\n         public static void main(String[] args){\r\n         Scanner in = new Scanner(System.in);\r\n         System.out.print(&quot;Enter Number : &quot;);\r\n         int num = in.nextInt();\r\n\r\n         if(isArmstrong(num)){\r\n              System.out.println(num + &quot; is a armstrong number&quot;);\r\n         }else{\r\n          System.out.println(num + &quot; is not a armstrong number&quot;);\r\n         }\r\n         } \r\n     }","title":"To check if a number is Armstrong number using java","body":"<p>//more into fundamentals</p>\n<pre><code>import java.util.*;\nclass Example{\n\n     public static boolean isArmstrong(int num){\n\n     int num1 = num,total = 0;\n\n     while(num1 != 0){\n\n         total += (num1%10)*(num1%10)*(num1%10);\n\n         num1 /= 10;\n     }\n\n     if(total == num){\n        return true;\n     }\n\n     return false;\n     }\n\n     public static void main(String[] args){\n     Scanner in = new Scanner(System.in);\n     System.out.print(&quot;Enter Number : &quot;);\n     int num = in.nextInt();\n\n     if(isArmstrong(num)){\n          System.out.println(num + &quot; is a armstrong number&quot;);\n     }else{\n      System.out.println(num + &quot; is not a armstrong number&quot;);\n     }\n     } \n }\n</code></pre>\n"}],"owner":{"account_id":4286064,"reputation":41,"user_id":3503832,"display_name":"user3503832"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24053,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":22896034,"answer_count":21,"score":-4,"last_activity_date":1679149861,"creation_date":1396797661,"question_id":22895936,"body_markdown":"this is my program:\r\n\r\n    public class ArmstrongNumber {\r\n    \r\n        public static void main(String args[]) {\r\n            int n = 0, temp = 0, r = 0, s = 0;\r\n            Scanner in = new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number &quot;);\r\n            if (in.hasNextInt()) {\r\n                n = in.nextInt(); // if there is another number  \r\n            } else {\r\n                n = 0;\r\n            }\r\n            temp = n;\r\n            while (n != 0) {\r\n                r = n % 10;\r\n                s = s + (r * r * r);\r\n                n = n / 10;\r\n            }\r\n    \r\n            if (temp == s) {\r\n                System.out.println(n + &quot; is an Armstrong Number&quot;);\r\n            } else {\r\n                System.out.println(n + &quot; is not an Armstrong Number&quot;);\r\n            }\r\n        }\r\n    }  \r\n\r\n     \r\n\r\n\r\noutput:\r\n\r\n  Exception in thread `&quot;main&quot;` `java.lang.NoClassDefFoundError`\r\n\r\n\r\nI tried it using `DataInputStream` but still getting same error.","title":"To check if a number is Armstrong number using java","body":"<p>this is my program:</p>\n\n<pre><code>public class ArmstrongNumber {\n\n    public static void main(String args[]) {\n        int n = 0, temp = 0, r = 0, s = 0;\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Enter a number \");\n        if (in.hasNextInt()) {\n            n = in.nextInt(); // if there is another number  \n        } else {\n            n = 0;\n        }\n        temp = n;\n        while (n != 0) {\n            r = n % 10;\n            s = s + (r * r * r);\n            n = n / 10;\n        }\n\n        if (temp == s) {\n            System.out.println(n + \" is an Armstrong Number\");\n        } else {\n            System.out.println(n + \" is not an Armstrong Number\");\n        }\n    }\n}  \n</code></pre>\n\n<p>output:</p>\n\n<p>Exception in thread <code>\"main\"</code> <code>java.lang.NoClassDefFoundError</code></p>\n\n<p>I tried it using <code>DataInputStream</code> but still getting same error.</p>\n"},{"tags":["java","spring","spring-boot","api","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1679079508,"post_id":75770072,"comment_id":133662920,"body_markdown":"this is not how you implement the handling of JWTs in spring security. Please read the official spring documentation on how to implement the resource server specification.","body":"this is not how you implement the handling of JWTs in spring security. Please read the official spring documentation on how to implement the resource server specification."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679080418,"post_id":75770072,"comment_id":133663129,"body_markdown":"Are you referring to the filterToken?","body":"Are you referring to the filterToken?"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1679081811,"post_id":75770072,"comment_id":133663448,"body_markdown":"yes, please read the oauth2/resource server/jwt section in the official spring security documentation.","body":"yes, please read the oauth2/resource server/jwt section in the official spring security documentation."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679087915,"post_id":75770072,"comment_id":133664722,"body_markdown":"Yes, I did that and it didn&#39;t work. Also just to be on the safe side, I directly put the string &quot;Bearer &quot; instead of a variable. Unsuccessfully...","body":"Yes, I did that and it didn&#39;t work. Also just to be on the safe side, I directly put the string &quot;Bearer &quot; instead of a variable. Unsuccessfully..."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1679136081,"post_id":75770072,"comment_id":133669498,"body_markdown":"@JunqRal  Then your code  is not matching the stacktrace. That means you new code was not compiled or not executed. Close your IDE and open it again, run it again an show the new stacktrace.","body":"@JunqRal  Then your code  is not matching the stacktrace. That means you new code was not compiled or not executed. Close your IDE and open it again, run it again an show the new stacktrace."},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1679147773,"post_id":75770072,"comment_id":133671271,"body_markdown":"Do you refer to the stack trace before sending the request and the error occurs?","body":"Do you refer to the stack trace before sending the request and the error occurs?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":1,"creation_date":1679151947,"post_id":75770072,"comment_id":133671918,"body_markdown":"I noticed that sending my issued token here https://jwt.io/ I get Invalid Signature. Is there a chance that the wrong token is being issued?","body":"I noticed that sending my issued token here <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">jwt.io</a> I get Invalid Signature. Is there a chance that the wrong token is being issued?"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":269,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679149550,"creation_date":1679071022,"question_id":75770072,"body_markdown":"I&#39;m developing an API in spring boot, and in this api I have an authentication controller that I make a request with database login and password and I receive an authentication token\r\n\r\n```\r\npackage com.api.business_manager_api.Controllers;\r\n\r\nimport com.api.business_manager_api.Dtos.LoginDto;\r\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\r\nimport com.api.business_manager_api.Security.JwtTokenProvider;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n    @Autowired\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    private JwtTokenProvider jwtTokenProvider;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\r\n\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginDto.getUsername(),\r\n                        loginDto.getPassword()\r\n                )\r\n        );\r\n\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        String jwt = jwtTokenProvider.generateToken(authentication);\r\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\nI&#39;m getting the token correctly as expected, but the problem is that I can&#39;t authenticate it. When I try to join a private route I get the error &quot;denied&quot;\r\n\r\n```\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:72) ~[classes/:na]\r\n```\r\n\r\nhere the securityConfig\r\n\r\n```\r\npackage com.api.business_manager_api.Config;\r\n\r\nimport com.api.business_manager_api.Security.FilterToken;\r\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n    @Autowired\r\n    private FilterToken filter;\r\n\r\n    @Autowired\r\n    private final UserDetailsServiceImpl userDetailsService;\r\n\r\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Autowired\r\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n\r\n        return http\r\n                .csrf().disable()\r\n                .authorizeHttpRequests(\r\n                        authorizeConfig -&gt; {\r\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/auth**&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/error&quot;).permitAll();\r\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\r\n                            authorizeConfig.anyRequest().authenticated();\r\n                        })\r\n                .userDetailsService(userDetailsService)\r\n                .httpBasic()\r\n                .and()\r\n                .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n    }\r\n}\r\n\r\n```\r\n\r\nfilterToken\r\n\r\n```\r\npackage com.api.business_manager_api.Security;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport org.apache.tomcat.util.http.parser.Authorization;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\nimport software.amazon.awssdk.services.medialive.model.ClaimDeviceRequest;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Optional;\r\n\r\n@Component\r\npublic class FilterToken extends OncePerRequestFilter {\r\n\r\n    private final String HEADER_AUTHORIZATION = &quot;Authorization&quot;;\r\n    private final String TOKEN_PREFIX = &quot;Bearer&quot;;\r\n\r\n    @Value(&quot;${app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n    @Autowired\r\n    private UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String authorizationHeader = request.getHeader(HEADER_AUTHORIZATION);\r\n\r\n        if (authorizationHeader == null || !authorizationHeader.startsWith(TOKEN_PREFIX)) {\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n        String token = authorizationHeader.replace(TOKEN_PREFIX, &quot;&quot;);\r\n        try {\r\n            Claims claims = Jwts.parser()\r\n                    .setSigningKey(jwtSecret.getBytes())\r\n                    .parseClaimsJws(token)\r\n                    .getBody();\r\n\r\n\r\n            String username = claims.getSubject();\r\n            Optional&lt;UserModel&gt; user = userRepository.findByUsername(username);\r\n\r\n            if (user.isPresent()) {\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n           ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n\r\n```\r\n\r\ntokenProvider\r\n\r\n```\r\npackage com.api.business_manager_api.Security;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.Date;\r\n\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    @Value(&quot;${app.jwtSecret}&quot;)\r\n    private String jwtSecret;\r\n\r\n    @Value(&quot;${app.jwtExpirationInMs}&quot;)\r\n    private int jwtExpirationInMs;\r\n\r\n    public String generateToken(Authentication authentication) {\r\n        org.springframework.security.core.userdetails.User userPrincipal = (org.springframework.security.core.userdetails.User) authentication.getPrincipal();\r\n\r\n        UserModel userModel = new UserModel();\r\n        userModel.setUsername(userPrincipal.getUsername());\r\n\r\n        Date now = new Date();\r\n        Date expiryDate = new Date(now.getTime() + jwtExpirationInMs);\r\n\r\n        return Jwts.builder()\r\n                .setSubject(userPrincipal.getUsername())\r\n                .setIssuedAt(now)\r\n                .setExpiration(expiryDate)\r\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\r\n                .compact();\r\n    }\r\n}\r\n\r\n```\r\n\r\nYes, I am correctly sending the token by &quot;Authorization&quot; in the header of my request.\r\n\r\n\r\nuserDetailsService\r\n\r\n```\r\npackage com.api.business_manager_api.Services;\r\n\r\nimport com.api.business_manager_api.Models.UserModel;\r\nimport com.api.business_manager_api.Repositories.UserRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Service\r\npublic class UserDetailsServiceImpl implements UserDetailsService {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\r\n\r\n        if (optionalUser.isPresent()) {\r\n            UserModel userModel = optionalUser.get();\r\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\r\n                    new ArrayList&lt;&gt;());\r\n        } else {\r\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"denied error with token login (Spring security)","body":"<p>I'm developing an API in spring boot, and in this api I have an authentication controller that I make a request with database login and password and I receive an authentication token</p>\n<pre><code>package com.api.business_manager_api.Controllers;\n\nimport com.api.business_manager_api.Dtos.LoginDto;\nimport com.api.business_manager_api.Security.JwtAuthenticationResponse;\nimport com.api.business_manager_api.Security.JwtTokenProvider;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private JwtTokenProvider jwtTokenProvider;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; authenticateUser (@RequestBody @Valid LoginDto loginDto) {\n\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginDto.getUsername(),\n                        loginDto.getPassword()\n                )\n        );\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenProvider.generateToken(authentication);\n        return ResponseEntity.ok(new JwtAuthenticationResponse(jwt));\n\n    }\n}\n\n</code></pre>\n<p>I'm getting the token correctly as expected, but the problem is that I can't authenticate it. When I try to join a private route I get the error &quot;denied&quot;</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.4.jar:6.0.4]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at com.api.business_manager_api.Security.FilterToken.doFilterInternal(FilterToken.java:72) ~[classes/:na]\n</code></pre>\n<p>here the securityConfig</p>\n<pre><code>package com.api.business_manager_api.Config;\n\nimport com.api.business_manager_api.Security.FilterToken;\nimport com.api.business_manager_api.Services.UserDetailsServiceImpl;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Autowired\n    private FilterToken filter;\n\n    @Autowired\n    private final UserDetailsServiceImpl userDetailsService;\n\n    public SecurityConfig(UserDetailsServiceImpl userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Autowired\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n\n        return http\n                .csrf().disable()\n                .authorizeHttpRequests(\n                        authorizeConfig -&gt; {\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/user&quot;).permitAll();\n                            authorizeConfig.requestMatchers(HttpMethod.POST, &quot;/auth**&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/error&quot;).permitAll();\n                            authorizeConfig.requestMatchers(&quot;/user/**&quot;).authenticated();\n                            authorizeConfig.anyRequest().authenticated();\n                        })\n                .userDetailsService(userDetailsService)\n                .httpBasic()\n                .and()\n                .addFilterBefore(filter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n    }\n}\n\n</code></pre>\n<p>filterToken</p>\n<pre><code>package com.api.business_manager_api.Security;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.apache.tomcat.util.http.parser.Authorization;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\nimport software.amazon.awssdk.services.medialive.model.ClaimDeviceRequest;\n\nimport java.io.IOException;\nimport java.util.Optional;\n\n@Component\npublic class FilterToken extends OncePerRequestFilter {\n\n    private final String HEADER_AUTHORIZATION = &quot;Authorization&quot;;\n    private final String TOKEN_PREFIX = &quot;Bearer&quot;;\n\n    @Value(&quot;${app.jwtSecret}&quot;)\n    private String jwtSecret;\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String authorizationHeader = request.getHeader(HEADER_AUTHORIZATION);\n\n        if (authorizationHeader == null || !authorizationHeader.startsWith(TOKEN_PREFIX)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        String token = authorizationHeader.replace(TOKEN_PREFIX, &quot;&quot;);\n        try {\n            Claims claims = Jwts.parser()\n                    .setSigningKey(jwtSecret.getBytes())\n                    .parseClaimsJws(token)\n                    .getBody();\n\n\n            String username = claims.getSubject();\n            Optional&lt;UserModel&gt; user = userRepository.findByUsername(username);\n\n            if (user.isPresent()) {\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n           ResponseEntity.status(HttpStatus.BAD_REQUEST).body(e);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n<p>tokenProvider</p>\n<pre><code>package com.api.business_manager_api.Security;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.stereotype.Component;\n\nimport java.util.Date;\n\n@Component\npublic class JwtTokenProvider {\n\n    @Value(&quot;${app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${app.jwtExpirationInMs}&quot;)\n    private int jwtExpirationInMs;\n\n    public String generateToken(Authentication authentication) {\n        org.springframework.security.core.userdetails.User userPrincipal = (org.springframework.security.core.userdetails.User) authentication.getPrincipal();\n\n        UserModel userModel = new UserModel();\n        userModel.setUsername(userPrincipal.getUsername());\n\n        Date now = new Date();\n        Date expiryDate = new Date(now.getTime() + jwtExpirationInMs);\n\n        return Jwts.builder()\n                .setSubject(userPrincipal.getUsername())\n                .setIssuedAt(now)\n                .setExpiration(expiryDate)\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n}\n\n</code></pre>\n<p>Yes, I am correctly sending the token by &quot;Authorization&quot; in the header of my request.</p>\n<p>userDetailsService</p>\n<pre><code>package com.api.business_manager_api.Services;\n\nimport com.api.business_manager_api.Models.UserModel;\nimport com.api.business_manager_api.Repositories.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Service\npublic class UserDetailsServiceImpl implements UserDetailsService {\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional &lt;UserModel&gt; optionalUser = userRepository.findByUsername(username);\n\n        if (optionalUser.isPresent()) {\n            UserModel userModel = optionalUser.get();\n            return new org.springframework.security.core.userdetails.User(userModel.getUsername(), userModel.getPassword(),\n                    new ArrayList&lt;&gt;());\n        } else {\n            throw new UsernameNotFoundException(&quot;User not found with username: &quot; + username);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","fonts"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1646686423,"post_id":71386994,"comment_id":126180969,"body_markdown":"Declare it outside the block. See: https://stackoverflow.com/questions/19020300/java-try-catch-access-variables-in-try-block-if-successful","body":"Declare it outside the block. See: <a href=\"https://stackoverflow.com/questions/19020300/java-try-catch-access-variables-in-try-block-if-successful\" title=\"java try catch access variables in try block if successful\">stackoverflow.com/questions/19020300/&hellip;</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1646687674,"post_id":71386994,"comment_id":126181325,"body_markdown":"Once registered with the `GraphicsEnvironment`, you can use [`Font(String, int, int)`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html#%3Cinit%3E(java.lang.String,int,int)) to obtain a reference to it","body":"Once registered with the <code>GraphicsEnvironment</code>, you can use <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/java/awt/Font.html#%3Cinit%3E(java.lang.String,int,int)\" rel=\"nofollow noreferrer\"><code>Font(String, int, int)</code></a> to obtain a reference to it"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646688373,"post_id":71386994,"comment_id":126181530,"body_markdown":"Local variables cannot be accessed outside the block they were declared in unless it is in a method that returns that variable. In your case, a variable declared inside a `try/catch` cannot be accessed outside of it (try/catch blocks are not methods and therefore, don&#39;t return anything). Of course, you can do what MadProgrammer suggested to work around this issue.","body":"Local variables cannot be accessed outside the block they were declared in unless it is in a method that returns that variable. In your case, a variable declared inside a <code>try&#47;catch</code> cannot be accessed outside of it (try/catch blocks are not methods and therefore, don&#39;t return anything). Of course, you can do what MadProgrammer suggested to work around this issue."},{"owner":{"account_id":24457053,"reputation":25,"user_id":18378492,"display_name":"cheese"},"score":0,"creation_date":1646692203,"post_id":71386994,"comment_id":126182617,"body_markdown":"@DavidConrad that helped, it now works just fine and looks very cool with its new font :D","body":"@DavidConrad that helped, it now works just fine and looks very cool with its new font :D"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646688600,"creation_date":1646688600,"answer_id":71387493,"question_id":71386994,"body_markdown":"There&#39;s a number of ways you might deal with this situation, one would be to assign a reference of the `Font` to an instance field, one might be to have a &quot;default&quot; `Font` setup before you try and load your custom font, if the loading is successful, then you&#39;d assign the custom font to this variable instead, for example...\r\n\r\n\r\n    Font font = // fallback font\r\n    try {\r\n        dseg14 = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\r\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        ge.registerFont(dseg14);\r\n        font = dseg14;\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    } catch (FontFormatException e) {\r\n        e.printStackTrace();\r\n    }\r\n    //...\r\n\r\nAnother way might be to use `Font(String, int, int)` to load the font from the `GraphicsEnvironment` directly, for example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.FontFormatException;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.io.IOException;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new TestPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            public TestPane() {\r\n                try {\r\n                    Font font = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/DSEG14ClassicMini-Regular.ttf&quot;));\r\n                    System.out.println(font.getName());\r\n                    System.out.println(font.getFamily());\r\n                    System.out.println(font.getFontName());\r\n                    GraphicsEnvironment.getLocalGraphicsEnvironment().registerFont(font);\r\n                } catch (FontFormatException ex) {\r\n                    ex.printStackTrace();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n\r\n                // You could do this in the try-catch block above, but the\r\n                // point is to demonstrate how it &quot;might&quot; be used after\r\n                // the initialisation phase has completed\r\n                Font font = new Font(&quot;DSEG14 Classic Mini&quot;, Font.PLAIN, 12);\r\n                if (font != null) {\r\n                    setFont(font);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(200, 200);\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                String text = &quot;Hello World&quot;;\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int x = (getWidth() - fm.stringWidth(text)) / 2;\r\n                int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\r\n                g2d.drawString(text, x, y);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n**BUT**, you need to have a fallback workflow for what to do if you can&#39;t load the font.  For example, I might have a initialisation phase, which must complete successfully before the rest of the application can run.  This would allow you some &quot;grace&quot; in dealing with it and presenting a nice message to the user.\r\n\r\n  [1]: https://i.stack.imgur.com/iYLil.png","title":"how would I use a Font defined inside of a try{} block outside of the block in Java","body":"<p>There's a number of ways you might deal with this situation, one would be to assign a reference of the <code>Font</code> to an instance field, one might be to have a &quot;default&quot; <code>Font</code> setup before you try and load your custom font, if the loading is successful, then you'd assign the custom font to this variable instead, for example...</p>\n<pre><code>Font font = // fallback font\ntry {\n    dseg14 = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    ge.registerFont(dseg14);\n    font = dseg14;\n} catch (IOException e) {\n    e.printStackTrace();\n} catch (FontFormatException e) {\n    e.printStackTrace();\n}\n//...\n</code></pre>\n<p>Another way might be to use <code>Font(String, int, int)</code> to load the font from the <code>GraphicsEnvironment</code> directly, for example...</p>\n<p><a href=\"https://i.stack.imgur.com/iYLil.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iYLil.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.FontFormatException;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.GraphicsEnvironment;\nimport java.io.IOException;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        public TestPane() {\n            try {\n                Font font = Font.createFont(Font.TRUETYPE_FONT, getClass().getResourceAsStream(&quot;/resources/DSEG14ClassicMini-Regular.ttf&quot;));\n                System.out.println(font.getName());\n                System.out.println(font.getFamily());\n                System.out.println(font.getFontName());\n                GraphicsEnvironment.getLocalGraphicsEnvironment().registerFont(font);\n            } catch (FontFormatException ex) {\n                ex.printStackTrace();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n\n            // You could do this in the try-catch block above, but the\n            // point is to demonstrate how it &quot;might&quot; be used after\n            // the initialisation phase has completed\n            Font font = new Font(&quot;DSEG14 Classic Mini&quot;, Font.PLAIN, 12);\n            if (font != null) {\n                setFont(font);\n            }\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(200, 200);\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            String text = &quot;Hello World&quot;;\n            FontMetrics fm = g2d.getFontMetrics();\n            int x = (getWidth() - fm.stringWidth(text)) / 2;\n            int y = ((getHeight() - fm.getHeight()) / 2) + fm.getAscent();\n            g2d.drawString(text, x, y);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<p><strong>BUT</strong>, you need to have a fallback workflow for what to do if you can't load the font.  For example, I might have a initialisation phase, which must complete successfully before the rest of the application can run.  This would allow you some &quot;grace&quot; in dealing with it and presenting a nice message to the user.</p>\n"}],"owner":{"account_id":24457053,"reputation":25,"user_id":18378492,"display_name":"cheese"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71387493,"answer_count":1,"score":0,"last_activity_date":1679149414,"creation_date":1646685553,"question_id":71386994,"body_markdown":"so, I&#39;m working on a clock, and it needs a font (from an external file) to make it look like a 14-segment display instead of the Sans-Serif font it currently uses. However, the font doesn&#39;t work for the JLabel element I&#39;m using, outside of the try block. how would I make the Font variable global?\r\n```\r\ntry {\r\n    Font dseg14 = Font.createFont(\r\n        Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    ge.registerFont(dseg14);\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n} catch(FontFormatException e) {\r\n    e.printStackTrace();\r\n}\r\n\r\nMain jFrame = new Main();\r\nJLabel timeLabel = new JLabel();\r\nDateTimeFormatter dateTimeFormatter = \r\nDateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm.ss&quot;);\r\ntimeLable.setFont(dseg14);\r\n```\r\n(sorry, the code is quite messy)","title":"how would I use a Font defined inside of a try{} block outside of the block in Java","body":"<p>so, I'm working on a clock, and it needs a font (from an external file) to make it look like a 14-segment display instead of the Sans-Serif font it currently uses. However, the font doesn't work for the JLabel element I'm using, outside of the try block. how would I make the Font variable global?</p>\n<pre><code>try {\n    Font dseg14 = Font.createFont(\n        Font.TRUETYPE_FONT, new File(&quot;DSEG14ClassicMini-Regular.ttf&quot;)).deriveFont(12f);\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    ge.registerFont(dseg14);\n} catch (IOException e) {\n    e.printStackTrace();\n} catch(FontFormatException e) {\n    e.printStackTrace();\n}\n\nMain jFrame = new Main();\nJLabel timeLabel = new JLabel();\nDateTimeFormatter dateTimeFormatter = \nDateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm.ss&quot;);\ntimeLable.setFont(dseg14);\n</code></pre>\n<p>(sorry, the code is quite messy)</p>\n"},{"tags":["java","android","nlp","translation","google-translate"],"answers":[{"tags":[],"owner":{"account_id":285454,"reputation":3061,"user_id":584127,"accept_rate":93,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369818270,"creation_date":1369818270,"answer_id":16809708,"question_id":16809232,"body_markdown":"\r\nit seems Google have opened up the translate API via a [web service][1]. This way, you can do the translation yourself and show it within your app. It&#39;s a bit more work, but it should do the job.\r\n\r\nYou could look at [google-api-translate-java][2] if you want to spare yourself from writing an API wrapper.\r\n\r\n  [1]: http://code.google.com/apis/language/translate/overview.html\r\n  [2]: http://code.google.com/p/google-api-translate-java/\r\n\r\n\r\nOR USE BELOW EXAMPLE\r\n\r\n\r\n    i.setComponent(\r\n        new ComponentName(\r\n            &quot;com.google.android.apps.translate&quot;,\r\n            &quot;com.google.android.apps.translate.translation.TranslateActivity&quot;));\r\n\r\nThe difference is that &quot;translation&quot; has been added before &quot;TranslateActivity&quot;\r\n\r\nSo my final version, including hard-coded translation from Spanish to English, is:\r\n\r\n    Intent i = new Intent();\r\n    i.setAction(Intent.ACTION_VIEW);\r\n    i.putExtra(&quot;key_text_input&quot;, &quot;Me gusta la cerveza&quot;);\r\n    i.putExtra(&quot;key_text_output&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_language_from&quot;, &quot;es&quot;);\r\n    i.putExtra(&quot;key_language_to&quot;, &quot;en&quot;);\r\n    i.putExtra(&quot;key_suggest_translation&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_from_floating_window&quot;, false);\r\n    i.setComponent(\r\n        new ComponentName(\r\n            &quot;com.google.android.apps.translate&quot;,\r\n            &quot;com.google.android.apps.translate.translation.TranslateActivity&quot;));\r\n    startActivity(i);\r\n\r\n","title":"Using google translate in android application","body":"<p>it seems Google have opened up the translate API via a <a href=\"http://code.google.com/apis/language/translate/overview.html\" rel=\"nofollow\">web service</a>. This way, you can do the translation yourself and show it within your app. It's a bit more work, but it should do the job.</p>\n\n<p>You could look at <a href=\"http://code.google.com/p/google-api-translate-java/\" rel=\"nofollow\">google-api-translate-java</a> if you want to spare yourself from writing an API wrapper.</p>\n\n<p>OR USE BELOW EXAMPLE</p>\n\n<pre><code>i.setComponent(\n    new ComponentName(\n        \"com.google.android.apps.translate\",\n        \"com.google.android.apps.translate.translation.TranslateActivity\"));\n</code></pre>\n\n<p>The difference is that \"translation\" has been added before \"TranslateActivity\"</p>\n\n<p>So my final version, including hard-coded translation from Spanish to English, is:</p>\n\n<pre><code>Intent i = new Intent();\ni.setAction(Intent.ACTION_VIEW);\ni.putExtra(\"key_text_input\", \"Me gusta la cerveza\");\ni.putExtra(\"key_text_output\", \"\");\ni.putExtra(\"key_language_from\", \"es\");\ni.putExtra(\"key_language_to\", \"en\");\ni.putExtra(\"key_suggest_translation\", \"\");\ni.putExtra(\"key_from_floating_window\", false);\ni.setComponent(\n    new ComponentName(\n        \"com.google.android.apps.translate\",\n        \"com.google.android.apps.translate.translation.TranslateActivity\"));\nstartActivity(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4906855,"reputation":5717,"user_id":3953357,"display_name":"Adam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456794689,"creation_date":1456794689,"answer_id":35712907,"question_id":16809232,"body_markdown":"I&#39;m just adding to this question as it is still getting a fair number of views and hasn&#39;t seen an accept.\r\n\r\nThe google-api-translate-java library from the Google Code Archive is out of date and should no longer be used. You should now be using the \r\n[Translate API Client Library for Java][1] which is a component of the [Google API Client Library for Java][2]\r\n\r\nAn example of usage:\r\n\r\n    GoogleAPI.setHttpReferrer(&quot;link&quot;); \r\n    GoogleAPI.setKey(&quot;key&quot;); \r\n    String translatedText = Translate.DEFAULT.execute(&quot;Some text&quot;, Language.ENGLISH, Language.FRENCH); \r\n\r\n  [1]: https://developers.google.com/api-client-library/java/apis/translate/v2\r\n  [2]: https://developers.google.com/api-client-library/java/","title":"Using google translate in android application","body":"<p>I'm just adding to this question as it is still getting a fair number of views and hasn't seen an accept.</p>\n\n<p>The google-api-translate-java library from the Google Code Archive is out of date and should no longer be used. You should now be using the \n<a href=\"https://developers.google.com/api-client-library/java/apis/translate/v2\" rel=\"nofollow\">Translate API Client Library for Java</a> which is a component of the <a href=\"https://developers.google.com/api-client-library/java/\" rel=\"nofollow\">Google API Client Library for Java</a></p>\n\n<p>An example of usage:</p>\n\n<pre><code>GoogleAPI.setHttpReferrer(\"link\"); \nGoogleAPI.setKey(\"key\"); \nString translatedText = Translate.DEFAULT.execute(\"Some text\", Language.ENGLISH, Language.FRENCH); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958580,"reputation":806,"user_id":6007050,"display_name":"Guru raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460488502,"creation_date":1460488149,"answer_id":36581994,"question_id":16809232,"body_markdown":"   \r\n Try using ACTION_SEND:\r\n\r\n    private void callGoogleTranslateApps(String word, String fromLang, String toLang) {\r\n    Intent i = new Intent();`\r\n    i.setAction(Intent.ACTION_SEND);\r\n    i.putExtra(&quot;key_text_input&quot;, word);\r\n    i.putExtra(&quot;key_text_output&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_language_from&quot;, fromLang);\r\n    i.putExtra(&quot;key_language_to&quot;, toLang);\r\n    i.putExtra(&quot;key_suggest_translation&quot;, &quot;&quot;);\r\n    i.putExtra(&quot;key_from_floating_window&quot;, false);`\r\n    i.setComponent(new ComponentName(&quot;com.google.android.apps.translate&quot;, &quot;com.google.android.apps.translate.TranslateActivity&quot;));\r\n    startActivity(i);\r\n    }","title":"Using google translate in android application","body":"<p>Try using ACTION_SEND:</p>\n\n<pre><code>private void callGoogleTranslateApps(String word, String fromLang, String toLang) {\nIntent i = new Intent();`\ni.setAction(Intent.ACTION_SEND);\ni.putExtra(\"key_text_input\", word);\ni.putExtra(\"key_text_output\", \"\");\ni.putExtra(\"key_language_from\", fromLang);\ni.putExtra(\"key_language_to\", toLang);\ni.putExtra(\"key_suggest_translation\", \"\");\ni.putExtra(\"key_from_floating_window\", false);`\ni.setComponent(new ComponentName(\"com.google.android.apps.translate\", \"com.google.android.apps.translate.TranslateActivity\"));\nstartActivity(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25993255,"reputation":11,"user_id":19705050,"display_name":"Bot Bahlul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679149145,"creation_date":1679046236,"answer_id":75766004,"question_id":16809232,"body_markdown":"```\r\npublic class MainActivity extends AppCompatActivity {\r\n    ArrayList&lt;String&gt; arraylist_src_code = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_dst_code = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_src_languages = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arraylist_dst_languages = new ArrayList&lt;&gt;();\r\n    Map&lt;String, String&gt; map_src_country = new HashMap&lt;&gt;();\r\n    Map&lt;String, String&gt; map_dst_country = new HashMap&lt;&gt;();\r\n    String src_language, dst_language, src_code, dst_code;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        arraylist_src_code.add(&quot;af&quot;);\r\n        arraylist_src_code.add(&quot;sq&quot;);\r\n        arraylist_src_code.add(&quot;am&quot;);\r\n        arraylist_src_code.add(&quot;ar&quot;);\r\n        arraylist_src_code.add(&quot;hy&quot;);\r\n        arraylist_src_code.add(&quot;as&quot;);\r\n        arraylist_src_code.add(&quot;ay&quot;);\r\n        arraylist_src_code.add(&quot;az&quot;);\r\n        arraylist_src_code.add(&quot;bm&quot;);\r\n        arraylist_src_code.add(&quot;eu&quot;);\r\n        arraylist_src_code.add(&quot;be&quot;);\r\n        arraylist_src_code.add(&quot;bn&quot;);\r\n        arraylist_src_code.add(&quot;bho&quot;);\r\n        arraylist_src_code.add(&quot;bs&quot;);\r\n        arraylist_src_code.add(&quot;bg&quot;);\r\n        arraylist_src_code.add(&quot;ca&quot;);\r\n        arraylist_src_code.add(&quot;ceb&quot;);\r\n        arraylist_src_code.add(&quot;ny&quot;);\r\n        arraylist_src_code.add(&quot;zh-CN&quot;);\r\n        arraylist_src_code.add(&quot;zh-TW&quot;);\r\n        arraylist_src_code.add(&quot;co&quot;);\r\n        arraylist_src_code.add(&quot;hr&quot;);\r\n        arraylist_src_code.add(&quot;cs&quot;);\r\n        arraylist_src_code.add(&quot;da&quot;);\r\n        arraylist_src_code.add(&quot;dv&quot;);\r\n        arraylist_src_code.add(&quot;doi&quot;);\r\n        arraylist_src_code.add(&quot;nl&quot;);\r\n        arraylist_src_code.add(&quot;en&quot;);\r\n        arraylist_src_code.add(&quot;eo&quot;);\r\n        arraylist_src_code.add(&quot;et&quot;);\r\n        arraylist_src_code.add(&quot;ee&quot;);\r\n        arraylist_src_code.add(&quot;fil&quot;);\r\n        arraylist_src_code.add(&quot;fi&quot;);\r\n        arraylist_src_code.add(&quot;fr&quot;);\r\n        arraylist_src_code.add(&quot;fy&quot;);\r\n        arraylist_src_code.add(&quot;gl&quot;);\r\n        arraylist_src_code.add(&quot;ka&quot;);\r\n        arraylist_src_code.add(&quot;de&quot;);\r\n        arraylist_src_code.add(&quot;el&quot;);\r\n        arraylist_src_code.add(&quot;gn&quot;);\r\n        arraylist_src_code.add(&quot;gu&quot;);\r\n        arraylist_src_code.add(&quot;ht&quot;);\r\n        arraylist_src_code.add(&quot;ha&quot;);\r\n        arraylist_src_code.add(&quot;haw&quot;);\r\n        arraylist_src_code.add(&quot;he&quot;);\r\n        arraylist_src_code.add(&quot;hi&quot;);\r\n        arraylist_src_code.add(&quot;hmn&quot;);\r\n        arraylist_src_code.add(&quot;hu&quot;);\r\n        arraylist_src_code.add(&quot;is&quot;);\r\n        arraylist_src_code.add(&quot;ig&quot;);\r\n        arraylist_src_code.add(&quot;ilo&quot;);\r\n        arraylist_src_code.add(&quot;id&quot;);\r\n        arraylist_src_code.add(&quot;ga&quot;);\r\n        arraylist_src_code.add(&quot;it&quot;);\r\n        arraylist_src_code.add(&quot;ja&quot;);\r\n        arraylist_src_code.add(&quot;jv&quot;);\r\n        arraylist_src_code.add(&quot;kn&quot;);\r\n        arraylist_src_code.add(&quot;kk&quot;);\r\n        arraylist_src_code.add(&quot;km&quot;);\r\n        arraylist_src_code.add(&quot;rw&quot;);\r\n        arraylist_src_code.add(&quot;gom&quot;);\r\n        arraylist_src_code.add(&quot;ko&quot;);\r\n        arraylist_src_code.add(&quot;kri&quot;);\r\n        arraylist_src_code.add(&quot;kmr&quot;);\r\n        arraylist_src_code.add(&quot;ckb&quot;);\r\n        arraylist_src_code.add(&quot;ky&quot;);\r\n        arraylist_src_code.add(&quot;lo&quot;);\r\n        arraylist_src_code.add(&quot;la&quot;);\r\n        arraylist_src_code.add(&quot;lv&quot;);\r\n        arraylist_src_code.add(&quot;ln&quot;);\r\n        arraylist_src_code.add(&quot;lt&quot;);\r\n        arraylist_src_code.add(&quot;lg&quot;);\r\n        arraylist_src_code.add(&quot;lb&quot;);\r\n        arraylist_src_code.add(&quot;mk&quot;);\r\n        arraylist_src_code.add(&quot;mg&quot;);\r\n        arraylist_src_code.add(&quot;ms&quot;);\r\n        arraylist_src_code.add(&quot;ml&quot;);\r\n        arraylist_src_code.add(&quot;mt&quot;);\r\n        arraylist_src_code.add(&quot;mi&quot;);\r\n        arraylist_src_code.add(&quot;mr&quot;);\r\n        arraylist_src_code.add(&quot;mni-Mtei&quot;);\r\n        arraylist_src_code.add(&quot;lus&quot;);\r\n        arraylist_src_code.add(&quot;mn&quot;);\r\n        arraylist_src_code.add(&quot;my&quot;);\r\n        arraylist_src_code.add(&quot;ne&quot;);\r\n        arraylist_src_code.add(&quot;no&quot;);\r\n        arraylist_src_code.add(&quot;or&quot;);\r\n        arraylist_src_code.add(&quot;om&quot;);\r\n        arraylist_src_code.add(&quot;ps&quot;);\r\n        arraylist_src_code.add(&quot;fa&quot;);\r\n        arraylist_src_code.add(&quot;pl&quot;);\r\n        arraylist_src_code.add(&quot;pt&quot;);\r\n        arraylist_src_code.add(&quot;pa&quot;);\r\n        arraylist_src_code.add(&quot;qu&quot;);\r\n        arraylist_src_code.add(&quot;ro&quot;);\r\n        arraylist_src_code.add(&quot;ru&quot;);\r\n        arraylist_src_code.add(&quot;sm&quot;);\r\n        arraylist_src_code.add(&quot;sa&quot;);\r\n        arraylist_src_code.add(&quot;gd&quot;);\r\n        arraylist_src_code.add(&quot;nso&quot;);\r\n        arraylist_src_code.add(&quot;sr&quot;);\r\n        arraylist_src_code.add(&quot;st&quot;);\r\n        arraylist_src_code.add(&quot;sn&quot;);\r\n        arraylist_src_code.add(&quot;sd&quot;);\r\n        arraylist_src_code.add(&quot;si&quot;);\r\n        arraylist_src_code.add(&quot;sk&quot;);\r\n        arraylist_src_code.add(&quot;sl&quot;);\r\n        arraylist_src_code.add(&quot;so&quot;);\r\n        arraylist_src_code.add(&quot;es&quot;);\r\n        arraylist_src_code.add(&quot;su&quot;);\r\n        arraylist_src_code.add(&quot;sw&quot;);\r\n        arraylist_src_code.add(&quot;sv&quot;);\r\n        arraylist_src_code.add(&quot;tg&quot;);\r\n        arraylist_src_code.add(&quot;ta&quot;);\r\n        arraylist_src_code.add(&quot;tt&quot;);\r\n        arraylist_src_code.add(&quot;te&quot;);\r\n        arraylist_src_code.add(&quot;th&quot;);\r\n        arraylist_src_code.add(&quot;ti&quot;);\r\n        arraylist_src_code.add(&quot;ts&quot;);\r\n        arraylist_src_code.add(&quot;tr&quot;);\r\n        arraylist_src_code.add(&quot;tk&quot;);\r\n        arraylist_src_code.add(&quot;tw&quot;);\r\n        arraylist_src_code.add(&quot;uk&quot;);\r\n        arraylist_src_code.add(&quot;ur&quot;);\r\n        arraylist_src_code.add(&quot;ug&quot;);\r\n        arraylist_src_code.add(&quot;uz&quot;);\r\n        arraylist_src_code.add(&quot;vi&quot;);\r\n        arraylist_src_code.add(&quot;cy&quot;);\r\n        arraylist_src_code.add(&quot;xh&quot;);\r\n        arraylist_src_code.add(&quot;yi&quot;);\r\n        arraylist_src_code.add(&quot;yo&quot;);\r\n        arraylist_src_code.add(&quot;zu&quot;);\r\n\r\n        arraylist_src_languages.add(&quot;Afrikaans&quot;);\r\n        arraylist_src_languages.add(&quot;Albanian&quot;);\r\n        arraylist_src_languages.add(&quot;Amharic&quot;);\r\n        arraylist_src_languages.add(&quot;Arabic&quot;);\r\n        arraylist_src_languages.add(&quot;Armenian&quot;);\r\n        arraylist_src_languages.add(&quot;Assamese&quot;);\r\n        arraylist_src_languages.add(&quot;Aymara&quot;);\r\n        arraylist_src_languages.add(&quot;Azerbaijani&quot;);\r\n        arraylist_src_languages.add(&quot;Bambara&quot;);\r\n        arraylist_src_languages.add(&quot;Basque&quot;);\r\n        arraylist_src_languages.add(&quot;Belarusian&quot;);\r\n        arraylist_src_languages.add(&quot;Bengali&quot;);\r\n        arraylist_src_languages.add(&quot;Bhojpuri&quot;);\r\n        arraylist_src_languages.add(&quot;Bosnian&quot;);\r\n        arraylist_src_languages.add(&quot;Bulgarian&quot;);\r\n        arraylist_src_languages.add(&quot;Catalan&quot;);\r\n        arraylist_src_languages.add(&quot;Cebuano&quot;);\r\n        arraylist_src_languages.add(&quot;Chichewa&quot;);\r\n        arraylist_src_languages.add(&quot;Chinese (Simplified)&quot;);\r\n        arraylist_src_languages.add(&quot;Chinese (Traditional)&quot;);\r\n        arraylist_src_languages.add(&quot;Corsican&quot;);\r\n        arraylist_src_languages.add(&quot;Croatian&quot;);\r\n        arraylist_src_languages.add(&quot;Czech&quot;);\r\n        arraylist_src_languages.add(&quot;Danish&quot;);\r\n        arraylist_src_languages.add(&quot;Dhivehi&quot;);\r\n        arraylist_src_languages.add(&quot;Dogri&quot;);\r\n        arraylist_src_languages.add(&quot;Dutch&quot;);\r\n        arraylist_src_languages.add(&quot;English&quot;);\r\n        arraylist_src_languages.add(&quot;Esperanto&quot;);\r\n        arraylist_src_languages.add(&quot;Estonian&quot;);\r\n        arraylist_src_languages.add(&quot;Ewe&quot;);\r\n        arraylist_src_languages.add(&quot;Filipino&quot;);\r\n        arraylist_src_languages.add(&quot;Finnish&quot;);\r\n        arraylist_src_languages.add(&quot;French&quot;);\r\n        arraylist_src_languages.add(&quot;Frisian&quot;);\r\n        arraylist_src_languages.add(&quot;Galician&quot;);\r\n        arraylist_src_languages.add(&quot;Georgian&quot;);\r\n        arraylist_src_languages.add(&quot;German&quot;);\r\n        arraylist_src_languages.add(&quot;Greek&quot;);\r\n        arraylist_src_languages.add(&quot;Guarani&quot;);\r\n        arraylist_src_languages.add(&quot;Gujarati&quot;);\r\n        arraylist_src_languages.add(&quot;Haitian Creole&quot;);\r\n        arraylist_src_languages.add(&quot;Hausa&quot;);\r\n        arraylist_src_languages.add(&quot;Hawaiian&quot;);\r\n        arraylist_src_languages.add(&quot;Hebrew&quot;);\r\n        arraylist_src_languages.add(&quot;Hindi&quot;);\r\n        arraylist_src_languages.add(&quot;Hmong&quot;);\r\n        arraylist_src_languages.add(&quot;Hungarian&quot;);\r\n        arraylist_src_languages.add(&quot;Icelandic&quot;);\r\n        arraylist_src_languages.add(&quot;Igbo&quot;);\r\n        arraylist_src_languages.add(&quot;Ilocano&quot;);\r\n        arraylist_src_languages.add(&quot;Indonesian&quot;);\r\n        arraylist_src_languages.add(&quot;Irish&quot;);\r\n        arraylist_src_languages.add(&quot;Italian&quot;);\r\n        arraylist_src_languages.add(&quot;Japanese&quot;);\r\n        arraylist_src_languages.add(&quot;Javanese&quot;);\r\n        arraylist_src_languages.add(&quot;Kannada&quot;);\r\n        arraylist_src_languages.add(&quot;Kazakh&quot;);\r\n        arraylist_src_languages.add(&quot;Khmer&quot;);\r\n        arraylist_src_languages.add(&quot;Kinyarwanda&quot;);\r\n        arraylist_src_languages.add(&quot;Konkani&quot;);\r\n        arraylist_src_languages.add(&quot;Korean&quot;);\r\n        arraylist_src_languages.add(&quot;Krio&quot;);\r\n        arraylist_src_languages.add(&quot;Kurdish (Kurmanji)&quot;);\r\n        arraylist_src_languages.add(&quot;Kurdish (Sorani)&quot;);\r\n        arraylist_src_languages.add(&quot;Kyrgyz&quot;);\r\n        arraylist_src_languages.add(&quot;Lao&quot;);\r\n        arraylist_src_languages.add(&quot;Latin&quot;);\r\n        arraylist_src_languages.add(&quot;Latvian&quot;);\r\n        arraylist_src_languages.add(&quot;Lingala&quot;);\r\n        arraylist_src_languages.add(&quot;Lithuanian&quot;);\r\n        arraylist_src_languages.add(&quot;Luganda&quot;);\r\n        arraylist_src_languages.add(&quot;Luxembourgish&quot;);\r\n        arraylist_src_languages.add(&quot;Macedonian&quot;);\r\n        arraylist_src_languages.add(&quot;Malagasy&quot;);\r\n        arraylist_src_languages.add(&quot;Malay&quot;);\r\n        arraylist_src_languages.add(&quot;Malayalam&quot;);\r\n        arraylist_src_languages.add(&quot;Maltese&quot;);\r\n        arraylist_src_languages.add(&quot;Maori&quot;);\r\n        arraylist_src_languages.add(&quot;Marathi&quot;);\r\n        arraylist_src_languages.add(&quot;Meiteilon (Manipuri)&quot;);\r\n        arraylist_src_languages.add(&quot;Mizo&quot;);\r\n        arraylist_src_languages.add(&quot;Mongolian&quot;);\r\n        arraylist_src_languages.add(&quot;Myanmar (Burmese)&quot;);\r\n        arraylist_src_languages.add(&quot;Nepali&quot;);\r\n        arraylist_src_languages.add(&quot;Norwegian&quot;);\r\n        arraylist_src_languages.add(&quot;Odiya (Oriya)&quot;);\r\n        arraylist_src_languages.add(&quot;Oromo&quot;);\r\n        arraylist_src_languages.add(&quot;Pashto&quot;);\r\n        arraylist_src_languages.add(&quot;Persian&quot;);\r\n        arraylist_src_languages.add(&quot;Polish&quot;);\r\n        arraylist_src_languages.add(&quot;Portuguese&quot;);\r\n        arraylist_src_languages.add(&quot;Punjabi&quot;);\r\n        arraylist_src_languages.add(&quot;Quechua&quot;);\r\n        arraylist_src_languages.add(&quot;Romanian&quot;);\r\n        arraylist_src_languages.add(&quot;Russian&quot;);\r\n        arraylist_src_languages.add(&quot;Samoan&quot;);\r\n        arraylist_src_languages.add(&quot;Sanskrit&quot;);\r\n        arraylist_src_languages.add(&quot;Scots Gaelic&quot;);\r\n        arraylist_src_languages.add(&quot;Sepedi&quot;);\r\n        arraylist_src_languages.add(&quot;Serbian&quot;);\r\n        arraylist_src_languages.add(&quot;Sesotho&quot;);\r\n        arraylist_src_languages.add(&quot;Shona&quot;);\r\n        arraylist_src_languages.add(&quot;Sindhi&quot;);\r\n        arraylist_src_languages.add(&quot;Sinhala&quot;);\r\n        arraylist_src_languages.add(&quot;Slovak&quot;);\r\n        arraylist_src_languages.add(&quot;Slovenian&quot;);\r\n        arraylist_src_languages.add(&quot;Somali&quot;);\r\n        arraylist_src_languages.add(&quot;Spanish&quot;);\r\n        arraylist_src_languages.add(&quot;Sundanese&quot;);\r\n        arraylist_src_languages.add(&quot;Swahili&quot;);\r\n        arraylist_src_languages.add(&quot;Swedish&quot;);\r\n        arraylist_src_languages.add(&quot;Tajik&quot;);\r\n        arraylist_src_languages.add(&quot;Tamil&quot;);\r\n        arraylist_src_languages.add(&quot;Tatar&quot;);\r\n        arraylist_src_languages.add(&quot;Telugu&quot;);\r\n        arraylist_src_languages.add(&quot;Thai&quot;);\r\n        arraylist_src_languages.add(&quot;Tigrinya&quot;);\r\n        arraylist_src_languages.add(&quot;Tsonga&quot;);\r\n        arraylist_src_languages.add(&quot;Turkish&quot;);\r\n        arraylist_src_languages.add(&quot;Turkmen&quot;);\r\n        arraylist_src_languages.add(&quot;Twi (Akan)&quot;);\r\n        arraylist_src_languages.add(&quot;Ukrainian&quot;);\r\n        arraylist_src_languages.add(&quot;Urdu&quot;);\r\n        arraylist_src_languages.add(&quot;Uyghur&quot;);\r\n        arraylist_src_languages.add(&quot;Uzbek&quot;);\r\n        arraylist_src_languages.add(&quot;Vietnamese&quot;);\r\n        arraylist_src_languages.add(&quot;Welsh&quot;);\r\n        arraylist_src_languages.add(&quot;Xhosa&quot;);\r\n        arraylist_src_languages.add(&quot;Yiddish&quot;);\r\n        arraylist_src_languages.add(&quot;Yoruba&quot;);\r\n        arraylist_src_languages.add(&quot;Zulu&quot;);\r\n\r\n        for (int i = 0; i &lt; arraylist_src_languages.size(); i++) {\r\n            map_src_country.put(arraylist_src_languages.get(i), arraylist_src_code.get(i));\r\n        }\r\n\r\n        arraylist_dst_code.add(&quot;af&quot;);\r\n        arraylist_dst_code.add(&quot;sq&quot;);\r\n        arraylist_dst_code.add(&quot;am&quot;);\r\n        arraylist_dst_code.add(&quot;ar&quot;);\r\n        arraylist_dst_code.add(&quot;hy&quot;);\r\n        arraylist_dst_code.add(&quot;as&quot;);\r\n        arraylist_dst_code.add(&quot;ay&quot;);\r\n        arraylist_dst_code.add(&quot;az&quot;);\r\n        arraylist_dst_code.add(&quot;bm&quot;);\r\n        arraylist_dst_code.add(&quot;eu&quot;);\r\n        arraylist_dst_code.add(&quot;be&quot;);\r\n        arraylist_dst_code.add(&quot;bn&quot;);\r\n        arraylist_dst_code.add(&quot;bho&quot;);\r\n        arraylist_dst_code.add(&quot;bs&quot;);\r\n        arraylist_dst_code.add(&quot;bg&quot;);\r\n        arraylist_dst_code.add(&quot;ca&quot;);\r\n        arraylist_dst_code.add(&quot;ceb&quot;);\r\n        arraylist_dst_code.add(&quot;ny&quot;);\r\n        arraylist_dst_code.add(&quot;zh-CN&quot;);\r\n        arraylist_dst_code.add(&quot;zh-TW&quot;);\r\n        arraylist_dst_code.add(&quot;co&quot;);\r\n        arraylist_dst_code.add(&quot;hr&quot;);\r\n        arraylist_dst_code.add(&quot;cs&quot;);\r\n        arraylist_dst_code.add(&quot;da&quot;);\r\n        arraylist_dst_code.add(&quot;dv&quot;);\r\n        arraylist_dst_code.add(&quot;doi&quot;);\r\n        arraylist_dst_code.add(&quot;nl&quot;);\r\n        arraylist_dst_code.add(&quot;en&quot;);\r\n        arraylist_dst_code.add(&quot;eo&quot;);\r\n        arraylist_dst_code.add(&quot;et&quot;);\r\n        arraylist_dst_code.add(&quot;ee&quot;);\r\n        arraylist_dst_code.add(&quot;fil&quot;);\r\n        arraylist_dst_code.add(&quot;fi&quot;);\r\n        arraylist_dst_code.add(&quot;fr&quot;);\r\n        arraylist_dst_code.add(&quot;fy&quot;);\r\n        arraylist_dst_code.add(&quot;gl&quot;);\r\n        arraylist_dst_code.add(&quot;ka&quot;);\r\n        arraylist_dst_code.add(&quot;de&quot;);\r\n        arraylist_dst_code.add(&quot;el&quot;);\r\n        arraylist_dst_code.add(&quot;gn&quot;);\r\n        arraylist_dst_code.add(&quot;gu&quot;);\r\n        arraylist_dst_code.add(&quot;ht&quot;);\r\n        arraylist_dst_code.add(&quot;ha&quot;);\r\n        arraylist_dst_code.add(&quot;haw&quot;);\r\n        arraylist_dst_code.add(&quot;he&quot;);\r\n        arraylist_dst_code.add(&quot;hi&quot;);\r\n        arraylist_dst_code.add(&quot;hmn&quot;);\r\n        arraylist_dst_code.add(&quot;hu&quot;);\r\n        arraylist_dst_code.add(&quot;is&quot;);\r\n        arraylist_dst_code.add(&quot;ig&quot;);\r\n        arraylist_dst_code.add(&quot;ilo&quot;);\r\n        arraylist_dst_code.add(&quot;id&quot;);\r\n        arraylist_dst_code.add(&quot;ga&quot;);\r\n        arraylist_dst_code.add(&quot;it&quot;);\r\n        arraylist_dst_code.add(&quot;ja&quot;);\r\n        arraylist_dst_code.add(&quot;jv&quot;);\r\n        arraylist_dst_code.add(&quot;kn&quot;);\r\n        arraylist_dst_code.add(&quot;kk&quot;);\r\n        arraylist_dst_code.add(&quot;km&quot;);\r\n        arraylist_dst_code.add(&quot;rw&quot;);\r\n        arraylist_dst_code.add(&quot;gom&quot;);\r\n        arraylist_dst_code.add(&quot;ko&quot;);\r\n        arraylist_dst_code.add(&quot;kri&quot;);\r\n        arraylist_dst_code.add(&quot;kmr&quot;);\r\n        arraylist_dst_code.add(&quot;ckb&quot;);\r\n        arraylist_dst_code.add(&quot;ky&quot;);\r\n        arraylist_dst_code.add(&quot;lo&quot;);\r\n        arraylist_dst_code.add(&quot;la&quot;);\r\n        arraylist_dst_code.add(&quot;lv&quot;);\r\n        arraylist_dst_code.add(&quot;ln&quot;);\r\n        arraylist_dst_code.add(&quot;lt&quot;);\r\n        arraylist_dst_code.add(&quot;lg&quot;);\r\n        arraylist_dst_code.add(&quot;lb&quot;);\r\n        arraylist_dst_code.add(&quot;mk&quot;);\r\n        arraylist_dst_code.add(&quot;mg&quot;);\r\n        arraylist_dst_code.add(&quot;ms&quot;);\r\n        arraylist_dst_code.add(&quot;ml&quot;);\r\n        arraylist_dst_code.add(&quot;mt&quot;);\r\n        arraylist_dst_code.add(&quot;mi&quot;);\r\n        arraylist_dst_code.add(&quot;mr&quot;);\r\n        arraylist_dst_code.add(&quot;mni-Mtei&quot;);\r\n        arraylist_dst_code.add(&quot;lus&quot;);\r\n        arraylist_dst_code.add(&quot;mn&quot;);\r\n        arraylist_dst_code.add(&quot;my&quot;);\r\n        arraylist_dst_code.add(&quot;ne&quot;);\r\n        arraylist_dst_code.add(&quot;no&quot;);\r\n        arraylist_dst_code.add(&quot;or&quot;);\r\n        arraylist_dst_code.add(&quot;om&quot;);\r\n        arraylist_dst_code.add(&quot;ps&quot;);\r\n        arraylist_dst_code.add(&quot;fa&quot;);\r\n        arraylist_dst_code.add(&quot;pl&quot;);\r\n        arraylist_dst_code.add(&quot;pt&quot;);\r\n        arraylist_dst_code.add(&quot;pa&quot;);\r\n        arraylist_dst_code.add(&quot;qu&quot;);\r\n        arraylist_dst_code.add(&quot;ro&quot;);\r\n        arraylist_dst_code.add(&quot;ru&quot;);\r\n        arraylist_dst_code.add(&quot;sm&quot;);\r\n        arraylist_dst_code.add(&quot;sa&quot;);\r\n        arraylist_dst_code.add(&quot;gd&quot;);\r\n        arraylist_dst_code.add(&quot;nso&quot;);\r\n        arraylist_dst_code.add(&quot;sr&quot;);\r\n        arraylist_dst_code.add(&quot;st&quot;);\r\n        arraylist_dst_code.add(&quot;sn&quot;);\r\n        arraylist_dst_code.add(&quot;sd&quot;);\r\n        arraylist_dst_code.add(&quot;si&quot;);\r\n        arraylist_dst_code.add(&quot;sk&quot;);\r\n        arraylist_dst_code.add(&quot;sl&quot;);\r\n        arraylist_dst_code.add(&quot;so&quot;);\r\n        arraylist_dst_code.add(&quot;es&quot;);\r\n        arraylist_dst_code.add(&quot;su&quot;);\r\n        arraylist_dst_code.add(&quot;sw&quot;);\r\n        arraylist_dst_code.add(&quot;sv&quot;);\r\n        arraylist_dst_code.add(&quot;tg&quot;);\r\n        arraylist_dst_code.add(&quot;ta&quot;);\r\n        arraylist_dst_code.add(&quot;tt&quot;);\r\n        arraylist_dst_code.add(&quot;te&quot;);\r\n        arraylist_dst_code.add(&quot;th&quot;);\r\n        arraylist_dst_code.add(&quot;ti&quot;);\r\n        arraylist_dst_code.add(&quot;ts&quot;);\r\n        arraylist_dst_code.add(&quot;tr&quot;);\r\n        arraylist_dst_code.add(&quot;tk&quot;);\r\n        arraylist_dst_code.add(&quot;tw&quot;);\r\n        arraylist_dst_code.add(&quot;uk&quot;);\r\n        arraylist_dst_code.add(&quot;ur&quot;);\r\n        arraylist_dst_code.add(&quot;ug&quot;);\r\n        arraylist_dst_code.add(&quot;uz&quot;);\r\n        arraylist_dst_code.add(&quot;vi&quot;);\r\n        arraylist_dst_code.add(&quot;cy&quot;);\r\n        arraylist_dst_code.add(&quot;xh&quot;);\r\n        arraylist_dst_code.add(&quot;yi&quot;);\r\n        arraylist_dst_code.add(&quot;yo&quot;);\r\n        arraylist_dst_code.add(&quot;zu&quot;);\r\n\r\n        arraylist_dst_languages.add(&quot;Afrikaans&quot;);\r\n        arraylist_dst_languages.add(&quot;Albanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Amharic&quot;);\r\n        arraylist_dst_languages.add(&quot;Arabic&quot;);\r\n        arraylist_dst_languages.add(&quot;Armenian&quot;);\r\n        arraylist_dst_languages.add(&quot;Assamese&quot;);\r\n        arraylist_dst_languages.add(&quot;Aymara&quot;);\r\n        arraylist_dst_languages.add(&quot;Azerbaijani&quot;);\r\n        arraylist_dst_languages.add(&quot;Bambara&quot;);\r\n        arraylist_dst_languages.add(&quot;Basque&quot;);\r\n        arraylist_dst_languages.add(&quot;Belarusian&quot;);\r\n        arraylist_dst_languages.add(&quot;Bengali&quot;);\r\n        arraylist_dst_languages.add(&quot;Bhojpuri&quot;);\r\n        arraylist_dst_languages.add(&quot;Bosnian&quot;);\r\n        arraylist_dst_languages.add(&quot;Bulgarian&quot;);\r\n        arraylist_dst_languages.add(&quot;Catalan&quot;);\r\n        arraylist_dst_languages.add(&quot;Cebuano&quot;);\r\n        arraylist_dst_languages.add(&quot;Chichewa&quot;);\r\n        arraylist_dst_languages.add(&quot;Chinese (Simplified)&quot;);\r\n        arraylist_dst_languages.add(&quot;Chinese (Traditional)&quot;);\r\n        arraylist_dst_languages.add(&quot;Corsican&quot;);\r\n        arraylist_dst_languages.add(&quot;Croatian&quot;);\r\n        arraylist_dst_languages.add(&quot;Czech&quot;);\r\n        arraylist_dst_languages.add(&quot;Danish&quot;);\r\n        arraylist_dst_languages.add(&quot;Dhivehi&quot;);\r\n        arraylist_dst_languages.add(&quot;Dogri&quot;);\r\n        arraylist_dst_languages.add(&quot;Dutch&quot;);\r\n        arraylist_dst_languages.add(&quot;English&quot;);\r\n        arraylist_dst_languages.add(&quot;Esperanto&quot;);\r\n        arraylist_dst_languages.add(&quot;Estonian&quot;);\r\n        arraylist_dst_languages.add(&quot;Ewe&quot;);\r\n        arraylist_dst_languages.add(&quot;Filipino&quot;);\r\n        arraylist_dst_languages.add(&quot;Finnish&quot;);\r\n        arraylist_dst_languages.add(&quot;French&quot;);\r\n        arraylist_dst_languages.add(&quot;Frisian&quot;);\r\n        arraylist_dst_languages.add(&quot;Galician&quot;);\r\n        arraylist_dst_languages.add(&quot;Georgian&quot;);\r\n        arraylist_dst_languages.add(&quot;German&quot;);\r\n        arraylist_dst_languages.add(&quot;Greek&quot;);\r\n        arraylist_dst_languages.add(&quot;Guarani&quot;);\r\n        arraylist_dst_languages.add(&quot;Gujarati&quot;);\r\n        arraylist_dst_languages.add(&quot;Haitian Creole&quot;);\r\n        arraylist_dst_languages.add(&quot;Hausa&quot;);\r\n        arraylist_dst_languages.add(&quot;Hawaiian&quot;);\r\n        arraylist_dst_languages.add(&quot;Hebrew&quot;);\r\n        arraylist_dst_languages.add(&quot;Hindi&quot;);\r\n        arraylist_dst_languages.add(&quot;Hmong&quot;);\r\n        arraylist_dst_languages.add(&quot;Hungarian&quot;);\r\n        arraylist_dst_languages.add(&quot;Icelandic&quot;);\r\n        arraylist_dst_languages.add(&quot;Igbo&quot;);\r\n        arraylist_dst_languages.add(&quot;Ilocano&quot;);\r\n        arraylist_dst_languages.add(&quot;Indonesian&quot;);\r\n        arraylist_dst_languages.add(&quot;Irish&quot;);\r\n        arraylist_dst_languages.add(&quot;Italian&quot;);\r\n        arraylist_dst_languages.add(&quot;Japanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Javanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Kannada&quot;);\r\n        arraylist_dst_languages.add(&quot;Kazakh&quot;);\r\n        arraylist_dst_languages.add(&quot;Khmer&quot;);\r\n        arraylist_dst_languages.add(&quot;Kinyarwanda&quot;);\r\n        arraylist_dst_languages.add(&quot;Konkani&quot;);\r\n        arraylist_dst_languages.add(&quot;Korean&quot;);\r\n        arraylist_dst_languages.add(&quot;Krio&quot;);\r\n        arraylist_dst_languages.add(&quot;Kurdish (Kurmanji)&quot;);\r\n        arraylist_dst_languages.add(&quot;Kurdish (Sorani)&quot;);\r\n        arraylist_dst_languages.add(&quot;Kyrgyz&quot;);\r\n        arraylist_dst_languages.add(&quot;Lao&quot;);\r\n        arraylist_dst_languages.add(&quot;Latin&quot;);\r\n        arraylist_dst_languages.add(&quot;Latvian&quot;);\r\n        arraylist_dst_languages.add(&quot;Lingala&quot;);\r\n        arraylist_dst_languages.add(&quot;Lithuanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Luganda&quot;);\r\n        arraylist_dst_languages.add(&quot;Luxembourgish&quot;);\r\n        arraylist_dst_languages.add(&quot;Macedonian&quot;);\r\n        arraylist_dst_languages.add(&quot;Malagasy&quot;);\r\n        arraylist_dst_languages.add(&quot;Malay&quot;);\r\n        arraylist_dst_languages.add(&quot;Malayalam&quot;);\r\n        arraylist_dst_languages.add(&quot;Maltese&quot;);\r\n        arraylist_dst_languages.add(&quot;Maori&quot;);\r\n        arraylist_dst_languages.add(&quot;Marathi&quot;);\r\n        arraylist_dst_languages.add(&quot;Meiteilon (Manipuri)&quot;);\r\n        arraylist_dst_languages.add(&quot;Mizo&quot;);\r\n        arraylist_dst_languages.add(&quot;Mongolian&quot;);\r\n        arraylist_dst_languages.add(&quot;Myanmar (Burmese)&quot;);\r\n        arraylist_dst_languages.add(&quot;Nepali&quot;);\r\n        arraylist_dst_languages.add(&quot;Norwegian&quot;);\r\n        arraylist_dst_languages.add(&quot;Odiya (Oriya)&quot;);\r\n        arraylist_dst_languages.add(&quot;Oromo&quot;);\r\n        arraylist_dst_languages.add(&quot;Pashto&quot;);\r\n        arraylist_dst_languages.add(&quot;Persian&quot;);\r\n        arraylist_dst_languages.add(&quot;Polish&quot;);\r\n        arraylist_dst_languages.add(&quot;Portuguese&quot;);\r\n        arraylist_dst_languages.add(&quot;Punjabi&quot;);\r\n        arraylist_dst_languages.add(&quot;Quechua&quot;);\r\n        arraylist_dst_languages.add(&quot;Romanian&quot;);\r\n        arraylist_dst_languages.add(&quot;Russian&quot;);\r\n        arraylist_dst_languages.add(&quot;Samoan&quot;);\r\n        arraylist_dst_languages.add(&quot;Sanskrit&quot;);\r\n        arraylist_dst_languages.add(&quot;Scots Gaelic&quot;);\r\n        arraylist_dst_languages.add(&quot;Sepedi&quot;);\r\n        arraylist_dst_languages.add(&quot;Serbian&quot;);\r\n        arraylist_dst_languages.add(&quot;Sesotho&quot;);\r\n        arraylist_dst_languages.add(&quot;Shona&quot;);\r\n        arraylist_dst_languages.add(&quot;Sindhi&quot;);\r\n        arraylist_dst_languages.add(&quot;Sinhala&quot;);\r\n        arraylist_dst_languages.add(&quot;Slovak&quot;);\r\n        arraylist_dst_languages.add(&quot;Slovenian&quot;);\r\n        arraylist_dst_languages.add(&quot;Somali&quot;);\r\n        arraylist_dst_languages.add(&quot;Spanish&quot;);\r\n        arraylist_dst_languages.add(&quot;Sundanese&quot;);\r\n        arraylist_dst_languages.add(&quot;Swahili&quot;);\r\n        arraylist_dst_languages.add(&quot;Swedish&quot;);\r\n        arraylist_dst_languages.add(&quot;Tajik&quot;);\r\n        arraylist_dst_languages.add(&quot;Tamil&quot;);\r\n        arraylist_dst_languages.add(&quot;Tatar&quot;);\r\n        arraylist_dst_languages.add(&quot;Telugu&quot;);\r\n        arraylist_dst_languages.add(&quot;Thai&quot;);\r\n        arraylist_dst_languages.add(&quot;Tigrinya&quot;);\r\n        arraylist_dst_languages.add(&quot;Tsonga&quot;);\r\n        arraylist_dst_languages.add(&quot;Turkish&quot;);\r\n        arraylist_dst_languages.add(&quot;Turkmen&quot;);\r\n        arraylist_dst_languages.add(&quot;Twi (Akan)&quot;);\r\n        arraylist_dst_languages.add(&quot;Ukrainian&quot;);\r\n        arraylist_dst_languages.add(&quot;Urdu&quot;);\r\n        arraylist_dst_languages.add(&quot;Uyghur&quot;);\r\n        arraylist_dst_languages.add(&quot;Uzbek&quot;);\r\n        arraylist_dst_languages.add(&quot;Vietnamese&quot;);\r\n        arraylist_dst_languages.add(&quot;Welsh&quot;);\r\n        arraylist_dst_languages.add(&quot;Xhosa&quot;);\r\n        arraylist_dst_languages.add(&quot;Yiddish&quot;);\r\n        arraylist_dst_languages.add(&quot;Yoruba&quot;);\r\n        arraylist_dst_languages.add(&quot;Zulu&quot;);\r\n\r\n        for (int i = 0; i &lt; arraylist_dst_languages.size(); i++) {\r\n            map_dst_country.put(arraylist_dst_languages.get(i), arraylist_dst_code.get(i));\r\n        }\r\n\r\n\t\tString Sentence = &quot;This is a test&quot;;\r\n\t\tsrc_language = &quot;English&quot;;\r\n\t\tsrc_code = map_src_country.get(src_language);\r\n\t\tdst_language = &quot;Hindi&quot;;\r\n\t\tdst_code = map_dst_country.get(dst_language);\r\n\t\tString Translation = GoogleTranslate(Sentence, src_code, dst_code);\r\n\t\tSystem.out.println(&quot;Translation = &quot; + Translation);\r\n\r\n\t}\r\n\r\n\r\n\tprivate String GoogleTranslate(String SENTENCE, String SRC, String DST) {\r\n\t\tAtomicReference&lt;String&gt; TRANSLATION = new AtomicReference&lt;&gt;(&quot;&quot;);\r\n\t\ttry {\r\n\t\t\tSENTENCE = URLEncoder.encode(SENTENCE, &quot;utf-8&quot;);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\tLog.e(&quot;UnsupportedEncodingException: &quot;, Objects.requireNonNull(e.getMessage()));\r\n\t\t\te.printStackTrace();\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\tString finalSENTENCE = SENTENCE;\r\n\t\ttry {\r\n\t\t\tString url = &quot;https://translate.googleapis.com/translate_a/&quot;;\r\n\t\t\tString params = &quot;single?client=gtx&amp;sl=&quot; + SRC + &quot;&amp;tl=&quot; + DST + &quot;&amp;dt=t&amp;q=&quot; + finalSENTENCE;\r\n\t\t\tHttpResponse response = new DefaultHttpClient().execute(new HttpGet(url+params));\r\n\t\t\tStatusLine statusLine = response.getStatusLine();\r\n\t\t\tif (statusLine.getStatusCode() == 200) {\r\n\t\t\t\tByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n\t\t\t\tresponse.getEntity().writeTo(byteArrayOutputStream);\r\n\t\t\t\tString stringOfByteArrayOutputStream = byteArrayOutputStream.toString();\r\n\t\t\t\tbyteArrayOutputStream.close();\r\n\t\t\t\tJSONArray jSONArray = new JSONArray(stringOfByteArrayOutputStream).getJSONArray(0);\r\n\t\t\t\tfor (int i = 0; i &lt; jSONArray.length(); i++) {\r\n\t\t\t\t\tJSONArray jSONArray2 = jSONArray.getJSONArray(i);\r\n\t\t\t\t\tTRANSLATION.set(TRANSLATION + jSONArray2.get(0).toString());\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tresponse.getEntity().getContent().close();\r\n\t\t\t\tthrow new IOException(statusLine.getReasonPhrase());\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tLog.e(&quot;GoogleTranslator&quot;,e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn TRANSLATION.toString();\r\n\t}\r\n}\r\n```\r\n\r\nCheck the complete implementation in one of my repos : https://github.com/botbahlul/android-autosrt","title":"Using google translate in android application","body":"<pre><code>public class MainActivity extends AppCompatActivity {\n    ArrayList&lt;String&gt; arraylist_src_code = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_dst_code = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_src_languages = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arraylist_dst_languages = new ArrayList&lt;&gt;();\n    Map&lt;String, String&gt; map_src_country = new HashMap&lt;&gt;();\n    Map&lt;String, String&gt; map_dst_country = new HashMap&lt;&gt;();\n    String src_language, dst_language, src_code, dst_code;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        arraylist_src_code.add(&quot;af&quot;);\n        arraylist_src_code.add(&quot;sq&quot;);\n        arraylist_src_code.add(&quot;am&quot;);\n        arraylist_src_code.add(&quot;ar&quot;);\n        arraylist_src_code.add(&quot;hy&quot;);\n        arraylist_src_code.add(&quot;as&quot;);\n        arraylist_src_code.add(&quot;ay&quot;);\n        arraylist_src_code.add(&quot;az&quot;);\n        arraylist_src_code.add(&quot;bm&quot;);\n        arraylist_src_code.add(&quot;eu&quot;);\n        arraylist_src_code.add(&quot;be&quot;);\n        arraylist_src_code.add(&quot;bn&quot;);\n        arraylist_src_code.add(&quot;bho&quot;);\n        arraylist_src_code.add(&quot;bs&quot;);\n        arraylist_src_code.add(&quot;bg&quot;);\n        arraylist_src_code.add(&quot;ca&quot;);\n        arraylist_src_code.add(&quot;ceb&quot;);\n        arraylist_src_code.add(&quot;ny&quot;);\n        arraylist_src_code.add(&quot;zh-CN&quot;);\n        arraylist_src_code.add(&quot;zh-TW&quot;);\n        arraylist_src_code.add(&quot;co&quot;);\n        arraylist_src_code.add(&quot;hr&quot;);\n        arraylist_src_code.add(&quot;cs&quot;);\n        arraylist_src_code.add(&quot;da&quot;);\n        arraylist_src_code.add(&quot;dv&quot;);\n        arraylist_src_code.add(&quot;doi&quot;);\n        arraylist_src_code.add(&quot;nl&quot;);\n        arraylist_src_code.add(&quot;en&quot;);\n        arraylist_src_code.add(&quot;eo&quot;);\n        arraylist_src_code.add(&quot;et&quot;);\n        arraylist_src_code.add(&quot;ee&quot;);\n        arraylist_src_code.add(&quot;fil&quot;);\n        arraylist_src_code.add(&quot;fi&quot;);\n        arraylist_src_code.add(&quot;fr&quot;);\n        arraylist_src_code.add(&quot;fy&quot;);\n        arraylist_src_code.add(&quot;gl&quot;);\n        arraylist_src_code.add(&quot;ka&quot;);\n        arraylist_src_code.add(&quot;de&quot;);\n        arraylist_src_code.add(&quot;el&quot;);\n        arraylist_src_code.add(&quot;gn&quot;);\n        arraylist_src_code.add(&quot;gu&quot;);\n        arraylist_src_code.add(&quot;ht&quot;);\n        arraylist_src_code.add(&quot;ha&quot;);\n        arraylist_src_code.add(&quot;haw&quot;);\n        arraylist_src_code.add(&quot;he&quot;);\n        arraylist_src_code.add(&quot;hi&quot;);\n        arraylist_src_code.add(&quot;hmn&quot;);\n        arraylist_src_code.add(&quot;hu&quot;);\n        arraylist_src_code.add(&quot;is&quot;);\n        arraylist_src_code.add(&quot;ig&quot;);\n        arraylist_src_code.add(&quot;ilo&quot;);\n        arraylist_src_code.add(&quot;id&quot;);\n        arraylist_src_code.add(&quot;ga&quot;);\n        arraylist_src_code.add(&quot;it&quot;);\n        arraylist_src_code.add(&quot;ja&quot;);\n        arraylist_src_code.add(&quot;jv&quot;);\n        arraylist_src_code.add(&quot;kn&quot;);\n        arraylist_src_code.add(&quot;kk&quot;);\n        arraylist_src_code.add(&quot;km&quot;);\n        arraylist_src_code.add(&quot;rw&quot;);\n        arraylist_src_code.add(&quot;gom&quot;);\n        arraylist_src_code.add(&quot;ko&quot;);\n        arraylist_src_code.add(&quot;kri&quot;);\n        arraylist_src_code.add(&quot;kmr&quot;);\n        arraylist_src_code.add(&quot;ckb&quot;);\n        arraylist_src_code.add(&quot;ky&quot;);\n        arraylist_src_code.add(&quot;lo&quot;);\n        arraylist_src_code.add(&quot;la&quot;);\n        arraylist_src_code.add(&quot;lv&quot;);\n        arraylist_src_code.add(&quot;ln&quot;);\n        arraylist_src_code.add(&quot;lt&quot;);\n        arraylist_src_code.add(&quot;lg&quot;);\n        arraylist_src_code.add(&quot;lb&quot;);\n        arraylist_src_code.add(&quot;mk&quot;);\n        arraylist_src_code.add(&quot;mg&quot;);\n        arraylist_src_code.add(&quot;ms&quot;);\n        arraylist_src_code.add(&quot;ml&quot;);\n        arraylist_src_code.add(&quot;mt&quot;);\n        arraylist_src_code.add(&quot;mi&quot;);\n        arraylist_src_code.add(&quot;mr&quot;);\n        arraylist_src_code.add(&quot;mni-Mtei&quot;);\n        arraylist_src_code.add(&quot;lus&quot;);\n        arraylist_src_code.add(&quot;mn&quot;);\n        arraylist_src_code.add(&quot;my&quot;);\n        arraylist_src_code.add(&quot;ne&quot;);\n        arraylist_src_code.add(&quot;no&quot;);\n        arraylist_src_code.add(&quot;or&quot;);\n        arraylist_src_code.add(&quot;om&quot;);\n        arraylist_src_code.add(&quot;ps&quot;);\n        arraylist_src_code.add(&quot;fa&quot;);\n        arraylist_src_code.add(&quot;pl&quot;);\n        arraylist_src_code.add(&quot;pt&quot;);\n        arraylist_src_code.add(&quot;pa&quot;);\n        arraylist_src_code.add(&quot;qu&quot;);\n        arraylist_src_code.add(&quot;ro&quot;);\n        arraylist_src_code.add(&quot;ru&quot;);\n        arraylist_src_code.add(&quot;sm&quot;);\n        arraylist_src_code.add(&quot;sa&quot;);\n        arraylist_src_code.add(&quot;gd&quot;);\n        arraylist_src_code.add(&quot;nso&quot;);\n        arraylist_src_code.add(&quot;sr&quot;);\n        arraylist_src_code.add(&quot;st&quot;);\n        arraylist_src_code.add(&quot;sn&quot;);\n        arraylist_src_code.add(&quot;sd&quot;);\n        arraylist_src_code.add(&quot;si&quot;);\n        arraylist_src_code.add(&quot;sk&quot;);\n        arraylist_src_code.add(&quot;sl&quot;);\n        arraylist_src_code.add(&quot;so&quot;);\n        arraylist_src_code.add(&quot;es&quot;);\n        arraylist_src_code.add(&quot;su&quot;);\n        arraylist_src_code.add(&quot;sw&quot;);\n        arraylist_src_code.add(&quot;sv&quot;);\n        arraylist_src_code.add(&quot;tg&quot;);\n        arraylist_src_code.add(&quot;ta&quot;);\n        arraylist_src_code.add(&quot;tt&quot;);\n        arraylist_src_code.add(&quot;te&quot;);\n        arraylist_src_code.add(&quot;th&quot;);\n        arraylist_src_code.add(&quot;ti&quot;);\n        arraylist_src_code.add(&quot;ts&quot;);\n        arraylist_src_code.add(&quot;tr&quot;);\n        arraylist_src_code.add(&quot;tk&quot;);\n        arraylist_src_code.add(&quot;tw&quot;);\n        arraylist_src_code.add(&quot;uk&quot;);\n        arraylist_src_code.add(&quot;ur&quot;);\n        arraylist_src_code.add(&quot;ug&quot;);\n        arraylist_src_code.add(&quot;uz&quot;);\n        arraylist_src_code.add(&quot;vi&quot;);\n        arraylist_src_code.add(&quot;cy&quot;);\n        arraylist_src_code.add(&quot;xh&quot;);\n        arraylist_src_code.add(&quot;yi&quot;);\n        arraylist_src_code.add(&quot;yo&quot;);\n        arraylist_src_code.add(&quot;zu&quot;);\n\n        arraylist_src_languages.add(&quot;Afrikaans&quot;);\n        arraylist_src_languages.add(&quot;Albanian&quot;);\n        arraylist_src_languages.add(&quot;Amharic&quot;);\n        arraylist_src_languages.add(&quot;Arabic&quot;);\n        arraylist_src_languages.add(&quot;Armenian&quot;);\n        arraylist_src_languages.add(&quot;Assamese&quot;);\n        arraylist_src_languages.add(&quot;Aymara&quot;);\n        arraylist_src_languages.add(&quot;Azerbaijani&quot;);\n        arraylist_src_languages.add(&quot;Bambara&quot;);\n        arraylist_src_languages.add(&quot;Basque&quot;);\n        arraylist_src_languages.add(&quot;Belarusian&quot;);\n        arraylist_src_languages.add(&quot;Bengali&quot;);\n        arraylist_src_languages.add(&quot;Bhojpuri&quot;);\n        arraylist_src_languages.add(&quot;Bosnian&quot;);\n        arraylist_src_languages.add(&quot;Bulgarian&quot;);\n        arraylist_src_languages.add(&quot;Catalan&quot;);\n        arraylist_src_languages.add(&quot;Cebuano&quot;);\n        arraylist_src_languages.add(&quot;Chichewa&quot;);\n        arraylist_src_languages.add(&quot;Chinese (Simplified)&quot;);\n        arraylist_src_languages.add(&quot;Chinese (Traditional)&quot;);\n        arraylist_src_languages.add(&quot;Corsican&quot;);\n        arraylist_src_languages.add(&quot;Croatian&quot;);\n        arraylist_src_languages.add(&quot;Czech&quot;);\n        arraylist_src_languages.add(&quot;Danish&quot;);\n        arraylist_src_languages.add(&quot;Dhivehi&quot;);\n        arraylist_src_languages.add(&quot;Dogri&quot;);\n        arraylist_src_languages.add(&quot;Dutch&quot;);\n        arraylist_src_languages.add(&quot;English&quot;);\n        arraylist_src_languages.add(&quot;Esperanto&quot;);\n        arraylist_src_languages.add(&quot;Estonian&quot;);\n        arraylist_src_languages.add(&quot;Ewe&quot;);\n        arraylist_src_languages.add(&quot;Filipino&quot;);\n        arraylist_src_languages.add(&quot;Finnish&quot;);\n        arraylist_src_languages.add(&quot;French&quot;);\n        arraylist_src_languages.add(&quot;Frisian&quot;);\n        arraylist_src_languages.add(&quot;Galician&quot;);\n        arraylist_src_languages.add(&quot;Georgian&quot;);\n        arraylist_src_languages.add(&quot;German&quot;);\n        arraylist_src_languages.add(&quot;Greek&quot;);\n        arraylist_src_languages.add(&quot;Guarani&quot;);\n        arraylist_src_languages.add(&quot;Gujarati&quot;);\n        arraylist_src_languages.add(&quot;Haitian Creole&quot;);\n        arraylist_src_languages.add(&quot;Hausa&quot;);\n        arraylist_src_languages.add(&quot;Hawaiian&quot;);\n        arraylist_src_languages.add(&quot;Hebrew&quot;);\n        arraylist_src_languages.add(&quot;Hindi&quot;);\n        arraylist_src_languages.add(&quot;Hmong&quot;);\n        arraylist_src_languages.add(&quot;Hungarian&quot;);\n        arraylist_src_languages.add(&quot;Icelandic&quot;);\n        arraylist_src_languages.add(&quot;Igbo&quot;);\n        arraylist_src_languages.add(&quot;Ilocano&quot;);\n        arraylist_src_languages.add(&quot;Indonesian&quot;);\n        arraylist_src_languages.add(&quot;Irish&quot;);\n        arraylist_src_languages.add(&quot;Italian&quot;);\n        arraylist_src_languages.add(&quot;Japanese&quot;);\n        arraylist_src_languages.add(&quot;Javanese&quot;);\n        arraylist_src_languages.add(&quot;Kannada&quot;);\n        arraylist_src_languages.add(&quot;Kazakh&quot;);\n        arraylist_src_languages.add(&quot;Khmer&quot;);\n        arraylist_src_languages.add(&quot;Kinyarwanda&quot;);\n        arraylist_src_languages.add(&quot;Konkani&quot;);\n        arraylist_src_languages.add(&quot;Korean&quot;);\n        arraylist_src_languages.add(&quot;Krio&quot;);\n        arraylist_src_languages.add(&quot;Kurdish (Kurmanji)&quot;);\n        arraylist_src_languages.add(&quot;Kurdish (Sorani)&quot;);\n        arraylist_src_languages.add(&quot;Kyrgyz&quot;);\n        arraylist_src_languages.add(&quot;Lao&quot;);\n        arraylist_src_languages.add(&quot;Latin&quot;);\n        arraylist_src_languages.add(&quot;Latvian&quot;);\n        arraylist_src_languages.add(&quot;Lingala&quot;);\n        arraylist_src_languages.add(&quot;Lithuanian&quot;);\n        arraylist_src_languages.add(&quot;Luganda&quot;);\n        arraylist_src_languages.add(&quot;Luxembourgish&quot;);\n        arraylist_src_languages.add(&quot;Macedonian&quot;);\n        arraylist_src_languages.add(&quot;Malagasy&quot;);\n        arraylist_src_languages.add(&quot;Malay&quot;);\n        arraylist_src_languages.add(&quot;Malayalam&quot;);\n        arraylist_src_languages.add(&quot;Maltese&quot;);\n        arraylist_src_languages.add(&quot;Maori&quot;);\n        arraylist_src_languages.add(&quot;Marathi&quot;);\n        arraylist_src_languages.add(&quot;Meiteilon (Manipuri)&quot;);\n        arraylist_src_languages.add(&quot;Mizo&quot;);\n        arraylist_src_languages.add(&quot;Mongolian&quot;);\n        arraylist_src_languages.add(&quot;Myanmar (Burmese)&quot;);\n        arraylist_src_languages.add(&quot;Nepali&quot;);\n        arraylist_src_languages.add(&quot;Norwegian&quot;);\n        arraylist_src_languages.add(&quot;Odiya (Oriya)&quot;);\n        arraylist_src_languages.add(&quot;Oromo&quot;);\n        arraylist_src_languages.add(&quot;Pashto&quot;);\n        arraylist_src_languages.add(&quot;Persian&quot;);\n        arraylist_src_languages.add(&quot;Polish&quot;);\n        arraylist_src_languages.add(&quot;Portuguese&quot;);\n        arraylist_src_languages.add(&quot;Punjabi&quot;);\n        arraylist_src_languages.add(&quot;Quechua&quot;);\n        arraylist_src_languages.add(&quot;Romanian&quot;);\n        arraylist_src_languages.add(&quot;Russian&quot;);\n        arraylist_src_languages.add(&quot;Samoan&quot;);\n        arraylist_src_languages.add(&quot;Sanskrit&quot;);\n        arraylist_src_languages.add(&quot;Scots Gaelic&quot;);\n        arraylist_src_languages.add(&quot;Sepedi&quot;);\n        arraylist_src_languages.add(&quot;Serbian&quot;);\n        arraylist_src_languages.add(&quot;Sesotho&quot;);\n        arraylist_src_languages.add(&quot;Shona&quot;);\n        arraylist_src_languages.add(&quot;Sindhi&quot;);\n        arraylist_src_languages.add(&quot;Sinhala&quot;);\n        arraylist_src_languages.add(&quot;Slovak&quot;);\n        arraylist_src_languages.add(&quot;Slovenian&quot;);\n        arraylist_src_languages.add(&quot;Somali&quot;);\n        arraylist_src_languages.add(&quot;Spanish&quot;);\n        arraylist_src_languages.add(&quot;Sundanese&quot;);\n        arraylist_src_languages.add(&quot;Swahili&quot;);\n        arraylist_src_languages.add(&quot;Swedish&quot;);\n        arraylist_src_languages.add(&quot;Tajik&quot;);\n        arraylist_src_languages.add(&quot;Tamil&quot;);\n        arraylist_src_languages.add(&quot;Tatar&quot;);\n        arraylist_src_languages.add(&quot;Telugu&quot;);\n        arraylist_src_languages.add(&quot;Thai&quot;);\n        arraylist_src_languages.add(&quot;Tigrinya&quot;);\n        arraylist_src_languages.add(&quot;Tsonga&quot;);\n        arraylist_src_languages.add(&quot;Turkish&quot;);\n        arraylist_src_languages.add(&quot;Turkmen&quot;);\n        arraylist_src_languages.add(&quot;Twi (Akan)&quot;);\n        arraylist_src_languages.add(&quot;Ukrainian&quot;);\n        arraylist_src_languages.add(&quot;Urdu&quot;);\n        arraylist_src_languages.add(&quot;Uyghur&quot;);\n        arraylist_src_languages.add(&quot;Uzbek&quot;);\n        arraylist_src_languages.add(&quot;Vietnamese&quot;);\n        arraylist_src_languages.add(&quot;Welsh&quot;);\n        arraylist_src_languages.add(&quot;Xhosa&quot;);\n        arraylist_src_languages.add(&quot;Yiddish&quot;);\n        arraylist_src_languages.add(&quot;Yoruba&quot;);\n        arraylist_src_languages.add(&quot;Zulu&quot;);\n\n        for (int i = 0; i &lt; arraylist_src_languages.size(); i++) {\n            map_src_country.put(arraylist_src_languages.get(i), arraylist_src_code.get(i));\n        }\n\n        arraylist_dst_code.add(&quot;af&quot;);\n        arraylist_dst_code.add(&quot;sq&quot;);\n        arraylist_dst_code.add(&quot;am&quot;);\n        arraylist_dst_code.add(&quot;ar&quot;);\n        arraylist_dst_code.add(&quot;hy&quot;);\n        arraylist_dst_code.add(&quot;as&quot;);\n        arraylist_dst_code.add(&quot;ay&quot;);\n        arraylist_dst_code.add(&quot;az&quot;);\n        arraylist_dst_code.add(&quot;bm&quot;);\n        arraylist_dst_code.add(&quot;eu&quot;);\n        arraylist_dst_code.add(&quot;be&quot;);\n        arraylist_dst_code.add(&quot;bn&quot;);\n        arraylist_dst_code.add(&quot;bho&quot;);\n        arraylist_dst_code.add(&quot;bs&quot;);\n        arraylist_dst_code.add(&quot;bg&quot;);\n        arraylist_dst_code.add(&quot;ca&quot;);\n        arraylist_dst_code.add(&quot;ceb&quot;);\n        arraylist_dst_code.add(&quot;ny&quot;);\n        arraylist_dst_code.add(&quot;zh-CN&quot;);\n        arraylist_dst_code.add(&quot;zh-TW&quot;);\n        arraylist_dst_code.add(&quot;co&quot;);\n        arraylist_dst_code.add(&quot;hr&quot;);\n        arraylist_dst_code.add(&quot;cs&quot;);\n        arraylist_dst_code.add(&quot;da&quot;);\n        arraylist_dst_code.add(&quot;dv&quot;);\n        arraylist_dst_code.add(&quot;doi&quot;);\n        arraylist_dst_code.add(&quot;nl&quot;);\n        arraylist_dst_code.add(&quot;en&quot;);\n        arraylist_dst_code.add(&quot;eo&quot;);\n        arraylist_dst_code.add(&quot;et&quot;);\n        arraylist_dst_code.add(&quot;ee&quot;);\n        arraylist_dst_code.add(&quot;fil&quot;);\n        arraylist_dst_code.add(&quot;fi&quot;);\n        arraylist_dst_code.add(&quot;fr&quot;);\n        arraylist_dst_code.add(&quot;fy&quot;);\n        arraylist_dst_code.add(&quot;gl&quot;);\n        arraylist_dst_code.add(&quot;ka&quot;);\n        arraylist_dst_code.add(&quot;de&quot;);\n        arraylist_dst_code.add(&quot;el&quot;);\n        arraylist_dst_code.add(&quot;gn&quot;);\n        arraylist_dst_code.add(&quot;gu&quot;);\n        arraylist_dst_code.add(&quot;ht&quot;);\n        arraylist_dst_code.add(&quot;ha&quot;);\n        arraylist_dst_code.add(&quot;haw&quot;);\n        arraylist_dst_code.add(&quot;he&quot;);\n        arraylist_dst_code.add(&quot;hi&quot;);\n        arraylist_dst_code.add(&quot;hmn&quot;);\n        arraylist_dst_code.add(&quot;hu&quot;);\n        arraylist_dst_code.add(&quot;is&quot;);\n        arraylist_dst_code.add(&quot;ig&quot;);\n        arraylist_dst_code.add(&quot;ilo&quot;);\n        arraylist_dst_code.add(&quot;id&quot;);\n        arraylist_dst_code.add(&quot;ga&quot;);\n        arraylist_dst_code.add(&quot;it&quot;);\n        arraylist_dst_code.add(&quot;ja&quot;);\n        arraylist_dst_code.add(&quot;jv&quot;);\n        arraylist_dst_code.add(&quot;kn&quot;);\n        arraylist_dst_code.add(&quot;kk&quot;);\n        arraylist_dst_code.add(&quot;km&quot;);\n        arraylist_dst_code.add(&quot;rw&quot;);\n        arraylist_dst_code.add(&quot;gom&quot;);\n        arraylist_dst_code.add(&quot;ko&quot;);\n        arraylist_dst_code.add(&quot;kri&quot;);\n        arraylist_dst_code.add(&quot;kmr&quot;);\n        arraylist_dst_code.add(&quot;ckb&quot;);\n        arraylist_dst_code.add(&quot;ky&quot;);\n        arraylist_dst_code.add(&quot;lo&quot;);\n        arraylist_dst_code.add(&quot;la&quot;);\n        arraylist_dst_code.add(&quot;lv&quot;);\n        arraylist_dst_code.add(&quot;ln&quot;);\n        arraylist_dst_code.add(&quot;lt&quot;);\n        arraylist_dst_code.add(&quot;lg&quot;);\n        arraylist_dst_code.add(&quot;lb&quot;);\n        arraylist_dst_code.add(&quot;mk&quot;);\n        arraylist_dst_code.add(&quot;mg&quot;);\n        arraylist_dst_code.add(&quot;ms&quot;);\n        arraylist_dst_code.add(&quot;ml&quot;);\n        arraylist_dst_code.add(&quot;mt&quot;);\n        arraylist_dst_code.add(&quot;mi&quot;);\n        arraylist_dst_code.add(&quot;mr&quot;);\n        arraylist_dst_code.add(&quot;mni-Mtei&quot;);\n        arraylist_dst_code.add(&quot;lus&quot;);\n        arraylist_dst_code.add(&quot;mn&quot;);\n        arraylist_dst_code.add(&quot;my&quot;);\n        arraylist_dst_code.add(&quot;ne&quot;);\n        arraylist_dst_code.add(&quot;no&quot;);\n        arraylist_dst_code.add(&quot;or&quot;);\n        arraylist_dst_code.add(&quot;om&quot;);\n        arraylist_dst_code.add(&quot;ps&quot;);\n        arraylist_dst_code.add(&quot;fa&quot;);\n        arraylist_dst_code.add(&quot;pl&quot;);\n        arraylist_dst_code.add(&quot;pt&quot;);\n        arraylist_dst_code.add(&quot;pa&quot;);\n        arraylist_dst_code.add(&quot;qu&quot;);\n        arraylist_dst_code.add(&quot;ro&quot;);\n        arraylist_dst_code.add(&quot;ru&quot;);\n        arraylist_dst_code.add(&quot;sm&quot;);\n        arraylist_dst_code.add(&quot;sa&quot;);\n        arraylist_dst_code.add(&quot;gd&quot;);\n        arraylist_dst_code.add(&quot;nso&quot;);\n        arraylist_dst_code.add(&quot;sr&quot;);\n        arraylist_dst_code.add(&quot;st&quot;);\n        arraylist_dst_code.add(&quot;sn&quot;);\n        arraylist_dst_code.add(&quot;sd&quot;);\n        arraylist_dst_code.add(&quot;si&quot;);\n        arraylist_dst_code.add(&quot;sk&quot;);\n        arraylist_dst_code.add(&quot;sl&quot;);\n        arraylist_dst_code.add(&quot;so&quot;);\n        arraylist_dst_code.add(&quot;es&quot;);\n        arraylist_dst_code.add(&quot;su&quot;);\n        arraylist_dst_code.add(&quot;sw&quot;);\n        arraylist_dst_code.add(&quot;sv&quot;);\n        arraylist_dst_code.add(&quot;tg&quot;);\n        arraylist_dst_code.add(&quot;ta&quot;);\n        arraylist_dst_code.add(&quot;tt&quot;);\n        arraylist_dst_code.add(&quot;te&quot;);\n        arraylist_dst_code.add(&quot;th&quot;);\n        arraylist_dst_code.add(&quot;ti&quot;);\n        arraylist_dst_code.add(&quot;ts&quot;);\n        arraylist_dst_code.add(&quot;tr&quot;);\n        arraylist_dst_code.add(&quot;tk&quot;);\n        arraylist_dst_code.add(&quot;tw&quot;);\n        arraylist_dst_code.add(&quot;uk&quot;);\n        arraylist_dst_code.add(&quot;ur&quot;);\n        arraylist_dst_code.add(&quot;ug&quot;);\n        arraylist_dst_code.add(&quot;uz&quot;);\n        arraylist_dst_code.add(&quot;vi&quot;);\n        arraylist_dst_code.add(&quot;cy&quot;);\n        arraylist_dst_code.add(&quot;xh&quot;);\n        arraylist_dst_code.add(&quot;yi&quot;);\n        arraylist_dst_code.add(&quot;yo&quot;);\n        arraylist_dst_code.add(&quot;zu&quot;);\n\n        arraylist_dst_languages.add(&quot;Afrikaans&quot;);\n        arraylist_dst_languages.add(&quot;Albanian&quot;);\n        arraylist_dst_languages.add(&quot;Amharic&quot;);\n        arraylist_dst_languages.add(&quot;Arabic&quot;);\n        arraylist_dst_languages.add(&quot;Armenian&quot;);\n        arraylist_dst_languages.add(&quot;Assamese&quot;);\n        arraylist_dst_languages.add(&quot;Aymara&quot;);\n        arraylist_dst_languages.add(&quot;Azerbaijani&quot;);\n        arraylist_dst_languages.add(&quot;Bambara&quot;);\n        arraylist_dst_languages.add(&quot;Basque&quot;);\n        arraylist_dst_languages.add(&quot;Belarusian&quot;);\n        arraylist_dst_languages.add(&quot;Bengali&quot;);\n        arraylist_dst_languages.add(&quot;Bhojpuri&quot;);\n        arraylist_dst_languages.add(&quot;Bosnian&quot;);\n        arraylist_dst_languages.add(&quot;Bulgarian&quot;);\n        arraylist_dst_languages.add(&quot;Catalan&quot;);\n        arraylist_dst_languages.add(&quot;Cebuano&quot;);\n        arraylist_dst_languages.add(&quot;Chichewa&quot;);\n        arraylist_dst_languages.add(&quot;Chinese (Simplified)&quot;);\n        arraylist_dst_languages.add(&quot;Chinese (Traditional)&quot;);\n        arraylist_dst_languages.add(&quot;Corsican&quot;);\n        arraylist_dst_languages.add(&quot;Croatian&quot;);\n        arraylist_dst_languages.add(&quot;Czech&quot;);\n        arraylist_dst_languages.add(&quot;Danish&quot;);\n        arraylist_dst_languages.add(&quot;Dhivehi&quot;);\n        arraylist_dst_languages.add(&quot;Dogri&quot;);\n        arraylist_dst_languages.add(&quot;Dutch&quot;);\n        arraylist_dst_languages.add(&quot;English&quot;);\n        arraylist_dst_languages.add(&quot;Esperanto&quot;);\n        arraylist_dst_languages.add(&quot;Estonian&quot;);\n        arraylist_dst_languages.add(&quot;Ewe&quot;);\n        arraylist_dst_languages.add(&quot;Filipino&quot;);\n        arraylist_dst_languages.add(&quot;Finnish&quot;);\n        arraylist_dst_languages.add(&quot;French&quot;);\n        arraylist_dst_languages.add(&quot;Frisian&quot;);\n        arraylist_dst_languages.add(&quot;Galician&quot;);\n        arraylist_dst_languages.add(&quot;Georgian&quot;);\n        arraylist_dst_languages.add(&quot;German&quot;);\n        arraylist_dst_languages.add(&quot;Greek&quot;);\n        arraylist_dst_languages.add(&quot;Guarani&quot;);\n        arraylist_dst_languages.add(&quot;Gujarati&quot;);\n        arraylist_dst_languages.add(&quot;Haitian Creole&quot;);\n        arraylist_dst_languages.add(&quot;Hausa&quot;);\n        arraylist_dst_languages.add(&quot;Hawaiian&quot;);\n        arraylist_dst_languages.add(&quot;Hebrew&quot;);\n        arraylist_dst_languages.add(&quot;Hindi&quot;);\n        arraylist_dst_languages.add(&quot;Hmong&quot;);\n        arraylist_dst_languages.add(&quot;Hungarian&quot;);\n        arraylist_dst_languages.add(&quot;Icelandic&quot;);\n        arraylist_dst_languages.add(&quot;Igbo&quot;);\n        arraylist_dst_languages.add(&quot;Ilocano&quot;);\n        arraylist_dst_languages.add(&quot;Indonesian&quot;);\n        arraylist_dst_languages.add(&quot;Irish&quot;);\n        arraylist_dst_languages.add(&quot;Italian&quot;);\n        arraylist_dst_languages.add(&quot;Japanese&quot;);\n        arraylist_dst_languages.add(&quot;Javanese&quot;);\n        arraylist_dst_languages.add(&quot;Kannada&quot;);\n        arraylist_dst_languages.add(&quot;Kazakh&quot;);\n        arraylist_dst_languages.add(&quot;Khmer&quot;);\n        arraylist_dst_languages.add(&quot;Kinyarwanda&quot;);\n        arraylist_dst_languages.add(&quot;Konkani&quot;);\n        arraylist_dst_languages.add(&quot;Korean&quot;);\n        arraylist_dst_languages.add(&quot;Krio&quot;);\n        arraylist_dst_languages.add(&quot;Kurdish (Kurmanji)&quot;);\n        arraylist_dst_languages.add(&quot;Kurdish (Sorani)&quot;);\n        arraylist_dst_languages.add(&quot;Kyrgyz&quot;);\n        arraylist_dst_languages.add(&quot;Lao&quot;);\n        arraylist_dst_languages.add(&quot;Latin&quot;);\n        arraylist_dst_languages.add(&quot;Latvian&quot;);\n        arraylist_dst_languages.add(&quot;Lingala&quot;);\n        arraylist_dst_languages.add(&quot;Lithuanian&quot;);\n        arraylist_dst_languages.add(&quot;Luganda&quot;);\n        arraylist_dst_languages.add(&quot;Luxembourgish&quot;);\n        arraylist_dst_languages.add(&quot;Macedonian&quot;);\n        arraylist_dst_languages.add(&quot;Malagasy&quot;);\n        arraylist_dst_languages.add(&quot;Malay&quot;);\n        arraylist_dst_languages.add(&quot;Malayalam&quot;);\n        arraylist_dst_languages.add(&quot;Maltese&quot;);\n        arraylist_dst_languages.add(&quot;Maori&quot;);\n        arraylist_dst_languages.add(&quot;Marathi&quot;);\n        arraylist_dst_languages.add(&quot;Meiteilon (Manipuri)&quot;);\n        arraylist_dst_languages.add(&quot;Mizo&quot;);\n        arraylist_dst_languages.add(&quot;Mongolian&quot;);\n        arraylist_dst_languages.add(&quot;Myanmar (Burmese)&quot;);\n        arraylist_dst_languages.add(&quot;Nepali&quot;);\n        arraylist_dst_languages.add(&quot;Norwegian&quot;);\n        arraylist_dst_languages.add(&quot;Odiya (Oriya)&quot;);\n        arraylist_dst_languages.add(&quot;Oromo&quot;);\n        arraylist_dst_languages.add(&quot;Pashto&quot;);\n        arraylist_dst_languages.add(&quot;Persian&quot;);\n        arraylist_dst_languages.add(&quot;Polish&quot;);\n        arraylist_dst_languages.add(&quot;Portuguese&quot;);\n        arraylist_dst_languages.add(&quot;Punjabi&quot;);\n        arraylist_dst_languages.add(&quot;Quechua&quot;);\n        arraylist_dst_languages.add(&quot;Romanian&quot;);\n        arraylist_dst_languages.add(&quot;Russian&quot;);\n        arraylist_dst_languages.add(&quot;Samoan&quot;);\n        arraylist_dst_languages.add(&quot;Sanskrit&quot;);\n        arraylist_dst_languages.add(&quot;Scots Gaelic&quot;);\n        arraylist_dst_languages.add(&quot;Sepedi&quot;);\n        arraylist_dst_languages.add(&quot;Serbian&quot;);\n        arraylist_dst_languages.add(&quot;Sesotho&quot;);\n        arraylist_dst_languages.add(&quot;Shona&quot;);\n        arraylist_dst_languages.add(&quot;Sindhi&quot;);\n        arraylist_dst_languages.add(&quot;Sinhala&quot;);\n        arraylist_dst_languages.add(&quot;Slovak&quot;);\n        arraylist_dst_languages.add(&quot;Slovenian&quot;);\n        arraylist_dst_languages.add(&quot;Somali&quot;);\n        arraylist_dst_languages.add(&quot;Spanish&quot;);\n        arraylist_dst_languages.add(&quot;Sundanese&quot;);\n        arraylist_dst_languages.add(&quot;Swahili&quot;);\n        arraylist_dst_languages.add(&quot;Swedish&quot;);\n        arraylist_dst_languages.add(&quot;Tajik&quot;);\n        arraylist_dst_languages.add(&quot;Tamil&quot;);\n        arraylist_dst_languages.add(&quot;Tatar&quot;);\n        arraylist_dst_languages.add(&quot;Telugu&quot;);\n        arraylist_dst_languages.add(&quot;Thai&quot;);\n        arraylist_dst_languages.add(&quot;Tigrinya&quot;);\n        arraylist_dst_languages.add(&quot;Tsonga&quot;);\n        arraylist_dst_languages.add(&quot;Turkish&quot;);\n        arraylist_dst_languages.add(&quot;Turkmen&quot;);\n        arraylist_dst_languages.add(&quot;Twi (Akan)&quot;);\n        arraylist_dst_languages.add(&quot;Ukrainian&quot;);\n        arraylist_dst_languages.add(&quot;Urdu&quot;);\n        arraylist_dst_languages.add(&quot;Uyghur&quot;);\n        arraylist_dst_languages.add(&quot;Uzbek&quot;);\n        arraylist_dst_languages.add(&quot;Vietnamese&quot;);\n        arraylist_dst_languages.add(&quot;Welsh&quot;);\n        arraylist_dst_languages.add(&quot;Xhosa&quot;);\n        arraylist_dst_languages.add(&quot;Yiddish&quot;);\n        arraylist_dst_languages.add(&quot;Yoruba&quot;);\n        arraylist_dst_languages.add(&quot;Zulu&quot;);\n\n        for (int i = 0; i &lt; arraylist_dst_languages.size(); i++) {\n            map_dst_country.put(arraylist_dst_languages.get(i), arraylist_dst_code.get(i));\n        }\n\n        String Sentence = &quot;This is a test&quot;;\n        src_language = &quot;English&quot;;\n        src_code = map_src_country.get(src_language);\n        dst_language = &quot;Hindi&quot;;\n        dst_code = map_dst_country.get(dst_language);\n        String Translation = GoogleTranslate(Sentence, src_code, dst_code);\n        System.out.println(&quot;Translation = &quot; + Translation);\n\n    }\n\n\n    private String GoogleTranslate(String SENTENCE, String SRC, String DST) {\n        AtomicReference&lt;String&gt; TRANSLATION = new AtomicReference&lt;&gt;(&quot;&quot;);\n        try {\n            SENTENCE = URLEncoder.encode(SENTENCE, &quot;utf-8&quot;);\n        } catch (UnsupportedEncodingException e) {\n            Log.e(&quot;UnsupportedEncodingException: &quot;, Objects.requireNonNull(e.getMessage()));\n            e.printStackTrace();\n            throw new RuntimeException(e);\n        }\n        String finalSENTENCE = SENTENCE;\n        try {\n            String url = &quot;https://translate.googleapis.com/translate_a/&quot;;\n            String params = &quot;single?client=gtx&amp;sl=&quot; + SRC + &quot;&amp;tl=&quot; + DST + &quot;&amp;dt=t&amp;q=&quot; + finalSENTENCE;\n            HttpResponse response = new DefaultHttpClient().execute(new HttpGet(url+params));\n            StatusLine statusLine = response.getStatusLine();\n            if (statusLine.getStatusCode() == 200) {\n                ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n                response.getEntity().writeTo(byteArrayOutputStream);\n                String stringOfByteArrayOutputStream = byteArrayOutputStream.toString();\n                byteArrayOutputStream.close();\n                JSONArray jSONArray = new JSONArray(stringOfByteArrayOutputStream).getJSONArray(0);\n                for (int i = 0; i &lt; jSONArray.length(); i++) {\n                    JSONArray jSONArray2 = jSONArray.getJSONArray(i);\n                    TRANSLATION.set(TRANSLATION + jSONArray2.get(0).toString());\n                }\n\n            }\n            else {\n                response.getEntity().getContent().close();\n                throw new IOException(statusLine.getReasonPhrase());\n            }\n        }\n        catch (Exception e) {\n            Log.e(&quot;GoogleTranslator&quot;,e.getMessage());\n            e.printStackTrace();\n        }\n        return TRANSLATION.toString();\n    }\n}\n</code></pre>\n<p>Check the complete implementation in one of my repos : <a href=\"https://github.com/botbahlul/android-autosrt\" rel=\"nofollow noreferrer\">https://github.com/botbahlul/android-autosrt</a></p>\n"}],"owner":{"account_id":2386104,"reputation":469,"user_id":2087054,"accept_rate":48,"display_name":"ebruszl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10339,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1679149145,"creation_date":1369816965,"question_id":16809232,"body_markdown":"I want to use google translate API on my android project. Below are my codes. It works as java project but when I try it on android device, project stopped. What is the reason?\r\n I added [googletranslateapi-1.0.jar][1], \r\n\r\n\r\n**translator.java**\r\n\r\n    package com.example.calendar;\r\n    \r\n    import com.gtranslate.Language;\r\n    import com.gtranslate.Translator;\r\n    \r\n    public class translator {\r\n    \r\n    \tpublic String translate(String text) {\r\n    \t\tTranslator translate = Translator.getInstance();\r\n    \t\tString text2 = translate.translate(text, Language.TURKISH,\r\n    \t\t\t\tLanguage.ENGLISH);\r\n    \t\treturn text2;\r\n    \t}\r\n    \r\n    }\r\n\r\nIn mainactivity\r\n\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) \r\n    {\r\n    \r\n    if (requestCode == VR_REQUEST &amp;&amp; resultCode == RESULT_OK) {\r\n    \r\n    \t\t\tArrayList&lt;String&gt; suggestedWords = data\r\n    \t\t\t\t\t.getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\r\n    \t\t\tContext context = getApplicationContext();\r\n    \t\t\ttext = suggestedWords.get(0);\r\n    \t\t\tint duration = Toast.LENGTH_SHORT;\r\n    \t\t\tClassificationActivity classificationActivity = new ClassificationActivity();\r\n    \t\t\tString category = classificationActivity.control(text);\r\n    \t\t\ttranslator trans = new translator();\r\n    \t\t\tString ingtext = trans.translate(text);\r\n    \r\n    \t\t\tCalendarEvent cv = new CalendarEvent();\r\n    \t\t\tDate date = new Date();\r\n    \t\t\tContentResolver cr = ctx.getContentResolver();\r\n    \t\t\tUri uri = cr.insert(Events.CONTENT_URI, CalendarEvent\r\n    \t\t\t\t\t.toICSContentValues(cv, date.getTime(), category));\r\n    \t\t\tToast toast = Toast.makeText(context, ingtext, duration);\r\n    \t\t\ttoast.show();\r\n    \r\n    \t\t}\r\n\r\n\r\n  [1]: https://code.google.com/p/java-google-translate-text-to-speech/downloads/detail?name=gtranslateapi-1.0.jar&amp;can=2&amp;q=","title":"Using google translate in android application","body":"<p>I want to use google translate API on my android project. Below are my codes. It works as java project but when I try it on android device, project stopped. What is the reason?\n I added <a href=\"https://code.google.com/p/java-google-translate-text-to-speech/downloads/detail?name=gtranslateapi-1.0.jar&amp;can=2&amp;q=\" rel=\"nofollow\">googletranslateapi-1.0.jar</a>, </p>\n\n<p><strong>translator.java</strong></p>\n\n<pre><code>package com.example.calendar;\n\nimport com.gtranslate.Language;\nimport com.gtranslate.Translator;\n\npublic class translator {\n\n    public String translate(String text) {\n        Translator translate = Translator.getInstance();\n        String text2 = translate.translate(text, Language.TURKISH,\n                Language.ENGLISH);\n        return text2;\n    }\n\n}\n</code></pre>\n\n<p>In mainactivity</p>\n\n<pre><code>public void onActivityResult(int requestCode, int resultCode, Intent data) \n{\n\nif (requestCode == VR_REQUEST &amp;&amp; resultCode == RESULT_OK) {\n\n            ArrayList&lt;String&gt; suggestedWords = data\n                    .getStringArrayListExtra(RecognizerIntent.EXTRA_RESULTS);\n            Context context = getApplicationContext();\n            text = suggestedWords.get(0);\n            int duration = Toast.LENGTH_SHORT;\n            ClassificationActivity classificationActivity = new ClassificationActivity();\n            String category = classificationActivity.control(text);\n            translator trans = new translator();\n            String ingtext = trans.translate(text);\n\n            CalendarEvent cv = new CalendarEvent();\n            Date date = new Date();\n            ContentResolver cr = ctx.getContentResolver();\n            Uri uri = cr.insert(Events.CONTENT_URI, CalendarEvent\n                    .toICSContentValues(cv, date.getTime(), category));\n            Toast toast = Toast.makeText(context, ingtext, duration);\n            toast.show();\n\n        }\n</code></pre>\n"},{"tags":["java","dependency-injection","strategy-pattern","quarkus-rest-client"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1679143887,"post_id":75775998,"comment_id":133670660,"body_markdown":"I haven&#39;t worked with Quarkus, but generally speaking... when you do `new CreditCardStrategy()` or `new PayPalStrategy()`, those aren&#39;t managed by the underlying DI framework. So dependencies of those wouldn&#39;t be injected/available.","body":"I haven&#39;t worked with Quarkus, but generally speaking... when you do <code>new CreditCardStrategy()</code> or <code>new PayPalStrategy()</code>, those aren&#39;t managed by the underlying DI framework. So dependencies of those wouldn&#39;t be injected/available."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679148662,"creation_date":1679148662,"answer_id":75776412,"question_id":75775998,"body_markdown":"To expand on the answer given in the comments, here&#39;s how you might get the bean from the context in spring. Here&#39;s a quarkus example of how you might do this.\r\n\r\nit prints:\r\n\r\n```\r\n2023-03-18 10:08:57,311 INFO  [org.so.q75.Example] (Quarkus Main Thread) ApiExample processed!\r\n2023-03-18 10:08:57,316 INFO  [org.so.q75.Example] (Quarkus Main Thread) CreditCardStrategy processed!\r\n2023-03-18 10:08:57,317 INFO  [org.so.q75.Example] (Quarkus Main Thread) PaymentProcessor processed!\r\n```\r\n\r\n```java\r\n// src/main/org/so/q75775998/Example.java\r\npackage org.so.q75775998;\r\n\r\nimport io.quarkus.runtime.Quarkus;\r\nimport io.quarkus.runtime.QuarkusApplication;\r\nimport io.quarkus.runtime.annotations.QuarkusMain;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\nimport javax.enterprise.inject.Instance;\r\nimport javax.inject.Inject;\r\n\r\n@QuarkusMain\r\npublic class Example implements QuarkusApplication {\r\n    private static final Logger log = LoggerFactory.getLogger(Example.class);\r\n\r\n    @Inject\r\n    PaymentProcessor paymentProcessor;\r\n\r\n    public static void main(String[] args) {\r\n        Quarkus.run(Example.class, args);\r\n    }\r\n\r\n    @Override\r\n    public int run(String... args) throws Exception {\r\n        paymentProcessor.processPayment(100.0);\r\n        return 0;\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class PaymentProcessor {\r\n        @Inject\r\n        Instance&lt;PaymentStrategy&gt; paymentStrategies;\r\n\r\n        void processPayment(double amount) {\r\n            paymentStrategies.iterator().next().processPayment(amount);\r\n            log.info(&quot;PaymentProcessor processed!&quot;);\r\n        }\r\n    }\r\n\r\n    public interface PaymentStrategy {\r\n        void processPayment(double amount);\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class CreditCardStrategy implements PaymentStrategy {\r\n        @Inject\r\n        ApiExample apiExample;\r\n\r\n        public void processPayment(double amount) {\r\n            apiExample.doSomething();\r\n            log.info(&quot;CreditCardStrategy processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class ApiExample {\r\n        public void doSomething() {\r\n            log.info(&quot;ApiExample processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class PayPalStrategy implements PaymentStrategy {\r\n        @Inject\r\n        Service service;\r\n\r\n        public void processPayment(double amount) {\r\n            service.doSomething();\r\n            log.info(&quot;PayPalStrategy processed!&quot;);\r\n        }\r\n    }\r\n\r\n    @ApplicationScoped\r\n    public static class Service {\r\n        public void doSomething() {\r\n            log.info(&quot;did something!&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n// pom.xml (initialized from https://quarkus.io/guides/lifecycle)\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\r\n  &lt;artifactId&gt;lifecycle-quickstart&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;properties&gt;\r\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\r\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n    &lt;quarkus.platform.version&gt;2.16.4.Final&lt;/quarkus.platform.version&gt;\r\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n        &lt;extensions&gt;true&lt;/extensions&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;build&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code&lt;/goal&gt;\r\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-parameters&lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;systemPropertyVariables&gt;\r\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n          &lt;/systemPropertyVariables&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;native&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;property&gt;\r\n          &lt;name&gt;native&lt;/name&gt;\r\n        &lt;/property&gt;\r\n      &lt;/activation&gt;\r\n      &lt;properties&gt;\r\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\n```","title":"Cannot access dependency injected inside strategy pattern implementation class","body":"<p>To expand on the answer given in the comments, here's how you might get the bean from the context in spring. Here's a quarkus example of how you might do this.</p>\n<p>it prints:</p>\n<pre><code>2023-03-18 10:08:57,311 INFO  [org.so.q75.Example] (Quarkus Main Thread) ApiExample processed!\n2023-03-18 10:08:57,316 INFO  [org.so.q75.Example] (Quarkus Main Thread) CreditCardStrategy processed!\n2023-03-18 10:08:57,317 INFO  [org.so.q75.Example] (Quarkus Main Thread) PaymentProcessor processed!\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// src/main/org/so/q75775998/Example.java\npackage org.so.q75775998;\n\nimport io.quarkus.runtime.Quarkus;\nimport io.quarkus.runtime.QuarkusApplication;\nimport io.quarkus.runtime.annotations.QuarkusMain;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport javax.enterprise.context.ApplicationScoped;\nimport javax.enterprise.inject.Instance;\nimport javax.inject.Inject;\n\n@QuarkusMain\npublic class Example implements QuarkusApplication {\n    private static final Logger log = LoggerFactory.getLogger(Example.class);\n\n    @Inject\n    PaymentProcessor paymentProcessor;\n\n    public static void main(String[] args) {\n        Quarkus.run(Example.class, args);\n    }\n\n    @Override\n    public int run(String... args) throws Exception {\n        paymentProcessor.processPayment(100.0);\n        return 0;\n    }\n\n    @ApplicationScoped\n    public static class PaymentProcessor {\n        @Inject\n        Instance&lt;PaymentStrategy&gt; paymentStrategies;\n\n        void processPayment(double amount) {\n            paymentStrategies.iterator().next().processPayment(amount);\n            log.info(&quot;PaymentProcessor processed!&quot;);\n        }\n    }\n\n    public interface PaymentStrategy {\n        void processPayment(double amount);\n    }\n\n    @ApplicationScoped\n    public static class CreditCardStrategy implements PaymentStrategy {\n        @Inject\n        ApiExample apiExample;\n\n        public void processPayment(double amount) {\n            apiExample.doSomething();\n            log.info(&quot;CreditCardStrategy processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class ApiExample {\n        public void doSomething() {\n            log.info(&quot;ApiExample processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class PayPalStrategy implements PaymentStrategy {\n        @Inject\n        Service service;\n\n        public void processPayment(double amount) {\n            service.doSomething();\n            log.info(&quot;PayPalStrategy processed!&quot;);\n        }\n    }\n\n    @ApplicationScoped\n    public static class Service {\n        public void doSomething() {\n            log.info(&quot;did something!&quot;);\n        }\n    }\n}\n\n// pom.xml (initialized from https://quarkus.io/guides/lifecycle)\n&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.acme&lt;/groupId&gt;\n  &lt;artifactId&gt;lifecycle-quickstart&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.10.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.16.4.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n              &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n\n</code></pre>\n"}],"owner":{"account_id":21986233,"reputation":73,"user_id":16260442,"display_name":"Houssem Salem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776412,"answer_count":1,"score":0,"last_activity_date":1679148662,"creation_date":1679143795,"question_id":75775998,"body_markdown":"I am trying to implement the strategic pattern,the problem is that I could not access any dependency injected inside the strategy implmentation classes, so here is my code \r\n\r\n**Payment strategy interface**\r\n\r\n``` \r\npublic interface PaymentStrategy {\r\n    public void processPayment(double amount);\r\n} \r\n```\r\n**Payment strategy interface implementation**\r\n``` \r\n@ApplicationScoped\r\npublic class CreditCardStrategy implements PaymentStrategy {\r\n\r\n    @Inject\r\n    @RestClient\r\n    ApiExample apiExample\r\n\r\n    public void processPayment(double amount) {\r\n         apiExample.doSomething() **//NULL POINTER EXCEPTION**\r\n        // Process credit card payment\r\n    }\r\n}\r\n\r\n@ApplicationScoped\r\npublic class PayPalStrategy implements PaymentStrategy {\r\n\r\n    @Inject\r\n    Service service\r\n\r\n    public void processPayment(double amount) {\r\n\r\n         service.doSomething() **//NULL POINTER EXCEPTION**\r\n        // Process PayPal payment\r\n    }\r\n}\r\n```\r\n**Payment strategy factory**\r\n``` \r\npublic class PaymentStrategyFactory {\r\n    public PaymentStrategy getPaymentStrategy(String paymentMethod) {\r\n        if (paymentMethod.equals(&quot;creditcard&quot;)) {\r\n            return new CreditCardStrategy();\r\n        } else if (paymentMethod.equals(&quot;paypal&quot;)) {\r\n            return new PayPalStrategy();\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;Invalid payment method: &quot; + paymentMethod);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Main program method**\r\n\r\n``` \r\nString paymentMethod = &quot;creditcard&quot;; // Or &quot;paypal&quot;\r\nPaymentStrategyFactory factory = new PaymentStrategyFactory();\r\nPaymentStrategy paymentStrategy = factory.getPaymentStrategy(paymentMethod);\r\nPaymentProcessor paymentProcessor = new PaymentProcessor(paymentStrategy);\r\npaymentProcessor.processPayment(100.0); //NULL POINTER EXCEPTION CAUSED BY apiExample.doSomething()\r\n```","title":"Cannot access dependency injected inside strategy pattern implementation class","body":"<p>I am trying to implement the strategic pattern,the problem is that I could not access any dependency injected inside the strategy implmentation classes, so here is my code</p>\n<p><strong>Payment strategy interface</strong></p>\n<pre><code>public interface PaymentStrategy {\n    public void processPayment(double amount);\n} \n</code></pre>\n<p><strong>Payment strategy interface implementation</strong></p>\n<pre><code>@ApplicationScoped\npublic class CreditCardStrategy implements PaymentStrategy {\n\n    @Inject\n    @RestClient\n    ApiExample apiExample\n\n    public void processPayment(double amount) {\n         apiExample.doSomething() **//NULL POINTER EXCEPTION**\n        // Process credit card payment\n    }\n}\n\n@ApplicationScoped\npublic class PayPalStrategy implements PaymentStrategy {\n\n    @Inject\n    Service service\n\n    public void processPayment(double amount) {\n\n         service.doSomething() **//NULL POINTER EXCEPTION**\n        // Process PayPal payment\n    }\n}\n</code></pre>\n<p><strong>Payment strategy factory</strong></p>\n<pre><code>public class PaymentStrategyFactory {\n    public PaymentStrategy getPaymentStrategy(String paymentMethod) {\n        if (paymentMethod.equals(&quot;creditcard&quot;)) {\n            return new CreditCardStrategy();\n        } else if (paymentMethod.equals(&quot;paypal&quot;)) {\n            return new PayPalStrategy();\n        } else {\n            throw new IllegalArgumentException(&quot;Invalid payment method: &quot; + paymentMethod);\n        }\n    }\n}\n</code></pre>\n<p><strong>Main program method</strong></p>\n<pre><code>String paymentMethod = &quot;creditcard&quot;; // Or &quot;paypal&quot;\nPaymentStrategyFactory factory = new PaymentStrategyFactory();\nPaymentStrategy paymentStrategy = factory.getPaymentStrategy(paymentMethod);\nPaymentProcessor paymentProcessor = new PaymentProcessor(paymentStrategy);\npaymentProcessor.processPayment(100.0); //NULL POINTER EXCEPTION CAUSED BY apiExample.doSomething()\n</code></pre>\n"},{"tags":["java","database-connectivity"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1679143818,"post_id":75775782,"comment_id":133670649,"body_markdown":"Please post _error text_, not _pictures_ of error text, unless otherwise [relevant](https://meta.stackoverflow.com/q/285551/230513).","body":"Please post <i>error text</i>, not <i>pictures</i> of error text, unless otherwise <a href=\"https://meta.stackoverflow.com/q/285551/230513\">relevant</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679146000,"post_id":75775782,"comment_id":133670996,"body_markdown":"In addition to changing to `rs.next()` as has been recommended, you should really be using try-with-resources for your database objects","body":"In addition to changing to <code>rs.next()</code> as has been recommended, you should really be using try-with-resources for your database objects"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679146528,"post_id":75775782,"comment_id":133671074,"body_markdown":"this is essentially unrelated to any ui (solve the backend problem before adding complexity of the ui, f.i. with simple printOuts). As to the ui: looks like swing, why did you tag javafx?","body":"this is essentially unrelated to any ui (solve the backend problem before adding complexity of the ui, f.i. with simple printOuts). As to the ui: looks like swing, why did you tag javafx?"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679145873,"creation_date":1679142224,"answer_id":75775887,"question_id":75775782,"body_markdown":"Change `rs.first()` to `rs.next()`.  Your connection provider is returning a connection with a limitation that you can only read forward, and not randomly traverse the dataset.  Calling `rs.first()` is effectively asking to rewind to the first row, which is unnecessary since you&#39;re already poised to read forward to the first row.","title":"Java Database Exceptional error that is very unique","body":"<p>Change <code>rs.first()</code> to <code>rs.next()</code>.  Your connection provider is returning a connection with a limitation that you can only read forward, and not randomly traverse the dataset.  Calling <code>rs.first()</code> is effectively asking to rewind to the first row, which is unnecessary since you're already poised to read forward to the first row.</p>\n"}],"owner":{"account_id":25721004,"reputation":1,"user_id":19478013,"display_name":"NJUGUNA WAINAINA"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679146637,"creation_date":1679141232,"question_id":75775782,"body_markdown":"am getting the error shown from this code:\r\n[enter image description here](https://i.stack.imgur.com/OeWqM.png)\r\n\r\n    private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \r\n        try{\r\n            Connection conn = ConnectionProvider.getCon();\r\n            Statement st = conn.createStatement();\r\n            ResultSet rs  = st.executeQuery(&quot;select max(pId) from product&quot;);\r\n            if(rs.first()){\r\n                int id = rs.getInt(1);\r\n                id = id+1;\r\n                String str = String.valueOf(id);\r\n                jLabel4.setText(str);\r\n            }\r\n            else{\r\n                 jLabel4.setText(&quot;1&quot;);        \r\n            }\r\n        }\r\n        catch(Exception e){\r\n            JOptionPane.showMessageDialog(null,e);\r\n        }\r\n    }\r\n\r\ni wanted the code to change text on the label from 100 to whatever that was largest value  in an id column in product table of a database. the code was to increase that value after new data is entered and keep that as it&#39;s current value","title":"Java Database Exceptional error that is very unique","body":"<p>am getting the error shown from this code:\n<a href=\"https://i.stack.imgur.com/OeWqM.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>private void formComponentShown(java.awt.event.ComponentEvent evt) {                                    \n    try{\n        Connection conn = ConnectionProvider.getCon();\n        Statement st = conn.createStatement();\n        ResultSet rs  = st.executeQuery(&quot;select max(pId) from product&quot;);\n        if(rs.first()){\n            int id = rs.getInt(1);\n            id = id+1;\n            String str = String.valueOf(id);\n            jLabel4.setText(str);\n        }\n        else{\n             jLabel4.setText(&quot;1&quot;);        \n        }\n    }\n    catch(Exception e){\n        JOptionPane.showMessageDialog(null,e);\n    }\n}\n</code></pre>\n<p>i wanted the code to change text on the label from 100 to whatever that was largest value  in an id column in product table of a database. the code was to increase that value after new data is entered and keep that as it's current value</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679146942,"post_id":75776196,"comment_id":133671136,"body_markdown":"According to your question, I only think of one keyword: `Asynchronous`. I think this example may meet your needs: `Creating Asynchronous Methods` (https://spring.io/guides/gs/async-method/)","body":"According to your question, I only think of one keyword: <code>Asynchronous</code>. I think this example may meet your needs: <code>Creating Asynchronous Methods</code> (<a href=\"https://spring.io/guides/gs/async-method/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/async-method</a>)"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1679148608,"post_id":75776196,"comment_id":133671382,"body_markdown":"How about a ‘@Retry’ with exponential back off around the get - https://www.baeldung.com/spring-retry. In the ‘@Retry’ throw the applicable exception if the response is not 200.","body":"How about a ‘@Retry’ with exponential back off around the get - <a href=\"https://www.baeldung.com/spring-retry\" rel=\"nofollow noreferrer\">baeldung.com/spring-retry</a>. In the ‘@Retry’ throw the applicable exception if the response is not 200."}],"owner":{"account_id":24354886,"reputation":15,"user_id":18290244,"display_name":"bblex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679146606,"creation_date":1679146266,"question_id":75776196,"body_markdown":"Let&#39;s say that we have get and post requests.\r\n\r\n1) post: send request for creating, for example, report, and returns requestId;\r\n2) get: takes as a parameter requestId and returns report information. It has 2 response codes: `200` - ok, `202` - no report has been created yet.\r\n\r\nIn my scenario, I send post request, and after that, send get request. \r\n\r\n    Request request = apiClient.postReport(new Report(&quot;Name&quot;, ...));\r\n    Response response = apiClient.getReport(request.getReportId);\r\n\r\nI&#39;m worried that I will get `202` code response. What is the correct way to wait for `200` code response, except `while` loop?","title":"How to wait for response with exected response code","body":"<p>Let's say that we have get and post requests.</p>\n<ol>\n<li>post: send request for creating, for example, report, and returns requestId;</li>\n<li>get: takes as a parameter requestId and returns report information. It has 2 response codes: <code>200</code> - ok, <code>202</code> - no report has been created yet.</li>\n</ol>\n<p>In my scenario, I send post request, and after that, send get request.</p>\n<pre><code>Request request = apiClient.postReport(new Report(&quot;Name&quot;, ...));\nResponse response = apiClient.getReport(request.getReportId);\n</code></pre>\n<p>I'm worried that I will get <code>202</code> code response. What is the correct way to wait for <code>200</code> code response, except <code>while</code> loop?</p>\n"},{"tags":["java","bytecode","instrumentation","java-bytecode-asm","jvm-bytecode"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679060154,"post_id":75767855,"comment_id":133657751,"body_markdown":"There is no hidden mechanism. You just have to understand how class loaders work, the [documented standard setup](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders), and the [standard `loadClass` procedure](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean))","body":"There is no hidden mechanism. You just have to understand how class loaders work, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#builtinLoaders\" rel=\"nofollow noreferrer\">documented standard setup</a>, and the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ClassLoader.html#loadClass(java.lang.String,boolean)\" rel=\"nofollow noreferrer\">standard <code>loadClass</code> procedure</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":2,"creation_date":1679060388,"post_id":75767855,"comment_id":133657818,"body_markdown":"Two remedies: Use `Instrumentation.appendToBootstrapClassLoaderSearch(...)`, or use some reflection to do `ClassLoader.getSystemClassLoader().loadClass(...)`","body":"Two remedies: Use <code>Instrumentation.appendToBootstrapClassLoaderSearch(...)</code>, or use some reflection to do <code>ClassLoader.getSystemClassLoader().loadClass(...)</code>"}],"answers":[{"tags":[],"owner":{"account_id":14587108,"reputation":155,"user_id":10535520,"display_name":"Stone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1679146417,"creation_date":1679146417,"answer_id":75776208,"question_id":75767855,"body_markdown":"You could adjust cmdline as below. The purpose is to add asm and mypackage.jar    to bootstrap classloader. \r\n\r\nPlease change &quot;xxx&quot; of the cmdline to your local full path.\r\n\r\n```\r\njava -javaagent:mypackage.jar  -Xbootclasspath/a:xxx/lib/asm-9.4.jar:xxx/mypackage.jar -jar mypackage.jar\r\n```","title":"Why are my self-written classes / 3-party library classes invisible to JRE classes?","body":"<p>You could adjust cmdline as below. The purpose is to add asm and mypackage.jar    to bootstrap classloader.</p>\n<p>Please change &quot;xxx&quot; of the cmdline to your local full path.</p>\n<pre><code>java -javaagent:mypackage.jar  -Xbootclasspath/a:xxx/lib/asm-9.4.jar:xxx/mypackage.jar -jar mypackage.jar\n</code></pre>\n"}],"owner":{"account_id":27837574,"reputation":3,"user_id":21263853,"display_name":"Red Ad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75776208,"answer_count":1,"score":0,"last_activity_date":1679146417,"creation_date":1679057781,"question_id":75767855,"body_markdown":"I&#39;m writing a security-boosted Java program that uses ASM tool to add some hooks into JRE classes. The hooks will then call my method to make some rule checks. But the odd thing is, the hooks in JRE classes can never find my classes and always throw `NoClassDefFoundError`.\r\n\r\nUsually, this error occurs with wrong `java.class.path`. I added bytecodes to JRE classes to print `java.class.path` and found nothing wrong. `java.class.path` doesn&#39;t change during method calls.\r\n\r\nI try multiple times with different classes in JRE and 3-party library classes. `NoClassDefFoundError` always occurs when I add the hook into a JRE class that visits my class or a 3-party class. In other cases, like my class visiting a 3-party class or vice versa, the code works fine. So I&#39;m sure the problem is not with my code.\r\n\r\nI guess there&#39;s some hidden mechanism that makes my classes invisible to JRE classes, but I can&#39;t find clues from Java or ASM documents.\r\n\r\nHere is a simple program that can reproduce my problem.\r\n\r\n\r\nMain.java:\r\n```java\r\npackage mypackage;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(sc.nextLine());\r\n        sc.close();\r\n    }\r\n\r\n    public static void insert() {\r\n        System.out.println(&quot;Main.insert() called.&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAgent.java\r\n\r\n```java\r\npackage mypackage;\r\n\r\nimport java.lang.instrument.ClassFileTransformer;\r\nimport java.lang.instrument.IllegalClassFormatException;\r\nimport java.lang.instrument.Instrumentation;\r\nimport java.security.ProtectionDomain;\r\n\r\nimport org.objectweb.asm.ClassReader;\r\nimport org.objectweb.asm.ClassVisitor;\r\nimport org.objectweb.asm.ClassWriter;\r\nimport org.objectweb.asm.MethodVisitor;\r\nimport org.objectweb.asm.Opcodes;\r\n\r\npublic class Agent {\r\n    public static void premain(String ops, Instrumentation inst) {\r\n        inst.addTransformer(new myTransformer());\r\n    }\r\n}\r\n\r\nclass myTransformer implements ClassFileTransformer {\r\n    @Override\r\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\r\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n        if (&quot;java/util/Scanner&quot;.equals(className)) {\r\n            ClassReader cr = new ClassReader(classfileBuffer);\r\n            ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_FRAMES);\r\n            myClassVisitor cv = new myClassVisitor(Opcodes.ASM9, cw);\r\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\r\n            return cw.toByteArray();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nclass myClassVisitor extends ClassVisitor implements Opcodes {\r\n    protected myClassVisitor(int api, ClassVisitor classVisitor) {\r\n        super(api, classVisitor);\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature,\r\n            String[] exceptions) {\r\n        MethodVisitor methodVisitor = super.visitMethod(access, name, descriptor, signature, exceptions);\r\n        if (&quot;nextLine&quot;.equals(name)) {\r\n            System.out.println(&quot;Modify Scanner.nextLine&quot;);\r\n            return new MethodVisitor(api, methodVisitor) {\r\n                @Override\r\n                public void visitCode() {\r\n                    methodVisitor.visitMethodInsn(INVOKESTATIC, &quot;mypackage/Main&quot;, &quot;insert&quot;, &quot;()V&quot;, false);\r\n                    super.visitCode();\r\n                }\r\n            };\r\n        }\r\n        return methodVisitor;\r\n    }\r\n}\r\n```\r\n\r\nThis program modifies `nextLine()` in `java.util.Scanner` by adding a call to `mypackage.Main.insert()`.\r\n\r\n\r\nI use this Manifest to pack all classes into a jar file:\r\n```\r\nMain-Class: mypackage.Main\r\nPremain-Class: mypackage.Agent\r\nAgent-Class: mypackage.Agent\r\nClass-Path: lib/asm-9.4.jar\r\nCan-Set-Native-Method-Prefix: true\r\nCan-Redefine-Classes: true\r\nCan-Retransform-Classes: true\r\n```\r\n\r\nThe ASM jar is located in `lib/`. Then run the following command:\r\n`java -javaagent:mypackage.jar -jar mypackage.jar`\r\n\r\n\r\nHere&#39;s the output:\r\n```\r\nModify Scanner.nextLine\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: mypackage/Main\r\n    at java.util.Scanner.nextLine(Scanner.java)\r\n    at mypackage.Main.main(Main.java:8)\r\n```\r\n\r\nMy Java version is OpenJDK-8. I can reproduce the problem on both Mac and Ubuntu.","title":"Why are my self-written classes / 3-party library classes invisible to JRE classes?","body":"<p>I'm writing a security-boosted Java program that uses ASM tool to add some hooks into JRE classes. The hooks will then call my method to make some rule checks. But the odd thing is, the hooks in JRE classes can never find my classes and always throw <code>NoClassDefFoundError</code>.</p>\n<p>Usually, this error occurs with wrong <code>java.class.path</code>. I added bytecodes to JRE classes to print <code>java.class.path</code> and found nothing wrong. <code>java.class.path</code> doesn't change during method calls.</p>\n<p>I try multiple times with different classes in JRE and 3-party library classes. <code>NoClassDefFoundError</code> always occurs when I add the hook into a JRE class that visits my class or a 3-party class. In other cases, like my class visiting a 3-party class or vice versa, the code works fine. So I'm sure the problem is not with my code.</p>\n<p>I guess there's some hidden mechanism that makes my classes invisible to JRE classes, but I can't find clues from Java or ASM documents.</p>\n<p>Here is a simple program that can reproduce my problem.</p>\n<p>Main.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage;\n\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(sc.nextLine());\n        sc.close();\n    }\n\n    public static void insert() {\n        System.out.println(&quot;Main.insert() called.&quot;);\n    }\n}\n</code></pre>\n<p>Agent.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mypackage;\n\nimport java.lang.instrument.ClassFileTransformer;\nimport java.lang.instrument.IllegalClassFormatException;\nimport java.lang.instrument.Instrumentation;\nimport java.security.ProtectionDomain;\n\nimport org.objectweb.asm.ClassReader;\nimport org.objectweb.asm.ClassVisitor;\nimport org.objectweb.asm.ClassWriter;\nimport org.objectweb.asm.MethodVisitor;\nimport org.objectweb.asm.Opcodes;\n\npublic class Agent {\n    public static void premain(String ops, Instrumentation inst) {\n        inst.addTransformer(new myTransformer());\n    }\n}\n\nclass myTransformer implements ClassFileTransformer {\n    @Override\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n        if (&quot;java/util/Scanner&quot;.equals(className)) {\n            ClassReader cr = new ClassReader(classfileBuffer);\n            ClassWriter cw = new ClassWriter(cr, ClassWriter.COMPUTE_FRAMES);\n            myClassVisitor cv = new myClassVisitor(Opcodes.ASM9, cw);\n            cr.accept(cv, ClassReader.EXPAND_FRAMES);\n            return cw.toByteArray();\n        }\n        return null;\n    }\n}\n\nclass myClassVisitor extends ClassVisitor implements Opcodes {\n    protected myClassVisitor(int api, ClassVisitor classVisitor) {\n        super(api, classVisitor);\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String descriptor, String signature,\n            String[] exceptions) {\n        MethodVisitor methodVisitor = super.visitMethod(access, name, descriptor, signature, exceptions);\n        if (&quot;nextLine&quot;.equals(name)) {\n            System.out.println(&quot;Modify Scanner.nextLine&quot;);\n            return new MethodVisitor(api, methodVisitor) {\n                @Override\n                public void visitCode() {\n                    methodVisitor.visitMethodInsn(INVOKESTATIC, &quot;mypackage/Main&quot;, &quot;insert&quot;, &quot;()V&quot;, false);\n                    super.visitCode();\n                }\n            };\n        }\n        return methodVisitor;\n    }\n}\n</code></pre>\n<p>This program modifies <code>nextLine()</code> in <code>java.util.Scanner</code> by adding a call to <code>mypackage.Main.insert()</code>.</p>\n<p>I use this Manifest to pack all classes into a jar file:</p>\n<pre><code>Main-Class: mypackage.Main\nPremain-Class: mypackage.Agent\nAgent-Class: mypackage.Agent\nClass-Path: lib/asm-9.4.jar\nCan-Set-Native-Method-Prefix: true\nCan-Redefine-Classes: true\nCan-Retransform-Classes: true\n</code></pre>\n<p>The ASM jar is located in <code>lib/</code>. Then run the following command:\n<code>java -javaagent:mypackage.jar -jar mypackage.jar</code></p>\n<p>Here's the output:</p>\n<pre><code>Modify Scanner.nextLine\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: mypackage/Main\n    at java.util.Scanner.nextLine(Scanner.java)\n    at mypackage.Main.main(Main.java:8)\n</code></pre>\n<p>My Java version is OpenJDK-8. I can reproduce the problem on both Mac and Ubuntu.</p>\n"},{"tags":["java","spring","spring-boot","http"],"comments":[{"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"score":0,"creation_date":1679147012,"post_id":75776021,"comment_id":133671153,"body_markdown":"see also https://github.com/spring-projects/spring-framework/issues/15335","body":"see also <a href=\"https://github.com/spring-projects/spring-framework/issues/15335\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/issues/15335</a>"}],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145253,"creation_date":1679145253,"answer_id":75776122,"question_id":75776021,"body_markdown":"Annotation that you&#39;ve mentioned (GetMapping) is a shorthand for *@RequestMapping* annotation. You can check source code for *@RequestMapping* annotation for yourself:\r\n\r\n    @RequestMapping(method = RequestMethod.GET)\r\n    public @interface GetMapping {\r\nIt works because spring parses annotation inside other annotations. Check [here][1] another example of Spring annotations processing with @SpringBootApplication.\r\n\r\nRegarding http methods: Spring MVC [documentations][2] says that there are next shorthand annotations:\r\n- @GetMapping\r\n- @PostMapping\r\n- @PutMapping\r\n- @DeleteMapping\r\n- @PatchMapping\r\n\r\nAll other available methods should be declared using @RequestMapping annotation. It accept *RequestMethod* enum as parameter, check this [enum][3] for available options. Notice that TRACE and OPTIONS methods processing should be enabled explicitly.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\r\n  [3]: https://github.com/spring-projects/spring-framework/blob/46bd6add15bb41163445e375908df33af2831b95/spring-web/src/main/java/org/springframework/web/bind/annotation/RequestMethod.java#L39","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>Annotation that you've mentioned (GetMapping) is a shorthand for <em>@RequestMapping</em> annotation. You can check source code for <em>@RequestMapping</em> annotation for yourself:</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET)\npublic @interface GetMapping {\n</code></pre>\n<p>It works because spring parses annotation inside other annotations. Check <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">here</a> another example of Spring annotations processing with @SpringBootApplication.</p>\n<p>Regarding http methods: Spring MVC <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-requestmapping\" rel=\"nofollow noreferrer\">documentations</a> says that there are next shorthand annotations:</p>\n<ul>\n<li>@GetMapping</li>\n<li>@PostMapping</li>\n<li>@PutMapping</li>\n<li>@DeleteMapping</li>\n<li>@PatchMapping</li>\n</ul>\n<p>All other available methods should be declared using @RequestMapping annotation. It accept <em>RequestMethod</em> enum as parameter, check this <a href=\"https://github.com/spring-projects/spring-framework/blob/46bd6add15bb41163445e375908df33af2831b95/spring-web/src/main/java/org/springframework/web/bind/annotation/RequestMethod.java#L39\" rel=\"nofollow noreferrer\">enum</a> for available options. Notice that TRACE and OPTIONS methods processing should be enabled explicitly.</p>\n"},{"tags":[],"owner":{"account_id":25840634,"reputation":19,"user_id":19576227,"display_name":"Serdyna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145318,"creation_date":1679145318,"answer_id":75776126,"question_id":75776021,"body_markdown":"HEAD Method: The HEAD method is similar to the GET method in that it delivers only the response headers rather than the actual content. To handle HEAD requests in Spring Framework, use the @RequestMapping annotation with the method parameter set to RequestMethod.HEAD.\r\n\r\n```@RequestMapping(value = &quot;/employees/{id}&quot;, method = RequestMethod.HEAD)\r\npublic ResponseEntity&lt;Void&gt; headEmployeeById(@PathVariable Long id) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    Employee employee = repository.findById(id)\r\n            .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\r\n    headers.add(&quot;employeeId&quot;, String.valueOf(employee.getId()));\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nOPTIONS Method: The OPTIONS method is used to get a list of HTTP methods that a site supports. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. OPTIONS is used to process OPTIONS requests.\r\n\r\n```@RequestMapping(value = &quot;/employees&quot;, method = RequestMethod.OPTIONS)\r\npublic ResponseEntity&lt;Void&gt; optionsEmployees() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Allow&quot;, &quot;GET, POST, HEAD, OPTIONS&quot;);\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThe CONNECT method is used to connect to a resource across a network. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. CONNECT is in charge of handling CONNECT requests.\r\n\r\n```\r\n@RequestMapping(value = &quot;/connect&quot;, method = RequestMethod.CONNECT)\r\npublic ResponseEntity&lt;Void&gt; connect() {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Connection&quot;, &quot;keep-alive&quot;);\r\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\r\n}\r\n```\r\n\r\nThe TRACE technique is used to obtain diagnostic information about a request/response cycle. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. TRACE will handle TRACE queries.\r\n\r\n```\r\n@RequestMapping(value = &quot;/trace&quot;, method = RequestMethod.TRACE)\r\npublic ResponseEntity&lt;String&gt; trace(HttpServletRequest request) {\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.add(&quot;Content-Type&quot;, &quot;message/http&quot;);\r\n    String requestString = RequestUtil.convertToString(request);\r\n    return new ResponseEntity&lt;&gt;(requestString, headers, HttpStatus.OK);\r\n}\r\n```","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>HEAD Method: The HEAD method is similar to the GET method in that it delivers only the response headers rather than the actual content. To handle HEAD requests in Spring Framework, use the @RequestMapping annotation with the method parameter set to RequestMethod.HEAD.</p>\n<pre><code>public ResponseEntity&lt;Void&gt; headEmployeeById(@PathVariable Long id) {\n    HttpHeaders headers = new HttpHeaders();\n    Employee employee = repository.findById(id)\n            .orElseThrow(() -&gt; new EmployeeNotFoundException(id));\n    headers.add(&quot;employeeId&quot;, String.valueOf(employee.getId()));\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>OPTIONS Method: The OPTIONS method is used to get a list of HTTP methods that a site supports. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. OPTIONS is used to process OPTIONS requests.</p>\n<pre><code>public ResponseEntity&lt;Void&gt; optionsEmployees() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Allow&quot;, &quot;GET, POST, HEAD, OPTIONS&quot;);\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The CONNECT method is used to connect to a resource across a network. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. CONNECT is in charge of handling CONNECT requests.</p>\n<pre><code>@RequestMapping(value = &quot;/connect&quot;, method = RequestMethod.CONNECT)\npublic ResponseEntity&lt;Void&gt; connect() {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Connection&quot;, &quot;keep-alive&quot;);\n    return new ResponseEntity&lt;&gt;(headers, HttpStatus.OK);\n}\n</code></pre>\n<p>The TRACE technique is used to obtain diagnostic information about a request/response cycle. You may use the @RequestMapping annotation in Spring Framework with the method argument set to RequestMethod. TRACE will handle TRACE queries.</p>\n<pre><code>@RequestMapping(value = &quot;/trace&quot;, method = RequestMethod.TRACE)\npublic ResponseEntity&lt;String&gt; trace(HttpServletRequest request) {\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(&quot;Content-Type&quot;, &quot;message/http&quot;);\n    String requestString = RequestUtil.convertToString(request);\n    return new ResponseEntity&lt;&gt;(requestString, headers, HttpStatus.OK);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3670600,"reputation":319,"user_id":3057914,"accept_rate":67,"display_name":"fedden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679145514,"creation_date":1679145514,"answer_id":75776140,"question_id":75776021,"body_markdown":"To implement controllers for any of methods in Spring you could use @RequestMapping annotation\r\n\r\n    @RequestMapping(method = RequestMethod.OPTIONS, value=&quot;/employees&quot;)\r\n\r\n\r\nSee this article for more information \r\nhttps://www.baeldung.com/spring-requestmapping","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>To implement controllers for any of methods in Spring you could use @RequestMapping annotation</p>\n<pre><code>@RequestMapping(method = RequestMethod.OPTIONS, value=&quot;/employees&quot;)\n</code></pre>\n<p>See this article for more information\n<a href=\"https://www.baeldung.com/spring-requestmapping\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-requestmapping</a></p>\n"}],"owner":{"account_id":27275565,"reputation":89,"user_id":20796242,"display_name":"diho472"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679145514,"creation_date":1679144056,"question_id":75776021,"body_markdown":"I would like to find out what an example implementation of HTTP methods (**HEAD, OPTIONS, CONNECT, TRACE**) looks like in Spring Framwerok. \r\n\r\nBecause I can&#39;t find much information on what it would look like other than the standard methods like GET, POST, PUT....\r\n\r\nexample of GET:\r\n\r\n    @GetMapping(&quot;/employees/{id}&quot;)\r\n    Employee one(@PathVariable Long id) {\r\n        \r\n      return repository.findById(id)\r\n        .orElseThrow(() -&gt; new EmployeeNotFoundException(id))\r\n    }\r\n","title":"How the HTTP methods are implemented in Spring RESTful (HEAD, OPTIONS, CONNECT, TRACE)","body":"<p>I would like to find out what an example implementation of HTTP methods (<strong>HEAD, OPTIONS, CONNECT, TRACE</strong>) looks like in Spring Framwerok.</p>\n<p>Because I can't find much information on what it would look like other than the standard methods like GET, POST, PUT....</p>\n<p>example of GET:</p>\n<pre><code>@GetMapping(&quot;/employees/{id}&quot;)\nEmployee one(@PathVariable Long id) {\n    \n  return repository.findById(id)\n    .orElseThrow(() -&gt; new EmployeeNotFoundException(id))\n}\n</code></pre>\n"},{"tags":["java","kotlin","selenium-webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":1,"creation_date":1677183750,"post_id":75531072,"comment_id":133293127,"body_markdown":"imho, you should try/catch all driver calls.  Selenium&#39;s exceptions are very well designed and there are cases when you&#39;d want to actually do something with and in the catch {} part.  (outputting reports, working with stale elements, etc...)  Also remember that the way current Page Objects are designed, they do not use webddriverwaits with explicit conditions.  These are necessary for site&#39;s that update the DOM via JS.  (implicit waits only go so far...)","body":"imho, you should try/catch all driver calls.  Selenium&#39;s exceptions are very well designed and there are cases when you&#39;d want to actually do something with and in the catch {} part.  (outputting reports, working with stale elements, etc...)  Also remember that the way current Page Objects are designed, they do not use webddriverwaits with explicit conditions.  These are necessary for site&#39;s that update the DOM via JS.  (implicit waits only go so far...)"}],"answers":[{"tags":[],"owner":{"account_id":3775103,"reputation":128,"user_id":3136143,"display_name":"attila-fazekas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679145079,"creation_date":1679143795,"answer_id":75775997,"question_id":75531072,"body_markdown":"The `PageFactory` class resides among other classes such as `SlowLoadableComponent`, `FluentWait`, and `WebDriverWait` in the `selenium-support` library. Consider these classes as tools at your disposal; it&#39;s up to you whether you choose to use them or not.\r\n\r\nRegarding `PageFactory`: Interestingly, Simon Stewart (Selenium project lead) admits that it was not the best idea to make it available to the public, as a result almost everybody is using it.\r\nFor reference:\r\nhttps://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s\r\nhttps://twitter.com/shs96c/status/880809924607057920 \r\n\r\nThere are many ways to work around PageFactory and still use Page Object model for abstracting your domain, but if you still intend to use it in Kotlin, then make sure to use `lateinit var` for your `WebElement`s: \r\n\r\n    @FindBy(id = &quot;boligLink&quot;)\r\n    lateinit var boliglink: WebElement\r\n\r\nAnd use `MutableList` instead of `List` to avoid `UninitializedPropertyAccessException` at runtime:\r\n\r\n    @FindBy(className = &quot;image&quot;)\r\n    lateinit var companyNames: MutableList&lt;WebElement&gt;\r\n\r\nPlease notice you don’t need nullable `WebElement`s in order to make `PageFactory` work:\r\n\r\n    import org.openqa.selenium.WebDriver\r\n    import org.openqa.selenium.WebElement\r\n    import org.openqa.selenium.support.FindBy\r\n    import org.openqa.selenium.support.PageFactory\r\n    \r\n    class HomePage(driver: WebDriver) {\r\n    \r\n        @FindBy(id = &quot;boligLink&quot;)\r\n        lateinit var boliglink: WebElement\r\n    \r\n        @FindBy(className = &quot;image&quot;)\r\n        lateinit var images: MutableList&lt;WebElement&gt;\r\n    \r\n        init {\r\n            PageFactory.initElements(driver, this)\r\n        }\r\n    }","title":"Selenium: Use PageFactory or not?","body":"<p>The <code>PageFactory</code> class resides among other classes such as <code>SlowLoadableComponent</code>, <code>FluentWait</code>, and <code>WebDriverWait</code> in the <code>selenium-support</code> library. Consider these classes as tools at your disposal; it's up to you whether you choose to use them or not.</p>\n<p>Regarding <code>PageFactory</code>: Interestingly, Simon Stewart (Selenium project lead) admits that it was not the best idea to make it available to the public, as a result almost everybody is using it.\nFor reference:\n<a href=\"https://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=gyfUpOysIF8&amp;t=1541s</a>\n<a href=\"https://twitter.com/shs96c/status/880809924607057920\" rel=\"nofollow noreferrer\">https://twitter.com/shs96c/status/880809924607057920</a></p>\n<p>There are many ways to work around PageFactory and still use Page Object model for abstracting your domain, but if you still intend to use it in Kotlin, then make sure to use <code>lateinit var</code> for your <code>WebElement</code>s:</p>\n<pre><code>@FindBy(id = &quot;boligLink&quot;)\nlateinit var boliglink: WebElement\n</code></pre>\n<p>And use <code>MutableList</code> instead of <code>List</code> to avoid <code>UninitializedPropertyAccessException</code> at runtime:</p>\n<pre><code>@FindBy(className = &quot;image&quot;)\nlateinit var companyNames: MutableList&lt;WebElement&gt;\n</code></pre>\n<p>Please notice you don’t need nullable <code>WebElement</code>s in order to make <code>PageFactory</code> work:</p>\n<pre><code>import org.openqa.selenium.WebDriver\nimport org.openqa.selenium.WebElement\nimport org.openqa.selenium.support.FindBy\nimport org.openqa.selenium.support.PageFactory\n\nclass HomePage(driver: WebDriver) {\n\n    @FindBy(id = &quot;boligLink&quot;)\n    lateinit var boliglink: WebElement\n\n    @FindBy(className = &quot;image&quot;)\n    lateinit var images: MutableList&lt;WebElement&gt;\n\n    init {\n        PageFactory.initElements(driver, this)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1416016,"reputation":158,"user_id":7101236,"display_name":"kakemonsteret"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75775997,"answer_count":1,"score":2,"last_activity_date":1679145079,"creation_date":1677060129,"question_id":75531072,"body_markdown":"I&#39;m having some trouble agreeing with myself on wether or not to use PageFactory or not in my Selenium PageObjects.\r\n\r\nAs far as I can see, the point of using it is null safety, and that no WebElements are intialized before they&#39;re &quot;used&quot;. \r\n\r\nWhen I&#39;m using Kotlin, I have to constantly null-check a WebElement intialized, like this:\r\n\r\nFrom the PageObject class:\r\n\r\n    @FindBy(id = &quot;boligLink&quot;)\r\n    val boliglink: WebElement? = null\r\n\r\nThe calling code (usually a Step Definition class):\r\n\r\n    boliglink?.click()\r\n\r\n    Or, something like:\r\n\r\n    return boliglink?.isDisplayed()\r\n\r\nAre there any other advantages to this, compared to just using a try/catch - possibly abstracted - for each time the code accesses the WebElement? \r\n\r\nBesides caching, but I don&#39;t think that&#39;s any point unless you access several elements more than once?\r\n\r\n\r\nWouldn&#39;t this do basically the same?\r\n\r\n(The `getElementInElement()` is my function, for finding an element inside an element. It could just be `.findElementBy` blabla.)\r\n\r\n    return try { getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=boliginLink]&quot;)) }\r\n        catch (e: NoSuchElementException) { throw NoSuchElementException(&quot;Couldn&#39;t find link to    boliginformasjon&quot;) }\r\n","title":"Selenium: Use PageFactory or not?","body":"<p>I'm having some trouble agreeing with myself on wether or not to use PageFactory or not in my Selenium PageObjects.</p>\n<p>As far as I can see, the point of using it is null safety, and that no WebElements are intialized before they're &quot;used&quot;.</p>\n<p>When I'm using Kotlin, I have to constantly null-check a WebElement intialized, like this:</p>\n<p>From the PageObject class:</p>\n<pre><code>@FindBy(id = &quot;boligLink&quot;)\nval boliglink: WebElement? = null\n</code></pre>\n<p>The calling code (usually a Step Definition class):</p>\n<pre><code>boliglink?.click()\n\nOr, something like:\n\nreturn boliglink?.isDisplayed()\n</code></pre>\n<p>Are there any other advantages to this, compared to just using a try/catch - possibly abstracted - for each time the code accesses the WebElement?</p>\n<p>Besides caching, but I don't think that's any point unless you access several elements more than once?</p>\n<p>Wouldn't this do basically the same?</p>\n<p>(The <code>getElementInElement()</code> is my function, for finding an element inside an element. It could just be <code>.findElementBy</code> blabla.)</p>\n<pre><code>return try { getElementInElement(element, By.cssSelector(&quot;[data-e2e-selector=boliginLink]&quot;)) }\n    catch (e: NoSuchElementException) { throw NoSuchElementException(&quot;Couldn't find link to    boliginformasjon&quot;) }\n</code></pre>\n"},{"tags":["java","java-8","comparator"],"answers":[{"tags":[],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1678912402,"creation_date":1678825993,"answer_id":75738116,"question_id":75738115,"body_markdown":"**In the below class there are two approach. one using stream.sorted and the other being list.sort method.\r\n\r\n1) First approach will be useful when you dont want to modify the original collection and at the same time want to use stream operations like collect or filter.\r\n2) Second approach is the faster approach and will always modify the original list**\r\n\r\n   \r\n ```\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class SortEmployeesJava8 {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            Comparator&lt;Employee&gt; employeeNameComparator = Comparator.comparing(Employee::getName);\r\n    \r\n            Comparator&lt;Employee&gt; employeeLastNameComparator = Comparator.comparing(Employee::getLastName);\r\n    \r\n            Comparator&lt;Employee&gt; employeeSalaryComparator = Comparator.comparing(Employee::getSalary);\r\n    \r\n            SortEmployeesJava8 test = new SortEmployeesJava8();\r\n    \r\n            List&lt;Employee&gt; employeeList = test.getEmployeeList();\r\n    \r\n            System.out.println(&quot;Sort by Name Output \\n&quot;);\r\n    \r\n    \r\n            //List&lt;Employee&gt; sortedByNameEmployeeList =\r\n                    employeeList\r\n                    .sort(employeeNameComparator\r\n                            .thenComparing(employeeLastNameComparator));\r\n                    //.collect(Collectors.toList());\r\n    \r\n            employeeList.stream()\r\n                    .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()));\r\n    \r\n            System.out.println(&quot;\\n Sort by Salary Output \\n&quot;);\r\n    \r\n            List&lt;Employee&gt; sortedBySalaryEmployeeList = employeeList.stream()\r\n                    .sorted(employeeSalaryComparator)\r\n                    .collect(Collectors.toList());\r\n    \r\n            sortedBySalaryEmployeeList.stream()\r\n                    .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\r\n    \r\n            employeeList.sort(Comparator.comparing(Employee::getName)\r\n                    .thenComparing(Employee::getLastName)\r\n                    .thenComparing(Employee::getSalary));\r\n    \r\n            System.out.println(&quot;\\n Sort by using sort function of list -&gt;Output \\n&quot;);\r\n    \r\n            employeeList.stream().forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\r\n    \r\n    \r\n        }\r\n    \r\n        class Employee {\r\n            Double salary;\r\n            String name;\r\n    \r\n            String lastName;\r\n    \r\n            Employee(Double salary, String name, String lastName) {\r\n                this.salary = salary;\r\n                this.name = name;\r\n                this.lastName = lastName;\r\n            }\r\n    \r\n            public Double getSalary() {\r\n                return this.salary;\r\n            }\r\n    \r\n            public void setSalary(Double salary) {\r\n                this.salary = salary;\r\n            }\r\n    \r\n            public String getName() {\r\n                return this.name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getLastName() {\r\n                return lastName;\r\n            }\r\n    \r\n            public void setLastName(String lastName) {\r\n                this.lastName = lastName;\r\n            }\r\n    \r\n        }\r\n    \r\n        public List&lt;Employee&gt; getEmployeeList() {\r\n            List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n            employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;, &quot;Rakshit&quot;));\r\n            employeeList.add(new Employee(30000d, &quot;Sunil&quot;, &quot;Sawant&quot;));\r\n            employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\n            employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n            return employeeList;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n    \r\n        \r\n    ```\r\n        \r\n    Sort by Name Output \r\n    \r\n    name : Abhijeet Rakshit\r\n    name : Abhijeet Ranade\r\n    name : Srikanth Ranka\r\n    name : Sunil Sawant\r\n    \r\n     Sort by Salary Output \r\n    \r\n    name : Abhijeet Ranade Salary :20000.0\r\n    name : Sunil Sawant Salary :30000.0\r\n    name : Abhijeet Rakshit Salary :40000.0\r\n    name : Srikanth Ranka Salary :40000.0\r\n    \r\n     Sort by using sort function of list -&gt;Output \r\n    \r\n    name : Abhijeet Rakshit Salary :40000.0\r\n    name : Abhijeet Ranade Salary :20000.0\r\n    name : Srikanth Ranka Salary :40000.0\r\n    name : Sunil Sawant Salary :30000.0\r\n        ```\r\n\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p>**In the below class there are two approach. one using stream.sorted and the other being list.sort method.</p>\n<ol>\n<li>First approach will be useful when you dont want to modify the original collection and at the same time want to use stream operations like collect or filter.</li>\n<li>Second approach is the faster approach and will always modify the original list**</li>\n</ol>\n<pre><code>   import java.util.ArrayList;\n   import java.util.Comparator;\n   import java.util.List;\n   import java.util.stream.Collectors;\n   \n   public class SortEmployeesJava8 {\n   \n       public static void main(String args[]) {\n   \n           Comparator&lt;Employee&gt; employeeNameComparator = Comparator.comparing(Employee::getName);\n   \n           Comparator&lt;Employee&gt; employeeLastNameComparator = Comparator.comparing(Employee::getLastName);\n   \n           Comparator&lt;Employee&gt; employeeSalaryComparator = Comparator.comparing(Employee::getSalary);\n   \n           SortEmployeesJava8 test = new SortEmployeesJava8();\n   \n           List&lt;Employee&gt; employeeList = test.getEmployeeList();\n   \n           System.out.println(&quot;Sort by Name Output \\n&quot;);\n   \n   \n           //List&lt;Employee&gt; sortedByNameEmployeeList =\n                   employeeList\n                   .sort(employeeNameComparator\n                           .thenComparing(employeeLastNameComparator));\n                   //.collect(Collectors.toList());\n   \n           employeeList.stream()\n                   .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()));\n   \n           System.out.println(&quot;\\n Sort by Salary Output \\n&quot;);\n   \n           List&lt;Employee&gt; sortedBySalaryEmployeeList = employeeList.stream()\n                   .sorted(employeeSalaryComparator)\n                   .collect(Collectors.toList());\n   \n           sortedBySalaryEmployeeList.stream()\n                   .forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\n   \n           employeeList.sort(Comparator.comparing(Employee::getName)\n                   .thenComparing(Employee::getLastName)\n                   .thenComparing(Employee::getSalary));\n   \n           System.out.println(&quot;\\n Sort by using sort function of list -&gt;Output \\n&quot;);\n   \n           employeeList.stream().forEach(e -&gt; System.out.println(&quot;name : &quot; + e.getName() + &quot; &quot; + e.getLastName()+&quot; Salary :&quot;+e.getSalary()));\n   \n   \n       }\n   \n       class Employee {\n           Double salary;\n           String name;\n   \n           String lastName;\n   \n           Employee(Double salary, String name, String lastName) {\n               this.salary = salary;\n               this.name = name;\n               this.lastName = lastName;\n           }\n   \n           public Double getSalary() {\n               return this.salary;\n           }\n   \n           public void setSalary(Double salary) {\n               this.salary = salary;\n           }\n   \n           public String getName() {\n               return this.name;\n           }\n   \n           public void setName(String name) {\n               this.name = name;\n           }\n   \n           public String getLastName() {\n               return lastName;\n           }\n   \n           public void setLastName(String lastName) {\n               this.lastName = lastName;\n           }\n   \n       }\n   \n       public List&lt;Employee&gt; getEmployeeList() {\n           List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\n           employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;, &quot;Rakshit&quot;));\n           employeeList.add(new Employee(30000d, &quot;Sunil&quot;, &quot;Sawant&quot;));\n           employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\n           employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n           return employeeList;\n       }\n   \n   \n   }\n\n   \n       \n   ```\n       \n   Sort by Name Output \n   \n   name : Abhijeet Rakshit\n   name : Abhijeet Ranade\n   name : Srikanth Ranka\n   name : Sunil Sawant\n   \n    Sort by Salary Output \n   \n   name : Abhijeet Ranade Salary :20000.0\n   name : Sunil Sawant Salary :30000.0\n   name : Abhijeet Rakshit Salary :40000.0\n   name : Srikanth Ranka Salary :40000.0\n   \n    Sort by using sort function of list -&gt;Output \n   \n   name : Abhijeet Rakshit Salary :40000.0\n   name : Abhijeet Ranade Salary :20000.0\n   name : Srikanth Ranka Salary :40000.0\n   name : Sunil Sawant Salary :30000.0\n       ```\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678827029,"creation_date":1678827029,"answer_id":75738265,"question_id":75738115,"body_markdown":"Use a comparator and the `list.sort` method.  subsequent `thenComparing` calls are only invoked if the previous comparison returned equal. I favored last name over salary for tie breakers.  They can be exchanged if required.\r\n```\r\nrecord Employee(double getSalary, String getFirstName, String getLastName) {\r\n}\r\n\r\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\nemployeeList.add(new Employee(40000, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\r\nemployeeList.add(new Employee(30000, &quot;Sunil&quot;,&quot;Sawant&quot;));\r\nemployeeList.add(new Employee(20000, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\nemployeeList.add(new Employee(40000, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n        \r\nemployeeList.sort(Comparator.comparing(Employee::getFirstName)\r\n         .thenComparing(Employee::getLastName)\r\n         .thenComparing(Employee::getSalary));\r\n      \r\n\r\nemployeeList.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nEmployee[getSalary=40000.0, getFirstName=Abhijeet, getLastName=Rakshit]\r\nEmployee[getSalary=20000.0, getFirstName=Abhijeet, getLastName=Ranade]\r\nEmployee[getSalary=40000.0, getFirstName=Srikanth, getLastName=Ranka]\r\nEmployee[getSalary=30000.0, getFirstName=Sunil, getLastName=Sawant]\r\n\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p>Use a comparator and the <code>list.sort</code> method.  subsequent <code>thenComparing</code> calls are only invoked if the previous comparison returned equal. I favored last name over salary for tie breakers.  They can be exchanged if required.</p>\n<pre><code>record Employee(double getSalary, String getFirstName, String getLastName) {\n}\n\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\nemployeeList.add(new Employee(40000, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\nemployeeList.add(new Employee(30000, &quot;Sunil&quot;,&quot;Sawant&quot;));\nemployeeList.add(new Employee(20000, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\nemployeeList.add(new Employee(40000, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n        \nemployeeList.sort(Comparator.comparing(Employee::getFirstName)\n         .thenComparing(Employee::getLastName)\n         .thenComparing(Employee::getSalary));\n      \n\nemployeeList.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>Employee[getSalary=40000.0, getFirstName=Abhijeet, getLastName=Rakshit]\nEmployee[getSalary=20000.0, getFirstName=Abhijeet, getLastName=Ranade]\nEmployee[getSalary=40000.0, getFirstName=Srikanth, getLastName=Ranka]\nEmployee[getSalary=30000.0, getFirstName=Sunil, getLastName=Sawant]\n\n\n</code></pre>\n"}],"owner":{"account_id":6348224,"reputation":179,"user_id":4928063,"display_name":"Abhijeet Ranade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":672,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":2,"score":-5,"last_activity_date":1679143814,"creation_date":1678825993,"question_id":75738115,"body_markdown":"**Suppose we have the following Employee class and `List` of `Employee`s:**\r\n\r\n    class Employee{\r\n      String firstName;\r\n      String lastName;\r\n      Double salary;\r\n    \r\n      Employee(Double salary, String firstName, String lastName){\r\n             this.salary = salary;\r\n             this.firstName = firstName;\r\n             this.lastName = lastName; \r\n      }\r\n    \r\n    // getter and setters\r\n    \r\n    \r\n    }\r\n\r\n    List&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\r\n    employeeList.add(new Employee(40000d, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\r\n    employeeList.add(new Employee(30000d, &quot;Sunil&quot;,&quot;Sawant&quot;));\r\n    employeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\r\n    employeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\r\n\r\nI want to sort this by `first name`, then if equal, by `last name`, and then by `salary`.\r\n\r\n","title":"How to sort employee by name , if we have duplicate names we sort them by last name and also how to sort by salary","body":"<p><strong>Suppose we have the following Employee class and <code>List</code> of <code>Employee</code>s:</strong></p>\n<pre><code>class Employee{\n  String firstName;\n  String lastName;\n  Double salary;\n\n  Employee(Double salary, String firstName, String lastName){\n         this.salary = salary;\n         this.firstName = firstName;\n         this.lastName = lastName; \n  }\n\n// getter and setters\n\n\n}\n\nList&lt;Employee&gt; employeeList = new ArrayList&lt;&gt;();\nemployeeList.add(new Employee(40000d, &quot;Abhijeet&quot;,&quot;Rakshit&quot;));\nemployeeList.add(new Employee(30000d, &quot;Sunil&quot;,&quot;Sawant&quot;));\nemployeeList.add(new Employee(20000d, &quot;Abhijeet&quot;, &quot;Ranade&quot;));\nemployeeList.add(new Employee(40000d, &quot;Srikanth&quot;, &quot;Ranka&quot;));\n</code></pre>\n<p>I want to sort this by <code>first name</code>, then if equal, by <code>last name</code>, and then by <code>salary</code>.</p>\n"},{"tags":["java","datetime","time","java-time"],"answers":[{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1346379483,"creation_date":1282631446,"answer_id":3553994,"question_id":3553964,"body_markdown":"Rounding\r\n--------\r\n\r\nYou will need to use modulo to truncate the quarter hour:\r\n\r\n    Date whateverDateYouWant = new Date();\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(whateverDateYouWant);\r\n\r\n    int unroundedMinutes = calendar.get(Calendar.MINUTE);\r\n    int mod = unroundedMinutes % 15;\r\n    calendar.add(Calendar.MINUTE, mod &lt; 8 ? -mod : (15-mod));\r\n\r\nAs pointed out by EJP, this is also OK (replacement for the last line, only valid if the calendar is [lenient][1]):\r\n\r\n    calendar.set(Calendar.MINUTE, unroundedMinutes + mod);\r\n\r\n\r\n----------\r\n\r\nImprovements\r\n------------\r\n\r\nIf you want to be exact, you will also have to truncate the smaller fields:\r\n\r\n    calendar.set(Calendar.SECOND, 0);\r\n    calendar.set(Calendar.MILLISECOND, 0);\r\n\r\nYou can also use [DateUtils.truncate()][2] from [Apache Commons / Lang][3] to do this:\r\n\r\n    calendar = DateUtils.truncate(calendar, Calendar.MINUTE);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html#isLenient()\r\n  [2]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Calendar,%20int%29\r\n  [3]: http://commons.apache.org/lang","title":"How to round time to the nearest quarter hour in java?","body":"<h2>Rounding</h2>\n\n<p>You will need to use modulo to truncate the quarter hour:</p>\n\n<pre><code>Date whateverDateYouWant = new Date();\nCalendar calendar = Calendar.getInstance();\ncalendar.setTime(whateverDateYouWant);\n\nint unroundedMinutes = calendar.get(Calendar.MINUTE);\nint mod = unroundedMinutes % 15;\ncalendar.add(Calendar.MINUTE, mod &lt; 8 ? -mod : (15-mod));\n</code></pre>\n\n<p>As pointed out by EJP, this is also OK (replacement for the last line, only valid if the calendar is <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Calendar.html#isLenient()\" rel=\"noreferrer\">lenient</a>):</p>\n\n<pre><code>calendar.set(Calendar.MINUTE, unroundedMinutes + mod);\n</code></pre>\n\n<hr>\n\n<h2>Improvements</h2>\n\n<p>If you want to be exact, you will also have to truncate the smaller fields:</p>\n\n<pre><code>calendar.set(Calendar.SECOND, 0);\ncalendar.set(Calendar.MILLISECOND, 0);\n</code></pre>\n\n<p>You can also use <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/time/DateUtils.html#truncate%28java.util.Calendar,%20int%29\" rel=\"noreferrer\">DateUtils.truncate()</a> from <a href=\"http://commons.apache.org/lang\" rel=\"noreferrer\">Apache Commons / Lang</a> to do this:</p>\n\n<pre><code>calendar = DateUtils.truncate(calendar, Calendar.MINUTE);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1405949057,"creation_date":1282631776,"answer_id":3554020,"question_id":3553964,"body_markdown":"With the answer above you end up with all kind of interesting code to handle overflows to hours, days etc.\r\n\r\nI would use the time in ms since the epoch.\r\n\r\nadd 7.5minutes or 7.5x60x1000 = 450000\r\n\r\nand truncate to a multiple of 900000\r\n\r\n    new Date(900000 * ((date.getTime() + 450000) / 900000))\r\n\r\nThis works, because the time where the ms time starts happens to be 00:00:00. And since all time zones in the world change in 15min steps, this does not affect rounding to quarters.\r\n\r\n\r\n(Oops, I had a 0 too much and forgot some important parentheses : it is still too early)\r\n \r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>With the answer above you end up with all kind of interesting code to handle overflows to hours, days etc.</p>\n\n<p>I would use the time in ms since the epoch.</p>\n\n<p>add 7.5minutes or 7.5x60x1000 = 450000</p>\n\n<p>and truncate to a multiple of 900000</p>\n\n<pre><code>new Date(900000 * ((date.getTime() + 450000) / 900000))\n</code></pre>\n\n<p>This works, because the time where the ms time starts happens to be 00:00:00. And since all time zones in the world change in 15min steps, this does not affect rounding to quarters.</p>\n\n<p>(Oops, I had a 0 too much and forgot some important parentheses : it is still too early)</p>\n"},{"tags":[],"owner":{"account_id":183165,"reputation":391,"user_id":418380,"accept_rate":50,"display_name":"christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1282634367,"creation_date":1282632402,"answer_id":3554060,"question_id":3553964,"body_markdown":"if you have the minutes you can round them with the following function:  \r\n    `int minutes = i % 15 &lt; 8 ? i / 15 * 15 : (i / 15 + 1) * 15;`  \r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>if you have the minutes you can round them with the following function:<br>\n    <code>int minutes = i % 15 &lt; 8 ? i / 15 * 15 : (i / 15 + 1) * 15;</code>  </p>\n"},{"tags":[],"owner":{"account_id":185126,"reputation":3669,"user_id":421645,"accept_rate":39,"display_name":"Kandha"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1492652725,"creation_date":1282632844,"answer_id":3554097,"question_id":3553964,"body_markdown":"You can use this simple code... \r\n\r\n    int mode = min % 15;\r\n    if (mode &gt; 15 / 2) {\r\n    \tmin = 15 - mode;\r\n    } else {\r\n    \tmin = 0 - mode;\r\n    }\r\n    cal.add(Calendar.MINUTE, min);","title":"How to round time to the nearest quarter hour in java?","body":"<p>You can use this simple code... </p>\n\n<pre><code>int mode = min % 15;\nif (mode &gt; 15 / 2) {\n    min = 15 - mode;\n} else {\n    min = 0 - mode;\n}\ncal.add(Calendar.MINUTE, min);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185877,"reputation":5330,"user_id":422869,"accept_rate":80,"display_name":"Torres"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282633400,"creation_date":1282633400,"answer_id":3554142,"question_id":3553964,"body_markdown":"Maybe you can use an utility library for manipulating Dates, here for example you have a round method which can be useful for you:\r\n\r\nhttp://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29\r\n\r\nHere an example in code:\r\n\r\n        FastDateFormat formatter = DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT;\r\n         \r\n        Date now = new Date();\r\n        System.out.println(&quot;now = &quot; + formatter.format(now));       \r\n         \r\n        // Get nearest second\r\n        Date nearestSecond = DateUtils.round(now, Calendar.SECOND);\r\n        System.out.println(&quot;nearestSecond = &quot; + formatter.format(nearestSecond));\r\n         \r\n        // Get nearest minute\r\n        Date nearestMinute = DateUtils.round(now, Calendar.MINUTE);\r\n        System.out.println(&quot;nearestMinute = &quot; + formatter.format(nearestMinute));\r\n         \r\n        // Get nearest hour\r\n        Date nearestHour   = DateUtils.round(now, Calendar.HOUR);\r\n        System.out.println(&quot;nearestHour = &quot; + formatter.format(nearestHour));\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>Maybe you can use an utility library for manipulating Dates, here for example you have a round method which can be useful for you:</p>\n\n<p><a href=\"http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29\" rel=\"nofollow noreferrer\">http://commons.apache.org/lang/api-2.4/org/apache/commons/lang/time/DateUtils.html#round%28java.util.Calendar,%20int%29</a></p>\n\n<p>Here an example in code:</p>\n\n<pre><code>    FastDateFormat formatter = DateFormatUtils.ISO_DATETIME_TIME_ZONE_FORMAT;\n\n    Date now = new Date();\n    System.out.println(\"now = \" + formatter.format(now));       \n\n    // Get nearest second\n    Date nearestSecond = DateUtils.round(now, Calendar.SECOND);\n    System.out.println(\"nearestSecond = \" + formatter.format(nearestSecond));\n\n    // Get nearest minute\n    Date nearestMinute = DateUtils.round(now, Calendar.MINUTE);\n    System.out.println(\"nearestMinute = \" + formatter.format(nearestMinute));\n\n    // Get nearest hour\n    Date nearestHour   = DateUtils.round(now, Calendar.HOUR);\n    System.out.println(\"nearestHour = \" + formatter.format(nearestHour));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1146948,"reputation":101,"user_id":1129478,"display_name":"Lindhardt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1679143766,"creation_date":1325665363,"answer_id":8723914,"question_id":3553964,"body_markdown":"It&#39;s simple, find the number of quaters since 1970 as double, round it and multiply by 15 minutes:\r\n\r\n    long timeMs = System.System.currentTimeMillis();\r\n\r\n    long roundedtimeMs = Math.round( (double)( (double)timeMs/(double)(15*60*1000) ) ) * (15*60*1000);\r\n\r\nSet your Date or Calendar object with that.\r\nChange the time you want mutiple by &quot;n&quot;","title":"How to round time to the nearest quarter hour in java?","body":"<p>It's simple, find the number of quaters since 1970 as double, round it and multiply by 15 minutes:</p>\n<pre><code>long timeMs = System.System.currentTimeMillis();\n\nlong roundedtimeMs = Math.round( (double)( (double)timeMs/(double)(15*60*1000) ) ) * (15*60*1000);\n</code></pre>\n<p>Set your Date or Calendar object with that.\nChange the time you want mutiple by &quot;n&quot;</p>\n"},{"tags":[],"owner":{"account_id":1151097,"reputation":809,"user_id":1132801,"accept_rate":68,"display_name":"Christopher Masser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375681958,"creation_date":1375681958,"answer_id":18051391,"question_id":3553964,"body_markdown":"    minutes = (int) (Math.round(minutes / 15.0) * 15.0);","title":"How to round time to the nearest quarter hour in java?","body":"<pre><code>minutes = (int) (Math.round(minutes / 15.0) * 15.0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3490255,"reputation":969,"user_id":2920131,"display_name":"Lucien Boix"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1401464937,"creation_date":1401464937,"answer_id":23958525,"question_id":3553964,"body_markdown":"Wonderful post, thank you so much guys! It was exactly what I needed :)\r\n\r\nHere&#39;s my code based on jour work.\r\n\r\nMy usecase is **&quot;Given it&#39;s 11:47 am, I want to set two dates symbolizing the current 5-minutes frame : 11:45 am and 11:50 am&quot;**\r\n\r\n                Calendar calendar = Calendar.getInstance();\r\n                calendar.set(Calendar.SECOND, 0);\r\n                calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n                int modulo = calendar.get(Calendar.MINUTE) % 5;\r\n                if(modulo &gt; 0) {\r\n\r\n                    calendar.add(Calendar.MINUTE, -modulo);\r\n                }\r\n\r\n                myObject.setStartDate(calendar.getTime());\r\n\r\n                calendar.add(Calendar.MINUTE, 5);\r\n                myObject.setDueDate(calendar.getTime()); ","title":"How to round time to the nearest quarter hour in java?","body":"<p>Wonderful post, thank you so much guys! It was exactly what I needed :)</p>\n\n<p>Here's my code based on jour work.</p>\n\n<p>My usecase is <strong>\"Given it's 11:47 am, I want to set two dates symbolizing the current 5-minutes frame : 11:45 am and 11:50 am\"</strong></p>\n\n<pre><code>            Calendar calendar = Calendar.getInstance();\n            calendar.set(Calendar.SECOND, 0);\n            calendar.set(Calendar.MILLISECOND, 0);\n\n            int modulo = calendar.get(Calendar.MINUTE) % 5;\n            if(modulo &gt; 0) {\n\n                calendar.add(Calendar.MINUTE, -modulo);\n            }\n\n            myObject.setStartDate(calendar.getTime());\n\n            calendar.add(Calendar.MINUTE, 5);\n            myObject.setDueDate(calendar.getTime()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":95764,"reputation":12019,"user_id":260633,"accept_rate":100,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1464122912,"creation_date":1464122912,"answer_id":37423588,"question_id":3553964,"body_markdown":"A commented implementation for Java 8. Accepts arbitrary rounding units and increments:\r\n\r\n  \r\n\r\n     public static ZonedDateTime round(ZonedDateTime input, TemporalField roundTo, int roundIncrement) {\r\n        /* Extract the field being rounded. */\r\n        int field = input.get(roundTo);\r\n    \r\n        /* Distance from previous floor. */\r\n        int r = field % roundIncrement;\r\n    \r\n        /* Find floor and ceiling. Truncate values to base unit of field. */\r\n        ZonedDateTime ceiling = \r\n            input.plus(roundIncrement - r, roundTo.getBaseUnit())\r\n            .truncatedTo(roundTo.getBaseUnit());\r\n        \r\n        ZonedDateTime floor = \r\n            input.plus(-r, roundTo.getBaseUnit())\r\n            .truncatedTo(roundTo.getBaseUnit());\r\n    \r\n        /*\r\n         * Do a half-up rounding.\r\n         * \r\n         * If (input - floor) &lt; (ceiling - input) \r\n         * (i.e. floor is closer to input than ceiling)\r\n         *  then return floor, otherwise return ceiling.\r\n         */\r\n        return Duration.between(floor, input).compareTo(Duration.between(input, ceiling)) &lt; 0 ? floor : ceiling;\r\n      }\r\n    \r\n\r\nSource: myself","title":"How to round time to the nearest quarter hour in java?","body":"<p>A commented implementation for Java 8. Accepts arbitrary rounding units and increments:</p>\n\n<pre><code> public static ZonedDateTime round(ZonedDateTime input, TemporalField roundTo, int roundIncrement) {\n    /* Extract the field being rounded. */\n    int field = input.get(roundTo);\n\n    /* Distance from previous floor. */\n    int r = field % roundIncrement;\n\n    /* Find floor and ceiling. Truncate values to base unit of field. */\n    ZonedDateTime ceiling = \n        input.plus(roundIncrement - r, roundTo.getBaseUnit())\n        .truncatedTo(roundTo.getBaseUnit());\n\n    ZonedDateTime floor = \n        input.plus(-r, roundTo.getBaseUnit())\n        .truncatedTo(roundTo.getBaseUnit());\n\n    /*\n     * Do a half-up rounding.\n     * \n     * If (input - floor) &lt; (ceiling - input) \n     * (i.e. floor is closer to input than ceiling)\n     *  then return floor, otherwise return ceiling.\n     */\n    return Duration.between(floor, input).compareTo(Duration.between(input, ceiling)) &lt; 0 ? floor : ceiling;\n  }\n</code></pre>\n\n<p>Source: myself</p>\n"},{"tags":[],"owner":{"account_id":9021020,"reputation":1,"user_id":6722110,"display_name":"Xander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471354015,"creation_date":1471354015,"answer_id":38976237,"question_id":3553964,"body_markdown":"Using some code on I found on Stackoverflow, I have created the following code. It will output for every minute the quarter it will be rounded to.\r\n\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    DateTimeFormatter Datum_Format = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\r\n    \r\n    LocalDateTime time = LocalDateTime.now();\r\n    for(int i=0; i&lt;=59; i++) {\r\n      time = time.withMinute(i);\r\n      int Minute = time.getMinute();\r\n      int Quarter = 15 * (int) Math.round(Minute / 15);\r\n      if (Quarter == 60) { \r\n    \tTime2 = time.plusHours(1);\r\n    \tTime2 = Time2.withMinute(0); \r\n    \tLOG.info (Datum_Format.format(time) + &quot;,&quot; + Datum_Format.format(Time2));\r\n      }\r\n      else {\r\n    \tTime2 = time; \r\n    \tTime2 = Time2.withMinute(Quarter); \r\n    \tLOG.info (Datum_Format.format(time) + &quot;,&quot; + Datum_Format.format(Time2));\r\n      }\r\n    }\r\n\r\nAs I output the code to a console, you will have to replace the LOG.info with something like System.out.println.\r\n\r\nResult:\r\n\r\n2016-08-16 15:14:31 INFO 15:05,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:06,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:07,15:00 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:08,15:15 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:09,15:15 &lt;br&gt;\r\n2016-08-16 15:14:31 INFO 15:10,15:15 &lt;br&gt;","title":"How to round time to the nearest quarter hour in java?","body":"<p>Using some code on I found on Stackoverflow, I have created the following code. It will output for every minute the quarter it will be rounded to.</p>\n\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\n\nDateTimeFormatter Datum_Format = DateTimeFormatter.ofPattern(\"HH:mm\");\n\nLocalDateTime time = LocalDateTime.now();\nfor(int i=0; i&lt;=59; i++) {\n  time = time.withMinute(i);\n  int Minute = time.getMinute();\n  int Quarter = 15 * (int) Math.round(Minute / 15);\n  if (Quarter == 60) { \n    Time2 = time.plusHours(1);\n    Time2 = Time2.withMinute(0); \n    LOG.info (Datum_Format.format(time) + \",\" + Datum_Format.format(Time2));\n  }\n  else {\n    Time2 = time; \n    Time2 = Time2.withMinute(Quarter); \n    LOG.info (Datum_Format.format(time) + \",\" + Datum_Format.format(Time2));\n  }\n}\n</code></pre>\n\n<p>As I output the code to a console, you will have to replace the LOG.info with something like System.out.println.</p>\n\n<p>Result:</p>\n\n<p>2016-08-16 15:14:31 INFO 15:05,15:00 <br>\n2016-08-16 15:14:31 INFO 15:06,15:00 <br>\n2016-08-16 15:14:31 INFO 15:07,15:00 <br>\n2016-08-16 15:14:31 INFO 15:08,15:15 <br>\n2016-08-16 15:14:31 INFO 15:09,15:15 <br>\n2016-08-16 15:14:31 INFO 15:10,15:15 <br></p>\n"},{"tags":[],"owner":{"account_id":1128668,"reputation":5691,"user_id":1115279,"accept_rate":86,"display_name":"D-rk"},"down_vote_count":1,"up_vote_count":50,"is_accepted":false,"score":49,"last_activity_date":1478257394,"creation_date":1478257394,"answer_id":40421043,"question_id":3553964,"body_markdown":"If you just want to round down this is a more readable version using **Java Time API**:\r\n\r\n    LocalDateTime time = LocalDateTime.now();\r\n\tLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS)\r\n\t                                .plusMinutes(15 * (time.getMinute() / 15));\r\n\r\noutput:\r\n\r\n2016-11-04T10:58:10.228\r\n\r\n2016-11-04T10:45:00","title":"How to round time to the nearest quarter hour in java?","body":"<p>If you just want to round down this is a more readable version using <strong>Java Time API</strong>:</p>\n\n<pre><code>LocalDateTime time = LocalDateTime.now();\nLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes(15 * (time.getMinute() / 15));\n</code></pre>\n\n<p>output:</p>\n\n<p>2016-11-04T10:58:10.228</p>\n\n<p>2016-11-04T10:45:00</p>\n"},{"tags":[],"owner":{"account_id":7284149,"reputation":673,"user_id":5552809,"display_name":"contrapost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505890965,"creation_date":1505890965,"answer_id":46315317,"question_id":3553964,"body_markdown":"    public static Date getCurrentDateTimeWithQuarterRounding() {\r\n        final Calendar calendar = new GregorianCalendar();\r\n        calendar.setTime(new Date());\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        final int minutes = calendar.get(Calendar.MINUTE);\r\n\r\n        if (minutes &lt; 15) {\r\n            calendar.set(Calendar.MINUTE, 0);\r\n        } else if (minutes &gt;= 45) {\r\n            calendar.set(Calendar.MINUTE, 45);\r\n        } else if (minutes &lt; 30) {\r\n            calendar.set(Calendar.MINUTE, 15);\r\n        } else {\r\n            calendar.set(Calendar.MINUTE, 30);\r\n        }\r\n\r\n        return calendar.getTime();\r\n    }","title":"How to round time to the nearest quarter hour in java?","body":"<pre><code>public static Date getCurrentDateTimeWithQuarterRounding() {\n    final Calendar calendar = new GregorianCalendar();\n    calendar.setTime(new Date());\n    calendar.set(Calendar.MILLISECOND, 0);\n    calendar.set(Calendar.SECOND, 0);\n    final int minutes = calendar.get(Calendar.MINUTE);\n\n    if (minutes &lt; 15) {\n        calendar.set(Calendar.MINUTE, 0);\n    } else if (minutes &gt;= 45) {\n        calendar.set(Calendar.MINUTE, 45);\n    } else if (minutes &lt; 30) {\n        calendar.set(Calendar.MINUTE, 15);\n    } else {\n        calendar.set(Calendar.MINUTE, 30);\n    }\n\n    return calendar.getTime();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8206224,"reputation":378,"user_id":6175863,"accept_rate":50,"display_name":"Rakesh SKadam"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1570438687,"creation_date":1570438687,"answer_id":58266323,"question_id":3553964,"body_markdown":"One more alternate approach using java Instant api.\r\n```\r\nInstant instant =  Instant.now();\r\nint intervalInMinutes = 10;\r\ninstant.truncatedTo(ChronoUnit.MINUTES).minus(instant.atZone(ZoneId.of(&quot;UTC&quot;)).getMinute() % (1* intervalInMinutes),ChronoUnit.MINUTES);\r\n```","title":"How to round time to the nearest quarter hour in java?","body":"<p>One more alternate approach using java Instant api.</p>\n\n<pre><code>Instant instant =  Instant.now();\nint intervalInMinutes = 10;\ninstant.truncatedTo(ChronoUnit.MINUTES).minus(instant.atZone(ZoneId.of(\"UTC\")).getMinute() % (1* intervalInMinutes),ChronoUnit.MINUTES);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579590447,"creation_date":1579537456,"answer_id":59827317,"question_id":3553964,"body_markdown":"Use the following functions to get the minutes rounded to last quarter `getRecentQuater():Date`, `getSysDate_LastQuarterMins(&quot;dd.MM.yyyy HH:mm:ss&quot;):String`: &lt;sup&gt;Converting [LocalDateTime to Date](https://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date)&lt;/sup&gt;\r\n\r\n```lang-java\r\npublic static Date getRecentQuater() {\r\n\tLocalDateTime time = LocalDateTime.now();\r\n\tLocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS).plusMinutes(getLastQuarterValue(time.getMinute()));\r\n\tSystem.out.println(&quot;lastQuarter LocalDateTime: &quot; + lastQuarter);\r\n\t\r\n\tDate date = Date.from(lastQuarter.atZone(ZoneId.systemDefault()).toInstant());\r\n\tSystem.out.println(&quot;lastQuarter Date: &quot; + lastQuarter);\r\n\treturn date;\r\n}\r\npublic static String getSysDate_LastQuarterMins(String dateFormat) {\r\n\tDate date = getRecentQuater();\r\n\tSimpleDateFormat ft = new SimpleDateFormat (dateFormat);\r\n\tString sysDate_RoundMin = ft.format(date);\r\n\tSystem.out.println(&quot;getSysDate_LastQuarterMins() LocalDateTime : &quot;+sysDate_RoundMin);\r\n\treturn sysDate_RoundMin;\r\n}\r\n```\r\n\r\n`getSysDate_LastQuarterMins() : Mon Jan 20 17:30:00 CET 2020`\r\n\r\n```lang-java\r\npublic static Date getSysDate_LastQuarterMins() {\r\n\tCalendar cal = Calendar.getInstance();\r\n\tcal.setTime( new Date(System.currentTimeMillis()) );\r\n\t\r\n\tint min = cal.get(Calendar.MINUTE);\r\n\t\r\n\tcal.set(Calendar.MINUTE, getLastQuarterValue(min));\r\n\tcal.set(Calendar.SECOND, 00);\r\n\tDate lastQuarter = cal.getTime();\r\n\tSystem.out.println(&quot;getSysDate_LastQuarterMins() Calendar : &quot;+lastQuarter);\r\n\treturn lastQuarter;\r\n}\r\n```\r\n\r\n\r\nYou can find the LastQuarter Value Round value from the follwing fucntions, provided with some outputs on function call `diaplayLastQuarter_RoundValue(min)`:\r\n\r\n```\r\nMin: 10, LastQuarter:  0, Round: 15\r\nMin: 24, LastQuarter: 15, Round: 30\r\nMin: 36, LastQuarter: 30, Round: 30\r\nMin: 37, LastQuarter: 30, Round: 30\r\nMin: 38, LastQuarter: 30, Round: 45\r\nMin: 39, LastQuarter: 30, Round: 45\r\nMin: 44, LastQuarter: 30, Round: 45\r\nMin: 57, LastQuarter: 45, Round: 00 [57, 07:45:00, 08:00:00]\r\n```\r\n\t\t\r\n```lang-java\r\npublic static void diaplayLastQuarter_RoundValue(int minutes) {\r\n\tSystem.out.format(&quot;Min: %2d, LastQuarter: %2d, Round: %2d\\n&quot;,\r\n\t\t\tminutes, getLastQuarterValue(minutes), getRoundValue(minutes));\r\n}\r\npublic static int getLastQuarterValue(int minutes) {\r\n\tint min = 15 * (minutes / 15);\r\n\t//System.out.println(&quot;Min: &quot;+minutes+&quot;, getLastQuarterValue : &quot;+ min);\r\n\treturn min;\r\n}\r\npublic static int getRoundValue(int minutes) {\r\n\tgetLastQuarterValue(minutes);\r\n\tint minRound = (int) (Math.round(minutes / 15.0) * 15.0);\r\n\t//System.out.println(&quot;Min: &quot;+minutes+&quot;, getRoundValue : &quot;+minRound);\r\n\treturn minRound;\r\n}\r\n```\r\n\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>Use the following functions to get the minutes rounded to last quarter <code>getRecentQuater():Date</code>, <code>getSysDate_LastQuarterMins(\"dd.MM.yyyy HH:mm:ss\"):String</code>: <sup>Converting <a href=\"https://stackoverflow.com/questions/19431234/converting-between-java-time-localdatetime-and-java-util-date\">LocalDateTime to Date</a></sup></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Date getRecentQuater() {\n    LocalDateTime time = LocalDateTime.now();\n    LocalDateTime lastQuarter = time.truncatedTo(ChronoUnit.HOURS).plusMinutes(getLastQuarterValue(time.getMinute()));\n    System.out.println(\"lastQuarter LocalDateTime: \" + lastQuarter);\n\n    Date date = Date.from(lastQuarter.atZone(ZoneId.systemDefault()).toInstant());\n    System.out.println(\"lastQuarter Date: \" + lastQuarter);\n    return date;\n}\npublic static String getSysDate_LastQuarterMins(String dateFormat) {\n    Date date = getRecentQuater();\n    SimpleDateFormat ft = new SimpleDateFormat (dateFormat);\n    String sysDate_RoundMin = ft.format(date);\n    System.out.println(\"getSysDate_LastQuarterMins() LocalDateTime : \"+sysDate_RoundMin);\n    return sysDate_RoundMin;\n}\n</code></pre>\n\n<p><code>getSysDate_LastQuarterMins() : Mon Jan 20 17:30:00 CET 2020</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static Date getSysDate_LastQuarterMins() {\n    Calendar cal = Calendar.getInstance();\n    cal.setTime( new Date(System.currentTimeMillis()) );\n\n    int min = cal.get(Calendar.MINUTE);\n\n    cal.set(Calendar.MINUTE, getLastQuarterValue(min));\n    cal.set(Calendar.SECOND, 00);\n    Date lastQuarter = cal.getTime();\n    System.out.println(\"getSysDate_LastQuarterMins() Calendar : \"+lastQuarter);\n    return lastQuarter;\n}\n</code></pre>\n\n<p>You can find the LastQuarter Value Round value from the follwing fucntions, provided with some outputs on function call <code>diaplayLastQuarter_RoundValue(min)</code>:</p>\n\n<pre><code>Min: 10, LastQuarter:  0, Round: 15\nMin: 24, LastQuarter: 15, Round: 30\nMin: 36, LastQuarter: 30, Round: 30\nMin: 37, LastQuarter: 30, Round: 30\nMin: 38, LastQuarter: 30, Round: 45\nMin: 39, LastQuarter: 30, Round: 45\nMin: 44, LastQuarter: 30, Round: 45\nMin: 57, LastQuarter: 45, Round: 00 [57, 07:45:00, 08:00:00]\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void diaplayLastQuarter_RoundValue(int minutes) {\n    System.out.format(\"Min: %2d, LastQuarter: %2d, Round: %2d\\n\",\n            minutes, getLastQuarterValue(minutes), getRoundValue(minutes));\n}\npublic static int getLastQuarterValue(int minutes) {\n    int min = 15 * (minutes / 15);\n    //System.out.println(\"Min: \"+minutes+\", getLastQuarterValue : \"+ min);\n    return min;\n}\npublic static int getRoundValue(int minutes) {\n    getLastQuarterValue(minutes);\n    int minRound = (int) (Math.round(minutes / 15.0) * 15.0);\n    //System.out.println(\"Min: \"+minutes+\", getRoundValue : \"+minRound);\n    return minRound;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1617396277,"creation_date":1617396277,"answer_id":66925043,"question_id":3553964,"body_markdown":"If you need to round down time to the nearest arbitrary level provided as `Duration`:\r\n\r\n\tstatic long truncateTo(long timeEpochMillis, Duration d) {\r\n\t\tlong x = timeEpochMillis / d.toMillis();\r\n\t\treturn x * d.toMillis();\r\n\t}\r\n","title":"How to round time to the nearest quarter hour in java?","body":"<p>If you need to round down time to the nearest arbitrary level provided as <code>Duration</code>:</p>\n<pre><code>static long truncateTo(long timeEpochMillis, Duration d) {\n    long x = timeEpochMillis / d.toMillis();\n    return x * d.toMillis();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617402346,"creation_date":1617401860,"answer_id":66925903,"question_id":3553964,"body_markdown":"## *java.time*\r\n\r\nI recommend you do it using the the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html)&lt;sup&gt;*&lt;/sup&gt;:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.temporal.ChronoUnit;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t// Change it to the applicable ZoneId e.g. ZoneId.of(&quot;Asia/Kolkata&quot;)\r\n    \t\tZoneId zoneId = ZoneId.systemDefault();\r\n    \t\t\r\n    \t\tStream.of(\r\n    \t\t\t\t\t\t&quot;10:00&quot;, \r\n    \t\t\t\t\t\t&quot;10:05&quot;, \r\n    \t\t\t\t\t\t&quot;10:10&quot;, \r\n    \t\t\t\t\t\t&quot;10:15&quot;, \r\n    \t\t\t\t\t\t&quot;10:20&quot;, \r\n    \t\t\t\t\t\t&quot;10:25&quot;, \r\n    \t\t\t\t\t\t&quot;10:30&quot;\r\n    \t\t\t).forEach(t -&gt; System.out.println(roundToNearestQuarter(t, zoneId)));\r\n    \t}\r\n    \r\n    \tstatic ZonedDateTime roundToNearestQuarter(String strTime, ZoneId zoneId) {\r\n    \t\tLocalTime time = LocalTime.parse(strTime);\r\n    \t\treturn LocalDate.now()\r\n    \t\t\t\t\t\t.atTime(time)\r\n    \t\t\t\t\t\t.atZone(zoneId)\r\n    \t\t\t\t\t\t.truncatedTo(ChronoUnit.HOURS)\r\n    \t\t\t\t\t\t.plusMinutes(15 * Math.round(time.getMinute() / 15.0));\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2021-04-02T10:00+01:00[Europe/London]\r\n    2021-04-02T10:00+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:15+01:00[Europe/London]\r\n    2021-04-02T10:30+01:00[Europe/London]\r\n    2021-04-02T10:30+01:00[Europe/London]\r\n\r\nIn case you are looking for just time, use [`ZonedDateTime#toLocalTime`][1] to get the `LocalTime` from the obtained `ZonedDateTime`. \r\n\r\nLearn more about the modern date-time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n***\r\n&lt;sup&gt;* The `java.util` date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the modern date-time API. For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalTime--","title":"How to round time to the nearest quarter hour in java?","body":"<h2><em>java.time</em></h2>\n<p>I recommend you do it using the the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a><sup>*</sup>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Stream;\n\npublic class Main {\n    public static void main(String[] args) {\n        \n        // Change it to the applicable ZoneId e.g. ZoneId.of(&quot;Asia/Kolkata&quot;)\n        ZoneId zoneId = ZoneId.systemDefault();\n        \n        Stream.of(\n                        &quot;10:00&quot;, \n                        &quot;10:05&quot;, \n                        &quot;10:10&quot;, \n                        &quot;10:15&quot;, \n                        &quot;10:20&quot;, \n                        &quot;10:25&quot;, \n                        &quot;10:30&quot;\n            ).forEach(t -&gt; System.out.println(roundToNearestQuarter(t, zoneId)));\n    }\n\n    static ZonedDateTime roundToNearestQuarter(String strTime, ZoneId zoneId) {\n        LocalTime time = LocalTime.parse(strTime);\n        return LocalDate.now()\n                        .atTime(time)\n                        .atZone(zoneId)\n                        .truncatedTo(ChronoUnit.HOURS)\n                        .plusMinutes(15 * Math.round(time.getMinute() / 15.0));\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2021-04-02T10:00+01:00[Europe/London]\n2021-04-02T10:00+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:15+01:00[Europe/London]\n2021-04-02T10:30+01:00[Europe/London]\n2021-04-02T10:30+01:00[Europe/London]\n</code></pre>\n<p>In case you are looking for just time, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#toLocalTime--\" rel=\"nofollow noreferrer\"><code>ZonedDateTime#toLocalTime</code></a> to get the <code>LocalTime</code> from the obtained <code>ZonedDateTime</code>.</p>\n<p>Learn more about the modern date-time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<hr />\n<p><sup>* The <code>java.util</code> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the modern date-time API. For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7. If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.\n</sup></p>\n"},{"tags":[],"owner":{"account_id":16567284,"reputation":71,"user_id":11971503,"display_name":"rortegat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626454735,"creation_date":1626454735,"answer_id":68412746,"question_id":3553964,"body_markdown":"If someone is interested to get the nearest (up or down) five or fifteen interval, I made a function using module that does the job.\r\n\r\n```java\r\npublic LocalTime roundToTheNearestInterval(LocalTime original, Integer measurementInterval) {\r\n        LocalTime nearest;\r\n        int mod;\r\n        switch (measurementInterval) {\r\n            case 5:\r\n                mod = original.getMinute() % 5;\r\n                nearest = mod &gt;= 3 ?\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 5 * (original.getMinute() / 5) + 5) :\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 5 * (original.getMinute() / 5));\r\n                break;\r\n            case 15:\r\n                mod = original.getMinute() % 15;\r\n                nearest = mod &gt;= 8 ?\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 15 * (original.getMinute() / 15) + 15) :\r\n                        original.truncatedTo(ChronoUnit.HOURS)\r\n                                .plusMinutes((long) 15 * (original.getMinute() / 15));\r\n                break;\r\n            default:\r\n                nearest = original;\r\n        }\r\n        return nearest;\r\n    }\r\n```\r\n\r\nYou can try it with this unit test\r\n\r\n```java\r\n @Test\r\n    void roundToTheNearestInterval() {\r\n        //given\r\n        LocalTime originalTime1 = LocalTime.of(6, 31, 15);\r\n        LocalTime originalTime2 = LocalTime.of(19, 13, 42);\r\n        LocalTime originalTime3 = LocalTime.of(6, 37, 11);\r\n        LocalTime originalTime4 = LocalTime.of(19, 40, 34);\r\n        Integer measurementInterval_5min = 5;\r\n        Integer measurementInterval_15min = 15;\r\n\r\n        MyService myService = new MyService();\r\n\r\n        //when\r\n        LocalTime rounded1_5min = myService.roundToTheNearestInterval(originalTime1, measurementInterval_5min);\r\n        LocalTime rounded2_5min = myService.roundToTheNearestInterval(originalTime2, measurementInterval_5min);\r\n\r\n        LocalTime rounded1_15min = myService.roundToTheNearestInterval(originalTime3, measurementInterval_15min);\r\n        LocalTime rounded2_15min = myService.roundToTheNearestInterval(originalTime4, measurementInterval_15min);\r\n\r\n        //then\r\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_5min);\r\n        assertEquals(LocalTime.of(19, 15, 0), rounded2_5min);\r\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_15min);\r\n        assertEquals(LocalTime.of(19, 45, 0), rounded2_15min);\r\n\r\n    }\r\n```","title":"How to round time to the nearest quarter hour in java?","body":"<p>If someone is interested to get the nearest (up or down) five or fifteen interval, I made a function using module that does the job.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public LocalTime roundToTheNearestInterval(LocalTime original, Integer measurementInterval) {\n        LocalTime nearest;\n        int mod;\n        switch (measurementInterval) {\n            case 5:\n                mod = original.getMinute() % 5;\n                nearest = mod &gt;= 3 ?\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 5 * (original.getMinute() / 5) + 5) :\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 5 * (original.getMinute() / 5));\n                break;\n            case 15:\n                mod = original.getMinute() % 15;\n                nearest = mod &gt;= 8 ?\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 15 * (original.getMinute() / 15) + 15) :\n                        original.truncatedTo(ChronoUnit.HOURS)\n                                .plusMinutes((long) 15 * (original.getMinute() / 15));\n                break;\n            default:\n                nearest = original;\n        }\n        return nearest;\n    }\n</code></pre>\n<p>You can try it with this unit test</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Test\n    void roundToTheNearestInterval() {\n        //given\n        LocalTime originalTime1 = LocalTime.of(6, 31, 15);\n        LocalTime originalTime2 = LocalTime.of(19, 13, 42);\n        LocalTime originalTime3 = LocalTime.of(6, 37, 11);\n        LocalTime originalTime4 = LocalTime.of(19, 40, 34);\n        Integer measurementInterval_5min = 5;\n        Integer measurementInterval_15min = 15;\n\n        MyService myService = new MyService();\n\n        //when\n        LocalTime rounded1_5min = myService.roundToTheNearestInterval(originalTime1, measurementInterval_5min);\n        LocalTime rounded2_5min = myService.roundToTheNearestInterval(originalTime2, measurementInterval_5min);\n\n        LocalTime rounded1_15min = myService.roundToTheNearestInterval(originalTime3, measurementInterval_15min);\n        LocalTime rounded2_15min = myService.roundToTheNearestInterval(originalTime4, measurementInterval_15min);\n\n        //then\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_5min);\n        assertEquals(LocalTime.of(19, 15, 0), rounded2_5min);\n        assertEquals(LocalTime.of(6, 30, 0), rounded1_15min);\n        assertEquals(LocalTime.of(19, 45, 0), rounded2_15min);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":12533,"reputation":6464,"user_id":24744,"accept_rate":66,"display_name":"lock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86205,"favorite_count":0,"down_vote_count":1,"up_vote_count":72,"accepted_answer_id":3553994,"answer_count":17,"score":71,"last_activity_date":1679143766,"creation_date":1282631055,"question_id":3553964,"body_markdown":"Given today&#39;s time e.g. 2:24PM, how do I get it to round to 2:30PM?\r\n\r\nSimilarly if the time was 2:17PM, how do I get it to round to 2:15PM?","title":"How to round time to the nearest quarter hour in java?","body":"<p>Given today's time e.g. 2:24PM, how do I get it to round to 2:30PM?</p>\n\n<p>Similarly if the time was 2:17PM, how do I get it to round to 2:15PM?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":11884902,"reputation":193,"user_id":8697563,"display_name":"Santosh Sagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679143413,"creation_date":1679143413,"question_id":75775961,"body_markdown":"I have one specific situation, lets say there is one api which takes the input and update the database. Updating the database takes close to 4 seconds. I wanted to created an api which execute only the last request based on parameter and cancel the previous request.\r\n\r\neg. putSomeDataAPI(int id, String data):\r\n\r\n```\r\nputSomeDataAPI(1, &quot;D1&quot;)\r\nputSomeDataAPI(1, &quot;D2&quot;)\r\nputSomeDataAPI(1, &quot;D3&quot;) -&gt; last call for id 1\r\n```\r\n\r\nI want to execute only last put api call...  How to achieve it ?\r\n\r\nI tried with synchronization at method level but in that case it was executing one by one and total time for api call is increasing significantly. Ideally it should take ~ 4 sec (assuming one call takes 4 sec). ","title":"Cancel previous API request based on specific parameter in spring boot","body":"<p>I have one specific situation, lets say there is one api which takes the input and update the database. Updating the database takes close to 4 seconds. I wanted to created an api which execute only the last request based on parameter and cancel the previous request.</p>\n<p>eg. putSomeDataAPI(int id, String data):</p>\n<pre><code>putSomeDataAPI(1, &quot;D1&quot;)\nputSomeDataAPI(1, &quot;D2&quot;)\nputSomeDataAPI(1, &quot;D3&quot;) -&gt; last call for id 1\n</code></pre>\n<p>I want to execute only last put api call...  How to achieve it ?</p>\n<p>I tried with synchronization at method level but in that case it was executing one by one and total time for api call is increasing significantly. Ideally it should take ~ 4 sec (assuming one call takes 4 sec).</p>\n"},{"tags":["java","mysql","google-app-engine","ssl"],"comments":[{"owner":{"account_id":3235747,"reputation":2702,"user_id":2730024,"accept_rate":86,"display_name":"mba12"},"score":1,"creation_date":1435267695,"post_id":31055623,"comment_id":50142715,"body_markdown":"Found the answer in the first solution here: http://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc","body":"Found the answer in the first solution here: <a href=\"http://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\" title=\"how to connect to mysql with x509 using jdbc\">stackoverflow.com/questions/11509751/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6145218,"reputation":2047,"user_id":4791401,"display_name":"Danail"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1467386398,"creation_date":1445348386,"answer_id":33238248,"question_id":31055623,"body_markdown":"**mba12** I had the same problem, thanks for the answer!\r\n\r\nSo, the solution is here (as you pointed out):\r\nhttps://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\r\n\r\nI also found this one:\r\nhttps://stackoverflow.com/questions/906402/importing-an-existing-x509-certificate-and-private-key-in-java-keystore-to-use-i/8224863#8224863\r\n\r\n**Just for clarification**\r\n\r\n`javax.net.ssl.keyStore` must be client cert + key combined, not just client cert as described in MySQL guide.\r\n\r\n**To summarize**\r\n\r\n1. We have:\r\n\r\n`server-ca.pem` - MySQL CA certificate, can be downloaded from &quot;SSL Configuration -&gt; View Server CA Certificate&quot;\r\n\r\n`client-cert.pem` - client public key, can be downloaded from &quot;Client Certificates -&gt; newly created certificate&quot;\r\n\r\n`client-key.pem` - client private key, can be downloaded only from &quot;New SSL Certificate created dialog box&quot;\r\n\r\nDescribed here: https://cloud.google.com/sql/docs/configure-ssl-instance\r\n\r\nLet&#39;s save them in **server-instance/** folder and create **jks/** folder for generated files in step 2.\r\n\r\n2. Create `truststore` file\r\n\r\n   2.1. Copy original JAVA&#39;s `cacerts` to `jks/truststore.jks`:\r\n\r\n   `cp $JAVA_HOME/jre/lib/security/cacerts jks/truststore.jks`\r\n\r\n   2.2. Add MySQL Server CA Certificate / Google Cloud SQL Server CA `server-ca.pem` to JAVA&#39;s default truststore `cacerts` which we&#39;ve copied in step 2.1.:\r\n\r\n   `keytool -importcert -noprompt -trustcacerts -keystore jks/truststore.jks -storepass changeit -alias googlecloudsqlservercacert -file server-instance/server-ca.pem`\r\n\r\n3. Create `keystore` file\r\n\r\n   3.1. Convert x509 certificate and private key to a pkcs12 file:\r\n\r\n  `openssl pkcs12 -export -in server-instance/client-cert.pem -inkey server-instance/client-key.pem -out jks/client.p12`\r\n\r\n   (enter mandatory password), for example: `p4ssw0rd`\r\n\r\n   3.2. Convert the pkcs12 file to a java keystore:\r\n\r\n   `keytool -importkeystore -srckeystore jks/client.p12 -srcstoretype PKCS12 -destkeystore jks/keystore.jks -deststoretype JKS`\r\n\r\n   (enter same passwords), for example: `p4ssw0rd`\r\n\r\nAbout conversion:\r\nhttp://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html","title":"Google Cloud SQL with SSL from Compute Engine and/or External Network","body":"<p><strong>mba12</strong> I had the same problem, thanks for the answer!</p>\n\n<p>So, the solution is here (as you pointed out):\n<a href=\"https://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\">How to connect to MySQL with X509 using JDBC?</a></p>\n\n<p>I also found this one:\n<a href=\"https://stackoverflow.com/questions/906402/importing-an-existing-x509-certificate-and-private-key-in-java-keystore-to-use-i/8224863#8224863\">importing an existing x509 certificate and private key in Java keystore to use in ssl</a></p>\n\n<p><strong>Just for clarification</strong></p>\n\n<p><code>javax.net.ssl.keyStore</code> must be client cert + key combined, not just client cert as described in MySQL guide.</p>\n\n<p><strong>To summarize</strong></p>\n\n<ol>\n<li>We have:</li>\n</ol>\n\n<p><code>server-ca.pem</code> - MySQL CA certificate, can be downloaded from \"SSL Configuration -> View Server CA Certificate\"</p>\n\n<p><code>client-cert.pem</code> - client public key, can be downloaded from \"Client Certificates -> newly created certificate\"</p>\n\n<p><code>client-key.pem</code> - client private key, can be downloaded only from \"New SSL Certificate created dialog box\"</p>\n\n<p>Described here: <a href=\"https://cloud.google.com/sql/docs/configure-ssl-instance\" rel=\"nofollow noreferrer\">https://cloud.google.com/sql/docs/configure-ssl-instance</a></p>\n\n<p>Let's save them in <strong>server-instance/</strong> folder and create <strong>jks/</strong> folder for generated files in step 2.</p>\n\n<ol start=\"2\">\n<li><p>Create <code>truststore</code> file</p>\n\n<p>2.1. Copy original JAVA's <code>cacerts</code> to <code>jks/truststore.jks</code>:</p>\n\n<p><code>cp $JAVA_HOME/jre/lib/security/cacerts jks/truststore.jks</code></p>\n\n<p>2.2. Add MySQL Server CA Certificate / Google Cloud SQL Server CA <code>server-ca.pem</code> to JAVA's default truststore <code>cacerts</code> which we've copied in step 2.1.:</p>\n\n<p><code>keytool -importcert -noprompt -trustcacerts -keystore jks/truststore.jks -storepass changeit -alias googlecloudsqlservercacert -file server-instance/server-ca.pem</code></p></li>\n<li><p>Create <code>keystore</code> file</p>\n\n<p>3.1. Convert x509 certificate and private key to a pkcs12 file:</p>\n\n<p><code>openssl pkcs12 -export -in server-instance/client-cert.pem -inkey server-instance/client-key.pem -out jks/client.p12</code></p>\n\n<p>(enter mandatory password), for example: <code>p4ssw0rd</code></p>\n\n<p>3.2. Convert the pkcs12 file to a java keystore:</p>\n\n<p><code>keytool -importkeystore -srckeystore jks/client.p12 -srcstoretype PKCS12 -destkeystore jks/keystore.jks -deststoretype JKS</code></p>\n\n<p>(enter same passwords), for example: <code>p4ssw0rd</code></p></li>\n</ol>\n\n<p>About conversion:\n<a href=\"http://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html\" rel=\"nofollow noreferrer\">http://blog.ejbca.org/2008/02/converting-keystores-between-jks-and.html</a></p>\n"}],"owner":{"account_id":3235747,"reputation":2702,"user_id":2730024,"accept_rate":86,"display_name":"mba12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2626,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33238248,"answer_count":1,"score":1,"last_activity_date":1679142169,"creation_date":1435249051,"question_id":31055623,"body_markdown":"I&#39;m trying to connect to an Google Cloud SQL (MySQL instance using SSL. I&#39;ve enabled two IP addresses and a user with remote access permissions from those IP addresses. I have also generated the certificate files from Google&#39;s Developer Console.\r\n\r\n    client-key.pem client-cert.pem server-ca.pem\r\n\r\nUsing this command from each of the two enabled IP addresses I successfully make a connection.\r\n\r\n    mysql --ssl-ca=server-ca.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem --host=xxx.xxx.xxx.xxx --user=username --password\r\n\r\nSince the MySQL client works I know my firewall settings, users, certs, etc. are set up correctly.\r\n\r\nNow I&#39;d like to make a similar connection with Java from within an executable jar file.\r\n\r\nFollowing the steps outlined here: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html\r\n\r\n    Step 1: keytool -import -alias mysqlServerCACert -file cacert.pem -keystore truststore\r\n\r\nNOTE: I substitute server-ca.pem for cacert.pem used in the instructions\r\n\r\n    Step 2: openssl x509 -outform DER -in client-cert.pem -out client.cert\r\n    Step 3: keytool -import -file client.cert -keystore keystore -alias mysqlClientCertificate\r\n\r\nThese steps create my keystore and truststore files. I associate distinct passwords for each of these two files as they are generated.\r\n\r\nHere is the relevant Java code:\r\n\r\n    public void testConnection() throws ClassNotFoundException, SQLException,\r\n            IllegalAccessException, InstantiationException {\r\n\r\n        String path = &quot;/home/user/dir/&quot;; // path to keystore and truststore file\r\n \r\n        System.setProperty(&quot;javax.net.ssl.keyStore&quot;,path + &quot;keystore&quot;);\r\n        System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,keyStorePassword);\r\n        System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path + &quot;truststore&quot;);\r\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,trustStorePassword);\r\n\r\n        String user = &quot;dbuser&quot;;\r\n        String password = &quot;dbUserPassword&quot;;\r\n \r\n        Connection conn = null;\r\n        int i = 0;\r\n        try {\r\n            String url = &quot;jdbc:mysql://&lt;databaseip&gt;:3306/&lt;databaseName&gt;&quot;\r\n                + &quot;?verifyServerCertificate=true&quot;\r\n                + &quot;&amp;useSSL=true&quot;\r\n                + &quot;&amp;requireSSL=true&quot;;\r\n\r\n            Class dbDriver = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            conn = DriverManager.getConnection(url, user, password);\r\n\r\n            ResultSet rs = conn.createStatement().executeQuery(\r\n                    &quot;SELECT 1 + 1 as val&quot;);\r\n\r\n            while (rs.next()) {\r\n                i = rs.getInt(1);\r\n            }\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        } finally {\r\n            if (conn != null) {\r\n                try {\r\n                    conn.close();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        System.out.println(&quot;The MySQL value is: &quot; + i);\r\n    }\r\n\r\nAgain, from both enabled IP addresses I am able to connect with the MySQL command line client with the same user and password being used in the Java code.\r\n\r\nI receive the following connection exception with the Java. Given that the MySQL client works with the same user/passwd credential I am a bit suspect of the error message. How can I get SSL up and working with Google SQL?\r\n\r\n    java.sql.SQLException: Access denied for user &#39;dbuser&#39;@&#39;xxx.xxx.xxx.xxx&#39; (using password: YES)\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2985)\r\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:885)\r\n\tat com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3421)\r\n\tat com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:3988)\r\n\tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1293)\r\n\tat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\r\n\tat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\r\n\tat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:571)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:215)\r\n\tat com.test.UserData.getConnection(UserData.java:81)\r\n\tat com.test.UserData.testConnection(UserData.java:52)","title":"Google Cloud SQL with SSL from Compute Engine and/or External Network","body":"<p>I'm trying to connect to an Google Cloud SQL (MySQL instance using SSL. I've enabled two IP addresses and a user with remote access permissions from those IP addresses. I have also generated the certificate files from Google's Developer Console.</p>\n<pre><code>client-key.pem client-cert.pem server-ca.pem\n</code></pre>\n<p>Using this command from each of the two enabled IP addresses I successfully make a connection.</p>\n<pre><code>mysql --ssl-ca=server-ca.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem --host=xxx.xxx.xxx.xxx --user=username --password\n</code></pre>\n<p>Since the MySQL client works I know my firewall settings, users, certs, etc. are set up correctly.</p>\n<p>Now I'd like to make a similar connection with Java from within an executable jar file.</p>\n<p>Following the steps outlined here: <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/connector-j/en/connector-j-reference-using-ssl.html</a></p>\n<pre><code>Step 1: keytool -import -alias mysqlServerCACert -file cacert.pem -keystore truststore\n</code></pre>\n<p>NOTE: I substitute server-ca.pem for cacert.pem used in the instructions</p>\n<pre><code>Step 2: openssl x509 -outform DER -in client-cert.pem -out client.cert\nStep 3: keytool -import -file client.cert -keystore keystore -alias mysqlClientCertificate\n</code></pre>\n<p>These steps create my keystore and truststore files. I associate distinct passwords for each of these two files as they are generated.</p>\n<p>Here is the relevant Java code:</p>\n<pre><code>public void testConnection() throws ClassNotFoundException, SQLException,\n        IllegalAccessException, InstantiationException {\n\n    String path = &quot;/home/user/dir/&quot;; // path to keystore and truststore file\n\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;,path + &quot;keystore&quot;);\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;,keyStorePassword);\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,path + &quot;truststore&quot;);\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;,trustStorePassword);\n\n    String user = &quot;dbuser&quot;;\n    String password = &quot;dbUserPassword&quot;;\n\n    Connection conn = null;\n    int i = 0;\n    try {\n        String url = &quot;jdbc:mysql://&lt;databaseip&gt;:3306/&lt;databaseName&gt;&quot;\n            + &quot;?verifyServerCertificate=true&quot;\n            + &quot;&amp;useSSL=true&quot;\n            + &quot;&amp;requireSSL=true&quot;;\n\n        Class dbDriver = Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n        conn = DriverManager.getConnection(url, user, password);\n\n        ResultSet rs = conn.createStatement().executeQuery(\n                &quot;SELECT 1 + 1 as val&quot;);\n\n        while (rs.next()) {\n            i = rs.getInt(1);\n        }\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    } finally {\n        if (conn != null) {\n            try {\n                conn.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    System.out.println(&quot;The MySQL value is: &quot; + i);\n}\n</code></pre>\n<p>Again, from both enabled IP addresses I am able to connect with the MySQL command line client with the same user and password being used in the Java code.</p>\n<p>I receive the following connection exception with the Java. Given that the MySQL client works with the same user/passwd credential I am a bit suspect of the error message. How can I get SSL up and working with Google SQL?</p>\n<pre><code>java.sql.SQLException: Access denied for user 'dbuser'@'xxx.xxx.xxx.xxx' (using password: YES)\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:946)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:2985)\nat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:885)\nat com.mysql.jdbc.MysqlIO.secureAuth411(MysqlIO.java:3421)\nat com.mysql.jdbc.MysqlIO.negotiateSSLConnection(MysqlIO.java:3988)\nat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1293)\nat com.mysql.jdbc.Connection.createNewIO(Connection.java:2775)\nat com.mysql.jdbc.Connection.&lt;init&gt;(Connection.java:1555)\nat com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\nat java.sql.DriverManager.getConnection(DriverManager.java:571)\nat java.sql.DriverManager.getConnection(DriverManager.java:215)\nat com.test.UserData.getConnection(UserData.java:81)\nat com.test.UserData.testConnection(UserData.java:52)\n</code></pre>\n"},{"tags":["java","unit-testing","testing","jmockit"],"answers":[{"tags":[],"owner":{"account_id":4090087,"reputation":785,"user_id":3358318,"display_name":"jimmygchen"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1413911673,"creation_date":1413911673,"answer_id":26492450,"question_id":26408253,"body_markdown":"To mock your static method:\r\n\r\n    new MockUp&lt;MyClass&gt;()\r\n    {\r\n        @Mock\r\n        boolean mockMethod( String input ) // no access modifier required\r\n        {\r\n            return true; \r\n        }\r\n    };","title":"How to mock a static method from JMockit","body":"<p>To mock your static method:</p>\n\n<pre><code>new MockUp&lt;MyClass&gt;()\n{\n    @Mock\n    boolean mockMethod( String input ) // no access modifier required\n    {\n        return true; \n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5817065,"reputation":91,"user_id":4586327,"display_name":"Guest Poster"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1466107932,"creation_date":1424394980,"answer_id":28620110,"question_id":26408253,"body_markdown":"To mock the static private method:\r\n\r\n    @Mocked({&quot;mockMethod&quot;})\r\n    MyClass myClass;\r\n\r\n    String result;\r\n    \r\n    @Before\r\n    public void init()\r\n    {\r\n        new Expectations(myClass)\r\n        {\r\n            {\r\n                invoke(MyClass.class, &quot;mockMethod&quot;, anyString);\r\n                returns(result);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testMethodToTest()\r\n    {\r\n        result = &quot;true&quot;; // Replace result with what you want to test...\r\n        assertTrue( ( MyClass.methodToTest() );\r\n    } \r\n\r\nFrom JavaDoc:\r\n&gt; &lt;Object&gt; Object mockit.Invocations.invoke(Class&lt;?&gt; methodOwner, String methodName, Object... methodArgs)\r\n&gt;\r\n&gt; Specifies an expected invocation to a given static method, with a given list of arguments. \r\n\r\n\r\n","title":"How to mock a static method from JMockit","body":"<p>To mock the static private method:</p>\n\n<pre><code>@Mocked({\"mockMethod\"})\nMyClass myClass;\n\nString result;\n\n@Before\npublic void init()\n{\n    new Expectations(myClass)\n    {\n        {\n            invoke(MyClass.class, \"mockMethod\", anyString);\n            returns(result);\n        }\n    }\n}\n\n@Test\npublic void testMethodToTest()\n{\n    result = \"true\"; // Replace result with what you want to test...\n    assertTrue( ( MyClass.methodToTest() );\n} \n</code></pre>\n\n<p>From JavaDoc:</p>\n\n<blockquote>\n  <p> Object mockit.Invocations.invoke(Class methodOwner, String methodName, Object... methodArgs)</p>\n  \n  <p>Specifies an expected invocation to a given static method, with a given list of arguments. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679141618,"creation_date":1605878955,"answer_id":64930310,"question_id":26408253,"body_markdown":"There is another way of mocking static methods using JMockit (using Delegate class). I find it more convenient and elegant.\r\n\r\n    public class Service {\r\n      public String addSuffix(String str) { // method to be tested\r\n        return Utils.staticMethod(str);\r\n      }\r\n    }\r\n\r\n***\r\n\r\n    public class Utils {\r\n      public static String staticMethod(String s) { // method to be mocked\r\n        String suffix = DatabaseManager.findSuffix(&quot;default_suffix&quot;);\r\n        return s.concat(suffix);\r\n      }\r\n    }\r\n***\r\n\r\n    public class Test {\r\n    \r\n      @Tested\r\n      Service service;\r\n    \r\n      @Mocked\r\n      Utils utils; // @Mocked will make sure all methods will be mocked (including static methods)\r\n    \r\n      @Test\r\n      public void test() {\r\n        new Expectations() {{\r\n          Utils.staticMethod(anyString); times = 1; result = new Delegate() {\r\n            public String staticMethod(String s) { // should have the same signature (method name and parameters) as Utils#staticMethod\r\n              return &quot;&quot;; // provide custom implementation for your Utils#staticMethod\r\n            }\r\n          }\r\n        }}\r\n        \r\n        service.addSuffix(&quot;test_value&quot;);\r\n\r\n        new Verifications() {{\r\n          String s;\r\n          Utils.staticMethod(s = withCapture()); times = 1;\r\n          assertEquals(&quot;test_value&quot;, s); // assert that Service#addSuffix propagated &quot;test_value&quot; to Utils#staticMethod\r\n        }}\r\n      }\r\n    }\r\n\r\n\r\n***\r\n\r\nReference:\r\n\r\nhttps://jmockit.github.io/tutorial/Mocking.html#delegates\r\nhttps://jmockit.github.io/tutorial/Mocking.html#withCapture","title":"How to mock a static method from JMockit","body":"<p>There is another way of mocking static methods using JMockit (using Delegate class). I find it more convenient and elegant.</p>\n<pre><code>public class Service {\n  public String addSuffix(String str) { // method to be tested\n    return Utils.staticMethod(str);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Utils {\n  public static String staticMethod(String s) { // method to be mocked\n    String suffix = DatabaseManager.findSuffix(&quot;default_suffix&quot;);\n    return s.concat(suffix);\n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Test {\n\n  @Tested\n  Service service;\n\n  @Mocked\n  Utils utils; // @Mocked will make sure all methods will be mocked (including static methods)\n\n  @Test\n  public void test() {\n    new Expectations() {{\n      Utils.staticMethod(anyString); times = 1; result = new Delegate() {\n        public String staticMethod(String s) { // should have the same signature (method name and parameters) as Utils#staticMethod\n          return &quot;&quot;; // provide custom implementation for your Utils#staticMethod\n        }\n      }\n    }}\n    \n    service.addSuffix(&quot;test_value&quot;);\n\n    new Verifications() {{\n      String s;\n      Utils.staticMethod(s = withCapture()); times = 1;\n      assertEquals(&quot;test_value&quot;, s); // assert that Service#addSuffix propagated &quot;test_value&quot; to Utils#staticMethod\n    }}\n  }\n}\n</code></pre>\n<hr />\n<p>Reference:</p>\n<p><a href=\"https://jmockit.github.io/tutorial/Mocking.html#delegates\" rel=\"nofollow noreferrer\">https://jmockit.github.io/tutorial/Mocking.html#delegates</a>\n<a href=\"https://jmockit.github.io/tutorial/Mocking.html#withCapture\" rel=\"nofollow noreferrer\">https://jmockit.github.io/tutorial/Mocking.html#withCapture</a></p>\n"}],"owner":{"account_id":422239,"reputation":2230,"user_id":800894,"accept_rate":33,"display_name":"Roshanck"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47585,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"answer_count":3,"score":26,"last_activity_date":1679141618,"creation_date":1413473339,"question_id":26408253,"body_markdown":"I have a static method which will be invoking from test method in a class as bellow\r\n\r\n    public class MyClass\r\n    {\r\n       private static boolean mockMethod( String input )\r\n        {\r\n           boolean value;\r\n           //do something to value\r\n           return value; \r\n        }\r\n    \r\n        public static boolean methodToTest()\r\n        {\r\n           boolean getVal = mockMethod( &quot;input&quot; );\r\n           //do something to getVal\r\n           return getVal; \r\n        }\r\n    }\r\nI want to write a test case for method **methodToTest** by mocking **mockMethod**.\r\nTried as bellow and it doesn&#39;t give any output\r\n\r\n    @Before\r\n    public void init()\r\n    {\r\n        Mockit.setUpMock( MyClass.class, MyClassMocked.class );\r\n    }\r\n    \r\n    public static class MyClassMocked extends MockUp&lt;MyClass&gt;\r\n    {\r\n        @Mock\r\n        private static boolean mockMethod( String input )\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n    \r\n    @Test\r\n    public void testMethodToTest()\r\n    {\r\n        assertTrue( ( MyClass.methodToTest() );\r\n    } \r\n\r\n ","title":"How to mock a static method from JMockit","body":"<p>I have a static method which will be invoking from test method in a class as bellow</p>\n\n<pre><code>public class MyClass\n{\n   private static boolean mockMethod( String input )\n    {\n       boolean value;\n       //do something to value\n       return value; \n    }\n\n    public static boolean methodToTest()\n    {\n       boolean getVal = mockMethod( \"input\" );\n       //do something to getVal\n       return getVal; \n    }\n}\n</code></pre>\n\n<p>I want to write a test case for method <strong>methodToTest</strong> by mocking <strong>mockMethod</strong>.\nTried as bellow and it doesn't give any output</p>\n\n<pre><code>@Before\npublic void init()\n{\n    Mockit.setUpMock( MyClass.class, MyClassMocked.class );\n}\n\npublic static class MyClassMocked extends MockUp&lt;MyClass&gt;\n{\n    @Mock\n    private static boolean mockMethod( String input )\n    {\n        return true;\n    }\n}\n\n@Test\npublic void testMethodToTest()\n{\n    assertTrue( ( MyClass.methodToTest() );\n} \n</code></pre>\n"},{"tags":["java","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5406862,"reputation":306,"user_id":4305081,"display_name":"Le0pold"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679141208,"creation_date":1679141208,"answer_id":75775780,"question_id":75775159,"body_markdown":"As stacktrace says\r\n\r\n&gt; java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n\r\nYou are missing class *LogFactory* that is required for *BCryptPasswordEncoder* class. Spring security uses this old dependency for logging purposes, and Spring projects are using spring-jcl to fix it. You need to add spring-jcl to you build.gradle dependencies section, \r\n\r\n    implementation &#39;org.springframework:spring-jcl:5.3.25&#39;\r\n\r\nSpring JCL (Java Class Library) is a utility library that provides common functionality to Spring-related projects. It includes classes for logging, resource loading, and other common tasks that are used across multiple Spring modules.\r\n","title":"Unable to set PasswordEncoder in Micronaut","body":"<p>As stacktrace says</p>\n<blockquote>\n<p>java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory</p>\n</blockquote>\n<p>You are missing class <em>LogFactory</em> that is required for <em>BCryptPasswordEncoder</em> class. Spring security uses this old dependency for logging purposes, and Spring projects are using spring-jcl to fix it. You need to add spring-jcl to you build.gradle dependencies section,</p>\n<pre><code>implementation 'org.springframework:spring-jcl:5.3.25'\n</code></pre>\n<p>Spring JCL (Java Class Library) is a utility library that provides common functionality to Spring-related projects. It includes classes for logging, resource loading, and other common tasks that are used across multiple Spring modules.</p>\n"}],"owner":{"account_id":17314251,"reputation":454,"user_id":12541118,"display_name":"AchoVasilev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75775780,"answer_count":1,"score":0,"last_activity_date":1679141208,"creation_date":1679134128,"question_id":75775159,"body_markdown":"I am very new to the Micronaut framework and decided to try it on a project, that I am working on. \r\n\r\nI have a problem where I am trying to register a user. I have followed this guide https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html but extracted the logic from the AuthenticationProvider to an Authentication Service so I ended up with this:\r\n\r\n    @Singleton\r\n    public class UserAuthProvider implements AuthenticationProvider {\r\n        private final AuthService authService;\r\n    \r\n        public UserAuthProvider(AuthService authService) {\r\n            this.authService = authService;\r\n        }\r\n    \r\n        @Override\r\n        public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\r\n            return Flux.create(emitter -&gt; {\r\n                var username = authenticationRequest.getIdentity().toString();\r\n                var password = authenticationRequest.getSecret().toString();\r\n    \r\n                var user = this.authService.getValidatedUser(username, password);\r\n                if (user != null) {\r\n                    emitter.next(AuthenticationResponse.success(username, List.of(user.roleId().toString())));\r\n                    emitter.complete();\r\n                } else  {\r\n                    emitter.error(AuthenticationResponse.exception());\r\n                }\r\n            }, FluxSink.OverflowStrategy.ERROR);\r\n        }\r\n    }\r\n\r\nHere is the code in the AuthService:\r\n\r\n    @Singleton\r\n    public class AuthService {\r\n        private final UserRepository userRepository;\r\n        private final PasswordEncoder passwordEncoder;\r\n        private final RoleRepository roleRepository;\r\n    \r\n        public AuthService(UserRepository userRepository, PasswordEncoder passwordEncoder, RoleRepository roleRepository) {\r\n            this.userRepository = userRepository;\r\n            this.passwordEncoder = passwordEncoder;\r\n            this.roleRepository = roleRepository;\r\n        }\r\n    \r\n        public void register(RegistrationRequest registrationRequest) {\r\n            var user = this.userRepository.findByEmailEmail(registrationRequest.email());\r\n            if (user.isPresent()) {\r\n                throw new EntityAlreadyExistsException(String.format(EMAIL_ALREADY_EXISTS,registrationRequest.email()));\r\n            }\r\n    \r\n            var role = this.roleRepository.findByName(RoleEnum.ROLE_PARENT)\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n    \r\n            var newUser = new ApplicationUser(\r\n                    new Email(registrationRequest.email()),\r\n                    this.passwordEncoder.encode(registrationRequest.password()),\r\n                    registrationRequest.firstName(),\r\n                    registrationRequest.middleName(),\r\n                    registrationRequest.lastName(),\r\n                    new MobilePhone(registrationRequest.phoneNumber()),\r\n                    role\r\n            );\r\n    \r\n            var patient = new Parent();\r\n            newUser.setParent(patient);\r\n    \r\n            this.userRepository.save(newUser);\r\n        }\r\n    \r\n        public UserDto getValidatedUser(String username, String password) {\r\n            if (this.validateCredentials(username, password)) {\r\n                return this.findByEmail(username);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        private boolean validateCredentials(String username, String password) {\r\n            var user = this.userRepository.findByEmailEmail(username)\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n    \r\n            return this.passwordEncoder.matches(password, user.getPassword());\r\n        }\r\n    \r\n        public UserDto findByEmail(String email) {\r\n            return this.userRepository.findByEmailEmail(email)\r\n                    .map(u -&gt; new UserDto(\r\n                            u.getId(),\r\n                            u.getFirstName(),\r\n                            u.getLastName(),\r\n                            u.getEmail().getEmail(),\r\n                            u.getRole().getId()))\r\n                    .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\r\n        }\r\n    }\r\n\r\nEvery time I try to create a POST request to register a user I get this error:\r\n\r\n11:51:21.631 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception &#39;io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]\r\n\r\nMessage: org/apache/commons/logging/LogFactory\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)&#39; [enable DEBUG level for full stacktrace] was thrown by a user handler&#39;s exceptionCaught() method while handling the following exception:\r\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]\r\n\r\nMessage: org/apache/commons/logging/LogFactory\r\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)\r\n\r\nNot to paste the whore stacktrace, but here is the end of it, that makes me think that there is some kind of error instanciating the PasswordEncoder:\r\n\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory\r\n\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:40)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:79)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:56)\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:49)\r\n\tat server.infrastructure.config.encoding.AuthPasswordEncoderService.&lt;init&gt;(AuthPasswordEncoderService.java:9)\r\n\tat server.infrastructure.config.encoding.$AuthPasswordEncoderService$Definition.build(Unknown Source)\r\n\tat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\r\n\t... 162 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\r\n\r\nThis is how the AuthPasswordEncoderService looks like:\r\n\r\n    package server.infrastructure.config.encoding;\r\n    \r\n    import jakarta.inject.Singleton;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    \r\n    @Singleton\r\n    public class AuthPasswordEncoderService implements PasswordEncoder {\r\n        PasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n    \r\n        @Override\r\n        public String encode(CharSequence rawPassword) {\r\n            return this.passwordEncoder.encode(rawPassword);\r\n        }\r\n    \r\n        @Override\r\n        public boolean matches(CharSequence rawPassword, String encodedPassword) {\r\n            return this.passwordEncoder.matches(rawPassword, encodedPassword);\r\n        }\r\n    }\r\n\r\n","title":"Unable to set PasswordEncoder in Micronaut","body":"<p>I am very new to the Micronaut framework and decided to try it on a project, that I am working on.</p>\n<p>I have a problem where I am trying to register a user. I have followed this guide <a href=\"https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-database-authentication-provider-gradle-groovy.html</a> but extracted the logic from the AuthenticationProvider to an Authentication Service so I ended up with this:</p>\n<pre><code>@Singleton\npublic class UserAuthProvider implements AuthenticationProvider {\n    private final AuthService authService;\n\n    public UserAuthProvider(AuthService authService) {\n        this.authService = authService;\n    }\n\n    @Override\n    public Publisher&lt;AuthenticationResponse&gt; authenticate(HttpRequest&lt;?&gt; httpRequest, AuthenticationRequest&lt;?, ?&gt; authenticationRequest) {\n        return Flux.create(emitter -&gt; {\n            var username = authenticationRequest.getIdentity().toString();\n            var password = authenticationRequest.getSecret().toString();\n\n            var user = this.authService.getValidatedUser(username, password);\n            if (user != null) {\n                emitter.next(AuthenticationResponse.success(username, List.of(user.roleId().toString())));\n                emitter.complete();\n            } else  {\n                emitter.error(AuthenticationResponse.exception());\n            }\n        }, FluxSink.OverflowStrategy.ERROR);\n    }\n}\n</code></pre>\n<p>Here is the code in the AuthService:</p>\n<pre><code>@Singleton\npublic class AuthService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n    private final RoleRepository roleRepository;\n\n    public AuthService(UserRepository userRepository, PasswordEncoder passwordEncoder, RoleRepository roleRepository) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n        this.roleRepository = roleRepository;\n    }\n\n    public void register(RegistrationRequest registrationRequest) {\n        var user = this.userRepository.findByEmailEmail(registrationRequest.email());\n        if (user.isPresent()) {\n            throw new EntityAlreadyExistsException(String.format(EMAIL_ALREADY_EXISTS,registrationRequest.email()));\n        }\n\n        var role = this.roleRepository.findByName(RoleEnum.ROLE_PARENT)\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n\n        var newUser = new ApplicationUser(\n                new Email(registrationRequest.email()),\n                this.passwordEncoder.encode(registrationRequest.password()),\n                registrationRequest.firstName(),\n                registrationRequest.middleName(),\n                registrationRequest.lastName(),\n                new MobilePhone(registrationRequest.phoneNumber()),\n                role\n        );\n\n        var patient = new Parent();\n        newUser.setParent(patient);\n\n        this.userRepository.save(newUser);\n    }\n\n    public UserDto getValidatedUser(String username, String password) {\n        if (this.validateCredentials(username, password)) {\n            return this.findByEmail(username);\n        }\n\n        return null;\n    }\n\n    private boolean validateCredentials(String username, String password) {\n        var user = this.userRepository.findByEmailEmail(username)\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n\n        return this.passwordEncoder.matches(password, user.getPassword());\n    }\n\n    public UserDto findByEmail(String email) {\n        return this.userRepository.findByEmailEmail(email)\n                .map(u -&gt; new UserDto(\n                        u.getId(),\n                        u.getFirstName(),\n                        u.getLastName(),\n                        u.getEmail().getEmail(),\n                        u.getRole().getId()))\n                .orElseThrow(() -&gt; new EntityNotFoundException(ENTITY_NOT_FOUND));\n    }\n}\n</code></pre>\n<p>Every time I try to create a POST request to register a user I get this error:</p>\n<p>11:51:21.631 [default-nioEventLoopGroup-1-2] WARN  i.n.c.AbstractChannelHandlerContext - An exception 'io.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]</p>\n<p>Message: org/apache/commons/logging/LogFactory\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)' [enable DEBUG level for full stacktrace] was thrown by a user handler's exceptionCaught() method while handling the following exception:\nio.micronaut.context.exceptions.BeanInstantiationException: Error instantiating bean of type  [server.application.services.auth.AuthService]</p>\n<p>Message: org/apache/commons/logging/LogFactory\nPath Taken: new SecurityFilter(Collection securityRules,Collection authenticationFetchers,SecurityConfiguration securityConfiguration) --&gt; new SecurityFilter(Collection securityRules,[Collection authenticationFetchers],SecurityConfiguration securityConfiguration) --&gt; new BasicAuthAuthenticationFetcher([Authenticator authenticator]) --&gt; new Authenticator([Collection authenticationProviders],SecurityConfiguration securityConfiguration) --&gt; new UserAuthProvider([AuthService authService]) --&gt; new AuthService(UserRepository userRepository,[PasswordEncoder passwordEncoder],RoleRepository roleRepository)</p>\n<p>Not to paste the whore stacktrace, but here is the end of it, that makes me think that there is some kind of error instanciating the PasswordEncoder:</p>\n<p>Caused by: java.lang.NoClassDefFoundError: org/apache/commons/logging/LogFactory</p>\n<pre><code>at org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:40)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:79)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:56)\nat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.&lt;init&gt;(BCryptPasswordEncoder.java:49)\nat server.infrastructure.config.encoding.AuthPasswordEncoderService.&lt;init&gt;(AuthPasswordEncoderService.java:9)\nat server.infrastructure.config.encoding.$AuthPasswordEncoderService$Definition.build(Unknown Source)\nat io.micronaut.context.DefaultBeanContext.resolveByBeanFactory(DefaultBeanContext.java:2331)\n... 162 common frames omitted\n</code></pre>\n<p>Caused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory\nCaused by: java.lang.ClassNotFoundException: org.apache.commons.logging.LogFactory</p>\n<p>This is how the AuthPasswordEncoderService looks like:</p>\n<pre><code>package server.infrastructure.config.encoding;\n\nimport jakarta.inject.Singleton;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n@Singleton\npublic class AuthPasswordEncoderService implements PasswordEncoder {\n    PasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n\n    @Override\n    public String encode(CharSequence rawPassword) {\n        return this.passwordEncoder.encode(rawPassword);\n    }\n\n    @Override\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\n        return this.passwordEncoder.matches(rawPassword, encodedPassword);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679139721,"post_id":75775266,"comment_id":133670037,"body_markdown":"Please don&#39;t put tags (like `(Android)`) in the title. That is what question tags are for.","body":"Please don&#39;t put tags (like <code>(Android)</code>) in the title. That is what question tags are for."},{"owner":{"account_id":442814,"reputation":23181,"user_id":833647,"display_name":"Ken Wolf"},"score":0,"creation_date":1679139797,"post_id":75775266,"comment_id":133670051,"body_markdown":"`Notes.add(new NotesID(&quot;title&quot;));` Add more notes by adding more to the `Notes` `ArrayList`. Then notify the adapter the dataset has changed","body":"<code>Notes.add(new NotesID(&quot;title&quot;));</code> Add more notes by adding more to the <code>Notes</code> <code>ArrayList</code>. Then notify the adapter the dataset has changed"}],"owner":{"account_id":28049415,"reputation":1,"user_id":21425563,"display_name":"Andrius G."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679140773,"creation_date":1679135133,"question_id":75775266,"body_markdown":"I am new in Android. I&#39;m trying to create so that every button &quot;saveBtn&quot; clicked, a new item will show in list.\r\n\r\nMainActivity.java\r\n\r\n```\r\n    ListView list;\r\n    ArrayAdapter&lt;String&gt; NotesAdapter;\r\n    ArrayList&lt;NotesID&gt; Notes;\r\n\r\n.....\r\n\r\n      list = (ListView) findViewById(R.id.list);\r\n        Notes = new ArrayList&lt;NotesID&gt;();\r\n        NotesAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, Notes);\r\n\r\n        title = getIntent().getStringExtra(&quot;title&quot;);\r\n        int imageResourceId = getIntent().getIntExtra(&quot;imageNote&quot;, 0);\r\n        ImageView imageView = findViewById(R.id.noteIcon);\r\n        if (imageResourceId != 0) {\r\n            imageView.setImageResource(imageResourceId);}\r\n//            Notes.add(&quot;&quot; + title);\r\n        Notes.add(new NotesID(&quot;title&quot;));\r\n\r\n            list.setAdapter(NotesAdapter);\r\n            NotesAdapter.notifyDataSetChanged();\r\n```\r\n newNote.java\r\n\r\n```\r\nublic class newNote extends AppCompatActivity {\r\n    FloatingActionButton saveBtn;\r\n    EditText newNoteTitle;\r\n    EditText newNotetxt;\r\n    String title;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_new_note);\r\n\r\n        saveBtn = findViewById(R.id.saveBtn);\r\n        newNoteTitle = (EditText) findViewById(R.id.newNoteTitle);\r\n        newNotetxt = (EditText) findViewById(R.id.newNotetxt);\r\n\r\n//        title = newNoteTitle.getText().toString();\r\n\r\n        saveBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n//                int imageResourceId = R.drawable.ic_newnote;\r\n                title = newNoteTitle.getText().toString();\r\n                Intent i = new Intent(newNote.this, MainActivity.class);\r\n                i.putExtra(&quot;title&quot;, title);\r\n//                i.putExtra(&quot;imageNote&quot;, imageResourceId);\r\n                startActivity(i);\r\n            }\r\n        });\r\n\r\n    }\r\n}\r\n```\r\nNotesID.java\r\n\r\n```\r\npublic class NotesID {\r\n    private String title;\r\n\r\n    public NotesID(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public void setTitle(String text) {\r\n        this.title = title;\r\n    }\r\n}\r\n```\r\n\r\nI know how to create just one line in a list, which is what I want. But I can&#39;t manage to create a second, third and etc lines of list.","title":"Need Help. Trying to create new list item every button clicked with new text","body":"<p>I am new in Android. I'm trying to create so that every button &quot;saveBtn&quot; clicked, a new item will show in list.</p>\n<p>MainActivity.java</p>\n<pre><code>    ListView list;\n    ArrayAdapter&lt;String&gt; NotesAdapter;\n    ArrayList&lt;NotesID&gt; Notes;\n\n.....\n\n      list = (ListView) findViewById(R.id.list);\n        Notes = new ArrayList&lt;NotesID&gt;();\n        NotesAdapter = new ArrayAdapter(this, android.R.layout.simple_list_item_1, Notes);\n\n        title = getIntent().getStringExtra(&quot;title&quot;);\n        int imageResourceId = getIntent().getIntExtra(&quot;imageNote&quot;, 0);\n        ImageView imageView = findViewById(R.id.noteIcon);\n        if (imageResourceId != 0) {\n            imageView.setImageResource(imageResourceId);}\n//            Notes.add(&quot;&quot; + title);\n        Notes.add(new NotesID(&quot;title&quot;));\n\n            list.setAdapter(NotesAdapter);\n            NotesAdapter.notifyDataSetChanged();\n</code></pre>\n<p>newNote.java</p>\n<pre><code>ublic class newNote extends AppCompatActivity {\n    FloatingActionButton saveBtn;\n    EditText newNoteTitle;\n    EditText newNotetxt;\n    String title;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_new_note);\n\n        saveBtn = findViewById(R.id.saveBtn);\n        newNoteTitle = (EditText) findViewById(R.id.newNoteTitle);\n        newNotetxt = (EditText) findViewById(R.id.newNotetxt);\n\n//        title = newNoteTitle.getText().toString();\n\n        saveBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n//                int imageResourceId = R.drawable.ic_newnote;\n                title = newNoteTitle.getText().toString();\n                Intent i = new Intent(newNote.this, MainActivity.class);\n                i.putExtra(&quot;title&quot;, title);\n//                i.putExtra(&quot;imageNote&quot;, imageResourceId);\n                startActivity(i);\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>NotesID.java</p>\n<pre><code>public class NotesID {\n    private String title;\n\n    public NotesID(String title) {\n        this.title = title;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String text) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>I know how to create just one line in a list, which is what I want. But I can't manage to create a second, third and etc lines of list.</p>\n"},{"tags":["java","swing","graphics","interface","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679137171,"post_id":75775049,"comment_id":133669670,"body_markdown":"Set `setVisible` of the frame AFTER you&#39;ve added ALL the components to the UI","body":"Set <code>setVisible</code> of the frame AFTER you&#39;ve added ALL the components to the UI"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679139178,"post_id":75775049,"comment_id":133669965,"body_markdown":"hard-coded sizing/locating of components is __wrong__, always - instead learn how to use layoutManagers, see f.i. https://docs.oracle.com/javase/tutorial/uiswing/layout/","body":"hard-coded sizing/locating of components is <b>wrong</b>, always - instead learn how to use layoutManagers, see f.i. <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"answers":[{"tags":[],"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679140502,"creation_date":1679140502,"answer_id":75775722,"question_id":75775049,"body_markdown":"1. leave default JFrame layout (BOrderLayout)\r\n2. do not set textarea bounds - layout manages the objects inside\r\n3. call frame.setVisible as last\r\n","title":"textArea appear only if you minimize or select the text, how do i fix this?","body":"<ol>\n<li>leave default JFrame layout (BOrderLayout)</li>\n<li>do not set textarea bounds - layout manages the objects inside</li>\n<li>call frame.setVisible as last</li>\n</ol>\n"}],"owner":{"account_id":28042463,"reputation":13,"user_id":21419792,"display_name":"Apponio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75775722,"answer_count":1,"score":1,"last_activity_date":1679140502,"creation_date":1679132776,"question_id":75775049,"body_markdown":"Im doing my first graphic interface but i faced this problem, the text area textArea appear only if you minimize or select the text.\r\nI tried many things but nothing worked, can somebody help?\r\n\r\nhere is the code:\r\n\r\n    package lln_urn;\r\n\r\n    import java.awt.Font;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JTextArea;\r\n\r\n\r\n    public class Urn {\r\n        //ATTRIBUTES\r\n    \r\n        //main frame\r\n        private final JFrame frame;\r\n    \r\n        //various components\r\n        private final JTextArea explanation_textarea;\r\n        \r\n        //font\r\n        private final Font font = new Font(&quot;Segoe&quot;, Font.BOLD, 20);\r\n    \r\n    \r\n        //CONSTRUCT\r\n        public Urn() {\r\n        \r\n            //setup of the window\r\n            frame = new JFrame(&quot;Law of large numbers&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setSize(400, 320);\r\n            frame.setLayout(new GridLayout(1,1));\r\n            frame.setResizable(false);\r\n            frame.setVisible(true);\r\n        \r\n            //textarea\r\n            explanation_textarea = new JTextArea();\r\n            explanation_textarea.setBounds(5,0,300,50);\r\n            explanation_textarea.setText(&quot;In this urn there are 2000 balls&quot;);\r\n            explanation_textarea.setEditable(false);\r\n                \r\n            //adding components\r\n            frame.add(explanation_textarea);\r\n        \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Urn urn = new Urn();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n[the output that i get](https://i.stack.imgur.com/O1fbC.png)\r\n[how it looks after i minimize and take it out](https://i.stack.imgur.com/Bxten.png)\r\n\r\n\r\nI tried:\r\nsetting bounds to different size,\r\nsetting to editable,\r\nchange the layout,\r\nchange the background and text color,\r\nadd the textarea to a panel,\r\nupdate the jdk,\r\n\r\nNothing solved the problem, i have no idea what else to try.","title":"textArea appear only if you minimize or select the text, how do i fix this?","body":"<p>Im doing my first graphic interface but i faced this problem, the text area textArea appear only if you minimize or select the text.\nI tried many things but nothing worked, can somebody help?</p>\n<p>here is the code:</p>\n<pre><code>package lln_urn;\n\nimport java.awt.Font;\nimport java.awt.GridLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JTextArea;\n\n\npublic class Urn {\n    //ATTRIBUTES\n\n    //main frame\n    private final JFrame frame;\n\n    //various components\n    private final JTextArea explanation_textarea;\n    \n    //font\n    private final Font font = new Font(&quot;Segoe&quot;, Font.BOLD, 20);\n\n\n    //CONSTRUCT\n    public Urn() {\n    \n        //setup of the window\n        frame = new JFrame(&quot;Law of large numbers&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400, 320);\n        frame.setLayout(new GridLayout(1,1));\n        frame.setResizable(false);\n        frame.setVisible(true);\n    \n        //textarea\n        explanation_textarea = new JTextArea();\n        explanation_textarea.setBounds(5,0,300,50);\n        explanation_textarea.setText(&quot;In this urn there are 2000 balls&quot;);\n        explanation_textarea.setEditable(false);\n            \n        //adding components\n        frame.add(explanation_textarea);\n    \n    }\n\n    public static void main(String[] args) {\n        Urn urn = new Urn();\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/O1fbC.png\" rel=\"nofollow noreferrer\">the output that i get</a>\n<a href=\"https://i.stack.imgur.com/Bxten.png\" rel=\"nofollow noreferrer\">how it looks after i minimize and take it out</a></p>\n<p>I tried:\nsetting bounds to different size,\nsetting to editable,\nchange the layout,\nchange the background and text color,\nadd the textarea to a panel,\nupdate the jdk,</p>\n<p>Nothing solved the problem, i have no idea what else to try.</p>\n"},{"tags":["java","spring","unit-testing","design-patterns","dependency-injection"],"comments":[{"owner":{"account_id":97618,"reputation":168076,"user_id":264697,"accept_rate":100,"display_name":"Steven"},"score":1,"creation_date":1679154697,"post_id":75775621,"comment_id":133672434,"body_markdown":"I would prefer a third option, which to [prevent the use of factories](https://blogs.cuttingedge.it/steven/p/abstract-factories/), inject the validator through the constructor, and pass the runtime data object `Account` to the validator solely through the `isValid` method, thus preventing the [code smell of injecting runtime data in components during construction](https://blogs.cuttingedge.it/steven/p/runtime-data/).","body":"I would prefer a third option, which to <a href=\"https://blogs.cuttingedge.it/steven/p/abstract-factories/\" rel=\"nofollow noreferrer\">prevent the use of factories</a>, inject the validator through the constructor, and pass the runtime data object <code>Account</code> to the validator solely through the <code>isValid</code> method, thus preventing the <a href=\"https://blogs.cuttingedge.it/steven/p/runtime-data/\" rel=\"nofollow noreferrer\">code smell of injecting runtime data in components during construction</a>."}],"answers":[{"tags":[],"owner":{"account_id":6412021,"reputation":1101,"user_id":4971476,"display_name":"Dave Ankin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679140419,"creation_date":1679140419,"answer_id":75775711,"question_id":75775621,"body_markdown":"The simple answer is that you can just make `AccountValidator` a managed spring bean. You can accomplish this the same way that you made this class (MyService), or how you would have made the factory classes you describe, managed - by adding @Component.\r\n\r\nIf you need to preserve the semantics, e.g. if this bean is not thread safe and you need to create new ones every time, you can make it a protype bean.\r\n\r\nHere is an example, and you can see that it is being injected in a way that is using spring libraries without your own factories. it will print:\r\n\r\n```\r\nExample.MyValidator(id=0)\r\nExample.MyValidator(id=1)\r\nExample.MyValidator(id=2)\r\n```\r\n\r\nhere is the code:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport lombok.ToString;\r\nimport org.springframework.beans.factory.ObjectProvider;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\nimport org.springframework.boot.ApplicationRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Scope;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\n\r\n@SpringBootApplication\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Example.class, args);\r\n    }\r\n\r\n    @Autowired\r\n    MyService myService;\r\n    @Autowired\r\n    ConfigurableApplicationContext context;\r\n\r\n    @Bean\r\n    ApplicationRunner applicationRunner() {\r\n        return args -&gt; {\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                System.out.println(myService.state());\r\n            }\r\n            context.close();\r\n        };\r\n    }\r\n\r\n    @Service\r\n    static class MyService {\r\n        private final ObjectProvider&lt;MyValidator&gt; myValidators;\r\n\r\n        MyService(ObjectProvider&lt;MyValidator&gt; myValidators) {\r\n            this.myValidators = myValidators;\r\n        }\r\n\r\n        String state() {\r\n            return myValidators.getObject().toString();\r\n        }\r\n    }\r\n\r\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    @Component\r\n    @ToString\r\n    static class MyValidator {\r\n        private static final AtomicInteger counter = new AtomicInteger();\r\n        private final int id;\r\n\r\n        MyValidator() {\r\n            this.id = counter.getAndIncrement();\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Dependency injection how to avoid hiding dependencies to stateful objects like a validator","body":"<p>The simple answer is that you can just make <code>AccountValidator</code> a managed spring bean. You can accomplish this the same way that you made this class (MyService), or how you would have made the factory classes you describe, managed - by adding @Component.</p>\n<p>If you need to preserve the semantics, e.g. if this bean is not thread safe and you need to create new ones every time, you can make it a protype bean.</p>\n<p>Here is an example, and you can see that it is being injected in a way that is using spring libraries without your own factories. it will print:</p>\n<pre><code>Example.MyValidator(id=0)\nExample.MyValidator(id=1)\nExample.MyValidator(id=2)\n</code></pre>\n<p>here is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport lombok.ToString;\nimport org.springframework.beans.factory.ObjectProvider;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.boot.ApplicationRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Scope;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\n@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        SpringApplication.run(Example.class, args);\n    }\n\n    @Autowired\n    MyService myService;\n    @Autowired\n    ConfigurableApplicationContext context;\n\n    @Bean\n    ApplicationRunner applicationRunner() {\n        return args -&gt; {\n            for (int i = 0; i &lt; 3; i++) {\n                System.out.println(myService.state());\n            }\n            context.close();\n        };\n    }\n\n    @Service\n    static class MyService {\n        private final ObjectProvider&lt;MyValidator&gt; myValidators;\n\n        MyService(ObjectProvider&lt;MyValidator&gt; myValidators) {\n            this.myValidators = myValidators;\n        }\n\n        String state() {\n            return myValidators.getObject().toString();\n        }\n    }\n\n    @Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)\n    @Component\n    @ToString\n    static class MyValidator {\n        private static final AtomicInteger counter = new AtomicInteger();\n        private final int id;\n\n        MyValidator() {\n            this.id = counter.getAndIncrement();\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679171598,"accepted_answer_id":75775711,"answer_count":1,"score":0,"last_activity_date":1679140419,"creation_date":1679139552,"question_id":75775621,"body_markdown":"I would like to have your opinion about such a situation, the code is quite simple\r\nto should be easy to follow:\r\n\r\n\r\n```\r\n@Component\r\nclass MyService {\r\n\t\r\n\tAusiliaryService ausService;\r\n\r\n\tpublic MyService(AusiliaryService ausService) {\r\n\t\t...\r\n\t}\r\n\r\n\tpublic boolean isAccountValid(Account account) {\r\n\r\n\t AccountValidator accountValidator = new AccountValidator(account);\r\n\t boolean isValid = accountValidator.isValid(account);\r\n\t if(isValid) {\r\n\t \tausService.openAccount(account);\r\n\t }\r\n\t}\r\n}\r\n```\r\n\r\n**Note** that `AusiliaryService` is also spring managed and we are using constructor injection.\r\n\r\nIn this class `AccountValidator` is a **dependency** of `MyService` but it does not appear in the constructor so we could say the **visibility** of this dependency is somehow **hidden**.\r\n\r\nSince we are hardcoding the instantiation of   \r\n`AccountValidator accountValidator = new AccountValidator(account);`\r\n\r\nWe may also have some potential issues with writing unit tests `MyService`, unless you may think such any unit tests should also impact `AccountValidator`, which for me would be a valid line of thought.\r\n\r\nA possible work around for both &quot;issues&quot; would be to use a factory, to remove from  MyService the responsability to instantiate\r\n`AccountValidator` object.\r\n\r\n```\r\n@Component\r\nclass MyService {\r\n\t\r\n\tAusiliaryService ausService;\r\n\tAccountValidatorFactory accountValidatorFactory;\r\n\r\n\tpublic MyService(AusiliaryService ausService, AccountValidatorFactory accountValidatorFactory;) {\r\n\t\t...\r\n\t}\r\n\r\n\tpublic boolean isAccountValid(Account account) {\r\n\r\n\t AccountValidator accountValidator = accountValidatorFactory.getValidator(account);\r\n\t boolean isValid = accountValidator.isValid(account);\r\n\t if(isValid) {\r\n\t \tausService.openAccount(account);\r\n\t }\r\n\t}\r\n}\r\n```\r\n\r\nNote that also `AccountValidatorFactory` is spring managed and we are using constructor injection.\r\n\r\n\r\nA cons of this solution could be though the proliferation of such factories classes, if you use this kind of pattern often in your code.\r\n\r\nWhat would is your approach in such situations ?\r\nWhich kind of solution would you prefer ?\r\nWould be possible to make `AccountValidator` also spring managed to help with this, how would that be done ?\r\n\r\n","title":"Dependency injection how to avoid hiding dependencies to stateful objects like a validator","body":"<p>I would like to have your opinion about such a situation, the code is quite simple\nto should be easy to follow:</p>\n<pre><code>@Component\nclass MyService {\n    \n    AusiliaryService ausService;\n\n    public MyService(AusiliaryService ausService) {\n        ...\n    }\n\n    public boolean isAccountValid(Account account) {\n\n     AccountValidator accountValidator = new AccountValidator(account);\n     boolean isValid = accountValidator.isValid(account);\n     if(isValid) {\n        ausService.openAccount(account);\n     }\n    }\n}\n</code></pre>\n<p><strong>Note</strong> that <code>AusiliaryService</code> is also spring managed and we are using constructor injection.</p>\n<p>In this class <code>AccountValidator</code> is a <strong>dependency</strong> of <code>MyService</code> but it does not appear in the constructor so we could say the <strong>visibility</strong> of this dependency is somehow <strong>hidden</strong>.</p>\n<p>Since we are hardcoding the instantiation of<br />\n<code>AccountValidator accountValidator = new AccountValidator(account);</code></p>\n<p>We may also have some potential issues with writing unit tests <code>MyService</code>, unless you may think such any unit tests should also impact <code>AccountValidator</code>, which for me would be a valid line of thought.</p>\n<p>A possible work around for both &quot;issues&quot; would be to use a factory, to remove from  MyService the responsability to instantiate\n<code>AccountValidator</code> object.</p>\n<pre><code>@Component\nclass MyService {\n    \n    AusiliaryService ausService;\n    AccountValidatorFactory accountValidatorFactory;\n\n    public MyService(AusiliaryService ausService, AccountValidatorFactory accountValidatorFactory;) {\n        ...\n    }\n\n    public boolean isAccountValid(Account account) {\n\n     AccountValidator accountValidator = accountValidatorFactory.getValidator(account);\n     boolean isValid = accountValidator.isValid(account);\n     if(isValid) {\n        ausService.openAccount(account);\n     }\n    }\n}\n</code></pre>\n<p>Note that also <code>AccountValidatorFactory</code> is spring managed and we are using constructor injection.</p>\n<p>A cons of this solution could be though the proliferation of such factories classes, if you use this kind of pattern often in your code.</p>\n<p>What would is your approach in such situations ?\nWhich kind of solution would you prefer ?\nWould be possible to make <code>AccountValidator</code> also spring managed to help with this, how would that be done ?</p>\n"},{"tags":["java","spring","spring-mvc","eventsource"],"comments":[{"owner":{"account_id":2559426,"reputation":1044,"user_id":2220759,"display_name":"Torsten Ojaperv"},"score":0,"creation_date":1553765504,"post_id":55287474,"comment_id":97508715,"body_markdown":"Facing the same problem, where a new request to endpoint is made after emitter::complete is called on the server-side. springBootVersion=2.0.5.RELEASE","body":"Facing the same problem, where a new request to endpoint is made after emitter::complete is called on the server-side. springBootVersion=2.0.5.RELEASE"},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":0,"creation_date":1553795334,"post_id":55287474,"comment_id":97528423,"body_markdown":"I got something working, but I&#39;m doing it by sending my own custom &quot;stop&quot; event and then closing it on the client side.","body":"I got something working, but I&#39;m doing it by sending my own custom &quot;stop&quot; event and then closing it on the client side."}],"answers":[{"tags":[],"owner":{"account_id":4816683,"reputation":1567,"user_id":3888628,"display_name":"Ashraf Sarhan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1574359453,"creation_date":1574359453,"answer_id":58981130,"question_id":55287474,"body_markdown":"I have added the following to my Spring boot application to trigger the SSE connection `close()`\r\n\r\n**Server Side:** \r\n\r\n 1. Create a simple controller which returns SseEmitter.\r\n 2. Wrap the backend logic in a single thread executor service.     \r\n 3. Send your events to the SseEmitter. \r\n 4. On complete send an event of type complete via the SseEmitter.\r\n\r\n    \r\n        @RestController\r\n        public class SearchController {\r\n    \r\n        @Autowired\r\n        private SearchDelegate searchDelegate;\r\n    \r\n        @GetMapping(value = &quot;/{customerId}/search&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        @ApiOperation(value = &quot;Search Sources&quot;, notes = &quot;Search Sources&quot;)\r\n        @ApiResponses(value = {\r\n                @ApiResponse(code = 201, message = &quot;OK&quot;),\r\n                @ApiResponse(code = 401, message = &quot;Unauthorized&quot;)\r\n        })\r\n        @ResponseBody\r\n        public SseEmitter search(@ApiParam(name = &quot;searchCriteria&quot;, value = &quot;searchCriteria&quot;, required = true) @ModelAttribute @Valid final SearchCriteriaDto searchCriteriaDto) throws Exception {\r\n            return searchDelegate.route(searchCriteriaDto);\r\n          }\r\n        }\r\n\r\n\r\n\r\n        @Service\r\n        public class SearchDelegate {\r\n        public static final String SEARCH_EVENT_NAME = &quot;SEARCH&quot;;\r\n        public static final String COMPLETE_EVENT_NAME = &quot;COMPLETE&quot;;\r\n        public static final String COMPLETE_EVENT_DATA = &quot;{\\&quot;name\\&quot;: \\&quot;COMPLETED_STREAM\\&quot;}&quot;;\r\n    \r\n        @Autowired\r\n        private SearchService searchService;\r\n    \r\n        private ExecutorService executor = Executors.newCachedThreadPool();\r\n    \r\n        public SseEmitter route(SearchCriteriaDto searchCriteriaDto) throws Exception {\r\n            SseEmitter emitter = new SseEmitter();\r\n            executor.execute(() -&gt; {\r\n                try {\r\n                    if(!searchCriteriaDto.getCustomerSources().isEmpty()) {\r\n                        searchCriteriaDto.getCustomerSources().forEach(customerSource -&gt; {\r\n                            try {\r\n                                SearchResponse searchResponse = searchService.search(searchCriteriaDto);\r\n                                emitter.send(SseEmitter.event()\r\n                                        .id(customerSource.getSourceId())\r\n                                        .name(SEARCH_EVENT_NAME)\r\n                                        .data(searchResponse));\r\n                            } catch (Exception e) {\r\n                                log.error(&quot;Error while executing query for customer {} with source {}, Caused by {}&quot;,\r\n                                        customerId, source.getType(), e.getMessage());\r\n                            }\r\n                        });\r\n                    }else {\r\n                        log.debug(&quot;No available customerSources for the specified customer&quot;);\r\n                    }\r\n                    emitter.send(SseEmitter.event().\r\n                            id(String.valueOf(System.currentTimeMillis()))\r\n                            .name(COMPLETE_EVENT_NAME)\r\n                            .data(COMPLETE_EVENT_DATA));\r\n                    emitter.complete();\r\n                } catch (Exception ex) {\r\n                    emitter.completeWithError(ex);\r\n                }\r\n            });\r\n            return emitter;\r\n           }\r\n        }\r\n\r\n**Client Side:**\r\n\r\n 1. Since we specified the `name` of event on our `SseEmitter`, an event will be dispatched on the browser to the listener for the specified event name; the website source code should use `addEventListener()` to listen for named events. (*Notice: The `onmessage` handler is called if no event name is specified for a message*)\r\n 2. Call the `EventSource` on the `COMPLETE` event to release the client connection. \r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\r\n\r\n    var sse = new EventSource(&#39;http://localhost:8080/federation/api/customers/5d96348feb061d13f46aa6ce/search?nativeQuery=true&amp;queryString=*&amp;size=10&amp;customerSources=1,2,3&amp;start=0&#39;);\r\n    \r\n    sse.addEventListener(&quot;SEARCH&quot;, function(evt) {\r\n       var data = JSON.parse(evt.data);\r\n       console.log(data);\r\n    });\r\n    \r\n    sse.addEventListener(&quot;COMPLETE&quot;, function(evt) {\r\n       console.log(evt);\r\n       sse.close();\r\n    });","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I have added the following to my Spring boot application to trigger the SSE connection <code>close()</code></p>\n\n<p><strong>Server Side:</strong> </p>\n\n<ol>\n<li>Create a simple controller which returns SseEmitter.</li>\n<li>Wrap the backend logic in a single thread executor service.     </li>\n<li>Send your events to the SseEmitter. </li>\n<li><p>On complete send an event of type complete via the SseEmitter.</p>\n\n<pre><code>@RestController\npublic class SearchController {\n\n@Autowired\nprivate SearchDelegate searchDelegate;\n\n@GetMapping(value = \"/{customerId}/search\")\n@ResponseStatus(HttpStatus.OK)\n@ApiOperation(value = \"Search Sources\", notes = \"Search Sources\")\n@ApiResponses(value = {\n        @ApiResponse(code = 201, message = \"OK\"),\n        @ApiResponse(code = 401, message = \"Unauthorized\")\n})\n@ResponseBody\npublic SseEmitter search(@ApiParam(name = \"searchCriteria\", value = \"searchCriteria\", required = true) @ModelAttribute @Valid final SearchCriteriaDto searchCriteriaDto) throws Exception {\n    return searchDelegate.route(searchCriteriaDto);\n  }\n}\n\n\n\n@Service\npublic class SearchDelegate {\npublic static final String SEARCH_EVENT_NAME = \"SEARCH\";\npublic static final String COMPLETE_EVENT_NAME = \"COMPLETE\";\npublic static final String COMPLETE_EVENT_DATA = \"{\\\"name\\\": \\\"COMPLETED_STREAM\\\"}\";\n\n@Autowired\nprivate SearchService searchService;\n\nprivate ExecutorService executor = Executors.newCachedThreadPool();\n\npublic SseEmitter route(SearchCriteriaDto searchCriteriaDto) throws Exception {\n    SseEmitter emitter = new SseEmitter();\n    executor.execute(() -&gt; {\n        try {\n            if(!searchCriteriaDto.getCustomerSources().isEmpty()) {\n                searchCriteriaDto.getCustomerSources().forEach(customerSource -&gt; {\n                    try {\n                        SearchResponse searchResponse = searchService.search(searchCriteriaDto);\n                        emitter.send(SseEmitter.event()\n                                .id(customerSource.getSourceId())\n                                .name(SEARCH_EVENT_NAME)\n                                .data(searchResponse));\n                    } catch (Exception e) {\n                        log.error(\"Error while executing query for customer {} with source {}, Caused by {}\",\n                                customerId, source.getType(), e.getMessage());\n                    }\n                });\n            }else {\n                log.debug(\"No available customerSources for the specified customer\");\n            }\n            emitter.send(SseEmitter.event().\n                    id(String.valueOf(System.currentTimeMillis()))\n                    .name(COMPLETE_EVENT_NAME)\n                    .data(COMPLETE_EVENT_DATA));\n            emitter.complete();\n        } catch (Exception ex) {\n            emitter.completeWithError(ex);\n        }\n    });\n    return emitter;\n   }\n}\n</code></pre></li>\n</ol>\n\n<p><strong>Client Side:</strong></p>\n\n<ol>\n<li>Since we specified the <code>name</code> of event on our <code>SseEmitter</code>, an event will be dispatched on the browser to the listener for the specified event name; the website source code should use <code>addEventListener()</code> to listen for named events. (<em>Notice: The <code>onmessage</code> handler is called if no event name is specified for a message</em>)</li>\n<li>Call the <code>EventSource</code> on the <code>COMPLETE</code> event to release the client connection. </li>\n</ol>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events</a></p>\n\n<pre><code>var sse = new EventSource('http://localhost:8080/federation/api/customers/5d96348feb061d13f46aa6ce/search?nativeQuery=true&amp;queryString=*&amp;size=10&amp;customerSources=1,2,3&amp;start=0');\n\nsse.addEventListener(\"SEARCH\", function(evt) {\n   var data = JSON.parse(evt.data);\n   console.log(data);\n});\n\nsse.addEventListener(\"COMPLETE\", function(evt) {\n   console.log(evt);\n   sse.close();\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629837486,"creation_date":1629837486,"answer_id":68913817,"question_id":55287474,"body_markdown":"According to the [HTML standard for Server-sent events][1]\r\n\r\n&gt; Clients will reconnect if the connection is closed; a client can be told to stop reconnecting using the HTTP 204 No Content response code.\r\n\r\nSo Spring&#39;s SseEmitter behaves as expected and the purpose of `complete()` is to make sure all the events were sent and then to close the connection.\r\n\r\nYou need to either implement server-side logic that would return 204 http code on subsequent requests (e.g. by checking session id) or to send a special event and close the connection from client side after receiving it as [suggested by Ashraf Sarhan][2]\r\n\r\n\r\n  [1]: https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events\r\n  [2]: https://stackoverflow.com/a/58981130/3169238","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>According to the <a href=\"https://html.spec.whatwg.org/multipage/server-sent-events.html#server-sent-events\" rel=\"nofollow noreferrer\">HTML standard for Server-sent events</a></p>\n<blockquote>\n<p>Clients will reconnect if the connection is closed; a client can be told to stop reconnecting using the HTTP 204 No Content response code.</p>\n</blockquote>\n<p>So Spring's SseEmitter behaves as expected and the purpose of <code>complete()</code> is to make sure all the events were sent and then to close the connection.</p>\n<p>You need to either implement server-side logic that would return 204 http code on subsequent requests (e.g. by checking session id) or to send a special event and close the connection from client side after receiving it as <a href=\"https://stackoverflow.com/a/58981130/3169238\">suggested by Ashraf Sarhan</a></p>\n"},{"tags":[],"owner":{"account_id":11475553,"reputation":301,"user_id":8411174,"display_name":"Maria Pomazkina-Karpikova"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679139990,"creation_date":1679139990,"answer_id":75775670,"question_id":55287474,"body_markdown":"I&#39;ll continue [sergei-kozelko][1] answer.\r\n\r\nYou have to return \r\n\r\n    return new ResponseEntity(emitter, HttpStatus.NO_CONTENT);\r\n\r\n\r\n  Method signature should be:\r\n\r\n    public ResponseEntity&lt;SseEmitter&gt; route(SearchCriteriaDto searchCriteriaDto)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/3169238/sergei-kozelko","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I'll continue <a href=\"https://stackoverflow.com/users/3169238/sergei-kozelko\">sergei-kozelko</a> answer.</p>\n<p>You have to return</p>\n<pre><code>return new ResponseEntity(emitter, HttpStatus.NO_CONTENT);\n</code></pre>\n<p>Method signature should be:</p>\n<pre><code>public ResponseEntity&lt;SseEmitter&gt; route(SearchCriteriaDto searchCriteriaDto)\n</code></pre>\n"}],"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8715,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":58981130,"answer_count":3,"score":8,"last_activity_date":1679139990,"creation_date":1553194549,"question_id":55287474,"body_markdown":"I&#39;m trying to set up a Spring SseEmitter to send a sequence of updates of the status of a running job. It seems to be working but:\r\n\r\nWhenever I call `emitter.complete()` in in my Java server code, the javascript `EventSource` client calls the registered `onerror` function and then calls my Java endpoint again with a new connection. This happens in both Firefox and Chrome.\r\n\r\nI can probably send an explicit &quot;end-of-data&quot; message from Java and then detect that and call `eventSource.close()` on the client, but is there a better way?\r\n\r\nWhat is the purpose of `emitter.complete()` in that case?\r\n\r\nAlso, if I always have to terminate the connection on the client end, then I guess every connection on the server side will be terminated by either a timeout or a write error, in which case I probably want to manually send back a heartbeat of some kind every few seconds?\r\n\r\nIt feels like I&#39;m missing something if I&#39;m having to do all this.","title":"Should Spring SseEmitter.complete() trigger an EventSource reconnect - how to close connection server-side","body":"<p>I'm trying to set up a Spring SseEmitter to send a sequence of updates of the status of a running job. It seems to be working but:</p>\n\n<p>Whenever I call <code>emitter.complete()</code> in in my Java server code, the javascript <code>EventSource</code> client calls the registered <code>onerror</code> function and then calls my Java endpoint again with a new connection. This happens in both Firefox and Chrome.</p>\n\n<p>I can probably send an explicit \"end-of-data\" message from Java and then detect that and call <code>eventSource.close()</code> on the client, but is there a better way?</p>\n\n<p>What is the purpose of <code>emitter.complete()</code> in that case?</p>\n\n<p>Also, if I always have to terminate the connection on the client end, then I guess every connection on the server side will be terminated by either a timeout or a write error, in which case I probably want to manually send back a heartbeat of some kind every few seconds?</p>\n\n<p>It feels like I'm missing something if I'm having to do all this.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":"石生鑫"},"score":0,"creation_date":1679131174,"post_id":75774892,"comment_id":133668818,"body_markdown":"Why is my private not executed?","body":"Why is my private not executed?"},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679131328,"post_id":75774892,"comment_id":133668840,"body_markdown":"This site is in English, please only comment in that language.","body":"This site is in English, please only comment in that language."},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679131684,"post_id":75774892,"comment_id":133668887,"body_markdown":"It is not executed because there is a syntax error in it. `System.out.printin` should be `System.out.println`  (an `l`, not an `i`)  (see: [this](https://stackoverflow.com/questions/9298980/variable-out-of-type-printstream-error-occured))","body":"It is not executed because there is a syntax error in it. <code>System.out.printin</code> should be <code>System.out.println</code>  (an <code>l</code>, not an <code>i</code>)  (see: <a href=\"https://stackoverflow.com/questions/9298980/variable-out-of-type-printstream-error-occured\">this</a>)"},{"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":"石生鑫"},"score":0,"creation_date":1679131789,"post_id":75774892,"comment_id":133668897,"body_markdown":"No, after I modified it, my private was not printed out in the console","body":"No, after I modified it, my private was not printed out in the console"},{"owner":{"account_id":10448718,"reputation":12398,"user_id":7703024,"display_name":"super"},"score":0,"creation_date":1679132191,"post_id":75774892,"comment_id":133668954,"body_markdown":"Try adding some proper formatting to your question. Very hard to read that code.","body":"Try adding some proper formatting to your question. Very hard to read that code."},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679132231,"post_id":75774892,"comment_id":133668962,"body_markdown":"[What is the ``` (3 x backquote) markdown used for?](https://meta.stackexchange.com/questions/189920/what-is-the-3-x-backquote-markdown-used-for)","body":"<a href=\"https://meta.stackexchange.com/questions/189920/what-is-the-3-x-backquote-markdown-used-for\">What is the ``` (3 x backquote) markdown used for?</a>"},{"owner":{"account_id":374049,"reputation":12725,"user_id":724039,"display_name":"Luuk"},"score":0,"creation_date":1679132430,"post_id":75774892,"comment_id":133668998,"body_markdown":"I did do the edit again, and change the `i` to an `l`.","body":"I did do the edit again, and change the <code>i</code> to an <code>l</code>."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1679132688,"post_id":75774892,"comment_id":133669039,"body_markdown":"@石生鑫 Why should the private `main()` be executed? There is no line in your code that calls your method.","body":"@石生鑫 Why should the private <code>main()</code> be executed? There is no line in your code that calls your method."},{"owner":{"account_id":4921960,"reputation":8599,"user_id":4554883,"accept_rate":90,"display_name":"Parzh from Ukraine"},"score":0,"creation_date":1679132787,"post_id":75774892,"comment_id":133669055,"body_markdown":"This article may be helpful: https://www.geeksforgeeks.org/replacing-public-with-private-in-main-in-java/","body":"This article may be helpful: <a href=\"https://www.geeksforgeeks.org/replacing-public-with-private-in-main-in-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/replacing-public-with-private-in-main-in-j&zwnj;&#8203;ava</a>"}],"answers":[{"tags":[],"owner":{"account_id":27788699,"reputation":34,"user_id":21215561,"display_name":"Nils Hoffmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679139907,"creation_date":1679132913,"answer_id":75775064,"question_id":75774892,"body_markdown":"Java expects a single Main method:\r\n`public static void main(String[] args)`\r\n\r\nyou can declare this method to be private and compile, but at run time there won&#39;t be a public main method to be found, so your program won&#39;t execute. Your second method is with a String not a String[] &lt;- String array\r\n\r\nIf you just want to execute what&#39;s in your second method, call it in the first main method:\r\n```\r\nclass pig {\r\n   public static void main(String[] args) {\r\n      System.out.println(&quot;xixi&quot;);\r\n      System.out.println(&quot;haha&quot;);\r\n      main();\r\n   }\r\n\r\n   private static void main() \r\n   {\r\n      System.out.println(&quot;你&quot;);\r\n   }\r\n}\r\n```\r\nYou can&#39;t have two methods with the same signature in a single class, this goes for private and public alike, so having a main method as public and then also defining the same signature as private is impossible. \r\n\r\nIn other words, `public int hello()` and `private int hello()` are counted as the same signature. On the other hand, `public int hello(int x)` and `public int hello()` are different signatures and allowed. I hope this clarifies some stuff for you.\r\n\r\nThe difference between public and private is the following: a private method can only be called within the same class, you can use this to hide methods that are not needed or dangerous to be used from the outside. A public method can be called from the outside.\r\n\r\nLet&#39;s say you have a class:\r\n```\r\nclass Car{\r\n   public hello(){\r\n      System.out.println(&quot;Hi&quot;);\r\n   }\r\n   private hello2(){\r\n      System.out.println(&quot;Hello2&quot;);\r\n   }\r\n}\r\n```\r\n\r\nAnd a second class\r\n```\r\nclass test{\r\n   public static void main(String[] args){\r\n      //we create a car instance here\r\n      Car c = new Car();\r\n      //now we can call the public method here\r\n      c.hello();\r\n      //but if we try to call a private method we get an error\r\n      c.hello2(); //&lt;- this will not execute, is hidden to the outside\r\n   }\r\n}\r\n```","title":"The difference between the execution of public private in java","body":"<p>Java expects a single Main method:\n<code>public static void main(String[] args)</code></p>\n<p>you can declare this method to be private and compile, but at run time there won't be a public main method to be found, so your program won't execute. Your second method is with a String not a String[] &lt;- String array</p>\n<p>If you just want to execute what's in your second method, call it in the first main method:</p>\n<pre><code>class pig {\n   public static void main(String[] args) {\n      System.out.println(&quot;xixi&quot;);\n      System.out.println(&quot;haha&quot;);\n      main();\n   }\n\n   private static void main() \n   {\n      System.out.println(&quot;你&quot;);\n   }\n}\n</code></pre>\n<p>You can't have two methods with the same signature in a single class, this goes for private and public alike, so having a main method as public and then also defining the same signature as private is impossible.</p>\n<p>In other words, <code>public int hello()</code> and <code>private int hello()</code> are counted as the same signature. On the other hand, <code>public int hello(int x)</code> and <code>public int hello()</code> are different signatures and allowed. I hope this clarifies some stuff for you.</p>\n<p>The difference between public and private is the following: a private method can only be called within the same class, you can use this to hide methods that are not needed or dangerous to be used from the outside. A public method can be called from the outside.</p>\n<p>Let's say you have a class:</p>\n<pre><code>class Car{\n   public hello(){\n      System.out.println(&quot;Hi&quot;);\n   }\n   private hello2(){\n      System.out.println(&quot;Hello2&quot;);\n   }\n}\n</code></pre>\n<p>And a second class</p>\n<pre><code>class test{\n   public static void main(String[] args){\n      //we create a car instance here\n      Car c = new Car();\n      //now we can call the public method here\n      c.hello();\n      //but if we try to call a private method we get an error\n      c.hello2(); //&lt;- this will not execute, is hidden to the outside\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":27198861,"reputation":1,"user_id":20731389,"display_name":"石生鑫"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1679140133,"answer_count":1,"score":-4,"last_activity_date":1679139907,"creation_date":1679130932,"question_id":75774892,"body_markdown":"```\r\nclass pig {\r\n   public static void main(String[] args) {\r\n      System.out.println(&quot;xixi&quot;);\r\n      System.out.println(&quot;haha&quot;);\r\n   }\r\n   private static void main(String name) \r\n   {\r\n      System.out.println(&quot;你&quot;);\r\n   }\r\n```","title":"The difference between the execution of public private in java","body":"<pre><code>class pig {\n   public static void main(String[] args) {\n      System.out.println(&quot;xixi&quot;);\n      System.out.println(&quot;haha&quot;);\n   }\n   private static void main(String name) \n   {\n      System.out.println(&quot;你&quot;);\n   }\n</code></pre>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1465992079,"post_id":37833643,"comment_id":63130903,"body_markdown":"Nope, unless you build your own implementation for that.","body":"Nope, unless you build your own implementation for that."}],"answers":[{"tags":[],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508516816,"creation_date":1508516816,"answer_id":46853393,"question_id":37833643,"body_markdown":"I followed the advice of @M.Deinum and implemented my own version of a `ResourceDatabasePopulator`. Due to the limited scope of the members and the absence of any getters to retrieve these fields, there is unfortunately some copy&amp;pasting from the original `ResourceDatabasePopulator` implementation. This class was definitely not designed for supporting subclassing ...\r\n\r\nBelow is the current solution which is working for me in my use case. It is not perfect and probably tailored towards MySQL statements but at least it gets the job done.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.lang.invoke.MethodHandles;\r\n    import java.util.ArrayList;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    import java.util.Map;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.core.io.ByteArrayResource;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.EncodedResource;\r\n    import org.springframework.jdbc.datasource.init.DatabasePopulatorUtils;\r\n    import org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\r\n    import org.springframework.jdbc.datasource.init.ScriptUtils;\r\n    import org.springframework.jdbc.datasource.init.UncategorizedScriptException;\r\n    import org.springframework.util.StringUtils;\r\n    \r\n    /**\r\n     * Populates, initializes, or cleans up a database using SQL scripts defined in\r\n     * external resources.\r\n     * &lt;p&gt;\r\n     * This implementation will clean up a given script by removing comments and processing instructions\r\n     * contained in the script and perform a table reordering based on defined foreign keys in a\r\n     * best-effort attempt.\r\n     *\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;Call {@link #addScript} to add a single SQL script location.\r\n     * &lt;li&gt;Call {@link #addScripts} to add multiple SQL script locations.\r\n     * &lt;li&gt;Consult the setter methods in this class for further configuration options.\r\n     * &lt;li&gt;Call {@link #populate} or {@link #execute} to initialize or clean up the\r\n     * database using the configured scripts.\r\n     * &lt;/ul&gt;\r\n     *\r\n     * @author Keith Donald\r\n     * @author Dave Syer\r\n     * @author Juergen Hoeller\r\n     * @author Chris Beams\r\n     * @author Oliver Gierke\r\n     * @author Sam Brannen\r\n     * @author Chris Baldwin\r\n     * @author Roman Vottner\r\n     *\r\n     * @since 3.0\r\n     * @see DatabasePopulatorUtils\r\n     * @see ScriptUtils\r\n     */\r\n    public class OrderedResourceDatabasePopulator extends ResourceDatabasePopulator {\r\n    \r\n      private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\r\n    \r\n      protected String sqlScriptEncoding;\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with default settings.\r\n       */\r\n      public OrderedResourceDatabasePopulator() {\r\n        /* no-op */\r\n      }\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with default settings\r\n       * for the supplied scripts.\r\n       * \r\n       * @param scripts the scripts to execute to initialize or clean up the database\r\n       *                (never {@code null})\r\n       */\r\n      public OrderedResourceDatabasePopulator(Resource... scripts) {\r\n        this();\r\n        setScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Construct a new {@code OrderedResourceDatabasePopulator} with the supplied values.\r\n       *\r\n       * @param continueOnError flag to indicate that all failures in SQL should be logged but not cause\r\n       *                        a failure\r\n       * @param ignoreFailedDrops flag to indicate that a failed SQL {@code DROP} statement can be\r\n       *                          ignored\r\n       * @param sqlScriptEncoding the encoding for the supplied SQL scripts; may be {@code null} or\r\n       *                           &lt;em&gt;empty&lt;/em&gt; to indicate platform encoding\r\n       * @param scripts the scripts to execute to initialize or clean up the database (never {@code\r\n       *                null})\r\n       */\r\n      public OrderedResourceDatabasePopulator(boolean continueOnError, boolean ignoreFailedDrops,\r\n                                              String sqlScriptEncoding, Resource... scripts) {\r\n    \r\n        super(continueOnError, ignoreFailedDrops, sqlScriptEncoding, scripts);\r\n      }\r\n    \r\n      /**\r\n       * Add a script to execute to initialize or clean up the database.\r\n       *\r\n       * @param script the path to an SQL script (never {@code null})\r\n       */\r\n      @Override\r\n      public void addScript(Resource script) {\r\n        super.addScript(cleanResource(script)[0]);\r\n      }\r\n    \r\n      /**\r\n       * Add multiple scripts to execute to initialize or clean up the database.\r\n       * \r\n       * @param scripts the scripts to execute (never {@code null})\r\n       */\r\n      @Override\r\n      public void addScripts(Resource... scripts) {\r\n        super.addScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Set the scripts to execute to initialize or clean up the database, replacing any previously \r\n       * added scripts.\r\n       * \r\n       * @param scripts the scripts to execute (never {@code null})\r\n       */\r\n      @Override\r\n      public void setScripts(Resource... scripts) {\r\n        super.setScripts(cleanResource(scripts));\r\n      }\r\n    \r\n      /**\r\n       * Specify the encoding for the configured SQL scripts, if different from the platform encoding.\r\n       * \r\n       * @param sqlScriptEncoding the encoding used in scripts; may be {@code null} or empty to indicate\r\n       *                          platform encoding\r\n       * \r\n       * @see #addScript(Resource)\r\n       */\r\n      @Override\r\n      public void setSqlScriptEncoding(String sqlScriptEncoding) {\r\n        super.setSqlScriptEncoding(sqlScriptEncoding);\r\n        this.sqlScriptEncoding = StringUtils.hasText(sqlScriptEncoding) ? sqlScriptEncoding : null;\r\n      }\r\n    \r\n      private Resource[] cleanResource(Resource... scripts) {\r\n        List&lt;Resource&gt; cleaned = new ArrayList&lt;&gt;();\r\n        for (Resource script : scripts) {\r\n          EncodedResource encodedScript = new EncodedResource(script, this.sqlScriptEncoding);\r\n    \r\n          StringBuilder sb = new StringBuilder();\r\n          try (BufferedReader in = new BufferedReader(encodedScript.getReader())) {\r\n            String line;\r\n    \r\n            // parse script\r\n            Map&lt;String, Table&gt; tables = new LinkedHashMap&lt;&gt;();\r\n            Table curTable = null;\r\n            while ((line = in.readLine()) != null) {\r\n              if (!line.startsWith(&quot;#&quot;) &amp;&amp; !line.startsWith(&quot;/*&quot;)) {\r\n                line = line.replaceAll(&quot;`&quot;, &quot;&quot;);\r\n                String lowerCaseLine = line.toLowerCase();\r\n    \r\n                // parse table definitions\r\n                if (lowerCaseLine.startsWith(&quot;drop table&quot;) || &quot;&quot;.equals(line.trim())) {\r\n                  if (curTable != null) {\r\n                    curTable = null;\r\n                  }\r\n                  continue;\r\n                }\r\n    \r\n                curTable = parseTable(line, tables, curTable);\r\n              }\r\n            }\r\n    \r\n            // check the order of table definitions and reorder them to ensure referenced tables are\r\n            // defined before table specifying the foreign key\r\n            Map&lt;String, Table&gt; orderedTables = new LinkedHashMap&lt;&gt;();\r\n            List&lt;Table&gt; backlog = new ArrayList&lt;&gt;();\r\n            for (String tableName : tables.keySet()) {\r\n              // check for available foreign key definitions\r\n              List&lt;String&gt; referencedTables = tables.get(tableName).getReferencedTables();\r\n              // if no foreign keys are defined in the table we can add the table to the current set\r\n              if (referencedTables.isEmpty()) {\r\n                orderedTables.put(tableName, tables.get(tableName));\r\n                processBacklog(backlog, orderedTables);\r\n                continue;\r\n              }\r\n    \r\n              // foreign keys are defined. If any of the referenced tables is not yet in the set move it\r\n              // to the backlog table and try it later\r\n              boolean dependenciesAvailable = true;\r\n              for (String dependency : referencedTables) {\r\n                if (!orderedTables.containsKey(dependency)) {\r\n                  backlog.add(tables.get(tableName));\r\n                  dependenciesAvailable = false;\r\n                  break;\r\n                }\r\n              }\r\n    \r\n              // if all referred tables are available in the set add the current table also to the\r\n              // ordered set\r\n              if (dependenciesAvailable) {\r\n                orderedTables.put(tableName, tables.get(tableName));\r\n                processBacklog(backlog, orderedTables);\r\n                continue;\r\n              }\r\n    \r\n              // probe tables kept in the backlog again\r\n              processBacklog(backlog, orderedTables);\r\n            }\r\n    \r\n            while (!backlog.isEmpty()) {\r\n              processBacklog(backlog, orderedTables);\r\n            }\r\n    \r\n            ArrayList&lt;Table&gt; reverse = new ArrayList&lt;&gt;(orderedTables.values());\r\n            ListIterator&lt;Table&gt; reverseIter = reverse.listIterator(reverse.size());\r\n            sb.append(&quot;DROP TABLE IF EXISTS &quot;);\r\n            int originalSize = sb.length();\r\n            while (reverseIter.hasPrevious()) {\r\n              if (sb.length() &gt; originalSize) {\r\n                sb.append(&quot;, &quot;);\r\n              }\r\n              sb.append(reverseIter.previous().getName());\r\n            }\r\n            sb.append(&quot;;\\n\\n&quot;);\r\n    \r\n            for (Table table : orderedTables.values()) {\r\n              sb.append(table.getCreateStatement()).append(&quot;\\n&quot;);\r\n            }\r\n    \r\n          } catch (IOException ex) {\r\n            throw new UncategorizedScriptException(ex.getMessage(), ex);\r\n          }\r\n    \r\n          if (LOG.isTraceEnabled()) {\r\n            LOG.trace(&quot;SQL script after cleaning: \\n{}&quot;, sb.toString());\r\n          }\r\n          Resource cleanedResource = new ByteArrayResource(sb.toString().getBytes());\r\n          cleaned.add(cleanedResource);\r\n        }\r\n    \r\n        return cleaned.toArray(new Resource[cleaned.size()]);\r\n      }\r\n    \r\n      private Table parseTable(String line, Map&lt;String, Table&gt; tables, Table curTable) {\r\n        String lowerCaseLine = line.toLowerCase();\r\n        if (lowerCaseLine.startsWith(&quot;create table&quot;)) {\r\n          String name = line.substring(&quot;create table &quot;.length(), line.indexOf(&quot;(&quot;)).trim();\r\n          curTable = new Table(name);\r\n          tables.put(name, curTable);\r\n        } else if (curTable != null) {\r\n          if (lowerCaseLine.contains(&quot;primary key&quot;)) {\r\n            curTable.setPrimaryKey(line);\r\n          } else if (lowerCaseLine.contains(&quot;unique key&quot;)) {\r\n            curTable.addUniqueKey(line);\r\n          } else if (lowerCaseLine.contains(&quot;foreign key&quot;)) {\r\n            curTable.addForeignKey(line);\r\n          } else if (lowerCaseLine.contains(&quot; key &quot;)) {\r\n            curTable.addIndex(line);\r\n          } else if (lowerCaseLine.contains(&quot; charset=&quot;) || lowerCaseLine.contains(&quot;engine=&quot;)) {\r\n            curTable.setMetaData(line);\r\n          } else {\r\n            curTable.addColumn(line);\r\n          }\r\n        }\r\n        return curTable;\r\n      }\r\n    \r\n      private void processBacklog(List&lt;Table&gt; backlog, Map&lt;String, Table&gt; orderedTables) {\r\n        Iterator&lt;Table&gt; iter = backlog.iterator();\r\n        while (iter.hasNext()) {\r\n          Table table = iter.next();\r\n          boolean allDependenciesAvailable = true;\r\n          for (String dependency : table.getReferencedTables()) {\r\n            if (!orderedTables.containsKey(dependency)) {\r\n              allDependenciesAvailable = false;\r\n            }\r\n    \r\n            if (allDependenciesAvailable) {\r\n              orderedTables.put(table.getName(), table);\r\n              iter.remove();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      private class Table {\r\n    \r\n        private final String name;\r\n        private List&lt;String&gt; columns = new ArrayList&lt;&gt;();\r\n        private String primaryKey;\r\n        private List&lt;String&gt; uniqueKeys = new ArrayList&lt;&gt;();\r\n        private List&lt;String&gt; indices = new ArrayList&lt;&gt;();\r\n        private List&lt;String&gt; foreignKeys = new ArrayList&lt;&gt;();\r\n        private String metaData;\r\n    \r\n        public Table(String name) {\r\n          this.name = name;\r\n        }\r\n    \r\n        String getName() {\r\n          return this.name;\r\n        }\r\n    \r\n        void addColumn(String column) {\r\n          this.columns.add(column);\r\n        }\r\n    \r\n        void setPrimaryKey(String primaryKey) {\r\n          this.primaryKey = primaryKey;\r\n        }\r\n    \r\n        void addUniqueKey(String uniqueKey) {\r\n          this.uniqueKeys.add(uniqueKey);\r\n        }\r\n    \r\n        void addIndex(String index) {\r\n          this.indices.add(index);\r\n        }\r\n    \r\n        void addForeignKey(String foreignKey) {\r\n          this.foreignKeys.add(foreignKey);\r\n        }\r\n    \r\n        List&lt;String&gt; getReferencedTables() {\r\n          List&lt;String&gt; referencedTables = new ArrayList&lt;&gt;();\r\n          for (String foreignKey : foreignKeys) {\r\n            int start = foreignKey.toLowerCase().indexOf(&quot;references &quot;) + &quot;references &quot;.length();\r\n            String table = foreignKey.substring(start, foreignKey.indexOf(&quot; &quot;, start));\r\n            referencedTables.add(table);\r\n          }\r\n          return referencedTables;\r\n        }\r\n    \r\n        void setMetaData(String metaData) {\r\n          this.metaData = metaData;\r\n        }\r\n    \r\n        String getCreateStatement() {\r\n          StringBuilder sb = new StringBuilder();\r\n          sb.append(&quot;CREATE TABLE &quot;).append(this.name).append(&quot; (&quot;);\r\n          for (String column : this.columns) {\r\n            sb.append(&quot;\\n&quot;);\r\n            sb.append(&quot;  &quot;).append(column);\r\n          }\r\n          if (null != primaryKey) {\r\n            sb.append(&quot;\\n&quot;);\r\n            sb.append(&quot;  &quot;).append(this.primaryKey);\r\n          }\r\n          if (!uniqueKeys.isEmpty()) {\r\n            for (String uniqueKey : uniqueKeys) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(uniqueKey);\r\n            }\r\n          }\r\n          if (!indices.isEmpty()) {\r\n            for (String index : indices) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(index);\r\n            }\r\n          }\r\n          if (!foreignKeys.isEmpty()) {\r\n            for (String foreignKey : foreignKeys) {\r\n              sb.append(&quot;\\n&quot;);\r\n              sb.append(&quot;  &quot;).append(foreignKey);\r\n            }\r\n          }\r\n          sb.append(&quot;\\n&quot;);\r\n          if (metaData == null || !metaData.contains(&quot;)&quot;)) {\r\n            sb.append(&quot;) &quot;);\r\n          }\r\n          if (metaData != null) {\r\n            sb.append(metaData);\r\n          }\r\n          sb.append(&quot;\\n&quot;);\r\n    \r\n          return sb.toString();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nThis populator will first clean the given scripts from any unwanted characters, comments or processing instructions and then build up a virtual table structure in order to sort tables that are target of a foreign reference before the ones declaring the foreign reference. Once the table definitions got virtualized, the populator will recreate the script by first adding a `DROP TABLE` statement for each table in reverese order of the virtual model and afterwards adding the `CREATE TABLE` statements in the calculated order.\r\n\r\nNote that this version does not yet support other SQL commands (like `INSERT`, ...) contained in the script. If this is needed feel free to customize this code to your liking.\r\n\r\nIn order to make use of reordered SQL scripts simply replace `ResourceDatabasePopulator` with `OrderedResourceDatabasePopulator`\r\n\r\n    @Override\r\n    public synchronized void beforeTestClass(TestContext testContext) {\r\n        ...\r\n        // import the table definitions from a previously dumped file\r\n        ResourceDatabasePopulator populator = new OrderedResourceDatabasePopulator();\r\n        populator.addScript(new ClassPathResource(&quot;some-table-definitions.sql&quot;));\r\n        populator.execute(dataSource);\r\n        ...\r\n    }\r\n\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>I followed the advice of @M.Deinum and implemented my own version of a <code>ResourceDatabasePopulator</code>. Due to the limited scope of the members and the absence of any getters to retrieve these fields, there is unfortunately some copy&amp;pasting from the original <code>ResourceDatabasePopulator</code> implementation. This class was definitely not designed for supporting subclassing ...</p>\n\n<p>Below is the current solution which is working for me in my use case. It is not perfect and probably tailored towards MySQL statements but at least it gets the job done.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.lang.invoke.MethodHandles;\nimport java.util.ArrayList;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.ListIterator;\nimport java.util.Map;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.EncodedResource;\nimport org.springframework.jdbc.datasource.init.DatabasePopulatorUtils;\nimport org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\nimport org.springframework.jdbc.datasource.init.ScriptUtils;\nimport org.springframework.jdbc.datasource.init.UncategorizedScriptException;\nimport org.springframework.util.StringUtils;\n\n/**\n * Populates, initializes, or cleans up a database using SQL scripts defined in\n * external resources.\n * &lt;p&gt;\n * This implementation will clean up a given script by removing comments and processing instructions\n * contained in the script and perform a table reordering based on defined foreign keys in a\n * best-effort attempt.\n *\n * &lt;ul&gt;\n * &lt;li&gt;Call {@link #addScript} to add a single SQL script location.\n * &lt;li&gt;Call {@link #addScripts} to add multiple SQL script locations.\n * &lt;li&gt;Consult the setter methods in this class for further configuration options.\n * &lt;li&gt;Call {@link #populate} or {@link #execute} to initialize or clean up the\n * database using the configured scripts.\n * &lt;/ul&gt;\n *\n * @author Keith Donald\n * @author Dave Syer\n * @author Juergen Hoeller\n * @author Chris Beams\n * @author Oliver Gierke\n * @author Sam Brannen\n * @author Chris Baldwin\n * @author Roman Vottner\n *\n * @since 3.0\n * @see DatabasePopulatorUtils\n * @see ScriptUtils\n */\npublic class OrderedResourceDatabasePopulator extends ResourceDatabasePopulator {\n\n  private static final Logger LOG = LoggerFactory.getLogger(MethodHandles.lookup().lookupClass());\n\n  protected String sqlScriptEncoding;\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with default settings.\n   */\n  public OrderedResourceDatabasePopulator() {\n    /* no-op */\n  }\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with default settings\n   * for the supplied scripts.\n   * \n   * @param scripts the scripts to execute to initialize or clean up the database\n   *                (never {@code null})\n   */\n  public OrderedResourceDatabasePopulator(Resource... scripts) {\n    this();\n    setScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Construct a new {@code OrderedResourceDatabasePopulator} with the supplied values.\n   *\n   * @param continueOnError flag to indicate that all failures in SQL should be logged but not cause\n   *                        a failure\n   * @param ignoreFailedDrops flag to indicate that a failed SQL {@code DROP} statement can be\n   *                          ignored\n   * @param sqlScriptEncoding the encoding for the supplied SQL scripts; may be {@code null} or\n   *                           &lt;em&gt;empty&lt;/em&gt; to indicate platform encoding\n   * @param scripts the scripts to execute to initialize or clean up the database (never {@code\n   *                null})\n   */\n  public OrderedResourceDatabasePopulator(boolean continueOnError, boolean ignoreFailedDrops,\n                                          String sqlScriptEncoding, Resource... scripts) {\n\n    super(continueOnError, ignoreFailedDrops, sqlScriptEncoding, scripts);\n  }\n\n  /**\n   * Add a script to execute to initialize or clean up the database.\n   *\n   * @param script the path to an SQL script (never {@code null})\n   */\n  @Override\n  public void addScript(Resource script) {\n    super.addScript(cleanResource(script)[0]);\n  }\n\n  /**\n   * Add multiple scripts to execute to initialize or clean up the database.\n   * \n   * @param scripts the scripts to execute (never {@code null})\n   */\n  @Override\n  public void addScripts(Resource... scripts) {\n    super.addScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Set the scripts to execute to initialize or clean up the database, replacing any previously \n   * added scripts.\n   * \n   * @param scripts the scripts to execute (never {@code null})\n   */\n  @Override\n  public void setScripts(Resource... scripts) {\n    super.setScripts(cleanResource(scripts));\n  }\n\n  /**\n   * Specify the encoding for the configured SQL scripts, if different from the platform encoding.\n   * \n   * @param sqlScriptEncoding the encoding used in scripts; may be {@code null} or empty to indicate\n   *                          platform encoding\n   * \n   * @see #addScript(Resource)\n   */\n  @Override\n  public void setSqlScriptEncoding(String sqlScriptEncoding) {\n    super.setSqlScriptEncoding(sqlScriptEncoding);\n    this.sqlScriptEncoding = StringUtils.hasText(sqlScriptEncoding) ? sqlScriptEncoding : null;\n  }\n\n  private Resource[] cleanResource(Resource... scripts) {\n    List&lt;Resource&gt; cleaned = new ArrayList&lt;&gt;();\n    for (Resource script : scripts) {\n      EncodedResource encodedScript = new EncodedResource(script, this.sqlScriptEncoding);\n\n      StringBuilder sb = new StringBuilder();\n      try (BufferedReader in = new BufferedReader(encodedScript.getReader())) {\n        String line;\n\n        // parse script\n        Map&lt;String, Table&gt; tables = new LinkedHashMap&lt;&gt;();\n        Table curTable = null;\n        while ((line = in.readLine()) != null) {\n          if (!line.startsWith(\"#\") &amp;&amp; !line.startsWith(\"/*\")) {\n            line = line.replaceAll(\"`\", \"\");\n            String lowerCaseLine = line.toLowerCase();\n\n            // parse table definitions\n            if (lowerCaseLine.startsWith(\"drop table\") || \"\".equals(line.trim())) {\n              if (curTable != null) {\n                curTable = null;\n              }\n              continue;\n            }\n\n            curTable = parseTable(line, tables, curTable);\n          }\n        }\n\n        // check the order of table definitions and reorder them to ensure referenced tables are\n        // defined before table specifying the foreign key\n        Map&lt;String, Table&gt; orderedTables = new LinkedHashMap&lt;&gt;();\n        List&lt;Table&gt; backlog = new ArrayList&lt;&gt;();\n        for (String tableName : tables.keySet()) {\n          // check for available foreign key definitions\n          List&lt;String&gt; referencedTables = tables.get(tableName).getReferencedTables();\n          // if no foreign keys are defined in the table we can add the table to the current set\n          if (referencedTables.isEmpty()) {\n            orderedTables.put(tableName, tables.get(tableName));\n            processBacklog(backlog, orderedTables);\n            continue;\n          }\n\n          // foreign keys are defined. If any of the referenced tables is not yet in the set move it\n          // to the backlog table and try it later\n          boolean dependenciesAvailable = true;\n          for (String dependency : referencedTables) {\n            if (!orderedTables.containsKey(dependency)) {\n              backlog.add(tables.get(tableName));\n              dependenciesAvailable = false;\n              break;\n            }\n          }\n\n          // if all referred tables are available in the set add the current table also to the\n          // ordered set\n          if (dependenciesAvailable) {\n            orderedTables.put(tableName, tables.get(tableName));\n            processBacklog(backlog, orderedTables);\n            continue;\n          }\n\n          // probe tables kept in the backlog again\n          processBacklog(backlog, orderedTables);\n        }\n\n        while (!backlog.isEmpty()) {\n          processBacklog(backlog, orderedTables);\n        }\n\n        ArrayList&lt;Table&gt; reverse = new ArrayList&lt;&gt;(orderedTables.values());\n        ListIterator&lt;Table&gt; reverseIter = reverse.listIterator(reverse.size());\n        sb.append(\"DROP TABLE IF EXISTS \");\n        int originalSize = sb.length();\n        while (reverseIter.hasPrevious()) {\n          if (sb.length() &gt; originalSize) {\n            sb.append(\", \");\n          }\n          sb.append(reverseIter.previous().getName());\n        }\n        sb.append(\";\\n\\n\");\n\n        for (Table table : orderedTables.values()) {\n          sb.append(table.getCreateStatement()).append(\"\\n\");\n        }\n\n      } catch (IOException ex) {\n        throw new UncategorizedScriptException(ex.getMessage(), ex);\n      }\n\n      if (LOG.isTraceEnabled()) {\n        LOG.trace(\"SQL script after cleaning: \\n{}\", sb.toString());\n      }\n      Resource cleanedResource = new ByteArrayResource(sb.toString().getBytes());\n      cleaned.add(cleanedResource);\n    }\n\n    return cleaned.toArray(new Resource[cleaned.size()]);\n  }\n\n  private Table parseTable(String line, Map&lt;String, Table&gt; tables, Table curTable) {\n    String lowerCaseLine = line.toLowerCase();\n    if (lowerCaseLine.startsWith(\"create table\")) {\n      String name = line.substring(\"create table \".length(), line.indexOf(\"(\")).trim();\n      curTable = new Table(name);\n      tables.put(name, curTable);\n    } else if (curTable != null) {\n      if (lowerCaseLine.contains(\"primary key\")) {\n        curTable.setPrimaryKey(line);\n      } else if (lowerCaseLine.contains(\"unique key\")) {\n        curTable.addUniqueKey(line);\n      } else if (lowerCaseLine.contains(\"foreign key\")) {\n        curTable.addForeignKey(line);\n      } else if (lowerCaseLine.contains(\" key \")) {\n        curTable.addIndex(line);\n      } else if (lowerCaseLine.contains(\" charset=\") || lowerCaseLine.contains(\"engine=\")) {\n        curTable.setMetaData(line);\n      } else {\n        curTable.addColumn(line);\n      }\n    }\n    return curTable;\n  }\n\n  private void processBacklog(List&lt;Table&gt; backlog, Map&lt;String, Table&gt; orderedTables) {\n    Iterator&lt;Table&gt; iter = backlog.iterator();\n    while (iter.hasNext()) {\n      Table table = iter.next();\n      boolean allDependenciesAvailable = true;\n      for (String dependency : table.getReferencedTables()) {\n        if (!orderedTables.containsKey(dependency)) {\n          allDependenciesAvailable = false;\n        }\n\n        if (allDependenciesAvailable) {\n          orderedTables.put(table.getName(), table);\n          iter.remove();\n        }\n      }\n    }\n  }\n\n  private class Table {\n\n    private final String name;\n    private List&lt;String&gt; columns = new ArrayList&lt;&gt;();\n    private String primaryKey;\n    private List&lt;String&gt; uniqueKeys = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; indices = new ArrayList&lt;&gt;();\n    private List&lt;String&gt; foreignKeys = new ArrayList&lt;&gt;();\n    private String metaData;\n\n    public Table(String name) {\n      this.name = name;\n    }\n\n    String getName() {\n      return this.name;\n    }\n\n    void addColumn(String column) {\n      this.columns.add(column);\n    }\n\n    void setPrimaryKey(String primaryKey) {\n      this.primaryKey = primaryKey;\n    }\n\n    void addUniqueKey(String uniqueKey) {\n      this.uniqueKeys.add(uniqueKey);\n    }\n\n    void addIndex(String index) {\n      this.indices.add(index);\n    }\n\n    void addForeignKey(String foreignKey) {\n      this.foreignKeys.add(foreignKey);\n    }\n\n    List&lt;String&gt; getReferencedTables() {\n      List&lt;String&gt; referencedTables = new ArrayList&lt;&gt;();\n      for (String foreignKey : foreignKeys) {\n        int start = foreignKey.toLowerCase().indexOf(\"references \") + \"references \".length();\n        String table = foreignKey.substring(start, foreignKey.indexOf(\" \", start));\n        referencedTables.add(table);\n      }\n      return referencedTables;\n    }\n\n    void setMetaData(String metaData) {\n      this.metaData = metaData;\n    }\n\n    String getCreateStatement() {\n      StringBuilder sb = new StringBuilder();\n      sb.append(\"CREATE TABLE \").append(this.name).append(\" (\");\n      for (String column : this.columns) {\n        sb.append(\"\\n\");\n        sb.append(\"  \").append(column);\n      }\n      if (null != primaryKey) {\n        sb.append(\"\\n\");\n        sb.append(\"  \").append(this.primaryKey);\n      }\n      if (!uniqueKeys.isEmpty()) {\n        for (String uniqueKey : uniqueKeys) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(uniqueKey);\n        }\n      }\n      if (!indices.isEmpty()) {\n        for (String index : indices) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(index);\n        }\n      }\n      if (!foreignKeys.isEmpty()) {\n        for (String foreignKey : foreignKeys) {\n          sb.append(\"\\n\");\n          sb.append(\"  \").append(foreignKey);\n        }\n      }\n      sb.append(\"\\n\");\n      if (metaData == null || !metaData.contains(\")\")) {\n        sb.append(\") \");\n      }\n      if (metaData != null) {\n        sb.append(metaData);\n      }\n      sb.append(\"\\n\");\n\n      return sb.toString();\n    }\n  }\n}\n</code></pre>\n\n<p>This populator will first clean the given scripts from any unwanted characters, comments or processing instructions and then build up a virtual table structure in order to sort tables that are target of a foreign reference before the ones declaring the foreign reference. Once the table definitions got virtualized, the populator will recreate the script by first adding a <code>DROP TABLE</code> statement for each table in reverese order of the virtual model and afterwards adding the <code>CREATE TABLE</code> statements in the calculated order.</p>\n\n<p>Note that this version does not yet support other SQL commands (like <code>INSERT</code>, ...) contained in the script. If this is needed feel free to customize this code to your liking.</p>\n\n<p>In order to make use of reordered SQL scripts simply replace <code>ResourceDatabasePopulator</code> with <code>OrderedResourceDatabasePopulator</code></p>\n\n<pre><code>@Override\npublic synchronized void beforeTestClass(TestContext testContext) {\n    ...\n    // import the table definitions from a previously dumped file\n    ResourceDatabasePopulator populator = new OrderedResourceDatabasePopulator();\n    populator.addScript(new ClassPathResource(\"some-table-definitions.sql\"));\n    populator.execute(dataSource);\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238051,"reputation":344,"user_id":506678,"display_name":"ragnaroh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679138423,"creation_date":1679138423,"answer_id":75775522,"question_id":37833643,"body_markdown":"A simple, albeit slightly hacky, solution could be to override the block comment start delimiter to something that will never occur in the script, e.g:\r\n\r\n    ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\r\n    populator.setBlockCommentStartDelimiter(&quot;EXECUTE_COMMENTS_PLZ&quot;);\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>A simple, albeit slightly hacky, solution could be to override the block comment start delimiter to something that will never occur in the script, e.g:</p>\n<pre><code>ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\npopulator.setBlockCommentStartDelimiter(&quot;EXECUTE_COMMENTS_PLZ&quot;);\n</code></pre>\n"}],"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":919,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46853393,"answer_count":2,"score":1,"last_activity_date":1679138423,"creation_date":1465988750,"question_id":37833643,"body_markdown":"We hava a Spring test execution listener which imports dumped MySQL table definitions through Spring&#39;s `ResourceDatabasePopulator`:\r\n\r\n    public class DBSetupExecutionListener extends AbstractTestExecutionListener {\r\n        ...\r\n    \r\n        @Override\r\n        public synchronized void beforeTestClass(TestContext testContext) {\r\n            ...\r\n            // import the table definitions from a previously dumped file\r\n            ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\r\n            populator.addScript(new ClassPathResource(&quot;some-table-definitions.sql&quot;));\r\n            populator.execute(dataSource);\r\n            ...\r\n        }\r\n    \r\n        ...\r\n    }\r\n\r\nThe imported MySQL dump file does look like this (simplified):\r\n\r\n    /*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\r\n    /*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\r\n    /*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\r\n    /*!40101 SET NAMES utf8 */;\r\n    /*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\r\n    /*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; */;\r\n    /*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\r\n    \r\n    DROP TABLE IF EXISTS `someTable`;\r\n    \r\n    CREATE TABLE `someTable`(\r\n      `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n      `other_table_id` bigint(20) NOT NULL,\r\n       ...\r\n       PRIMARY KEY (`id`)\r\n       KEY `FK_OTHERTABLE_ID`(`other_table_id`),\r\n       CONSTRAINT `FK_OTHERTABLE_ID` FOREIGN KEY (`other_table_id`) REFERENCES `otherTable`(`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n    \r\n    DROP TABLE IF EXISTS `otherTable`;\r\n    \r\n    CREATE TABLE `otherTable`(\r\n      `id` bigint(20) NOT NULL AUTO_INCREMENT,\r\n      ...\r\n      PRIMARY KEY (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8;\r\n    \r\n    ...\r\n    \r\n    /*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\r\n    /*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\r\n    /*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\r\n    /*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\r\n    /*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\r\n    /*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\r\n\r\nWhile importing the dump via [command line](https://stackoverflow.com/questions/17666249/how-to-import-an-sql-file-using-the-command-line-in-mysql) works without any issues, ResourceDatabasePopulator is ignoring the preprocessor instructions and therefore failing on creating the referencing table first before the actual referenced table is created. Changing the order of the table definitions does solve the issue but is a bit tedious for multiple tables though - especially when you dump the current table definition to a file.\r\n\r\nAs importing dumped SQL table definitions is a quite common task IMO I guess I&#39;m doing something wrong here. Is there a way to tell `ResourceDatabasePopulator` to respect the preprocessing instructions and therefore to prevent foreign key checks while executing the script?\r\n","title":"Import a MySQL table-definition dump using Spring&#39;s ResourceDatabasePopulator","body":"<p>We hava a Spring test execution listener which imports dumped MySQL table definitions through Spring's <code>ResourceDatabasePopulator</code>:</p>\n\n<pre><code>public class DBSetupExecutionListener extends AbstractTestExecutionListener {\n    ...\n\n    @Override\n    public synchronized void beforeTestClass(TestContext testContext) {\n        ...\n        // import the table definitions from a previously dumped file\n        ResourceDatabasePopulator populator = new ResourceDatabasePopulator();\n        populator.addScript(new ClassPathResource(\"some-table-definitions.sql\"));\n        populator.execute(dataSource);\n        ...\n    }\n\n    ...\n}\n</code></pre>\n\n<p>The imported MySQL dump file does look like this (simplified):</p>\n\n<pre><code>/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;\n/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;\n/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;\n/*!40101 SET NAMES utf8 */;\n/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;\n/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;\n/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;\n\nDROP TABLE IF EXISTS `someTable`;\n\nCREATE TABLE `someTable`(\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  `other_table_id` bigint(20) NOT NULL,\n   ...\n   PRIMARY KEY (`id`)\n   KEY `FK_OTHERTABLE_ID`(`other_table_id`),\n   CONSTRAINT `FK_OTHERTABLE_ID` FOREIGN KEY (`other_table_id`) REFERENCES `otherTable`(`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nDROP TABLE IF EXISTS `otherTable`;\n\nCREATE TABLE `otherTable`(\n  `id` bigint(20) NOT NULL AUTO_INCREMENT,\n  ...\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n...\n\n/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;\n/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;\n/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;\n/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;\n/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;\n/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;\n</code></pre>\n\n<p>While importing the dump via <a href=\"https://stackoverflow.com/questions/17666249/how-to-import-an-sql-file-using-the-command-line-in-mysql\">command line</a> works without any issues, ResourceDatabasePopulator is ignoring the preprocessor instructions and therefore failing on creating the referencing table first before the actual referenced table is created. Changing the order of the table definitions does solve the issue but is a bit tedious for multiple tables though - especially when you dump the current table definition to a file.</p>\n\n<p>As importing dumped SQL table definitions is a quite common task IMO I guess I'm doing something wrong here. Is there a way to tell <code>ResourceDatabasePopulator</code> to respect the preprocessing instructions and therefore to prevent foreign key checks while executing the script?</p>\n"},{"tags":["java"],"owner":{"account_id":23261226,"reputation":1,"user_id":17347452,"display_name":"Aaranyak Santra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679138267,"answer_count":0,"score":0,"last_activity_date":1679138262,"creation_date":1679133843,"question_id":75775137,"body_markdown":"I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\r\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\r\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?\r\n\r\nI tried to remove the line Package DSA and then I was getting the output.","title":"Error: Could not find or load main class Tut1 Caused by: java.lang.NoClassDefFoundError: DSA/Tut1/Tut1 (wrong name: Tut1)","body":"<p>I have made a folder and inside that a java file. When I am trying to run the java program then I am getting this error.\nThe name of my folder is DSA and java file is Tut1.I have added the package DSA.\nAnother thing is that when I am removing that line package DSA then vscode is showing some error with red line but I am getting the ouput. How do I rectify it?</p>\n<p>I tried to remove the line Package DSA and then I was getting the output.</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679137995,"creation_date":1678652742,"answer_id":75716180,"question_id":75712176,"body_markdown":"I was self-resolved\r\n\r\nI add this code to `SuccessHandler` before `response.sendRedirect(redirectPath);`\r\n\r\n    SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\r\n    SecurityContext context = securityContextHolderStrategy.createEmptyContext();\r\n    context.setAuthentication(authentication); \r\n    securityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\r\n    securityContextRepository.saveContext(context, request, response); \r\n\r\nAnd add this code:\r\n\r\n    private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\r\n\r\n\r\nThe cause of this problem was not storing &quot;Authentication&quot;\r\n\r\nReference: https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I was self-resolved</p>\n<p>I add this code to <code>SuccessHandler</code> before <code>response.sendRedirect(redirectPath);</code></p>\n<pre><code>SecurityContextRepository securityContextRepository = new HttpSessionSecurityContextRepository();\nSecurityContext context = securityContextHolderStrategy.createEmptyContext();\ncontext.setAuthentication(authentication); \nsecurityContextHolderStrategy.setContext(SecurityContextHolder.getContext());\nsecurityContextRepository.saveContext(context, request, response); \n</code></pre>\n<p>And add this code:</p>\n<pre><code>private final SecurityContextHolderStrategy securityContextHolderStrategy = SecurityContextHolder.getContextHolderStrategy();\n</code></pre>\n<p>The cause of this problem was not storing &quot;Authentication&quot;</p>\n<p>Reference: <a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/session-management.html#store-authentication-manually</a></p>\n"}],"owner":{"account_id":27996859,"reputation":1,"user_id":21381895,"display_name":"kassyiKuni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679137995,"creation_date":1678613209,"question_id":75712176,"body_markdown":"I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\r\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.\r\n\r\nThen It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.\r\n\r\nBut,AuthenticationPrincipal on Controller is null.\r\nI want teach me the cause and how to fix it.\r\n\r\nUse:SpringBoot3.0.4,SpringSecurity6.0.2\r\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;\r\n\r\nSecurityConfig\r\n```\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig  {\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;SuccessHandler&quot;)\r\n    AuthenticationSuccessHandler successHandler;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\r\n    private UserDetailsService userDetailsService;\r\n\r\n    //Bean by PasswordEncoder\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\r\n    private AuthenticationProvider authenticationProvider;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\t\thttp.headers(head -&gt; head.frameOptions().disable());\r\n        http\r\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \r\n                .anyRequest().authenticated()); \r\n        http\r\n            .formLogin()\r\n//                .loginProcessingUrl(&quot;/login&quot;) \r\n                .loginPage(&quot;/login&quot;); \r\n//                .failureUrl(&quot;/login?error&quot;) \r\n//                .usernameParameter(&quot;userId&quot;) \r\n//                .passwordParameter(&quot;password&quot;) \r\n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \r\n//                .successHandler(successHandler);\r\n\r\n        // Login-filters\r\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\r\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\r\n        filter.setAuthenticationManager(authenticationManagerBean());\r\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\r\n        filter.setAuthenticationSuccessHandler(successHandler);\r\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\r\n\r\n        // Logout\r\n        http\r\n            .logout()\r\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/login&quot;);\r\n\r\n        return http.build();\r\n    }\r\n\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception {\r\n\t\tAuthenticationManager auth = new ProviderManager(authenticationProvider);\r\n\t\tSystem.out.println(&quot;AuthenticationManager&quot;);\r\n\t\tSystem.out.println(auth);\r\n\t\t\r\n\t\treturn new ProviderManager(authenticationProvider);\r\n\t}\r\n}\r\n```\r\n\r\nCustomAuthenticationFilter \r\n```\r\npublic class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\r\n\r\n    @Override\r\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\r\n\r\n        // ユーザー生成\r\n        AppUserDetails user = new AppUserDetails();\r\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\r\n        user.setUserId(request.getParameter(&quot;userId&quot;));\r\n\r\n        // パスワード取得\r\n        String password = obtainPassword(request);\r\n\r\n        // トークンの作成\r\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\r\n\r\n        // リクエストの詳細をセットしておく\r\n        setDetails(request, authRequest);\r\n        \r\n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\r\n        System.out.println(&quot;aaaaaaaauth&quot;);\r\n        System.out.println(authz);\r\n        // 認証の実施\r\n        return authz;\r\n    }\r\n}\r\n```\r\n\r\nCustomAuthenticationProvider \r\n```\r\n@Component(&quot;CustomAuthenticationProvider&quot;)\r\n@Slf4j\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Autowired\r\n    MessageSource messageSource;\r\n\r\n    /** メッセージのキー(認証失敗) */\r\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\r\n\r\n    /*\r\n     * 認証処理を行うメソッド.\r\n     */\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n\r\n        // ユーザー取得(リクエストから)\r\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\r\n\r\n        // パスワード取得(リクエストから)\r\n        String password = (String)authentication.getCredentials();\r\n\r\n        // ユーザー取得(DBから)\r\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\r\n\r\n        // パスワードチェック\r\n        checkPassword(password, user.getPassword());\r\n\r\n        // 各種チェック\r\n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\r\n        checker.check(user);\r\n\r\n        // トークンを生成\r\n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\r\n    }\r\n\r\n    /*\r\n     * 認証処理を実施するクラスの制限.\r\n     */\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\r\n    }\r\n\r\n    /**\r\n     * パスワードチェック.\r\n     */\r\n    private void checkPassword(String rawPassword, String encodedPassword) {\r\n\r\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\r\n\r\n        // パスワードが一致しているかどうか\r\n        if(encoder.matches(rawPassword, encodedPassword) == false) {\r\n            // エラーメッセージ取得\r\n            String message = messageSource.getMessage(BAD_CREDENTIALS,\r\n                    null,\r\n                    Locale.getDefault());\r\n            // 例外を投げる\r\n            throw new BadCredentialsException(message);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMethodSecurityConfig \r\n```\r\n@Configuration\r\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\r\npublic class MethodSecurityConfig {\r\n\t\r\n\t\r\n}\r\n```\r\n\r\nSuccessHandler \r\n```\r\n@Component(&quot;SuccessHandler&quot;)\r\n@Slf4j\r\npublic class SuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    @Autowired\r\n    UserDetailsServiceImpl service;\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException, ServletException {\r\n\r\n        log.info(&quot;ログイン成功イベント開始&quot;);\r\n\r\n        // ユーザー情報の取得\r\n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\r\n                .getContext()\r\n                .getAuthentication()\r\n                .getPrincipal();\r\n        log.info(user.toString());\r\n\r\n        String redirectPath = request.getContextPath();\r\n\r\n        // パスワード更新日付のチェック\r\n        if(user.getPassUpdateDate().after(new Date())) {\r\n            // パスワード期限が切れてない\r\n            log.info(&quot;遷移先：ホーム&quot;);\r\n            redirectPath += &quot;/home&quot;;\r\n\r\n        } else {\r\n            // パスワード期限切れ\r\n            log.info(&quot;遷移先：パスワード変更&quot;);\r\n            redirectPath += &quot;/password/change&quot;;\r\n\r\n        }\r\n\r\n        log.info(&quot;ログイン成功イベント終了&quot;);\r\n        response.sendRedirect(redirectPath);\r\n    }\r\n}\r\n\r\n```\r\n\r\nhomeController\r\n\r\n\r\n    public class HomeController {\r\n    @GetMapping(&quot;/home&quot;)\r\n    @PreAuthorize(&quot;hasAuthority(&#39;ROLE_ADMIN&#39;) or hasAuthority(&#39;ROLE_GENERAL&#39;)&quot;) \r\n    public String getHome(Model model,\r\n            @AuthenticationPrincipal AppUserDetails user) {\r\n\r\n        log.info(&quot;HomeController Start&quot;);\r\n\r\n        \r\n        log.info(user.toString());\r\n\r\n        log.info(&quot;HomeController End&quot;);\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n\r\nI wish user-data is passed to AuthenticationPrincipal in Controller","title":"When add CustomFilter then null was passed to AuthenticationPrincipal in Controller","body":"<p>I added &quot;TenantID&quot; to login-page that authenticate login-user with username and password,\nAnd added &quot;CustomAuthenticationFilter&quot;,&quot;CustomAuthenticationProvider&quot;,&quot;MethodSecurityConfig&quot;,&quot;SuccessHandler&quot; and append that to &quot;SecurityConfig&quot;.</p>\n<p>Then It can get  user-data by &quot;SecurityContextHolder.getContext().getAuthentication().getPrincipal()&quot; on &quot;SuccessHandler&quot; that implemented &quot;AuthenticationSuccessHandler&quot;.</p>\n<p>But,AuthenticationPrincipal on Controller is null.\nI want teach me the cause and how to fix it.</p>\n<p>Use:SpringBoot3.0.4,SpringSecurity6.0.2\nNo problems with  &quot;SpringSecurity5.2.2&quot;  that used &quot;WebSecurityConfigurerAdapter&quot;</p>\n<p>SecurityConfig</p>\n<pre><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig  {\n\n    @Autowired\n    @Qualifier(&quot;SuccessHandler&quot;)\n    AuthenticationSuccessHandler successHandler;\n\n    @Autowired\n    @Qualifier(&quot;UserDetailsServiceImpl&quot;)\n    private UserDetailsService userDetailsService;\n\n    //Bean by PasswordEncoder\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    @Qualifier(&quot;CustomAuthenticationProvider&quot;)\n    private AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(csrf -&gt; csrf.disable());\n        http.headers(head -&gt; head.frameOptions().disable());\n        http\n            .authorizeHttpRequests(authz -&gt; authz.requestMatchers(&quot;/login&quot;).permitAll() \n                .anyRequest().authenticated()); \n        http\n            .formLogin()\n//                .loginProcessingUrl(&quot;/login&quot;) \n                .loginPage(&quot;/login&quot;); \n//                .failureUrl(&quot;/login?error&quot;) \n//                .usernameParameter(&quot;userId&quot;) \n//                .passwordParameter(&quot;password&quot;) \n//                //.defaultSuccessUrl(&quot;/home&quot;, true); \n//                .successHandler(successHandler);\n\n        // Login-filters\n        CustomAuthenticationFilter filter = new CustomAuthenticationFilter();\n        filter.setRequiresAuthenticationRequestMatcher(new AntPathRequestMatcher(&quot;/login&quot;, &quot;POST&quot;));\n        filter.setAuthenticationManager(authenticationManagerBean());\n        filter.setAuthenticationFailureHandler(new SimpleUrlAuthenticationFailureHandler(&quot;/login?error&quot;));\n        filter.setAuthenticationSuccessHandler(successHandler);\n        http.addFilterBefore(filter, CustomAuthenticationFilter.class);\n\n        // Logout\n        http\n            .logout()\n                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/login&quot;);\n\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        AuthenticationManager auth = new ProviderManager(authenticationProvider);\n        System.out.println(&quot;AuthenticationManager&quot;);\n        System.out.println(auth);\n        \n        return new ProviderManager(authenticationProvider);\n    }\n}\n</code></pre>\n<p>CustomAuthenticationFilter</p>\n<pre><code>public class CustomAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request, HttpServletResponse response) {\n\n        // ユーザー生成\n        AppUserDetails user = new AppUserDetails();\n        user.setTenantId(request.getParameter(&quot;tenantId&quot;));\n        user.setUserId(request.getParameter(&quot;userId&quot;));\n\n        // パスワード取得\n        String password = obtainPassword(request);\n\n        // トークンの作成\n        UsernamePasswordAuthenticationToken authRequest = new UsernamePasswordAuthenticationToken(user, password);\n\n        // リクエストの詳細をセットしておく\n        setDetails(request, authRequest);\n        \n        Authentication authz = this.getAuthenticationManager().authenticate(authRequest);\n        System.out.println(&quot;aaaaaaaauth&quot;);\n        System.out.println(authz);\n        // 認証の実施\n        return authz;\n    }\n}\n</code></pre>\n<p>CustomAuthenticationProvider</p>\n<pre><code>@Component(&quot;CustomAuthenticationProvider&quot;)\n@Slf4j\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Autowired\n    MessageSource messageSource;\n\n    /** メッセージのキー(認証失敗) */\n    private static final String BAD_CREDENTIALS = &quot;AbstractUserDetailsAuthenticationProvider.badCredentials&quot;;\n\n    /*\n     * 認証処理を行うメソッド.\n     */\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        // ユーザー取得(リクエストから)\n        AppUserDetails user = (AppUserDetails)authentication.getPrincipal();\n\n        // パスワード取得(リクエストから)\n        String password = (String)authentication.getCredentials();\n\n        // ユーザー取得(DBから)\n        user = (AppUserDetails) service.loadUserByUsernameAndTenantId(user.getUserId(), user.getTenantId());\n\n        // パスワードチェック\n        checkPassword(password, user.getPassword());\n\n        // 各種チェック\n        UserDetailsChecker checker = new AccountStatusUserDetailsChecker();\n        checker.check(user);\n\n        // トークンを生成\n        return new UsernamePasswordAuthenticationToken(user, password, user.getAuthorities());\n    }\n\n    /*\n     * 認証処理を実施するクラスの制限.\n     */\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return UsernamePasswordAuthenticationToken.class.isAssignableFrom(authentication);\n    }\n\n    /**\n     * パスワードチェック.\n     */\n    private void checkPassword(String rawPassword, String encodedPassword) {\n\n        PasswordEncoder encoder = new BCryptPasswordEncoder();\n\n        // パスワードが一致しているかどうか\n        if(encoder.matches(rawPassword, encodedPassword) == false) {\n            // エラーメッセージ取得\n            String message = messageSource.getMessage(BAD_CREDENTIALS,\n                    null,\n                    Locale.getDefault());\n            // 例外を投げる\n            throw new BadCredentialsException(message);\n        }\n    }\n}\n</code></pre>\n<p>MethodSecurityConfig</p>\n<pre><code>@Configuration\n@EnableMethodSecurity(prePostEnabled = true,securedEnabled = true,jsr250Enabled = true)\npublic class MethodSecurityConfig {\n    \n    \n}\n</code></pre>\n<p>SuccessHandler</p>\n<pre><code>@Component(&quot;SuccessHandler&quot;)\n@Slf4j\npublic class SuccessHandler implements AuthenticationSuccessHandler {\n\n    @Autowired\n    UserDetailsServiceImpl service;\n\n    @Override\n    public void onAuthenticationSuccess(HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException, ServletException {\n\n        log.info(&quot;ログイン成功イベント開始&quot;);\n\n        // ユーザー情報の取得\n        AppUserDetails user = (AppUserDetails) SecurityContextHolder\n                .getContext()\n                .getAuthentication()\n                .getPrincipal();\n        log.info(user.toString());\n\n        String redirectPath = request.getContextPath();\n\n        // パスワード更新日付のチェック\n        if(user.getPassUpdateDate().after(new Date())) {\n            // パスワード期限が切れてない\n            log.info(&quot;遷移先：ホーム&quot;);\n            redirectPath += &quot;/home&quot;;\n\n        } else {\n            // パスワード期限切れ\n            log.info(&quot;遷移先：パスワード変更&quot;);\n            redirectPath += &quot;/password/change&quot;;\n\n        }\n\n        log.info(&quot;ログイン成功イベント終了&quot;);\n        response.sendRedirect(redirectPath);\n    }\n}\n\n</code></pre>\n<p>homeController</p>\n<pre><code>public class HomeController {\n@GetMapping(&quot;/home&quot;)\n@PreAuthorize(&quot;hasAuthority('ROLE_ADMIN') or hasAuthority('ROLE_GENERAL')&quot;) \npublic String getHome(Model model,\n        @AuthenticationPrincipal AppUserDetails user) {\n\n    log.info(&quot;HomeController Start&quot;);\n\n    \n    log.info(user.toString());\n\n    log.info(&quot;HomeController End&quot;);\n\n    return &quot;home&quot;;\n}\n</code></pre>\n<p>I wish user-data is passed to AuthenticationPrincipal in Controller</p>\n"},{"tags":["java","linux","performance","mmap"],"comments":[{"owner":{"account_id":4892666,"reputation":116364,"user_id":3943312,"display_name":"Sam Varshavchik"},"score":1,"creation_date":1679139562,"post_id":75775446,"comment_id":133670017,"body_markdown":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;.","body":"Given that it&#39;s unlikely that your computer has 500gb of RAM, the entire file cannot be mapped in its entirety, and must be paged in/out, on demand. It is completely expected that, at some point, things are going to grind to a halt, if the access pattern cannot be sufficiently optimized. In your case, &quot;at some point&quot; probably means &quot;anything more than one pair of processes&quot;."}],"owner":{"account_id":7310073,"reputation":45,"user_id":5569631,"display_name":"trafalgar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679137646,"creation_date":1679137646,"question_id":75775446,"body_markdown":"I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.\r\n\r\nThe problem?\r\n\r\nIf I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.\r\n\r\nNow if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.\r\n\r\nThere is plenty of memory free on the box and there is plenty of CPU free as well.\r\n\r\nI suspect it&#39;s the heavy use of mmap but I don&#39;t know what to look for to prove this - any ideas?","title":"Host slows down with heavy use of mmap?","body":"<p>I have some single threaded java nodes that which process some batch data. These nodes make heavy use of mmap specifically they write to an mmap file that is around 500gb in size which another process on the box then reads from and sends the data out over the network.</p>\n<p>The problem?</p>\n<p>If I run 1 pair of nodes that read/write to the mmap file then the batch is processed within an acceptable time.</p>\n<p>Now if I run several of these read/write pair nodes on the same box...it all grinds to a halt and it takes x4 as long to process the batch data.</p>\n<p>There is plenty of memory free on the box and there is plenty of CPU free as well.</p>\n<p>I suspect it's the heavy use of mmap but I don't know what to look for to prove this - any ideas?</p>\n"},{"tags":["java","spring-boot-actuator","spring-boot-admin"],"comments":[{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":0,"creation_date":1687793636,"post_id":75774378,"comment_id":134982959,"body_markdown":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID.","body":"How did you register the services with Spring Boot Admin? It shouldn&#39;t be possible to register two different services and get the same instance ID."},{"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"score":0,"creation_date":1688455233,"post_id":75774378,"comment_id":135072663,"body_markdown":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id","body":"suppose we have a service which we have deployed on 2 different servers but to access them we use a service url, for example, name of my service is abc and I am accessing it via example.com/abc and it is decided automatically that on which server or pod the request will go according to load balancer, and in our case we are not allowed to use ip-address to access that server via spring-boot-admin-server so we are using example.com/abc/health to register and thus we are getting same instance id"},{"owner":{"account_id":4682435,"reputation":7616,"user_id":3790806,"accept_rate":86,"display_name":"hzpz"},"score":1,"creation_date":1688718981,"post_id":75774378,"comment_id":135114335,"body_markdown":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You _must_ have a distinct health URL for every service if you want to use SBA.","body":"It makes no sense to register two different services with the same health URL, because SBA will not know which of the two services it reaches when checking that health URL. You <i>must</i> have a distinct health URL for every service if you want to use SBA."}],"owner":{"account_id":28048371,"reputation":11,"user_id":21424705,"display_name":"Rohit Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679137588,"creation_date":1679123545,"question_id":75774378,"body_markdown":"I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\r\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.\r\n\r\nI have already tried to change some metadata but no luck so far.\r\n\r\nCan we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.","title":"Instance id in spring boot admin is same for 2 services, can someone suggest me how to create a unique one","body":"<p>I have 2 replica of a single spring boot services with same service url and context path and they are running on 2 different pods and i have registered both the services to spring boot admin ui but there instance id is same can someone suggest me how to create a unique one,\ndue to this I am not able to change logs as it is causing issues with communication between the Spring Boot Admin Server and the instances.</p>\n<p>I have already tried to change some metadata but no luck so far.</p>\n<p>Can we set a custom instance ID that is unique for each instance of my service in spring boot admin server itself.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9428,"page":564,"page_size":100}
